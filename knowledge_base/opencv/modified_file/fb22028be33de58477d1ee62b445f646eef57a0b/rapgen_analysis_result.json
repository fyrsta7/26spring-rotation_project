{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/fb22028be33de58477d1ee62b445f646eef57a0b",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/fb22028be33de58477d1ee62b445f646eef57a0b/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/fb22028be33de58477d1ee62b445f646eef57a0b/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/fb22028be33de58477d1ee62b445f646eef57a0b/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 427,
          "old_api": "total",
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": "D.total()",
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    CV_Assert(K.size() == Size(3, 3) && (D.empty() || D.total() == 4));",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "Size",
          "new_api": "CV_Assert",
          "old_text": "Size(4, 3)",
          "new_text": "CV_Assert( m1type == CV_16SC2 || m1type == CV_32F || m1type <=0 )",
          "old_line_content": "    CV_Assert(P.empty() || P.size() == Size(3, 3) || P.size() == Size(4, 3));",
          "new_line_content": "    CV_Assert( m1type == CV_16SC2 || m1type == CV_32F || m1type <=0 );",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "getMat",
          "new_api": "depth",
          "old_text": "K.getMat()",
          "new_text": "R.depth()",
          "old_line_content": "        Matx33f camMat = K.getMat();",
          "new_line_content": "    CV_Assert((P.empty() || P.depth() == CV_32F || P.depth() == CV_64F) && (R.empty() || R.depth() == CV_32F || R.depth() == CV_64F));",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "camMat",
          "new_api": "total",
          "old_text": "camMat(1, 1)",
          "new_text": "D.total()",
          "old_line_content": "        f = Vec2f(camMat(0, 0), camMat(1, 1));",
          "new_line_content": "    CV_Assert(K.size() == Size(3, 3) && (D.empty() || D.total() == 4));",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "camMat",
          "new_api": "channels",
          "old_text": "camMat(1, 2)",
          "new_text": "R.channels()",
          "old_line_content": "        c = Vec2f(camMat(0, 2), camMat(1, 2));",
          "new_line_content": "    CV_Assert(R.empty() || R.size() == Size(3, 3) || R.total() * R.channels() == 3);",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "getMat",
          "new_api": "depth",
          "old_text": "K.getMat()",
          "new_text": "K.depth()",
          "old_line_content": "        Matx33d camMat = K.getMat();",
          "new_line_content": "    if (K.depth() == CV_32F)",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "camMat",
          "new_api": "getMat",
          "old_text": "camMat(1, 2)",
          "new_text": "K.getMat()",
          "old_line_content": "        c = Vec2d(camMat(0, 2), camMat(1, 2));",
          "new_line_content": "        Matx33f camMat = K.getMat();",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "cv::Matx33d::eye()",
          "new_api": "camMat",
          "old_text": "cv::Matx33d::eye()",
          "new_text": "camMat(1, 1)",
          "old_line_content": "    cv::Matx33d RR  = cv::Matx33d::eye();",
          "new_line_content": "        f = Vec2d(camMat(0, 0), camMat(1, 1));",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "channels",
          "new_api": "camMat",
          "old_text": "R.channels()",
          "new_text": "camMat(1, 2)",
          "old_line_content": "    if (!R.empty() && R.total() * R.channels() == 3)",
          "new_line_content": "        c = Vec2d(camMat(0, 2), camMat(1, 2));",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "getMat",
          "new_api": "Vec4d::all(0)",
          "old_text": "R.getMat().convertTo(rvec, CV_64F)",
          "new_text": "Vec4d::all(0)",
          "old_line_content": "        R.getMat().convertTo(rvec, CV_64F);",
          "new_line_content": "    Vec4d k = Vec4d::all(0);",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "rotation",
          "new_api": "empty",
          "old_text": "Affine3d(rvec).rotation()",
          "new_text": "D.empty()",
          "old_line_content": "        RR = Affine3d(rvec).rotation();",
          "new_line_content": "    if (!D.empty())",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "getMat",
          "new_api": "cv::Matx33d::eye()",
          "old_text": "R.getMat().convertTo(RR, CV_64F)",
          "new_text": "cv::Matx33d::eye()",
          "old_line_content": "        R.getMat().convertTo(RR, CV_64F);",
          "new_line_content": "    cv::Matx33d RR  = cv::Matx33d::eye();",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "getMat",
          "new_api": "cv::Matx33d::eye()",
          "old_text": "map1.getMat().ptr<float>(i)",
          "new_text": "cv::Matx33d::eye()",
          "old_line_content": "        float* m1f = map1.getMat().ptr<float>(i);",
          "new_line_content": "    cv::Matx33d PP = cv::Matx33d::eye();",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "getMat",
          "new_api": "empty",
          "old_text": "map2.getMat().ptr<float>(i)",
          "new_text": "P.empty()",
          "old_line_content": "        float* m2f = map2.getMat().ptr<float>(i);",
          "new_line_content": "    if (!P.empty())",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "std::numeric_limits<double>::infinity()",
          "new_api": "iR",
          "old_text": "std::numeric_limits<double>::infinity()",
          "new_text": "iR(1, 2)",
          "old_line_content": "                u = (_x > 0) ? -std::numeric_limits<double>::infinity() : std::numeric_limits<double>::infinity();",
          "new_line_content": "               _y = i*iR(1, 1) + iR(1, 2),",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": "std::numeric_limits<double>::infinity()",
          "new_api": "iR",
          "old_text": "std::numeric_limits<double>::infinity()",
          "new_text": "iR(2, 2)",
          "old_line_content": "                v = (_y > 0) ? -std::numeric_limits<double>::infinity() : std::numeric_limits<double>::infinity();",
          "new_line_content": "               _w = i*iR(2, 1) + iR(2, 2);",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "atan",
          "new_api": "std::numeric_limits<double>::infinity()",
          "old_text": "atan(r)",
          "new_text": "std::numeric_limits<double>::infinity()",
          "old_line_content": "                double theta = atan(r);",
          "new_line_content": "                u = (_x > 0) ? -std::numeric_limits<double>::infinity() : std::numeric_limits<double>::infinity();",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": "iR",
          "new_api": "ushort)((iv & (cv::INTER_TAB_SIZE-1))*cv::INTER_TAB_SIZE + (iu & (cv::INTER_TAB_SIZE-1)))",
          "old_text": "iR(0, 0)",
          "new_text": "ushort)((iv & (cv::INTER_TAB_SIZE-1))*cv::INTER_TAB_SIZE + (iu & (cv::INTER_TAB_SIZE-1)))",
          "old_line_content": "            _x += iR(0, 0);",
          "new_line_content": "                m2[j] = (ushort)((iv & (cv::INTER_TAB_SIZE-1))*cv::INTER_TAB_SIZE + (iu & (cv::INTER_TAB_SIZE-1)));",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "Vec2d",
          "new_api": "depth",
          "old_text": "Vec2d(w/2, 0)",
          "new_text": "K.depth()",
          "old_line_content": "    pptr[0] = Vec2d(w/2, 0);",
          "new_line_content": "    CV_Assert( K.size() == Size(3, 3)       && (K.depth() == CV_32F || K.depth() == CV_64F));",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "Vec2d",
          "new_api": "depth",
          "old_text": "Vec2d(w, h/2)",
          "new_text": "D.depth()",
          "old_line_content": "    pptr[1] = Vec2d(w, h/2);",
          "new_line_content": "    CV_Assert(D.empty() || ((D.total() == 4) && (D.depth() == CV_32F || D.depth() == CV_64F)));",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "getMat",
          "new_api": "Vec2d",
          "old_text": "K.getMat().at<float> (1,1)",
          "new_text": "Vec2d(w, h/2)",
          "old_line_content": "    double aspect_ratio = (K.depth() == CV_32F) ? K.getMat().at<float >(0,0)/K.getMat().at<float> (1,1)",
          "new_line_content": "    pptr[1] = Vec2d(w, h/2);",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "getMat",
          "new_api": "Vec2d",
          "old_text": "K.getMat().at<double>(1,1)",
          "new_text": "Vec2d(w/2, h)",
          "old_line_content": "                                                : K.getMat().at<double>(0,0)/K.getMat().at<double>(1,1);",
          "new_line_content": "    pptr[2] = Vec2d(w/2, h);",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "total",
          "new_api": "mean",
          "old_text": "points.total()",
          "new_text": "mean(points)",
          "old_line_content": "    for(size_t i = 0; i < points.total(); ++i)",
          "new_line_content": "    cv::Scalar center_mass = mean(points);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "total",
          "new_api": "getMat",
          "old_text": "points.total()",
          "new_text": "K.getMat().at<double>(1,1)",
          "old_line_content": "    for(size_t i = 0; i < points.total(); ++i)",
          "new_line_content": "                                                : K.getMat().at<double>(0,0)/K.getMat().at<double>(1,1);",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "std::min(minx, pptr[i][0])",
          "new_api": "total",
          "old_text": "std::min(minx, pptr[i][0])",
          "new_text": "points.total()",
          "old_line_content": "        minx = std::min(minx, pptr[i][0]);",
          "new_line_content": "    for(size_t i = 0; i < points.total(); ++i)",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "std::min(f3, f4)",
          "new_api": "std::max(maxx, pptr[i][0])",
          "old_text": "std::min(f3, f4)",
          "new_text": "std::max(maxx, pptr[i][0])",
          "old_line_content": "    double fmin = std::min(f1, std::min(f2, std::min(f3, f4)));",
          "new_line_content": "        maxx = std::max(maxx, pptr[i][0]);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "t",
          "new_api": "norm",
          "old_text": "r_r.t()",
          "new_text": "norm(ww)",
          "old_line_content": "    Matx33d ri1 = wr * r_r.t();",
          "new_line_content": "    double nw = norm(ww);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "estimateNewCameraMatrixForUndistortRectify",
          "new_api": "t",
          "old_text": "estimateNewCameraMatrixForUndistortRectify(K1, D1, imageSize, R1, newK1, balance, newImageSize, fov_scale)",
          "new_text": "r_r.t()",
          "old_line_content": "    estimateNewCameraMatrixForUndistortRectify(K1, D1, imageSize, R1, newK1, balance, newImageSize, fov_scale);",
          "new_line_content": "    Matx33d ri1 = wr * r_r.t();",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "estimateNewCameraMatrixForUndistortRectify",
          "new_api": "type",
          "old_text": "estimateNewCameraMatrixForUndistortRectify(K2, D2, imageSize, R2, newK2, balance, newImageSize, fov_scale)",
          "new_text": "R1.type()",
          "old_line_content": "    estimateNewCameraMatrixForUndistortRectify(K2, D2, imageSize, R2, newK2, balance, newImageSize, fov_scale);",
          "new_line_content": "    Mat(ri1, false).convertTo(R1, R1.empty() ? CV_64F : R1.type());",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "newK2",
          "new_api": "type",
          "old_text": "newK2(1,1)",
          "new_text": "R2.type()",
          "old_line_content": "    double fc_new = std::min(newK1(1,1), newK2(1,1));",
          "new_line_content": "    Mat(ri2, false).convertTo(R2, R2.empty() ? CV_64F : R2.type());",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": "needed",
          "new_api": "Matx34d",
          "old_text": "Q.needed()",
          "new_text": "Matx34d(fc_new, 0, cc_new[0].x, 0,\n                0, fc_new, cc_new[0].y, 0,\n                0,      0,           1, 0)",
          "old_line_content": "    if (Q.needed())",
          "new_line_content": "    Mat(Matx34d(fc_new, 0, cc_new[0].x, 0,",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "depth",
          "new_api": "Matx34d",
          "old_text": "Q.depth()",
          "new_text": "Matx34d(fc_new, 0, cc_new[1].x, tnew[0]*fc_new, // baseline * focal length;,\n                0, fc_new, cc_new[1].y,              0,\n                0,      0,           1,              0)",
          "old_line_content": "                    0, 0, -1./tnew[0], (cc_new[0].x - cc_new[1].x)/tnew[0]), false).convertTo(Q, Q.empty() ? CV_64F : Q.depth());",
          "new_line_content": "    Mat(Matx34d(fc_new, 0, cc_new[1].x, tnew[0]*fc_new, // baseline * focal length;,",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "channels",
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": "tvecs.channels()",
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    CV_Assert(tvecs.empty() || (tvecs.channels() == 3));",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "empty",
          "new_api": "total",
          "old_text": "D.empty()",
          "new_text": "imagePoints.total()",
          "old_line_content": "    CV_Assert((!K.empty() && !D.empty()) || !(flags & CALIB_USE_INTRINSIC_GUESS));",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && !imagePoints.empty() && objectPoints.total() == imagePoints.total());",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "_K",
          "new_api": "getMat",
          "old_text": "_K(0, 0)",
          "new_text": "K.getMat().convertTo(_K, CV_64FC1)",
          "old_line_content": "                        _K(0, 1) / _K(0, 0));",
          "new_line_content": "        K.getMat().convertTo(_K, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "max",
          "new_api": "Vec4d",
          "old_text": "max(image_size.width, image_size.height)",
          "new_text": "Vec4d(flags & CALIB_FIX_K1 ? 0 : _D[0],\n                              flags & CALIB_FIX_K2 ? 0 : _D[1],\n                              flags & CALIB_FIX_K3 ? 0 : _D[2],\n                              flags & CALIB_FIX_K4 ? 0 : _D[3])",
          "old_line_content": "        finalParam.Init(Vec2d(max(image_size.width, image_size.height) / CV_PI, max(image_size.width, image_size.height) / CV_PI),",
          "new_line_content": "                        Vec4d(flags & CALIB_FIX_K1 ? 0 : _D[0],",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "CalibrateExtrinsics",
          "new_api": "max",
          "old_text": "CalibrateExtrinsics(objectPoints, imagePoints, finalParam, check_cond, thresh_cond, omc, Tc)",
          "new_text": "max(image_size.width, image_size.height)",
          "old_line_content": "    CalibrateExtrinsics(objectPoints, imagePoints, finalParam, check_cond, thresh_cond, omc, Tc);",
          "new_line_content": "        finalParam.Init(Vec2d(max(image_size.width, image_size.height) / CV_PI, max(image_size.width, image_size.height) / CV_PI),",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "Vec4d",
          "new_api": "ComputeJacobians",
          "old_text": "Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1])",
          "new_text": "ComputeJacobians(objectPoints, imagePoints, finalParam, omc, Tc, check_cond,thresh_cond, JJ2, ex3)",
          "old_line_content": "                / norm(Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1]));",
          "new_line_content": "        ComputeJacobians(objectPoints, imagePoints, finalParam, omc, Tc, check_cond,thresh_cond, JJ2, ex3);",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "CalibrateExtrinsics",
          "new_api": "Vec4d",
          "old_text": "CalibrateExtrinsics(objectPoints,  imagePoints, finalParam, check_cond,\n                                    thresh_cond, omc, Tc)",
          "new_text": "Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1])",
          "old_line_content": "            CalibrateExtrinsics(objectPoints,  imagePoints, finalParam, check_cond,",
          "new_line_content": "        change = norm(Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1]) -",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "type",
          "new_api": "EstimateUncertainties",
          "old_text": "K.type()",
          "new_text": "EstimateUncertainties(objectPoints, imagePoints, finalParam,  omc, Tc, errors, err_std, thresh_cond,\n                              check_cond, rms)",
          "old_line_content": "    if (K.needed()) cv::Mat(_K).convertTo(K, K.empty() ? CV_64FC1 : K.type());",
          "new_line_content": "    EstimateUncertainties(objectPoints, imagePoints, finalParam,  omc, Tc, errors, err_std, thresh_cond,",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "total",
          "new_api": "Matx33d",
          "old_text": "objectPoints.total()",
          "new_text": "Matx33d(finalParam.f[0], finalParam.f[0] * finalParam.alpha, finalParam.c[0],\n            0,                    finalParam.f[1], finalParam.c[1],\n            0,                                  0,               1)",
          "old_line_content": "        int N = (int)objectPoints.total();",
          "new_line_content": "    _K = Matx33d(finalParam.f[0], finalParam.f[0] * finalParam.alpha, finalParam.c[0],",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "empty",
          "new_api": "type",
          "old_text": "tvecs.empty()",
          "new_text": "D.type()",
          "old_line_content": "        if(tvecs.empty())",
          "new_line_content": "    if (D.needed()) cv::Mat(finalParam.k).convertTo(D, D.empty() ? CV_64FC1 : D.type());",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "create",
          "new_api": "isMatVector",
          "old_text": "tvecs.create(N, 1, CV_64FC3)",
          "new_text": "rvecs.isMatVector()",
          "old_line_content": "            tvecs.create(N, 1, CV_64FC3);",
          "new_line_content": "    if (rvecs.isMatVector())",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "create",
          "new_api": "empty",
          "old_text": "rvecs.create(3, 1, CV_64F, i, true)",
          "new_text": "rvecs.empty()",
          "old_line_content": "            rvecs.create(3, 1, CV_64F, i, true);",
          "new_line_content": "        if(rvecs.empty())",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "getMat",
          "new_api": "empty",
          "old_text": "tvecs.getMat(i).ptr()",
          "new_text": "tvecs.empty()",
          "old_line_content": "            memcpy(tvecs.getMat(i).ptr(), Tc[i].val, sizeof(Vec3d));",
          "new_line_content": "        if(tvecs.empty())",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "type",
          "new_api": "create",
          "old_text": "rvecs.type()",
          "new_text": "rvecs.create(3, 1, CV_64F, i, true)",
          "old_line_content": "        if (rvecs.needed()) cv::Mat(omc).convertTo(rvecs, rvecs.empty() ? CV_64FC3 : rvecs.type());",
          "new_line_content": "            rvecs.create(3, 1, CV_64F, i, true);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "type",
          "new_api": "create",
          "old_text": "tvecs.type()",
          "new_text": "tvecs.create(3, 1, CV_64F, i, true)",
          "old_line_content": "        if (tvecs.needed()) cv::Mat(Tc).convertTo(tvecs, tvecs.empty() ? CV_64FC3 : tvecs.type());",
          "new_line_content": "            tvecs.create(3, 1, CV_64F, i, true);",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "Size",
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": "Size(3,3)",
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    CV_Assert(K1.empty() || (K1.size() == Size(3,3)));",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "Size",
          "new_api": "empty",
          "old_text": "Size(3,3)",
          "new_text": "imagePoints2.empty()",
          "old_line_content": "    CV_Assert(K2.empty() || (K1.size() == Size(3,3)));",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && !imagePoints1.empty() && !imagePoints2.empty());",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "empty",
          "new_api": "type",
          "old_text": "D2.empty()",
          "new_text": "imagePoints1.type()",
          "old_line_content": "    CV_Assert((!K1.empty() && !K2.empty() && !D1.empty() && !D2.empty()) || !(flags & CALIB_FIX_INTRINSIC));",
          "new_line_content": "    CV_Assert(imagePoints1.type() == CV_32FC2 || imagePoints1.type() == CV_64FC2);",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "getMat",
          "new_api": "empty",
          "old_text": "objectPoints.getMat(0).total()",
          "new_text": "D2.empty()",
          "old_line_content": "    int n_points = (int)objectPoints.getMat(0).total();",
          "new_line_content": "    CV_Assert((!K1.empty() && !K2.empty() && !D1.empty() && !D2.empty()) || !(flags & CALIB_FIX_INTRINSIC));",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "TermCriteria",
          "new_api": "getMat",
          "old_text": "TermCriteria(3, 20, 1e-6)",
          "new_text": "D1.getMat().convertTo(_D1, CV_64FC1)",
          "old_line_content": "        calibrate(objectPoints, imagePoints1, imageSize, _K1, _D1, rvecs1, tvecs1, flags, TermCriteria(3, 20, 1e-6));",
          "new_line_content": "    if (!D1.empty()) D1.getMat().convertTo(_D1, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "TermCriteria",
          "new_api": "getMat",
          "old_text": "TermCriteria(3, 20, 1e-6)",
          "new_text": "K2.getMat().convertTo(_K2, CV_64FC1)",
          "old_line_content": "        calibrate(objectPoints, imagePoints2, imageSize, _K2, _D2, rvecs2, tvecs2, flags, TermCriteria(3, 20, 1e-6));",
          "new_line_content": "    if (!K2.empty()) K2.getMat().convertTo(_K2, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "_K2",
          "new_api": "TermCriteria",
          "old_text": "_K2(0, 0)",
          "new_text": "TermCriteria(3, 20, 1e-6)",
          "old_line_content": "                        Vec4d(_D2[0], _D2[1], _D2[2], _D2[3]), _K2(0, 1) / _K2(0, 0));",
          "new_line_content": "        calibrate(objectPoints, imagePoints1, imageSize, _K1, _D1, rvecs1, tvecs1, flags, TermCriteria(3, 20, 1e-6));",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints1, intrinsicLeft, check_cond, thresh_cond, rvecs1, tvecs1)",
          "new_api": "_K1",
          "old_text": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints1, intrinsicLeft, check_cond, thresh_cond, rvecs1, tvecs1)",
          "new_text": "_K1(1, 2)",
          "old_line_content": "        cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints1, intrinsicLeft, check_cond, thresh_cond, rvecs1, tvecs1);",
          "new_line_content": "    intrinsicLeft.Init(Vec2d(_K1(0,0), _K1(1, 1)), Vec2d(_K1(0,2), _K1(1, 2)),",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints2, intrinsicRight, check_cond, thresh_cond, rvecs2, tvecs2)",
          "new_api": "_K1",
          "old_text": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints2, intrinsicRight, check_cond, thresh_cond, rvecs2, tvecs2)",
          "new_text": "_K1(0, 0)",
          "old_line_content": "        cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints2, intrinsicRight, check_cond, thresh_cond, rvecs2, tvecs2);",
          "new_line_content": "                       Vec4d(_D1[0], _D1[1], _D1[2], _D1[3]), _K1(0, 1) / _K1(0, 0));",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "cv::Rodrigues(rvecs1[image_idx], R1)",
          "new_api": "end",
          "old_text": "cv::Rodrigues(rvecs1[image_idx], R1)",
          "new_text": "intrinsicRight.isEstimate.end()",
          "old_line_content": "        cv::Rodrigues(rvecs1[image_idx], R1);",
          "new_line_content": "    selectedParams.insert(selectedParams.end(), intrinsicRight.isEstimate.begin(), intrinsicRight.isEstimate.end());",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "cv::Rodrigues(rvecs2[image_idx], R2)",
          "new_api": "end",
          "old_text": "cv::Rodrigues(rvecs2[image_idx], R2)",
          "new_text": "tmp.end()",
          "old_line_content": "        cv::Rodrigues(rvecs2[image_idx], R2);",
          "new_line_content": "    selectedParams.insert(selectedParams.end(), tmp.begin(), tmp.end());",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "cv::internal::median3d(om_list)",
          "new_api": "cv::Rodrigues(rvecs1[image_idx], R1)",
          "old_text": "cv::internal::median3d(om_list)",
          "new_text": "cv::Rodrigues(rvecs1[image_idx], R1)",
          "old_line_content": "    cv::Vec3d omcur = cv::internal::median3d(om_list);",
          "new_line_content": "        cv::Rodrigues(rvecs1[image_idx], R1);",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "cv::internal::median3d(T_list)",
          "new_api": "cv::Rodrigues(rvecs2[image_idx], R2)",
          "old_text": "cv::internal::median3d(T_list)",
          "new_text": "cv::Rodrigues(rvecs2[image_idx], R2)",
          "old_line_content": "    cv::Vec3d Tcur  = cv::internal::median3d(T_list);",
          "new_line_content": "        cv::Rodrigues(rvecs2[image_idx], R2);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "cv::Mat::zeros(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1)",
          "new_api": "cv::Mat(tvecs1[image_idx])",
          "old_text": "cv::Mat::zeros(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1)",
          "new_text": "cv::Mat(tvecs1[image_idx])",
          "old_line_content": "    cv::Mat J = cv::Mat::zeros(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1),",
          "new_line_content": "        T_ref = cv::Mat(tvecs2[image_idx]) - R_ref * cv::Mat(tvecs1[image_idx]);",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "cv::Mat::zeros(4 * n_points * n_images, 1, CV_64FC1)",
          "new_api": "cv::Rodrigues(R_ref, om_ref)",
          "old_text": "cv::Mat::zeros(4 * n_points * n_images, 1, CV_64FC1)",
          "new_text": "cv::Rodrigues(R_ref, om_ref)",
          "old_line_content": "            e = cv::Mat::zeros(4 * n_points * n_images, 1, CV_64FC1), Jkk, ekk;",
          "new_line_content": "        cv::Rodrigues(R_ref, om_ref);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "cv::Mat::zeros(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1)",
          "new_api": "create",
          "old_text": "cv::Mat::zeros(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1)",
          "new_text": "e.create(4 * n_points * n_images, 1, CV_64FC1)",
          "old_line_content": "            Jkk = cv::Mat::zeros(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1);",
          "new_line_content": "        e.create(4 * n_points * n_images, 1, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "getMat",
          "new_api": "create",
          "old_text": "objectPoints.getMat(image_idx).clone()",
          "new_text": "ekk.create(4 * n_points, 1, CV_64FC1)",
          "old_line_content": "            cv::Mat object  = objectPoints.getMat(image_idx).clone();",
          "new_line_content": "        ekk.create(4 * n_points, 1, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "cv::Mat(rvecs1[image_idx])",
          "new_api": "cv::Mat::zeros(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1)",
          "old_text": "cv::Mat(rvecs1[image_idx])",
          "new_text": "cv::Mat::zeros(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1)",
          "old_line_content": "            cv::Mat rvec = cv::Mat(rvecs1[image_idx]);",
          "new_line_content": "            Jkk = cv::Mat::zeros(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1);",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "cv::internal::projectPoints(object, projected, rvec, tvec, intrinsicLeft, jacobians)",
          "new_api": "getMat",
          "old_text": "cv::internal::projectPoints(object, projected, rvec, tvec, intrinsicLeft, jacobians)",
          "new_text": "objectPoints.getMat(image_idx).clone()",
          "old_line_content": "            cv::internal::projectPoints(object, projected, rvec, tvec, intrinsicLeft, jacobians);",
          "new_line_content": "            cv::Mat object  = objectPoints.getMat(image_idx).clone();",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "rowRange",
          "new_api": "getMat",
          "old_text": "ekk.rowRange(0, 2 * n_points)",
          "new_text": "imagePoints1.getMat(image_idx).clone()",
          "old_line_content": "            cv::Mat(cv::Mat((imageLeft - projected).t()).reshape(1, 1).t()).copyTo(ekk.rowRange(0, 2 * n_points));",
          "new_line_content": "            cv::Mat imageLeft  = imagePoints1.getMat(image_idx).clone();",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": "colRange",
          "new_api": "getMat",
          "old_text": "Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(0, 2 * n_points)",
          "new_text": "imagePoints2.getMat(image_idx).clone()",
          "old_line_content": "            jacobians.colRange(8, 11).copyTo(Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(0, 2 * n_points));",
          "new_line_content": "            cv::Mat imageRight  = imagePoints2.getMat(image_idx).clone();",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "colRange",
          "new_api": "cv::Mat(rvecs1[image_idx])",
          "old_text": "Jkk.colRange(5, 9).rowRange(0, 2 * n_points)",
          "new_text": "cv::Mat(rvecs1[image_idx])",
          "old_line_content": "            jacobians.colRange(4, 8).copyTo(Jkk.colRange(5, 9).rowRange(0, 2 * n_points));",
          "new_line_content": "            cv::Mat rvec = cv::Mat(rvecs1[image_idx]);",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "col",
          "new_api": "cv::Mat(tvecs1[image_idx])",
          "old_text": "Jkk.col(4).rowRange(0, 2 * n_points)",
          "new_text": "cv::Mat(tvecs1[image_idx])",
          "old_line_content": "            jacobians.col(14).copyTo(Jkk.col(4).rowRange(0, 2 * n_points));",
          "new_line_content": "            cv::Mat tvec  = cv::Mat(tvecs1[image_idx]);",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "cv::internal::compose_motion(rvec, tvec, omcur, Tcur, omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT)",
          "new_api": "colRange",
          "old_text": "cv::internal::compose_motion(rvec, tvec, omcur, Tcur, omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT)",
          "new_text": "Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(0, 2 * n_points)",
          "old_line_content": "            cv::internal::compose_motion(rvec, tvec, omcur, Tcur, omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT);",
          "new_line_content": "            jacobians.colRange(8, 11).copyTo(Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "cv::Mat(rvecs2[image_idx])",
          "new_api": "colRange",
          "old_text": "cv::Mat(rvecs2[image_idx])",
          "new_text": "Jkk.colRange(27 + image_idx * 6, 30 + image_idx * 6).rowRange(0, 2 * n_points)",
          "old_line_content": "            rvec = cv::Mat(rvecs2[image_idx]);",
          "new_line_content": "            jacobians.colRange(11, 14).copyTo(Jkk.colRange(27 + image_idx * 6, 30 + image_idx * 6).rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "cv::Mat(tvecs2[image_idx])",
          "new_api": "colRange",
          "old_text": "cv::Mat(tvecs2[image_idx])",
          "new_text": "Jkk.colRange(0, 2).rowRange(0, 2 * n_points)",
          "old_line_content": "            tvec  = cv::Mat(tvecs2[image_idx]);",
          "new_line_content": "            jacobians.colRange(0, 2).copyTo(Jkk.colRange(0, 2).rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "cv::internal::projectPoints(object, projected, omr, Tr, intrinsicRight, jacobians)",
          "new_api": "colRange",
          "old_text": "cv::internal::projectPoints(object, projected, omr, Tr, intrinsicRight, jacobians)",
          "new_text": "Jkk.colRange(5, 9).rowRange(0, 2 * n_points)",
          "old_line_content": "            cv::internal::projectPoints(object, projected, omr, Tr, intrinsicRight, jacobians);",
          "new_line_content": "            jacobians.colRange(4, 8).copyTo(Jkk.colRange(5, 9).rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "rowRange",
          "new_api": "col",
          "old_text": "ekk.rowRange(2 * n_points, 4 * n_points)",
          "new_text": "Jkk.col(4).rowRange(0, 2 * n_points)",
          "old_line_content": "            cv::Mat(cv::Mat((imageRight - projected).t()).reshape(1, 1).t()).copyTo(ekk.rowRange(2 * n_points, 4 * n_points));",
          "new_line_content": "            jacobians.col(14).copyTo(Jkk.col(4).rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "colRange",
          "new_api": "cv::internal::compose_motion(rvec, tvec, omcur, Tcur, omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT)",
          "old_text": "jacobians.colRange(11, 14)",
          "new_text": "cv::internal::compose_motion(rvec, tvec, omcur, Tcur, omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT)",
          "old_line_content": "            cv::Mat dxrdomckk = jacobians.colRange(8, 11) * domrdomckk + jacobians.colRange(11, 14) * dTrdomckk;",
          "new_line_content": "            cv::internal::compose_motion(rvec, tvec, omcur, Tcur, omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT);",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "colRange",
          "new_api": "cv::Mat(rvecs2[image_idx])",
          "old_text": "jacobians.colRange(11, 14)",
          "new_text": "cv::Mat(rvecs2[image_idx])",
          "old_line_content": "            cv::Mat dxrdTckk = jacobians.colRange(8, 11) * domrdTckk + jacobians.colRange(11, 14) * dTrdTckk;",
          "new_line_content": "            rvec = cv::Mat(rvecs2[image_idx]);",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "colRange",
          "new_api": "cv::internal::projectPoints(object, projected, omr, Tr, intrinsicRight, jacobians)",
          "old_text": "Jkk.colRange(21, 24).rowRange(2 * n_points, 4 * n_points)",
          "new_text": "cv::internal::projectPoints(object, projected, omr, Tr, intrinsicRight, jacobians)",
          "old_line_content": "            dxrdT.copyTo(Jkk.colRange(21, 24).rowRange(2 * n_points, 4 * n_points));",
          "new_line_content": "            cv::internal::projectPoints(object, projected, omr, Tr, intrinsicRight, jacobians);",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "colRange",
          "new_api": "rowRange",
          "old_text": "Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(2 * n_points, 4 * n_points)",
          "new_text": "ekk.rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "            dxrdomckk.copyTo(Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(2 * n_points, 4 * n_points));",
          "new_line_content": "            cv::Mat(cv::Mat((imageRight - projected).t()).reshape(1, 1).t()).copyTo(ekk.rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "ekk.at<double>(i)",
          "new_api": "colRange",
          "old_text": "ekk.at<double>(i)",
          "new_text": "Jkk.colRange(9 + 2, 9 + 4).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "                if (fabs(ekk.at<double>(i)) > abs_max)",
          "new_line_content": "            jacobians.colRange(2, 4).copyTo(Jkk.colRange(9 + 2, 9 + 4).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "ekk.at<double>(i)",
          "new_api": "col",
          "old_text": "ekk.at<double>(i)",
          "new_text": "Jkk.col(9 + 4).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "                    abs_max = fabs(ekk.at<double>(i));",
          "new_line_content": "            jacobians.col(14).copyTo(Jkk.col(9 + 4).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "rowRange",
          "new_api": "ekk.at<double>(i)",
          "old_text": "J.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points)",
          "new_text": "ekk.at<double>(i)",
          "old_line_content": "            Jkk.copyTo(J.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points));",
          "new_line_content": "                if (fabs(ekk.at<double>(i)) > abs_max)",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "cv::countNonZero(intrinsicLeft.isEstimate)",
          "new_api": "rowRange",
          "old_text": "cv::countNonZero(intrinsicLeft.isEstimate)",
          "new_text": "J.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points)",
          "old_line_content": "        int a = cv::countNonZero(intrinsicLeft.isEstimate);",
          "new_line_content": "            Jkk.copyTo(J.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1024,
          "old_api": "cv::countNonZero(intrinsicRight.isEstimate)",
          "new_api": "rowRange",
          "old_text": "cv::countNonZero(intrinsicRight.isEstimate)",
          "new_text": "e.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points)",
          "old_line_content": "        int b = cv::countNonZero(intrinsicRight.isEstimate);",
          "new_line_content": "            ekk.copyTo(e.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": "rowRange",
          "new_api": "std::vector<uchar>(J.rows, 1)",
          "old_text": "deltas.rowRange(a, a + b)",
          "new_text": "std::vector<uchar>(J.rows, 1)",
          "old_line_content": "            intrinsicRight = intrinsicRight + deltas.rowRange(a, a + b);",
          "new_line_content": "        cv::subMatrix(J, J, selectedParams, std::vector<uchar>(J.rows, 1));",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "rowRange",
          "new_api": "cv::countNonZero(intrinsicLeft.isEstimate)",
          "old_text": "deltas.rowRange(a + b, a + b + 3)",
          "new_text": "cv::countNonZero(intrinsicLeft.isEstimate)",
          "old_line_content": "        omcur = omcur + cv::Vec3d(deltas.rowRange(a + b, a + b + 3));",
          "new_line_content": "        int a = cv::countNonZero(intrinsicLeft.isEstimate);",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "rowRange",
          "new_api": "cv::countNonZero(intrinsicRight.isEstimate)",
          "old_text": "deltas.rowRange(a + b + 3, a + b + 6)",
          "new_text": "cv::countNonZero(intrinsicRight.isEstimate)",
          "old_line_content": "        Tcur = Tcur + cv::Vec3d(deltas.rowRange(a + b + 3, a + b + 6));",
          "new_line_content": "        int b = cv::countNonZero(intrinsicRight.isEstimate);",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "cv::norm(newTom)",
          "new_api": "rowRange",
          "old_text": "cv::norm(newTom)",
          "new_text": "deltas.rowRange(a + b + 3, a + b + 6)",
          "old_line_content": "        change = cv::norm(newTom - oldTom) / cv::norm(newTom);",
          "new_line_content": "        Tcur = Tcur + cv::Vec3d(deltas.rowRange(a + b + 3, a + b + 6));",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "e.ptr<Vec2d>()",
          "new_api": "rowRange",
          "old_text": "e.ptr<Vec2d>()",
          "new_text": "deltas.rowRange(a + b + 9 + image_idx * 6, a + b + 12 + image_idx * 6)",
          "old_line_content": "    const Vec2d* ptr_e = e.ptr<Vec2d>();",
          "new_line_content": "            tvecs1[image_idx] = cv::Mat(cv::Mat(tvecs1[image_idx]) + deltas.rowRange(a + b + 9 + image_idx * 6, a + b + 12 + image_idx * 6));",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "Matx33d",
          "new_api": "total",
          "old_text": "Matx33d(intrinsicLeft.f[0], intrinsicLeft.f[0] * intrinsicLeft.alpha, intrinsicLeft.c[0],\n                                       0,                       intrinsicLeft.f[1], intrinsicLeft.c[1],\n                                       0,                                        0,                 1)",
          "new_text": "e.total()",
          "old_line_content": "    _K1 = Matx33d(intrinsicLeft.f[0], intrinsicLeft.f[0] * intrinsicLeft.alpha, intrinsicLeft.c[0],",
          "new_line_content": "    for (size_t i = 0; i < e.total() / 2; i++)",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "type",
          "new_api": "Matx33d",
          "old_text": "K2.type()",
          "new_text": "Matx33d(intrinsicRight.f[0], intrinsicRight.f[0] * intrinsicRight.alpha, intrinsicRight.c[0],\n                                        0,                        intrinsicRight.f[1], intrinsicRight.c[1],\n                                        0,                                          0,                  1)",
          "old_line_content": "    if (K2.needed()) cv::Mat(_K2).convertTo(K2, K2.empty() ? CV_64FC1 : K2.type());",
          "new_line_content": "    _K2 = Matx33d(intrinsicRight.f[0], intrinsicRight.f[0] * intrinsicRight.alpha, intrinsicRight.c[0],",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "channels",
          "new_api": "type",
          "old_text": "src.channels()",
          "new_text": "T.type()",
          "old_line_content": "    CV_Assert(src.channels() == 1);",
          "new_line_content": "    if (T.needed()) cv::Mat(Tcur).convertTo(T, T.empty() ? CV_64FC1 : T.type());",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "cv::countNonZero(rows)",
          "new_api": "size",
          "old_text": "cv::countNonZero(rows)",
          "new_text": "cols.size()",
          "old_line_content": "    int nonzeros_rows  = cv::countNonZero(rows);",
          "new_line_content": "    for (int i = 0, j = 0; i < (int)cols.size(); i++)",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "Vec4d::all(0)",
          "new_api": "row",
          "old_text": "Vec4d::all(0)",
          "new_text": "dst.row(j++)",
          "old_line_content": "    f(Vec2d::all(0)), c(Vec2d::all(0)), k(Vec4d::all(0)), alpha(0), isEstimate(9,0)",
          "new_line_content": "            tmp.row(i).copyTo(dst.row(j++));",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "type",
          "new_api": "fisheye::projectPoints(objectPoints, imagePoints, _rvec, _tvec, K, param.k, param.alpha, jacobian)",
          "old_text": "imagePoints.type()",
          "new_text": "fisheye::projectPoints(objectPoints, imagePoints, _rvec, _tvec, K, param.k, param.alpha, jacobian)",
          "old_line_content": "    CV_Assert(!imagePoints.empty() && imagePoints.type() == CV_64FC2);",
          "new_line_content": "    fisheye::projectPoints(objectPoints, imagePoints, _rvec, _tvec, K, param.k, param.alpha, jacobian);",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "projectPoints",
          "new_api": "tvec.at<double>(2)",
          "old_text": "projectPoints(objectPoints, x, rvec, tvec, param, jacobians)",
          "new_text": "tvec.at<double>(2)",
          "old_line_content": "        projectPoints(objectPoints, x, rvec, tvec, param, jacobians);",
          "new_line_content": "                    tvec.at<double>(0), tvec.at<double>(1), tvec.at<double>(2));",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "svd.w.at<double>(5)",
          "new_api": "projectPoints",
          "old_text": "svd.w.at<double>(5)",
          "new_text": "projectPoints(objectPoints, x, rvec, tvec, param, jacobians)",
          "old_line_content": "        double condJJ = svd.w.at<double>(0)/svd.w.at<double>(5);",
          "new_line_content": "        projectPoints(objectPoints, x, rvec, tvec, param, jacobians);",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "Vec3d",
          "new_api": "total",
          "old_text": "Vec3d(extrinsics.val+3)",
          "new_text": "ex.total()",
          "old_line_content": "            tvec = Mat(Vec3d(extrinsics.val+3));",
          "new_line_content": "            solve(J, ex.reshape(1, (int)ex.total()), param_innov, DECOMP_SVD + DECOMP_NORMAL);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": "Vec3d",
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": "Vec3d(extrinsics.val)",
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "            rvec = Mat(Vec3d(extrinsics.val));",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "row",
          "new_api": "Mat::ones(1, Np, CV_64FC1)",
          "old_text": "M.row(2)",
          "new_text": "Mat::ones(1, Np, CV_64FC1)",
          "old_line_content": "    divide(M, Mat::ones(3, 1, CV_64FC1) * M.row(2), M);",
          "new_line_content": "        vconcat(m, Mat::ones(1, Np, CV_64FC1), m);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "abs",
          "new_api": "row",
          "old_text": "abs(ax)",
          "new_text": "m.row(1).clone()",
          "old_line_content": "    double scxx = mean(abs(ax))[0];",
          "new_line_content": "    Mat ay = m.row(1).clone();",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "Matx33d",
          "new_api": "mean",
          "old_text": "Matx33d( 1/scxx,        0.0,     -mxx/scxx,\n                         0.0,     1/scyy,     -myy/scyy,\n                         0.0,        0.0,           1.0 )",
          "new_text": "mean(ay)",
          "old_line_content": "    Mat Hnorm (Matx33d( 1/scxx,        0.0,     -mxx/scxx,",
          "new_line_content": "    double myy = mean(ay)[0];",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "M.at<double>(j, i)",
          "new_api": "Mat::zeros(2*Np, 9, CV_64FC1)",
          "old_text": "M.at<double>(j, i)",
          "new_text": "Mat::zeros(2*Np, 9, CV_64FC1)",
          "old_line_content": "            L.at<double>(2 * i, j + 6) = -mn.at<double>(0,i) * M.at<double>(j, i);",
          "new_line_content": "    Mat L = Mat::zeros(2*Np, 9, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "row",
          "new_api": "M.at<double>(j, i)",
          "old_text": "svd.vt.row(8).at<double>(8)",
          "new_text": "M.at<double>(j, i)",
          "old_line_content": "    Mat hh = svd.vt.row(8) / svd.vt.row(8).at<double>(8);",
          "new_line_content": "            L.at<double>(2 * i + 1, j + 3) = M.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "reshape",
          "new_api": "M.at<double>(j, i)",
          "old_text": "hh.reshape(1, 3)",
          "new_text": "M.at<double>(j, i)",
          "old_line_content": "    Mat Hrem = hh.reshape(1, 3);",
          "new_line_content": "            L.at<double>(2 * i, j + 6) = -mn.at<double>(0,i) * M.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "Rect",
          "new_api": "t",
          "old_text": "Rect(0, 0, 1, 8)",
          "new_text": "L.t()",
          "old_line_content": "        Mat hhv = H.reshape(1, 9)(Rect(0, 0, 1, 8)).clone();",
          "new_line_content": "    if (Np > 4) L = L.t() * L;",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "Rect",
          "new_api": "Mat::zeros(2 * Np, 8, CV_64FC1)",
          "old_text": "Rect(0, 1, mrep.cols, 1)",
          "new_text": "Mat::zeros(2 * Np, 8, CV_64FC1)",
          "old_line_content": "            multiply(Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 1, mrep.cols, 1)), MMM, MMM3);",
          "new_line_content": "            Mat J = Mat::zeros(2 * Np, 8, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "MMM.at<double>(j, i)",
          "new_api": "Rect",
          "old_text": "MMM.at<double>(j, i)",
          "new_text": "Rect(0, 0, mrep.cols, 1)",
          "old_line_content": "                    J.at<double>(2 * i + 1, j + 3) = -MMM.at<double>(j, i);",
          "new_line_content": "            multiply(Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 0, mrep.cols, 1)), MMM, MMM2);",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "Mat::ones(1,1,CV_64FC1)",
          "new_api": "MMM2.at<double>(j, i)",
          "old_text": "Mat::ones(1,1,CV_64FC1)",
          "new_text": "MMM2.at<double>(j, i)",
          "old_line_content": "            vconcat(hhv_up, Mat::ones(1,1,CV_64FC1), tmp);",
          "new_line_content": "                    J.at<double>(2 * i, j + 6)     = MMM2.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "reshape",
          "new_api": "MMM3.at<double>(j, i)",
          "old_text": "tmp.reshape(1,3)",
          "new_text": "MMM3.at<double>(j, i)",
          "old_line_content": "            Mat H_up = tmp.reshape(1,3);",
          "new_line_content": "                    J.at<double>(2 * i + 1, j + 6) = MMM3.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "Matx33d::eye()",
          "new_api": "total",
          "old_text": "Matx33d::eye()",
          "new_text": "imagePoints.total()",
          "old_line_content": "    cv::fisheye::undistortPoints(distorted, undistorted, Matx33d::eye(), param.k);",
          "new_line_content": "    Mat distorted((int)imagePoints.total(), 1, CV_64FC2), undistorted;",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "calcCovarMatrix",
          "new_api": "type",
          "old_text": "calcCovarMatrix(objectPoints, covObjectPoints, objectPointsMean, COVAR_NORMAL | COVAR_COLS)",
          "new_text": "_objectPoints.type()",
          "old_line_content": "    calcCovarMatrix(objectPoints, covObjectPoints, objectPointsMean, COVAR_NORMAL | COVAR_COLS);",
          "new_line_content": "    CV_Assert(!_objectPoints.empty() && _objectPoints.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "Rect",
          "new_api": "reshape",
          "old_text": "Rect(2, 0, 1, 2)",
          "new_text": "NormalizePixels(_imagePoints, param).reshape(1).t()",
          "old_line_content": "    if (norm(R(Rect(2, 0, 1, 2))) < 1e-6)",
          "new_line_content": "    Mat imagePointsNormalized = NormalizePixels(_imagePoints, param).reshape(1).t();",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "Mat::eye(3,3, CV_64FC1)",
          "new_api": "reshape",
          "old_text": "Mat::eye(3,3, CV_64FC1)",
          "new_text": "_objectPoints.reshape(1).t()",
          "old_line_content": "        R = Mat::eye(3,3, CV_64FC1);",
          "new_line_content": "    Mat objectPoints = _objectPoints.reshape(1).t();",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "Mat::ones(1, Np, CV_64FC1)",
          "new_api": "calcCovarMatrix",
          "old_text": "Mat::ones(1, Np, CV_64FC1)",
          "new_text": "calcCovarMatrix(objectPoints, covObjectPoints, objectPointsMean, COVAR_NORMAL | COVAR_COLS)",
          "old_line_content": "    Mat X_new = R * objectPoints + T * Mat::ones(1, Np, CV_64FC1);",
          "new_line_content": "    calcCovarMatrix(objectPoints, covObjectPoints, objectPointsMean, COVAR_NORMAL | COVAR_COLS);",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "col",
          "new_api": "Mat::eye(3,3, CV_64FC1)",
          "old_text": "H.col(0).clone()",
          "new_text": "Mat::eye(3,3, CV_64FC1)",
          "old_line_content": "    Mat u1 = H.col(0).clone();",
          "new_line_content": "        R = Mat::eye(3,3, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "norm",
          "new_api": "determinant",
          "old_text": "norm(u1)",
          "new_text": "determinant(R)",
          "old_line_content": "    u1  = u1 / norm(u1);",
          "new_line_content": "    if (determinant(R) < 0)",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "cross",
          "new_api": "Mat::ones(1, Np, CV_64FC1)",
          "old_text": "u1.cross(u2)",
          "new_text": "Mat::ones(1, Np, CV_64FC1)",
          "old_line_content": "    Mat u3 = u1.cross(u2);",
          "new_line_content": "    Mat X_new = R * objectPoints + T * Mat::ones(1, Np, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "hconcat",
          "new_api": "col",
          "old_text": "hconcat(u1, u2, RRR)",
          "new_text": "H.col(1)",
          "old_line_content": "    hconcat(u1, u2, RRR);",
          "new_line_content": "    double sc = .5 * (norm(H.col(0)) + norm(H.col(1)));",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "Rodrigues",
          "new_api": "col",
          "old_text": "Rodrigues(RRR, omckk)",
          "new_text": "H.col(0).clone()",
          "old_line_content": "    Rodrigues(RRR, omckk);",
          "new_line_content": "    Mat u1 = H.col(0).clone();",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "Rodrigues",
          "new_api": "norm",
          "old_text": "Rodrigues(omckk, Rckk)",
          "new_text": "norm(u1)",
          "old_line_content": "    Rodrigues(omckk, Rckk);",
          "new_line_content": "    u1  = u1 / norm(u1);",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "type",
          "new_api": "Rodrigues",
          "old_text": "imagePoints.type()",
          "new_text": "Rodrigues(Rckk, omckk)",
          "old_line_content": "    CV_Assert(!imagePoints.empty() && (imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2));",
          "new_line_content": "    Rodrigues(Rckk, omckk);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "total",
          "new_api": "type",
          "old_text": "imagePoints.total()",
          "new_text": "imagePoints.type()",
          "old_line_content": "    for(int image_idx = 0; image_idx < (int)imagePoints.total(); ++image_idx)",
          "new_line_content": "    CV_Assert(!imagePoints.empty() && (imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2));",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "t",
          "new_api": "getMat",
          "old_text": "object.t()",
          "new_text": "objectPoints.getMat(image_idx).convertTo(object,  CV_64FC3)",
          "old_line_content": "        ComputeExtrinsicRefine(!imT ? image.t() : image, !obT ? object.t() : object, omckk, Tckk, JJ_kk, maxIter, param, thresh_cond);",
          "new_line_content": "        objectPoints.getMat(image_idx).convertTo(object,  CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "getMat",
          "new_api": "t",
          "old_text": "Tc.getMat().col(image_idx)",
          "new_text": "object.t()",
          "old_line_content": "        Tckk.reshape(3,1).copyTo(Tc.getMat().col(image_idx));",
          "new_line_content": "        ComputeExtrinsicRefine(!imT ? image.t() : image, !obT ? object.t() : object, omckk, Tckk, JJ_kk, maxIter, param, thresh_cond);",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "type",
          "new_api": "getMat",
          "old_text": "objectPoints.type()",
          "new_text": "Tc.getMat().col(image_idx)",
          "old_line_content": "    CV_Assert(!objectPoints.empty() && (objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3));",
          "new_line_content": "        Tckk.reshape(3,1).copyTo(Tc.getMat().col(image_idx));",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "Mat::zeros(9 + 6 * n, 9 + 6 * n, CV_64FC1)",
          "new_api": "type",
          "old_text": "Mat::zeros(9 + 6 * n, 9 + 6 * n, CV_64FC1)",
          "new_text": "objectPoints.type()",
          "old_line_content": "    JJ2 = Mat::zeros(9 + 6 * n, 9 + 6 * n, CV_64FC1);",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && (objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3));",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "Mat::zeros(9 + 6 * n, 1, CV_64FC1 )",
          "new_api": "type",
          "old_text": "Mat::zeros(9 + 6 * n, 1, CV_64FC1 )",
          "new_text": "imagePoints.type()",
          "old_line_content": "    ex3 = Mat::zeros(9 + 6 * n, 1, CV_64FC1 );",
          "new_line_content": "    CV_Assert(!imagePoints.empty() && (imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2));",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "getMat",
          "new_api": "total",
          "old_text": "objectPoints.getMat(image_idx).convertTo(object, CV_64FC3)",
          "new_text": "objectPoints.total()",
          "old_line_content": "        objectPoints.getMat(image_idx).convertTo(object, CV_64FC3);",
          "new_line_content": "    int n = (int)objectPoints.total();",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "projectPoints",
          "new_api": "getMat",
          "old_text": "projectPoints(object, x, om, T, param, jacobians)",
          "new_text": "objectPoints.getMat(image_idx).convertTo(object, CV_64FC3)",
          "old_line_content": "        projectPoints(object, x, om, T, param, jacobians);",
          "new_line_content": "        objectPoints.getMat(image_idx).convertTo(object, CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "Mat",
          "new_api": "convertTo",
          "old_text": "Mat(x)",
          "new_text": "imagePoints.getMat (image_idx).convertTo(image, CV_64FC2)",
          "old_line_content": "        Mat exkk = (imT ? image.t() : image) - Mat(x);",
          "new_line_content": "        imagePoints.getMat (image_idx).convertTo(image, CV_64FC2);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "colRange",
          "new_api": "getMat",
          "old_text": "A.colRange(0, 4)",
          "new_text": "Tc.getMat().col(image_idx)",
          "old_line_content": "        jacobians.colRange(0, 4).copyTo(A.colRange(0, 4));",
          "new_line_content": "        Mat om(omc.getMat().col(image_idx)), T(Tc.getMat().col(image_idx));",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "t",
          "new_api": "projectPoints",
          "old_text": "A.t()",
          "new_text": "projectPoints(object, x, om, T, param, jacobians)",
          "old_line_content": "        A = A.t();",
          "new_line_content": "        projectPoints(object, x, om, T, param, jacobians);",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "t",
          "new_api": "col",
          "old_text": "A.t()",
          "new_text": "A.col(4)",
          "old_line_content": "        JJ2(Rect(0, 0, 9, 9)) += A * A.t();",
          "new_line_content": "        jacobians.col(14).copyTo(A.col(4));",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "t",
          "new_api": "colRange",
          "old_text": "B.t()",
          "new_text": "A.colRange(5, 9)",
          "old_line_content": "        JJ2(Rect(9 + 6 * image_idx, 9 + 6 * image_idx, 6, 6)) = B * B.t();",
          "new_line_content": "        jacobians.colRange(4, 8).copyTo(A.colRange(5, 9));",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "reshape",
          "new_api": "t",
          "old_text": "exkk.reshape(1, 2 * exkk.rows)",
          "new_text": "B.t()",
          "old_line_content": "        ex3.rowRange(0, 9) += A * exkk.reshape(1, 2 * exkk.rows);",
          "new_line_content": "        B = B.t();",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "std::vector<uchar>(1, 1)",
          "new_api": "svd.w.at<double>(svd.w.rows - 1)",
          "old_text": "std::vector<uchar>(1, 1)",
          "new_text": "svd.w.at<double>(svd.w.rows - 1)",
          "old_line_content": "    subMatrix(ex3, ex3, std::vector<uchar>(1, 1), idxs);",
          "new_line_content": "            CV_Assert(svd.w.at<double>(0) / svd.w.at<double>(svd.w.rows - 1) < thresh_cond);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "type",
          "new_api": "subMatrix",
          "old_text": "objectPoints.type()",
          "new_text": "subMatrix(JJ2, JJ2, idxs, idxs)",
          "old_line_content": "    CV_Assert(!objectPoints.empty() && (objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3));",
          "new_line_content": "    subMatrix(JJ2, JJ2, idxs, idxs);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "type",
          "new_api": "std::vector<uchar>(1, 1)",
          "old_text": "imagePoints.type()",
          "new_text": "std::vector<uchar>(1, 1)",
          "old_line_content": "    CV_Assert(!imagePoints.empty() && (imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2));",
          "new_line_content": "    subMatrix(ex3, ex3, std::vector<uchar>(1, 1), idxs);",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "getMat",
          "new_api": "type",
          "old_text": "objectPoints.getMat(image_idx).total()",
          "new_text": "imagePoints.type()",
          "old_line_content": "        total_ex += (int)objectPoints.getMat(image_idx).total();",
          "new_line_content": "    CV_Assert(!imagePoints.empty() && (imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2));",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "convertTo",
          "new_api": "getMat",
          "old_text": "imagePoints.getMat (image_idx).convertTo(image, CV_64FC2)",
          "new_text": "objectPoints.getMat(image_idx).total()",
          "old_line_content": "        imagePoints.getMat (image_idx).convertTo(image, CV_64FC2);",
          "new_line_content": "        total_ex += (int)objectPoints.getMat(image_idx).total();",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "getMat",
          "new_api": "total",
          "old_text": "Tc.getMat().col(image_idx)",
          "new_text": "objectPoints.total()",
          "old_line_content": "        Mat om(omc.getMat().col(image_idx)), T(Tc.getMat().col(image_idx));",
          "new_line_content": "    for (int image_idx = 0; image_idx < (int)objectPoints.total(); ++image_idx)",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "noArray",
          "new_api": "getMat",
          "old_text": "noArray()",
          "new_text": "objectPoints.getMat(image_idx).convertTo(object, CV_64FC3)",
          "old_line_content": "        projectPoints(object, x, om, T, params, noArray());",
          "new_line_content": "        objectPoints.getMat(image_idx).convertTo(object, CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "Mat",
          "new_api": "convertTo",
          "old_text": "Mat(x)",
          "new_text": "imagePoints.getMat (image_idx).convertTo(image, CV_64FC2)",
          "old_line_content": "        Mat ex_ = (imT ? image.t() : image) - Mat(x);",
          "new_line_content": "        imagePoints.getMat (image_idx).convertTo(image, CV_64FC2);",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "noArray",
          "new_api": "rowRange",
          "old_text": "noArray()",
          "new_text": "ex.rowRange(insert_idx, insert_idx + ex_.rows)",
          "old_line_content": "    meanStdDev(ex.reshape(1, 1), noArray(), sigma_x);",
          "new_line_content": "        ex_.copyTo(ex.rowRange(insert_idx, insert_idx + ex_.rows));",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "ComputeJacobians",
          "new_api": "noArray",
          "old_text": "ComputeJacobians(objectPoints, imagePoints, params, omc, Tc, check_cond, thresh_cond, JJ2, ex3)",
          "new_text": "noArray()",
          "old_line_content": "    ComputeJacobians(objectPoints, imagePoints, params, omc, Tc, check_cond, thresh_cond, JJ2, ex3);",
          "new_line_content": "    meanStdDev(ex, noArray(), std_err);",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "diag",
          "new_api": "noArray",
          "old_text": "JJ2.diag()",
          "new_text": "noArray()",
          "old_line_content": "    errors = 3 * sigma_x(0) * JJ2.diag();",
          "new_line_content": "    meanStdDev(ex.reshape(1, 1), noArray(), sigma_x);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "getMat",
          "new_api": "inv",
          "old_text": "B.getMat()",
          "new_text": "JJ2.inv()",
          "old_line_content": "    CV_Assert(A.getMat().cols == B.getMat().rows);",
          "new_line_content": "    sqrt(JJ2.inv(), JJ2);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "getMat",
          "new_api": "total",
          "old_text": "A.getMat()",
          "new_text": "ex.total()",
          "old_line_content": "    int p = A.getMat().rows;",
          "new_line_content": "    rms = sqrt(norm(ex, NORM_L2SQR)/ex.total());",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "create",
          "new_api": "getMat",
          "old_text": "dABdB.create(p * q, q * n, CV_64FC1)",
          "new_text": "B.getMat()",
          "old_line_content": "    dABdB.create(p * q, q * n, CV_64FC1);",
          "new_line_content": "    CV_Assert(A.getMat().cols == B.getMat().rows);",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": "Mat::zeros(p * q, q * n, CV_64FC1)",
          "new_api": "getMat",
          "old_text": "Mat::zeros(p * q, q * n, CV_64FC1)",
          "new_text": "A.getMat()",
          "old_line_content": "    dABdB.getMat() = Mat::zeros(p * q, q * n, CV_64FC1);",
          "new_line_content": "    int p = A.getMat().rows;",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": "col",
          "new_api": "type",
          "old_text": "tmp.col(7)",
          "new_text": "src.type()",
          "old_line_content": "        Mat(src.row(5).t()).copyTo(tmp.col(7));",
          "new_line_content": "    Mat tmp(src.cols, src.rows, src.type());",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "row",
          "new_api": "col",
          "old_text": "tmp.row(0)",
          "new_text": "tmp.col(4)",
          "old_line_content": "        Mat(src.col(0).t()).copyTo(tmp.row(0));",
          "new_line_content": "        Mat(src.row(4).t()).copyTo(tmp.col(4));",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "row",
          "new_api": "col",
          "old_text": "tmp.row(3)",
          "new_text": "tmp.col(7)",
          "old_line_content": "        Mat(src.col(1).t()).copyTo(tmp.row(3));",
          "new_line_content": "        Mat(src.row(5).t()).copyTo(tmp.col(7));",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "row",
          "new_api": "col",
          "old_text": "tmp.row(6)",
          "new_text": "tmp.col(2)",
          "old_line_content": "        Mat(src.col(2).t()).copyTo(tmp.row(6));",
          "new_line_content": "        Mat(src.row(6).t()).copyTo(tmp.col(2));",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "row",
          "new_api": "col",
          "old_text": "tmp.row(1)",
          "new_text": "tmp.col(5)",
          "old_line_content": "        Mat(src.col(3).t()).copyTo(tmp.row(1));",
          "new_line_content": "        Mat(src.row(7).t()).copyTo(tmp.col(5));",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "row",
          "new_api": "col",
          "old_text": "tmp.row(4)",
          "new_text": "tmp.col(8)",
          "old_line_content": "        Mat(src.col(4).t()).copyTo(tmp.row(4));",
          "new_line_content": "        Mat(src.row(8).t()).copyTo(tmp.col(8));",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "clone",
          "new_api": "row",
          "old_text": "tmp.clone()",
          "new_text": "tmp.row(6)",
          "old_line_content": "    dst = tmp.clone();",
          "new_line_content": "        Mat(src.col(2).t()).copyTo(tmp.row(6));",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "getMat",
          "new_api": "clone",
          "old_text": "_om2.getMat()",
          "new_text": "tmp.clone()",
          "old_line_content": "    Mat om2 = _om2.getMat();",
          "new_line_content": "    dst = tmp.clone();",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "Rodrigues",
          "new_api": "getMat",
          "old_text": "Rodrigues(om2, R2, dR2dom2)",
          "new_text": "_om1.getMat()",
          "old_line_content": "    Rodrigues(om2, R2, dR2dom2);",
          "new_line_content": "    Mat om1 = _om1.getMat();",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "JRodriguesMatlab",
          "new_api": "getMat",
          "old_text": "JRodriguesMatlab(dR1dom1, dR1dom1)",
          "new_text": "_om2.getMat()",
          "old_line_content": "    JRodriguesMatlab(dR1dom1, dR1dom1);",
          "new_line_content": "    Mat om2 = _om2.getMat();",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "JRodriguesMatlab",
          "new_api": "getMat",
          "old_text": "JRodriguesMatlab(dR2dom2, dR2dom2)",
          "new_text": "_T1.getMat().reshape(1, 3)",
          "old_line_content": "    JRodriguesMatlab(dR2dom2, dR2dom2);",
          "new_line_content": "    Mat T1 = _T1.getMat().reshape(1, 3);",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "JRodriguesMatlab",
          "new_api": "Rodrigues",
          "old_text": "JRodriguesMatlab(dom3dR3, dom3dR3)",
          "new_text": "Rodrigues(om2, R2, dR2dom2)",
          "old_line_content": "    JRodriguesMatlab(dom3dR3, dom3dR3);",
          "new_line_content": "    Rodrigues(om2, R2, dR2dom2);",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": "empty",
          "new_api": "Mat::eye(3, 3, CV_64FC1)",
          "old_text": "row.empty()",
          "new_text": "Mat::eye(3, 3, CV_64FC1)",
          "old_line_content": "    CV_Assert(!row.empty() && row.rows == 1);",
          "new_line_content": "    dT3dT2 = Mat::eye(3, 3, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "sort",
          "new_api": "Mat::zeros(3, 3, CV_64FC1)",
          "old_text": "sort(tmp, tmp, 0)",
          "new_text": "Mat::zeros(3, 3, CV_64FC1)",
          "old_line_content": "    sort(tmp, tmp, 0);",
          "new_line_content": "    dT3dom1 = Mat::zeros(3, 3, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": "getMat",
          "new_api": "clone",
          "old_text": "m.getMat()",
          "new_text": "row.clone()",
          "old_line_content": "    CV_Assert(m.depth() == CV_64F && m.getMat().rows == 1);",
          "new_line_content": "    Mat tmp = row.clone();",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "getMat",
          "new_api": "sort",
          "old_text": "m.getMat().t()",
          "new_text": "sort(tmp, tmp, 0)",
          "old_line_content": "    Mat M = Mat(m.getMat().t()).reshape(1).t();",
          "new_line_content": "    sort(tmp, tmp, 0);",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "row",
          "new_api": "total",
          "old_text": "M.row(2)",
          "new_text": "tmp.total()",
          "old_line_content": "    return Vec3d(median(M.row(0)), median(M.row(1)), median(M.row(2)));",
          "new_line_content": "    if ((int)tmp.total() % 2) return tmp.at<double>((int)tmp.total() / 2);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1537,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "B.type()",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(A.type() == CV_64FC1 && B.type() == CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "A.getMat()",
          "old_line_content": "",
          "new_line_content": "    int n = A.getMat().cols;",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "B.getMat()",
          "old_line_content": "    for (int i = 0; i < q; ++i)",
          "new_line_content": "    int q = B.getMat().cols;",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "dABdA.create(p * q, p * n, CV_64FC1)",
          "old_line_content": "        for (int j = 0; j < p; ++j)",
          "new_line_content": "    dABdA.create(p * q, p * n, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "dABdB.create(p * q, q * n, CV_64FC1)",
          "old_line_content": "        {",
          "new_line_content": "    dABdB.create(p * q, q * n, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "iR",
          "old_text": null,
          "new_text": "iR(0, 0)",
          "old_line_content": "/// cv::fisheye::undistortImage",
          "new_line_content": "            _x += iR(0, 0);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "iR",
          "old_text": null,
          "new_text": "iR(1, 0)",
          "old_line_content": "",
          "new_line_content": "            _y += iR(1, 0);",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": null,
          "new_api": "iR",
          "old_text": null,
          "new_text": "iR(2, 0)",
          "old_line_content": "void cv::fisheye::undistortImage(InputArray distorted, OutputArray undistorted,",
          "new_line_content": "            _w += iR(2, 0);",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "J.t()",
          "old_line_content": "        {",
          "new_line_content": "        solve(J.t() * J, J.t()*e, deltas);",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "Mat::zeros(p * q, p * n, CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::zeros(p * q, p * n, CV_64FC1)",
          "old_line_content": "            for (int k = 0; k < n; ++k)",
          "new_line_content": "    dABdA.getMat() = Mat::zeros(p * q, p * n, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "rowRange",
          "old_text": null,
          "new_text": "deltas.rowRange(a, a + b)",
          "old_line_content": "",
          "new_line_content": "            intrinsicRight = intrinsicRight + deltas.rowRange(a, a + b);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "rowRange",
          "old_text": null,
          "new_text": "deltas.rowRange(a + b, a + b + 3)",
          "old_line_content": "        cv::Vec6d newTom(Tcur[0], Tcur[1], Tcur[2], omcur[0], omcur[1], omcur[2]);",
          "new_line_content": "        omcur = omcur + cv::Vec3d(deltas.rowRange(a + b, a + b + 3));",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "Mat::zeros(p * q, q * n, CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::zeros(p * q, q * n, CV_64FC1)",
          "old_line_content": "            {",
          "new_line_content": "    dABdB.getMat() = Mat::zeros(p * q, q * n, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "CV_Assert",
          "old_text": null,
          "new_text": "CV_Assert(abs_max < threshold)",
          "old_line_content": "        //update all parameters",
          "new_line_content": "            CV_Assert(abs_max < threshold); // bad stereo pair",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": null,
          "new_api": "rowRange",
          "old_text": null,
          "new_text": "deltas.rowRange(a + b + 6 + image_idx * 6, a + b + 9 + image_idx * 6)",
          "old_line_content": "    double rms = 0;",
          "new_line_content": "            rvecs1[image_idx] = cv::Mat(cv::Mat(rvecs1[image_idx]) + deltas.rowRange(a + b + 6 + image_idx * 6, a + b + 9 + image_idx * 6));",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "B.getMat().at<double>(k, i)",
          "old_line_content": "    }",
          "new_line_content": "                dABdA.getMat().at<double>(ij, kj) = B.getMat().at<double>(k, i);",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "distorted.size()",
          "old_line_content": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////",
          "new_line_content": "    Size size = new_size.area() != 0 ? new_size : distorted.size();",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "cv::norm(newTom)",
          "old_text": null,
          "new_text": "cv::norm(newTom)",
          "old_line_content": "    }",
          "new_line_content": "        change = cv::norm(newTom - oldTom) / cv::norm(newTom);",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "cv::Matx33d::eye()",
          "old_text": null,
          "new_text": "cv::Matx33d::eye()",
          "old_line_content": "void cv::fisheye::estimateNewCameraMatrixForUndistortRectify(InputArray K, InputArray D, const Size &image_size, InputArray R,",
          "new_line_content": "    fisheye::initUndistortRectifyMap(K, D, cv::Matx33d::eye(), Knew, size, CV_16SC2, map1, map2 );",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "cv::remap(distorted, undistorted, map1, map2, INTER_LINEAR, BORDER_CONSTANT)",
          "old_text": null,
          "new_text": "cv::remap(distorted, undistorted, map1, map2, INTER_LINEAR, BORDER_CONSTANT)",
          "old_line_content": "    OutputArray P, double balance, const Size& new_size, double fov_scale)",
          "new_line_content": "    cv::remap(distorted, undistorted, map1, map2, INTER_LINEAR, BORDER_CONSTANT);",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "e.ptr<Vec2d>()",
          "old_text": null,
          "new_text": "e.ptr<Vec2d>()",
          "old_line_content": "",
          "new_line_content": "    const Vec2d* ptr_e = e.ptr<Vec2d>();",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "dABdB.getMat().rowRange(i * p, i * p + p).colRange(i * n, i * n + n)",
          "old_line_content": "    {",
          "new_line_content": "        A.getMat().copyTo(dABdB.getMat().rowRange(i * p, i * p + p).colRange(i * n, i * n + n));",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "e.total()",
          "old_line_content": "                                        0,                        intrinsicRight.f[1], intrinsicRight.c[1],",
          "new_line_content": "    rms /= ((double)e.total() / 2.0);",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": null,
          "new_api": "sqrt",
          "old_text": null,
          "new_text": "sqrt(rms)",
          "old_line_content": "                                        0,                                          0,                  1);",
          "new_line_content": "    rms = sqrt(rms);",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "Matx33d",
          "old_text": null,
          "new_text": "Matx33d(intrinsicLeft.f[0], intrinsicLeft.f[0] * intrinsicLeft.alpha, intrinsicLeft.c[0],\n                                       0,                       intrinsicLeft.f[1], intrinsicLeft.c[1],\n                                       0,                                        0,                 1)",
          "old_line_content": "    Mat _R;",
          "new_line_content": "    _K1 = Matx33d(intrinsicLeft.f[0], intrinsicLeft.f[0] * intrinsicLeft.alpha, intrinsicLeft.c[0],",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    cv::Mat points(1, 4, CV_64FC2);",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "tmp.col(3)",
          "old_line_content": "    }",
          "new_line_content": "        Mat(src.row(1).t()).copyTo(tmp.col(3));",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "tmp.col(6)",
          "old_line_content": "    else",
          "new_line_content": "        Mat(src.row(2).t()).copyTo(tmp.col(6));",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "tmp.col(1)",
          "old_line_content": "    {",
          "new_line_content": "        Mat(src.row(3).t()).copyTo(tmp.col(1));",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "std::max(balance, 0.0)",
          "old_text": null,
          "new_text": "std::max(balance, 0.0)",
          "old_line_content": "",
          "new_line_content": "    balance = std::min(std::max(balance, 0.0), 1.0);",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "Rodrigues",
          "old_text": null,
          "new_text": "Rodrigues(omcur, _R)",
          "old_line_content": "",
          "new_line_content": "    Rodrigues(omcur, _R);",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": null,
          "new_api": "points.ptr<Vec2d>()",
          "old_text": null,
          "new_text": "points.ptr<Vec2d>()",
          "old_line_content": "    cv::Vec2d cn(center_mass.val);",
          "new_line_content": "    Vec2d* pptr = points.ptr<Vec2d>();",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "Vec2d",
          "old_text": null,
          "new_text": "Vec2d(w/2, 0)",
          "old_line_content": "",
          "new_line_content": "    pptr[0] = Vec2d(w/2, 0);",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "K1.type()",
          "old_line_content": "}",
          "new_line_content": "    if (K1.needed()) cv::Mat(_K1).convertTo(K1, K1.empty() ? CV_64FC1 : K1.type());",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "K2.type()",
          "old_line_content": "",
          "new_line_content": "    if (K2.needed()) cv::Mat(_K2).convertTo(K2, K2.empty() ? CV_64FC1 : K2.type());",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "Vec2d",
          "old_text": null,
          "new_text": "Vec2d(0, h/2)",
          "old_line_content": "",
          "new_line_content": "    pptr[3] = Vec2d(0, h/2);",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "D1.type()",
          "old_line_content": "namespace cv{ namespace {",
          "new_line_content": "    if (D1.needed()) cv::Mat(intrinsicLeft.k).convertTo(D1, D1.empty() ? CV_64FC1 : D1.type());",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": null,
          "new_api": "fisheye::undistortPoints(points, points, K, D, R)",
          "old_text": null,
          "new_text": "fisheye::undistortPoints(points, points, K, D, R)",
          "old_line_content": "    cn[0] *= aspect_ratio;",
          "new_line_content": "    fisheye::undistortPoints(points, points, K, D, R);",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "D2.type()",
          "old_line_content": "void subMatrix(const Mat& src, Mat& dst, const std::vector<uchar>& cols, const std::vector<uchar>& rows)",
          "new_line_content": "    if (D2.needed()) cv::Mat(intrinsicRight.k).convertTo(D2, D2.empty() ? CV_64FC1 : D2.type());",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "R.type()",
          "old_line_content": "{",
          "new_line_content": "    if (R.needed()) _R.convertTo(R, R.empty() ? CV_64FC1 : R.type());",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(3)",
          "old_line_content": "    }",
          "new_line_content": "        Mat(src.col(1).t()).copyTo(tmp.row(3));",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "K.getMat().at<float> (1,1)",
          "old_line_content": "    double minx = DBL_MAX, miny = DBL_MAX, maxx = -DBL_MAX, maxy = -DBL_MAX;",
          "new_line_content": "    double aspect_ratio = (K.depth() == CV_32F) ? K.getMat().at<float >(0,0)/K.getMat().at<float> (1,1)",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(1)",
          "old_line_content": "}",
          "new_line_content": "        Mat(src.col(3).t()).copyTo(tmp.row(1));",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(4)",
          "old_line_content": "",
          "new_line_content": "        Mat(src.col(4).t()).copyTo(tmp.row(4));",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(7)",
          "old_line_content": "void cv::internal::compose_motion(InputArray _om1, InputArray _T1, InputArray _om2, InputArray _T2,",
          "new_line_content": "        Mat(src.col(5).t()).copyTo(tmp.row(7));",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "src.channels()",
          "old_line_content": "        {",
          "new_line_content": "    CV_Assert(src.channels() == 1);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(2)",
          "old_line_content": "                    Mat& om3, Mat& T3, Mat& dom3dom1, Mat& dom3dT1, Mat& dom3dom2,",
          "new_line_content": "        Mat(src.col(6).t()).copyTo(tmp.row(2));",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": null,
          "new_api": "cv::countNonZero(cols)",
          "old_text": null,
          "new_text": "cv::countNonZero(cols)",
          "old_line_content": "        }",
          "new_line_content": "    int nonzeros_cols = cv::countNonZero(cols);",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(5)",
          "old_line_content": "                    Mat& dom3dT2, Mat& dT3dom1, Mat& dT3dT1, Mat& dT3dom2, Mat& dT3dT2)",
          "new_line_content": "        Mat(src.col(7).t()).copyTo(tmp.row(5));",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "tmp.row(8)",
          "old_line_content": "{",
          "new_line_content": "        Mat(src.col(8).t()).copyTo(tmp.row(8));",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "points.total()",
          "old_line_content": "    double f1 = w * 0.5/(cn[0] - minx);",
          "new_line_content": "    for(size_t i = 0; i < points.total(); ++i)",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "std::min(miny, pptr[i][1])",
          "old_text": null,
          "new_text": "std::min(miny, pptr[i][1])",
          "old_line_content": "    double f3 = h * 0.5 * aspect_ratio/(cn[1] - miny);",
          "new_line_content": "        miny = std::min(miny, pptr[i][1]);",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "std::max(maxy, pptr[i][1])",
          "old_text": null,
          "new_text": "std::max(maxy, pptr[i][1])",
          "old_line_content": "    double f4 = h * 0.5 * aspect_ratio/(maxy - cn[1]);",
          "new_line_content": "        maxy = std::max(maxy, pptr[i][1]);",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "std::min(minx, pptr[i][0])",
          "old_text": null,
          "new_text": "std::min(minx, pptr[i][0])",
          "old_line_content": "",
          "new_line_content": "        minx = std::min(minx, pptr[i][0]);",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "tmp.col(j++)",
          "old_line_content": "        if (rows[i])",
          "new_line_content": "            src.col(i).copyTo(tmp.col(j++));",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "_T2.getMat().reshape(1, 3)",
          "old_line_content": "    R3 = R2 * R1;",
          "new_line_content": "    Mat T2 = _T2.getMat().reshape(1, 3);",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "cv::countNonZero(rows)",
          "old_text": null,
          "new_text": "cv::countNonZero(rows)",
          "old_line_content": "    }",
          "new_line_content": "    int nonzeros_rows  = cv::countNonZero(rows);",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "dst.create(nonzeros_rows, nonzeros_cols, CV_64F)",
          "old_line_content": "}",
          "new_line_content": "    dst.create(nonzeros_rows, nonzeros_cols, CV_64F);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "rows.size()",
          "old_line_content": "",
          "new_line_content": "    for (int i = 0, j = 0; i < (int)rows.size(); i++)",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": null,
          "new_api": "JRodriguesMatlab",
          "old_text": null,
          "new_text": "JRodriguesMatlab(dR1dom1, dR1dom1)",
          "old_line_content": "    dom3dom1 = dom3dR3 * dR3dR1 * dR1dom1;",
          "new_line_content": "    JRodriguesMatlab(dR1dom1, dR1dom1);",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "JRodriguesMatlab",
          "old_text": null,
          "new_text": "JRodriguesMatlab(dR2dom2, dR2dom2)",
          "old_line_content": "    dom3dom2 = dom3dR3 * dR3dR2 * dR2dom2;",
          "new_line_content": "    JRodriguesMatlab(dR2dom2, dR2dom2);",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "std::min(f3, f4)",
          "old_text": null,
          "new_text": "std::min(f3, f4)",
          "old_line_content": "    // restore aspect ratio",
          "new_line_content": "    double fmin = std::min(f1, std::min(f2, std::min(f3, f4)));",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": null,
          "new_api": "std::max(f3, f4)",
          "old_text": null,
          "new_text": "std::max(f3, f4)",
          "old_line_content": "    new_f[1] /= aspect_ratio;",
          "new_line_content": "    double fmax = std::max(f1, std::max(f2, std::max(f3, f4)));",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "dAB",
          "old_text": null,
          "new_text": "dAB(R2, R1, dR3dR2, dR3dR1)",
          "old_line_content": "",
          "new_line_content": "    dAB(R2, R1, dR3dR2, dR3dR1);",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": null,
          "new_api": "Rodrigues",
          "old_text": null,
          "new_text": "Rodrigues(R3, om3, dom3dR3)",
          "old_line_content": "    Mat T3t = R2 * T1;",
          "new_line_content": "    Rodrigues(R3, om3, dom3dR3);",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": null,
          "new_api": "JRodriguesMatlab",
          "old_text": null,
          "new_text": "JRodriguesMatlab(dom3dR3, dom3dR3)",
          "old_line_content": "    Mat dT3tdR2, dT3tdT1;",
          "new_line_content": "    JRodriguesMatlab(dom3dR3, dom3dR3);",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": null,
          "new_api": "Vec2d",
          "old_text": null,
          "new_text": "Vec2d(w, h * aspect_ratio)",
          "old_line_content": "        double rx = new_size.width /(double)image_size.width;",
          "new_line_content": "    cv::Vec2d new_f(f, f), new_c = -cn * f + Vec2d(w, h * aspect_ratio) * 0.5;",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "Mat::zeros(3, 3, CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::zeros(3, 3, CV_64FC1)",
          "old_line_content": "    T3 = T3t + T2;",
          "new_line_content": "    dom3dT1 = Mat::zeros(3, 3, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "Mat::zeros(3, 3, CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::zeros(3, 3, CV_64FC1)",
          "old_line_content": "    dT3dT1 = dT3tdT1;",
          "new_line_content": "    dom3dT2 = Mat::zeros(3, 3, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "Vec4d::all(0)",
          "old_text": null,
          "new_text": "Vec4d::all(0)",
          "old_line_content": "",
          "new_line_content": "    f(Vec2d::all(0)), c(Vec2d::all(0)), k(Vec4d::all(0)), alpha(0), isEstimate(9,0)",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": null,
          "new_api": "area",
          "old_text": null,
          "new_text": "new_size.area()",
          "old_line_content": "",
          "new_line_content": "    if (new_size.area() > 0)",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "dAB",
          "old_text": null,
          "new_text": "dAB(R2, T1, dT3tdR2, dT3tdT1)",
          "old_line_content": "",
          "new_line_content": "    dAB(R2, T1, dT3tdR2, dT3tdT1);",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "a.type()",
          "old_line_content": "    tmp.alpha   = this->alpha   + (isEstimate[4] ? ptr[j++] : 0);",
          "new_line_content": "    CV_Assert(a.type() == CV_64FC1);",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "Matx33d",
          "old_text": null,
          "new_text": "Matx33d(new_f[0], 0, new_c[0],\n                0, new_f[1], new_c[1],\n                0,        0,       1)",
          "old_line_content": "",
          "new_line_content": "    Mat(Matx33d(new_f[0], 0, new_c[0],",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "a.ptr<double>()",
          "old_text": null,
          "new_text": "a.ptr<double>()",
          "old_line_content": "    tmp.k[0]    = this->k[0]    + (isEstimate[5] ? ptr[j++] : 0);",
          "new_line_content": "    const double* ptr = a.ptr<double>();",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "P.type()",
          "old_line_content": "        InputArray _R, InputArray _tvec, OutputArray R1, OutputArray R2, OutputArray P1, OutputArray P2,",
          "new_line_content": "                0,        0,       1)).convertTo(P, P.empty() ? K.type() : P.type());",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "row.type()",
          "old_line_content": "cv::Vec3d cv::internal::median3d(InputArray m)",
          "new_line_content": "    CV_Assert(row.type() == CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "row.empty()",
          "old_line_content": "{",
          "new_line_content": "    CV_Assert(!row.empty() && row.rows == 1);",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "tmp.total()",
          "old_line_content": "}",
          "new_line_content": "    else return 0.5 *(tmp.at<double>((int)tmp.total() / 2) + tmp.at<double>((int)tmp.total() / 2 - 1));",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "m.getMat()",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(m.depth() == CV_64F && m.getMat().rows == 1);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    Vec3d rvec; // Rodrigues vector",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "m.getMat().t()",
          "old_line_content": "",
          "new_line_content": "    Mat M = Mat(m.getMat().t()).reshape(1).t();",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "depth",
          "old_text": null,
          "new_text": "_R.depth()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert((_R.size() == Size(3, 3) || _R.total() * _R.channels() == 3) && (_R.depth() == CV_32F || _R.depth() == CV_64F));",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "depth",
          "old_text": null,
          "new_text": "_tvec.depth()",
          "old_line_content": "        cv::Matx33d rmat;",
          "new_line_content": "    CV_Assert(_tvec.total() * _tvec.channels() == 3 && (_tvec.depth() == CV_32F || _tvec.depth() == CV_64F));",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "M.row(2)",
          "old_line_content": "",
          "new_line_content": "    return Vec3d(median(M.row(0)), median(M.row(1)), median(M.row(2)));",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "_tvec.getMat().reshape(3, 1)",
          "old_line_content": "    }",
          "new_line_content": "    cv::Mat aaa = _tvec.getMat().reshape(3, 1);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "a.type()",
          "old_line_content": "    this->c[1]  = isEstimate[3] ? ptr[j++] : 0;",
          "new_line_content": "    CV_Assert(a.type() == CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "a.ptr<double>()",
          "old_text": null,
          "new_text": "a.ptr<double>()",
          "old_line_content": "    this->alpha = isEstimate[4] ? ptr[j++] : 0;",
          "new_line_content": "    const double* ptr = a.ptr<double>();",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(3, 3)",
          "old_line_content": "",
          "new_line_content": "    if (_R.size() == Size(3, 3))",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "_R.getMat().convertTo(rmat, CV_64F)",
          "old_line_content": "",
          "new_line_content": "        _R.getMat().convertTo(rmat, CV_64F);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "rvec",
          "old_text": null,
          "new_text": "Affine3d(rmat).rvec()",
          "old_line_content": "    // rectification algorithm",
          "new_line_content": "        rvec = Affine3d(rmat).rvec();",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "_R.channels()",
          "old_line_content": "",
          "new_line_content": "    else if (_R.total() * _R.channels() == 3)",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "_R.getMat().convertTo(rvec, CV_64F)",
          "old_line_content": "    Matx33d r_r;",
          "new_line_content": "        _R.getMat().convertTo(rvec, CV_64F);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "_tvec.getMat().convertTo(tvec, CV_64F)",
          "old_line_content": "    Vec3d t = r_r * tvec;",
          "new_line_content": "    _tvec.getMat().convertTo(tvec, CV_64F);",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "Rodrigues",
          "old_text": null,
          "new_text": "Rodrigues(rvec, r_r)",
          "old_line_content": "    if (nw > 0.0)",
          "new_line_content": "    Rodrigues(rvec, r_r);  // rotate cameras to same orientation by averaging",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "cross",
          "old_text": null,
          "new_text": "t.cross(uu)",
          "old_line_content": "    // apply to both views",
          "new_line_content": "    Vec3d ww = t.cross(uu);",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "cv::norm(t)",
          "old_text": null,
          "new_text": "cv::norm(t)",
          "old_line_content": "    Matx33d ri2 = wr * r_r;",
          "new_line_content": "        ww *= acos(fabs(t[0])/cv::norm(t))/nw;",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": null,
          "new_api": "Rodrigues",
          "old_text": null,
          "new_text": "Rodrigues(ww, wr)",
          "old_line_content": "",
          "new_line_content": "    Rodrigues(ww, wr);",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "objectPoints.type()",
          "old_line_content": "                            Mat&  tvec, Mat& J, const int MaxIter,",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && objectPoints.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "estimateNewCameraMatrixForUndistortRectify",
          "old_text": null,
          "new_text": "estimateNewCameraMatrixForUndistortRectify(K1, D1, imageSize, R1, newK1, balance, newImageSize, fov_scale)",
          "old_line_content": "    // of the two principal points (either one of or both x- and y- coordinates)",
          "new_line_content": "    estimateNewCameraMatrixForUndistortRectify(K1, D1, imageSize, R1, newK1, balance, newImageSize, fov_scale);",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "estimateNewCameraMatrixForUndistortRectify",
          "old_text": null,
          "new_text": "estimateNewCameraMatrixForUndistortRectify(K2, D2, imageSize, R2, newK2, balance, newImageSize, fov_scale)",
          "old_line_content": "    if( flags & cv::CALIB_ZERO_DISPARITY )",
          "new_line_content": "    estimateNewCameraMatrixForUndistortRectify(K2, D2, imageSize, R2, newK2, balance, newImageSize, fov_scale);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "objectPoints.type()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && objectPoints.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "newK2",
          "old_text": null,
          "new_text": "newK2(1,1)",
          "old_line_content": "    else",
          "new_line_content": "    double fc_new = std::min(newK1(1,1), newK2(1,1));",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "newK2",
          "old_text": null,
          "new_text": "newK2(1, 2)",
          "old_line_content": "        cc_new[0].y = cc_new[1].y = (cc_new[0].y + cc_new[1].y)*0.5;",
          "new_line_content": "    Point2d cc_new[2] = { Vec2d(newK1(0, 2), newK1(1, 2)), Vec2d(newK2(0, 2), newK2(1, 2)) };",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "imagePoints.type()",
          "old_line_content": "        std::vector<Point2d> x;",
          "new_line_content": "    CV_Assert(!imagePoints.empty() && imagePoints.type() == CV_64FC2);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "rvec.at<double>(2)",
          "old_text": null,
          "new_text": "rvec.at<double>(2)",
          "old_line_content": "        Mat jacobians;",
          "new_line_content": "    Vec6d extrinsics(rvec.at<double>(0), rvec.at<double>(1), rvec.at<double>(2),",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "Mat(x).t()",
          "old_line_content": "        if (condJJ > thresh_cond)",
          "new_line_content": "        Mat ex = imagePoints - Mat(x).t();",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "P1.type()",
          "old_line_content": "                    0, 1, 0,           -cc_new[0].y,",
          "new_line_content": "                0,      0,           1, 0), false).convertTo(P1, P1.empty() ? CV_64F : P1.type());",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "reshape",
          "old_text": null,
          "new_text": "ex.reshape(1, 2)",
          "old_line_content": "            change = 0;",
          "new_line_content": "        ex = ex.reshape(1, 2);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "jacobians.colRange(8, 14).clone()",
          "old_line_content": "        {",
          "new_line_content": "        J = jacobians.colRange(8, 14).clone();",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "P2.type()",
          "old_line_content": "",
          "new_line_content": "                0,      0,           1,              0), false).convertTo(P2, P2.empty() ? CV_64F : P2.type());",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "svd.w.at<double>(5)",
          "old_text": null,
          "new_text": "svd.w.at<double>(5)",
          "old_line_content": "",
          "new_line_content": "        double condJJ = svd.w.at<double>(0)/svd.w.at<double>(5);",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "needed",
          "old_text": null,
          "new_text": "Q.needed()",
          "old_line_content": "/// cv::fisheye::calibrate",
          "new_line_content": "    if (Q.needed())",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "Matx44d",
          "old_text": null,
          "new_text": "Matx44d(1, 0, 0,           -cc_new[0].x,\n                    0, 1, 0,           -cc_new[0].y,\n                    0, 0, 0,            fc_new,\n                    0, 0, -1./tnew[0], (cc_new[0].x - cc_new[1].x)/tnew[0])",
          "old_line_content": "",
          "new_line_content": "        Mat(Matx44d(1, 0, 0,           -cc_new[0].x,",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "depth",
          "old_text": null,
          "new_text": "Q.depth()",
          "old_line_content": "                                    int flags , cv::TermCriteria criteria)",
          "new_line_content": "                    0, 0, -1./tnew[0], (cc_new[0].x - cc_new[1].x)/tnew[0]), false).convertTo(Q, Q.empty() ? CV_64F : Q.depth());",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": null,
          "new_api": "norm",
          "old_text": null,
          "new_text": "norm(param_up)",
          "old_line_content": "}",
          "new_line_content": "            change = norm(param_innov)/norm(param_up);",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "Vec3d",
          "old_text": null,
          "new_text": "Vec3d(extrinsics.val+3)",
          "old_line_content": "",
          "new_line_content": "            tvec = Mat(Vec3d(extrinsics.val+3));",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "objectPoints.type()",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "imagePoints.type()",
          "old_line_content": "    using namespace cv::internal;",
          "new_line_content": "    CV_Assert(imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(3,3)",
          "old_line_content": "    //-------------------------------Initialization",
          "new_line_content": "    CV_Assert(K.empty() || (K.size() == Size(3,3)));",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "D.total()",
          "old_line_content": "    IntrinsicParams finalParam;",
          "new_line_content": "    CV_Assert(D.empty() || (D.total() == 4));",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "rvecs.channels()",
          "old_line_content": "    IntrinsicParams currentParam;",
          "new_line_content": "    CV_Assert(rvecs.empty() || (rvecs.channels() == 3));",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "tvecs.channels()",
          "old_line_content": "    IntrinsicParams errors;",
          "new_line_content": "    CV_Assert(tvecs.empty() || (tvecs.channels() == 3));",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    if (M.rows < 3)",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "D.empty()",
          "old_line_content": "    finalParam.isEstimate[0] = 1;",
          "new_line_content": "    CV_Assert((!K.empty() && !D.empty()) || !(flags & CALIB_USE_INTRINSIC_GUESS));",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "Mat::ones(1, Np, CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::ones(1, Np, CV_64FC1)",
          "old_line_content": "",
          "new_line_content": "        vconcat(M, Mat::ones(1, Np, CV_64FC1), M);",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "m.row(2)",
          "old_line_content": "",
          "new_line_content": "    divide(m, Mat::ones(3, 1, CV_64FC1) * m.row(2), m);",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "M.row(2)",
          "old_line_content": "    ax = ax - mxx;",
          "new_line_content": "    divide(M, Mat::ones(3, 1, CV_64FC1) * M.row(2), M);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "m.row(0).clone()",
          "old_line_content": "",
          "new_line_content": "    Mat ax = m.row(0).clone();",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "mean",
          "old_text": null,
          "new_text": "mean(ax)",
          "old_line_content": "",
          "new_line_content": "    double mxx = mean(ax)[0];",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs(ax)",
          "old_line_content": "                                    0,  scyy,   myy,",
          "new_line_content": "    double scxx = mean(abs(ax))[0];",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs(ay)",
          "old_line_content": "                                    0,     0,     1 ));",
          "new_line_content": "    double scyy = mean(abs(ay))[0];",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "Matx33d",
          "old_text": null,
          "new_text": "Matx33d( 1/scxx,        0.0,     -mxx/scxx,\n                         0.0,     1/scyy,     -myy/scyy,\n                         0.0,        0.0,           1.0 )",
          "old_line_content": "",
          "new_line_content": "    Mat Hnorm (Matx33d( 1/scxx,        0.0,     -mxx/scxx,",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "Matx33d",
          "old_text": null,
          "new_text": "Matx33d( scxx,     0,   mxx,\n                                    0,  scyy,   myy,\n                                    0,     0,     1 )",
          "old_line_content": "    {",
          "new_line_content": "    Mat inv_Hnorm (Matx33d( scxx,     0,   mxx,",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "D.getMat().convertTo(_D, CV_64FC1)",
          "old_line_content": "    }",
          "new_line_content": "        D.getMat().convertTo(_D, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "_K",
          "old_text": null,
          "new_text": "_K(1, 1)",
          "old_line_content": "    else",
          "new_line_content": "        finalParam.Init(Vec2d(_K(0,0), _K(1, 1)),",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "_K",
          "old_text": null,
          "new_text": "_K(1, 2)",
          "old_line_content": "    {",
          "new_line_content": "                        Vec2d(_K(0,2), _K(1, 2)),",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": null,
          "new_api": "_K",
          "old_text": null,
          "new_text": "_K(0, 0)",
          "old_line_content": "    errors.isEstimate = finalParam.isEstimate;",
          "new_line_content": "                        _K(0, 1) / _K(0, 0));",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "M.at<double>(j, i)",
          "old_text": null,
          "new_text": "M.at<double>(j, i)",
          "old_line_content": "    SVD svd(L);",
          "new_line_content": "            L.at<double>(2 * i, j) = M.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "Vec2d",
          "old_text": null,
          "new_text": "Vec2d(image_size.width  / 2.0 - 0.5, image_size.height / 2.0 - 0.5)",
          "old_line_content": "",
          "new_line_content": "                        Vec2d(image_size.width  / 2.0 - 0.5, image_size.height / 2.0 - 0.5));",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "M.at<double>(j, i)",
          "old_text": null,
          "new_text": "M.at<double>(j, i)",
          "old_line_content": "    Mat H = inv_Hnorm * Hrem;",
          "new_line_content": "            L.at<double>(2 * i + 1, j + 6) = -mn.at<double>(1,i) * M.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "objectPoints.total()",
          "old_line_content": "        if ((criteria.type == 1 && iter >= criteria.maxCount)  ||",
          "new_line_content": "    std::vector<Vec3d> omc(objectPoints.total()), Tc(objectPoints.total());",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "svd.vt.row(8).at<double>(8)",
          "old_line_content": "        {",
          "new_line_content": "    Mat hh = svd.vt.row(8) / svd.vt.row(8).at<double>(8);",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "CalibrateExtrinsics",
          "old_text": null,
          "new_text": "CalibrateExtrinsics(objectPoints, imagePoints, finalParam, check_cond, thresh_cond, omc, Tc)",
          "old_line_content": "            (criteria.type == 3 && (change <= criteria.epsilon || iter >= criteria.maxCount)))",
          "new_line_content": "    CalibrateExtrinsics(objectPoints, imagePoints, finalParam, check_cond, thresh_cond, omc, Tc);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "reshape",
          "old_text": null,
          "new_text": "hh.reshape(1, 3)",
          "old_line_content": "            Mat mrep = H * M;",
          "new_line_content": "    Mat Hrem = hh.reshape(1, 3);",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "std::numeric_limits<int>::max()",
          "old_text": null,
          "new_text": "std::numeric_limits<int>::max()",
          "old_line_content": "",
          "new_line_content": "    for(int iter = 0; iter < std::numeric_limits<int>::max(); ++iter)",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": null,
          "new_api": "std::pow(1 - alpha_smooth, iter + 1.0)",
          "old_text": null,
          "new_text": "std::pow(1 - alpha_smooth, iter + 1.0)",
          "old_line_content": "",
          "new_line_content": "        double alpha_smooth2 = 1 - std::pow(1 - alpha_smooth, iter + 1.0);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(0, 2, mrep.cols, 1)",
          "old_line_content": "            for (int i = 0; i < Np; ++i)",
          "new_line_content": "            divide(M, Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 2, mrep.cols, 1)), MMM);",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(0, 2, mrep.cols, 1)",
          "old_line_content": "            {",
          "new_line_content": "            divide(mrep, Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 2, mrep.cols, 1)), mrep);",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(0,0, mrep.cols, 2)",
          "old_line_content": "                for (int j = 0; j < 3; ++j)",
          "new_line_content": "            Mat m_err = m(Rect(0,0, m.cols, 2)) - mrep(Rect(0,0, mrep.cols, 2));",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "m_err.t()",
          "old_line_content": "                {",
          "new_line_content": "            m_err = Mat(m_err.t()).reshape(1, m_err.cols * m_err.rows);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "solve",
          "old_text": null,
          "new_text": "solve(JJ2, ex3, G)",
          "old_line_content": "",
          "new_line_content": "        solve(JJ2, ex3, G);",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(0, 1, mrep.cols, 1)",
          "old_line_content": "                }",
          "new_line_content": "            multiply(Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 1, mrep.cols, 1)), MMM, MMM3);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "Vec4d",
          "old_text": null,
          "new_text": "Vec4d(finalParam.f[0], finalParam.f[1], finalParam.c[0], finalParam.c[1])",
          "old_line_content": "                                    thresh_cond, omc, Tc);",
          "new_line_content": "                Vec4d(finalParam.f[0], finalParam.f[1], finalParam.c[0], finalParam.c[1]))",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": null,
          "new_api": "Vec4d",
          "old_text": null,
          "new_text": "Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1])",
          "old_line_content": "        }",
          "new_line_content": "                / norm(Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1]));",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "MMM.at<double>(j, i)",
          "old_text": null,
          "new_text": "MMM.at<double>(j, i)",
          "old_line_content": "                }",
          "new_line_content": "                    J.at<double>(2 * i, j)         = -MMM.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "MMM.at<double>(j, i)",
          "old_text": null,
          "new_text": "MMM.at<double>(j, i)",
          "old_line_content": "            }",
          "new_line_content": "                    J.at<double>(2 * i + 1, j + 3) = -MMM.at<double>(j, i);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "CalibrateExtrinsics",
          "old_text": null,
          "new_text": "CalibrateExtrinsics(objectPoints,  imagePoints, finalParam, check_cond,\n                                    thresh_cond, omc, Tc)",
          "old_line_content": "                              check_cond, rms);",
          "new_line_content": "            CalibrateExtrinsics(objectPoints,  imagePoints, finalParam, check_cond,",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(0,2,mrep.cols,1)",
          "old_line_content": "        }",
          "new_line_content": "            divide(M, Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0,2,mrep.cols,1)), MMM);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "J.t()",
          "old_line_content": "    }",
          "new_line_content": "            Mat hh_innov = (J.t() * J).inv() * (J.t()) * m_err;",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "Mat::ones(1,1,CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::ones(1,1,CV_64FC1)",
          "old_line_content": "",
          "new_line_content": "            vconcat(hhv_up, Mat::ones(1,1,CV_64FC1), tmp);",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "reshape",
          "old_text": null,
          "new_text": "tmp.reshape(1,3)",
          "old_line_content": "cv::Mat cv::internal::NormalizePixels(const Mat& imagePoints, const IntrinsicParams& param)",
          "new_line_content": "            Mat H_up = tmp.reshape(1,3);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "K.type()",
          "old_line_content": "",
          "new_line_content": "    if (K.needed()) cv::Mat(_K).convertTo(K, K.empty() ? CV_64FC1 : K.type());",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "objectPoints.total()",
          "old_line_content": "        for(int i = 0; i < N; i++ )",
          "new_line_content": "        int N = (int)objectPoints.total();",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    {",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "imagePoints.type()",
          "old_line_content": "        ptr_d[i][0] -= param.alpha * ptr_d[i][1];",
          "new_line_content": "    CV_Assert(!imagePoints.empty() && imagePoints.type() == CV_64FC2);",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "tvecs.create(N, 1, CV_64FC3)",
          "old_line_content": "        }",
          "new_line_content": "            tvecs.create(N, 1, CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "imagePoints.ptr<Vec2d>()",
          "old_text": null,
          "new_text": "imagePoints.ptr<Vec2d>()",
          "old_line_content": "    return undistorted;",
          "new_line_content": "    const Vec2d* ptr   = imagePoints.ptr<Vec2d>();",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "distorted.ptr<Vec2d>()",
          "old_text": null,
          "new_text": "distorted.ptr<Vec2d>()",
          "old_line_content": "}",
          "new_line_content": "    Vec2d* ptr_d = distorted.ptr<Vec2d>();",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "imagePoints.total()",
          "old_line_content": "",
          "new_line_content": "    for (size_t i = 0; i < imagePoints.total(); ++i)",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "Vec2d",
          "old_text": null,
          "new_text": "Vec2d(1.0 / param.f[0], 1.0 / param.f[1])",
          "old_line_content": "{",
          "new_line_content": "        ptr_d[i] = (ptr[i] - param.c).mul(Vec2d(1.0 / param.f[0], 1.0 / param.f[1]));",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "rvecs.getMat(i).ptr()",
          "old_line_content": "    }",
          "new_line_content": "            memcpy(rvecs.getMat(i).ptr(), omc[i].val, sizeof(Vec3d));",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "tvecs.getMat(i).ptr()",
          "old_line_content": "",
          "new_line_content": "            memcpy(tvecs.getMat(i).ptr(), Tc[i].val, sizeof(Vec3d));",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "Matx33d::eye()",
          "old_text": null,
          "new_text": "Matx33d::eye()",
          "old_line_content": "",
          "new_line_content": "    cv::fisheye::undistortPoints(distorted, undistorted, Matx33d::eye(), param.k);",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "rvecs.type()",
          "old_line_content": "/// cv::fisheye::stereoCalibrate",
          "new_line_content": "        if (rvecs.needed()) cv::Mat(omc).convertTo(rvecs, rvecs.empty() ? CV_64FC3 : rvecs.type());",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "tvecs.type()",
          "old_line_content": "",
          "new_line_content": "        if (tvecs.needed()) cv::Mat(Tc).convertTo(tvecs, tvecs.empty() ? CV_64FC3 : tvecs.type());",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "_imagePoints.type()",
          "old_line_content": "    SVD svd(covObjectPoints);",
          "new_line_content": "    CV_Assert(!_imagePoints.empty() && _imagePoints.type() == CV_64FC2);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(2, 0, 1, 2)",
          "old_line_content": "    H = H / sc;",
          "new_line_content": "    if (norm(R(Rect(2, 0, 1, 2))) < 1e-6)",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "objectPoints.type()",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(0,0,X_new.cols,2)",
          "old_line_content": "    Mat RRR;",
          "new_line_content": "    Mat H = ComputeHomography(imagePointsNormalized, X_new(Rect(0,0,X_new.cols,2)));",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "imagePoints2.type()",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(imagePoints2.type() == CV_32FC2 || imagePoints2.type() == CV_64FC2);",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(3,3)",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(K1.empty() || (K1.size() == Size(3,3)));",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "D1.total()",
          "old_line_content": "    const int threshold = 50;",
          "new_line_content": "    CV_Assert(D1.empty() || (D1.total() == 4));",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(3,3)",
          "old_line_content": "    const double thresh_cond = 1e6;",
          "new_line_content": "    CV_Assert(K2.empty() || (K1.size() == Size(3,3)));",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "D1.total()",
          "old_line_content": "    const int check_cond = 1;",
          "new_line_content": "    CV_Assert(D2.empty() || (D1.total() == 4));",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "norm",
          "old_text": null,
          "new_text": "norm(u2)",
          "old_line_content": "    Tckk = Tckk + Rckk * T;",
          "new_line_content": "    u2 = u2 / norm(u2);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "cross",
          "old_text": null,
          "new_text": "u1.cross(u2)",
          "old_line_content": "    Rckk = Rckk * R;",
          "new_line_content": "    Mat u3 = u1.cross(u2);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "hconcat",
          "old_text": null,
          "new_text": "hconcat(u1, u2, RRR)",
          "old_line_content": "}",
          "new_line_content": "    hconcat(u1, u2, RRR);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "hconcat",
          "old_text": null,
          "new_text": "hconcat(RRR, u3, RRR)",
          "old_line_content": "",
          "new_line_content": "    hconcat(RRR, u3, RRR);",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": null,
          "new_api": "Rodrigues",
          "old_text": null,
          "new_text": "Rodrigues(RRR, omckk)",
          "old_line_content": "void cv::internal::CalibrateExtrinsics(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints,",
          "new_line_content": "    Rodrigues(RRR, omckk);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "Rodrigues",
          "old_text": null,
          "new_text": "Rodrigues(omckk, Rckk)",
          "old_line_content": "                         const IntrinsicParams& param, const int check_cond,",
          "new_line_content": "    Rodrigues(omckk, Rckk);",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "H.col(2).clone()",
          "old_line_content": "                         const double thresh_cond, InputOutputArray omc, InputOutputArray Tc)",
          "new_line_content": "    Tckk = H.col(2).clone();",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "objectPoints.getMat(0).total()",
          "old_line_content": "    cv::internal::IntrinsicParams intrinsicLeft_errors;",
          "new_line_content": "    int n_points = (int)objectPoints.getMat(0).total();",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "objectPoints.total()",
          "old_line_content": "    cv::internal::IntrinsicParams intrinsicRight_errors;",
          "new_line_content": "    int n_images = (int)objectPoints.total();",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "objectPoints.type()",
          "old_line_content": "",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && (objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3));",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "Tc.type()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert(omc.type() == CV_64FC3 || Tc.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "objectPoints.total()",
          "old_line_content": "        Mat image, object;",
          "new_line_content": "    if (omc.empty()) omc.create(1, (int)objectPoints.total(), CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "objectPoints.total()",
          "old_line_content": "",
          "new_line_content": "    if (Tc.empty()) Tc.create(1, (int)objectPoints.total(), CV_64FC3);",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "K1.getMat().convertTo(_K1, CV_64FC1)",
          "old_line_content": "    {",
          "new_line_content": "    if (!K1.empty()) K1.getMat().convertTo(_K1, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "imagePoints.total()",
          "old_line_content": "        bool imT = image.rows < image.cols;",
          "new_line_content": "    for(int image_idx = 0; image_idx < (int)imagePoints.total(); ++image_idx)",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "D2.getMat().convertTo(_D2, CV_64FC1)",
          "old_line_content": "    }",
          "new_line_content": "    if (!D2.empty()) D2.getMat().convertTo(_D2, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "convertTo",
          "old_text": null,
          "new_text": "imagePoints.getMat (image_idx).convertTo(image, CV_64FC2)",
          "old_line_content": "        if (check_cond)",
          "new_line_content": "        imagePoints.getMat (image_idx).convertTo(image, CV_64FC2);",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "TermCriteria",
          "old_text": null,
          "new_text": "TermCriteria(3, 20, 1e-6)",
          "old_line_content": "",
          "new_line_content": "        calibrate(objectPoints, imagePoints2, imageSize, _K2, _D2, rvecs2, tvecs2, flags, TermCriteria(3, 20, 1e-6));",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "object.t()",
          "old_line_content": "        }",
          "new_line_content": "        InitExtrinsics(imT ? image.t() : image, obT ? object.t() : object, param, omckk, Tckk);",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "_K2",
          "old_text": null,
          "new_text": "_K2(1, 2)",
          "old_line_content": "",
          "new_line_content": "    intrinsicRight.Init(Vec2d(_K2(0,0), _K2(1, 1)), Vec2d(_K2(0,2), _K2(1, 2)),",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "_K2",
          "old_text": null,
          "new_text": "_K2(0, 0)",
          "old_line_content": "    intrinsicLeft.isEstimate[0] = flags & CALIB_FIX_INTRINSIC ? 0 : 1;",
          "new_line_content": "                        Vec4d(_D2[0], _D2[1], _D2[2], _D2[3]), _K2(0, 1) / _K2(0, 0));",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "svd.w.total()",
          "old_line_content": "void cv::internal::ComputeJacobians(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints,",
          "new_line_content": "            if(svd.w.at<double>(0) / svd.w.at<double>((int)svd.w.total() - 1) > thresh_cond )",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "format",
          "old_text": null,
          "new_text": "format(\"CALIB_CHECK_COND - Ill-conditioned matrix for input array %d\",image_idx)",
          "old_line_content": "                      const IntrinsicParams& param,  InputArray omc, InputArray Tc,",
          "new_line_content": "                CV_Error( cv::Error::StsInternal, format(\"CALIB_CHECK_COND - Ill-conditioned matrix for input array %d\",image_idx));",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints1, intrinsicLeft, check_cond, thresh_cond, rvecs1, tvecs1)",
          "old_text": null,
          "new_text": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints1, intrinsicLeft, check_cond, thresh_cond, rvecs1, tvecs1)",
          "old_line_content": "    intrinsicLeft.isEstimate[4] = flags & (CALIB_FIX_SKEW | CALIB_FIX_INTRINSIC) ? 0 : 1;",
          "new_line_content": "        cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints1, intrinsicLeft, check_cond, thresh_cond, rvecs1, tvecs1);",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints2, intrinsicRight, check_cond, thresh_cond, rvecs2, tvecs2)",
          "old_text": null,
          "new_text": "cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints2, intrinsicRight, check_cond, thresh_cond, rvecs2, tvecs2)",
          "old_line_content": "    intrinsicLeft.isEstimate[5] = flags & (CALIB_FIX_K1 | CALIB_FIX_INTRINSIC) ? 0 : 1;",
          "new_line_content": "        cv::internal::CalibrateExtrinsics(objectPoints,  imagePoints2, intrinsicRight, check_cond, thresh_cond, rvecs2, tvecs2);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "omc.getMat().col(image_idx)",
          "old_line_content": "{",
          "new_line_content": "        omckk.reshape(3,1).copyTo(omc.getMat().col(image_idx));",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "fabs",
          "old_text": null,
          "new_text": "fabs(theta_fix)",
          "old_line_content": "",
          "new_line_content": "                if (fabs(theta_fix) < EPS)",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "omc.type()",
          "old_line_content": "    for (int image_idx = 0; image_idx < n; ++image_idx)",
          "new_line_content": "    CV_Assert(!omc.empty() && omc.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "std::tan(theta)",
          "old_text": null,
          "new_text": "std::tan(theta)",
          "old_line_content": "",
          "new_line_content": "            scale = std::tan(theta) / theta_d;",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "Tc.type()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert(!Tc.empty() && Tc.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "Mat::zeros(9 + 6 * n, 9 + 6 * n, CV_64FC1)",
          "old_text": null,
          "new_text": "Mat::zeros(9 + 6 * n, 9 + 6 * n, CV_64FC1)",
          "old_line_content": "",
          "new_line_content": "    JJ2 = Mat::zeros(9 + 6 * n, 9 + 6 * n, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "Mat::zeros(9 + 6 * n, 1, CV_64FC1 )",
          "old_text": null,
          "new_text": "Mat::zeros(9 + 6 * n, 1, CV_64FC1 )",
          "old_line_content": "        bool imT = image.rows < image.cols;",
          "new_line_content": "    ex3 = Mat::zeros(9 + 6 * n, 1, CV_64FC1 );",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "Vec3d",
          "old_text": null,
          "new_text": "Vec3d(pu[0], pu[1], 1.0)",
          "old_line_content": "}",
          "new_line_content": "        Vec3d pr = RR * Vec3d(pu[0], pu[1], 1.0); // rotated point optionally multiplied by new camera matrix",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "intrinsicLeft.isEstimate.end()",
          "old_line_content": "    {",
          "new_line_content": "    selectedParams.insert(selectedParams.end(), intrinsicLeft.isEstimate.begin(), intrinsicLeft.isEstimate.end());",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "Mat",
          "old_text": null,
          "new_text": "Mat(x)",
          "old_line_content": "",
          "new_line_content": "        Mat exkk = (imT ? image.t() : image) - Mat(x);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "A.colRange(0, 4)",
          "old_line_content": "",
          "new_line_content": "        jacobians.colRange(0, 4).copyTo(A.colRange(0, 4));",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "map1.create( size, m1type <= 0 ? CV_16SC2 : m1type )",
          "old_line_content": "",
          "new_line_content": "    map1.create( size, m1type <= 0 ? CV_16SC2 : m1type );",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "map1.type()",
          "old_line_content": "    cv::Vec2d f, c;",
          "new_line_content": "    map2.create( size, map1.type() == CV_16SC2 ? CV_16UC1 : CV_32F );",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "R1.t()",
          "old_line_content": "",
          "new_line_content": "        R_ref = R2 * R1.t();",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "depth",
          "old_text": null,
          "new_text": "D.depth()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert((K.depth() == CV_32F || K.depth() == CV_64F) && (D.depth() == CV_32F || D.depth() == CV_64F));",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "om_list.col(image_idx)",
          "old_line_content": "",
          "new_line_content": "        om_ref.reshape(3, 1).copyTo(om_list.col(image_idx));",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "col",
          "old_text": null,
          "new_text": "T_list.col(image_idx)",
          "old_line_content": "    for(int iter = 0; ; ++iter)",
          "new_line_content": "        T_ref.reshape(3, 1).copyTo(T_list.col(image_idx));",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "jacobians.colRange(8, 14).clone()",
          "old_line_content": "",
          "new_line_content": "        Mat B = jacobians.colRange(8, 14).clone();",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(4, 3)",
          "old_line_content": "    }",
          "new_line_content": "    CV_Assert(P.empty() || P.size() == Size(3, 3) || P.size() == Size(4, 3));",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "cv::internal::median3d(om_list)",
          "old_text": null,
          "new_text": "cv::internal::median3d(om_list)",
          "old_line_content": "        if ((criteria.type == 1 && iter >= criteria.maxCount)  ||",
          "new_line_content": "    cv::Vec3d omcur = cv::internal::median3d(om_list);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "cv::internal::median3d(T_list)",
          "old_text": null,
          "new_text": "cv::internal::median3d(T_list)",
          "old_line_content": "            (criteria.type == 2 && change <= criteria.epsilon) ||",
          "new_line_content": "    cv::Vec3d Tcur  = cv::internal::median3d(T_list);",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "cv::Mat::zeros(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1)",
          "old_text": null,
          "new_text": "cv::Mat::zeros(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1)",
          "old_line_content": "            break;",
          "new_line_content": "    cv::Mat J = cv::Mat::zeros(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1),",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "cv::Mat::zeros(4 * n_points * n_images, 1, CV_64FC1)",
          "old_text": null,
          "new_text": "cv::Mat::zeros(4 * n_points * n_images, 1, CV_64FC1)",
          "old_line_content": "",
          "new_line_content": "            e = cv::Mat::zeros(4 * n_points * n_images, 1, CV_64FC1), Jkk, ekk;",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "A.t()",
          "old_line_content": "",
          "new_line_content": "        JJ2(Rect(0, 0, 9, 9)) += A * A.t();",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "camMat",
          "old_text": null,
          "new_text": "camMat(1, 1)",
          "old_line_content": "    }",
          "new_line_content": "        f = Vec2f(camMat(0, 0), camMat(1, 1));",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "camMat",
          "old_text": null,
          "new_text": "camMat(1, 2)",
          "old_line_content": "",
          "new_line_content": "        c = Vec2f(camMat(0, 2), camMat(1, 2));",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "B.t()",
          "old_line_content": "        if (check_cond)",
          "new_line_content": "        JJ2(Rect(9 + 6 * image_idx, 9 + 6 * image_idx, 6, 6)) = B * B.t();",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect(9 + 6 * image_idx, 0, 6, 9)",
          "old_line_content": "            SVD svd(JJ_kk, SVD::NO_UV);",
          "new_line_content": "        JJ2(Rect(0, 9 + 6 * image_idx, 9, 6)) = JJ2(Rect(9 + 6 * image_idx, 0, 6, 9)).t();",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "reshape",
          "old_text": null,
          "new_text": "exkk.reshape(1, 2 * exkk.rows)",
          "old_line_content": "        }",
          "new_line_content": "        ex3.rowRange(0, 9) += A * exkk.reshape(1, 2 * exkk.rows);",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "K.getMat()",
          "old_line_content": "",
          "new_line_content": "        Matx33d camMat = K.getMat();",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "reshape",
          "old_text": null,
          "new_text": "exkk.reshape(1, 2 * exkk.rows)",
          "old_line_content": "    }",
          "new_line_content": "        ex3.rowRange(9 + 6 * image_idx, 9 + 6 * (image_idx + 1)) = B * exkk.reshape(1, 2 * exkk.rows);",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "J.create(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1)",
          "old_line_content": "        {",
          "new_line_content": "        J.create(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "B.t()",
          "old_line_content": "",
          "new_line_content": "            Mat JJ_kk = B.t();",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "Jkk.create(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1)",
          "old_line_content": "",
          "new_line_content": "        Jkk.create(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "idxs.end()",
          "old_line_content": "                           IntrinsicParams& errors, Vec2d& std_err, double thresh_cond, int check_cond, double& rms)",
          "new_line_content": "    idxs.insert(idxs.end(), 6 * n, 1);",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "D.getMat().ptr<Vec4d>()",
          "old_line_content": "    }",
          "new_line_content": "        k = D.depth() == CV_32F ? (Vec4d)*D.getMat().ptr<Vec4f>(): *D.getMat().ptr<Vec4d>();",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "R.channels()",
          "old_line_content": "",
          "new_line_content": "    if (!R.empty() && R.total() * R.channels() == 3)",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "rotation",
          "old_text": null,
          "new_text": "Affine3d(rvec).rotation()",
          "old_line_content": "",
          "new_line_content": "        RR = Affine3d(rvec).rotation();",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(3, 3)",
          "old_line_content": "",
          "new_line_content": "    else if (!R.empty() && R.size() == Size(3, 3))",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "R.getMat().convertTo(RR, CV_64F)",
          "old_line_content": "    for( int i = 0; i < size.height; ++i)",
          "new_line_content": "        R.getMat().convertTo(RR, CV_64F);",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "objectPoints.type()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert(!objectPoints.empty() && (objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3));",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "omc.type()",
          "old_line_content": "    Mat ex(total_ex, 1, CV_64FC2);",
          "new_line_content": "    CV_Assert(!omc.empty() && omc.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "Tc.type()",
          "old_line_content": "    int insert_idx = 0;",
          "new_line_content": "    CV_Assert(!Tc.empty() && Tc.type() == CV_64FC3);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "P.getMat().colRange(0, 3).convertTo(PP, CV_64F)",
          "old_line_content": "        short*  m1 = (short*)m1f;",
          "new_line_content": "        P.getMat().colRange(0, 3).convertTo(PP, CV_64F);",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "cv::internal::projectPoints(object, projected, rvec, tvec, intrinsicLeft, jacobians)",
          "old_text": null,
          "new_text": "cv::internal::projectPoints(object, projected, rvec, tvec, intrinsicLeft, jacobians)",
          "old_line_content": "",
          "new_line_content": "            cv::internal::projectPoints(object, projected, rvec, tvec, intrinsicLeft, jacobians);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": null,
          "new_api": "inv",
          "old_text": null,
          "new_text": "PP * RR).inv(cv::DECOMP_SVD)",
          "old_line_content": "",
          "new_line_content": "    cv::Matx33d iR = (PP * RR).inv(cv::DECOMP_SVD);",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "rowRange",
          "old_text": null,
          "new_text": "ekk.rowRange(0, 2 * n_points)",
          "old_line_content": "            //right camera jacobian",
          "new_line_content": "            cv::Mat(cv::Mat((imageLeft - projected).t()).reshape(1, 1).t()).copyTo(ekk.rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "objectPoints.total()",
          "old_line_content": "        Mat image, object;",
          "new_line_content": "    for (int image_idx = 0; image_idx < (int)objectPoints.total(); ++image_idx)",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(2, 4).rowRange(0, 2 * n_points)",
          "old_line_content": "",
          "new_line_content": "            jacobians.colRange(2, 4).copyTo(Jkk.colRange(2, 4).rowRange(0, 2 * n_points));",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "map1.getMat().ptr<float>(i)",
          "old_line_content": "",
          "new_line_content": "        float* m1f = map1.getMat().ptr<float>(i);",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "map2.getMat().ptr<float>(i)",
          "old_line_content": "        for( int j = 0; j < size.width; ++j)",
          "new_line_content": "        float* m2f = map2.getMat().ptr<float>(i);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "iR",
          "old_text": null,
          "new_text": "iR(0, 2)",
          "old_line_content": "            {",
          "new_line_content": "        double _x = i*iR(0, 1) + iR(0, 2),",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "cv::Mat(tvecs2[image_idx])",
          "old_text": null,
          "new_text": "cv::Mat(tvecs2[image_idx])",
          "old_line_content": "",
          "new_line_content": "            tvec  = cv::Mat(tvecs2[image_idx]);",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "Tc.getMat().col(image_idx)",
          "old_line_content": "",
          "new_line_content": "        Mat om(omc.getMat().col(image_idx)), T(Tc.getMat().col(image_idx));",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "noArray",
          "old_text": null,
          "new_text": "noArray()",
          "old_line_content": "",
          "new_line_content": "        projectPoints(object, x, om, T, params, noArray());",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": null,
          "new_api": "Mat",
          "old_text": null,
          "new_text": "Mat(x)",
          "old_line_content": "    Vec<double, 1> sigma_x;",
          "new_line_content": "        Mat ex_ = (imT ? image.t() : image) - Mat(x);",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "std::numeric_limits<double>::infinity()",
          "old_text": null,
          "new_text": "std::numeric_limits<double>::infinity()",
          "old_line_content": "",
          "new_line_content": "                v = (_y > 0) ? -std::numeric_limits<double>::infinity() : std::numeric_limits<double>::infinity();",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(18, 21).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "",
          "new_line_content": "            dxrdom.copyTo(Jkk.colRange(18, 21).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(21, 24).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "            //check goodness of sterepair",
          "new_line_content": "            dxrdT.copyTo(Jkk.colRange(21, 24).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "            double abs_max  = 0;",
          "new_line_content": "            dxrdomckk.copyTo(Jkk.colRange(24 + image_idx * 6, 27 + image_idx * 6).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(27 + image_idx * 6, 30 + image_idx * 6).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "            for (int i = 0; i < 4 * n_points; i++)",
          "new_line_content": "            dxrdTckk.copyTo(Jkk.colRange(27 + image_idx * 6, 30 + image_idx * 6).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(9 + 0, 9 + 2).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "            {",
          "new_line_content": "            jacobians.colRange(0, 2).copyTo(Jkk.colRange(9 + 0, 9 + 2).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "sqrt",
          "old_text": null,
          "new_text": "sqrt(x*x + y*y)",
          "old_line_content": "                v = f[1]*y*scale + c[1];",
          "new_line_content": "                double r = sqrt(x*x + y*y);",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "atan",
          "old_text": null,
          "new_text": "atan(r)",
          "old_line_content": "            }",
          "new_line_content": "                double theta = atan(r);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "colRange",
          "old_text": null,
          "new_text": "Jkk.colRange(9 + 5, 9 + 9).rowRange(2 * n_points, 4 * n_points)",
          "old_line_content": "                {",
          "new_line_content": "            jacobians.colRange(4, 8).copyTo(Jkk.colRange(9 + 5, 9 + 9).rowRange(2 * n_points, 4 * n_points));",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "ex.total()",
          "old_line_content": "",
          "new_line_content": "    std_err *= sqrt((double)ex.total()/((double)ex.total() - 1.0));",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "ComputeJacobians",
          "old_text": null,
          "new_text": "ComputeJacobians(objectPoints, imagePoints, params, omc, Tc, check_cond, thresh_cond, JJ2, ex3)",
          "old_line_content": "void cv::internal::dAB(InputArray A, InputArray B, OutputArray dABdA, OutputArray dABdB)",
          "new_line_content": "    ComputeJacobians(objectPoints, imagePoints, params, omc, Tc, check_cond, thresh_cond, JJ2, ex3);",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "ekk.at<double>(i)",
          "old_text": null,
          "new_text": "ekk.at<double>(i)",
          "old_line_content": "        }",
          "new_line_content": "                    abs_max = fabs(ekk.at<double>(i));",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "diag",
          "old_text": null,
          "new_text": "JJ2.diag()",
          "old_line_content": "",
          "new_line_content": "    errors = 3 * sigma_x(0) * JJ2.diag();",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "cv::saturate_cast<int>(u*cv::INTER_TAB_SIZE)",
          "old_text": null,
          "new_text": "cv::saturate_cast<int>(u*cv::INTER_TAB_SIZE)",
          "old_line_content": "                m1f[j] = (float)u;",
          "new_line_content": "                int iu = cv::saturate_cast<int>(u*cv::INTER_TAB_SIZE);",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "cv::saturate_cast<int>(v*cv::INTER_TAB_SIZE)",
          "old_text": null,
          "new_text": "cv::saturate_cast<int>(v*cv::INTER_TAB_SIZE)",
          "old_line_content": "                m2f[j] = (float)v;",
          "new_line_content": "                int iv = cv::saturate_cast<int>(v*cv::INTER_TAB_SIZE);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 514,
          "old_api": "iR",
          "new_api": null,
          "old_text": "iR(1, 0)",
          "new_text": null,
          "old_line_content": "            _y += iR(1, 0);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "iR",
          "new_api": null,
          "old_text": "iR(2, 0)",
          "new_text": null,
          "old_line_content": "            _w += iR(2, 0);",
          "new_line_content": "            else if( m1type == CV_32FC1 )",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "t",
          "new_api": null,
          "old_text": "J.t()",
          "new_text": null,
          "old_line_content": "        solve(J.t() * J, J.t()*e, deltas);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "rowRange",
          "new_api": null,
          "old_text": "deltas.rowRange(0, a)",
          "new_text": null,
          "old_line_content": "            intrinsicLeft = intrinsicLeft + deltas.rowRange(0, a);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": "Mat::zeros(p * q, p * n, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::zeros(p * q, p * n, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    dABdA.getMat() = Mat::zeros(p * q, p * n, CV_64FC1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "rowRange",
          "new_api": null,
          "old_text": "deltas.rowRange(a + b + 6 + image_idx * 6, a + b + 9 + image_idx * 6)",
          "new_text": null,
          "old_line_content": "            rvecs1[image_idx] = cv::Mat(cv::Mat(rvecs1[image_idx]) + deltas.rowRange(a + b + 6 + image_idx * 6, a + b + 9 + image_idx * 6));",
          "new_line_content": "        if (a > 0)",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "type",
          "new_api": null,
          "old_text": "B.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(A.type() == CV_64FC1 && B.type() == CV_64FC1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "B.getMat().at<double>(k, i)",
          "new_text": null,
          "old_line_content": "                dABdA.getMat().at<double>(ij, kj) = B.getMat().at<double>(k, i);",
          "new_line_content": "    for (int i = 0; i < q; ++i)",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "size",
          "new_api": null,
          "old_text": "distorted.size()",
          "new_text": null,
          "old_line_content": "    Size size = new_size.area() != 0 ? new_size : distorted.size();",
          "new_line_content": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "cv::Matx33d::eye()",
          "new_api": null,
          "old_text": "cv::Matx33d::eye()",
          "new_text": null,
          "old_line_content": "    fisheye::initUndistortRectifyMap(K, D, cv::Matx33d::eye(), Knew, size, CV_16SC2, map1, map2 );",
          "new_line_content": "void cv::fisheye::undistortImage(InputArray distorted, OutputArray undistorted,",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "cv::remap(distorted, undistorted, map1, map2, INTER_LINEAR, BORDER_CONSTANT)",
          "new_api": null,
          "old_text": "cv::remap(distorted, undistorted, map1, map2, INTER_LINEAR, BORDER_CONSTANT)",
          "new_text": null,
          "old_line_content": "    cv::remap(distorted, undistorted, map1, map2, INTER_LINEAR, BORDER_CONSTANT);",
          "new_line_content": "        InputArray K, InputArray D, InputArray Knew, const Size& new_size)",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "total",
          "new_api": null,
          "old_text": "e.total()",
          "new_text": null,
          "old_line_content": "    for (size_t i = 0; i < e.total() / 2; i++)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "dABdB.getMat().rowRange(i * p, i * p + p).colRange(i * n, i * n + n)",
          "new_text": null,
          "old_line_content": "        A.getMat().copyTo(dABdB.getMat().rowRange(i * p, i * p + p).colRange(i * n, i * n + n));",
          "new_line_content": "                int kj = j + k * p;",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "total",
          "new_api": null,
          "old_text": "e.total()",
          "new_text": null,
          "old_line_content": "    rms /= ((double)e.total() / 2.0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "sqrt",
          "new_api": null,
          "old_text": "sqrt(rms)",
          "new_text": null,
          "old_line_content": "    rms = sqrt(rms);",
          "new_line_content": "    double rms = 0;",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "type",
          "new_api": null,
          "old_text": "src.type()",
          "new_text": null,
          "old_line_content": "    Mat tmp(src.cols, src.rows, src.type());",
          "new_line_content": "    for (int i = 0; i < q; ++i)",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(0)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(0).t()).copyTo(tmp.col(0));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(3)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(1).t()).copyTo(tmp.col(3));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "depth",
          "new_api": null,
          "old_text": "K.depth()",
          "new_text": null,
          "old_line_content": "    CV_Assert( K.size() == Size(3, 3)       && (K.depth() == CV_32F || K.depth() == CV_64F));",
          "new_line_content": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "depth",
          "new_api": null,
          "old_text": "D.depth()",
          "new_text": null,
          "old_line_content": "    CV_Assert(D.empty() || ((D.total() == 4) && (D.depth() == CV_32F || D.depth() == CV_64F)));",
          "new_line_content": "/// cv::fisheye::estimateNewCameraMatrixForUndistortRectify",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "Matx33d",
          "new_api": null,
          "old_text": "Matx33d(intrinsicRight.f[0], intrinsicRight.f[0] * intrinsicRight.alpha, intrinsicRight.c[0],\n                                        0,                        intrinsicRight.f[1], intrinsicRight.c[1],\n                                        0,                                          0,                  1)",
          "new_text": null,
          "old_line_content": "    _K2 = Matx33d(intrinsicRight.f[0], intrinsicRight.f[0] * intrinsicRight.alpha, intrinsicRight.c[0],",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(6)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(2).t()).copyTo(tmp.col(6));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "std::max(balance, 0.0)",
          "new_api": null,
          "old_text": "std::max(balance, 0.0)",
          "new_text": null,
          "old_line_content": "    balance = std::min(std::max(balance, 0.0), 1.0);",
          "new_line_content": "    OutputArray P, double balance, const Size& new_size, double fov_scale)",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(1)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(3).t()).copyTo(tmp.col(1));",
          "new_line_content": "void cv::internal::JRodriguesMatlab(const Mat& src, Mat& dst)",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "Rodrigues",
          "new_api": null,
          "old_text": "Rodrigues(omcur, _R)",
          "new_text": null,
          "old_line_content": "    Rodrigues(omcur, _R);",
          "new_line_content": "                                       0,                       intrinsicLeft.f[1], intrinsicLeft.c[1],",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "points.ptr<Vec2d>()",
          "new_api": null,
          "old_text": "points.ptr<Vec2d>()",
          "new_text": null,
          "old_line_content": "    Vec2d* pptr = points.ptr<Vec2d>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "type",
          "new_api": null,
          "old_text": "K1.type()",
          "new_text": null,
          "old_line_content": "    if (K1.needed()) cv::Mat(_K1).convertTo(K1, K1.empty() ? CV_64FC1 : K1.type());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(4)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(4).t()).copyTo(tmp.col(4));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "Vec2d",
          "new_api": null,
          "old_text": "Vec2d(w/2, h)",
          "new_text": null,
          "old_line_content": "    pptr[2] = Vec2d(w/2, h);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "Vec2d",
          "new_api": null,
          "old_text": "Vec2d(0, h/2)",
          "new_text": null,
          "old_line_content": "    pptr[3] = Vec2d(0, h/2);",
          "new_line_content": "    int w = image_size.width, h = image_size.height;",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "type",
          "new_api": null,
          "old_text": "D1.type()",
          "new_text": null,
          "old_line_content": "    if (D1.needed()) cv::Mat(intrinsicLeft.k).convertTo(D1, D1.empty() ? CV_64FC1 : D1.type());",
          "new_line_content": "                                        0,                        intrinsicRight.f[1], intrinsicRight.c[1],",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "fisheye::undistortPoints(points, points, K, D, R)",
          "new_api": null,
          "old_text": "fisheye::undistortPoints(points, points, K, D, R)",
          "new_text": null,
          "old_line_content": "    fisheye::undistortPoints(points, points, K, D, R);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "mean",
          "new_api": null,
          "old_text": "mean(points)",
          "new_text": null,
          "old_line_content": "    cv::Scalar center_mass = mean(points);",
          "new_line_content": "    cv::Mat points(1, 4, CV_64FC2);",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "type",
          "new_api": null,
          "old_text": "D2.type()",
          "new_text": null,
          "old_line_content": "    if (D2.needed()) cv::Mat(intrinsicRight.k).convertTo(D2, D2.empty() ? CV_64FC1 : D2.type());",
          "new_line_content": "                                        0,                                          0,                  1);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "type",
          "new_api": null,
          "old_text": "R.type()",
          "new_text": null,
          "old_line_content": "    if (R.needed()) _R.convertTo(R, R.empty() ? CV_64FC1 : R.type());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "type",
          "new_api": null,
          "old_text": "T.type()",
          "new_text": null,
          "old_line_content": "    if (T.needed()) cv::Mat(Tcur).convertTo(T, T.empty() ? CV_64FC1 : T.type());",
          "new_line_content": "    Mat _R;",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "row",
          "new_api": null,
          "old_text": "tmp.row(7)",
          "new_text": null,
          "old_line_content": "        Mat(src.col(5).t()).copyTo(tmp.row(7));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "row",
          "new_api": null,
          "old_text": "tmp.row(2)",
          "new_text": null,
          "old_line_content": "        Mat(src.col(6).t()).copyTo(tmp.row(2));",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "row",
          "new_api": null,
          "old_text": "tmp.row(5)",
          "new_text": null,
          "old_line_content": "        Mat(src.col(7).t()).copyTo(tmp.row(5));",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "cv::countNonZero(cols)",
          "new_api": null,
          "old_text": "cv::countNonZero(cols)",
          "new_text": null,
          "old_line_content": "    int nonzeros_cols = cv::countNonZero(cols);",
          "new_line_content": "    return rms;",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "size",
          "new_api": null,
          "old_text": "cols.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 0, j = 0; i < (int)cols.size(); i++)",
          "new_line_content": "namespace cv{ namespace {",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_om1.getMat()",
          "new_text": null,
          "old_line_content": "    Mat om1 = _om1.getMat();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "std::min(miny, pptr[i][1])",
          "new_api": null,
          "old_text": "std::min(miny, pptr[i][1])",
          "new_text": null,
          "old_line_content": "        miny = std::min(miny, pptr[i][1]);",
          "new_line_content": "    // convert to identity ratio",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "std::max(maxy, pptr[i][1])",
          "new_api": null,
          "old_text": "std::max(maxy, pptr[i][1])",
          "new_text": null,
          "old_line_content": "        maxy = std::max(maxy, pptr[i][1]);",
          "new_line_content": "    cn[0] *= aspect_ratio;",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(j++)",
          "new_text": null,
          "old_line_content": "            src.col(i).copyTo(tmp.col(j++));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "std::max(maxx, pptr[i][0])",
          "new_api": null,
          "old_text": "std::max(maxx, pptr[i][0])",
          "new_text": null,
          "old_line_content": "        maxx = std::max(maxx, pptr[i][0]);",
          "new_line_content": "        pptr[i][1] *= aspect_ratio;",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_T1.getMat().reshape(1, 3)",
          "new_text": null,
          "old_line_content": "    Mat T1 = _T1.getMat().reshape(1, 3);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_T2.getMat().reshape(1, 3)",
          "new_text": null,
          "old_line_content": "    Mat T2 = _T2.getMat().reshape(1, 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "Rodrigues",
          "new_api": null,
          "old_text": "Rodrigues(om1, R1, dR1dom1)",
          "new_text": null,
          "old_line_content": "    Rodrigues(om1, R1, dR1dom1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "create",
          "new_api": null,
          "old_text": "dst.create(nonzeros_rows, nonzeros_cols, CV_64F)",
          "new_text": null,
          "old_line_content": "    dst.create(nonzeros_rows, nonzeros_cols, CV_64F);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "size",
          "new_api": null,
          "old_text": "rows.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 0, j = 0; i < (int)rows.size(); i++)",
          "new_line_content": "        if (cols[i])",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "dAB",
          "new_api": null,
          "old_text": "dAB(R2, R1, dR3dR2, dR3dR1)",
          "new_text": null,
          "old_line_content": "    dAB(R2, R1, dR3dR2, dR3dR1);",
          "new_line_content": "    //% Rotations:",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "std::max(f3, f4)",
          "new_api": null,
          "old_text": "std::max(f3, f4)",
          "new_text": null,
          "old_line_content": "    double fmax = std::max(f1, std::max(f2, std::max(f3, f4)));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "row",
          "new_api": null,
          "old_text": "dst.row(j++)",
          "new_text": null,
          "old_line_content": "            tmp.row(i).copyTo(dst.row(j++));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "Vec2d",
          "new_api": null,
          "old_text": "Vec2d(w, h * aspect_ratio)",
          "new_text": null,
          "old_line_content": "    cv::Vec2d new_f(f, f), new_c = -cn * f + Vec2d(w, h * aspect_ratio) * 0.5;",
          "new_line_content": "    double f4 = h * 0.5 * aspect_ratio/(maxy - cn[1]);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "Mat::zeros(3, 3, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::zeros(3, 3, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    dom3dT1 = Mat::zeros(3, 3, CV_64FC1);",
          "new_line_content": "    R3 = R2 * R1;",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "Mat::zeros(3, 3, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::zeros(3, 3, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    dom3dT2 = Mat::zeros(3, 3, CV_64FC1);",
          "new_line_content": "    Mat dR3dR2, dR3dR1;",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "area",
          "new_api": null,
          "old_text": "new_size.area()",
          "new_text": null,
          "old_line_content": "    if (new_size.area() > 0)",
          "new_line_content": "    f *= fov_scale > 0 ? 1.0/fov_scale : 1.0;",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "dAB",
          "new_api": null,
          "old_text": "dAB(R2, T1, dT3tdR2, dT3tdT1)",
          "new_text": null,
          "old_line_content": "    dAB(R2, T1, dT3tdR2, dT3tdT1);",
          "new_line_content": "    dom3dom1 = dom3dR3 * dR3dR1 * dR1dom1;",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "Mat::eye(3, 3, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::eye(3, 3, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    dT3dT2 = Mat::eye(3, 3, CV_64FC1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "Mat::zeros(3, 3, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::zeros(3, 3, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    dT3dom1 = Mat::zeros(3, 3, CV_64FC1);",
          "new_line_content": "    Mat T3t = R2 * T1;",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "type",
          "new_api": null,
          "old_text": "a.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(a.type() == CV_64FC1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "Matx33d",
          "new_api": null,
          "old_text": "Matx33d(new_f[0], 0, new_c[0],\n                0, new_f[1], new_c[1],\n                0,        0,       1)",
          "new_text": null,
          "old_line_content": "    Mat(Matx33d(new_f[0], 0, new_c[0],",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "a.ptr<double>()",
          "new_api": null,
          "old_text": "a.ptr<double>()",
          "new_text": null,
          "old_line_content": "    const double* ptr = a.ptr<double>();",
          "new_line_content": "    f(_f), c(_c), k(_k), alpha(_alpha), isEstimate(9,0)",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "type",
          "new_api": null,
          "old_text": "P.type()",
          "new_text": null,
          "old_line_content": "                0,        0,       1)).convertTo(P, P.empty() ? K.type() : P.type());",
          "new_line_content": "        double ry = new_size.height/(double)image_size.height;",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "type",
          "new_api": null,
          "old_text": "row.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(row.type() == CV_64FC1);",
          "new_line_content": "    dT3dT1 = dT3tdT1;",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "clone",
          "new_api": null,
          "old_text": "row.clone()",
          "new_text": null,
          "old_line_content": "    Mat tmp = row.clone();",
          "new_line_content": "    dT3dom2 = dT3tdom2;",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "total",
          "new_api": null,
          "old_text": "tmp.total()",
          "new_text": null,
          "old_line_content": "    if ((int)tmp.total() % 2) return tmp.at<double>((int)tmp.total() / 2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "total",
          "new_api": null,
          "old_text": "tmp.total()",
          "new_text": null,
          "old_line_content": "    else return 0.5 *(tmp.at<double>((int)tmp.total() / 2) + tmp.at<double>((int)tmp.total() / 2 - 1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "A.colRange(5, 9)",
          "new_text": null,
          "old_line_content": "        jacobians.colRange(4, 8).copyTo(A.colRange(5, 9));",
          "new_line_content": "        std::vector<Point2d> x;",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "depth",
          "new_api": null,
          "old_text": "_R.depth()",
          "new_text": null,
          "old_line_content": "    CV_Assert((_R.size() == Size(3, 3) || _R.total() * _R.channels() == 3) && (_R.depth() == CV_32F || _R.depth() == CV_64F));",
          "new_line_content": "/// cv::fisheye::stereoRectify",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "depth",
          "new_api": null,
          "old_text": "_tvec.depth()",
          "new_text": null,
          "old_line_content": "    CV_Assert(_tvec.total() * _tvec.channels() == 3 && (_tvec.depth() == CV_32F || _tvec.depth() == CV_64F));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_tvec.getMat().reshape(3, 1)",
          "new_text": null,
          "old_line_content": "    cv::Mat aaa = _tvec.getMat().reshape(3, 1);",
          "new_line_content": "        OutputArray Q, int flags, const Size& newImageSize, double balance, double fov_scale)",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "type",
          "new_api": null,
          "old_text": "a.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(a.type() == CV_64FC1);",
          "new_line_content": "    tmp.k[3]    = this->k[3]    + (isEstimate[8] ? ptr[j++] : 0);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "a.ptr<double>()",
          "new_api": null,
          "old_text": "a.ptr<double>()",
          "new_text": null,
          "old_line_content": "    const double* ptr = a.ptr<double>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(3, 3)",
          "new_text": null,
          "old_line_content": "    if (_R.size() == Size(3, 3))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_R.getMat().convertTo(rmat, CV_64F)",
          "new_text": null,
          "old_line_content": "        _R.getMat().convertTo(rmat, CV_64F);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "rvec",
          "new_api": null,
          "old_text": "Affine3d(rmat).rvec()",
          "new_text": null,
          "old_line_content": "        rvec = Affine3d(rmat).rvec();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "channels",
          "new_api": null,
          "old_text": "_R.channels()",
          "new_text": null,
          "old_line_content": "    else if (_R.total() * _R.channels() == 3)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_R.getMat().convertTo(rvec, CV_64F)",
          "new_text": null,
          "old_line_content": "        _R.getMat().convertTo(rvec, CV_64F);",
          "new_line_content": "    Vec3d rvec; // Rodrigues vector",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_tvec.getMat().convertTo(tvec, CV_64F)",
          "new_text": null,
          "old_line_content": "    _tvec.getMat().convertTo(tvec, CV_64F);",
          "new_line_content": "        cv::Matx33d rmat;",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "Rodrigues",
          "new_api": null,
          "old_text": "Rodrigues(rvec, r_r)",
          "new_text": null,
          "old_line_content": "    Rodrigues(rvec, r_r);  // rotate cameras to same orientation by averaging",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "cross",
          "new_api": null,
          "old_text": "t.cross(uu)",
          "new_text": null,
          "old_line_content": "    Vec3d ww = t.cross(uu);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "norm",
          "new_api": null,
          "old_text": "norm(ww)",
          "new_text": null,
          "old_line_content": "    double nw = norm(ww);",
          "new_line_content": "    Matx33d r_r;",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "cv::norm(t)",
          "new_api": null,
          "old_text": "cv::norm(t)",
          "new_text": null,
          "old_line_content": "        ww *= acos(fabs(t[0])/cv::norm(t))/nw;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "Rodrigues",
          "new_api": null,
          "old_text": "Rodrigues(ww, wr)",
          "new_text": null,
          "old_line_content": "    Rodrigues(ww, wr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "    this->k = _k;",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "type",
          "new_api": null,
          "old_text": "objectPoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!objectPoints.empty() && objectPoints.type() == CV_64FC3);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "type",
          "new_api": null,
          "old_text": "R1.type()",
          "new_text": null,
          "old_line_content": "    Mat(ri1, false).convertTo(R1, R1.empty() ? CV_64F : R1.type());",
          "new_line_content": "    if (nw > 0.0)",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "type",
          "new_api": null,
          "old_text": "R2.type()",
          "new_text": null,
          "old_line_content": "    Mat(ri2, false).convertTo(R2, R2.empty() ? CV_64F : R2.type());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "fisheye::projectPoints(objectPoints, imagePoints, _rvec, _tvec, K, param.k, param.alpha, jacobian)",
          "new_api": null,
          "old_text": "fisheye::projectPoints(objectPoints, imagePoints, _rvec, _tvec, K, param.k, param.alpha, jacobian)",
          "new_text": null,
          "old_line_content": "    fisheye::projectPoints(objectPoints, imagePoints, _rvec, _tvec, K, param.k, param.alpha, jacobian);",
          "new_line_content": "                   const IntrinsicParams& param, cv::OutputArray jacobian)",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "type",
          "new_api": null,
          "old_text": "objectPoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!objectPoints.empty() && objectPoints.type() == CV_64FC3);",
          "new_line_content": "                       0,                        0,         1);",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "newK2",
          "new_api": null,
          "old_text": "newK2(1, 2)",
          "new_text": null,
          "old_line_content": "    Point2d cc_new[2] = { Vec2d(newK1(0, 2), newK1(1, 2)), Vec2d(newK2(0, 2), newK2(1, 2)) };",
          "new_line_content": "    Vec3d tnew = ri2 * tvec;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "rvec.at<double>(2)",
          "new_api": null,
          "old_text": "rvec.at<double>(2)",
          "new_text": null,
          "old_line_content": "    Vec6d extrinsics(rvec.at<double>(0), rvec.at<double>(1), rvec.at<double>(2),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "tvec.at<double>(2)",
          "new_api": null,
          "old_text": "tvec.at<double>(2)",
          "new_text": null,
          "old_line_content": "                    tvec.at<double>(0), tvec.at<double>(1), tvec.at<double>(2));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "Matx34d",
          "new_api": null,
          "old_text": "Matx34d(fc_new, 0, cc_new[0].x, 0,\n                0, fc_new, cc_new[0].y, 0,\n                0,      0,           1, 0)",
          "new_text": null,
          "old_line_content": "    Mat(Matx34d(fc_new, 0, cc_new[0].x, 0,",
          "new_line_content": "    // Vertical focal length must be the same for both images to keep the epipolar constraint use fy for fx also.",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "t",
          "new_api": null,
          "old_text": "Mat(x).t()",
          "new_text": null,
          "old_line_content": "        Mat ex = imagePoints - Mat(x).t();",
          "new_line_content": "    int iter = 0;",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "type",
          "new_api": null,
          "old_text": "P1.type()",
          "new_text": null,
          "old_line_content": "                0,      0,           1, 0), false).convertTo(P1, P1.empty() ? CV_64F : P1.type());",
          "new_line_content": "    // of the two principal points (either one of or both x- and y- coordinates)",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "reshape",
          "new_api": null,
          "old_text": "ex.reshape(1, 2)",
          "new_text": null,
          "old_line_content": "        ex = ex.reshape(1, 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "Matx34d",
          "new_api": null,
          "old_text": "Matx34d(fc_new, 0, cc_new[1].x, tnew[0]*fc_new, // baseline * focal length;,\n                0, fc_new, cc_new[1].y,              0,\n                0,      0,           1,              0)",
          "new_text": null,
          "old_line_content": "    Mat(Matx34d(fc_new, 0, cc_new[1].x, tnew[0]*fc_new, // baseline * focal length;,",
          "new_line_content": "        cc_new[0] = cc_new[1] = (cc_new[0] + cc_new[1]) * 0.5;",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "jacobians.colRange(8, 14).clone()",
          "new_text": null,
          "old_line_content": "        J = jacobians.colRange(8, 14).clone();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "type",
          "new_api": null,
          "old_text": "P2.type()",
          "new_text": null,
          "old_line_content": "                0,      0,           1,              0), false).convertTo(P2, P2.empty() ? CV_64F : P2.type());",
          "new_line_content": "        cc_new[0].y = cc_new[1].y = (cc_new[0].y + cc_new[1].y)*0.5;",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "Matx44d",
          "new_api": null,
          "old_text": "Matx44d(1, 0, 0,           -cc_new[0].x,\n                    0, 1, 0,           -cc_new[0].y,\n                    0, 0, 0,            fc_new,\n                    0, 0, -1./tnew[0], (cc_new[0].x - cc_new[1].x)/tnew[0])",
          "new_text": null,
          "old_line_content": "        Mat(Matx44d(1, 0, 0,           -cc_new[0].x,",
          "new_line_content": "                0, fc_new, cc_new[0].y, 0,",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "total",
          "new_api": null,
          "old_text": "ex.total()",
          "new_text": null,
          "old_line_content": "            solve(J, ex.reshape(1, (int)ex.total()), param_innov, DECOMP_SVD + DECOMP_NORMAL);",
          "new_line_content": "        SVD svd(J, SVD::NO_UV);",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "norm",
          "new_api": null,
          "old_text": "norm(param_up)",
          "new_text": null,
          "old_line_content": "            change = norm(param_innov)/norm(param_up);",
          "new_line_content": "        if (condJJ > thresh_cond)",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "Vec3d",
          "new_api": null,
          "old_text": "Vec3d(extrinsics.val)",
          "new_text": null,
          "old_line_content": "            rvec = Mat(Vec3d(extrinsics.val));",
          "new_line_content": "            Vec6d param_innov;",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "total",
          "new_api": null,
          "old_text": "imagePoints.total()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!objectPoints.empty() && !imagePoints.empty() && objectPoints.total() == imagePoints.total());",
          "new_line_content": "/// cv::fisheye::calibrate",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "type",
          "new_api": null,
          "old_text": "objectPoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "type",
          "new_api": null,
          "old_text": "imagePoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2);",
          "new_line_content": "double cv::fisheye::calibrate(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints, const Size& image_size,",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(3,3)",
          "new_text": null,
          "old_line_content": "    CV_Assert(K.empty() || (K.size() == Size(3,3)));",
          "new_line_content": "                                    InputOutputArray K, InputOutputArray D, OutputArrayOfArrays rvecs, OutputArrayOfArrays tvecs,",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "total",
          "new_api": null,
          "old_text": "D.total()",
          "new_text": null,
          "old_line_content": "    CV_Assert(D.empty() || (D.total() == 4));",
          "new_line_content": "                                    int flags , cv::TermCriteria criteria)",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "channels",
          "new_api": null,
          "old_text": "rvecs.channels()",
          "new_text": null,
          "old_line_content": "    CV_Assert(rvecs.empty() || (rvecs.channels() == 3));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "Mat::ones(1, Np, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::ones(1, Np, CV_64FC1)",
          "new_text": null,
          "old_line_content": "        vconcat(m, Mat::ones(1, Np, CV_64FC1), m);",
          "new_line_content": "cv::Mat cv::internal::ComputeHomography(Mat m, Mat M)",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "Mat::ones(1, Np, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::ones(1, Np, CV_64FC1)",
          "new_text": null,
          "old_line_content": "        vconcat(M, Mat::ones(1, Np, CV_64FC1), M);",
          "new_line_content": "    int Np = m.cols;",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "row",
          "new_api": null,
          "old_text": "m.row(2)",
          "new_text": null,
          "old_line_content": "    divide(m, Mat::ones(3, 1, CV_64FC1) * m.row(2), m);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "row",
          "new_api": null,
          "old_text": "m.row(0).clone()",
          "new_text": null,
          "old_line_content": "    Mat ax = m.row(0).clone();",
          "new_line_content": "    if (M.rows < 3)",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "row",
          "new_api": null,
          "old_text": "m.row(1).clone()",
          "new_text": null,
          "old_line_content": "    Mat ay = m.row(1).clone();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "mean",
          "new_api": null,
          "old_text": "mean(ax)",
          "new_text": null,
          "old_line_content": "    double mxx = mean(ax)[0];",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "mean",
          "new_api": null,
          "old_text": "mean(ay)",
          "new_text": null,
          "old_line_content": "    double myy = mean(ay)[0];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "abs",
          "new_api": null,
          "old_text": "abs(ay)",
          "new_text": null,
          "old_line_content": "    double scyy = mean(abs(ay))[0];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(2)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(6).t()).copyTo(tmp.col(2));",
          "new_line_content": "    if (src.rows == 9)",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "Matx33d",
          "new_api": null,
          "old_text": "Matx33d( scxx,     0,   mxx,\n                                    0,  scyy,   myy,\n                                    0,     0,     1 )",
          "new_text": null,
          "old_line_content": "    Mat inv_Hnorm (Matx33d( scxx,     0,   mxx,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "K.getMat().convertTo(_K, CV_64FC1)",
          "new_text": null,
          "old_line_content": "        K.getMat().convertTo(_K, CV_64FC1);",
          "new_line_content": "    const double thresh_cond = 1e6;",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "D.getMat().convertTo(_D, CV_64FC1)",
          "new_text": null,
          "old_line_content": "        D.getMat().convertTo(_D, CV_64FC1);",
          "new_line_content": "    double change = 1;",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "_K",
          "new_api": null,
          "old_text": "_K(1, 1)",
          "new_text": null,
          "old_line_content": "        finalParam.Init(Vec2d(_K(0,0), _K(1, 1)),",
          "new_line_content": "    Vec2d err_std;",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "_K",
          "new_api": null,
          "old_text": "_K(1, 2)",
          "new_text": null,
          "old_line_content": "                        Vec2d(_K(0,2), _K(1, 2)),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "Vec4d",
          "new_api": null,
          "old_text": "Vec4d(flags & CALIB_FIX_K1 ? 0 : _D[0],\n                              flags & CALIB_FIX_K2 ? 0 : _D[1],\n                              flags & CALIB_FIX_K3 ? 0 : _D[2],\n                              flags & CALIB_FIX_K4 ? 0 : _D[3])",
          "new_text": null,
          "old_line_content": "                        Vec4d(flags & CALIB_FIX_K1 ? 0 : _D[0],",
          "new_line_content": "    Matx33d _K;",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "Mat::zeros(2*Np, 9, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::zeros(2*Np, 9, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    Mat L = Mat::zeros(2*Np, 9, CV_64FC1);",
          "new_line_content": "                         0.0,     1/scyy,     -myy/scyy,",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "col",
          "new_api": null,
          "old_text": "tmp.col(5)",
          "new_text": null,
          "old_line_content": "        Mat(src.row(7).t()).copyTo(tmp.col(5));",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "M.at<double>(j, i)",
          "new_api": null,
          "old_text": "M.at<double>(j, i)",
          "new_text": null,
          "old_line_content": "            L.at<double>(2 * i, j) = M.at<double>(j, i);",
          "new_line_content": "    Mat mn =  Hnorm * m;",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "M.at<double>(j, i)",
          "new_api": null,
          "old_text": "M.at<double>(j, i)",
          "new_text": null,
          "old_line_content": "            L.at<double>(2 * i + 1, j + 3) = M.at<double>(j, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "Vec2d",
          "new_api": null,
          "old_text": "Vec2d(image_size.width  / 2.0 - 0.5, image_size.height / 2.0 - 0.5)",
          "new_text": null,
          "old_line_content": "                        Vec2d(image_size.width  / 2.0 - 0.5, image_size.height / 2.0 - 0.5));",
          "new_line_content": "                              flags & CALIB_FIX_K2 ? 0 : _D[1],",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "M.at<double>(j, i)",
          "new_api": null,
          "old_text": "M.at<double>(j, i)",
          "new_text": null,
          "old_line_content": "            L.at<double>(2 * i + 1, j + 6) = -mn.at<double>(1,i) * M.at<double>(j, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "t",
          "new_api": null,
          "old_text": "L.t()",
          "new_text": null,
          "old_line_content": "    if (Np > 4) L = L.t() * L;",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    std::vector<Vec3d> omc(objectPoints.total()), Tc(objectPoints.total());",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "std::numeric_limits<int>::max()",
          "new_api": null,
          "old_text": "std::numeric_limits<int>::max()",
          "new_text": null,
          "old_line_content": "    for(int iter = 0; iter < std::numeric_limits<int>::max(); ++iter)",
          "new_line_content": "    errors.isEstimate = finalParam.isEstimate;",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "Mat::zeros(2 * Np, 8, CV_64FC1)",
          "new_api": null,
          "old_text": "Mat::zeros(2 * Np, 8, CV_64FC1)",
          "new_text": null,
          "old_line_content": "            Mat J = Mat::zeros(2 * Np, 8, CV_64FC1);",
          "new_line_content": "    Mat H = inv_Hnorm * Hrem;",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "std::pow(1 - alpha_smooth, iter + 1.0)",
          "new_api": null,
          "old_text": "std::pow(1 - alpha_smooth, iter + 1.0)",
          "new_text": null,
          "old_line_content": "        double alpha_smooth2 = 1 - std::pow(1 - alpha_smooth, iter + 1.0);",
          "new_line_content": "    //-------------------------------Optimization",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect(0, 2, mrep.cols, 1)",
          "new_text": null,
          "old_line_content": "            divide(M, Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 2, mrep.cols, 1)), MMM);",
          "new_line_content": "    if (Np > 4)",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect(0, 2, mrep.cols, 1)",
          "new_text": null,
          "old_line_content": "            divide(mrep, Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 2, mrep.cols, 1)), mrep);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "ComputeJacobians",
          "new_api": null,
          "old_text": "ComputeJacobians(objectPoints, imagePoints, finalParam, omc, Tc, check_cond,thresh_cond, JJ2, ex3)",
          "new_text": null,
          "old_line_content": "        ComputeJacobians(objectPoints, imagePoints, finalParam, omc, Tc, check_cond,thresh_cond, JJ2, ex3);",
          "new_line_content": "        if ((criteria.type == 1 && iter >= criteria.maxCount)  ||",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "t",
          "new_api": null,
          "old_text": "m_err.t()",
          "new_text": null,
          "old_line_content": "            m_err = Mat(m_err.t()).reshape(1, m_err.cols * m_err.rows);",
          "new_line_content": "        for (int iter = 0; iter < 10; iter++)",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect(0, 0, mrep.cols, 1)",
          "new_text": null,
          "old_line_content": "            multiply(Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0, 0, mrep.cols, 1)), MMM, MMM2);",
          "new_line_content": "            Mat mrep = H * M;",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "solve",
          "new_api": null,
          "old_text": "solve(JJ2, ex3, G)",
          "new_text": null,
          "old_line_content": "        solve(JJ2, ex3, G);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "Vec4d",
          "new_api": null,
          "old_text": "Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1])",
          "new_text": null,
          "old_line_content": "        change = norm(Vec4d(currentParam.f[0], currentParam.f[1], currentParam.c[0], currentParam.c[1]) -",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "Vec4d",
          "new_api": null,
          "old_text": "Vec4d(finalParam.f[0], finalParam.f[1], finalParam.c[0], finalParam.c[1])",
          "new_text": null,
          "old_line_content": "                Vec4d(finalParam.f[0], finalParam.f[1], finalParam.c[0], finalParam.c[1]))",
          "new_line_content": "        Mat JJ2, ex3;",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "MMM.at<double>(j, i)",
          "new_api": null,
          "old_text": "MMM.at<double>(j, i)",
          "new_text": null,
          "old_line_content": "                    J.at<double>(2 * i, j)         = -MMM.at<double>(j, i);",
          "new_line_content": "            Mat MMM2, MMM3;",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "MMM2.at<double>(j, i)",
          "new_api": null,
          "old_text": "MMM2.at<double>(j, i)",
          "new_text": null,
          "old_line_content": "                    J.at<double>(2 * i, j + 6)     = MMM2.at<double>(j, i);",
          "new_line_content": "                for (int j = 0; j < 3; ++j)",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "MMM3.at<double>(j, i)",
          "new_api": null,
          "old_text": "MMM3.at<double>(j, i)",
          "new_text": null,
          "old_line_content": "                    J.at<double>(2 * i + 1, j + 6) = MMM3.at<double>(j, i);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect(0,2,mrep.cols,1)",
          "new_text": null,
          "old_line_content": "            divide(M, Mat::ones(3, 1, CV_64FC1) * mrep(Rect(0,2,mrep.cols,1)), MMM);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "t",
          "new_api": null,
          "old_text": "J.t()",
          "new_text": null,
          "old_line_content": "            Mat hh_innov = (J.t() * J).inv() * (J.t()) * m_err;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "EstimateUncertainties",
          "new_api": null,
          "old_text": "EstimateUncertainties(objectPoints, imagePoints, finalParam,  omc, Tc, errors, err_std, thresh_cond,\n                              check_cond, rms)",
          "new_text": null,
          "old_line_content": "    EstimateUncertainties(objectPoints, imagePoints, finalParam,  omc, Tc, errors, err_std, thresh_cond,",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "Matx33d",
          "new_api": null,
          "old_text": "Matx33d(finalParam.f[0], finalParam.f[0] * finalParam.alpha, finalParam.c[0],\n            0,                    finalParam.f[1], finalParam.c[1],\n            0,                                  0,               1)",
          "new_text": null,
          "old_line_content": "    _K = Matx33d(finalParam.f[0], finalParam.f[0] * finalParam.alpha, finalParam.c[0],",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "type",
          "new_api": null,
          "old_text": "D.type()",
          "new_text": null,
          "old_line_content": "    if (D.needed()) cv::Mat(finalParam.k).convertTo(D, D.empty() ? CV_64FC1 : D.type());",
          "new_line_content": "                              check_cond, rms);",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "isMatVector",
          "new_api": null,
          "old_text": "rvecs.isMatVector()",
          "new_text": null,
          "old_line_content": "    if (rvecs.isMatVector())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "            H = H_up;",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "empty",
          "new_api": null,
          "old_text": "rvecs.empty()",
          "new_text": null,
          "old_line_content": "        if(rvecs.empty())",
          "new_line_content": "            0,                                  0,               1);",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "create",
          "new_api": null,
          "old_text": "rvecs.create(N, 1, CV_64FC3)",
          "new_text": null,
          "old_line_content": "            rvecs.create(N, 1, CV_64FC3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "type",
          "new_api": null,
          "old_text": "imagePoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!imagePoints.empty() && imagePoints.type() == CV_64FC2);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "total",
          "new_api": null,
          "old_text": "imagePoints.total()",
          "new_text": null,
          "old_line_content": "    Mat distorted((int)imagePoints.total(), 1, CV_64FC2), undistorted;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "imagePoints.ptr<Vec2d>()",
          "new_api": null,
          "old_text": "imagePoints.ptr<Vec2d>()",
          "new_text": null,
          "old_line_content": "    const Vec2d* ptr   = imagePoints.ptr<Vec2d>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "distorted.ptr<Vec2d>()",
          "new_api": null,
          "old_text": "distorted.ptr<Vec2d>()",
          "new_text": null,
          "old_line_content": "    Vec2d* ptr_d = distorted.ptr<Vec2d>();",
          "new_line_content": "cv::Mat cv::internal::NormalizePixels(const Mat& imagePoints, const IntrinsicParams& param)",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "total",
          "new_api": null,
          "old_text": "imagePoints.total()",
          "new_text": null,
          "old_line_content": "    for (size_t i = 0; i < imagePoints.total(); ++i)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "Vec2d",
          "new_api": null,
          "old_text": "Vec2d(1.0 / param.f[0], 1.0 / param.f[1])",
          "new_text": null,
          "old_line_content": "        ptr_d[i] = (ptr[i] - param.c).mul(Vec2d(1.0 / param.f[0], 1.0 / param.f[1]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "rvecs.getMat(i).ptr()",
          "new_text": null,
          "old_line_content": "            memcpy(rvecs.getMat(i).ptr(), omc[i].val, sizeof(Vec3d));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "type",
          "new_api": null,
          "old_text": "_objectPoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!_objectPoints.empty() && _objectPoints.type() == CV_64FC3);",
          "new_line_content": "        ptr_d[i][0] -= param.alpha * ptr_d[i][1];",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "type",
          "new_api": null,
          "old_text": "_imagePoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!_imagePoints.empty() && _imagePoints.type() == CV_64FC2);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "reshape",
          "new_api": null,
          "old_text": "NormalizePixels(_imagePoints, param).reshape(1).t()",
          "new_text": null,
          "old_line_content": "    Mat imagePointsNormalized = NormalizePixels(_imagePoints, param).reshape(1).t();",
          "new_line_content": "    return undistorted;",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "reshape",
          "new_api": null,
          "old_text": "_objectPoints.reshape(1).t()",
          "new_text": null,
          "old_line_content": "    Mat objectPoints = _objectPoints.reshape(1).t();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": "determinant",
          "new_api": null,
          "old_text": "determinant(R)",
          "new_text": null,
          "old_line_content": "    if (determinant(R) < 0)",
          "new_line_content": "    Mat objectPointsMean, covObjectPoints;",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "empty",
          "new_api": null,
          "old_text": "imagePoints2.empty()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!objectPoints.empty() && !imagePoints1.empty() && !imagePoints2.empty());",
          "new_line_content": "/// cv::fisheye::stereoCalibrate",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "total",
          "new_api": null,
          "old_text": "imagePoints2.total()",
          "new_text": null,
          "old_line_content": "    CV_Assert(objectPoints.total() == imagePoints1.total() || imagePoints1.total() == imagePoints2.total());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "type",
          "new_api": null,
          "old_text": "objectPoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3);",
          "new_line_content": "double cv::fisheye::stereoCalibrate(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints1, InputArrayOfArrays imagePoints2,",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "type",
          "new_api": null,
          "old_text": "imagePoints1.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(imagePoints1.type() == CV_32FC2 || imagePoints1.type() == CV_64FC2);",
          "new_line_content": "                                    InputOutputArray K1, InputOutputArray D1, InputOutputArray K2, InputOutputArray D2, Size imageSize,",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "type",
          "new_api": null,
          "old_text": "imagePoints2.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(imagePoints2.type() == CV_32FC2 || imagePoints2.type() == CV_64FC2);",
          "new_line_content": "                                    OutputArray R, OutputArray T, int flags, TermCriteria criteria)",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect(0,0,X_new.cols,2)",
          "new_text": null,
          "old_line_content": "    Mat H = ComputeHomography(imagePointsNormalized, X_new(Rect(0,0,X_new.cols,2)));",
          "new_line_content": "    SVD svd(covObjectPoints);",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "col",
          "new_api": null,
          "old_text": "H.col(1)",
          "new_text": null,
          "old_line_content": "    double sc = .5 * (norm(H.col(0)) + norm(H.col(1)));",
          "new_line_content": "    Mat R(svd.vt);",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "total",
          "new_api": null,
          "old_text": "D1.total()",
          "new_text": null,
          "old_line_content": "    CV_Assert(D1.empty() || (D1.total() == 4));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "col",
          "new_api": null,
          "old_text": "H.col(1).clone()",
          "new_text": null,
          "old_line_content": "    Mat u2 = H.col(1).clone() - u1.dot(H.col(1).clone()) * u1;",
          "new_line_content": "        R = -R;",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "norm",
          "new_api": null,
          "old_text": "norm(u2)",
          "new_text": null,
          "old_line_content": "    u2 = u2 / norm(u2);",
          "new_line_content": "    Mat T = -R * objectPointsMean;",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "hconcat",
          "new_api": null,
          "old_text": "hconcat(RRR, u3, RRR)",
          "new_text": null,
          "old_line_content": "    hconcat(RRR, u3, RRR);",
          "new_line_content": "    H = H / sc;",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "Rodrigues",
          "new_api": null,
          "old_text": "Rodrigues(Rckk, omckk)",
          "new_text": null,
          "old_line_content": "    Rodrigues(Rckk, omckk);",
          "new_line_content": "    Mat RRR;",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    int n_images = (int)objectPoints.total();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "type",
          "new_api": null,
          "old_text": "objectPoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!objectPoints.empty() && (objectPoints.type() == CV_32FC3 || objectPoints.type() == CV_64FC3));",
          "new_line_content": "    Rckk = Rckk * R;",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "type",
          "new_api": null,
          "old_text": "Tc.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(omc.type() == CV_64FC3 || Tc.type() == CV_64FC3);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    if (omc.empty()) omc.create(1, (int)objectPoints.total(), CV_64FC3);",
          "new_line_content": "void cv::internal::CalibrateExtrinsics(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints,",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    if (Tc.empty()) Tc.create(1, (int)objectPoints.total(), CV_64FC3);",
          "new_line_content": "                         const IntrinsicParams& param, const int check_cond,",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "K1.getMat().convertTo(_K1, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    if (!K1.empty()) K1.getMat().convertTo(_K1, CV_64FC1);",
          "new_line_content": "    cv::internal::IntrinsicParams intrinsicLeft;",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "D1.getMat().convertTo(_D1, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    if (!D1.empty()) D1.getMat().convertTo(_D1, CV_64FC1);",
          "new_line_content": "    cv::internal::IntrinsicParams intrinsicRight;",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "K2.getMat().convertTo(_K2, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    if (!K2.empty()) K2.getMat().convertTo(_K2, CV_64FC1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "D2.getMat().convertTo(_D2, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    if (!D2.empty()) D2.getMat().convertTo(_D2, CV_64FC1);",
          "new_line_content": "    cv::internal::IntrinsicParams intrinsicLeft_errors;",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "objectPoints.getMat(image_idx).convertTo(object,  CV_64FC3)",
          "new_text": null,
          "old_line_content": "        objectPoints.getMat(image_idx).convertTo(object,  CV_64FC3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "convertTo",
          "new_api": null,
          "old_text": "imagePoints.getMat (image_idx).convertTo(image, CV_64FC2)",
          "new_text": null,
          "old_line_content": "        imagePoints.getMat (image_idx).convertTo(image, CV_64FC2);",
          "new_line_content": "    const int maxIter = 20;",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "_K1",
          "new_api": null,
          "old_text": "_K1(1, 2)",
          "new_text": null,
          "old_line_content": "    intrinsicLeft.Init(Vec2d(_K1(0,0), _K1(1, 1)), Vec2d(_K1(0,2), _K1(1, 2)),",
          "new_line_content": "    std::vector<Vec3d> rvecs1(n_images), tvecs1(n_images), rvecs2(n_images), tvecs2(n_images);",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "_K1",
          "new_api": null,
          "old_text": "_K1(0, 0)",
          "new_text": null,
          "old_line_content": "                       Vec4d(_D1[0], _D1[1], _D1[2], _D1[3]), _K1(0, 1) / _K1(0, 0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "t",
          "new_api": null,
          "old_text": "object.t()",
          "new_text": null,
          "old_line_content": "        InitExtrinsics(imT ? image.t() : image, obT ? object.t() : object, param, omckk, Tckk);",
          "new_line_content": "        Mat image, object;",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "_K2",
          "new_api": null,
          "old_text": "_K2(1, 2)",
          "new_text": null,
          "old_line_content": "    intrinsicRight.Init(Vec2d(_K2(0,0), _K2(1, 1)), Vec2d(_K2(0,2), _K2(1, 2)),",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "total",
          "new_api": null,
          "old_text": "svd.w.total()",
          "new_text": null,
          "old_line_content": "            if(svd.w.at<double>(0) / svd.w.at<double>((int)svd.w.total() - 1) > thresh_cond )",
          "new_line_content": "        bool obT = object.rows < object.cols;",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "format",
          "new_api": null,
          "old_text": "format(\"CALIB_CHECK_COND - Ill-conditioned matrix for input array %d\",image_idx)",
          "new_text": null,
          "old_line_content": "                CV_Error( cv::Error::StsInternal, format(\"CALIB_CHECK_COND - Ill-conditioned matrix for input array %d\",image_idx));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "omc.getMat().col(image_idx)",
          "new_text": null,
          "old_line_content": "        omckk.reshape(3,1).copyTo(omc.getMat().col(image_idx));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "type",
          "new_api": null,
          "old_text": "imagePoints.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!imagePoints.empty() && (imagePoints.type() == CV_32FC2 || imagePoints.type() == CV_64FC2));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "type",
          "new_api": null,
          "old_text": "omc.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!omc.empty() && omc.type() == CV_64FC3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "std::tan(theta)",
          "new_api": null,
          "old_text": "std::tan(theta)",
          "new_text": null,
          "old_line_content": "            scale = std::tan(theta) / theta_d;",
          "new_line_content": "                /* new_theta = theta - theta_fix, theta_fix = f0(theta) / f0'(theta) */",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "type",
          "new_api": null,
          "old_text": "Tc.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!Tc.empty() && Tc.type() == CV_64FC3);",
          "new_line_content": "void cv::internal::ComputeJacobians(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints,",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    int n = (int)objectPoints.total();",
          "new_line_content": "                      const int& check_cond, const double& thresh_cond, Mat& JJ2, Mat& ex3)",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "Vec3d",
          "new_api": null,
          "old_text": "Vec3d(pu[0], pu[1], 1.0)",
          "new_text": null,
          "old_line_content": "        Vec3d pr = RR * Vec3d(pu[0], pu[1], 1.0); // rotated point optionally multiplied by new camera matrix",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "convertTo",
          "new_api": null,
          "old_text": "imagePoints.getMat (image_idx).convertTo(image, CV_64FC2)",
          "new_text": null,
          "old_line_content": "        imagePoints.getMat (image_idx).convertTo(image, CV_64FC2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "Tc.getMat().col(image_idx)",
          "new_text": null,
          "old_line_content": "        Mat om(omc.getMat().col(image_idx)), T(Tc.getMat().col(image_idx));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "end",
          "new_api": null,
          "old_text": "intrinsicLeft.isEstimate.end()",
          "new_text": null,
          "old_line_content": "    selectedParams.insert(selectedParams.end(), intrinsicLeft.isEstimate.begin(), intrinsicLeft.isEstimate.end());",
          "new_line_content": "    intrinsicRight.isEstimate[7] = flags & (CALIB_FIX_K3 | CALIB_FIX_INTRINSIC) ? 0 : 1;",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "end",
          "new_api": null,
          "old_text": "intrinsicRight.isEstimate.end()",
          "new_text": null,
          "old_line_content": "    selectedParams.insert(selectedParams.end(), intrinsicRight.isEstimate.begin(), intrinsicRight.isEstimate.end());",
          "new_line_content": "    intrinsicRight.isEstimate[8] = flags & (CALIB_FIX_K4 | CALIB_FIX_INTRINSIC) ? 0 : 1;",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "end",
          "new_api": null,
          "old_text": "tmp.end()",
          "new_text": null,
          "old_line_content": "    selectedParams.insert(selectedParams.end(), tmp.begin(), tmp.end());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "col",
          "new_api": null,
          "old_text": "A.col(4)",
          "new_text": null,
          "old_line_content": "        jacobians.col(14).copyTo(A.col(4));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "CV_Assert",
          "new_api": null,
          "old_text": "CV_Assert( m1type == CV_16SC2 || m1type == CV_32F || m1type <=0 )",
          "new_text": null,
          "old_line_content": "    CV_Assert( m1type == CV_16SC2 || m1type == CV_32F || m1type <=0 );",
          "new_line_content": "//////////////////////////////////////////////////////////////////////////////////////////////////////////////",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "create",
          "new_api": null,
          "old_text": "map1.create( size, m1type <= 0 ? CV_16SC2 : m1type )",
          "new_text": null,
          "old_line_content": "    map1.create( size, m1type <= 0 ? CV_16SC2 : m1type );",
          "new_line_content": "/// cv::fisheye::undistortPoints",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "type",
          "new_api": null,
          "old_text": "map1.type()",
          "new_text": null,
          "old_line_content": "    map2.create( size, map1.type() == CV_16SC2 ? CV_16UC1 : CV_32F );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "t",
          "new_api": null,
          "old_text": "R1.t()",
          "new_text": null,
          "old_line_content": "        R_ref = R2 * R1.t();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "depth",
          "new_api": null,
          "old_text": "D.depth()",
          "new_text": null,
          "old_line_content": "    CV_Assert((K.depth() == CV_32F || K.depth() == CV_64F) && (D.depth() == CV_32F || D.depth() == CV_64F));",
          "new_line_content": "    const cv::Size& size, int m1type, OutputArray map1, OutputArray map2 )",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "depth",
          "new_api": null,
          "old_text": "R.depth()",
          "new_text": null,
          "old_line_content": "    CV_Assert((P.empty() || P.depth() == CV_32F || P.depth() == CV_64F) && (R.empty() || R.depth() == CV_32F || R.depth() == CV_64F));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "cv::Mat(tvecs1[image_idx])",
          "new_api": null,
          "old_text": "cv::Mat(tvecs1[image_idx])",
          "new_text": null,
          "old_line_content": "        T_ref = cv::Mat(tvecs2[image_idx]) - R_ref * cv::Mat(tvecs1[image_idx]);",
          "new_line_content": "    //Init values for rotation and translation between two views",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "channels",
          "new_api": null,
          "old_text": "R.channels()",
          "new_text": null,
          "old_line_content": "    CV_Assert(R.empty() || R.size() == Size(3, 3) || R.total() * R.channels() == 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "cv::Rodrigues(R_ref, om_ref)",
          "new_api": null,
          "old_text": "cv::Rodrigues(R_ref, om_ref)",
          "new_text": null,
          "old_line_content": "        cv::Rodrigues(R_ref, om_ref);",
          "new_line_content": "    cv::Mat om_list(1, n_images, CV_64FC3), T_list(1, n_images, CV_64FC3);",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "col",
          "new_api": null,
          "old_text": "om_list.col(image_idx)",
          "new_text": null,
          "old_line_content": "        om_ref.reshape(3, 1).copyTo(om_list.col(image_idx));",
          "new_line_content": "    cv::Mat om_ref, R_ref, T_ref, R1, R2;",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "col",
          "new_api": null,
          "old_text": "T_list.col(image_idx)",
          "new_text": null,
          "old_line_content": "        T_ref.reshape(3, 1).copyTo(T_list.col(image_idx));",
          "new_line_content": "    for (int image_idx = 0; image_idx < n_images; ++image_idx)",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "depth",
          "new_api": null,
          "old_text": "K.depth()",
          "new_text": null,
          "old_line_content": "    if (K.depth() == CV_32F)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "jacobians.colRange(8, 14).clone()",
          "new_text": null,
          "old_line_content": "        Mat B = jacobians.colRange(8, 14).clone();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "t",
          "new_api": null,
          "old_text": "B.t()",
          "new_text": null,
          "old_line_content": "        B = B.t();",
          "new_line_content": "        Mat A(jacobians.rows, 9, CV_64FC1);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect(9 + 6 * image_idx, 0, 6, 9)",
          "new_text": null,
          "old_line_content": "        JJ2(Rect(0, 9 + 6 * image_idx, 9, 6)) = JJ2(Rect(9 + 6 * image_idx, 0, 6, 9)).t();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "reshape",
          "new_api": null,
          "old_text": "exkk.reshape(1, 2 * exkk.rows)",
          "new_text": null,
          "old_line_content": "        ex3.rowRange(9 + 6 * image_idx, 9 + 6 * (image_idx + 1)) = B * exkk.reshape(1, 2 * exkk.rows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "camMat",
          "new_api": null,
          "old_text": "camMat(1, 1)",
          "new_text": null,
          "old_line_content": "        f = Vec2d(camMat(0, 0), camMat(1, 1));",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "create",
          "new_api": null,
          "old_text": "J.create(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1)",
          "new_text": null,
          "old_line_content": "        J.create(4 * n_points * n_images, 18 + 6 * (n_images + 1), CV_64FC1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "create",
          "new_api": null,
          "old_text": "e.create(4 * n_points * n_images, 1, CV_64FC1)",
          "new_text": null,
          "old_line_content": "        e.create(4 * n_points * n_images, 1, CV_64FC1);",
          "new_line_content": "    for(int iter = 0; ; ++iter)",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "create",
          "new_api": null,
          "old_text": "Jkk.create(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1)",
          "new_text": null,
          "old_line_content": "        Jkk.create(4 * n_points, 18 + 6 * (n_images + 1), CV_64FC1);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "Vec4d::all(0)",
          "new_api": null,
          "old_text": "Vec4d::all(0)",
          "new_text": null,
          "old_line_content": "    Vec4d k = Vec4d::all(0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "empty",
          "new_api": null,
          "old_text": "D.empty()",
          "new_text": null,
          "old_line_content": "    if (!D.empty())",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "D.getMat().ptr<Vec4d>()",
          "new_text": null,
          "old_line_content": "        k = D.depth() == CV_32F ? (Vec4d)*D.getMat().ptr<Vec4f>(): *D.getMat().ptr<Vec4d>();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "create",
          "new_api": null,
          "old_text": "ekk.create(4 * n_points, 1, CV_64FC1)",
          "new_text": null,
          "old_line_content": "        ekk.create(4 * n_points, 1, CV_64FC1);",
          "new_line_content": "        if ((criteria.type == 1 && iter >= criteria.maxCount)  ||",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "svd.w.at<double>(svd.w.rows - 1)",
          "new_api": null,
          "old_text": "svd.w.at<double>(svd.w.rows - 1)",
          "new_text": null,
          "old_line_content": "            CV_Assert(svd.w.at<double>(0) / svd.w.at<double>(svd.w.rows - 1) < thresh_cond);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "end",
          "new_api": null,
          "old_text": "idxs.end()",
          "new_text": null,
          "old_line_content": "    idxs.insert(idxs.end(), 6 * n, 1);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "subMatrix",
          "new_api": null,
          "old_text": "subMatrix(JJ2, JJ2, idxs, idxs)",
          "new_text": null,
          "old_line_content": "    subMatrix(JJ2, JJ2, idxs, idxs);",
          "new_line_content": "            SVD svd(JJ_kk, SVD::NO_UV);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "imagePoints1.getMat(image_idx).clone()",
          "new_text": null,
          "old_line_content": "            cv::Mat imageLeft  = imagePoints1.getMat(image_idx).clone();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "imagePoints2.getMat(image_idx).clone()",
          "new_text": null,
          "old_line_content": "            cv::Mat imageRight  = imagePoints2.getMat(image_idx).clone();",
          "new_line_content": "        cv::Mat omr, Tr, domrdomckk, domrdTckk, domrdom, domrdT, dTrdomckk, dTrdTckk, dTrdom, dTrdT;",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(3, 3)",
          "new_text": null,
          "old_line_content": "    else if (!R.empty() && R.size() == Size(3, 3))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "cv::Matx33d::eye()",
          "new_api": null,
          "old_text": "cv::Matx33d::eye()",
          "new_text": null,
          "old_line_content": "    cv::Matx33d PP = cv::Matx33d::eye();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "empty",
          "new_api": null,
          "old_text": "P.empty()",
          "new_text": null,
          "old_line_content": "    if (!P.empty())",
          "new_line_content": "        cv::Vec3d rvec;",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "cv::Mat(tvecs1[image_idx])",
          "new_api": null,
          "old_text": "cv::Mat(tvecs1[image_idx])",
          "new_text": null,
          "old_line_content": "            cv::Mat tvec  = cv::Mat(tvecs1[image_idx]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "type",
          "new_api": null,
          "old_text": "omc.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!omc.empty() && omc.type() == CV_64FC3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "inv",
          "new_api": null,
          "old_text": "PP * RR).inv(cv::DECOMP_SVD)",
          "new_text": null,
          "old_line_content": "    cv::Matx33d iR = (PP * RR).inv(cv::DECOMP_SVD);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "Jkk.colRange(27 + image_idx * 6, 30 + image_idx * 6).rowRange(0, 2 * n_points)",
          "new_text": null,
          "old_line_content": "            jacobians.colRange(11, 14).copyTo(Jkk.colRange(27 + image_idx * 6, 30 + image_idx * 6).rowRange(0, 2 * n_points));",
          "new_line_content": "            cv::Mat jacobians, projected;",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "Jkk.colRange(0, 2).rowRange(0, 2 * n_points)",
          "new_text": null,
          "old_line_content": "            jacobians.colRange(0, 2).copyTo(Jkk.colRange(0, 2).rowRange(0, 2 * n_points));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "Jkk.colRange(2, 4).rowRange(0, 2 * n_points)",
          "new_text": null,
          "old_line_content": "            jacobians.colRange(2, 4).copyTo(Jkk.colRange(2, 4).rowRange(0, 2 * n_points));",
          "new_line_content": "            //left camera jacobian",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "type",
          "new_api": null,
          "old_text": "Tc.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(!Tc.empty() && Tc.type() == CV_64FC3);",
          "new_line_content": "void cv::internal::EstimateUncertainties(InputArrayOfArrays objectPoints, InputArrayOfArrays imagePoints,",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    for (int image_idx = 0; image_idx < (int)objectPoints.total(); ++image_idx)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "total",
          "new_api": null,
          "old_text": "objectPoints.total()",
          "new_text": null,
          "old_line_content": "    for (int image_idx = 0; image_idx < (int)objectPoints.total(); ++image_idx)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "iR",
          "new_api": null,
          "old_text": "iR(0, 2)",
          "new_text": null,
          "old_line_content": "        double _x = i*iR(0, 1) + iR(0, 2),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "iR",
          "new_api": null,
          "old_text": "iR(1, 2)",
          "new_text": null,
          "old_line_content": "               _y = i*iR(1, 1) + iR(1, 2),",
          "new_line_content": "    for( int i = 0; i < size.height; ++i)",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "iR",
          "new_api": null,
          "old_text": "iR(2, 2)",
          "new_text": null,
          "old_line_content": "               _w = i*iR(2, 1) + iR(2, 2);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "objectPoints.getMat(image_idx).convertTo(object, CV_64FC3)",
          "new_text": null,
          "old_line_content": "        objectPoints.getMat(image_idx).convertTo(object, CV_64FC3);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "jacobians.colRange(11, 14)",
          "new_text": null,
          "old_line_content": "            cv::Mat dxrdom = jacobians.colRange(8, 11) * domrdom + jacobians.colRange(11, 14) * dTrdom;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "jacobians.colRange(11, 14)",
          "new_text": null,
          "old_line_content": "            cv::Mat dxrdT = jacobians.colRange(8, 11) * domrdT + jacobians.colRange(11, 14)* dTrdT;",
          "new_line_content": "            //right camera jacobian",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "colRange",
          "new_api": null,
          "old_text": "Jkk.colRange(18, 21).rowRange(2 * n_points, 4 * n_points)",
          "new_text": null,
          "old_line_content": "            dxrdom.copyTo(Jkk.colRange(18, 21).rowRange(2 * n_points, 4 * n_points));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "rowRange",
          "new_api": null,
          "old_text": "ex.rowRange(insert_idx, insert_idx + ex_.rows)",
          "new_text": null,
          "old_line_content": "        ex_.copyTo(ex.rowRange(insert_idx, insert_idx + ex_.rows));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "noArray",
          "new_api": null,
          "old_text": "noArray()",
          "new_text": null,
          "old_line_content": "    meanStdDev(ex, noArray(), std_err);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "total",
          "new_api": null,
          "old_text": "ex.total()",
          "new_text": null,
          "old_line_content": "    std_err *= sqrt((double)ex.total()/((double)ex.total() - 1.0));",
          "new_line_content": "        std::vector<Point2d> x;",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": "sqrt",
          "new_api": null,
          "old_text": "sqrt(x*x + y*y)",
          "new_text": null,
          "old_line_content": "                double r = sqrt(x*x + y*y);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "col",
          "new_api": null,
          "old_text": "Jkk.col(9 + 4).rowRange(2 * n_points, 4 * n_points)",
          "new_text": null,
          "old_line_content": "            jacobians.col(14).copyTo(Jkk.col(9 + 4).rowRange(2 * n_points, 4 * n_points));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "total",
          "new_api": null,
          "old_text": "ex.total()",
          "new_text": null,
          "old_line_content": "    sigma_x  *= sqrt(2.0 * (double)ex.total()/(2.0 * (double)ex.total() - 1.0));",
          "new_line_content": "        insert_idx += ex_.rows;",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "inv",
          "new_api": null,
          "old_text": "JJ2.inv()",
          "new_text": null,
          "old_line_content": "    sqrt(JJ2.inv(), JJ2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "cv::saturate_cast<int>(u*cv::INTER_TAB_SIZE)",
          "new_api": null,
          "old_text": "cv::saturate_cast<int>(u*cv::INTER_TAB_SIZE)",
          "new_text": null,
          "old_line_content": "                int iu = cv::saturate_cast<int>(u*cv::INTER_TAB_SIZE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "cv::saturate_cast<int>(v*cv::INTER_TAB_SIZE)",
          "new_api": null,
          "old_text": "cv::saturate_cast<int>(v*cv::INTER_TAB_SIZE)",
          "new_text": null,
          "old_line_content": "                int iv = cv::saturate_cast<int>(v*cv::INTER_TAB_SIZE);",
          "new_line_content": "                double scale = (r == 0) ? 1.0 : theta_d / r;",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "CV_Assert",
          "new_api": null,
          "old_text": "CV_Assert(abs_max < threshold)",
          "new_text": null,
          "old_line_content": "            CV_Assert(abs_max < threshold); // bad stereo pair",
          "new_line_content": "            for (int i = 0; i < 4 * n_points; i++)",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "rowRange",
          "new_api": null,
          "old_text": "e.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points)",
          "new_text": null,
          "old_line_content": "            ekk.copyTo(e.rowRange(image_idx * 4 * n_points, (image_idx + 1) * 4 * n_points));",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "ushort)((iv & (cv::INTER_TAB_SIZE-1))*cv::INTER_TAB_SIZE + (iu & (cv::INTER_TAB_SIZE-1)))",
          "new_api": null,
          "old_text": "ushort)((iv & (cv::INTER_TAB_SIZE-1))*cv::INTER_TAB_SIZE + (iu & (cv::INTER_TAB_SIZE-1)))",
          "new_text": null,
          "old_line_content": "                m2[j] = (ushort)((iv & (cv::INTER_TAB_SIZE-1))*cv::INTER_TAB_SIZE + (iu & (cv::INTER_TAB_SIZE-1)));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "A.getMat()",
          "new_text": null,
          "old_line_content": "    int n = A.getMat().cols;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "B.getMat()",
          "new_text": null,
          "old_line_content": "    int q = B.getMat().cols;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "std::vector<uchar>(J.rows, 1)",
          "new_api": null,
          "old_text": "std::vector<uchar>(J.rows, 1)",
          "new_text": null,
          "old_line_content": "        cv::subMatrix(J, J, selectedParams, std::vector<uchar>(J.rows, 1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "create",
          "new_api": null,
          "old_text": "dABdA.create(p * q, p * n, CV_64FC1)",
          "new_text": null,
          "old_line_content": "    dABdA.create(p * q, p * n, CV_64FC1);",
          "new_line_content": "{",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 168,
      "total_additions": 283,
      "total_deletions": 282,
      "total_api_changes": 733
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 733,
        "non_api_lines": 9,
        "non_api_line_numbers": [
          391,
          392,
          393,
          394,
          396,
          398,
          399,
          400,
          402
        ]
      }
    },
    "api_calls_before": 1317,
    "api_calls_after": 1318,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 2,
      "total_diff_lines": 26
    }
  }
}