{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/36bd10779c3721d1b4b66c549023fd4a33f4db58",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/36bd10779c3721d1b4b66c549023fd4a33f4db58/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/36bd10779c3721d1b4b66c549023fd4a33f4db58/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/36bd10779c3721d1b4b66c549023fd4a33f4db58/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 330,
          "old_api": "__HAL_RCC_GET_FLAG",
          "new_api": "__HAL_RCC_HSE_CONFIG",
          "old_text": "__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY)",
          "new_text": "__HAL_RCC_HSE_CONFIG(RCC_HSE_ON)",
          "old_line_content": "    while(__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) == RESET)",
          "new_line_content": "    __HAL_RCC_HSE_CONFIG(RCC_HSE_ON);",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "__HAL_RCC_GET_FLAG",
          "new_api": "__HAL_RCC_PLL_ENABLE",
          "old_text": "__HAL_RCC_GET_FLAG(RCC_FLAG_PLLRDY)",
          "new_text": "__HAL_RCC_PLL_ENABLE()",
          "old_line_content": "    while(__HAL_RCC_GET_FLAG(RCC_FLAG_PLLRDY) == RESET)",
          "new_line_content": "    __HAL_RCC_PLL_ENABLE();",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "__HAL_USB_HS_EXTI_CLEAR_FLAG",
          "new_api": "__HAL_USB_FS_EXTI_CLEAR_FLAG",
          "old_text": "__HAL_USB_HS_EXTI_CLEAR_FLAG()",
          "new_text": "__HAL_USB_FS_EXTI_CLEAR_FLAG()",
          "old_line_content": "  __HAL_USB_HS_EXTI_CLEAR_FLAG();",
          "new_line_content": "  __HAL_USB_FS_EXTI_CLEAR_FLAG();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 515,
          "old_api": null,
          "new_api": "uart_irq_handler",
          "old_text": null,
          "new_text": "uart_irq_handler(4)",
          "old_line_content": "void UART5_IRQHandler(void) {",
          "new_line_content": "    uart_irq_handler(4);",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "uart_irq_handler",
          "old_text": null,
          "new_text": "uart_irq_handler(5)",
          "old_line_content": "void USART6_IRQHandler(void) {",
          "new_line_content": "    uart_irq_handler(5);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(0)",
          "old_line_content": "void EXTI1_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(0);",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": null,
          "new_api": "uart_irq_handler",
          "old_text": null,
          "new_text": "uart_irq_handler(6)",
          "old_line_content": "#if MICROPY_HW_ENABLE_CAN",
          "new_line_content": "    uart_irq_handler(6);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(1)",
          "old_line_content": "void EXTI2_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(1);",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(2)",
          "old_line_content": "void EXTI3_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(2);",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "can_rx_irq_handler",
          "old_text": null,
          "new_text": "can_rx_irq_handler(PYB_CAN_1, CAN_FIFO0)",
          "old_line_content": "void CAN1_RX1_IRQHandler(void) {",
          "new_line_content": "    can_rx_irq_handler(PYB_CAN_1, CAN_FIFO0);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(3)",
          "old_line_content": "void EXTI4_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(3);",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "can_rx_irq_handler",
          "old_text": null,
          "new_text": "can_rx_irq_handler(PYB_CAN_1, CAN_FIFO1)",
          "old_line_content": "void CAN2_RX0_IRQHandler(void) {",
          "new_line_content": "    can_rx_irq_handler(PYB_CAN_1, CAN_FIFO1);",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(4)",
          "old_line_content": "void EXTI9_5_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(4);",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": null,
          "new_api": "STORAGE_IDLE_TICK",
          "old_text": null,
          "new_text": "STORAGE_IDLE_TICK(uwTick)",
          "old_line_content": "",
          "new_line_content": "    if (STORAGE_IDLE_TICK(uwTick)) {",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "can_rx_irq_handler",
          "old_text": null,
          "new_text": "can_rx_irq_handler(PYB_CAN_2, CAN_FIFO0)",
          "old_line_content": "void CAN2_RX1_IRQHandler(void) {",
          "new_line_content": "    can_rx_irq_handler(PYB_CAN_2, CAN_FIFO0);",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "DMA_IDLE_TICK",
          "old_text": null,
          "new_text": "DMA_IDLE_TICK(uwTick)",
          "old_line_content": "}",
          "new_line_content": "    if (DMA_IDLE_ENABLED() && DMA_IDLE_TICK(uwTick)) {",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "can_rx_irq_handler",
          "old_text": null,
          "new_text": "can_rx_irq_handler(PYB_CAN_2, CAN_FIFO1)",
          "old_line_content": "",
          "new_line_content": "    can_rx_irq_handler(PYB_CAN_2, CAN_FIFO1);",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "dma_idle_handler",
          "old_text": null,
          "new_text": "dma_idle_handler(uwTick)",
          "old_line_content": "",
          "new_line_content": "        dma_idle_handler(uwTick);",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(7)",
          "old_line_content": "}",
          "new_line_content": "    Handle_EXTI_Irq(7);",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(8)",
          "old_line_content": "",
          "new_line_content": "    Handle_EXTI_Irq(8);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(9)",
          "old_line_content": "void EXTI15_10_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(9);",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(13)",
          "old_line_content": "}",
          "new_line_content": "    Handle_EXTI_Irq(13);",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(14)",
          "old_line_content": "",
          "new_line_content": "    Handle_EXTI_Irq(14);",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(15)",
          "old_line_content": "void PVD_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(15);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(EXTI_PVD_OUTPUT)",
          "old_line_content": "void RTC_Alarm_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(EXTI_PVD_OUTPUT);",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(EXTI_RTC_ALARM)",
          "old_line_content": "#if defined(ETH)    // The 407 has ETH, the 405 doesn't",
          "new_line_content": "    Handle_EXTI_Irq(EXTI_RTC_ALARM);",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(EXTI_ETH_WAKEUP)",
          "old_line_content": "",
          "new_line_content": "    Handle_EXTI_Irq(EXTI_ETH_WAKEUP);",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "HAL_PCD_IRQHandler",
          "old_text": null,
          "new_text": "HAL_PCD_IRQHandler(&pcd_handle)",
          "old_line_content": "",
          "new_line_content": "    HAL_PCD_IRQHandler(&pcd_handle);",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(EXTI_RTC_TIMESTAMP)",
          "old_line_content": "void RTC_WKUP_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(EXTI_RTC_TIMESTAMP);",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "Handle_EXTI_Irq",
          "old_text": null,
          "new_text": "Handle_EXTI_Irq(EXTI_RTC_WAKEUP)",
          "old_line_content": "void TIM1_BRK_TIM9_IRQHandler(void) {",
          "new_line_content": "    Handle_EXTI_Irq(EXTI_RTC_WAKEUP); // clear EXTI flag and execute optional callback",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(9)",
          "old_line_content": "void TIM1_UP_TIM10_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(9);",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(1)",
          "old_line_content": "",
          "new_line_content": "    timer_irq_handler(1);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(10)",
          "old_line_content": "void TIM1_TRG_COM_TIM11_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(10);",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(11)",
          "old_line_content": "void TIM2_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(11);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "__HAL_RCC_GET_FLAG",
          "old_text": null,
          "new_text": "__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY)",
          "old_line_content": "    /* Enable the main PLL. */",
          "new_line_content": "    while(__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) == RESET)",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(2)",
          "old_line_content": "void TIM3_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(2);",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "__HAL_RCC_GET_FLAG",
          "old_text": null,
          "new_text": "__HAL_RCC_GET_FLAG(RCC_FLAG_PLLRDY)",
          "old_line_content": "    /* Select PLL as SYSCLK */",
          "new_line_content": "    while(__HAL_RCC_GET_FLAG(RCC_FLAG_PLLRDY) == RESET)",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "HAL_TIM_IRQHandler",
          "old_text": null,
          "new_text": "HAL_TIM_IRQHandler(&TIM3_Handle)",
          "old_line_content": "void TIM4_IRQHandler(void) {",
          "new_line_content": "    HAL_TIM_IRQHandler(&TIM3_Handle);",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "MODIFY_REG",
          "old_text": null,
          "new_text": "MODIFY_REG(RCC->CFGR, RCC_CFGR_SW, RCC_SYSCLKSOURCE_PLLCLK)",
          "old_line_content": "    {}",
          "new_line_content": "    MODIFY_REG(RCC->CFGR, RCC_CFGR_SW, RCC_SYSCLKSOURCE_PLLCLK);",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(4)",
          "old_line_content": "void TIM5_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(4);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "__HAL_RCC_GET_SYSCLK_SOURCE",
          "old_text": null,
          "new_text": "__HAL_RCC_GET_SYSCLK_SOURCE()",
          "old_line_content": "    /* ungate PHY clock */",
          "new_line_content": "    while (__HAL_RCC_GET_SYSCLK_SOURCE() != RCC_CFGR_SWS_PLL)",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(5)",
          "old_line_content": "",
          "new_line_content": "    timer_irq_handler(5);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "HAL_TIM_IRQHandler",
          "old_text": null,
          "new_text": "HAL_TIM_IRQHandler(&TIM5_Handle)",
          "old_line_content": "void TIM6_DAC_IRQHandler(void) {",
          "new_line_content": "    HAL_TIM_IRQHandler(&TIM5_Handle);",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": null,
          "new_api": "__HAL_PCD_UNGATE_PHYCLOCK",
          "old_text": null,
          "new_text": "__HAL_PCD_UNGATE_PHYCLOCK((&pcd_handle))",
          "old_line_content": "  /* Clear EXTI pending Bit*/",
          "new_line_content": "     __HAL_PCD_UNGATE_PHYCLOCK((&pcd_handle));",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(6)",
          "old_line_content": "void TIM7_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(6);",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": null,
          "new_api": "__HAL_USB_HS_EXTI_CLEAR_FLAG",
          "old_text": null,
          "new_text": "__HAL_USB_HS_EXTI_CLEAR_FLAG()",
          "old_line_content": "}",
          "new_line_content": "  __HAL_USB_HS_EXTI_CLEAR_FLAG();",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(7)",
          "old_line_content": "void TIM8_BRK_TIM12_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(7);",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(12)",
          "old_line_content": "void TIM8_UP_TIM13_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(12);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(8)",
          "old_line_content": "",
          "new_line_content": "    timer_irq_handler(8);",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(13)",
          "old_line_content": "void TIM8_TRG_COM_TIM14_IRQHandler(void) {",
          "new_line_content": "    timer_irq_handler(13);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "timer_irq_handler",
          "old_text": null,
          "new_text": "timer_irq_handler(14)",
          "old_line_content": "// UART/USART IRQ handlers",
          "new_line_content": "    timer_irq_handler(14);",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "uart_irq_handler",
          "old_text": null,
          "new_text": "uart_irq_handler(1)",
          "old_line_content": "void USART2_IRQHandler(void) {",
          "new_line_content": "    uart_irq_handler(1);",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": null,
          "new_api": "uart_irq_handler",
          "old_text": null,
          "new_text": "uart_irq_handler(2)",
          "old_line_content": "void USART3_IRQHandler(void) {",
          "new_line_content": "    uart_irq_handler(2);",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "storage_irq_handler",
          "old_text": null,
          "new_text": "storage_irq_handler()",
          "old_line_content": "/**",
          "new_line_content": "    storage_irq_handler();",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "uart_irq_handler",
          "old_text": null,
          "new_text": "uart_irq_handler(3)",
          "old_line_content": "void UART4_IRQHandler(void) {",
          "new_line_content": "    uart_irq_handler(3);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "uart_irq_handler",
          "new_api": null,
          "old_text": "uart_irq_handler(4)",
          "new_text": null,
          "old_line_content": "    uart_irq_handler(4);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "uart_irq_handler",
          "new_api": null,
          "old_text": "uart_irq_handler(5)",
          "new_text": null,
          "old_line_content": "    uart_irq_handler(5);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(0)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(0);",
          "new_line_content": "  * @retval None",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "uart_irq_handler",
          "new_api": null,
          "old_text": "uart_irq_handler(6)",
          "new_text": null,
          "old_line_content": "    uart_irq_handler(6);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(1)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(2)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "can_rx_irq_handler",
          "new_api": null,
          "old_text": "can_rx_irq_handler(PYB_CAN_1, CAN_FIFO0)",
          "new_text": null,
          "old_line_content": "    can_rx_irq_handler(PYB_CAN_1, CAN_FIFO0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(3)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(3);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "can_rx_irq_handler",
          "new_api": null,
          "old_text": "can_rx_irq_handler(PYB_CAN_1, CAN_FIFO1)",
          "new_text": null,
          "old_line_content": "    can_rx_irq_handler(PYB_CAN_1, CAN_FIFO1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(4)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(4);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "can_rx_irq_handler",
          "new_api": null,
          "old_text": "can_rx_irq_handler(PYB_CAN_2, CAN_FIFO0)",
          "new_text": null,
          "old_line_content": "    can_rx_irq_handler(PYB_CAN_2, CAN_FIFO0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "STORAGE_IDLE_TICK",
          "new_api": null,
          "old_text": "STORAGE_IDLE_TICK(uwTick)",
          "new_text": null,
          "old_line_content": "    if (STORAGE_IDLE_TICK(uwTick)) {",
          "new_line_content": "    // be generalised in the future then a dispatch table can be used as",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(5)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(5);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "DMA_IDLE_TICK",
          "new_api": null,
          "old_text": "DMA_IDLE_TICK(uwTick)",
          "new_text": null,
          "old_line_content": "    if (DMA_IDLE_ENABLED() && DMA_IDLE_TICK(uwTick)) {",
          "new_line_content": "        NVIC->STIR = FLASH_IRQn;",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": "can_rx_irq_handler",
          "new_api": null,
          "old_text": "can_rx_irq_handler(PYB_CAN_2, CAN_FIFO1)",
          "new_text": null,
          "old_line_content": "    can_rx_irq_handler(PYB_CAN_2, CAN_FIFO1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "dma_idle_handler",
          "new_api": null,
          "old_text": "dma_idle_handler(uwTick)",
          "new_text": null,
          "old_line_content": "        dma_idle_handler(uwTick);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(6)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(6);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(7)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(7);",
          "new_line_content": "void EXTI9_5_IRQHandler(void) {",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(10)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(10);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(11)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(11);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(12)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(12);",
          "new_line_content": "void EXTI15_10_IRQHandler(void) {",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(EXTI_PVD_OUTPUT)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(EXTI_PVD_OUTPUT);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(EXTI_RTC_ALARM)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(EXTI_RTC_ALARM);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(EXTI_ETH_WAKEUP)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(EXTI_ETH_WAKEUP);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "HAL_PCD_IRQHandler",
          "new_api": null,
          "old_text": "HAL_PCD_IRQHandler(&pcd_handle)",
          "new_text": null,
          "old_line_content": "    HAL_PCD_IRQHandler(&pcd_handle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(EXTI_RTC_TIMESTAMP)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(EXTI_RTC_TIMESTAMP);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "Handle_EXTI_Irq",
          "new_api": null,
          "old_text": "Handle_EXTI_Irq(EXTI_RTC_WAKEUP)",
          "new_text": null,
          "old_line_content": "    Handle_EXTI_Irq(EXTI_RTC_WAKEUP); // clear EXTI flag and execute optional callback",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(9)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(9);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(1)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(10)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "__HAL_RCC_HSE_CONFIG",
          "new_api": null,
          "old_text": "__HAL_RCC_HSE_CONFIG(RCC_HSE_ON)",
          "new_text": null,
          "old_line_content": "    __HAL_RCC_HSE_CONFIG(RCC_HSE_ON);",
          "new_line_content": "    /* Configures system clock after wake-up from STOP: enable HSE, PLL and select",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(11)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(11);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(2)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": "__HAL_RCC_PLL_ENABLE",
          "new_api": null,
          "old_text": "__HAL_RCC_PLL_ENABLE()",
          "new_text": null,
          "old_line_content": "    __HAL_RCC_PLL_ENABLE();",
          "new_line_content": "    {}",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "HAL_TIM_IRQHandler",
          "new_api": null,
          "old_text": "HAL_TIM_IRQHandler(&TIM3_Handle)",
          "new_text": null,
          "old_line_content": "    HAL_TIM_IRQHandler(&TIM3_Handle);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "MODIFY_REG",
          "new_api": null,
          "old_text": "MODIFY_REG(RCC->CFGR, RCC_CFGR_SW, RCC_SYSCLKSOURCE_PLLCLK)",
          "new_text": null,
          "old_line_content": "    MODIFY_REG(RCC->CFGR, RCC_CFGR_SW, RCC_SYSCLKSOURCE_PLLCLK);",
          "new_line_content": "    {}",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(4)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(4);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "__HAL_RCC_GET_SYSCLK_SOURCE",
          "new_api": null,
          "old_text": "__HAL_RCC_GET_SYSCLK_SOURCE()",
          "new_text": null,
          "old_line_content": "    while (__HAL_RCC_GET_SYSCLK_SOURCE() != RCC_CFGR_SWS_PLL)",
          "new_line_content": "    /* Select PLL as SYSCLK */",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(5)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(5);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "HAL_TIM_IRQHandler",
          "new_api": null,
          "old_text": "HAL_TIM_IRQHandler(&TIM5_Handle)",
          "new_text": null,
          "old_line_content": "    HAL_TIM_IRQHandler(&TIM5_Handle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "__HAL_PCD_UNGATE_PHYCLOCK",
          "new_api": null,
          "old_text": "__HAL_PCD_UNGATE_PHYCLOCK((&pcd_handle))",
          "new_text": null,
          "old_line_content": "     __HAL_PCD_UNGATE_PHYCLOCK((&pcd_handle));",
          "new_line_content": "    {}",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(6)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(6);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "__HAL_USB_FS_EXTI_CLEAR_FLAG",
          "new_api": null,
          "old_text": "__HAL_USB_FS_EXTI_CLEAR_FLAG()",
          "new_text": null,
          "old_line_content": "  __HAL_USB_FS_EXTI_CLEAR_FLAG();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(7)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(7);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(12)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(12);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(8)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(8);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(13)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(13);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "timer_irq_handler",
          "new_api": null,
          "old_text": "timer_irq_handler(14)",
          "new_text": null,
          "old_line_content": "    timer_irq_handler(14);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "uart_irq_handler",
          "new_api": null,
          "old_text": "uart_irq_handler(1)",
          "new_text": null,
          "old_line_content": "    uart_irq_handler(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "uart_irq_handler",
          "new_api": null,
          "old_text": "uart_irq_handler(2)",
          "new_text": null,
          "old_line_content": "    uart_irq_handler(2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "storage_irq_handler",
          "new_api": null,
          "old_text": "storage_irq_handler()",
          "new_text": null,
          "old_line_content": "    storage_irq_handler();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "uart_irq_handler",
          "new_api": null,
          "old_text": "uart_irq_handler(3)",
          "new_text": null,
          "old_line_content": "    uart_irq_handler(3);",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 3,
      "total_additions": 52,
      "total_deletions": 52,
      "total_api_changes": 107
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 107,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          264,
          265,
          266,
          267
        ]
      }
    },
    "api_calls_before": 84,
    "api_calls_after": 84,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 1,
      "total_diff_lines": 17
    }
  }
}