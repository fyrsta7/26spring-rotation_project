{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e2e663291dd1408cc9c5118d258a568470e32f8c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e2e663291dd1408cc9c5118d258a568470e32f8c/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e2e663291dd1408cc9c5118d258a568470e32f8c/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e2e663291dd1408cc9c5118d258a568470e32f8c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 370,
          "old_api": "find_subbytes",
          "new_api": "memcpy",
          "old_text": "find_subbytes(lhs_data, lhs_len, rhs_data, rhs_len, 1)",
          "new_text": "memcpy(vstr.buf, lhs_data, lhs_len)",
          "old_line_content": "            return mp_obj_new_bool(find_subbytes(lhs_data, lhs_len, rhs_data, rhs_len, 1) != NULL);",
          "new_line_content": "            memcpy(vstr.buf, lhs_data, lhs_len);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "mp_obj_get_type",
          "new_api": "mp_get_index",
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": "mp_get_index(type, self_len, index, is_slice)",
          "old_line_content": "    mp_obj_type_t *type = mp_obj_get_type(self_in);",
          "new_line_content": "    mp_uint_t index_val = mp_get_index(type, self_len, index, is_slice);",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "mp_seq_get_fast_slice_indexes",
          "new_api": "mp_obj_get_type",
          "old_text": "mp_seq_get_fast_slice_indexes(self_len, index, &slice)",
          "new_text": "mp_obj_get_type(self_in)",
          "old_line_content": "            if (!mp_seq_get_fast_slice_indexes(self_len, index, &slice)) {",
          "new_line_content": "    mp_obj_type_t *type = mp_obj_get_type(self_in);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "mp_not_implemented",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "mp_not_implemented(\"only slices with step=1 (aka None) are supported\")",
          "new_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "old_line_content": "                mp_not_implemented(\"only slices with step=1 (aka None) are supported\");",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "mp_obj_list_get",
          "new_api": "mp_obj_tuple_get",
          "old_text": "mp_obj_list_get(arg, &seq_len, &seq_items)",
          "new_text": "mp_obj_tuple_get(arg, &seq_len, &seq_items)",
          "old_line_content": "        mp_obj_list_get(arg, &seq_len, &seq_items);",
          "new_line_content": "        mp_obj_tuple_get(arg, &seq_len, &seq_items);",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "mp_raise_TypeError",
          "new_api": "mp_obj_list_get",
          "old_text": "mp_raise_TypeError(\n                \"join expects a list of str/bytes objects consistent with self object\")",
          "new_text": "mp_obj_list_get(arg, &seq_len, &seq_items)",
          "old_line_content": "            mp_raise_TypeError(",
          "new_line_content": "        mp_obj_list_get(arg, &seq_len, &seq_items);",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "GET_STR_LEN",
          "new_api": "mp_obj_get_type",
          "old_text": "GET_STR_LEN(seq_items[i], l)",
          "new_text": "mp_obj_get_type(seq_items[i])",
          "old_line_content": "        GET_STR_LEN(seq_items[i], l);",
          "new_line_content": "        if (mp_obj_get_type(seq_items[i]) != self_type) {",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "vstr_init_len",
          "old_text": "GET_STR_DATA_LEN(seq_items[i], s, l)",
          "new_text": "vstr_init_len(&vstr, required_len)",
          "old_line_content": "        GET_STR_DATA_LEN(seq_items[i], s, l);",
          "new_line_content": "    vstr_init_len(&vstr, required_len);",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "unichar_isspace",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "unichar_isspace(*s)",
          "new_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "old_line_content": "        while (s < top && unichar_isspace(*s)) s++;",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": "unichar_isspace",
          "old_text": "mp_obj_new_str_of_type(self_type, s, top - s)",
          "new_text": "unichar_isspace(*s)",
          "old_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, s, top - s));",
          "new_line_content": "            while (s < top && unichar_isspace(*s)) s++;",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "mp_raise_ValueError",
          "new_api": "bad_implicit_conversion",
          "old_text": "mp_raise_ValueError(\"empty separator\")",
          "new_text": "bad_implicit_conversion(sep)",
          "old_line_content": "            mp_raise_ValueError(\"empty separator\");",
          "new_line_content": "            bad_implicit_conversion(sep);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "mp_obj_str_get_data",
          "new_api": "mp_obj_new_list",
          "old_text": "mp_obj_str_get_data(sep, &sep_len)",
          "new_text": "mp_obj_new_list(splits + 1, NULL)",
          "old_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "new_line_content": "    mp_obj_list_t *res = MP_OBJ_TO_PTR(mp_obj_new_list(splits + 1, NULL));",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "old_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "mp_raise_ValueError",
          "new_api": "str_index_to_ptr",
          "old_text": "mp_raise_ValueError(\"substring not found\")",
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "old_line_content": "            mp_raise_ValueError(\"substring not found\");",
          "new_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "str_finder",
          "old_text": "GET_STR_DATA_LEN(args[1], prefix, prefix_len)",
          "new_text": "str_finder(n_args, args, -1, true)",
          "old_line_content": "    GET_STR_DATA_LEN(args[1], prefix, prefix_len);",
          "new_line_content": "    return str_finder(n_args, args, -1, true);",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "mp_not_implemented",
          "new_api": "memcmp",
          "old_text": "mp_not_implemented(\"start/end indices\")",
          "new_text": "memcmp(start, prefix, prefix_len)",
          "old_line_content": "        mp_not_implemented(\"start/end indices\");",
          "new_line_content": "    return mp_obj_new_bool(memcmp(start, prefix, prefix_len) == 0);",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "mp_obj_get_type",
          "new_api": "memcmp",
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": "memcmp(str + (str_len - suffix_len), suffix, suffix_len)",
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "    return mp_obj_new_bool(memcmp(str + (str_len - suffix_len), suffix, suffix_len) == 0);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "bad_implicit_conversion",
          "old_text": "GET_STR_DATA_LEN(args[0], orig_str, orig_str_len)",
          "new_text": "bad_implicit_conversion(args[1])",
          "old_line_content": "    GET_STR_DATA_LEN(args[0], orig_str, orig_str_len);",
          "new_line_content": "            bad_implicit_conversion(args[1]);",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "str_uni_strip",
          "new_api": "assert",
          "old_text": "str_uni_strip(STRIP, n_args, args)",
          "new_text": "assert(first_good_char_pos == 0)",
          "old_line_content": "    return str_uni_strip(STRIP, n_args, args);",
          "new_line_content": "        assert(first_good_char_pos == 0);",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "vstr_init_len",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "vstr_init_len(&vstr, width)",
          "new_text": "GET_STR_DATA_LEN(str_in, str, str_len)",
          "old_line_content": "    vstr_init_len(&vstr, width);",
          "new_line_content": "    GET_STR_DATA_LEN(str_in, str, str_len);",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "memset",
          "new_api": "mp_obj_get_int",
          "old_text": "memset(vstr.buf, ' ', width)",
          "new_text": "mp_obj_get_int(width_in)",
          "old_line_content": "    memset(vstr.buf, ' ', width);",
          "new_line_content": "    mp_uint_t width = mp_obj_get_int(width_in);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "mp_obj_new_str",
          "new_api": "mp_raise_msg",
          "old_text": "mp_obj_new_str(field_name, lookup - field_name, true/*?*/)",
          "new_text": "mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "old_line_content": "                mp_obj_t field_q = mp_obj_new_str(field_name, lookup - field_name, true/*?*/);",
          "new_line_content": "                    mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\");",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "mp_not_implemented",
          "new_api": "mp_map_lookup",
          "old_text": "mp_not_implemented(\"attributes not supported yet\")",
          "new_text": "mp_map_lookup(kwargs, field_q, MP_MAP_LOOKUP)",
          "old_line_content": "                mp_not_implemented(\"attributes not supported yet\");",
          "new_line_content": "                mp_map_elem_t *key_elem = mp_map_lookup(kwargs, field_q, MP_MAP_LOOKUP);",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "mp_raise_ValueError",
          "new_api": "mp_not_implemented",
          "old_text": "mp_raise_ValueError(\n                        \"can't switch from manual field specification to automatic field numbering\")",
          "new_text": "mp_not_implemented(\"attributes not supported yet\")",
          "old_line_content": "                    mp_raise_ValueError(",
          "new_line_content": "                mp_not_implemented(\"attributes not supported yet\");",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "mp_raise_msg",
          "new_api": "terse_str_format_value_error",
          "old_text": "mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "                mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\");",
          "new_line_content": "                    terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": "assert",
          "old_text": "mp_obj_new_str_from_vstr(&mp_type_str, &arg_vstr)",
          "new_text": "assert(conversion == 'r')",
          "old_line_content": "            arg = mp_obj_new_str_from_vstr(&mp_type_str, &arg_vstr);",
          "new_line_content": "                assert(conversion == 'r');",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "terse_str_format_value_error",
          "new_api": "str_to_int",
          "old_text": "terse_str_format_value_error()",
          "new_text": "str_to_int(s, stop, &precision)",
          "old_line_content": "                    terse_str_format_value_error();",
          "new_line_content": "                s = str_to_int(s, stop, &precision);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "mp_raise_ValueError",
          "new_api": "istype",
          "old_text": "mp_raise_ValueError(\"invalid format specifier\")",
          "new_text": "istype(*s)",
          "old_line_content": "                    mp_raise_ValueError(\"invalid format specifier\");",
          "new_line_content": "            if (istype(*s)) {",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "mp_print_mp_int",
          "new_api": "mp_print_strn",
          "old_text": "mp_print_mp_int(&print, arg, 10, 'a', flags, fill, width, 0)",
          "new_text": "mp_print_strn(&print, &ch, 1, flags, fill, width)",
          "old_line_content": "                    mp_print_mp_int(&print, arg, 10, 'a', flags, fill, width, 0);",
          "new_line_content": "                    mp_print_strn(&print, &ch, 1, flags, fill, width);",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "arg_looks_numeric",
          "new_api": "mp_obj_get_type_str",
          "old_text": "arg_looks_numeric(arg)",
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "        if (arg_looks_numeric(arg)) {",
          "new_line_content": "                            type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "terse_str_format_value_error",
          "new_api": "mp_obj_get_float",
          "old_text": "terse_str_format_value_error()",
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                        terse_str_format_value_error();",
          "new_line_content": "                    mp_print_float(&print, mp_obj_get_float(arg) * F100, 'f', flags, fill, width, precision);",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "mp_print_strn",
          "new_api": "mp_obj_str_get_data",
          "old_text": "mp_print_strn(&print, s, slen, flags, fill, width)",
          "new_text": "mp_obj_str_get_data(arg, &slen)",
          "old_line_content": "                    mp_print_strn(&print, s, slen, flags, fill, width);",
          "new_line_content": "                    const char *s = mp_obj_str_get_data(arg, &slen);",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(pattern)",
          "new_text": "GET_STR_DATA_LEN(args[0], str, len)",
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(pattern));",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, len);",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "mp_obj_str_format_helper",
          "old_text": "GET_STR_DATA_LEN(pattern, str, len)",
          "new_text": "mp_obj_str_format_helper((const char*)str, (const char*)str + len, &arg_i, n_args, args, kwargs)",
          "old_line_content": "    GET_STR_DATA_LEN(pattern, str, len);",
          "new_line_content": "    vstr_t vstr = mp_obj_str_format_helper((const char*)str, (const char*)str + len, &arg_i, n_args, args, kwargs);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "mp_obj_new_str",
          "new_api": "terse_str_format_value_error",
          "old_text": "mp_obj_new_str((const char*)key, str - key, true)",
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "            mp_obj_t k_obj = mp_obj_new_str((const char*)key, str - key, true);",
          "new_line_content": "                        terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "arg_looks_integer",
          "new_api": "MP_OBJ_IS_STR",
          "old_text": "arg_looks_integer(arg)",
          "new_text": "MP_OBJ_IS_STR(arg)",
          "old_line_content": "                } else if (arg_looks_integer(arg)) {",
          "new_line_content": "                if (MP_OBJ_IS_STR(arg)) {",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "mp_print_strn",
          "new_api": "mp_obj_str_get_data",
          "old_text": "mp_print_strn(&print, &ch, 1, flags, ' ', width)",
          "new_text": "mp_obj_str_get_data(arg, &slen)",
          "old_line_content": "                    mp_print_strn(&print, &ch, 1, flags, ' ', width);",
          "new_line_content": "                    const char *s = mp_obj_str_get_data(arg, &slen);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "arg_as_int",
          "new_api": "mp_raise_TypeError",
          "old_text": "arg_as_int(arg)",
          "new_text": "mp_raise_TypeError(\"integer required\")",
          "old_line_content": "                mp_print_mp_int(&print, arg_as_int(arg), 10, 'a', flags, fill, width, prec);",
          "new_line_content": "                    mp_raise_TypeError(\"integer required\");",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "mp_obj_print_helper",
          "new_api": "vstr_init_print",
          "old_text": "mp_obj_print_helper(&arg_print, arg, print_kind)",
          "new_text": "vstr_init_print(&arg_vstr, 16, &arg_print)",
          "old_line_content": "                mp_obj_print_helper(&arg_print, arg, print_kind);",
          "new_line_content": "                vstr_init_print(&arg_vstr, 16, &arg_print);",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "mp_print_mp_int",
          "new_api": "mp_print_strn",
          "old_text": "mp_print_mp_int(&print, arg, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec)",
          "new_text": "mp_print_strn(&print, arg_vstr.buf, vlen, flags, ' ', width)",
          "old_line_content": "                mp_print_mp_int(&print, arg, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec);",
          "new_line_content": "                mp_print_strn(&print, arg_vstr.buf, vlen, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": "mp_print_mp_int",
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unsupported format character '%c' (0x%x) at index %d\",\n                        *str, *str, str - start_str)",
          "new_text": "mp_print_mp_int(&print, arg, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec)",
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                mp_print_mp_int(&print, arg, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "bad_implicit_conversion",
          "new_api": "mp_obj_get_type",
          "old_text": "bad_implicit_conversion(args[2])",
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "        bad_implicit_conversion(args[2]);",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "mp_obj_get_type",
          "old_text": "GET_STR_DATA_LEN(args[1], old, old_len)",
          "new_text": "mp_obj_get_type(args[2])",
          "old_line_content": "    GET_STR_DATA_LEN(args[1], old, old_len);",
          "new_line_content": "    if (mp_obj_get_type(args[2]) != self_type) {",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "old_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "mp_obj_get_type",
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": "mp_obj_get_type(arg)",
          "new_text": "MP_OBJ_NEW_SMALL_INT(num_occurrences)",
          "old_line_content": "    if (self_type != mp_obj_get_type(arg)) {",
          "new_line_content": "    return MP_OBJ_NEW_SMALL_INT(num_occurrences);",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": "GET_STR_DATA_LEN(arg, sep, sep_len)",
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "old_line_content": "    GET_STR_DATA_LEN(arg, sep, sep_len);",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(self_in));",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "mp_raise_ValueError",
          "new_api": "bad_implicit_conversion",
          "old_text": "mp_raise_ValueError(\"empty separator\")",
          "new_text": "bad_implicit_conversion(arg)",
          "old_line_content": "        mp_raise_ValueError(\"empty separator\");",
          "new_line_content": "        bad_implicit_conversion(arg);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": "mp_raise_ValueError",
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": "mp_raise_ValueError(\"empty separator\")",
          "old_line_content": "        result[2] = MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "new_line_content": "        mp_raise_ValueError(\"empty separator\");",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "str_partitioner",
          "new_api": "mp_obj_new_str_of_type",
          "old_text": "str_partitioner(self_in, arg, 1)",
          "new_text": "mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len)",
          "old_line_content": "    return str_partitioner(self_in, arg, 1);",
          "new_line_content": "        result[2] = mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len);",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "mp_obj_get_type",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "old_line_content": "    return mp_obj_new_str_from_vstr(mp_obj_get_type(self_in), &vstr);",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(bytes_decode_obj, 1, 3, bytes_decode)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(bytes_decode_obj, 1, 3, bytes_decode);",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_KW",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_KW(str_splitlines_obj, 1, str_splitlines)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_find_obj, 2, 4, str_find)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_KW(str_splitlines_obj, 1, str_splitlines);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_find_obj, 2, 4, str_find);",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_center_obj, str_center)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rindex_obj, 2, 4, str_rindex)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_center_obj, str_center);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rindex_obj, 2, 4, str_rindex);",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_KW",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_endswith_obj, 2, 3, str_endswith)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_KW(str_splitlines_obj, 1, str_splitlines)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_endswith_obj, 2, 3, str_endswith);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_KW(str_splitlines_obj, 1, str_splitlines);",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rstrip_obj, 1, 2, str_rstrip)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_center_obj, str_center)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rstrip_obj, 1, 2, str_rstrip);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_center_obj, str_center);",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_partition_obj, str_partition)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_strip_obj, 1, 2, str_strip)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_partition_obj, str_partition);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_strip_obj, 1, 2, str_strip);",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_lstrip_obj, 1, 2, str_lstrip)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_lstrip_obj, 1, 2, str_lstrip);",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_KW",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_lower_obj, str_lower)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_KW(str_format_obj, 1, mp_obj_str_format)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_lower_obj, str_lower);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_KW(str_format_obj, 1, mp_obj_str_format);",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_upper_obj, str_upper)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_replace_obj, 3, 4, str_replace)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_upper_obj, str_upper);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_replace_obj, 3, 4, str_replace);",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isspace_obj, str_isspace)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_count_obj, 2, 4, str_count)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isspace_obj, str_isspace);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_count_obj, 2, 4, str_count);",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isdigit_obj, str_isdigit)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_partition_obj, str_partition)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isdigit_obj, str_isdigit);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_partition_obj, str_partition);",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isupper_obj, str_isupper)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isupper_obj, str_isupper);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition);",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "MP_ROM_PTR",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": "MP_ROM_PTR(&bytes_decode_obj)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isalpha_obj, str_isalpha)",
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_decode), MP_ROM_PTR(&bytes_decode_obj) },",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isalpha_obj, str_isalpha);",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": "memcpy",
          "new_api": "m_new_obj",
          "old_text": "memcpy(p, data, len * sizeof(byte))",
          "new_text": "m_new_obj(mp_obj_str_t)",
          "old_line_content": "        memcpy(p, data, len * sizeof(byte));",
          "new_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "m_new_obj",
          "new_api": "vstr_clear",
          "old_text": "m_new_obj(mp_obj_str_t)",
          "new_text": "vstr_clear(vstr)",
          "old_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "new_line_content": "            vstr_clear(vstr);",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "m_renew",
          "new_api": "m_new_obj",
          "old_text": "m_renew(char, vstr->buf, vstr->alloc, vstr->len + 1)",
          "new_text": "m_new_obj(mp_obj_str_t)",
          "old_line_content": "        o->data = (byte*)m_renew(char, vstr->buf, vstr->alloc, vstr->len + 1);",
          "new_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "qstr_from_strn",
          "new_api": "mp_obj_new_str_of_type",
          "old_text": "qstr_from_strn((const char*)data, len)",
          "new_text": "mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len)",
          "old_line_content": "    return MP_OBJ_NEW_QSTR(qstr_from_strn((const char*)data, len));",
          "new_line_content": "            return mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len);",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "GET_STR_HASH",
          "new_api": "mp_obj_new_str_of_type",
          "old_text": "GET_STR_HASH(s1, h1)",
          "new_text": "mp_obj_new_str_of_type(&mp_type_bytes, data, len)",
          "old_line_content": "        GET_STR_HASH(s1, h1);",
          "new_line_content": "    return mp_obj_new_str_of_type(&mp_type_bytes, data, len);",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "GET_STR_HASH",
          "old_text": "GET_STR_DATA_LEN(s2, d2, l2)",
          "new_text": "GET_STR_HASH(s1, h1)",
          "old_line_content": "        GET_STR_DATA_LEN(s2, d2, l2);",
          "new_line_content": "        GET_STR_HASH(s1, h1);",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": "mp_obj_get_type_str",
          "old_text": "MP_OBJ_IS_QSTR(self_in)",
          "new_text": "mp_obj_get_type_str(self_in)",
          "old_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "new_line_content": "            mp_obj_get_type_str(self_in)));",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": "bad_implicit_conversion",
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    if (MP_OBJ_IS_STR_OR_BYTES(self_in)) {",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": "MP_OBJ_QSTR_VALUE",
          "new_api": "bad_implicit_conversion",
          "old_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "        return qstr_data(MP_OBJ_QSTR_VALUE(self_in), len);",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_QSTR(s2)",
          "old_line_content": "            return false;",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(s1) && MP_OBJ_IS_QSTR(s2)) {",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, s, top - s)",
          "old_line_content": "        }",
          "new_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, s, top - s));",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str(field_name, lookup - field_name, true/*?*/)",
          "old_line_content": "            }",
          "new_line_content": "                mp_obj_t field_q = mp_obj_new_str(field_name, lookup - field_name, true/*?*/);",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "mp_raise_TypeError",
          "old_text": null,
          "new_text": "mp_raise_TypeError(\"not all arguments converted during string formatting\")",
          "old_line_content": "// nothing to replace.",
          "new_line_content": "        mp_raise_TypeError(\"not all arguments converted during string formatting\");",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": null,
          "new_api": "GET_STR_HASH",
          "old_text": null,
          "new_text": "GET_STR_HASH(s2, h2)",
          "old_line_content": "        if (l1 != l2) {",
          "new_line_content": "        GET_STR_HASH(s2, h2);",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": null,
          "new_api": "mp_obj_new_exception_arg1",
          "old_text": null,
          "new_text": "mp_obj_new_exception_arg1(&mp_type_KeyError, field_q)",
          "old_line_content": "        } else {",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_arg1(&mp_type_KeyError, field_q));",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(sep)",
          "old_line_content": "        if (sep_len == 0) {",
          "new_line_content": "        if (mp_obj_get_type(sep) != self_type) {",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "    }",
          "new_line_content": "                    terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(is_bytes ? &mp_type_bytes : &mp_type_str, &vstr)",
          "old_line_content": "",
          "new_line_content": "    return mp_obj_new_str_from_vstr(is_bytes ? &mp_type_bytes : &mp_type_str, &vstr);",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(s1, d1, l1)",
          "old_line_content": "}",
          "new_line_content": "        GET_STR_DATA_LEN(s1, d1, l1);",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(s2, d2, l2)",
          "old_line_content": "",
          "new_line_content": "        GET_STR_DATA_LEN(s2, d2, l2);",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(sep, &sep_len)",
          "old_line_content": "            const byte *start = s;",
          "new_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "old_line_content": "        } else if (max_rep < 0) {",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(d1, d2, l1)",
          "old_line_content": "    } else {",
          "new_line_content": "        return memcmp(d1, d2, l1) == 0;",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"empty separator\")",
          "old_line_content": "                    s = top;",
          "new_line_content": "            mp_raise_ValueError(\"empty separator\");",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\n                        \"can't switch from manual field specification to automatic field numbering\")",
          "old_line_content": "            arg = args[(*arg_i) + 1];",
          "new_line_content": "                    mp_raise_ValueError(",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[3])",
          "old_line_content": "",
          "new_line_content": "        max_rep = mp_obj_get_int(args[3]);",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "mp_raise_TypeError",
          "old_text": null,
          "new_text": "mp_raise_TypeError(\"can't convert to str implicitly\")",
          "old_line_content": "",
          "new_line_content": "        mp_raise_TypeError(\"can't convert to str implicitly\");",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "mp_raise_msg",
          "old_text": null,
          "new_text": "mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "old_line_content": "        }",
          "new_line_content": "                mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\");",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_TypeError,\n            \"can't convert '%s' object to str implicitly\",\n            mp_obj_get_type_str(self_in))",
          "old_line_content": "// will be more efficient for the case where it's already a qstr",
          "new_line_content": "        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_TypeError,",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s, sep_str, sep_len)",
          "old_line_content": "                break;",
          "new_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(str, data, len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(str, data, len);",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "old_line_content": "            }",
          "new_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[1])",
          "old_line_content": "",
          "new_line_content": "    if (mp_obj_get_type(args[1]) != self_type) {",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[1])",
          "old_line_content": "    // extract string data",
          "new_line_content": "        bad_implicit_conversion(args[1]);",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_QSTR(self_in)",
          "old_line_content": "    }",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": null,
          "new_api": "MP_OBJ_QSTR_VALUE",
          "old_text": null,
          "new_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "old_line_content": "}",
          "new_line_content": "        return MP_OBJ_QSTR_VALUE(self_in);",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_str)",
          "old_line_content": "",
          "new_line_content": "    } else if (MP_OBJ_IS_TYPE(self_in, &mp_type_str)) {",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": null,
          "new_api": "MP_OBJ_TO_PTR",
          "old_text": null,
          "new_text": "MP_OBJ_TO_PTR(self_in)",
          "old_line_content": "// only use this function if you need the str data to be zero terminated",
          "new_line_content": "        mp_obj_str_t *self = MP_OBJ_TO_PTR(self_in);",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn((char*)self->data, self->len)",
          "old_line_content": "// at the moment all strings are zero terminated to help with C ASCIIZ compatibility",
          "new_line_content": "        return qstr_from_strn((char*)self->data, self->len);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[2])",
          "old_line_content": "    GET_STR_DATA_LEN(args[2], new, new_len);",
          "new_line_content": "        bad_implicit_conversion(args[2]);",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_islower_obj)",
          "old_line_content": "",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_islower), MP_ROM_PTR(&str_islower_obj) },",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "vstr_init_print",
          "old_text": null,
          "new_text": "vstr_init_print(&arg_vstr, 16, &arg_print)",
          "old_line_content": "        char align = '\\0';",
          "new_line_content": "            vstr_init_print(&arg_vstr, 16, &arg_print);",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper(&arg_print, arg, print_kind)",
          "old_line_content": "        int width = -1;",
          "new_line_content": "            mp_obj_print_helper(&arg_print, arg, print_kind);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(&mp_type_str, &arg_vstr)",
          "old_line_content": "        int precision = -1;",
          "new_line_content": "            arg = mp_obj_new_str_from_vstr(&mp_type_str, &arg_vstr);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], old, old_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], old, old_len);",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "old_line_content": "}",
          "new_line_content": "    if (MP_OBJ_IS_STR_OR_BYTES(self_in)) {",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "old_line_content": "",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "        *len = l;",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "MP_ARRAY_SIZE",
          "old_text": null,
          "new_text": "MP_ARRAY_SIZE(allowed_args)",
          "old_line_content": "    const byte *top = s + len;",
          "new_line_content": "    mp_arg_val_t args[MP_ARRAY_SIZE(allowed_args)];",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": null,
          "new_api": "MP_ARRAY_SIZE",
          "old_text": null,
          "new_text": "MP_ARRAY_SIZE(allowed_args)",
          "old_line_content": "",
          "new_line_content": "    mp_arg_parse_all(n_args - 1, pos_args + 1, kw_args, MP_ARRAY_SIZE(allowed_args), allowed_args, args);",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(pos_args[0])",
          "old_line_content": "        const byte *start = s;",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(pos_args[0]);",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "old_line_content": "}",
          "new_line_content": "    if (MP_OBJ_IS_STR_OR_BYTES(self_in)) {",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "old_line_content": "",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "mp_obj_new_list",
          "old_text": null,
          "new_text": "mp_obj_new_list(0, NULL)",
          "old_line_content": "        size_t match = 0;",
          "new_line_content": "    mp_obj_t res = mp_obj_new_list(0, NULL);",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(pos_args[0], s, len)",
          "old_line_content": "            if (*s == '\\n') {",
          "new_line_content": "    GET_STR_DATA_LEN(pos_args[0], s, len);",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": null,
          "new_api": "MP_STACK_CHECK",
          "old_text": null,
          "new_text": "MP_STACK_CHECK()",
          "old_line_content": "                fill = *s++;",
          "new_line_content": "            MP_STACK_CHECK();",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": null,
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_QSTR(self_in)",
          "old_line_content": "#endif",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": null,
          "new_api": "MP_OBJ_QSTR_VALUE",
          "old_text": null,
          "new_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "old_line_content": "",
          "new_line_content": "        return qstr_data(MP_OBJ_QSTR_VALUE(self_in), len);",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "mp_obj_str_format_helper",
          "old_text": null,
          "new_text": "mp_obj_str_format_helper(format_spec, str, arg_i, n_args, args, kwargs)",
          "old_line_content": "                align = *s++;",
          "new_line_content": "            vstr_t format_spec_vstr = mp_obj_str_format_helper(format_spec, str, arg_i, n_args, args, kwargs);",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "vstr_null_terminated_str",
          "old_text": null,
          "new_text": "vstr_null_terminated_str(&format_spec_vstr)",
          "old_line_content": "            }",
          "new_line_content": "            const char *s = vstr_null_terminated_str(&format_spec_vstr);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "isalignment",
          "old_text": null,
          "new_text": "isalignment(*s)",
          "old_line_content": "                if (*s == '+') {",
          "new_line_content": "            if (isalignment(*s)) {",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "isalignment",
          "old_text": null,
          "new_text": "isalignment(s[1])",
          "old_line_content": "                } else if (*s == ' ') {",
          "new_line_content": "            } else if (*s && isalignment(s[1])) {",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)",
          "old_line_content": "            }",
          "new_line_content": "        while (num_replacements_done != (mp_uint_t)max_rep && str_len_remain > 0 && (old_occurrence = find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)) != NULL) {",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr)",
          "old_line_content": "            replaced_str_index += new_len;",
          "new_line_content": "                memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr);",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, start, sub_len)",
          "old_line_content": "",
          "new_line_content": "        mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, sub_len));",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, new, new_len)",
          "old_line_content": "",
          "new_line_content": "                memcpy(data + replaced_str_index, new, new_len);",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((const char*)str + self->cur, 1, true)",
          "old_line_content": "",
          "new_line_content": "        mp_obj_t o_out = mp_obj_new_str((const char*)str + self->cur, 1, true);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, offset_ptr, str_len_remain)",
          "old_line_content": "                // no substr found, return original string",
          "new_line_content": "            memcpy(data + replaced_str_index, offset_ptr, str_len_remain);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "mp_obj_str_split",
          "old_text": null,
          "new_text": "mp_obj_str_split(n_args, args)",
          "old_line_content": "    mp_int_t org_splits = splits;",
          "new_line_content": "        return mp_obj_str_split(n_args, args);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    // will fill it from the end.",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "old_line_content": "    mp_int_t idx = splits;",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str8_it_t)",
          "old_line_content": "#endif",
          "new_line_content": "    mp_obj_str8_it_t *o = m_new_obj(mp_obj_str8_it_t);",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[2])",
          "old_line_content": "    if (sep == mp_const_none) {",
          "new_line_content": "    mp_int_t splits = mp_obj_get_int(args[2]);",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "vstr_init_len",
          "old_text": null,
          "new_text": "vstr_init_len(&vstr, replaced_str_index)",
          "old_line_content": "        }",
          "new_line_content": "                vstr_init_len(&vstr, replaced_str_index);",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(data != NULL)",
          "old_line_content": "",
          "new_line_content": "                assert(data != NULL);",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "mp_not_implemented",
          "old_text": null,
          "new_text": "mp_not_implemented(\"rsplit(None,n)\")",
          "old_line_content": "        }",
          "new_line_content": "        mp_not_implemented(\"rsplit(None,n)\");",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "MP_OBJ_TO_PTR",
          "old_text": null,
          "new_text": "MP_OBJ_TO_PTR(self_in)",
          "old_line_content": "        return MP_OBJ_STOP_ITERATION;",
          "new_line_content": "    mp_obj_str8_it_t *self = MP_OBJ_TO_PTR(self_in);",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(sep, &sep_len)",
          "old_line_content": "        const byte *last = s + len;",
          "new_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(str[self->cur])",
          "old_line_content": "",
          "new_line_content": "        mp_obj_t o_out = MP_OBJ_NEW_SMALL_INT(str[self->cur]);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"empty separator\")",
          "old_line_content": "            for (;;) {",
          "new_line_content": "            mp_raise_ValueError(\"empty separator\");",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "        if (!align) {",
          "new_line_content": "                    terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"invalid format specifier\")",
          "old_line_content": "                align = '>';",
          "new_line_content": "                    mp_raise_ValueError(\"invalid format specifier\");",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "vstr_clear",
          "old_text": null,
          "new_text": "vstr_clear(&format_spec_vstr)",
          "old_line_content": "            }",
          "new_line_content": "            vstr_clear(&format_spec_vstr);",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "arg_looks_numeric",
          "old_text": null,
          "new_text": "arg_looks_numeric(arg)",
          "old_line_content": "            fill = ' ';",
          "new_line_content": "            if (arg_looks_numeric(arg)) {",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(self_type, &vstr)",
          "old_line_content": "    // check argument type",
          "new_line_content": "    return mp_obj_new_str_from_vstr(self_type, &vstr);",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[1])",
          "old_line_content": "    const byte *start = haystack;",
          "new_line_content": "    if (mp_obj_get_type(args[1]) != self_type) {",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str8_it_t)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_str8_it_t *o = m_new_obj(mp_obj_str8_it_t);",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[1])",
          "old_line_content": "    const byte *end = haystack + haystack_len;",
          "new_line_content": "        bad_implicit_conversion(args[1]);",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s, sep_str, sep_len)",
          "old_line_content": "                break;",
          "new_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "old_line_content": "    if (n_args >= 4 && args[3] != mp_const_none) {",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "MP_OBJ_FROM_PTR",
          "old_text": null,
          "new_text": "MP_OBJ_FROM_PTR(o)",
          "old_line_content": "",
          "new_line_content": "    return MP_OBJ_FROM_PTR(o);",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, beg, last - beg)",
          "old_line_content": "            }",
          "new_line_content": "                res->items[idx] = mp_obj_new_str_of_type(self_type, beg, last - beg);",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "old_line_content": "    if (needle_len == 0) {",
          "new_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len)",
          "old_line_content": "            // We split less parts than split limit, now go cleanup surplus",
          "new_line_content": "            res->items[idx--] = mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "old_line_content": "",
          "new_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "            sign = '-';",
          "new_line_content": "                    terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": null,
          "new_api": "unichar_charlen",
          "old_text": null,
          "new_text": "unichar_charlen((const char*)start, end - start)",
          "old_line_content": "            num_occurrences++;",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(unichar_charlen((const char*)start, end - start) + 1);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\n                        \"sign not allowed with integer format specifier 'c'\")",
          "old_line_content": "",
          "new_line_content": "                    mp_raise_ValueError(",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(res->items, &res->items[idx], used * sizeof(mp_obj_t))",
          "old_line_content": "}",
          "new_line_content": "            memmove(res->items, &res->items[idx], used * sizeof(mp_obj_t));",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "mp_seq_clear",
          "old_text": null,
          "new_text": "mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items))",
          "old_line_content": "",
          "new_line_content": "            mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items));",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(haystack_ptr, needle, needle_len)",
          "old_line_content": "",
          "new_line_content": "        if (memcmp(haystack_ptr, needle, needle_len) == 0) {",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "MP_OBJ_FROM_PTR",
          "old_text": null,
          "new_text": "MP_OBJ_FROM_PTR(res)",
          "old_line_content": "    // check argument type",
          "new_line_content": "    return MP_OBJ_FROM_PTR(res);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "utf8_next_char",
          "old_text": null,
          "new_text": "utf8_next_char(haystack_ptr)",
          "old_line_content": "#if MICROPY_PY_BUILTINS_STR_PARTITION",
          "new_line_content": "            haystack_ptr = utf8_next_char(haystack_ptr);",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "arg_looks_integer",
          "old_text": null,
          "new_text": "arg_looks_integer(arg)",
          "old_line_content": "                {",
          "new_line_content": "        if (arg_looks_integer(arg)) {",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[1])",
          "old_line_content": "    const byte *start = haystack;",
          "new_line_content": "    if (mp_obj_get_type(args[1]) != self_type) {",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[1])",
          "old_line_content": "    const byte *end = haystack + haystack_len;",
          "new_line_content": "        bad_implicit_conversion(args[1]);",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "mp_print_mp_int",
          "old_text": null,
          "new_text": "mp_print_mp_int(&print, arg, 2, 'a', flags, fill, width, 0)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    mp_print_mp_int(&print, arg, 2, 'a', flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(self_in)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "old_line_content": "    if (n_args >= 4 && args[3] != mp_const_none) {",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(arg)",
          "old_line_content": "                case 'd':",
          "new_line_content": "                    char ch = mp_obj_get_int(arg);",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(arg)",
          "old_line_content": "    if (sep_len == 0) {",
          "new_line_content": "    if (self_type != mp_obj_get_type(arg)) {",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, str, str_len)",
          "old_line_content": "    mp_obj_t result[3];",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, str, str_len);",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(arg, sep, sep_len)",
          "old_line_content": "    if (self_type == &mp_type_str) {",
          "new_line_content": "    GET_STR_DATA_LEN(arg, sep, sep_len);",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "old_line_content": "    if (p == NULL) {",
          "new_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": null,
          "new_api": "mp_print_mp_int",
          "old_text": null,
          "new_text": "mp_print_mp_int(&print, arg, 10, 'a', flags, fill, width, 0)",
          "old_line_content": "",
          "new_line_content": "                    mp_print_mp_int(&print, arg, 10, 'a', flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(start, end - start, needle, needle_len, direction)",
          "old_line_content": "        }",
          "new_line_content": "    const byte *p = find_subbytes(start, end - start, needle, needle_len, direction);",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "    }",
          "new_line_content": "        result[0] = MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "",
          "new_line_content": "        result[1] = MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "    if (direction > 0) {",
          "new_line_content": "        result[2] = MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"substring not found\")",
          "old_line_content": "        if (self_type == &mp_type_str) {",
          "new_line_content": "            mp_raise_ValueError(\"substring not found\");",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(-1)",
          "old_line_content": "        }",
          "new_line_content": "            return MP_OBJ_NEW_SMALL_INT(-1);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "mp_print_mp_int",
          "old_text": null,
          "new_text": "mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, 0)",
          "old_line_content": "",
          "new_line_content": "                    mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "mp_print_mp_int",
          "old_text": null,
          "new_text": "mp_print_mp_int(&print, arg, 16, type - ('X' - 'A'), flags, fill, width, 0)",
          "old_line_content": "                case 'g':",
          "new_line_content": "                    mp_print_mp_int(&print, arg, 16, type - ('X' - 'A'), flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "utf8_ptr_to_index",
          "old_text": null,
          "new_text": "utf8_ptr_to_index(haystack, p)",
          "old_line_content": "STATIC mp_obj_t str_find(size_t n_args, const mp_obj_t *args) {",
          "new_line_content": "            return MP_OBJ_NEW_SMALL_INT(utf8_ptr_to_index(haystack, p));",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(p - haystack)",
          "old_line_content": "",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(p - haystack);",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(str, str_len, sep, sep_len, direction)",
          "old_line_content": "",
          "new_line_content": "    const byte *position_ptr = find_subbytes(str, str_len, sep, sep_len, direction);",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, str, position)",
          "old_line_content": "",
          "new_line_content": "        result[0] = mp_obj_new_str_of_type(self_type, str, position);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, 1, false)",
          "old_line_content": "STATIC mp_obj_t str_index(size_t n_args, const mp_obj_t *args) {",
          "new_line_content": "    return str_finder(n_args, args, 1, false);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, -1, false)",
          "old_line_content": "STATIC mp_obj_t str_rindex(size_t n_args, const mp_obj_t *args) {",
          "new_line_content": "    return str_finder(n_args, args, -1, false);",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": null,
          "new_api": "mp_obj_new_tuple",
          "old_text": null,
          "new_text": "mp_obj_new_tuple(3, result)",
          "old_line_content": "STATIC mp_obj_t str_rpartition(mp_obj_t self_in, mp_obj_t arg) {",
          "new_line_content": "    return mp_obj_new_tuple(3, result);",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "        }",
          "new_line_content": "                        terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, 1, true)",
          "old_line_content": "// TODO: (Much) more variety in args",
          "new_line_content": "    return str_finder(n_args, args, 1, true);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown format code '%c' for object of type '%s'\",\n                            type, mp_obj_get_type_str(arg))",
          "old_line_content": "        // NOTE: no else here. We need the e, f, g etc formats for integer",
          "new_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "str_partitioner",
          "old_text": null,
          "new_text": "str_partitioner(self_in, arg, 1)",
          "old_line_content": "",
          "new_line_content": "    return str_partitioner(self_in, arg, 1);",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "str_partitioner",
          "old_text": null,
          "new_text": "str_partitioner(self_in, arg, -1)",
          "old_line_content": "    vstr_t vstr;",
          "new_line_content": "    return str_partitioner(self_in, arg, -1);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    if (prefix_len + (start - str) > str_len) {",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "old_line_content": "        return mp_const_false;",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], prefix, prefix_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], prefix, prefix_len);",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "arg_looks_numeric",
          "old_text": null,
          "new_text": "arg_looks_numeric(arg)",
          "old_line_content": "                // '{:10.1}'.format(0.0) ==> '0e+00'",
          "new_line_content": "        if (arg_looks_numeric(arg)) {",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "vstr_init_len",
          "old_text": null,
          "new_text": "vstr_init_len(&vstr, self_len)",
          "old_line_content": "",
          "new_line_content": "    vstr_init_len(&vstr, self_len);",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, str, str_len, args[2], true)",
          "old_line_content": "",
          "new_line_content": "        start = str_index_to_ptr(self_type, str, str_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "op",
          "old_text": null,
          "new_text": "op(*self_data++)",
          "old_line_content": "}",
          "new_line_content": "        *data++ = op(*self_data++);",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(self_in)",
          "old_line_content": "STATIC mp_obj_t str_upper(mp_obj_t self_in) {",
          "new_line_content": "    return mp_obj_new_str_from_vstr(mp_obj_get_type(self_in), &vstr);",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": null,
          "new_api": "str_caseconv",
          "old_text": null,
          "new_text": "str_caseconv(unichar_tolower, self_in)",
          "old_line_content": "STATIC mp_obj_t str_uni_istype(bool (*f)(unichar), mp_obj_t self_in) {",
          "new_line_content": "    return str_caseconv(unichar_tolower, self_in);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "old_line_content": "        return mp_const_false;",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], suffix, suffix_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], suffix, suffix_len);",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": null,
          "new_api": "str_caseconv",
          "old_text": null,
          "new_text": "str_caseconv(unichar_toupper, self_in)",
          "old_line_content": "        return mp_const_false; // default to False for empty str",
          "new_line_content": "    return str_caseconv(unichar_toupper, self_in);",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": null,
          "new_api": "mp_not_implemented",
          "old_text": null,
          "new_text": "mp_not_implemented(\"start/end indices\")",
          "old_line_content": "}",
          "new_line_content": "        mp_not_implemented(\"start/end indices\");",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "old_line_content": "        for (mp_uint_t i = 0; i < self_len; i++) {",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": null,
          "new_api": "f",
          "old_text": null,
          "new_text": "f(*self_data++)",
          "old_line_content": "        for (mp_uint_t i = 0; i < self_len; i++) { // only check alphanumeric characters",
          "new_line_content": "            if (!f(*self_data++)) {",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "old_line_content": "    if (n_args == 1) {",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "        chars_to_del = whitespace;",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": null,
          "new_api": "unichar_isalpha",
          "old_text": null,
          "new_text": "unichar_isalpha(*self_data++)",
          "old_line_content": "",
          "new_line_content": "            if (unichar_isalpha(*self_data++)) {",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "f",
          "old_text": null,
          "new_text": "f(*(self_data - 1))",
          "old_line_content": "            return mp_const_false;",
          "new_line_content": "                if (!f(*(self_data - 1))) { // -1 because we already incremented above",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[1])",
          "old_line_content": "",
          "new_line_content": "        if (mp_obj_get_type(args[1]) != self_type) {",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], s, l)",
          "old_line_content": "    mp_uint_t first_good_char_pos = 0;",
          "new_line_content": "        GET_STR_DATA_LEN(args[1], s, l);",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                    #else",
          "new_line_content": "                    mp_print_float(&print, mp_obj_get_float(arg), type, flags, fill, width, precision);",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], orig_str, orig_str_len)",
          "old_line_content": "    if (type == RSTRIP) {",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], orig_str, orig_str_len);",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isspace, self_in)",
          "old_line_content": "STATIC mp_obj_t str_isdigit(mp_obj_t self_in) {",
          "new_line_content": "    return str_uni_istype(unichar_isspace, self_in);",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isalpha, self_in)",
          "old_line_content": "STATIC mp_obj_t str_isupper(mp_obj_t self_in) {",
          "new_line_content": "    return str_uni_istype(unichar_isalpha, self_in);",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1)",
          "old_line_content": "                } else if (type == RSTRIP) {",
          "new_line_content": "        if (find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1) == NULL) {",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isdigit, self_in)",
          "old_line_content": "STATIC mp_obj_t str_islower(mp_obj_t self_in) {",
          "new_line_content": "    return str_uni_istype(unichar_isdigit, self_in);",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "        } else {",
          "new_line_content": "                        terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown format code '%c' for object of type 'float'\",\n                            type, mp_obj_get_type_str(arg))",
          "old_line_content": "",
          "new_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isupper, self_in)",
          "old_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "new_line_content": "    return str_uni_istype(unichar_isupper, self_in);",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "                if (MICROPY_ERROR_REPORTING == MICROPY_ERROR_REPORTING_TERSE) {",
          "new_line_content": "                            type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_islower, self_in)",
          "old_line_content": "STATIC mp_obj_t bytes_decode(size_t n_args, const mp_obj_t *args) {",
          "new_line_content": "    return str_uni_istype(unichar_islower, self_in);",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "            switch (type) {",
          "new_line_content": "                    terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\n                        \"'=' alignment not allowed in string format specifier\")",
          "old_line_content": "                case 's': {",
          "new_line_content": "                    mp_raise_ValueError(",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "old_line_content": "// TODO: should accept kwargs too",
          "new_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "    //+1 to accomodate the last character",
          "new_line_content": "            return MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": null,
          "new_api": "mp_obj_str_make_new",
          "old_text": null,
          "new_text": "mp_obj_str_make_new(&mp_type_str, n_args, 0, args)",
          "old_line_content": "        new_args[0] = args[0];",
          "new_line_content": "    return mp_obj_str_make_new(&mp_type_str, n_args, 0, args);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(last_good_char_pos >= first_good_char_pos)",
          "old_line_content": "        return args[0];",
          "new_line_content": "    assert(last_good_char_pos >= first_good_char_pos);",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": null,
          "new_api": "mp_print_strn",
          "old_text": null,
          "new_text": "mp_print_strn(&print, s, slen, flags, fill, width)",
          "old_line_content": "                    } else {",
          "new_line_content": "                    mp_print_strn(&print, s, slen, flags, fill, width);",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "old_line_content": "",
          "new_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len)",
          "old_line_content": "STATIC mp_obj_t str_lstrip(size_t n_args, const mp_obj_t *args) {",
          "new_line_content": "    return mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len);",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "bytes_make_new",
          "old_text": null,
          "new_text": "bytes_make_new(NULL, n_args, 0, args)",
          "old_line_content": "        bufinfo->buf = (void*)str_data;",
          "new_line_content": "    return bytes_make_new(NULL, n_args, 0, args);",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "        }",
          "new_line_content": "                        terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(STRIP, n_args, args)",
          "old_line_content": "STATIC mp_obj_t str_rstrip(size_t n_args, const mp_obj_t *args) {",
          "new_line_content": "    return str_uni_strip(STRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown format code '%c' for object of type 'str'\",\n                            type, mp_obj_get_type_str(arg))",
          "old_line_content": "",
          "new_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "}",
          "new_line_content": "                            type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, str_data, str_len)",
          "old_line_content": "        bufinfo->buf = NULL;",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, str_data, str_len);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(LSTRIP, n_args, args)",
          "old_line_content": "#if MICROPY_PY_BUILTINS_STR_CENTER",
          "new_line_content": "    return str_uni_strip(LSTRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(RSTRIP, n_args, args)",
          "old_line_content": "    if (str_len >= width) {",
          "new_line_content": "    return str_uni_strip(RSTRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "old_line_content": "",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(&mp_type_str, &vstr)",
          "old_line_content": "    const byte *start_str = str;",
          "new_line_content": "    return mp_obj_new_str_from_vstr(&mp_type_str, &vstr);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "vstr_init_len",
          "old_text": null,
          "new_text": "vstr_init_len(&vstr, width)",
          "old_line_content": "",
          "new_line_content": "    vstr_init_len(&vstr, width);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(vstr.buf, ' ', width)",
          "old_line_content": "// Takes an int arg, but only parses unsigned numbers, and only changes",
          "new_line_content": "    memset(vstr.buf, ' ', width);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(pattern)",
          "old_line_content": "    mp_print_t print;",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(pattern));",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(vstr.buf + left, str, str_len)",
          "old_line_content": "STATIC const char *str_to_int(const char *str, const char *top, int *num) {",
          "new_line_content": "    memcpy(vstr.buf + left, str, str_len);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(str_in)",
          "old_line_content": "    if (str < top && '0' <= *str && *str <= '9') {",
          "new_line_content": "    return mp_obj_new_str_from_vstr(mp_obj_get_type(str_in), &vstr);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(pattern, str, len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(pattern, str, len);",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(pattern, &mp_type_bytes)",
          "old_line_content": "        mp_obj_t arg = MP_OBJ_NULL;",
          "new_line_content": "    bool is_bytes = MP_OBJ_IS_TYPE(pattern, &mp_type_bytes);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rfind_obj, 2, 4, str_rfind)",
          "old_line_content": "#endif",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rfind_obj, 2, 4, str_rfind);",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_index_obj, 2, 4, str_index)",
          "old_line_content": "#if MICROPY_PY_BUILTINS_STR_CENTER",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_index_obj, 2, 4, str_index);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "vstr_init_print",
          "old_text": null,
          "new_text": "vstr_init_print(&vstr, 16, &print)",
          "old_line_content": "        }",
          "new_line_content": "    vstr_init_print(&vstr, 16, &print);",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join)",
          "old_line_content": "#endif",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_endswith_obj, 2, 3, str_endswith)",
          "old_line_content": "#if MICROPY_PY_BUILTINS_STR_PARTITION",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_endswith_obj, 2, 3, str_endswith);",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rstrip_obj, 1, 2, str_rstrip)",
          "old_line_content": "#endif",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rstrip_obj, 1, 2, str_rstrip);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "vstr_add_byte",
          "old_text": null,
          "new_text": "vstr_add_byte(&vstr, '%')",
          "old_line_content": "            while (*str != ')') {",
          "new_line_content": "            vstr_add_byte(&vstr, '%');",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(\"<>=^\", ch)",
          "old_line_content": "STATIC bool arg_looks_integer(mp_obj_t arg) {",
          "new_line_content": "    return ch && strchr(\"<>=^\", ch) != NULL;",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_lower_obj, str_lower)",
          "old_line_content": "",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_lower_obj, str_lower);",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_upper_obj, str_upper)",
          "old_line_content": "STATIC const mp_rom_map_elem_t str8_locals_dict_table[] = {",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_upper_obj, str_upper);",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(\"bcdeEfFgGnosxX%\", ch)",
          "old_line_content": "STATIC bool arg_looks_numeric(mp_obj_t arg) {",
          "new_line_content": "    return ch && strchr(\"bcdeEfFgGnosxX%\", ch) != NULL;",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isspace_obj, str_isspace)",
          "old_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isspace_obj, str_isspace);",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isdigit_obj, str_isdigit)",
          "old_line_content": "    #if !MICROPY_PY_BUILTINS_STR_UNICODE",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isdigit_obj, str_isdigit);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isupper_obj, str_isupper)",
          "old_line_content": "    // If we have separate unicode type, then here we have methods only",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isupper_obj, str_isupper);",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "MP_OBJ_IS_INT",
          "old_text": null,
          "new_text": "MP_OBJ_IS_INT(arg)",
          "old_line_content": "#endif",
          "new_line_content": "    return MP_OBJ_IS_TYPE(arg, &mp_type_bool) || MP_OBJ_IS_INT(arg);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_islower_obj, str_islower)",
          "old_line_content": "    // for bytes type, and it should not have encode() methods. Otherwise,",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_islower_obj, str_islower);",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"incomplete format key\")",
          "old_line_content": "            str++;",
          "new_line_content": "                        mp_raise_ValueError(\"incomplete format key\");",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((const char*)key, str - key, true)",
          "old_line_content": "        int alt = 0;",
          "new_line_content": "            mp_obj_t k_obj = mp_obj_new_str((const char*)key, str - key, true);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "mp_obj_dict_get",
          "old_text": null,
          "new_text": "mp_obj_dict_get(dict, k_obj)",
          "old_line_content": "        while (str < top) {",
          "new_line_content": "            arg = mp_obj_dict_get(dict, k_obj);",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "vstr_init_len",
          "old_text": null,
          "new_text": "vstr_init_len(&vstr, lhs_len + rhs_len)",
          "old_line_content": "            /* NOTE `a in b` is `b.__contains__(a)` */",
          "new_line_content": "            vstr_init_len(&vstr, lhs_len + rhs_len);",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(vstr.buf + lhs_len, rhs_data, rhs_len)",
          "old_line_content": "",
          "new_line_content": "            memcpy(vstr.buf + lhs_len, rhs_data, rhs_len);",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(lhs_type, &vstr)",
          "old_line_content": "        //case MP_BINARY_OP_NOT_EQUAL: // This is never passed here",
          "new_line_content": "            return mp_obj_new_str_from_vstr(lhs_type, &vstr);",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "mp_obj_is_float",
          "old_text": null,
          "new_text": "mp_obj_is_float(arg)",
          "old_line_content": "#if MICROPY_ERROR_REPORTING == MICROPY_ERROR_REPORTING_TERSE",
          "new_line_content": "    if (mp_obj_is_float(arg)) {",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "mp_obj_float_get",
          "old_text": null,
          "new_text": "mp_obj_float_get(arg)",
          "old_line_content": "STATIC NORETURN void terse_str_format_value_error(void) {",
          "new_line_content": "        return mp_obj_new_int_from_float(mp_obj_float_get(arg));",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_rfind_obj)",
          "old_line_content": "    #endif",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_rfind), MP_ROM_PTR(&str_rfind_obj) },",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(lhs_data, lhs_len, rhs_data, rhs_len, 1)",
          "old_line_content": "        case MP_BINARY_OP_MORE_EQUAL:",
          "new_line_content": "            return mp_obj_new_bool(find_subbytes(lhs_data, lhs_len, rhs_data, rhs_len, 1) != NULL);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"bad format string\")",
          "old_line_content": "STATIC vstr_t mp_obj_str_format_helper(const char *str, const char *top, int *arg_i, mp_uint_t n_args, const mp_obj_t *args, mp_map_t *kwargs) {",
          "new_line_content": "    mp_raise_ValueError(\"bad format string\");",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_endswith_obj)",
          "old_line_content": "    #if MICROPY_PY_BUILTINS_STR_PARTITION",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_endswith), MP_ROM_PTR(&str_endswith_obj) },",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "mp_seq_cmp_bytes",
          "old_text": null,
          "new_text": "mp_seq_cmp_bytes(op, lhs_data, lhs_len, rhs_data, rhs_len)",
          "old_line_content": "// objstrunicode defines own version",
          "new_line_content": "            return mp_obj_new_bool(mp_seq_cmp_bytes(op, lhs_data, lhs_len, rhs_data, rhs_len));",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_rstrip_obj)",
          "old_line_content": "    #endif",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_rstrip), MP_ROM_PTR(&str_rstrip_obj) },",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_format_obj)",
          "old_line_content": "    #if MICROPY_PY_BUILTINS_STR_CENTER",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_format), MP_ROM_PTR(&str_format_obj) },",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_count_obj)",
          "old_line_content": "    #endif",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_count), MP_ROM_PTR(&str_count_obj) },",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "vstr_init_print",
          "old_text": null,
          "new_text": "vstr_init_print(&vstr, 16, &print)",
          "old_line_content": "                continue;",
          "new_line_content": "    vstr_init_print(&vstr, 16, &print);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[arg_i++])",
          "old_line_content": "        if (str < top && *str == '.') {",
          "new_line_content": "                width = mp_obj_get_int(args[arg_i++]);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "str_to_int",
          "old_text": null,
          "new_text": "str_to_int((const char*)str, (const char*)top, &width)",
          "old_line_content": "                    if ((uint)arg_i >= n_args) {",
          "new_line_content": "                str = (const byte*)str_to_int((const char*)str, (const char*)top, &width);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "vstr_add_byte",
          "old_text": null,
          "new_text": "vstr_add_byte(&vstr, '}')",
          "old_line_content": "            }",
          "new_line_content": "                vstr_add_byte(&vstr, '}');",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_lower_obj)",
          "old_line_content": "};",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_lower), MP_ROM_PTR(&str_lower_obj) },",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_upper_obj)",
          "old_line_content": "",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_upper), MP_ROM_PTR(&str_upper_obj) },",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_isspace_obj)",
          "old_line_content": "STATIC MP_DEFINE_CONST_DICT(str8_locals_dict, str8_locals_dict_table);",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_isspace), MP_ROM_PTR(&str_isspace_obj) },",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "            continue;",
          "new_line_content": "                terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_isalpha_obj)",
          "old_line_content": "",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_isalpha), MP_ROM_PTR(&str_isalpha_obj) },",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"single '}' encountered in format string\")",
          "old_line_content": "",
          "new_line_content": "                mp_raise_ValueError(\"single '}' encountered in format string\");",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_isdigit_obj)",
          "old_line_content": "#if !MICROPY_PY_BUILTINS_STR_UNICODE",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_isdigit), MP_ROM_PTR(&str_isdigit_obj) },",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[arg_i++])",
          "old_line_content": "        }",
          "new_line_content": "                    prec = mp_obj_get_int(args[arg_i++]);",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": null,
          "new_api": "MP_ROM_PTR",
          "old_text": null,
          "new_text": "MP_ROM_PTR(&str_isupper_obj)",
          "old_line_content": "STATIC mp_obj_t mp_obj_new_str_iterator(mp_obj_t str);",
          "new_line_content": "    { MP_ROM_QSTR(MP_QSTR_isupper), MP_ROM_PTR(&str_isupper_obj) },",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(index, &mp_type_slice)",
          "old_line_content": "#endif",
          "new_line_content": "        if (MP_OBJ_IS_TYPE(index, &mp_type_slice)) {",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": null,
          "new_api": "vstr_add_byte",
          "old_text": null,
          "new_text": "vstr_add_byte(&vstr, *str)",
          "old_line_content": "            continue;",
          "new_line_content": "            vstr_add_byte(&vstr, *str);",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": null,
          "new_api": "mp_seq_get_fast_slice_indexes",
          "old_text": null,
          "new_text": "mp_seq_get_fast_slice_indexes(self_len, index, &slice)",
          "old_line_content": "        // If we have unicode enabled the type will always be bytes, so take the short cut.",
          "new_line_content": "            if (!mp_seq_get_fast_slice_indexes(self_len, index, &slice)) {",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": null,
          "new_api": "mp_not_implemented",
          "old_text": null,
          "new_text": "mp_not_implemented(\"only slices with step=1 (aka None) are supported\")",
          "old_line_content": "        if (MICROPY_PY_BUILTINS_STR_UNICODE || type == &mp_type_bytes) {",
          "new_line_content": "                mp_not_implemented(\"only slices with step=1 (aka None) are supported\");",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "str_to_int",
          "old_text": null,
          "new_text": "str_to_int((const char*)str, (const char*)top, &prec)",
          "old_line_content": "            if (MICROPY_ERROR_REPORTING == MICROPY_ERROR_REPORTING_TERSE) {",
          "new_line_content": "                    str = (const byte*)str_to_int((const char*)str, (const char*)top, &prec);",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(type, self_data + slice.start, slice.stop - slice.start)",
          "old_line_content": "        } else {",
          "new_line_content": "            return mp_obj_new_str_of_type(type, self_data + slice.start, slice.stop - slice.start);",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "vstr_add_byte",
          "old_text": null,
          "new_text": "vstr_add_byte(&vstr, '{')",
          "old_line_content": "        const char *field_name_top = NULL;",
          "new_line_content": "            vstr_add_byte(&vstr, '{');",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "mp_get_index",
          "old_text": null,
          "new_text": "mp_get_index(type, self_len, index, false)",
          "old_line_content": "    } else {",
          "new_line_content": "        mp_uint_t index_val = mp_get_index(type, self_len, index, false);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "        if (arg == MP_OBJ_NULL) {",
          "new_line_content": "                terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(self_data[index_val])",
          "old_line_content": "}",
          "new_line_content": "            return MP_OBJ_NEW_SMALL_INT(self_data[index_val]);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"incomplete format\")",
          "old_line_content": "not_enough_args:",
          "new_line_content": "                mp_raise_ValueError(\"incomplete format\");",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((char*)&self_data[index_val], 1, true)",
          "old_line_content": "STATIC mp_obj_t str_join(mp_obj_t self_in, mp_obj_t arg) {",
          "new_line_content": "            return mp_obj_new_str((char*)&self_data[index_val], 1, true);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "mp_raise_TypeError",
          "old_text": null,
          "new_text": "mp_raise_TypeError(\"not enough arguments for format string\")",
          "old_line_content": "                    mp_uint_t slen;",
          "new_line_content": "                mp_raise_TypeError(\"not enough arguments for format string\");",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR_OR_BYTES",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "old_line_content": "    mp_uint_t seq_len;",
          "new_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(self_in));",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(self_in)",
          "old_line_content": "    mp_obj_t *seq_items;",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, sep_str, sep_len)",
          "old_line_content": "    } else {",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, sep_str, sep_len);",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_tuple)",
          "old_line_content": "        }",
          "new_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_tuple)) {",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "mp_print_strn",
          "old_text": null,
          "new_text": "mp_print_strn(&print, s, 1, flags, ' ', width)",
          "old_line_content": "                break;",
          "new_line_content": "                    mp_print_strn(&print, s, 1, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_list)",
          "old_line_content": "",
          "new_line_content": "        if (!MP_OBJ_IS_TYPE(arg, &mp_type_list)) {",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "                    } else {",
          "new_line_content": "                    terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"bad conversion specifier\")",
          "old_line_content": "                            \"unknown conversion specifier %c\", *str));",
          "new_line_content": "                    mp_raise_ValueError(\"bad conversion specifier\");",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "make_new",
          "old_text": null,
          "new_text": "mp_type_list.make_new(&mp_type_list, 1, 0, &arg)",
          "old_line_content": "    for (mp_uint_t i = 0; i < seq_len; i++) {",
          "new_line_content": "            arg = mp_type_list.make_new(&mp_type_list, 1, 0, &arg);",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "arg_looks_integer",
          "old_text": null,
          "new_text": "arg_looks_integer(arg)",
          "old_line_content": "",
          "new_line_content": "                } else if (arg_looks_integer(arg)) {",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\n                            \"end of format while looking for conversion specifier\")",
          "old_line_content": "            }",
          "new_line_content": "                        mp_raise_ValueError(",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(arg)",
          "old_line_content": "            case 'd':",
          "new_line_content": "                    char ch = mp_obj_get_int(arg);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "mp_print_strn",
          "old_text": null,
          "new_text": "mp_print_strn(&print, &ch, 1, flags, ' ', width)",
          "old_line_content": "            case 'i':",
          "new_line_content": "                    mp_print_strn(&print, &ch, 1, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown conversion specifier %c\", *str)",
          "old_line_content": "        if (str < top && *str == ':') {",
          "new_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": null,
          "new_api": "qstr_compute_hash",
          "old_text": null,
          "new_text": "qstr_compute_hash(data, len)",
          "old_line_content": "}",
          "new_line_content": "        o->hash = qstr_compute_hash(data, len);",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "m_new",
          "old_text": null,
          "new_text": "m_new(byte, len + 1)",
          "old_line_content": "",
          "new_line_content": "        byte *p = m_new(byte, len + 1);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "arg_as_int",
          "old_text": null,
          "new_text": "arg_as_int(arg)",
          "old_line_content": "            case 'F':",
          "new_line_content": "                mp_print_mp_int(&print, arg_as_int(arg), 10, 'a', flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "mp_raise_TypeError",
          "old_text": null,
          "new_text": "mp_raise_TypeError(\n                \"join expects a list of str/bytes objects consistent with self object\")",
          "old_line_content": "        required_len += l;",
          "new_line_content": "            mp_raise_TypeError(",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(p, data, len * sizeof(byte))",
          "old_line_content": "// the exact length required and then reused for the str/bytes object.  The vstr",
          "new_line_content": "        memcpy(p, data, len * sizeof(byte));",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "MP_OBJ_FROM_PTR",
          "old_text": null,
          "new_text": "MP_OBJ_FROM_PTR(o)",
          "old_line_content": "    // if not a bytes object, look if a qstr with this data already exists",
          "new_line_content": "    return MP_OBJ_FROM_PTR(o);",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "GET_STR_LEN",
          "old_text": null,
          "new_text": "GET_STR_LEN(seq_items[i], l)",
          "old_line_content": "    byte *data = (byte*)vstr.buf;",
          "new_line_content": "        GET_STR_LEN(seq_items[i], l);",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                }",
          "new_line_content": "                mp_print_float(&print, mp_obj_get_float(arg), *str, flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": null,
          "new_api": "qstr_find_strn",
          "old_text": null,
          "new_text": "qstr_find_strn(vstr->buf, vstr->len)",
          "old_line_content": "",
          "new_line_content": "        qstr q = qstr_find_strn(vstr->buf, vstr->len);",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(q)",
          "old_line_content": "    o->len = vstr->len;",
          "new_line_content": "            return MP_OBJ_NEW_QSTR(q);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data, sep_str, sep_len)",
          "old_line_content": "",
          "new_line_content": "            memcpy(data, sep_str, sep_len);",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "mp_print_mp_int",
          "old_text": null,
          "new_text": "mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, prec)",
          "old_line_content": "                mp_print_t arg_print;",
          "new_line_content": "                mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(seq_items[i], s, l)",
          "old_line_content": "}",
          "new_line_content": "        GET_STR_DATA_LEN(seq_items[i], s, l);",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data, s, l)",
          "old_line_content": "",
          "new_line_content": "        memcpy(data, s, l);",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "qstr_compute_hash",
          "old_text": null,
          "new_text": "qstr_compute_hash((byte*)vstr->buf, vstr->len)",
          "old_line_content": "    vstr->buf = NULL;",
          "new_line_content": "    o->hash = qstr_compute_hash((byte*)vstr->buf, vstr->len);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(self_type, &vstr)",
          "old_line_content": "    if (n_args > 1) {",
          "new_line_content": "    return mp_obj_new_str_from_vstr(self_type, &vstr);",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_bytes)",
          "old_line_content": "                if (prec < 0) {",
          "new_line_content": "                if (print_kind == PRINT_STR && is_bytes && MP_OBJ_IS_TYPE(arg, &mp_type_bytes)) {",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "m_renew",
          "old_text": null,
          "new_text": "m_renew(char, vstr->buf, vstr->alloc, vstr->len + 1)",
          "old_line_content": "",
          "new_line_content": "        o->data = (byte*)m_renew(char, vstr->buf, vstr->alloc, vstr->len + 1);",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "        }",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper(&arg_print, arg, print_kind)",
          "old_line_content": "                }",
          "new_line_content": "                mp_obj_print_helper(&arg_print, arg, print_kind);",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "",
          "new_line_content": "                terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": null,
          "new_api": "MP_OBJ_FROM_PTR",
          "old_text": null,
          "new_text": "MP_OBJ_FROM_PTR(o)",
          "old_line_content": "    } else {",
          "new_line_content": "    return MP_OBJ_FROM_PTR(o);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[2])",
          "old_line_content": "",
          "new_line_content": "            splits = mp_obj_get_int(args[2]);",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\"expected ':' after format specifier\")",
          "old_line_content": "            int index = 0;",
          "new_line_content": "                mp_raise_ValueError(\"expected ':' after format specifier\");",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn(data, len)",
          "old_line_content": "            // no existing qstr, don't make one",
          "new_line_content": "        return MP_OBJ_NEW_QSTR(qstr_from_strn(data, len));",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": null,
          "new_api": "mp_obj_new_list",
          "old_text": null,
          "new_text": "mp_obj_new_list(0, NULL)",
          "old_line_content": "        // Initial whitespace is not counted as split, so we pre-do it",
          "new_line_content": "    mp_obj_t res = mp_obj_new_list(0, NULL);",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "qstr_find_strn",
          "old_text": null,
          "new_text": "qstr_find_strn(data, len)",
          "old_line_content": "        }",
          "new_line_content": "        qstr q = qstr_find_strn(data, len);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "vstr_clear",
          "old_text": null,
          "new_text": "vstr_clear(&arg_vstr)",
          "old_line_content": "                break;",
          "new_line_content": "                vstr_clear(&arg_vstr);",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "unichar_isdigit",
          "old_text": null,
          "new_text": "unichar_isdigit(*field_name)",
          "old_line_content": "                    }",
          "new_line_content": "            if (MP_LIKELY(unichar_isdigit(*field_name))) {",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(q)",
          "old_line_content": "",
          "new_line_content": "            return MP_OBJ_NEW_QSTR(q);",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": null,
          "new_api": "terse_str_format_value_error",
          "old_text": null,
          "new_text": "terse_str_format_value_error()",
          "old_line_content": "                if ((uint)index >= n_args - 1) {",
          "new_line_content": "                        terse_str_format_value_error();",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": null,
          "new_api": "unichar_isspace",
          "old_text": null,
          "new_text": "unichar_isspace(*s)",
          "old_line_content": "            }",
          "new_line_content": "        while (s < top && unichar_isspace(*s)) s++;",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "mp_raise_ValueError",
          "old_text": null,
          "new_text": "mp_raise_ValueError(\n                            \"can't switch from automatic field numbering to manual field specification\")",
          "old_line_content": "                }",
          "new_line_content": "                        mp_raise_ValueError(",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": null,
          "new_api": "unichar_isspace",
          "old_text": null,
          "new_text": "unichar_isspace(*s)",
          "old_line_content": "                splits--;",
          "new_line_content": "            while (s < top && !unichar_isspace(*s)) s++;",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "old_line_content": "            }",
          "new_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "str_to_int",
          "old_text": null,
          "new_text": "str_to_int(field_name, field_name_top, &index)",
          "old_line_content": "                const char *lookup;",
          "new_line_content": "                field_name = str_to_int(field_name, field_name_top, &index);",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn((const char*)data, len)",
          "old_line_content": "bool mp_obj_str_equal(mp_obj_t s1, mp_obj_t s2) {",
          "new_line_content": "    return MP_OBJ_NEW_QSTR(qstr_from_strn((const char*)data, len));",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unsupported format character '%c' (0x%x) at index %d\",\n                        *str, *str, str - start_str)",
          "old_line_content": "    if ((uint)arg_i != n_args) {",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(sep)",
          "new_text": null,
          "old_line_content": "        if (mp_obj_get_type(sep) != self_type) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(sep)",
          "new_text": null,
          "old_line_content": "            bad_implicit_conversion(sep);",
          "new_line_content": "        if (s < top) {",
          "content_same": false
        },
        {
          "line": 2051,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(s1, d1, l1)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(s1, d1, l1);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(sep, &sep_len)",
          "new_text": null,
          "old_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(d1, d2, l1)",
          "new_text": null,
          "old_line_content": "        return memcmp(d1, d2, l1) == 0;",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                    terse_str_format_value_error();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[3])",
          "new_text": null,
          "old_line_content": "        max_rep = mp_obj_get_int(args[3]);",
          "new_line_content": "// The implementation is optimized, returning the original string if there's",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "mp_raise_TypeError",
          "new_api": null,
          "old_text": "mp_raise_TypeError(\"can't convert to str implicitly\")",
          "new_text": null,
          "old_line_content": "        mp_raise_TypeError(\"can't convert to str implicitly\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_TypeError,\n            \"can't convert '%s' object to str implicitly\",\n            mp_obj_get_type_str(self_in))",
          "new_text": null,
          "old_line_content": "        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_TypeError,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(self_in)",
          "new_text": null,
          "old_line_content": "            mp_obj_get_type_str(self_in)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "new_text": null,
          "old_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "new_line_content": "                    s = top;",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[1])",
          "new_text": null,
          "old_line_content": "    if (mp_obj_get_type(args[1]) != self_type) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(args[1])",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(args[1]);",
          "new_line_content": "    // if max_rep is still -1 by this point we will need to do all possible replacements",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": "MP_OBJ_QSTR_VALUE",
          "new_api": null,
          "old_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_QSTR_VALUE(self_in);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_str)",
          "new_text": null,
          "old_line_content": "    } else if (MP_OBJ_IS_TYPE(self_in, &mp_type_str)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "MP_OBJ_TO_PTR",
          "new_api": null,
          "old_text": "MP_OBJ_TO_PTR(self_in)",
          "new_text": null,
          "old_line_content": "        mp_obj_str_t *self = MP_OBJ_TO_PTR(self_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2077,
          "old_api": "qstr_from_strn",
          "new_api": null,
          "old_text": "qstr_from_strn((char*)self->data, self->len)",
          "new_text": null,
          "old_line_content": "        return qstr_from_strn((char*)self->data, self->len);",
          "new_line_content": "// use this if you will anyway convert the string to a qstr",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(conversion == 'r')",
          "new_text": null,
          "old_line_content": "                assert(conversion == 'r');",
          "new_line_content": "            conversion = 's';",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "qstr mp_obj_str_get_qstr(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[2])",
          "new_text": null,
          "old_line_content": "    if (mp_obj_get_type(args[2]) != self_type) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "vstr_init_print",
          "new_api": null,
          "old_text": "vstr_init_print(&arg_vstr, 16, &arg_print)",
          "new_text": null,
          "old_line_content": "            vstr_init_print(&arg_vstr, 16, &arg_print);",
          "new_line_content": "                print_kind = PRINT_STR;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "mp_obj_print_helper",
          "new_api": null,
          "old_text": "mp_obj_print_helper(&arg_print, arg, print_kind)",
          "new_text": null,
          "old_line_content": "            mp_obj_print_helper(&arg_print, arg, print_kind);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": null,
          "old_text": "mp_obj_new_str_from_vstr(is_bytes ? &mp_type_bytes : &mp_type_str, &vstr)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_from_vstr(is_bytes ? &mp_type_bytes : &mp_type_str, &vstr);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "// at the moment all strings are zero terminated to help with C ASCIIZ compatibility",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "MP_ARRAY_SIZE",
          "new_api": null,
          "old_text": "MP_ARRAY_SIZE(allowed_args)",
          "new_text": null,
          "old_line_content": "    mp_arg_val_t args[MP_ARRAY_SIZE(allowed_args)];",
          "new_line_content": "STATIC mp_obj_t str_splitlines(size_t n_args, const mp_obj_t *pos_args, mp_map_t *kw_args) {",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "MP_ARRAY_SIZE",
          "new_api": null,
          "old_text": "MP_ARRAY_SIZE(allowed_args)",
          "new_text": null,
          "old_line_content": "    mp_arg_parse_all(n_args - 1, pos_args + 1, kw_args, MP_ARRAY_SIZE(allowed_args), allowed_args, args);",
          "new_line_content": "    enum { ARG_keepends };",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(pos_args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(pos_args[0]);",
          "new_line_content": "        { MP_QSTR_keepends, MP_ARG_BOOL, {.u_bool = false} },",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR_OR_BYTES(self_in)) {",
          "new_line_content": "        return (const char*)s;",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": "mp_obj_new_list",
          "new_api": null,
          "old_text": "mp_obj_new_list(0, NULL)",
          "new_text": null,
          "old_line_content": "    mp_obj_t res = mp_obj_new_list(0, NULL);",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(pos_args[0], s, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(pos_args[0], s, len);",
          "new_line_content": "    // parse args",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "GET_STR_HASH",
          "new_api": null,
          "old_text": "GET_STR_HASH(s2, h2)",
          "new_text": null,
          "old_line_content": "        GET_STR_HASH(s2, h2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "MP_STACK_CHECK",
          "new_api": null,
          "old_text": "MP_STACK_CHECK()",
          "new_text": null,
          "old_line_content": "            MP_STACK_CHECK();",
          "new_line_content": "            // align       ::=  \"<\" | \">\" | \"=\" | \"^\"",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_QSTR(self_in)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "mp_obj_str_format_helper",
          "new_api": null,
          "old_text": "mp_obj_str_format_helper(format_spec, str, arg_i, n_args, args, kwargs)",
          "new_text": null,
          "old_line_content": "            vstr_t format_spec_vstr = mp_obj_str_format_helper(format_spec, str, arg_i, n_args, args, kwargs);",
          "new_line_content": "            // sign        ::=  \"+\" | \"-\" | \" \"",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "vstr_null_terminated_str",
          "new_api": null,
          "old_text": "vstr_null_terminated_str(&format_spec_vstr)",
          "new_text": null,
          "old_line_content": "            const char *s = vstr_null_terminated_str(&format_spec_vstr);",
          "new_line_content": "            // width       ::=  integer",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "isalignment",
          "new_api": null,
          "old_text": "isalignment(*s)",
          "new_text": null,
          "old_line_content": "            if (isalignment(*s)) {",
          "new_line_content": "            // type        ::=  \"b\" | \"c\" | \"d\" | \"e\" | \"E\" | \"f\" | \"F\" | \"g\" | \"G\" | \"n\" | \"o\" | \"s\" | \"x\" | \"X\" | \"%\"",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)",
          "new_text": null,
          "old_line_content": "        while (num_replacements_done != (mp_uint_t)max_rep && str_len_remain > 0 && (old_occurrence = find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)) != NULL) {",
          "new_line_content": "            // copy the replacement string",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "isalignment",
          "new_api": null,
          "old_text": "isalignment(s[1])",
          "new_text": null,
          "old_line_content": "            } else if (*s && isalignment(s[1])) {",
          "new_line_content": "            // recursively call the formatter to format any nested specifiers",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr)",
          "new_text": null,
          "old_line_content": "                memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, start, sub_len)",
          "new_text": null,
          "old_line_content": "        mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, sub_len));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, new, new_len)",
          "new_text": null,
          "old_line_content": "                memcpy(data + replaced_str_index, new, new_len);",
          "new_line_content": "            // copy from just after end of last occurrence of to-be-replaced string to right before start of next occurrence",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "new_line_content": "    mp_obj_t str;",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str((const char*)str + self->cur, 1, true)",
          "new_text": null,
          "old_line_content": "        mp_obj_t o_out = mp_obj_new_str((const char*)str + self->cur, 1, true);",
          "new_line_content": "} mp_obj_str8_it_t;",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, offset_ptr, str_len_remain)",
          "new_text": null,
          "old_line_content": "            memcpy(data + replaced_str_index, offset_ptr, str_len_remain);",
          "new_line_content": "            offset_ptr = old_occurrence + old_len;",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "mp_obj_str_split",
          "new_api": null,
          "old_text": "mp_obj_str_split(n_args, args)",
          "new_text": null,
          "old_line_content": "        return mp_obj_str_split(n_args, args);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int(s, stop, &width)",
          "new_text": null,
          "old_line_content": "            s = str_to_int(s, stop, &width);",
          "new_line_content": "                if (!align) {",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "new_line_content": "    if (n_args < 3) {",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str8_it_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str8_it_t *o = m_new_obj(mp_obj_str8_it_t);",
          "new_line_content": "        return o_out;",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[2])",
          "new_text": null,
          "old_line_content": "    mp_int_t splits = mp_obj_get_int(args[2]);",
          "new_line_content": "        // we split.",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": "vstr_init_len",
          "new_api": null,
          "old_text": "vstr_init_len(&vstr, replaced_str_index)",
          "new_text": null,
          "old_line_content": "                vstr_init_len(&vstr, replaced_str_index);",
          "new_line_content": "        if (data == NULL) {",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "mp_obj_new_list",
          "new_api": null,
          "old_text": "mp_obj_new_list(splits + 1, NULL)",
          "new_text": null,
          "old_line_content": "    mp_obj_list_t *res = MP_OBJ_TO_PTR(mp_obj_new_list(splits + 1, NULL));",
          "new_line_content": "    mp_obj_t sep = args[1];",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "istype",
          "new_api": null,
          "old_text": "istype(*s)",
          "new_text": null,
          "old_line_content": "            if (istype(*s)) {",
          "new_line_content": "                flags |= PF_FLAG_SHOW_COMMA;",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(data != NULL)",
          "new_text": null,
          "old_line_content": "                assert(data != NULL);",
          "new_line_content": "            if (num_replacements_done == 0) {",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "mp_not_implemented",
          "new_api": null,
          "old_text": "mp_not_implemented(\"rsplit(None,n)\")",
          "new_text": null,
          "old_line_content": "        mp_not_implemented(\"rsplit(None,n)\");",
          "new_line_content": "    mp_int_t org_splits = splits;",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": "MP_OBJ_TO_PTR",
          "new_api": null,
          "old_text": "MP_OBJ_TO_PTR(self_in)",
          "new_text": null,
          "old_line_content": "    mp_obj_str8_it_t *self = MP_OBJ_TO_PTR(self_in);",
          "new_line_content": "    o->str = str;",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "new_line_content": "    o->cur = 0;",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(str[self->cur])",
          "new_text": null,
          "old_line_content": "        mp_obj_t o_out = MP_OBJ_NEW_SMALL_INT(str[self->cur]);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"empty separator\")",
          "new_text": null,
          "old_line_content": "            mp_raise_ValueError(\"empty separator\");",
          "new_line_content": "    if (sep == mp_const_none) {",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "vstr_clear",
          "new_api": null,
          "old_text": "vstr_clear(&format_spec_vstr)",
          "new_text": null,
          "old_line_content": "            vstr_clear(&format_spec_vstr);",
          "new_line_content": "            if (*s) {",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": null,
          "old_text": "mp_obj_new_str_from_vstr(self_type, &vstr)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_from_vstr(self_type, &vstr);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "arg_looks_numeric",
          "new_api": null,
          "old_text": "arg_looks_numeric(arg)",
          "new_text": null,
          "old_line_content": "            if (arg_looks_numeric(arg)) {",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[1])",
          "new_text": null,
          "old_line_content": "    if (mp_obj_get_type(args[1]) != self_type) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str8_it_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str8_it_t *o = m_new_obj(mp_obj_str8_it_t);",
          "new_line_content": "        return o_out;",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(args[1])",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(args[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "new_line_content": "        const byte *beg = s;",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "MP_OBJ_FROM_PTR",
          "new_api": null,
          "old_text": "MP_OBJ_FROM_PTR(o)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_FROM_PTR(o);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, beg, last - beg)",
          "new_text": null,
          "old_line_content": "                res->items[idx] = mp_obj_new_str_of_type(self_type, beg, last - beg);",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                    terse_str_format_value_error();",
          "new_line_content": "        if (!fill) {",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len)",
          "new_text": null,
          "old_line_content": "            res->items[idx--] = mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"sign not allowed in string format specifier\")",
          "new_text": null,
          "old_line_content": "                    mp_raise_ValueError(\"sign not allowed in string format specifier\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "new_text": null,
          "old_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "unichar_charlen",
          "new_api": null,
          "old_text": "unichar_charlen((const char*)start, end - start)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(unichar_charlen((const char*)start, end - start) + 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(res->items, &res->items[idx], used * sizeof(mp_obj_t))",
          "new_text": null,
          "old_line_content": "            memmove(res->items, &res->items[idx], used * sizeof(mp_obj_t));",
          "new_line_content": "            if (splits > 0) {",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "mp_seq_clear",
          "new_api": null,
          "old_text": "mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items))",
          "new_text": null,
          "old_line_content": "            mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items));",
          "new_line_content": "                splits--;",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(haystack_ptr, needle, needle_len)",
          "new_text": null,
          "old_line_content": "        if (memcmp(haystack_ptr, needle, needle_len) == 0) {",
          "new_line_content": "    if (needle_len == 0) {",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "MP_OBJ_FROM_PTR",
          "new_api": null,
          "old_text": "MP_OBJ_FROM_PTR(res)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_FROM_PTR(res);",
          "new_line_content": "            mp_int_t used = org_splits + 1 - idx;",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "utf8_next_char",
          "new_api": null,
          "old_text": "utf8_next_char(haystack_ptr)",
          "new_text": null,
          "old_line_content": "            haystack_ptr = utf8_next_char(haystack_ptr);",
          "new_line_content": "    // count the occurrences",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "arg_looks_integer",
          "new_api": null,
          "old_text": "arg_looks_integer(arg)",
          "new_text": null,
          "old_line_content": "        if (arg_looks_integer(arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(num_occurrences)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_NEW_SMALL_INT(num_occurrences);",
          "new_line_content": "            num_occurrences++;",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[1])",
          "new_text": null,
          "old_line_content": "    if (mp_obj_get_type(args[1]) != self_type) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(args[1])",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(args[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "mp_print_mp_int",
          "new_api": null,
          "old_text": "mp_print_mp_int(&print, arg, 2, 'a', flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    mp_print_mp_int(&print, arg, 2, 'a', flags, fill, width, 0);",
          "new_line_content": "            case '=': flags |= PF_FLAG_PAD_AFTER_SIGN;  break;",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(self_in));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": null,
          "old_line_content": "    mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(arg)",
          "new_text": null,
          "old_line_content": "                    char ch = mp_obj_get_int(arg);",
          "new_line_content": "            switch (type) {",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "mp_print_strn",
          "new_api": null,
          "old_text": "mp_print_strn(&print, &ch, 1, flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    mp_print_strn(&print, &ch, 1, flags, fill, width);",
          "new_line_content": "                case 'b':",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(arg)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(arg);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, str, str_len);",
          "new_line_content": "STATIC mp_obj_t str_partitioner(mp_obj_t self_in, mp_obj_t arg, mp_int_t direction) {",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "new_text": null,
          "old_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(start, end - start, needle, needle_len, direction)",
          "new_text": null,
          "old_line_content": "    const byte *p = find_subbytes(start, end - start, needle, needle_len, direction);",
          "new_line_content": "    if (n_args >= 3 && args[2] != mp_const_none) {",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": null,
          "old_line_content": "        result[0] = MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": null,
          "old_line_content": "        result[1] = MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "new_line_content": "    if (sep_len == 0) {",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(-1)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_SMALL_INT(-1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "mp_print_mp_int",
          "new_api": null,
          "old_text": "mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, 0);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "mp_print_mp_int",
          "new_api": null,
          "old_text": "mp_print_mp_int(&print, arg, 16, type - ('X' - 'A'), flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    mp_print_mp_int(&print, arg, 16, type - ('X' - 'A'), flags, fill, width, 0);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "utf8_ptr_to_index",
          "new_api": null,
          "old_text": "utf8_ptr_to_index(haystack, p)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_SMALL_INT(utf8_ptr_to_index(haystack, p));",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(p - haystack)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(p - haystack);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(str, str_len, sep, sep_len, direction)",
          "new_text": null,
          "old_line_content": "    const byte *position_ptr = find_subbytes(str, str_len, sep, sep_len, direction);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, str, position)",
          "new_text": null,
          "old_line_content": "        result[0] = mp_obj_new_str_of_type(self_type, str, position);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, 1, false)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, 1, false);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len)",
          "new_text": null,
          "old_line_content": "        result[2] = mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, -1, false)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, -1, false);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "mp_obj_new_tuple",
          "new_api": null,
          "old_text": "mp_obj_new_tuple(3, result)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_tuple(3, result);",
          "new_line_content": "    if (position_ptr != NULL) {",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                        terse_str_format_value_error();",
          "new_line_content": "                case '%':",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, 1, true)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, 1, true);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown format code '%c' for object of type '%s'\",\n                            type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                    // looks like an integer",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": null,
          "old_line_content": "                            type, mp_obj_get_type_str(arg)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, -1, true)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, -1, true);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": "str_partitioner",
          "new_api": null,
          "old_text": "str_partitioner(self_in, arg, -1)",
          "new_text": null,
          "old_line_content": "    return str_partitioner(self_in, arg, -1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "STATIC mp_obj_t str_rindex(size_t n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "new_line_content": "STATIC mp_obj_t str_rpartition(mp_obj_t self_in, mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "vstr_init_len",
          "new_api": null,
          "old_text": "vstr_init_len(&vstr, self_len)",
          "new_text": null,
          "old_line_content": "    vstr_init_len(&vstr, self_len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, str, str_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = str_index_to_ptr(self_type, str, str_len, args[2], true);",
          "new_line_content": "// TODO: (Much) more variety in args",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "op",
          "new_api": null,
          "old_text": "op(*self_data++)",
          "new_text": null,
          "old_line_content": "        *data++ = op(*self_data++);",
          "new_line_content": "// Supposedly not too critical operations, so optimize for code size",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(start, prefix, prefix_len)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_bool(memcmp(start, prefix, prefix_len) == 0);",
          "new_line_content": "    const byte *start = str;",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "str_caseconv",
          "new_api": null,
          "old_text": "str_caseconv(unichar_tolower, self_in)",
          "new_text": null,
          "old_line_content": "    return str_caseconv(unichar_tolower, self_in);",
          "new_line_content": "    for (mp_uint_t i = 0; i < self_len; i++) {",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "    if (prefix_len + (start - str) > str_len) {",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[1], suffix, suffix_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[1], suffix, suffix_len);",
          "new_line_content": "        return mp_const_false;",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "str_caseconv",
          "new_api": null,
          "old_text": "str_caseconv(unichar_toupper, self_in)",
          "new_text": null,
          "old_line_content": "    return str_caseconv(unichar_toupper, self_in);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(str + (str_len - suffix_len), suffix, suffix_len)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_bool(memcmp(str + (str_len - suffix_len), suffix, suffix_len) == 0);",
          "new_line_content": "    if (n_args > 2) {",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "f",
          "new_api": null,
          "old_text": "f(*self_data++)",
          "new_text": null,
          "old_line_content": "            if (!f(*self_data++)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "unichar_isalpha",
          "new_api": null,
          "old_text": "unichar_isalpha(*self_data++)",
          "new_text": null,
          "old_line_content": "            if (unichar_isalpha(*self_data++)) {",
          "new_line_content": "                return mp_const_false;",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "f",
          "new_api": null,
          "old_text": "f(*(self_data - 1))",
          "new_text": null,
          "old_line_content": "                if (!f(*(self_data - 1))) { // -1 because we already incremented above",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[1])",
          "new_text": null,
          "old_line_content": "        if (mp_obj_get_type(args[1]) != self_type) {",
          "new_line_content": "    uint chars_to_del_len;",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(args[1])",
          "new_text": null,
          "old_line_content": "            bad_implicit_conversion(args[1]);",
          "new_line_content": "    static const byte whitespace[] = \" \\t\\n\\r\\v\\f\";",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[1], s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(args[1], s, l);",
          "new_line_content": "    if (n_args == 1) {",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                    mp_print_float(&print, mp_obj_get_float(arg), type, flags, fill, width, precision);",
          "new_line_content": "#if MICROPY_PY_BUILTINS_FLOAT",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isspace, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isspace, self_in);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                    mp_print_float(&print, mp_obj_get_float(arg) * F100, 'f', flags, fill, width, precision);",
          "new_line_content": "                case '%':",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isalpha, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isalpha, self_in);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1)",
          "new_text": null,
          "old_line_content": "        if (find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1) == NULL) {",
          "new_line_content": "    mp_uint_t i = 0;",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isdigit, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isdigit, self_in);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown format code '%c' for object of type 'float'\",\n                            type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isupper, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isupper, self_in);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": null,
          "old_line_content": "                            type, mp_obj_get_type_str(arg)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_islower, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_islower, self_in);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                    terse_str_format_value_error();",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\n                        \"'=' alignment not allowed in string format specifier\")",
          "new_text": null,
          "old_line_content": "                    mp_raise_ValueError(",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "new_text": null,
          "old_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "new_line_content": "// These methods are superfluous in the presense of str() and bytes()",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "mp_obj_str_make_new",
          "new_api": null,
          "old_text": "mp_obj_str_make_new(&mp_type_str, n_args, 0, args)",
          "new_text": null,
          "old_line_content": "    return mp_obj_str_make_new(&mp_type_str, n_args, 0, args);",
          "new_line_content": "    mp_obj_t new_args[2];",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(arg, &slen)",
          "new_text": null,
          "old_line_content": "                    const char *s = mp_obj_str_get_data(arg, &slen);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(last_good_char_pos >= first_good_char_pos)",
          "new_text": null,
          "old_line_content": "    assert(last_good_char_pos >= first_good_char_pos);",
          "new_line_content": "        if (self_type == &mp_type_str) {",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "new_text": null,
          "old_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(first_good_char_pos == 0)",
          "new_text": null,
          "old_line_content": "        assert(first_good_char_pos == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len);",
          "new_line_content": "    mp_uint_t stripped_len = last_good_char_pos - first_good_char_pos + 1;",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "bytes_make_new",
          "new_api": null,
          "old_text": "bytes_make_new(NULL, n_args, 0, args)",
          "new_text": null,
          "old_line_content": "    return bytes_make_new(NULL, n_args, 0, args);",
          "new_line_content": "    mp_obj_t new_args[2];",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                        terse_str_format_value_error();",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown format code '%c' for object of type 'str'\",\n                            type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": null,
          "old_line_content": "                            type, mp_obj_get_type_str(arg)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, str_data, str_len)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, str_data, str_len);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(LSTRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(LSTRIP, n_args, args);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(RSTRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(RSTRIP, n_args, args);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(args[0])",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(args[0]));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(str_in, str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(str_in, str, str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(width_in)",
          "new_text": null,
          "old_line_content": "    mp_uint_t width = mp_obj_get_int(width_in);",
          "new_line_content": "STATIC mp_obj_t str_rstrip(size_t n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "mp_obj_str_format_helper",
          "new_api": null,
          "old_text": "mp_obj_str_format_helper((const char*)str, (const char*)str + len, &arg_i, n_args, args, kwargs)",
          "new_text": null,
          "old_line_content": "    vstr_t vstr = mp_obj_str_format_helper((const char*)str, (const char*)str + len, &arg_i, n_args, args, kwargs);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": null,
          "old_text": "mp_obj_new_str_from_vstr(&mp_type_str, &vstr)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_from_vstr(&mp_type_str, &vstr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(bytes_decode_obj, 1, 3, bytes_decode)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(bytes_decode_obj, 1, 3, bytes_decode);",
          "new_line_content": "        bufinfo->len = 0;",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_encode_obj, 1, 3, str_encode)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_encode_obj, 1, 3, str_encode);",
          "new_line_content": "        bufinfo->typecode = -1;",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_find_obj, 2, 4, str_find)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_find_obj, 2, 4, str_find);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rfind_obj, 2, 4, str_rfind)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rfind_obj, 2, 4, str_rfind);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_index_obj, 2, 4, str_index)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_index_obj, 2, 4, str_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(vstr.buf + left, str, str_len)",
          "new_text": null,
          "old_line_content": "    memcpy(vstr.buf + left, str, str_len);",
          "new_line_content": "        return str_in;",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(str_in)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_from_vstr(mp_obj_get_type(str_in), &vstr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(pattern, &mp_type_bytes)",
          "new_text": null,
          "old_line_content": "    bool is_bytes = MP_OBJ_IS_TYPE(pattern, &mp_type_bytes);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rindex_obj, 2, 4, str_rindex)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rindex_obj, 2, 4, str_rindex);",
          "new_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "vstr_init_print",
          "new_api": null,
          "old_text": "vstr_init_print(&vstr, 16, &print)",
          "new_text": null,
          "old_line_content": "    vstr_init_print(&vstr, 16, &print);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_startswith_obj, 2, 3, str_startswith)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_startswith_obj, 2, 3, str_startswith);",
          "new_line_content": "#if MICROPY_PY_BUILTINS_STR_SPLITLINES",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "vstr_add_byte",
          "new_api": null,
          "old_text": "vstr_add_byte(&vstr, *str)",
          "new_text": null,
          "old_line_content": "            vstr_add_byte(&vstr, *str);",
          "new_line_content": "    vstr_t vstr;",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_strip_obj, 1, 2, str_strip)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_strip_obj, 1, 2, str_strip);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_lstrip_obj, 1, 2, str_lstrip)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_lstrip_obj, 1, 2, str_lstrip);",
          "new_line_content": "#if MICROPY_PY_BUILTINS_STR_CENTER",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_KW",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_KW(str_format_obj, 1, mp_obj_str_format)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_KW(str_format_obj, 1, mp_obj_str_format);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(\"<>=^\", ch)",
          "new_text": null,
          "old_line_content": "    return ch && strchr(\"<>=^\", ch) != NULL;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(\"bcdeEfFgGnosxX%\", ch)",
          "new_text": null,
          "old_line_content": "    return ch && strchr(\"bcdeEfFgGnosxX%\", ch) != NULL;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_isalpha_obj, str_isalpha)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_isalpha_obj, str_isalpha);",
          "new_line_content": "#if MICROPY_PY_BUILTINS_STR_PARTITION",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "MP_OBJ_IS_INT",
          "new_api": null,
          "old_text": "MP_OBJ_IS_INT(arg)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_IS_TYPE(arg, &mp_type_bool) || MP_OBJ_IS_INT(arg);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                        terse_str_format_value_error();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"incomplete format key\")",
          "new_text": null,
          "old_line_content": "                        mp_raise_ValueError(\"incomplete format key\");",
          "new_line_content": "        if (*str == '(') {",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_islower_obj, str_islower)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_islower_obj, str_islower);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "mp_obj_is_float",
          "new_api": null,
          "old_text": "mp_obj_is_float(arg)",
          "new_text": null,
          "old_line_content": "        || mp_obj_is_float(arg)",
          "new_line_content": "STATIC bool arg_looks_integer(mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "mp_obj_dict_get",
          "new_api": null,
          "old_text": "mp_obj_dict_get(dict, k_obj)",
          "new_text": null,
          "old_line_content": "            arg = mp_obj_dict_get(dict, k_obj);",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "vstr_init_len",
          "new_api": null,
          "old_text": "vstr_init_len(&vstr, lhs_len + rhs_len)",
          "new_text": null,
          "old_line_content": "            vstr_init_len(&vstr, lhs_len + rhs_len);",
          "new_line_content": "                return rhs_in;",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(vstr.buf, lhs_data, lhs_len)",
          "new_text": null,
          "old_line_content": "            memcpy(vstr.buf, lhs_data, lhs_len);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(vstr.buf + lhs_len, rhs_data, rhs_len)",
          "new_text": null,
          "old_line_content": "            memcpy(vstr.buf + lhs_len, rhs_data, rhs_len);",
          "new_line_content": "            if (rhs_len == 0) {",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": null,
          "old_text": "mp_obj_new_str_from_vstr(lhs_type, &vstr)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_str_from_vstr(lhs_type, &vstr);",
          "new_line_content": "                return lhs_in;",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "mp_obj_float_get",
          "new_api": null,
          "old_text": "mp_obj_float_get(arg)",
          "new_text": null,
          "old_line_content": "        return mp_obj_new_int_from_float(mp_obj_float_get(arg));",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_find_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_find), MP_ROM_PTR(&str_find_obj) },",
          "new_line_content": "    // for bytes type, and it should not have encode() methods. Otherwise,",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_rfind_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_rfind), MP_ROM_PTR(&str_rfind_obj) },",
          "new_line_content": "    // we have non-compliant-but-practical bytestring type, which shares",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_index_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_index), MP_ROM_PTR(&str_index_obj) },",
          "new_line_content": "    // method table with bytes, so they both have encode() and decode()",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_rindex_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_rindex), MP_ROM_PTR(&str_rindex_obj) },",
          "new_line_content": "    // methods (which should do type checking at runtime).",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_split_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_split), MP_ROM_PTR(&str_split_obj) },",
          "new_line_content": "    #endif",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"bad format string\")",
          "new_text": null,
          "old_line_content": "    mp_raise_ValueError(\"bad format string\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "mp_seq_cmp_bytes",
          "new_api": null,
          "old_text": "mp_seq_cmp_bytes(op, lhs_data, lhs_len, rhs_data, rhs_len)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_bool(mp_seq_cmp_bytes(op, lhs_data, lhs_len, rhs_data, rhs_len));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_lstrip_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_lstrip), MP_ROM_PTR(&str_lstrip_obj) },",
          "new_line_content": "    #if MICROPY_PY_BUILTINS_STR_SPLITLINES",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_format_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_format), MP_ROM_PTR(&str_format_obj) },",
          "new_line_content": "    #endif",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "vstr_init_print",
          "new_api": null,
          "old_text": "vstr_init_print(&vstr, 16, &print)",
          "new_text": null,
          "old_line_content": "    vstr_init_print(&vstr, 16, &print);",
          "new_line_content": "// define to nothing to improve coverage",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[arg_i++])",
          "new_text": null,
          "old_line_content": "                width = mp_obj_get_int(args[arg_i++]);",
          "new_line_content": "        // parse width, if it exists",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "mp_get_index",
          "new_api": null,
          "old_text": "mp_get_index(type, self_len, index, is_slice)",
          "new_text": null,
          "old_line_content": "    mp_uint_t index_val = mp_get_index(type, self_len, index, is_slice);",
          "new_line_content": "    return MP_OBJ_NULL; // op not supported",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int((const char*)str, (const char*)top, &width)",
          "new_text": null,
          "old_line_content": "                str = (const byte*)str_to_int((const char*)str, (const char*)top, &width);",
          "new_line_content": "            if (*str == '*') {",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "vstr_add_byte",
          "new_api": null,
          "old_text": "vstr_add_byte(&vstr, '}')",
          "new_text": null,
          "old_line_content": "                vstr_add_byte(&vstr, '}');",
          "new_line_content": "    mp_print_t print;",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_lower_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_lower), MP_ROM_PTR(&str_lower_obj) },",
          "new_line_content": "    #if MICROPY_PY_BUILTINS_STR_PARTITION",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                terse_str_format_value_error();",
          "new_line_content": "        if (*str == '}') {",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_isalpha_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_isalpha), MP_ROM_PTR(&str_isalpha_obj) },",
          "new_line_content": "    #endif",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "new_line_content": "    return self_data + index_val;",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"single '}' encountered in format string\")",
          "new_text": null,
          "old_line_content": "                mp_raise_ValueError(\"single '}' encountered in format string\");",
          "new_line_content": "            if (str < top && *str == '}') {",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[arg_i++])",
          "new_text": null,
          "old_line_content": "                    prec = mp_obj_get_int(args[arg_i++]);",
          "new_line_content": "        int prec = -1;",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_isdigit_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_isdigit), MP_ROM_PTR(&str_isdigit_obj) },",
          "new_line_content": "    #if MICROPY_PY_BUILTINS_STR_CENTER",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(index, &mp_type_slice)",
          "new_text": null,
          "old_line_content": "        if (MP_OBJ_IS_TYPE(index, &mp_type_slice)) {",
          "new_line_content": "// This is used for both bytes and 8-bit strings. This is not used for unicode strings.",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": "vstr_add_byte",
          "new_api": null,
          "old_text": "vstr_add_byte(&vstr, *str)",
          "new_text": null,
          "old_line_content": "            vstr_add_byte(&vstr, *str);",
          "new_line_content": "            if (MICROPY_ERROR_REPORTING == MICROPY_ERROR_REPORTING_TERSE) {",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int((const char*)str, (const char*)top, &prec)",
          "new_text": null,
          "old_line_content": "                    str = (const byte*)str_to_int((const char*)str, (const char*)top, &prec);",
          "new_line_content": "                    if ((uint)arg_i >= n_args) {",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "MP_ROM_PTR",
          "new_api": null,
          "old_text": "MP_ROM_PTR(&str_islower_obj)",
          "new_text": null,
          "old_line_content": "    { MP_ROM_QSTR(MP_QSTR_islower), MP_ROM_PTR(&str_islower_obj) },",
          "new_line_content": "    #endif",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(type, self_data + slice.start, slice.stop - slice.start)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_str_of_type(type, self_data + slice.start, slice.stop - slice.start);",
          "new_line_content": "        // load",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "vstr_add_byte",
          "new_api": null,
          "old_text": "vstr_add_byte(&vstr, '{')",
          "new_text": null,
          "old_line_content": "            vstr_add_byte(&vstr, '{');",
          "new_line_content": "        if (*str != '{') {",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "mp_get_index",
          "new_api": null,
          "old_text": "mp_get_index(type, self_len, index, false)",
          "new_text": null,
          "old_line_content": "        mp_uint_t index_val = mp_get_index(type, self_len, index, false);",
          "new_line_content": "            mp_bound_slice_t slice;",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                terse_str_format_value_error();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(self_data[index_val])",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_SMALL_INT(self_data[index_val]);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"incomplete format\")",
          "new_text": null,
          "old_line_content": "                mp_raise_ValueError(\"incomplete format\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str((char*)&self_data[index_val], 1, true)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_str((char*)&self_data[index_val], 1, true);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "mp_raise_TypeError",
          "new_api": null,
          "old_text": "mp_raise_TypeError(\"not enough arguments for format string\")",
          "new_text": null,
          "old_line_content": "                mp_raise_TypeError(\"not enough arguments for format string\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "MP_OBJ_IS_STR_OR_BYTES",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR_OR_BYTES(self_in)",
          "new_text": null,
          "old_line_content": "    mp_check_self(MP_OBJ_IS_STR_OR_BYTES(self_in));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, sep_str, sep_len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(arg)",
          "new_text": null,
          "old_line_content": "                if (MP_OBJ_IS_STR(arg)) {",
          "new_line_content": "not_enough_args:",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(arg, &slen)",
          "new_text": null,
          "old_line_content": "                    const char *s = mp_obj_str_get_data(arg, &slen);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_tuple)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_tuple)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "mp_obj_tuple_get",
          "new_api": null,
          "old_text": "mp_obj_tuple_get(arg, &seq_len, &seq_items)",
          "new_text": null,
          "old_line_content": "        mp_obj_tuple_get(arg, &seq_len, &seq_items);",
          "new_line_content": "    // get separation string",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "mp_raise_TypeError",
          "new_api": null,
          "old_text": "mp_raise_TypeError(\"%%c requires int or char\")",
          "new_text": null,
          "old_line_content": "                        mp_raise_TypeError(\"%%c requires int or char\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_list)",
          "new_text": null,
          "old_line_content": "        if (!MP_OBJ_IS_TYPE(arg, &mp_type_list)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                    terse_str_format_value_error();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"bad conversion specifier\")",
          "new_text": null,
          "old_line_content": "                    mp_raise_ValueError(\"bad conversion specifier\");",
          "new_line_content": "            str++;",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "make_new",
          "new_api": null,
          "old_text": "mp_type_list.make_new(&mp_type_list, 1, 0, &arg)",
          "new_text": null,
          "old_line_content": "            arg = mp_type_list.make_new(&mp_type_list, 1, 0, &arg);",
          "new_line_content": "    mp_obj_t *seq_items;",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "mp_print_strn",
          "new_api": null,
          "old_text": "mp_print_strn(&print, s, 1, flags, ' ', width)",
          "new_text": null,
          "old_line_content": "                    mp_print_strn(&print, s, 1, flags, ' ', width);",
          "new_line_content": "            case 'c':",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\n                            \"end of format while looking for conversion specifier\")",
          "new_text": null,
          "old_line_content": "                        mp_raise_ValueError(",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(arg)",
          "new_text": null,
          "old_line_content": "                    char ch = mp_obj_get_int(arg);",
          "new_line_content": "                    mp_uint_t slen;",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                            \"unknown conversion specifier %c\", *str)",
          "new_text": null,
          "old_line_content": "                        nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                } else if (MICROPY_ERROR_REPORTING == MICROPY_ERROR_REPORTING_NORMAL) {",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash(data, len)",
          "new_text": null,
          "old_line_content": "        o->hash = qstr_compute_hash(data, len);",
          "new_line_content": "// Create a str/bytes object using the given data.  New memory is allocated and",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "m_new",
          "new_api": null,
          "old_text": "m_new(byte, len + 1)",
          "new_text": null,
          "old_line_content": "        byte *p = m_new(byte, len + 1);",
          "new_line_content": "// the data is copied across.",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(seq_items[i])",
          "new_text": null,
          "old_line_content": "        if (mp_obj_get_type(seq_items[i]) != self_type) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "MP_OBJ_FROM_PTR",
          "new_api": null,
          "old_text": "MP_OBJ_FROM_PTR(o)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_FROM_PTR(o);",
          "new_line_content": "    if (data) {",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                mp_print_float(&print, mp_obj_get_float(arg), *str, flags, fill, width, prec);",
          "new_line_content": "#if MICROPY_PY_BUILTINS_FLOAT",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": "qstr_find_strn",
          "new_api": null,
          "old_text": "qstr_find_strn(vstr->buf, vstr->len)",
          "new_text": null,
          "old_line_content": "        qstr q = qstr_find_strn(vstr->buf, vstr->len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "vstr_init_len",
          "new_api": null,
          "old_text": "vstr_init_len(&vstr, required_len)",
          "new_text": null,
          "old_line_content": "    vstr_init_len(&vstr, required_len);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "vstr_clear",
          "new_api": null,
          "old_text": "vstr_clear(vstr)",
          "new_text": null,
          "old_line_content": "            vstr_clear(vstr);",
          "new_line_content": "// the exact length required and then reused for the str/bytes object.  The vstr",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(q)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_QSTR(q);",
          "new_line_content": "mp_obj_t mp_obj_new_str_from_vstr(const mp_obj_type_t *type, vstr_t *vstr) {",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "            memcpy(data, sep_str, sep_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "mp_print_mp_int",
          "new_api": null,
          "old_text": "mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, prec)",
          "new_text": null,
          "old_line_content": "                mp_print_mp_int(&print, arg, 8, 'a', flags, fill, width, prec);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data, s, l)",
          "new_text": null,
          "old_line_content": "        memcpy(data, s, l);",
          "new_line_content": "    byte *data = (byte*)vstr.buf;",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash((byte*)vstr->buf, vstr->len)",
          "new_text": null,
          "old_line_content": "    o->hash = qstr_compute_hash((byte*)vstr->buf, vstr->len);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": null,
          "old_text": "mp_obj_new_str_from_vstr(self_type, &vstr)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_from_vstr(self_type, &vstr);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                terse_str_format_value_error();",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "vstr_init_print",
          "new_api": null,
          "old_text": "vstr_init_print(&arg_vstr, 16, &arg_print)",
          "new_text": null,
          "old_line_content": "                vstr_init_print(&arg_vstr, 16, &arg_print);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\"unmatched '{' in format\")",
          "new_text": null,
          "old_line_content": "                mp_raise_ValueError(\"unmatched '{' in format\");",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_bytes)",
          "new_text": null,
          "old_line_content": "                if (print_kind == PRINT_STR && is_bytes && MP_OBJ_IS_TYPE(arg, &mp_type_bytes)) {",
          "new_line_content": "            case 'r':",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": "MP_OBJ_FROM_PTR",
          "new_api": null,
          "old_text": "MP_OBJ_FROM_PTR(o)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_FROM_PTR(o);",
          "new_line_content": "        o->data = (byte*)vstr->buf;",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[2])",
          "new_text": null,
          "old_line_content": "            splits = mp_obj_get_int(args[2]);",
          "new_line_content": "mp_obj_t mp_obj_str_split(size_t n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "qstr_from_strn",
          "new_api": null,
          "old_text": "qstr_from_strn(data, len)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_QSTR(qstr_from_strn(data, len));",
          "new_line_content": "    vstr->alloc = 0;",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "mp_obj_new_list",
          "new_api": null,
          "old_text": "mp_obj_new_list(0, NULL)",
          "new_text": null,
          "old_line_content": "    mp_obj_t res = mp_obj_new_list(0, NULL);",
          "new_line_content": "    if (n_args > 1) {",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "new_line_content": "        sep = args[1];",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "mp_print_strn",
          "new_api": null,
          "old_text": "mp_print_strn(&print, arg_vstr.buf, vlen, flags, ' ', width)",
          "new_text": null,
          "old_line_content": "                mp_print_strn(&print, arg_vstr.buf, vlen, flags, ' ', width);",
          "new_line_content": "                uint vlen = arg_vstr.len;",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "vstr_clear",
          "new_api": null,
          "old_text": "vstr_clear(&arg_vstr)",
          "new_text": null,
          "old_line_content": "                vstr_clear(&arg_vstr);",
          "new_line_content": "                if (prec < 0) {",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "unichar_isdigit",
          "new_api": null,
          "old_text": "unichar_isdigit(*field_name)",
          "new_text": null,
          "old_line_content": "            if (MP_LIKELY(unichar_isdigit(*field_name))) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "qstr_find_strn",
          "new_api": null,
          "old_text": "qstr_find_strn(data, len)",
          "new_text": null,
          "old_line_content": "        qstr q = qstr_find_strn(data, len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(q)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_QSTR(q);",
          "new_line_content": "    if (make_qstr_if_not_already) {",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                        terse_str_format_value_error();",
          "new_line_content": "        mp_obj_t arg = mp_const_none;",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "mp_raise_ValueError",
          "new_api": null,
          "old_text": "mp_raise_ValueError(\n                            \"can't switch from automatic field numbering to manual field specification\")",
          "new_text": null,
          "old_line_content": "                        mp_raise_ValueError(",
          "new_line_content": "        if (field_name) {",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "unichar_isspace",
          "new_api": null,
          "old_text": "unichar_isspace(*s)",
          "new_text": null,
          "old_line_content": "            while (s < top && !unichar_isspace(*s)) s++;",
          "new_line_content": "    if (sep == mp_const_none) {",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "new_text": null,
          "old_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "new_line_content": "        // sep not given, so separate on whitespace",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int(field_name, field_name_top, &index)",
          "new_text": null,
          "old_line_content": "                field_name = str_to_int(field_name, field_name_top, &index);",
          "new_line_content": "                    if (MICROPY_ERROR_REPORTING == MICROPY_ERROR_REPORTING_TERSE) {",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "terse_str_format_value_error",
          "new_api": null,
          "old_text": "terse_str_format_value_error()",
          "new_text": null,
          "old_line_content": "                    terse_str_format_value_error();",
          "new_line_content": "            case 'X':",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "mp_raise_msg",
          "new_api": null,
          "old_text": "mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "new_text": null,
          "old_line_content": "                    mp_raise_msg(&mp_type_IndexError, \"tuple index out of range\");",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "unichar_isspace",
          "new_api": null,
          "old_text": "unichar_isspace(*s)",
          "new_text": null,
          "old_line_content": "            while (s < top && unichar_isspace(*s)) s++;",
          "new_line_content": "        while (s < top && splits != 0) {",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(str, data, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(str, data, len);",
          "new_line_content": "            // no existing qstr, don't make one",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(&mp_type_bytes, data, len)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_of_type(&mp_type_bytes, data, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_QSTR(s2)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_QSTR(s1) && MP_OBJ_IS_QSTR(s2)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "mp_raise_TypeError",
          "new_api": null,
          "old_text": "mp_raise_TypeError(\"not all arguments converted during string formatting\")",
          "new_text": null,
          "old_line_content": "        mp_raise_TypeError(\"not all arguments converted during string formatting\");",
          "new_line_content": "                        \"unsupported format character '%c' (0x%x) at index %d\",",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "mp_map_lookup",
          "new_api": null,
          "old_text": "mp_map_lookup(kwargs, field_q, MP_MAP_LOOKUP)",
          "new_text": null,
          "old_line_content": "                mp_map_elem_t *key_elem = mp_map_lookup(kwargs, field_q, MP_MAP_LOOKUP);",
          "new_line_content": "                arg = args[index + 1];",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "mp_obj_new_exception_arg1",
          "new_api": null,
          "old_text": "mp_obj_new_exception_arg1(&mp_type_KeyError, field_q)",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_arg1(&mp_type_KeyError, field_q));",
          "new_line_content": "            } else {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 72,
      "total_additions": 301,
      "total_deletions": 301,
      "total_api_changes": 674
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 674,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          361,
          366,
          367
        ]
      }
    },
    "api_calls_before": 548,
    "api_calls_after": 548,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 0,
      "total_diff_lines": 19
    }
  }
}