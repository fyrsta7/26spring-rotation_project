{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/2eb1f604ee3a1b7284ae23581a9c0e2d1e9066a1",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/2eb1f604ee3a1b7284ae23581a9c0e2d1e9066a1/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/2eb1f604ee3a1b7284ae23581a9c0e2d1e9066a1/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/2eb1f604ee3a1b7284ae23581a9c0e2d1e9066a1/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 385,
          "old_api": "mp_obj_get_type",
          "new_api": "is_str_or_bytes",
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": "is_str_or_bytes(self_in)",
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "new_line_content": "    assert(is_str_or_bytes(self_in));",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "mp_obj_tuple_get",
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": "mp_obj_tuple_get(arg, &seq_len, &seq_items)",
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_tuple)",
          "old_line_content": "        mp_obj_tuple_get(arg, &seq_len, &seq_items);",
          "new_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_tuple)) {",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "mp_obj_get_type",
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError,\n                \"join expects a list of str/bytes objects consistent with self object\")",
          "new_text": "mp_obj_get_type(seq_items[i])",
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError,",
          "new_line_content": "        if (mp_obj_get_type(seq_items[i]) != self_type) {",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "memcpy",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "memcpy(data, s, l)",
          "new_text": "GET_STR_DATA_LEN(seq_items[i], s, l)",
          "old_line_content": "        memcpy(data, s, l);",
          "new_line_content": "        GET_STR_DATA_LEN(seq_items[i], s, l);",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "mp_obj_new_list",
          "old_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "new_text": "mp_obj_new_list(0, NULL)",
          "old_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "new_line_content": "    mp_obj_t res = mp_obj_new_list(0, NULL);",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": "is_ws",
          "old_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "new_text": "is_ws(*s)",
          "old_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "new_line_content": "            while (s < top && !is_ws(*s)) s++;",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "arg_type_mixup",
          "new_api": "mp_obj_get_type",
          "old_text": "arg_type_mixup()",
          "new_text": "mp_obj_get_type(sep)",
          "old_line_content": "            arg_type_mixup();",
          "new_line_content": "        if (mp_obj_get_type(sep) != self_type) {",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "mp_seq_clear",
          "new_api": "memcpy",
          "old_text": "mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items))",
          "new_text": "memcpy(res->items, &res->items[idx], used * sizeof(mp_obj_t))",
          "old_line_content": "            mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items));",
          "new_line_content": "            memcpy(res->items, &res->items[idx], used * sizeof(mp_obj_t));",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "assert",
          "new_api": "mp_obj_get_type",
          "old_text": "assert(2 <= n_args && n_args <= 4)",
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    assert(2 <= n_args && n_args <= 4);",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": "assert",
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": "assert(2 <= n_args && n_args <= 4)",
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "    assert(2 <= n_args && n_args <= 4);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "mp_obj_get_type",
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "assert",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "assert(n_args == 2)",
          "new_text": "GET_STR_DATA_LEN(args[1], suffix, suffix_len)",
          "old_line_content": "    assert(n_args == 2);",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], suffix, suffix_len);",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "is_str_or_bytes",
          "new_api": "assert",
          "old_text": "is_str_or_bytes(args[0])",
          "new_text": "assert(1 <= n_args && n_args <= 2)",
          "old_line_content": "    assert(is_str_or_bytes(args[0]));",
          "new_line_content": "    assert(1 <= n_args && n_args <= 2);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "mp_obj_get_type",
          "new_api": "is_str_or_bytes",
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": "is_str_or_bytes(args[0])",
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "    assert(is_str_or_bytes(args[0]));",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "arg_type_mixup",
          "new_api": "mp_obj_get_type",
          "old_text": "arg_type_mixup()",
          "new_text": "mp_obj_get_type(args[1])",
          "old_line_content": "            arg_type_mixup();",
          "new_line_content": "        if (mp_obj_get_type(args[1]) != self_type) {",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": "mp_obj_get_float",
          "old_text": "MP_OBJ_NEW_SMALL_INT(num)",
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(num);",
          "new_line_content": "        mp_int_t num = mp_obj_get_float(arg);",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "vstr_len",
          "old_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\")",
          "new_text": "vstr_len(field_name)",
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\"));",
          "new_line_content": "            if (str_to_int(vstr_str(field_name), &index) != vstr_len(field_name) - 1) {",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "mp_obj_print_helper",
          "new_api": "vstr_new",
          "old_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind)",
          "new_text": "vstr_new()",
          "old_line_content": "            mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind);",
          "new_line_content": "            vstr_t *arg_vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "vstr_len",
          "new_api": "mp_obj_print_helper",
          "old_text": "vstr_len(arg_vstr)",
          "new_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind)",
          "old_line_content": "            arg = mp_obj_new_str(vstr_str(arg_vstr), vstr_len(arg_vstr), false);",
          "new_line_content": "            mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "vstr_free",
          "new_api": "vstr_len",
          "old_text": "vstr_free(arg_vstr)",
          "new_text": "vstr_len(arg_vstr)",
          "old_line_content": "            vstr_free(arg_vstr);",
          "new_line_content": "            arg = mp_obj_new_str(vstr_str(arg_vstr), vstr_len(arg_vstr), false);",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "isalignment",
          "new_api": "vstr_str",
          "old_text": "isalignment(*s)",
          "new_text": "vstr_str(format_spec)",
          "old_line_content": "            if (isalignment(*s)) {",
          "new_line_content": "            const char *s = vstr_str(format_spec);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "pfenv_print_strn",
          "new_api": "mp_obj_get_int",
          "old_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width)",
          "new_text": "mp_obj_get_int(arg)",
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width);",
          "new_line_content": "                    char ch = mp_obj_get_int(arg);",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "mp_obj_get_type_str",
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg))",
          "old_line_content": "                        \"unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg)));",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "vstr_free",
          "new_api": "mp_obj_new_str",
          "old_text": "vstr_free(vstr)",
          "new_text": "mp_obj_new_str(vstr->buf, vstr->len, false)",
          "old_line_content": "    vstr_free(vstr);",
          "new_line_content": "    mp_obj_t s = mp_obj_new_str(vstr->buf, vstr->len, false);",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "mp_obj_dict_get",
          "new_api": "mp_obj_new_str",
          "old_text": "mp_obj_dict_get(dict, k_obj)",
          "new_text": "mp_obj_new_str((const char*)key, str - key, true)",
          "old_line_content": "            arg = mp_obj_dict_get(dict, k_obj);",
          "new_line_content": "            mp_obj_t k_obj = mp_obj_new_str((const char*)key, str - key, true);",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "mp_obj_get_int",
          "new_api": "arg_looks_integer",
          "old_text": "mp_obj_get_int(arg)",
          "new_text": "arg_looks_integer(arg)",
          "old_line_content": "                    char ch = mp_obj_get_int(arg);",
          "new_line_content": "                if (arg_looks_integer(arg)) {",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "pfenv_print_strn",
          "new_api": "mp_obj_get_int",
          "old_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width)",
          "new_text": "mp_obj_get_int(arg)",
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width);",
          "new_line_content": "                    char ch = mp_obj_get_int(arg);",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\")",
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\"));",
          "new_line_content": "                if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "mp_obj_print_helper",
          "new_api": "vstr_new",
          "old_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,\n                                    arg_vstr, arg, *str == 'r' ? PRINT_REPR : PRINT_STR)",
          "new_text": "vstr_new()",
          "old_line_content": "                mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,",
          "new_line_content": "                vstr_t *arg_vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "vstr_free",
          "new_api": "vstr_str",
          "old_text": "vstr_free(arg_vstr)",
          "new_text": "vstr_str(arg_vstr)",
          "old_line_content": "                vstr_free(arg_vstr);",
          "new_line_content": "                pfenv_print_strn(&pfenv_vstr, vstr_str(arg_vstr), len, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "vstr_free",
          "new_api": "mp_obj_new_str",
          "old_text": "vstr_free(vstr)",
          "new_text": "mp_obj_new_str(vstr->buf, vstr->len, false)",
          "old_line_content": "    vstr_free(vstr);",
          "new_line_content": "    mp_obj_t s = mp_obj_new_str(vstr->buf, vstr->len, false);",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "bad_implicit_conversion",
          "new_api": "MP_OBJ_IS_STR",
          "old_text": "bad_implicit_conversion(args[1])",
          "new_text": "MP_OBJ_IS_STR(args[1])",
          "old_line_content": "        bad_implicit_conversion(args[1]);",
          "new_line_content": "    if (!MP_OBJ_IS_STR(args[1])) {",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "bad_implicit_conversion",
          "new_api": "MP_OBJ_IS_STR",
          "old_text": "bad_implicit_conversion(args[2])",
          "new_text": "MP_OBJ_IS_STR(args[2])",
          "old_line_content": "        bad_implicit_conversion(args[2]);",
          "new_line_content": "    if (!MP_OBJ_IS_STR(args[2])) {",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "assert",
          "new_api": "mp_obj_get_type",
          "old_text": "assert(data != NULL)",
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "                assert(data != NULL);",
          "new_line_content": "                replaced_str = mp_obj_str_builder_start(mp_obj_get_type(args[0]), replaced_str_index, &data);",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "assert",
          "new_api": "mp_obj_get_type",
          "old_text": "assert(2 <= n_args && n_args <= 4)",
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    assert(2 <= n_args && n_args <= 4);",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": "assert",
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": "assert(2 <= n_args && n_args <= 4)",
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "    assert(2 <= n_args && n_args <= 4);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "assert",
          "new_api": "is_str_or_bytes",
          "old_text": "assert(0)",
          "new_text": "is_str_or_bytes(self_in)",
          "old_line_content": "        assert(0);",
          "new_line_content": "    if (!is_str_or_bytes(self_in)) {",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "arg_type_mixup",
          "new_api": "mp_obj_get_type",
          "old_text": "arg_type_mixup()",
          "new_text": "mp_obj_get_type(arg)",
          "old_line_content": "        arg_type_mixup();",
          "new_line_content": "    if (self_type != mp_obj_get_type(arg)) {",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rindex_obj, 2, 4, str_rindex)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rindex_obj, 2, 4, str_rindex);",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_split_obj, 1, 3, str_split)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_split_obj, 1, 3, str_split);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_join_obj, str_join);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR(str_format_obj, 1, mp_obj_str_format)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rstrip_obj, 1, 2, str_rstrip)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR(str_format_obj, 1, mp_obj_str_format);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_rstrip_obj, 1, 2, str_rstrip);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_replace_obj, 3, 4, str_replace)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR(str_format_obj, 1, mp_obj_str_format)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_replace_obj, 3, 4, str_replace);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR(str_format_obj, 1, mp_obj_str_format);",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_partition_obj, str_partition)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_count_obj, 2, 4, str_count)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_partition_obj, str_partition);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_count_obj, 2, 4, str_count);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_2",
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_lower_obj, str_lower)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition)",
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_lower_obj, str_lower);",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition);",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "m_new",
          "new_api": "qstr_compute_hash",
          "old_text": "m_new(byte, len + 1)",
          "new_text": "qstr_compute_hash(data, len)",
          "old_line_content": "        byte *p = m_new(byte, len + 1);",
          "new_line_content": "        o->hash = qstr_compute_hash(data, len);",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "qstr_from_strn",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "qstr_from_strn((const char*)data, len)",
          "new_text": "GET_STR_DATA_LEN(str, data, len)",
          "old_line_content": "    return MP_OBJ_NEW_QSTR(qstr_from_strn((const char*)data, len));",
          "new_line_content": "    GET_STR_DATA_LEN(str, data, len);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "GET_STR_HASH",
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": "GET_STR_HASH(self_in, h)",
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "old_line_content": "        GET_STR_HASH(self_in, h);",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "GET_STR_LEN",
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": "GET_STR_LEN(self_in, l)",
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "old_line_content": "        GET_STR_LEN(self_in, l);",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "MP_OBJ_QSTR_VALUE",
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "new_text": "MP_OBJ_IS_QSTR(self_in)",
          "old_line_content": "        return MP_OBJ_QSTR_VALUE(self_in);",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": "MP_OBJ_QSTR_VALUE",
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_str)",
          "new_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "old_line_content": "    } else if (MP_OBJ_IS_TYPE(self_in, &mp_type_str)) {",
          "new_line_content": "        return MP_OBJ_QSTR_VALUE(self_in);",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "MP_OBJ_IS_STR",
          "old_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "new_text": "MP_OBJ_IS_STR(self_in)",
          "old_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in)) {",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "is_str_or_bytes",
          "old_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "new_text": "is_str_or_bytes(self_in)",
          "old_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "new_line_content": "    if (is_str_or_bytes(self_in)) {",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1537,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, type - ('X' - 'A'), flags, fill, width, 0)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, type - ('X' - 'A'), flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": null,
          "new_api": "str_split",
          "old_text": null,
          "new_text": "str_split(n_args, args)",
          "old_line_content": "    }",
          "new_line_content": "        return str_split(n_args, args);",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    mp_obj_t sep = args[1];",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "f",
          "old_text": null,
          "new_text": "f(*self_data++)",
          "old_line_content": "                return mp_const_false;",
          "new_line_content": "            if (!f(*self_data++)) {",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[2])",
          "old_line_content": "    mp_int_t org_splits = splits;",
          "new_line_content": "    mp_int_t splits = mp_obj_get_int(args[2]);",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "mp_obj_new_list",
          "old_text": null,
          "new_text": "mp_obj_new_list(splits + 1, NULL)",
          "old_line_content": "    int idx = splits;",
          "new_line_content": "    mp_obj_list_t *res = mp_obj_new_list(splits + 1, NULL);",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": null,
          "new_api": "unichar_isalpha",
          "old_text": null,
          "new_text": "unichar_isalpha(*self_data++)",
          "old_line_content": "                contains_alpha = true;",
          "new_line_content": "            if (unichar_isalpha(*self_data++)) {",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "            }",
          "new_line_content": "                        \"unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(!\"TODO: rsplit(None,n) not implemented\")",
          "old_line_content": "    } else {",
          "new_line_content": "        assert(!\"TODO: rsplit(None,n) not implemented\");",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "f",
          "old_text": null,
          "new_text": "f(*(self_data - 1))",
          "old_line_content": "                    return mp_const_false;",
          "new_line_content": "                if (!f(*(self_data - 1))) { // -1 because we already incremented above",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(sep, &sep_len)",
          "old_line_content": "",
          "new_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "arg_looks_numeric",
          "old_text": null,
          "new_text": "arg_looks_numeric(arg)",
          "old_line_content": "            if (!type) {",
          "new_line_content": "        if (arg_looks_numeric(arg)) {",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "old_line_content": "        }",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "str_caseconv",
          "old_text": null,
          "new_text": "str_caseconv(unichar_toupper, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_caseconv(unichar_toupper, self_in);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isspace, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_istype(unichar_isspace, self_in);",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s, sep_str, sep_len)",
          "old_line_content": "                    break;",
          "new_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isalpha, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_istype(unichar_isalpha, self_in);",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, beg, last - beg)",
          "old_line_content": "                break;",
          "new_line_content": "                res->items[idx] = mp_obj_new_str_of_type(self_type, beg, last - beg);",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isdigit, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_istype(unichar_isdigit, self_in);",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len)",
          "old_line_content": "            last = s;",
          "new_line_content": "            res->items[idx--] = mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len);",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_isupper, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_istype(unichar_isupper, self_in);",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "str_uni_istype",
          "old_text": null,
          "new_text": "str_uni_istype(unichar_islower, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_istype(unichar_islower, self_in);",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": null,
          "new_api": "mp_seq_clear",
          "old_text": null,
          "new_text": "mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items))",
          "old_line_content": "            res->len = used;",
          "new_line_content": "            mp_seq_clear(res->items, used, res->alloc, sizeof(*res->items));",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "old_line_content": "        args = new_args;",
          "new_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": null,
          "new_api": "str_make_new",
          "old_text": null,
          "new_text": "str_make_new(NULL, n_args, 0, args)",
          "old_line_content": "}",
          "new_line_content": "    return str_make_new(NULL, n_args, 0, args);",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[1])",
          "old_line_content": "",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[1]));",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                    break;",
          "new_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), type, flags, fill, width, precision);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "old_line_content": "        args = new_args;",
          "new_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "old_line_content": "    }",
          "new_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                    break;",
          "new_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg) * 100.0F, 'f', flags, fill, width, precision);",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "old_line_content": "    }",
          "new_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "bytes_make_new",
          "old_text": null,
          "new_text": "bytes_make_new(NULL, n_args, 0, args)",
          "old_line_content": "}",
          "new_line_content": "    return bytes_make_new(NULL, n_args, 0, args);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unknown format code '%c' for object of type 'float'\",\n                        type, mp_obj_get_type_str(arg))",
          "old_line_content": "                        \"unknown format code '%c' for object of type 'float'\",",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(start, end - start, needle, needle_len, direction)",
          "old_line_content": "    if (p == NULL) {",
          "new_line_content": "    const byte *p = find_subbytes(start, end - start, needle, needle_len, direction);",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "            }",
          "new_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, str_data, str_len)",
          "old_line_content": "        bufinfo->buf = (void*)str_data;",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, str_data, str_len);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"substring not found\")",
          "old_line_content": "        } else {",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"substring not found\"));",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(-1)",
          "old_line_content": "        }",
          "new_line_content": "            return MP_OBJ_NEW_SMALL_INT(-1);",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\"));",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "utf8_ptr_to_index",
          "old_text": null,
          "new_text": "utf8_ptr_to_index(haystack, p)",
          "old_line_content": "        }",
          "new_line_content": "            return MP_OBJ_NEW_SMALL_INT(utf8_ptr_to_index(haystack, p));",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR)",
          "old_line_content": "                    break;",
          "new_line_content": "                    mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(p - haystack)",
          "old_line_content": "    }",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(p - haystack);",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(arg, &len)",
          "old_line_content": "                    if (precision < 0) {",
          "new_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_encode_obj, 1, 3, str_encode)",
          "old_line_content": "#endif",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_encode_obj, 1, 3, str_encode);",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, 1, false)",
          "old_line_content": "}",
          "new_line_content": "    return str_finder(n_args, args, 1, false);",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, -1, false)",
          "old_line_content": "}",
          "new_line_content": "    return str_finder(n_args, args, -1, false);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "pfenv_print_strn",
          "old_text": null,
          "new_text": "pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width)",
          "old_line_content": "                    break;",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width);",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, 1, true)",
          "old_line_content": "}",
          "new_line_content": "    return str_finder(n_args, args, 1, true);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unknown format code '%c' for object of type 'str'\",\n                        type, mp_obj_get_type_str(arg))",
          "old_line_content": "                        \"unknown format code '%c' for object of type 'str'\",",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "str_finder",
          "old_text": null,
          "new_text": "str_finder(n_args, args, -1, true)",
          "old_line_content": "}",
          "new_line_content": "    return str_finder(n_args, args, -1, true);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "            }",
          "new_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(vstr)",
          "old_line_content": "    return s;",
          "new_line_content": "    vstr_free(vstr);",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], prefix, prefix_len)",
          "old_line_content": "    const byte *start = str;",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], prefix, prefix_len);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, str, str_len, args[2], true)",
          "old_line_content": "    }",
          "new_line_content": "        start = str_index_to_ptr(self_type, str, str_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(pattern)",
          "old_line_content": "",
          "new_line_content": "    assert(MP_OBJ_IS_STR(pattern));",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": null,
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(str_islower_obj, str_islower)",
          "old_line_content": "",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(str_islower_obj, str_islower);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(pattern, str, len)",
          "old_line_content": "    const byte *start_str = str;",
          "new_line_content": "    GET_STR_DATA_LEN(pattern, str, len);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(start, prefix, prefix_len)",
          "old_line_content": "}",
          "new_line_content": "    return MP_BOOL(memcmp(start, prefix, prefix_len) == 0);",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "    pfenv_t pfenv_vstr;",
          "new_line_content": "    vstr_t *vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_decode)",
          "old_line_content": "    #if !MICROPY_PY_BUILTINS_STR_UNICODE",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_decode), (mp_obj_t)&bytes_decode_obj },",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(n_args == 2)",
          "old_line_content": "",
          "new_line_content": "    assert(n_args == 2);",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_encode)",
          "old_line_content": "    #endif",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_encode), (mp_obj_t)&str_encode_obj },",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, *str)",
          "old_line_content": "            continue;",
          "new_line_content": "            vstr_add_char(vstr, *str);",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(str + (str_len - suffix_len), suffix, suffix_len)",
          "old_line_content": "}",
          "new_line_content": "    return MP_BOOL(memcmp(str + (str_len - suffix_len), suffix, suffix_len) == 0);",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, '%')",
          "old_line_content": "            continue;",
          "new_line_content": "            vstr_add_char(vstr, '%');",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format key\")",
          "old_line_content": "                }",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format key\"));",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "arg_type_mixup",
          "old_text": null,
          "new_text": "arg_type_mixup()",
          "old_line_content": "        }",
          "new_line_content": "            arg_type_mixup();",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "mp_obj_dict_get",
          "old_text": null,
          "new_text": "mp_obj_dict_get(dict, k_obj)",
          "old_line_content": "            str++;",
          "new_line_content": "            arg = mp_obj_dict_get(dict, k_obj);",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], s, l)",
          "old_line_content": "        chars_to_del = s;",
          "new_line_content": "        GET_STR_DATA_LEN(args[1], s, l);",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_islower)",
          "old_line_content": "};",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_islower), (mp_obj_t)&str_islower_obj },",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], orig_str, orig_str_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], orig_str, orig_str_len);",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1)",
          "old_line_content": "            if (!first_good_char_pos_set) {",
          "new_line_content": "        if (find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1) == NULL) {",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[arg_i++])",
          "old_line_content": "                str++;",
          "new_line_content": "                width = mp_obj_get_int(args[arg_i++]);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "    }",
          "new_line_content": "        return MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[arg_i++])",
          "old_line_content": "                    str++;",
          "new_line_content": "                    prec = mp_obj_get_int(args[arg_i++]);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_t)",
          "old_line_content": "    o->base.type = type;",
          "new_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(last_good_char_pos >= first_good_char_pos)",
          "old_line_content": "    //+1 to accomodate the last character",
          "new_line_content": "    assert(last_good_char_pos >= first_good_char_pos);",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": null,
          "new_api": "m_new",
          "old_text": null,
          "new_text": "m_new(byte, len + 1)",
          "old_line_content": "    o->data = p;",
          "new_line_content": "    byte *p = m_new(byte, len + 1);",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(first_good_char_pos == 0)",
          "old_line_content": "        return args[0];",
          "new_line_content": "        assert(first_good_char_pos == 0);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len)",
          "old_line_content": "}",
          "new_line_content": "    return mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len);",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\")",
          "old_line_content": "        }",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\"));",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "qstr_compute_hash",
          "old_text": null,
          "new_text": "qstr_compute_hash(o->data, o->len)",
          "old_line_content": "    byte *p = (byte*)o->data;",
          "new_line_content": "    o->hash = qstr_compute_hash(o->data, o->len);",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(STRIP, n_args, args)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_strip(STRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(LSTRIP, n_args, args)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_strip(LSTRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\"));",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "m_renew",
          "old_text": null,
          "new_text": "m_renew(byte, (byte*)o->data, o->len + 1, len + 1)",
          "old_line_content": "    o->len = len;",
          "new_line_content": "    o->data = m_renew(byte, (byte*)o->data, o->len + 1, len + 1);",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(RSTRIP, n_args, args)",
          "old_line_content": "}",
          "new_line_content": "    return str_uni_strip(RSTRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": null,
          "new_api": "qstr_compute_hash",
          "old_text": null,
          "new_text": "qstr_compute_hash(o->data, o->len)",
          "old_line_content": "    byte *p = (byte*)o->data;",
          "new_line_content": "    o->hash = qstr_compute_hash(o->data, o->len);",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(arg)",
          "old_line_content": "                    uint len;",
          "new_line_content": "                if (MP_OBJ_IS_STR(arg)) {",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(arg, &len)",
          "old_line_content": "                    if (len != 1) {",
          "new_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"%%c requires int or char\")",
          "old_line_content": "                        break;",
          "new_line_content": "                        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"%%c requires int or char\"));",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "unichar_isdigit",
          "old_text": null,
          "new_text": "unichar_isdigit(*s)",
          "old_line_content": "        *num = 0;",
          "new_line_content": "    if (unichar_isdigit(*s)) {",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_t)",
          "old_line_content": "    o->base.type = type;",
          "new_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "pfenv_print_strn",
          "old_text": null,
          "new_text": "pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width)",
          "old_line_content": "                    break;",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "m_new",
          "old_text": null,
          "new_text": "m_new(byte, len + 1)",
          "old_line_content": "        o->data = p;",
          "new_line_content": "        byte *p = m_new(byte, len + 1);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "unichar_isdigit",
          "old_text": null,
          "new_text": "unichar_isdigit(*s)",
          "old_line_content": "    }",
          "new_line_content": "        while (unichar_isdigit(*s));",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "pfenv_print_strn",
          "old_text": null,
          "new_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width)",
          "old_line_content": "                    break;",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(p, data, len * sizeof(byte))",
          "old_line_content": "        p[len] = '\\0'; // for now we add null for compatibility with C ASCIIZ strings",
          "new_line_content": "        memcpy(p, data, len * sizeof(byte));",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(\"<>=^\", ch)",
          "old_line_content": "}",
          "new_line_content": "    return ch && strchr(\"<>=^\", ch) != NULL;",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\")",
          "old_line_content": "",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\"));",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(\"bcdeEfFgGnosxX%\", ch)",
          "old_line_content": "}",
          "new_line_content": "    return ch && strchr(\"bcdeEfFgGnosxX%\", ch) != NULL;",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\")",
          "old_line_content": "                break;",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\"));",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn(data, len)",
          "old_line_content": "    } else {",
          "new_line_content": "        return MP_OBJ_NEW_QSTR(qstr_from_strn(data, len));",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": null,
          "new_api": "qstr_find_strn",
          "old_text": null,
          "new_text": "qstr_find_strn(data, len)",
          "old_line_content": "        if (q != MP_QSTR_NULL) {",
          "new_line_content": "        qstr q = qstr_find_strn(data, len);",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": null,
          "new_api": "MP_OBJ_IS_INT",
          "old_text": null,
          "new_text": "MP_OBJ_IS_INT(arg)",
          "old_line_content": "}",
          "new_line_content": "    return MP_OBJ_IS_TYPE(arg, &mp_type_bool) || MP_OBJ_IS_INT(arg);",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(q)",
          "old_line_content": "        } else {",
          "new_line_content": "            return MP_OBJ_NEW_QSTR(q);",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "arg_as_int",
          "old_text": null,
          "new_text": "arg_as_int(arg)",
          "old_line_content": "                break;",
          "new_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 10, 'a', flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len)",
          "old_line_content": "        }",
          "new_line_content": "            return mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "old_line_content": "#endif",
          "new_line_content": "        || MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn((const char*)data, len)",
          "old_line_content": "}",
          "new_line_content": "    return MP_OBJ_NEW_QSTR(qstr_from_strn((const char*)data, len));",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "old_line_content": "",
          "new_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                break;",
          "new_line_content": "                pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), *str, flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(&mp_type_bytes, data, len)",
          "old_line_content": "}",
          "new_line_content": "    return mp_obj_new_str_of_type(&mp_type_bytes, data, len);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(num)",
          "old_line_content": "    }",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(num);",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": null,
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_QSTR(s2)",
          "old_line_content": "        return s1 == s2;",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(s1) && MP_OBJ_IS_QSTR(s2)) {",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, prec)",
          "old_line_content": "                break;",
          "new_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "GET_STR_HASH",
          "old_text": null,
          "new_text": "GET_STR_HASH(s2, h2)",
          "old_line_content": "        // If any of hashes is 0, it means it's not valid",
          "new_line_content": "        GET_STR_HASH(s2, h2);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[0])",
          "old_line_content": "",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], str, len)",
          "old_line_content": "    int arg_i = 0;",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, len);",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,\n                                    arg_vstr, arg, *str == 'r' ? PRINT_REPR : PRINT_STR)",
          "old_line_content": "                                    arg_vstr, arg, *str == 'r' ? PRINT_REPR : PRINT_STR);",
          "new_line_content": "                mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "    pfenv_t pfenv_vstr;",
          "new_line_content": "    vstr_t *vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": null,
          "new_api": "vstr_len",
          "old_text": null,
          "new_text": "vstr_len(arg_vstr)",
          "old_line_content": "                if (prec < 0) {",
          "new_line_content": "                uint len = vstr_len(arg_vstr);",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(s2, d2, l2)",
          "old_line_content": "        if (l1 != l2) {",
          "new_line_content": "        GET_STR_DATA_LEN(s2, d2, l2);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(d1, d2, l1)",
          "old_line_content": "    }",
          "new_line_content": "        return memcmp(d1, d2, l1) == 0;",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, '}')",
          "old_line_content": "                continue;",
          "new_line_content": "                vstr_add_char(vstr, '}');",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(arg_vstr)",
          "old_line_content": "                break;",
          "new_line_content": "                vstr_free(arg_vstr);",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(self_in)",
          "old_line_content": "}",
          "new_line_content": "    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_TypeError, \"Can't convert '%s' object to str implicitly\", mp_obj_get_type_str(self_in)));",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"single '}' encountered in format string\")",
          "old_line_content": "        }",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"single '}' encountered in format string\"));",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"Can't mix str and bytes arguments\")",
          "old_line_content": "}",
          "new_line_content": "    nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"Can't mix str and bytes arguments\"));",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, *str)",
          "old_line_content": "            continue;",
          "new_line_content": "            vstr_add_char(vstr, *str);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec)",
          "old_line_content": "                break;",
          "new_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                    \"unsupported format character '%c' (0x%x) at index %d\",\n                    *str, *str, str - start_str)",
          "old_line_content": "                    \"unsupported format character '%c' (0x%x) at index %d\",",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "GET_STR_HASH",
          "old_text": null,
          "new_text": "GET_STR_HASH(self_in, h)",
          "old_line_content": "        return h;",
          "new_line_content": "        GET_STR_HASH(self_in, h);",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, '{')",
          "old_line_content": "            continue;",
          "new_line_content": "            vstr_add_char(vstr, '{');",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\")",
          "old_line_content": "    }",
          "new_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\"));",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "GET_STR_LEN",
          "old_text": null,
          "new_text": "GET_STR_LEN(self_in, l)",
          "old_line_content": "        return l;",
          "new_line_content": "        GET_STR_LEN(self_in, l);",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(vstr)",
          "old_line_content": "    return s;",
          "new_line_content": "    vstr_free(vstr);",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "            while (str < top && *str != '}' && *str != '!' && *str != ':') {",
          "new_line_content": "            field_name = vstr_new();",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(field_name, *str++)",
          "old_line_content": "            }",
          "new_line_content": "                vstr_add_char(field_name, *str++);",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[0])",
          "old_line_content": "",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(field_name, '\\0')",
          "old_line_content": "        }",
          "new_line_content": "            vstr_add_char(field_name, '\\0');",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[3])",
          "old_line_content": "        if (max_rep == 0) {",
          "new_line_content": "        max_rep = mp_obj_get_int(args[3]);",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_str)",
          "old_line_content": "        mp_obj_str_t *self = self_in;",
          "new_line_content": "    } else if (MP_OBJ_IS_TYPE(self_in, &mp_type_str)) {",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn((char*)self->data, self->len)",
          "old_line_content": "    } else {",
          "new_line_content": "        return qstr_from_strn((char*)self->data, self->len);",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\"));",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[1])",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(args[1]);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "old_line_content": "        (void)l; // len unused",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[2])",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(args[2]);",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "                while (str < top && *str != '}') {",
          "new_line_content": "                format_spec = vstr_new();",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(format_spec, *str++)",
          "old_line_content": "                }",
          "new_line_content": "                    vstr_add_char(format_spec, *str++);",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(format_spec, '\\0')",
          "old_line_content": "            }",
          "new_line_content": "                vstr_add_char(format_spec, '\\0');",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], old, old_len)",
          "old_line_content": "    GET_STR_DATA_LEN(args[2], new, new_len);",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], old, old_len);",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "old_line_content": "        *len = l;",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\")",
          "old_line_content": "        }",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\"));",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    }",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"expected ':' after format specifier\")",
          "old_line_content": "        }",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"expected ':' after format specifier\"));",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from automatic field numbering to manual field specification\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from automatic field numbering to manual field specification\"));",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\"));",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "old_line_content": "    if (self->cur < len) {",
          "new_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((const char*)str + self->cur, 1, true)",
          "old_line_content": "        self->cur += 1;",
          "new_line_content": "        mp_obj_t o_out = mp_obj_new_str((const char*)str + self->cur, 1, true);",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(field_name)",
          "old_line_content": "            field_name = NULL;",
          "new_line_content": "            vstr_free(field_name);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from manual field specification to automatic field numbering\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from manual field specification to automatic field numbering\"));",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)",
          "old_line_content": "            if (old_len == 0) {",
          "new_line_content": "        while (num_replacements_done != max_rep && str_len_remain > 0 && (old_occurrence = find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)) != NULL) {",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr)",
          "old_line_content": "            }",
          "new_line_content": "                memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(self_data[index_val])",
          "old_line_content": "        } else {",
          "new_line_content": "            return MP_OBJ_NEW_SMALL_INT(self_data[index_val]);",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((char*)&self_data[index_val], 1, true)",
          "old_line_content": "        }",
          "new_line_content": "            return mp_obj_new_str((char*)&self_data[index_val], 1, true);",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_it_t)",
          "old_line_content": "    o->base.type = &mp_type_str_it;",
          "new_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, new, new_len)",
          "old_line_content": "            }",
          "new_line_content": "                memcpy(data + replaced_str_index, new, new_len);",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"unknown conversion specifier %c\", conversion)",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"unknown conversion specifier %c\", conversion));",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(self_in)",
          "old_line_content": "",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "old_line_content": "    if (self->cur < len) {",
          "new_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, sep_str, sep_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, sep_str, sep_len);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(arg_vstr)",
          "old_line_content": "        }",
          "new_line_content": "            vstr_free(arg_vstr);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, offset_ptr, str_len_remain)",
          "old_line_content": "        }",
          "new_line_content": "            memcpy(data + replaced_str_index, offset_ptr, str_len_remain);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(str[self->cur])",
          "old_line_content": "        self->cur += 1;",
          "new_line_content": "        mp_obj_t o_out = MP_OBJ_NEW_SMALL_INT(str[self->cur]);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "mp_obj_tuple_get",
          "old_text": null,
          "new_text": "mp_obj_tuple_get(arg, &seq_len, &seq_items)",
          "old_line_content": "    } else {",
          "new_line_content": "        mp_obj_tuple_get(arg, &seq_len, &seq_items);",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_list)",
          "old_line_content": "            // arg is not a list, try to convert it to one",
          "new_line_content": "        if (!MP_OBJ_IS_TYPE(arg, &mp_type_list)) {",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "make_new",
          "old_text": null,
          "new_text": "mp_type_list.make_new((mp_obj_t)&mp_type_list, 1, 0, &arg)",
          "old_line_content": "        }",
          "new_line_content": "            arg = mp_type_list.make_new((mp_obj_t)&mp_type_list, 1, 0, &arg);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(data != NULL)",
          "old_line_content": "            }",
          "new_line_content": "                assert(data != NULL);",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "mp_obj_list_get",
          "old_text": null,
          "new_text": "mp_obj_list_get(arg, &seq_len, &seq_items)",
          "old_line_content": "    }",
          "new_line_content": "        mp_obj_list_get(arg, &seq_len, &seq_items);",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_it_t)",
          "old_line_content": "    o->base.type = &mp_type_bytes_it;",
          "new_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError,\n                \"join expects a list of str/bytes objects consistent with self object\")",
          "old_line_content": "                \"join expects a list of str/bytes objects consistent with self object\"));",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError,",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "mp_obj_str_builder_end",
          "old_text": null,
          "new_text": "mp_obj_str_builder_end(replaced_str)",
          "old_line_content": "}",
          "new_line_content": "    return mp_obj_str_builder_end(replaced_str);",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "isalignment",
          "old_text": null,
          "new_text": "isalignment(*s)",
          "old_line_content": "                align = *s++;",
          "new_line_content": "            if (isalignment(*s)) {",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "GET_STR_LEN",
          "old_text": null,
          "new_text": "GET_STR_LEN(seq_items[i], l)",
          "old_line_content": "        required_len += l;",
          "new_line_content": "        GET_STR_LEN(seq_items[i], l);",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "isalignment",
          "old_text": null,
          "new_text": "isalignment(s[1])",
          "old_line_content": "                fill = *s++;",
          "new_line_content": "            } else if (*s && isalignment(s[1])) {",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[1])",
          "old_line_content": "",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[1]));",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": null,
          "new_api": "mp_obj_str_builder_start",
          "old_text": null,
          "new_text": "mp_obj_str_builder_start(self_type, required_len, &data)",
          "old_line_content": "    for (int i = 0; i < seq_len; i++) {",
          "new_line_content": "    mp_obj_t joined_str = mp_obj_str_builder_start(self_type, required_len, &data);",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data, sep_str, sep_len)",
          "old_line_content": "            data += sep_len;",
          "new_line_content": "            memcpy(data, sep_str, sep_len);",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "old_line_content": "    }",
          "new_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "str_index_to_ptr",
          "old_text": null,
          "new_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "old_line_content": "    }",
          "new_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data, s, l)",
          "old_line_content": "        data += l;",
          "new_line_content": "        memcpy(data, s, l);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "unichar_charlen",
          "old_text": null,
          "new_text": "unichar_charlen((const char*)start, end - start)",
          "old_line_content": "    }",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(unichar_charlen((const char*)start, end - start) + 1);",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "mp_obj_str_builder_end",
          "old_text": null,
          "new_text": "mp_obj_str_builder_end(joined_str)",
          "old_line_content": "}",
          "new_line_content": "    return mp_obj_str_builder_end(joined_str);",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(haystack_ptr, needle, needle_len)",
          "old_line_content": "            num_occurrences++;",
          "new_line_content": "        if (memcmp(haystack_ptr, needle, needle_len) == 0) {",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    mp_int_t splits = -1;",
          "new_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "str_to_int",
          "old_text": null,
          "new_text": "str_to_int(s, &width)",
          "old_line_content": "            if (*s == ',') {",
          "new_line_content": "            s += str_to_int(s, &width);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "utf8_next_char",
          "old_text": null,
          "new_text": "utf8_next_char(haystack_ptr)",
          "old_line_content": "        }",
          "new_line_content": "            haystack_ptr = utf8_next_char(haystack_ptr);",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[2])",
          "old_line_content": "        }",
          "new_line_content": "            splits = mp_obj_get_int(args[2]);",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "str_to_int",
          "old_text": null,
          "new_text": "str_to_int(s, &precision)",
          "old_line_content": "            }",
          "new_line_content": "                s += str_to_int(s, &precision);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(num_occurrences)",
          "old_line_content": "}",
          "new_line_content": "    return MP_OBJ_NEW_SMALL_INT(num_occurrences);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "istype",
          "old_text": null,
          "new_text": "istype(*s)",
          "old_line_content": "                type = *s++;",
          "new_line_content": "            if (istype(*s)) {",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "old_line_content": "    const byte *top = s + len;",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(0)",
          "old_line_content": "    }",
          "new_line_content": "        assert(0);",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\"));",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(format_spec)",
          "old_line_content": "            format_spec = NULL;",
          "new_line_content": "            vstr_free(format_spec);",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "arg_type_mixup",
          "old_text": null,
          "new_text": "arg_type_mixup()",
          "old_line_content": "    }",
          "new_line_content": "        arg_type_mixup();",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "is_ws",
          "old_text": null,
          "new_text": "is_ws(*s)",
          "old_line_content": "        while (s < top && splits != 0) {",
          "new_line_content": "        while (s < top && is_ws(*s)) s++;",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": null,
          "new_api": "arg_looks_numeric",
          "old_text": null,
          "new_text": "arg_looks_numeric(arg)",
          "old_line_content": "                align = '>';",
          "new_line_content": "            if (arg_looks_numeric(arg)) {",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(arg, sep, sep_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(arg, sep, sep_len);",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "old_line_content": "            if (s >= top) {",
          "new_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "old_line_content": "    }",
          "new_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "is_ws",
          "old_text": null,
          "new_text": "is_ws(*s)",
          "old_line_content": "            if (splits > 0) {",
          "new_line_content": "            while (s < top && is_ws(*s)) s++;",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_t result[] = {MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_)};",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\"));",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, s, top - s)",
          "old_line_content": "        }",
          "new_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, s, top - s));",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\")",
          "old_line_content": "            }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\"));",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(str, str_len, sep, sep_len, direction)",
          "old_line_content": "    if (position_ptr != NULL) {",
          "new_line_content": "    const byte *position_ptr = find_subbytes(str, str_len, sep, sep_len, direction);",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, str, position)",
          "old_line_content": "        result[1] = arg;",
          "new_line_content": "        result[0] = mp_obj_new_str_of_type(self_type, str, position);",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "arg_type_mixup",
          "old_text": null,
          "new_text": "arg_type_mixup()",
          "old_line_content": "        }",
          "new_line_content": "            arg_type_mixup();",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len)",
          "old_line_content": "    }",
          "new_line_content": "        result[2] = mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len);",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "mp_obj_new_tuple",
          "old_text": null,
          "new_text": "mp_obj_new_tuple(3, result)",
          "old_line_content": "}",
          "new_line_content": "    return mp_obj_new_tuple(3, result);",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(sep, &sep_len)",
          "old_line_content": "",
          "new_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "old_line_content": "        }",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "arg_looks_integer",
          "old_text": null,
          "new_text": "arg_looks_integer(arg)",
          "old_line_content": "            switch (type) {",
          "new_line_content": "        if (arg_looks_integer(arg)) {",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "str_partitioner",
          "old_text": null,
          "new_text": "str_partitioner(self_in, arg, 1)",
          "old_line_content": "}",
          "new_line_content": "    return str_partitioner(self_in, arg, 1);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width, 0)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": null,
          "new_api": "str_partitioner",
          "old_text": null,
          "new_text": "str_partitioner(self_in, arg, -1)",
          "old_line_content": "}",
          "new_line_content": "    return str_partitioner(self_in, arg, -1);",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s, sep_str, sep_len)",
          "old_line_content": "                    break;",
          "new_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "pfenv_print_strn",
          "old_text": null,
          "new_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width);",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "old_line_content": "    byte *data;",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(self_in)",
          "old_line_content": "    for (int i = 0; i < self_len; i++) {",
          "new_line_content": "    mp_obj_t s = mp_obj_str_builder_start(mp_obj_get_type(self_in), self_len, &data);",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": null,
          "new_api": "op",
          "old_text": null,
          "new_text": "op(*self_data++)",
          "old_line_content": "    }",
          "new_line_content": "        *data++ = op(*self_data++);",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": null,
          "new_api": "mp_obj_new_str_of_type",
          "old_text": null,
          "new_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "old_line_content": "            if (s >= top) {",
          "new_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width, 0)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width, 0);",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "mp_obj_str_builder_end",
          "old_text": null,
          "new_text": "mp_obj_str_builder_end(s)",
          "old_line_content": "}",
          "new_line_content": "    return mp_obj_str_builder_end(s);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "str_caseconv",
          "old_text": null,
          "new_text": "str_caseconv(unichar_tolower, self_in)",
          "old_line_content": "}",
          "new_line_content": "    return str_caseconv(unichar_tolower, self_in);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, 0)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, 0);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1536,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "new_line_content": "STATIC mp_obj_t str_uni_istype(bool (*f)(unichar), mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, type - ('X' - 'A'), flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, type - ('X' - 'A'), flags, fill, width, 0);",
          "new_line_content": "                case 'x':",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "str_split",
          "new_api": null,
          "old_text": "str_split(n_args, args)",
          "new_text": null,
          "old_line_content": "        return str_split(n_args, args);",
          "new_line_content": "        // we split.",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], s, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], s, len);",
          "new_line_content": "    mp_obj_t sep = args[1];",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "f",
          "new_api": null,
          "old_text": "f(*self_data++)",
          "new_text": null,
          "old_line_content": "            if (!f(*self_data++)) {",
          "new_line_content": "        for (int i = 0; i < self_len; i++) {",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[2])",
          "new_text": null,
          "old_line_content": "    mp_int_t splits = mp_obj_get_int(args[2]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "mp_obj_new_list",
          "new_api": null,
          "old_text": "mp_obj_new_list(splits + 1, NULL)",
          "new_text": null,
          "old_line_content": "    mp_obj_list_t *res = mp_obj_new_list(splits + 1, NULL);",
          "new_line_content": "    // will fill it from the end.",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                default:",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "unichar_isalpha",
          "new_api": null,
          "old_text": "unichar_isalpha(*self_data++)",
          "new_text": null,
          "old_line_content": "            if (unichar_isalpha(*self_data++)) {",
          "new_line_content": "        for (int i = 0; i < self_len; i++) { // only check alphanumeric characters",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!\"TODO: rsplit(None,n) not implemented\")",
          "new_text": null,
          "old_line_content": "        assert(!\"TODO: rsplit(None,n) not implemented\");",
          "new_line_content": "    if (sep == mp_const_none) {",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "f",
          "new_api": null,
          "old_text": "f(*(self_data - 1))",
          "new_text": null,
          "old_line_content": "                if (!f(*(self_data - 1))) { // -1 because we already incremented above",
          "new_line_content": "                contains_alpha = true;",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(sep, &sep_len)",
          "new_text": null,
          "old_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "new_line_content": "        uint sep_len;",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "arg_looks_numeric",
          "new_api": null,
          "old_text": "arg_looks_numeric(arg)",
          "new_text": null,
          "old_line_content": "        if (arg_looks_numeric(arg)) {",
          "new_line_content": "        //       arguments (from above if) to take this if.",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "new_line_content": "        if (sep_len == 0) {",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "str_caseconv",
          "new_api": null,
          "old_text": "str_caseconv(unichar_toupper, self_in)",
          "new_text": null,
          "old_line_content": "    return str_caseconv(unichar_toupper, self_in);",
          "new_line_content": "STATIC mp_obj_t str_upper(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isspace, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isspace, self_in);",
          "new_line_content": "STATIC mp_obj_t str_isspace(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isalpha, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isalpha, self_in);",
          "new_line_content": "STATIC mp_obj_t str_isalpha(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, beg, last - beg)",
          "new_text": null,
          "old_line_content": "                res->items[idx] = mp_obj_new_str_of_type(self_type, beg, last - beg);",
          "new_line_content": "            if (s < beg || splits == 0) {",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isdigit, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isdigit, self_in);",
          "new_line_content": "STATIC mp_obj_t str_isdigit(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len)",
          "new_text": null,
          "old_line_content": "            res->items[idx--] = mp_obj_new_str_of_type(self_type, s + sep_len, last - s - sep_len);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_isupper, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_isupper, self_in);",
          "new_line_content": "STATIC mp_obj_t str_isupper(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "str_uni_istype",
          "new_api": null,
          "old_text": "str_uni_istype(unichar_islower, self_in)",
          "new_text": null,
          "old_line_content": "    return str_uni_istype(unichar_islower, self_in);",
          "new_line_content": "STATIC mp_obj_t str_islower(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(res->items, &res->items[idx], used * sizeof(mp_obj_t))",
          "new_text": null,
          "old_line_content": "            memcpy(res->items, &res->items[idx], used * sizeof(mp_obj_t));",
          "new_line_content": "            int used = org_splits + 1 - idx;",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "new_text": null,
          "old_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "new_line_content": "        new_args[0] = args[0];",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "STATIC mp_obj_t str_finder(uint n_args, const mp_obj_t *args, mp_int_t direction, bool is_index) {",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "str_make_new",
          "new_api": null,
          "old_text": "str_make_new(NULL, n_args, 0, args)",
          "new_text": null,
          "old_line_content": "    return str_make_new(NULL, n_args, 0, args);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), type, flags, fill, width, precision);",
          "new_line_content": "                case 'G':",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "new_text": null,
          "old_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "new_line_content": "        new_args[0] = args[0];",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "new_line_content": "    if (n_args >= 3 && args[2] != mp_const_none) {",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg) * 100.0F, 'f', flags, fill, width, precision);",
          "new_line_content": "                    flags |= PF_FLAG_ADD_PERCENT;",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "new_text": null,
          "old_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "new_line_content": "    if (n_args >= 4 && args[3] != mp_const_none) {",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": "bytes_make_new",
          "new_api": null,
          "old_text": "bytes_make_new(NULL, n_args, 0, args)",
          "new_text": null,
          "old_line_content": "    return bytes_make_new(NULL, n_args, 0, args);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unknown format code '%c' for object of type 'float'\",\n                        type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                default:",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(start, end - start, needle, needle_len, direction)",
          "new_text": null,
          "old_line_content": "    const byte *p = find_subbytes(start, end - start, needle, needle_len, direction);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": null,
          "old_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "new_line_content": "                        \"unknown format code '%c' for object of type 'float'\",",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, str_data, str_len)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, str_data, str_len);",
          "new_line_content": "    if (flags == MP_BUFFER_READ) {",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"substring not found\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"substring not found\"));",
          "new_line_content": "        if (is_index) {",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(-1)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_SMALL_INT(-1);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\"));",
          "new_line_content": "            if (align == '=') {",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "utf8_ptr_to_index",
          "new_api": null,
          "old_text": "utf8_ptr_to_index(haystack, p)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_SMALL_INT(utf8_ptr_to_index(haystack, p));",
          "new_line_content": "        if (self_type == &mp_type_str) {",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "mp_obj_print_helper",
          "new_api": null,
          "old_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR)",
          "new_text": null,
          "old_line_content": "                    mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR);",
          "new_line_content": "                case '\\0':",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(p - haystack)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(p - haystack);",
          "new_line_content": "        #endif",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(arg, &len)",
          "new_text": null,
          "old_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "new_line_content": "                    uint len;",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(bytes_decode_obj, 1, 3, bytes_decode)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(bytes_decode_obj, 1, 3, bytes_decode);",
          "new_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, 1, false)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, 1, false);",
          "new_line_content": "STATIC mp_obj_t str_find(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_find_obj, 2, 4, str_find)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_find_obj, 2, 4, str_find);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, -1, false)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, -1, false);",
          "new_line_content": "STATIC mp_obj_t str_rfind(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "pfenv_print_strn",
          "new_api": null,
          "old_text": "pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, 1, true)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, 1, true);",
          "new_line_content": "STATIC mp_obj_t str_index(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"unknown format code '%c' for object of type 'str'\",\n                        type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                default:",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "str_finder",
          "new_api": null,
          "old_text": "str_finder(n_args, args, -1, true)",
          "new_text": null,
          "old_line_content": "    return str_finder(n_args, args, -1, true);",
          "new_line_content": "STATIC mp_obj_t str_rindex(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": null,
          "old_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "new_line_content": "                        \"unknown format code '%c' for object of type 'str'\",",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "STATIC mp_obj_t str_startswith(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str(vstr->buf, vstr->len, false)",
          "new_text": null,
          "old_line_content": "    mp_obj_t s = mp_obj_new_str(vstr->buf, vstr->len, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, str, str_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = str_index_to_ptr(self_type, str, str_len, args[2], true);",
          "new_line_content": "    if (n_args > 2) {",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(pattern)",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(pattern));",
          "new_line_content": "STATIC mp_obj_t str_modulo_format(mp_obj_t pattern, uint n_args, const mp_obj_t *args, mp_obj_t dict) {",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(pattern, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(pattern, str, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(start, prefix, prefix_len)",
          "new_text": null,
          "old_line_content": "    return MP_BOOL(memcmp(start, prefix, prefix_len) == 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "    vstr_t *vstr = vstr_new();",
          "new_line_content": "    int arg_i = 0;",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_decode)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_decode), (mp_obj_t)&bytes_decode_obj },",
          "new_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "STATIC mp_obj_t str_endswith(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_encode)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_encode), (mp_obj_t)&str_encode_obj },",
          "new_line_content": "    // methods (which should do type checking at runtime).",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, *str)",
          "new_text": null,
          "old_line_content": "            vstr_add_char(vstr, *str);",
          "new_line_content": "        if (*str != '%') {",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(str + (str_len - suffix_len), suffix, suffix_len)",
          "new_text": null,
          "old_line_content": "    return MP_BOOL(memcmp(str + (str_len - suffix_len), suffix, suffix_len) == 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_find)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_find), (mp_obj_t)&str_find_obj },",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, '%')",
          "new_text": null,
          "old_line_content": "            vstr_add_char(vstr, '%');",
          "new_line_content": "        if (*str == '%') {",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(1 <= n_args && n_args <= 2)",
          "new_text": null,
          "old_line_content": "    assert(1 <= n_args && n_args <= 2);",
          "new_line_content": "STATIC mp_obj_t str_uni_strip(int type, uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format key\")",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format key\"));",
          "new_line_content": "                if (str >= top) {",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[1])",
          "new_text": null,
          "old_line_content": "        if (mp_obj_get_type(args[1]) != self_type) {",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str((const char*)key, str - key, true)",
          "new_text": null,
          "old_line_content": "            mp_obj_t k_obj = mp_obj_new_str((const char*)key, str - key, true);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[1], s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(args[1], s, l);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], orig_str, orig_str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], orig_str, orig_str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1)",
          "new_text": null,
          "old_line_content": "        if (find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1) == NULL) {",
          "new_line_content": "    for (mp_uint_t len = orig_str_len; len > 0; len--) {",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[arg_i++])",
          "new_text": null,
          "old_line_content": "                width = mp_obj_get_int(args[arg_i++]);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "new_line_content": "        // string is all whitespace, return ''",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[arg_i++])",
          "new_text": null,
          "old_line_content": "                    prec = mp_obj_get_int(args[arg_i++]);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "new_line_content": "mp_obj_t mp_obj_str_builder_start(const mp_obj_type_t *type, uint len, byte **data) {",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(last_good_char_pos >= first_good_char_pos)",
          "new_text": null,
          "old_line_content": "    assert(last_good_char_pos >= first_good_char_pos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "m_new",
          "new_api": null,
          "old_text": "m_new(byte, len + 1)",
          "new_text": null,
          "old_line_content": "    byte *p = m_new(byte, len + 1);",
          "new_line_content": "    o->hash = 0;",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(first_good_char_pos == 0)",
          "new_text": null,
          "old_line_content": "        assert(first_good_char_pos == 0);",
          "new_line_content": "        // TODO: watch out for this case when we'll get to bytearray.strip()",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_of_type(self_type, orig_str + first_good_char_pos, stripped_len);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\"));",
          "new_line_content": "        if (str >= top) {",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash(o->data, o->len)",
          "new_text": null,
          "old_line_content": "    o->hash = qstr_compute_hash(o->data, o->len);",
          "new_line_content": "    mp_obj_str_t *o = o_in;",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(STRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(STRIP, n_args, args);",
          "new_line_content": "STATIC mp_obj_t str_strip(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(LSTRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(LSTRIP, n_args, args);",
          "new_line_content": "STATIC mp_obj_t str_lstrip(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\"));",
          "new_line_content": "not_enough_args:",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "m_renew",
          "new_api": null,
          "old_text": "m_renew(byte, (byte*)o->data, o->len + 1, len + 1)",
          "new_text": null,
          "old_line_content": "    o->data = m_renew(byte, (byte*)o->data, o->len + 1, len + 1);",
          "new_line_content": "    mp_obj_str_t *o = o_in;",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(RSTRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(RSTRIP, n_args, args);",
          "new_line_content": "STATIC mp_obj_t str_rstrip(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash(o->data, o->len)",
          "new_text": null,
          "old_line_content": "    o->hash = qstr_compute_hash(o->data, o->len);",
          "new_line_content": "    o->len = len;",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(arg)",
          "new_text": null,
          "old_line_content": "                if (MP_OBJ_IS_STR(arg)) {",
          "new_line_content": "            case 'c':",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(arg, &len)",
          "new_text": null,
          "old_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "new_line_content": "                    uint len;",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"%%c requires int or char\")",
          "new_text": null,
          "old_line_content": "                        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"%%c requires int or char\"));",
          "new_line_content": "                    if (len != 1) {",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "unichar_isdigit",
          "new_api": null,
          "old_text": "unichar_isdigit(*s)",
          "new_text": null,
          "old_line_content": "    if (unichar_isdigit(*s)) {",
          "new_line_content": "    const char *s = str;",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "new_line_content": "mp_obj_t mp_obj_new_str_of_type(const mp_obj_type_t *type, const byte* data, uint len) {",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "pfenv_print_strn",
          "new_api": null,
          "old_text": "pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash(data, len)",
          "new_text": null,
          "old_line_content": "        o->hash = qstr_compute_hash(data, len);",
          "new_line_content": "    if (data) {",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "arg_looks_integer",
          "new_api": null,
          "old_text": "arg_looks_integer(arg)",
          "new_text": null,
          "old_line_content": "                if (arg_looks_integer(arg)) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "unichar_isdigit",
          "new_api": null,
          "old_text": "unichar_isdigit(*s)",
          "new_text": null,
          "old_line_content": "        while (unichar_isdigit(*s));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(p, data, len * sizeof(byte))",
          "new_text": null,
          "old_line_content": "        memcpy(p, data, len * sizeof(byte));",
          "new_line_content": "        o->data = p;",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(\"<>=^\", ch)",
          "new_text": null,
          "old_line_content": "    return ch && strchr(\"<>=^\", ch) != NULL;",
          "new_line_content": "static bool isalignment(char ch) {",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_text": null,
          "old_line_content": "                if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "new_line_content": "                // This is what CPython reports, so we report the same.",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(\"bcdeEfFgGnosxX%\", ch)",
          "new_text": null,
          "old_line_content": "    return ch && strchr(\"bcdeEfFgGnosxX%\", ch) != NULL;",
          "new_line_content": "static bool istype(char ch) {",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\"));",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "qstr_from_strn",
          "new_api": null,
          "old_text": "qstr_from_strn(data, len)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_QSTR(qstr_from_strn(data, len));",
          "new_line_content": "        // use existing, or make a new qstr",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "qstr_find_strn",
          "new_api": null,
          "old_text": "qstr_find_strn(data, len)",
          "new_text": null,
          "old_line_content": "        qstr q = qstr_find_strn(data, len);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "MP_OBJ_IS_INT",
          "new_api": null,
          "old_text": "MP_OBJ_IS_INT(arg)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_IS_TYPE(arg, &mp_type_bool) || MP_OBJ_IS_INT(arg);",
          "new_line_content": "static bool arg_looks_integer(mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(q)",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_QSTR(q);",
          "new_line_content": "            // qstr with this data already exists",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "arg_as_int",
          "new_api": null,
          "old_text": "arg_as_int(arg)",
          "new_text": null,
          "old_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 10, 'a', flags, fill, width, prec);",
          "new_line_content": "            case 'u':",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_str_of_type(&mp_type_str, (const byte*)data, len);",
          "new_line_content": "            // no existing qstr, don't make one",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_text": null,
          "old_line_content": "        || MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_line_content": "#if MICROPY_PY_BUILTINS_FLOAT",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(str, data, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(str, data, len);",
          "new_line_content": "mp_obj_t mp_obj_str_intern(mp_obj_t str) {",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "new_line_content": "#if MICROPY_PY_BUILTINS_FLOAT",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), *str, flags, fill, width, prec);",
          "new_line_content": "            case 'G':",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(&mp_type_bytes, data, len)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_of_type(&mp_type_bytes, data, len);",
          "new_line_content": "mp_obj_t mp_obj_new_bytes(const byte* data, uint len) {",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "        mp_int_t num = mp_obj_get_float(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_QSTR(s2)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_QSTR(s1) && MP_OBJ_IS_QSTR(s2)) {",
          "new_line_content": "bool mp_obj_str_equal(mp_obj_t s1, mp_obj_t s2) {",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, prec)",
          "new_text": null,
          "old_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, prec);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "GET_STR_HASH",
          "new_api": null,
          "old_text": "GET_STR_HASH(s1, h1)",
          "new_text": null,
          "old_line_content": "        GET_STR_HASH(s1, h1);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "mp_obj_t mp_obj_str_format(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "                vstr_t *arg_vstr = vstr_new();",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "    vstr_t *vstr = vstr_new();",
          "new_line_content": "    int arg_i = 0;",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "vstr_len",
          "new_api": null,
          "old_text": "vstr_len(arg_vstr)",
          "new_text": null,
          "old_line_content": "                uint len = vstr_len(arg_vstr);",
          "new_line_content": "                                    arg_vstr, arg, *str == 'r' ? PRINT_REPR : PRINT_STR);",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(s1, d1, l1)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(s1, d1, l1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(d1, d2, l1)",
          "new_text": null,
          "old_line_content": "        return memcmp(d1, d2, l1) == 0;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "vstr_str",
          "new_api": null,
          "old_text": "vstr_str(arg_vstr)",
          "new_text": null,
          "old_line_content": "                pfenv_print_strn(&pfenv_vstr, vstr_str(arg_vstr), len, flags, ' ', width);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, '}')",
          "new_text": null,
          "old_line_content": "                vstr_add_char(vstr, '}');",
          "new_line_content": "            if (str < top && *str == '}') {",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(self_in)",
          "new_text": null,
          "old_line_content": "    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_TypeError, \"Can't convert '%s' object to str implicitly\", mp_obj_get_type_str(self_in)));",
          "new_line_content": "STATIC void bad_implicit_conversion(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"single '}' encountered in format string\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"single '}' encountered in format string\"));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"Can't mix str and bytes arguments\")",
          "new_text": null,
          "old_line_content": "    nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"Can't mix str and bytes arguments\"));",
          "new_line_content": "STATIC void arg_type_mixup() {",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, *str)",
          "new_text": null,
          "old_line_content": "            vstr_add_char(vstr, *str);",
          "new_line_content": "        if (*str != '{') {",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec)",
          "new_text": null,
          "old_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, *str - ('X' - 'A'), flags | alt, fill, width, prec);",
          "new_line_content": "            case 'x':",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "new_line_content": "    // TODO: This has too big overhead for hash accessor",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                    \"unsupported format character '%c' (0x%x) at index %d\",\n                    *str, *str, str - start_str)",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "            default:",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, '{')",
          "new_text": null,
          "old_line_content": "            vstr_add_char(vstr, '{');",
          "new_line_content": "        if (str < top && *str == '{') {",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\")",
          "new_text": null,
          "old_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\"));",
          "new_line_content": "    if (arg_i != n_args) {",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "new_line_content": "    // TODO This has a double check for the type, one in obj.c and one here",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str(vstr->buf, vstr->len, false)",
          "new_text": null,
          "old_line_content": "    mp_obj_t s = mp_obj_new_str(vstr->buf, vstr->len, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "            field_name = vstr_new();",
          "new_line_content": "        if (str < top && *str != '}' && *str != '!' && *str != ':') {",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(field_name, *str++)",
          "new_text": null,
          "old_line_content": "                vstr_add_char(field_name, *str++);",
          "new_line_content": "            while (str < top && *str != '}' && *str != '!' && *str != ':') {",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "STATIC mp_obj_t str_replace(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(field_name, '\\0')",
          "new_text": null,
          "old_line_content": "            vstr_add_char(field_name, '\\0');",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[3])",
          "new_text": null,
          "old_line_content": "        max_rep = mp_obj_get_int(args[3]);",
          "new_line_content": "    if (n_args == 4) {",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_QSTR(self_in)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "new_line_content": "qstr mp_obj_str_get_qstr(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "qstr_from_strn",
          "new_api": null,
          "old_text": "qstr_from_strn((char*)self->data, self->len)",
          "new_text": null,
          "old_line_content": "        return qstr_from_strn((char*)self->data, self->len);",
          "new_line_content": "        mp_obj_str_t *self = self_in;",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\"));",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[1])",
          "new_text": null,
          "old_line_content": "    if (!MP_OBJ_IS_STR(args[1])) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(self_in)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in)) {",
          "new_line_content": "const char *mp_obj_str_get_str(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[2])",
          "new_text": null,
          "old_line_content": "    if (!MP_OBJ_IS_STR(args[2])) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "                format_spec = vstr_new();",
          "new_line_content": "            if (*str != '}') {",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(format_spec, *str++)",
          "new_text": null,
          "old_line_content": "                    vstr_add_char(format_spec, *str++);",
          "new_line_content": "                while (str < top && *str != '}') {",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(format_spec, '\\0')",
          "new_text": null,
          "old_line_content": "                vstr_add_char(format_spec, '\\0');",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": "is_str_or_bytes",
          "new_api": null,
          "old_text": "is_str_or_bytes(self_in)",
          "new_text": null,
          "old_line_content": "    if (is_str_or_bytes(self_in)) {",
          "new_line_content": "const char *mp_obj_str_get_data(mp_obj_t self_in, uint *len) {",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\"));",
          "new_line_content": "        if (str >= top) {",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"expected ':' after format specifier\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"expected ':' after format specifier\"));",
          "new_line_content": "        if (*str != '}') {",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from automatic field numbering to manual field specification\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from automatic field numbering to manual field specification\"));",
          "new_line_content": "            if (arg_i > 0) {",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "vstr_len",
          "new_api": null,
          "old_text": "vstr_len(field_name)",
          "new_text": null,
          "old_line_content": "            if (str_to_int(vstr_str(field_name), &index) != vstr_len(field_name) - 1) {",
          "new_line_content": "            int index = 0;",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "new_line_content": "            if (index >= n_args - 1) {",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "new_line_content": "    mp_obj_str_it_t *self = self_in;",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str((const char*)str + self->cur, 1, true)",
          "new_text": null,
          "old_line_content": "        mp_obj_t o_out = mp_obj_new_str((const char*)str + self->cur, 1, true);",
          "new_line_content": "    if (self->cur < len) {",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(field_name)",
          "new_text": null,
          "old_line_content": "            vstr_free(field_name);",
          "new_line_content": "            arg_i = -1;",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from manual field specification to automatic field numbering\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"can't switch from manual field specification to automatic field numbering\"));",
          "new_line_content": "            if (arg_i < 0) {",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)",
          "new_text": null,
          "old_line_content": "        while (num_replacements_done != max_rep && str_len_remain > 0 && (old_occurrence = find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)) != NULL) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "new_line_content": "            if (arg_i >= n_args - 1) {",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr)",
          "new_text": null,
          "old_line_content": "                memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr);",
          "new_line_content": "            if (data != NULL) {",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(self_data[index_val])",
          "new_text": null,
          "old_line_content": "            return MP_OBJ_NEW_SMALL_INT(self_data[index_val]);",
          "new_line_content": "        if (MICROPY_PY_BUILTINS_STR_UNICODE || type == &mp_type_bytes) {",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str((char*)&self_data[index_val], 1, true)",
          "new_text": null,
          "old_line_content": "            return mp_obj_new_str((char*)&self_data[index_val], 1, true);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_it_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "new_line_content": "mp_obj_t mp_obj_new_str_iterator(mp_obj_t str) {",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, new, new_len)",
          "new_text": null,
          "old_line_content": "                memcpy(data + replaced_str_index, new, new_len);",
          "new_line_content": "            if (data != NULL) {",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "is_str_or_bytes",
          "new_api": null,
          "old_text": "is_str_or_bytes(self_in)",
          "new_text": null,
          "old_line_content": "    assert(is_str_or_bytes(self_in));",
          "new_line_content": "STATIC mp_obj_t str_join(mp_obj_t self_in, mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"unknown conversion specifier %c\", conversion)",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"unknown conversion specifier %c\", conversion));",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "            vstr_t *arg_vstr = vstr_new();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "new_line_content": "    mp_obj_str_it_t *self = self_in;",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, sep_str, sep_len);",
          "new_line_content": "    // get separation string",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, offset_ptr, str_len_remain)",
          "new_text": null,
          "old_line_content": "            memcpy(data + replaced_str_index, offset_ptr, str_len_remain);",
          "new_line_content": "        if (data != NULL) {",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(str[self->cur])",
          "new_text": null,
          "old_line_content": "        mp_obj_t o_out = MP_OBJ_NEW_SMALL_INT(str[self->cur]);",
          "new_line_content": "    if (self->cur < len) {",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_tuple)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_tuple)) {",
          "new_line_content": "    mp_obj_t *seq_items;",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_list)",
          "new_text": null,
          "old_line_content": "        if (!MP_OBJ_IS_TYPE(arg, &mp_type_list)) {",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "make_new",
          "new_api": null,
          "old_text": "mp_type_list.make_new((mp_obj_t)&mp_type_list, 1, 0, &arg)",
          "new_text": null,
          "old_line_content": "            arg = mp_type_list.make_new((mp_obj_t)&mp_type_list, 1, 0, &arg);",
          "new_line_content": "            // TODO: Try to optimize?",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "                replaced_str = mp_obj_str_builder_start(mp_obj_get_type(args[0]), replaced_str_index, &data);",
          "new_line_content": "                // substr found, allocate new string",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": "mp_obj_list_get",
          "new_api": null,
          "old_text": "mp_obj_list_get(arg, &seq_len, &seq_items)",
          "new_text": null,
          "old_line_content": "        mp_obj_list_get(arg, &seq_len, &seq_items);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_it_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "new_line_content": "mp_obj_t mp_obj_new_bytes_iterator(mp_obj_t str) {",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(seq_items[i])",
          "new_text": null,
          "old_line_content": "        if (mp_obj_get_type(seq_items[i]) != self_type) {",
          "new_line_content": "    for (int i = 0; i < seq_len; i++) {",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "mp_obj_str_builder_end",
          "new_api": null,
          "old_text": "mp_obj_str_builder_end(replaced_str)",
          "new_text": null,
          "old_line_content": "    return mp_obj_str_builder_end(replaced_str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "vstr_str",
          "new_api": null,
          "old_text": "vstr_str(format_spec)",
          "new_text": null,
          "old_line_content": "            const char *s = vstr_str(format_spec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "STATIC mp_obj_t str_count(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": "GET_STR_LEN",
          "new_api": null,
          "old_text": "GET_STR_LEN(seq_items[i], l)",
          "new_text": null,
          "old_line_content": "        GET_STR_LEN(seq_items[i], l);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "isalignment",
          "new_api": null,
          "old_text": "isalignment(s[1])",
          "new_text": null,
          "old_line_content": "            } else if (*s && isalignment(s[1])) {",
          "new_line_content": "                align = *s++;",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "mp_obj_str_builder_start",
          "new_api": null,
          "old_text": "mp_obj_str_builder_start(self_type, required_len, &data)",
          "new_text": null,
          "old_line_content": "    mp_obj_t joined_str = mp_obj_str_builder_start(self_type, required_len, &data);",
          "new_line_content": "    byte *data;",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "            memcpy(data, sep_str, sep_len);",
          "new_line_content": "        if (i > 0) {",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = str_index_to_ptr(self_type, haystack, haystack_len, args[2], true);",
          "new_line_content": "    if (n_args >= 3 && args[2] != mp_const_none) {",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(seq_items[i], s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(seq_items[i], s, l);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "str_index_to_ptr",
          "new_api": null,
          "old_text": "str_index_to_ptr(self_type, haystack, haystack_len, args[3], true)",
          "new_text": null,
          "old_line_content": "        end = str_index_to_ptr(self_type, haystack, haystack_len, args[3], true);",
          "new_line_content": "    if (n_args >= 4 && args[3] != mp_const_none) {",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "unichar_charlen",
          "new_api": null,
          "old_text": "unichar_charlen((const char*)start, end - start)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(unichar_charlen((const char*)start, end - start) + 1);",
          "new_line_content": "    if (needle_len == 0) {",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "mp_obj_str_builder_end",
          "new_api": null,
          "old_text": "mp_obj_str_builder_end(joined_str)",
          "new_text": null,
          "old_line_content": "    return mp_obj_str_builder_end(joined_str);",
          "new_line_content": "    // return joined string",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(haystack_ptr, needle, needle_len)",
          "new_text": null,
          "old_line_content": "        if (memcmp(haystack_ptr, needle, needle_len) == 0) {",
          "new_line_content": "    for (const byte *haystack_ptr = start; haystack_ptr + needle_len <= end;) {",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "    const mp_obj_type_t *self_type = mp_obj_get_type(args[0]);",
          "new_line_content": "STATIC mp_obj_t str_split(uint n_args, const mp_obj_t *args) {",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int(s, &width)",
          "new_text": null,
          "old_line_content": "            s += str_to_int(s, &width);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "utf8_next_char",
          "new_api": null,
          "old_text": "utf8_next_char(haystack_ptr)",
          "new_text": null,
          "old_line_content": "            haystack_ptr = utf8_next_char(haystack_ptr);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[2])",
          "new_text": null,
          "old_line_content": "            splits = mp_obj_get_int(args[2]);",
          "new_line_content": "        if (n_args > 2) {",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int(s, &precision)",
          "new_text": null,
          "old_line_content": "                s += str_to_int(s, &precision);",
          "new_line_content": "                s++;",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(num_occurrences)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_NEW_SMALL_INT(num_occurrences);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "istype",
          "new_api": null,
          "old_text": "istype(*s)",
          "new_text": null,
          "old_line_content": "            if (istype(*s)) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "mp_obj_new_list",
          "new_api": null,
          "old_text": "mp_obj_new_list(0, NULL)",
          "new_text": null,
          "old_line_content": "    mp_obj_t res = mp_obj_new_list(0, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "is_str_or_bytes",
          "new_api": null,
          "old_text": "is_str_or_bytes(self_in)",
          "new_text": null,
          "old_line_content": "    if (!is_str_or_bytes(self_in)) {",
          "new_line_content": "STATIC mp_obj_t str_partitioner(mp_obj_t self_in, mp_obj_t arg, mp_int_t direction) {",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\"));",
          "new_line_content": "            if (*s) {",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": null,
          "old_line_content": "    mp_obj_type_t *self_type = mp_obj_get_type(self_in);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(format_spec)",
          "new_text": null,
          "old_line_content": "            vstr_free(format_spec);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "is_ws",
          "new_api": null,
          "old_text": "is_ws(*s)",
          "new_text": null,
          "old_line_content": "        while (s < top && is_ws(*s)) s++;",
          "new_line_content": "        // Initial whitespace is not counted as split, so we pre-do it",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "arg_looks_numeric",
          "new_api": null,
          "old_text": "arg_looks_numeric(arg)",
          "new_text": null,
          "old_line_content": "            if (arg_looks_numeric(arg)) {",
          "new_line_content": "        if (!align) {",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, str, str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "is_ws",
          "new_api": null,
          "old_text": "is_ws(*s)",
          "new_text": null,
          "old_line_content": "            while (s < top && !is_ws(*s)) s++;",
          "new_line_content": "            const byte *start = s;",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "new_text": null,
          "old_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "new_line_content": "    if (sep_len == 0) {",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "is_ws",
          "new_api": null,
          "old_text": "is_ws(*s)",
          "new_text": null,
          "old_line_content": "            while (s < top && is_ws(*s)) s++;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": null,
          "old_line_content": "    mp_obj_t result[] = {MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_)};",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\"));",
          "new_line_content": "            if (type == 's') {",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, s, top - s)",
          "new_text": null,
          "old_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, s, top - s));",
          "new_line_content": "        if (s < top) {",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\"));",
          "new_line_content": "            if (type == 'c') {",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(str, str_len, sep, sep_len, direction)",
          "new_text": null,
          "old_line_content": "    const byte *position_ptr = find_subbytes(str, str_len, sep, sep_len, direction);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, str, position)",
          "new_text": null,
          "old_line_content": "        result[0] = mp_obj_new_str_of_type(self_type, str, position);",
          "new_line_content": "        mp_uint_t position = position_ptr - str;",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(sep)",
          "new_text": null,
          "old_line_content": "        if (mp_obj_get_type(sep) != self_type) {",
          "new_line_content": "        // sep given",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len)",
          "new_text": null,
          "old_line_content": "        result[2] = mp_obj_new_str_of_type(self_type, str + position + sep_len, str_len - position - sep_len);",
          "new_line_content": "        result[1] = arg;",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "mp_obj_new_tuple",
          "new_api": null,
          "old_text": "mp_obj_new_tuple(3, result)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_tuple(3, result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(sep, &sep_len)",
          "new_text": null,
          "old_line_content": "        const char *sep_str = mp_obj_str_get_data(sep, &sep_len);",
          "new_line_content": "        uint sep_len;",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "new_line_content": "        if (sep_len == 0) {",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "arg_looks_integer",
          "new_api": null,
          "old_text": "arg_looks_integer(arg)",
          "new_text": null,
          "old_line_content": "        if (arg_looks_integer(arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": "str_partitioner",
          "new_api": null,
          "old_text": "str_partitioner(self_in, arg, 1)",
          "new_text": null,
          "old_line_content": "    return str_partitioner(self_in, arg, 1);",
          "new_line_content": "STATIC mp_obj_t str_partition(mp_obj_t self_in, mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width, 0);",
          "new_line_content": "                case 'b':",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "str_partitioner",
          "new_api": null,
          "old_text": "str_partitioner(self_in, arg, -1)",
          "new_text": null,
          "old_line_content": "    return str_partitioner(self_in, arg, -1);",
          "new_line_content": "STATIC mp_obj_t str_rpartition(mp_obj_t self_in, mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(arg)",
          "new_text": null,
          "old_line_content": "                    char ch = mp_obj_get_int(arg);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s, sep_str, sep_len)",
          "new_text": null,
          "old_line_content": "                } else if (memcmp(s, sep_str, sep_len) == 0) {",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, self_data, self_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, self_data, self_len);",
          "new_line_content": "STATIC mp_obj_t str_caseconv(unichar (*op)(unichar), mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(self_in)",
          "new_text": null,
          "old_line_content": "    mp_obj_t s = mp_obj_str_builder_start(mp_obj_get_type(self_in), self_len, &data);",
          "new_line_content": "    byte *data;",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "op",
          "new_api": null,
          "old_text": "op(*self_data++)",
          "new_text": null,
          "old_line_content": "        *data++ = op(*self_data++);",
          "new_line_content": "    for (int i = 0; i < self_len; i++) {",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "mp_obj_new_str_of_type",
          "new_api": null,
          "old_text": "mp_obj_new_str_of_type(self_type, start, s - start)",
          "new_text": null,
          "old_line_content": "            mp_obj_list_append(res, mp_obj_new_str_of_type(self_type, start, s - start));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width, 0);",
          "new_line_content": "                case 'd':",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "mp_obj_str_builder_end",
          "new_api": null,
          "old_text": "mp_obj_str_builder_end(s)",
          "new_text": null,
          "old_line_content": "    return mp_obj_str_builder_end(s);",
          "new_line_content": "    *data = 0;",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "str_caseconv",
          "new_api": null,
          "old_text": "str_caseconv(unichar_tolower, self_in)",
          "new_text": null,
          "old_line_content": "    return str_caseconv(unichar_tolower, self_in);",
          "new_line_content": "STATIC mp_obj_t str_lower(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, 0)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width, 0);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 52,
      "total_additions": 249,
      "total_deletions": 249,
      "total_api_changes": 550
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 550,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          373
        ]
      }
    },
    "api_calls_before": 515,
    "api_calls_after": 515,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}