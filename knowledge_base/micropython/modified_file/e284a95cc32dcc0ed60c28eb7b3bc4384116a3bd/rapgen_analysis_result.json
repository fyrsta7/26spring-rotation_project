{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e284a95cc32dcc0ed60c28eb7b3bc4384116a3bd",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e284a95cc32dcc0ed60c28eb7b3bc4384116a3bd/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e284a95cc32dcc0ed60c28eb7b3bc4384116a3bd/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e284a95cc32dcc0ed60c28eb7b3bc4384116a3bd/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 195,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_ubinascii)",
          "new_text": "MP_DEFINE_CONST_FUN_OBJ_1(mod_binascii_b2a_base64_obj, mod_binascii_b2a_base64)",
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR___name__), MP_OBJ_NEW_QSTR(MP_QSTR_ubinascii) },",
          "new_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(mod_binascii_b2a_base64_obj, mod_binascii_b2a_base64);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 193,
          "old_api": null,
          "new_api": "mp_obj_new_str_from_vstr",
          "old_text": null,
          "new_text": "mp_obj_new_str_from_vstr(&mp_type_bytes, &vstr)",
          "old_line_content": "",
          "new_line_content": "    return mp_obj_new_str_from_vstr(&mp_type_bytes, &vstr);",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_ubinascii)",
          "old_line_content": "};",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR___name__), MP_OBJ_NEW_QSTR(MP_QSTR_ubinascii) },",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_hexlify)",
          "old_line_content": "",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_hexlify), (mp_obj_t)&mod_binascii_hexlify_obj },",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_unhexlify)",
          "old_line_content": "STATIC MP_DEFINE_CONST_DICT(mp_module_binascii_globals, mp_module_binascii_globals_table);",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_unhexlify), (mp_obj_t)&mod_binascii_unhexlify_obj },",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_a2b_base64)",
          "old_line_content": "",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_a2b_base64), (mp_obj_t)&mod_binascii_a2b_base64_obj },",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_b2a_base64)",
          "old_line_content": "const mp_obj_module_t mp_module_ubinascii = {",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_b2a_base64), (mp_obj_t)&mod_binascii_b2a_base64_obj },",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 196,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_hexlify)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_hexlify), (mp_obj_t)&mod_binascii_hexlify_obj },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_unhexlify)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_unhexlify), (mp_obj_t)&mod_binascii_unhexlify_obj },",
          "new_line_content": "#if MICROPY_PY_UBINASCII",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_a2b_base64)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_a2b_base64), (mp_obj_t)&mod_binascii_a2b_base64_obj },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_b2a_base64)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_b2a_base64), (mp_obj_t)&mod_binascii_b2a_base64_obj },",
          "new_line_content": "STATIC const mp_map_elem_t mp_module_binascii_globals_table[] = {",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "mp_obj_new_str_from_vstr",
          "new_api": null,
          "old_text": "mp_obj_new_str_from_vstr(&mp_type_bytes, &vstr)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str_from_vstr(&mp_type_bytes, &vstr);",
          "new_line_content": "            *out = '=';",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "MP_DEFINE_CONST_FUN_OBJ_1",
          "new_api": null,
          "old_text": "MP_DEFINE_CONST_FUN_OBJ_1(mod_binascii_b2a_base64_obj, mod_binascii_b2a_base64)",
          "new_text": null,
          "old_line_content": "MP_DEFINE_CONST_FUN_OBJ_1(mod_binascii_b2a_base64_obj, mod_binascii_b2a_base64);",
          "new_line_content": "        out++;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 1,
      "total_additions": 6,
      "total_deletions": 6,
      "total_api_changes": 13
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 13,
        "non_api_lines": 10,
        "non_api_line_numbers": [
          160,
          161,
          163,
          173,
          174,
          150,
          151,
          153,
          154,
          158
        ]
      }
    },
    "api_calls_before": 35,
    "api_calls_after": 35,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 3,
      "total_diff_lines": 38
    }
  }
}