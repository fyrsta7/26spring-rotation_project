{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e14d096cb7a30b956f6c5b610c6854a6b17d0592",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e14d096cb7a30b956f6c5b610c6854a6b17d0592/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e14d096cb7a30b956f6c5b610c6854a6b17d0592/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/micropython/modified_file/e14d096cb7a30b956f6c5b610c6854a6b17d0592/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 551,
          "old_api": "str_uni_strip",
          "new_api": "assert",
          "old_text": "str_uni_strip(STRIP, n_args, args)",
          "new_text": "assert(last_good_char_pos >= first_good_char_pos)",
          "old_line_content": "    return str_uni_strip(STRIP, n_args, args);",
          "new_line_content": "    assert(last_good_char_pos >= first_good_char_pos);",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "unichar_isdigit",
          "new_api": "str_uni_strip",
          "old_text": "unichar_isdigit(*s)",
          "new_text": "str_uni_strip(RSTRIP, n_args, args)",
          "old_line_content": "    if (unichar_isdigit(*s)) {",
          "new_line_content": "    return str_uni_strip(RSTRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": "MP_OBJ_NEW_SMALL_INT(num)",
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(num);",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "vstr_add_char",
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"expected ':' after format specifier\")",
          "new_text": "vstr_add_char(format_spec, '\\0')",
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"expected ':' after format specifier\"));",
          "new_line_content": "                vstr_add_char(format_spec, '\\0');",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "vstr_free",
          "new_api": "mp_obj_new_exception_msg",
          "old_text": "vstr_free(field_name)",
          "new_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\")",
          "old_line_content": "            vstr_free(field_name);",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\"));",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "vstr_free",
          "old_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "new_text": "vstr_free(field_name)",
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "new_line_content": "            vstr_free(field_name);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "pfenv_print_mp_int",
          "new_api": "pfenv_print_strn",
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width)",
          "new_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width)",
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width);",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width);",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "arg_looks_numeric",
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": "arg_looks_numeric(arg)",
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"Unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg))",
          "old_line_content": "        if (arg_looks_numeric(arg)) {",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "mp_obj_get_type_str",
          "new_api": "mp_obj_get_float",
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "new_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg) * 100.0F, 'f', flags, fill, width, precision);",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "pfenv_print_strn",
          "new_api": "mp_obj_str_get_data",
          "old_text": "pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width)",
          "new_text": "mp_obj_str_get_data(arg, &len)",
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width);",
          "new_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "mp_obj_get_type_str",
          "new_api": "pfenv_print_strn",
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": "pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width)",
          "old_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, len, flags, fill, width);",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "mp_obj_new_str",
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": "mp_obj_new_str((byte*)vstr->buf, vstr->len, false)",
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"Unknown format code '%c' for object of type 'str'\",\n                        type, mp_obj_get_type_str(arg))",
          "old_line_content": "    mp_obj_t s = mp_obj_new_str((byte*)vstr->buf, vstr->len, false);",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "vstr_free",
          "old_text": "GET_STR_DATA_LEN(pattern, str, len)",
          "new_text": "vstr_free(vstr)",
          "old_line_content": "    GET_STR_DATA_LEN(pattern, str, len);",
          "new_line_content": "    vstr_free(vstr);",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "vstr_add_char",
          "new_api": "vstr_new",
          "old_text": "vstr_add_char(vstr, *str)",
          "new_text": "vstr_new()",
          "old_line_content": "            vstr_add_char(vstr, *str);",
          "new_line_content": "    vstr_t *vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "mp_obj_str_get_data",
          "new_api": "mp_obj_new_exception_msg",
          "old_text": "mp_obj_str_get_data(arg, &len)",
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\")",
          "old_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\"));",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "pfenv_print_strn",
          "new_api": "MP_OBJ_IS_STR",
          "old_text": "pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width)",
          "new_text": "MP_OBJ_IS_STR(arg)",
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width);",
          "new_line_content": "                if (MP_OBJ_IS_STR(arg)) {",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "mp_obj_get_int",
          "new_api": "mp_obj_new_exception_msg",
          "old_text": "mp_obj_get_int(arg)",
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"%c requires int or char\")",
          "old_line_content": "                    char ch = mp_obj_get_int(arg);",
          "new_line_content": "                        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"%c requires int or char\")); ",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": "arg_looks_integer",
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_text": "arg_looks_integer(arg)",
          "old_line_content": "                if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "new_line_content": "                if (arg_looks_integer(arg)) {",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "mp_obj_get_int",
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\")",
          "new_text": "mp_obj_get_int(arg)",
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\")); ",
          "new_line_content": "                    char ch = mp_obj_get_int(arg);",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "mp_obj_print_helper",
          "new_api": "arg_as_int",
          "old_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,\n                                    arg_vstr, arg, *str == 'r' ? PRINT_REPR : PRINT_STR)",
          "new_text": "arg_as_int(arg)",
          "old_line_content": "                mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,",
          "new_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 8, 'a', flags, fill, width); ",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "vstr_str",
          "new_api": "vstr_len",
          "old_text": "vstr_str(arg_vstr)",
          "new_text": "vstr_len(arg_vstr)",
          "old_line_content": "                pfenv_print_strn(&pfenv_vstr, vstr_str(arg_vstr), len, flags, ' ', width);",
          "new_line_content": "                uint len = vstr_len(arg_vstr);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "MP_OBJ_IS_STR",
          "old_text": "GET_STR_DATA_LEN(args[1], old, old_len)",
          "new_text": "MP_OBJ_IS_STR(args[2])",
          "old_line_content": "    GET_STR_DATA_LEN(args[1], old, old_len);",
          "new_line_content": "    if (!MP_OBJ_IS_STR(args[2])) {",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": "bad_implicit_conversion",
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "new_text": "bad_implicit_conversion(arg)",
          "old_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "new_line_content": "        bad_implicit_conversion(arg);",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": "GET_STR_DATA_LEN",
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": "GET_STR_DATA_LEN(self_in, str, str_len)",
          "old_line_content": "    mp_obj_t result[] = {MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_)};",
          "new_line_content": "    GET_STR_DATA_LEN(self_in, str, str_len);",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "str_partitioner",
          "new_api": "mp_obj_new_str",
          "old_text": "str_partitioner(self_in, arg, 1)",
          "new_text": "mp_obj_new_str(str + position + sep_len, str_len - position - sep_len, false)",
          "old_line_content": "    return str_partitioner(self_in, arg, 1);",
          "new_line_content": "        result[2] = mp_obj_new_str(str + position + sep_len, str_len - position - sep_len, false);",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "m_new_obj",
          "new_api": "qstr_compute_hash",
          "old_text": "m_new_obj(mp_obj_str_t)",
          "new_text": "qstr_compute_hash(o->data, o->len)",
          "old_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "new_line_content": "    o->hash = qstr_compute_hash(o->data, o->len);",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "memcpy",
          "new_api": "m_new_obj",
          "old_text": "memcpy(p, data, len * sizeof(byte))",
          "new_text": "m_new_obj(mp_obj_str_t)",
          "old_line_content": "        memcpy(p, data, len * sizeof(byte));",
          "new_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "qstr_find_strn",
          "new_api": "memcpy",
          "old_text": "qstr_find_strn(data, len)",
          "new_text": "memcpy(p, data, len * sizeof(byte))",
          "old_line_content": "    qstr q = qstr_find_strn(data, len);",
          "new_line_content": "        memcpy(p, data, len * sizeof(byte));",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "GET_STR_HASH",
          "new_api": "str_new",
          "old_text": "GET_STR_HASH(s1, h1)",
          "new_text": "str_new(&mp_type_bytes, data, len)",
          "old_line_content": "        GET_STR_HASH(s1, h1);",
          "new_line_content": "    return str_new(&mp_type_bytes, data, len);",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": "GET_STR_HASH",
          "old_text": "GET_STR_DATA_LEN(s2, d2, l2)",
          "new_text": "GET_STR_HASH(s1, h1)",
          "old_line_content": "        GET_STR_DATA_LEN(s2, d2, l2);",
          "new_line_content": "        GET_STR_HASH(s1, h1);",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "GET_STR_LEN",
          "new_api": "bad_implicit_conversion",
          "old_text": "GET_STR_LEN(self_in, l)",
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "        GET_STR_LEN(self_in, l);",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": "bad_implicit_conversion",
          "old_text": "MP_OBJ_IS_QSTR(self_in)",
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": "bad_implicit_conversion",
          "old_text": "MP_OBJ_IS_STR(self_in)",
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in)) {",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1027,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[arg_i++])",
          "old_line_content": "        }",
          "new_line_content": "                width = mp_obj_get_int(args[arg_i++]);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_QSTR(self_in)",
          "old_line_content": "    }",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(self_in)) {",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "MP_OBJ_QSTR_VALUE",
          "old_text": null,
          "new_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "old_line_content": "}",
          "new_line_content": "        return MP_OBJ_QSTR_VALUE(self_in);",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_str)",
          "old_line_content": "",
          "new_line_content": "    } else if (MP_OBJ_IS_TYPE(self_in, &mp_type_str)) {",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn((char*)self->data, self->len)",
          "old_line_content": "// at the moment all strings are zero terminated to help with C ASCIIZ compatibility",
          "new_line_content": "        return qstr_from_strn((char*)self->data, self->len);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[arg_i++])",
          "old_line_content": "                }",
          "new_line_content": "                    prec = mp_obj_get_int(args[arg_i++]);",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1)",
          "old_line_content": "                    break;",
          "new_line_content": "        if (find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1) == NULL) {",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(self_in)",
          "old_line_content": "}",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in)) {",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "old_line_content": "",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "        *len = l;",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(self_in)",
          "old_line_content": "}",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in)) {",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "old_line_content": "",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "mp_obj_str_get_data",
          "old_text": null,
          "new_text": "mp_obj_str_get_data(arg, &len)",
          "old_line_content": "                }",
          "new_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "}",
          "new_line_content": "        return MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(self_in)",
          "old_line_content": "typedef struct _mp_obj_str_it_t {",
          "new_line_content": "        bad_implicit_conversion(self_in);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "pfenv_print_strn",
          "old_text": null,
          "new_text": "pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width)",
          "old_line_content": "                }",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, s, 1, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str(orig_str + first_good_char_pos, stripped_len, false)",
          "old_line_content": "STATIC mp_obj_t str_lstrip(uint n_args, const mp_obj_t *args) {",
          "new_line_content": "    return mp_obj_new_str(orig_str + first_good_char_pos, stripped_len, false);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "pfenv_print_strn",
          "old_text": null,
          "new_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width)",
          "old_line_content": "",
          "new_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(STRIP, n_args, args)",
          "old_line_content": "STATIC mp_obj_t str_rstrip(uint n_args, const mp_obj_t *args) {",
          "new_line_content": "    return str_uni_strip(STRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "old_line_content": "",
          "new_line_content": "                if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "str_uni_strip",
          "old_text": null,
          "new_text": "str_uni_strip(LSTRIP, n_args, args)",
          "old_line_content": "// Takes an int arg, but only parses unsigned numbers, and only changes",
          "new_line_content": "    return str_uni_strip(LSTRIP, n_args, args);",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\")",
          "old_line_content": "            case 'd':",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"integer argument expected, got float\")); ",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str(str + self->cur, 1, true)",
          "old_line_content": "",
          "new_line_content": "        mp_obj_t o_out = mp_obj_new_str(str + self->cur, 1, true);",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\")",
          "old_line_content": "                break;",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\")); ",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "arg_as_int",
          "old_text": null,
          "new_text": "arg_as_int(arg)",
          "old_line_content": "            case 'F':",
          "new_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 10, 'a', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "unichar_isdigit",
          "old_text": null,
          "new_text": "unichar_isdigit(*s)",
          "old_line_content": "    }",
          "new_line_content": "    if (unichar_isdigit(*s)) {",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "unichar_isdigit",
          "old_text": null,
          "new_text": "unichar_isdigit(*s)",
          "old_line_content": "}",
          "new_line_content": "        while (unichar_isdigit(*s));",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "                }",
          "new_line_content": "                pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), *str, flags, fill, width, prec);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT((mp_small_int_t)str[self->cur])",
          "old_line_content": "",
          "new_line_content": "        mp_obj_t o_out = MP_OBJ_NEW_SMALL_INT((mp_small_int_t)str[self->cur]);",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(\"<>=^\", ch)",
          "old_line_content": "static bool arg_looks_integer(mp_obj_t arg) {",
          "new_line_content": "    return ch && strchr(\"<>=^\", ch) != NULL;",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(\"bcdeEfFgGnosxX%\", ch)",
          "old_line_content": "static bool arg_looks_numeric(mp_obj_t arg) {",
          "new_line_content": "    return ch && strchr(\"bcdeEfFgGnosxX%\", ch) != NULL;",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": null,
          "new_api": "MP_OBJ_IS_INT",
          "old_text": null,
          "new_text": "MP_OBJ_IS_INT(arg)",
          "old_line_content": "#endif",
          "new_line_content": "    return MP_OBJ_IS_TYPE(arg, &mp_type_bool) || MP_OBJ_IS_INT(arg);",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "                if (len > prec) {",
          "new_line_content": "                vstr_t *arg_vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,\n                                    arg_vstr, arg, *str == 'r' ? PRINT_REPR : PRINT_STR)",
          "old_line_content": "                    len = prec;",
          "new_line_content": "                mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf,",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_it_t)",
          "old_line_content": "mp_obj_t mp_obj_new_bytes_iterator(mp_obj_t str) {",
          "new_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "old_line_content": "#endif",
          "new_line_content": "    if (MP_OBJ_IS_TYPE(arg, &mp_type_float)) {",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "vstr_str",
          "old_text": null,
          "new_text": "vstr_str(arg_vstr)",
          "old_line_content": "                    flags |= PF_FLAG_SHOW_PREFIX;",
          "new_line_content": "                pfenv_print_strn(&pfenv_vstr, vstr_str(arg_vstr), len, flags, ' ', width);",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(arg_vstr)",
          "old_line_content": "                }",
          "new_line_content": "                vstr_free(arg_vstr);",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_it_t)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "mp_obj_t mp_obj_str_format(uint n_args, const mp_obj_t *args) {",
          "new_line_content": "        mp_small_int_t num = mp_obj_get_float(arg);",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[0])",
          "old_line_content": "    pfenv_vstr.print_strn = pfenv_vstr_add_strn;",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], str, len)",
          "old_line_content": "    for (const byte *top = str + len; str < top; str++) {",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, len);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "            str++;",
          "new_line_content": "    vstr_t *vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "arg_as_int",
          "old_text": null,
          "new_text": "arg_as_int(arg)",
          "old_line_content": "        }",
          "new_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 16, 'A', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                    \"unsupported format character '%c' (0x%x) at index %d\",\n                    *str, *str, str - start_str)",
          "old_line_content": "    if (arg_i != n_args) {",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, '}')",
          "old_line_content": "            continue;",
          "new_line_content": "                vstr_add_char(vstr, '}');",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Single '}' encountered in format string\")",
          "old_line_content": "        str++;",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Single '}' encountered in format string\"));",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\")",
          "old_line_content": "",
          "new_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\"));",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, *str)",
          "old_line_content": "            continue;",
          "new_line_content": "            vstr_add_char(vstr, *str);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((byte*)vstr->buf, vstr->len, false)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_t s = mp_obj_new_str((byte*)vstr->buf, vstr->len, false);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(vstr)",
          "old_line_content": "    machine_int_t max_rep = -1;",
          "new_line_content": "    vstr_free(vstr);",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, '{')",
          "old_line_content": "        char conversion = '\\0';",
          "new_line_content": "            vstr_add_char(vstr, '{');",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[0])",
          "old_line_content": "        } else if (max_rep < 0) {",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(args[3])",
          "old_line_content": "",
          "new_line_content": "        max_rep = mp_obj_get_int(args[3]);",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "        // conversion ::=  \"r\" | \"s\"",
          "new_line_content": "            field_name = vstr_new();",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(field_name, *str++)",
          "old_line_content": "        if (str < top && *str == '!') {",
          "new_line_content": "                vstr_add_char(field_name, *str++);",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(field_name, '\\0')",
          "old_line_content": "            if (str < top && (*str == 'r' || *str == 's')) {",
          "new_line_content": "            vstr_add_char(field_name, '\\0');",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[1])",
          "old_line_content": "",
          "new_line_content": "    if (!MP_OBJ_IS_STR(args[1])) {",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[1])",
          "old_line_content": "    // extract string data",
          "new_line_content": "        bad_implicit_conversion(args[1]);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "bad_implicit_conversion",
          "old_text": null,
          "new_text": "bad_implicit_conversion(args[2])",
          "old_line_content": "    GET_STR_DATA_LEN(args[2], new, new_len);",
          "new_line_content": "        bad_implicit_conversion(args[2]);",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\")",
          "old_line_content": "            // This makes a difference when passing in a True or False",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\"));",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], old, old_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], old, old_len);",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "        if (str >= top) {",
          "new_line_content": "                format_spec = vstr_new(); ",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(format_spec, *str++)",
          "old_line_content": "        }",
          "new_line_content": "                    vstr_add_char(format_spec, *str++);",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\")",
          "old_line_content": "",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\"));",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)",
          "old_line_content": "            }",
          "new_line_content": "        while (num_replacements_done != max_rep && str_len_remain > 0 && (old_occurrence = find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)) != NULL) {",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": null,
          "new_api": "vstr_len",
          "old_text": null,
          "new_text": "vstr_len(field_name)",
          "old_line_content": "            arg_i = -1;",
          "new_line_content": "            if (str_to_int(vstr_str(field_name), &index) != vstr_len(field_name) - 1) {",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "old_line_content": "            if (arg_i < 0) {",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr)",
          "old_line_content": "            replaced_str_index += new_len;",
          "new_line_content": "                memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, new, new_len)",
          "old_line_content": "",
          "new_line_content": "                memcpy(data + replaced_str_index, new, new_len);",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"cannot switch from manual field specification to automatic field numbering\")",
          "old_line_content": "        }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"cannot switch from manual field specification to automatic field numbering\"));",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\")",
          "old_line_content": "        }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_IndexError, \"tuple index out of range\"));",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(data + replaced_str_index, offset_ptr, str_len_remain)",
          "old_line_content": "                // no substr found, return original string",
          "new_line_content": "            memcpy(data + replaced_str_index, offset_ptr, str_len_remain);",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"Unknown conversion specifier %c\", conversion)",
          "old_line_content": "",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"Unknown conversion specifier %c\", conversion));",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "mp_obj_get_type",
          "old_text": null,
          "new_text": "mp_obj_get_type(args[0])",
          "old_line_content": "    }",
          "new_line_content": "                replaced_str = mp_obj_str_builder_start(mp_obj_get_type(args[0]), replaced_str_index, &data);",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": null,
          "new_api": "vstr_new",
          "old_text": null,
          "new_text": "vstr_new()",
          "old_line_content": "        char fill = '\\0';",
          "new_line_content": "            vstr_t *arg_vstr = vstr_new();",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind)",
          "old_line_content": "        char align = '\\0';",
          "new_line_content": "            mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind);",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "vstr_len",
          "old_text": null,
          "new_text": "vstr_len(arg_vstr)",
          "old_line_content": "        int width = -1;",
          "new_line_content": "            arg = mp_obj_new_str((const byte *)vstr_str(arg_vstr), vstr_len(arg_vstr), false);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(arg_vstr)",
          "old_line_content": "        int precision = -1;",
          "new_line_content": "            vstr_free(arg_vstr);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(data != NULL)",
          "old_line_content": "",
          "new_line_content": "                assert(data != NULL);",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "mp_obj_str_builder_end",
          "old_text": null,
          "new_text": "mp_obj_str_builder_end(replaced_str)",
          "old_line_content": "",
          "new_line_content": "    return mp_obj_str_builder_end(replaced_str);",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(2 <= n_args && n_args <= 4)",
          "old_line_content": "    machine_uint_t start = 0;",
          "new_line_content": "    assert(2 <= n_args && n_args <= 4);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[0])",
          "old_line_content": "    machine_uint_t end = haystack_len;",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(args[1])",
          "old_line_content": "    if (n_args >= 3 && args[2] != mp_const_none) {",
          "new_line_content": "    assert(MP_OBJ_IS_STR(args[1]));",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "old_line_content": "    }",
          "new_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "old_line_content": "    if (n_args >= 4 && args[3] != mp_const_none) {",
          "new_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "mp_get_index",
          "old_text": null,
          "new_text": "mp_get_index(&mp_type_str, haystack_len, args[2], true)",
          "old_line_content": "    if (needle_len == 0) {",
          "new_line_content": "        start = mp_get_index(&mp_type_str, haystack_len, args[2], true);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "vstr_str",
          "old_text": null,
          "new_text": "vstr_str(format_spec)",
          "old_line_content": "            if (*s == '+' || *s == '-' || *s == ' ') {",
          "new_line_content": "            const char *s = vstr_str(format_spec);",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": null,
          "new_api": "isalignment",
          "old_text": null,
          "new_text": "isalignment(*s)",
          "old_line_content": "                if (*s == '+') {",
          "new_line_content": "            if (isalignment(*s)) {",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "mp_get_index",
          "old_text": null,
          "new_text": "mp_get_index(&mp_type_str, haystack_len, args[3], true)",
          "old_line_content": "",
          "new_line_content": "        end = mp_get_index(&mp_type_str, haystack_len, args[3], true);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "isalignment",
          "old_text": null,
          "new_text": "isalignment(s[1])",
          "old_line_content": "                } else if (*s == ' ') {",
          "new_line_content": "            } else if (*s && isalignment(s[1])) {",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(end - start + 1)",
          "old_line_content": "            num_occurrences++;",
          "new_line_content": "        return MP_OBJ_NEW_SMALL_INT(end - start + 1);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(&haystack[haystack_index], needle, needle_len)",
          "old_line_content": "}",
          "new_line_content": "        if (memcmp(&haystack[haystack_index], needle, needle_len) == 0) {",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_SMALL_INT",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_SMALL_INT(num_occurrences)",
          "old_line_content": "    }",
          "new_line_content": "    return MP_OBJ_NEW_SMALL_INT(num_occurrences);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(self_in)",
          "old_line_content": "",
          "new_line_content": "    assert(MP_OBJ_IS_STR(self_in));",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(arg)",
          "old_line_content": "    if (sep_len == 0) {",
          "new_line_content": "    if (!MP_OBJ_IS_STR(arg)) {",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(arg, sep, sep_len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(arg, sep, sep_len);",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\")",
          "old_line_content": "    } else {",
          "new_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"empty separator\"));",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_t result[] = {MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_), MP_OBJ_NEW_QSTR(MP_QSTR_)};",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "str_to_int",
          "old_text": null,
          "new_text": "str_to_int(s, &precision)",
          "old_line_content": "            }",
          "new_line_content": "                s += str_to_int(s, &precision);",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": null,
          "new_api": "istype",
          "old_text": null,
          "new_text": "istype(*s)",
          "old_line_content": "            format_spec = NULL;",
          "new_line_content": "            if (istype(*s)) {",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\")",
          "old_line_content": "                align = '>';",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\"));",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": null,
          "new_api": "find_subbytes",
          "old_text": null,
          "new_text": "find_subbytes(str, str_len, sep, sep_len, direction)",
          "old_line_content": "",
          "new_line_content": "    const byte *position_ptr = find_subbytes(str, str_len, sep, sep_len, direction);",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": null,
          "new_api": "vstr_free",
          "old_text": null,
          "new_text": "vstr_free(format_spec)",
          "old_line_content": "                align = '<';",
          "new_line_content": "            vstr_free(format_spec);",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str(str, position, false)",
          "old_line_content": "",
          "new_line_content": "        result[0] = mp_obj_new_str(str, position, false);",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "arg_looks_numeric",
          "old_text": null,
          "new_text": "arg_looks_numeric(arg)",
          "old_line_content": "            fill = ' ';",
          "new_line_content": "            if (arg_looks_numeric(arg)) {",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "mp_obj_new_tuple",
          "old_text": null,
          "new_text": "mp_obj_new_tuple(3, result)",
          "old_line_content": "STATIC mp_obj_t str_rpartition(mp_obj_t self_in, mp_obj_t arg) {",
          "new_line_content": "    return mp_obj_new_tuple(3, result);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "str_partitioner",
          "old_text": null,
          "new_text": "str_partitioner(self_in, arg, 1)",
          "old_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "new_line_content": "    return str_partitioner(self_in, arg, 1);",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "str_partitioner",
          "old_text": null,
          "new_text": "str_partitioner(self_in, arg, -1)",
          "old_line_content": "STATIC mp_obj_t bytes_decode(uint n_args, const mp_obj_t *args) {",
          "new_line_content": "    return str_partitioner(self_in, arg, -1);",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\")",
          "old_line_content": "        }",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\"));",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\")",
          "old_line_content": "            case '<': flags |= PF_FLAG_LEFT_ADJUST;     break;",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\"));",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "old_line_content": "// TODO: should accept kwargs too",
          "new_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "str_make_new",
          "old_text": null,
          "new_text": "str_make_new(NULL, n_args, 0, args)",
          "old_line_content": "        new_args[0] = args[0];",
          "new_line_content": "    return str_make_new(NULL, n_args, 0, args);",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "arg_looks_integer",
          "old_text": null,
          "new_text": "arg_looks_integer(arg)",
          "old_line_content": "                {",
          "new_line_content": "        if (arg_looks_integer(arg)) {",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "old_line_content": "",
          "new_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": null,
          "new_api": "mp_obj_get_int",
          "old_text": null,
          "new_text": "mp_obj_get_int(arg)",
          "old_line_content": "                case 'd':",
          "new_line_content": "                    char ch = mp_obj_get_int(arg);",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "bytes_make_new",
          "old_text": null,
          "new_text": "bytes_make_new(NULL, n_args, 0, args)",
          "old_line_content": "        bufinfo->buf = (void*)str_data;",
          "new_line_content": "    return bytes_make_new(NULL, n_args, 0, args);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width)",
          "old_line_content": "",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 10, 'a', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(self_in, str_data, str_len)",
          "old_line_content": "        bufinfo->buf = NULL;",
          "new_line_content": "        GET_STR_DATA_LEN(self_in, str_data, str_len);",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width)",
          "old_line_content": "                case 'X':",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'a', flags, fill, width)",
          "old_line_content": "                case 'e':",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'a', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "pfenv_print_mp_int",
          "old_text": null,
          "new_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'A', flags, fill, width)",
          "old_line_content": "                case 'g':",
          "new_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'A', flags, fill, width);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "            if (!type) {",
          "new_line_content": "                        \"Unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "arg_looks_numeric",
          "old_text": null,
          "new_text": "arg_looks_numeric(arg)",
          "old_line_content": "                // '{:10.1}'.format(0.0) ==> '0e+00'",
          "new_line_content": "        if (arg_looks_numeric(arg)) {",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_lstrip)",
          "old_line_content": "};",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_lstrip), (mp_obj_t)&str_lstrip_obj },",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_rstrip)",
          "old_line_content": "",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_rstrip), (mp_obj_t)&str_rstrip_obj },",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_format)",
          "old_line_content": "STATIC MP_DEFINE_CONST_DICT(str_locals_dict, str_locals_dict_table);",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_format), (mp_obj_t)&str_format_obj },",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_replace)",
          "old_line_content": "",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_replace), (mp_obj_t)&str_replace_obj },",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_count)",
          "old_line_content": "const mp_obj_type_t mp_type_str = {",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_count), (mp_obj_t)&str_count_obj },",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_partition)",
          "old_line_content": "    { &mp_type_type },",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_partition), (mp_obj_t)&str_partition_obj },",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(MP_QSTR_rpartition)",
          "old_line_content": "    .name = MP_QSTR_str,",
          "new_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_rpartition), (mp_obj_t)&str_rpartition_obj },",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": null,
          "new_api": "mp_obj_get_float",
          "old_text": null,
          "new_text": "mp_obj_get_float(arg)",
          "old_line_content": "#endif",
          "new_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), type, flags, fill, width, precision); ",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "m_new_obj",
          "old_text": null,
          "new_text": "m_new_obj(mp_obj_str_t)",
          "old_line_content": "    return o;",
          "new_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg_varg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"Unknown format code '%c' for object of type 'float'\",\n                        type, mp_obj_get_type_str(arg))",
          "old_line_content": "            if (align == '=') {",
          "new_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "m_new",
          "old_text": null,
          "new_text": "m_new(byte, len + 1)",
          "old_line_content": "    mp_obj_str_t *o = o_in;",
          "new_line_content": "    byte *p = m_new(byte, len + 1);",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "            }",
          "new_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\")",
          "old_line_content": "",
          "new_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\"));",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "mp_obj_print_helper",
          "old_text": null,
          "new_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR)",
          "old_line_content": "                    if (precision < 0) {",
          "new_line_content": "                    mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "qstr_compute_hash",
          "old_text": null,
          "new_text": "qstr_compute_hash(data, len)",
          "old_line_content": "}",
          "new_line_content": "        o->hash = qstr_compute_hash(data, len);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "m_new",
          "old_text": null,
          "new_text": "m_new(byte, len + 1)",
          "old_line_content": "",
          "new_line_content": "        byte *p = m_new(byte, len + 1);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": null,
          "new_api": "qstr_find_strn",
          "old_text": null,
          "new_text": "qstr_find_strn(data, len)",
          "old_line_content": "    } else {",
          "new_line_content": "    qstr q = qstr_find_strn(data, len);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "MP_OBJ_NEW_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_NEW_QSTR(q)",
          "old_line_content": "    }",
          "new_line_content": "        return MP_OBJ_NEW_QSTR(q);",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(arg)",
          "old_line_content": "    return s;",
          "new_line_content": "                        type, mp_obj_get_type_str(arg)));",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "qstr_from_strn",
          "old_text": null,
          "new_text": "qstr_from_strn((const char*)data, len)",
          "old_line_content": "mp_obj_t mp_obj_new_bytes(const byte* data, uint len) {",
          "new_line_content": "        return MP_OBJ_NEW_QSTR(qstr_from_strn((const char*)data, len));",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "mp_obj_new_str",
          "old_text": null,
          "new_text": "mp_obj_new_str((byte*)vstr->buf, vstr->len, false)",
          "old_line_content": "",
          "new_line_content": "    mp_obj_t s = mp_obj_new_str((byte*)vstr->buf, vstr->len, false);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": null,
          "new_api": "str_new",
          "old_text": null,
          "new_text": "str_new(&mp_type_str, data, len)",
          "old_line_content": "",
          "new_line_content": "        return str_new(&mp_type_str, data, len);",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "MP_OBJ_IS_STR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_STR(pattern)",
          "old_line_content": "    pfenv_vstr.data = vstr;",
          "new_line_content": "    assert(MP_OBJ_IS_STR(pattern));",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(pattern, str, len)",
          "old_line_content": "",
          "new_line_content": "    GET_STR_DATA_LEN(pattern, str, len);",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "MP_OBJ_IS_QSTR",
          "old_text": null,
          "new_text": "MP_OBJ_IS_QSTR(s2)",
          "old_line_content": "            return false;",
          "new_line_content": "    if (MP_OBJ_IS_QSTR(s1) && MP_OBJ_IS_QSTR(s2)) {",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "GET_STR_HASH",
          "old_text": null,
          "new_text": "GET_STR_HASH(s2, h2)",
          "old_line_content": "        if (l1 != l2) {",
          "new_line_content": "        GET_STR_HASH(s2, h2);",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(s1, d1, l1)",
          "old_line_content": "}",
          "new_line_content": "        GET_STR_DATA_LEN(s1, d1, l1);",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "GET_STR_DATA_LEN",
          "old_text": null,
          "new_text": "GET_STR_DATA_LEN(s2, d2, l2)",
          "old_line_content": "",
          "new_line_content": "        GET_STR_DATA_LEN(s2, d2, l2);",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(d1, d2, l1)",
          "old_line_content": "",
          "new_line_content": "        return memcmp(d1, d2, l1) == 0;",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "vstr_add_char",
          "old_text": null,
          "new_text": "vstr_add_char(vstr, '%')",
          "old_line_content": "        char fill = ' ';",
          "new_line_content": "            vstr_add_char(vstr, '%');",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "mp_obj_get_type_str",
          "old_text": null,
          "new_text": "mp_obj_get_type_str(self_in)",
          "old_line_content": "        return h;",
          "new_line_content": "    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_TypeError, \"Can't convert '%s' object to str implicitly\", mp_obj_get_type_str(self_in)));",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "mp_obj_new_exception_msg",
          "old_text": null,
          "new_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\")",
          "old_line_content": "            else if (*str == '+') flags |= PF_FLAG_SHOW_SIGN;",
          "new_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\"));",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "old_line_content": "",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "GET_STR_HASH",
          "old_text": null,
          "new_text": "GET_STR_HASH(self_in, h)",
          "old_line_content": "uint mp_obj_str_get_len(mp_obj_t self_in) {",
          "new_line_content": "        GET_STR_HASH(self_in, h);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "MP_OBJ_IS_TYPE",
          "old_text": null,
          "new_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "old_line_content": "",
          "new_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": null,
          "new_api": "GET_STR_LEN",
          "old_text": null,
          "new_text": "GET_STR_LEN(self_in, l)",
          "old_line_content": "// use this if you will anyway convert the string to a qstr",
          "new_line_content": "        GET_STR_LEN(self_in, l);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1538,
          "old_api": "MP_OBJ_QSTR_VALUE",
          "new_api": null,
          "old_text": "MP_OBJ_QSTR_VALUE(self_in)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_QSTR_VALUE(self_in);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_str)",
          "new_text": null,
          "old_line_content": "    } else if (MP_OBJ_IS_TYPE(self_in, &mp_type_str)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": "qstr_from_strn",
          "new_api": null,
          "old_text": "qstr_from_strn((char*)self->data, self->len)",
          "new_text": null,
          "old_line_content": "        return qstr_from_strn((char*)self->data, self->len);",
          "new_line_content": "// use this if you will anyway convert the string to a qstr",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "qstr mp_obj_str_get_qstr(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[arg_i++])",
          "new_text": null,
          "old_line_content": "                    prec = mp_obj_get_int(args[arg_i++]);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1)",
          "new_text": null,
          "old_line_content": "        if (find_subbytes(chars_to_del, chars_to_del_len, &orig_str[i], 1, 1) == NULL) {",
          "new_line_content": "    if (type == RSTRIP) {",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "// at the moment all strings are zero terminated to help with C ASCIIZ compatibility",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"incomplete format\"));",
          "new_line_content": "                        prec = prec * 10 + *str - '0';",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(self_in)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in)) {",
          "new_line_content": "        return (const char*)s;",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(arg)",
          "new_text": null,
          "old_line_content": "                if (MP_OBJ_IS_STR(arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_QSTR(MP_QSTR_);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, s, l)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, s, l);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(last_good_char_pos >= first_good_char_pos)",
          "new_text": null,
          "old_line_content": "    assert(last_good_char_pos >= first_good_char_pos);",
          "new_line_content": "            last_good_char_pos = i;",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"%c requires int or char\")",
          "new_text": null,
          "old_line_content": "                        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"%c requires int or char\")); ",
          "new_line_content": "        mp_obj_t arg = args[arg_i];",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str(orig_str + first_good_char_pos, stripped_len, false)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_str(orig_str + first_good_char_pos, stripped_len, false);",
          "new_line_content": "        // string is all whitespace, return ''",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "arg_looks_integer",
          "new_api": null,
          "old_text": "arg_looks_integer(arg)",
          "new_text": null,
          "old_line_content": "                if (arg_looks_integer(arg)) {",
          "new_line_content": "                    if (len != 1) {",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "pfenv_print_strn",
          "new_api": null,
          "old_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, ' ', width);",
          "new_line_content": "                        break;",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(LSTRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(LSTRIP, n_args, args);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "new_line_content": "    mp_obj_base_t base;",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str(str + self->cur, 1, true)",
          "new_text": null,
          "old_line_content": "        mp_obj_t o_out = mp_obj_new_str(str + self->cur, 1, true);",
          "new_line_content": "    machine_uint_t cur;",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "str_uni_strip",
          "new_api": null,
          "old_text": "str_uni_strip(RSTRIP, n_args, args)",
          "new_text": null,
          "old_line_content": "    return str_uni_strip(RSTRIP, n_args, args);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"an integer is required\")); ",
          "new_line_content": "#if MICROPY_ENABLE_FLOAT",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "arg_as_int",
          "new_api": null,
          "old_text": "arg_as_int(arg)",
          "new_text": null,
          "old_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 10, 'a', flags, fill, width);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "unichar_isdigit",
          "new_api": null,
          "old_text": "unichar_isdigit(*s)",
          "new_text": null,
          "old_line_content": "        while (unichar_isdigit(*s));",
          "new_line_content": "    const char *s = str;",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), *str, flags, fill, width, prec);",
          "new_line_content": "#if MICROPY_ENABLE_FLOAT",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self->str, str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self->str, str, len);",
          "new_line_content": "    .name = MP_QSTR_iterator,",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT((mp_small_int_t)str[self->cur])",
          "new_text": null,
          "old_line_content": "        mp_obj_t o_out = MP_OBJ_NEW_SMALL_INT((mp_small_int_t)str[self->cur]);",
          "new_line_content": "    .iternext = str_it_iternext,",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(\"<>=^\", ch)",
          "new_text": null,
          "old_line_content": "    return ch && strchr(\"<>=^\", ch) != NULL;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(\"bcdeEfFgGnosxX%\", ch)",
          "new_text": null,
          "old_line_content": "    return ch && strchr(\"bcdeEfFgGnosxX%\", ch) != NULL;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "arg_as_int",
          "new_api": null,
          "old_text": "arg_as_int(arg)",
          "new_text": null,
          "old_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 8, 'a', flags, fill, width); ",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "MP_OBJ_IS_INT",
          "new_api": null,
          "old_text": "MP_OBJ_IS_INT(arg)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_IS_TYPE(arg, &mp_type_bool) || MP_OBJ_IS_INT(arg);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "                vstr_t *arg_vstr = vstr_new();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_text": null,
          "old_line_content": "        || MP_OBJ_IS_TYPE(arg, &mp_type_float)",
          "new_line_content": "static bool arg_looks_integer(mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "vstr_len",
          "new_api": null,
          "old_text": "vstr_len(arg_vstr)",
          "new_text": null,
          "old_line_content": "                uint len = vstr_len(arg_vstr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_it_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "new_line_content": "    { &mp_type_type },",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(arg_vstr)",
          "new_text": null,
          "old_line_content": "                vstr_free(arg_vstr);",
          "new_line_content": "                if (prec < 0) {",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_it_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_it_t *o = m_new_obj(mp_obj_str_it_t);",
          "new_line_content": "    o->base.type = &mp_type_str_it;",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "        mp_small_int_t num = mp_obj_get_float(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(num)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(num);",
          "new_line_content": "static mp_obj_t arg_as_int(mp_obj_t arg) {",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "arg_as_int",
          "new_api": null,
          "old_text": "arg_as_int(arg)",
          "new_text": null,
          "old_line_content": "                pfenv_print_mp_int(&pfenv_vstr, arg_as_int(arg), 1, 16, 'a', flags, fill, width);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, len);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "    vstr_t *vstr = vstr_new();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                    \"unsupported format character '%c' (0x%x) at index %d\",\n                    *str, *str, str - start_str)",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                if (alt) {",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, '}')",
          "new_text": null,
          "old_line_content": "                vstr_add_char(vstr, '}');",
          "new_line_content": "    pfenv_vstr.data = vstr;",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Single '}' encountered in format string\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Single '}' encountered in format string\"));",
          "new_line_content": "    for (const byte *top = str + len; str < top; str++) {",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\")",
          "new_text": null,
          "old_line_content": "        nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not all arguments converted during string formatting\"));",
          "new_line_content": "                    \"unsupported format character '%c' (0x%x) at index %d\",",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, *str)",
          "new_text": null,
          "old_line_content": "            vstr_add_char(vstr, *str);",
          "new_line_content": "            if (str < top && *str == '}') {",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str((byte*)vstr->buf, vstr->len, false)",
          "new_text": null,
          "old_line_content": "    mp_obj_t s = mp_obj_new_str((byte*)vstr->buf, vstr->len, false);",
          "new_line_content": "        arg_i++;",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(vstr)",
          "new_text": null,
          "old_line_content": "    vstr_free(vstr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(vstr, '{')",
          "new_text": null,
          "old_line_content": "            vstr_add_char(vstr, '{');",
          "new_line_content": "        if (*str != '{') {",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[3])",
          "new_text": null,
          "old_line_content": "        max_rep = mp_obj_get_int(args[3]);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "            field_name = vstr_new();",
          "new_line_content": "        // replacement_field ::=  \"{\" [field_name] [\"!\" conversion] [\":\" format_spec] \"}\"",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(field_name, *str++)",
          "new_text": null,
          "old_line_content": "                vstr_add_char(field_name, *str++);",
          "new_line_content": "        vstr_t *field_name = NULL;",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(field_name, '\\0')",
          "new_text": null,
          "old_line_content": "            vstr_add_char(field_name, '\\0');",
          "new_line_content": "        vstr_t *format_spec = NULL;",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[1])",
          "new_text": null,
          "old_line_content": "    if (!MP_OBJ_IS_STR(args[1])) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(args[1])",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(args[1]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[2])",
          "new_text": null,
          "old_line_content": "    if (!MP_OBJ_IS_STR(args[2])) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(args[2])",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(args[2]);",
          "new_line_content": "    // check argument types",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"end of format while looking for conversion specifier\"));",
          "new_line_content": "        // conversion ::=  \"r\" | \"s\"",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], str, str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "                format_spec = vstr_new(); ",
          "new_line_content": "            str++;",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(format_spec, *str++)",
          "new_text": null,
          "old_line_content": "                    vstr_add_char(format_spec, *str++);",
          "new_line_content": "            // This makes a difference when passing in a True or False",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "vstr_add_char",
          "new_api": null,
          "old_text": "vstr_add_char(format_spec, '\\0')",
          "new_text": null,
          "old_line_content": "                vstr_add_char(format_spec, '\\0');",
          "new_line_content": "            // '{:d}'.format(True) returns '1'",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"unmatched '{' in format\"));",
          "new_line_content": "                while (str < top && *str != '}') {",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)",
          "new_text": null,
          "old_line_content": "        while (num_replacements_done != max_rep && str_len_remain > 0 && (old_occurrence = find_subbytes(offset_ptr, str_len_remain, old, old_len, 1)) != NULL) {",
          "new_line_content": "            // copy the replacement string",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "vstr_len",
          "new_api": null,
          "old_text": "vstr_len(field_name)",
          "new_text": null,
          "old_line_content": "            if (str_to_int(vstr_str(field_name), &index) != vstr_len(field_name) - 1) {",
          "new_line_content": "        mp_obj_t arg = mp_const_none;",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"attributes not supported yet\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr)",
          "new_text": null,
          "old_line_content": "                memcpy(data + replaced_str_index, offset_ptr, old_occurrence - offset_ptr);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, new, new_len)",
          "new_text": null,
          "old_line_content": "                memcpy(data + replaced_str_index, new, new_len);",
          "new_line_content": "            // copy from just after end of last occurrence of to-be-replaced string to right before start of next occurrence",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"cannot switch from manual field specification to automatic field numbering\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"cannot switch from manual field specification to automatic field numbering\"));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(data + replaced_str_index, offset_ptr, str_len_remain)",
          "new_text": null,
          "old_line_content": "            memcpy(data + replaced_str_index, offset_ptr, str_len_remain);",
          "new_line_content": "            offset_ptr = old_occurrence + old_len;",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"Unknown conversion specifier %c\", conversion)",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError, \"Unknown conversion specifier %c\", conversion));",
          "new_line_content": "        if (conversion) {",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "mp_obj_get_type",
          "new_api": null,
          "old_text": "mp_obj_get_type(args[0])",
          "new_text": null,
          "old_line_content": "                replaced_str = mp_obj_str_builder_start(mp_obj_get_type(args[0]), replaced_str_index, &data);",
          "new_line_content": "        if (data == NULL) {",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "            vstr_t *arg_vstr = vstr_new();",
          "new_line_content": "            if (conversion == 's') {",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "mp_obj_print_helper",
          "new_api": null,
          "old_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind)",
          "new_text": null,
          "old_line_content": "            mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, arg_vstr, arg, print_kind);",
          "new_line_content": "                print_kind = PRINT_STR;",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "vstr_len",
          "new_api": null,
          "old_text": "vstr_len(arg_vstr)",
          "new_text": null,
          "old_line_content": "            arg = mp_obj_new_str((const byte *)vstr_str(arg_vstr), vstr_len(arg_vstr), false);",
          "new_line_content": "            } else if (conversion == 'r') {",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(arg_vstr)",
          "new_text": null,
          "old_line_content": "            vstr_free(arg_vstr);",
          "new_line_content": "                print_kind = PRINT_REPR;",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(data != NULL)",
          "new_text": null,
          "old_line_content": "                assert(data != NULL);",
          "new_line_content": "            // first pass",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "mp_obj_str_builder_end",
          "new_api": null,
          "old_text": "mp_obj_str_builder_end(replaced_str)",
          "new_text": null,
          "old_line_content": "    return mp_obj_str_builder_end(replaced_str);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(2 <= n_args && n_args <= 4)",
          "new_text": null,
          "old_line_content": "    assert(2 <= n_args && n_args <= 4);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[0])",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[0]));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(args[1])",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(args[1]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[0], haystack, haystack_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[0], haystack, haystack_len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(args[1], needle, needle_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(args[1], needle, needle_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "mp_get_index",
          "new_api": null,
          "old_text": "mp_get_index(&mp_type_str, haystack_len, args[2], true)",
          "new_text": null,
          "old_line_content": "        start = mp_get_index(&mp_type_str, haystack_len, args[2], true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "vstr_str",
          "new_api": null,
          "old_text": "vstr_str(format_spec)",
          "new_text": null,
          "old_line_content": "            const char *s = vstr_str(format_spec);",
          "new_line_content": "            // fill        ::=  <any character>",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "isalignment",
          "new_api": null,
          "old_text": "isalignment(*s)",
          "new_text": null,
          "old_line_content": "            if (isalignment(*s)) {",
          "new_line_content": "            // align       ::=  \"<\" | \">\" | \"=\" | \"^\"",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "mp_get_index",
          "new_api": null,
          "old_text": "mp_get_index(&mp_type_str, haystack_len, args[3], true)",
          "new_text": null,
          "old_line_content": "        end = mp_get_index(&mp_type_str, haystack_len, args[3], true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "isalignment",
          "new_api": null,
          "old_text": "isalignment(s[1])",
          "new_text": null,
          "old_line_content": "            } else if (*s && isalignment(s[1])) {",
          "new_line_content": "            // width       ::=  integer",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(end - start + 1)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_SMALL_INT(end - start + 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(&haystack[haystack_index], needle, needle_len)",
          "new_text": null,
          "old_line_content": "        if (memcmp(&haystack[haystack_index], needle, needle_len) == 0) {",
          "new_line_content": "    if (needle_len == 0) {",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "MP_OBJ_NEW_SMALL_INT",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_SMALL_INT(num_occurrences)",
          "new_text": null,
          "old_line_content": "    return MP_OBJ_NEW_SMALL_INT(num_occurrences);",
          "new_line_content": "    for (machine_uint_t haystack_index = start; haystack_index + needle_len <= end; haystack_index++) {",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(self_in)",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(self_in));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(arg)",
          "new_text": null,
          "old_line_content": "    if (!MP_OBJ_IS_STR(arg)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(arg)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, str, str_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(self_in, str, str_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "str_to_int",
          "new_api": null,
          "old_text": "str_to_int(s, &width)",
          "new_text": null,
          "old_line_content": "            s += str_to_int(s, &width);",
          "new_line_content": "                if (!align) {",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(arg, sep, sep_len)",
          "new_text": null,
          "old_line_content": "    GET_STR_DATA_LEN(arg, sep, sep_len);",
          "new_line_content": "STATIC mp_obj_t str_partitioner(mp_obj_t self_in, mp_obj_t arg, machine_int_t direction) {",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "istype",
          "new_api": null,
          "old_text": "istype(*s)",
          "new_text": null,
          "old_line_content": "            if (istype(*s)) {",
          "new_line_content": "                flags |= PF_FLAG_SHOW_COMMA;",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_KeyError, \"Invalid conversion specification\"));",
          "new_line_content": "                s++;",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "find_subbytes",
          "new_api": null,
          "old_text": "find_subbytes(str, str_len, sep, sep_len, direction)",
          "new_text": null,
          "old_line_content": "    const byte *position_ptr = find_subbytes(str, str_len, sep, sep_len, direction);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(format_spec)",
          "new_text": null,
          "old_line_content": "            vstr_free(format_spec);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str(str, position, false)",
          "new_text": null,
          "old_line_content": "        result[0] = mp_obj_new_str(str, position, false);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "arg_looks_numeric",
          "new_api": null,
          "old_text": "arg_looks_numeric(arg)",
          "new_text": null,
          "old_line_content": "            if (arg_looks_numeric(arg)) {",
          "new_line_content": "            if (*s) {",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "mp_obj_new_str",
          "new_api": null,
          "old_text": "mp_obj_new_str(str + position + sep_len, str_len - position - sep_len, false)",
          "new_text": null,
          "old_line_content": "        result[2] = mp_obj_new_str(str + position + sep_len, str_len - position - sep_len, false);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "mp_obj_new_tuple",
          "new_api": null,
          "old_text": "mp_obj_new_tuple(3, result)",
          "new_text": null,
          "old_line_content": "    return mp_obj_new_tuple(3, result);",
          "new_line_content": "    if (position_ptr != NULL) {",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "str_partitioner",
          "new_api": null,
          "old_text": "str_partitioner(self_in, arg, -1)",
          "new_text": null,
          "old_line_content": "    return str_partitioner(self_in, arg, -1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed in string format specifier\"));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"Sign not allowed with integer format specifier 'c'\"));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "new_text": null,
          "old_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "new_line_content": "// These methods are superfluous in the presense of str() and bytes()",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": "str_make_new",
          "new_api": null,
          "old_text": "str_make_new(NULL, n_args, 0, args)",
          "new_text": null,
          "old_line_content": "    return str_make_new(NULL, n_args, 0, args);",
          "new_line_content": "    mp_obj_t new_args[2];",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "arg_looks_integer",
          "new_api": null,
          "old_text": "arg_looks_integer(arg)",
          "new_text": null,
          "old_line_content": "        if (arg_looks_integer(arg)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 2, 'a', flags, fill, width);",
          "new_line_content": "            case '=': flags |= PF_FLAG_PAD_AFTER_SIGN;  break;",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8)",
          "new_text": null,
          "old_line_content": "        new_args[1] = MP_OBJ_NEW_QSTR(MP_QSTR_utf_hyphen_8);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(arg)",
          "new_text": null,
          "old_line_content": "                    char ch = mp_obj_get_int(arg);",
          "new_line_content": "            switch (type) {",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "pfenv_print_strn",
          "new_api": null,
          "old_text": "pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_strn(&pfenv_vstr, &ch, 1, flags, fill, width);",
          "new_line_content": "                case 'b':",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "bytes_make_new",
          "new_api": null,
          "old_text": "bytes_make_new(NULL, n_args, 0, args)",
          "new_text": null,
          "old_line_content": "    return bytes_make_new(NULL, n_args, 0, args);",
          "new_line_content": "    mp_obj_t new_args[2];",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(self_in, str_data, str_len)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(self_in, str_data, str_len);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 8, 'a', flags, fill, width);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'a', flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'a', flags, fill, width);",
          "new_line_content": "                        flags |= PF_FLAG_SHOW_OCTAL_LETTER;",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "pfenv_print_mp_int",
          "new_api": null,
          "old_text": "pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'A', flags, fill, width)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_mp_int(&pfenv_vstr, arg, 1, 16, 'A', flags, fill, width);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"Unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                case 'G':",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(arg)",
          "new_text": null,
          "old_line_content": "                        \"Unknown format code '%c' for object of type '%s'\", type, mp_obj_get_type_str(arg)));",
          "new_line_content": "                case '%':",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_decode)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_decode), (mp_obj_t)&bytes_decode_obj },",
          "new_line_content": "STATIC MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_replace_obj, 3, 4, str_replace);",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_encode)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_encode), (mp_obj_t)&str_encode_obj },",
          "new_line_content": "STATIC MP_DEFINE_CONST_FUN_OBJ_VAR_BETWEEN(str_count_obj, 2, 4, str_count);",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_find)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_find), (mp_obj_t)&str_find_obj },",
          "new_line_content": "STATIC MP_DEFINE_CONST_FUN_OBJ_2(str_rpartition_obj, str_rpartition);",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_rfind)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_rfind), (mp_obj_t)&str_rfind_obj },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_index)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_index), (mp_obj_t)&str_index_obj },",
          "new_line_content": "STATIC const mp_map_elem_t str_locals_dict_table[] = {",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_rindex)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_rindex), (mp_obj_t)&str_rindex_obj },",
          "new_line_content": "#if MICROPY_CPYTHON_COMPAT",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(MP_QSTR_startswith)",
          "new_text": null,
          "old_line_content": "    { MP_OBJ_NEW_QSTR(MP_QSTR_startswith), (mp_obj_t)&str_startswith_obj },",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg), type, flags, fill, width, precision); ",
          "new_line_content": "#if MICROPY_ENABLE_FLOAT",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "mp_obj_get_float",
          "new_api": null,
          "old_text": "mp_obj_get_float(arg)",
          "new_text": null,
          "old_line_content": "                    pfenv_print_float(&pfenv_vstr, mp_obj_get_float(arg) * 100.0F, 'f', flags, fill, width, precision);",
          "new_line_content": "                case 'g':",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "m_new_obj",
          "new_api": null,
          "old_text": "m_new_obj(mp_obj_str_t)",
          "new_text": null,
          "old_line_content": "    mp_obj_str_t *o = m_new_obj(mp_obj_str_t);",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"Unknown format code '%c' for object of type 'float'\",\n                        type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                case '%':",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "m_new",
          "new_api": null,
          "old_text": "m_new(byte, len + 1)",
          "new_text": null,
          "old_line_content": "    byte *p = m_new(byte, len + 1);",
          "new_line_content": "const mp_obj_t mp_const_empty_bytes = (mp_obj_t)&empty_bytes_obj;",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\")",
          "new_text": null,
          "old_line_content": "                nlr_raise(mp_obj_new_exception_msg(&mp_type_ValueError, \"'=' alignment not allowed in string format specifier\"));",
          "new_line_content": "                        \"Unknown format code '%c' for object of type 'float'\",",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash(o->data, o->len)",
          "new_text": null,
          "old_line_content": "    o->hash = qstr_compute_hash(o->data, o->len);",
          "new_line_content": "    o->data = p;",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "mp_obj_print_helper",
          "new_api": null,
          "old_text": "mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR)",
          "new_text": null,
          "old_line_content": "                    mp_obj_print_helper((void (*)(void*, const char*, ...))vstr_printf, vstr, arg, PRINT_STR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "mp_obj_str_get_data",
          "new_api": null,
          "old_text": "mp_obj_str_get_data(arg, &len)",
          "new_text": null,
          "old_line_content": "                    const char *s = mp_obj_str_get_data(arg, &len);",
          "new_line_content": "                case '\\0':",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "qstr_compute_hash",
          "new_api": null,
          "old_text": "qstr_compute_hash(data, len)",
          "new_text": null,
          "old_line_content": "        o->hash = qstr_compute_hash(data, len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "m_new",
          "new_api": null,
          "old_text": "m_new(byte, len + 1)",
          "new_text": null,
          "old_line_content": "        byte *p = m_new(byte, len + 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "mp_obj_new_exception_msg_varg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg_varg(&mp_type_ValueError,\n                        \"Unknown format code '%c' for object of type 'str'\",\n                        type, mp_obj_get_type_str(arg))",
          "new_text": null,
          "old_line_content": "                    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_ValueError,",
          "new_line_content": "                        len = precision;",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "MP_OBJ_NEW_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_NEW_QSTR(q)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_QSTR(q);",
          "new_line_content": "    return o;",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "qstr_from_strn",
          "new_api": null,
          "old_text": "qstr_from_strn((const char*)data, len)",
          "new_text": null,
          "old_line_content": "        return MP_OBJ_NEW_QSTR(qstr_from_strn((const char*)data, len));",
          "new_line_content": "mp_obj_t mp_obj_new_str(const byte* data, uint len, bool make_qstr_if_not_already) {",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "str_new",
          "new_api": null,
          "old_text": "str_new(&mp_type_str, data, len)",
          "new_text": null,
          "old_line_content": "        return str_new(&mp_type_str, data, len);",
          "new_line_content": "        // qstr with this data already exists",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "vstr_free",
          "new_api": null,
          "old_text": "vstr_free(vstr)",
          "new_text": null,
          "old_line_content": "    vstr_free(vstr);",
          "new_line_content": "                        \"Unknown format code '%c' for object of type 'str'\",",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "str_new",
          "new_api": null,
          "old_text": "str_new(&mp_type_bytes, data, len)",
          "new_text": null,
          "old_line_content": "    return str_new(&mp_type_bytes, data, len);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "MP_OBJ_IS_STR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_STR(pattern)",
          "new_text": null,
          "old_line_content": "    assert(MP_OBJ_IS_STR(pattern));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "MP_OBJ_IS_QSTR",
          "new_api": null,
          "old_text": "MP_OBJ_IS_QSTR(s2)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_QSTR(s1) && MP_OBJ_IS_QSTR(s2)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "vstr_new",
          "new_api": null,
          "old_text": "vstr_new()",
          "new_text": null,
          "old_line_content": "    vstr_t *vstr = vstr_new();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "GET_STR_HASH",
          "new_api": null,
          "old_text": "GET_STR_HASH(s2, h2)",
          "new_text": null,
          "old_line_content": "        GET_STR_HASH(s2, h2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "GET_STR_DATA_LEN",
          "new_api": null,
          "old_text": "GET_STR_DATA_LEN(s1, d1, l1)",
          "new_text": null,
          "old_line_content": "        GET_STR_DATA_LEN(s1, d1, l1);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(d1, d2, l1)",
          "new_text": null,
          "old_line_content": "        return memcmp(d1, d2, l1) == 0;",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "mp_obj_get_type_str",
          "new_api": null,
          "old_text": "mp_obj_get_type_str(self_in)",
          "new_text": null,
          "old_line_content": "    nlr_raise(mp_obj_new_exception_msg_varg(&mp_type_TypeError, \"Can't convert '%s' object to str implicitly\", mp_obj_get_type_str(self_in)));",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "mp_obj_new_exception_msg",
          "new_api": null,
          "old_text": "mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\")",
          "new_text": null,
          "old_line_content": "            nlr_raise(mp_obj_new_exception_msg(&mp_type_TypeError, \"not enough arguments for format string\"));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "GET_STR_HASH",
          "new_api": null,
          "old_text": "GET_STR_HASH(self_in, h)",
          "new_text": null,
          "old_line_content": "        GET_STR_HASH(self_in, h);",
          "new_line_content": "STATIC void bad_implicit_conversion(mp_obj_t self_in) {",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "MP_OBJ_IS_TYPE",
          "new_api": null,
          "old_text": "MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)",
          "new_text": null,
          "old_line_content": "    if (MP_OBJ_IS_STR(self_in) || MP_OBJ_IS_TYPE(self_in, &mp_type_bytes)) {",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "bad_implicit_conversion",
          "new_api": null,
          "old_text": "bad_implicit_conversion(self_in)",
          "new_text": null,
          "old_line_content": "        bad_implicit_conversion(self_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "mp_obj_get_int",
          "new_api": null,
          "old_text": "mp_obj_get_int(args[arg_i++])",
          "new_text": null,
          "old_line_content": "                width = mp_obj_get_int(args[arg_i++]);",
          "new_line_content": "            } else break;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 33,
      "total_additions": 164,
      "total_deletions": 164,
      "total_api_changes": 361
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 361,
        "non_api_lines": 13,
        "non_api_line_numbers": [
          544,
          521,
          522,
          524,
          525,
          526,
          527,
          534,
          535,
          536,
          537,
          542,
          543
        ]
      }
    },
    "api_calls_before": 418,
    "api_calls_after": 418,
    "diff_info": {
      "added_lines": 12,
      "removed_lines": 5,
      "total_diff_lines": 47
    }
  }
}