{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/solidity/modified_file/d60ef3f2d792989ebcbf3326bcf8fced6031b5b9",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/solidity/modified_file/d60ef3f2d792989ebcbf3326bcf8fced6031b5b9/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/solidity/modified_file/d60ef3f2d792989ebcbf3326bcf8fced6031b5b9/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/solidity/modified_file/d60ef3f2d792989ebcbf3326bcf8fced6031b5b9/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 322,
          "old_api": "startFunction",
          "new_api": "isStateVariable",
          "old_text": "m_context.startFunction(_variableDeclaration)",
          "new_text": "_variableDeclaration.isStateVariable()",
          "old_line_content": "\tm_context.startFunction(_variableDeclaration);",
          "new_line_content": "\tsolAssert(_variableDeclaration.isStateVariable(), \"Compiler visit to non-state variable declaration.\");",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "appendStateVariableAccessor",
          "new_api": "clear",
          "old_text": "ExpressionCompiler(m_context, m_optimize).appendStateVariableAccessor(_variableDeclaration)",
          "new_text": "m_breakTags.clear()",
          "old_line_content": "\tExpressionCompiler(m_context, m_optimize).appendStateVariableAccessor(_variableDeclaration);",
          "new_line_content": "\tm_breakTags.clear();",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "adjustStackOffset",
          "new_api": "getParameters",
          "old_text": "m_context.adjustStackOffset(parametersSize + 1)",
          "new_text": "_function.getParameters()",
          "old_line_content": "\t\tm_context.adjustStackOffset(parametersSize + 1);",
          "new_line_content": "\tunsigned parametersSize = CompilerUtils::getSizeOnStack(_function.getParameters());",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "getParameters",
          "new_api": "isConstructor",
          "old_text": "_function.getParameters()",
          "new_text": "_function.isConstructor()",
          "old_line_content": "\tfor (ASTPointer<VariableDeclaration const> const& variable: _function.getParameters())",
          "new_line_content": "\tif (!_function.isConstructor())",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "addVariable",
          "new_api": "adjustStackOffset",
          "old_text": "m_context.addVariable(*variable, parametersSize)",
          "new_text": "m_context.adjustStackOffset(parametersSize + 1)",
          "old_line_content": "\t\tm_context.addVariable(*variable, parametersSize);",
          "new_line_content": "\t\tm_context.adjustStackOffset(parametersSize + 1);",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "getType",
          "new_api": "getParameters",
          "old_text": "variable->getType()->getSizeOnStack()",
          "new_text": "_function.getParameters()",
          "old_line_content": "\t\tparametersSize -= variable->getType()->getSizeOnStack();",
          "new_line_content": "\tfor (ASTPointer<VariableDeclaration const> const& variable: _function.getParameters())",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "getReturnParameters",
          "new_api": "getType",
          "old_text": "_function.getReturnParameters()",
          "new_text": "variable->getType()->getSizeOnStack()",
          "old_line_content": "\tfor (ASTPointer<VariableDeclaration const> const& variable: _function.getReturnParameters())",
          "new_line_content": "\t\tparametersSize -= variable->getType()->getSizeOnStack();",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "addAndInitializeVariable",
          "new_api": "getReturnParameters",
          "old_text": "m_context.addAndInitializeVariable(*localVariable)",
          "new_text": "_function.getReturnParameters()",
          "old_line_content": "\t\tm_context.addAndInitializeVariable(*localVariable);",
          "new_line_content": "\tfor (ASTPointer<VariableDeclaration const> const& variable: _function.getReturnParameters())",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "isConstructor",
          "new_api": "getLocalVariables",
          "old_text": "_function.isConstructor()",
          "new_text": "_function.getLocalVariables()",
          "old_line_content": "\tif (_function.isConstructor())",
          "new_line_content": "\tfor (VariableDeclaration const* localVariable: _function.getLocalVariables())",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "getScope",
          "new_api": "addAndInitializeVariable",
          "old_text": "_function.getScope()",
          "new_text": "m_context.addAndInitializeVariable(*localVariable)",
          "old_line_content": "\t\tif (auto c = m_context.getNextConstructor(dynamic_cast<ContractDefinition const&>(*_function.getScope())))",
          "new_line_content": "\t\tm_context.addAndInitializeVariable(*localVariable);",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": "newTag",
          "new_api": "getScope",
          "old_text": "m_context.newTag()",
          "new_text": "_function.getScope()",
          "old_line_content": "\tm_returnTag = m_context.newTag();",
          "new_line_content": "\t\tif (auto c = m_context.getNextConstructor(dynamic_cast<ContractDefinition const&>(*_function.getScope())))",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "clear",
          "new_api": "appendBaseConstructor",
          "old_text": "m_breakTags.clear()",
          "new_text": "appendBaseConstructor(*c)",
          "old_line_content": "\tm_breakTags.clear();",
          "new_line_content": "\t\t\tappendBaseConstructor(*c);",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "push_back",
          "new_api": "getLocalVariables",
          "old_text": "stackLayout.push_back(c_returnValuesSize)",
          "new_text": "_function.getLocalVariables()",
          "old_line_content": "\tstackLayout.push_back(c_returnValuesSize); // target of return address",
          "new_line_content": "\tunsigned const c_localVariablesSize = CompilerUtils::getSizeOnStack(_function.getLocalVariables());",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "vector<int>(c_localVariablesSize, -1)",
          "new_api": "vector<int>(c_argumentsSize, -1)",
          "old_text": "vector<int>(c_localVariablesSize, -1)",
          "new_text": "vector<int>(c_argumentsSize, -1)",
          "old_line_content": "\tstackLayout += vector<int>(c_localVariablesSize, -1);",
          "new_line_content": "\tstackLayout += vector<int>(c_argumentsSize, -1); // discard all arguments",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": "size",
          "new_api": "push_back",
          "old_text": "stackLayout.size()",
          "new_text": "stackLayout.push_back(i)",
          "old_line_content": "\tsolAssert(stackLayout.size() <= 17, \"Stack too deep, try removing local variables.\");",
          "new_line_content": "\t\tstackLayout.push_back(i);",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "size",
          "new_api": "vector<int>(c_localVariablesSize, -1)",
          "old_text": "stackLayout.size()",
          "new_text": "vector<int>(c_localVariablesSize, -1)",
          "old_line_content": "\twhile (stackLayout.back() != int(stackLayout.size() - 1))",
          "new_line_content": "\tstackLayout += vector<int>(c_localVariablesSize, -1);",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "pop_back",
          "new_api": "back",
          "old_text": "stackLayout.pop_back()",
          "new_text": "stackLayout.back()",
          "old_line_content": "\t\t\tstackLayout.pop_back();",
          "new_line_content": "\t\tif (stackLayout.back() < 0)",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "removeVariable",
          "new_api": "getReturnParameters",
          "old_text": "m_context.removeVariable(*localVariable)",
          "new_text": "_function.getReturnParameters()",
          "old_line_content": "\t\tm_context.removeVariable(*localVariable);",
          "new_line_content": "\tfor (ASTPointer<VariableDeclaration const> const& variable: _function.getParameters() + _function.getReturnParameters())",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "adjustStackOffset",
          "new_api": "getLocalVariables",
          "old_text": "m_context.adjustStackOffset(-(int)c_returnValuesSize)",
          "new_text": "_function.getLocalVariables()",
          "old_line_content": "\tm_context.adjustStackOffset(-(int)c_returnValuesSize);",
          "new_line_content": "\tfor (VariableDeclaration const* localVariable: _function.getLocalVariables())",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "appendJump",
          "new_api": "adjustStackOffset",
          "old_text": "m_context.appendJump(eth::AssemblyItem::JumpType::OutOfFunction)",
          "new_text": "m_context.adjustStackOffset(-(int)c_returnValuesSize)",
          "old_line_content": "\t\tm_context.appendJump(eth::AssemblyItem::JumpType::OutOfFunction);",
          "new_line_content": "\tm_context.adjustStackOffset(-(int)c_returnValuesSize);",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "getFalseStatement",
          "new_api": "appendConditionalJump",
          "old_text": "_ifStatement.getFalseStatement()",
          "new_text": "m_context.appendConditionalJump()",
          "old_line_content": "\tif (_ifStatement.getFalseStatement())",
          "new_line_content": "\teth::AssemblyItem falseTag = m_context.appendConditionalJump();",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": "appendJumpToNew",
          "new_api": "getTrueStatement",
          "old_text": "m_context.appendJumpToNew()",
          "new_text": "_ifStatement.getTrueStatement().accept(*this)",
          "old_line_content": "\t\tendTag = m_context.appendJumpToNew();",
          "new_line_content": "\t_ifStatement.getTrueStatement().accept(*this);",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "push_back",
          "new_api": "newTag",
          "old_text": "m_breakTags.push_back(loopEnd)",
          "new_text": "m_context.newTag()",
          "old_line_content": "\tm_breakTags.push_back(loopEnd);",
          "new_line_content": "\teth::AssemblyItem loopStart = m_context.newTag();",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "getCondition",
          "new_api": "push_back",
          "old_text": "_whileStatement.getCondition()",
          "new_text": "m_breakTags.push_back(loopEnd)",
          "old_line_content": "\tcompileExpression(_whileStatement.getCondition());",
          "new_line_content": "\tm_breakTags.push_back(loopEnd);",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "pop_back",
          "new_api": "appendJumpTo",
          "old_text": "m_continueTags.pop_back()",
          "new_text": "m_context.appendJumpTo(loopStart)",
          "old_line_content": "\tm_continueTags.pop_back();",
          "new_line_content": "\tm_context.appendJumpTo(loopStart);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "check",
          "new_api": "pop_back",
          "old_text": "checker.check()",
          "new_text": "m_continueTags.pop_back()",
          "old_line_content": "\tchecker.check();",
          "new_line_content": "\tm_continueTags.pop_back();",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "push_back",
          "new_api": "newTag",
          "old_text": "m_continueTags.push_back(loopNext)",
          "new_text": "m_context.newTag()",
          "old_line_content": "\tm_continueTags.push_back(loopNext);",
          "new_line_content": "\teth::AssemblyItem loopStart = m_context.newTag();",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "push_back",
          "new_api": "newTag",
          "old_text": "m_breakTags.push_back(loopEnd)",
          "new_text": "m_context.newTag()",
          "old_line_content": "\tm_breakTags.push_back(loopEnd);",
          "new_line_content": "\teth::AssemblyItem loopEnd = m_context.newTag();",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "getInitializationExpression",
          "new_api": "push_back",
          "old_text": "_forStatement.getInitializationExpression()",
          "new_text": "m_continueTags.push_back(loopNext)",
          "old_line_content": "\tif (_forStatement.getInitializationExpression())",
          "new_line_content": "\tm_continueTags.push_back(loopNext);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "getInitializationExpression",
          "new_api": "push_back",
          "old_text": "_forStatement.getInitializationExpression()->accept(*this)",
          "new_text": "m_breakTags.push_back(loopEnd)",
          "old_line_content": "\t\t_forStatement.getInitializationExpression()->accept(*this);",
          "new_line_content": "\tm_breakTags.push_back(loopEnd);",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "getBody",
          "new_api": "appendConditionalJumpTo",
          "old_text": "_forStatement.getBody().accept(*this)",
          "new_text": "m_context.appendConditionalJumpTo(loopEnd)",
          "old_line_content": "\t_forStatement.getBody().accept(*this);",
          "new_line_content": "\t\tm_context.appendConditionalJumpTo(loopEnd);",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "appendJumpTo",
          "new_api": "getLoopExpression",
          "old_text": "m_context.appendJumpTo(loopStart)",
          "new_text": "_forStatement.getLoopExpression()",
          "old_line_content": "\tm_context.appendJumpTo(loopStart);",
          "new_line_content": "\tif (_forStatement.getLoopExpression())",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "pop_back",
          "new_api": "appendJumpTo",
          "old_text": "m_continueTags.pop_back()",
          "new_text": "m_context.appendJumpTo(loopStart)",
          "old_line_content": "\tm_continueTags.pop_back();",
          "new_line_content": "\tm_context.appendJumpTo(loopStart);",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "check",
          "new_api": "pop_back",
          "old_text": "checker.check()",
          "new_text": "m_continueTags.pop_back()",
          "old_line_content": "\tchecker.check();",
          "new_line_content": "\tm_continueTags.pop_back();",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "getFunctionReturnParameters",
          "new_api": "getExpression",
          "old_text": "_return.getFunctionReturnParameters()->getParameters().front()",
          "new_text": "_return.getExpression()",
          "old_line_content": "\t\tVariableDeclaration const& firstVariable = *_return.getFunctionReturnParameters()->getParameters().front();",
          "new_line_content": "\tif (Expression const* expression = _return.getExpression())",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "moveToStackVariable",
          "new_api": "getFunctionReturnParameters",
          "old_text": "CompilerUtils(m_context).moveToStackVariable(firstVariable)",
          "new_text": "_return.getFunctionReturnParameters()",
          "old_line_content": "\t\tCompilerUtils(m_context).moveToStackVariable(firstVariable);",
          "new_line_content": "\t\tsolAssert(_return.getFunctionReturnParameters(), \"Invalid return parameters pointer.\");",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "getDeclaration",
          "new_api": "getExpression",
          "old_text": "_variableDeclarationStatement.getDeclaration()",
          "new_text": "_variableDeclarationStatement.getExpression()",
          "old_line_content": "\t\tCompilerUtils(m_context).moveToStackVariable(_variableDeclarationStatement.getDeclaration());",
          "new_line_content": "\tif (Expression const* expression = _variableDeclarationStatement.getExpression())",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "check",
          "new_api": "getDeclaration",
          "old_text": "checker.check()",
          "new_text": "_variableDeclarationStatement.getDeclaration().getType()",
          "old_line_content": "\tchecker.check();",
          "new_line_content": "\t\tcompileExpression(*expression, _variableDeclarationStatement.getDeclaration().getType());",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "check",
          "new_api": "getExpression",
          "old_text": "checker.check()",
          "new_text": "_expressionStatement.getExpression()",
          "old_line_content": "\tchecker.check();",
          "new_line_content": "\tExpression const& expression = _expressionStatement.getExpression();",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "getModifiers",
          "new_api": "accept",
          "old_text": "m_currentFunction->getModifiers()",
          "new_text": "m_currentFunction->getBody().accept(*this)",
          "old_line_content": "\t\tASTPointer<ModifierInvocation> const& modifierInvocation = m_currentFunction->getModifiers()[m_modifierDepth];",
          "new_line_content": "\t\tm_currentFunction->getBody().accept(*this);",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": "getName",
          "new_api": "getModifiers",
          "old_text": "modifierInvocation->getName()->getReferencedDeclaration()",
          "new_text": "m_currentFunction->getModifiers()",
          "old_line_content": "\t\tif (dynamic_cast<ContractDefinition const*>(&modifierInvocation->getName()->getReferencedDeclaration()))",
          "new_line_content": "\t\tASTPointer<ModifierInvocation> const& modifierInvocation = m_currentFunction->getModifiers()[m_modifierDepth];",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "appendModifierOrFunctionCode",
          "new_api": "getName",
          "old_text": "appendModifierOrFunctionCode()",
          "new_text": "modifierInvocation->getName()->getReferencedDeclaration()",
          "old_line_content": "\t\t\tappendModifierOrFunctionCode();",
          "new_line_content": "\t\tif (dynamic_cast<ContractDefinition const*>(&modifierInvocation->getName()->getReferencedDeclaration()))",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "getParameters",
          "new_api": "getName",
          "old_text": "modifier.getParameters().size()",
          "new_text": "modifierInvocation->getName()->getName()",
          "old_line_content": "\t\tfor (unsigned i = 0; i < modifier.getParameters().size(); ++i)",
          "new_line_content": "\t\tModifierDefinition const& modifier = m_context.getFunctionModifier(modifierInvocation->getName()->getName());",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "getParameters",
          "new_api": "size",
          "old_text": "modifier.getParameters()",
          "new_text": "modifierInvocation->getArguments().size()",
          "old_line_content": "\t\t\tm_context.addVariable(*modifier.getParameters()[i]);",
          "new_line_content": "\t\tsolAssert(modifier.getParameters().size() == modifierInvocation->getArguments().size(), \"\");",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "getArguments",
          "new_api": "getParameters",
          "old_text": "modifierInvocation->getArguments()",
          "new_text": "modifier.getParameters().size()",
          "old_line_content": "\t\t\tcompileExpression(*modifierInvocation->getArguments()[i],",
          "new_line_content": "\t\tfor (unsigned i = 0; i < modifier.getParameters().size(); ++i)",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "getLocalVariables",
          "new_api": "getArguments",
          "old_text": "modifier.getLocalVariables()",
          "new_text": "modifierInvocation->getArguments()",
          "old_line_content": "\t\tfor (VariableDeclaration const* localVariable: modifier.getLocalVariables())",
          "new_line_content": "\t\t\tcompileExpression(*modifierInvocation->getArguments()[i],",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "addAndInitializeVariable",
          "new_api": "getParameters",
          "old_text": "m_context.addAndInitializeVariable(*localVariable)",
          "new_text": "modifier.getParameters()[i]->getType()",
          "old_line_content": "\t\t\tm_context.addAndInitializeVariable(*localVariable);",
          "new_line_content": "\t\t\t\t\t\t\t  modifier.getParameters()[i]->getType());",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "getParameters",
          "new_api": "getLocalVariables",
          "old_text": "modifier.getParameters()",
          "new_text": "modifier.getLocalVariables()",
          "old_line_content": "\t\tunsigned const c_stackSurplus = CompilerUtils::getSizeOnStack(modifier.getParameters()) +",
          "new_line_content": "\t\tfor (VariableDeclaration const* localVariable: modifier.getLocalVariables())",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "getLocalVariables",
          "new_api": "addAndInitializeVariable",
          "old_text": "modifier.getLocalVariables()",
          "new_text": "m_context.addAndInitializeVariable(*localVariable)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\tCompilerUtils::getSizeOnStack(modifier.getLocalVariables());",
          "new_line_content": "\t\t\tm_context.addAndInitializeVariable(*localVariable);",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "getBody",
          "new_api": "getLocalVariables",
          "old_text": "modifier.getBody().accept(*this)",
          "new_text": "modifier.getLocalVariables()",
          "old_line_content": "\t\tmodifier.getBody().accept(*this);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tCompilerUtils::getSizeOnStack(modifier.getLocalVariables());",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 515,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "m_breakTags.empty()",
          "old_line_content": "}",
          "new_line_content": "\tif (!m_breakTags.empty())",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "m_breakTags.back()",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.appendJumpTo(m_breakTags.back());",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "stackLayout.size()",
          "old_line_content": "\t\t{",
          "new_line_content": "\tsolAssert(stackLayout.size() <= 17, \"Stack too deep, try removing local variables.\");",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "stackLayout.size()",
          "old_line_content": "\t\t\tm_context << eth::Instruction::POP;",
          "new_line_content": "\twhile (stackLayout.back() != int(stackLayout.size() - 1))",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "pop_back",
          "old_text": null,
          "new_text": "stackLayout.pop_back()",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tstackLayout.pop_back();",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "getFunctionReturnParameters",
          "old_text": null,
          "new_text": "_return.getFunctionReturnParameters()->getParameters().front()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tVariableDeclaration const& firstVariable = *_return.getFunctionReturnParameters()->getParameters().front();",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "firstVariable.getType()",
          "old_line_content": "\tfor (unsigned i = 0; i < m_stackCleanupForReturn; ++i)",
          "new_line_content": "\t\tcompileExpression(*expression, firstVariable.getType());",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "moveToStackVariable",
          "old_text": null,
          "new_text": "CompilerUtils(m_context).moveToStackVariable(firstVariable)",
          "old_line_content": "\t\tm_context << eth::Instruction::POP;",
          "new_line_content": "\t\tCompilerUtils(m_context).moveToStackVariable(firstVariable);",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "stackLayout.back()",
          "old_line_content": "\t//@todo assert that everything is in place now",
          "new_line_content": "\t\t\tm_context << eth::swapInstruction(stackLayout.size() - stackLayout.back() - 1);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "stackLayout.back()",
          "old_line_content": "",
          "new_line_content": "\t\t\tswap(stackLayout[stackLayout.back()], stackLayout.back());",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "appendJumpTo",
          "old_text": null,
          "new_text": "m_context.appendJumpTo(m_returnTag)",
          "old_line_content": "}",
          "new_line_content": "\tm_context.appendJumpTo(m_returnTag);",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "adjustStackOffset",
          "old_text": null,
          "new_text": "m_context.adjustStackOffset(m_stackCleanupForReturn)",
          "old_line_content": "",
          "new_line_content": "\tm_context.adjustStackOffset(m_stackCleanupForReturn);",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "removeVariable",
          "old_text": null,
          "new_text": "m_context.removeVariable(*variable)",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.removeVariable(*variable);",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": null,
          "new_api": "removeVariable",
          "old_text": null,
          "new_text": "m_context.removeVariable(*localVariable)",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.removeVariable(*localVariable);",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "isConstructor",
          "old_text": null,
          "new_text": "_function.isConstructor()",
          "old_line_content": "}",
          "new_line_content": "\tif (!_function.isConstructor())",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "appendJump",
          "old_text": null,
          "new_text": "m_context.appendJump(eth::AssemblyItem::JumpType::OutOfFunction)",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.appendJump(eth::AssemblyItem::JumpType::OutOfFunction);",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": null,
          "new_api": "getDeclaration",
          "old_text": null,
          "new_text": "_variableDeclarationStatement.getDeclaration()",
          "old_line_content": "\treturn false;",
          "new_line_content": "\t\tCompilerUtils(m_context).moveToStackVariable(_variableDeclarationStatement.getDeclaration());",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "check",
          "old_text": null,
          "new_text": "checker.check()",
          "old_line_content": "",
          "new_line_content": "\tchecker.check();",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "getCondition",
          "old_text": null,
          "new_text": "_ifStatement.getCondition()",
          "old_line_content": "\teth::AssemblyItem endTag = falseTag;",
          "new_line_content": "\tcompileExpression(_ifStatement.getCondition());",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "getFalseStatement",
          "old_text": null,
          "new_text": "_ifStatement.getFalseStatement()",
          "old_line_content": "\t\tm_context << falseTag;",
          "new_line_content": "\tif (_ifStatement.getFalseStatement())",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "appendJumpToNew",
          "old_text": null,
          "new_text": "m_context.appendJumpToNew()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tendTag = m_context.appendJumpToNew();",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "compileExpression",
          "old_text": null,
          "new_text": "compileExpression(expression)",
          "old_line_content": "\treturn false;",
          "new_line_content": "\tcompileExpression(expression);",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "expression.getType()",
          "old_line_content": "}",
          "new_line_content": "\tCompilerUtils(m_context).popStackElement(*expression.getType());",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "check",
          "old_text": null,
          "new_text": "checker.check()",
          "old_line_content": "",
          "new_line_content": "\tchecker.check();",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "getFalseStatement",
          "old_text": null,
          "new_text": "_ifStatement.getFalseStatement()->accept(*this)",
          "old_line_content": "",
          "new_line_content": "\t\t_ifStatement.getFalseStatement()->accept(*this);",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": null,
          "new_api": "u256",
          "old_text": null,
          "new_text": "u256(0)",
          "old_line_content": "void Compiler::registerStateVariables(ContractDefinition const& _contract)",
          "new_line_content": "\t\tm_context << u256(dataOffset) << u256(0) << eth::Instruction::RETURN;",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "check",
          "old_text": null,
          "new_text": "checker.check()",
          "old_line_content": "",
          "new_line_content": "\tchecker.check();",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": null,
          "new_api": "getStateVariables",
          "old_text": null,
          "new_text": "ContractType(_contract).getStateVariables()",
          "old_line_content": "",
          "new_line_content": "\tfor (auto const& var: ContractType(_contract).getStateVariables())",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "get<2>(var)",
          "old_text": null,
          "new_text": "get<2>(var)",
          "old_line_content": "void Compiler::initializeStateVariables(ContractDefinition const& _contract)",
          "new_line_content": "\t\tm_context.addStateVariable(*get<0>(var), get<1>(var), get<2>(var));",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "appendModifierOrFunctionCode",
          "old_text": null,
          "new_text": "appendModifierOrFunctionCode()",
          "old_line_content": "\treturn true;",
          "new_line_content": "\tappendModifierOrFunctionCode();",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "check",
          "old_text": null,
          "new_text": "checker.check()",
          "old_line_content": "",
          "new_line_content": "\tchecker.check();",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "newTag",
          "old_text": null,
          "new_text": "m_context.newTag()",
          "old_line_content": "",
          "new_line_content": "\teth::AssemblyItem loopEnd = m_context.newTag();",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "getStateVariables",
          "old_text": null,
          "new_text": "_contract.getStateVariables()",
          "old_line_content": "}",
          "new_line_content": "\tfor (ASTPointer<VariableDeclaration> const& variable: _contract.getStateVariables())",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "isConstant",
          "old_text": null,
          "new_text": "variable->isConstant()",
          "old_line_content": "",
          "new_line_content": "\t\tif (variable->getValue() && !variable->isConstant())",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "appendStateVariableInitialization",
          "old_text": null,
          "new_text": "ExpressionCompiler(m_context, m_optimize).appendStateVariableInitialization(*variable)",
          "old_line_content": "bool Compiler::visit(VariableDeclaration const& _variableDeclaration)",
          "new_line_content": "\t\t\tExpressionCompiler(m_context, m_optimize).appendStateVariableInitialization(*variable);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "m_continueTags.push_back(loopStart)",
          "old_line_content": "\tm_context << loopStart;",
          "new_line_content": "\tm_continueTags.push_back(loopStart);",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": null,
          "new_api": "solAssert",
          "old_text": null,
          "new_text": "solAssert(m_currentFunction, \"\")",
          "old_line_content": "\telse",
          "new_line_content": "\tsolAssert(m_currentFunction, \"\");",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "m_currentFunction->getModifiers().size()",
          "old_line_content": "\t{",
          "new_line_content": "\tif (m_modifierDepth >= m_currentFunction->getModifiers().size())",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "getCondition",
          "old_text": null,
          "new_text": "_whileStatement.getCondition()",
          "old_line_content": "",
          "new_line_content": "\tcompileExpression(_whileStatement.getCondition());",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "appendConditionalJumpTo",
          "old_text": null,
          "new_text": "m_context.appendConditionalJumpTo(loopEnd)",
          "old_line_content": "",
          "new_line_content": "\tm_context.appendConditionalJumpTo(loopEnd);",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "getBody",
          "old_text": null,
          "new_text": "_whileStatement.getBody().accept(*this)",
          "old_line_content": "\tm_context << loopEnd;",
          "new_line_content": "\t_whileStatement.getBody().accept(*this);",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "startFunction",
          "old_text": null,
          "new_text": "m_context.startFunction(_variableDeclaration)",
          "old_line_content": "",
          "new_line_content": "\tm_context.startFunction(_variableDeclaration);",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "m_continueTags.clear()",
          "old_line_content": "",
          "new_line_content": "\tm_continueTags.clear();",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "appendStateVariableAccessor",
          "old_text": null,
          "new_text": "ExpressionCompiler(m_context, m_optimize).appendStateVariableAccessor(_variableDeclaration)",
          "old_line_content": "}",
          "new_line_content": "\tExpressionCompiler(m_context, m_optimize).appendStateVariableAccessor(_variableDeclaration);",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "appendModifierOrFunctionCode",
          "old_text": null,
          "new_text": "appendModifierOrFunctionCode()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tappendModifierOrFunctionCode();",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "pop_back",
          "old_text": null,
          "new_text": "m_breakTags.pop_back()",
          "old_line_content": "\treturn false;",
          "new_line_content": "\tm_breakTags.pop_back();",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "check",
          "old_text": null,
          "new_text": "checker.check()",
          "old_line_content": "",
          "new_line_content": "\tchecker.check();",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "startFunction",
          "old_text": null,
          "new_text": "m_context.startFunction(_function)",
          "old_line_content": "\t// reserve additional slots: [retarg0] ... [retargm] [localvar0] ... [localvarp]",
          "new_line_content": "\tm_context.startFunction(_function);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "getParameters",
          "old_text": null,
          "new_text": "modifier.getParameters()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tm_context.addVariable(*modifier.getParameters()[i]);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "newTag",
          "old_text": null,
          "new_text": "m_context.newTag()",
          "old_line_content": "",
          "new_line_content": "\teth::AssemblyItem loopNext = m_context.newTag();",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": null,
          "new_api": "getInitializationExpression",
          "old_text": null,
          "new_text": "_forStatement.getInitializationExpression()",
          "old_line_content": "\tm_context << loopStart;",
          "new_line_content": "\tif (_forStatement.getInitializationExpression())",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "getInitializationExpression",
          "old_text": null,
          "new_text": "_forStatement.getInitializationExpression()->accept(*this)",
          "old_line_content": "",
          "new_line_content": "\t\t_forStatement.getInitializationExpression()->accept(*this);",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": null,
          "new_api": "getParameters",
          "old_text": null,
          "new_text": "modifier.getParameters()",
          "old_line_content": "",
          "new_line_content": "\t\tunsigned const c_stackSurplus = CompilerUtils::getSizeOnStack(modifier.getParameters()) +",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "addVariable",
          "old_text": null,
          "new_text": "m_context.addVariable(*variable, parametersSize)",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.addVariable(*variable, parametersSize);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "getBody",
          "old_text": null,
          "new_text": "modifier.getBody().accept(*this)",
          "old_line_content": "\t\t\tm_context << eth::Instruction::POP;",
          "new_line_content": "\t\tmodifier.getBody().accept(*this);",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": null,
          "new_api": "getCondition",
          "old_text": null,
          "new_text": "_forStatement.getCondition()",
          "old_line_content": "\t\tm_context << eth::Instruction::ISZERO;",
          "new_line_content": "\tif (_forStatement.getCondition())",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "getCondition",
          "old_text": null,
          "new_text": "_forStatement.getCondition()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tcompileExpression(*_forStatement.getCondition());",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": null,
          "new_api": "addAndInitializeVariable",
          "old_text": null,
          "new_text": "m_context.addAndInitializeVariable(*variable)",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.addAndInitializeVariable(*variable);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "isConstructor",
          "old_text": null,
          "new_text": "_function.isConstructor()",
          "old_line_content": "",
          "new_line_content": "\tif (_function.isConstructor())",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "getBody",
          "old_text": null,
          "new_text": "_forStatement.getBody().accept(*this)",
          "old_line_content": "",
          "new_line_content": "\t_forStatement.getBody().accept(*this);",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "compile",
          "old_text": null,
          "new_text": "expressionCompiler.compile(_expression)",
          "old_line_content": "}",
          "new_line_content": "\texpressionCompiler.compile(_expression);",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": null,
          "new_api": "newTag",
          "old_text": null,
          "new_text": "m_context.newTag()",
          "old_line_content": "\tm_stackCleanupForReturn = 0;",
          "new_line_content": "\tm_returnTag = m_context.newTag();",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "getType",
          "old_text": null,
          "new_text": "_expression.getType()",
          "old_line_content": "}",
          "new_line_content": "\t\texpressionCompiler.appendTypeConversion(*_expression.getType(), *_targetType);",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "m_breakTags.clear()",
          "old_line_content": "\tm_currentFunction = &_function;",
          "new_line_content": "\tm_breakTags.clear();",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "m_continueTags.clear()",
          "old_line_content": "\tm_modifierDepth = 0;",
          "new_line_content": "\tm_continueTags.clear();",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": null,
          "new_api": "getLoopExpression",
          "old_text": null,
          "new_text": "_forStatement.getLoopExpression()->accept(*this)",
          "old_line_content": "\tm_context << loopEnd;",
          "new_line_content": "\t\t_forStatement.getLoopExpression()->accept(*this);",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "m_continueTags.back()",
          "old_line_content": "",
          "new_line_content": "\t\tm_context.appendJumpTo(m_continueTags.back());",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "appendModifierOrFunctionCode",
          "old_text": null,
          "new_text": "appendModifierOrFunctionCode()",
          "old_line_content": "",
          "new_line_content": "\tappendModifierOrFunctionCode();",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "pop_back",
          "old_text": null,
          "new_text": "m_breakTags.pop_back()",
          "old_line_content": "\treturn false;",
          "new_line_content": "\tm_breakTags.pop_back();",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "check",
          "old_text": null,
          "new_text": "checker.check()",
          "old_line_content": "",
          "new_line_content": "\tchecker.check();",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "m_continueTags.empty()",
          "old_line_content": "}",
          "new_line_content": "\tif (!m_continueTags.empty())",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": null,
          "new_api": "getParameters",
          "old_text": null,
          "new_text": "_function.getParameters()",
          "old_line_content": "",
          "new_line_content": "\tunsigned const c_argumentsSize = CompilerUtils::getSizeOnStack(_function.getParameters());",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": null,
          "new_api": "getReturnParameters",
          "old_text": null,
          "new_text": "_function.getReturnParameters()",
          "old_line_content": "\tvector<int> stackLayout;",
          "new_line_content": "\tunsigned const c_returnValuesSize = CompilerUtils::getSizeOnStack(_function.getReturnParameters());",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "empty",
          "new_api": null,
          "old_text": "m_breakTags.empty()",
          "new_text": null,
          "old_line_content": "\tif (!m_breakTags.empty())",
          "new_line_content": "bool Compiler::visit(Break const& _breakStatement)",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": "back",
          "new_api": null,
          "old_text": "m_breakTags.back()",
          "new_text": null,
          "old_line_content": "\t\tm_context.appendJumpTo(m_breakTags.back());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "back",
          "new_api": null,
          "old_text": "stackLayout.back()",
          "new_text": null,
          "old_line_content": "\t\tif (stackLayout.back() < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "getExpression",
          "new_api": null,
          "old_text": "_return.getExpression()",
          "new_text": null,
          "old_line_content": "\tif (Expression const* expression = _return.getExpression())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "getFunctionReturnParameters",
          "new_api": null,
          "old_text": "_return.getFunctionReturnParameters()",
          "new_text": null,
          "old_line_content": "\t\tsolAssert(_return.getFunctionReturnParameters(), \"Invalid return parameters pointer.\");",
          "new_line_content": "\t//@todo modifications are needed to make this work with functions returning multiple values",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "back",
          "new_api": null,
          "old_text": "stackLayout.back()",
          "new_text": null,
          "old_line_content": "\t\t\tm_context << eth::swapInstruction(stackLayout.size() - stackLayout.back() - 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "getType",
          "new_api": null,
          "old_text": "firstVariable.getType()",
          "new_text": null,
          "old_line_content": "\t\tcompileExpression(*expression, firstVariable.getType());",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "back",
          "new_api": null,
          "old_text": "stackLayout.back()",
          "new_text": null,
          "old_line_content": "\t\t\tswap(stackLayout[stackLayout.back()], stackLayout.back());",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": "getReturnParameters",
          "new_api": null,
          "old_text": "_function.getReturnParameters()",
          "new_text": null,
          "old_line_content": "\tfor (ASTPointer<VariableDeclaration const> const& variable: _function.getParameters() + _function.getReturnParameters())",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "appendJumpTo",
          "new_api": null,
          "old_text": "m_context.appendJumpTo(m_returnTag)",
          "new_text": null,
          "old_line_content": "\tm_context.appendJumpTo(m_returnTag);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "adjustStackOffset",
          "new_api": null,
          "old_text": "m_context.adjustStackOffset(m_stackCleanupForReturn)",
          "new_text": null,
          "old_line_content": "\tm_context.adjustStackOffset(m_stackCleanupForReturn);",
          "new_line_content": "\tfor (unsigned i = 0; i < m_stackCleanupForReturn; ++i)",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "removeVariable",
          "new_api": null,
          "old_text": "m_context.removeVariable(*variable)",
          "new_text": null,
          "old_line_content": "\t\tm_context.removeVariable(*variable);",
          "new_line_content": "\t//@todo assert that everything is in place now",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "getLocalVariables",
          "new_api": null,
          "old_text": "_function.getLocalVariables()",
          "new_text": null,
          "old_line_content": "\tfor (VariableDeclaration const* localVariable: _function.getLocalVariables())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "isConstructor",
          "new_api": null,
          "old_text": "_function.isConstructor()",
          "new_text": null,
          "old_line_content": "\tif (!_function.isConstructor())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": "getExpression",
          "new_api": null,
          "old_text": "_variableDeclarationStatement.getExpression()",
          "new_text": null,
          "old_line_content": "\tif (Expression const* expression = _variableDeclarationStatement.getExpression())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "getDeclaration",
          "new_api": null,
          "old_text": "_variableDeclarationStatement.getDeclaration().getType()",
          "new_text": null,
          "old_line_content": "\t\tcompileExpression(*expression, _variableDeclarationStatement.getDeclaration().getType());",
          "new_line_content": "\tCompilerContext::LocationSetter locationSetter(m_context, _variableDeclarationStatement);",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "getCondition",
          "new_api": null,
          "old_text": "_ifStatement.getCondition()",
          "new_text": null,
          "old_line_content": "\tcompileExpression(_ifStatement.getCondition());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "appendConditionalJump",
          "new_api": null,
          "old_text": "m_context.appendConditionalJump()",
          "new_text": null,
          "old_line_content": "\teth::AssemblyItem falseTag = m_context.appendConditionalJump();",
          "new_line_content": "\tCompilerContext::LocationSetter locationSetter(m_context, _ifStatement);",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "getTrueStatement",
          "new_api": null,
          "old_text": "_ifStatement.getTrueStatement().accept(*this)",
          "new_text": null,
          "old_line_content": "\t_ifStatement.getTrueStatement().accept(*this);",
          "new_line_content": "\tm_context << eth::Instruction::ISZERO;",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "getExpression",
          "new_api": null,
          "old_text": "_expressionStatement.getExpression()",
          "new_text": null,
          "old_line_content": "\tExpression const& expression = _expressionStatement.getExpression();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "compileExpression",
          "new_api": null,
          "old_text": "compileExpression(expression)",
          "new_text": null,
          "old_line_content": "\tcompileExpression(expression);",
          "new_line_content": "\tStackHeightChecker checker(m_context);",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "getType",
          "new_api": null,
          "old_text": "expression.getType()",
          "new_text": null,
          "old_line_content": "\tCompilerUtils(m_context).popStackElement(*expression.getType());",
          "new_line_content": "\tCompilerContext::LocationSetter locationSetter(m_context, _expressionStatement);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "getFalseStatement",
          "new_api": null,
          "old_text": "_ifStatement.getFalseStatement()->accept(*this)",
          "new_text": null,
          "old_line_content": "\t\t_ifStatement.getFalseStatement()->accept(*this);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "u256",
          "new_api": null,
          "old_text": "u256(0)",
          "new_text": null,
          "old_line_content": "\tm_context << u256(dataOffset) << u256(0) << eth::Instruction::RETURN;",
          "new_line_content": "\tif (dataOffset == 0)",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "check",
          "new_api": null,
          "old_text": "checker.check()",
          "new_text": null,
          "old_line_content": "\tchecker.check();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "getStateVariables",
          "new_api": null,
          "old_text": "ContractType(_contract).getStateVariables()",
          "new_text": null,
          "old_line_content": "\tfor (auto const& var: ContractType(_contract).getStateVariables())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": "get<2>(var)",
          "new_api": null,
          "old_text": "get<2>(var)",
          "new_text": null,
          "old_line_content": "\t\tm_context.addStateVariable(*get<0>(var), get<1>(var), get<2>(var));",
          "new_line_content": "void Compiler::registerStateVariables(ContractDefinition const& _contract)",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "appendModifierOrFunctionCode",
          "new_api": null,
          "old_text": "appendModifierOrFunctionCode()",
          "new_text": null,
          "old_line_content": "\tappendModifierOrFunctionCode();",
          "new_line_content": "\tStackHeightChecker checker(m_context);",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "check",
          "new_api": null,
          "old_text": "checker.check()",
          "new_text": null,
          "old_line_content": "\tchecker.check();",
          "new_line_content": "\t++m_modifierDepth;",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "newTag",
          "new_api": null,
          "old_text": "m_context.newTag()",
          "new_text": null,
          "old_line_content": "\teth::AssemblyItem loopStart = m_context.newTag();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "getStateVariables",
          "new_api": null,
          "old_text": "_contract.getStateVariables()",
          "new_text": null,
          "old_line_content": "\tfor (ASTPointer<VariableDeclaration> const& variable: _contract.getStateVariables())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "isConstant",
          "new_api": null,
          "old_text": "variable->isConstant()",
          "new_text": null,
          "old_line_content": "\t\tif (variable->getValue() && !variable->isConstant())",
          "new_line_content": "void Compiler::initializeStateVariables(ContractDefinition const& _contract)",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "appendStateVariableInitialization",
          "new_api": null,
          "old_text": "ExpressionCompiler(m_context, m_optimize).appendStateVariableInitialization(*variable)",
          "new_text": null,
          "old_line_content": "\t\t\tExpressionCompiler(m_context, m_optimize).appendStateVariableInitialization(*variable);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "newTag",
          "new_api": null,
          "old_text": "m_context.newTag()",
          "new_text": null,
          "old_line_content": "\teth::AssemblyItem loopEnd = m_context.newTag();",
          "new_line_content": "\tStackHeightChecker checker(m_context);",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "solAssert",
          "new_api": null,
          "old_text": "solAssert(m_currentFunction, \"\")",
          "new_text": null,
          "old_line_content": "\tsolAssert(m_currentFunction, \"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "size",
          "new_api": null,
          "old_text": "m_currentFunction->getModifiers().size()",
          "new_text": null,
          "old_line_content": "\tif (m_modifierDepth >= m_currentFunction->getModifiers().size())",
          "new_line_content": "void Compiler::appendModifierOrFunctionCode()",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "accept",
          "new_api": null,
          "old_text": "m_currentFunction->getBody().accept(*this)",
          "new_text": null,
          "old_line_content": "\t\tm_currentFunction->getBody().accept(*this);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "isStateVariable",
          "new_api": null,
          "old_text": "_variableDeclaration.isStateVariable()",
          "new_text": null,
          "old_line_content": "\tsolAssert(_variableDeclaration.isStateVariable(), \"Compiler visit to non-state variable declaration.\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "m_continueTags.push_back(loopStart)",
          "new_text": null,
          "old_line_content": "\tm_continueTags.push_back(loopStart);",
          "new_line_content": "\tCompilerContext::LocationSetter locationSetter(m_context, _whileStatement);",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "appendConditionalJumpTo",
          "new_api": null,
          "old_text": "m_context.appendConditionalJumpTo(loopEnd)",
          "new_text": null,
          "old_line_content": "\tm_context.appendConditionalJumpTo(loopEnd);",
          "new_line_content": "\tm_context << loopStart;",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "getBody",
          "new_api": null,
          "old_text": "_whileStatement.getBody().accept(*this)",
          "new_text": null,
          "old_line_content": "\t_whileStatement.getBody().accept(*this);",
          "new_line_content": "\tm_context << eth::Instruction::ISZERO;",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "clear",
          "new_api": null,
          "old_text": "m_breakTags.clear()",
          "new_text": null,
          "old_line_content": "\tm_breakTags.clear();",
          "new_line_content": "\tCompilerContext::LocationSetter locationSetter(m_context, _variableDeclaration);",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "clear",
          "new_api": null,
          "old_text": "m_continueTags.clear()",
          "new_text": null,
          "old_line_content": "\tm_continueTags.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "appendJumpTo",
          "new_api": null,
          "old_text": "m_context.appendJumpTo(loopStart)",
          "new_text": null,
          "old_line_content": "\tm_context.appendJumpTo(loopStart);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "pop_back",
          "new_api": null,
          "old_text": "m_breakTags.pop_back()",
          "new_text": null,
          "old_line_content": "\tm_breakTags.pop_back();",
          "new_line_content": "\tm_context << loopEnd;",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "getName",
          "new_api": null,
          "old_text": "modifierInvocation->getName()->getName()",
          "new_text": null,
          "old_line_content": "\t\tModifierDefinition const& modifier = m_context.getFunctionModifier(modifierInvocation->getName()->getName());",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "size",
          "new_api": null,
          "old_text": "modifierInvocation->getArguments().size()",
          "new_text": null,
          "old_line_content": "\t\tsolAssert(modifier.getParameters().size() == modifierInvocation->getArguments().size(), \"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": "startFunction",
          "new_api": null,
          "old_text": "m_context.startFunction(_function)",
          "new_text": null,
          "old_line_content": "\tm_context.startFunction(_function);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "newTag",
          "new_api": null,
          "old_text": "m_context.newTag()",
          "new_text": null,
          "old_line_content": "\teth::AssemblyItem loopStart = m_context.newTag();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "newTag",
          "new_api": null,
          "old_text": "m_context.newTag()",
          "new_text": null,
          "old_line_content": "\teth::AssemblyItem loopEnd = m_context.newTag();",
          "new_line_content": "\tStackHeightChecker checker(m_context);",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "newTag",
          "new_api": null,
          "old_text": "m_context.newTag()",
          "new_text": null,
          "old_line_content": "\teth::AssemblyItem loopNext = m_context.newTag();",
          "new_line_content": "\tCompilerContext::LocationSetter locationSetter(m_context, _forStatement);",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "getParameters",
          "new_api": null,
          "old_text": "modifier.getParameters()[i]->getType()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  modifier.getParameters()[i]->getType());",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "getParameters",
          "new_api": null,
          "old_text": "_function.getParameters()",
          "new_text": null,
          "old_line_content": "\tunsigned parametersSize = CompilerUtils::getSizeOnStack(_function.getParameters());",
          "new_line_content": "\t// stack upon entry: [return address] [arg0] [arg1] ... [argn]",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "isConstructor",
          "new_api": null,
          "old_text": "_function.isConstructor()",
          "new_text": null,
          "old_line_content": "\tif (!_function.isConstructor())",
          "new_line_content": "\t// reserve additional slots: [retarg0] ... [retargm] [localvar0] ... [localvarp]",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "getCondition",
          "new_api": null,
          "old_text": "_forStatement.getCondition()",
          "new_text": null,
          "old_line_content": "\tif (_forStatement.getCondition())",
          "new_line_content": "\tm_context << loopStart;",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "getCondition",
          "new_api": null,
          "old_text": "_forStatement.getCondition()",
          "new_text": null,
          "old_line_content": "\t\tcompileExpression(*_forStatement.getCondition());",
          "new_line_content": "\t// if there is no terminating condition in for, default is to always be true",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "addAndInitializeVariable",
          "new_api": null,
          "old_text": "m_context.addAndInitializeVariable(*variable)",
          "new_text": null,
          "old_line_content": "\t\tm_context.addAndInitializeVariable(*variable);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "getLocalVariables",
          "new_api": null,
          "old_text": "_function.getLocalVariables()",
          "new_text": null,
          "old_line_content": "\tfor (VariableDeclaration const* localVariable: _function.getLocalVariables())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "appendConditionalJumpTo",
          "new_api": null,
          "old_text": "m_context.appendConditionalJumpTo(loopEnd)",
          "new_text": null,
          "old_line_content": "\t\tm_context.appendConditionalJumpTo(loopEnd);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "appendBaseConstructor",
          "new_api": null,
          "old_text": "appendBaseConstructor(*c)",
          "new_text": null,
          "old_line_content": "\t\t\tappendBaseConstructor(*c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "compile",
          "new_api": null,
          "old_text": "expressionCompiler.compile(_expression)",
          "new_text": null,
          "old_line_content": "\texpressionCompiler.compile(_expression);",
          "new_line_content": "void Compiler::compileExpression(Expression const& _expression, TypePointer const& _targetType)",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": "getLoopExpression",
          "new_api": null,
          "old_text": "_forStatement.getLoopExpression()",
          "new_text": null,
          "old_line_content": "\tif (_forStatement.getLoopExpression())",
          "new_line_content": "\tm_context << loopNext;",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "getType",
          "new_api": null,
          "old_text": "_expression.getType()",
          "new_text": null,
          "old_line_content": "\t\texpressionCompiler.appendTypeConversion(*_expression.getType(), *_targetType);",
          "new_line_content": "\tExpressionCompiler expressionCompiler(m_context, m_optimize);",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "clear",
          "new_api": null,
          "old_text": "m_continueTags.clear()",
          "new_text": null,
          "old_line_content": "\tm_continueTags.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "getLoopExpression",
          "new_api": null,
          "old_text": "_forStatement.getLoopExpression()->accept(*this)",
          "new_text": null,
          "old_line_content": "\t\t_forStatement.getLoopExpression()->accept(*this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "empty",
          "new_api": null,
          "old_text": "m_continueTags.empty()",
          "new_text": null,
          "old_line_content": "\tif (!m_continueTags.empty())",
          "new_line_content": "bool Compiler::visit(Continue const& _continueStatement)",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "back",
          "new_api": null,
          "old_text": "m_continueTags.back()",
          "new_text": null,
          "old_line_content": "\t\tm_context.appendJumpTo(m_continueTags.back());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "appendModifierOrFunctionCode",
          "new_api": null,
          "old_text": "appendModifierOrFunctionCode()",
          "new_text": null,
          "old_line_content": "\tappendModifierOrFunctionCode();",
          "new_line_content": "\tm_currentFunction = &_function;",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "pop_back",
          "new_api": null,
          "old_text": "m_breakTags.pop_back()",
          "new_text": null,
          "old_line_content": "\tm_breakTags.pop_back();",
          "new_line_content": "\tm_context << loopEnd;",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "getParameters",
          "new_api": null,
          "old_text": "_function.getParameters()",
          "new_text": null,
          "old_line_content": "\tunsigned const c_argumentsSize = CompilerUtils::getSizeOnStack(_function.getParameters());",
          "new_line_content": "\t// Note that the fact that the return arguments are of increasing index is vital for this",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "getReturnParameters",
          "new_api": null,
          "old_text": "_function.getReturnParameters()",
          "new_text": null,
          "old_line_content": "\tunsigned const c_returnValuesSize = CompilerUtils::getSizeOnStack(_function.getReturnParameters());",
          "new_line_content": "\t// algorithm to work.",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "getLocalVariables",
          "new_api": null,
          "old_text": "_function.getLocalVariables()",
          "new_text": null,
          "old_line_content": "\tunsigned const c_localVariablesSize = CompilerUtils::getSizeOnStack(_function.getLocalVariables());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "vector<int>(c_argumentsSize, -1)",
          "new_api": null,
          "old_text": "vector<int>(c_argumentsSize, -1)",
          "new_text": null,
          "old_line_content": "\tstackLayout += vector<int>(c_argumentsSize, -1); // discard all arguments",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 50,
      "total_additions": 73,
      "total_deletions": 73,
      "total_api_changes": 196
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 196,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          302,
          303
        ]
      }
    },
    "api_calls_before": 340,
    "api_calls_after": 340,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 1,
      "total_diff_lines": 17
    }
  }
}