{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/lvgl/modified_file/517b307ae30132855d4a71da543c01d715ef24dc",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/lvgl/modified_file/517b307ae30132855d4a71da543c01d715ef24dc/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/lvgl/modified_file/517b307ae30132855d4a71da543c01d715ef24dc/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/lvgl/modified_file/517b307ae30132855d4a71da543c01d715ef24dc/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 290,
          "old_api": "get_decoder_data",
          "new_api": "decode_alpha_only",
          "old_text": "get_decoder_data(dsc)",
          "new_text": "decode_alpha_only(decoder, dsc)",
          "old_line_content": "            decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "new_line_content": "                res = decode_alpha_only(decoder, dsc);",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "LV_LOG_ERROR",
          "new_api": "LV_LOG_WARN",
          "old_text": "LV_LOG_ERROR(\"Unexpected null decoder data\")",
          "new_text": "LV_LOG_WARN(\"CF: %d is not supported\", cf)",
          "old_line_content": "        LV_LOG_ERROR(\"Unexpected null decoder data\");",
          "new_line_content": "        LV_LOG_WARN(\"CF: %d is not supported\", cf);",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": "lv_free",
          "new_api": "lv_malloc",
          "old_text": "lv_free(buf)",
          "new_text": "lv_malloc(len)",
          "old_line_content": "                lv_free(buf);",
          "new_line_content": "            buf = lv_malloc(len);",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "lv_free",
          "new_api": "lv_fs_close",
          "old_text": "lv_free(decoder_data)",
          "new_text": "lv_fs_close(decoder_data->f)",
          "old_line_content": "    lv_free(decoder_data);",
          "new_line_content": "        lv_fs_close(decoder_data->f);",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": "LV_UNUSED",
          "new_api": "lv_free",
          "old_text": "LV_UNUSED(decoder)",
          "new_text": "lv_free(decoder_data->palette)",
          "old_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "new_line_content": "    lv_free(decoder_data->palette);",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "fs_read_file_at",
          "new_api": "lv_malloc",
          "old_text": "fs_read_file_at(f, sizeof(lv_image_header_t), (uint8_t *)palette, palette_len, &rn)",
          "new_text": "lv_malloc(palette_len)",
          "old_line_content": "        res = fs_read_file_at(f, sizeof(lv_image_header_t), (uint8_t *)palette, palette_len, &rn);",
          "new_line_content": "        palette = lv_malloc(palette_len);",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "lv_free",
          "new_api": "LV_LOG_ERROR",
          "old_text": "lv_free((void *)palette)",
          "new_text": "LV_LOG_ERROR(\"Out of memory\")",
          "old_line_content": "            lv_free((void *)palette);",
          "new_line_content": "            LV_LOG_ERROR(\"Out of memory\");",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": "lv_free",
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,\n                                                 dsc->header.stride)",
          "new_text": "lv_free((void *)palette)",
          "old_line_content": "        draw_buf_indexed = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,",
          "new_line_content": "            lv_free((void *)palette);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "lv_fs_seek",
          "new_api": "LV_LOG_ERROR",
          "old_text": "lv_fs_seek(f, 0, LV_FS_SEEK_END)",
          "new_text": "LV_LOG_ERROR(\"Draw buffer alloc failed\")",
          "old_line_content": "        if(lv_fs_seek(f, 0, LV_FS_SEEK_END) != LV_FS_RES_OK ||",
          "new_line_content": "            LV_LOG_ERROR(\"Draw buffer alloc failed\");",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "fs_read_file_at",
          "new_api": "lv_fs_tell",
          "old_text": "fs_read_file_at(f, data_offset, (uint8_t *)indexed_data, data_len, &rn)",
          "new_text": "lv_fs_tell(f, &data_len)",
          "old_line_content": "        res = fs_read_file_at(f, data_offset, (uint8_t *)indexed_data, data_len, &rn);",
          "new_line_content": "           lv_fs_tell(f, &data_len) != LV_FS_RES_OK) {",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "LV_UNUSED",
          "new_api": "lv_free",
          "old_text": "LV_UNUSED(stride)",
          "new_text": "lv_free((void *)palette)",
          "old_line_content": "    LV_UNUSED(stride);",
          "new_line_content": "        lv_free((void *)palette);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "lv_fs_tell",
          "new_api": "LV_LOG_WARN",
          "old_text": "lv_fs_tell(f, &data_len)",
          "new_text": "LV_LOG_WARN(\"Read palette failed: %d\", res)",
          "old_line_content": "           lv_fs_tell(f, &data_len) != LV_FS_RES_OK) {",
          "new_line_content": "            LV_LOG_WARN(\"Read palette failed: %d\", res);",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "LV_LOG_WARN",
          "new_api": "lv_draw_buf_destroy",
          "old_text": "LV_LOG_WARN(\"Failed to get file to size\")",
          "new_text": "lv_draw_buf_destroy(decoded)",
          "old_line_content": "            LV_LOG_WARN(\"Failed to get file to size\");",
          "new_line_content": "            lv_draw_buf_destroy(decoded);",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "fs_read_file_at",
          "new_api": "lv_draw_buf_destroy",
          "old_text": "fs_read_file_at(f, data_offset, data, data_len, &rn)",
          "new_text": "lv_draw_buf_destroy(decoded)",
          "old_line_content": "        res = fs_read_file_at(f, data_offset, data, data_len, &rn);",
          "new_line_content": "            lv_draw_buf_destroy(decoded);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "fs_read_file_at",
          "new_api": "LV_LOG_ERROR",
          "old_text": "fs_read_file_at(f, sizeof(lv_image_header_t), img_data, len, &rn)",
          "new_text": "LV_LOG_ERROR(\"No memory for rgb file read\")",
          "old_line_content": "    res = fs_read_file_at(f, sizeof(lv_image_header_t), img_data, len, &rn);",
          "new_line_content": "        LV_LOG_ERROR(\"No memory for rgb file read\");",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": "lv_color_format_get_bpp",
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, LV_COLOR_FORMAT_A8,\n                                    buf_stride)",
          "new_text": "lv_color_format_get_bpp(dsc->header.cf)",
          "old_line_content": "    decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, LV_COLOR_FORMAT_A8,",
          "new_line_content": "    uint8_t bpp = lv_color_format_get_bpp(dsc->header.cf);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "lv_memcpy",
          "new_api": "LV_LOG_WARN",
          "old_text": "lv_memcpy(img_data, ((lv_image_dsc_t *)dsc->src)->data, file_len)",
          "new_text": "LV_LOG_WARN(\"Read header failed: %d\", res)",
          "old_line_content": "        lv_memcpy(img_data, ((lv_image_dsc_t *)dsc->src)->data, file_len);",
          "new_line_content": "            LV_LOG_WARN(\"Read header failed: %d\", res);",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "LV_LOG_WARN",
          "new_api": "lv_memzero",
          "old_text": "LV_LOG_WARN(\"Failed to get compressed file len\")",
          "new_text": "lv_memzero(compressed, sizeof(lv_image_compressed_t))",
          "old_line_content": "            LV_LOG_WARN(\"Failed to get compressed file len\");",
          "new_line_content": "    lv_memzero(compressed, sizeof(lv_image_compressed_t));",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "LV_LOG_WARN",
          "new_api": "fs_read_file_at",
          "old_text": "LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len)",
          "new_text": "fs_read_file_at(f, sizeof(lv_image_header_t), compressed, len, &rn)",
          "old_line_content": "            LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len);",
          "new_line_content": "        fs_res = fs_read_file_at(f, sizeof(lv_image_header_t), compressed, len, &rn);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "LV_LOG_WARN",
          "new_api": "LV_UNUSED",
          "old_text": "LV_LOG_WARN(\"No memory for decompressed image, input: %\" LV_PRIu32 \", output: %\" LV_PRIu32, input_len, out_len)",
          "new_text": "LV_UNUSED(input_len)",
          "old_line_content": "        LV_LOG_WARN(\"No memory for decompressed image, input: %\" LV_PRIu32 \", output: %\" LV_PRIu32, input_len, out_len);",
          "new_line_content": "    LV_UNUSED(input_len);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "lv_draw_buf_destroy",
          "new_api": "lv_color_format_get_bpp",
          "old_text": "lv_draw_buf_destroy(decompressed)",
          "new_text": "lv_color_format_get_bpp(dsc->header.cf)",
          "old_line_content": "            lv_draw_buf_destroy(decompressed);",
          "new_line_content": "            pixel_byte = (lv_color_format_get_bpp(dsc->header.cf) + 7) >> 3;",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "LV_LOG_WARN",
          "new_api": "lv_rle_decompress",
          "old_text": "LV_LOG_WARN(\"RLE decompress is not enabled\")",
          "new_text": "lv_rle_decompress(input, input_len, output, out_len, pixel_byte)",
          "old_line_content": "        LV_LOG_WARN(\"RLE decompress is not enabled\");",
          "new_line_content": "        len = lv_rle_decompress(input, input_len, output, out_len, pixel_byte);",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "LV_LOG_WARN",
          "new_api": "LZ4_decompress_safe",
          "old_text": "LV_LOG_WARN(\"LZ4 decompress is not enabled\")",
          "new_text": "LZ4_decompress_safe(input, output, input_len, out_len)",
          "old_line_content": "        LV_LOG_WARN(\"LZ4 decompress is not enabled\");",
          "new_line_content": "        len = LZ4_decompress_safe(input, output, input_len, out_len);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 515,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, offset, img_data + len, w_px * 1, NULL)",
          "old_line_content": "    }",
          "new_line_content": "        res = fs_read_file_at(f, offset, img_data + len, w_px * 1, NULL);",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "lv_malloc_zeroed",
          "old_text": null,
          "new_text": "lv_malloc_zeroed(sizeof(decoder_data_t))",
          "old_line_content": "        dsc->user_data = data;",
          "new_line_content": "        data = lv_malloc_zeroed(sizeof(decoder_data_t));",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "LV_ASSERT_MALLOC",
          "old_text": null,
          "new_text": "LV_ASSERT_MALLOC(data)",
          "old_line_content": "    }",
          "new_line_content": "        LV_ASSERT_MALLOC(data);",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Out of memory\")",
          "old_line_content": "    return data;",
          "new_line_content": "            LV_LOG_ERROR(\"Out of memory\");",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "lv_free",
          "old_text": null,
          "new_text": "lv_free(decoder_data->f)",
          "old_line_content": "    dsc->user_data = NULL;",
          "new_line_content": "        lv_free(decoder_data->f);",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoder_data->decoded)",
          "old_line_content": "static lv_result_t decode_indexed(lv_image_decoder_t * decoder, lv_image_decoder_dsc_t * dsc)",
          "new_line_content": "    if(decoder_data->decoded) lv_draw_buf_destroy(decoder_data->decoded);",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoder_data->decompressed)",
          "old_line_content": "{",
          "new_line_content": "    if(decoder_data->decompressed) lv_draw_buf_destroy(decoder_data->decompressed);",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": null,
          "new_api": "lv_free",
          "old_text": null,
          "new_text": "lv_free(decoder_data)",
          "old_line_content": "    lv_fs_res_t res;",
          "new_line_content": "    lv_free(decoder_data);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "lv_fs_seek",
          "old_text": null,
          "new_text": "lv_fs_seek(f, pos, LV_FS_SEEK_SET)",
          "old_line_content": "        return res;",
          "new_line_content": "    res = lv_fs_seek(f, pos, LV_FS_SEEK_SET);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "    const lv_color32_t * palette;",
          "new_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "lv_fs_read",
          "old_text": null,
          "new_text": "lv_fs_read(f, buff, btr, br)",
          "old_line_content": "",
          "new_line_content": "    res |= lv_fs_read(f, buff, btr, br);",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "LV_COLOR_INDEXED_PALETTE_SIZE",
          "old_text": null,
          "new_text": "LV_COLOR_INDEXED_PALETTE_SIZE(cf)",
          "old_line_content": "    if(is_compressed) {",
          "new_line_content": "    uint32_t palette_len = sizeof(lv_color32_t) * LV_COLOR_INDEXED_PALETTE_SIZE(cf);",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "get_decoder_data",
          "old_text": null,
          "new_text": "get_decoder_data(dsc)",
          "old_line_content": "    uint32_t input_len = compressed->compressed_size;",
          "new_line_content": "    decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": null,
          "new_api": "LV_ASSERT_MALLOC",
          "old_text": null,
          "new_text": "LV_ASSERT_MALLOC(palette)",
          "old_line_content": "        if(res != LV_FS_RES_OK || rn != palette_len) {",
          "new_line_content": "        LV_ASSERT_MALLOC(palette);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(out_len)",
          "old_line_content": "        return LV_RESULT_INVALID;",
          "new_line_content": "    LV_UNUSED(out_len);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,\n                                                         dsc->header.cf,\n                                                         dsc->header.stride)",
          "old_line_content": "",
          "new_line_content": "    lv_draw_buf_t * decompressed = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, sizeof(lv_image_header_t), (uint8_t *)palette, palette_len, &rn)",
          "old_line_content": "        decoder_data->palette = (void *)palette; /*Need to free when decoder closes*/",
          "new_line_content": "        res = fs_read_file_at(f, sizeof(lv_image_header_t), (uint8_t *)palette, palette_len, &rn);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"No memory for decompressed image, input: %\" LV_PRIu32 \", output: %\" LV_PRIu32, input_len, out_len)",
          "old_line_content": "        return LV_RESULT_INVALID;",
          "new_line_content": "        LV_LOG_WARN(\"No memory for decompressed image, input: %\" LV_PRIu32 \", output: %\" LV_PRIu32, input_len, out_len);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Read palette failed: %d\", res)",
          "old_line_content": "#if LV_BIN_DECODER_RAM_LOAD",
          "new_line_content": "            LV_LOG_WARN(\"Read palette failed: %d\", res);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Decompressed size mismatch: %\" LV_PRIu32 \" > %\" LV_PRIu32, out_len, decompressed->data_size)",
          "old_line_content": "    if(compressed->method == LV_IMAGE_COMPRESS_RLE) {",
          "new_line_content": "        LV_LOG_ERROR(\"Decompressed size mismatch: %\" LV_PRIu32 \" > %\" LV_PRIu32, out_len, decompressed->data_size);",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decompressed)",
          "old_line_content": "#if LV_USE_RLE",
          "new_line_content": "        lv_draw_buf_destroy(decompressed);",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,\n                                                 dsc->header.stride)",
          "old_line_content": "        indexed_data = draw_buf_indexed->data;",
          "new_line_content": "        draw_buf_indexed = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "lv_fs_seek",
          "old_text": null,
          "new_text": "lv_fs_seek(f, 0, LV_FS_SEEK_END)",
          "old_line_content": "        data_len -= data_offset;",
          "new_line_content": "        if(lv_fs_seek(f, 0, LV_FS_SEEK_END) != LV_FS_RES_OK ||",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Failed to get file to size\")",
          "old_line_content": "        if(res != LV_FS_RES_OK || rn != data_len) {",
          "new_line_content": "            LV_LOG_WARN(\"Failed to get file to size\");",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Decompress failed: %\" LV_PRIu32 \", got: %\" LV_PRIu32, out_len, len)",
          "old_line_content": "        return LV_RESULT_INVALID;",
          "new_line_content": "            LV_LOG_WARN(\"Decompress failed: %\" LV_PRIu32 \", got: %\" LV_PRIu32, out_len, len);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decompressed)",
          "old_line_content": "#endif",
          "new_line_content": "            lv_draw_buf_destroy(decompressed);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, data_offset, (uint8_t *)indexed_data, data_len, &rn)",
          "old_line_content": "    else if(dsc->src_type == LV_IMAGE_SRC_VARIABLE) {",
          "new_line_content": "        res = fs_read_file_at(f, data_offset, (uint8_t *)indexed_data, data_len, &rn);",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Read indexed image failed: %d\", res)",
          "old_line_content": "        palette = (lv_color32_t *)image->data;",
          "new_line_content": "            LV_LOG_WARN(\"Read indexed image failed: %d\", res);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"RLE decompress is not enabled\")",
          "old_line_content": "        const char * input = (const char *)compressed->data;",
          "new_line_content": "        LV_LOG_WARN(\"RLE decompress is not enabled\");",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decompressed)",
          "old_line_content": "        char * output = (char *)img_data;",
          "new_line_content": "        lv_draw_buf_destroy(decompressed);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Decompress failed: %\" LV_PRId32 \", got: %\" LV_PRId32, out_len, len)",
          "old_line_content": "        return LV_RESULT_INVALID;",
          "new_line_content": "            LV_LOG_WARN(\"Decompress failed: %\" LV_PRId32 \", got: %\" LV_PRId32, out_len, len);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decompressed)",
          "old_line_content": "#endif",
          "new_line_content": "            lv_draw_buf_destroy(decompressed);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "LV_COLOR_INDEXED_PALETTE_SIZE",
          "old_text": null,
          "new_text": "LV_COLOR_INDEXED_PALETTE_SIZE(cf)",
          "old_line_content": "    if(decoded == NULL) {",
          "new_line_content": "    dsc->palette_size = LV_COLOR_INDEXED_PALETTE_SIZE(cf);",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,\n                                                    LV_COLOR_FORMAT_ARGB8888,\n                                                    0)",
          "old_line_content": "",
          "new_line_content": "    lv_draw_buf_t * decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"No memory for indexed image\")",
          "old_line_content": "    const uint8_t * in = indexed_data;",
          "new_line_content": "        LV_LOG_ERROR(\"No memory for indexed image\");",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(img_data)",
          "old_line_content": "    return LV_RESULT_OK;",
          "new_line_content": "        LV_UNUSED(img_data);",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Unknown compression method: %d\", compressed->method)",
          "old_line_content": "}",
          "new_line_content": "        LV_LOG_WARN(\"Unknown compression method: %d\", compressed->method);",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decompressed)",
          "old_line_content": "",
          "new_line_content": "        lv_draw_buf_destroy(decompressed);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "decode_indexed_line",
          "old_text": null,
          "new_text": "decode_indexed_line(cf, dsc->palette, 0, dsc->header.w, in, (lv_color32_t *)out)",
          "old_line_content": "    if(dsc->src_type == LV_IMAGE_SRC_FILE && !is_compressed) {",
          "new_line_content": "        decode_indexed_line(cf, dsc->palette, 0, dsc->header.w, in, (lv_color32_t *)out);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(draw_buf_indexed)",
          "old_line_content": "        decoder_data->palette = NULL;",
          "new_line_content": "        lv_draw_buf_destroy(draw_buf_indexed);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(draw_buf_indexed)",
          "old_line_content": "    return LV_RESULT_OK;",
          "new_line_content": "    if(draw_buf_indexed) lv_draw_buf_destroy(draw_buf_indexed);",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(stride)",
          "old_line_content": "",
          "new_line_content": "    LV_UNUSED(stride);",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(indexed_data)",
          "old_line_content": "static lv_result_t load_indexed(lv_image_decoder_t * decoder, lv_image_decoder_dsc_t * dsc)",
          "new_line_content": "    LV_UNUSED(indexed_data);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(draw_buf_indexed)",
          "old_line_content": "{",
          "new_line_content": "    LV_UNUSED(draw_buf_indexed);",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "",
          "new_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(dsc)",
          "old_line_content": "    lv_fs_res_t res;",
          "new_line_content": "    LV_UNUSED(dsc); /*Unused*/",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"LV_BIN_DECODER_RAM_LOAD is disabled\")",
          "old_line_content": "    uint32_t rn;",
          "new_line_content": "    LV_LOG_ERROR(\"LV_BIN_DECODER_RAM_LOAD is disabled\");",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "        /*The decompressed image is already loaded to RAM*/",
          "new_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "lv_draw_buf_from_image",
          "old_text": null,
          "new_text": "lv_draw_buf_from_image(decoded, image)",
          "old_line_content": "            decoded->header.stride = dsc->header.stride;",
          "new_line_content": "            lv_draw_buf_from_image(decoded, image);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,\n                                                        dsc->header.stride)",
          "old_line_content": "        uint8_t * data = decoded->data;",
          "new_line_content": "        lv_draw_buf_t * decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Draw buffer alloc failed\")",
          "old_line_content": "        if(res != LV_FS_RES_OK || rn != palette_len) {",
          "new_line_content": "            LV_LOG_ERROR(\"Draw buffer alloc failed\");",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "LV_COLOR_INDEXED_PALETTE_SIZE",
          "old_text": null,
          "new_text": "LV_COLOR_INDEXED_PALETTE_SIZE(cf)",
          "old_line_content": "",
          "new_line_content": "        uint32_t palette_len = sizeof(lv_color32_t) * LV_COLOR_INDEXED_PALETTE_SIZE(cf);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, sizeof(lv_image_header_t), data, palette_len, &rn)",
          "old_line_content": "        uint32_t data_len = 0;",
          "new_line_content": "        res = fs_read_file_at(f, sizeof(lv_image_header_t), data, palette_len, &rn);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "lv_fs_seek",
          "old_text": null,
          "new_text": "lv_fs_seek(f, 0, LV_FS_SEEK_END)",
          "old_line_content": "        uint32_t data_offset = sizeof(lv_image_header_t) + palette_len;",
          "new_line_content": "        if(lv_fs_seek(f, 0, LV_FS_SEEK_END) != LV_FS_RES_OK ||",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": null,
          "new_api": "lv_fs_tell",
          "old_text": null,
          "new_text": "lv_fs_tell(f, &data_len)",
          "old_line_content": "        data_len -= data_offset;",
          "new_line_content": "           lv_fs_tell(f, &data_len) != LV_FS_RES_OK) {",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Failed to get file to size\")",
          "old_line_content": "        data += palette_len;",
          "new_line_content": "            LV_LOG_WARN(\"Failed to get file to size\");",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, data_offset, data, data_len, &rn)",
          "old_line_content": "        decoder_data->decoded = decoded;",
          "new_line_content": "        res = fs_read_file_at(f, data_offset, data, data_len, &rn);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Read indexed image failed: %d\", res)",
          "old_line_content": "        return LV_RESULT_OK;",
          "new_line_content": "            LV_LOG_WARN(\"Read indexed image failed: %d\", res);",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoded)",
          "old_line_content": "    }",
          "new_line_content": "            lv_draw_buf_destroy(decoded);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Unknown src type: %d\", dsc->src_type)",
          "old_line_content": "{",
          "new_line_content": "    LV_LOG_ERROR(\"Unknown src type: %d\", dsc->src_type);",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "    if(cf == LV_COLOR_FORMAT_RGB565A8) {",
          "new_line_content": "    LV_UNUSED(decoder);",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,\n                                                    dsc->header.stride)",
          "old_line_content": "    uint8_t * img_data = decoded->data;",
          "new_line_content": "    lv_draw_buf_t * decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "get_decoder_data",
          "old_text": null,
          "new_text": "get_decoder_data(dsc)",
          "old_line_content": "        }",
          "new_line_content": "                decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, sizeof(lv_image_header_t), img_data, len, &rn)",
          "old_line_content": "    dsc->decoded = decoded;",
          "new_line_content": "    res = fs_read_file_at(f, sizeof(lv_image_header_t), img_data, len, &rn);",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Read rgb file failed: %d\", res)",
          "old_line_content": "    return LV_RESULT_OK;",
          "new_line_content": "        LV_LOG_WARN(\"Read rgb file failed: %d\", res);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoded)",
          "old_line_content": "}",
          "new_line_content": "        lv_draw_buf_destroy(decoded);",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "get_decoder_data",
          "old_text": null,
          "new_text": "get_decoder_data(dsc)",
          "old_line_content": "                if(image->header.stride == 0) {",
          "new_line_content": "            decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "lv_color_format_get_bpp",
          "old_text": null,
          "new_text": "lv_color_format_get_bpp(cf)",
          "old_line_content": "            dsc->decoded = decoded;",
          "new_line_content": "                    tmp.header.stride = (tmp.header.w * lv_color_format_get_bpp(cf) + 7) >> 3;",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": null,
          "new_api": "lv_draw_buf_from_image",
          "old_text": null,
          "new_text": "lv_draw_buf_from_image(decoded, &tmp)",
          "old_line_content": "",
          "new_line_content": "                    lv_draw_buf_from_image(decoded, &tmp);",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "lv_draw_buf_from_image",
          "old_text": null,
          "new_text": "lv_draw_buf_from_image(decoded, image)",
          "old_line_content": "                decoded->header.stride = dsc->header.stride;",
          "new_line_content": "                    lv_draw_buf_from_image(decoded, image);",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "    uint32_t buf_len = w * dsc->header.h; /*always decode to A8 format*/",
          "new_line_content": "    LV_UNUSED(decoder);",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": null,
          "new_api": "free_decoder_data",
          "old_text": null,
          "new_text": "free_decoder_data(dsc)",
          "old_line_content": "    if(dsc->header.flags & LV_IMAGE_FLAGS_PREMULTIPLIED) {",
          "new_line_content": "        free_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": null,
          "new_api": "lv_draw_buf_set_flag",
          "old_text": null,
          "new_text": "lv_draw_buf_set_flag(decoded, LV_IMAGE_FLAGS_PREMULTIPLIED)",
          "old_line_content": "    }",
          "new_line_content": "        lv_draw_buf_set_flag(decoded, LV_IMAGE_FLAGS_PREMULTIPLIED);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, LV_COLOR_FORMAT_A8,\n                                    buf_stride)",
          "old_line_content": "    uint8_t * img_data = decoded->data;",
          "new_line_content": "    decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, LV_COLOR_FORMAT_A8,",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "lv_image_decoder_post_process",
          "old_text": null,
          "new_text": "lv_image_decoder_post_process(dsc, decoded)",
          "old_line_content": "    if(adjusted != decoded) {",
          "new_line_content": "    lv_draw_buf_t * adjusted = lv_image_decoder_post_process(dsc, decoded);",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Out of memory\")",
          "old_line_content": "        /*Copy from image data*/",
          "new_line_content": "        LV_LOG_ERROR(\"Out of memory\");",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "lv_memcpy",
          "old_text": null,
          "new_text": "lv_memcpy(img_data, decoder_data->decompressed->data, file_len)",
          "old_line_content": "            return LV_RESULT_INVALID;",
          "new_line_content": "        lv_memcpy(img_data, decoder_data->decompressed->data, file_len);",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "free_decoder_data",
          "old_text": null,
          "new_text": "free_decoder_data(dsc)",
          "old_line_content": "",
          "new_line_content": "        free_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": null,
          "new_api": "get_decoder_data",
          "old_text": null,
          "new_text": "get_decoder_data(dsc)",
          "old_line_content": "    /*If the image cache is disabled, just return the decoded image*/",
          "new_line_content": "        decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(decoder_data->f, sizeof(lv_image_header_t), img_data, file_len, &rn)",
          "old_line_content": "    else if(dsc->src_type == LV_IMAGE_SRC_VARIABLE) {",
          "new_line_content": "        res = fs_read_file_at(decoder_data->f, sizeof(lv_image_header_t), img_data, file_len, &rn);",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoded)",
          "old_line_content": "    }",
          "new_line_content": "            lv_draw_buf_destroy(decoded);",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": null,
          "new_api": "lv_image_cache_is_enabled",
          "old_text": null,
          "new_text": "lv_image_cache_is_enabled()",
          "old_line_content": "",
          "new_line_content": "    if(!lv_image_cache_is_enabled()) return LV_RESULT_OK;",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "lv_memcpy",
          "old_text": null,
          "new_text": "lv_memcpy(img_data, ((lv_image_dsc_t *)dsc->src)->data, file_len)",
          "old_line_content": "        uint8_t mask = (1 << bpp) - 1;",
          "new_line_content": "        lv_memcpy(img_data, ((lv_image_dsc_t *)dsc->src)->data, file_len);",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": null,
          "new_api": "lv_image_decoder_add_to_cache",
          "old_text": null,
          "new_text": "lv_image_decoder_add_to_cache(decoder, &search_key, dsc->decoded, dsc->user_data)",
          "old_line_content": "    decoder_data->decoded = NULL; /*Cache will take care of it*/",
          "new_line_content": "    lv_cache_entry_t * cache_entry = lv_image_decoder_add_to_cache(decoder, &search_key, dsc->decoded, dsc->user_data);",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": null,
          "new_api": "free_decoder_data",
          "old_text": null,
          "new_text": "free_decoder_data(dsc)",
          "old_line_content": "    return LV_RESULT_OK;",
          "new_line_content": "        free_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "get_decoder_data",
          "old_text": null,
          "new_text": "get_decoder_data(dsc)",
          "old_line_content": "{",
          "new_line_content": "    decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "",
          "new_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "bit_extend",
          "old_text": null,
          "new_text": "bit_extend(value, bpp)",
          "old_line_content": "        }",
          "new_line_content": "            *out = bit_extend(value, bpp);",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoder_data->decoded_partial)",
          "old_line_content": "lv_result_t lv_bin_decoder_get_area(lv_image_decoder_t * decoder, lv_image_decoder_dsc_t * dsc,",
          "new_line_content": "        lv_draw_buf_destroy(decoder_data->decoded_partial);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "free_decoder_data",
          "old_text": null,
          "new_text": "free_decoder_data(dsc)",
          "old_line_content": "",
          "new_line_content": "    free_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "                     || cf == LV_COLOR_FORMAT_XRGB8888  \\",
          "new_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "old_text": null,
          "new_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "old_line_content": "    if(!supported) {",
          "new_line_content": "    bool supported = LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": null,
          "new_api": "get_decoder_data",
          "old_text": null,
          "new_text": "get_decoder_data(dsc)",
          "old_line_content": "",
          "new_line_content": "    decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "lv_fs_seek",
          "old_text": null,
          "new_text": "lv_fs_seek(f, 0, LV_FS_SEEK_END)",
          "old_line_content": "        compressed_len -= 12;",
          "new_line_content": "        if(lv_fs_seek(f, 0, LV_FS_SEEK_END) != LV_FS_RES_OK ||",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "lv_fs_tell",
          "old_text": null,
          "new_text": "lv_fs_tell(f, &compressed_len)",
          "old_line_content": "",
          "new_line_content": "           lv_fs_tell(f, &compressed_len) != LV_FS_RES_OK) {",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Unexpected null decoder data\")",
          "old_line_content": "    uint8_t * img_data = NULL;",
          "new_line_content": "        LV_LOG_ERROR(\"Unexpected null decoder data\");",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Failed to get compressed file len\")",
          "old_line_content": "        /*Read compress header*/",
          "new_line_content": "            LV_LOG_WARN(\"Failed to get compressed file len\");",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "lv_color_format_get_bpp",
          "old_text": null,
          "new_text": "lv_color_format_get_bpp(cf)",
          "old_line_content": "    if(decoded_area->y1 == LV_COORD_MIN) {",
          "new_line_content": "    uint32_t bpp = lv_color_format_get_bpp(cf);",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "lv_area_get_width",
          "old_text": null,
          "new_text": "lv_area_get_width(full_area)",
          "old_line_content": "        /*Indexed image is converted to ARGB888*/",
          "new_line_content": "    int32_t w_px = lv_area_get_width(full_area);",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Read compressed header failed: %d\", fs_res)",
          "old_line_content": "        }",
          "new_line_content": "            LV_LOG_WARN(\"Read compressed header failed: %d\", fs_res);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "old_text": null,
          "new_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "old_line_content": "            }",
          "new_line_content": "        lv_color_format_t cf_decoded = LV_COLOR_FORMAT_IS_INDEXED(cf) ? LV_COLOR_FORMAT_ARGB8888 : cf;",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "lv_draw_buf_reshape",
          "old_text": null,
          "new_text": "lv_draw_buf_reshape(decoder_data->decoded_partial, cf_decoded, w_px, 1, LV_STRIDE_AUTO)",
          "old_line_content": "            if(decoded == NULL) return LV_RESULT_INVALID;",
          "new_line_content": "        decoded = lv_draw_buf_reshape(decoder_data->decoded_partial, cf_decoded, w_px, 1, LV_STRIDE_AUTO);",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len)",
          "old_line_content": "            return LV_RESULT_INVALID;",
          "new_line_content": "            LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len);",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "lv_draw_buf_destroy",
          "old_text": null,
          "new_text": "lv_draw_buf_destroy(decoder_data->decoded_partial)",
          "old_line_content": "        *decoded_area = *full_area;",
          "new_line_content": "                lv_draw_buf_destroy(decoder_data->decoded_partial);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "lv_malloc",
          "old_text": null,
          "new_text": "lv_malloc(compressed_len)",
          "old_line_content": "        /*Continue to read the compressed data following compression header*/",
          "new_line_content": "        file_buf = lv_malloc(compressed_len);",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "lv_draw_buf_create_ex",
          "old_text": null,
          "new_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, w_px, 1, cf_decoded, LV_STRIDE_AUTO)",
          "old_line_content": "    else {",
          "new_line_content": "            decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, w_px, 1, cf_decoded, LV_STRIDE_AUTO);",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"No memory for compressed file\")",
          "old_line_content": "        if(fs_res != LV_FS_RES_OK || rn != compressed_len) {",
          "new_line_content": "            LV_LOG_WARN(\"No memory for compressed file\");",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "lv_fs_read",
          "old_text": null,
          "new_text": "lv_fs_read(f, file_buf, compressed_len, &rn)",
          "old_line_content": "        /*Decompress the image*/",
          "new_line_content": "        fs_res = lv_fs_read(f, file_buf, compressed_len, &rn);",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Read compressed file failed: %d\", fs_res)",
          "old_line_content": "    }",
          "new_line_content": "            LV_LOG_WARN(\"Read compressed file failed: %d\", fs_res);",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "lv_free",
          "old_text": null,
          "new_text": "lv_free(file_buf)",
          "old_line_content": "    else if(dsc->src_type == LV_IMAGE_SRC_VARIABLE) {",
          "new_line_content": "            lv_free(file_buf);",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": null,
          "new_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "old_text": null,
          "new_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "old_line_content": "        offset += decoded_area->x1 * bpp / 8; /*Move to x1*/",
          "new_line_content": "    if(LV_COLOR_FORMAT_IS_INDEXED(cf)) {",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "lv_memcpy",
          "old_text": null,
          "new_text": "lv_memcpy(compressed, image->data, len)",
          "old_line_content": "    else {",
          "new_line_content": "        lv_memcpy(compressed, image->data, len);",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len)",
          "old_line_content": "    }",
          "new_line_content": "            LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len);",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": null,
          "new_api": "LV_ASSERT_NULL",
          "old_text": null,
          "new_text": "LV_ASSERT_NULL(buf)",
          "old_line_content": "                return LV_RESULT_INVALID;",
          "new_line_content": "            LV_ASSERT_NULL(buf);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Compressed image only support file or variable\")",
          "old_line_content": "    if(res != LV_RESULT_OK) {",
          "new_line_content": "        LV_LOG_WARN(\"Compressed image only support file or variable\");",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, offset, buf, len, NULL)",
          "old_line_content": "            const lv_image_dsc_t * image = dsc->src;",
          "new_line_content": "            res = fs_read_file_at(f, offset, buf, len, NULL);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "lv_free",
          "old_text": null,
          "new_text": "lv_free(buf)",
          "old_line_content": "        }",
          "new_line_content": "                lv_free(buf);",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "decompress_image",
          "old_text": null,
          "new_text": "decompress_image(dsc, compressed)",
          "old_line_content": "",
          "new_line_content": "    res = decompress_image(dsc, compressed);",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": null,
          "new_api": "lv_free",
          "old_text": null,
          "new_text": "lv_free(file_buf)",
          "old_line_content": "    lv_image_dsc_t * image = (lv_image_dsc_t *)dsc->src;",
          "new_line_content": "    lv_free(file_buf);",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "LV_LOG_WARN",
          "old_text": null,
          "new_text": "LV_LOG_WARN(\"Decompress failed\")",
          "old_line_content": "        return LV_RESULT_INVALID;",
          "new_line_content": "        LV_LOG_WARN(\"Decompress failed\");",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "decode_indexed_line",
          "old_text": null,
          "new_text": "decode_indexed_line(cf, dsc->palette, x_fraction, w_px, buf, (lv_color32_t *)img_data)",
          "old_line_content": "",
          "new_line_content": "        decode_indexed_line(cf, dsc->palette, x_fraction, w_px, buf, (lv_color32_t *)img_data);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "lv_free",
          "old_text": null,
          "new_text": "lv_free((void *)buf)",
          "old_line_content": "       || cf == LV_COLOR_FORMAT_RGB565 || cf == LV_COLOR_FORMAT_ARGB8565) {",
          "new_line_content": "        if(dsc->src_type == LV_IMAGE_SRC_FILE) lv_free((void *)buf);",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": null,
          "new_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "old_text": null,
          "new_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "old_line_content": "    else {",
          "new_line_content": "    if(LV_COLOR_FORMAT_IS_INDEXED(cf)) {",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "load_indexed",
          "old_text": null,
          "new_text": "load_indexed(decoder, dsc)",
          "old_line_content": "        /*The decompressed data is the original image data.*/",
          "new_line_content": "        if(dsc->args.use_indexed) res = load_indexed(decoder, dsc);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "decode_indexed",
          "old_text": null,
          "new_text": "decode_indexed(decoder, dsc)",
          "old_line_content": "        dsc->decoded = decoder_data->decompressed;",
          "new_line_content": "        else res = decode_indexed(decoder, dsc);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "LV_COLOR_FORMAT_IS_ALPHA_ONLY",
          "old_text": null,
          "new_text": "LV_COLOR_FORMAT_IS_ALPHA_ONLY(cf)",
          "old_line_content": "        /*Transfer ownership of decompressed to `decoded` since it can be used directly*/",
          "new_line_content": "    else if(LV_COLOR_FORMAT_IS_ALPHA_ONLY(cf)) {",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "decode_alpha_only",
          "old_text": null,
          "new_text": "decode_alpha_only(decoder, dsc)",
          "old_line_content": "        decoder_data->decoded = decoder_data->decompressed;",
          "new_line_content": "        res = decode_alpha_only(decoder, dsc);",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, offset, img_data, len, NULL)",
          "old_line_content": "    }",
          "new_line_content": "        res = fs_read_file_at(f, offset, img_data, len, NULL);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decompress_image)",
          "old_line_content": "",
          "new_line_content": "    LV_UNUSED(decompress_image);",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(decoder)",
          "old_line_content": "static lv_result_t decode_indexed_line(lv_color_format_t color_format, const lv_color32_t * palette, int32_t x,",
          "new_line_content": "    LV_UNUSED(decoder);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "fs_read_file_at",
          "old_text": null,
          "new_text": "fs_read_file_at(f, offset, img_data, len, NULL)",
          "old_line_content": "        offset += dsc->header.h * dsc->header.stride; /*Move to A8 map*/",
          "new_line_content": "        res = fs_read_file_at(f, offset, img_data, len, NULL);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "LV_LOG_ERROR",
          "old_text": null,
          "new_text": "LV_LOG_ERROR(\"Need LV_BIN_DECODER_RAM_LOAD to be enabled\")",
          "old_line_content": "{",
          "new_line_content": "    LV_LOG_ERROR(\"Need LV_BIN_DECODER_RAM_LOAD to be enabled\");",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "LV_UNUSED",
          "old_text": null,
          "new_text": "LV_UNUSED(dsc)",
          "old_line_content": "                                       int32_t w_px, const uint8_t * in, lv_color32_t * out)",
          "new_line_content": "    LV_UNUSED(dsc);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 528,
          "old_api": "lv_malloc_zeroed",
          "new_api": null,
          "old_text": "lv_malloc_zeroed(sizeof(decoder_data_t))",
          "new_text": null,
          "old_line_content": "        data = lv_malloc_zeroed(sizeof(decoder_data_t));",
          "new_line_content": " *   STATIC FUNCTIONS",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "LV_ASSERT_MALLOC",
          "new_api": null,
          "old_text": "LV_ASSERT_MALLOC(data)",
          "new_text": null,
          "old_line_content": "        LV_ASSERT_MALLOC(data);",
          "new_line_content": " **********************/",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Out of memory\")",
          "new_text": null,
          "old_line_content": "            LV_LOG_ERROR(\"Out of memory\");",
          "new_line_content": "static decoder_data_t * get_decoder_data(lv_image_decoder_dsc_t * dsc)",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "lv_fs_close",
          "new_api": null,
          "old_text": "lv_fs_close(decoder_data->f)",
          "new_text": null,
          "old_line_content": "        lv_fs_close(decoder_data->f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "lv_free",
          "new_api": null,
          "old_text": "lv_free(decoder_data->f)",
          "new_text": null,
          "old_line_content": "        lv_free(decoder_data->f);",
          "new_line_content": "static void free_decoder_data(lv_image_decoder_dsc_t * dsc)",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoder_data->decoded)",
          "new_text": null,
          "old_line_content": "    if(decoder_data->decoded) lv_draw_buf_destroy(decoder_data->decoded);",
          "new_line_content": "    if(decoder_data == NULL) return;",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoder_data->decompressed)",
          "new_text": null,
          "old_line_content": "    if(decoder_data->decompressed) lv_draw_buf_destroy(decoder_data->decompressed);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "lv_free",
          "new_api": null,
          "old_text": "lv_free(decoder_data->palette)",
          "new_text": null,
          "old_line_content": "    lv_free(decoder_data->palette);",
          "new_line_content": "    if(decoder_data->f) {",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "lv_fs_seek",
          "new_api": null,
          "old_text": "lv_fs_seek(f, pos, LV_FS_SEEK_SET)",
          "new_text": null,
          "old_line_content": "    res = lv_fs_seek(f, pos, LV_FS_SEEK_SET);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "lv_fs_read",
          "new_api": null,
          "old_text": "lv_fs_read(f, buff, btr, br)",
          "new_text": null,
          "old_line_content": "    res |= lv_fs_read(f, buff, btr, br);",
          "new_line_content": "    if(br) *br = 0;",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "LV_COLOR_INDEXED_PALETTE_SIZE",
          "new_api": null,
          "old_text": "LV_COLOR_INDEXED_PALETTE_SIZE(cf)",
          "new_text": null,
          "old_line_content": "    uint32_t palette_len = sizeof(lv_color32_t) * LV_COLOR_INDEXED_PALETTE_SIZE(cf);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "get_decoder_data",
          "new_api": null,
          "old_text": "get_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "    decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": "lv_malloc",
          "new_api": null,
          "old_text": "lv_malloc(palette_len)",
          "new_text": null,
          "old_line_content": "        palette = lv_malloc(palette_len);",
          "new_line_content": "    if(is_compressed) {",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "LV_ASSERT_MALLOC",
          "new_api": null,
          "old_text": "LV_ASSERT_MALLOC(palette)",
          "new_text": null,
          "old_line_content": "        LV_ASSERT_MALLOC(palette);",
          "new_line_content": "        uint8_t * data = decoder_data->decompressed->data;",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(input_len)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(input_len);",
          "new_line_content": "    if(decoder_data == NULL) {",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Out of memory\")",
          "new_text": null,
          "old_line_content": "            LV_LOG_ERROR(\"Out of memory\");",
          "new_line_content": "        indexed_data = data + palette_len;",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(out_len)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(out_len);",
          "new_line_content": "        return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": null,
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,\n                                                         dsc->header.cf,\n                                                         dsc->header.stride)",
          "new_text": null,
          "old_line_content": "    lv_draw_buf_t * decompressed = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read palette failed: %d\", res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read palette failed: %d\", res);",
          "new_line_content": "        if(palette == NULL) {",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Decompressed size mismatch: %\" LV_PRIu32 \" > %\" LV_PRIu32, out_len, decompressed->data_size)",
          "new_text": null,
          "old_line_content": "        LV_LOG_ERROR(\"Decompressed size mismatch: %\" LV_PRIu32 \" > %\" LV_PRIu32, out_len, decompressed->data_size);",
          "new_line_content": "                                                         dsc->header.stride);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decompressed)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_destroy(decompressed);",
          "new_line_content": "    if(decompressed == NULL) {",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Draw buffer alloc failed\")",
          "new_text": null,
          "old_line_content": "            LV_LOG_ERROR(\"Draw buffer alloc failed\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "lv_color_format_get_bpp",
          "new_api": null,
          "old_text": "lv_color_format_get_bpp(dsc->header.cf)",
          "new_text": null,
          "old_line_content": "            pixel_byte = (lv_color_format_get_bpp(dsc->header.cf) + 7) >> 3;",
          "new_line_content": "    if(compressed->method == LV_IMAGE_COMPRESS_RLE) {",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "lv_fs_tell",
          "new_api": null,
          "old_text": "lv_fs_tell(f, &data_len)",
          "new_text": null,
          "old_line_content": "           lv_fs_tell(f, &data_len) != LV_FS_RES_OK) {",
          "new_line_content": "            goto exit_with_buf;",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Failed to get file to size\")",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Failed to get file to size\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "lv_rle_decompress",
          "new_api": null,
          "old_text": "lv_rle_decompress(input, input_len, output, out_len, pixel_byte)",
          "new_text": null,
          "old_line_content": "        len = lv_rle_decompress(input, input_len, output, out_len, pixel_byte);",
          "new_line_content": "        if(dsc->header.cf == LV_COLOR_FORMAT_RGB565A8)",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Decompress failed: %\" LV_PRIu32 \", got: %\" LV_PRIu32, out_len, len)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Decompress failed: %\" LV_PRIu32 \", got: %\" LV_PRIu32, out_len, len);",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read indexed image failed: %d\", res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read indexed image failed: %d\", res);",
          "new_line_content": "            goto exit_with_buf;",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decompressed)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_destroy(decompressed);",
          "new_line_content": "        if(len != compressed->decompressed_size) {",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "LZ4_decompress_safe",
          "new_api": null,
          "old_text": "LZ4_decompress_safe(input, output, input_len, out_len)",
          "new_text": null,
          "old_line_content": "        len = LZ4_decompress_safe(input, output, input_len, out_len);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Decompress failed: %\" LV_PRId32 \", got: %\" LV_PRId32, out_len, len)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Decompress failed: %\" LV_PRId32 \", got: %\" LV_PRId32, out_len, len);",
          "new_line_content": "    else if(compressed->method == LV_IMAGE_COMPRESS_LZ4) {",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decompressed)",
          "new_text": null,
          "old_line_content": "            lv_draw_buf_destroy(decompressed);",
          "new_line_content": "#if LV_USE_LZ4",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "LV_COLOR_INDEXED_PALETTE_SIZE",
          "new_api": null,
          "old_text": "LV_COLOR_INDEXED_PALETTE_SIZE(cf)",
          "new_text": null,
          "old_line_content": "    dsc->palette_size = LV_COLOR_INDEXED_PALETTE_SIZE(cf);",
          "new_line_content": "        indexed_data = image->data + palette_len;",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decompressed)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_destroy(decompressed);",
          "new_line_content": "        if(len < 0 || (uint32_t)len != compressed->decompressed_size) {",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": null,
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,\n                                                    LV_COLOR_FORMAT_ARGB8888,\n                                                    0)",
          "new_text": null,
          "old_line_content": "    lv_draw_buf_t * decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"No memory for indexed image\")",
          "new_text": null,
          "old_line_content": "        LV_LOG_ERROR(\"No memory for indexed image\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(img_data)",
          "new_text": null,
          "old_line_content": "        LV_UNUSED(img_data);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "decode_indexed_line",
          "new_api": null,
          "old_text": "decode_indexed_line(cf, dsc->palette, 0, dsc->header.w, in, (lv_color32_t *)out)",
          "new_text": null,
          "old_line_content": "        decode_indexed_line(cf, dsc->palette, 0, dsc->header.w, in, (lv_color32_t *)out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(draw_buf_indexed)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_destroy(draw_buf_indexed);",
          "new_line_content": "        out += stride;",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "lv_free",
          "new_api": null,
          "old_text": "lv_free((void *)palette)",
          "new_text": null,
          "old_line_content": "        lv_free((void *)palette);",
          "new_line_content": "        decoder_data->palette = (void *)palette; /*Free decoder data on close*/",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(draw_buf_indexed)",
          "new_text": null,
          "old_line_content": "    if(draw_buf_indexed) lv_draw_buf_destroy(draw_buf_indexed);",
          "new_line_content": "    return LV_RESULT_OK;",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(indexed_data)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(indexed_data);",
          "new_line_content": "        decoder_data->palette = NULL;",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(draw_buf_indexed)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(draw_buf_indexed);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "new_line_content": "    return LV_RESULT_OK;",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(dsc)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(dsc); /*Unused*/",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"LV_BIN_DECODER_RAM_LOAD is disabled\")",
          "new_text": null,
          "old_line_content": "    LV_LOG_ERROR(\"LV_BIN_DECODER_RAM_LOAD is disabled\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "new_line_content": "#if LV_BIN_DECODER_RAM_LOAD == 0",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "lv_draw_buf_from_image",
          "new_api": null,
          "old_text": "lv_draw_buf_from_image(decoded, image)",
          "new_text": null,
          "old_line_content": "            lv_draw_buf_from_image(decoded, image);",
          "new_line_content": "        lv_image_dsc_t * image = (lv_image_dsc_t *)dsc->src;",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": null,
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,\n                                                        dsc->header.stride)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_t * decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Draw buffer alloc failed\")",
          "new_text": null,
          "old_line_content": "            LV_LOG_ERROR(\"Draw buffer alloc failed\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "LV_COLOR_INDEXED_PALETTE_SIZE",
          "new_api": null,
          "old_text": "LV_COLOR_INDEXED_PALETTE_SIZE(cf)",
          "new_text": null,
          "old_line_content": "        uint32_t palette_len = sizeof(lv_color32_t) * LV_COLOR_INDEXED_PALETTE_SIZE(cf);",
          "new_line_content": "                                                        dsc->header.stride);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(f, sizeof(lv_image_header_t), data, palette_len, &rn)",
          "new_text": null,
          "old_line_content": "        res = fs_read_file_at(f, sizeof(lv_image_header_t), data, palette_len, &rn);",
          "new_line_content": "        if(decoded == NULL) {",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read palette failed: %d\", res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read palette failed: %d\", res);",
          "new_line_content": "            return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoded)",
          "new_text": null,
          "old_line_content": "            lv_draw_buf_destroy(decoded);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "lv_fs_seek",
          "new_api": null,
          "old_text": "lv_fs_seek(f, 0, LV_FS_SEEK_END)",
          "new_text": null,
          "old_line_content": "        if(lv_fs_seek(f, 0, LV_FS_SEEK_END) != LV_FS_RES_OK ||",
          "new_line_content": "        if(res != LV_FS_RES_OK || rn != palette_len) {",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoded)",
          "new_text": null,
          "old_line_content": "            lv_draw_buf_destroy(decoded);",
          "new_line_content": "            return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read indexed image failed: %d\", res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read indexed image failed: %d\", res);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoded)",
          "new_text": null,
          "old_line_content": "            lv_draw_buf_destroy(decoded);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Unknown src type: %d\", dsc->src_type)",
          "new_text": null,
          "old_line_content": "    LV_LOG_ERROR(\"Unknown src type: %d\", dsc->src_type);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder);",
          "new_line_content": "    return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": null,
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,\n                                                    dsc->header.stride)",
          "new_text": null,
          "old_line_content": "    lv_draw_buf_t * decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, dsc->header.w, dsc->header.h, cf,",
          "new_line_content": "    lv_color_format_t cf = dsc->header.cf;",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"No memory for rgb file read\")",
          "new_text": null,
          "old_line_content": "        LV_LOG_ERROR(\"No memory for rgb file read\");",
          "new_line_content": "    if(cf == LV_COLOR_FORMAT_RGB565A8) {",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": "get_decoder_data",
          "new_api": null,
          "old_text": "get_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "            decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "new_line_content": "                res = LV_RESULT_OK;",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "decode_alpha_only",
          "new_api": null,
          "old_text": "decode_alpha_only(decoder, dsc)",
          "new_text": null,
          "old_line_content": "            res = decode_alpha_only(decoder, dsc);",
          "new_line_content": "                /*Alpha only image will need decoder data to store pointer to decoded image, to free it when decoder closes*/",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read rgb file failed: %d\", res)",
          "new_text": null,
          "old_line_content": "        LV_LOG_WARN(\"Read rgb file failed: %d\", res);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoded)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_destroy(decoded);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "lv_color_format_get_bpp",
          "new_api": null,
          "old_text": "lv_color_format_get_bpp(cf)",
          "new_text": null,
          "old_line_content": "                    tmp.header.stride = (tmp.header.w * lv_color_format_get_bpp(cf) + 7) >> 3;",
          "new_line_content": "                decoded = (lv_draw_buf_t *)image;",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "lv_draw_buf_from_image",
          "new_api": null,
          "old_text": "lv_draw_buf_from_image(decoded, &tmp)",
          "new_text": null,
          "old_line_content": "                    lv_draw_buf_from_image(decoded, &tmp);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "lv_draw_buf_from_image",
          "new_api": null,
          "old_text": "lv_draw_buf_from_image(decoded, image)",
          "new_text": null,
          "old_line_content": "                    lv_draw_buf_from_image(decoded, image);",
          "new_line_content": "                if(image->header.stride == 0) {",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder);",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "free_decoder_data",
          "new_api": null,
          "old_text": "free_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "        free_decoder_data(dsc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "lv_color_format_get_bpp",
          "new_api": null,
          "old_text": "lv_color_format_get_bpp(dsc->header.cf)",
          "new_text": null,
          "old_line_content": "    uint8_t bpp = lv_color_format_get_bpp(dsc->header.cf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "lv_draw_buf_set_flag",
          "new_api": null,
          "old_text": "lv_draw_buf_set_flag(decoded, LV_IMAGE_FLAGS_PREMULTIPLIED)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_set_flag(decoded, LV_IMAGE_FLAGS_PREMULTIPLIED);",
          "new_line_content": "        return res;",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "lv_image_decoder_post_process",
          "new_api": null,
          "old_text": "lv_image_decoder_post_process(dsc, decoded)",
          "new_text": null,
          "old_line_content": "    lv_draw_buf_t * adjusted = lv_image_decoder_post_process(dsc, decoded);",
          "new_line_content": "    if(dsc->decoded == NULL) return LV_RESULT_OK; /*Need to read via get_area_cb*/",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Out of memory\")",
          "new_text": null,
          "old_line_content": "        LV_LOG_ERROR(\"Out of memory\");",
          "new_line_content": "    uint32_t buf_len = w * dsc->header.h; /*always decode to A8 format*/",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "free_decoder_data",
          "new_api": null,
          "old_text": "free_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "        free_decoder_data(dsc);",
          "new_line_content": "    lv_draw_buf_t * decoded = (lv_draw_buf_t *)dsc->decoded;",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "lv_memcpy",
          "new_api": null,
          "old_text": "lv_memcpy(img_data, decoder_data->decompressed->data, file_len)",
          "new_text": null,
          "old_line_content": "        lv_memcpy(img_data, decoder_data->decompressed->data, file_len);",
          "new_line_content": "        return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "get_decoder_data",
          "new_api": null,
          "old_text": "get_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "        decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "new_line_content": "        return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(decoder_data->f, sizeof(lv_image_header_t), img_data, file_len, &rn)",
          "new_text": null,
          "old_line_content": "        res = fs_read_file_at(decoder_data->f, sizeof(lv_image_header_t), img_data, file_len, &rn);",
          "new_line_content": "    uint8_t * img_data = decoded->data;",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read header failed: %d\", res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read header failed: %d\", res);",
          "new_line_content": "    if(dsc->header.flags & LV_IMAGE_FLAGS_COMPRESSED) {",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoded)",
          "new_text": null,
          "old_line_content": "            lv_draw_buf_destroy(decoded);",
          "new_line_content": "        /*Copy from image data*/",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "lv_image_cache_is_enabled",
          "new_api": null,
          "old_text": "lv_image_cache_is_enabled()",
          "new_text": null,
          "old_line_content": "    if(!lv_image_cache_is_enabled()) return LV_RESULT_OK;",
          "new_line_content": "        decoder_data->decoded = adjusted; /*Now this new buffer need to be free'd on decoder close*/",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "lv_image_decoder_add_to_cache",
          "new_api": null,
          "old_text": "lv_image_decoder_add_to_cache(decoder, &search_key, dsc->decoded, dsc->user_data)",
          "new_text": null,
          "old_line_content": "    lv_cache_entry_t * cache_entry = lv_image_decoder_add_to_cache(decoder, &search_key, dsc->decoded, dsc->user_data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": "free_decoder_data",
          "new_api": null,
          "old_text": "free_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "        free_decoder_data(dsc);",
          "new_line_content": "    lv_image_cache_data_t search_key;",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "get_decoder_data",
          "new_api": null,
          "old_text": "get_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "    decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "new_line_content": "    decoder_data->decoded = NULL; /*Cache will take care of it*/",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "bit_extend",
          "new_api": null,
          "old_text": "bit_extend(value, bpp)",
          "new_text": null,
          "old_line_content": "            *out = bit_extend(value, bpp);",
          "new_line_content": "             * mapped to 0x00 to 0xFF. Using below equation will give us 0x00 to 0xF0",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoder_data->decoded_partial)",
          "new_text": null,
          "old_line_content": "        lv_draw_buf_destroy(decoder_data->decoded_partial);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "free_decoder_data",
          "new_api": null,
          "old_text": "free_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "    free_decoder_data(dsc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder); /*Unused*/",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "new_api": null,
          "old_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "new_text": null,
          "old_line_content": "    bool supported = LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "new_line_content": "                                    const lv_area_t * full_area, lv_area_t * decoded_area)",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "get_decoder_data",
          "new_api": null,
          "old_text": "get_decoder_data(dsc)",
          "new_text": null,
          "old_line_content": "    decoder_data_t * decoder_data = get_decoder_data(dsc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"CF: %d is not supported\", cf)",
          "new_text": null,
          "old_line_content": "        LV_LOG_WARN(\"CF: %d is not supported\", cf);",
          "new_line_content": "                     || cf == LV_COLOR_FORMAT_ARGB8888  \\",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "lv_memzero",
          "new_api": null,
          "old_text": "lv_memzero(compressed, sizeof(lv_image_compressed_t))",
          "new_text": null,
          "old_line_content": "    lv_memzero(compressed, sizeof(lv_image_compressed_t));",
          "new_line_content": "    uint32_t compressed_len;",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "lv_fs_seek",
          "new_api": null,
          "old_text": "lv_fs_seek(f, 0, LV_FS_SEEK_END)",
          "new_text": null,
          "old_line_content": "        if(lv_fs_seek(f, 0, LV_FS_SEEK_END) != LV_FS_RES_OK ||",
          "new_line_content": "    lv_image_compressed_t * compressed = &decoder_data->compressed;",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": "lv_fs_tell",
          "new_api": null,
          "old_text": "lv_fs_tell(f, &compressed_len)",
          "new_text": null,
          "old_line_content": "           lv_fs_tell(f, &compressed_len) != LV_FS_RES_OK) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "lv_color_format_get_bpp",
          "new_api": null,
          "old_text": "lv_color_format_get_bpp(cf)",
          "new_text": null,
          "old_line_content": "    uint32_t bpp = lv_color_format_get_bpp(cf);",
          "new_line_content": "    decoder_data_t * decoder_data = dsc->user_data;",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "lv_area_get_width",
          "new_api": null,
          "old_text": "lv_area_get_width(full_area)",
          "new_text": null,
          "old_line_content": "    int32_t w_px = lv_area_get_width(full_area);",
          "new_line_content": "    if(decoder_data == NULL) {",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(f, sizeof(lv_image_header_t), compressed, len, &rn)",
          "new_text": null,
          "old_line_content": "        fs_res = fs_read_file_at(f, sizeof(lv_image_header_t), compressed, len, &rn);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read compressed header failed: %d\", fs_res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read compressed header failed: %d\", fs_res);",
          "new_line_content": "        compressed_len -= sizeof(lv_image_header_t);",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "new_api": null,
          "old_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "new_text": null,
          "old_line_content": "        lv_color_format_t cf_decoded = LV_COLOR_FORMAT_IS_INDEXED(cf) ? LV_COLOR_FORMAT_ARGB8888 : cf;",
          "new_line_content": "    uint8_t * img_data = NULL;",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "lv_draw_buf_reshape",
          "new_api": null,
          "old_text": "lv_draw_buf_reshape(decoder_data->decoded_partial, cf_decoded, w_px, 1, LV_STRIDE_AUTO)",
          "new_text": null,
          "old_line_content": "        decoded = lv_draw_buf_reshape(decoder_data->decoded_partial, cf_decoded, w_px, 1, LV_STRIDE_AUTO);",
          "new_line_content": "    uint32_t offset = dsc->src_type == LV_IMAGE_SRC_FILE ? sizeof(lv_image_header_t) : 0;   /*Skip the image header*/",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": "lv_draw_buf_destroy",
          "new_api": null,
          "old_text": "lv_draw_buf_destroy(decoder_data->decoded_partial)",
          "new_text": null,
          "old_line_content": "                lv_draw_buf_destroy(decoder_data->decoded_partial);",
          "new_line_content": "    if(decoded_area->y1 == LV_COORD_MIN) {",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "lv_malloc",
          "new_api": null,
          "old_text": "lv_malloc(compressed_len)",
          "new_text": null,
          "old_line_content": "        file_buf = lv_malloc(compressed_len);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "lv_draw_buf_create_ex",
          "new_api": null,
          "old_text": "lv_draw_buf_create_ex(image_cache_draw_buf_handlers, w_px, 1, cf_decoded, LV_STRIDE_AUTO)",
          "new_text": null,
          "old_line_content": "            decoded = lv_draw_buf_create_ex(image_cache_draw_buf_handlers, w_px, 1, cf_decoded, LV_STRIDE_AUTO);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"No memory for compressed file\")",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"No memory for compressed file\");",
          "new_line_content": "        if(compressed->compressed_size != compressed_len) {",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "lv_fs_read",
          "new_api": null,
          "old_text": "lv_fs_read(f, file_buf, compressed_len, &rn)",
          "new_text": null,
          "old_line_content": "        fs_res = lv_fs_read(f, file_buf, compressed_len, &rn);",
          "new_line_content": "        if(file_buf == NULL) {",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Read compressed file failed: %d\", fs_res)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Read compressed file failed: %d\", fs_res);",
          "new_line_content": "            return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "lv_free",
          "new_api": null,
          "old_text": "lv_free(file_buf)",
          "new_text": null,
          "old_line_content": "            lv_free(file_buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "new_api": null,
          "old_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "new_text": null,
          "old_line_content": "    if(LV_COLOR_FORMAT_IS_INDEXED(cf)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "lv_memcpy",
          "new_api": null,
          "old_text": "lv_memcpy(compressed, image->data, len)",
          "new_text": null,
          "old_line_content": "        lv_memcpy(compressed, image->data, len);",
          "new_line_content": "    else if(dsc->src_type == LV_IMAGE_SRC_VARIABLE) {",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len)",
          "new_text": null,
          "old_line_content": "            LV_LOG_WARN(\"Compressed size mismatch: %\" LV_PRIu32\" != %\" LV_PRIu32, compressed->compressed_size, compressed_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "lv_malloc",
          "new_api": null,
          "old_text": "lv_malloc(len)",
          "new_text": null,
          "old_line_content": "            buf = lv_malloc(len);",
          "new_line_content": "        uint32_t len = (w_px * bpp + 7) / 8 + 1; /*10px for 1bpp may across 3bytes*/",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "LV_ASSERT_NULL",
          "new_api": null,
          "old_text": "LV_ASSERT_NULL(buf)",
          "new_text": null,
          "old_line_content": "            LV_ASSERT_NULL(buf);",
          "new_line_content": "        uint8_t * buf = NULL;",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Compressed image only support file or variable\")",
          "new_text": null,
          "old_line_content": "        LV_LOG_WARN(\"Compressed image only support file or variable\");",
          "new_line_content": "        compressed->data = image->data + len;",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(f, offset, buf, len, NULL)",
          "new_text": null,
          "old_line_content": "            res = fs_read_file_at(f, offset, buf, len, NULL);",
          "new_line_content": "        offset += decoded_area->x1 * bpp / 8; /*Move to x1*/",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "decompress_image",
          "new_api": null,
          "old_text": "decompress_image(dsc, compressed)",
          "new_text": null,
          "old_line_content": "    res = decompress_image(dsc, compressed);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "lv_free",
          "new_api": null,
          "old_text": "lv_free(file_buf)",
          "new_text": null,
          "old_line_content": "    lv_free(file_buf);",
          "new_line_content": "    else {",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "LV_LOG_WARN",
          "new_api": null,
          "old_text": "LV_LOG_WARN(\"Decompress failed\")",
          "new_text": null,
          "old_line_content": "        LV_LOG_WARN(\"Decompress failed\");",
          "new_line_content": "        return LV_RESULT_INVALID;",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "decode_indexed_line",
          "new_api": null,
          "old_text": "decode_indexed_line(cf, dsc->palette, x_fraction, w_px, buf, (lv_color32_t *)img_data)",
          "new_text": null,
          "old_line_content": "        decode_indexed_line(cf, dsc->palette, x_fraction, w_px, buf, (lv_color32_t *)img_data);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "lv_free",
          "new_api": null,
          "old_text": "lv_free((void *)buf)",
          "new_text": null,
          "old_line_content": "        if(dsc->src_type == LV_IMAGE_SRC_FILE) lv_free((void *)buf);",
          "new_line_content": "        else {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "LV_COLOR_FORMAT_IS_INDEXED",
          "new_api": null,
          "old_text": "LV_COLOR_FORMAT_IS_INDEXED(cf)",
          "new_text": null,
          "old_line_content": "    if(LV_COLOR_FORMAT_IS_INDEXED(cf)) {",
          "new_line_content": "    /*Depends on the cf, need to further decode image like an C-array image*/",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "load_indexed",
          "new_api": null,
          "old_text": "load_indexed(decoder, dsc)",
          "new_text": null,
          "old_line_content": "        if(dsc->args.use_indexed) res = load_indexed(decoder, dsc);",
          "new_line_content": "    lv_image_dsc_t * image = (lv_image_dsc_t *)dsc->src;",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "decode_indexed",
          "new_api": null,
          "old_text": "decode_indexed(decoder, dsc)",
          "new_text": null,
          "old_line_content": "        else res = decode_indexed(decoder, dsc);",
          "new_line_content": "    if(image->data == NULL) {",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "LV_COLOR_FORMAT_IS_ALPHA_ONLY",
          "new_api": null,
          "old_text": "LV_COLOR_FORMAT_IS_ALPHA_ONLY(cf)",
          "new_text": null,
          "old_line_content": "    else if(LV_COLOR_FORMAT_IS_ALPHA_ONLY(cf)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "decode_alpha_only",
          "new_api": null,
          "old_text": "decode_alpha_only(decoder, dsc)",
          "new_text": null,
          "old_line_content": "        res = decode_alpha_only(decoder, dsc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(f, offset, img_data, len, NULL)",
          "new_text": null,
          "old_line_content": "        res = fs_read_file_at(f, offset, img_data, len, NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decompress_image)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decompress_image);",
          "new_line_content": "        decoder_data->decoded = decoder_data->decompressed;",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(decoder)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(decoder);",
          "new_line_content": "        decoder_data->decompressed = NULL;",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(f, offset, img_data, len, NULL)",
          "new_text": null,
          "old_line_content": "        res = fs_read_file_at(f, offset, img_data, len, NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "LV_UNUSED",
          "new_api": null,
          "old_text": "LV_UNUSED(dsc)",
          "new_text": null,
          "old_line_content": "    LV_UNUSED(dsc);",
          "new_line_content": "        res = LV_RESULT_OK;",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "LV_LOG_ERROR",
          "new_api": null,
          "old_text": "LV_LOG_ERROR(\"Need LV_BIN_DECODER_RAM_LOAD to be enabled\")",
          "new_text": null,
          "old_line_content": "    LV_LOG_ERROR(\"Need LV_BIN_DECODER_RAM_LOAD to be enabled\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "fs_read_file_at",
          "new_api": null,
          "old_text": "fs_read_file_at(f, offset, img_data + len, w_px * 1, NULL)",
          "new_text": null,
          "old_line_content": "        res = fs_read_file_at(f, offset, img_data + len, w_px * 1, NULL);",
          "new_line_content": "        }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 23,
      "total_additions": 133,
      "total_deletions": 133,
      "total_api_changes": 289
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 12,
        "api_related_lines": 289,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          288,
          291,
          278,
          280,
          281,
          283,
          286,
          287
        ]
      }
    },
    "api_calls_before": 197,
    "api_calls_after": 197,
    "diff_info": {
      "added_lines": 12,
      "removed_lines": 5,
      "total_diff_lines": 31
    }
  }
}