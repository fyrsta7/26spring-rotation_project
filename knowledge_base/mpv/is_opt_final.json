[
    {
        "repository_name": "mpv",
        "hash": "0bc7ce3b0477fd0da3e4158dde50e91681e3a790",
        "author": "reimar",
        "date": "2007-11-18T17:28:27+00:00",
        "message": "Rearrange scaletempo inner loop.\nSpeedup on x86 with gcc 3.4 36%, on x86_64 with gcc 4.1 5%\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@25100 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libaf/af_scaletempo.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/0bc7ce3b0477fd0da3e4158dde50e91681e3a790",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "best_overlap_offset_s16"
        ],
        "added_lines": 5,
        "deleted_lines": 2,
        "total_changed_lines": 7,
        "net_line_change": 3,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "0f956f0929bacd6f4ad1a8c8ad4892ee14001b2d",
        "author": "Niklas Haas",
        "date": "2017-08-03T20:06:58+02:00",
        "message": "vo_opengl: use GL_CLIENT_STORAGE_BIT for DR\n\nmesa won't pick client storage unless this bit is set, and we\n*absolutely* want to be using client storage for our DR PBOs.\nPerformance is shit on AMD otherwise. (Nvidia always uses client storage\nfor persistent coherent buffers whether you tell it it or not, probably\nbecause it's way faster and nvidia doesn't trust users to figure that\nout on their own)",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/opengl/ra_gl.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/0f956f0929bacd6f4ad1a8c8ad4892ee14001b2d",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "gl_create_mapped_buffer"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "13a205e0757fd9a6797c326017b7616b0201e994",
        "author": "reimar",
        "date": "2007-11-18T18:33:45+00:00",
        "message": "100l, *ppc++ was supposed to be replaced by ppc[i] in r25100, but that is not any faster.\nJust removing the += s->samples_overlap - s->num_channels; still provides a\nca. 20% speedup on x86 (AThlon X2 64) with gcc 3.4 (compiler stupidity?)\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@25102 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libaf/af_scaletempo.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/13a205e0757fd9a6797c326017b7616b0201e994",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "best_overlap_offset_s16"
        ],
        "added_lines": 0,
        "deleted_lines": 2,
        "total_changed_lines": 2,
        "net_line_change": -2,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "15575403e5edcbf3e2f84d28b18db4b43134b834",
        "author": "reimar",
        "date": "2010-11-02T04:14:43+02:00",
        "message": "spudec: Faster paletted to OSD conversion\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@31707 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "spudec.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/15575403e5edcbf3e2f84d28b18db4b43134b834",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "spudec_set_paletted"
        ],
        "added_lines": 12,
        "deleted_lines": 7,
        "total_changed_lines": 19,
        "net_line_change": 5,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "183af9d72eac25efc4b6a6a92249963cec5793f0",
        "author": "Aman Gupta",
        "date": "2016-10-21T17:11:26+02:00",
        "message": "player: speed up audio/video re-sync when there is a huge delay\n\nwhen there is a huge delay between audio/video sync, it can take a\nreally long time to converge back. this speeds up the resync time by\nincreasing the max_change allowed per iteration.\n\nSigned-off-by: wm4 <wm4@nowhere>",
        "modified_files_count": 1,
        "modified_files": [
            "player/video.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/183af9d72eac25efc4b6a6a92249963cec5793f0",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "adjust_sync"
        ],
        "added_lines": 2,
        "deleted_lines": 1,
        "total_changed_lines": 3,
        "net_line_change": 1,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "19b0b1df51c1b0d898880dce1d5f48485e4acc2d",
        "author": "Bin Jin",
        "date": "2015-12-05T23:53:17+01:00",
        "message": "vo_opengl: improve boundary check for polar filters\n\nIf the sampling point is placed diagonally, the radius difference\ncould be as large as sqrt(2.0). And a loosened check with (radius - 1)\nwould potentially include pixels out of the range.\n\nFix the check to handle those corner case properly to avoid\nunnecessary texture lookup and improve the performance a bit.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/opengl/video_shaders.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/19b0b1df51c1b0d898880dce1d5f48485e4acc2d",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "pass_sample_separated_get_weights"
        ],
        "added_lines": 2,
        "deleted_lines": 2,
        "total_changed_lines": 4,
        "net_line_change": 0,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "1a54339705f71a67faa900a125d467ba121e3ae6",
        "author": "wm4",
        "date": "2020-02-16T23:49:42+01:00",
        "message": "demux: only query stream size at most once per second\n\nInstead of every packet. Doing it every packet led to the performance\nregression mentioned in the fstat() commit. This should now be over, but\nout of being careful, don't query the file size that often. This is only\nused for user interface things, so this should not cause any problems.\n\nFor the sake of leaving the code compact, abuse another thing that is\nupdated only every second (speed statistics).",
        "modified_files_count": 1,
        "modified_files": [
            "demux/demux.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/1a54339705f71a67faa900a125d467ba121e3ae6",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "update_cache"
        ],
        "added_lines": 9,
        "deleted_lines": 5,
        "total_changed_lines": 14,
        "net_line_change": 4,
        "modified_code_blocks": 4,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "20eead18130fd460d8e9eff50ce14afd3646faab",
        "author": "wm4",
        "date": "2020-02-16T23:36:05+01:00",
        "message": "stream_file: use fstat() instead of lseek() to determine file size\n\nIt appears using lseek() to seek to the end and back to determine file\nsize is inefficient in some cases.\n\nWith CIFS, this restores the performance regression that happened when\nthe stream cache was removed (which called read() from a thread). This\nis probably faster than the old code too, because it's the seeking that\nwas slowing down CIFS.\n\nAccording to the user who tested this, the size caching does not help\nwith fstat() (although it did with the old method).\n\nFixes: #7408, #7152",
        "modified_files_count": 1,
        "modified_files": [
            "stream/stream_file.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/20eead18130fd460d8e9eff50ce14afd3646faab",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "get_size"
        ],
        "added_lines": 8,
        "deleted_lines": 3,
        "total_changed_lines": 11,
        "net_line_change": 5,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "2485b899c303f60a837baaaf704a3c8eb631ed9b",
        "author": "wm4",
        "date": "2017-11-10T12:11:33+01:00",
        "message": "demux: avoid wasting time by stopping packet search as early as possible\n\nThe packet queue is sorted, so we can stop the search if we have found a\npacket, and the next packet in the queue has a higher PTS than the seek\nPTS (for the sake of SEEK_FORWARD, we still consider the first packet\nwith a higher PTS).\n\nAlso, as a mostly cosmetic change, but which might be \"faster\", check\ntarget for NULL, instead of target_diff for a magic float value.",
        "modified_files_count": 1,
        "modified_files": [
            "demux/demux.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/2485b899c303f60a837baaaf704a3c8eb631ed9b",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "find_seek_target"
        ],
        "added_lines": 3,
        "deleted_lines": 1,
        "total_changed_lines": 4,
        "net_line_change": 2,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "2ed18d7a2a08519f5ac7121c68289d0d4dd17e78",
        "author": "reimar",
        "date": "2009-12-18T19:29:33+00:00",
        "message": "Use on-stack subtitle struct for temporary storage for passing subtitles on\nfor rendering by libass.\nThis avoids mangling the static subtitle struct that is supposed to contain\nthe subtitles that will actually be displayed and it also minimally reduces\nmemory usage by freeing the subtitle lines again as early as possible.\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@30059 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "mpcommon.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/2ed18d7a2a08519f5ac7121c68289d0d4dd17e78",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "update_subtitles"
        ],
        "added_lines": 6,
        "deleted_lines": 5,
        "total_changed_lines": 11,
        "net_line_change": 1,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "3a07b942ee9a11c5c5bbc602f58af2bd8daa870e",
        "author": "nicodvb",
        "date": "2006-07-14T22:29:37+00:00",
        "message": "force demuxer type to mpegts to speed up detection and avoid useless and slow probes; this doesn't prevent to use stream_dvb with demux_lavf\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@19093 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libmpdemux/dvbin.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/3a07b942ee9a11c5c5bbc602f58af2bd8daa870e",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "dvb_open"
        ],
        "added_lines": 2,
        "deleted_lines": 0,
        "total_changed_lines": 2,
        "net_line_change": 2,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "3abf9c9204e2fcbc1910deb102efab4ab9d8c149",
        "author": "Niklas Haas",
        "date": "2016-07-03T19:42:52+02:00",
        "message": "vo_opengl: don't constantly resize the output FBO\n\nCommit 883d3114 seems to have (accidentally?) dropped the FBOTEX_FUZZY\nfrom the output_fbo resize, which means that current master will keep\nresizing and resizing the FBO as you change the window size, introducing\nsevere memory leaking after a while. (Not sure why that would cause\nmemory leaks, but I blame nvidia)\n\nEither way, it's bad for performance too, so it's worth fixing.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/opengl/video.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/3abf9c9204e2fcbc1910deb102efab4ab9d8c149",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "pass_draw_to_screen"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "3d51ef3dc83ea59a47c0eccf4ae93ae2a441ceb7",
        "author": "wm4",
        "date": "2014-04-25T19:11:58+02:00",
        "message": "stream: use uninterruptible sleep on reconnecting\n\nThis is the only function which actually used the time argument of\nstream_check_interrupt(). Considering that the whole player freezes\nanyway, this is not worth the complication.\n\nAlso generally reduce the maximum wait time due to timeout. Introduce\nexponential backoff, which makes the first reconnect retries faster, but\nstill waits up to 500ms in the later retries.",
        "modified_files_count": 1,
        "modified_files": [
            "stream/stream.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/3d51ef3dc83ea59a47c0eccf4ae93ae2a441ceb7",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "stream_reconnect"
        ],
        "added_lines": 8,
        "deleted_lines": 2,
        "total_changed_lines": 10,
        "net_line_change": 6,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "3e86228fad309b54869bf2a3314756933ba74e43",
        "author": "Uoti Urpala",
        "date": "2011-05-01T14:44:05+03:00",
        "message": "input: don't interrupt processing at unbound events\n\nThe input code read at most one event per input or command fd. If this\nevent was not bound to any recognized command then no command was\nreturned, and higher-level code could not distinguish this case from\nthere being no pending events left. As a result unbound events would\ncause extra latency in event processing. Change the input code to\ncontinue reading events until it either finds one that maps to a\ncommand or hits EOF/error.",
        "modified_files_count": 1,
        "modified_files": [
            "input/input.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/3e86228fad309b54869bf2a3314756933ba74e43",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "read_events"
        ],
        "added_lines": 7,
        "deleted_lines": 6,
        "total_changed_lines": 13,
        "net_line_change": 1,
        "modified_code_blocks": 4,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "3efbc1a9a38de2f0af4778ab9388c6a8e1c11ca6",
        "author": "Kevin Mitchell",
        "date": "2015-03-09T03:38:01-07:00",
        "message": "stream/smb: mark as network stream for --cache=auto\n\nThis causes the cache to be enabled with --cache=auto. It was not done\npreviously because the small cache size 320k actually led to worse\nperformance. However, with the current default cache size of 25000kb,\ncaching notably improves performance.",
        "modified_files_count": 1,
        "modified_files": [
            "stream/stream_smb.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/3efbc1a9a38de2f0af4778ab9388c6a8e1c11ca6",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "open_f"
        ],
        "added_lines": 1,
        "deleted_lines": 0,
        "total_changed_lines": 1,
        "net_line_change": 1,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "449d9725c91af467b154817dfd0603d80ba7f00b",
        "author": "wm4",
        "date": "2017-09-01T17:59:03+02:00",
        "message": "stream_lavf: use avio_read_partial()\n\nPossibly improves latency and such things.",
        "modified_files_count": 1,
        "modified_files": [
            "stream/stream_lavf.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/449d9725c91af467b154817dfd0603d80ba7f00b",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "fill_buffer"
        ],
        "added_lines": 4,
        "deleted_lines": 0,
        "total_changed_lines": 4,
        "net_line_change": 4,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "455af6aa68a96fa38f17174c35e95e13098886e0",
        "author": "wm4",
        "date": "2018-05-24T19:56:35+02:00",
        "message": "m_config: optimize initialization of each option\n\nOptions with dynamic memory allocations (such as strings) require some\ncare. They need to be fully copied on initialization, and if a static\ndefault value was declared, we must not free that value either.\n\nInstead of going through the entire thing even for simple types like\nintegers, really run it only for options with dynamic allocations. To\ndistinguish types which use dynamic allocations, we can use the fact\nthat they require a free callback (otherwise they would leak). As a\nresult initialization of simple types becomes chaper, and the init\nfunction does nothing at all if src==dst for a simple type.\n\n(It's funny how mplayer had M_OPT_TYPE_DYNAMIC since 2002, until we\nreplaced it by the same heuristic as used here in commit 3bb134969eb6.\nIt's also funny how the new check was used only for some asserts, and\nfinally removed in commit 7539928c1c. I guess at this time I felt like\nhaving uniform code was more important than pointless\nmicro-optimizations.)\n\nThe src==NULL case is removed because it can't happen.",
        "modified_files_count": 1,
        "modified_files": [
            "options/m_config.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/455af6aa68a96fa38f17174c35e95e13098886e0",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "init_opt_inplace"
        ],
        "added_lines": 9,
        "deleted_lines": 5,
        "total_changed_lines": 14,
        "net_line_change": 4,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "4dab4347f5d7bb3642a2c5918fc29855f8f62482",
        "author": "Uoti Urpala",
        "date": "2008-07-23T02:05:55+03:00",
        "message": "vf_ass: Optimize alpha multiply\n\nThe effect of alpha blending was calculated as\ncolor = orig_color * alpha / 255\nwhere alpha and color range from 0 to 255.\nChange this to\ncolor = (orig_color * alpha + 255) / 256\nwhere the \"/ 256\" can be expressed as a shift whereas the compiler\nwould probably generate a multiply+shift for the original \"/ 255\".\nThis formula gives a result that is too high by 1 for some inputs.\nHowever it gives the exact result if alpha is 0 or 255 which is\nprobably the case where small errors would matter most.",
        "modified_files_count": 1,
        "modified_files": [
            "libmpcodecs/vf_ass.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/4dab4347f5d7bb3642a2c5918fc29855f8f62482",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "my_draw_bitmap"
        ],
        "added_lines": 4,
        "deleted_lines": 4,
        "total_changed_lines": 8,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "4f0206ab045e65798eef7e6e1efe0d862fe7b7f7",
        "author": "Niklas Haas",
        "date": "2020-04-30T00:23:13+02:00",
        "message": "vo_gpu: enable frame caching for still frames\n\nFor some reason this was never done? Looking through the code, it was\nnever the case that the frame cache was hit for still frames. I have no\nidea why not. It makes a lot of sense to do so.\n\nNotably, this massively improves the performance of updating the OSC\nwhen viewing e.g. large still images, or while paused. (Tested on a\n4000x8000 image, the OSC now responds smoothly to user input)",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/gpu/video.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/4f0206ab045e65798eef7e6e1efe0d862fe7b7f7",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "gl_video_render_frame"
        ],
        "added_lines": 3,
        "deleted_lines": 3,
        "total_changed_lines": 6,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "4fa3ffebfe41b0c4ffed6f952cc05a7c275275f4",
        "author": "wm4",
        "date": "2014-05-31T01:26:50+02:00",
        "message": "audio/out/push: keep some extra buffer\n\nSo the device buffer can be refilled quickly. Fixes dropouts in certain\ncases: if all data is moved from the soft buffer to the audio device\nbuffer, the waiting code thinks it has to enter the mode in which it\nwaits for new data from the decoder. This doesn't work, because the\nget_space() logic tries to keep the total buffer size down. get_space()\nwill return 0 (or a very low value) because the device buffer is full,\nand the decoder can't refill the soft buffer. But this means if the AO\nbuffer runs out, the device buffer can't be refilled from the soft\nbuffer. I guess this mess happened because the code is trying to deal\nwith both AOs with proper event handling, and AOs with arbitrary\nbehavior.\n\nUnfortunately this increases latency, as the total buffered audio\nbecomes larger. There are other ways to fix this again, but not today.\n\nFixes #818.",
        "modified_files_count": 1,
        "modified_files": [
            "audio/out/push.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/4fa3ffebfe41b0c4ffed6f952cc05a7c275275f4",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "unlocked_get_space"
        ],
        "added_lines": 4,
        "deleted_lines": 6,
        "total_changed_lines": 10,
        "net_line_change": -2,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "56e0f7fe9e735af2df4c016990cbd803f6a9ef0c",
        "author": "reimar",
        "date": "2010-02-14T13:57:30+00:00",
        "message": "Avoid using sscanf for basic parsing, it is horribly slow.\nNow uses strncmp as a first step, which is 40 times faster.\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@30576 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "spudec.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/56e0f7fe9e735af2df4c016990cbd803f6a9ef0c",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "spudec_parse_extradata"
        ],
        "added_lines": 9,
        "deleted_lines": 4,
        "total_changed_lines": 13,
        "net_line_change": 5,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "5895d6c24fa3b66230fe1f5177af7f65b4c6a706",
        "author": "Alexander Preisinger",
        "date": "2013-08-26T16:29:03+02:00",
        "message": "wayland/shm: use opaque regions\n\nMake use of opaque regions on non-alpha formats. This allows the compositor to\nimprove the drawing of the surface, because he can discard everything behind\nthe window when drawing.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/vo_wayland.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/5895d6c24fa3b66230fe1f5177af7f65b4c6a706",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "resize"
        ],
        "added_lines": 10,
        "deleted_lines": 0,
        "total_changed_lines": 10,
        "net_line_change": 10,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "5e4ff93c817c287ddee4ae266d0e14ddca3d0dc4",
        "author": "colin",
        "date": "2002-11-21T18:31:21+00:00",
        "message": "don't fully-copy the planes if the menu doesn't show (faster)\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@8245 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libmenu/vf_menu.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/5e4ff93c817c287ddee4ae266d0e14ddca3d0dc4",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "put_image"
        ],
        "added_lines": 16,
        "deleted_lines": 0,
        "total_changed_lines": 16,
        "net_line_change": 16,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "66c47599923f2919756423d47f32f2186d15cef9",
        "author": "reimar",
        "date": "2007-11-18T17:44:11+00:00",
        "message": "Use \"long\" instead of \"int\" for innermost loop variable.\nAbout 12% faster on x86_64\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@25101 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libaf/af_scaletempo.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/66c47599923f2919756423d47f32f2186d15cef9",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "best_overlap_offset_s16"
        ],
        "added_lines": 2,
        "deleted_lines": 1,
        "total_changed_lines": 3,
        "net_line_change": 1,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "6cecbf38c110bd3fb83ed06523d5045fa1481139",
        "author": "wm4",
        "date": "2012-01-16T22:40:14+02:00",
        "message": "af_volume: do not change data when volume is 1\n\nWhen the volume multiplier is 1, the data shouldn't be changed, but the\ncode actually multiplied each sample with 255/256. Change the factor to\n256, and hope there wasn't a good reason for the value 255.\n\nAdditionally, don't work on the data if it wouldn't be changed anyway.\nThis is a micro-optimization.\n\nThis doesn't touch the code path for the float format.",
        "modified_files_count": 1,
        "modified_files": [
            "libaf/af_volume.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/6cecbf38c110bd3fb83ed06523d5045fa1481139",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "play"
        ],
        "added_lines": 4,
        "deleted_lines": 5,
        "total_changed_lines": 9,
        "net_line_change": -1,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "779031ad8f3b74035b8e64a2353a52557d7b8ece",
        "author": "Niklas Haas",
        "date": "2017-08-03T21:48:25+02:00",
        "message": "bstr: short-circuit bstr_equals on pointer equality\n\nMore efficient in cases where we're comparing a bstr against itself,\nwhich can happen in e.g. the ICC profile code.",
        "modified_files_count": 1,
        "modified_files": [
            "misc/bstr.h"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/779031ad8f3b74035b8e64a2353a52557d7b8ece",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "bstr_equals"
        ],
        "added_lines": 4,
        "deleted_lines": 1,
        "total_changed_lines": 5,
        "net_line_change": 3,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "7eaba4c13d27f941c84ad944b67b0502149c4a96",
        "author": "arpi",
        "date": "2002-08-16T16:06:02+00:00",
        "message": "more (~40%) speedup :)\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@7022 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "TOOLS/subfont-c/subfont.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/7eaba4c13d27f941c84ad944b67b0502149c4a96",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "outline"
        ],
        "added_lines": 7,
        "deleted_lines": 3,
        "total_changed_lines": 10,
        "net_line_change": 4,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "7ff4a27eb600dc01d20547880056c13d6cf3e9e7",
        "author": "Avi Halachmi (:avih)",
        "date": "2022-06-09T14:38:24+03:00",
        "message": "sub: jsre filter: abort init early on empty filter list\n\nTL;DR: previously a JavaScript VM was created + destroyed whenever\n       a sub track was initialized, even if no jsre filter was set.\n       Now a JS VM is created only if jsre filters were set.\n\nSub filters are initialized once when a subtitle track is chosen, and\nthen whenever the sub track changes or when some sub options change.\n\nSub filters init is synchronous - playback is suspended till it ends.\n\nA filter can abort init early (get disabled) depending on conditions\nspecific to each filter. The regex and jsre filters aborted early\nif the filter is disabled (default is enabled) or if the track is not\nass (relativey rare, e.g. bitmap subs).\n\nThe init then iterates over the filter strings, and if the result is\nempty (common - no filter was added, but also if all strings failed\nregex init) then it's also aborted during init.\n\nWhile this iteration step is cheap with filter regex, with jsre it\nrequires instanciating the JS VM (mujs) in advance in order to parse\nthe filter strings at the list, and the VM is then destroyed if the\nlist ends up empty.\n\nThis VM create+destroy is fast but measurable (0.2 - 0.7 ms, slowest\nmeasured on 2010 MacBook Air), but can be avoided altogether if we\ncheck that the filter list is not empty before we create the VM.\n\nSo now we do just that.",
        "modified_files_count": 1,
        "modified_files": [
            "sub/filter_jsre.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/7ff4a27eb600dc01d20547880056c13d6cf3e9e7",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "jsre_init"
        ],
        "added_lines": 4,
        "deleted_lines": 1,
        "total_changed_lines": 5,
        "net_line_change": 3,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "846257da13494f910f44c9ea8a56a3c2ef669a0f",
        "author": "wm4",
        "date": "2014-07-28T22:13:42+02:00",
        "message": "player: logically speed up seek logic\n\nCommit 261506e3 made constant seeking feel slower, because a subtle\nchange in the restart logic makes it now waste time showing another\nvideo frame. The slowdown is about 20%.\n\n(Background: the seek logic explicitly waits until a video frame is\ndisplayed, because this makes it easier for the user to search for\nsomething in the video. Without this logic, the display would freeze\nuntil the user stops giving seek commands.)\n\nFix this by letting the seek logic issue another seek as soon as the\nfirst video frame is displayed. This will prevent it from showing a\n(useless, slow) second frame. Now it seems to be as fast as before the\nchange.\n\nOne side-effect is that the next seek happens after the first video\nframe, but _before_ audio is restarted. Seeking is now silent. I guess\nthis is ok, so we don't do anything about it. Actually, I think whether\nthis happens is probably random; the seeking logic simply doesn't make\nthis explicit, so anything can happen.",
        "modified_files_count": 1,
        "modified_files": [
            "player/playloop.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/846257da13494f910f44c9ea8a56a3c2ef669a0f",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "execute_queued_seek"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "98986948e8e124c5fe5beb4afa12c6995940fbb6",
        "author": "Oleg Oshmyan",
        "date": "2017-10-30T12:44:11+01:00",
        "message": "lavc_conv: make disable_styles faster\n\nThe current invocation of bstr_cut is as good as no cutting at all.\nAlmost the entire header is reread in every iteration of the loop.\nI don't know how many styles libavcodec tends to generate, but if\n(now or in the future) it generates many, then this loop is slow\nfor no good reason. If anything, the code would be more clear and\nhave the same performance if it didn't call bstr_cut at all.\n\nThe intention here (and the sensible thing regardless) seems to be\nto skip the part of the string that bstr_find has already looked\nthrough and found nothing. This commit additionally skips the whole\nsubstring, because overlapping matches are impossible.",
        "modified_files_count": 1,
        "modified_files": [
            "sub/lavc_conv.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/98986948e8e124c5fe5beb4afa12c6995940fbb6",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "disable_styles"
        ],
        "added_lines": 3,
        "deleted_lines": 2,
        "total_changed_lines": 5,
        "net_line_change": 1,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "9a2e9050f2a3257785e555e8c68ad4d9f16a152f",
        "author": "michael",
        "date": "2002-08-11T10:12:15+00:00",
        "message": "optimization\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@6966 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libmpcodecs/vf_noise.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/9a2e9050f2a3257785e555e8c68ad4d9f16a152f",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "lineNoiseAvg_C"
        ],
        "added_lines": 4,
        "deleted_lines": 4,
        "total_changed_lines": 8,
        "net_line_change": 0,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "9bf4b9d5d40abc1265a38bed7ea851874013c530",
        "author": "Dudemanguy",
        "date": "2024-01-15T16:05:17+00:00",
        "message": "filter_sdh: optimize get_char_bytes\n\nstrlen is only relevant if the length is less than [1, 4], so this can\nbe replaced with strnlen instead which will only traverse characters\nupto the maxlen insted of the entire string length. It also makes MPMIN\nunneeded. Also fix a comment.",
        "modified_files_count": 1,
        "modified_files": [
            "sub/filter_sdh.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/9bf4b9d5d40abc1265a38bed7ea851874013c530",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "get_char_bytes"
        ],
        "added_lines": 5,
        "deleted_lines": 5,
        "total_changed_lines": 10,
        "net_line_change": 0,
        "modified_code_blocks": 5,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "9f7dcc0726ab635fb34fb7310e54b1aec9467f14",
        "author": "Niklas Haas",
        "date": "2019-04-21T23:55:22+03:00",
        "message": "mp_image: align stride to multiple of texel size\n\nThis helps with compatibility and/or performance in particular for\noddly-sized formats like rgb24. We use a loop to avoid having to\ncalculate the lcm (or waste bytes in the extremely common case of the\nbyte size and the stride align having shared factors).",
        "modified_files_count": 1,
        "modified_files": [
            "video/mp_image.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/9f7dcc0726ab635fb34fb7310e54b1aec9467f14",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "mp_image_layout"
        ],
        "added_lines": 3,
        "deleted_lines": 0,
        "total_changed_lines": 3,
        "net_line_change": 3,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "a5b0d590845e30d3125b112865ab6d3859c5e836",
        "author": "Niklas Haas",
        "date": "2018-09-01T16:14:22+02:00",
        "message": "vo_gpu: switch to optimization level performance\n\nUpstream has this now. Didn't really make any different for me (except\nmaking the polar compute shader 2%-3% faster), but maybe it does for\nsomebody else.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/gpu/spirv_shaderc.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/a5b0d590845e30d3125b112865ab6d3859c5e836",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "shaderc_init"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "a6762dbc16cd94e8998e07b6f2fcefbe6a43bb6d",
        "author": "Kevin Mitchell",
        "date": "2014-05-12T15:09:38-07:00",
        "message": "stream_smb: increase to 128k read_chuuk from default 8k\n\nPrevious to this commit, read_chunk was not set in stream_smb. The\ncache was therefore filled in small 8K chunks. This resulted in poor\nperformance when compared to, for example, smbnetfs on the same\nnetwork.\n\nThe value of 128k is chosen both because it is emperically\nthe \"levelling off point\" for throughput into mpv's cache, and because\nit is the value chosen by smbnetfs when serving smb shares to\nmpv.\n\nNote that this change has no effect unless --cache is explicitly\nspecified as smb:// streams do not activate cache by default. This is\nbecause the default cache size of 320K is so small it actually makes\nsmb:// perfomance worse. For best results use at least --cache=1024.",
        "modified_files_count": 1,
        "modified_files": [
            "stream/stream_smb.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/a6762dbc16cd94e8998e07b6f2fcefbe6a43bb6d",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "open_f"
        ],
        "added_lines": 1,
        "deleted_lines": 0,
        "total_changed_lines": 1,
        "net_line_change": 1,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "af021a289169ae215ab8443634ff26fd1c79ad36",
        "author": "Dudemanguy",
        "date": "2020-02-07T18:33:32+00:00",
        "message": "wayland: adjust vo_wayland_wait_frame logic\n\nWayland uses vo_wayland_wait_frame plus some polling with a timeout for\nblocking on vsync. Here are a couple of changes that seem to be\nimprovements. First, the poll time is always rounded up instead of\ntruncated. When rendering frames longer than the standard 16.666 ms\ntimeout, it seems that truncating the poll time slightly early may cause\nsome vsync jitter spikes. Waiting longer, even if it's too long, appears\nto behave better.\n\nThe second change is to use wl_display_roundtrip instead of\nwl_display_dispatch_pending. wl_display_dispatch_pending dispatches all\nevents immediately. This is good to avoid blocking, but it's not\nguaranteed to wait long enough for all events to be processed on the\ndisplay fd. The preceding wl_display_read_events routine ensures that\nall events on the display fd are queued. We just need a semi-blocking\nroutine to dispatch them for the most reliable vsync.\n\nwl_display_roundtrip will dispatch any events for us, but also wait for\na reply from the display server. This makes it ideal for this role. If\nthe compositor doesn't reply to the client something else is probably\nhorribly broken and wrong anyway. It's also not a permanently blocking\ncall like wl_display_dispatch. If there's no frame callback (i.e. the\nwindow is hidden), then it does not dispatch any events and returns\nimmediately.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/wayland_common.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/af021a289169ae215ab8443634ff26fd1c79ad36",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "vo_wayland_wait_frame"
        ],
        "added_lines": 6,
        "deleted_lines": 6,
        "total_changed_lines": 12,
        "net_line_change": 0,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "b1405f3cff1661d1ef6fd8103baed6da3c9eecff",
        "author": "wm4",
        "date": "2013-11-18T14:21:01+01:00",
        "message": "vo_vdpau: don't calculate destination alpha when drawing OSD\n\nSame as MPlayer svn commit r36515 \"Chose cheaper alpha blend equation.\"\n\nNo idea if this is actually faster, but can't hurt.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/vo_vdpau.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/b1405f3cff1661d1ef6fd8103baed6da3c9eecff",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "draw_osd_part"
        ],
        "added_lines": 2,
        "deleted_lines": 2,
        "total_changed_lines": 4,
        "net_line_change": 0,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "b2b8d0e1f2a32b6e7d62038be36d7a61ea92f3c1",
        "author": "reimar",
        "date": "2010-02-14T15:09:21+00:00",
        "message": "Simplify and slightly speed up avi_stream_id function.\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@30583 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libmpdemux/demuxer.h"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/b2b8d0e1f2a32b6e7d62038be36d7a61ea92f3c1",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "avi_stream_id"
        ],
        "added_lines": 2,
        "deleted_lines": 6,
        "total_changed_lines": 8,
        "net_line_change": -4,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "b8156a9a86ae4ff087b1b255c68a3ca38ec2d086",
        "author": "der richter",
        "date": "2020-12-06T21:46:29+02:00",
        "message": "vo_gpu: revert 8a09299 and conditionally clear framebuffer again\n\nin the original commit, that removed the conditional clearing, an\nincorrect assumption was made that clearing \"should be practically free\"\nand can be done always. though, at least on macOS + intel this can have\na performance impact of up to 50% increased usage. it might have an\nimpact on other platforms and setups as well, but this is unconfirmed.\n\nthe reason for removing the conditional clearing was to partially work\naround a driver bug on very specific setups, X11 with amdgpu and OpenGL,\nto clear garbled frames on start. though it still has issues with\ngarbled frames in other situation like fullscreening. there is also an\nopen bug report on the mesa bug tracker about this. setting the\nradeonsi_zerovram flag works around all of those issues.\n\nsince the flag works around all these issues and the original fix\ndoesn't work completely we revert it and keep our optimisation.\n\nFixes #8273",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/gpu/video.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/b8156a9a86ae4ff087b1b255c68a3ca38ec2d086",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "gl_video_render_frame"
        ],
        "added_lines": 5,
        "deleted_lines": 3,
        "total_changed_lines": 8,
        "net_line_change": 2,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "b9307b71753f205baaac99f8e803774c7efdebeb",
        "author": "wm4",
        "date": "2015-03-09T22:36:17+01:00",
        "message": "stream: use relaxed atomic loads for checking playback aborts\n\nSeems appropriate, and will probably avoid performance surprises with\nscary architectures which don't have trivial implementations for atomic\nloads. (Consider that demux_mkv calls this very often now, and\nlibavformat demuxers and streams did this for a while now.)",
        "modified_files_count": 1,
        "modified_files": [
            "stream/stream.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/b9307b71753f205baaac99f8e803774c7efdebeb",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "mp_cancel_test"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "bd1ba99ab2f64f218128100cbf3a91e5cb1b4872",
        "author": "Niklas Haas",
        "date": "2023-10-19T18:26:05+02:00",
        "message": "vo_gpu_next: optimally align DR buffers\n\nMay increase performance, especially when using DR with a dedicated\ntransfer queue.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/vo_gpu_next.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/bd1ba99ab2f64f218128100cbf3a91e5cb1b4872",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "get_image"
        ],
        "added_lines": 2,
        "deleted_lines": 0,
        "total_changed_lines": 2,
        "net_line_change": 2,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "c0ca5f1a37a8e779337503d90e7ed2f0257d61f1",
        "author": "Thomas Wei\u00dfschuh",
        "date": "2023-03-05T11:23:01-08:00",
        "message": "ao_pipewire: use realtime scheduling for data thread\n\nBy making the data thread realtime it is able to serve requests faster\nand more reliable reducing crackling in certain situations.\n\nAs the mpv callbacks that are running on the data thread are all\nnon-blocking and very short this should be safe.\n\nThe same mechanism is also used by pw-cat and the alsa plugin shipped by\npipewire.",
        "modified_files_count": 1,
        "modified_files": [
            "audio/out/ao_pipewire.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/c0ca5f1a37a8e779337503d90e7ed2f0257d61f1",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "pipewire_init_boilerplate"
        ],
        "added_lines": 4,
        "deleted_lines": 1,
        "total_changed_lines": 5,
        "net_line_change": 3,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "c10fb4ce9fcd3dbbf69741eb8499c4cfabbf5412",
        "author": "Jari Vetoniemi",
        "date": "2015-03-23T21:53:32+01:00",
        "message": "vo_wayland: define opaque region\n\nThis allows compositor to optimize rendering, as it will know mpv is not\ntransparent.",
        "modified_files_count": 1,
        "modified_files": [
            "video/out/wayland_common.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/c10fb4ce9fcd3dbbf69741eb8499c4cfabbf5412",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "schedule_resize"
        ],
        "added_lines": 9,
        "deleted_lines": 0,
        "total_changed_lines": 9,
        "net_line_change": 9,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "d3c0ee86a59e7f0f79e268c649ab6be0d8c9b282",
        "author": "nick",
        "date": "2001-10-20T13:11:10+00:00",
        "message": "Qualitative speedup for P3 & K7 cpus\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@2307 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libvo/vo_vesa.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/d3c0ee86a59e7f0f79e268c649ab6be0d8c9b282",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "__vbeCopyData"
        ],
        "added_lines": 14,
        "deleted_lines": 6,
        "total_changed_lines": 20,
        "net_line_change": 8,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "d54e8c3f40934501d5fb5875defd797eff0ae57b",
        "author": "Dudemanguy",
        "date": "2024-09-26T02:55:35+00:00",
        "message": "demux_mkv: drop image probing down to 10000 blocks\n\nIt turns out that probing too many blocks is bad. I did not attempt to\ngo through all the logic but reading that many blocks causes the\ndemux_reader_state have some pretty funny values which then makes the\nplayloop think it needs to buffer for cache. It's probably fixable...\nbut seems hard admittedly so I'll be lazy. Just take out a magnitude off\nthe probing down to 10000. These seems to be more than sufficient. The\nsample in #13975 where we had the opposite issue only needs somewhere\nbetween 1700 and 1750 blocks to be properly detected. Crudely looking\nat the demuxer values, 10000 here doesn't appear to alter anything\nmeaningfully so it does not have the \"too many blocks problem\".\nHopefully this is a perfect medium? Further improvements to the probe\ncan always be added later. Or maybe we decide this is all a giant\nmistake and delete it. Fixes #14924.",
        "modified_files_count": 1,
        "modified_files": [
            "demux/demux_mkv.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/d54e8c3f40934501d5fb5875defd797eff0ae57b",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "probe_if_image"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "e008f62627e01a064db9f73f16fb3c2e9b198f3f",
        "author": "reimar",
        "date": "2010-02-06T19:18:09+00:00",
        "message": "Make mkalpha function simpler, faster and more correct.\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@30523 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "spudec.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/e008f62627e01a064db9f73f16fb3c2e9b198f3f",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "mkalpha"
        ],
        "added_lines": 3,
        "deleted_lines": 8,
        "total_changed_lines": 11,
        "net_line_change": -5,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "eb14533f92b0af945e830e098aefa1fd6a5ab3ba",
        "author": "michael",
        "date": "2003-10-27T21:12:29+00:00",
        "message": "different / faster / simpler \"quantization\"\nfiltered images look like with the old quantization (to me at least) if anyone notices a difference then tell me ASAP\n\n\ngit-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@11297 b3059339-0415-0410-9bf9-f77b7e298cf2",
        "modified_files_count": 1,
        "modified_files": [
            "libmpcodecs/vf_spp.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/eb14533f92b0af945e830e098aefa1fd6a5ab3ba",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "requantize"
        ],
        "added_lines": 6,
        "deleted_lines": 14,
        "total_changed_lines": 20,
        "net_line_change": -8,
        "modified_code_blocks": 5,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "mpv",
        "hash": "f9084c7bcea608be641f00123257a57b9f1e4ccc",
        "author": "wm4",
        "date": "2016-03-23T22:00:35+01:00",
        "message": "bstr: avoid redundant vsnprintf calls\n\nUntil now, bstr_xappend_vasprintf() called vsnprintf() always twice:\nonce to determine how much output the call would produce, and a second\ntime to actually output the data to the (possibly resized) target\nmemory.\n\nChange this so that it tries to output to the already allocated memory\nfirst, and repeat the call only if allocation is required.\n\nThis is especially helpful, as bstr_xappend_vasprintf() is designed to\navoid reallocation when building strings. Usually, the second\nvsnprintf() will happen only at the beginning, when the buffer hasn't\nbeen extended to his largest needed size yet.\n\nNot sure if there is a need to optimize this; but see the next commit.",
        "modified_files_count": 1,
        "modified_files": [
            "misc/bstr.c"
        ],
        "github_commit_url": "https://github.com/mpv-player/mpv/commit/f9084c7bcea608be641f00123257a57b9f1e4ccc",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "bstr_xappend_vasprintf"
        ],
        "added_lines": 9,
        "deleted_lines": 3,
        "total_changed_lines": 12,
        "net_line_change": 6,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    }
]