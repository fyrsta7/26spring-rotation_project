{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/HandBrake/modified_file/4acece393cf1f3bcdb0dc40668c67c173ed8ffe0",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/HandBrake/modified_file/4acece393cf1f3bcdb0dc40668c67c173ed8ffe0/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/HandBrake/modified_file/4acece393cf1f3bcdb0dc40668c67c173ed8ffe0/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/HandBrake/modified_file/4acece393cf1f3bcdb0dc40668c67c173ed8ffe0/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 257,
          "old_api": "av_opt_set_int",
          "new_api": "sws_setColorspaceDetails",
          "old_text": "av_opt_set_int(ctx, \"sws_flags\", flags, 0)",
          "new_text": "sws_setColorspaceDetails( ctx,\n                      sws_getCoefficients( colorspace ), // src colorspace\n                      srcRange, // src range 0 = MPG, 1 = JPG\n                      sws_getCoefficients( colorspace ), // dst colorspace\n                      dstRange, // dst range 0 = MPG, 1 = JPG\n                      0,         // brightness\n                      1 << 16,   // contrast\n                      1 << 16 )",
          "old_line_content": "        av_opt_set_int(ctx, \"sws_flags\", flags, 0);",
          "new_line_content": "        sws_setColorspaceDetails( ctx,",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "sws_init_context",
          "new_api": "sws_freeContext",
          "old_text": "sws_init_context(ctx, NULL, NULL)",
          "new_text": "sws_freeContext(ctx)",
          "old_line_content": "        if (sws_init_context(ctx, NULL, NULL) < 0) {",
          "new_line_content": "            sws_freeContext(ctx);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "av_sample_fmt_is_planar",
          "new_api": "av_get_planar_sample_fmt",
          "old_text": "av_sample_fmt_is_planar(request_sample_fmt)",
          "new_text": "av_get_planar_sample_fmt(request_sample_fmt)",
          "old_line_content": "        next_best_fmt = (av_sample_fmt_is_planar(request_sample_fmt)  ?",
          "new_line_content": "                         av_get_planar_sample_fmt(request_sample_fmt));",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "hb_system_sleep_opaque_init",
          "new_api": "hb_list_init",
          "old_text": "hb_system_sleep_opaque_init()",
          "new_text": "hb_list_init()",
          "old_line_content": "    h->system_sleep_opaque = hb_system_sleep_opaque_init();",
          "new_line_content": "\th->title_set.list_title = hb_list_init();",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "hb_list_init",
          "new_api": "hb_lock_init",
          "old_text": "hb_list_init()",
          "new_text": "hb_lock_init()",
          "old_line_content": "    h->jobs       = hb_list_init();",
          "new_line_content": "    h->state_lock  = hb_lock_init();",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "hb_lock_init",
          "new_api": "calloc",
          "old_text": "hb_lock_init()",
          "new_text": "calloc( sizeof( hb_interjob_t ), 1 )",
          "old_line_content": "    h->pause_lock = hb_lock_init();",
          "new_line_content": "    h->interjob = calloc( sizeof( hb_interjob_t ), 1 );",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "hb_log",
          "new_api": "hb_thread_init",
          "old_text": "hb_log( \"hb_init: starting libhb thread\" )",
          "new_text": "hb_thread_init( \"libhb\", thread_func, h,\n                                     HB_NORMAL_PRIORITY )",
          "old_line_content": "    hb_log( \"hb_init: starting libhb thread\" );",
          "new_line_content": "    h->main_thread = hb_thread_init( \"libhb\", thread_func, h,",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": "memset",
          "new_api": "opendir",
          "old_text": "memset( dirname, 0, 1024 )",
          "new_text": "opendir( dirname )",
          "old_line_content": "    memset( dirname, 0, 1024 );",
          "new_line_content": "    dir = opendir( dirname );",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "hb_list_item",
          "new_api": "strncmp",
          "old_text": "hb_list_item( h->title_set.list_title, i )",
          "new_text": "strncmp(entry->d_name, filename, len)",
          "old_line_content": "            title = hb_list_item( h->title_set.list_title, i );",
          "new_line_content": "            if (strncmp(entry->d_name, filename, len) == 0)",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "strncmp",
          "new_api": "snprintf",
          "old_text": "strncmp(entry->d_name, filename, len)",
          "new_text": "snprintf( filename, 1024, \"%s/%s\", dirname, entry->d_name )",
          "old_line_content": "            if (strncmp(entry->d_name, filename, len) == 0)",
          "new_line_content": "                snprintf( filename, 1024, \"%s/%s\", dirname, entry->d_name );",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "hb_list_count",
          "new_api": "hb_list_item",
          "old_text": "hb_list_count(h->title_set.list_title)",
          "new_text": "hb_list_item(h->title_set.list_title, ii)",
          "old_line_content": "        for (ii = 0; ii < hb_list_count(h->title_set.list_title); ii++)",
          "new_line_content": "            title = hb_list_item(h->title_set.list_title, ii);",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "hb_lock",
          "new_api": "hb_unlock",
          "old_text": "hb_lock( h->state_lock )",
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "                    hb_lock( h->state_lock );",
          "new_line_content": "                    hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "hb_list_item",
          "new_api": "hb_list_rem",
          "old_text": "hb_list_item( h->title_set.list_title, 0 )",
          "new_text": "hb_list_rem( h->title_set.list_title, title )",
          "old_line_content": "    while( ( title = hb_list_item( h->title_set.list_title, 0 ) ) )",
          "new_line_content": "        hb_list_rem( h->title_set.list_title, title );",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "hb_get_cpu_name",
          "new_api": "hb_log",
          "old_text": "hb_get_cpu_name()",
          "new_text": "hb_log(\"CPU: %s\", cpu_name != NULL ? cpu_name : \"\")",
          "old_line_content": "    const char *cpu_name = hb_get_cpu_name();",
          "new_line_content": "    hb_log(\"CPU: %s\", cpu_name != NULL ? cpu_name : \"\");",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "hb_log",
          "new_api": "hb_get_cpu_count",
          "old_text": "hb_log(\" - %s\", cpu_type)",
          "new_text": "hb_get_cpu_count()",
          "old_line_content": "        hb_log(\" - %s\", cpu_type);",
          "new_line_content": "    hb_log(\" - logical processor count: %d\", hb_get_cpu_count());",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "hb_get_instance_id",
          "new_api": "hb_fopen",
          "old_text": "hb_get_instance_id(h)",
          "new_text": "hb_fopen(filename, \"wb\")",
          "old_line_content": "                             hb_get_instance_id(h), title, preview );",
          "new_line_content": "    file = hb_fopen(filename, \"wb\");",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "strcpy",
          "new_api": "hb_error",
          "old_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "new_text": "hb_error( \"hb_save_preview: Failed to open %s (reason: %s)\", filename, reason )",
          "old_line_content": "            strcpy(reason, \"unknown -- strerror_r() failed\");",
          "new_line_content": "        hb_error( \"hb_save_preview: Failed to open %s (reason: %s)\", filename, reason );",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "fwrite",
          "new_api": "ferror",
          "old_text": "fwrite( data, w, 1, file )",
          "new_text": "ferror(file)",
          "old_line_content": "            if (fwrite( data, w, 1, file ) < w)",
          "new_line_content": "                if (ferror(file))",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "ferror",
          "new_api": "strerror_r",
          "old_text": "ferror(file)",
          "new_text": "strerror_r(errno, reason, 79)",
          "old_line_content": "                if (ferror(file))",
          "new_line_content": "                    if (strerror_r(errno, reason, 79) != 0)",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "strcpy",
          "new_api": "hb_error",
          "old_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "new_text": "hb_error( \"hb_save_preview: Failed to write line %d to %s (reason: %s). Preview will be incomplete.\",\n                              hh, filename, reason )",
          "old_line_content": "                        strcpy(reason, \"unknown -- strerror_r() failed\");",
          "new_line_content": "                    hb_error( \"hb_save_preview: Failed to write line %d to %s (reason: %s). Preview will be incomplete.\",",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "hb_get_instance_id",
          "new_api": "hb_fopen",
          "old_text": "hb_get_instance_id(h)",
          "new_text": "hb_fopen(filename, \"rb\")",
          "old_line_content": "                            hb_get_instance_id(h), title->index, preview);",
          "new_line_content": "    file = hb_fopen(filename, \"rb\");",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "strcpy",
          "new_api": "hb_error",
          "old_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "new_text": "hb_error( \"hb_read_preview: Failed to open %s (reason: %s)\", filename, reason )",
          "old_line_content": "            strcpy(reason, \"unknown -- strerror_r() failed\");",
          "new_line_content": "        hb_error( \"hb_read_preview: Failed to open %s (reason: %s)\", filename, reason );",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "fread",
          "new_api": "ferror",
          "old_text": "fread(data, w, 1, file)",
          "new_text": "ferror(file)",
          "old_line_content": "            if (fread(data, w, 1, file) < w)",
          "new_line_content": "                if (ferror(file))",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "ferror",
          "new_api": "strerror_r",
          "old_text": "ferror(file)",
          "new_text": "strerror_r(errno, reason, 79)",
          "old_line_content": "                if (ferror(file))",
          "new_line_content": "                    if (strerror_r(errno, reason, 79) != 0)",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "strcpy",
          "new_api": "hb_error",
          "old_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "new_text": "hb_error( \"hb_read_preview: Failed to read line %d from %s (reason: %s). Preview will be incomplete.\",\n                          hh, filename, reason )",
          "old_line_content": "                        strcpy(reason, \"unknown -- strerror_r() failed\");",
          "new_line_content": "                    hb_error( \"hb_read_preview: Failed to read line %d from %s (reason: %s). Preview will be incomplete.\",",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "hb_frame_buffer_init",
          "new_api": "hb_picture_fill",
          "old_text": "hb_frame_buffer_init(AV_PIX_FMT_RGB32, width, height)",
          "new_text": "hb_picture_fill( preview_data, preview_stride, preview_buf )",
          "old_line_content": "    preview_buf = hb_frame_buffer_init(AV_PIX_FMT_RGB32, width, height);",
          "new_line_content": "    hb_picture_fill( preview_data, preview_stride, preview_buf );",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "hb_frame_buffer_init",
          "new_api": "hb_deinterlace",
          "old_text": "hb_frame_buffer_init( AV_PIX_FMT_YUV420P,\n                              title->geometry.width, title->geometry.height )",
          "new_text": "hb_deinterlace(deint_buf, in_buf)",
          "old_line_content": "        deint_buf = hb_frame_buffer_init( AV_PIX_FMT_YUV420P,",
          "new_line_content": "        hb_deinterlace(deint_buf, in_buf);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "sws_freeContext",
          "new_api": "hb_buffer_to_image",
          "old_text": "sws_freeContext( context )",
          "new_text": "hb_buffer_to_image(preview_buf)",
          "old_line_content": "    sws_freeContext( context );",
          "new_line_content": "    hb_image_t *image = hb_buffer_to_image(preview_buf);",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "hb_buffer_close",
          "new_api": "hb_image_init",
          "old_text": "hb_buffer_close( &preview_buf )",
          "new_text": "hb_image_init(AV_PIX_FMT_RGB32, width, height)",
          "old_line_content": "    hb_buffer_close( &preview_buf );",
          "new_line_content": "    image = hb_image_init(AV_PIX_FMT_RGB32, width, height);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "hb_dict_get_int",
          "new_api": "hb_filter_get",
          "old_text": "hb_dict_get_int(filter_dict, \"ID\")",
          "new_text": "hb_filter_get(new_id)",
          "old_line_content": "    int new_id = hb_dict_get_int(filter_dict, \"ID\");",
          "new_line_content": "    hb_filter_object_t * filter = hb_filter_get(new_id);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "hb_list_count",
          "new_api": "hb_list_item",
          "old_text": "hb_list_count( job->list_filter )",
          "new_text": "hb_list_item( job->list_filter, i )",
          "old_line_content": "        for( i = 0; i < hb_list_count( job->list_filter ); i++ )",
          "new_line_content": "            hb_filter_object_t * f = hb_list_item( job->list_filter, i );",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "hb_list_count",
          "new_api": "hb_list_item",
          "old_text": "hb_list_count( job->list_audio )",
          "new_text": "hb_list_item( job->list_audio, i )",
          "old_line_content": "        for( i = 0; i < hb_list_count( job->list_audio ); i++ )",
          "new_line_content": "            if( ( audio = hb_list_item( job->list_audio, i ) ) )",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "hb_list_item",
          "new_api": "strncpy",
          "old_text": "hb_list_item( job->list_audio, i )",
          "new_text": "strncpy( audio_lang, audio->config.lang.iso639_2, sizeof( audio_lang ) )",
          "old_line_content": "            if( ( audio = hb_list_item( job->list_audio, i ) ) )",
          "new_line_content": "                strncpy( audio_lang, audio->config.lang.iso639_2, sizeof( audio_lang ) );",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "hb_list_init",
          "new_api": "hb_list_count",
          "old_text": "hb_list_init()",
          "new_text": "hb_list_count( job->title->list_subtitle )",
          "old_line_content": "        job_copy->list_subtitle = hb_list_init();",
          "new_line_content": "        for( i = 0; i < hb_list_count( job->title->list_subtitle ); i++ )",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "hb_list_count",
          "new_api": "hb_list_item",
          "old_text": "hb_list_count( job->title->list_subtitle )",
          "new_text": "hb_list_item( job->title->list_subtitle, i )",
          "old_line_content": "        for( i = 0; i < hb_list_count( job->title->list_subtitle ); i++ )",
          "new_line_content": "            subtitle = hb_list_item( job->title->list_subtitle, i );",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "hb_list_item",
          "new_api": "hb_subtitle_can_force",
          "old_text": "hb_list_item( job->title->list_subtitle, i )",
          "new_text": "hb_subtitle_can_force( subtitle->source )",
          "old_line_content": "            subtitle = hb_list_item( job->title->list_subtitle, i );",
          "new_line_content": "                hb_subtitle_can_force( subtitle->source ) )",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "hb_chapter_list_copy",
          "new_api": "hb_attachment_list_copy",
          "old_text": "hb_chapter_list_copy( job->list_chapter )",
          "new_text": "hb_attachment_list_copy( job->list_attachment )",
          "old_line_content": "    job_copy->list_chapter = hb_chapter_list_copy( job->list_chapter );",
          "new_line_content": "    job_copy->list_attachment = hb_attachment_list_copy( job->list_attachment );",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "hb_audio_list_copy",
          "new_api": "hb_metadata_copy",
          "old_text": "hb_audio_list_copy( job->list_audio )",
          "new_text": "hb_metadata_copy( job->metadata )",
          "old_line_content": "    job_copy->list_audio = hb_audio_list_copy( job->list_audio );",
          "new_line_content": "    job_copy->metadata = hb_metadata_copy( job->metadata );",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "memcpy",
          "new_api": "hb_subtitle_list_copy",
          "old_text": "memcpy( job_copy, job, sizeof( hb_job_t ) )",
          "new_text": "hb_subtitle_list_copy( job->list_subtitle )",
          "old_line_content": "    memcpy( job_copy, job, sizeof( hb_job_t ) );",
          "new_line_content": "    job_copy->list_subtitle = hb_subtitle_list_copy( job->list_subtitle );",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "hb_subtitle_list_copy",
          "new_api": "hb_audio_list_copy",
          "old_text": "hb_subtitle_list_copy( job->list_subtitle )",
          "new_text": "hb_audio_list_copy( job->list_audio )",
          "old_line_content": "    job_copy->list_subtitle = hb_subtitle_list_copy( job->list_subtitle );",
          "new_line_content": "    job_copy->list_audio = hb_audio_list_copy( job->list_audio );",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "hb_chapter_list_copy",
          "new_api": "hb_attachment_list_copy",
          "old_text": "hb_chapter_list_copy( job->list_chapter )",
          "new_text": "hb_attachment_list_copy( job->list_attachment )",
          "old_line_content": "    job_copy->list_chapter = hb_chapter_list_copy( job->list_chapter );",
          "new_line_content": "    job_copy->list_attachment = hb_attachment_list_copy( job->list_attachment );",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "hb_audio_list_copy",
          "new_api": "hb_metadata_copy",
          "old_text": "hb_audio_list_copy( job->list_audio )",
          "new_text": "hb_metadata_copy( job->metadata )",
          "old_line_content": "    job_copy->list_audio = hb_audio_list_copy( job->list_audio );",
          "new_line_content": "    job_copy->metadata = hb_metadata_copy( job->metadata );",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "strdup",
          "new_api": "hb_filter_list_copy",
          "old_text": "strdup(job->file)",
          "new_text": "hb_filter_list_copy( job->list_filter )",
          "old_line_content": "        job_copy->file = strdup(job->file);",
          "new_line_content": "    job_copy->list_filter = hb_filter_list_copy( job->list_filter );",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": "hb_deep_log",
          "new_api": "hb_add_internal",
          "old_text": "hb_deep_log(2, \"Adding subtitle scan pass\")",
          "new_text": "hb_add_internal(h, job, list_pass)",
          "old_line_content": "        hb_deep_log(2, \"Adding subtitle scan pass\");",
          "new_line_content": "        hb_add_internal(h, job, list_pass);",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": "hb_deep_log",
          "new_api": "hb_add_internal",
          "old_text": "hb_deep_log(2, \"Adding two-pass encode\")",
          "new_text": "hb_add_internal(h, job, list_pass)",
          "old_line_content": "        hb_deep_log(2, \"Adding two-pass encode\");",
          "new_line_content": "        hb_add_internal(h, job, list_pass);",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "hb_get_date",
          "new_api": "hb_lock",
          "old_text": "hb_get_date()",
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "        hb_current_job( h )->st_pause_date = hb_get_date();",
          "new_line_content": "        hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "hb_lock",
          "new_api": "hb_unlock",
          "old_text": "hb_lock( h->state_lock )",
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "        hb_lock( h->state_lock );",
          "new_line_content": "        hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": "hb_lock",
          "new_api": "memcpy",
          "old_text": "hb_lock( h->state_lock )",
          "new_text": "memcpy( s, &h->state, sizeof( hb_state_t ) )",
          "old_line_content": "    hb_lock( h->state_lock );",
          "new_line_content": "    memcpy( s, &h->state, sizeof( hb_state_t ) );",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": "hb_lock",
          "new_api": "memcpy",
          "old_text": "hb_lock( h->state_lock )",
          "new_text": "memcpy( s, &h->state, sizeof( hb_state_t ) )",
          "old_line_content": "    hb_lock( h->state_lock );",
          "new_line_content": "    memcpy( s, &h->state, sizeof( hb_state_t ) );",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "memcpy",
          "new_api": "hb_unlock",
          "old_text": "memcpy( s, &h->state, sizeof( hb_state_t ) )",
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "    memcpy( s, &h->state, sizeof( hb_state_t ) );",
          "new_line_content": "    hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": "hb_thread_close",
          "new_api": "hb_list_item",
          "old_text": "hb_thread_close( &h->main_thread )",
          "new_text": "hb_list_item( h->title_set.list_title, 0 )",
          "old_line_content": "    hb_thread_close( &h->main_thread );",
          "new_line_content": "    while( ( title = hb_list_item( h->title_set.list_title, 0 ) ) )",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "hb_list_item",
          "new_api": "hb_list_rem",
          "old_text": "hb_list_item( h->title_set.list_title, 0 )",
          "new_text": "hb_list_rem( h->title_set.list_title, title )",
          "old_line_content": "    while( ( title = hb_list_item( h->title_set.list_title, 0 ) ) )",
          "new_line_content": "        hb_list_rem( h->title_set.list_title, title );",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": "hb_title_close",
          "new_api": "hb_list_close",
          "old_text": "hb_title_close( &title )",
          "new_text": "hb_list_close( &h->title_set.list_title )",
          "old_line_content": "        hb_title_close( &title );",
          "new_line_content": "    hb_list_close( &h->title_set.list_title );",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "hb_list_close",
          "new_api": "hb_lock_close",
          "old_text": "hb_list_close( &h->jobs )",
          "new_text": "hb_lock_close( &h->pause_lock )",
          "old_line_content": "    hb_list_close( &h->jobs );",
          "new_line_content": "    hb_lock_close( &h->pause_lock );",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "hb_lock_close",
          "new_api": "hb_system_sleep_opaque_close",
          "old_text": "hb_lock_close( &h->pause_lock )",
          "new_text": "hb_system_sleep_opaque_close(&h->system_sleep_opaque)",
          "old_line_content": "    hb_lock_close( &h->pause_lock );",
          "new_line_content": "    hb_system_sleep_opaque_close(&h->system_sleep_opaque);",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "hb_system_sleep_opaque_close",
          "new_api": "free",
          "old_text": "hb_system_sleep_opaque_close(&h->system_sleep_opaque)",
          "new_text": "free( h->interjob )",
          "old_line_content": "    hb_system_sleep_opaque_close(&h->system_sleep_opaque);",
          "new_line_content": "    free( h->interjob );",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "hb_get_temporary_directory",
          "new_api": "opendir",
          "old_text": "hb_get_temporary_directory( dirname )",
          "new_text": "opendir( dirname )",
          "old_line_content": "    hb_get_temporary_directory( dirname );",
          "new_line_content": "    dir = opendir( dirname );",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": "memset",
          "new_api": "unlink",
          "old_text": "memset( filename, 0, 1024 )",
          "new_text": "unlink( filename )",
          "old_line_content": "            memset( filename, 0, 1024 );",
          "new_line_content": "            unlink( filename );",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "unlink",
          "new_api": "closedir",
          "old_text": "unlink( filename )",
          "new_text": "closedir( dir )",
          "old_line_content": "            unlink( filename );",
          "new_line_content": "        closedir( dir );",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "hb_get_temporary_directory",
          "new_api": "hb_mkdir",
          "old_text": "hb_get_temporary_directory( dirname )",
          "new_text": "hb_mkdir( dirname )",
          "old_line_content": "    hb_get_temporary_directory( dirname );",
          "new_line_content": "    hb_mkdir( dirname );",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": "hb_thread_has_exited",
          "new_api": "hb_thread_close",
          "old_text": "hb_thread_has_exited( h->scan_thread )",
          "new_text": "hb_thread_close( &h->scan_thread )",
          "old_line_content": "            hb_thread_has_exited( h->scan_thread ) )",
          "new_line_content": "            hb_thread_close( &h->scan_thread );",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "hb_list_item",
          "new_api": "hb_list_rem",
          "old_text": "hb_list_item( h->title_set.list_title, 0 )",
          "new_text": "hb_list_rem( h->title_set.list_title, title )",
          "old_line_content": "                while( ( title = hb_list_item( h->title_set.list_title, 0 ) ) )",
          "new_line_content": "                    hb_list_rem( h->title_set.list_title, title );",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "hb_list_count",
          "new_api": "hb_lock",
          "old_text": "hb_list_count( h->title_set.list_title )",
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "                        hb_list_count( h->title_set.list_title ) );",
          "new_line_content": "            hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": "hb_lock",
          "new_api": "hb_unlock",
          "old_text": "hb_lock( h->state_lock )",
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "            hb_lock( h->state_lock );",
          "new_line_content": "\t\t\thb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": "hb_thread_has_exited",
          "new_api": "hb_thread_close",
          "old_text": "hb_thread_has_exited( h->work_thread )",
          "new_text": "hb_thread_close( &h->work_thread )",
          "old_line_content": "            hb_thread_has_exited( h->work_thread ) )",
          "new_line_content": "            hb_thread_close( &h->work_thread );",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "hb_thread_close",
          "new_api": "hb_log",
          "old_text": "hb_thread_close( &h->work_thread )",
          "new_text": "hb_log( \"libhb: work result = %d\",\n                    h->work_error )",
          "old_line_content": "            hb_thread_close( &h->work_thread );",
          "new_line_content": "            hb_log( \"libhb: work result = %d\",",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "hb_log",
          "new_api": "hb_lock",
          "old_text": "hb_log( \"libhb: work result = %d\",\n                    h->work_error )",
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "            hb_log( \"libhb: work result = %d\",",
          "new_line_content": "            hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "hb_thread_close",
          "new_api": "hb_remove_previews",
          "old_text": "hb_thread_close( &h->work_thread )",
          "new_text": "hb_remove_previews( h )",
          "old_line_content": "        hb_thread_close( &h->work_thread );",
          "new_line_content": "    hb_remove_previews( h );",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "dup2",
          "new_api": "fdopen",
          "old_text": "dup2(pfd[1], /*stderr*/ 2)",
          "new_text": "fdopen(pfd[0], \"rb\")",
          "old_line_content": "    dup2(pfd[1], /*stderr*/ 2);",
          "new_line_content": "    FILE * log_f = fdopen(pfd[0], \"rb\");",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": "fgets",
          "new_api": "hb_log_callback",
          "old_text": "fgets(line_buffer, 500, log_f)",
          "new_text": "hb_log_callback(line_buffer)",
          "old_line_content": "    while(fgets(line_buffer, 500, log_f) != NULL)",
          "new_line_content": "        hb_log_callback(line_buffer);",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": "hb_lock",
          "new_api": "memcpy",
          "old_text": "hb_lock( h->pause_lock )",
          "new_text": "memcpy( &h->state, s, sizeof( hb_state_t ) )",
          "old_line_content": "    hb_lock( h->pause_lock );",
          "new_line_content": "    memcpy( &h->state, s, sizeof( hb_state_t ) );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2048,
          "old_api": null,
          "new_api": "fgets",
          "old_text": null,
          "new_text": "fgets(line_buffer, 500, log_f)",
          "old_line_content": "",
          "new_line_content": "    while(fgets(line_buffer, 500, log_f) != NULL)",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "hb_list_init",
          "old_text": null,
          "new_text": "hb_list_init()",
          "old_line_content": "         * language.",
          "new_line_content": "        job_copy->list_subtitle = hb_list_init();",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp( subtitle->iso639_2, audio_lang )",
          "old_line_content": "        {",
          "new_line_content": "            if( strcmp( subtitle->iso639_2, audio_lang ) == 0 &&",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( dirname, 0, 1024 )",
          "old_line_content": "    struct dirent * entry;",
          "new_line_content": "    memset( dirname, 0, 1024 );",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "hb_get_temporary_directory",
          "old_text": null,
          "new_text": "hb_get_temporary_directory( dirname )",
          "old_line_content": "",
          "new_line_content": "    hb_get_temporary_directory( dirname );",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "hb_list_add",
          "old_text": null,
          "new_text": "hb_list_add( job_copy->list_subtitle,\n                             hb_subtitle_copy( subtitle ) )",
          "old_line_content": "                 * We will update the subtitle list on the next pass later, after",
          "new_line_content": "                hb_list_add( job_copy->list_subtitle,",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": null,
          "new_api": "hb_subtitle_copy",
          "old_text": null,
          "new_text": "hb_subtitle_copy( subtitle )",
          "old_line_content": "                 * the subtitle scan pass has completed. */",
          "new_line_content": "                             hb_subtitle_copy( subtitle ) );",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count(job_copy->list_subtitle)",
          "old_line_content": "            }",
          "new_line_content": "        int count = hb_list_count(job_copy->list_subtitle);",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count( h->title_set.list_title )",
          "old_line_content": "    if (dir == NULL) return;",
          "new_line_content": "    count = hb_list_count( h->title_set.list_title );",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "readdir",
          "old_text": null,
          "new_text": "readdir( dir )",
          "old_line_content": "",
          "new_line_content": "    while( ( entry = readdir( dir ) ) )",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log(\"Skipping subtitle scan.  No suitable subtitle tracks.\")",
          "old_line_content": "            (count == 1 && !job_copy->select_subtitle_config.force))",
          "new_line_content": "            hb_log(\"Skipping subtitle scan.  No suitable subtitle tracks.\");",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": null,
          "new_api": "hb_job_close",
          "old_text": null,
          "new_text": "hb_job_close(&job_copy)",
          "old_line_content": "        {",
          "new_line_content": "            hb_job_close(&job_copy);",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->pause_lock )",
          "old_line_content": "void hb_set_state( hb_handle_t * h, hb_state_t * s )",
          "new_line_content": "    hb_lock( h->pause_lock );",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "{",
          "new_line_content": "    hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "hb_list_item",
          "old_text": null,
          "new_text": "hb_list_item( h->title_set.list_title, i )",
          "old_line_content": "        for( i = 0; i < count; i++ )",
          "new_line_content": "            title = hb_list_item( h->title_set.list_title, i );",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf( filename, 1024, \"%d_%d\", h->id, title->index )",
          "old_line_content": "        {",
          "new_line_content": "            len = snprintf( filename, 1024, \"%d_%d\", h->id, title->index );",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "hb_subtitle_list_copy",
          "old_text": null,
          "new_text": "hb_subtitle_list_copy( job->list_subtitle )",
          "old_line_content": "    {",
          "new_line_content": "        job_copy->list_subtitle = hb_subtitle_list_copy( job->list_subtitle );",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "dup2",
          "old_text": null,
          "new_text": "dup2(pfd[1], /*stderr*/ 2)",
          "old_line_content": "    stderr->_file = pfd[1];",
          "new_line_content": "    dup2(pfd[1], /*stderr*/ 2);",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "unlink( filename )",
          "old_line_content": "            {",
          "new_line_content": "                unlink( filename );",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_DOWN",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_DOWN(geo->maxWidth, mod)",
          "old_line_content": "    if (geo->maxWidth > 0)",
          "new_line_content": "        maxWidth  = MIN(MAX(MULTIPLE_MOD_DOWN(geo->maxWidth, mod),",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "hb_chapter_list_copy",
          "old_text": null,
          "new_text": "hb_chapter_list_copy( job->list_chapter )",
          "old_line_content": "    }",
          "new_line_content": "    job_copy->list_chapter = hb_chapter_list_copy( job->list_chapter );",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": null,
          "new_api": "hb_audio_list_copy",
          "old_text": null,
          "new_text": "hb_audio_list_copy( job->list_audio )",
          "old_line_content": "",
          "new_line_content": "    job_copy->list_audio = hb_audio_list_copy( job->list_audio );",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "hb_unlock",
          "old_text": null,
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "            h->state.param.working.sequence_id = 0;",
          "new_line_content": "    hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": null,
          "new_api": "hb_unlock",
          "old_text": null,
          "new_text": "hb_unlock( h->pause_lock )",
          "old_line_content": "    }",
          "new_line_content": "    hb_unlock( h->pause_lock );",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "closedir",
          "old_text": null,
          "new_text": "closedir( dir )",
          "old_line_content": "        }",
          "new_line_content": "    closedir( dir );",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(job->encoder_preset)",
          "old_line_content": "",
          "new_line_content": "        job_copy->encoder_preset = strdup(job->encoder_preset);",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_DOWN",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_DOWN(geo->maxHeight, mod)",
          "old_line_content": "    if (geo->maxHeight > 0)",
          "new_line_content": "        maxHeight = MIN(MAX(MULTIPLE_MOD_DOWN(geo->maxHeight, mod),",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "hb_system_sleep_private_enable",
          "old_text": null,
          "new_text": "hb_system_sleep_private_enable(h->system_sleep_opaque)",
          "old_line_content": "void hb_system_sleep_allow(hb_handle_t *h)",
          "new_line_content": "    hb_system_sleep_private_enable(h->system_sleep_opaque);",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": null,
          "new_api": "hb_system_sleep_private_disable",
          "old_text": null,
          "new_text": "hb_system_sleep_private_disable(h->system_sleep_opaque)",
          "old_line_content": "void hb_system_sleep_prevent(hb_handle_t *h)",
          "new_line_content": "    hb_system_sleep_private_disable(h->system_sleep_opaque);",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "hb_filter_list_copy",
          "old_text": null,
          "new_text": "hb_filter_list_copy( job->list_filter )",
          "old_line_content": "",
          "new_line_content": "    job_copy->list_filter = hb_filter_list_copy( job->list_filter );",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(h->title_set.path, path)",
          "old_line_content": "",
          "new_line_content": "    if (!strcmp(h->title_set.path, path))",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": null,
          "new_api": "hb_list_add",
          "old_text": null,
          "new_text": "hb_list_add( list_pass, job_copy )",
          "old_line_content": "",
          "new_line_content": "    hb_list_add( list_pass, job_copy );",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count(h->title_set.list_title)",
          "old_line_content": "        // Check if the requested title has already been scanned.",
          "new_line_content": "        for (ii = 0; ii < hb_list_count(h->title_set.list_title); ii++)",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc( sizeof( hb_job_t ), 1 )",
          "old_line_content": "",
          "new_line_content": "    job_copy        = calloc( sizeof( hb_job_t ), 1 );",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "old_line_content": "                if (!keep_height)",
          "new_line_content": "                    width = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(width / dar, mod)",
          "old_line_content": "                {",
          "new_line_content": "                    height = MULTIPLE_MOD(width / dar, mod);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(job->json)",
          "old_line_content": "    {",
          "new_line_content": "        job_copy->json = strdup(job->json);",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "old_line_content": "                else",
          "new_line_content": "                    height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(height * dar, mod)",
          "old_line_content": "                {",
          "new_line_content": "                    width = MULTIPLE_MOD(height * dar, mod);",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "                {",
          "new_line_content": "                    hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy( job_copy, job, sizeof( hb_job_t ) )",
          "old_line_content": "        return job_copy;",
          "new_line_content": "    memcpy( job_copy, job, sizeof( hb_job_t ) );",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "hb_chapter_list_copy",
          "old_text": null,
          "new_text": "hb_chapter_list_copy( job->list_chapter )",
          "old_line_content": "",
          "new_line_content": "    job_copy->list_chapter = hb_chapter_list_copy( job->list_chapter );",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "old_line_content": "            else",
          "new_line_content": "                width = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "old_line_content": "            {",
          "new_line_content": "                height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(job->encoder_preset)",
          "old_line_content": "",
          "new_line_content": "        job_copy->encoder_preset = strdup(job->encoder_preset);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(width / dar, mod)",
          "old_line_content": "                if (keep_display_aspect)",
          "new_line_content": "                    height = MULTIPLE_MOD(width / dar, mod);",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": null,
          "new_api": "hb_remove_previews",
          "old_text": null,
          "new_text": "hb_remove_previews( h )",
          "old_line_content": "",
          "new_line_content": "    hb_remove_previews( h );",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "hb_list_item",
          "old_text": null,
          "new_text": "hb_list_item( h->title_set.list_title, 0 )",
          "old_line_content": "    /* Clean up from previous scan */",
          "new_line_content": "    while( ( title = hb_list_item( h->title_set.list_title, 0 ) ) )",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "hb_title_close",
          "old_text": null,
          "new_text": "hb_title_close( &title )",
          "old_line_content": "    {",
          "new_line_content": "        hb_title_close( &title );",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(height * dar, mod)",
          "old_line_content": "                if (keep_display_aspect)",
          "new_line_content": "                    width = MULTIPLE_MOD(height * dar, mod);",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "hb_get_cpu_name",
          "old_text": null,
          "new_text": "hb_get_cpu_name()",
          "old_line_content": "",
          "new_line_content": "    const char *cpu_name = hb_get_cpu_name();",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "hb_get_cpu_platform_name",
          "old_text": null,
          "new_text": "hb_get_cpu_platform_name()",
          "old_line_content": "    /* Print CPU info here so that it's in all scan and encode logs */",
          "new_line_content": "    const char *cpu_type = hb_get_cpu_platform_name();",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": null,
          "new_api": "hb_job_copy",
          "old_text": null,
          "new_text": "hb_job_copy(job)",
          "old_line_content": "int hb_add( hb_handle_t * h, hb_job_t * job )",
          "new_line_content": "    hb_job_t *job_copy = hb_job_copy(job);",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log(\" - %s\", cpu_type)",
          "old_line_content": "    if (cpu_type != NULL)",
          "new_line_content": "        hb_log(\" - %s\", cpu_type);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(width / dar, mod)",
          "old_line_content": "                if (keep_display_aspect)",
          "new_line_content": "                    height = MULTIPLE_MOD(width / dar, mod);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "hb_list_add",
          "old_text": null,
          "new_text": "hb_list_add(h->jobs, job_copy)",
          "old_line_content": "    job_copy->h = h;",
          "new_line_content": "    hb_list_add(h->jobs, job_copy);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "hb_opencl_info_print",
          "old_text": null,
          "new_text": "hb_opencl_info_print()",
          "old_line_content": "",
          "new_line_content": "    hb_opencl_info_print();",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": null,
          "new_api": "hb_qsv_info_print",
          "old_text": null,
          "new_text": "hb_qsv_info_print()",
          "old_line_content": "#ifdef USE_QSV",
          "new_line_content": "    hb_qsv_info_print();",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(height * dar, mod)",
          "old_line_content": "                if (keep_display_aspect)",
          "new_line_content": "                    width = MULTIPLE_MOD(height * dar, mod);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log( \"hb_scan: path=%s, title_index=%d\", path, title_index )",
          "old_line_content": "#endif",
          "new_line_content": "    hb_log( \"hb_scan: path=%s, title_index=%d\", path, title_index );",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "hb_scan_init",
          "old_text": null,
          "new_text": "hb_scan_init( h, &h->scan_die, path, title_index,\n                                   &h->title_set, preview_count,\n                                   store_previews, min_duration )",
          "old_line_content": "",
          "new_line_content": "    h->scan_thread = hb_scan_init( h, &h->scan_die, path, title_index,",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": null,
          "new_api": "hb_deep_log",
          "old_text": null,
          "new_text": "hb_deep_log(2, \"Adding subtitle scan pass\")",
          "old_line_content": "    if (job->indepth_scan)",
          "new_line_content": "        hb_deep_log(2, \"Adding subtitle scan pass\");",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(cropped_width, 2)",
          "old_line_content": "             *  - Forces title - crop dimensions",
          "new_line_content": "            width  = MULTIPLE_MOD_UP(cropped_width, 2);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(cropped_height, 2)",
          "old_line_content": "             */",
          "new_line_content": "            height = MULTIPLE_MOD_UP(cropped_height, 2);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "hb_deep_log",
          "old_text": null,
          "new_text": "hb_deep_log(2, \"Adding two-pass encode\")",
          "old_line_content": "    if (job->twopass)",
          "new_line_content": "        hb_deep_log(2, \"Adding two-pass encode\");",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "hb_add_internal",
          "old_text": null,
          "new_text": "hb_add_internal(h, job, list_pass)",
          "old_line_content": "    {",
          "new_line_content": "        hb_add_internal(h, job, list_pass);",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "hb_get_tempory_filename",
          "old_text": null,
          "new_text": "hb_get_tempory_filename( h, filename, \"%d_%d_%d\",\n                             hb_get_instance_id(h), title, preview )",
          "old_line_content": "    char   reason[80];",
          "new_line_content": "    hb_get_tempory_filename( h, filename, \"%d_%d_%d\",",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": null,
          "new_api": "hb_get_instance_id",
          "old_text": null,
          "new_text": "hb_get_instance_id(h)",
          "old_line_content": "",
          "new_line_content": "                             hb_get_instance_id(h), title, preview );",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": null,
          "new_api": "hb_list_rem",
          "old_text": null,
          "new_text": "hb_list_rem( h->jobs, job )",
          "old_line_content": "void hb_rem( hb_handle_t * h, hb_job_t * job )",
          "new_line_content": "    hb_list_rem( h->jobs, job );",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "strerror_r",
          "old_text": null,
          "new_text": "strerror_r(errno, reason, 79)",
          "old_line_content": "    if( !file )",
          "new_line_content": "        if (strerror_r(errno, reason, 79) != 0)",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "old_line_content": "    {",
          "new_line_content": "            strcpy(reason, \"unknown -- strerror_r() failed\");",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "old_line_content": "            if (!keep_height)",
          "new_line_content": "                width = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(width / storage_aspect + 0.5, mod)",
          "old_line_content": "            {",
          "new_line_content": "                height = MULTIPLE_MOD_UP(width / storage_aspect + 0.5, mod);",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "void hb_start( hb_handle_t * h )",
          "new_line_content": "    hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "old_line_content": "            else",
          "new_line_content": "                height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(height * storage_aspect + 0.5, mod)",
          "old_line_content": "            {",
          "new_line_content": "                width = MULTIPLE_MOD_UP(height * storage_aspect + 0.5, mod);",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite( data, w, 1, file )",
          "old_line_content": "        for( hh = 0; hh < h; hh++ )",
          "new_line_content": "            if (fwrite( data, w, 1, file ) < w)",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(width / storage_aspect + 0.5, mod)",
          "old_line_content": "            {",
          "new_line_content": "                height = MULTIPLE_MOD(width / storage_aspect + 0.5, mod);",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": null,
          "new_api": "hb_unlock",
          "old_text": null,
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "    p.sequence_id = 0;",
          "new_line_content": "    hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "old_line_content": "                {",
          "new_line_content": "                        strcpy(reason, \"unknown -- strerror_r() failed\");",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(height * storage_aspect + 0.5, mod)",
          "old_line_content": "            {",
          "new_line_content": "                width = MULTIPLE_MOD(height * storage_aspect + 0.5, mod);",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "hb_work_init",
          "old_text": null,
          "new_text": "hb_work_init( h->jobs, &h->work_die, &h->work_error, &h->current_job )",
          "old_line_content": "    h->work_die    = 0;",
          "new_line_content": "    h->work_thread = hb_work_init( h->jobs, &h->work_die, &h->work_error, &h->current_job );",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(width / storage_aspect + 0.5, mod)",
          "old_line_content": "            {",
          "new_line_content": "                height = MULTIPLE_MOD(width / storage_aspect + 0.5, mod);",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": null,
          "new_api": "MULTIPLE_MOD",
          "old_text": null,
          "new_text": "MULTIPLE_MOD(height * storage_aspect + 0.5, mod)",
          "old_line_content": "            {",
          "new_line_content": "                width = MULTIPLE_MOD(height * storage_aspect + 0.5, mod);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose( file )",
          "old_line_content": "",
          "new_line_content": "    fclose( file );",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->pause_lock )",
          "old_line_content": "    if( !h->paused )",
          "new_line_content": "        hb_lock( h->pause_lock );",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": null,
          "new_api": "hb_get_date",
          "old_text": null,
          "new_text": "hb_get_date()",
          "old_line_content": "        h->paused = 1;",
          "new_line_content": "        hb_current_job( h )->st_pause_date = hb_get_date();",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "hb_get_tempory_filename",
          "old_text": null,
          "new_text": "hb_get_tempory_filename(h, filename, \"%d_%d_%d\",\n                            hb_get_instance_id(h), title->index, preview)",
          "old_line_content": "    char   reason[80];",
          "new_line_content": "    hb_get_tempory_filename(h, filename, \"%d_%d_%d\",",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "hb_get_instance_id",
          "old_text": null,
          "new_text": "hb_get_instance_id(h)",
          "old_line_content": "",
          "new_line_content": "                            hb_get_instance_id(h), title->index, preview);",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "old_line_content": "",
          "new_line_content": "            width  = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "old_line_content": "            /* Time to get picture dimensions that divide cleanly.*/",
          "new_line_content": "            height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "strerror_r",
          "old_text": null,
          "new_text": "strerror_r(errno, reason, 79)",
          "old_line_content": "    if (!file)",
          "new_line_content": "        if (strerror_r(errno, reason, 79) != 0)",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "old_line_content": "    {",
          "new_line_content": "            strcpy(reason, \"unknown -- strerror_r() failed\");",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "hb_get_date",
          "old_text": null,
          "new_text": "hb_get_date()",
          "old_line_content": "        if( job->st_pause_date != -1 )",
          "new_line_content": "           job->st_paused += hb_get_date() - job->st_pause_date;",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "hb_frame_buffer_init",
          "old_text": null,
          "new_text": "hb_frame_buffer_init(AV_PIX_FMT_YUV420P,\n                               title->geometry.width, title->geometry.height)",
          "old_line_content": "",
          "new_line_content": "    buf = hb_frame_buffer_init(AV_PIX_FMT_YUV420P,",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "hb_unlock",
          "old_text": null,
          "new_text": "hb_unlock( h->pause_lock )",
          "old_line_content": "#undef job",
          "new_line_content": "        hb_unlock( h->pause_lock );",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "hb_resume",
          "old_text": null,
          "new_text": "hb_resume( h )",
          "old_line_content": "    h->work_error = HB_ERROR_CANCELED;",
          "new_line_content": "    hb_resume( h );",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(data, w, 1, file)",
          "old_line_content": "        for (hh = 0; hh < h; hh++)",
          "new_line_content": "            if (fread(data, w, 1, file) < w)",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(reason, \"unknown -- strerror_r() failed\")",
          "old_line_content": "                {",
          "new_line_content": "                        strcpy(reason, \"unknown -- strerror_r() failed\");",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "hb_resume",
          "old_text": null,
          "new_text": "hb_resume( h )",
          "old_line_content": "{",
          "new_line_content": "    hb_resume( h );",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "av_opt_set_int",
          "old_text": null,
          "new_text": "av_opt_set_int(ctx, \"srcw\", srcW, 0)",
          "old_line_content": "         */",
          "new_line_content": "        av_opt_set_int(ctx, \"srcw\", srcW, 0);",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "av_opt_set_int",
          "old_text": null,
          "new_text": "av_opt_set_int(ctx, \"srch\", srcH, 0)",
          "old_line_content": "",
          "new_line_content": "        av_opt_set_int(ctx, \"srch\", srcH, 0);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "",
          "new_line_content": "    fclose(file);",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "old_line_content": "",
          "new_line_content": "            width  = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "MULTIPLE_MOD_UP",
          "old_text": null,
          "new_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "old_line_content": "            /* Time to get picture dimensions that divide cleanly.*/",
          "new_line_content": "            height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "void hb_get_state( hb_handle_t * h, hb_state_t * s )",
          "new_line_content": "    hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": null,
          "new_api": "hb_unlock",
          "old_text": null,
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "        h->state.state = HB_STATE_IDLE;",
          "new_line_content": "    hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": null,
          "new_api": "sws_getCoefficients",
          "old_text": null,
          "new_text": "sws_getCoefficients( colorspace )",
          "old_line_content": "",
          "new_line_content": "                      sws_getCoefficients( colorspace ), // src colorspace",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "hb_lock",
          "old_text": null,
          "new_text": "hb_lock( h->state_lock )",
          "old_line_content": "void hb_get_state2( hb_handle_t * h, hb_state_t * s )",
          "new_line_content": "    hb_lock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "sws_init_context",
          "old_text": null,
          "new_text": "sws_init_context(ctx, NULL, NULL)",
          "old_line_content": "                      1 << 16 ); // saturation",
          "new_line_content": "        if (sws_init_context(ctx, NULL, NULL) < 0) {",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "hb_error",
          "old_text": null,
          "new_text": "hb_error(\"Cannot initialize resampling context\")",
          "old_line_content": "",
          "new_line_content": "            hb_error(\"Cannot initialize resampling context\");",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(width,                HB_MIN_WIDTH)",
          "old_line_content": "    // This means output image size may not match requested image size!",
          "new_line_content": "    width  = MIN(MAX(width,                HB_MIN_WIDTH),  HB_MAX_WIDTH);",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(height * width  / ww, HB_MIN_HEIGHT)",
          "old_line_content": "    int ww = width, hh = height;",
          "new_line_content": "    height = MIN(MAX(height * width  / ww, HB_MIN_HEIGHT), HB_MAX_HEIGHT);",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "hb_frame_buffer_init",
          "old_text": null,
          "new_text": "hb_frame_buffer_init(AV_PIX_FMT_RGB32, width, height)",
          "old_line_content": "    swsflags = SWS_LANCZOS | SWS_ACCURATE_RND;",
          "new_line_content": "    preview_buf = hb_frame_buffer_init(AV_PIX_FMT_RGB32, width, height);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "hb_thread_close",
          "old_text": null,
          "new_text": "hb_thread_close( &h->main_thread )",
          "old_line_content": "    h->die = 1;",
          "new_line_content": "    hb_thread_close( &h->main_thread );",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( filename, 0, 1024 )",
          "old_line_content": "",
          "new_line_content": "    memset( filename, 0, 1024 );",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "hb_title_close",
          "old_text": null,
          "new_text": "hb_title_close( &title )",
          "old_line_content": "    {",
          "new_line_content": "        hb_title_close( &title );",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": null,
          "new_api": "hb_find_title_by_index",
          "old_text": null,
          "new_text": "hb_find_title_by_index(h, title_idx)",
          "old_line_content": "",
          "new_line_content": "    title = hb_find_title_by_index(h, title_idx);",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "hb_lock_close",
          "old_text": null,
          "new_text": "hb_lock_close( &h->state_lock )",
          "old_line_content": "",
          "new_line_content": "    hb_lock_close( &h->state_lock );",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "hb_error",
          "old_text": null,
          "new_text": "hb_error( \"hb_get_preview2: invalid title (%d)\", title_idx )",
          "old_line_content": "    if (title == NULL)",
          "new_line_content": "        hb_error( \"hb_get_preview2: invalid title (%d)\", title_idx );",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "hb_read_preview",
          "old_text": null,
          "new_text": "hb_read_preview( h, title, picture )",
          "old_line_content": "    }",
          "new_line_content": "    in_buf = hb_read_preview( h, title, picture );",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "hb_frame_buffer_init",
          "old_text": null,
          "new_text": "hb_frame_buffer_init( AV_PIX_FMT_YUV420P,\n                              title->geometry.width, title->geometry.height )",
          "old_line_content": "    {",
          "new_line_content": "        deint_buf = hb_frame_buffer_init( AV_PIX_FMT_YUV420P,",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "hb_platform_init",
          "old_text": null,
          "new_text": "hb_platform_init()",
          "old_line_content": "    int result = 0;",
          "new_line_content": "    result = hb_platform_init();",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "hb_picture_crop",
          "old_text": null,
          "new_text": "hb_picture_crop(crop_data, crop_stride, deint_buf,\n                        geo->crop[0], geo->crop[2] )",
          "old_line_content": "                              title->geometry.width, title->geometry.height );",
          "new_line_content": "        hb_picture_crop(crop_data, crop_stride, deint_buf,",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "hb_error",
          "old_text": null,
          "new_text": "hb_error(\"Platform specific initialization failed!\")",
          "old_line_content": "    if (result < 0)",
          "new_line_content": "        hb_error(\"Platform specific initialization failed!\");",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "hb_limit_rational64",
          "old_text": null,
          "new_text": "hb_limit_rational64(&dst_par_num, &dst_par_den,\n                        dst_par_num, dst_par_den, 65535)",
          "old_line_content": "    /* While x264 is smart enough to reduce fractions on its own, libavcodec",
          "new_line_content": "    hb_limit_rational64(&dst_par_num, &dst_par_den,",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": null,
          "new_api": "hb_picture_crop",
          "old_text": null,
          "new_text": "hb_picture_crop(crop_data, crop_stride, in_buf,\n                        geo->crop[0], geo->crop[2] )",
          "old_line_content": "    {",
          "new_line_content": "        hb_picture_crop(crop_data, crop_stride, in_buf,",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": null,
          "new_api": "hb_qsv_info_init",
          "old_text": null,
          "new_text": "hb_qsv_info_init()",
          "old_line_content": "",
          "new_line_content": "    result = hb_qsv_info_init();",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": null,
          "new_api": "hb_error",
          "old_text": null,
          "new_text": "hb_error(\"hb_qsv_info_init failed!\")",
          "old_line_content": "    if (result < 0)",
          "new_line_content": "        hb_error(\"hb_qsv_info_init failed!\");",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "hb_ff_get_colorspace",
          "old_text": null,
          "new_text": "hb_ff_get_colorspace(title->color_matrix)",
          "old_line_content": "    }",
          "new_line_content": "    int colorspace = hb_ff_get_colorspace(title->color_matrix);",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "hb_reduce",
          "old_text": null,
          "new_text": "hb_reduce(&out_par.num, &out_par.den, dst_par_num, dst_par_den)",
          "old_line_content": "    // If the user is directling updating PAR, don't override his values.",
          "new_line_content": "    hb_reduce(&out_par.num, &out_par.den, dst_par_num, dst_par_den);",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "hb_param_configure_qsv",
          "old_text": null,
          "new_text": "hb_param_configure_qsv()",
          "old_line_content": "        return -1;",
          "new_line_content": "    hb_param_configure_qsv();",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "hb_sws_get_context",
          "old_text": null,
          "new_text": "hb_sws_get_context(\n                title->geometry.width  - (geo->crop[2] + geo->crop[3]),\n                title->geometry.height - (geo->crop[0] + geo->crop[1]),\n                AV_PIX_FMT_YUV420P, width, height, AV_PIX_FMT_RGB32, swsflags, colorspace)",
          "old_line_content": "",
          "new_line_content": "    context = hb_sws_get_context(",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "hb_avcodec_init",
          "old_text": null,
          "new_text": "hb_avcodec_init()",
          "old_line_content": "",
          "new_line_content": "    hb_avcodec_init();",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log(\"hb_ff_mixdown_xlat: unsupported mixdown %d\", hb_mixdown)",
          "old_line_content": "        default:",
          "new_line_content": "            hb_log(\"hb_ff_mixdown_xlat: unsupported mixdown %d\", hb_mixdown);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "hb_reduce",
          "old_text": null,
          "new_text": "hb_reduce(&result->par.num, &result->par.den, dst_par_num, dst_par_den)",
          "old_line_content": "    else",
          "new_line_content": "        hb_reduce(&result->par.num, &result->par.den, dst_par_num, dst_par_den);",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": null,
          "new_api": "hb_register",
          "old_text": null,
          "new_text": "hb_register(&hb_muxer)",
          "old_line_content": "",
          "new_line_content": "    hb_register(&hb_muxer);",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": null,
          "new_api": "hb_register",
          "old_text": null,
          "new_text": "hb_register(&hb_reader)",
          "old_line_content": "    /* HB work objects */",
          "new_line_content": "    hb_register(&hb_reader);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "sws_scale",
          "old_text": null,
          "new_text": "sws_scale(context,\n              (const uint8_t * const *)crop_data, crop_stride,\n              0, title->geometry.height - (geo->crop[0] + geo->crop[1]),\n              preview_data, preview_stride)",
          "old_line_content": "",
          "new_line_content": "    sws_scale(context,",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "sws_freeContext",
          "old_text": null,
          "new_text": "sws_freeContext( context )",
          "old_line_content": "",
          "new_line_content": "    sws_freeContext( context );",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "hb_dict_get_int",
          "old_text": null,
          "new_text": "hb_dict_get_int(filter_dict, \"ID\")",
          "old_line_content": "void hb_add_filter2( hb_value_array_t * list, hb_dict_t * filter_dict )",
          "new_line_content": "    int new_id = hb_dict_get_int(filter_dict, \"ID\");",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "hb_buffer_close",
          "old_text": null,
          "new_text": "hb_buffer_close( &in_buf )",
          "old_line_content": "",
          "new_line_content": "    hb_buffer_close( &in_buf );",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "hb_buffer_close",
          "old_text": null,
          "new_text": "hb_buffer_close( &deint_buf )",
          "old_line_content": "    // Clean up",
          "new_line_content": "    hb_buffer_close( &deint_buf );",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": null,
          "new_api": "hb_error",
          "old_text": null,
          "new_text": "hb_error(\"hb_add_filter2: Invalid filter ID %d\", new_id)",
          "old_line_content": "    if (filter == NULL)",
          "new_line_content": "        hb_error(\"hb_add_filter2: Invalid filter ID %d\", new_id);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "av_sample_fmt_is_planar",
          "old_text": null,
          "new_text": "av_sample_fmt_is_planar(request_sample_fmt)",
          "old_line_content": "        enum AVSampleFormat next_best_fmt;",
          "new_line_content": "        next_best_fmt = (av_sample_fmt_is_planar(request_sample_fmt)  ?",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "av_get_packed_sample_fmt",
          "old_text": null,
          "new_text": "av_get_packed_sample_fmt(request_sample_fmt)",
          "old_line_content": "",
          "new_line_content": "                         av_get_packed_sample_fmt(request_sample_fmt) :",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "hb_value_free",
          "old_text": null,
          "new_text": "hb_value_free(&filter_dict)",
          "old_line_content": "    {",
          "new_line_content": "        hb_value_free(&filter_dict);",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": null,
          "new_api": "hb_register",
          "old_text": null,
          "new_text": "hb_register(&hb_encca_haac)",
          "old_line_content": "#ifdef __APPLE__",
          "new_line_content": "    hb_register(&hb_encca_haac);",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": null,
          "new_api": "hb_register",
          "old_text": null,
          "new_text": "hb_register(&hb_encvorbis)",
          "old_line_content": "#endif",
          "new_line_content": "    hb_register(&hb_encvorbis);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "hb_buffer_close",
          "old_text": null,
          "new_text": "hb_buffer_close( &in_buf )",
          "old_line_content": "fail:",
          "new_line_content": "    hb_buffer_close( &in_buf );",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "hb_buffer_close",
          "old_text": null,
          "new_text": "hb_buffer_close( &deint_buf )",
          "old_line_content": "",
          "new_line_content": "    hb_buffer_close( &deint_buf );",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "hb_value_array_len",
          "old_text": null,
          "new_text": "hb_value_array_len(list)",
          "old_line_content": "        int ii, len;",
          "new_line_content": "        len = hb_value_array_len(list);",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "hb_value_array_get",
          "old_text": null,
          "new_text": "hb_value_array_get(list, ii)",
          "old_line_content": "        for( ii = 0; ii < len; ii++ )",
          "new_line_content": "            hb_value_t * f = hb_value_array_get(list, ii);",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": null,
          "new_api": "hb_dict_get_int",
          "old_text": null,
          "new_text": "hb_dict_get_int(f, \"ID\")",
          "old_line_content": "        {",
          "new_line_content": "            int id = hb_dict_get_int(f, \"ID\");",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "hb_register",
          "old_text": null,
          "new_text": "hb_register(&hb_encqsv)",
          "old_line_content": "#endif",
          "new_line_content": "    hb_register(&hb_encqsv);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "hb_x264_global_init",
          "old_text": null,
          "new_text": "hb_x264_global_init()",
          "old_line_content": "#endif",
          "new_line_content": "    hb_x264_global_init();",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "hb_value_array_insert",
          "old_text": null,
          "new_text": "hb_value_array_insert(list, ii, filter_dict)",
          "old_line_content": "            if (id > new_id)",
          "new_line_content": "                hb_value_array_insert(list, ii, filter_dict);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "hb_common_global_init",
          "old_text": null,
          "new_text": "hb_common_global_init()",
          "old_line_content": "",
          "new_line_content": "    hb_common_global_init();",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": null,
          "new_api": "hb_buffer_pool_init",
          "old_text": null,
          "new_text": "hb_buffer_pool_init()",
          "old_line_content": "     * Initialise buffer pool",
          "new_line_content": "    hb_buffer_pool_init();",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "hb_value_free",
          "old_text": null,
          "new_text": "hb_value_free(&filter_dict)",
          "old_line_content": "            {",
          "new_line_content": "                hb_value_free(&filter_dict);",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "hb_presets_builtin_init",
          "old_text": null,
          "new_text": "hb_presets_builtin_init()",
          "old_line_content": "",
          "new_line_content": "    hb_presets_builtin_init();",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "hb_value_array_append",
          "old_text": null,
          "new_text": "hb_value_array_append(list, filter_dict)",
          "old_line_content": "    }",
          "new_line_content": "    hb_value_array_append(list, filter_dict);",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "hb_presets_free",
          "old_text": null,
          "new_text": "hb_presets_free()",
          "old_line_content": "    struct dirent * entry;",
          "new_line_content": "    hb_presets_free();",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": null,
          "new_api": "hb_ocl_close",
          "old_text": null,
          "new_text": "hb_ocl_close()",
          "old_line_content": "",
          "new_line_content": "    hb_ocl_close();",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( dirname, 0, 1024 )",
          "old_line_content": "",
          "new_line_content": "    memset( dirname, 0, 1024 );",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "hb_dict_init",
          "old_text": null,
          "new_text": "hb_dict_init()",
          "old_line_content": "    if (settings_in == NULL)",
          "new_line_content": "        settings = hb_dict_init();",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "hb_get_temporary_directory",
          "old_text": null,
          "new_text": "hb_get_temporary_directory( dirname )",
          "old_line_content": "    /* Find and remove temp folder */",
          "new_line_content": "    hb_get_temporary_directory( dirname );",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "hb_value_dup",
          "old_text": null,
          "new_text": "hb_value_dup(settings_in)",
          "old_line_content": "    else",
          "new_line_content": "        settings = hb_value_dup(settings_in);",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "readdir",
          "old_text": null,
          "new_text": "readdir( dir )",
          "old_line_content": "    if (dir)",
          "new_line_content": "        while( ( entry = readdir( dir ) ) )",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count( job->list_filter )",
          "old_line_content": "        // Find the position in the filter chain this filter belongs in",
          "new_line_content": "        for( i = 0; i < hb_list_count( job->list_filter ); i++ )",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( filename, 0, 1024 )",
          "old_line_content": "                continue;",
          "new_line_content": "            memset( filename, 0, 1024 );",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "hb_thread_init",
          "old_text": null,
          "new_text": "hb_thread_init(\"ioredirect\", redirect_thread_func, NULL, HB_NORMAL_PRIORITY)",
          "old_line_content": "{",
          "new_line_content": "    hb_thread_init(\"ioredirect\", redirect_thread_func, NULL, HB_NORMAL_PRIORITY);",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf( filename, 1023, \"%s/%s\", dirname, entry->d_name )",
          "old_line_content": "            }",
          "new_line_content": "            snprintf( filename, 1023, \"%s/%s\", dirname, entry->d_name );",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": null,
          "new_api": "hb_list_insert",
          "old_text": null,
          "new_text": "hb_list_insert( job->list_filter, i, filter )",
          "old_line_content": "            if( f->id > filter->id )",
          "new_line_content": "                hb_list_insert( job->list_filter, i, filter );",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "rmdir",
          "old_text": null,
          "new_text": "rmdir( dirname )",
          "old_line_content": "        }",
          "new_line_content": "        rmdir( dirname );",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "hb_filter_close",
          "old_text": null,
          "new_text": "hb_filter_close( &filter )",
          "old_line_content": "            {",
          "new_line_content": "                hb_filter_close( &filter );",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs( s1 - s3 )",
          "old_line_content": "                /* Note if the 1st and 2nd lines are more different in",
          "new_line_content": "                if ( ( abs( s1 - s3 ) < color_equal ) &&",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs( s1 - s2 )",
          "old_line_content": "                   color than the 1st and 3rd lines are similar in color.*/",
          "new_line_content": "                     ( abs( s1 - s2 ) > color_diff ) )",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "hb_list_add",
          "old_text": null,
          "new_text": "hb_list_add( job->list_filter, filter )",
          "old_line_content": "    }",
          "new_line_content": "    hb_list_add( job->list_filter, filter );",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc( sizeof( hb_handle_t ), 1 )",
          "old_line_content": "hb_handle_t * hb_init( int verbose )",
          "new_line_content": "    hb_handle_t * h = calloc( sizeof( hb_handle_t ), 1 );",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs( s2 - s4 )",
          "old_line_content": "                /* Note if the 2nd and 3rd lines are more different in",
          "new_line_content": "                if ( ( abs( s2 - s4 ) < color_equal ) &&",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "hb_log_level_set",
          "old_text": null,
          "new_text": "hb_log_level_set(h, verbose)",
          "old_line_content": "",
          "new_line_content": "    hb_log_level_set(h, verbose);",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs( s2 - s3 )",
          "old_line_content": "                   color than the 2nd and 4th lines are similar in color.*/",
          "new_line_content": "                     ( abs( s2 - s3 ) > color_diff) )",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": null,
          "new_api": "getpid",
          "old_text": null,
          "new_text": "getpid()",
          "old_line_content": "    char dirname[1024];",
          "new_line_content": "    h->pid = getpid();",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( dirname, 0, 1024 )",
          "old_line_content": "",
          "new_line_content": "    memset( dirname, 0, 1024 );",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": null,
          "new_api": "hb_get_temporary_directory",
          "old_text": null,
          "new_text": "hb_get_temporary_directory( dirname )",
          "old_line_content": "    /* Create folder for temporary files */",
          "new_line_content": "    hb_get_temporary_directory( dirname );",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "hb_system_sleep_opaque_init",
          "old_text": null,
          "new_text": "hb_system_sleep_opaque_init()",
          "old_line_content": "",
          "new_line_content": "    h->system_sleep_opaque = hb_system_sleep_opaque_init();",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "hb_list_init",
          "old_text": null,
          "new_text": "hb_list_init()",
          "old_line_content": "",
          "new_line_content": "    h->jobs       = hb_list_init();",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "hb_parse_filter_settings",
          "old_text": null,
          "new_text": "hb_parse_filter_settings(settings_in)",
          "old_line_content": "                    const char * settings_in )",
          "new_line_content": "    hb_dict_t * settings = hb_parse_filter_settings(settings_in);",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log(\"hb_add_filter: failed to parse filter settings!\")",
          "old_line_content": "    if (settings_in != NULL && settings == NULL)",
          "new_line_content": "        hb_log(\"hb_add_filter: failed to parse filter settings!\");",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "hb_thread_has_exited",
          "old_text": null,
          "new_text": "hb_thread_has_exited( h->scan_thread )",
          "old_line_content": "        /* Check if the scan thread is done */",
          "new_line_content": "            hb_thread_has_exited( h->scan_thread ) )",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "hb_lock_init",
          "old_text": null,
          "new_text": "hb_lock_init()",
          "old_line_content": "    h->state.state = HB_STATE_IDLE;",
          "new_line_content": "    h->pause_lock = hb_lock_init();",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": null,
          "new_api": "hb_add_filter_dict",
          "old_text": null,
          "new_text": "hb_add_filter_dict(job, filter, settings)",
          "old_line_content": "        return;",
          "new_line_content": "    hb_add_filter_dict(job, filter, settings);",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "hb_value_free",
          "old_text": null,
          "new_text": "hb_value_free(&settings)",
          "old_line_content": "    }",
          "new_line_content": "    hb_value_free(&settings);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log( \"hb_init: starting libhb thread\" )",
          "old_line_content": "",
          "new_line_content": "    hb_log( \"hb_init: starting libhb thread\" );",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": null,
          "new_api": "hb_remove_previews",
          "old_text": null,
          "new_text": "hb_remove_previews( h )",
          "old_line_content": "                hb_title_t * title;",
          "new_line_content": "                hb_remove_previews( h );",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "hb_list_item",
          "old_text": null,
          "new_text": "hb_list_item( h->title_set.list_title, 0 )",
          "old_line_content": "",
          "new_line_content": "                while( ( title = hb_list_item( h->title_set.list_title, 0 ) ) )",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log(\"Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" )",
          "old_line_content": "    {",
          "new_line_content": "            hb_log(\"Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" );",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": null,
          "new_api": "hb_title_close",
          "old_text": null,
          "new_text": "hb_title_close( &title )",
          "old_line_content": "                {",
          "new_line_content": "                    hb_title_close( &title );",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count( h->jobs )",
          "old_line_content": "int hb_count( hb_handle_t * h )",
          "new_line_content": "    return hb_list_count( h->jobs );",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log( \"hb_scan: canceled\" )",
          "old_line_content": "                }",
          "new_line_content": "                hb_log( \"hb_scan: canceled\" );",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log(\"SKIPPED Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" )",
          "old_line_content": "",
          "new_line_content": "    hb_log(\"SKIPPED Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" );",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "hb_log",
          "old_text": null,
          "new_text": "hb_log( \"libhb: scan thread found %d valid title(s)\",\n                        hb_list_count( h->title_set.list_title ) )",
          "old_line_content": "            else",
          "new_line_content": "                hb_log( \"libhb: scan thread found %d valid title(s)\",",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count( h->title_set.list_title )",
          "old_line_content": "            {",
          "new_line_content": "                        hb_list_count( h->title_set.list_title ) );",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "hb_list_item",
          "old_text": null,
          "new_text": "hb_list_item( h->jobs, i )",
          "old_line_content": "hb_job_t * hb_job( hb_handle_t * h, int i )",
          "new_line_content": "    return hb_list_item( h->jobs, i );",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "hb_thread_has_exited",
          "old_text": null,
          "new_text": "hb_thread_has_exited( h->work_thread )",
          "old_line_content": "        /* Check if the work thread is done */",
          "new_line_content": "            hb_thread_has_exited( h->work_thread ) )",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "hb_strdup_printf",
          "old_text": null,
          "new_text": "hb_strdup_printf(\"%s\\n\"\n                                \"\\tWebsite:     %s\\n\"\n                                \"\\tForum:       %s\\n\"\n                                \"\\tIRC:         %s\\n\"\n                                \"\\tBuild Type:  %s\\n\"\n                                \"\\tRepository:  %s\\n\"\n                                \"\\tRelease Tag: %s\\n\"\n                                \"\\tRevision:    %d\\n\"\n                                \"\\tCommit Hash: %s\\n\"\n                                \"\\tBranch:      %s\\n\"\n                                \"\\tRemote:      %s\",\n                                hb_title, hb_website, hb_community, hb_irc,\n                                hb_repo_type, hb_repo_url, hb_repo_tag, hb_repo_rev,\n                                hb_repo_hash, hb_repo_branch, hb_repo_remote)",
          "old_line_content": "    if (desc == NULL)",
          "new_line_content": "        desc = hb_strdup_printf(\"%s\\n\"",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "hb_unlock",
          "old_text": null,
          "new_text": "hb_unlock( h->state_lock )",
          "old_line_content": "            h->state.param.workdone.error = h->work_error;",
          "new_line_content": "            hb_unlock( h->state_lock );",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "EVEN",
          "old_text": null,
          "new_text": "EVEN(geo->modulus)",
          "old_line_content": "    int cropped_height = src_geo->height - geo->crop[0] - geo->crop[1];",
          "new_line_content": "    int mod = geo->modulus ? EVEN(geo->modulus) : 2;",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": null,
          "new_api": "hb_snooze",
          "old_text": null,
          "new_text": "hb_snooze( 50 )",
          "old_line_content": "        }",
          "new_line_content": "        hb_snooze( 50 );",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc( sizeof( hb_job_t ), 1 )",
          "old_line_content": "",
          "new_line_content": "    job_copy                  = calloc( sizeof( hb_job_t ), 1 );",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(job_copy, job, sizeof(hb_job_t))",
          "old_line_content": "    /* Copy the job */",
          "new_line_content": "    memcpy(job_copy, job, sizeof(hb_job_t));",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "hb_scan_stop",
          "old_text": null,
          "new_text": "hb_scan_stop( h )",
          "old_line_content": "    if( h->scan_thread )",
          "new_line_content": "        hb_scan_stop( h );",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "hb_thread_close",
          "old_text": null,
          "new_text": "hb_thread_close( &h->scan_thread )",
          "old_line_content": "    {",
          "new_line_content": "        hb_thread_close( &h->scan_thread );",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "hb_stop",
          "old_text": null,
          "new_text": "hb_stop( h )",
          "old_line_content": "    if( h->work_thread )",
          "new_line_content": "        hb_stop( h );",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": null,
          "new_api": "hb_thread_close",
          "old_text": null,
          "new_text": "hb_thread_close( &h->work_thread )",
          "old_line_content": "    {",
          "new_line_content": "        hb_thread_close( &h->work_thread );",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "hb_reduce",
          "old_text": null,
          "new_text": "hb_reduce(&in_par.num, &in_par.den,\n              geo->geometry.par.num, geo->geometry.par.den)",
          "old_line_content": "",
          "new_line_content": "    hb_reduce(&in_par.num, &in_par.den,",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( audio_lang, 0, sizeof( audio_lang ) )",
          "old_line_content": "     * manually selected by the user, or added after the Foreign Audio",
          "new_line_content": "    memset( audio_lang, 0, sizeof( audio_lang ) );",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": null,
          "new_api": "pipe",
          "old_text": null,
          "new_text": "pipe(pfd)",
          "old_line_content": "{",
          "new_line_content": "    if (pipe(pfd))",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "hb_list_count",
          "old_text": null,
          "new_text": "hb_list_count( job->list_audio )",
          "old_line_content": "        /* Find the first audio language that is being encoded, then add all the",
          "new_line_content": "        for( i = 0; i < hb_list_count( job->list_audio ); i++ )",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1537,
          "old_api": "strncpy",
          "new_api": null,
          "old_text": "strncpy( audio_lang, audio->config.lang.iso639_2, sizeof( audio_lang ) )",
          "new_text": null,
          "old_line_content": "                strncpy( audio_lang, audio->config.lang.iso639_2, sizeof( audio_lang ) );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": "hb_log_callback",
          "new_api": null,
          "old_text": "hb_log_callback(line_buffer)",
          "new_text": null,
          "old_line_content": "        hb_log_callback(line_buffer);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp( subtitle->iso639_2, audio_lang )",
          "new_text": null,
          "old_line_content": "            if( strcmp( subtitle->iso639_2, audio_lang ) == 0 &&",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "hb_subtitle_can_force",
          "new_api": null,
          "old_text": "hb_subtitle_can_force( subtitle->source )",
          "new_text": null,
          "old_line_content": "                hb_subtitle_can_force( subtitle->source ) )",
          "new_line_content": "                /* Matched subtitle language with audio language, so add this to",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "hb_list_add",
          "new_api": null,
          "old_text": "hb_list_add( job_copy->list_subtitle,\n                             hb_subtitle_copy( subtitle ) )",
          "new_text": null,
          "old_line_content": "                hb_list_add( job_copy->list_subtitle,",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "hb_get_temporary_directory",
          "new_api": null,
          "old_text": "hb_get_temporary_directory( dirname )",
          "new_text": null,
          "old_line_content": "    hb_get_temporary_directory( dirname );",
          "new_line_content": "    if (dir == NULL) return;",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": "opendir",
          "new_api": null,
          "old_text": "opendir( dirname )",
          "new_text": null,
          "old_line_content": "    dir = opendir( dirname );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "hb_subtitle_copy",
          "new_api": null,
          "old_text": "hb_subtitle_copy( subtitle )",
          "new_text": null,
          "old_line_content": "                             hb_subtitle_copy( subtitle ) );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "hb_list_count",
          "new_api": null,
          "old_text": "hb_list_count(job_copy->list_subtitle)",
          "new_text": null,
          "old_line_content": "        int count = hb_list_count(job_copy->list_subtitle);",
          "new_line_content": "            (count == 1 && !job_copy->select_subtitle_config.force))",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "hb_list_count",
          "new_api": null,
          "old_text": "hb_list_count( h->title_set.list_title )",
          "new_text": null,
          "old_line_content": "    count = hb_list_count( h->title_set.list_title );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "readdir",
          "new_api": null,
          "old_text": "readdir( dir )",
          "new_text": null,
          "old_line_content": "    while( ( entry = readdir( dir ) ) )",
          "new_line_content": "        if( entry->d_name[0] == '.' )",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log(\"Skipping subtitle scan.  No suitable subtitle tracks.\")",
          "new_text": null,
          "old_line_content": "            hb_log(\"Skipping subtitle scan.  No suitable subtitle tracks.\");",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "hb_job_close",
          "new_api": null,
          "old_text": "hb_job_close(&job_copy)",
          "new_text": null,
          "old_line_content": "            hb_job_close(&job_copy);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "hb_lock",
          "new_api": null,
          "old_text": "hb_lock( h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_lock( h->state_lock );",
          "new_line_content": "    if( h->state.state == HB_STATE_WORKING ||",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy( &h->state, s, sizeof( hb_state_t ) )",
          "new_text": null,
          "old_line_content": "    memcpy( &h->state, s, sizeof( hb_state_t ) );",
          "new_line_content": "        h->state.state == HB_STATE_SEARCHING )",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf( filename, 1024, \"%d_%d\", h->id, title->index )",
          "new_text": null,
          "old_line_content": "            len = snprintf( filename, 1024, \"%d_%d\", h->id, title->index );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "hb_subtitle_list_copy",
          "new_api": null,
          "old_text": "hb_subtitle_list_copy( job->list_subtitle )",
          "new_text": null,
          "old_line_content": "        job_copy->list_subtitle = hb_subtitle_list_copy( job->list_subtitle );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf( filename, 1024, \"%s/%s\", dirname, entry->d_name )",
          "new_text": null,
          "old_line_content": "                snprintf( filename, 1024, \"%s/%s\", dirname, entry->d_name );",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "unlink",
          "new_api": null,
          "old_text": "unlink( filename )",
          "new_text": null,
          "old_line_content": "                unlink( filename );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "MULTIPLE_MOD_DOWN",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_DOWN(geo->maxWidth, mod)",
          "new_text": null,
          "old_line_content": "        maxWidth  = MIN(MAX(MULTIPLE_MOD_DOWN(geo->maxWidth, mod),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "hb_attachment_list_copy",
          "new_api": null,
          "old_text": "hb_attachment_list_copy( job->list_attachment )",
          "new_text": null,
          "old_line_content": "    job_copy->list_attachment = hb_attachment_list_copy( job->list_attachment );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "hb_metadata_copy",
          "new_api": null,
          "old_text": "hb_metadata_copy( job->metadata )",
          "new_text": null,
          "old_line_content": "    job_copy->metadata = hb_metadata_copy( job->metadata );",
          "new_line_content": "    if (job->encoder_preset != NULL)",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_unlock( h->state_lock );",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->pause_lock )",
          "new_text": null,
          "old_line_content": "    hb_unlock( h->pause_lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "closedir",
          "new_api": null,
          "old_text": "closedir( dir )",
          "new_text": null,
          "old_line_content": "    closedir( dir );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "MULTIPLE_MOD_DOWN",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_DOWN(geo->maxHeight, mod)",
          "new_text": null,
          "old_line_content": "        maxHeight = MIN(MAX(MULTIPLE_MOD_DOWN(geo->maxHeight, mod),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "hb_system_sleep_private_enable",
          "new_api": null,
          "old_text": "hb_system_sleep_private_enable(h->system_sleep_opaque)",
          "new_text": null,
          "old_line_content": "    hb_system_sleep_private_enable(h->system_sleep_opaque);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(job->file)",
          "new_text": null,
          "old_line_content": "        job_copy->file = strdup(job->file);",
          "new_line_content": "    job_copy->h     = h;",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "hb_system_sleep_private_disable",
          "new_api": null,
          "old_text": "hb_system_sleep_private_disable(h->system_sleep_opaque)",
          "new_text": null,
          "old_line_content": "    hb_system_sleep_private_disable(h->system_sleep_opaque);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "hb_filter_list_copy",
          "new_api": null,
          "old_text": "hb_filter_list_copy( job->list_filter )",
          "new_text": null,
          "old_line_content": "    job_copy->list_filter = hb_filter_list_copy( job->list_filter );",
          "new_line_content": "    /* Add the job to the list */",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(h->title_set.path, path)",
          "new_text": null,
          "old_line_content": "    if (!strcmp(h->title_set.path, path))",
          "new_line_content": "        // Current title_set path matches requested path.",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "hb_list_add",
          "new_api": null,
          "old_text": "hb_list_add( list_pass, job_copy )",
          "new_text": null,
          "old_line_content": "    hb_list_add( list_pass, job_copy );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "hb_list_item",
          "new_api": null,
          "old_text": "hb_list_item(h->title_set.list_title, ii)",
          "new_text": null,
          "old_line_content": "            title = hb_list_item(h->title_set.list_title, ii);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc( sizeof( hb_job_t ), 1 )",
          "new_text": null,
          "old_line_content": "    job_copy        = calloc( sizeof( hb_job_t ), 1 );",
          "new_line_content": "        return NULL;",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "new_text": null,
          "old_line_content": "                    width = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(width / dar, mod)",
          "new_text": null,
          "old_line_content": "                    height = MULTIPLE_MOD(width / dar, mod);",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(job->json)",
          "new_text": null,
          "old_line_content": "        job_copy->json = strdup(job->json);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "new_text": null,
          "old_line_content": "                    height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(height * dar, mod)",
          "new_text": null,
          "old_line_content": "                    width = MULTIPLE_MOD(height * dar, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "                    hb_unlock( h->state_lock );",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "new_text": null,
          "old_line_content": "                width = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "new_text": null,
          "old_line_content": "                height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "hb_attachment_list_copy",
          "new_api": null,
          "old_text": "hb_attachment_list_copy( job->list_attachment )",
          "new_text": null,
          "old_line_content": "    job_copy->list_attachment = hb_attachment_list_copy( job->list_attachment );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "hb_metadata_copy",
          "new_api": null,
          "old_text": "hb_metadata_copy( job->metadata )",
          "new_text": null,
          "old_line_content": "    job_copy->metadata = hb_metadata_copy( job->metadata );",
          "new_line_content": "    if (job->encoder_preset != NULL)",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(width / dar, mod)",
          "new_text": null,
          "old_line_content": "                    height = MULTIPLE_MOD(width / dar, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "hb_remove_previews",
          "new_api": null,
          "old_text": "hb_remove_previews( h )",
          "new_text": null,
          "old_line_content": "    hb_remove_previews( h );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "hb_list_rem",
          "new_api": null,
          "old_text": "hb_list_rem( h->title_set.list_title, title )",
          "new_text": null,
          "old_line_content": "        hb_list_rem( h->title_set.list_title, title );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "hb_title_close",
          "new_api": null,
          "old_text": "hb_title_close( &title )",
          "new_text": null,
          "old_line_content": "        hb_title_close( &title );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "hb_filter_list_copy",
          "new_api": null,
          "old_text": "hb_filter_list_copy( job->list_filter )",
          "new_text": null,
          "old_line_content": "    job_copy->list_filter = hb_filter_list_copy( job->list_filter );",
          "new_line_content": "    return job_copy;",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(height * dar, mod)",
          "new_text": null,
          "old_line_content": "                    width = MULTIPLE_MOD(height * dar, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "hb_get_cpu_platform_name",
          "new_api": null,
          "old_text": "hb_get_cpu_platform_name()",
          "new_text": null,
          "old_line_content": "    const char *cpu_type = hb_get_cpu_platform_name();",
          "new_line_content": "    if (cpu_type != NULL)",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log(\"CPU: %s\", cpu_name != NULL ? cpu_name : \"\")",
          "new_text": null,
          "old_line_content": "    hb_log(\"CPU: %s\", cpu_name != NULL ? cpu_name : \"\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "hb_job_copy",
          "new_api": null,
          "old_text": "hb_job_copy(job)",
          "new_text": null,
          "old_line_content": "    hb_job_t *job_copy = hb_job_copy(job);",
          "new_line_content": "    job_copy->sequence_id = ++h->sequence_id;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(width / dar, mod)",
          "new_text": null,
          "old_line_content": "                    height = MULTIPLE_MOD(width / dar, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "hb_get_cpu_count",
          "new_api": null,
          "old_text": "hb_get_cpu_count()",
          "new_text": null,
          "old_line_content": "    hb_log(\" - logical processor count: %d\", hb_get_cpu_count());",
          "new_line_content": "    /* Print OpenCL info here so that it's in all scan and encode logs */",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "hb_list_add",
          "new_api": null,
          "old_text": "hb_list_add(h->jobs, job_copy)",
          "new_text": null,
          "old_line_content": "    hb_list_add(h->jobs, job_copy);",
          "new_line_content": "    return job_copy->sequence_id;",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "hb_opencl_info_print",
          "new_api": null,
          "old_text": "hb_opencl_info_print()",
          "new_text": null,
          "old_line_content": "    hb_opencl_info_print();",
          "new_line_content": "#ifdef USE_QSV",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "hb_qsv_info_print",
          "new_api": null,
          "old_text": "hb_qsv_info_print()",
          "new_text": null,
          "old_line_content": "    hb_qsv_info_print();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(height * dar, mod)",
          "new_text": null,
          "old_line_content": "                    width = MULTIPLE_MOD(height * dar, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log( \"hb_scan: path=%s, title_index=%d\", path, title_index )",
          "new_text": null,
          "old_line_content": "    hb_log( \"hb_scan: path=%s, title_index=%d\", path, title_index );",
          "new_line_content": "                                   &h->title_set, preview_count,",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "hb_scan_init",
          "new_api": null,
          "old_text": "hb_scan_init( h, &h->scan_die, path, title_index,\n                                   &h->title_set, preview_count,\n                                   store_previews, min_duration )",
          "new_text": null,
          "old_line_content": "    h->scan_thread = hb_scan_init( h, &h->scan_die, path, title_index,",
          "new_line_content": "                                   store_previews, min_duration );",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "hb_add_internal",
          "new_api": null,
          "old_text": "hb_add_internal(h, job, list_pass)",
          "new_text": null,
          "old_line_content": "        hb_add_internal(h, job, list_pass);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(cropped_width, 2)",
          "new_text": null,
          "old_line_content": "            width  = MULTIPLE_MOD_UP(cropped_width, 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(cropped_height, 2)",
          "new_text": null,
          "old_line_content": "            height = MULTIPLE_MOD_UP(cropped_height, 2);",
          "new_line_content": "            /* Adjust the output PAR for new width/height",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "hb_add_internal",
          "new_api": null,
          "old_text": "hb_add_internal(h, job, list_pass)",
          "new_text": null,
          "old_line_content": "        hb_add_internal(h, job, list_pass);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "hb_add_internal",
          "new_api": null,
          "old_text": "hb_add_internal(h, job, list_pass)",
          "new_text": null,
          "old_line_content": "        hb_add_internal(h, job, list_pass);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "hb_get_tempory_filename",
          "new_api": null,
          "old_text": "hb_get_tempory_filename( h, filename, \"%d_%d_%d\",\n                             hb_get_instance_id(h), title, preview )",
          "new_text": null,
          "old_line_content": "    hb_get_tempory_filename( h, filename, \"%d_%d_%d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "hb_list_rem",
          "new_api": null,
          "old_text": "hb_list_rem( h->jobs, job )",
          "new_text": null,
          "old_line_content": "    hb_list_rem( h->jobs, job );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "hb_fopen",
          "new_api": null,
          "old_text": "hb_fopen(filename, \"wb\")",
          "new_text": null,
          "old_line_content": "    file = hb_fopen(filename, \"wb\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "strerror_r",
          "new_api": null,
          "old_text": "strerror_r(errno, reason, 79)",
          "new_text": null,
          "old_line_content": "        if (strerror_r(errno, reason, 79) != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error( \"hb_save_preview: Failed to open %s (reason: %s)\", filename, reason )",
          "new_text": null,
          "old_line_content": "        hb_error( \"hb_save_preview: Failed to open %s (reason: %s)\", filename, reason );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "new_text": null,
          "old_line_content": "                width = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(width / storage_aspect + 0.5, mod)",
          "new_text": null,
          "old_line_content": "                height = MULTIPLE_MOD_UP(width / storage_aspect + 0.5, mod);",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "hb_lock",
          "new_api": null,
          "old_text": "hb_lock( h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_lock( h->state_lock );",
          "new_line_content": "#define p h->state.param.working",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "new_text": null,
          "old_line_content": "                height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(height * storage_aspect + 0.5, mod)",
          "new_text": null,
          "old_line_content": "                width = MULTIPLE_MOD_UP(height * storage_aspect + 0.5, mod);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(width / storage_aspect + 0.5, mod)",
          "new_text": null,
          "old_line_content": "                height = MULTIPLE_MOD(width / storage_aspect + 0.5, mod);",
          "new_line_content": "            if (height < HB_MIN_HEIGHT)",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_unlock( h->state_lock );",
          "new_line_content": "    h->paused = 0;",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "strerror_r",
          "new_api": null,
          "old_text": "strerror_r(errno, reason, 79)",
          "new_text": null,
          "old_line_content": "                    if (strerror_r(errno, reason, 79) != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(height * storage_aspect + 0.5, mod)",
          "new_text": null,
          "old_line_content": "                width = MULTIPLE_MOD(height * storage_aspect + 0.5, mod);",
          "new_line_content": "            if (width > maxWidth)",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error( \"hb_save_preview: Failed to write line %d to %s (reason: %s). Preview will be incomplete.\",\n                              hh, filename, reason )",
          "new_text": null,
          "old_line_content": "                    hb_error( \"hb_save_preview: Failed to write line %d to %s (reason: %s). Preview will be incomplete.\",",
          "new_line_content": "                    goto done;",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "hb_work_init",
          "new_api": null,
          "old_text": "hb_work_init( h->jobs, &h->work_die, &h->work_error, &h->current_job )",
          "new_text": null,
          "old_line_content": "    h->work_thread = hb_work_init( h->jobs, &h->work_die, &h->work_error, &h->current_job );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(width / storage_aspect + 0.5, mod)",
          "new_text": null,
          "old_line_content": "                height = MULTIPLE_MOD(width / storage_aspect + 0.5, mod);",
          "new_line_content": "            if (height > maxHeight)",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "MULTIPLE_MOD",
          "new_api": null,
          "old_text": "MULTIPLE_MOD(height * storage_aspect + 0.5, mod)",
          "new_text": null,
          "old_line_content": "                width = MULTIPLE_MOD(height * storage_aspect + 0.5, mod);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose( file )",
          "new_text": null,
          "old_line_content": "    fclose( file );",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "hb_lock",
          "new_api": null,
          "old_text": "hb_lock( h->pause_lock )",
          "new_text": null,
          "old_line_content": "        hb_lock( h->pause_lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "        hb_unlock( h->state_lock );",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "hb_get_tempory_filename",
          "new_api": null,
          "old_text": "hb_get_tempory_filename(h, filename, \"%d_%d_%d\",\n                            hb_get_instance_id(h), title->index, preview)",
          "new_text": null,
          "old_line_content": "    hb_get_tempory_filename(h, filename, \"%d_%d_%d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "new_text": null,
          "old_line_content": "            width  = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "hb_fopen",
          "new_api": null,
          "old_text": "hb_fopen(filename, \"rb\")",
          "new_text": null,
          "old_line_content": "    file = hb_fopen(filename, \"rb\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "new_text": null,
          "old_line_content": "            height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "new_line_content": "            // Limit to min/max dimensions",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "strerror_r",
          "new_api": null,
          "old_text": "strerror_r(errno, reason, 79)",
          "new_text": null,
          "old_line_content": "        if (strerror_r(errno, reason, 79) != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error( \"hb_read_preview: Failed to open %s (reason: %s)\", filename, reason )",
          "new_text": null,
          "old_line_content": "        hb_error( \"hb_read_preview: Failed to open %s (reason: %s)\", filename, reason );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "hb_get_date",
          "new_api": null,
          "old_text": "hb_get_date()",
          "new_text": null,
          "old_line_content": "           job->st_paused += hb_get_date() - job->st_pause_date;",
          "new_line_content": "#undef job",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "hb_frame_buffer_init",
          "new_api": null,
          "old_text": "hb_frame_buffer_init(AV_PIX_FMT_YUV420P,\n                               title->geometry.width, title->geometry.height)",
          "new_text": null,
          "old_line_content": "    buf = hb_frame_buffer_init(AV_PIX_FMT_YUV420P,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->pause_lock )",
          "new_text": null,
          "old_line_content": "        hb_unlock( h->pause_lock );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "hb_resume",
          "new_api": null,
          "old_text": "hb_resume( h )",
          "new_text": null,
          "old_line_content": "    hb_resume( h );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "strerror_r",
          "new_api": null,
          "old_text": "strerror_r(errno, reason, 79)",
          "new_text": null,
          "old_line_content": "                    if (strerror_r(errno, reason, 79) != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error( \"hb_read_preview: Failed to read line %d from %s (reason: %s). Preview will be incomplete.\",\n                          hh, filename, reason )",
          "new_text": null,
          "old_line_content": "                    hb_error( \"hb_read_preview: Failed to read line %d from %s (reason: %s). Preview will be incomplete.\",",
          "new_line_content": "                    goto done;",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "hb_resume",
          "new_api": null,
          "old_text": "hb_resume( h )",
          "new_text": null,
          "old_line_content": "    hb_resume( h );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "    fclose(file);",
          "new_line_content": "    return buf;",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.width, mod)",
          "new_text": null,
          "old_line_content": "            width  = MULTIPLE_MOD_UP(geo->geometry.width, mod);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": "MULTIPLE_MOD_UP",
          "new_api": null,
          "old_text": "MULTIPLE_MOD_UP(geo->geometry.height, mod)",
          "new_text": null,
          "old_line_content": "            height = MULTIPLE_MOD_UP(geo->geometry.height, mod);",
          "new_line_content": "            // Limit to min/max dimensions",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy( s, &h->state, sizeof( hb_state_t ) )",
          "new_text": null,
          "old_line_content": "    memcpy( s, &h->state, sizeof( hb_state_t ) );",
          "new_line_content": "        h->state.state = HB_STATE_IDLE;",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": "av_opt_set_int",
          "new_api": null,
          "old_text": "av_opt_set_int(ctx, \"dst_format\", dstFormat, 0)",
          "new_text": null,
          "old_line_content": "        av_opt_set_int(ctx, \"dst_format\", dstFormat, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "sws_setColorspaceDetails",
          "new_api": null,
          "old_text": "sws_setColorspaceDetails( ctx,\n                      sws_getCoefficients( colorspace ), // src colorspace\n                      srcRange, // src range 0 = MPG, 1 = JPG\n                      sws_getCoefficients( colorspace ), // dst colorspace\n                      dstRange, // dst range 0 = MPG, 1 = JPG\n                      0,         // brightness\n                      1 << 16,   // contrast\n                      1 << 16 )",
          "new_text": null,
          "old_line_content": "        sws_setColorspaceDetails( ctx,",
          "new_line_content": "                      srcRange, // src range 0 = MPG, 1 = JPG",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_unlock( h->state_lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "sws_getCoefficients",
          "new_api": null,
          "old_text": "sws_getCoefficients( colorspace )",
          "new_text": null,
          "old_line_content": "                      sws_getCoefficients( colorspace ), // dst colorspace",
          "new_line_content": "                      0,         // brightness",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_unlock( h->state_lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error(\"Cannot initialize resampling context\")",
          "new_text": null,
          "old_line_content": "            hb_error(\"Cannot initialize resampling context\");",
          "new_line_content": "            ctx = NULL;",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "sws_freeContext",
          "new_api": null,
          "old_text": "sws_freeContext(ctx)",
          "new_text": null,
          "old_line_content": "            sws_freeContext(ctx);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(height * width  / ww, HB_MIN_HEIGHT)",
          "new_text": null,
          "old_line_content": "    height = MIN(MAX(height * width  / ww, HB_MIN_HEIGHT), HB_MAX_HEIGHT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(width  * height / hh, HB_MIN_WIDTH)",
          "new_text": null,
          "old_line_content": "    width  = MIN(MAX(width  * height / hh, HB_MIN_WIDTH),  HB_MAX_WIDTH);",
          "new_line_content": "    swsflags = SWS_LANCZOS | SWS_ACCURATE_RND;",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "hb_picture_fill",
          "new_api": null,
          "old_text": "hb_picture_fill( preview_data, preview_stride, preview_buf )",
          "new_text": null,
          "old_line_content": "    hb_picture_fill( preview_data, preview_stride, preview_buf );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "hb_list_rem",
          "new_api": null,
          "old_text": "hb_list_rem( h->title_set.list_title, title )",
          "new_text": null,
          "old_line_content": "        hb_list_rem( h->title_set.list_title, title );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset( filename, 0, 1024 )",
          "new_text": null,
          "old_line_content": "    memset( filename, 0, 1024 );",
          "new_line_content": "    hb_title_t * title;",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "hb_find_title_by_index",
          "new_api": null,
          "old_text": "hb_find_title_by_index(h, title_idx)",
          "new_text": null,
          "old_line_content": "    title = hb_find_title_by_index(h, title_idx);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "hb_lock_close",
          "new_api": null,
          "old_text": "hb_lock_close( &h->state_lock )",
          "new_text": null,
          "old_line_content": "    hb_lock_close( &h->state_lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error( \"hb_get_preview2: invalid title (%d)\", title_idx )",
          "new_text": null,
          "old_line_content": "        hb_error( \"hb_get_preview2: invalid title (%d)\", title_idx );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "hb_read_preview",
          "new_api": null,
          "old_text": "hb_read_preview( h, title, picture )",
          "new_text": null,
          "old_line_content": "    in_buf = hb_read_preview( h, title, picture );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( h )",
          "new_text": null,
          "old_line_content": "    free( h );",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "hb_platform_init",
          "new_api": null,
          "old_text": "hb_platform_init()",
          "new_text": null,
          "old_line_content": "    result = hb_platform_init();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "hb_deinterlace",
          "new_api": null,
          "old_text": "hb_deinterlace(deint_buf, in_buf)",
          "new_text": null,
          "old_line_content": "        hb_deinterlace(deint_buf, in_buf);",
          "new_line_content": "                        geo->crop[0], geo->crop[2] );",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "hb_picture_crop",
          "new_api": null,
          "old_text": "hb_picture_crop(crop_data, crop_stride, deint_buf,\n                        geo->crop[0], geo->crop[2] )",
          "new_text": null,
          "old_line_content": "        hb_picture_crop(crop_data, crop_stride, deint_buf,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error(\"Platform specific initialization failed!\")",
          "new_text": null,
          "old_line_content": "        hb_error(\"Platform specific initialization failed!\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "hb_limit_rational64",
          "new_api": null,
          "old_text": "hb_limit_rational64(&dst_par_num, &dst_par_den,\n                        dst_par_num, dst_par_den, 65535)",
          "new_text": null,
          "old_line_content": "    hb_limit_rational64(&dst_par_num, &dst_par_den,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "hb_picture_crop",
          "new_api": null,
          "old_text": "hb_picture_crop(crop_data, crop_stride, in_buf,\n                        geo->crop[0], geo->crop[2] )",
          "new_text": null,
          "old_line_content": "        hb_picture_crop(crop_data, crop_stride, in_buf,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "hb_qsv_info_init",
          "new_api": null,
          "old_text": "hb_qsv_info_init()",
          "new_text": null,
          "old_line_content": "    result = hb_qsv_info_init();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error(\"hb_qsv_info_init failed!\")",
          "new_text": null,
          "old_line_content": "        hb_error(\"hb_qsv_info_init failed!\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "hb_ff_get_colorspace",
          "new_api": null,
          "old_text": "hb_ff_get_colorspace(title->color_matrix)",
          "new_text": null,
          "old_line_content": "    int colorspace = hb_ff_get_colorspace(title->color_matrix);",
          "new_line_content": "    // Get scaling context",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "hb_reduce",
          "new_api": null,
          "old_text": "hb_reduce(&out_par.num, &out_par.den, dst_par_num, dst_par_den)",
          "new_text": null,
          "old_line_content": "    hb_reduce(&out_par.num, &out_par.den, dst_par_num, dst_par_den);",
          "new_line_content": "        out_par.num == in_par.num && out_par.den == in_par.den)",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "hb_param_configure_qsv",
          "new_api": null,
          "old_text": "hb_param_configure_qsv()",
          "new_text": null,
          "old_line_content": "    hb_param_configure_qsv();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "hb_sws_get_context",
          "new_api": null,
          "old_text": "hb_sws_get_context(\n                title->geometry.width  - (geo->crop[2] + geo->crop[3]),\n                title->geometry.height - (geo->crop[0] + geo->crop[1]),\n                AV_PIX_FMT_YUV420P, width, height, AV_PIX_FMT_RGB32, swsflags, colorspace)",
          "new_text": null,
          "old_line_content": "    context = hb_sws_get_context(",
          "new_line_content": "                title->geometry.height - (geo->crop[0] + geo->crop[1]),",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "hb_avcodec_init",
          "new_api": null,
          "old_text": "hb_avcodec_init()",
          "new_text": null,
          "old_line_content": "    hb_avcodec_init();",
          "new_line_content": "    /* HB work objects */",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log(\"hb_ff_mixdown_xlat: unsupported mixdown %d\", hb_mixdown)",
          "new_text": null,
          "old_line_content": "            hb_log(\"hb_ff_mixdown_xlat: unsupported mixdown %d\", hb_mixdown);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": "hb_reduce",
          "new_api": null,
          "old_text": "hb_reduce(&result->par.num, &result->par.den, dst_par_num, dst_par_den)",
          "new_text": null,
          "old_line_content": "        hb_reduce(&result->par.num, &result->par.den, dst_par_num, dst_par_den);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "sws_scale",
          "new_api": null,
          "old_text": "sws_scale(context,\n              (const uint8_t * const *)crop_data, crop_stride,\n              0, title->geometry.height - (geo->crop[0] + geo->crop[1]),\n              preview_data, preview_stride)",
          "new_text": null,
          "old_line_content": "    sws_scale(context,",
          "new_line_content": "              0, title->geometry.height - (geo->crop[0] + geo->crop[1]),",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "hb_buffer_to_image",
          "new_api": null,
          "old_text": "hb_buffer_to_image(preview_buf)",
          "new_text": null,
          "old_line_content": "    hb_image_t *image = hb_buffer_to_image(preview_buf);",
          "new_line_content": "    // Clean up",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "hb_filter_get",
          "new_api": null,
          "old_text": "hb_filter_get(new_id)",
          "new_text": null,
          "old_line_content": "    hb_filter_object_t * filter = hb_filter_get(new_id);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "hb_register",
          "new_api": null,
          "old_text": "hb_register(&hb_encavcodec)",
          "new_text": null,
          "old_line_content": "    hb_register(&hb_encavcodec);",
          "new_line_content": "#ifdef __APPLE__",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "hb_error",
          "new_api": null,
          "old_text": "hb_error(\"hb_add_filter2: Invalid filter ID %d\", new_id)",
          "new_text": null,
          "old_line_content": "        hb_error(\"hb_add_filter2: Invalid filter ID %d\", new_id);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "hb_buffer_close",
          "new_api": null,
          "old_text": "hb_buffer_close( &deint_buf )",
          "new_text": null,
          "old_line_content": "    hb_buffer_close( &deint_buf );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "hb_buffer_close",
          "new_api": null,
          "old_text": "hb_buffer_close( &preview_buf )",
          "new_text": null,
          "old_line_content": "    hb_buffer_close( &preview_buf );",
          "new_line_content": "    return image;",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "hb_value_free",
          "new_api": null,
          "old_text": "hb_value_free(&filter_dict)",
          "new_text": null,
          "old_line_content": "        hb_value_free(&filter_dict);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "av_get_packed_sample_fmt",
          "new_api": null,
          "old_text": "av_get_packed_sample_fmt(request_sample_fmt)",
          "new_text": null,
          "old_line_content": "                         av_get_packed_sample_fmt(request_sample_fmt) :",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "av_get_planar_sample_fmt",
          "new_api": null,
          "old_text": "av_get_planar_sample_fmt(request_sample_fmt)",
          "new_text": null,
          "old_line_content": "                         av_get_planar_sample_fmt(request_sample_fmt));",
          "new_line_content": "        context->request_sample_fmt = AV_SAMPLE_FMT_NONE;",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "hb_register",
          "new_api": null,
          "old_text": "hb_register(&hb_encca_aac)",
          "new_text": null,
          "old_line_content": "    hb_register(&hb_encca_aac);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": "hb_register",
          "new_api": null,
          "old_text": "hb_register(&hb_encvorbis)",
          "new_text": null,
          "old_line_content": "    hb_register(&hb_encvorbis);",
          "new_line_content": "#ifdef USE_X265",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "hb_buffer_close",
          "new_api": null,
          "old_text": "hb_buffer_close( &deint_buf )",
          "new_text": null,
          "old_line_content": "    hb_buffer_close( &deint_buf );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "hb_value_array_len",
          "new_api": null,
          "old_text": "hb_value_array_len(list)",
          "new_text": null,
          "old_line_content": "        len = hb_value_array_len(list);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": "hb_register",
          "new_api": null,
          "old_text": "hb_register(&hb_encx265)",
          "new_text": null,
          "old_line_content": "    hb_register(&hb_encx265);",
          "new_line_content": "#ifdef USE_QSV",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "hb_image_init",
          "new_api": null,
          "old_text": "hb_image_init(AV_PIX_FMT_RGB32, width, height)",
          "new_text": null,
          "old_line_content": "    image = hb_image_init(AV_PIX_FMT_RGB32, width, height);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "hb_value_array_get",
          "new_api": null,
          "old_text": "hb_value_array_get(list, ii)",
          "new_text": null,
          "old_line_content": "            hb_value_t * f = hb_value_array_get(list, ii);",
          "new_line_content": "            if (id > new_id)",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "hb_dict_get_int",
          "new_api": null,
          "old_text": "hb_dict_get_int(f, \"ID\")",
          "new_text": null,
          "old_line_content": "            int id = hb_dict_get_int(f, \"ID\");",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": "hb_register",
          "new_api": null,
          "old_text": "hb_register(&hb_encqsv)",
          "new_text": null,
          "old_line_content": "    hb_register(&hb_encqsv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "hb_value_array_insert",
          "new_api": null,
          "old_text": "hb_value_array_insert(list, ii, filter_dict)",
          "new_text": null,
          "old_line_content": "                hb_value_array_insert(list, ii, filter_dict);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "hb_x264_global_init",
          "new_api": null,
          "old_text": "hb_x264_global_init()",
          "new_text": null,
          "old_line_content": "    hb_x264_global_init();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": "hb_common_global_init",
          "new_api": null,
          "old_text": "hb_common_global_init()",
          "new_text": null,
          "old_line_content": "    hb_common_global_init();",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "hb_buffer_pool_init",
          "new_api": null,
          "old_text": "hb_buffer_pool_init()",
          "new_text": null,
          "old_line_content": "    hb_buffer_pool_init();",
          "new_line_content": "    // Initialize the builtin presets hb_dict_t",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "hb_value_free",
          "new_api": null,
          "old_text": "hb_value_free(&filter_dict)",
          "new_text": null,
          "old_line_content": "                hb_value_free(&filter_dict);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "hb_presets_builtin_init",
          "new_api": null,
          "old_text": "hb_presets_builtin_init()",
          "new_text": null,
          "old_line_content": "    hb_presets_builtin_init();",
          "new_line_content": "    return result;",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "hb_value_array_append",
          "new_api": null,
          "old_text": "hb_value_array_append(list, filter_dict)",
          "new_text": null,
          "old_line_content": "    hb_value_array_append(list, filter_dict);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "hb_presets_free",
          "new_api": null,
          "old_text": "hb_presets_free()",
          "new_text": null,
          "old_line_content": "    hb_presets_free();",
          "new_line_content": "    /* OpenCL library (dynamically loaded) */",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "hb_ocl_close",
          "new_api": null,
          "old_text": "hb_ocl_close()",
          "new_text": null,
          "old_line_content": "    hb_ocl_close();",
          "new_line_content": "    /* Find and remove temp folder */",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset( dirname, 0, 1024 )",
          "new_text": null,
          "old_line_content": "    memset( dirname, 0, 1024 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "hb_dict_init",
          "new_api": null,
          "old_text": "hb_dict_init()",
          "new_text": null,
          "old_line_content": "        settings = hb_dict_init();",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": "opendir",
          "new_api": null,
          "old_text": "opendir( dirname )",
          "new_text": null,
          "old_line_content": "    dir = opendir( dirname );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "hb_value_dup",
          "new_api": null,
          "old_text": "hb_value_dup(settings_in)",
          "new_text": null,
          "old_line_content": "        settings = hb_value_dup(settings_in);",
          "new_line_content": "    filter->settings = settings;",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "readdir",
          "new_api": null,
          "old_text": "readdir( dir )",
          "new_text": null,
          "old_line_content": "        while( ( entry = readdir( dir ) ) )",
          "new_line_content": "            char filename[1024];",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "hb_thread_init",
          "new_api": null,
          "old_text": "hb_thread_init(\"ioredirect\", redirect_thread_func, NULL, HB_NORMAL_PRIORITY)",
          "new_text": null,
          "old_line_content": "    hb_thread_init(\"ioredirect\", redirect_thread_func, NULL, HB_NORMAL_PRIORITY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "hb_list_item",
          "new_api": null,
          "old_text": "hb_list_item( job->list_filter, i )",
          "new_text": null,
          "old_line_content": "            hb_filter_object_t * f = hb_list_item( job->list_filter, i );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf( filename, 1023, \"%s/%s\", dirname, entry->d_name )",
          "new_text": null,
          "old_line_content": "            snprintf( filename, 1023, \"%s/%s\", dirname, entry->d_name );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "hb_list_insert",
          "new_api": null,
          "old_text": "hb_list_insert( job->list_filter, i, filter )",
          "new_text": null,
          "old_line_content": "                hb_list_insert( job->list_filter, i, filter );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "closedir",
          "new_api": null,
          "old_text": "closedir( dir )",
          "new_text": null,
          "old_line_content": "        closedir( dir );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": "rmdir",
          "new_api": null,
          "old_text": "rmdir( dirname )",
          "new_text": null,
          "old_line_content": "        rmdir( dirname );",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "hb_filter_close",
          "new_api": null,
          "old_text": "hb_filter_close( &filter )",
          "new_text": null,
          "old_line_content": "                hb_filter_close( &filter );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "abs",
          "new_api": null,
          "old_text": "abs( s1 - s3 )",
          "new_text": null,
          "old_line_content": "                if ( ( abs( s1 - s3 ) < color_equal ) &&",
          "new_line_content": "                        ++cc_1;",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "abs",
          "new_api": null,
          "old_text": "abs( s1 - s2 )",
          "new_text": null,
          "old_line_content": "                     ( abs( s1 - s2 ) > color_diff ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "hb_list_add",
          "new_api": null,
          "old_text": "hb_list_add( job->list_filter, filter )",
          "new_text": null,
          "old_line_content": "    hb_list_add( job->list_filter, filter );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc( sizeof( hb_handle_t ), 1 )",
          "new_text": null,
          "old_line_content": "    hb_handle_t * h = calloc( sizeof( hb_handle_t ), 1 );",
          "new_line_content": "    /* See hb_deep_log() and hb_log() in common.c */",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "abs",
          "new_api": null,
          "old_text": "abs( s2 - s4 )",
          "new_text": null,
          "old_line_content": "                if ( ( abs( s2 - s4 ) < color_equal ) &&",
          "new_line_content": "                        ++cc_2;",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "hb_log_level_set",
          "new_api": null,
          "old_text": "hb_log_level_set(h, verbose)",
          "new_text": null,
          "old_line_content": "    hb_log_level_set(h, verbose);",
          "new_line_content": "    h->id = hb_instance_counter++;",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "abs",
          "new_api": null,
          "old_text": "abs( s2 - s3 )",
          "new_text": null,
          "old_line_content": "                     ( abs( s2 - s3 ) > color_diff) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "getpid",
          "new_api": null,
          "old_text": "getpid()",
          "new_text": null,
          "old_line_content": "    h->pid = getpid();",
          "new_line_content": "    /* Create folder for temporary files */",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset( dirname, 0, 1024 )",
          "new_text": null,
          "old_line_content": "    memset( dirname, 0, 1024 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "hb_mkdir",
          "new_api": null,
          "old_text": "hb_mkdir( dirname )",
          "new_text": null,
          "old_line_content": "    hb_mkdir( dirname );",
          "new_line_content": "    while( !h->die )",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "hb_list_init",
          "new_api": null,
          "old_text": "hb_list_init()",
          "new_text": null,
          "old_line_content": "\th->title_set.list_title = hb_list_init();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "hb_parse_filter_settings",
          "new_api": null,
          "old_text": "hb_parse_filter_settings(settings_in)",
          "new_text": null,
          "old_line_content": "    hb_dict_t * settings = hb_parse_filter_settings(settings_in);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "hb_lock_init",
          "new_api": null,
          "old_text": "hb_lock_init()",
          "new_text": null,
          "old_line_content": "    h->state_lock  = hb_lock_init();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log(\"hb_add_filter: failed to parse filter settings!\")",
          "new_text": null,
          "old_line_content": "        hb_log(\"hb_add_filter: failed to parse filter settings!\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "hb_add_filter_dict",
          "new_api": null,
          "old_text": "hb_add_filter_dict(job, filter, settings)",
          "new_text": null,
          "old_line_content": "    hb_add_filter_dict(job, filter, settings);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc( sizeof( hb_interjob_t ), 1 )",
          "new_text": null,
          "old_line_content": "    h->interjob = calloc( sizeof( hb_interjob_t ), 1 );",
          "new_line_content": "    /* Start library thread */",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "hb_value_free",
          "new_api": null,
          "old_text": "hb_value_free(&settings)",
          "new_text": null,
          "old_line_content": "    hb_value_free(&settings);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "hb_thread_close",
          "new_api": null,
          "old_text": "hb_thread_close( &h->scan_thread )",
          "new_text": null,
          "old_line_content": "            hb_thread_close( &h->scan_thread );",
          "new_line_content": "            if ( h->scan_die )",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "hb_thread_init",
          "new_api": null,
          "old_text": "hb_thread_init( \"libhb\", thread_func, h,\n                                     HB_NORMAL_PRIORITY )",
          "new_text": null,
          "old_line_content": "    h->main_thread = hb_thread_init( \"libhb\", thread_func, h,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "hb_remove_previews",
          "new_api": null,
          "old_text": "hb_remove_previews( h )",
          "new_text": null,
          "old_line_content": "                hb_remove_previews( h );",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log(\"Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" )",
          "new_text": null,
          "old_line_content": "            hb_log(\"Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" );",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "hb_list_rem",
          "new_api": null,
          "old_text": "hb_list_rem( h->title_set.list_title, title )",
          "new_text": null,
          "old_line_content": "                    hb_list_rem( h->title_set.list_title, title );",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "hb_list_count",
          "new_api": null,
          "old_text": "hb_list_count( h->jobs )",
          "new_text": null,
          "old_line_content": "    return hb_list_count( h->jobs );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "hb_title_close",
          "new_api": null,
          "old_text": "hb_title_close( &title )",
          "new_text": null,
          "old_line_content": "                    hb_title_close( &title );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log( \"hb_scan: canceled\" )",
          "new_text": null,
          "old_line_content": "                hb_log( \"hb_scan: canceled\" );",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log(\"SKIPPED Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" )",
          "new_text": null,
          "old_line_content": "    hb_log(\"SKIPPED Average %i combed (Threshold %i) %i/%i/%i | PTS: %\"PRId64\" (%fs) %s\", average_cc, threshold, cc[0], cc[1], cc[2], buf->start, (float)buf->start / 90000, (buf->flags & 16) ? \"Film\" : \"Video\" );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "hb_log",
          "new_api": null,
          "old_text": "hb_log( \"libhb: scan thread found %d valid title(s)\",\n                        hb_list_count( h->title_set.list_title ) )",
          "new_text": null,
          "old_line_content": "                hb_log( \"libhb: scan thread found %d valid title(s)\",",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "hb_list_item",
          "new_api": null,
          "old_text": "hb_list_item( h->jobs, i )",
          "new_text": null,
          "old_line_content": "    return hb_list_item( h->jobs, i );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "\t\t\thb_unlock( h->state_lock );",
          "new_line_content": "\t\t\tto trigger a new source being set */",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "hb_strdup_printf",
          "new_api": null,
          "old_text": "hb_strdup_printf(\"%s\\n\"\n                                \"\\tWebsite:     %s\\n\"\n                                \"\\tForum:       %s\\n\"\n                                \"\\tIRC:         %s\\n\"\n                                \"\\tBuild Type:  %s\\n\"\n                                \"\\tRepository:  %s\\n\"\n                                \"\\tRelease Tag: %s\\n\"\n                                \"\\tRevision:    %d\\n\"\n                                \"\\tCommit Hash: %s\\n\"\n                                \"\\tBranch:      %s\\n\"\n                                \"\\tRemote:      %s\",\n                                hb_title, hb_website, hb_community, hb_irc,\n                                hb_repo_type, hb_repo_url, hb_repo_tag, hb_repo_rev,\n                                hb_repo_hash, hb_repo_branch, hb_repo_remote)",
          "new_text": null,
          "old_line_content": "        desc = hb_strdup_printf(\"%s\\n\"",
          "new_line_content": "                                \"\\tForum:       %s\\n\"",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "hb_lock",
          "new_api": null,
          "old_text": "hb_lock( h->state_lock )",
          "new_text": null,
          "old_line_content": "            hb_lock( h->state_lock );",
          "new_line_content": "            h->state.param.workdone.error = h->work_error;",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": "hb_unlock",
          "new_api": null,
          "old_text": "hb_unlock( h->state_lock )",
          "new_text": null,
          "old_line_content": "            hb_unlock( h->state_lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "EVEN",
          "new_api": null,
          "old_text": "EVEN(geo->modulus)",
          "new_text": null,
          "old_line_content": "    int mod = geo->modulus ? EVEN(geo->modulus) : 2;",
          "new_line_content": "    // Sanitize PAR",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "hb_snooze",
          "new_api": null,
          "old_text": "hb_snooze( 50 )",
          "new_text": null,
          "old_line_content": "        hb_snooze( 50 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc( sizeof( hb_job_t ), 1 )",
          "new_text": null,
          "old_line_content": "    job_copy                  = calloc( sizeof( hb_job_t ), 1 );",
          "new_line_content": "    job_copy->json            = NULL;",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(job_copy, job, sizeof(hb_job_t))",
          "new_text": null,
          "old_line_content": "    memcpy(job_copy, job, sizeof(hb_job_t));",
          "new_line_content": "    job_copy->encoder_preset  = NULL;",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": "hb_scan_stop",
          "new_api": null,
          "old_text": "hb_scan_stop( h )",
          "new_text": null,
          "old_line_content": "        hb_scan_stop( h );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "hb_thread_close",
          "new_api": null,
          "old_text": "hb_thread_close( &h->scan_thread )",
          "new_text": null,
          "old_line_content": "        hb_thread_close( &h->scan_thread );",
          "new_line_content": "    if( h->work_thread )",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "hb_stop",
          "new_api": null,
          "old_text": "hb_stop( h )",
          "new_text": null,
          "old_line_content": "        hb_stop( h );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "hb_reduce",
          "new_api": null,
          "old_text": "hb_reduce(&in_par.num, &in_par.den,\n              geo->geometry.par.num, geo->geometry.par.den)",
          "new_text": null,
          "old_line_content": "    hb_reduce(&in_par.num, &in_par.den,",
          "new_line_content": "    int64_t dst_par_num = in_par.num;",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "hb_remove_previews",
          "new_api": null,
          "old_text": "hb_remove_previews( h )",
          "new_text": null,
          "old_line_content": "    hb_remove_previews( h );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset( audio_lang, 0, sizeof( audio_lang ) )",
          "new_text": null,
          "old_line_content": "    memset( audio_lang, 0, sizeof( audio_lang ) );",
          "new_line_content": "    if( job->indepth_scan )",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": "pipe",
          "new_api": null,
          "old_text": "pipe(pfd)",
          "new_text": null,
          "old_line_content": "    if (pipe(pfd))",
          "new_line_content": "#if defined( SYS_MINGW )",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "fdopen",
          "new_api": null,
          "old_text": "fdopen(pfd[0], \"rb\")",
          "new_text": null,
          "old_line_content": "    FILE * log_f = fdopen(pfd[0], \"rb\");",
          "new_line_content": "    char line_buffer[500];",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 71,
      "total_additions": 220,
      "total_deletions": 220,
      "total_api_changes": 511
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 511,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          245
        ]
      }
    },
    "api_calls_before": 363,
    "api_calls_after": 363,
    "diff_info": {
      "added_lines": 0,
      "removed_lines": 2,
      "total_diff_lines": 15
    }
  }
}