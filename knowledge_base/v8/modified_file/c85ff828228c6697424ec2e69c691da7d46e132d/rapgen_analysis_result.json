{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c85ff828228c6697424ec2e69c691da7d46e132d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c85ff828228c6697424ec2e69c691da7d46e132d/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c85ff828228c6697424ec2e69c691da7d46e132d/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c85ff828228c6697424ec2e69c691da7d46e132d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 739,
          "old_api": "Bind",
          "new_api": "value",
          "old_text": "Bind(&found_handler)",
          "new_text": "var_handler.value()",
          "old_line_content": "    Bind(&found_handler);",
          "new_line_content": "      HandleStoreICHandlerCase(p, var_handler.value(), &stub_cache_miss);",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "Comment",
          "new_api": "Bind",
          "old_text": "Comment(\"KeyedStoreGeneric found handler\")",
          "new_text": "Bind(&stub_cache_miss)",
          "old_line_content": "      Comment(\"KeyedStoreGeneric found handler\");",
          "new_line_content": "    Bind(&stub_cache_miss);",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "MachineType::PointerRepresentation()",
          "new_api": "Parameter",
          "old_text": "MachineType::PointerRepresentation()",
          "new_text": "Parameter(Descriptor::kVector)",
          "old_line_content": "  Variable var_index(this, MachineType::PointerRepresentation());",
          "new_line_content": "  Node* vector = Parameter(Descriptor::kVector);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": "TaggedIsSmi",
          "new_api": "Bind",
          "old_text": "TaggedIsSmi(receiver)",
          "new_text": "var_unique.Bind(name)",
          "old_line_content": "  GotoIf(TaggedIsSmi(receiver), &slow);",
          "new_line_content": "  var_unique.Bind(name);  // Dummy initialization.",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "Int32LessThanOrEqual",
          "new_api": "LoadMapInstanceType",
          "old_text": "Int32LessThanOrEqual(instance_type,\n                              Int32Constant(LAST_CUSTOM_ELEMENTS_RECEIVER))",
          "new_text": "LoadMapInstanceType(receiver_map)",
          "old_line_content": "  GotoIf(Int32LessThanOrEqual(instance_type,",
          "new_line_content": "  Node* instance_type = LoadMapInstanceType(receiver_map);",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "TryToName",
          "new_api": "Int32Constant",
          "old_text": "TryToName(name, &if_index, &var_index, &if_unique_name, &var_unique, &slow)",
          "new_text": "Int32Constant(LAST_CUSTOM_ELEMENTS_RECEIVER)",
          "old_line_content": "  TryToName(name, &if_index, &var_index, &if_unique_name, &var_unique, &slow);",
          "new_line_content": "                              Int32Constant(LAST_CUSTOM_ELEMENTS_RECEIVER)),",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "value",
          "new_api": "Bind",
          "old_text": "EmitGenericElementStore(receiver, receiver_map, instance_type,\n                            var_index.value(), value, context, &slow)",
          "new_text": "Bind(&if_index)",
          "old_line_content": "    EmitGenericElementStore(receiver, receiver_map, instance_type,",
          "new_line_content": "  Bind(&if_index);",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "Bind",
          "new_api": "value",
          "old_text": "Bind(&if_unique_name)",
          "new_text": "var_index.value()",
          "old_line_content": "  Bind(&if_unique_name);",
          "new_line_content": "                            var_index.value(), value, context, &slow);",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "value",
          "new_api": "Bind",
          "old_text": "var_unique.value()",
          "new_text": "Bind(&if_unique_name)",
          "old_line_content": "    StoreICParameters p(context, receiver, var_unique.value(), value, slot,",
          "new_line_content": "  Bind(&if_unique_name);",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "EmitGenericPropertyStore",
          "new_api": "Comment",
          "old_text": "EmitGenericPropertyStore(receiver, receiver_map, &p, &slow, language_mode)",
          "new_text": "Comment(\"key is unique name\")",
          "old_line_content": "    EmitGenericPropertyStore(receiver, receiver_map, &p, &slow, language_mode);",
          "new_line_content": "    Comment(\"key is unique name\");",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "Bind",
          "new_api": "EmitGenericPropertyStore",
          "old_text": "Bind(&slow)",
          "new_text": "EmitGenericPropertyStore(receiver, receiver_map, &p, &slow, language_mode)",
          "old_line_content": "  Bind(&slow);",
          "new_line_content": "    EmitGenericPropertyStore(receiver, receiver_map, &p, &slow, language_mode);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "TailCallRuntime",
          "new_api": "Bind",
          "old_text": "TailCallRuntime(Runtime::kSetProperty, context, receiver, name, value,\n                    SmiConstant(language_mode))",
          "new_text": "Bind(&slow)",
          "old_line_content": "    TailCallRuntime(Runtime::kSetProperty, context, receiver, name, value,",
          "new_line_content": "  Bind(&slow);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 736,
          "old_api": null,
          "new_api": "Bind",
          "old_text": null,
          "new_text": "Bind(&found_handler)",
          "old_line_content": "    Label found_handler(this, &var_handler);",
          "new_line_content": "    Bind(&found_handler);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "Comment",
          "old_text": null,
          "new_text": "Comment(\"KeyedStoreGeneric found handler\")",
          "old_line_content": "                      &found_handler, &var_handler, slow);",
          "new_line_content": "      Comment(\"KeyedStoreGeneric found handler\");",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "Int32LessThanOrEqual",
          "old_text": null,
          "new_text": "Int32LessThanOrEqual(instance_type,\n                              Int32Constant(LAST_CUSTOM_ELEMENTS_RECEIVER))",
          "old_line_content": "",
          "new_line_content": "  GotoIf(Int32LessThanOrEqual(instance_type,",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": null,
          "new_api": "TryToName",
          "old_text": null,
          "new_text": "TryToName(name, &if_index, &var_index, &if_unique_name, &var_unique, &slow)",
          "old_line_content": "  {",
          "new_line_content": "  TryToName(name, &if_index, &var_index, &if_unique_name, &var_unique, &slow);",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "Comment",
          "old_text": null,
          "new_text": "Comment(\"KeyedStoreGeneric_miss\")",
          "old_line_content": "    }",
          "new_line_content": "      Comment(\"KeyedStoreGeneric_miss\");",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "TailCallRuntime",
          "old_text": null,
          "new_text": "TailCallRuntime(Runtime::kKeyedStoreIC_Miss, p->context, p->value,\n                      p->slot, p->vector, p->receiver, p->name)",
          "old_line_content": "  }",
          "new_line_content": "      TailCallRuntime(Runtime::kKeyedStoreIC_Miss, p->context, p->value,",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "Comment",
          "old_text": null,
          "new_text": "Comment(\"integer index\")",
          "old_line_content": "  }",
          "new_line_content": "    Comment(\"integer index\");",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "EmitGenericElementStore(receiver, receiver_map, instance_type,\n                            var_index.value(), value, context, &slow)",
          "old_line_content": "",
          "new_line_content": "    EmitGenericElementStore(receiver, receiver_map, instance_type,",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": null,
          "new_api": "LoadMap",
          "old_text": null,
          "new_text": "LoadMap(receiver)",
          "old_line_content": "  // checks, strings and string wrappers, proxies) are handled in the runtime.",
          "new_line_content": "  Node* receiver_map = LoadMap(receiver);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "var_unique.value()",
          "old_line_content": "  }",
          "new_line_content": "    StoreICParameters p(context, receiver, var_unique.value(), value, slot,",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "Parameter",
          "old_text": null,
          "new_text": "Parameter(Descriptor::kSlot)",
          "old_line_content": "",
          "new_line_content": "  Node* slot = Parameter(Descriptor::kSlot);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "Parameter",
          "old_text": null,
          "new_text": "Parameter(Descriptor::kContext)",
          "old_line_content": "  Variable var_unique(this, MachineRepresentation::kTagged);",
          "new_line_content": "  Node* context = Parameter(Descriptor::kContext);",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": null,
          "new_api": "MachineType::PointerRepresentation()",
          "old_text": null,
          "new_text": "MachineType::PointerRepresentation()",
          "old_line_content": "  Label if_index(this), if_unique_name(this), slow(this);",
          "new_line_content": "  Variable var_index(this, MachineType::PointerRepresentation());",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "Comment",
          "old_text": null,
          "new_text": "Comment(\"KeyedStoreGeneric_slow\")",
          "old_line_content": "  }",
          "new_line_content": "    Comment(\"KeyedStoreGeneric_slow\");",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": null,
          "new_api": "TailCallRuntime",
          "old_text": null,
          "new_text": "TailCallRuntime(Runtime::kSetProperty, context, receiver, name, value,\n                    SmiConstant(language_mode))",
          "old_line_content": "}",
          "new_line_content": "    TailCallRuntime(Runtime::kSetProperty, context, receiver, name, value,",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "SmiConstant",
          "old_text": null,
          "new_text": "SmiConstant(language_mode)",
          "old_line_content": "",
          "new_line_content": "                    SmiConstant(language_mode));",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "TaggedIsSmi",
          "old_text": null,
          "new_text": "TaggedIsSmi(receiver)",
          "old_line_content": "  // Receivers requiring non-standard element accesses (interceptors, access",
          "new_line_content": "  GotoIf(TaggedIsSmi(receiver), &slow);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "store_stub_cache",
          "old_text": null,
          "new_text": "isolate()->store_stub_cache()",
          "old_line_content": "    // a handler (as KeyedStoreIC_Miss would do) is probably a waste of time.",
          "new_line_content": "    TryProbeStubCache(isolate()->store_stub_cache(), receiver, p->name,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 768,
          "old_api": "Int32Constant",
          "new_api": null,
          "old_text": "Int32Constant(LAST_CUSTOM_ELEMENTS_RECEIVER)",
          "new_text": null,
          "old_line_content": "                              Int32Constant(LAST_CUSTOM_ELEMENTS_RECEIVER)),",
          "new_line_content": "  // Receivers requiring non-standard element accesses (interceptors, access",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "store_stub_cache",
          "new_api": null,
          "old_text": "isolate()->store_stub_cache()",
          "new_text": null,
          "old_line_content": "    TryProbeStubCache(isolate()->store_stub_cache(), receiver, p->name,",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "Bind",
          "new_api": null,
          "old_text": "Bind(&if_index)",
          "new_text": null,
          "old_line_content": "  Bind(&if_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "value",
          "new_api": null,
          "old_text": "var_handler.value()",
          "new_text": null,
          "old_line_content": "      HandleStoreICHandlerCase(p, var_handler.value(), slow);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "Comment",
          "new_api": null,
          "old_text": "Comment(\"integer index\")",
          "new_text": null,
          "old_line_content": "    Comment(\"integer index\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "value",
          "new_api": null,
          "old_text": "var_index.value()",
          "new_text": null,
          "old_line_content": "                            var_index.value(), value, context, &slow);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "Parameter",
          "new_api": null,
          "old_text": "Parameter(Descriptor::kReceiver)",
          "new_text": null,
          "old_line_content": "  Node* receiver = Parameter(Descriptor::kReceiver);",
          "new_line_content": "void KeyedStoreGenericAssembler::KeyedStoreGeneric(LanguageMode language_mode) {",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "Parameter",
          "new_api": null,
          "old_text": "Parameter(Descriptor::kName)",
          "new_text": null,
          "old_line_content": "  Node* name = Parameter(Descriptor::kName);",
          "new_line_content": "  typedef StoreWithVectorDescriptor Descriptor;",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "Parameter",
          "new_api": null,
          "old_text": "Parameter(Descriptor::kValue)",
          "new_text": null,
          "old_line_content": "  Node* value = Parameter(Descriptor::kValue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "Comment",
          "new_api": null,
          "old_text": "Comment(\"key is unique name\")",
          "new_text": null,
          "old_line_content": "    Comment(\"key is unique name\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "Comment",
          "new_api": null,
          "old_text": "Comment(\"KeyedStoreGeneric_slow\")",
          "new_text": null,
          "old_line_content": "    Comment(\"KeyedStoreGeneric_slow\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "Bind",
          "new_api": null,
          "old_text": "var_unique.Bind(name)",
          "new_text": null,
          "old_line_content": "  var_unique.Bind(name);  // Dummy initialization.",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "SmiConstant",
          "new_api": null,
          "old_text": "SmiConstant(language_mode)",
          "new_text": null,
          "old_line_content": "                    SmiConstant(language_mode));",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "LoadMap",
          "new_api": null,
          "old_text": "LoadMap(receiver)",
          "new_text": null,
          "old_line_content": "  Node* receiver_map = LoadMap(receiver);",
          "new_line_content": "  Label if_index(this), if_unique_name(this), slow(this);",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "LoadMapInstanceType",
          "new_api": null,
          "old_text": "LoadMapInstanceType(receiver_map)",
          "new_text": null,
          "old_line_content": "  Node* instance_type = LoadMapInstanceType(receiver_map);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 12,
      "total_additions": 18,
      "total_deletions": 15,
      "total_api_changes": 45
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 13,
        "api_related_lines": 45,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          740,
          745,
          732,
          733,
          735
        ]
      }
    },
    "api_calls_before": 381,
    "api_calls_after": 384,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 6,
      "total_diff_lines": 32
    }
  }
}