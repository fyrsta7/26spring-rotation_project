{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c8e6340a404d02f6644cfd23e7722fe49925e37f",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c8e6340a404d02f6644cfd23e7722fe49925e37f/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c8e6340a404d02f6644cfd23e7722fe49925e37f/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/c8e6340a404d02f6644cfd23e7722fe49925e37f/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 359,
          "old_api": "end",
          "new_api": "empty",
          "old_text": "jobs_.end()",
          "new_text": "jobs_.empty()",
          "old_line_content": "  return GetJobFor(function) != jobs_.end();",
          "new_line_content": "  if (jobs_.empty()) return false;",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "erase",
          "new_api": "end",
          "old_text": "pending_background_jobs_.erase(job)",
          "new_text": "running_background_jobs_.end()",
          "old_line_content": "    pending_background_jobs_.erase(job);",
          "new_line_content": "  if (running_background_jobs_.find(job) == running_background_jobs_.end()) {",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": "end",
          "new_api": "GetJobFor",
          "old_text": "jobs_.end()",
          "new_text": "GetJobFor(function)",
          "old_line_content": "  CHECK(job != jobs_.end());",
          "new_line_content": "  JobMap::const_iterator job = GetJobFor(function);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "ShortPrint",
          "new_api": "PrintF",
          "old_text": "function->ShortPrint()",
          "new_text": "PrintF(\"CompilerDispatcher: finishing \")",
          "old_line_content": "    function->ShortPrint();",
          "new_line_content": "    PrintF(\"CompilerDispatcher: finishing \");",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "PrintF",
          "new_api": "ShortPrint",
          "old_text": "PrintF(\" now\\n\")",
          "new_text": "function->ShortPrint()",
          "old_line_content": "    PrintF(\" now\\n\");",
          "new_line_content": "    function->ShortPrint();",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "ShortPrint",
          "new_api": "PrintF",
          "old_text": "function->ShortPrint()",
          "new_text": "PrintF(\"CompilerDispatcher: finished working on \")",
          "old_line_content": "    function->ShortPrint();",
          "new_line_content": "    PrintF(\"CompilerDispatcher: finished working on \");",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "PrintF",
          "new_api": "ShortPrint",
          "old_text": "PrintF(\": %s\\n\", result ? \"success\" : \"failure\")",
          "new_text": "function->ShortPrint()",
          "old_line_content": "    PrintF(\": %s\\n\", result ? \"success\" : \"failure\");",
          "new_line_content": "    function->ShortPrint();",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "DumpStatistics",
          "new_api": "PrintF",
          "old_text": "tracer_->DumpStatistics()",
          "new_text": "PrintF(\": %s\\n\", result ? \"success\" : \"failure\")",
          "old_line_content": "    tracer_->DumpStatistics();",
          "new_line_content": "    PrintF(\": %s\\n\", result ? \"success\" : \"failure\");",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "erase",
          "new_api": "ResetOnMainThread",
          "old_text": "jobs_.erase(job)",
          "new_text": "job->second->ResetOnMainThread()",
          "old_line_content": "  jobs_.erase(job);",
          "new_line_content": "  job->second->ResetOnMainThread();",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "empty",
          "new_api": "erase",
          "old_text": "jobs_.empty()",
          "new_text": "jobs_.erase(job)",
          "old_line_content": "  if (jobs_.empty()) {",
          "new_line_content": "  jobs_.erase(job);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "ShortPrint",
          "new_api": "PrintF",
          "old_text": "it.second->ShortPrint()",
          "new_text": "PrintF(\"CompilerDispatcher: aborted \")",
          "old_line_content": "        it.second->ShortPrint();",
          "new_line_content": "        PrintF(\"CompilerDispatcher: aborted \");",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "PrintF",
          "new_api": "ShortPrint",
          "old_text": "PrintF(\"\\n\")",
          "new_text": "it.second->ShortPrint()",
          "old_line_content": "        PrintF(\"\\n\");",
          "new_line_content": "        it.second->ShortPrint();",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "end",
          "new_api": "get",
          "old_text": "running_background_jobs_.end()",
          "new_text": "job->second.get()",
          "old_line_content": "          running_background_jobs_.end()) {",
          "new_line_content": "      if (running_background_jobs_.find(job->second.get()) !=",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "ShortPrint",
          "new_api": "PrintF",
          "old_text": "job->second->ShortPrint()",
          "new_text": "PrintF(\"CompilerDispatcher: aborted \")",
          "old_line_content": "      job->second->ShortPrint();",
          "new_line_content": "      PrintF(\"CompilerDispatcher: aborted \");",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "PrintF",
          "new_api": "ShortPrint",
          "old_text": "PrintF(\"\\n\")",
          "new_text": "job->second->ShortPrint()",
          "old_line_content": "      PrintF(\"\\n\");",
          "new_line_content": "      job->second->ShortPrint();",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "erase",
          "new_api": "ResetOnMainThread",
          "old_text": "jobs_.erase(job)",
          "new_text": "job->second->ResetOnMainThread()",
          "old_line_content": "    jobs_.erase(job);",
          "new_line_content": "    job->second->ResetOnMainThread();",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": "SetValue",
          "new_api": "Value",
          "old_text": "memory_pressure_level_.SetValue(level)",
          "new_text": "memory_pressure_level_.Value()",
          "old_line_content": "  memory_pressure_level_.SetValue(level);",
          "new_line_content": "  MemoryPressureLevel previous = memory_pressure_level_.Value();",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "new_api": "get",
          "old_text": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "new_text": "platform_->CallOnForegroundThread(\n        reinterpret_cast<v8::Isolate*>(isolate_),\n        new MemoryPressureTask(isolate_, task_manager_.get(), this))",
          "old_line_content": "        reinterpret_cast<v8::Isolate*>(isolate_),",
          "new_line_content": "    platform_->CallOnForegroundThread(",
          "content_same": false
        },
        {
          "line": 512,
          "old_api": "get",
          "new_api": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "old_text": "task_manager_.get()",
          "new_text": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "old_line_content": "        new MemoryPressureTask(isolate_, task_manager_.get(), this));",
          "new_line_content": "        reinterpret_cast<v8::Isolate*>(isolate_),",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "script",
          "new_api": "end",
          "old_text": "shared->script()",
          "new_text": "jobs_.end()",
          "old_line_content": "  std::pair<int, int> key(Script::cast(shared->script())->id(),",
          "new_line_content": "  if (!shared->script()->IsScript()) return jobs_.end();",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "function_literal_id",
          "new_api": "script",
          "old_text": "shared->function_literal_id()",
          "new_text": "shared->script()",
          "old_line_content": "                          shared->function_literal_id());",
          "new_line_content": "  std::pair<int, int> key(Script::cast(shared->script())->id(),",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "equal_range",
          "new_api": "function_literal_id",
          "old_text": "jobs_.equal_range(key)",
          "new_text": "shared->function_literal_id()",
          "old_line_content": "  auto range = jobs_.equal_range(key);",
          "new_line_content": "                          shared->function_literal_id());",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "IdleTasksEnabled",
          "new_api": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "old_text": "platform_->IdleTasksEnabled(v8_isolate)",
          "new_text": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "old_line_content": "  DCHECK(platform_->IdleTasksEnabled(v8_isolate));",
          "new_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate_);",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "ScheduleIdleTaskFromAnyThread",
          "new_api": "empty",
          "old_text": "ScheduleIdleTaskFromAnyThread()",
          "new_text": "jobs_.empty()",
          "old_line_content": "  ScheduleIdleTaskFromAnyThread();",
          "new_line_content": "  if (jobs_.empty()) return;",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "get",
          "new_api": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "old_text": "platform_->CallOnForegroundThread(\n      v8_isolate, new AbortTask(isolate_, task_manager_.get(), this))",
          "new_text": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "old_line_content": "  platform_->CallOnForegroundThread(",
          "new_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate_);",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "NumberOfAvailableBackgroundThreads",
          "new_api": "empty",
          "old_text": "platform_->NumberOfAvailableBackgroundThreads()",
          "new_text": "pending_background_jobs_.empty()",
          "old_line_content": "    if (platform_->NumberOfAvailableBackgroundThreads() <=",
          "new_line_content": "    if (pending_background_jobs_.empty()) return;",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": "begin",
          "new_api": "empty",
          "old_text": "pending_background_jobs_.begin()",
          "new_text": "pending_background_jobs_.empty()",
          "old_line_content": "      auto it = pending_background_jobs_.begin();",
          "new_line_content": "    if (!pending_background_jobs_.empty()) {",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "insert",
          "new_api": "erase",
          "old_text": "running_background_jobs_.insert(job)",
          "new_text": "pending_background_jobs_.erase(it)",
          "old_line_content": "      running_background_jobs_.insert(job);",
          "new_line_content": "      pending_background_jobs_.erase(it);",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "SetValue",
          "new_api": "Value",
          "old_text": "block_for_testing_.SetValue(false)",
          "new_text": "block_for_testing_.Value()",
          "old_line_content": "    block_for_testing_.SetValue(false);",
          "new_line_content": "  if (V8_UNLIKELY(block_for_testing_.Value())) {",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "Wait",
          "new_api": "SetValue",
          "old_text": "semaphore_for_testing_.Wait()",
          "new_text": "block_for_testing_.SetValue(false)",
          "old_line_content": "    semaphore_for_testing_.Wait();",
          "new_line_content": "    block_for_testing_.SetValue(false);",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "end",
          "new_api": "begin",
          "old_text": "jobs_.end()",
          "new_text": "jobs_.begin()",
          "old_line_content": "       job != jobs_.end() && idle_time_in_seconds > 0.0;",
          "new_line_content": "  for (auto job = jobs_.begin();",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "end",
          "new_api": "get",
          "old_text": "running_background_jobs_.end()",
          "new_text": "job->second.get()",
          "old_line_content": "        running_background_jobs_.end()) {",
          "new_line_content": "    if (running_background_jobs_.find(job->second.get()) !=",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "EstimateRuntimeOfNextStepInMs",
          "new_api": "get",
          "old_text": "job->second->EstimateRuntimeOfNextStepInMs()",
          "new_text": "job->second.get()",
          "old_line_content": "    double estimate_in_ms = job->second->EstimateRuntimeOfNextStepInMs();",
          "new_line_content": "    auto it = pending_background_jobs_.find(job->second.get());",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "reset",
          "new_api": "end",
          "old_text": "lock.reset()",
          "new_text": "pending_background_jobs_.end()",
          "old_line_content": "        lock.reset();",
          "new_line_content": "      if (it == pending_background_jobs_.end()) {",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "get",
          "new_api": "reset",
          "old_text": "job->second.get()",
          "new_text": "lock.reset()",
          "old_line_content": "        ConsiderJobForBackgroundProcessing(job->second.get());",
          "new_line_content": "        lock.reset();",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "end",
          "new_api": "get",
          "old_text": "pending_background_jobs_.end()",
          "new_text": "job->second.get()",
          "old_line_content": "      DCHECK(it == pending_background_jobs_.end());",
          "new_line_content": "    } else if (IsFinished(job->second.get())) {",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "ShortPrint",
          "new_api": "PrintF",
          "old_text": "job->second->ShortPrint()",
          "new_text": "PrintF(\"CompilerDispatcher: finished working on \")",
          "old_line_content": "        job->second->ShortPrint();",
          "new_line_content": "        PrintF(\"CompilerDispatcher: finished working on \");",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "status",
          "new_api": "ShortPrint",
          "old_text": "job->second->status()",
          "new_text": "job->second->ShortPrint()",
          "old_line_content": "        PrintF(\": %s\\n\", job->second->status() == CompileJobStatus::kDone",
          "new_line_content": "        job->second->ShortPrint();",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "erase",
          "new_api": "ResetOnMainThread",
          "old_text": "jobs_.erase(job)",
          "new_text": "job->second->ResetOnMainThread()",
          "old_line_content": "      job = jobs_.erase(job);",
          "new_line_content": "      job->second->ResetOnMainThread();",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "erase",
          "new_api": "end",
          "old_text": "pending_background_jobs_.erase(it)",
          "new_text": "pending_background_jobs_.end()",
          "old_line_content": "        pending_background_jobs_.erase(it);",
          "new_line_content": "      if (it != pending_background_jobs_.end()) {",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "get",
          "new_api": "reset",
          "old_text": "job->second.get()",
          "new_text": "lock.reset()",
          "old_line_content": "      DoNextStepOnMainThread(isolate_, job->second.get(),",
          "new_line_content": "      lock.reset();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 513,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "task_manager_.get()",
          "old_line_content": "  }",
          "new_line_content": "        new MemoryPressureTask(isolate_, task_manager_.get(), this));",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.compile\")",
          "old_line_content": "               \"V8.CompilerDispatcherFinishNow\");",
          "new_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.compile\"),",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "pending_background_jobs_.clear()",
          "old_line_content": "    }",
          "new_line_content": "      pending_background_jobs_.clear();",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "jobs_.end()",
          "old_line_content": "",
          "new_line_content": "  CHECK(job != jobs_.end());",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\" now\\n\")",
          "old_line_content": "  }",
          "new_line_content": "    PrintF(\" now\\n\");",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "equal_range",
          "old_text": null,
          "new_text": "jobs_.equal_range(key)",
          "old_line_content": "  for (auto job = range.first; job != range.second; ++job) {",
          "new_line_content": "  auto range = jobs_.equal_range(key);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "MonotonicallyIncreasingTime",
          "old_text": null,
          "new_text": "platform_->MonotonicallyIncreasingTime()",
          "old_line_content": "",
          "new_line_content": "      deadline_in_seconds - platform_->MonotonicallyIncreasingTime();",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": null,
          "new_api": "IsAssociatedWith",
          "old_text": null,
          "new_text": "job->second->IsAssociatedWith(shared)",
          "old_line_content": "  }",
          "new_line_content": "    if (job->second->IsAssociatedWith(shared)) return job;",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "jobs_.end()",
          "old_line_content": "}",
          "new_line_content": "  return jobs_.end();",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"CompilerDispatcher: received %0.1lfms of idle time\\n\",\n           idle_time_in_seconds *\n               static_cast<double>(base::Time::kMillisecondsPerSecond))",
          "old_line_content": "           idle_time_in_seconds *",
          "new_line_content": "    PrintF(\"CompilerDispatcher: received %0.1lfms of idle time\\n\",",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "old_text": null,
          "new_text": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "old_line_content": "  }",
          "new_line_content": "               static_cast<double>(base::Time::kMillisecondsPerSecond));",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "job->second.get()",
          "old_line_content": "                           ExceptionHandling::kThrow);",
          "new_line_content": "    DoNextStepOnMainThread(isolate_, job->second.get(),",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "status",
          "old_text": null,
          "new_text": "job->second->status()",
          "old_line_content": "",
          "new_line_content": "  bool result = job->second->status() != CompileJobStatus::kFailed;",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "IdleTasksEnabled",
          "old_text": null,
          "new_text": "platform_->IdleTasksEnabled(v8_isolate)",
          "old_line_content": "  {",
          "new_line_content": "  DCHECK(platform_->IdleTasksEnabled(v8_isolate));",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "jobs_.end()",
          "old_line_content": "       idle_time_in_seconds =",
          "new_line_content": "       job != jobs_.end() && idle_time_in_seconds > 0.0;",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "MonotonicallyIncreasingTime",
          "old_text": null,
          "new_text": "platform_->MonotonicallyIncreasingTime()",
          "old_line_content": "    // Don't work on jobs that are being worked on by background tasks.",
          "new_line_content": "           deadline_in_seconds - platform_->MonotonicallyIncreasingTime()) {",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": null,
          "new_api": "DumpStatistics",
          "old_text": null,
          "new_text": "tracer_->DumpStatistics()",
          "old_line_content": "  }",
          "new_line_content": "    tracer_->DumpStatistics();",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "task_manager_.get()",
          "old_line_content": "}",
          "new_line_content": "      v8_isolate, new IdleTask(isolate_, task_manager_.get(), this));",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "running_background_jobs_.end()",
          "old_line_content": "      ++job;",
          "new_line_content": "        running_background_jobs_.end()) {",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "jobs_.empty()",
          "old_line_content": "    base::LockGuard<base::Mutex> lock(&mutex_);",
          "new_line_content": "  if (jobs_.empty()) {",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": null,
          "new_api": "ScheduleIdleTaskFromAnyThread",
          "old_text": null,
          "new_text": "ScheduleIdleTaskFromAnyThread()",
          "old_line_content": "}",
          "new_line_content": "  ScheduleIdleTaskFromAnyThread();",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "EstimateRuntimeOfNextStepInMs",
          "old_text": null,
          "new_text": "job->second->EstimateRuntimeOfNextStepInMs()",
          "old_line_content": "    if (idle_time_in_seconds <",
          "new_line_content": "    double estimate_in_ms = job->second->EstimateRuntimeOfNextStepInMs();",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "old_text": null,
          "new_text": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "old_line_content": "      // If there's not enough time left, try to estimate whether we would",
          "new_line_content": "         static_cast<double>(base::Time::kMillisecondsPerSecond))) {",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "task_manager_.get()",
          "old_line_content": "}",
          "new_line_content": "      v8_isolate, new AbortTask(isolate_, task_manager_.get(), this));",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": null,
          "new_api": "TryAbortAll",
          "old_text": null,
          "new_text": "task_manager_->TryAbortAll()",
          "old_line_content": "  if (!background_tasks_running || blocking == BlockingBehavior::kBlock) {",
          "new_line_content": "      task_manager_->TryAbortAll() == CancelableTaskManager::kTaskRunning;",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "it.second.get()",
          "old_line_content": "      if (trace_compiler_dispatcher_) {",
          "new_line_content": "      WaitForJobIfRunningOnBackground(it.second.get());",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": null,
          "new_api": "CanRunOnAnyThread",
          "old_text": null,
          "new_text": "CanRunOnAnyThread(job)",
          "old_line_content": "  {",
          "new_line_content": "  if (!CanRunOnAnyThread(job)) return;",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "job->second.get()",
          "old_line_content": "      }",
          "new_line_content": "        ConsiderJobForBackgroundProcessing(job->second.get());",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"\\n\")",
          "old_line_content": "      }",
          "new_line_content": "        PrintF(\"\\n\");",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "pending_background_jobs_.insert(job)",
          "old_line_content": "  }",
          "new_line_content": "    pending_background_jobs_.insert(job);",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "ResetOnMainThread",
          "old_text": null,
          "new_text": "it.second->ResetOnMainThread()",
          "old_line_content": "    }",
          "new_line_content": "      it.second->ResetOnMainThread();",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": null,
          "new_api": "ScheduleMoreBackgroundTasksIfNeeded",
          "old_text": null,
          "new_text": "ScheduleMoreBackgroundTasksIfNeeded()",
          "old_line_content": "}",
          "new_line_content": "  ScheduleMoreBackgroundTasksIfNeeded();",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "pending_background_jobs_.end()",
          "old_line_content": "      if (trace_compiler_dispatcher_) {",
          "new_line_content": "      DCHECK(it == pending_background_jobs_.end());",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "jobs_.clear()",
          "old_line_content": "    {",
          "new_line_content": "    jobs_.clear();",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.compile\")",
          "old_line_content": "               \"V8.CompilerDispatcherScheduleMoreBackgroundTasksIfNeeded\");",
          "new_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.compile\"),",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "status",
          "old_text": null,
          "new_text": "job->second->status()",
          "old_line_content": "                             ? \"success\"",
          "new_line_content": "        PrintF(\": %s\\n\", job->second->status() == CompileJobStatus::kDone",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "running_background_jobs_.empty()",
          "old_line_content": "      abort_ = false;",
          "new_line_content": "      DCHECK(running_background_jobs_.empty());",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": null,
          "new_api": "DumpStatistics",
          "old_text": null,
          "new_text": "tracer_->DumpStatistics()",
          "old_line_content": "      }",
          "new_line_content": "        tracer_->DumpStatistics();",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "NumberOfAvailableBackgroundThreads",
          "old_text": null,
          "new_text": "platform_->NumberOfAvailableBackgroundThreads()",
          "old_line_content": "        num_scheduled_background_tasks_) {",
          "new_line_content": "    if (platform_->NumberOfAvailableBackgroundThreads() <=",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "jobs_.erase(job)",
          "old_line_content": "      continue;",
          "new_line_content": "      job = jobs_.erase(job);",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "pending_background_jobs_.clear()",
          "old_line_content": "  }",
          "new_line_content": "    pending_background_jobs_.clear();",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "pending_background_jobs_.erase(it)",
          "old_line_content": "      }",
          "new_line_content": "        pending_background_jobs_.erase(it);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "task_manager_.get()",
          "old_line_content": "      v8::Platform::kShortRunningTask);",
          "new_line_content": "      new BackgroundTask(isolate_, task_manager_.get(), this),",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "AbortInactiveJobs",
          "old_text": null,
          "new_text": "AbortInactiveJobs()",
          "old_line_content": "",
          "new_line_content": "  AbortInactiveJobs();",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "job->second.get()",
          "old_line_content": "                             ExceptionHandling::kSwallow);",
          "new_line_content": "      DoNextStepOnMainThread(isolate_, job->second.get(),",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "ScheduleAbortTask",
          "old_text": null,
          "new_text": "ScheduleAbortTask()",
          "old_line_content": "}",
          "new_line_content": "  ScheduleAbortTask();",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "ScheduleIdleTaskIfNeeded",
          "old_text": null,
          "new_text": "ScheduleIdleTaskIfNeeded()",
          "old_line_content": "}",
          "new_line_content": "  if (jobs_.size() > too_long_jobs) ScheduleIdleTaskIfNeeded();",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "pending_background_jobs_.begin()",
          "old_line_content": "      job = *it;",
          "new_line_content": "      auto it = pending_background_jobs_.begin();",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "running_background_jobs_.insert(job)",
          "old_line_content": "    }",
          "new_line_content": "      running_background_jobs_.insert(job);",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "jobs_.end()",
          "old_line_content": "    auto job = it;",
          "new_line_content": "  for (auto it = jobs_.begin(); it != jobs_.end();) {",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "Wait",
          "old_text": null,
          "new_text": "semaphore_for_testing_.Wait()",
          "old_line_content": "  }",
          "new_line_content": "    semaphore_for_testing_.Wait();",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "running_background_jobs_.end()",
          "old_line_content": "        continue;",
          "new_line_content": "          running_background_jobs_.end()) {",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"CompilerDispatcher: doing background work\\n\")",
          "old_line_content": "  }",
          "new_line_content": "    PrintF(\"CompilerDispatcher: doing background work\\n\");",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": null,
          "new_api": "DoNextStepOnBackgroundThread",
          "old_text": null,
          "new_text": "DoNextStepOnBackgroundThread(job)",
          "old_line_content": "",
          "new_line_content": "  DoNextStepOnBackgroundThread(job);",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"\\n\")",
          "old_line_content": "    }",
          "new_line_content": "      PrintF(\"\\n\");",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "ScheduleMoreBackgroundTasksIfNeeded",
          "old_text": null,
          "new_text": "ScheduleMoreBackgroundTasksIfNeeded()",
          "old_line_content": "  // Unconditionally schedule an idle task, as all background steps have to be",
          "new_line_content": "  ScheduleMoreBackgroundTasksIfNeeded();",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "jobs_.erase(job)",
          "old_line_content": "  }",
          "new_line_content": "    jobs_.erase(job);",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": null,
          "new_api": "ScheduleIdleTaskFromAnyThread",
          "old_text": null,
          "new_text": "ScheduleIdleTaskFromAnyThread()",
          "old_line_content": "",
          "new_line_content": "  ScheduleIdleTaskFromAnyThread();",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "jobs_.empty()",
          "old_line_content": "    base::LockGuard<base::Mutex> lock(&mutex_);",
          "new_line_content": "  if (jobs_.empty()) {",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "running_background_jobs_.erase(job)",
          "old_line_content": "",
          "new_line_content": "    running_background_jobs_.erase(job);",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "running_background_jobs_.empty()",
          "old_line_content": "      // This is the last background job that finished. The abort task",
          "new_line_content": "    if (running_background_jobs_.empty() && abort_) {",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "jobs_.end()",
          "old_line_content": "}",
          "new_line_content": "  return GetJobFor(function) != jobs_.end();",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "SetValue",
          "old_text": null,
          "new_text": "memory_pressure_level_.SetValue(level)",
          "old_line_content": "  // If we're already under pressure, we haven't accepted new tasks meanwhile",
          "new_line_content": "  memory_pressure_level_.SetValue(level);",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "ScheduleAbortTask",
          "old_text": null,
          "new_text": "ScheduleAbortTask()",
          "old_line_content": "    }",
          "new_line_content": "      ScheduleAbortTask();",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.compile\")",
          "old_line_content": "               \"V8.CompilerDispatcherWaitForBackgroundJob\");",
          "new_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.compile\"),",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "NotifyOne",
          "old_text": null,
          "new_text": "main_thread_blocking_signal_.NotifyOne()",
          "old_line_content": "    }",
          "new_line_content": "      main_thread_blocking_signal_.NotifyOne();",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"CompilerDispatcher: received memory pressure notification\\n\")",
          "old_line_content": "  }",
          "new_line_content": "    PrintF(\"CompilerDispatcher: received memory pressure notification\\n\");",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "pending_background_jobs_.erase(job)",
          "old_line_content": "    return;",
          "new_line_content": "    pending_background_jobs_.erase(job);",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "AbortAll",
          "old_text": null,
          "new_text": "AbortAll(BlockingBehavior::kDontBlock)",
          "old_line_content": "  } else {",
          "new_line_content": "    AbortAll(BlockingBehavior::kDontBlock);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "DCHECK_NULL",
          "old_text": null,
          "new_text": "DCHECK_NULL(main_thread_blocking_on_job_)",
          "old_line_content": "  main_thread_blocking_on_job_ = job;",
          "new_line_content": "  DCHECK_NULL(main_thread_blocking_on_job_);",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "Wait",
          "old_text": null,
          "new_text": "main_thread_blocking_signal_.Wait(&mutex_)",
          "old_line_content": "  }",
          "new_line_content": "    main_thread_blocking_signal_.Wait(&mutex_);",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "running_background_jobs_.end()",
          "old_line_content": "}",
          "new_line_content": "  DCHECK(running_background_jobs_.find(job) == running_background_jobs_.end());",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "AbortInactiveJobs",
          "old_text": null,
          "new_text": "AbortInactiveJobs()",
          "old_line_content": "    return;",
          "new_line_content": "    AbortInactiveJobs();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 384,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": null,
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.compile\")",
          "new_text": null,
          "old_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.compile\"),",
          "new_line_content": "bool CompilerDispatcher::FinishNow(Handle<SharedFunctionInfo> function) {",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "GetJobFor",
          "new_api": null,
          "old_text": "GetJobFor(function)",
          "new_text": null,
          "old_line_content": "  JobMap::const_iterator job = GetJobFor(function);",
          "new_line_content": "               \"V8.CompilerDispatcherFinishNow\");",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "end",
          "new_api": null,
          "old_text": "jobs_.end()",
          "new_text": null,
          "old_line_content": "  if (!shared->script()->IsScript()) return jobs_.end();",
          "new_line_content": "    Handle<SharedFunctionInfo> shared) const {",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: finishing \")",
          "new_text": null,
          "old_line_content": "    PrintF(\"CompilerDispatcher: finishing \");",
          "new_line_content": "  if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "get",
          "new_api": null,
          "old_text": "platform_->CallOnForegroundThread(\n        reinterpret_cast<v8::Isolate*>(isolate_),\n        new MemoryPressureTask(isolate_, task_manager_.get(), this))",
          "new_text": null,
          "old_line_content": "    platform_->CallOnForegroundThread(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "MonotonicallyIncreasingTime",
          "new_api": null,
          "old_text": "platform_->MonotonicallyIncreasingTime()",
          "new_text": null,
          "old_line_content": "      deadline_in_seconds - platform_->MonotonicallyIncreasingTime();",
          "new_line_content": "  double idle_time_in_seconds =",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "IsAssociatedWith",
          "new_api": null,
          "old_text": "job->second->IsAssociatedWith(shared)",
          "new_text": null,
          "old_line_content": "    if (job->second->IsAssociatedWith(shared)) return job;",
          "new_line_content": "  for (auto job = range.first; job != range.second; ++job) {",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "get",
          "new_api": null,
          "old_text": "job->second.get()",
          "new_text": null,
          "old_line_content": "  WaitForJobIfRunningOnBackground(job->second.get());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "end",
          "new_api": null,
          "old_text": "jobs_.end()",
          "new_text": null,
          "old_line_content": "  return jobs_.end();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: received %0.1lfms of idle time\\n\",\n           idle_time_in_seconds *\n               static_cast<double>(base::Time::kMillisecondsPerSecond))",
          "new_text": null,
          "old_line_content": "    PrintF(\"CompilerDispatcher: received %0.1lfms of idle time\\n\",",
          "new_line_content": "  if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "new_api": null,
          "old_text": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "new_text": null,
          "old_line_content": "               static_cast<double>(base::Time::kMillisecondsPerSecond));",
          "new_line_content": "           idle_time_in_seconds *",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "status",
          "new_api": null,
          "old_text": "job->second->status()",
          "new_text": null,
          "old_line_content": "  bool result = job->second->status() != CompileJobStatus::kFailed;",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "new_api": null,
          "old_text": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "new_text": null,
          "old_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate_);",
          "new_line_content": "void CompilerDispatcher::ScheduleIdleTaskFromAnyThread() {",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "begin",
          "new_api": null,
          "old_text": "jobs_.begin()",
          "new_text": null,
          "old_line_content": "  for (auto job = jobs_.begin();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: finished working on \")",
          "new_text": null,
          "old_line_content": "    PrintF(\"CompilerDispatcher: finished working on \");",
          "new_line_content": "  if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "MonotonicallyIncreasingTime",
          "new_api": null,
          "old_text": "platform_->MonotonicallyIncreasingTime()",
          "new_text": null,
          "old_line_content": "           deadline_in_seconds - platform_->MonotonicallyIncreasingTime()) {",
          "new_line_content": "       idle_time_in_seconds =",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "get",
          "new_api": null,
          "old_text": "platform_->CallIdleOnForegroundThread(\n      v8_isolate, new IdleTask(isolate_, task_manager_.get(), this))",
          "new_text": null,
          "old_line_content": "  platform_->CallIdleOnForegroundThread(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "ResetOnMainThread",
          "new_api": null,
          "old_text": "job->second->ResetOnMainThread()",
          "new_text": null,
          "old_line_content": "  job->second->ResetOnMainThread();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "get",
          "new_api": null,
          "old_text": "job->second.get()",
          "new_text": null,
          "old_line_content": "    if (running_background_jobs_.find(job->second.get()) !=",
          "new_line_content": "        new base::LockGuard<base::Mutex>(&mutex_));",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "empty",
          "new_api": null,
          "old_text": "jobs_.empty()",
          "new_text": null,
          "old_line_content": "  if (jobs_.empty()) return;",
          "new_line_content": "void CompilerDispatcher::ScheduleIdleTaskIfNeeded() {",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "get",
          "new_api": null,
          "old_text": "job->second.get()",
          "new_text": null,
          "old_line_content": "    auto it = pending_background_jobs_.find(job->second.get());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "new_api": null,
          "old_text": "reinterpret_cast<v8::Isolate*>(isolate_)",
          "new_text": null,
          "old_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate_);",
          "new_line_content": "void CompilerDispatcher::ScheduleAbortTask() {",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "new_api": null,
          "old_text": "static_cast<double>(base::Time::kMillisecondsPerSecond)",
          "new_text": null,
          "old_line_content": "         static_cast<double>(base::Time::kMillisecondsPerSecond))) {",
          "new_line_content": "        (estimate_in_ms /",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "TryAbortAll",
          "new_api": null,
          "old_text": "task_manager_->TryAbortAll()",
          "new_text": null,
          "old_line_content": "      task_manager_->TryAbortAll() == CancelableTaskManager::kTaskRunning;",
          "new_line_content": "  bool background_tasks_running =",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "get",
          "new_api": null,
          "old_text": "it.second.get()",
          "new_text": null,
          "old_line_content": "      WaitForJobIfRunningOnBackground(it.second.get());",
          "new_line_content": "    for (auto& it : jobs_) {",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "end",
          "new_api": null,
          "old_text": "pending_background_jobs_.end()",
          "new_text": null,
          "old_line_content": "      if (it == pending_background_jobs_.end()) {",
          "new_line_content": "      if (estimate_in_ms > kMaxIdleTimeToExpectInMs) ++too_long_jobs;",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "CanRunOnAnyThread",
          "new_api": null,
          "old_text": "CanRunOnAnyThread(job)",
          "new_text": null,
          "old_line_content": "  if (!CanRunOnAnyThread(job)) return;",
          "new_line_content": "    CompilerDispatcherJob* job) {",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: aborted \")",
          "new_text": null,
          "old_line_content": "        PrintF(\"CompilerDispatcher: aborted \");",
          "new_line_content": "      if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "insert",
          "new_api": null,
          "old_text": "pending_background_jobs_.insert(job)",
          "new_text": null,
          "old_line_content": "    pending_background_jobs_.insert(job);",
          "new_line_content": "    base::LockGuard<base::Mutex> lock(&mutex_);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "get",
          "new_api": null,
          "old_text": "job->second.get()",
          "new_text": null,
          "old_line_content": "    } else if (IsFinished(job->second.get())) {",
          "new_line_content": "      ++job;",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "ScheduleMoreBackgroundTasksIfNeeded",
          "new_api": null,
          "old_text": "ScheduleMoreBackgroundTasksIfNeeded()",
          "new_text": null,
          "old_line_content": "  ScheduleMoreBackgroundTasksIfNeeded();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "ResetOnMainThread",
          "new_api": null,
          "old_text": "it.second->ResetOnMainThread()",
          "new_text": null,
          "old_line_content": "      it.second->ResetOnMainThread();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: finished working on \")",
          "new_text": null,
          "old_line_content": "        PrintF(\"CompilerDispatcher: finished working on \");",
          "new_line_content": "      if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "clear",
          "new_api": null,
          "old_text": "jobs_.clear()",
          "new_text": null,
          "old_line_content": "    jobs_.clear();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": null,
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.compile\")",
          "new_text": null,
          "old_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.compile\"),",
          "new_line_content": "void CompilerDispatcher::ScheduleMoreBackgroundTasksIfNeeded() {",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "empty",
          "new_api": null,
          "old_text": "pending_background_jobs_.empty()",
          "new_text": null,
          "old_line_content": "      DCHECK(pending_background_jobs_.empty());",
          "new_line_content": "      base::LockGuard<base::Mutex> lock(&mutex_);",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "DumpStatistics",
          "new_api": null,
          "old_text": "tracer_->DumpStatistics()",
          "new_text": null,
          "old_line_content": "        tracer_->DumpStatistics();",
          "new_line_content": "                             : \"failure\");",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "empty",
          "new_api": null,
          "old_text": "pending_background_jobs_.empty()",
          "new_text": null,
          "old_line_content": "    if (pending_background_jobs_.empty()) return;",
          "new_line_content": "    base::LockGuard<base::Mutex> lock(&mutex_);",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "ResetOnMainThread",
          "new_api": null,
          "old_text": "job->second->ResetOnMainThread()",
          "new_text": null,
          "old_line_content": "      job->second->ResetOnMainThread();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "clear",
          "new_api": null,
          "old_text": "pending_background_jobs_.clear()",
          "new_text": null,
          "old_line_content": "    pending_background_jobs_.clear();",
          "new_line_content": "    abort_ = true;",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "end",
          "new_api": null,
          "old_text": "pending_background_jobs_.end()",
          "new_text": null,
          "old_line_content": "      if (it != pending_background_jobs_.end()) {",
          "new_line_content": "      // iterator).",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "get",
          "new_api": null,
          "old_text": "platform_->CallOnBackgroundThread(\n      new BackgroundTask(isolate_, task_manager_.get(), this),\n      v8::Platform::kShortRunningTask)",
          "new_text": null,
          "old_line_content": "  platform_->CallOnBackgroundThread(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "AbortInactiveJobs",
          "new_api": null,
          "old_text": "AbortInactiveJobs()",
          "new_text": null,
          "old_line_content": "  AbortInactiveJobs();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "reset",
          "new_api": null,
          "old_text": "lock.reset()",
          "new_text": null,
          "old_line_content": "      lock.reset();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "ScheduleAbortTask",
          "new_api": null,
          "old_text": "ScheduleAbortTask()",
          "new_text": null,
          "old_line_content": "  ScheduleAbortTask();",
          "new_line_content": "  // processed as soon as possible (and not first when we have idle time).",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "ScheduleIdleTaskIfNeeded",
          "new_api": null,
          "old_text": "ScheduleIdleTaskIfNeeded()",
          "new_text": null,
          "old_line_content": "  if (jobs_.size() > too_long_jobs) ScheduleIdleTaskIfNeeded();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "empty",
          "new_api": null,
          "old_text": "pending_background_jobs_.empty()",
          "new_text": null,
          "old_line_content": "    if (!pending_background_jobs_.empty()) {",
          "new_line_content": "    --num_scheduled_background_tasks_;",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "erase",
          "new_api": null,
          "old_text": "pending_background_jobs_.erase(it)",
          "new_text": null,
          "old_line_content": "      pending_background_jobs_.erase(it);",
          "new_line_content": "      job = *it;",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "end",
          "new_api": null,
          "old_text": "jobs_.end()",
          "new_text": null,
          "old_line_content": "  for (auto it = jobs_.begin(); it != jobs_.end();) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "Value",
          "new_api": null,
          "old_text": "block_for_testing_.Value()",
          "new_text": null,
          "old_line_content": "  if (V8_UNLIKELY(block_for_testing_.Value())) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "get",
          "new_api": null,
          "old_text": "job->second.get()",
          "new_text": null,
          "old_line_content": "      if (running_background_jobs_.find(job->second.get()) !=",
          "new_line_content": "      base::LockGuard<base::Mutex> lock(&mutex_);",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: doing background work\\n\")",
          "new_text": null,
          "old_line_content": "    PrintF(\"CompilerDispatcher: doing background work\\n\");",
          "new_line_content": "  if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: aborted \")",
          "new_text": null,
          "old_line_content": "      PrintF(\"CompilerDispatcher: aborted \");",
          "new_line_content": "    if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "DoNextStepOnBackgroundThread",
          "new_api": null,
          "old_text": "DoNextStepOnBackgroundThread(job)",
          "new_text": null,
          "old_line_content": "  DoNextStepOnBackgroundThread(job);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "ScheduleMoreBackgroundTasksIfNeeded",
          "new_api": null,
          "old_text": "ScheduleMoreBackgroundTasksIfNeeded()",
          "new_text": null,
          "old_line_content": "  ScheduleMoreBackgroundTasksIfNeeded();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "ResetOnMainThread",
          "new_api": null,
          "old_text": "job->second->ResetOnMainThread()",
          "new_text": null,
          "old_line_content": "    job->second->ResetOnMainThread();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "ScheduleIdleTaskFromAnyThread",
          "new_api": null,
          "old_text": "ScheduleIdleTaskFromAnyThread()",
          "new_text": null,
          "old_line_content": "  ScheduleIdleTaskFromAnyThread();",
          "new_line_content": "  // followed by a main thread step.",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "empty",
          "new_api": null,
          "old_text": "jobs_.empty()",
          "new_text": null,
          "old_line_content": "  if (jobs_.empty()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "erase",
          "new_api": null,
          "old_text": "running_background_jobs_.erase(job)",
          "new_text": null,
          "old_line_content": "    running_background_jobs_.erase(job);",
          "new_line_content": "    base::LockGuard<base::Mutex> lock(&mutex_);",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "empty",
          "new_api": null,
          "old_text": "running_background_jobs_.empty()",
          "new_text": null,
          "old_line_content": "    if (running_background_jobs_.empty() && abort_) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "Value",
          "new_api": null,
          "old_text": "memory_pressure_level_.Value()",
          "new_text": null,
          "old_line_content": "  MemoryPressureLevel previous = memory_pressure_level_.Value();",
          "new_line_content": "    v8::MemoryPressureLevel level, bool is_isolate_locked) {",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "ScheduleAbortTask",
          "new_api": null,
          "old_text": "ScheduleAbortTask()",
          "new_text": null,
          "old_line_content": "      ScheduleAbortTask();",
          "new_line_content": "      // one to be on the safe side.",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": null,
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.compile\")",
          "new_text": null,
          "old_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.compile\"),",
          "new_line_content": "    CompilerDispatcherJob* job) {",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "NotifyOne",
          "new_api": null,
          "old_text": "main_thread_blocking_signal_.NotifyOne()",
          "new_text": null,
          "old_line_content": "      main_thread_blocking_signal_.NotifyOne();",
          "new_line_content": "      main_thread_blocking_on_job_ = nullptr;",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"CompilerDispatcher: received memory pressure notification\\n\")",
          "new_text": null,
          "old_line_content": "    PrintF(\"CompilerDispatcher: received memory pressure notification\\n\");",
          "new_line_content": "  if (trace_compiler_dispatcher_) {",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": "end",
          "new_api": null,
          "old_text": "running_background_jobs_.end()",
          "new_text": null,
          "old_line_content": "  if (running_background_jobs_.find(job) == running_background_jobs_.end()) {",
          "new_line_content": "  base::LockGuard<base::Mutex> lock(&mutex_);",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "AbortAll",
          "new_api": null,
          "old_text": "AbortAll(BlockingBehavior::kDontBlock)",
          "new_text": null,
          "old_line_content": "    AbortAll(BlockingBehavior::kDontBlock);",
          "new_line_content": "  if (is_isolate_locked) {",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "DCHECK_NULL",
          "new_api": null,
          "old_text": "DCHECK_NULL(main_thread_blocking_on_job_)",
          "new_text": null,
          "old_line_content": "  DCHECK_NULL(main_thread_blocking_on_job_);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "Wait",
          "new_api": null,
          "old_text": "main_thread_blocking_signal_.Wait(&mutex_)",
          "new_text": null,
          "old_line_content": "    main_thread_blocking_signal_.Wait(&mutex_);",
          "new_line_content": "  while (main_thread_blocking_on_job_ != nullptr) {",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "end",
          "new_api": null,
          "old_text": "pending_background_jobs_.end()",
          "new_text": null,
          "old_line_content": "  DCHECK(pending_background_jobs_.find(job) == pending_background_jobs_.end());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "clear",
          "new_api": null,
          "old_text": "pending_background_jobs_.clear()",
          "new_text": null,
          "old_line_content": "      pending_background_jobs_.clear();",
          "new_line_content": "      abort_ = true;",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "AbortInactiveJobs",
          "new_api": null,
          "old_text": "AbortInactiveJobs()",
          "new_text": null,
          "old_line_content": "    AbortInactiveJobs();",
          "new_line_content": "  if (aborted) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 41,
      "total_additions": 73,
      "total_deletions": 72,
      "total_api_changes": 186
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 1,
        "api_related_lines": 186,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 258,
    "api_calls_after": 259,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 0,
      "total_diff_lines": 13
    }
  }
}