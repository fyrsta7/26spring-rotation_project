{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/660d11a217855f9704dacc106bbda46a249c2b77",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/660d11a217855f9704dacc106bbda46a249c2b77/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/660d11a217855f9704dacc106bbda46a249c2b77/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/660d11a217855f9704dacc106bbda46a249c2b77/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 374,
          "old_api": "PrintF",
          "new_api": "ReplaceCode",
          "old_text": "PrintF(\"[OSR - Failed: \")",
          "new_text": "function->ReplaceCode(\n              isolate->builtins()->builtin(Builtins::kCompileOptimized))",
          "old_line_content": "    PrintF(\"[OSR - Failed: \");",
          "new_line_content": "          function->ReplaceCode(",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "PrintName",
          "new_api": "builtins",
          "old_text": "function->PrintName()",
          "new_text": "isolate->builtins()->builtin(Builtins::kCompileOptimized)",
          "old_line_content": "    function->PrintName();",
          "new_line_content": "              isolate->builtins()->builtin(Builtins::kCompileOptimized));",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "IsOptimized",
          "new_api": "ReplaceCode",
          "old_text": "function->IsOptimized()",
          "new_text": "function->ReplaceCode(*result)",
          "old_line_content": "  if (!function->IsOptimized()) {",
          "new_line_content": "        function->ReplaceCode(*result);",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "length",
          "new_api": "PrintName",
          "old_text": "args.length()",
          "new_text": "function->PrintName()",
          "old_line_content": "  DCHECK(args.length() == 1);",
          "new_line_content": "    function->PrintName();",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "CONVERT_ARG_HANDLE_CHECKED",
          "new_api": "ToInt",
          "old_text": "CONVERT_ARG_HANDLE_CHECKED(JSFunction, function, 0)",
          "new_text": "ast_id.ToInt()",
          "old_line_content": "  CONVERT_ARG_HANDLE_CHECKED(JSFunction, function, 0);",
          "new_line_content": "    PrintF(\" at AST id %d]\\n\", ast_id.ToInt());",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "JsHasOverflowed",
          "new_api": "shared",
          "old_text": "check.JsHasOverflowed()",
          "new_text": "function->shared()->code()",
          "old_line_content": "  if (check.JsHasOverflowed()) {",
          "new_line_content": "    function->ReplaceCode(function->shared()->code());",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "allow_code_gen_from_strings",
          "new_api": "JsHasOverflowed",
          "old_text": "context->allow_code_gen_from_strings()->IsFalse(isolate)",
          "new_text": "check.JsHasOverflowed()",
          "old_line_content": "  DCHECK(context->allow_code_gen_from_strings()->IsFalse(isolate));",
          "new_line_content": "  if (check.JsHasOverflowed()) {",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "allow_code_gen_from_strings",
          "new_api": "v8::Utils::ToLocal(context)",
          "old_text": "native_context->allow_code_gen_from_strings()->IsFalse(isolate)",
          "new_text": "v8::Utils::ToLocal(context)",
          "old_line_content": "  if (native_context->allow_code_gen_from_strings()->IsFalse(isolate) &&",
          "new_line_content": "    return callback(v8::Utils::ToLocal(context));",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "heap",
          "new_api": "context",
          "old_text": "isolate->heap()->exception()",
          "new_text": "isolate->context()",
          "old_line_content": "    return isolate->heap()->exception();",
          "new_line_content": "  Handle<Context> context = Handle<Context>(isolate->context());",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "Compiler::GetFunctionFromEval(\n                             source, outer_info, context, language_mode,\n                             restriction, eval_scope_position, eval_position)",
          "new_api": "ErrorMessageForCodeGenerationFromStrings",
          "old_text": "Compiler::GetFunctionFromEval(\n                             source, outer_info, context, language_mode,\n                             restriction, eval_scope_position, eval_position)",
          "new_text": "native_context->ErrorMessageForCodeGenerationFromStrings()",
          "old_line_content": "      isolate, compiled, Compiler::GetFunctionFromEval(",
          "new_line_content": "        native_context->ErrorMessageForCodeGenerationFromStrings();",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "args.at<Object>(0)",
          "new_api": "heap",
          "old_text": "args.at<Object>(0)",
          "new_text": "ASSIGN_RETURN_ON_EXCEPTION_VALUE(\n      isolate, compiled, Compiler::GetFunctionFromEval(\n                             source, outer_info, context, language_mode,\n                             restriction, eval_scope_position, eval_position),\n      isolate->heap()->exception())",
          "old_line_content": "  Handle<Object> callee = args.at<Object>(0);",
          "new_line_content": "  ASSIGN_RETURN_ON_EXCEPTION_VALUE(",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "smi_at",
          "new_api": "args.at<Object>(0)",
          "old_text": "args.smi_at(3)",
          "new_text": "args.at<Object>(0)",
          "old_line_content": "  DCHECK(is_valid_language_mode(args.smi_at(3)));",
          "new_line_content": "  Handle<Object> callee = args.at<Object>(0);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 387,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"[OSR - Failed: \")",
          "old_line_content": "  HandleScope scope(isolate);",
          "new_line_content": "    PrintF(\"[OSR - Failed: \");",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": null,
          "new_api": "IsOptimized",
          "old_text": null,
          "new_text": "function->IsOptimized()",
          "old_line_content": "  StackLimitCheck check(isolate);",
          "new_line_content": "  if (!function->IsOptimized()) {",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "args.length()",
          "old_line_content": "}",
          "new_line_content": "  DCHECK(args.length() == 1);",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "CONVERT_ARG_HANDLE_CHECKED",
          "old_text": null,
          "new_text": "CONVERT_ARG_HANDLE_CHECKED(JSFunction, function, 0)",
          "old_line_content": "",
          "new_line_content": "  CONVERT_ARG_HANDLE_CHECKED(JSFunction, function, 0);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": null,
          "new_api": "StackOverflow",
          "old_text": null,
          "new_text": "isolate->StackOverflow()",
          "old_line_content": "  AllowCodeGenerationFromStringsCallback callback =",
          "new_line_content": "    return isolate->StackOverflow();",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "optimizing_compile_dispatcher",
          "old_text": null,
          "new_text": "isolate->optimizing_compile_dispatcher()->InstallOptimizedFunctions()",
          "old_line_content": "    // No callback set and code generation disallowed.",
          "new_line_content": "  isolate->optimizing_compile_dispatcher()->InstallOptimizedFunctions();",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "code",
          "old_text": null,
          "new_text": "function->code()",
          "old_line_content": "    return false;",
          "new_line_content": "  return (function->IsOptimized()) ? function->code()",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "function->shared()->code()",
          "old_line_content": "  } else {",
          "new_line_content": "                                   : function->shared()->code();",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": null,
          "new_api": "allow_code_gen_from_strings",
          "old_text": null,
          "new_text": "context->allow_code_gen_from_strings()->IsFalse(isolate)",
          "old_line_content": "",
          "new_line_content": "  DCHECK(context->allow_code_gen_from_strings()->IsFalse(isolate));",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "allow_code_gen_callback",
          "old_text": null,
          "new_text": "isolate->allow_code_gen_callback()",
          "old_line_content": "                                 LanguageMode language_mode,",
          "new_line_content": "      isolate->allow_code_gen_callback();",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "native_context",
          "old_text": null,
          "new_text": "context->native_context()",
          "old_line_content": "  }",
          "new_line_content": "  Handle<Context> native_context = Handle<Context>(context->native_context());",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "allow_code_gen_from_strings",
          "old_text": null,
          "new_text": "native_context->allow_code_gen_from_strings()->IsFalse(isolate)",
          "old_line_content": "  static const ParseRestriction restriction = NO_PARSE_RESTRICTION;",
          "new_line_content": "  if (native_context->allow_code_gen_from_strings()->IsFalse(isolate) &&",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "CodeGenerationFromStringsAllowed",
          "old_text": null,
          "new_text": "CodeGenerationFromStringsAllowed(isolate, native_context)",
          "old_line_content": "  Handle<JSFunction> compiled;",
          "new_line_content": "      !CodeGenerationFromStringsAllowed(isolate, native_context)) {",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "factory",
          "old_text": null,
          "new_text": "isolate->factory()->NewEvalError(\n        MessageTemplate::kCodeGenFromStrings, error_message)",
          "old_line_content": "                             restriction, eval_scope_position, eval_position),",
          "new_line_content": "    MaybeHandle<Object> maybe_error = isolate->factory()->NewEvalError(",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "Throw",
          "old_text": null,
          "new_text": "isolate->Throw(*error)",
          "old_line_content": "  return *compiled;",
          "new_line_content": "    if (maybe_error.ToHandle(&error)) isolate->Throw(*error);",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "heap",
          "old_text": null,
          "new_text": "isolate->heap()->exception()",
          "old_line_content": "}",
          "new_line_content": "    return isolate->heap()->exception();",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "Compiler::GetFunctionFromEval(\n                             source, outer_info, context, language_mode,\n                             restriction, eval_scope_position, eval_position)",
          "old_text": null,
          "new_text": "Compiler::GetFunctionFromEval(\n                             source, outer_info, context, language_mode,\n                             restriction, eval_scope_position, eval_position)",
          "old_line_content": "",
          "new_line_content": "      isolate, compiled, Compiler::GetFunctionFromEval(",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": null,
          "new_api": "heap",
          "old_text": null,
          "new_text": "isolate->heap()->exception()",
          "old_line_content": "  // (And even if it is, but the first argument isn't a string, just let",
          "new_line_content": "      isolate->heap()->exception());",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "args.length()",
          "old_line_content": "",
          "new_line_content": "  DCHECK(args.length() == 6);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "native_context",
          "old_text": null,
          "new_text": "isolate->native_context()->global_eval_fun()",
          "old_line_content": "}",
          "new_line_content": "  if (*callee != isolate->native_context()->global_eval_fun() ||",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "IsString",
          "old_text": null,
          "new_text": "args[1]->IsString()",
          "old_line_content": "}  // namespace internal",
          "new_line_content": "      !args[1]->IsString()) {",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "IsSmi",
          "old_text": null,
          "new_text": "args[3]->IsSmi()",
          "old_line_content": "",
          "new_line_content": "  DCHECK(args[3]->IsSmi());",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": null,
          "new_api": "smi_at",
          "old_text": null,
          "new_text": "args.smi_at(3)",
          "old_line_content": "",
          "new_line_content": "  DCHECK(is_valid_language_mode(args.smi_at(3)));",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "smi_at",
          "old_text": null,
          "new_text": "args.smi_at(3)",
          "old_line_content": "",
          "new_line_content": "  LanguageMode language_mode = static_cast<LanguageMode>(args.smi_at(3));",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "IsSmi",
          "old_text": null,
          "new_text": "args[4]->IsSmi()",
          "old_line_content": "",
          "new_line_content": "  DCHECK(args[4]->IsSmi());",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "args.at<JSFunction>(2)->shared()",
          "old_line_content": "",
          "new_line_content": "  Handle<SharedFunctionInfo> outer_info(args.at<JSFunction>(2)->shared(),",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "args.at<String>(1)",
          "old_text": null,
          "new_text": "args.at<String>(1)",
          "old_line_content": "",
          "new_line_content": "  return CompileGlobalEval(isolate, args.at<String>(1), outer_info,",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "smi_at",
          "old_text": null,
          "new_text": "args.smi_at(5)",
          "old_line_content": "",
          "new_line_content": "                           language_mode, args.smi_at(4), args.smi_at(5));",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": null,
          "new_api": "IsMarkedForConcurrentOptimization",
          "old_text": null,
          "new_text": "function->IsMarkedForConcurrentOptimization()",
          "old_line_content": "      return *result;",
          "new_line_content": "        if (function->IsMarkedForConcurrentOptimization()) {",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"[OSR - Re-marking \")",
          "old_line_content": "  }",
          "new_line_content": "            PrintF(\"[OSR - Re-marking \");",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": null,
          "new_api": "PrintName",
          "old_text": null,
          "new_text": "function->PrintName()",
          "old_line_content": "",
          "new_line_content": "            function->PrintName();",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\" for non-concurrent optimization]\\n\")",
          "old_line_content": "  // Failed.",
          "new_line_content": "            PrintF(\" for non-concurrent optimization]\\n\");",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 395,
          "old_api": "StackOverflow",
          "new_api": null,
          "old_text": "isolate->StackOverflow()",
          "new_text": null,
          "old_line_content": "    return isolate->StackOverflow();",
          "new_line_content": "  return NULL;",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "optimizing_compile_dispatcher",
          "new_api": null,
          "old_text": "isolate->optimizing_compile_dispatcher()->InstallOptimizedFunctions()",
          "new_text": null,
          "old_line_content": "  isolate->optimizing_compile_dispatcher()->InstallOptimizedFunctions();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "code",
          "new_api": null,
          "old_text": "function->code()",
          "new_text": null,
          "old_line_content": "  return (function->IsOptimized()) ? function->code()",
          "new_line_content": "RUNTIME_FUNCTION(Runtime_TryInstallOptimizedCode) {",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "shared",
          "new_api": null,
          "old_text": "function->shared()->code()",
          "new_text": null,
          "old_line_content": "                                   : function->shared()->code();",
          "new_line_content": "  HandleScope scope(isolate);",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "allow_code_gen_callback",
          "new_api": null,
          "old_text": "isolate->allow_code_gen_callback()",
          "new_text": null,
          "old_line_content": "      isolate->allow_code_gen_callback();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "v8::Utils::ToLocal(context)",
          "new_api": null,
          "old_text": "v8::Utils::ToLocal(context)",
          "new_text": null,
          "old_line_content": "    return callback(v8::Utils::ToLocal(context));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": "context",
          "new_api": null,
          "old_text": "isolate->context()",
          "new_text": null,
          "old_line_content": "  Handle<Context> context = Handle<Context>(isolate->context());",
          "new_line_content": "    // No callback set and code generation disallowed.",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "native_context",
          "new_api": null,
          "old_text": "context->native_context()",
          "new_text": null,
          "old_line_content": "  Handle<Context> native_context = Handle<Context>(context->native_context());",
          "new_line_content": "    return false;",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "CodeGenerationFromStringsAllowed",
          "new_api": null,
          "old_text": "CodeGenerationFromStringsAllowed(isolate, native_context)",
          "new_text": null,
          "old_line_content": "      !CodeGenerationFromStringsAllowed(isolate, native_context)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "ErrorMessageForCodeGenerationFromStrings",
          "new_api": null,
          "old_text": "native_context->ErrorMessageForCodeGenerationFromStrings()",
          "new_text": null,
          "old_line_content": "        native_context->ErrorMessageForCodeGenerationFromStrings();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "factory",
          "new_api": null,
          "old_text": "isolate->factory()->NewEvalError(\n        MessageTemplate::kCodeGenFromStrings, error_message)",
          "new_text": null,
          "old_line_content": "    MaybeHandle<Object> maybe_error = isolate->factory()->NewEvalError(",
          "new_line_content": "                                 Handle<SharedFunctionInfo> outer_info,",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "Throw",
          "new_api": null,
          "old_text": "isolate->Throw(*error)",
          "new_text": null,
          "old_line_content": "    if (maybe_error.ToHandle(&error)) isolate->Throw(*error);",
          "new_line_content": "                                 int eval_scope_position, int eval_position) {",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "heap",
          "new_api": null,
          "old_text": "ASSIGN_RETURN_ON_EXCEPTION_VALUE(\n      isolate, compiled, Compiler::GetFunctionFromEval(\n                             source, outer_info, context, language_mode,\n                             restriction, eval_scope_position, eval_position),\n      isolate->heap()->exception())",
          "new_text": null,
          "old_line_content": "  ASSIGN_RETURN_ON_EXCEPTION_VALUE(",
          "new_line_content": "    Handle<Object> error_message =",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "heap",
          "new_api": null,
          "old_text": "isolate->heap()->exception()",
          "new_text": null,
          "old_line_content": "      isolate->heap()->exception());",
          "new_line_content": "        MessageTemplate::kCodeGenFromStrings, error_message);",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "length",
          "new_api": null,
          "old_text": "args.length()",
          "new_text": null,
          "old_line_content": "  DCHECK(args.length() == 6);",
          "new_line_content": "  static const ParseRestriction restriction = NO_PARSE_RESTRICTION;",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "native_context",
          "new_api": null,
          "old_text": "isolate->native_context()->global_eval_fun()",
          "new_text": null,
          "old_line_content": "  if (*callee != isolate->native_context()->global_eval_fun() ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "IsString",
          "new_api": null,
          "old_text": "args[1]->IsString()",
          "new_text": null,
          "old_line_content": "      !args[1]->IsString()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "IsSmi",
          "new_api": null,
          "old_text": "args[3]->IsSmi()",
          "new_text": null,
          "old_line_content": "  DCHECK(args[3]->IsSmi());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "smi_at",
          "new_api": null,
          "old_text": "args.smi_at(3)",
          "new_text": null,
          "old_line_content": "  LanguageMode language_mode = static_cast<LanguageMode>(args.smi_at(3));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "IsSmi",
          "new_api": null,
          "old_text": "args[4]->IsSmi()",
          "new_text": null,
          "old_line_content": "  DCHECK(args[4]->IsSmi());",
          "new_line_content": "  // If \"eval\" didn't refer to the original GlobalEval, it's not a",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "shared",
          "new_api": null,
          "old_text": "args.at<JSFunction>(2)->shared()",
          "new_text": null,
          "old_line_content": "  Handle<SharedFunctionInfo> outer_info(args.at<JSFunction>(2)->shared(),",
          "new_line_content": "  // direct call to eval.",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "args.at<String>(1)",
          "new_api": null,
          "old_text": "args.at<String>(1)",
          "new_text": null,
          "old_line_content": "  return CompileGlobalEval(isolate, args.at<String>(1), outer_info,",
          "new_line_content": "  // execution default to an indirect call to eval, which will also return",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "smi_at",
          "new_api": null,
          "old_text": "args.smi_at(5)",
          "new_text": null,
          "old_line_content": "                           language_mode, args.smi_at(4), args.smi_at(5));",
          "new_line_content": "  // the first argument without doing anything).",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "ReplaceCode",
          "new_api": null,
          "old_text": "function->ReplaceCode(*result)",
          "new_text": null,
          "old_line_content": "        function->ReplaceCode(*result);",
          "new_line_content": "        // the next call - otherwise we'd run unoptimized once more",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "ToInt",
          "new_api": null,
          "old_text": "ast_id.ToInt()",
          "new_text": null,
          "old_line_content": "    PrintF(\" at AST id %d]\\n\", ast_id.ToInt());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "shared",
          "new_api": null,
          "old_text": "function->shared()->code()",
          "new_text": null,
          "old_line_content": "    function->ReplaceCode(function->shared()->code());",
          "new_line_content": "      }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 12,
      "total_additions": 32,
      "total_deletions": 26,
      "total_api_changes": 70
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 70,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          364,
          365,
          367,
          369,
          373,
          377
        ]
      }
    },
    "api_calls_before": 302,
    "api_calls_after": 309,
    "diff_info": {
      "added_lines": 14,
      "removed_lines": 1,
      "total_diff_lines": 27
    }
  }
}