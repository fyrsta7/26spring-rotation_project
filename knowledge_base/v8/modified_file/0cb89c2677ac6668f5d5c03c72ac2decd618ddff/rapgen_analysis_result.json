{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/0cb89c2677ac6668f5d5c03c72ac2decd618ddff",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/0cb89c2677ac6668f5d5c03c72ac2decd618ddff/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/0cb89c2677ac6668f5d5c03c72ac2decd618ddff/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/0cb89c2677ac6668f5d5c03c72ac2decd618ddff/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1342,
          "old_api": "DisableOptimization",
          "new_api": "PutEval",
          "old_text": "shared_info->DisableOptimization(kEval)",
          "new_text": "compilation_cache->PutEval(source, outer_info, context, shared_info,\n                                 eval_scope_position)",
          "old_line_content": "        shared_info->DisableOptimization(kEval);",
          "new_line_content": "      compilation_cache->PutEval(source, outer_info, context, shared_info,",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "PutEval",
          "new_api": "factory",
          "old_text": "compilation_cache->PutEval(source, outer_info, context, shared_info,\n                                 eval_scope_position)",
          "new_text": "isolate->factory()->NewFunctionFromSharedFunctionInfo(\n          shared_info, context, NOT_TENURED)",
          "old_line_content": "      compilation_cache->PutEval(source, outer_info, context, shared_info,",
          "new_line_content": "      isolate->factory()->NewFunctionFromSharedFunctionInfo(",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "factory",
          "new_api": "debug",
          "old_text": "isolate->factory()->NewFunctionFromSharedFunctionInfo(\n          shared_info, context, NOT_TENURED)",
          "new_text": "isolate->debug()->OnAfterCompile(script)",
          "old_line_content": "      isolate->factory()->NewFunctionFromSharedFunctionInfo(",
          "new_line_content": "  isolate->debug()->OnAfterCompile(script);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "GetIsolate",
          "new_api": "DCHECK",
          "old_text": "source->GetIsolate()",
          "new_text": "DCHECK(extension == NULL)",
          "old_line_content": "  Isolate* isolate = source->GetIsolate();",
          "new_line_content": "    DCHECK(extension == NULL);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "DCHECK",
          "new_api": "counters",
          "old_text": "DCHECK(compile_options == ScriptCompiler::kConsumeParserCache ||\n           compile_options == ScriptCompiler::kConsumeCodeCache)",
          "new_text": "isolate->counters()->total_load_size()->Increment(source_length)",
          "old_line_content": "    DCHECK(compile_options == ScriptCompiler::kConsumeParserCache ||",
          "new_line_content": "  isolate->counters()->total_load_size()->Increment(source_length);",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "DCHECK",
          "new_api": "construct_language_mode",
          "old_text": "DCHECK(extension == NULL)",
          "new_text": "construct_language_mode(FLAG_use_strict)",
          "old_line_content": "    DCHECK(extension == NULL);",
          "new_line_content": "  LanguageMode language_mode = construct_language_mode(FLAG_use_strict);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "counters",
          "new_api": "PutScript",
          "old_text": "isolate->counters()->compile_deserialize()",
          "new_text": "compilation_cache->PutScript(source, context, language_mode, result)",
          "old_line_content": "      HistogramTimerScope timer(isolate->counters()->compile_deserialize());",
          "new_line_content": "        compilation_cache->PutScript(source, context, language_mode, result);",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "ToHandle",
          "new_api": "factory",
          "old_text": "maybe_result.ToHandle(&result)",
          "new_text": "isolate->factory()->NewScript(source)",
          "old_line_content": "  if (!maybe_result.ToHandle(&result) ||",
          "new_line_content": "    Handle<Script> script = isolate->factory()->NewScript(source);",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "factory",
          "new_api": "set_hide_source",
          "old_text": "isolate->factory()->NewScript(source)",
          "new_text": "script->set_hide_source(true)",
          "old_line_content": "    Handle<Script> script = isolate->factory()->NewScript(source);",
          "new_line_content": "      script->set_hide_source(true);",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "set_type",
          "new_api": "is_null",
          "old_text": "script->set_type(Script::TYPE_NATIVE)",
          "new_text": "script_name.is_null()",
          "old_line_content": "      script->set_type(Script::TYPE_NATIVE);",
          "new_line_content": "    if (!script_name.is_null()) {",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "set_hide_source",
          "new_api": "set_name",
          "old_text": "script->set_hide_source(true)",
          "new_text": "script->set_name(*script_name)",
          "old_line_content": "      script->set_hide_source(true);",
          "new_line_content": "      script->set_name(*script_name);",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "set_type",
          "new_api": "set_column_offset",
          "old_text": "script->set_type(Script::TYPE_EXTENSION)",
          "new_text": "script->set_column_offset(column_offset)",
          "old_line_content": "      script->set_type(Script::TYPE_EXTENSION);",
          "new_line_content": "      script->set_column_offset(column_offset);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "set_name",
          "new_api": "set_source_mapping_url",
          "old_text": "script->set_name(*script_name)",
          "new_text": "script->set_source_mapping_url(*source_map_url)",
          "old_line_content": "      script->set_name(*script_name);",
          "new_line_content": "      script->set_source_mapping_url(*source_map_url);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "set_origin_options",
          "new_api": "allocator",
          "old_text": "script->set_origin_options(resource_options)",
          "new_text": "isolate->allocator()",
          "old_line_content": "    script->set_origin_options(resource_options);",
          "new_line_content": "    Zone zone(isolate->allocator());",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "set_source_mapping_url",
          "new_api": "Handle<JSFunction>::null()",
          "old_text": "script->set_source_mapping_url(*source_map_url)",
          "new_text": "Handle<JSFunction>::null()",
          "old_line_content": "      script->set_source_mapping_url(*source_map_url);",
          "new_line_content": "    CompilationInfo info(&parse_info, Handle<JSFunction>::null());",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "allocator",
          "new_api": "set_global",
          "old_text": "isolate->allocator()",
          "new_text": "parse_info.set_global()",
          "old_line_content": "    Zone zone(isolate->allocator());",
          "new_line_content": "      parse_info.set_global();",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "set_global",
          "new_api": "set_extension",
          "old_text": "parse_info.set_global()",
          "new_text": "parse_info.set_extension(extension)",
          "old_line_content": "      parse_info.set_global();",
          "new_line_content": "    parse_info.set_extension(extension);",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "set_context",
          "new_api": "set_language_mode",
          "old_text": "parse_info.set_context(context)",
          "new_text": "parse_info.set_language_mode(\n        static_cast<LanguageMode>(parse_info.language_mode() | language_mode))",
          "old_line_content": "    parse_info.set_context(context);",
          "new_line_content": "    parse_info.set_language_mode(",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "PrepareForSerializing",
          "new_api": "is_null",
          "old_text": "info.PrepareForSerializing()",
          "new_text": "result.is_null()",
          "old_line_content": "      info.PrepareForSerializing();",
          "new_line_content": "    if (extension == NULL && !result.is_null()) {",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "CompileToplevel",
          "new_api": "counters",
          "old_text": "CompileToplevel(&info)",
          "new_text": "isolate->counters()->compile_serialize()",
          "old_line_content": "    result = CompileToplevel(&info);",
          "new_line_content": "            isolate->counters()->compile_serialize());",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "is_null",
          "new_api": "TRACE_EVENT0",
          "old_text": "result.is_null()",
          "new_text": "TRACE_EVENT0(\"v8\", \"V8.CompileSerialize\")",
          "old_line_content": "    if (extension == NULL && !result.is_null()) {",
          "new_line_content": "        TRACE_EVENT0(\"v8\", \"V8.CompileSerialize\");",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "PutScript",
          "new_api": "CodeSerializer::Serialize(isolate, result, source)",
          "old_text": "compilation_cache->PutScript(source, context, language_mode, result)",
          "new_text": "CodeSerializer::Serialize(isolate, result, source)",
          "old_line_content": "      compilation_cache->PutScript(source, context, language_mode, result);",
          "new_line_content": "        *cached_data = CodeSerializer::Serialize(isolate, result, source);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "Elapsed",
          "new_api": "is_null",
          "old_text": "PrintF(\"[Compiling and serializing took %0.3f ms]\\n\",\n                 timer.Elapsed().InMillisecondsF())",
          "new_text": "result.is_null()",
          "old_line_content": "          PrintF(\"[Compiling and serializing took %0.3f ms]\\n\",",
          "new_line_content": "    if (result.is_null()) {",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "Elapsed",
          "new_api": "ReportPendingMessages",
          "old_text": "timer.Elapsed().InMillisecondsF()",
          "new_text": "isolate->ReportPendingMessages()",
          "old_line_content": "                 timer.Elapsed().InMillisecondsF());",
          "new_line_content": "      isolate->ReportPendingMessages();",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "is_null",
          "new_api": "heap",
          "old_text": "result.is_null()",
          "new_text": "isolate->heap()->global_ic_age()",
          "old_line_content": "    if (result.is_null()) {",
          "new_line_content": "    result->ResetForNewContext(isolate->heap()->global_ic_age());",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": "GetIsolate",
          "new_api": "set_language_mode",
          "old_text": "script->GetIsolate()",
          "new_text": "parse_info->set_language_mode(\n      static_cast<LanguageMode>(parse_info->language_mode() | language_mode))",
          "old_line_content": "  Isolate* isolate = script->GetIsolate();",
          "new_line_content": "  parse_info->set_language_mode(",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "set_language_mode",
          "new_api": "is_debug",
          "old_text": "parse_info->set_language_mode(\n      static_cast<LanguageMode>(parse_info->language_mode() | language_mode))",
          "new_text": "compile_info.is_debug()",
          "old_line_content": "  parse_info->set_language_mode(",
          "new_line_content": "  DCHECK(!compile_info.is_debug());",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "NewSharedFunctionInfoForLiteral",
          "new_api": "shared_info",
          "old_text": "NewSharedFunctionInfoForLiteral(isolate, literal, script)",
          "new_text": "outer_info->shared_info()->never_compiled()",
          "old_line_content": "    result = NewSharedFunctionInfoForLiteral(isolate, literal, script);",
          "new_line_content": "    result->set_never_compiled(outer_info->shared_info()->never_compiled());",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "shared_info",
          "new_api": "set_literal",
          "old_text": "outer_info->shared_info()->never_compiled()",
          "new_text": "parse_info.set_literal(literal)",
          "old_line_content": "    result->set_never_compiled(outer_info->shared_info()->never_compiled());",
          "new_line_content": "  parse_info.set_literal(literal);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "allocator",
          "new_api": "scope",
          "old_text": "isolate->allocator()",
          "new_text": "literal->scope()->language_mode()",
          "old_line_content": "  Zone zone(isolate->allocator());",
          "new_line_content": "  parse_info.set_language_mode(literal->scope()->language_mode());",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "Handle<JSFunction>::null()",
          "new_api": "MarkAsDebug",
          "old_text": "Handle<JSFunction>::null()",
          "new_text": "info.MarkAsDebug()",
          "old_line_content": "  CompilationInfo info(&parse_info, Handle<JSFunction>::null());",
          "new_line_content": "  if (outer_info->is_debug()) info.MarkAsDebug();",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "LiveEditFunctionTracker::IsActive(isolate)",
          "new_api": "will_serialize",
          "old_text": "LiveEditFunctionTracker::IsActive(isolate)",
          "new_text": "info.will_serialize()",
          "old_line_content": "                    !LiveEditFunctionTracker::IsActive(isolate) &&",
          "new_line_content": "  lazy &= !(FLAG_serialize_eager && info.will_serialize());",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "serializer_enabled",
          "new_api": "builtins",
          "old_text": "isolate->serializer_enabled()",
          "new_text": "isolate->builtins()->CompileLazy()",
          "old_line_content": "      !(FLAG_ignition && FLAG_ignition_eager && !isolate->serializer_enabled());",
          "new_line_content": "    info.SetCode(isolate->builtins()->CompileLazy());",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "TRACE_EVENT0",
          "new_api": "code",
          "old_text": "TRACE_EVENT0(\"v8\", \"V8.CompileCode\")",
          "new_text": "info.code().is_null()",
          "old_line_content": "  TRACE_EVENT0(\"v8\", \"V8.CompileCode\");",
          "new_line_content": "    DCHECK(!info.code().is_null());",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "builtins",
          "new_api": "should_be_used_once_hint",
          "old_text": "isolate->builtins()->CompileLazy()",
          "new_text": "literal->should_be_used_once_hint()",
          "old_line_content": "    info.SetCode(isolate->builtins()->CompileLazy());",
          "new_line_content": "        literal->should_be_used_once_hint()) {",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "GenerateUnoptimizedCode",
          "new_api": "code",
          "old_text": "GenerateUnoptimizedCode(&info)",
          "new_text": "info.code()->MarkToBeExecutedOnce(isolate)",
          "old_line_content": "  } else if (Renumber(info.parse_info()) && GenerateUnoptimizedCode(&info)) {",
          "new_line_content": "      info.code()->MarkToBeExecutedOnce(isolate);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "code",
          "new_api": "InstallSharedScopeInfo",
          "old_text": "info.code().is_null()",
          "new_text": "InstallSharedScopeInfo(&info, result)",
          "old_line_content": "    DCHECK(!info.code().is_null());",
          "new_line_content": "    InstallSharedScopeInfo(&info, result);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "should_be_used_once_hint",
          "new_api": "InstallSharedCompilationResult",
          "old_text": "literal->should_be_used_once_hint()",
          "new_text": "InstallSharedCompilationResult(&info, result)",
          "old_line_content": "        literal->should_be_used_once_hint()) {",
          "new_line_content": "    InstallSharedCompilationResult(&info, result);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "InstallSharedCompilationResult",
          "new_api": "RecordFunctionCompilation",
          "old_text": "InstallSharedCompilationResult(&info, result)",
          "new_text": "RecordFunctionCompilation(Logger::FUNCTION_TAG, &info)",
          "old_line_content": "    InstallSharedCompilationResult(&info, result);",
          "new_line_content": "    RecordFunctionCompilation(Logger::FUNCTION_TAG, &info);",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "GetIsolate",
          "new_api": "v8::Utils::ToLocal(name)",
          "old_text": "name->GetIsolate()",
          "new_text": "v8::Utils::ToLocal(name)",
          "old_line_content": "  Isolate* isolate = name->GetIsolate();",
          "new_line_content": "                                           v8::Utils::ToLocal(name));",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": "reinterpret_cast<v8::Isolate*>(isolate)",
          "new_api": "IsEmpty",
          "old_text": "reinterpret_cast<v8::Isolate*>(isolate)",
          "new_text": "fun_template.IsEmpty()",
          "old_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate);",
          "new_line_content": "  DCHECK(!fun_template.IsEmpty());",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "GetNativeFunctionTemplate",
          "new_api": "GetCurrentContext",
          "old_text": "extension->GetNativeFunctionTemplate(v8_isolate,\n                                           v8::Utils::ToLocal(name))",
          "new_text": "v8_isolate->GetCurrentContext()",
          "old_line_content": "      extension->GetNativeFunctionTemplate(v8_isolate,",
          "new_line_content": "      *fun_template->GetFunction(v8_isolate->GetCurrentContext())",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "IsEmpty",
          "new_api": "NumberOfLiterals",
          "old_text": "fun_template.IsEmpty()",
          "new_text": "fun->NumberOfLiterals()",
          "old_line_content": "  DCHECK(!fun_template.IsEmpty());",
          "new_line_content": "  const int literals = fun->NumberOfLiterals();",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "ToLocalChecked",
          "new_api": "factory",
          "old_text": "Utils::OpenHandle(\n      *fun_template->GetFunction(v8_isolate->GetCurrentContext())\n           .ToLocalChecked())",
          "new_text": "isolate->factory()->NewSharedFunctionInfo(\n      name, literals, FunctionKind::kNormalFunction, code,\n      Handle<ScopeInfo>(fun->shared()->scope_info()))",
          "old_line_content": "  Handle<JSFunction> fun = Handle<JSFunction>::cast(Utils::OpenHandle(",
          "new_line_content": "  Handle<SharedFunctionInfo> shared = isolate->factory()->NewSharedFunctionInfo(",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "NumberOfLiterals",
          "new_api": "set_construct_stub",
          "old_text": "fun->NumberOfLiterals()",
          "new_text": "shared->set_construct_stub(*construct_stub)",
          "old_line_content": "  const int literals = fun->NumberOfLiterals();",
          "new_line_content": "  shared->set_construct_stub(*construct_stub);",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "set_construct_stub",
          "new_api": "set_internal_formal_parameter_count",
          "old_text": "shared->set_construct_stub(*construct_stub)",
          "new_text": "shared->set_internal_formal_parameter_count(parameters)",
          "old_line_content": "  shared->set_construct_stub(*construct_stub);",
          "new_line_content": "  shared->set_internal_formal_parameter_count(parameters);",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "GetOptimizedCode",
          "new_api": "info",
          "old_text": "GetOptimizedCode(function, NOT_CONCURRENT, osr_ast_id, osr_frame)",
          "new_text": "job->info()",
          "old_line_content": "  return GetOptimizedCode(function, NOT_CONCURRENT, osr_ast_id, osr_frame);",
          "new_line_content": "  CompilationInfo* info = job->info();",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "isolate",
          "new_api": "shared_info",
          "old_text": "info->isolate()",
          "new_text": "info->shared_info()",
          "old_line_content": "  Isolate* isolate = info->isolate();",
          "new_line_content": "  Handle<SharedFunctionInfo> shared = info->shared_info();",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "isolate",
          "new_api": "HasDebugInfo",
          "old_text": "info->isolate()",
          "new_text": "shared->HasDebugInfo()",
          "old_line_content": "  TimerEventScope<TimerEventRecompileSynchronous> timer(info->isolate());",
          "new_line_content": "  DCHECK(!shared->HasDebugInfo());",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": "last_status",
          "new_api": "RecordOptimizationStats",
          "old_text": "job->last_status()",
          "new_text": "job->RecordOptimizationStats()",
          "old_line_content": "  if (job->last_status() == CompilationJob::SUCCEEDED) {",
          "new_line_content": "      job->RecordOptimizationStats();",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "optimization_disabled",
          "new_api": "RecordFunctionCompilation",
          "old_text": "shared->optimization_disabled()",
          "new_text": "RecordFunctionCompilation(Logger::LAZY_COMPILE_TAG, info)",
          "old_line_content": "    if (shared->optimization_disabled()) {",
          "new_line_content": "      RecordFunctionCompilation(Logger::LAZY_COMPILE_TAG, info);",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "RetryOptimization",
          "new_api": "context",
          "old_text": "job->RetryOptimization(kOptimizationDisabled)",
          "new_text": "info->context()->native_context()",
          "old_line_content": "      job->RetryOptimization(kOptimizationDisabled);",
          "new_line_content": "      if (shared->SearchOptimizedCodeMap(info->context()->native_context(),",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "dependencies",
          "new_api": "osr_ast_id",
          "old_text": "info->dependencies()->HasAborted()",
          "new_text": "info->osr_ast_id()",
          "old_line_content": "    } else if (info->dependencies()->HasAborted()) {",
          "new_line_content": "                                         info->osr_ast_id()).code == nullptr) {",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "RetryOptimization",
          "new_api": "InsertCodeIntoOptimizedCodeMap",
          "old_text": "job->RetryOptimization(kBailedOutDueToDependencyChange)",
          "new_text": "InsertCodeIntoOptimizedCodeMap(info)",
          "old_line_content": "      job->RetryOptimization(kBailedOutDueToDependencyChange);",
          "new_line_content": "        InsertCodeIntoOptimizedCodeMap(info);",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "RecordFunctionCompilation",
          "new_api": "PrintF",
          "old_text": "RecordFunctionCompilation(Logger::LAZY_COMPILE_TAG, info)",
          "new_text": "PrintF(\"[completed optimizing \")",
          "old_line_content": "      RecordFunctionCompilation(Logger::LAZY_COMPILE_TAG, info);",
          "new_line_content": "        PrintF(\"[completed optimizing \");",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "context",
          "new_api": "closure",
          "old_text": "info->context()->native_context()",
          "new_text": "info->closure()->ShortPrint()",
          "old_line_content": "      if (shared->SearchOptimizedCodeMap(info->context()->native_context(),",
          "new_line_content": "        info->closure()->ShortPrint();",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "osr_ast_id",
          "new_api": "PrintF",
          "old_text": "info->osr_ast_id()",
          "new_text": "PrintF(\"]\\n\")",
          "old_line_content": "                                         info->osr_ast_id()).code == nullptr) {",
          "new_line_content": "        PrintF(\"]\\n\");",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "last_status",
          "new_api": "code",
          "old_text": "job->last_status()",
          "new_text": "shared->code()",
          "old_line_content": "  DCHECK(job->last_status() != CompilationJob::SUCCEEDED);",
          "new_line_content": "  info->closure()->ReplaceCode(shared->code());",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "shared",
          "new_api": "SearchOptimizedCodeMap",
          "old_text": "function->shared()",
          "new_text": "shared->SearchOptimizedCodeMap(\n      function->context()->native_context(), BailoutId::None())",
          "old_line_content": "  Handle<SharedFunctionInfo> shared(function->shared());",
          "new_line_content": "  CodeAndLiterals cached = shared->SearchOptimizedCodeMap(",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "SearchOptimizedCodeMap",
          "new_api": "ReplaceCode",
          "old_text": "shared->SearchOptimizedCodeMap(\n      function->context()->native_context(), BailoutId::None())",
          "new_text": "function->ReplaceCode(cached.code)",
          "old_line_content": "  CodeAndLiterals cached = shared->SearchOptimizedCodeMap(",
          "new_line_content": "    function->ReplaceCode(cached.code);",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "marked_for_deoptimization",
          "new_api": "set_literals",
          "old_text": "cached.code->marked_for_deoptimization()",
          "new_text": "function->set_literals(cached.literals)",
          "old_line_content": "    DCHECK(!cached.code->marked_for_deoptimization());",
          "new_line_content": "    function->set_literals(cached.literals);",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "ReplaceCode",
          "new_api": "GetIsolate",
          "old_text": "function->ReplaceCode(cached.code)",
          "new_text": "function->GetIsolate()",
          "old_line_content": "    function->ReplaceCode(cached.code);",
          "new_line_content": "    Isolate* isolate = function->GetIsolate();",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "feedback_vector",
          "new_api": "handle",
          "old_text": "shared->feedback_vector()",
          "new_text": "handle(cached.code)",
          "old_line_content": "        LiteralsArray::New(isolate, handle(shared->feedback_vector()),",
          "new_line_content": "    if (cached.code != nullptr) code = handle(cached.code);",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "set_literals",
          "new_api": "SharedFunctionInfo::AddToOptimizedCodeMap(shared, native_context, code,\n                                              literals, BailoutId::None())",
          "old_text": "function->set_literals(*literals)",
          "new_text": "SharedFunctionInfo::AddToOptimizedCodeMap(shared, native_context, code,\n                                              literals, BailoutId::None())",
          "old_line_content": "    function->set_literals(*literals);",
          "new_line_content": "    SharedFunctionInfo::AddToOptimizedCodeMap(shared, native_context, code,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1537,
          "old_api": null,
          "new_api": "is_compiled",
          "old_text": null,
          "new_text": "existing->is_compiled()",
          "old_line_content": "  // We found an existing shared function info. If it's already compiled,",
          "new_line_content": "  if (maybe_existing.ToHandle(&existing) && existing->is_compiled()) {",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "HasDebugCode",
          "old_text": null,
          "new_text": "existing->HasDebugCode()",
          "old_line_content": "  // don't worry about compiling it, and simply return it. If it's not yet",
          "new_line_content": "    if (!outer_info->is_debug() || existing->HasDebugCode()) {",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "ToHandle",
          "old_text": null,
          "new_text": "maybe_existing.ToHandle(&result)",
          "old_line_content": "      return existing;",
          "new_line_content": "  if (!maybe_existing.ToHandle(&result)) {",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "NewSharedFunctionInfoForLiteral",
          "old_text": null,
          "new_text": "NewSharedFunctionInfoForLiteral(isolate, literal, script)",
          "old_line_content": "    }",
          "new_line_content": "    result = NewSharedFunctionInfoForLiteral(isolate, literal, script);",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "set_is_toplevel",
          "old_text": null,
          "new_text": "result->set_is_toplevel(false)",
          "old_line_content": "  }",
          "new_line_content": "    result->set_is_toplevel(false);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "allocator",
          "old_text": null,
          "new_text": "isolate->allocator()",
          "old_line_content": "    // If the outer function has been compiled before, we cannot be sure that",
          "new_line_content": "  Zone zone(isolate->allocator());",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "Handle<JSFunction>::null()",
          "old_text": null,
          "new_text": "Handle<JSFunction>::null()",
          "old_line_content": "    // first time. It may have already been compiled previously.",
          "new_line_content": "  CompilationInfo info(&parse_info, Handle<JSFunction>::null());",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "set_shared_info",
          "old_text": null,
          "new_text": "parse_info.set_shared_info(result)",
          "old_line_content": "  }",
          "new_line_content": "  parse_info.set_shared_info(result);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "scope",
          "old_text": null,
          "new_text": "literal->scope()",
          "old_line_content": "",
          "new_line_content": "  parse_info.set_scope(literal->scope());",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "PrepareForSerializing",
          "old_text": null,
          "new_text": "info.PrepareForSerializing()",
          "old_line_content": "  ParseInfo parse_info(&zone, script);",
          "new_line_content": "  if (outer_info->will_serialize()) info.PrepareForSerializing();",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "AllowsLazyCompilationWithoutContext",
          "old_text": null,
          "new_text": "literal->AllowsLazyCompilationWithoutContext()",
          "old_line_content": "  // if a function uses the special natives syntax, which is something the",
          "new_line_content": "  bool allow_lazy_without_ctx = literal->AllowsLazyCompilationWithoutContext();",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "AllowsLazyCompilation",
          "old_text": null,
          "new_text": "literal->AllowsLazyCompilation()",
          "old_line_content": "  // aggressive about lazy compilation, because it might trigger compilation",
          "new_line_content": "  bool allow_lazy = literal->AllowsLazyCompilation() &&",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "LiveEditFunctionTracker::IsActive(isolate)",
          "old_text": null,
          "new_text": "LiveEditFunctionTracker::IsActive(isolate)",
          "old_line_content": "  // of functions without an outer context when setting a breakpoint through",
          "new_line_content": "                    !LiveEditFunctionTracker::IsActive(isolate) &&",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": null,
          "new_api": "is_debug",
          "old_text": null,
          "new_text": "info.is_debug()",
          "old_line_content": "  // Debug::FindSharedFunctionInfoInScript.",
          "new_line_content": "                    (!info.is_debug() || allow_lazy_without_ctx);",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "should_eager_compile",
          "old_text": null,
          "new_text": "literal->should_eager_compile()",
          "old_line_content": "  // Compile eagerly for live edit. When compiling debug code, eagerly compile",
          "new_line_content": "  bool lazy = FLAG_lazy && allow_lazy && !literal->should_eager_compile();",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "serializer_enabled",
          "old_text": null,
          "new_text": "isolate->serializer_enabled()",
          "old_line_content": "",
          "new_line_content": "      !(FLAG_ignition && FLAG_ignition_eager && !isolate->serializer_enabled());",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": null,
          "new_api": "TRACE_EVENT0",
          "old_text": null,
          "new_text": "TRACE_EVENT0(\"v8\", \"V8.CompileCode\")",
          "old_line_content": "  // Consider compiling eagerly when compiling bytecode for Ignition.",
          "new_line_content": "  TRACE_EVENT0(\"v8\", \"V8.CompileCode\");",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "GenerateUnoptimizedCode",
          "old_text": null,
          "new_text": "GenerateUnoptimizedCode(&info)",
          "old_line_content": "",
          "new_line_content": "  } else if (Renumber(info.parse_info()) && GenerateUnoptimizedCode(&info)) {",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": null,
          "new_api": "should_eager_compile",
          "old_text": null,
          "new_text": "literal->should_eager_compile()",
          "old_line_content": "  if (lazy) {",
          "new_line_content": "    if (literal->should_eager_compile() &&",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "Handle<SharedFunctionInfo>::null()",
          "old_text": null,
          "new_text": "Handle<SharedFunctionInfo>::null()",
          "old_line_content": "    }",
          "new_line_content": "    return Handle<SharedFunctionInfo>::null();",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "maybe_existing.is_null()",
          "old_line_content": "    // Install compilation result on the shared function info.",
          "new_line_content": "  if (maybe_existing.is_null()) {",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "zone",
          "old_text": null,
          "new_text": "info.zone()",
          "old_line_content": "  } else {",
          "new_line_content": "    live_edit_tracker.RecordFunctionInfo(result, literal, info.zone());",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "GetIsolate",
          "old_text": null,
          "new_text": "name->GetIsolate()",
          "old_line_content": "",
          "new_line_content": "  Isolate* isolate = name->GetIsolate();",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "reinterpret_cast<v8::Isolate*>(isolate)",
          "old_text": null,
          "new_text": "reinterpret_cast<v8::Isolate*>(isolate)",
          "old_line_content": "  return result;",
          "new_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "GetNativeFunctionTemplate",
          "old_text": null,
          "new_text": "extension->GetNativeFunctionTemplate(v8_isolate,\n                                           v8::Utils::ToLocal(name))",
          "old_line_content": "    v8::Extension* extension, Handle<String> name) {",
          "new_line_content": "      extension->GetNativeFunctionTemplate(v8_isolate,",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "ToLocalChecked",
          "old_text": null,
          "new_text": "Utils::OpenHandle(\n      *fun_template->GetFunction(v8_isolate->GetCurrentContext())\n           .ToLocalChecked())",
          "old_line_content": "  v8::Local<v8::FunctionTemplate> fun_template =",
          "new_line_content": "  Handle<JSFunction> fun = Handle<JSFunction>::cast(Utils::OpenHandle(",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "fun->shared()->code()",
          "old_line_content": "",
          "new_line_content": "  Handle<Code> code = Handle<Code>(fun->shared()->code());",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "fun->shared()->construct_stub()",
          "old_line_content": "  // Instantiate the function and create a shared function info from it.",
          "new_line_content": "  Handle<Code> construct_stub = Handle<Code>(fun->shared()->construct_stub());",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "fun->shared()->scope_info()",
          "old_line_content": "           .ToLocalChecked()));",
          "new_line_content": "      Handle<ScopeInfo>(fun->shared()->scope_info()));",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "fun->shared()->function_data()",
          "old_line_content": "      name, literals, FunctionKind::kNormalFunction, code,",
          "new_line_content": "  shared->set_function_data(fun->shared()->function_data());",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "IsNone",
          "old_text": null,
          "new_text": "osr_ast_id.IsNone()",
          "old_line_content": "  return shared;",
          "new_line_content": "  DCHECK(!osr_ast_id.IsNone());",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "DCHECK_NOT_NULL",
          "old_text": null,
          "new_text": "DCHECK_NOT_NULL(osr_frame)",
          "old_line_content": "}",
          "new_line_content": "  DCHECK_NOT_NULL(osr_frame);",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": null,
          "new_api": "GetOptimizedCode",
          "old_text": null,
          "new_text": "GetOptimizedCode(function, NOT_CONCURRENT, osr_ast_id, osr_frame)",
          "old_line_content": "",
          "new_line_content": "  return GetOptimizedCode(function, NOT_CONCURRENT, osr_ast_id, osr_frame);",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "info->isolate()",
          "old_line_content": "}",
          "new_line_content": "  Isolate* isolate = info->isolate();",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "info->isolate()",
          "old_line_content": "  // Take ownership of compilation job.  Deleting job also tears down the zone.",
          "new_line_content": "  TimerEventScope<TimerEventRecompileSynchronous> timer(info->isolate());",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": null,
          "new_api": "TRACE_EVENT0",
          "old_text": null,
          "new_text": "TRACE_EVENT0(\"v8\", \"V8.RecompileSynchronous\")",
          "old_line_content": "  base::SmartPointer<CompilationJob> job(raw_job);",
          "new_line_content": "  TRACE_EVENT0(\"v8\", \"V8.RecompileSynchronous\");",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "code",
          "old_text": null,
          "new_text": "shared->code()->set_profiler_ticks(0)",
          "old_line_content": "",
          "new_line_content": "  shared->code()->set_profiler_ticks(0);",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": null,
          "new_api": "last_status",
          "old_text": null,
          "new_text": "job->last_status()",
          "old_line_content": "",
          "new_line_content": "  if (job->last_status() == CompilationJob::SUCCEEDED) {",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "optimization_disabled",
          "old_text": null,
          "new_text": "shared->optimization_disabled()",
          "old_line_content": "  // 1) Optimization on the concurrent thread may have failed.",
          "new_line_content": "    if (shared->optimization_disabled()) {",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": null,
          "new_api": "RetryOptimization",
          "old_text": null,
          "new_text": "job->RetryOptimization(kOptimizationDisabled)",
          "old_line_content": "  // 2) The function may have already been optimized by OSR.  Simply continue.",
          "new_line_content": "      job->RetryOptimization(kOptimizationDisabled);",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": null,
          "new_api": "dependencies",
          "old_text": null,
          "new_text": "info->dependencies()->HasAborted()",
          "old_line_content": "  //    Except when OSR already disabled optimization for some reason.",
          "new_line_content": "    } else if (info->dependencies()->HasAborted()) {",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "RetryOptimization",
          "old_text": null,
          "new_text": "job->RetryOptimization(kBailedOutDueToDependencyChange)",
          "old_line_content": "  // 3) The code may have already been invalidated due to dependency change.",
          "new_line_content": "      job->RetryOptimization(kBailedOutDueToDependencyChange);",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "GenerateCode",
          "old_text": null,
          "new_text": "job->GenerateCode()",
          "old_line_content": "  // 4) Code generation may have failed.",
          "new_line_content": "    } else if (job->GenerateCode() == CompilationJob::SUCCEEDED) {",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "code",
          "old_text": null,
          "new_text": "info->code()",
          "old_line_content": "      }",
          "new_line_content": "      info->closure()->ReplaceCode(*info->code());",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": null,
          "new_api": "last_status",
          "old_text": null,
          "new_text": "job->last_status()",
          "old_line_content": "      }",
          "new_line_content": "  DCHECK(job->last_status() != CompilationJob::SUCCEEDED);",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "PrintF",
          "old_text": null,
          "new_text": "PrintF(\"[aborted optimizing \")",
          "old_line_content": "      return;",
          "new_line_content": "    PrintF(\"[aborted optimizing \");",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": null,
          "new_api": "closure",
          "old_text": null,
          "new_text": "info->closure()->ShortPrint()",
          "old_line_content": "    }",
          "new_line_content": "    info->closure()->ShortPrint();",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": null,
          "new_api": "bailout_reason",
          "old_text": null,
          "new_text": "info->bailout_reason()",
          "old_line_content": "  }",
          "new_line_content": "    PrintF(\" because: %s]\\n\", GetBailoutReason(info->bailout_reason()));",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "function->shared()",
          "old_line_content": "  }",
          "new_line_content": "  Handle<SharedFunctionInfo> shared(function->shared());",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "allows_lazy_compilation",
          "old_text": null,
          "new_text": "shared->allows_lazy_compilation()",
          "old_line_content": "}",
          "new_line_content": "  if (FLAG_always_opt && shared->allows_lazy_compilation()) {",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "MarkForOptimization",
          "old_text": null,
          "new_text": "function->MarkForOptimization()",
          "old_line_content": "",
          "new_line_content": "    function->MarkForOptimization();",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": null,
          "new_api": "BailoutId::None()",
          "old_text": null,
          "new_text": "BailoutId::None()",
          "old_line_content": "",
          "new_line_content": "      function->context()->native_context(), BailoutId::None());",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": null,
          "new_api": "marked_for_deoptimization",
          "old_text": null,
          "new_text": "cached.code->marked_for_deoptimization()",
          "old_line_content": "  }",
          "new_line_content": "    DCHECK(!cached.code->marked_for_deoptimization());",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "shared",
          "old_text": null,
          "new_text": "function->shared()->is_compiled()",
          "old_line_content": "",
          "new_line_content": "    DCHECK(function->shared()->is_compiled());",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": null,
          "new_api": "num_literals",
          "old_text": null,
          "new_text": "shared->num_literals()",
          "old_line_content": "  }",
          "new_line_content": "    int number_of_literals = shared->num_literals();",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": null,
          "new_api": "feedback_vector",
          "old_text": null,
          "new_text": "shared->feedback_vector()",
          "old_line_content": "  if (cached.literals != nullptr) {",
          "new_line_content": "        LiteralsArray::New(isolate, handle(shared->feedback_vector()),",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "set_literals",
          "old_text": null,
          "new_text": "function->set_literals(*literals)",
          "old_line_content": "  } else {",
          "new_line_content": "    function->set_literals(*literals);",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": null,
          "new_api": "context",
          "old_text": null,
          "new_text": "function->context()->native_context()",
          "old_line_content": "                           number_of_literals, pretenure);",
          "new_line_content": "    Handle<Context> native_context(function->context()->native_context());",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "BailoutId::None()",
          "old_text": null,
          "new_text": "BailoutId::None()",
          "old_line_content": "",
          "new_line_content": "                                              literals, BailoutId::None());",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "is_sloppy",
          "old_text": null,
          "new_text": "is_sloppy(language_mode)",
          "old_line_content": "      // to handle eval-code in the optimizing compiler.",
          "new_line_content": "      DCHECK(is_sloppy(language_mode) ||",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "language_mode",
          "old_text": null,
          "new_text": "shared_info->language_mode()",
          "old_line_content": "      if (restriction != ONLY_SINGLE_FUNCTION_LITERAL) {",
          "new_line_content": "             is_strict(shared_info->language_mode()));",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "GetIsolate",
          "old_text": null,
          "new_text": "source->GetIsolate()",
          "old_line_content": "    Handle<String> source, Handle<Object> script_name, int line_offset,",
          "new_line_content": "  Isolate* isolate = source->GetIsolate();",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "DCHECK",
          "old_text": null,
          "new_text": "DCHECK(cached_data && !*cached_data)",
          "old_line_content": "    bool is_module) {",
          "new_line_content": "    DCHECK(cached_data && !*cached_data);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "isolate->debug()->is_loaded()",
          "old_line_content": "  if (compile_options == ScriptCompiler::kNoCompileOptions) {",
          "new_line_content": "    DCHECK(!isolate->debug()->is_loaded());",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": null,
          "new_api": "DCHECK",
          "old_text": null,
          "new_text": "DCHECK(compile_options == ScriptCompiler::kConsumeParserCache ||\n           compile_options == ScriptCompiler::kConsumeCodeCache)",
          "old_line_content": "  } else if (compile_options == ScriptCompiler::kProduceParserCache ||",
          "new_line_content": "    DCHECK(compile_options == ScriptCompiler::kConsumeParserCache ||",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "source->length()",
          "old_line_content": "  } else {",
          "new_line_content": "  int source_length = source->length();",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()->total_compile_size()->Increment(source_length)",
          "old_line_content": "           compile_options == ScriptCompiler::kConsumeCodeCache);",
          "new_line_content": "  isolate->counters()->total_compile_size()->Increment(source_length);",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": null,
          "new_api": "compilation_cache",
          "old_text": null,
          "new_text": "isolate->compilation_cache()",
          "old_line_content": "  }",
          "new_line_content": "  CompilationCache* compilation_cache = isolate->compilation_cache();",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "LookupScript",
          "old_text": null,
          "new_text": "compilation_cache->LookupScript(\n        source, script_name, line_offset, column_offset, resource_options,\n        context, language_mode)",
          "old_line_content": "",
          "new_line_content": "    maybe_result = compilation_cache->LookupScript(",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "maybe_result.is_null()",
          "old_line_content": "  Handle<SharedFunctionInfo> result;",
          "new_line_content": "    if (maybe_result.is_null() && FLAG_serialize_toplevel &&",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "isolate->debug()->is_loaded()",
          "old_line_content": "    // First check per-isolate compilation cache.",
          "new_line_content": "        !isolate->debug()->is_loaded()) {",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()->compile_deserialize()",
          "old_line_content": "        source, script_name, line_offset, column_offset, resource_options,",
          "new_line_content": "      HistogramTimerScope timer(isolate->counters()->compile_deserialize());",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "TRACE_EVENT0",
          "old_text": null,
          "new_text": "TRACE_EVENT0(\"v8\", \"V8.CompileDeserialize\")",
          "old_line_content": "        context, language_mode);",
          "new_line_content": "      TRACE_EVENT0(\"v8\", \"V8.CompileDeserialize\");",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "ToHandle",
          "old_text": null,
          "new_text": "CodeSerializer::Deserialize(isolate, *cached_data, source)\n              .ToHandle(&result)",
          "old_line_content": "        compile_options == ScriptCompiler::kConsumeCodeCache &&",
          "new_line_content": "      if (CodeSerializer::Deserialize(isolate, *cached_data, source)",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "Start",
          "old_text": null,
          "new_text": "timer.Start()",
          "old_line_content": "    }",
          "new_line_content": "    timer.Start();",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "ToHandle",
          "old_text": null,
          "new_text": "maybe_result.ToHandle(&result)",
          "old_line_content": "  base::ElapsedTimer timer;",
          "new_line_content": "  if (!maybe_result.ToHandle(&result) ||",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": null,
          "new_api": "set_type",
          "old_text": null,
          "new_text": "script->set_type(Script::TYPE_NATIVE)",
          "old_line_content": "       compile_options == ScriptCompiler::kProduceCodeCache)) {",
          "new_line_content": "      script->set_type(Script::TYPE_NATIVE);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "set_hide_source",
          "old_text": null,
          "new_text": "script->set_hide_source(true)",
          "old_line_content": "    // No cache entry found, or embedder wants a code cache. Compile the script.",
          "new_line_content": "      script->set_hide_source(true);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "set_type",
          "old_text": null,
          "new_text": "script->set_type(Script::TYPE_EXTENSION)",
          "old_line_content": "    // Create a script object describing the script to be compiled.",
          "new_line_content": "      script->set_type(Script::TYPE_EXTENSION);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "set_line_offset",
          "old_text": null,
          "new_text": "script->set_line_offset(line_offset)",
          "old_line_content": "    } else if (natives == EXTENSION_CODE) {",
          "new_line_content": "      script->set_line_offset(line_offset);",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "set_origin_options",
          "old_text": null,
          "new_text": "script->set_origin_options(resource_options)",
          "old_line_content": "    }",
          "new_line_content": "    script->set_origin_options(resource_options);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "set_module",
          "old_text": null,
          "new_text": "parse_info.set_module()",
          "old_line_content": "",
          "new_line_content": "      parse_info.set_module();",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "set_cached_data",
          "old_text": null,
          "new_text": "parse_info.set_cached_data(cached_data)",
          "old_line_content": "    if (is_module) {",
          "new_line_content": "      parse_info.set_cached_data(cached_data);",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "set_compile_options",
          "old_text": null,
          "new_text": "parse_info.set_compile_options(compile_options)",
          "old_line_content": "    } else {",
          "new_line_content": "    parse_info.set_compile_options(compile_options);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "set_context",
          "old_text": null,
          "new_text": "parse_info.set_context(context)",
          "old_line_content": "    }",
          "new_line_content": "    parse_info.set_context(context);",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "PrepareForSerializing",
          "old_text": null,
          "new_text": "info.PrepareForSerializing()",
          "old_line_content": "    }",
          "new_line_content": "      info.PrepareForSerializing();",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "language_mode",
          "old_text": null,
          "new_text": "parse_info.language_mode()",
          "old_line_content": "    if (FLAG_serialize_toplevel &&",
          "new_line_content": "        static_cast<LanguageMode>(parse_info.language_mode() | language_mode));",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "CompileToplevel",
          "old_text": null,
          "new_text": "CompileToplevel(&info)",
          "old_line_content": "        compile_options == ScriptCompiler::kProduceCodeCache) {",
          "new_line_content": "    result = CompileToplevel(&info);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "PutScript",
          "old_text": null,
          "new_text": "compilation_cache->PutScript(source, context, language_mode, result)",
          "old_line_content": "    }",
          "new_line_content": "      compilation_cache->PutScript(source, context, language_mode, result);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "Elapsed",
          "old_text": null,
          "new_text": "PrintF(\"[Compiling and serializing took %0.3f ms]\\n\",\n                 timer.Elapsed().InMillisecondsF())",
          "old_line_content": "          compile_options == ScriptCompiler::kProduceCodeCache) {",
          "new_line_content": "          PrintF(\"[Compiling and serializing took %0.3f ms]\\n\",",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "Elapsed",
          "old_text": null,
          "new_text": "timer.Elapsed().InMillisecondsF()",
          "old_line_content": "        HistogramTimerScope histogram_timer(",
          "new_line_content": "                 timer.Elapsed().InMillisecondsF());",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "isolate->debug()->OnAfterCompile(script)",
          "old_line_content": "      }",
          "new_line_content": "      isolate->debug()->OnAfterCompile(script);",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "heap",
          "old_text": null,
          "new_text": "isolate->heap()->global_ic_age()",
          "old_line_content": "",
          "new_line_content": "  } else if (result->ic_age() != isolate->heap()->global_ic_age()) {",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "GetIsolate",
          "old_text": null,
          "new_text": "script->GetIsolate()",
          "old_line_content": "  }",
          "new_line_content": "  Isolate* isolate = script->GetIsolate();",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()->total_load_size()->Increment(source_length)",
          "old_line_content": "}",
          "new_line_content": "  isolate->counters()->total_load_size()->Increment(source_length);",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()->total_compile_size()->Increment(source_length)",
          "old_line_content": "",
          "new_line_content": "  isolate->counters()->total_compile_size()->Increment(source_length);",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": null,
          "new_api": "construct_language_mode",
          "old_text": null,
          "new_text": "construct_language_mode(FLAG_use_strict)",
          "old_line_content": "    Handle<Script> script, ParseInfo* parse_info, int source_length) {",
          "new_line_content": "  LanguageMode language_mode = construct_language_mode(FLAG_use_strict);",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": null,
          "new_api": "language_mode",
          "old_text": null,
          "new_text": "parse_info->language_mode()",
          "old_line_content": "  // TODO(titzer): increment the counters in caller.",
          "new_line_content": "      static_cast<LanguageMode>(parse_info->language_mode() | language_mode));",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "CompileToplevel",
          "old_text": null,
          "new_text": "CompileToplevel(&compile_info)",
          "old_line_content": "",
          "new_line_content": "  Handle<SharedFunctionInfo> result = CompileToplevel(&compile_info);",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "isolate->debug()->OnAfterCompile(script)",
          "old_line_content": "  CompilationInfo compile_info(parse_info, Handle<JSFunction>::null());",
          "new_line_content": "  if (!result.is_null()) isolate->debug()->OnAfterCompile(script);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "outer_info->isolate()",
          "old_line_content": "",
          "new_line_content": "  Isolate* isolate = outer_info->isolate();",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "shared_info",
          "old_text": null,
          "new_text": "outer_info->shared_info()->never_compiled()",
          "old_line_content": "    CompilationInfo* outer_info) {",
          "new_line_content": "  if (outer_info->shared_info()->never_compiled()) {",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "script->FindSharedFunctionInfo(literal).is_null()",
          "old_line_content": "",
          "new_line_content": "    SLOW_DCHECK(script->FindSharedFunctionInfo(literal).is_null() ||",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "isolate->debug()->live_edit_enabled()",
          "old_line_content": "  // Find any previously allocated shared function info for the given literal.",
          "new_line_content": "                isolate->debug()->live_edit_enabled());",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": null,
          "new_api": "FindSharedFunctionInfo",
          "old_text": null,
          "new_text": "script->FindSharedFunctionInfo(literal)",
          "old_line_content": "    // On the first compile, there are no existing shared function info for",
          "new_line_content": "    maybe_existing = script->FindSharedFunctionInfo(literal);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1543,
          "old_api": "is_compiled",
          "new_api": null,
          "old_text": "existing->is_compiled()",
          "new_text": null,
          "old_line_content": "  if (maybe_existing.ToHandle(&existing) && existing->is_compiled()) {",
          "new_line_content": "  // Allocate a shared function info object.",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "HasDebugCode",
          "new_api": null,
          "old_text": "existing->HasDebugCode()",
          "new_text": null,
          "old_line_content": "    if (!outer_info->is_debug() || existing->HasDebugCode()) {",
          "new_line_content": "  Handle<SharedFunctionInfo> result;",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "ToHandle",
          "new_api": null,
          "old_text": "maybe_existing.ToHandle(&result)",
          "new_text": null,
          "old_line_content": "  if (!maybe_existing.ToHandle(&result)) {",
          "new_line_content": "    // first time. It may have already been compiled previously.",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "set_is_toplevel",
          "new_api": null,
          "old_text": "result->set_is_toplevel(false)",
          "new_text": null,
          "old_line_content": "    result->set_is_toplevel(false);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "set_literal",
          "new_api": null,
          "old_text": "parse_info.set_literal(literal)",
          "new_text": null,
          "old_line_content": "  parse_info.set_literal(literal);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "set_shared_info",
          "new_api": null,
          "old_text": "parse_info.set_shared_info(result)",
          "new_text": null,
          "old_line_content": "  parse_info.set_shared_info(result);",
          "new_line_content": "  LiveEditFunctionTracker live_edit_tracker(isolate, literal);",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "scope",
          "new_api": null,
          "old_text": "literal->scope()",
          "new_text": null,
          "old_line_content": "  parse_info.set_scope(literal->scope());",
          "new_line_content": "  // Determine if the function can be lazily compiled. This is necessary to",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "scope",
          "new_api": null,
          "old_text": "literal->scope()->language_mode()",
          "new_text": null,
          "old_line_content": "  parse_info.set_language_mode(literal->scope()->language_mode());",
          "new_line_content": "  // allow some of our builtin JS files to be lazily compiled. These",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "PrepareForSerializing",
          "new_api": null,
          "old_text": "info.PrepareForSerializing()",
          "new_text": null,
          "old_line_content": "  if (outer_info->will_serialize()) info.PrepareForSerializing();",
          "new_line_content": "  // builtins cannot be handled lazily by the parser, since we have to know",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": "MarkAsDebug",
          "new_api": null,
          "old_text": "info.MarkAsDebug()",
          "new_text": null,
          "old_line_content": "  if (outer_info->is_debug()) info.MarkAsDebug();",
          "new_line_content": "  // if a function uses the special natives syntax, which is something the",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "AllowsLazyCompilationWithoutContext",
          "new_api": null,
          "old_text": "literal->AllowsLazyCompilationWithoutContext()",
          "new_text": null,
          "old_line_content": "  bool allow_lazy_without_ctx = literal->AllowsLazyCompilationWithoutContext();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "AllowsLazyCompilation",
          "new_api": null,
          "old_text": "literal->AllowsLazyCompilation()",
          "new_text": null,
          "old_line_content": "  bool allow_lazy = literal->AllowsLazyCompilation() &&",
          "new_line_content": "  // Consider compiling eagerly when targeting the code cache.",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "is_debug",
          "new_api": null,
          "old_text": "info.is_debug()",
          "new_text": null,
          "old_line_content": "                    (!info.is_debug() || allow_lazy_without_ctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "should_eager_compile",
          "new_api": null,
          "old_text": "literal->should_eager_compile()",
          "new_text": null,
          "old_line_content": "  bool lazy = FLAG_lazy && allow_lazy && !literal->should_eager_compile();",
          "new_line_content": "  lazy &=",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "will_serialize",
          "new_api": null,
          "old_text": "info.will_serialize()",
          "new_text": null,
          "old_line_content": "  lazy &= !(FLAG_serialize_eager && info.will_serialize());",
          "new_line_content": "  // Generate code",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "should_eager_compile",
          "new_api": null,
          "old_text": "literal->should_eager_compile()",
          "new_text": null,
          "old_line_content": "    if (literal->should_eager_compile() &&",
          "new_line_content": "    // Install compilation result on the shared function info.",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "code",
          "new_api": null,
          "old_text": "info.code()->MarkToBeExecutedOnce(isolate)",
          "new_text": null,
          "old_line_content": "      info.code()->MarkToBeExecutedOnce(isolate);",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "InstallSharedScopeInfo",
          "new_api": null,
          "old_text": "InstallSharedScopeInfo(&info, result)",
          "new_text": null,
          "old_line_content": "    InstallSharedScopeInfo(&info, result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "Handle<SharedFunctionInfo>::null()",
          "new_api": null,
          "old_text": "Handle<SharedFunctionInfo>::null()",
          "new_text": null,
          "old_line_content": "    return Handle<SharedFunctionInfo>::null();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "maybe_existing.is_null()",
          "new_text": null,
          "old_line_content": "  if (maybe_existing.is_null()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "RecordFunctionCompilation",
          "new_api": null,
          "old_text": "RecordFunctionCompilation(Logger::FUNCTION_TAG, &info)",
          "new_text": null,
          "old_line_content": "    RecordFunctionCompilation(Logger::FUNCTION_TAG, &info);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "zone",
          "new_api": null,
          "old_text": "info.zone()",
          "new_text": null,
          "old_line_content": "    live_edit_tracker.RecordFunctionInfo(result, literal, info.zone());",
          "new_line_content": "Handle<SharedFunctionInfo> Compiler::GetSharedFunctionInfoForNative(",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "v8::Utils::ToLocal(name)",
          "new_api": null,
          "old_text": "v8::Utils::ToLocal(name)",
          "new_text": null,
          "old_line_content": "                                           v8::Utils::ToLocal(name));",
          "new_line_content": "           .ToLocalChecked()));",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "GetCurrentContext",
          "new_api": null,
          "old_text": "v8_isolate->GetCurrentContext()",
          "new_text": null,
          "old_line_content": "      *fun_template->GetFunction(v8_isolate->GetCurrentContext())",
          "new_line_content": "      name, literals, FunctionKind::kNormalFunction, code,",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "shared",
          "new_api": null,
          "old_text": "fun->shared()->construct_stub()",
          "new_text": null,
          "old_line_content": "  Handle<Code> construct_stub = Handle<Code>(fun->shared()->construct_stub());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "factory",
          "new_api": null,
          "old_text": "isolate->factory()->NewSharedFunctionInfo(\n      name, literals, FunctionKind::kNormalFunction, code,\n      Handle<ScopeInfo>(fun->shared()->scope_info()))",
          "new_text": null,
          "old_line_content": "  Handle<SharedFunctionInfo> shared = isolate->factory()->NewSharedFunctionInfo(",
          "new_line_content": "  // Copy the function data to the shared function info.",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "shared",
          "new_api": null,
          "old_text": "fun->shared()->feedback_vector()",
          "new_text": null,
          "old_line_content": "  shared->set_feedback_vector(fun->shared()->feedback_vector());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "shared",
          "new_api": null,
          "old_text": "fun->shared()->function_data()",
          "new_text": null,
          "old_line_content": "  shared->set_function_data(fun->shared()->function_data());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "shared",
          "new_api": null,
          "old_text": "fun->shared()->internal_formal_parameter_count()",
          "new_text": null,
          "old_line_content": "  int parameters = fun->shared()->internal_formal_parameter_count();",
          "new_line_content": "MaybeHandle<Code> Compiler::GetOptimizedCodeForOSR(Handle<JSFunction> function,",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "set_internal_formal_parameter_count",
          "new_api": null,
          "old_text": "shared->set_internal_formal_parameter_count(parameters)",
          "new_text": null,
          "old_line_content": "  shared->set_internal_formal_parameter_count(parameters);",
          "new_line_content": "                                                   BailoutId osr_ast_id,",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": "IsNone",
          "new_api": null,
          "old_text": "osr_ast_id.IsNone()",
          "new_text": null,
          "old_line_content": "  DCHECK(!osr_ast_id.IsNone());",
          "new_line_content": "  // Take ownership of compilation job.  Deleting job also tears down the zone.",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "DCHECK_NOT_NULL",
          "new_api": null,
          "old_text": "DCHECK_NOT_NULL(osr_frame)",
          "new_text": null,
          "old_line_content": "  DCHECK_NOT_NULL(osr_frame);",
          "new_line_content": "  base::SmartPointer<CompilationJob> job(raw_job);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "info",
          "new_api": null,
          "old_text": "job->info()",
          "new_text": null,
          "old_line_content": "  CompilationInfo* info = job->info();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "TRACE_EVENT0",
          "new_api": null,
          "old_text": "TRACE_EVENT0(\"v8\", \"V8.RecompileSynchronous\")",
          "new_text": null,
          "old_line_content": "  TRACE_EVENT0(\"v8\", \"V8.RecompileSynchronous\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": "shared_info",
          "new_api": null,
          "old_text": "info->shared_info()",
          "new_text": null,
          "old_line_content": "  Handle<SharedFunctionInfo> shared = info->shared_info();",
          "new_line_content": "  // 2) The function may have already been optimized by OSR.  Simply continue.",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "code",
          "new_api": null,
          "old_text": "shared->code()->set_profiler_ticks(0)",
          "new_text": null,
          "old_line_content": "  shared->code()->set_profiler_ticks(0);",
          "new_line_content": "  //    Except when OSR already disabled optimization for some reason.",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "HasDebugInfo",
          "new_api": null,
          "old_text": "shared->HasDebugInfo()",
          "new_text": null,
          "old_line_content": "  DCHECK(!shared->HasDebugInfo());",
          "new_line_content": "  // 4) Code generation may have failed.",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "GenerateCode",
          "new_api": null,
          "old_text": "job->GenerateCode()",
          "new_text": null,
          "old_line_content": "    } else if (job->GenerateCode() == CompilationJob::SUCCEEDED) {",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "RecordOptimizationStats",
          "new_api": null,
          "old_text": "job->RecordOptimizationStats()",
          "new_text": null,
          "old_line_content": "      job->RecordOptimizationStats();",
          "new_line_content": "      if (FLAG_trace_opt) {",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "InsertCodeIntoOptimizedCodeMap",
          "new_api": null,
          "old_text": "InsertCodeIntoOptimizedCodeMap(info)",
          "new_text": null,
          "old_line_content": "        InsertCodeIntoOptimizedCodeMap(info);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"[completed optimizing \")",
          "new_text": null,
          "old_line_content": "        PrintF(\"[completed optimizing \");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "closure",
          "new_api": null,
          "old_text": "info->closure()->ShortPrint()",
          "new_text": null,
          "old_line_content": "        info->closure()->ShortPrint();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"]\\n\")",
          "new_text": null,
          "old_line_content": "        PrintF(\"]\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "code",
          "new_api": null,
          "old_text": "info->code()",
          "new_text": null,
          "old_line_content": "      info->closure()->ReplaceCode(*info->code());",
          "new_line_content": "  if (FLAG_trace_opt) {",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "PrintF",
          "new_api": null,
          "old_text": "PrintF(\"[aborted optimizing \")",
          "new_text": null,
          "old_line_content": "    PrintF(\"[aborted optimizing \");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "closure",
          "new_api": null,
          "old_text": "info->closure()->ShortPrint()",
          "new_text": null,
          "old_line_content": "    info->closure()->ShortPrint();",
          "new_line_content": "void Compiler::PostInstantiation(Handle<JSFunction> function,",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "bailout_reason",
          "new_api": null,
          "old_text": "info->bailout_reason()",
          "new_text": null,
          "old_line_content": "    PrintF(\" because: %s]\\n\", GetBailoutReason(info->bailout_reason()));",
          "new_line_content": "                                 PretenureFlag pretenure) {",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "code",
          "new_api": null,
          "old_text": "shared->code()",
          "new_text": null,
          "old_line_content": "  info->closure()->ReplaceCode(shared->code());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "allows_lazy_compilation",
          "new_api": null,
          "old_text": "shared->allows_lazy_compilation()",
          "new_text": null,
          "old_line_content": "  if (FLAG_always_opt && shared->allows_lazy_compilation()) {",
          "new_line_content": "  if (cached.code != nullptr) {",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "MarkForOptimization",
          "new_api": null,
          "old_text": "function->MarkForOptimization()",
          "new_text": null,
          "old_line_content": "    function->MarkForOptimization();",
          "new_line_content": "    // Caching of optimized code enabled and optimized code found.",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": "BailoutId::None()",
          "new_api": null,
          "old_text": "BailoutId::None()",
          "new_text": null,
          "old_line_content": "      function->context()->native_context(), BailoutId::None());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "shared",
          "new_api": null,
          "old_text": "function->shared()->is_compiled()",
          "new_text": null,
          "old_line_content": "    DCHECK(function->shared()->is_compiled());",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "set_literals",
          "new_api": null,
          "old_text": "function->set_literals(cached.literals)",
          "new_text": null,
          "old_line_content": "    function->set_literals(cached.literals);",
          "new_line_content": "                           number_of_literals, pretenure);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "GetIsolate",
          "new_api": null,
          "old_text": "function->GetIsolate()",
          "new_text": null,
          "old_line_content": "    Isolate* isolate = function->GetIsolate();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "num_literals",
          "new_api": null,
          "old_text": "shared->num_literals()",
          "new_text": null,
          "old_line_content": "    int number_of_literals = shared->num_literals();",
          "new_line_content": "    // Cache context-specific literals.",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "handle",
          "new_api": null,
          "old_text": "handle(cached.code)",
          "new_text": null,
          "old_line_content": "    if (cached.code != nullptr) code = handle(cached.code);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "context",
          "new_api": null,
          "old_text": "function->context()->native_context()",
          "new_text": null,
          "old_line_content": "    Handle<Context> native_context(function->context()->native_context());",
          "new_line_content": "}  // namespace internal",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": "SharedFunctionInfo::AddToOptimizedCodeMap(shared, native_context, code,\n                                              literals, BailoutId::None())",
          "new_api": null,
          "old_text": "SharedFunctionInfo::AddToOptimizedCodeMap(shared, native_context, code,\n                                              literals, BailoutId::None())",
          "new_text": null,
          "old_line_content": "    SharedFunctionInfo::AddToOptimizedCodeMap(shared, native_context, code,",
          "new_line_content": "}  // namespace v8",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "BailoutId::None()",
          "new_api": null,
          "old_text": "BailoutId::None()",
          "new_text": null,
          "old_line_content": "                                              literals, BailoutId::None());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "is_sloppy",
          "new_api": null,
          "old_text": "is_sloppy(language_mode)",
          "new_text": null,
          "old_line_content": "      DCHECK(is_sloppy(language_mode) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "language_mode",
          "new_api": null,
          "old_text": "shared_info->language_mode()",
          "new_text": null,
          "old_line_content": "             is_strict(shared_info->language_mode()));",
          "new_line_content": "  Handle<JSFunction> result =",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate->debug()->OnAfterCompile(script)",
          "new_text": null,
          "old_line_content": "  isolate->debug()->OnAfterCompile(script);",
          "new_line_content": "    Handle<String> source, Handle<Object> script_name, int line_offset,",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate->debug()->is_loaded()",
          "new_text": null,
          "old_line_content": "    DCHECK(!isolate->debug()->is_loaded());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "DCHECK",
          "new_api": null,
          "old_text": "DCHECK(cached_data && *cached_data)",
          "new_text": null,
          "old_line_content": "    DCHECK(cached_data && *cached_data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "length",
          "new_api": null,
          "old_text": "source->length()",
          "new_text": null,
          "old_line_content": "  int source_length = source->length();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate->counters()->total_load_size()->Increment(source_length)",
          "new_text": null,
          "old_line_content": "  isolate->counters()->total_load_size()->Increment(source_length);",
          "new_line_content": "  // Do a lookup in the compilation cache but not for extensions.",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate->counters()->total_compile_size()->Increment(source_length)",
          "new_text": null,
          "old_line_content": "  isolate->counters()->total_compile_size()->Increment(source_length);",
          "new_line_content": "  MaybeHandle<SharedFunctionInfo> maybe_result;",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "construct_language_mode",
          "new_api": null,
          "old_text": "construct_language_mode(FLAG_use_strict)",
          "new_text": null,
          "old_line_content": "  LanguageMode language_mode = construct_language_mode(FLAG_use_strict);",
          "new_line_content": "  if (extension == NULL) {",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "compilation_cache",
          "new_api": null,
          "old_text": "isolate->compilation_cache()",
          "new_text": null,
          "old_line_content": "  CompilationCache* compilation_cache = isolate->compilation_cache();",
          "new_line_content": "    // First check per-isolate compilation cache.",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "LookupScript",
          "new_api": null,
          "old_text": "compilation_cache->LookupScript(\n        source, script_name, line_offset, column_offset, resource_options,\n        context, language_mode)",
          "new_text": null,
          "old_line_content": "    maybe_result = compilation_cache->LookupScript(",
          "new_line_content": "      // Then check cached code provided by embedder.",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "maybe_result.is_null()",
          "new_text": null,
          "old_line_content": "    if (maybe_result.is_null() && FLAG_serialize_toplevel &&",
          "new_line_content": "      Handle<SharedFunctionInfo> result;",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate->debug()->is_loaded()",
          "new_text": null,
          "old_line_content": "        !isolate->debug()->is_loaded()) {",
          "new_line_content": "              .ToHandle(&result)) {",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "TRACE_EVENT0",
          "new_api": null,
          "old_text": "TRACE_EVENT0(\"v8\", \"V8.CompileDeserialize\")",
          "new_text": null,
          "old_line_content": "      TRACE_EVENT0(\"v8\", \"V8.CompileDeserialize\");",
          "new_line_content": "        return result;",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "ToHandle",
          "new_api": null,
          "old_text": "CodeSerializer::Deserialize(isolate, *cached_data, source)\n              .ToHandle(&result)",
          "new_text": null,
          "old_line_content": "      if (CodeSerializer::Deserialize(isolate, *cached_data, source)",
          "new_line_content": "      // Deserializer failed. Fall through to compile.",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "PutScript",
          "new_api": null,
          "old_text": "compilation_cache->PutScript(source, context, language_mode, result)",
          "new_text": null,
          "old_line_content": "        compilation_cache->PutScript(source, context, language_mode, result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "Start",
          "new_api": null,
          "old_text": "timer.Start()",
          "new_text": null,
          "old_line_content": "    timer.Start();",
          "new_line_content": "    // No cache entry found, or embedder wants a code cache. Compile the script.",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "set_hide_source",
          "new_api": null,
          "old_text": "script->set_hide_source(true)",
          "new_text": null,
          "old_line_content": "      script->set_hide_source(true);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "set_line_offset",
          "new_api": null,
          "old_text": "script->set_line_offset(line_offset)",
          "new_text": null,
          "old_line_content": "      script->set_line_offset(line_offset);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "set_column_offset",
          "new_api": null,
          "old_text": "script->set_column_offset(column_offset)",
          "new_text": null,
          "old_line_content": "      script->set_column_offset(column_offset);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "source_map_url.is_null()",
          "new_text": null,
          "old_line_content": "    if (!source_map_url.is_null()) {",
          "new_line_content": "    ParseInfo parse_info(&zone, script);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "Handle<JSFunction>::null()",
          "new_api": null,
          "old_text": "Handle<JSFunction>::null()",
          "new_text": null,
          "old_line_content": "    CompilationInfo info(&parse_info, Handle<JSFunction>::null());",
          "new_line_content": "    if (compile_options != ScriptCompiler::kNoCompileOptions) {",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "set_module",
          "new_api": null,
          "old_text": "parse_info.set_module()",
          "new_text": null,
          "old_line_content": "      parse_info.set_module();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "set_cached_data",
          "new_api": null,
          "old_text": "parse_info.set_cached_data(cached_data)",
          "new_text": null,
          "old_line_content": "      parse_info.set_cached_data(cached_data);",
          "new_line_content": "        compile_options == ScriptCompiler::kProduceCodeCache) {",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "set_compile_options",
          "new_api": null,
          "old_text": "parse_info.set_compile_options(compile_options)",
          "new_text": null,
          "old_line_content": "    parse_info.set_compile_options(compile_options);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "set_extension",
          "new_api": null,
          "old_text": "parse_info.set_extension(extension)",
          "new_text": null,
          "old_line_content": "    parse_info.set_extension(extension);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "set_language_mode",
          "new_api": null,
          "old_text": "parse_info.set_language_mode(\n        static_cast<LanguageMode>(parse_info.language_mode() | language_mode))",
          "new_text": null,
          "old_line_content": "    parse_info.set_language_mode(",
          "new_line_content": "          compile_options == ScriptCompiler::kProduceCodeCache) {",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "language_mode",
          "new_api": null,
          "old_text": "parse_info.language_mode()",
          "new_text": null,
          "old_line_content": "        static_cast<LanguageMode>(parse_info.language_mode() | language_mode));",
          "new_line_content": "        HistogramTimerScope histogram_timer(",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate->counters()->compile_serialize()",
          "new_text": null,
          "old_line_content": "            isolate->counters()->compile_serialize());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "TRACE_EVENT0",
          "new_api": null,
          "old_text": "TRACE_EVENT0(\"v8\", \"V8.CompileSerialize\")",
          "new_text": null,
          "old_line_content": "        TRACE_EVENT0(\"v8\", \"V8.CompileSerialize\");",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "CodeSerializer::Serialize(isolate, result, source)",
          "new_api": null,
          "old_text": "CodeSerializer::Serialize(isolate, result, source)",
          "new_text": null,
          "old_line_content": "        *cached_data = CodeSerializer::Serialize(isolate, result, source);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "ReportPendingMessages",
          "new_api": null,
          "old_text": "isolate->ReportPendingMessages()",
          "new_text": null,
          "old_line_content": "      isolate->ReportPendingMessages();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate->debug()->OnAfterCompile(script)",
          "new_text": null,
          "old_line_content": "      isolate->debug()->OnAfterCompile(script);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "heap",
          "new_api": null,
          "old_text": "isolate->heap()->global_ic_age()",
          "new_text": null,
          "old_line_content": "  } else if (result->ic_age() != isolate->heap()->global_ic_age()) {",
          "new_line_content": "Handle<SharedFunctionInfo> Compiler::GetSharedFunctionInfoForStreamedScript(",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "heap",
          "new_api": null,
          "old_text": "isolate->heap()->global_ic_age()",
          "new_text": null,
          "old_line_content": "    result->ResetForNewContext(isolate->heap()->global_ic_age());",
          "new_line_content": "    Handle<Script> script, ParseInfo* parse_info, int source_length) {",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate->counters()->total_load_size()->Increment(source_length)",
          "new_text": null,
          "old_line_content": "  isolate->counters()->total_load_size()->Increment(source_length);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate->counters()->total_compile_size()->Increment(source_length)",
          "new_text": null,
          "old_line_content": "  isolate->counters()->total_compile_size()->Increment(source_length);",
          "new_line_content": "  CompilationInfo compile_info(parse_info, Handle<JSFunction>::null());",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "construct_language_mode",
          "new_api": null,
          "old_text": "construct_language_mode(FLAG_use_strict)",
          "new_text": null,
          "old_line_content": "  LanguageMode language_mode = construct_language_mode(FLAG_use_strict);",
          "new_line_content": "  // The source was parsed lazily, so compiling for debugging is not possible.",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "language_mode",
          "new_api": null,
          "old_text": "parse_info->language_mode()",
          "new_text": null,
          "old_line_content": "      static_cast<LanguageMode>(parse_info->language_mode() | language_mode));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "is_debug",
          "new_api": null,
          "old_text": "compile_info.is_debug()",
          "new_text": null,
          "old_line_content": "  DCHECK(!compile_info.is_debug());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "CompileToplevel",
          "new_api": null,
          "old_text": "CompileToplevel(&compile_info)",
          "new_text": null,
          "old_line_content": "  Handle<SharedFunctionInfo> result = CompileToplevel(&compile_info);",
          "new_line_content": "Handle<SharedFunctionInfo> Compiler::GetSharedFunctionInfo(",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate->debug()->OnAfterCompile(script)",
          "new_text": null,
          "old_line_content": "  if (!result.is_null()) isolate->debug()->OnAfterCompile(script);",
          "new_line_content": "    FunctionLiteral* literal, Handle<Script> script,",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "outer_info->isolate()",
          "new_text": null,
          "old_line_content": "  Isolate* isolate = outer_info->isolate();",
          "new_line_content": "    // inner functions yet, so do not try to find them. All bets are off for",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "shared_info",
          "new_api": null,
          "old_text": "outer_info->shared_info()->never_compiled()",
          "new_text": null,
          "old_line_content": "  if (outer_info->shared_info()->never_compiled()) {",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "script->FindSharedFunctionInfo(literal).is_null()",
          "new_text": null,
          "old_line_content": "    SLOW_DCHECK(script->FindSharedFunctionInfo(literal).is_null() ||",
          "new_line_content": "  // We found an existing shared function info. If it's already compiled,",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate->debug()->live_edit_enabled()",
          "new_text": null,
          "old_line_content": "                isolate->debug()->live_edit_enabled());",
          "new_line_content": "  // don't worry about compiling it, and simply return it. If it's not yet",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "FindSharedFunctionInfo",
          "new_api": null,
          "old_text": "script->FindSharedFunctionInfo(literal)",
          "new_text": null,
          "old_line_content": "    maybe_existing = script->FindSharedFunctionInfo(literal);",
          "new_line_content": "  // Carry on if we are compiling eager to obtain code for debugging,",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 64,
      "total_additions": 105,
      "total_deletions": 106,
      "total_api_changes": 275
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 275,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          1344,
          1339,
          1343
        ]
      }
    },
    "api_calls_before": 1089,
    "api_calls_after": 1088,
    "diff_info": {
      "added_lines": 0,
      "removed_lines": 6,
      "total_diff_lines": 18
    }
  }
}