{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/91e7e7c67b72c6e3ccaf5c88a9f66283d615de44",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/91e7e7c67b72c6e3ccaf5c88a9f66283d615de44/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/91e7e7c67b72c6e3ccaf5c88a9f66283d615de44/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/91e7e7c67b72c6e3ccaf5c88a9f66283d615de44/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 263,
          "old_api": "PointerAdd",
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": "PointerAdd(top_value, size)",
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "        OpIndex new_top = __ PointerAdd(top_value, size);",
          "new_line_content": "            __ LoadOffHeap(limit_address, MemoryRepresentation::PointerSized());",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "LoadOffHeap",
          "new_api": "IsSharedExternalPointerType",
          "old_text": "LoadOffHeap(\n                    __ ExternalConstant(\n                        ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_)),\n                    MemoryRepresentation::PointerSized())",
          "new_text": "IsSharedExternalPointerType(tag)",
          "old_line_content": "                LoadOffHeap(",
          "new_line_content": "          IsSharedExternalPointerType(tag)",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_)",
          "new_api": "LoadOffHeap",
          "old_text": "ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_)",
          "new_text": "LoadOffHeap(\n                    __ ExternalConstant(\n                        ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_)),\n                    MemoryRepresentation::PointerSized())",
          "old_line_content": "                        ExternalReference::",
          "new_line_content": "                LoadOffHeap(",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "ExternalReference::external_pointer_table_address(\n                        isolate_)",
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": "ExternalReference::external_pointer_table_address(\n                        isolate_)",
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "                    ExternalReference::external_pointer_table_address(",
          "new_line_content": "                    MemoryRepresentation::PointerSized())",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "LoadOffHeap",
          "new_api": "ExternalReference::external_pointer_table_address(\n                        isolate_)",
          "old_text": "LoadOffHeap(table_address,\n                             Internals::kExternalPointerTableBasePointerOffset,\n                             MemoryRepresentation::PointerSized())",
          "new_text": "ExternalReference::external_pointer_table_address(\n                        isolate_)",
          "old_line_content": "      table = __ LoadOffHeap(table_address,",
          "new_line_content": "                    ExternalReference::external_pointer_table_address(",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": "LoadOffHeap",
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": "LoadOffHeap(table_address,\n                             Internals::kExternalPointerTableBasePointerOffset,\n                             MemoryRepresentation::PointerSized())",
          "old_line_content": "                             MemoryRepresentation::PointerSized());",
          "new_line_content": "      table = __ LoadOffHeap(table_address,",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "LoadOp::Kind::RawAligned()",
          "new_api": "IsSharedExternalPointerType",
          "old_text": "LoadOp::Kind::RawAligned()",
          "new_text": "IsSharedExternalPointerType(tag)",
          "old_line_content": "            __ Load(isolate_root, LoadOp::Kind::RawAligned(),",
          "new_line_content": "      if (IsSharedExternalPointerType(tag)) {",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "IsolateData::shared_external_pointer_table_offset()",
          "new_api": "LoadOp::Kind::RawAligned()",
          "old_text": "IsolateData::shared_external_pointer_table_offset()",
          "new_text": "LoadOp::Kind::RawAligned()",
          "old_line_content": "                    IsolateData::shared_external_pointer_table_offset());",
          "new_line_content": "            __ Load(isolate_root, LoadOp::Kind::RawAligned(),",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "LoadOp::Kind::RawAligned()",
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": "LoadOp::Kind::RawAligned()",
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "        table = __ Load(table_address, LoadOp::Kind::RawAligned(),",
          "new_line_content": "                    MemoryRepresentation::PointerSized(),",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": "IsolateData::shared_external_pointer_table_offset()",
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": "IsolateData::shared_external_pointer_table_offset()",
          "old_line_content": "                        MemoryRepresentation::PointerSized(),",
          "new_line_content": "                    IsolateData::shared_external_pointer_table_offset());",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "IsolateData::external_pointer_table_offset()",
          "new_api": "LoadOp::Kind::RawAligned()",
          "old_text": "IsolateData::external_pointer_table_offset()",
          "new_text": "LoadOp::Kind::RawAligned()",
          "old_line_content": "                        IsolateData::external_pointer_table_offset() +",
          "new_line_content": "        table = __ Load(isolate_root, LoadOp::Kind::RawAligned(),",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "ChangeUint32ToUint64",
          "new_api": "ShiftRightLogical",
          "old_text": "ChangeUint32ToUint64(index)",
          "new_text": "ShiftRightLogical(handle, kExternalPointerIndexShift,\n                                         WordRepresentation::Word32())",
          "old_line_content": "    OpIndex pointer = __ LoadOffHeap(table, __ ChangeUint32ToUint64(index), 0,",
          "new_line_content": "    OpIndex index = __ ShiftRightLogical(handle, kExternalPointerIndexShift,",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": "WordRepresentation::Word32()",
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": "WordRepresentation::Word32()",
          "old_line_content": "                                     MemoryRepresentation::PointerSized());",
          "new_line_content": "                                         WordRepresentation::Word32());",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "Word64Constant",
          "new_api": "ChangeUint32ToUint64",
          "old_text": "Word64Constant(~tag)",
          "new_text": "ChangeUint32ToUint64(index)",
          "old_line_content": "    pointer = __ Word64BitwiseAnd(pointer, __ Word64Constant(~tag));",
          "new_line_content": "    OpIndex pointer = __ LoadOffHeap(table, __ ChangeUint32ToUint64(index), 0,",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "DCHECK",
          "new_api": "static_cast<int>(AllocationType::kOld)",
          "old_text": "DCHECK(type == AllocationType::kYoung || type == AllocationType::kOld)",
          "new_text": "static_cast<int>(AllocationType::kOld)",
          "old_line_content": "    DCHECK(type == AllocationType::kYoung || type == AllocationType::kOld);",
          "new_line_content": "  static_assert(static_cast<int>(AllocationType::kOld) == 1);",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "static_cast<int>(type)",
          "new_api": "DCHECK",
          "old_text": "static_cast<int>(type)",
          "new_text": "DCHECK(type == AllocationType::kYoung || type == AllocationType::kOld)",
          "old_line_content": "      top_[static_cast<int>(type)].emplace(",
          "new_line_content": "    DCHECK(type == AllocationType::kYoung || type == AllocationType::kOld);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "RegisterRepresentation::PointerSized()",
          "new_api": "static_cast<int>(type)",
          "old_text": "RegisterRepresentation::PointerSized()",
          "new_text": "static_cast<int>(type)",
          "old_line_content": "          __ NewLoopInvariantVariable(RegisterRepresentation::PointerSized()));",
          "new_line_content": "    if (V8_UNLIKELY(!top_[static_cast<int>(type)].has_value())) {",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "static_cast<int>(type)",
          "new_api": "RegisterRepresentation::PointerSized()",
          "old_text": "static_cast<int>(type)",
          "new_text": "RegisterRepresentation::PointerSized()",
          "old_line_content": "    return top_[static_cast<int>(type)].value();",
          "new_line_content": "          __ NewLoopInvariantVariable(RegisterRepresentation::PointerSized()));",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "ExternalReference::new_space_allocation_limit_address(isolate_)",
          "new_api": "ExternalConstant",
          "old_text": "ExternalReference::new_space_allocation_limit_address(isolate_)",
          "new_text": "ExternalConstant(\n          type == AllocationType::kYoung\n              ? ExternalReference::new_space_allocation_limit_address(isolate_)\n              : ExternalReference::old_space_allocation_limit_address(\n                    isolate_))",
          "old_line_content": "              ? ExternalReference::new_space_allocation_limit_address(isolate_)",
          "new_line_content": "      limit_address = __ ExternalConstant(",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "UNREACHABLE",
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": "UNREACHABLE()",
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "      UNREACHABLE();",
          "new_line_content": "                  MemoryRepresentation::PointerSized(), limit_address_offset);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 257,
          "old_api": null,
          "new_api": "top",
          "old_text": null,
          "new_text": "top(type)",
          "old_line_content": "      if (!constant_size) {",
          "new_line_content": "        OpIndex top_value = __ GetVariable(top(type));",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "PipelineData::Get().isolate()",
          "old_line_content": "  base::Optional<Variable> top_[2];",
          "new_line_content": "  Isolate* isolate_ = PipelineData::Get().isolate();",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": null,
          "new_api": "PointerAdd",
          "old_text": null,
          "new_text": "PointerAdd(top_value, size)",
          "old_line_content": "                       __ BitcastWordPtrToTagged(__ WordPtrAdd(",
          "new_line_content": "        OpIndex new_top = __ PointerAdd(top_value, size);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "static_cast<int>(AllocationType::kYoung)",
          "old_text": null,
          "new_text": "static_cast<int>(AllocationType::kYoung)",
          "old_line_content": "  Variable top(AllocationType type) {",
          "new_line_content": "  static_assert(static_cast<int>(AllocationType::kYoung) == 0);",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": null,
          "new_api": "static_cast<int>(type)",
          "old_text": null,
          "new_text": "static_cast<int>(type)",
          "old_line_content": "    }",
          "new_line_content": "      top_[static_cast<int>(type)].emplace(",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "static_cast<int>(type)",
          "old_text": null,
          "new_text": "static_cast<int>(type)",
          "old_line_content": "",
          "new_line_content": "    return top_[static_cast<int>(type)].value();",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "graph_zone",
          "old_text": null,
          "new_text": "graph_zone()",
          "old_line_content": "    return allocate_builtin_descriptor_;",
          "new_line_content": "          CreateAllocateBuiltinDescriptor(__ graph_zone(), isolate_);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "ExternalReference::new_space_allocation_limit_address(isolate_)",
          "old_text": null,
          "new_text": "ExternalReference::new_space_allocation_limit_address(isolate_)",
          "old_line_content": "                    isolate_));",
          "new_line_content": "              ? ExternalReference::new_space_allocation_limit_address(isolate_)",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "ExternalReference::old_space_allocation_limit_address(\n                    isolate_)",
          "old_text": null,
          "new_text": "ExternalReference::old_space_allocation_limit_address(\n                    isolate_)",
          "old_line_content": "    } else {",
          "new_line_content": "              : ExternalReference::old_space_allocation_limit_address(",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "WasmInstanceParameter",
          "old_text": null,
          "new_text": "WasmInstanceParameter()",
          "old_line_content": "          type == AllocationType::kYoung",
          "new_line_content": "      V<WasmInstanceObject> instance_node = __ WasmInstanceParameter();",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": null,
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "                    __ PointerAdd(__ GetVariable(top(type)), reservation_size),",
          "new_line_content": "          __ LoadOffHeap(limit_address, MemoryRepresentation::PointerSized());",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "LoadOp::Kind::TaggedBase()",
          "old_text": null,
          "new_text": "LoadOp::Kind::TaggedBase()",
          "old_line_content": "#else",
          "new_line_content": "          __ Load(instance_node, LoadOp::Kind::TaggedBase(),",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "UNREACHABLE",
          "old_text": null,
          "new_text": "UNREACHABLE()",
          "old_line_content": "    }",
          "new_line_content": "      UNREACHABLE();",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "Call",
          "old_text": null,
          "new_text": "Call(allocate_builtin, {reservation_size},\n                                  AllocateBuiltinDescriptor())",
          "old_line_content": "      __ SetVariable(top(type),",
          "new_line_content": "      OpIndex allocated = __ Call(allocate_builtin, {reservation_size},",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "AllocateBuiltinDescriptor",
          "old_text": null,
          "new_text": "AllocateBuiltinDescriptor()",
          "old_line_content": "                     __ PointerSub(__ BitcastTaggedToWord(allocated),",
          "new_line_content": "                                  AllocateBuiltinDescriptor());",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "top",
          "old_text": null,
          "new_text": "top(type)",
          "old_line_content": "    __ StoreOffHeap(top_address, __ GetVariable(top(type)),",
          "new_line_content": "    OpIndex obj_addr = __ GetVariable(top(type));",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": null,
          "new_api": "BitcastWordPtrToTagged",
          "old_text": null,
          "new_text": "BitcastWordPtrToTagged(\n        __ PointerAdd(obj_addr, __ IntPtrConstant(kHeapObjectTag)))",
          "old_line_content": "  }",
          "new_line_content": "    return __ BitcastWordPtrToTagged(",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "IntPtrConstant",
          "old_text": null,
          "new_text": "IntPtrConstant(kHeapObjectTag)",
          "old_line_content": "",
          "new_line_content": "        __ PointerAdd(obj_addr, __ IntPtrConstant(kHeapObjectTag)));",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "ExternalConstant",
          "old_text": null,
          "new_text": "ExternalConstant(\n                        ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_))",
          "old_line_content": "                            shared_external_pointer_table_address_address(",
          "new_line_content": "                    __ ExternalConstant(",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_)",
          "old_text": null,
          "new_text": "ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_)",
          "old_line_content": "                                isolate_)),",
          "new_line_content": "                        ExternalReference::",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "ExternalConstant",
          "old_text": null,
          "new_text": "ExternalConstant(\n                    ExternalReference::external_pointer_table_address(\n                        isolate_))",
          "old_line_content": "                        isolate_));",
          "new_line_content": "              : __ ExternalConstant(",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": null,
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "#if V8_ENABLE_WEBASSEMBLY",
          "new_line_content": "                             MemoryRepresentation::PointerSized());",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": null,
          "new_api": "LoadRootRegister",
          "old_text": null,
          "new_text": "LoadRootRegister()",
          "old_line_content": "        V<WordPtr> table_address =",
          "new_line_content": "      V<WordPtr> isolate_root = __ LoadRootRegister();",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "LoadOp::Kind::RawAligned()",
          "old_text": null,
          "new_text": "LoadOp::Kind::RawAligned()",
          "old_line_content": "                        Internals::kExternalPointerTableBasePointerOffset);",
          "new_line_content": "        table = __ Load(table_address, LoadOp::Kind::RawAligned(),",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": null,
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "      } else {",
          "new_line_content": "                        MemoryRepresentation::PointerSized(),",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": null,
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "                            Internals::kExternalPointerTableBasePointerOffset);",
          "new_line_content": "                        MemoryRepresentation::PointerSized(),",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": null,
          "new_api": "IsolateData::external_pointer_table_offset()",
          "old_text": null,
          "new_text": "IsolateData::external_pointer_table_offset()",
          "old_line_content": "      }",
          "new_line_content": "                        IsolateData::external_pointer_table_offset() +",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "Word64Constant",
          "old_text": null,
          "new_text": "Word64Constant(~tag)",
          "old_line_content": "#else   // V8_ENABLE_SANDBOX",
          "new_line_content": "    pointer = __ Word64BitwiseAnd(pointer, __ Word64Constant(~tag));",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "UNREACHABLE",
          "old_text": null,
          "new_text": "UNREACHABLE()",
          "old_line_content": "    }",
          "new_line_content": "      UNREACHABLE();",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "MemoryRepresentation::PointerSized()",
          "old_text": null,
          "new_text": "MemoryRepresentation::PointerSized()",
          "old_line_content": "    return pointer;",
          "new_line_content": "                                     MemoryRepresentation::PointerSized());",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": null,
          "new_api": "MatchIntegralWordConstant",
          "old_text": null,
          "new_text": "matcher().MatchIntegralWordConstant(\n            size, WordRepresentation::PointerSized(), &constant_size)",
          "old_line_content": "    // normal-sized objects.",
          "new_line_content": "    if (!__ matcher().MatchIntegralWordConstant(",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "WordRepresentation::PointerSized()",
          "old_text": null,
          "new_text": "WordRepresentation::PointerSized()",
          "old_line_content": "    uint64_t constant_size{};",
          "new_line_content": "            size, WordRepresentation::PointerSized(), &constant_size) ||",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "UNREACHABLE",
          "old_text": null,
          "new_text": "UNREACHABLE()",
          "old_line_content": "  }",
          "new_line_content": "    UNREACHABLE();",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": null,
          "new_api": "RegisterRepresentation::Tagged()",
          "old_text": null,
          "new_text": "RegisterRepresentation::Tagged()",
          "old_line_content": "        constant_size > kMaxRegularHeapObjectSize) {",
          "new_line_content": "          __ NewLoopInvariantVariable(RegisterRepresentation::Tagged());",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 256,
          "old_api": "RegisterRepresentation::Tagged()",
          "new_api": null,
          "old_text": "RegisterRepresentation::Tagged()",
          "new_text": null,
          "old_line_content": "          __ NewLoopInvariantVariable(RegisterRepresentation::Tagged());",
          "new_line_content": "        // Check if we can do bump pointer allocation here.",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "PipelineData::Get().isolate()",
          "new_text": null,
          "old_line_content": "  Isolate* isolate_ = PipelineData::Get().isolate();",
          "new_line_content": " private:",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "top",
          "new_api": null,
          "old_text": "top(type)",
          "new_text": null,
          "old_line_content": "        OpIndex top_value = __ GetVariable(top(type));",
          "new_line_content": "                       __ BitcastWordPtrToTagged(__ WordPtrAdd(",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "static_cast<int>(AllocationType::kYoung)",
          "new_api": null,
          "old_text": "static_cast<int>(AllocationType::kYoung)",
          "new_text": null,
          "old_line_content": "  static_assert(static_cast<int>(AllocationType::kYoung) == 0);",
          "new_line_content": "  base::Optional<Variable> top_[2];",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "static_cast<int>(AllocationType::kOld)",
          "new_api": null,
          "old_text": "static_cast<int>(AllocationType::kOld)",
          "new_text": null,
          "old_line_content": "  static_assert(static_cast<int>(AllocationType::kOld) == 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "static_cast<int>(type)",
          "new_api": null,
          "old_text": "static_cast<int>(type)",
          "new_text": null,
          "old_line_content": "    if (V8_UNLIKELY(!top_[static_cast<int>(type)].has_value())) {",
          "new_line_content": "  Variable top(AllocationType type) {",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "graph_zone",
          "new_api": null,
          "old_text": "graph_zone()",
          "new_text": null,
          "old_line_content": "          CreateAllocateBuiltinDescriptor(__ graph_zone(), isolate_);",
          "new_line_content": "    if (allocate_builtin_descriptor_ == nullptr) {",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "ExternalConstant",
          "new_api": null,
          "old_text": "ExternalConstant(\n          type == AllocationType::kYoung\n              ? ExternalReference::new_space_allocation_limit_address(isolate_)\n              : ExternalReference::old_space_allocation_limit_address(\n                    isolate_))",
          "new_text": null,
          "old_line_content": "      limit_address = __ ExternalConstant(",
          "new_line_content": "    OpIndex limit_address;",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": "ExternalReference::old_space_allocation_limit_address(\n                    isolate_)",
          "new_api": null,
          "old_text": "ExternalReference::old_space_allocation_limit_address(\n                    isolate_)",
          "new_text": null,
          "old_line_content": "              : ExternalReference::old_space_allocation_limit_address(",
          "new_line_content": "          type == AllocationType::kYoung",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "WasmInstanceParameter",
          "new_api": null,
          "old_text": "WasmInstanceParameter()",
          "new_text": null,
          "old_line_content": "      V<WasmInstanceObject> instance_node = __ WasmInstanceParameter();",
          "new_line_content": "      // address at runtime.",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "LoadOp::Kind::TaggedBase()",
          "new_api": null,
          "old_text": "LoadOp::Kind::TaggedBase()",
          "new_text": null,
          "old_line_content": "          __ Load(instance_node, LoadOp::Kind::TaggedBase(),",
          "new_line_content": "              : WasmInstanceObject::kOldAllocationLimitAddressOffset;",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": null,
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": null,
          "old_line_content": "                  MemoryRepresentation::PointerSized(), limit_address_offset);",
          "new_line_content": "      limit_address =",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "Call",
          "new_api": null,
          "old_text": "Call(allocate_builtin, {reservation_size},\n                                  AllocateBuiltinDescriptor())",
          "new_text": null,
          "old_line_content": "      OpIndex allocated = __ Call(allocate_builtin, {reservation_size},",
          "new_line_content": "    // Call the runtime if bump pointer area exhausted.",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "AllocateBuiltinDescriptor",
          "new_api": null,
          "old_text": "AllocateBuiltinDescriptor()",
          "new_text": null,
          "old_line_content": "                                  AllocateBuiltinDescriptor());",
          "new_line_content": "    if (__ Bind(call_runtime)) {",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "top",
          "new_api": null,
          "old_text": "top(type)",
          "new_text": null,
          "old_line_content": "    OpIndex obj_addr = __ GetVariable(top(type));",
          "new_line_content": "    __ BindReachable(done);",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "BitcastWordPtrToTagged",
          "new_api": null,
          "old_text": "BitcastWordPtrToTagged(\n        __ PointerAdd(obj_addr, __ IntPtrConstant(kHeapObjectTag)))",
          "new_text": null,
          "old_line_content": "    return __ BitcastWordPtrToTagged(",
          "new_line_content": "    __ StoreOffHeap(top_address, __ GetVariable(top(type)),",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "IntPtrConstant",
          "new_api": null,
          "old_text": "IntPtrConstant(kHeapObjectTag)",
          "new_text": null,
          "old_line_content": "        __ PointerAdd(obj_addr, __ IntPtrConstant(kHeapObjectTag)));",
          "new_line_content": "                    MemoryRepresentation::PointerSized());",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "IsSharedExternalPointerType",
          "new_api": null,
          "old_text": "IsSharedExternalPointerType(tag)",
          "new_text": null,
          "old_line_content": "          IsSharedExternalPointerType(tag)",
          "new_line_content": "      // some point.",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "ExternalConstant",
          "new_api": null,
          "old_text": "ExternalConstant(\n                        ExternalReference::\n                            shared_external_pointer_table_address_address(\n                                isolate_))",
          "new_text": null,
          "old_line_content": "                    __ ExternalConstant(",
          "new_line_content": "              ? __",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": null,
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": null,
          "old_line_content": "                    MemoryRepresentation::PointerSized())",
          "new_line_content": "                            shared_external_pointer_table_address_address(",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "ExternalConstant",
          "new_api": null,
          "old_text": "ExternalConstant(\n                    ExternalReference::external_pointer_table_address(\n                        isolate_))",
          "new_text": null,
          "old_line_content": "              : __ ExternalConstant(",
          "new_line_content": "                                isolate_)),",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "LoadRootRegister",
          "new_api": null,
          "old_text": "LoadRootRegister()",
          "new_text": null,
          "old_line_content": "      V<WordPtr> isolate_root = __ LoadRootRegister();",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "IsSharedExternalPointerType",
          "new_api": null,
          "old_text": "IsSharedExternalPointerType(tag)",
          "new_text": null,
          "old_line_content": "      if (IsSharedExternalPointerType(tag)) {",
          "new_line_content": "#if V8_ENABLE_WEBASSEMBLY",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": null,
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": null,
          "old_line_content": "                    MemoryRepresentation::PointerSized(),",
          "new_line_content": "        V<WordPtr> table_address =",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "LoadOp::Kind::RawAligned()",
          "new_api": null,
          "old_text": "LoadOp::Kind::RawAligned()",
          "new_text": null,
          "old_line_content": "        table = __ Load(isolate_root, LoadOp::Kind::RawAligned(),",
          "new_line_content": "                        Internals::kExternalPointerTableBasePointerOffset);",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": null,
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": null,
          "old_line_content": "                        MemoryRepresentation::PointerSized(),",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "UNREACHABLE",
          "new_api": null,
          "old_text": "UNREACHABLE()",
          "new_text": null,
          "old_line_content": "      UNREACHABLE();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "ShiftRightLogical",
          "new_api": null,
          "old_text": "ShiftRightLogical(handle, kExternalPointerIndexShift,\n                                         WordRepresentation::Word32())",
          "new_text": null,
          "old_line_content": "    OpIndex index = __ ShiftRightLogical(handle, kExternalPointerIndexShift,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "MemoryRepresentation::PointerSized()",
          "new_api": null,
          "old_text": "MemoryRepresentation::PointerSized()",
          "new_text": null,
          "old_line_content": "        __ LoadOffHeap(limit_address, MemoryRepresentation::PointerSized());",
          "new_line_content": "    // If the allocation size is not statically known or is known to be larger",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "WordRepresentation::Word32()",
          "new_api": null,
          "old_text": "WordRepresentation::Word32()",
          "new_text": null,
          "old_line_content": "                                         WordRepresentation::Word32());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "UNREACHABLE",
          "new_api": null,
          "old_text": "UNREACHABLE()",
          "new_text": null,
          "old_line_content": "    UNREACHABLE();",
          "new_line_content": "    return pointer;",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "MatchIntegralWordConstant",
          "new_api": null,
          "old_text": "matcher().MatchIntegralWordConstant(\n            size, WordRepresentation::PointerSized(), &constant_size)",
          "new_text": null,
          "old_line_content": "    if (!__ matcher().MatchIntegralWordConstant(",
          "new_line_content": "        constant_size > kMaxRegularHeapObjectSize) {",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "WordRepresentation::PointerSized()",
          "new_api": null,
          "old_text": "WordRepresentation::PointerSized()",
          "new_text": null,
          "old_line_content": "            size, WordRepresentation::PointerSized(), &constant_size) ||",
          "new_line_content": "      Variable result =",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 20,
      "total_additions": 34,
      "total_deletions": 33,
      "total_api_changes": 87
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 87,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          296,
          244,
          262
        ]
      }
    },
    "api_calls_before": 156,
    "api_calls_after": 158,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 2,
      "total_diff_lines": 32
    }
  }
}