{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/771eb49171a200e7a3ca518e12c16ce82f6bbb3c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/771eb49171a200e7a3ca518e12c16ce82f6bbb3c/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/771eb49171a200e7a3ca518e12c16ce82f6bbb3c/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/771eb49171a200e7a3ca518e12c16ce82f6bbb3c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1156,
          "old_api": "null_value",
          "new_api": "FieldOperand",
          "old_text": "factory->null_value()",
          "new_text": "FieldOperand(ecx, SharedFunctionInfo::kNativeByteOffset)",
          "old_line_content": "    __ cmp(ebx, factory->null_value());",
          "new_line_content": "    __ test_b(FieldOperand(ecx, SharedFunctionInfo::kNativeByteOffset),",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "isolate",
          "new_api": "Generate_PushAppliedArguments",
          "old_text": "masm->isolate()",
          "new_text": "Generate_PushAppliedArguments(\n        masm, kArgumentsOffset, kIndexOffset, kLimitOffset)",
          "old_line_content": "    CallConstructStub stub(masm->isolate(), SUPER_CONSTRUCTOR_CALL);",
          "new_line_content": "    Generate_PushAppliedArguments(",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "STATIC_ASSERT",
          "new_api": "empty_fixed_array",
          "old_text": "STATIC_ASSERT(JSValue::kSize == 4 * kPointerSize)",
          "new_text": "factory->empty_fixed_array()",
          "old_line_content": "  STATIC_ASSERT(JSValue::kSize == 4 * kPointerSize);",
          "new_line_content": "  __ Move(ecx, Immediate(factory->empty_fixed_array()));",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "string_ctor_conversions",
          "new_api": "IsObjectStringType",
          "old_text": "counters->string_ctor_conversions()",
          "new_text": "masm->IsObjectStringType(eax, ebx, ecx)",
          "old_line_content": "  __ IncrementCounter(counters->string_ctor_conversions(), 1);",
          "new_line_content": "  Condition is_string = masm->IsObjectStringType(eax, ebx, ecx);",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "Operand",
          "new_api": "FixedArray::OffsetOfElementAt(\n      DeoptimizationInputData::kOsrPcOffsetIndex)",
          "old_text": "Operand(esp, 0)",
          "new_text": "FixedArray::OffsetOfElementAt(\n      DeoptimizationInputData::kOsrPcOffsetIndex)",
          "old_line_content": "  __ mov(Operand(esp, 0), eax);",
          "new_line_content": "  __ mov(ebx, Operand(ebx, FixedArray::OffsetOfElementAt(",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1153,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->factory()",
          "old_line_content": "    // Call ToObject on the receiver if it is not an object, or use the",
          "new_line_content": "    Factory* factory = masm->isolate()->factory();",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "STATIC_ASSERT",
          "old_text": null,
          "new_text": "STATIC_ASSERT(kSmiTagSize == 1 && kSmiTag == 0)",
          "old_line_content": "  // ----------- S t a t e -------------",
          "new_line_content": "  STATIC_ASSERT(kSmiTagSize == 1 && kSmiTag == 0);",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(esp, ebx, times_2, 1 * kPointerSize)",
          "old_line_content": "  //  -- ebx : expected number of arguments",
          "new_line_content": "  __ lea(esp, Operand(esp, ebx, times_2, 1 * kPointerSize));  // 1 ~ receiver",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "Generate_ApplyHelper",
          "old_text": null,
          "new_text": "Generate_ApplyHelper(masm, false)",
          "old_line_content": "",
          "new_line_content": "  Generate_ApplyHelper(masm, false);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "FieldOperand",
          "old_text": null,
          "new_text": "FieldOperand(ecx, Map::kInstanceSizeOffset)",
          "old_line_content": "  // Set properties and elements.",
          "new_line_content": "    __ cmpb(FieldOperand(ecx, Map::kInstanceSizeOffset),",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "FieldOperand",
          "old_text": null,
          "new_text": "FieldOperand(ecx, Map::kUnusedPropertyFieldsOffset)",
          "old_line_content": "  __ mov(FieldOperand(eax, JSObject::kPropertiesOffset), ecx);",
          "new_line_content": "    __ cmpb(FieldOperand(ecx, Map::kUnusedPropertyFieldsOffset), 0);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "null_value",
          "old_text": null,
          "new_text": "factory->null_value()",
          "old_line_content": "    __ bind(&call_to_object);",
          "new_line_content": "    __ cmp(ebx, factory->null_value());",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "Generate_ApplyHelper",
          "old_text": null,
          "new_text": "Generate_ApplyHelper(masm, true)",
          "old_line_content": "",
          "new_line_content": "  Generate_ApplyHelper(masm, true);",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "undefined_value",
          "old_text": null,
          "new_text": "factory->undefined_value()",
          "old_line_content": "    __ InvokeBuiltin(Builtins::TO_OBJECT, CALL_FUNCTION);",
          "new_line_content": "    __ cmp(ebx, factory->undefined_value());",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "Immediate",
          "old_text": null,
          "new_text": "Immediate(0)",
          "old_line_content": "",
          "new_line_content": "  __ cmp(eax, Immediate(0));",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "STATIC_ASSERT",
          "old_text": null,
          "new_text": "STATIC_ASSERT(LAST_SPEC_OBJECT_TYPE == LAST_TYPE)",
          "old_line_content": "    __ jmp(&push_receiver);",
          "new_line_content": "    STATIC_ASSERT(LAST_SPEC_OBJECT_TYPE == LAST_TYPE);",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()",
          "old_line_content": "  __ ret(kStackSize * kPointerSize);",
          "new_line_content": "    CallConstructStub stub(masm->isolate(), SUPER_CONSTRUCTOR_CALL);",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "Generate_ConstructHelper",
          "old_text": null,
          "new_text": "Generate_ConstructHelper(masm)",
          "old_line_content": "  //  -- esp[4] : last argument",
          "new_line_content": "  Generate_ConstructHelper(masm);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->counters()->arguments_adaptors()",
          "old_line_content": "  __ j(less, &too_few);",
          "new_line_content": "  __ IncrementCounter(masm->isolate()->counters()->arguments_adaptors(), 1);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->factory()",
          "old_line_content": "  // Ensure the object is fully initialized.",
          "new_line_content": "  Factory* factory = masm->isolate()->factory();",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": null,
          "new_api": "ArgumentsAdaptorStackCheck",
          "old_text": null,
          "new_text": "ArgumentsAdaptorStackCheck(masm, &stack_overflow)",
          "old_line_content": "",
          "new_line_content": "  ArgumentsAdaptorStackCheck(masm, &stack_overflow);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "STATIC_ASSERT",
          "old_text": null,
          "new_text": "STATIC_ASSERT(JSValue::kSize == 4 * kPointerSize)",
          "old_line_content": "  __ bind(&not_cached);",
          "new_line_content": "  STATIC_ASSERT(JSValue::kSize == 4 * kPointerSize);",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(eax, ebx, times_1, Code::kHeaderSize - kHeapObjectTag)",
          "old_line_content": "",
          "new_line_content": "  __ lea(eax, Operand(eax, ebx, times_1, Code::kHeaderSize - kHeapObjectTag));",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "LoadDescriptor::SlotRegister()",
          "old_text": null,
          "new_text": "LoadDescriptor::SlotRegister()",
          "old_line_content": "  __ mov(key, Operand(ebp, indexOffset));",
          "new_line_content": "  Register slot = LoadDescriptor::SlotRegister();",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "LoadWithVectorDescriptor::VectorRegister()",
          "old_text": null,
          "new_text": "LoadWithVectorDescriptor::VectorRegister()",
          "old_line_content": "  __ jmp(&entry);",
          "new_line_content": "  Register vector = LoadWithVectorDescriptor::VectorRegister();",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "EnterArgumentsAdaptorFrame",
          "old_text": null,
          "new_text": "EnterArgumentsAdaptorFrame(masm)",
          "old_line_content": "    __ bind(&copy);",
          "new_line_content": "    EnterArgumentsAdaptorFrame(masm);",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(esp, 0)",
          "old_line_content": "  // We check the stack limit as indicator that recompilation might be done.",
          "new_line_content": "  __ mov(Operand(esp, 0), eax);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "STATIC_ASSERT",
          "old_text": null,
          "new_text": "STATIC_ASSERT(kSmiTag == 0)",
          "old_line_content": "  // Invoke the conversion builtin and put the result into ebx.",
          "new_line_content": "  STATIC_ASSERT(kSmiTag == 0);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "Generate_PushAppliedArguments",
          "old_text": null,
          "new_text": "Generate_PushAppliedArguments(\n        masm, kArgumentsOffset, kIndexOffset, kLimitOffset)",
          "old_line_content": "    __ j(not_equal, &call_proxy);",
          "new_line_content": "    Generate_PushAppliedArguments(",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "NegateCondition",
          "old_text": null,
          "new_text": "NegateCondition(is_string)",
          "old_line_content": "  {",
          "new_line_content": "  __ j(NegateCondition(is_string), &convert_argument);",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "string_ctor_string_value",
          "old_text": null,
          "new_text": "counters->string_ctor_string_value()",
          "old_line_content": "    __ push(edi);  // Preserve the function.",
          "new_line_content": "  __ IncrementCounter(counters->string_ctor_string_value(), 1);",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->factory()->NewTypeFeedbackVector(&spec)",
          "old_line_content": "  // we have generated an inline version of the keyed load.  In this",
          "new_line_content": "      masm->isolate()->factory()->NewTypeFeedbackVector(&spec);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "FeedbackVectorICSlot",
          "old_text": null,
          "new_text": "FeedbackVectorICSlot(0)",
          "old_line_content": "  // case, we know that we are not generating a test instruction next.",
          "new_line_content": "  int index = feedback_vector->GetIndex(FeedbackVectorICSlot(0));",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(eax, 0)",
          "old_line_content": "    __ bind(&too_few);",
          "new_line_content": "    __ push(Operand(eax, 0));",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()",
          "old_line_content": "         RelocInfo::CODE_TARGET);",
          "new_line_content": "      ExternalReference::address_of_stack_limit(masm->isolate());",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()",
          "old_line_content": "  __ push(eax);",
          "new_line_content": "  Handle<Code> ic = KeyedLoadICStub(masm->isolate()).GetCode();",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()",
          "old_line_content": "  //  -- esp[0] : return address",
          "new_line_content": "  InternalArrayConstructorStub stub(masm->isolate());",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "GenerateLeaveFrame",
          "old_text": null,
          "new_text": "frame_scope.GenerateLeaveFrame()",
          "old_line_content": "    __ GetBuiltinEntry(edx, Builtins::CALL_FUNCTION_PROXY);",
          "new_line_content": "    frame_scope.GenerateLeaveFrame();",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "string_ctor_conversions",
          "old_text": null,
          "new_text": "counters->string_ctor_conversions()",
          "old_line_content": "  __ mov(ebx, eax);",
          "new_line_content": "  __ IncrementCounter(counters->string_ctor_conversions(), 1);",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->builtins()->OnStackReplacement()",
          "old_line_content": "}  // namespace internal",
          "new_line_content": "  __ jmp(masm->isolate()->builtins()->OnStackReplacement(),",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "Immediate",
          "old_text": null,
          "new_text": "Immediate(0)",
          "old_line_content": "}",
          "new_line_content": "    __ Move(ebx, Immediate(0));",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "FieldOperand",
          "old_text": null,
          "new_text": "FieldOperand(ecx, SharedFunctionInfo::kStrongModeByteOffset)",
          "old_line_content": "    __ j(greater_equal, &no_strong_error, Label::kNear);",
          "new_line_content": "    __ test_b(FieldOperand(ecx, SharedFunctionInfo::kStrongModeByteOffset),",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "Immediate",
          "old_text": null,
          "new_text": "Immediate(1 << kSmiTagSize)",
          "old_line_content": "  __ Move(eax, key);",
          "new_line_content": "  __ add(key, Immediate(1 << kSmiTagSize));",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->builtins()->ArgumentsAdaptorTrampoline()",
          "old_line_content": "",
          "new_line_content": "    __ call(masm->isolate()->builtins()->ArgumentsAdaptorTrampoline(),",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "empty_string",
          "old_text": null,
          "new_text": "factory->empty_string()",
          "old_line_content": "  __ bind(&gc_required);",
          "new_line_content": "  __ Move(ebx, Immediate(factory->empty_string()));",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "EnterArgumentsAdaptorFrame",
          "old_text": null,
          "new_text": "EnterArgumentsAdaptorFrame(masm)",
          "old_line_content": "    const int offset = StandardFrameConstants::kCallerSPOffset;",
          "new_line_content": "      EnterArgumentsAdaptorFrame(masm);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "string_ctor_gc_required",
          "old_text": null,
          "new_text": "counters->string_ctor_gc_required()",
          "old_line_content": "",
          "new_line_content": "  __ IncrementCounter(counters->string_ctor_gc_required(), 1);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "EnterArgumentsAdaptorFrame",
          "old_text": null,
          "new_text": "EnterArgumentsAdaptorFrame(masm)",
          "old_line_content": "    __ neg(eax);",
          "new_line_content": "    EnterArgumentsAdaptorFrame(masm);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->factory()->undefined_value()",
          "old_line_content": "  //  -- eax                 : number of arguments",
          "new_line_content": "  __ mov(ebx, masm->isolate()->factory()->undefined_value());",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()",
          "old_line_content": "  //  -- edi                 : constructor function",
          "new_line_content": "  ArrayConstructorStub stub(masm->isolate());",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": null,
          "new_api": "Immediate",
          "old_text": null,
          "new_text": "Immediate(1)",
          "old_line_content": "    __ j(not_zero, &copy);",
          "new_line_content": "    __ sub(eax, Immediate(1));",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(edi, 0)",
          "old_line_content": "    __ inc(eax);",
          "new_line_content": "    __ push(Operand(edi, 0));",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->counters()",
          "old_line_content": "",
          "new_line_content": "  Counters* counters = masm->isolate()->counters();",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "string_ctor_calls",
          "old_text": null,
          "new_text": "counters->string_ctor_calls()",
          "old_line_content": "  // Load the first argument into eax and get rid of the rest",
          "new_line_content": "  __ IncrementCounter(counters->string_ctor_calls(), 1);",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()",
          "old_line_content": "  __ mov(edx, ebx);",
          "new_line_content": "      ExternalReference::address_of_real_stack_limit(masm->isolate());",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "masm->isolate()->factory()->undefined_value()",
          "old_line_content": "  __ mov(edi, Operand(ebp, JavaScriptFrameConstants::kFunctionOffset));",
          "new_line_content": "    __ push(Immediate(masm->isolate()->factory()->undefined_value()));",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "Generate_CheckStackOverflow",
          "old_text": null,
          "new_text": "Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged)",
          "old_line_content": "",
          "new_line_content": "    Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged);",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "Generate_CheckStackOverflow",
          "old_text": null,
          "new_text": "Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged)",
          "old_line_content": "    // Push newTarget and callee functions",
          "new_line_content": "    Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(esp, eax, times_pointer_size, 0)",
          "old_line_content": "  __ LookupNumberStringCache(eax,  // Input.",
          "new_line_content": "  __ mov(ebx, Operand(esp, eax, times_pointer_size, 0));",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": null,
          "new_api": "Immediate",
          "old_text": null,
          "new_text": "Immediate(0)",
          "old_line_content": "    __ CmpObjectType(edi, JS_FUNCTION_TYPE, ecx);",
          "new_line_content": "    __ push(Immediate(0));  // index",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": null,
          "new_api": "pc_offset",
          "old_text": null,
          "new_text": "masm->pc_offset()",
          "old_line_content": "  // -------------------------------------------",
          "new_line_content": "  masm->isolate()->heap()->SetArgumentsAdaptorDeoptPCOffset(masm->pc_offset());",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "Immediate",
          "old_text": null,
          "new_text": "Immediate(0)",
          "old_line_content": "",
          "new_line_content": "    __ push(Immediate(0));  // index",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "LeaveArgumentsAdaptorFrame",
          "old_text": null,
          "new_text": "LeaveArgumentsAdaptorFrame(masm)",
          "old_line_content": "",
          "new_line_content": "  LeaveArgumentsAdaptorFrame(masm);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "string_ctor_cached_number",
          "old_text": null,
          "new_text": "counters->string_ctor_cached_number()",
          "old_line_content": "  // Allocate a JSValue and put the tagged pointer into eax.",
          "new_line_content": "  __ IncrementCounter(counters->string_ctor_cached_number(), 1);",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "STATIC_ASSERT",
          "old_text": null,
          "new_text": "STATIC_ASSERT(kSmiTagSize == 1)",
          "old_line_content": "  __ mov(ebx, Operand(ebp, ArgumentsAdaptorFrameConstants::kLengthOffset));",
          "new_line_content": "  STATIC_ASSERT(kSmiTagSize == 1);",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": null,
          "new_api": "EnterArgumentsAdaptorFrame",
          "old_text": null,
          "new_text": "EnterArgumentsAdaptorFrame(masm)",
          "old_line_content": "  // Lookup the function in the JavaScript frame.",
          "new_line_content": "    EnterArgumentsAdaptorFrame(masm);",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "GetCode",
          "old_text": null,
          "new_text": "stub.GetCode()",
          "old_line_content": "}",
          "new_line_content": "    __ call(stub.GetCode(), RelocInfo::CONSTRUCT_CALL);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "FieldOperand",
          "old_text": null,
          "new_text": "FieldOperand(ecx, SharedFunctionInfo::kStrictModeByteOffset)",
          "old_line_content": "              1 << SharedFunctionInfo::kNativeBitWithinByte);",
          "new_line_content": "    __ test_b(FieldOperand(ecx, SharedFunctionInfo::kStrictModeByteOffset),",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1280,
          "old_api": "Generate_ApplyHelper",
          "new_api": null,
          "old_text": "Generate_ApplyHelper(masm, false)",
          "new_text": null,
          "old_line_content": "  Generate_ApplyHelper(masm, false);",
          "new_line_content": "    // Leave internal frame.",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "FieldOperand",
          "new_api": null,
          "old_text": "FieldOperand(ecx, Map::kInstanceSizeOffset)",
          "new_text": null,
          "old_line_content": "    __ cmpb(FieldOperand(ecx, Map::kInstanceSizeOffset),",
          "new_line_content": "              ecx,  // New allocation top (we ignore it).",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "FieldOperand",
          "new_api": null,
          "old_text": "FieldOperand(ecx, Map::kUnusedPropertyFieldsOffset)",
          "new_text": null,
          "old_line_content": "    __ cmpb(FieldOperand(ecx, Map::kUnusedPropertyFieldsOffset), 0);",
          "new_line_content": "              TAG_OBJECT);",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "Generate_ApplyHelper",
          "new_api": null,
          "old_text": "Generate_ApplyHelper(masm, true)",
          "new_text": null,
          "old_line_content": "  Generate_ApplyHelper(masm, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "undefined_value",
          "new_api": null,
          "old_text": "factory->undefined_value()",
          "new_text": null,
          "old_line_content": "    __ cmp(ebx, factory->undefined_value());",
          "new_line_content": "    __ j(not_equal, &push_receiver);",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "Immediate",
          "new_api": null,
          "old_text": "Immediate(0)",
          "new_text": null,
          "old_line_content": "  __ cmp(eax, Immediate(0));",
          "new_line_content": "    FrameScope scope(masm, StackFrame::INTERNAL);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "STATIC_ASSERT",
          "new_api": null,
          "old_text": "STATIC_ASSERT(LAST_SPEC_OBJECT_TYPE == LAST_TYPE)",
          "new_text": null,
          "old_line_content": "    STATIC_ASSERT(LAST_SPEC_OBJECT_TYPE == LAST_TYPE);",
          "new_line_content": "    // Compute the receiver in sloppy mode.",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->factory()",
          "new_text": null,
          "old_line_content": "  Factory* factory = masm->isolate()->factory();",
          "new_line_content": "            JSValue::kSize >> kPointerSizeLog2);",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "Generate_ConstructHelper",
          "new_api": null,
          "old_text": "Generate_ConstructHelper(masm)",
          "new_text": null,
          "old_line_content": "  Generate_ConstructHelper(masm);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->counters()->arguments_adaptors()",
          "new_text": null,
          "old_line_content": "  __ IncrementCounter(masm->isolate()->counters()->arguments_adaptors(), 1);",
          "new_line_content": "void Builtins::Generate_ArgumentsAdaptorTrampoline(MacroAssembler* masm) {",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "empty_fixed_array",
          "new_api": null,
          "old_text": "factory->empty_fixed_array()",
          "new_text": null,
          "old_line_content": "  __ Move(ecx, Immediate(factory->empty_fixed_array()));",
          "new_line_content": "    __ Assert(equal, kUnexpectedStringWrapperInstanceSize);",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(eax, Code::kDeoptimizationDataOffset - kHeapObjectTag)",
          "new_text": null,
          "old_line_content": "  __ mov(ebx, Operand(eax, Code::kDeoptimizationDataOffset - kHeapObjectTag));",
          "new_line_content": "  // If the code object is null, just return to the unoptimized code.",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "ArgumentsAdaptorStackCheck",
          "new_api": null,
          "old_text": "ArgumentsAdaptorStackCheck(masm, &stack_overflow)",
          "new_text": null,
          "old_line_content": "  ArgumentsAdaptorStackCheck(masm, &stack_overflow);",
          "new_line_content": "  //  -- ebx : expected number of arguments",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "FieldOperand",
          "new_api": null,
          "old_text": "FieldOperand(ecx, SharedFunctionInfo::kNativeByteOffset)",
          "new_text": null,
          "old_line_content": "    __ test_b(FieldOperand(ecx, SharedFunctionInfo::kNativeByteOffset),",
          "new_line_content": "    __ mov(ecx, FieldOperand(edi, JSFunction::kSharedFunctionInfoOffset));",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "FixedArray::OffsetOfElementAt(\n      DeoptimizationInputData::kOsrPcOffsetIndex)",
          "new_api": null,
          "old_text": "FixedArray::OffsetOfElementAt(\n      DeoptimizationInputData::kOsrPcOffsetIndex)",
          "new_text": null,
          "old_line_content": "  __ mov(ebx, Operand(ebx, FixedArray::OffsetOfElementAt(",
          "new_line_content": "  __ ret(0);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "EnterArgumentsAdaptorFrame",
          "new_api": null,
          "old_text": "EnterArgumentsAdaptorFrame(masm)",
          "new_text": null,
          "old_line_content": "    EnterArgumentsAdaptorFrame(masm);",
          "new_line_content": "  __ mov(edx, FieldOperand(edi, JSFunction::kCodeEntryOffset));",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "STATIC_ASSERT",
          "new_api": null,
          "old_text": "STATIC_ASSERT(kSmiTag == 0)",
          "new_text": null,
          "old_line_content": "  STATIC_ASSERT(kSmiTag == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "Generate_PushAppliedArguments",
          "new_api": null,
          "old_text": "Generate_PushAppliedArguments(\n        masm, kArgumentsOffset, kIndexOffset, kLimitOffset)",
          "new_text": null,
          "old_line_content": "    Generate_PushAppliedArguments(",
          "new_line_content": "           Operand(esi, Context::SlotOffset(Context::GLOBAL_OBJECT_INDEX)));",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "IsObjectStringType",
          "new_api": null,
          "old_text": "masm->IsObjectStringType(eax, ebx, ecx)",
          "new_text": null,
          "old_line_content": "  Condition is_string = masm->IsObjectStringType(eax, ebx, ecx);",
          "new_line_content": "  __ ret(0);",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "NegateCondition",
          "new_api": null,
          "old_text": "NegateCondition(is_string)",
          "new_text": null,
          "old_line_content": "  __ j(NegateCondition(is_string), &convert_argument);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "string_ctor_string_value",
          "new_api": null,
          "old_text": "counters->string_ctor_string_value()",
          "new_text": null,
          "old_line_content": "  __ IncrementCounter(counters->string_ctor_string_value(), 1);",
          "new_line_content": "  // if it's a string already before calling the conversion builtin.",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(eax, 0)",
          "new_text": null,
          "old_line_content": "    __ push(Operand(eax, 0));",
          "new_line_content": "    // Copy receiver and all expected arguments.",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()",
          "new_text": null,
          "old_line_content": "      ExternalReference::address_of_stack_limit(masm->isolate());",
          "new_line_content": "  __ ret(0);",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->builtins()->KeyedLoadIC_Megamorphic()",
          "new_text": null,
          "old_line_content": "  Handle<Code> ic = masm->isolate()->builtins()->KeyedLoadIC_Megamorphic();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()",
          "new_text": null,
          "old_line_content": "  InternalArrayConstructorStub stub(masm->isolate());",
          "new_line_content": "    __ Assert(not_zero, kUnexpectedInitialMapForInternalArrayFunction);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "GenerateLeaveFrame",
          "new_api": null,
          "old_text": "frame_scope.GenerateLeaveFrame()",
          "new_text": null,
          "old_line_content": "    frame_scope.GenerateLeaveFrame();",
          "new_line_content": "    // Call the function.",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->builtins()->OnStackReplacement()",
          "new_text": null,
          "old_line_content": "  __ jmp(masm->isolate()->builtins()->OnStackReplacement(),",
          "new_line_content": "  ExternalReference stack_limit =",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "Immediate",
          "new_api": null,
          "old_text": "Immediate(0)",
          "new_text": null,
          "old_line_content": "    __ Move(ebx, Immediate(0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "FieldOperand",
          "new_api": null,
          "old_text": "FieldOperand(ecx, SharedFunctionInfo::kStrongModeByteOffset)",
          "new_text": null,
          "old_line_content": "    __ test_b(FieldOperand(ecx, SharedFunctionInfo::kStrongModeByteOffset),",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "Immediate",
          "new_api": null,
          "old_text": "Immediate(1 << kSmiTagSize)",
          "new_text": null,
          "old_line_content": "  __ add(key, Immediate(1 << kSmiTagSize));",
          "new_line_content": "  // we have generated an inline version of the keyed load.  In this",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->builtins()->ArgumentsAdaptorTrampoline()",
          "new_text": null,
          "old_line_content": "    __ call(masm->isolate()->builtins()->ArgumentsAdaptorTrampoline(),",
          "new_line_content": "    __ ret(kStackSize * kPointerSize);  // remove this, receiver, and arguments",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "empty_string",
          "new_api": null,
          "old_text": "factory->empty_string()",
          "new_text": null,
          "old_line_content": "  __ Move(ebx, Immediate(factory->empty_string()));",
          "new_line_content": "    __ pop(edi);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "EnterArgumentsAdaptorFrame",
          "new_api": null,
          "old_text": "EnterArgumentsAdaptorFrame(masm)",
          "new_text": null,
          "old_line_content": "      EnterArgumentsAdaptorFrame(masm);",
          "new_line_content": "    // What we really care about is the required number of arguments.",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "string_ctor_gc_required",
          "new_api": null,
          "old_text": "counters->string_ctor_gc_required()",
          "new_text": null,
          "old_line_content": "  __ IncrementCounter(counters->string_ctor_gc_required(), 1);",
          "new_line_content": "  __ pop(ecx);",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "EnterArgumentsAdaptorFrame",
          "new_api": null,
          "old_text": "EnterArgumentsAdaptorFrame(masm)",
          "new_text": null,
          "old_line_content": "    EnterArgumentsAdaptorFrame(masm);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->factory()->undefined_value()",
          "new_text": null,
          "old_line_content": "  __ mov(ebx, masm->isolate()->factory()->undefined_value());",
          "new_line_content": "    __ test(ebx, Immediate(kSmiTagMask));",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()",
          "new_text": null,
          "old_line_content": "  ArrayConstructorStub stub(masm->isolate());",
          "new_line_content": "    __ Assert(not_zero, kUnexpectedInitialMapForArrayFunction);",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "Immediate",
          "new_api": null,
          "old_text": "Immediate(1)",
          "new_text": null,
          "old_line_content": "    __ sub(eax, Immediate(1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(edi, 0)",
          "new_text": null,
          "old_line_content": "    __ push(Operand(edi, 0));",
          "new_line_content": "    __ sub(ebx, eax);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->counters()",
          "new_text": null,
          "old_line_content": "  Counters* counters = masm->isolate()->counters();",
          "new_line_content": "void Builtins::Generate_StringConstructCode(MacroAssembler* masm) {",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "string_ctor_calls",
          "new_api": null,
          "old_text": "counters->string_ctor_calls()",
          "new_text": null,
          "old_line_content": "  __ IncrementCounter(counters->string_ctor_calls(), 1);",
          "new_line_content": "  // ----------- S t a t e -------------",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()",
          "new_text": null,
          "old_line_content": "      ExternalReference::address_of_real_stack_limit(masm->isolate());",
          "new_line_content": "  //  -- eax : actual number of arguments",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->factory()->undefined_value()",
          "new_text": null,
          "old_line_content": "    __ push(Immediate(masm->isolate()->factory()->undefined_value()));",
          "new_line_content": "    __ sub(edi, Immediate(kPointerSize));",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "Generate_CheckStackOverflow",
          "new_api": null,
          "old_text": "Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged)",
          "new_text": null,
          "old_line_content": "    Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged);",
          "new_line_content": "    __ push(Operand(ebp, kFunctionOffset));  // push this",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "Generate_CheckStackOverflow",
          "new_api": null,
          "old_text": "Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged)",
          "new_text": null,
          "old_line_content": "    Generate_CheckStackOverflow(masm, kFunctionOffset, kEaxIsSmiTagged);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(esp, eax, times_pointer_size, 0)",
          "new_text": null,
          "old_line_content": "  __ mov(ebx, Operand(esp, eax, times_pointer_size, 0));",
          "new_line_content": "    __ Assert(equal, kUnexpectedStringFunction);",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "Immediate",
          "new_api": null,
          "old_text": "Immediate(0)",
          "new_text": null,
          "old_line_content": "    __ push(Immediate(0));  // index",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "pc_offset",
          "new_api": null,
          "old_text": "masm->pc_offset()",
          "new_text": null,
          "old_line_content": "  masm->isolate()->heap()->SetArgumentsAdaptorDeoptPCOffset(masm->pc_offset());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "Immediate",
          "new_api": null,
          "old_text": "Immediate(0)",
          "new_text": null,
          "old_line_content": "    __ push(Immediate(0));  // index",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "LeaveArgumentsAdaptorFrame",
          "new_api": null,
          "old_text": "LeaveArgumentsAdaptorFrame(masm)",
          "new_text": null,
          "old_line_content": "  LeaveArgumentsAdaptorFrame(masm);",
          "new_line_content": "  // Restore function pointer.",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "Generate_PushAppliedArguments",
          "new_api": null,
          "old_text": "Generate_PushAppliedArguments(\n        masm, kArgumentsOffset, kIndexOffset, kLimitOffset)",
          "new_text": null,
          "old_line_content": "    Generate_PushAppliedArguments(",
          "new_line_content": "    const int kIndexOffset = kLimitOffset - 1 * kPointerSize;",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "string_ctor_cached_number",
          "new_api": null,
          "old_text": "counters->string_ctor_cached_number()",
          "new_text": null,
          "old_line_content": "  __ IncrementCounter(counters->string_ctor_cached_number(), 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "STATIC_ASSERT",
          "new_api": null,
          "old_text": "STATIC_ASSERT(kSmiTagSize == 1)",
          "new_text": null,
          "old_line_content": "  STATIC_ASSERT(kSmiTagSize == 1);",
          "new_line_content": "  __ push(Immediate(Smi::FromInt(StackFrame::ARGUMENTS_ADAPTOR)));",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "EnterArgumentsAdaptorFrame",
          "new_api": null,
          "old_text": "EnterArgumentsAdaptorFrame(masm)",
          "new_text": null,
          "old_line_content": "    EnterArgumentsAdaptorFrame(masm);",
          "new_line_content": "  // Dont adapt arguments.",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "GetCode",
          "new_api": null,
          "old_text": "stub.GetCode()",
          "new_text": null,
          "old_line_content": "    __ call(stub.GetCode(), RelocInfo::CONSTRUCT_CALL);",
          "new_line_content": "        masm, kArgumentsOffset, kIndexOffset, kLimitOffset);",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "FieldOperand",
          "new_api": null,
          "old_text": "FieldOperand(ecx, SharedFunctionInfo::kStrictModeByteOffset)",
          "new_text": null,
          "old_line_content": "    __ test_b(FieldOperand(ecx, SharedFunctionInfo::kStrictModeByteOffset),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "masm->isolate()->factory()",
          "new_text": null,
          "old_line_content": "    Factory* factory = masm->isolate()->factory();",
          "new_line_content": "    // Compute the receiver.",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "STATIC_ASSERT",
          "new_api": null,
          "old_text": "STATIC_ASSERT(kSmiTagSize == 1 && kSmiTag == 0)",
          "new_text": null,
          "old_line_content": "  STATIC_ASSERT(kSmiTagSize == 1 && kSmiTag == 0);",
          "new_line_content": "static void LeaveArgumentsAdaptorFrame(MacroAssembler* masm) {",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(esp, ebx, times_2, 1 * kPointerSize)",
          "new_text": null,
          "old_line_content": "  __ lea(esp, Operand(esp, ebx, times_2, 1 * kPointerSize));  // 1 ~ receiver",
          "new_line_content": "  __ mov(ebx, Operand(ebp, ArgumentsAdaptorFrameConstants::kLengthOffset));",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 5,
      "total_additions": 63,
      "total_deletions": 59,
      "total_api_changes": 127
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 127,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1064,
          1067,
          1068,
          1063
        ]
      }
    },
    "api_calls_before": 242,
    "api_calls_after": 249,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 1,
      "total_diff_lines": 28
    }
  }
}