{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7cbad4a4886e6a21205262276664a8f855a33b52",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7cbad4a4886e6a21205262276664a8f855a33b52/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7cbad4a4886e6a21205262276664a8f855a33b52/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7cbad4a4886e6a21205262276664a8f855a33b52/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1458,
          "old_api": "std::move(wire_bytes_copy)",
          "new_api": "get",
          "old_text": "std::move(wire_bytes_copy)",
          "new_text": "module.get()",
          "old_line_content": "  native_module->SetWireBytes(std::move(wire_bytes_copy));",
          "new_line_content": "      wasm::WasmCodeManager::EstimateNativeModuleCodeSize(module.get(),",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "get",
          "new_api": "wasm_engine",
          "old_text": "native_module.get()",
          "new_text": "isolate->wasm_engine()->NewNativeModule(\n      isolate, enabled, module, code_size_estimate)",
          "old_line_content": "  CompileNativeModule(isolate, thrower, wasm_module, native_module.get());",
          "new_line_content": "  native_module = isolate->wasm_engine()->NewNativeModule(",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "error",
          "new_api": "std::move(wire_bytes_copy)",
          "old_text": "thrower->error()",
          "new_text": "std::move(wire_bytes_copy)",
          "old_line_content": "      thrower->error(), &native_module, isolate);",
          "new_line_content": "  native_module->SetWireBytes(std::move(wire_bytes_copy));",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "CompileJsToWasmWrappers",
          "new_api": "error",
          "old_text": "CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out)",
          "new_text": "thrower->error()",
          "old_line_content": "    CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out);",
          "new_line_content": "      thrower->error(), &native_module, isolate);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "module",
          "new_api": "CompileJsToWasmWrappers",
          "old_text": "native_module->module()",
          "new_text": "CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out)",
          "old_line_content": "      ->FinalizeJSToWasmWrappers(isolate, native_module->module(),",
          "new_line_content": "    CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "wasm_engine",
          "new_api": "module",
          "old_text": "isolate->wasm_engine()->LogOutstandingCodesForIsolate(isolate)",
          "new_text": "native_module->module()",
          "old_line_content": "  isolate->wasm_engine()->LogOutstandingCodesForIsolate(isolate);",
          "new_line_content": "      ->FinalizeJSToWasmWrappers(isolate, native_module->module(),",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "InitializeRecompilation",
          "new_api": "std::make_shared<base::Semaphore>(0)",
          "old_text": "compilation_state->InitializeRecompilation(\n      tiering_state,\n      [recompilation_finished_semaphore](CompilationEvent event) {\n        if (event == CompilationEvent::kFinishedRecompilation) {\n          recompilation_finished_semaphore->Signal();\n        }\n      })",
          "new_text": "std::make_shared<base::Semaphore>(0)",
          "old_line_content": "  compilation_state->InitializeRecompilation(",
          "new_line_content": "  auto recompilation_finished_semaphore = std::make_shared<base::Semaphore>(0);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "Signal",
          "new_api": "InitializeRecompilation",
          "old_text": "recompilation_finished_semaphore->Signal()",
          "new_text": "compilation_state->InitializeRecompilation(\n      tiering_state,\n      [recompilation_finished_semaphore](CompilationEvent event) {\n        if (event == CompilationEvent::kFinishedRecompilation) {\n          recompilation_finished_semaphore->Signal();\n        }\n      })",
          "old_line_content": "          recompilation_finished_semaphore->Signal();",
          "new_line_content": "  compilation_state->InitializeRecompilation(",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": "base::TimeTicks::Now()",
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": "base::TimeTicks::Now()",
          "old_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "      start_time_(base::TimeTicks::Now()),",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "CHECK",
          "new_api": "get",
          "old_text": "CHECK(FLAG_wasm_async_compilation)",
          "new_text": "bytes_copy_.get()",
          "old_line_content": "  CHECK(FLAG_wasm_async_compilation);",
          "new_line_content": "      wire_bytes_(bytes_copy_.get(), bytes_copy_.get() + length),",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "CHECK",
          "new_api": "std::move(resolver)",
          "old_text": "CHECK(!FLAG_jitless)",
          "new_text": "std::move(resolver)",
          "old_line_content": "  CHECK(!FLAG_jitless);",
          "new_line_content": "      resolver_(std::move(resolver)) {",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "reinterpret_cast<v8::Isolate*>(isolate)",
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": "reinterpret_cast<v8::Isolate*>(isolate)",
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate);",
          "new_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "GetForegroundTaskRunner",
          "new_api": "CHECK",
          "old_text": "platform->GetForegroundTaskRunner(v8_isolate)",
          "new_text": "CHECK(FLAG_wasm_async_compilation)",
          "old_line_content": "  foreground_task_runner_ = platform->GetForegroundTaskRunner(v8_isolate);",
          "new_line_content": "  CHECK(FLAG_wasm_async_compilation);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "native_context",
          "new_api": "reinterpret_cast<v8::Isolate*>(isolate)",
          "old_text": "context->native_context()",
          "new_text": "reinterpret_cast<v8::Isolate*>(isolate)",
          "old_line_content": "      isolate->global_handles()->Create(context->native_context());",
          "new_line_content": "  v8::Isolate* v8_isolate = reinterpret_cast<v8::Isolate*>(isolate);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "IsNativeContext",
          "new_api": "V8::GetCurrentPlatform()",
          "old_text": "native_context_->IsNativeContext()",
          "new_text": "V8::GetCurrentPlatform()",
          "old_line_content": "  DCHECK(native_context_->IsNativeContext());",
          "new_line_content": "  v8::Platform* platform = V8::GetCurrentPlatform();",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "counters",
          "new_api": "IsNativeContext",
          "old_text": "isolate_->counters()",
          "new_text": "native_context_->IsNativeContext()",
          "old_line_content": "  DoAsync<DecodeModule>(isolate_->counters());  // --",
          "new_line_content": "  DCHECK(native_context_->IsNativeContext());",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "compilation_state",
          "new_api": "CancelAndWait",
          "old_text": "native_module_->compilation_state()",
          "new_text": "background_task_manager_.CancelAndWait()",
          "old_line_content": "    Impl(native_module_->compilation_state())->AbortCompilation();",
          "new_line_content": "  background_task_manager_.CancelAndWait();",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "location",
          "new_api": "NotifyCompilationEnded",
          "old_text": "module_object_.location()",
          "new_text": "stream_->NotifyCompilationEnded()",
          "old_line_content": "    isolate_->global_handles()->Destroy(module_object_.location());",
          "new_line_content": "  if (stream_) stream_->NotifyCompilationEnded();",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": "WasmModuleObject::New(isolate_, native_module_, script)",
          "new_api": "Vector<const char>()",
          "old_text": "WasmModuleObject::New(isolate_, native_module_, script)",
          "new_text": "Vector<const char>()",
          "old_line_content": "      WasmModuleObject::New(isolate_, native_module_, script);",
          "new_line_content": "  auto source_url = stream_ ? stream_->url() : Vector<const char>();",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "NotifyNativeModuleCreated",
          "new_api": "is_null",
          "old_text": "stream_->NotifyNativeModuleCreated(native_module_)",
          "new_text": "module_object_.is_null()",
          "old_line_content": "      stream_->NotifyNativeModuleCreated(native_module_);",
          "new_line_content": "  bool is_after_deserialization = !module_object_.is_null();",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "base::TimeTicks::IsHighResolution()",
          "new_api": "PrepareRuntimeObjects",
          "old_text": "base::TimeTicks::IsHighResolution()",
          "new_text": "PrepareRuntimeObjects()",
          "old_line_content": "  if (base::TimeTicks::IsHighResolution()) {",
          "new_line_content": "    PrepareRuntimeObjects();",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "is_null",
          "new_api": "counters",
          "old_text": "isolate_->context().is_null()",
          "new_text": "isolate_->counters()->wasm_streaming_finish_wasm_module_time()->AddSample(\n        duration_usecs)",
          "old_line_content": "  DCHECK(!isolate_->context().is_null());",
          "new_line_content": "    isolate_->counters()->wasm_streaming_finish_wasm_module_time()->AddSample(",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "type",
          "new_api": "is_null",
          "old_text": "script->type()",
          "new_text": "isolate_->context().is_null()",
          "old_line_content": "  if (script->type() == Script::TYPE_WASM &&",
          "new_line_content": "  DCHECK(!isolate_->context().is_null());",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "is_empty",
          "new_api": "script",
          "old_text": "module->debug_symbols.external_url.is_empty()",
          "new_text": "module_object_->script()",
          "old_line_content": "      !module->debug_symbols.external_url.is_empty()) {",
          "new_line_content": "  Handle<Script> script(module_object_->script(), isolate_);",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "native_module",
          "new_api": "module",
          "old_text": "module_object_->native_module()->wire_bytes()",
          "new_text": "module_object_->module()",
          "old_line_content": "    ModuleWireBytes wire_bytes(module_object_->native_module()->wire_bytes());",
          "new_line_content": "  const WasmModule* module = module_object_->module();",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "GetNameOrNull",
          "new_api": "type",
          "old_text": "isolate_->factory()->NewStringFromUtf8(\n        wire_bytes.GetNameOrNull(module->debug_symbols.external_url),\n        AllocationType::kOld)",
          "new_text": "script->type()",
          "old_line_content": "    MaybeHandle<String> src_map_str = isolate_->factory()->NewStringFromUtf8(",
          "new_line_content": "  if (script->type() == Script::TYPE_WASM &&",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "ToHandleChecked",
          "new_api": "native_module",
          "old_text": "src_map_str.ToHandleChecked()",
          "new_text": "module_object_->native_module()->wire_bytes()",
          "old_line_content": "    script->set_source_mapping_url(*src_map_str.ToHandleChecked());",
          "new_line_content": "    ModuleWireBytes wire_bytes(module_object_->native_module()->wire_bytes());",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": "Reify",
          "new_api": "CompileFailed",
          "old_text": "thrower.Reify()",
          "new_text": "thrower.CompileFailed(error)",
          "old_line_content": "  resolver_->OnCompilationFailed(thrower.Reify());",
          "new_line_content": "  thrower.CompileFailed(error);",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "Reify",
          "new_api": "error",
          "old_text": "thrower.Reify()",
          "new_text": "thrower.error()",
          "old_line_content": "  resolver_->OnCompilationFailed(thrower.Reify());",
          "new_line_content": "  DCHECK(thrower.error());",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": "Reify",
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": "thrower.Reify()",
          "old_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "  resolver_->OnCompilationFailed(thrower.Reify());",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": "wasm_engine",
          "new_api": "DecrementAndCheckFinisherCount",
          "old_text": "job_->isolate_->wasm_engine()->UpdateNativeModuleCache(\n              true, &native_module, job_->isolate_)",
          "new_text": "job_->DecrementAndCheckFinisherCount()",
          "old_line_content": "          job_->isolate_->wasm_engine()->UpdateNativeModuleCache(",
          "new_line_content": "        if (job_->DecrementAndCheckFinisherCount()) {",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "UNREACHABLE",
          "new_api": "RunInBackground",
          "old_text": "UNREACHABLE()",
          "new_text": "RunInBackground(job)",
          "old_line_content": "  virtual void RunInForeground(AsyncCompileJob*) { UNREACHABLE(); }",
          "new_line_content": "      RunInBackground(job);",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "std::move(new_task)",
          "new_api": "DCHECK_NULL",
          "old_text": "std::move(new_task)",
          "new_text": "DCHECK_NULL(pending_foreground_task_)",
          "old_line_content": "  foreground_task_runner_->PostTask(std::move(new_task));",
          "new_line_content": "  DCHECK_NULL(pending_foreground_task_);",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "DCHECK_NULL",
          "new_api": "std::move(new_task)",
          "old_text": "DCHECK_NULL(pending_foreground_task_)",
          "new_text": "std::move(new_task)",
          "old_line_content": "  DCHECK_NULL(pending_foreground_task_);",
          "new_line_content": "  foreground_task_runner_->PostTask(std::move(new_task));",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": "Run",
          "new_api": "DCHECK_NULL",
          "old_text": "new_task->Run()",
          "new_text": "DCHECK_NULL(pending_foreground_task_)",
          "old_line_content": "  new_task->Run();",
          "new_line_content": "  DCHECK_NULL(pending_foreground_task_);",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": "start",
          "new_api": "TRACE_COMPILE",
          "old_text": "job->wire_bytes_.start()",
          "new_text": "TRACE_COMPILE(\"(1) Decoding module...\\n\")",
          "old_line_content": "      result = DecodeWasmModule(enabled_features, job->wire_bytes_.start(),",
          "new_line_content": "      TRACE_COMPILE(\"(1) Decoding module...\\n\");",
          "content_same": false
        },
        {
          "line": 1952,
          "old_api": "end",
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": "job->wire_bytes_.end()",
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "                                job->wire_bytes_.end(), false, kWasmOrigin,",
          "new_line_content": "      TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "value",
          "new_api": "isolate",
          "old_text": "result.value().get()",
          "new_text": "job->isolate()->wasm_engine()->allocator()",
          "old_line_content": "        const WasmModule* module = result.value().get();",
          "new_line_content": "                                job->isolate()->wasm_engine()->allocator());",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "MayCompriseLazyFunctions",
          "new_api": "ok",
          "old_text": "MayCompriseLazyFunctions(module, enabled_features, lazy_module)",
          "new_text": "result.ok()",
          "old_line_content": "        if (MayCompriseLazyFunctions(module, enabled_features, lazy_module)) {",
          "new_line_content": "      if (!FLAG_wasm_lazy_validation && result.ok()) {",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "isolate",
          "new_api": "value",
          "old_text": "job->isolate()->wasm_engine()->allocator()",
          "new_text": "result.value().get()",
          "old_line_content": "          auto allocator = job->isolate()->wasm_engine()->allocator();",
          "new_line_content": "        const WasmModule* module = result.value().get();",
          "content_same": false
        },
        {
          "line": 2048,
          "old_api": "std::move(module_)",
          "new_api": "length",
          "old_text": "std::move(module_)",
          "new_text": "job->wire_bytes_.length()",
          "old_line_content": "    } else if (job->GetOrCreateNativeModule(std::move(module_),",
          "new_line_content": "    const bool streaming = job->wire_bytes_.length() == 0;",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": "AddCallback",
          "new_api": "CancelAndWait",
          "old_text": "compilation_state->AddCallback(CompilationStateCallback{job})",
          "new_text": "job->background_task_manager_.CancelAndWait()",
          "old_line_content": "    compilation_state->AddCallback(CompilationStateCallback{job});",
          "new_line_content": "    job->background_task_manager_.CancelAndWait();",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "AddCallback",
          "new_api": "base::TimeTicks::IsHighResolution()",
          "old_text": "compilation_state->AddCallback(CompilationTimeCallback{\n          job->isolate_->async_counters(), compile_mode})",
          "new_text": "base::TimeTicks::IsHighResolution()",
          "old_line_content": "      compilation_state->AddCallback(CompilationTimeCallback{",
          "new_line_content": "    if (base::TimeTicks::IsHighResolution()) {",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "AsyncCompileFailed",
          "new_api": "TRACE_COMPILE",
          "old_text": "job->AsyncCompileFailed()",
          "new_text": "TRACE_COMPILE(\"(3a) Compilation failed\\n\")",
          "old_line_content": "    return job->AsyncCompileFailed();",
          "new_line_content": "    TRACE_COMPILE(\"(3a) Compilation failed\\n\");",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "lock",
          "new_api": "std::move(native_module)",
          "old_text": "native_module_.lock()",
          "new_text": "std::move(native_module)",
          "old_line_content": "    if (std::shared_ptr<NativeModule> native_module = native_module_.lock()) {",
          "new_line_content": "      : native_module_(std::move(native_module)) {}",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "TRACE_COMPILE",
          "new_api": "std::move(cached_native_module)",
          "old_text": "TRACE_COMPILE(\"(3b) Compilation finished\\n\")",
          "new_text": "std::move(cached_native_module)",
          "old_line_content": "    TRACE_COMPILE(\"(3b) Compilation finished\\n\");",
          "new_line_content": "      : cached_native_module_(std::move(cached_native_module)) {}",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "compilation_state",
          "new_api": "TRACE_COMPILE",
          "old_text": "job->native_module_->compilation_state()->failed()",
          "new_text": "TRACE_COMPILE(\"(3b) Compilation finished\\n\")",
          "old_line_content": "      DCHECK(!job->native_module_->compilation_state()->failed());",
          "new_line_content": "    TRACE_COMPILE(\"(3b) Compilation finished\\n\");",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": "compilation_state",
          "new_api": "counters",
          "old_text": "job->native_module_->compilation_state()->AddCallback(\n          SampleTopTierCodeSizeCallback{job->native_module_})",
          "new_text": "job->isolate_->counters()",
          "old_line_content": "      job->native_module_->compilation_state()->AddCallback(",
          "new_line_content": "      job->native_module_->SampleCodeSize(job->isolate_->counters(),",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "FinishCompile",
          "new_api": "compilation_state",
          "old_text": "job->FinishCompile(cached_native_module_ != nullptr)",
          "new_text": "job->native_module_->compilation_state()->AddCallback(\n          SampleTopTierCodeSizeCallback{job->native_module_})",
          "old_line_content": "    job->FinishCompile(cached_native_module_ != nullptr);",
          "new_line_content": "      job->native_module_->compilation_state()->AddCallback(",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "ok",
          "new_api": "TRACE_STREAMING",
          "old_text": "decoder_.ok()",
          "new_text": "TRACE_STREAMING(\"Process module header...\\n\")",
          "old_line_content": "  if (!decoder_.ok()) {",
          "new_line_content": "  TRACE_STREAMING(\"Process module header...\\n\");",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "FinishDecoding",
          "new_api": "isolate",
          "old_text": "decoder_.FinishDecoding(false).error()",
          "new_text": "job_->isolate()->counters()",
          "old_line_content": "    FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "new_line_content": "  decoder_.StartDecoding(job_->isolate()->counters(),",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": "NativeModuleCache::WireBytesHash(bytes)",
          "new_api": "ok",
          "old_text": "NativeModuleCache::WireBytesHash(bytes)",
          "new_text": "decoder_.ok()",
          "old_line_content": "  prefix_hash_ = NativeModuleCache::WireBytesHash(bytes);",
          "new_line_content": "  if (!decoder_.ok()) {",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "CommitCompilationUnits",
          "new_api": "TRACE_STREAMING",
          "old_text": "CommitCompilationUnits()",
          "new_text": "TRACE_STREAMING(\"Process section %d ...\\n\", section_code)",
          "old_line_content": "    CommitCompilationUnits();",
          "new_line_content": "  TRACE_STREAMING(\"Process section %d ...\\n\", section_code);",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": "base::hash_combine(prefix_hash_,\n                                      NativeModuleCache::WireBytesHash(bytes))",
          "new_api": "reset",
          "old_text": "base::hash_combine(prefix_hash_,\n                                      NativeModuleCache::WireBytesHash(bytes))",
          "new_text": "compilation_unit_builder_.reset()",
          "old_line_content": "    prefix_hash_ = base::hash_combine(prefix_hash_,",
          "new_line_content": "    compilation_unit_builder_.reset();",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": "ModuleDecoder::IdentifyUnknownSection(\n        &decoder_, bytes, offset, &section_code)",
          "new_api": "base::hash_combine(prefix_hash_,\n                                      NativeModuleCache::WireBytesHash(bytes))",
          "old_text": "ModuleDecoder::IdentifyUnknownSection(\n        &decoder_, bytes, offset, &section_code)",
          "new_text": "base::hash_combine(prefix_hash_,\n                                      NativeModuleCache::WireBytesHash(bytes))",
          "old_line_content": "    size_t bytes_consumed = ModuleDecoder::IdentifyUnknownSection(",
          "new_line_content": "    prefix_hash_ = base::hash_combine(prefix_hash_,",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "ok",
          "new_api": "size",
          "old_text": "decoder_.ok()",
          "new_text": "bytes.size()",
          "old_line_content": "  if (!decoder_.ok()) {",
          "new_line_content": "    bytes = bytes.SubVector(bytes_consumed, bytes.size());",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": "static_cast<uint32_t>(num_functions)",
          "new_api": "DCHECK_LE",
          "old_text": "static_cast<uint32_t>(num_functions)",
          "new_text": "DCHECK_LE(0, code_section_length)",
          "old_line_content": "  if (!decoder_.CheckFunctionsCount(static_cast<uint32_t>(num_functions),",
          "new_line_content": "  DCHECK_LE(0, code_section_length);",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": "FinishDecoding",
          "new_api": "TRACE_STREAMING",
          "old_text": "decoder_.FinishDecoding(false).error()",
          "new_text": "TRACE_STREAMING(\"Start the code section with %d functions...\\n\",\n                  num_functions)",
          "old_line_content": "    FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "new_line_content": "  TRACE_STREAMING(\"Start the code section with %d functions...\\n\",",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": "base::hash_combine(prefix_hash_,\n                                    static_cast<uint32_t>(code_section_length))",
          "new_api": "FinishDecoding",
          "old_text": "base::hash_combine(prefix_hash_,\n                                    static_cast<uint32_t>(code_section_length))",
          "new_text": "decoder_.FinishDecoding(false).error()",
          "old_line_content": "  prefix_hash_ = base::hash_combine(prefix_hash_,",
          "new_line_content": "    FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": "wasm::WasmCodeManager::EstimateNativeModuleCodeSize(\n          num_functions, num_imported_functions, code_section_length,\n          uses_liftoff)",
          "new_api": "module",
          "old_text": "wasm::WasmCodeManager::EstimateNativeModuleCodeSize(\n          num_functions, num_imported_functions, code_section_length,\n          uses_liftoff)",
          "new_text": "decoder_.module()",
          "old_line_content": "      wasm::WasmCodeManager::EstimateNativeModuleCodeSize(",
          "new_line_content": "      static_cast<int>(decoder_.module()->num_imported_functions);",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": "shared_module",
          "new_api": "wasm::WasmCodeManager::EstimateNativeModuleCodeSize(\n          num_functions, num_imported_functions, code_section_length,\n          uses_liftoff)",
          "old_text": "decoder_.shared_module()",
          "new_text": "wasm::WasmCodeManager::EstimateNativeModuleCodeSize(\n          num_functions, num_imported_functions, code_section_length,\n          uses_liftoff)",
          "old_line_content": "      decoder_.shared_module(), false, code_size_estimate);",
          "new_line_content": "      wasm::WasmCodeManager::EstimateNativeModuleCodeSize(",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": "compilation_state",
          "new_api": "shared_module",
          "old_text": "job_->native_module_->compilation_state()",
          "new_text": "job_->DoImmediately<AsyncCompileJob::PrepareAndStartCompile>(\n      decoder_.shared_module(), false, code_size_estimate)",
          "old_line_content": "  auto* compilation_state = Impl(job_->native_module_->compilation_state());",
          "new_line_content": "  job_->DoImmediately<AsyncCompileJob::PrepareAndStartCompile>(",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": "std::move(wire_bytes_storage)",
          "new_api": "shared_module",
          "old_text": "std::move(wire_bytes_storage)",
          "new_text": "decoder_.shared_module()",
          "old_line_content": "  compilation_state->SetWireBytesStorage(std::move(wire_bytes_storage));",
          "new_line_content": "      decoder_.shared_module(), false, code_size_estimate);",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": "get",
          "new_api": "store",
          "old_text": "job_->native_module_.get()",
          "new_text": "job_->outstanding_finishers_.store(2)",
          "old_line_content": "  NativeModule* native_module = job_->native_module_.get();",
          "new_line_content": "  job_->outstanding_finishers_.store(2);",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": "InitializeCompilationProgress",
          "new_api": "get",
          "old_text": "compilation_state->InitializeCompilationProgress(\n      lazy_module, num_import_wrappers + num_export_wrappers)",
          "new_text": "compilation_unit_builder_.get()",
          "old_line_content": "  compilation_state->InitializeCompilationProgress(",
          "new_line_content": "      AddImportWrapperUnits(native_module, compilation_unit_builder_.get());",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "DCHECK_EQ",
          "new_api": "module",
          "old_text": "DCHECK_EQ(module->origin, kWasmOrigin)",
          "new_text": "decoder_.module()",
          "old_line_content": "  DCHECK_EQ(module->origin, kWasmOrigin);",
          "new_line_content": "  const WasmModule* module = decoder_.module();",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "GetCompileStrategy",
          "new_api": "module",
          "old_text": "GetCompileStrategy(module, enabled_features, func_index, lazy_module)",
          "new_text": "decoder_.module()",
          "old_line_content": "      GetCompileStrategy(module, enabled_features, func_index, lazy_module);",
          "new_line_content": "      num_functions_ + decoder_.module()->num_imported_functions;",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": "error",
          "new_api": "get",
          "old_text": "result.error()",
          "new_text": "async_counters_.get()",
          "old_line_content": "      FinishAsyncCompileJobWithError(result.error());",
          "new_line_content": "        ValidateSingleFunction(module, func_index, bytes, async_counters_.get(),",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "AddTopTierUnit",
          "new_api": "get",
          "old_text": "compilation_unit_builder_->AddTopTierUnit(func_index)",
          "new_text": "job_->native_module_.get()",
          "old_line_content": "    compilation_unit_builder_->AddTopTierUnit(func_index);",
          "new_line_content": "  NativeModule* native_module = job_->native_module_.get();",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": "AddUnits",
          "new_api": "AddTopTierUnit",
          "old_text": "compilation_unit_builder_->AddUnits(func_index)",
          "new_text": "compilation_unit_builder_->AddTopTierUnit(func_index)",
          "old_line_content": "    compilation_unit_builder_->AddUnits(func_index);",
          "new_line_content": "    compilation_unit_builder_->AddTopTierUnit(func_index);",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": "TRACE_STREAMING",
          "new_api": "Commit",
          "old_text": "TRACE_STREAMING(\"FinishChunk...\\n\")",
          "new_text": "compilation_unit_builder_->Commit()",
          "old_line_content": "  TRACE_STREAMING(\"FinishChunk...\\n\");",
          "new_line_content": "  compilation_unit_builder_->Commit();",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "error",
          "new_api": "TRACE_STREAMING",
          "old_text": "result.error()",
          "new_text": "TRACE_STREAMING(\"Finish stream...\\n\")",
          "old_line_content": "    FinishAsyncCompileJobWithError(result.error());",
          "new_line_content": "  TRACE_STREAMING(\"Finish stream...\\n\");",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": "as_vector",
          "new_api": "error",
          "old_text": "bytes.as_vector()",
          "new_text": "result.error()",
          "old_line_content": "  job_->wire_bytes_ = ModuleWireBytes(bytes.as_vector());",
          "new_line_content": "    FinishAsyncCompileJobWithError(result.error());",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": "length",
          "new_api": "constexpr",
          "old_text": "job_->native_module_->SetWireBytes(\n        {std::move(job_->bytes_copy_), job_->wire_bytes_.length()})",
          "new_text": "constexpr",
          "old_line_content": "    job_->native_module_->SetWireBytes(",
          "new_line_content": "    constexpr size_t kCodeSizeEstimate = 0;",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "length",
          "new_api": "value",
          "old_text": "job_->wire_bytes_.length()",
          "new_text": "std::move(result).value()",
          "old_line_content": "        {std::move(job_->bytes_copy_), job_->wire_bytes_.length()});",
          "new_line_content": "    cache_hit = job_->GetOrCreateNativeModule(std::move(result).value(),",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": "DecrementAndCheckFinisherCount",
          "new_api": "length",
          "old_text": "job_->DecrementAndCheckFinisherCount()",
          "new_text": "job_->native_module_->SetWireBytes(\n        {std::move(job_->bytes_copy_), job_->wire_bytes_.length()})",
          "old_line_content": "  const bool needs_finish = job_->DecrementAndCheckFinisherCount();",
          "new_line_content": "    job_->native_module_->SetWireBytes(",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": "DCHECK_IMPLIES",
          "new_api": "length",
          "old_text": "DCHECK_IMPLIES(!has_code_section, needs_finish)",
          "new_text": "job_->wire_bytes_.length()",
          "old_line_content": "  DCHECK_IMPLIES(!has_code_section, needs_finish);",
          "new_line_content": "        {std::move(job_->bytes_copy_), job_->wire_bytes_.length()});",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": "compilation_state",
          "new_api": "IsTieredDown",
          "old_text": "job_->native_module_->compilation_state()->failed()",
          "new_text": "job_->native_module_->IsTieredDown()",
          "old_line_content": "    const bool failed = job_->native_module_->compilation_state()->failed();",
          "new_line_content": "  if (job_->native_module_->IsTieredDown()) {",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": "AsyncCompileFailed",
          "new_api": "wasm_engine",
          "old_text": "job_->AsyncCompileFailed()",
          "new_text": "job_->isolate_->wasm_engine()->UpdateNativeModuleCache(\n          failed, &job_->native_module_, job_->isolate_)",
          "old_line_content": "      job_->AsyncCompileFailed();",
          "new_line_content": "      cache_hit = !job_->isolate_->wasm_engine()->UpdateNativeModuleCache(",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": "TRACE_STREAMING",
          "new_api": "FinishAsyncCompileJobWithError",
          "old_text": "TRACE_STREAMING(\"Abort stream...\\n\")",
          "new_text": "FinishAsyncCompileJobWithError(error)",
          "old_line_content": "  TRACE_STREAMING(\"Abort stream...\\n\");",
          "new_line_content": "  FinishAsyncCompileJobWithError(error);",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": "shared_native_module",
          "new_api": "is_null",
          "old_text": "job_->module_object_->shared_native_module()",
          "new_text": "result.is_null()",
          "old_line_content": "  job_->native_module_ = job_->module_object_->shared_native_module();",
          "new_line_content": "  if (result.is_null()) return false;",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "module",
          "new_api": "get",
          "old_text": "native_module->module()",
          "new_text": "native_module.get()",
          "old_line_content": "                            native_module->module()->origin == kWasmOrigin",
          "new_line_content": "    : native_module_(native_module.get()),",
          "content_same": false
        },
        {
          "line": 2492,
          "old_api": "GetMaxBackgroundTasks",
          "new_api": "module",
          "old_text": "GetMaxBackgroundTasks()",
          "new_text": "native_module->module()",
          "old_line_content": "      max_background_tasks_(std::max(GetMaxBackgroundTasks(), 1)),",
          "new_line_content": "                            native_module->module()->origin == kWasmOrigin",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": "DCHECK_EQ",
          "new_api": "enabled_features",
          "old_text": "DCHECK_EQ(0, outstanding_baseline_units_)",
          "new_text": "native_module_->enabled_features()",
          "old_line_content": "  DCHECK_EQ(0, outstanding_baseline_units_);",
          "new_line_content": "  auto enabled_features = native_module_->enabled_features();",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "DCHECK_EQ",
          "new_api": "module",
          "old_text": "DCHECK_EQ(0, outstanding_top_tier_functions_)",
          "new_text": "native_module_->module()",
          "old_line_content": "  DCHECK_EQ(0, outstanding_top_tier_functions_);",
          "new_line_content": "  auto* module = native_module_->module();",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "IsTieredDown",
          "new_api": "reserve",
          "old_text": "native_module_->IsTieredDown()",
          "new_text": "compilation_progress_.reserve(module->num_declared_functions)",
          "old_line_content": "  const bool prefer_liftoff = native_module_->IsTieredDown();",
          "new_line_content": "  compilation_progress_.reserve(module->num_declared_functions);",
          "content_same": false
        },
        {
          "line": 2526,
          "old_api": "RequiredTopTierField::encode(ExecutionTier::kLiftoff)",
          "new_api": "IsTieredDown",
          "old_text": "RequiredTopTierField::encode(ExecutionTier::kLiftoff)",
          "new_text": "native_module_->IsTieredDown()",
          "old_line_content": "          RequiredTopTierField::encode(ExecutionTier::kLiftoff) |",
          "new_line_content": "  const bool prefer_liftoff = native_module_->IsTieredDown();",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "push_back",
          "new_api": "constexpr",
          "old_text": "compilation_progress_.push_back(kLiftoffOnlyFunctionProgress)",
          "new_text": "constexpr",
          "old_line_content": "      compilation_progress_.push_back(kLiftoffOnlyFunctionProgress);",
          "new_line_content": "      constexpr uint8_t kLiftoffOnlyFunctionProgress =",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "DCHECK_EQ",
          "new_api": "GetCompileStrategy",
          "old_text": "DCHECK_EQ(required_for_top_tier,\n              strategy == CompileStrategy::kEager ||\n                  strategy == CompileStrategy::kLazyBaselineEagerTopTier)",
          "new_text": "GetCompileStrategy(module, enabled_features, func_index, lazy_module)",
          "old_line_content": "    DCHECK_EQ(required_for_top_tier,",
          "new_line_content": "        GetCompileStrategy(module, enabled_features, func_index, lazy_module);",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": "RequiredTopTierField::update(function_progress, required_top_tier)",
          "new_api": "ReachedTierField::encode(ExecutionTier::kNone)",
          "old_text": "RequiredTopTierField::update(function_progress, required_top_tier)",
          "new_text": "ReachedTierField::encode(ExecutionTier::kNone)",
          "old_line_content": "        RequiredTopTierField::update(function_progress, required_top_tier);",
          "new_line_content": "    uint8_t function_progress = ReachedTierField::encode(ExecutionTier::kNone);",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": "push_back",
          "new_api": "RequiredBaselineTierField::update(\n        function_progress, required_baseline_tier)",
          "old_text": "compilation_progress_.push_back(function_progress)",
          "new_text": "RequiredBaselineTierField::update(\n        function_progress, required_baseline_tier)",
          "old_line_content": "    compilation_progress_.push_back(function_progress);",
          "new_line_content": "    function_progress = RequiredBaselineTierField::update(",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": "DCHECK_IMPLIES",
          "new_api": "RequiredTopTierField::update(function_progress, required_top_tier)",
          "old_text": "DCHECK_IMPLIES(lazy_module, outstanding_top_tier_functions_ == 0)",
          "new_text": "RequiredTopTierField::update(function_progress, required_top_tier)",
          "old_line_content": "  DCHECK_IMPLIES(lazy_module, outstanding_top_tier_functions_ == 0);",
          "new_line_content": "        RequiredTopTierField::update(function_progress, required_top_tier);",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": "DCHECK_LE",
          "new_api": "push_back",
          "old_text": "DCHECK_LE(0, outstanding_baseline_units_)",
          "new_text": "compilation_progress_.push_back(function_progress)",
          "old_line_content": "  DCHECK_LE(0, outstanding_baseline_units_);",
          "new_line_content": "    compilation_progress_.push_back(function_progress);",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": "AddRecompilationUnit",
          "new_api": "DCHECK_LE",
          "old_text": "builder.AddRecompilationUnit(function_index, new_tier)",
          "new_text": "DCHECK_LE(imported, function_index)",
          "old_line_content": "        builder.AddRecompilationUnit(function_index, new_tier);",
          "new_line_content": "        DCHECK_LE(imported, function_index);",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": "constexpr",
          "new_api": "contains",
          "old_text": "constexpr",
          "new_text": "finished_events_.contains(event)",
          "old_line_content": "  constexpr base::EnumSet<CompilationEvent> kFinalEvents{",
          "new_line_content": "    if (finished_events_.contains(event)) {",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": "std::move(callback)",
          "new_api": "constexpr",
          "old_text": "std::move(callback)",
          "new_text": "constexpr",
          "old_line_content": "    callbacks_.emplace_back(std::move(callback));",
          "new_line_content": "  constexpr base::EnumSet<CompilationEvent> kFinalEvents{",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": "end",
          "new_api": "empty",
          "old_text": "js_to_wasm_wrapper_units_.end()",
          "new_text": "top_tier_units.empty()",
          "old_line_content": "  js_to_wasm_wrapper_units_.insert(js_to_wasm_wrapper_units_.end(),",
          "new_line_content": "  if (!baseline_units.empty() || !top_tier_units.empty()) {",
          "content_same": false
        },
        {
          "line": 2674,
          "old_api": "begin",
          "new_api": "AddUnits",
          "old_text": "js_to_wasm_wrapper_units.begin()",
          "new_text": "compilation_unit_queues_.AddUnits(baseline_units, top_tier_units,\n                                      native_module_->module())",
          "old_line_content": "                                   js_to_wasm_wrapper_units.begin(),",
          "new_line_content": "    compilation_unit_queues_.AddUnits(baseline_units, top_tier_units,",
          "content_same": false
        },
        {
          "line": 2675,
          "old_api": "end",
          "new_api": "module",
          "old_text": "js_to_wasm_wrapper_units.end()",
          "new_text": "native_module_->module()",
          "old_line_content": "                                   js_to_wasm_wrapper_units.end());",
          "new_line_content": "                                      native_module_->module());",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": "RestartBackgroundTasks",
          "new_api": "end",
          "old_text": "RestartBackgroundTasks()",
          "new_text": "js_to_wasm_wrapper_units_.end()",
          "old_line_content": "  RestartBackgroundTasks();",
          "new_line_content": "  js_to_wasm_wrapper_units_.insert(js_to_wasm_wrapper_units_.end(),",
          "content_same": false
        },
        {
          "line": 2681,
          "old_api": "AddCompilationUnits",
          "new_api": "RestartBackgroundTasks",
          "old_text": "AddCompilationUnits({}, {&unit, 1}, {})",
          "new_text": "RestartBackgroundTasks()",
          "old_line_content": "  AddCompilationUnits({}, {&unit, 1}, {});",
          "new_line_content": "  RestartBackgroundTasks();",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": "MaxNumExportWrappers",
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": "MaxNumExportWrappers(module)",
          "old_line_content": "  TRACE_EVENT1(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "      MaxNumExportWrappers(module), AllocationType::kOld);",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "is_import",
          "new_api": "heap",
          "old_text": "unit->is_import()",
          "new_text": "isolate->heap()",
          "old_line_content": "        GetExportWrapperIndex(module, unit->sig(), unit->is_import());",
          "new_line_content": "  CodeSpaceMemoryModificationScope modification_scope(isolate->heap());",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": "counters",
          "new_api": "Finalize",
          "old_text": "isolate->counters()",
          "new_text": "unit->Finalize(isolate)",
          "old_line_content": "    RecordStats(*code, isolate->counters());",
          "new_line_content": "    Handle<Code> code = unit->Finalize(isolate);",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": "GetNextUnit",
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": "compilation_unit_queues_.GetNextUnit(task_id, baseline_only)",
          "old_line_content": "  TRACE_EVENT1(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "  return compilation_unit_queues_.GetNextUnit(task_id, baseline_only);",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "size",
          "new_api": "module",
          "old_text": "code_vector.size()",
          "new_text": "native_module_->module()",
          "old_line_content": "  for (size_t i = 0; i < code_vector.size(); i++) {",
          "new_line_content": "            native_module_->module()->num_declared_functions);",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": "tier",
          "new_api": "num_functions",
          "old_text": "code->tier()",
          "new_text": "native_module_->num_functions()",
          "old_line_content": "      DCHECK_EQ(code->tier(), ExecutionTier::kTurbofan);",
          "new_line_content": "    DCHECK_LT(code->index(), native_module_->num_functions());",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "tier",
          "new_api": "ReachedTierField::decode(function_progress)",
          "old_text": "code->tier()",
          "new_text": "ReachedTierField::decode(function_progress)",
          "old_line_content": "          required_baseline_tier <= code->tier()) {",
          "new_line_content": "      ExecutionTier reached_tier = ReachedTierField::decode(function_progress);",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": "tier",
          "new_api": "DCHECK_GT",
          "old_text": "code->tier()",
          "new_text": "DCHECK_GT(outstanding_baseline_units_, 0)",
          "old_line_content": "          required_top_tier <= code->tier()) {",
          "new_line_content": "        DCHECK_GT(outstanding_baseline_units_, 0);",
          "content_same": false
        },
        {
          "line": 2786,
          "old_api": "MissingRecompilationField::decode(function_progress)",
          "new_api": "DCHECK_GT",
          "old_text": "MissingRecompilationField::decode(function_progress)",
          "new_text": "DCHECK_GT(outstanding_top_tier_functions_, 0)",
          "old_line_content": "      if (V8_UNLIKELY(MissingRecompilationField::decode(function_progress))) {",
          "new_line_content": "        DCHECK_GT(outstanding_top_tier_functions_, 0);",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "MissingRecompilationField::update(\n              compilation_progress_[slot_index], false)",
          "new_api": "for_debugging",
          "old_text": "MissingRecompilationField::update(\n              compilation_progress_[slot_index], false)",
          "new_text": "code->for_debugging()",
          "old_line_content": "          compilation_progress_[slot_index] = MissingRecompilationField::update(",
          "new_line_content": "                           ? code->for_debugging()",
          "content_same": false
        },
        {
          "line": 2810,
          "old_api": "DCHECK_LE",
          "new_api": "tier",
          "old_text": "DCHECK_LE(0, outstanding_baseline_units_)",
          "new_text": "code->tier()",
          "old_line_content": "      DCHECK_LE(0, outstanding_baseline_units_);",
          "new_line_content": "      if (code->tier() > reached_tier) {",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": "TriggerCallbacks",
          "new_api": "DCHECK_LE",
          "old_text": "TriggerCallbacks(triggered_events)",
          "new_text": "DCHECK_LE(0, outstanding_baseline_units_)",
          "old_line_content": "  TriggerCallbacks(triggered_events);",
          "new_line_content": "      DCHECK_LE(0, outstanding_baseline_units_);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": "empty",
          "new_api": "Add",
          "old_text": "triggered_events.empty()",
          "new_text": "triggered_events.Add(CompilationEvent::kFinishedTopTierCompilation)",
          "old_line_content": "  if (triggered_events.empty()) return;",
          "new_line_content": "      triggered_events.Add(CompilationEvent::kFinishedTopTierCompilation);",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": "std::make_pair(CompilationEvent::kFinishedRecompilation,\n                       \"wasm.RecompilationFinished\")",
          "new_api": "std::make_pair(CompilationEvent::kFinishedBaselineCompilation,\n                       \"wasm.BaselineFinished\")",
          "old_text": "std::make_pair(CompilationEvent::kFinishedRecompilation,\n                       \"wasm.RecompilationFinished\")",
          "new_text": "std::make_pair(CompilationEvent::kFinishedBaselineCompilation,\n                       \"wasm.BaselineFinished\")",
          "old_line_content": "        std::make_pair(CompilationEvent::kFinishedRecompilation,",
          "new_line_content": "       {std::make_pair(CompilationEvent::kFinishedBaselineCompilation,",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": "contains",
          "new_api": "std::make_pair(CompilationEvent::kFinishedTopTierCompilation,\n                       \"wasm.TopTierFinished\")",
          "old_text": "triggered_events.contains(event.first)",
          "new_text": "std::make_pair(CompilationEvent::kFinishedTopTierCompilation,\n                       \"wasm.TopTierFinished\")",
          "old_line_content": "    if (!triggered_events.contains(event.first)) continue;",
          "new_line_content": "        std::make_pair(CompilationEvent::kFinishedTopTierCompilation,",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": "Add",
          "new_api": "begin",
          "old_text": "detected_features_.Add(detected)",
          "new_text": "available_task_ids_.begin()",
          "old_line_content": "    detected_features_.Add(detected);",
          "new_line_content": "    DCHECK_EQ(0, std::count(available_task_ids_.begin(),",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": "GetTotalSize",
          "new_api": "empty",
          "old_text": "compilation_unit_queues_.GetTotalSize()",
          "new_text": "available_task_ids_.empty()",
          "old_line_content": "    size_t max_num_restart = compilation_unit_queues_.GetTotalSize();",
          "new_line_content": "    if (available_task_ids_.empty()) return;",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "size",
          "new_api": "failed",
          "old_text": "js_to_wasm_wrapper_units_.size()",
          "new_text": "failed()",
          "old_line_content": "        static_cast<int>(js_to_wasm_wrapper_units_.size())) {",
          "new_line_content": "    if (failed()) return;",
          "content_same": false
        },
        {
          "line": 2914,
          "old_api": "size",
          "new_api": "GetTotalSize",
          "old_text": "js_to_wasm_wrapper_units_.size()",
          "new_text": "compilation_unit_queues_.GetTotalSize()",
          "old_line_content": "          js_to_wasm_wrapper_units_.size() - js_to_wasm_wrapper_id_;",
          "new_line_content": "    size_t max_num_restart = compilation_unit_queues_.GetTotalSize();",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "back",
          "new_api": "size",
          "old_text": "available_task_ids_.back()",
          "new_text": "js_to_wasm_wrapper_units_.size()",
          "old_line_content": "      int task_id = available_task_ids_.back();",
          "new_line_content": "          js_to_wasm_wrapper_units_.size() - js_to_wasm_wrapper_id_;",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "engine",
          "new_api": "empty",
          "old_text": "native_module_->engine()\n              ->NewBackgroundCompileTask<BackgroundCompileTask>(\n                  background_compile_token_, async_counters_, task_id)",
          "new_text": "available_task_ids_.empty()",
          "old_line_content": "          native_module_->engine()",
          "new_line_content": "    while (!available_task_ids_.empty() && max_num_restart-- > 0) {",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "WasmFeatures::FromIsolate(isolate)",
          "new_api": "MaxNumExportWrappers",
          "old_text": "WasmFeatures::FromIsolate(isolate)",
          "new_text": "MaxNumExportWrappers(module)",
          "old_line_content": "  WasmFeatures enabled_features = WasmFeatures::FromIsolate(isolate);",
          "new_line_content": "      MaxNumExportWrappers(module), AllocationType::kOld);",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": "std::move(unit)",
          "new_api": "insert",
          "old_text": "std::move(unit)",
          "new_text": "queue.insert(key)",
          "old_line_content": "      compilation_units.emplace(key, std::move(unit));",
          "new_line_content": "    if (queue.insert(key)) {",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": "std::move(task)",
          "new_api": "GetMaxBackgroundTasks",
          "old_text": "std::move(task)",
          "new_text": "GetMaxBackgroundTasks()",
          "old_line_content": "    V8::GetCurrentPlatform()->CallOnWorkerThread(std::move(task));",
          "new_line_content": "  const int max_background_tasks = GetMaxBackgroundTasks();",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "pop",
          "new_api": "std::move(task)",
          "old_text": "queue.pop()",
          "new_text": "std::move(task)",
          "old_line_content": "  while (base::Optional<JSToWasmWrapperKey> key = queue.pop()) {",
          "new_line_content": "    V8::GetCurrentPlatform()->CallOnWorkerThread(std::move(task));",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": "CancelAndWait",
          "new_api": "pop",
          "old_text": "task_manager.CancelAndWait()",
          "new_text": "queue.pop()",
          "old_line_content": "  task_manager.CancelAndWait();",
          "new_line_content": "  while (base::Optional<JSToWasmWrapperKey> key = queue.pop()) {",
          "content_same": false
        },
        {
          "line": 3030,
          "old_api": "Finalize",
          "new_api": "heap",
          "old_text": "unit->Finalize(isolate)",
          "new_text": "isolate->heap()",
          "old_line_content": "    Handle<Code> code = unit->Finalize(isolate);",
          "new_line_content": "  CodeSpaceMemoryModificationScope modification_scope(isolate->heap());",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": "counters",
          "new_api": "get",
          "old_text": "isolate->counters()",
          "new_text": "pair.second.get()",
          "old_line_content": "    RecordStats(*code, isolate->counters());",
          "new_line_content": "    JSToWasmWrapperCompilationUnit* unit = pair.second.get();",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": "CreateCompilationEnv",
          "new_api": "DCHECK_NULL",
          "old_text": "native_module->CreateCompilationEnv()",
          "new_text": "DCHECK_NULL((*cache_scope)[key])",
          "old_line_content": "  CompilationEnv env = native_module->CreateCompilationEnv();",
          "new_line_content": "  DCHECK_NULL((*cache_scope)[key]);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": "compiler::CompileWasmImportCallWrapper(\n      wasm_engine, &env, kind, sig, source_positions)",
          "new_api": "module",
          "old_text": "compiler::CompileWasmImportCallWrapper(\n      wasm_engine, &env, kind, sig, source_positions)",
          "new_text": "native_module->module()",
          "old_line_content": "  WasmCompilationResult result = compiler::CompileWasmImportCallWrapper(",
          "new_line_content": "  bool source_positions = is_asmjs_module(native_module->module());",
          "content_same": false
        },
        {
          "line": 3056,
          "old_api": "GetCodeKind",
          "new_api": "as_vector",
          "old_text": "GetCodeKind(result)",
          "new_text": "native_module->AddCode(\n      result.func_index, result.code_desc, result.frame_slot_count,\n      result.tagged_parameter_slots,\n      result.protected_instructions_data.as_vector(),\n      result.source_positions.as_vector(), GetCodeKind(result),\n      ExecutionTier::kNone, kNoDebugging)",
          "old_line_content": "      result.source_positions.as_vector(), GetCodeKind(result),",
          "new_line_content": "  std::unique_ptr<WasmCode> wasm_code = native_module->AddCode(",
          "content_same": false
        },
        {
          "line": 3060,
          "old_api": "IncRef",
          "new_api": "GetCodeKind",
          "old_text": "published_code->IncRef()",
          "new_text": "GetCodeKind(result)",
          "old_line_content": "  published_code->IncRef();",
          "new_line_content": "      result.source_positions.as_vector(), GetCodeKind(result),",
          "content_same": false
        },
        {
          "line": 3062,
          "old_api": "length",
          "new_api": "std::move(wasm_code)",
          "old_text": "published_code->instructions().length()",
          "new_text": "std::move(wasm_code)",
          "old_line_content": "      published_code->instructions().length());",
          "new_line_content": "  WasmCode* published_code = native_module->PublishCode(std::move(wasm_code));",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2051,
          "old_api": null,
          "new_api": "CreateNativeModule",
          "old_text": null,
          "new_text": "job->CreateNativeModule(module_, code_size_estimate_)",
          "old_line_content": "      return;",
          "new_line_content": "      job->CreateNativeModule(module_, code_size_estimate_);",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": null,
          "new_api": "std::move(module_)",
          "old_text": null,
          "new_text": "std::move(module_)",
          "old_line_content": "    }",
          "new_line_content": "    } else if (job->GetOrCreateNativeModule(std::move(module_),",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": null,
          "new_api": "FinishCompile",
          "old_text": null,
          "new_text": "job->FinishCompile(true)",
          "old_line_content": "    // Make sure all compilation tasks stopped running. Decoding (async step)",
          "new_line_content": "      job->FinishCompile(true);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "job->native_module_->compilation_state()",
          "old_line_content": "                              ? CompilationTimeCallback::kAsync",
          "new_line_content": "        Impl(job->native_module_->compilation_state());",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "AddCallback",
          "old_text": null,
          "new_text": "compilation_state->AddCallback(CompilationStateCallback{job})",
          "old_line_content": "                              : CompilationTimeCallback::kStreaming;",
          "new_line_content": "    compilation_state->AddCallback(CompilationStateCallback{job});",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "AddCallback",
          "old_text": null,
          "new_text": "compilation_state->AddCallback(CompilationTimeCallback{\n          job->isolate_->async_counters(), compile_mode})",
          "old_line_content": "    if (start_compilation_) {",
          "new_line_content": "      compilation_state->AddCallback(CompilationTimeCallback{",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "async_counters",
          "old_text": null,
          "new_text": "job->isolate_->async_counters()",
          "old_line_content": "      // TODO(ahaas): Try to remove the {start_compilation_} check when",
          "new_line_content": "          job->isolate_->async_counters(), compile_mode});",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "job->native_module_.get()",
          "old_line_content": "",
          "new_line_content": "      InitializeCompilationUnits(job->isolate(), job->native_module_.get());",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "job->native_module_->compilation_state()->failed()",
          "old_line_content": "  }",
          "new_line_content": "    DCHECK(job->native_module_->compilation_state()->failed());",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": null,
          "new_api": "AsyncCompileFailed",
          "old_text": null,
          "new_text": "job->AsyncCompileFailed()",
          "old_line_content": "namespace {",
          "new_line_content": "    return job->AsyncCompileFailed();",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "  void operator()(CompilationEvent event) {",
          "new_line_content": "  explicit SampleTopTierCodeSizeCallback(",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": null,
          "new_api": "lock",
          "old_text": null,
          "new_text": "native_module_.lock()",
          "old_line_content": "  }",
          "new_line_content": "    if (std::shared_ptr<NativeModule> native_module = native_module_.lock()) {",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "engine",
          "old_text": null,
          "new_text": "native_module->engine()->SampleTopTierCodeSizeInAllIsolates(\n          native_module)",
          "old_line_content": "",
          "new_line_content": "      native_module->engine()->SampleTopTierCodeSizeInAllIsolates(",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "  void RunInForeground(AsyncCompileJob* job) override {",
          "new_line_content": "  explicit CompileFinished(std::shared_ptr<NativeModule> cached_native_module)",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "job->native_module_->compilation_state()->failed()",
          "old_line_content": "      // Also, set a callback to sample the code size after top-tier compilation",
          "new_line_content": "      DCHECK(!job->native_module_->compilation_state()->failed());",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "FinishCompile",
          "old_text": null,
          "new_text": "job->FinishCompile(cached_native_module_ != nullptr)",
          "old_line_content": "};",
          "new_line_content": "    job->FinishCompile(cached_native_module_ != nullptr);",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "TRACE_COMPILE",
          "old_text": null,
          "new_text": "TRACE_COMPILE(\"(4) Finish module...\\n\")",
          "old_line_content": "",
          "new_line_content": "  TRACE_COMPILE(\"(4) Finish module...\\n\");",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "AsyncCompileSucceeded",
          "old_text": null,
          "new_text": "AsyncCompileSucceeded(module_object_)",
          "old_line_content": "AsyncStreamingProcessor::AsyncStreamingProcessor(",
          "new_line_content": "  AsyncCompileSucceeded(module_object_);",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "old_line_content": "    AsyncCompileJob* job, std::shared_ptr<Counters> async_counters,",
          "new_line_content": "  isolate_->wasm_engine()->RemoveCompileJob(this);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "job_->isolate_->wasm_engine()",
          "old_line_content": "",
          "new_line_content": "      wasm_engine_(job_->isolate_->wasm_engine()),",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "job_->native_module_->wire_bytes().empty()",
          "old_line_content": "}",
          "new_line_content": "  if (job_->native_module_ && job_->native_module_->wire_bytes().empty()) {",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "job_->isolate_->wasm_engine()->StreamingCompilationFailed(prefix_hash_)",
          "old_line_content": "void AsyncStreamingProcessor::FinishAsyncCompileJobWithError(",
          "new_line_content": "    job_->isolate_->wasm_engine()->StreamingCompilationFailed(prefix_hash_);",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "has_error",
          "old_text": null,
          "new_text": "error.has_error()",
          "old_line_content": "",
          "new_line_content": "  DCHECK(error.has_error());",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": null,
          "new_api": "CancelAndWait",
          "old_text": null,
          "new_text": "job_->background_task_manager_.CancelAndWait()",
          "old_line_content": "  if (job_->native_module_) {",
          "new_line_content": "  job_->background_task_manager_.CancelAndWait();",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "job_->native_module_->compilation_state()",
          "old_line_content": "",
          "new_line_content": "    Impl(job_->native_module_->compilation_state())->AbortCompilation();",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": null,
          "new_api": "job_->DoSync<AsyncCompileJob::DecodeFail,\n                 AsyncCompileJob::kUseExistingForegroundTask>(error)",
          "old_text": null,
          "new_text": "job_->DoSync<AsyncCompileJob::DecodeFail,\n                 AsyncCompileJob::kUseExistingForegroundTask>(error)",
          "old_line_content": "    // because there is a check in the destructor of the",
          "new_line_content": "    job_->DoSync<AsyncCompileJob::DecodeFail,",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "Clear",
          "old_text": null,
          "new_text": "compilation_unit_builder_->Clear()",
          "old_line_content": "}",
          "new_line_content": "    if (compilation_unit_builder_) compilation_unit_builder_->Clear();",
          "content_same": false
        },
        {
          "line": 2192,
          "old_api": null,
          "new_api": "job_->DoSync<AsyncCompileJob::DecodeFail>(error)",
          "old_text": null,
          "new_text": "job_->DoSync<AsyncCompileJob::DecodeFail>(error)",
          "old_line_content": "// Process the module header.",
          "new_line_content": "    job_->DoSync<AsyncCompileJob::DecodeFail>(error);",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "job_->isolate()->wasm_engine()->allocator()",
          "old_line_content": "    return false;",
          "new_line_content": "                         job_->isolate()->wasm_engine()->allocator());",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "DecodeModuleHeader",
          "old_text": null,
          "new_text": "decoder_.DecodeModuleHeader(bytes, offset)",
          "old_line_content": "  }",
          "new_line_content": "  decoder_.DecodeModuleHeader(bytes, offset);",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": null,
          "new_api": "FinishDecoding",
          "old_text": null,
          "new_text": "decoder_.FinishDecoding(false).error()",
          "old_line_content": "  return true;",
          "new_line_content": "    FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": null,
          "new_api": "NativeModuleCache::WireBytesHash(bytes)",
          "old_text": null,
          "new_text": "NativeModuleCache::WireBytesHash(bytes)",
          "old_line_content": "// Process all sections except for the code section.",
          "new_line_content": "  prefix_hash_ = NativeModuleCache::WireBytesHash(bytes);",
          "content_same": false
        },
        {
          "line": 2219,
          "old_api": null,
          "new_api": "CommitCompilationUnits",
          "old_text": null,
          "new_text": "CommitCompilationUnits()",
          "old_line_content": "    // Combine section hashes until code section.",
          "new_line_content": "    CommitCompilationUnits();",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": null,
          "new_api": "NativeModuleCache::WireBytesHash(bytes)",
          "old_text": null,
          "new_text": "NativeModuleCache::WireBytesHash(bytes)",
          "old_line_content": "        &decoder_, bytes, offset, &section_code);",
          "new_line_content": "                                      NativeModuleCache::WireBytesHash(bytes));",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": null,
          "new_api": "ModuleDecoder::IdentifyUnknownSection(\n        &decoder_, bytes, offset, &section_code)",
          "old_text": null,
          "new_text": "ModuleDecoder::IdentifyUnknownSection(\n        &decoder_, bytes, offset, &section_code)",
          "old_line_content": "      return false;",
          "new_line_content": "    size_t bytes_consumed = ModuleDecoder::IdentifyUnknownSection(",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "ok",
          "old_text": null,
          "new_text": "decoder_.ok()",
          "old_line_content": "    if (section_code == SectionCode::kUnknownSectionCode) {",
          "new_line_content": "    if (!decoder_.ok()) {",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "FinishDecoding",
          "old_text": null,
          "new_text": "decoder_.FinishDecoding(false).error()",
          "old_line_content": "      // Skip unknown sections that we do not know how to handle.",
          "new_line_content": "      FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": null,
          "new_api": "constexpr",
          "old_text": null,
          "new_text": "constexpr",
          "old_line_content": "    return false;",
          "new_line_content": "  constexpr bool verify_functions = false;",
          "content_same": false
        },
        {
          "line": 2243,
          "old_api": null,
          "new_api": "DecodeSection",
          "old_text": null,
          "new_text": "decoder_.DecodeSection(section_code, bytes, offset, verify_functions)",
          "old_line_content": "  }",
          "new_line_content": "  decoder_.DecodeSection(section_code, bytes, offset, verify_functions);",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": null,
          "new_api": "ok",
          "old_text": null,
          "new_text": "decoder_.ok()",
          "old_line_content": "  return true;",
          "new_line_content": "  if (!decoder_.ok()) {",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": null,
          "new_api": "FinishDecoding",
          "old_text": null,
          "new_text": "decoder_.FinishDecoding(false).error()",
          "old_line_content": "}",
          "new_line_content": "    FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "static_cast<uint32_t>(num_functions)",
          "old_text": null,
          "new_text": "static_cast<uint32_t>(num_functions)",
          "old_line_content": "  }",
          "new_line_content": "  if (!decoder_.CheckFunctionsCount(static_cast<uint32_t>(num_functions),",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": null,
          "new_api": "base::hash_combine(prefix_hash_,\n                                    static_cast<uint32_t>(code_section_length))",
          "old_text": null,
          "new_text": "base::hash_combine(prefix_hash_,\n                                    static_cast<uint32_t>(code_section_length))",
          "old_line_content": "    prefix_cache_hit_ = true;",
          "new_line_content": "  prefix_hash_ = base::hash_combine(prefix_hash_,",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "static_cast<uint32_t>(code_section_length)",
          "old_text": null,
          "new_text": "static_cast<uint32_t>(code_section_length)",
          "old_line_content": "    return true;",
          "new_line_content": "                                    static_cast<uint32_t>(code_section_length));",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "GetStreamingCompilationOwnership",
          "old_text": null,
          "new_text": "wasm_engine_->GetStreamingCompilationOwnership(prefix_hash_)",
          "old_line_content": "  }",
          "new_line_content": "  if (!wasm_engine_->GetStreamingCompilationOwnership(prefix_hash_)) {",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": null,
          "new_api": "module",
          "old_text": null,
          "new_text": "decoder_.module()",
          "old_line_content": "          num_functions, num_imported_functions, code_section_length,",
          "new_line_content": "  DCHECK_EQ(kWasmOrigin, decoder_.module()->origin);",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": null,
          "new_api": "static_cast<uint32_t>(code_section_length)",
          "old_text": null,
          "new_text": "static_cast<uint32_t>(code_section_length)",
          "old_line_content": "  const bool lazy_module = job_->wasm_lazy_compilation_;",
          "new_line_content": "  decoder_.set_code_section(offset, static_cast<uint32_t>(code_section_length));",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "job_->native_module_->compilation_state()",
          "old_line_content": "",
          "new_line_content": "  auto* compilation_state = Impl(job_->native_module_->compilation_state());",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": null,
          "new_api": "std::move(wire_bytes_storage)",
          "old_text": null,
          "new_text": "std::move(wire_bytes_storage)",
          "old_line_content": "  // Set outstanding_finishers_ to 2, because both the AsyncCompileJob and the",
          "new_line_content": "  compilation_state->SetWireBytesStorage(std::move(wire_bytes_storage));",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": null,
          "new_api": "module",
          "old_text": null,
          "new_text": "job_->native_module_->module()",
          "old_line_content": "  // AsyncStreamingProcessor have to finish.",
          "new_line_content": "  DCHECK_EQ(job_->native_module_->module()->origin, kWasmOrigin);",
          "content_same": false
        },
        {
          "line": 2296,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "compilation_unit_builder_.reset(\n      new CompilationUnitBuilder(job_->native_module_.get()))",
          "old_line_content": "",
          "new_line_content": "  compilation_unit_builder_.reset(",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "job_->native_module_.get()",
          "old_line_content": "  int num_import_wrappers =",
          "new_line_content": "      new CompilationUnitBuilder(job_->native_module_.get()));",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "AddExportWrapperUnits(\n      job_->isolate_, wasm_engine_, native_module,\n      compilation_unit_builder_.get(), job_->enabled_features_)",
          "old_line_content": "      lazy_module, num_import_wrappers + num_export_wrappers);",
          "new_line_content": "  int num_export_wrappers = AddExportWrapperUnits(",
          "content_same": false
        },
        {
          "line": 2305,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "compilation_unit_builder_.get()",
          "old_line_content": "}",
          "new_line_content": "      compilation_unit_builder_.get(), job_->enabled_features_);",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": null,
          "new_api": "InitializeCompilationProgress",
          "old_text": null,
          "new_text": "compilation_state->InitializeCompilationProgress(\n      lazy_module, num_import_wrappers + num_export_wrappers)",
          "old_line_content": "",
          "new_line_content": "  compilation_state->InitializeCompilationProgress(",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": null,
          "new_api": "TRACE_STREAMING",
          "old_text": null,
          "new_text": "TRACE_STREAMING(\"Process function body %d ...\\n\", num_functions_)",
          "old_line_content": "",
          "new_line_content": "  TRACE_STREAMING(\"Process function body %d ...\\n\", num_functions_);",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": null,
          "new_api": "DecodeFunctionBody",
          "old_text": null,
          "new_text": "decoder_.DecodeFunctionBody(\n      num_functions_, static_cast<uint32_t>(bytes.length()), offset, false)",
          "old_line_content": "  auto enabled_features = job_->enabled_features_;",
          "new_line_content": "  decoder_.DecodeFunctionBody(",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "bytes.length()",
          "old_line_content": "  uint32_t func_index =",
          "new_line_content": "      num_functions_, static_cast<uint32_t>(bytes.length()), offset, false);",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(module->origin, kWasmOrigin)",
          "old_line_content": "  bool validate_lazily_compiled_function =",
          "new_line_content": "  DCHECK_EQ(module->origin, kWasmOrigin);",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": null,
          "new_api": "GetCompileStrategy",
          "old_text": null,
          "new_text": "GetCompileStrategy(module, enabled_features, func_index, lazy_module)",
          "old_line_content": "       strategy == CompileStrategy::kLazyBaselineEagerTopTier);",
          "new_line_content": "      GetCompileStrategy(module, enabled_features, func_index, lazy_module);",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "result.failed()",
          "old_line_content": "  }",
          "new_line_content": "    if (result.failed()) {",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "result.error()",
          "old_line_content": "",
          "new_line_content": "      FinishAsyncCompileJobWithError(result.error());",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": null,
          "new_api": "UseLazyStub",
          "old_text": null,
          "new_text": "native_module->UseLazyStub(func_index)",
          "old_line_content": "  } else {",
          "new_line_content": "    native_module->UseLazyStub(func_index);",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "UseLazyStub",
          "old_text": null,
          "new_text": "native_module->UseLazyStub(func_index)",
          "old_line_content": "  }",
          "new_line_content": "    native_module->UseLazyStub(func_index);",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(strategy, CompileStrategy::kEager)",
          "old_line_content": "  ++num_functions_;",
          "new_line_content": "    DCHECK_EQ(strategy, CompileStrategy::kEager);",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": null,
          "new_api": "AddUnits",
          "old_text": null,
          "new_text": "compilation_unit_builder_->AddUnits(func_index)",
          "old_line_content": "",
          "new_line_content": "    compilation_unit_builder_->AddUnits(func_index);",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": null,
          "new_api": "DCHECK",
          "old_text": null,
          "new_text": "DCHECK(compilation_unit_builder_)",
          "old_line_content": "void AsyncStreamingProcessor::OnFinishedChunk() {",
          "new_line_content": "  DCHECK(compilation_unit_builder_);",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": null,
          "new_api": "TRACE_STREAMING",
          "old_text": null,
          "new_text": "TRACE_STREAMING(\"FinishChunk...\\n\")",
          "old_line_content": "// Finish the processing of the stream.",
          "new_line_content": "  TRACE_STREAMING(\"FinishChunk...\\n\");",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": null,
          "new_api": "CommitCompilationUnits",
          "old_text": null,
          "new_text": "CommitCompilationUnits()",
          "old_line_content": "void AsyncStreamingProcessor::OnFinishedStream(OwnedVector<uint8_t> bytes) {",
          "new_line_content": "  if (compilation_unit_builder_) CommitCompilationUnits();",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "as_vector",
          "old_text": null,
          "new_text": "bytes.as_vector()",
          "old_line_content": "    return;",
          "new_line_content": "  DCHECK_EQ(NativeModuleCache::PrefixHash(bytes.as_vector()), prefix_hash_);",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": null,
          "new_api": "FinishDecoding",
          "old_text": null,
          "new_text": "decoder_.FinishDecoding(false)",
          "old_line_content": "  }",
          "new_line_content": "  ModuleResult result = decoder_.FinishDecoding(false);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "result.failed()",
          "old_line_content": "",
          "new_line_content": "  if (result.failed()) {",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": null,
          "new_api": "as_vector",
          "old_text": null,
          "new_text": "bytes.as_vector()",
          "old_line_content": "    // Restart as an asynchronous, non-streaming compilation. Most likely",
          "new_line_content": "  job_->wire_bytes_ = ModuleWireBytes(bytes.as_vector());",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": null,
          "new_api": "ReleaseData",
          "old_text": null,
          "new_text": "bytes.ReleaseData()",
          "old_line_content": "    // {PrepareAndStartCompile} will get the native module from the cache.",
          "new_line_content": "  job_->bytes_copy_ = bytes.ReleaseData();",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "wasm::WasmCodeManager::EstimateNativeModuleCodeSize(\n            result.value().get(), FLAG_liftoff)",
          "old_line_content": "    return;",
          "new_line_content": "        wasm::WasmCodeManager::EstimateNativeModuleCodeSize(",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "result.value().get()",
          "old_line_content": "  }",
          "new_line_content": "            result.value().get(), FLAG_liftoff);",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "job_->DoSync<AsyncCompileJob::PrepareAndStartCompile>(\n        std::move(result).value(), true, code_size_estimate)",
          "old_line_content": "",
          "new_line_content": "    job_->DoSync<AsyncCompileJob::PrepareAndStartCompile>(",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "std::move(result).value()",
          "old_line_content": "  // We have to open a HandleScope and prepare the Context for",
          "new_line_content": "        std::move(result).value(), true, code_size_estimate);",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "job_->isolate_->counters()->wasm_wasm_module_size_bytes()",
          "old_line_content": "  bool cache_hit = false;",
          "new_line_content": "  auto* histogram = job_->isolate_->counters()->wasm_wasm_module_size_bytes();",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "module_bytes",
          "old_text": null,
          "new_text": "job_->wire_bytes_.module_bytes().length()",
          "old_line_content": "  if (!has_code_section) {",
          "new_line_content": "  histogram->AddSample(job_->wire_bytes_.module_bytes().length());",
          "content_same": false
        },
        {
          "line": 2423,
          "old_api": null,
          "new_api": "LogWasmCodes",
          "old_text": null,
          "new_text": "job_->native_module_->LogWasmCodes(job_->isolate_)",
          "old_line_content": "  // We might need to recompile the module for debugging, if the debugger was",
          "new_line_content": "    job_->native_module_->LogWasmCodes(job_->isolate_);",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": null,
          "new_api": "DecrementAndCheckFinisherCount",
          "old_text": null,
          "new_text": "job_->DecrementAndCheckFinisherCount()",
          "old_line_content": "  // compiling via streaming is tricky, we just tier down now, before publishing",
          "new_line_content": "  const bool needs_finish = job_->DecrementAndCheckFinisherCount();",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": null,
          "new_api": "DCHECK_IMPLIES",
          "old_text": null,
          "new_text": "DCHECK_IMPLIES(!has_code_section, needs_finish)",
          "old_line_content": "  // the module.",
          "new_line_content": "  DCHECK_IMPLIES(!has_code_section, needs_finish);",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": null,
          "new_api": "RecompileForTiering",
          "old_text": null,
          "new_text": "job_->native_module_->RecompileForTiering()",
          "old_line_content": "    if (!cache_hit) {",
          "new_line_content": "    job_->native_module_->RecompileForTiering();",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "job_->native_module_->compilation_state()->failed()",
          "old_line_content": "    }",
          "new_line_content": "    const bool failed = job_->native_module_->compilation_state()->failed();",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": null,
          "new_api": "AsyncCompileFailed",
          "old_text": null,
          "new_text": "job_->AsyncCompileFailed()",
          "old_line_content": "  }",
          "new_line_content": "      job_->AsyncCompileFailed();",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": null,
          "new_api": "FinishCompile",
          "old_text": null,
          "new_text": "job_->FinishCompile(cache_hit)",
          "old_line_content": "",
          "new_line_content": "      job_->FinishCompile(cache_hit);",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "TRACE_STREAMING",
          "old_text": null,
          "new_text": "TRACE_STREAMING(\"Stream error...\\n\")",
          "old_line_content": "void AsyncStreamingProcessor::OnAbort() {",
          "new_line_content": "  TRACE_STREAMING(\"Stream error...\\n\");",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "TRACE_STREAMING",
          "old_text": null,
          "new_text": "TRACE_STREAMING(\"Abort stream...\\n\")",
          "old_line_content": "bool AsyncStreamingProcessor::Deserialize(Vector<const uint8_t> module_bytes,",
          "new_line_content": "  TRACE_STREAMING(\"Abort stream...\\n\");",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": null,
          "new_api": "Abort",
          "old_text": null,
          "new_text": "job_->Abort()",
          "old_line_content": "                                          Vector<const uint8_t> wire_bytes) {",
          "new_line_content": "  job_->Abort();",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "TRACE_EVENT0",
          "old_text": null,
          "new_text": "TRACE_EVENT0(\"v8.wasm\", \"wasm.Deserialize\")",
          "old_line_content": "  SaveAndSwitchContext saved_context(job_->isolate_, *job_->native_context_);",
          "new_line_content": "  TRACE_EVENT0(\"v8.wasm\", \"wasm.Deserialize\");",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": null,
          "new_api": "url",
          "old_text": null,
          "new_text": "DeserializeNativeModule(\n      job_->isolate_, module_bytes, wire_bytes, job_->stream_->url())",
          "old_line_content": "",
          "new_line_content": "  MaybeHandle<WasmModuleObject> result = DeserializeNativeModule(",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": null,
          "new_api": "url",
          "old_text": null,
          "new_text": "job_->stream_->url()",
          "old_line_content": "  job_->module_object_ =",
          "new_line_content": "      job_->isolate_, module_bytes, wire_bytes, job_->stream_->url());",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": null,
          "new_api": "ToHandleChecked",
          "old_text": null,
          "new_text": "result.ToHandleChecked()",
          "old_line_content": "  return true;",
          "new_line_content": "      job_->isolate_->global_handles()->Create(*result.ToHandleChecked());",
          "content_same": false
        },
        {
          "line": 2474,
          "old_api": null,
          "new_api": "shared_native_module",
          "old_text": null,
          "new_text": "job_->module_object_->shared_native_module()",
          "old_line_content": "}",
          "new_line_content": "  job_->native_module_ = job_->module_object_->shared_native_module();",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": null,
          "new_api": "wire_bytes",
          "old_text": null,
          "new_text": "job_->native_module_->wire_bytes()",
          "old_line_content": "",
          "new_line_content": "  job_->wire_bytes_ = ModuleWireBytes(job_->native_module_->wire_bytes());",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": null,
          "new_api": "FinishCompile",
          "old_text": null,
          "new_text": "job_->FinishCompile(false)",
          "old_line_content": "int GetMaxBackgroundTasks() {",
          "new_line_content": "  job_->FinishCompile(false);",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": null,
          "new_api": "NumberOfWorkerThreads",
          "old_text": null,
          "new_text": "V8::GetCurrentPlatform()->NumberOfWorkerThreads()",
          "old_line_content": "CompilationStateImpl::CompilationStateImpl(",
          "new_line_content": "  int num_worker_threads = V8::GetCurrentPlatform()->NumberOfWorkerThreads();",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": null,
          "new_api": "std::min(FLAG_wasm_num_compilation_tasks, num_worker_threads)",
          "old_text": null,
          "new_text": "std::min(FLAG_wasm_num_compilation_tasks, num_worker_threads)",
          "old_line_content": "    const std::shared_ptr<NativeModule>& native_module,",
          "new_line_content": "  return std::min(FLAG_wasm_num_compilation_tasks, num_worker_threads);",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": null,
          "new_api": "std::make_shared<BackgroundCompileToken>(native_module)",
          "old_text": null,
          "new_text": "std::make_shared<BackgroundCompileToken>(native_module)",
          "old_line_content": "                        : CompileMode::kRegular),",
          "new_line_content": "          std::make_shared<BackgroundCompileToken>(native_module)),",
          "content_same": false
        },
        {
          "line": 2495,
          "old_api": null,
          "new_api": "std::move(async_counters)",
          "old_text": null,
          "new_text": "std::move(async_counters)",
          "old_line_content": "  for (int i = 0; i < max_background_tasks_; ++i) {",
          "new_line_content": "      async_counters_(std::move(async_counters)),",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": null,
          "new_api": "GetMaxBackgroundTasks",
          "old_text": null,
          "new_text": "GetMaxBackgroundTasks()",
          "old_line_content": "    // Ids are popped on task creation, so reverse this list. This ensures that",
          "new_line_content": "      max_background_tasks_(std::max(GetMaxBackgroundTasks(), 1)),",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": null,
          "new_api": "Cancel",
          "old_text": null,
          "new_text": "background_compile_token_->Cancel()",
          "old_line_content": "}",
          "new_line_content": "  background_compile_token_->Cancel();",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "callbacks_.clear()",
          "old_line_content": "                                                         int num_wrappers) {",
          "new_line_content": "  callbacks_.clear();",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "failed()",
          "old_line_content": "  base::MutexGuard guard(&callbacks_mutex_);",
          "new_line_content": "  DCHECK(!failed());",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(0, outstanding_baseline_units_)",
          "old_line_content": "  int end = start + module->num_declared_functions;",
          "new_line_content": "  DCHECK_EQ(0, outstanding_baseline_units_);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(0, outstanding_top_tier_functions_)",
          "old_line_content": "",
          "new_line_content": "  DCHECK_EQ(0, outstanding_top_tier_functions_);",
          "content_same": false
        },
        {
          "line": 2530,
          "old_api": null,
          "new_api": "RequiredTopTierField::encode(ExecutionTier::kLiftoff)",
          "old_text": null,
          "new_text": "RequiredTopTierField::encode(ExecutionTier::kLiftoff)",
          "old_line_content": "      outstanding_baseline_units_++;",
          "new_line_content": "          RequiredTopTierField::encode(ExecutionTier::kLiftoff) |",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": null,
          "new_api": "RequiredBaselineTierField::encode(ExecutionTier::kLiftoff)",
          "old_text": null,
          "new_text": "RequiredBaselineTierField::encode(ExecutionTier::kLiftoff)",
          "old_line_content": "      outstanding_top_tier_functions_++;",
          "new_line_content": "          RequiredBaselineTierField::encode(ExecutionTier::kLiftoff) |",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": null,
          "new_api": "ReachedTierField::encode(ExecutionTier::kNone)",
          "old_text": null,
          "new_text": "ReachedTierField::encode(ExecutionTier::kNone)",
          "old_line_content": "      continue;",
          "new_line_content": "          ReachedTierField::encode(ExecutionTier::kNone);",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "compilation_progress_.push_back(kLiftoffOnlyFunctionProgress)",
          "old_line_content": "    }",
          "new_line_content": "      compilation_progress_.push_back(kLiftoffOnlyFunctionProgress);",
          "content_same": false
        },
        {
          "line": 2538,
          "old_api": null,
          "new_api": "GetRequestedExecutionTiers",
          "old_text": null,
          "new_text": "GetRequestedExecutionTiers(\n        module, compile_mode(), enabled_features, func_index)",
          "old_line_content": "",
          "new_line_content": "    ExecutionTierPair requested_tiers = GetRequestedExecutionTiers(",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": null,
          "new_api": "compile_mode",
          "old_text": null,
          "new_text": "compile_mode()",
          "old_line_content": "    bool required_for_baseline = strategy == CompileStrategy::kEager;",
          "new_line_content": "        module, compile_mode(), enabled_features, func_index);",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(required_for_top_tier,\n              strategy == CompileStrategy::kEager ||\n                  strategy == CompileStrategy::kLazyBaselineEagerTopTier)",
          "old_line_content": "    // Count functions to complete baseline and top tier compilation.",
          "new_line_content": "    DCHECK_EQ(required_for_top_tier,",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": null,
          "new_api": "DCHECK_IMPLIES",
          "old_text": null,
          "new_text": "DCHECK_IMPLIES(lazy_module, outstanding_baseline_units_ == 0)",
          "old_line_content": "  outstanding_baseline_units_ += num_wrappers;",
          "new_line_content": "  DCHECK_IMPLIES(lazy_module, outstanding_baseline_units_ == 0);",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": null,
          "new_api": "DCHECK_IMPLIES",
          "old_text": null,
          "new_text": "DCHECK_IMPLIES(lazy_module, outstanding_top_tier_functions_ == 0)",
          "old_line_content": "",
          "new_line_content": "  DCHECK_IMPLIES(lazy_module, outstanding_top_tier_functions_ == 0);",
          "content_same": false
        },
        {
          "line": 2568,
          "old_api": null,
          "new_api": "DCHECK_LE",
          "old_text": null,
          "new_text": "DCHECK_LE(0, outstanding_baseline_units_)",
          "old_line_content": "  // Trigger callbacks if module needs no baseline or top tier compilation. This",
          "new_line_content": "  DCHECK_LE(0, outstanding_baseline_units_);",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": null,
          "new_api": "DCHECK_LE",
          "old_text": null,
          "new_text": "DCHECK_LE(outstanding_baseline_units_, outstanding_top_tier_functions_)",
          "old_line_content": "  // can be the case for an empty or fully lazy module.",
          "new_line_content": "  DCHECK_LE(outstanding_baseline_units_, outstanding_top_tier_functions_);",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "callback(CompilationEvent::kFinishedTopTierCompilation)",
          "old_line_content": "    }",
          "new_line_content": "        callback(CompilationEvent::kFinishedTopTierCompilation);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "callbacks_.clear()",
          "old_line_content": "",
          "new_line_content": "      callbacks_.clear();",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "failed()",
          "old_line_content": "",
          "new_line_content": "  DCHECK(!failed());",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": null,
          "new_api": "FindFunctionsToRecompile",
          "old_text": null,
          "new_text": "native_module_->FindFunctionsToRecompile(new_tiering_state)",
          "old_line_content": "",
          "new_line_content": "      native_module_->FindFunctionsToRecompile(new_tiering_state);",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": null,
          "new_api": "std::move(recompilation_finished_callback)",
          "old_text": null,
          "new_text": "std::move(recompilation_finished_callback)",
          "old_line_content": "    // start yet, and new code will be kept tiered-down from the start. For",
          "new_line_content": "    callbacks_.emplace_back(std::move(recompilation_finished_callback));",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": null,
          "new_api": "module",
          "old_text": null,
          "new_text": "native_module_->module()",
          "old_line_content": "      outstanding_recompilation_functions_ =",
          "new_line_content": "      const WasmModule* module = native_module_->module();",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "DCHECK_GE(module->num_declared_functions,\n                recompile_function_indexes.size())",
          "old_line_content": "      // Restart recompilation if another recompilation is already happening.",
          "new_line_content": "      DCHECK_GE(module->num_declared_functions,",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "recompile_function_indexes.size()",
          "old_line_content": "      for (auto& progress : compilation_progress_) {",
          "new_line_content": "                recompile_function_indexes.size());",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "recompile_function_indexes.size()",
          "old_line_content": "      }",
          "new_line_content": "          static_cast<int>(recompile_function_indexes.size());",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": null,
          "new_api": "MissingRecompilationField::update(progress, false)",
          "old_text": null,
          "new_text": "MissingRecompilationField::update(progress, false)",
          "old_line_content": "                          : ExecutionTier::kTurbofan;",
          "new_line_content": "        progress = MissingRecompilationField::update(progress, false);",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "MissingRecompilationField::update(progress, true)",
          "old_text": null,
          "new_text": "MissingRecompilationField::update(progress, true)",
          "old_line_content": "",
          "new_line_content": "        progress = MissingRecompilationField::update(progress, true);",
          "content_same": false
        },
        {
          "line": 2636,
          "old_api": null,
          "new_api": "AddRecompilationUnit",
          "old_text": null,
          "new_text": "builder.AddRecompilationUnit(function_index, new_tier)",
          "old_line_content": "    // Trigger callback if module needs no recompilation.",
          "new_line_content": "        builder.AddRecompilationUnit(function_index, new_tier);",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": null,
          "new_api": "base::EnumSet<CompilationEvent>(\n          {CompilationEvent::kFinishedRecompilation})",
          "old_text": null,
          "new_text": "base::EnumSet<CompilationEvent>(\n          {CompilationEvent::kFinishedRecompilation})",
          "old_line_content": "",
          "new_line_content": "      TriggerCallbacks(base::EnumSet<CompilationEvent>(",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": null,
          "new_api": "Commit",
          "old_text": null,
          "new_text": "builder.Commit()",
          "old_line_content": "  base::MutexGuard callbacks_guard(&callbacks_mutex_);",
          "new_line_content": "  builder.Commit();",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "callback(event)",
          "old_line_content": "      CompilationEvent::kFinishedTopTierCompilation,",
          "new_line_content": "      callback(event);",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": null,
          "new_api": "contains_any",
          "old_text": null,
          "new_text": "finished_events_.contains_any(kFinalEvents)",
          "old_line_content": "",
          "new_line_content": "  if (!finished_events_.contains_any(kFinalEvents)) {",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": null,
          "new_api": "std::move(callback)",
          "old_text": null,
          "new_text": "std::move(callback)",
          "old_line_content": "void CompilationStateImpl::AddCompilationUnits(",
          "new_line_content": "    callbacks_.emplace_back(std::move(callback));",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "js_to_wasm_wrapper_units.begin()",
          "old_line_content": "}",
          "new_line_content": "                                   js_to_wasm_wrapper_units.begin(),",
          "content_same": false
        },
        {
          "line": 2679,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "js_to_wasm_wrapper_units.end()",
          "old_line_content": "",
          "new_line_content": "                                   js_to_wasm_wrapper_units.end());",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": null,
          "new_api": "AddCompilationUnits",
          "old_text": null,
          "new_text": "AddCompilationUnits({}, {&unit, 1}, {})",
          "old_line_content": "CompilationStateImpl::GetNextJSToWasmWrapperCompilationUnit() {",
          "new_line_content": "  AddCompilationUnits({}, {&unit, 1}, {});",
          "content_same": false
        },
        {
          "line": 2691,
          "old_api": null,
          "new_api": "fetch_add",
          "old_text": null,
          "new_text": "js_to_wasm_wrapper_id_.fetch_add(1, std::memory_order_relaxed)",
          "old_line_content": "  return nullptr;",
          "new_line_content": "      js_to_wasm_wrapper_id_.fetch_add(1, std::memory_order_relaxed);",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "js_to_wasm_wrapper_units_.size()",
          "old_line_content": "}",
          "new_line_content": "  if (wrapper_id < static_cast<int>(js_to_wasm_wrapper_units_.size())) {",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": null,
          "new_api": "factory",
          "old_text": null,
          "new_text": "isolate->factory()->NewFixedArray(\n      MaxNumExportWrappers(module), AllocationType::kOld)",
          "old_line_content": "  // because many such wrapper are allocated in sequence below.",
          "new_line_content": "  *export_wrappers_out = isolate->factory()->NewFixedArray(",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "  for (auto& unit : js_to_wasm_wrapper_units_) {",
          "new_line_content": "  TRACE_EVENT1(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "js_to_wasm_wrapper_units_.size()",
          "old_line_content": "    int wrapper_index =",
          "new_line_content": "               js_to_wasm_wrapper_units_.size());",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": null,
          "new_api": "is_import",
          "old_text": null,
          "new_text": "unit->is_import()",
          "old_line_content": "}",
          "new_line_content": "        GetExportWrapperIndex(module, unit->sig(), unit->is_import());",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "*export_wrappers_out)->set(wrapper_index, *code)",
          "old_line_content": "",
          "new_line_content": "    (*export_wrappers_out)->set(wrapper_index, *code);",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()",
          "old_line_content": "base::Optional<WasmCompilationUnit>",
          "new_line_content": "    RecordStats(*code, isolate->counters());",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "",
          "new_line_content": "  TRACE_EVENT1(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "code_vector.size()",
          "old_line_content": "  // In case of no outstanding compilation units we can return early.",
          "new_line_content": "               \"wasm.OnFinishedUnits\", \"num_units\", code_vector.size());",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "compilation_progress_.size()",
          "old_line_content": "",
          "new_line_content": "  DCHECK_EQ(compilation_progress_.size(),",
          "content_same": false
        },
        {
          "line": 2752,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "code_vector.size()",
          "old_line_content": "",
          "new_line_content": "  for (size_t i = 0; i < code_vector.size(); i++) {",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": null,
          "new_api": "DCHECK_NOT_NULL",
          "old_text": null,
          "new_text": "DCHECK_NOT_NULL(code)",
          "old_line_content": "      // Import wrapper.",
          "new_line_content": "    DCHECK_NOT_NULL(code);",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": null,
          "new_api": "num_imported_functions",
          "old_text": null,
          "new_text": "native_module_->num_imported_functions()",
          "old_line_content": "    } else {",
          "new_line_content": "    if (code->index() < native_module_->num_imported_functions()) {",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": null,
          "new_api": "tier",
          "old_text": null,
          "new_text": "code->tier()",
          "old_line_content": "      // compiled code. Any lazily compiled function does not contribute to the",
          "new_line_content": "      DCHECK_NE(code->tier(), ExecutionTier::kNone);",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": null,
          "new_api": "index",
          "old_text": null,
          "new_text": "code->index()",
          "old_line_content": "      ExecutionTier required_top_tier =",
          "new_line_content": "          declared_function_index(native_module_->module(), code->index());",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": null,
          "new_api": "RequiredBaselineTierField::decode(function_progress)",
          "old_text": null,
          "new_text": "RequiredBaselineTierField::decode(function_progress)",
          "old_line_content": "",
          "new_line_content": "          RequiredBaselineTierField::decode(function_progress);",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": null,
          "new_api": "RequiredTopTierField::decode(function_progress)",
          "old_text": null,
          "new_text": "RequiredTopTierField::decode(function_progress)",
          "old_line_content": "      if (reached_tier < required_baseline_tier &&",
          "new_line_content": "          RequiredTopTierField::decode(function_progress);",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": null,
          "new_api": "tier",
          "old_text": null,
          "new_text": "code->tier()",
          "old_line_content": "      if (reached_tier < required_top_tier &&",
          "new_line_content": "          required_baseline_tier <= code->tier()) {",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": null,
          "new_api": "tier",
          "old_text": null,
          "new_text": "code->tier()",
          "old_line_content": "",
          "new_line_content": "          required_top_tier <= code->tier()) {",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": null,
          "new_api": "MissingRecompilationField::decode(function_progress)",
          "old_text": null,
          "new_text": "MissingRecompilationField::decode(function_progress)",
          "old_line_content": "        // irrelevant here. In particular, we want to ignore any outstanding",
          "new_line_content": "      if (V8_UNLIKELY(MissingRecompilationField::decode(function_progress))) {",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": null,
          "new_api": "DCHECK_LT",
          "old_text": null,
          "new_text": "DCHECK_LT(0, outstanding_recompilation_functions_)",
          "old_line_content": "        // non-debugging units.",
          "new_line_content": "        DCHECK_LT(0, outstanding_recompilation_functions_);",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": null,
          "new_api": "tier",
          "old_text": null,
          "new_text": "code->tier()",
          "old_line_content": "              compilation_progress_[slot_index], false);",
          "new_line_content": "                           : code->tier() == ExecutionTier::kTurbofan;",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": null,
          "new_api": "MissingRecompilationField::update(\n              compilation_progress_[slot_index], false)",
          "old_text": null,
          "new_text": "MissingRecompilationField::update(\n              compilation_progress_[slot_index], false)",
          "old_line_content": "          }",
          "new_line_content": "          compilation_progress_[slot_index] = MissingRecompilationField::update(",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": null,
          "new_api": "Add",
          "old_text": null,
          "new_text": "triggered_events.Add(CompilationEvent::kFinishedRecompilation)",
          "old_line_content": "",
          "new_line_content": "            triggered_events.Add(CompilationEvent::kFinishedRecompilation);",
          "content_same": false
        },
        {
          "line": 2811,
          "old_api": null,
          "new_api": "tier",
          "old_text": null,
          "new_text": "ReachedTierField::update(\n            compilation_progress_[slot_index], code->tier())",
          "old_line_content": "    }",
          "new_line_content": "        compilation_progress_[slot_index] = ReachedTierField::update(",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": null,
          "new_api": "tier",
          "old_text": null,
          "new_text": "code->tier()",
          "old_line_content": "  }",
          "new_line_content": "            compilation_progress_[slot_index], code->tier());",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": null,
          "new_api": "TriggerCallbacks",
          "old_text": null,
          "new_text": "TriggerCallbacks(triggered_events)",
          "old_line_content": "  if (num == 0) return;",
          "new_line_content": "  TriggerCallbacks(triggered_events);",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": null,
          "new_api": "DCHECK_GE",
          "old_text": null,
          "new_text": "DCHECK_GE(outstanding_baseline_units_, num)",
          "old_line_content": "",
          "new_line_content": "  DCHECK_GE(outstanding_baseline_units_, num);",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": null,
          "new_api": "TriggerCallbacks",
          "old_text": null,
          "new_text": "TriggerCallbacks()",
          "old_line_content": "    base::EnumSet<CompilationEvent> triggered_events) {",
          "new_line_content": "  TriggerCallbacks();",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": null,
          "new_api": "TryLock",
          "old_text": null,
          "new_text": "callbacks_mutex_.TryLock()",
          "old_line_content": "    if (outstanding_top_tier_functions_ == 0) {",
          "new_line_content": "  DCHECK(!callbacks_mutex_.TryLock());",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": null,
          "new_api": "Add",
          "old_text": null,
          "new_text": "triggered_events.Add(CompilationEvent::kFinishedBaselineCompilation)",
          "old_line_content": "  }",
          "new_line_content": "    triggered_events.Add(CompilationEvent::kFinishedBaselineCompilation);",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "triggered_events.empty()",
          "old_line_content": "  // Recompilation can happen multiple times, thus do not store this.",
          "new_line_content": "  if (triggered_events.empty()) return;",
          "content_same": false
        },
        {
          "line": 2853,
          "old_api": null,
          "new_api": "std::make_pair(CompilationEvent::kFinishedRecompilation,\n                       \"wasm.RecompilationFinished\")",
          "old_text": null,
          "new_text": "std::make_pair(CompilationEvent::kFinishedRecompilation,\n                       \"wasm.RecompilationFinished\")",
          "old_line_content": "    for (auto& callback : callbacks_) {",
          "new_line_content": "        std::make_pair(CompilationEvent::kFinishedRecompilation,",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": null,
          "new_api": "contains",
          "old_text": null,
          "new_text": "triggered_events.contains(event.first)",
          "old_line_content": "    }",
          "new_line_content": "    if (!triggered_events.contains(event.first)) continue;",
          "content_same": false
        },
        {
          "line": 2856,
          "old_api": null,
          "new_api": "TRACE_EVENT0",
          "old_text": null,
          "new_text": "TRACE_EVENT0(\"v8.wasm\", event.second)",
          "old_line_content": "  }",
          "new_line_content": "    TRACE_EVENT0(\"v8.wasm\", event.second);",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "callback(event.first)",
          "old_line_content": "  if (outstanding_baseline_units_ == 0 &&",
          "new_line_content": "      callback(event.first);",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "callbacks_.clear()",
          "old_line_content": "void CompilationStateImpl::OnBackgroundTaskStopped(",
          "new_line_content": "    callbacks_.clear();",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "available_task_ids_.end()",
          "old_line_content": "  }",
          "new_line_content": "                            available_task_ids_.end(), task_id));",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "available_task_ids_.size()",
          "old_line_content": "",
          "new_line_content": "    DCHECK_GT(max_background_tasks_, available_task_ids_.size());",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "available_task_ids_.push_back(task_id)",
          "old_line_content": "  // The background task could have stopped while we were adding new units, or",
          "new_line_content": "    available_task_ids_.push_back(task_id);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "Add",
          "old_text": null,
          "new_text": "detected_features_.Add(detected)",
          "old_line_content": "  // because it reached its deadline. In both cases we need to restart tasks to",
          "new_line_content": "    detected_features_.Add(detected);",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": null,
          "new_api": "RestartBackgroundTasks",
          "old_text": null,
          "new_text": "RestartBackgroundTasks()",
          "old_line_content": "    const WasmFeatures& detected) {",
          "new_line_content": "  RestartBackgroundTasks();",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": null,
          "new_api": "Add",
          "old_text": null,
          "new_text": "detected_features_.Add(detected)",
          "old_line_content": "  // Notifying the isolate of the feature counts must take place under",
          "new_line_content": "  detected_features_.Add(detected);",
          "content_same": false
        },
        {
          "line": 2898,
          "old_api": null,
          "new_api": "UpdateFeatureUseCounts",
          "old_text": null,
          "new_text": "UpdateFeatureUseCounts(isolate, detected_features_)",
          "old_line_content": "  // Create new tasks, but only spawn them after releasing the mutex, because",
          "new_line_content": "  UpdateFeatureUseCounts(isolate, detected_features_);",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "js_to_wasm_wrapper_units_.size()",
          "old_line_content": "",
          "new_line_content": "        static_cast<int>(js_to_wasm_wrapper_units_.size())) {",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "available_task_ids_.back()",
          "old_line_content": "              ->NewBackgroundCompileTask<BackgroundCompileTask>(",
          "new_line_content": "      int task_id = available_task_ids_.back();",
          "content_same": false
        },
        {
          "line": 2923,
          "old_api": null,
          "new_api": "pop_back",
          "old_text": null,
          "new_text": "available_task_ids_.pop_back()",
          "old_line_content": "                  background_compile_token_, async_counters_, task_id));",
          "new_line_content": "      available_task_ids_.pop_back();",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": null,
          "new_api": "emplace_back",
          "old_text": null,
          "new_text": "new_tasks.emplace_back(\n          native_module_->engine()\n              ->NewBackgroundCompileTask<BackgroundCompileTask>(\n                  background_compile_token_, async_counters_, task_id))",
          "old_line_content": "    }",
          "new_line_content": "      new_tasks.emplace_back(",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": null,
          "new_api": "engine",
          "old_text": null,
          "new_text": "native_module_->engine()\n              ->NewBackgroundCompileTask<BackgroundCompileTask>(\n                  background_compile_token_, async_counters_, task_id)",
          "old_line_content": "  }",
          "new_line_content": "          native_module_->engine()",
          "content_same": false
        },
        {
          "line": 2931,
          "old_api": null,
          "new_api": "recompilation_finished",
          "old_text": null,
          "new_text": "recompilation_finished()",
          "old_line_content": "    }",
          "new_line_content": "  if (baseline_compilation_finished() && recompilation_finished()) {",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": null,
          "new_api": "CallLowPriorityTaskOnWorkerThread",
          "old_text": null,
          "new_text": "V8::GetCurrentPlatform()->CallLowPriorityTaskOnWorkerThread(\n          std::move(task))",
          "old_line_content": "    for (auto& task : new_tasks) {",
          "new_line_content": "      V8::GetCurrentPlatform()->CallLowPriorityTaskOnWorkerThread(",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": null,
          "new_api": "std::move(task)",
          "old_text": null,
          "new_text": "std::move(task)",
          "old_line_content": "",
          "new_line_content": "      V8::GetCurrentPlatform()->CallOnWorkerThread(std::move(task));",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": null,
          "new_api": "compare_exchange_strong",
          "old_text": null,
          "new_text": "compile_failed_.compare_exchange_strong(expected, true,\n                                               std::memory_order_relaxed)",
          "old_line_content": "",
          "new_line_content": "  if (!compile_failed_.compare_exchange_strong(expected, true,",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "callback(CompilationEvent::kFailedCompilation)",
          "old_line_content": "}",
          "new_line_content": "    callback(CompilationEvent::kFailedCompilation);",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "callbacks_.clear()",
          "old_line_content": "using JSToWasmWrapperQueue =",
          "new_line_content": "  callbacks_.clear();",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": null,
          "new_api": "pop",
          "old_text": null,
          "new_text": "queue_->pop()",
          "old_line_content": "  }",
          "new_line_content": "    while (base::Optional<JSToWasmWrapperKey> key = queue_->pop()) {",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "*compilation_units_)[*key].get()",
          "old_line_content": "",
          "new_line_content": "      JSToWasmWrapperCompilationUnit* unit = (*compilation_units_)[*key].get();",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": null,
          "new_api": "Execute",
          "old_text": null,
          "new_text": "unit->Execute()",
          "old_line_content": " private:",
          "new_line_content": "      unit->Execute();",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": null,
          "new_api": "factory",
          "old_text": null,
          "new_text": "isolate->factory()->NewFixedArray(\n      MaxNumExportWrappers(module), AllocationType::kOld)",
          "old_line_content": "  JSToWasmWrapperUnitMap compilation_units;",
          "new_line_content": "  *export_wrappers_out = isolate->factory()->NewFixedArray(",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": null,
          "new_api": "WasmFeatures::FromIsolate(isolate)",
          "old_text": null,
          "new_text": "WasmFeatures::FromIsolate(isolate)",
          "old_line_content": "    if (exp.kind != kExternalFunction) continue;",
          "new_line_content": "  WasmFeatures enabled_features = WasmFeatures::FromIsolate(isolate);",
          "content_same": false
        },
        {
          "line": 3003,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "std::make_unique<JSToWasmWrapperCompilationUnit>(\n          isolate, isolate->wasm_engine(), function.sig, function.imported,\n          enabled_features)",
          "old_line_content": "    }",
          "new_line_content": "      auto unit = std::make_unique<JSToWasmWrapperCompilationUnit>(",
          "content_same": false
        },
        {
          "line": 3004,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate->wasm_engine()",
          "old_line_content": "  }",
          "new_line_content": "          isolate, isolate->wasm_engine(), function.sig, function.imported,",
          "content_same": false
        },
        {
          "line": 3006,
          "old_api": null,
          "new_api": "std::move(unit)",
          "old_text": null,
          "new_text": "std::move(unit)",
          "old_line_content": "  // Execute compilation jobs in the background.",
          "new_line_content": "      compilation_units.emplace(key, std::move(unit));",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": null,
          "new_api": "std::make_unique<CompileJSToWasmWrapperTask>(\n        &task_manager, &queue, &compilation_units)",
          "old_text": null,
          "new_text": "std::make_unique<CompileJSToWasmWrapperTask>(\n        &task_manager, &queue, &compilation_units)",
          "old_line_content": "",
          "new_line_content": "    auto task = std::make_unique<CompileJSToWasmWrapperTask>(",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "compilation_units[*key].get()",
          "old_line_content": "",
          "new_line_content": "    JSToWasmWrapperCompilationUnit* unit = compilation_units[*key].get();",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": null,
          "new_api": "Execute",
          "old_text": null,
          "new_text": "unit->Execute()",
          "old_line_content": "  // Finalize compilation jobs in the main thread.",
          "new_line_content": "    unit->Execute();",
          "content_same": false
        },
        {
          "line": 3024,
          "old_api": null,
          "new_api": "CancelAndWait",
          "old_text": null,
          "new_text": "task_manager.CancelAndWait()",
          "old_line_content": "  // optimization we keep the code space unlocked to avoid repeated unlocking",
          "new_line_content": "  task_manager.CancelAndWait();",
          "content_same": false
        },
        {
          "line": 3034,
          "old_api": null,
          "new_api": "Finalize",
          "old_text": null,
          "new_text": "unit->Finalize(isolate)",
          "old_line_content": "  }",
          "new_line_content": "    Handle<Code> code = unit->Finalize(isolate);",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": null,
          "new_api": "GetExportWrapperIndex",
          "old_text": null,
          "new_text": "GetExportWrapperIndex(module, &key.second, key.first)",
          "old_line_content": "}",
          "new_line_content": "    int wrapper_index = GetExportWrapperIndex(module, &key.second, key.first);",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "*export_wrappers_out)->set(wrapper_index, *code)",
          "old_line_content": "",
          "new_line_content": "    (*export_wrappers_out)->set(wrapper_index, *code);",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()",
          "old_line_content": "WasmCode* CompileImportWrapper(",
          "new_line_content": "    RecordStats(*code, isolate->counters());",
          "content_same": false
        },
        {
          "line": 3053,
          "old_api": null,
          "new_api": "CreateCompilationEnv",
          "old_text": null,
          "new_text": "native_module->CreateCompilationEnv()",
          "old_line_content": "      result.func_index, result.code_desc, result.frame_slot_count,",
          "new_line_content": "  CompilationEnv env = native_module->CreateCompilationEnv();",
          "content_same": false
        },
        {
          "line": 3054,
          "old_api": null,
          "new_api": "compiler::CompileWasmImportCallWrapper(\n      wasm_engine, &env, kind, sig, source_positions)",
          "old_text": null,
          "new_text": "compiler::CompileWasmImportCallWrapper(\n      wasm_engine, &env, kind, sig, source_positions)",
          "old_line_content": "      result.tagged_parameter_slots,",
          "new_line_content": "  WasmCompilationResult result = compiler::CompileWasmImportCallWrapper(",
          "content_same": false
        },
        {
          "line": 3059,
          "old_api": null,
          "new_api": "as_vector",
          "old_text": null,
          "new_text": "result.protected_instructions_data.as_vector()",
          "old_line_content": "  (*cache_scope)[key] = published_code;",
          "new_line_content": "      result.protected_instructions_data.as_vector(),",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "IncRef",
          "old_text": null,
          "new_text": "published_code->IncRef()",
          "old_line_content": "  return published_code;",
          "new_line_content": "  published_code->IncRef();",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "counters->wasm_generated_code_size()->Increment(\n      published_code->instructions().length())",
          "old_line_content": "}",
          "new_line_content": "  counters->wasm_generated_code_size()->Increment(",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "published_code->instructions().length()",
          "old_line_content": "",
          "new_line_content": "      published_code->instructions().length());",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "published_code->reloc_info().length()",
          "old_line_content": "}  // namespace wasm",
          "new_line_content": "  counters->wasm_reloc_size()->Increment(published_code->reloc_info().length());",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "as_vector",
          "old_text": null,
          "new_text": "isolate->wasm_engine()->MaybeGetNativeModule(\n          wasm_module->origin, wire_bytes_copy.as_vector(), isolate)",
          "old_line_content": "  }",
          "new_line_content": "      isolate->wasm_engine()->MaybeGetNativeModule(",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "as_vector",
          "old_text": null,
          "new_text": "wire_bytes_copy.as_vector()",
          "old_line_content": "",
          "new_line_content": "          wasm_module->origin, wire_bytes_copy.as_vector(), isolate);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "CompileJsToWasmWrappers",
          "old_text": null,
          "new_text": "CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out)",
          "old_line_content": "",
          "new_line_content": "    CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "SELECT_WASM_COUNTER(\n      isolate->counters(), wasm_module->origin, wasm_compile, module_time)",
          "old_line_content": "  }",
          "new_line_content": "  TimedHistogramScope wasm_compile_module_time_scope(SELECT_WASM_COUNTER(",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate->counters()",
          "old_line_content": "  OwnedVector<uint8_t> wire_bytes_copy =",
          "new_line_content": "      isolate->counters(), wasm_module->origin, wasm_compile, module_time));",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "CountUsage",
          "old_text": null,
          "new_text": "isolate->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory)",
          "old_line_content": "  const bool uses_liftoff = module->origin == kWasmOrigin && FLAG_liftoff;",
          "new_line_content": "    isolate->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory);",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "native_module.get()",
          "old_line_content": "",
          "new_line_content": "  CompileNativeModule(isolate, thrower, wasm_module, native_module.get());",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate->wasm_engine()->UpdateNativeModuleCache(\n      thrower->error(), &native_module, isolate)",
          "old_line_content": "  if (cache_hit) {",
          "new_line_content": "  bool cache_hit = !isolate->wasm_engine()->UpdateNativeModuleCache(",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "thrower->error()",
          "old_line_content": "    return native_module;",
          "new_line_content": "  if (thrower->error()) return {};",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "native_module->compilation_state()",
          "old_line_content": "  // Ensure that the code objects are logged before returning.",
          "new_line_content": "  Impl(native_module->compilation_state())",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate->wasm_engine()->LogOutstandingCodesForIsolate(isolate)",
          "old_line_content": "",
          "new_line_content": "  isolate->wasm_engine()->LogOutstandingCodesForIsolate(isolate);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "native_module->compilation_state()",
          "old_line_content": "      tiering_state,",
          "new_line_content": "  auto* compilation_state = Impl(native_module->compilation_state());",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": null,
          "new_api": "Signal",
          "old_text": null,
          "new_text": "recompilation_finished_semaphore->Signal()",
          "old_line_content": "  // The main thread contributes to the compilation.",
          "new_line_content": "          recompilation_finished_semaphore->Signal();",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "constexpr",
          "old_text": null,
          "new_text": "constexpr",
          "old_line_content": "    // Continue executing compilation units.",
          "new_line_content": "  constexpr Counters* kNoCounters = nullptr;",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": null,
          "new_api": "background_compile_token",
          "old_text": null,
          "new_text": "compilation_state->background_compile_token()",
          "old_line_content": "  }",
          "new_line_content": "  while (ExecuteCompilationUnits(compilation_state->background_compile_token(),",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "Wait",
          "old_text": null,
          "new_text": "recompilation_finished_semaphore->Wait()",
          "old_line_content": "AsyncCompileJob::AsyncCompileJob(",
          "new_line_content": "  recompilation_finished_semaphore->Wait();",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "compilation_state->failed()",
          "old_line_content": "    Isolate* isolate, const WasmFeatures& enabled,",
          "new_line_content": "  DCHECK(!compilation_state->failed());",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "std::move(bytes_copy)",
          "old_text": null,
          "new_text": "std::move(bytes_copy)",
          "old_line_content": "               \"wasm.AsyncCompileJob\");",
          "new_line_content": "      bytes_copy_(std::move(bytes_copy)),",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "CHECK",
          "old_text": null,
          "new_text": "CHECK(!FLAG_jitless)",
          "old_line_content": "  native_context_ =",
          "new_line_content": "  CHECK(!FLAG_jitless);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "GetForegroundTaskRunner",
          "old_text": null,
          "new_text": "platform->GetForegroundTaskRunner(v8_isolate)",
          "old_line_content": "}",
          "new_line_content": "  foreground_task_runner_ = platform->GetForegroundTaskRunner(v8_isolate);",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": null,
          "new_api": "native_context",
          "old_text": null,
          "new_text": "context->native_context()",
          "old_line_content": "void AsyncCompileJob::Start() {",
          "new_line_content": "      isolate->global_handles()->Create(context->native_context());",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": null,
          "new_api": "counters",
          "old_text": null,
          "new_text": "isolate_->counters()",
          "old_line_content": "  // Removing this job will trigger the destructor, which will cancel all",
          "new_line_content": "  DoAsync<DecodeModule>(isolate_->counters());  // --",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "old_line_content": " public:",
          "new_line_content": "  isolate_->wasm_engine()->RemoveCompileJob(this);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "  ~AsyncStreamingProcessor() override;",
          "new_line_content": "  explicit AsyncStreamingProcessor(AsyncCompileJob* job,",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": null,
          "new_api": "DCHECK_NULL",
          "old_text": null,
          "new_text": "DCHECK_NULL(stream_)",
          "old_line_content": "  return stream_;",
          "new_line_content": "  DCHECK_NULL(stream_);",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": null,
          "new_api": "async_counters",
          "old_text": null,
          "new_text": "StreamingDecoder::CreateAsyncStreamingDecoder(\n      std::make_unique<AsyncStreamingProcessor>(\n          this, isolate_->async_counters(), isolate_->allocator()))",
          "old_line_content": "}",
          "new_line_content": "  stream_ = StreamingDecoder::CreateAsyncStreamingDecoder(",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": null,
          "new_api": "async_counters",
          "old_text": null,
          "new_text": "std::make_unique<AsyncStreamingProcessor>(\n          this, isolate_->async_counters(), isolate_->allocator())",
          "old_line_content": "",
          "new_line_content": "      std::make_unique<AsyncStreamingProcessor>(",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "allocator",
          "old_text": null,
          "new_text": "isolate_->allocator()",
          "old_line_content": "AsyncCompileJob::~AsyncCompileJob() {",
          "new_line_content": "          this, isolate_->async_counters(), isolate_->allocator()));",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "module_object_.is_null()",
          "old_line_content": "  // anymore.",
          "new_line_content": "  if (native_module_ && module_object_.is_null()) {",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "native_module_->compilation_state()",
          "old_line_content": "  // TODO(ahaas): Is this notification really necessary? Check",
          "new_line_content": "    Impl(native_module_->compilation_state())->AbortCompilation();",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "CancelPendingForegroundTask",
          "old_text": null,
          "new_text": "CancelPendingForegroundTask()",
          "old_line_content": "  }",
          "new_line_content": "  CancelPendingForegroundTask();",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "location",
          "old_text": null,
          "new_text": "native_context_.location()",
          "old_line_content": "}",
          "new_line_content": "  isolate_->global_handles()->Destroy(native_context_.location());",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "module_object_.is_null()",
          "old_line_content": "",
          "new_line_content": "  if (!module_object_.is_null()) {",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": null,
          "new_api": "location",
          "old_text": null,
          "new_text": "module_object_.location()",
          "old_line_content": "void AsyncCompileJob::CreateNativeModule(",
          "new_line_content": "    isolate_->global_handles()->Destroy(module_object_.location());",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "CountUsage",
          "old_text": null,
          "new_text": "isolate_->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory)",
          "old_line_content": "  // relevant sections, not function bodies",
          "new_line_content": "    isolate_->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory);",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->NewNativeModule(\n      isolate_, enabled_features_, std::move(module), code_size_estimate)",
          "old_line_content": "",
          "new_line_content": "  native_module_ = isolate_->wasm_engine()->NewNativeModule(",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": null,
          "new_api": "std::move(module)",
          "old_text": null,
          "new_text": "std::move(module)",
          "old_line_content": "bool AsyncCompileJob::GetOrCreateNativeModule(",
          "new_line_content": "      isolate_, enabled_features_, std::move(module), code_size_estimate);",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "wire_bytes_.length()",
          "old_line_content": "    std::shared_ptr<const WasmModule> module, size_t code_size_estimate) {",
          "new_line_content": "  native_module_->SetWireBytes({std::move(bytes_copy_), wire_bytes_.length()});",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "module_bytes",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->MaybeGetNativeModule(\n      module->origin, wire_bytes_.module_bytes(), isolate_)",
          "old_line_content": "    return false;",
          "new_line_content": "  native_module_ = isolate_->wasm_engine()->MaybeGetNativeModule(",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "module_bytes",
          "old_text": null,
          "new_text": "wire_bytes_.module_bytes()",
          "old_line_content": "  }",
          "new_line_content": "      module->origin, wire_bytes_.module_bytes(), isolate_);",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": null,
          "new_api": "std::move(module)",
          "old_text": null,
          "new_text": "std::move(module)",
          "old_line_content": "}",
          "new_line_content": "    CreateNativeModule(std::move(module), code_size_estimate);",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "module_object_.is_null()",
          "old_line_content": "  Handle<WasmModuleObject> module_object =",
          "new_line_content": "  DCHECK(module_object_.is_null());",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->GetOrCreateScript(\n      isolate_, native_module_, source_url)",
          "old_line_content": "",
          "new_line_content": "  auto script = isolate_->wasm_engine()->GetOrCreateScript(",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "WasmModuleObject::New(isolate_, native_module_, script)",
          "old_text": null,
          "new_text": "WasmModuleObject::New(isolate_, native_module_, script)",
          "old_line_content": "",
          "new_line_content": "      WasmModuleObject::New(isolate_, native_module_, script);",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "global_handles",
          "old_text": null,
          "new_text": "isolate_->global_handles()->Create(*module_object)",
          "old_line_content": "// context is set on the isolate.",
          "new_line_content": "  module_object_ = isolate_->global_handles()->Create(*module_object);",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "  if (!is_after_deserialization) {",
          "new_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "compilation_state",
          "old_text": null,
          "new_text": "native_module_->compilation_state()",
          "old_line_content": "    }",
          "new_line_content": "  auto compilation_state = Impl(native_module_->compilation_state());",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "NotifyNativeModuleCreated",
          "old_text": null,
          "new_text": "stream_->NotifyNativeModuleCreated(native_module_)",
          "old_line_content": "",
          "new_line_content": "      stream_->NotifyNativeModuleCreated(native_module_);",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "base::TimeTicks::IsHighResolution()",
          "old_text": null,
          "new_text": "base::TimeTicks::IsHighResolution()",
          "old_line_content": "        duration_usecs);",
          "new_line_content": "  if (base::TimeTicks::IsHighResolution()) {",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": null,
          "new_api": "base::TimeTicks::Now()",
          "old_text": null,
          "new_text": "base::TimeTicks::Now()",
          "old_line_content": "  }",
          "new_line_content": "    base::TimeDelta duration = base::TimeTicks::Now() - start_time_;",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": null,
          "new_api": "InMicroseconds",
          "old_text": null,
          "new_text": "duration.InMicroseconds()",
          "old_line_content": "",
          "new_line_content": "    int duration_usecs = static_cast<int>(duration.InMicroseconds());",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "module->debug_symbols.external_url.is_empty()",
          "old_line_content": "        AllocationType::kOld);",
          "new_line_content": "      !module->debug_symbols.external_url.is_empty()) {",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "GetNameOrNull",
          "old_text": null,
          "new_text": "isolate_->factory()->NewStringFromUtf8(\n        wire_bytes.GetNameOrNull(module->debug_symbols.external_url),\n        AllocationType::kOld)",
          "old_line_content": "  }",
          "new_line_content": "    MaybeHandle<String> src_map_str = isolate_->factory()->NewStringFromUtf8(",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "GetNameOrNull",
          "old_text": null,
          "new_text": "wire_bytes.GetNameOrNull(module->debug_symbols.external_url)",
          "old_line_content": "  {",
          "new_line_content": "        wire_bytes.GetNameOrNull(module->debug_symbols.external_url),",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "ToHandleChecked",
          "old_text": null,
          "new_text": "src_map_str.ToHandleChecked()",
          "old_line_content": "                 \"wasm.Debug.OnAfterCompile\");",
          "new_line_content": "    script->set_source_mapping_url(*src_map_str.ToHandleChecked());",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "",
          "new_line_content": "    TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "isolate_->debug()->OnAfterCompile(script)",
          "old_line_content": "  // just compile wrappers here.",
          "new_line_content": "    isolate_->debug()->OnAfterCompile(script);",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "CompileJsToWasmWrappers",
          "old_text": null,
          "new_text": "CompileJsToWasmWrappers(isolate_, module, &export_wrappers)",
          "old_line_content": "    }",
          "new_line_content": "      CompileJsToWasmWrappers(isolate_, module, &export_wrappers);",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "FinalizeJSToWasmWrappers",
          "old_text": null,
          "new_text": "compilation_state->FinalizeJSToWasmWrappers(isolate_, module,\n                                                  &export_wrappers)",
          "old_line_content": "  }",
          "new_line_content": "      compilation_state->FinalizeJSToWasmWrappers(isolate_, module,",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": null,
          "new_api": "set_export_wrappers",
          "old_text": null,
          "new_text": "module_object_->set_export_wrappers(*export_wrappers)",
          "old_line_content": "",
          "new_line_content": "    module_object_->set_export_wrappers(*export_wrappers);",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "PublishDetectedFeatures",
          "old_text": null,
          "new_text": "compilation_state->PublishDetectedFeatures(isolate_)",
          "old_line_content": "",
          "new_line_content": "  compilation_state->PublishDetectedFeatures(isolate_);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": null,
          "new_api": "FinishModule",
          "old_text": null,
          "new_text": "FinishModule()",
          "old_line_content": "  ErrorThrower thrower(isolate_, api_method_name_);",
          "new_line_content": "  FinishModule();",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "old_line_content": "void AsyncCompileJob::AsyncCompileFailed() {",
          "new_line_content": "      isolate_->wasm_engine()->RemoveCompileJob(this);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "Reify",
          "old_text": null,
          "new_text": "thrower.Reify()",
          "old_line_content": "  ErrorThrower thrower(isolate_, api_method_name_);",
          "new_line_content": "  resolver_->OnCompilationFailed(thrower.Reify());",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": null,
          "new_api": "module",
          "old_text": null,
          "new_text": "native_module_->module()",
          "old_line_content": "                       lazy_module);",
          "new_line_content": "  DCHECK_EQ(native_module_->module()->origin, kWasmOrigin);",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "native_module_.get()",
          "old_line_content": "  // {job} keeps the {this} pointer alive.",
          "new_line_content": "  ValidateSequentially(native_module_->module(), native_module_.get(),",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "allocator",
          "old_text": null,
          "new_text": "isolate_->allocator()",
          "old_line_content": "  std::shared_ptr<AsyncCompileJob> job =",
          "new_line_content": "                       isolate_->counters(), isolate_->allocator(), &thrower,",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "old_line_content": "void AsyncCompileJob::AsyncCompileSucceeded(Handle<WasmModuleObject> result) {",
          "new_line_content": "      isolate_->wasm_engine()->RemoveCompileJob(this);",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "TRACE_DISABLED_BY_DEFAULT",
          "old_text": null,
          "new_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "old_line_content": "",
          "new_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": null,
          "new_api": "OnCompilationSucceeded",
          "old_text": null,
          "new_text": "resolver_->OnCompilationSucceeded(result)",
          "old_line_content": " public:",
          "new_line_content": "  resolver_->OnCompilationSucceeded(result);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    switch (event) {",
          "new_line_content": "  explicit CompilationStateCallback(AsyncCompileJob* job) : job_(job) {}",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "last_event_.has_value()",
          "old_line_content": "          // main thread to update {job_->native_module_} to avoid a data race.",
          "new_line_content": "        DCHECK(!last_event_.has_value());",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "DecrementAndCheckFinisherCount",
          "old_text": null,
          "new_text": "job_->DecrementAndCheckFinisherCount()",
          "old_line_content": "          std::shared_ptr<NativeModule> native_module = job_->native_module_;",
          "new_line_content": "        if (job_->DecrementAndCheckFinisherCount()) {",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "job_->isolate_->wasm_engine()->UpdateNativeModuleCache(\n                  false, &native_module, job_->isolate_)",
          "old_line_content": "                                                  : nullptr);",
          "new_line_content": "              !job_->isolate_->wasm_engine()->UpdateNativeModuleCache(",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(cache_hit, native_module != job_->native_module_)",
          "old_line_content": "        break;",
          "new_line_content": "          DCHECK_EQ(cache_hit, native_module != job_->native_module_);",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "std::move(native_module)",
          "old_text": null,
          "new_text": "std::move(native_module)",
          "old_line_content": "      case CompilationEvent::kFinishedTopTierCompilation:",
          "new_line_content": "          job_->DoSync<CompileFinished>(cache_hit ? std::move(native_module)",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(CompilationEvent::kFinishedBaselineCompilation, last_event_)",
          "old_line_content": "      case CompilationEvent::kFailedCompilation:",
          "new_line_content": "        DCHECK_EQ(CompilationEvent::kFinishedBaselineCompilation, last_event_);",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "last_event_.has_value()",
          "old_line_content": "          std::shared_ptr<NativeModule> native_module = job_->native_module_;",
          "new_line_content": "        DCHECK(!last_event_.has_value());",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": null,
          "new_api": "wasm_engine",
          "old_text": null,
          "new_text": "job_->isolate_->wasm_engine()->UpdateNativeModuleCache(\n              true, &native_module, job_->isolate_)",
          "old_line_content": "        break;",
          "new_line_content": "          job_->isolate_->wasm_engine()->UpdateNativeModuleCache(",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": null,
          "new_api": "job_->DoSync<CompileFailed>()",
          "old_text": null,
          "new_text": "job_->DoSync<CompileFailed>()",
          "old_line_content": "        // This event can happen either before or after",
          "new_line_content": "          job_->DoSync<CompileFailed>();",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": null,
          "new_api": "RunInForeground",
          "old_text": null,
          "new_text": "RunInForeground(job)",
          "old_line_content": "  }",
          "new_line_content": "      RunInForeground(job);",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "UNREACHABLE",
          "old_text": null,
          "new_text": "UNREACHABLE()",
          "old_line_content": "class AsyncCompileJob::CompileTask : public CancelableTask {",
          "new_line_content": "  virtual void RunInForeground(AsyncCompileJob*) { UNREACHABLE(); }",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "UNREACHABLE",
          "old_text": null,
          "new_text": "UNREACHABLE()",
          "old_line_content": " public:",
          "new_line_content": "  virtual void RunInBackground(AsyncCompileJob*) { UNREACHABLE(); }",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "cancelable_task_manager",
          "old_text": null,
          "new_text": "job->isolate_->cancelable_task_manager()",
          "old_line_content": "",
          "new_line_content": "      : CancelableTask(on_foreground ? job->isolate_->cancelable_task_manager()",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": null,
          "new_api": "ResetPendingForegroundTask",
          "old_text": null,
          "new_text": "ResetPendingForegroundTask()",
          "old_line_content": "    if (!job_) return;",
          "new_line_content": "    if (job_ != nullptr && on_foreground_) ResetPendingForegroundTask();",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "ResetPendingForegroundTask",
          "old_text": null,
          "new_text": "ResetPendingForegroundTask()",
          "old_line_content": "    job_ = nullptr;",
          "new_line_content": "    if (on_foreground_) ResetPendingForegroundTask();",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": null,
          "new_api": "Run",
          "old_text": null,
          "new_text": "job_->step_->Run(job_, on_foreground_)",
          "old_line_content": "  }",
          "new_line_content": "    job_->step_->Run(job_, on_foreground_);",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": null,
          "new_api": "DCHECK_NOT_NULL",
          "old_text": null,
          "new_text": "DCHECK_NOT_NULL(job_)",
          "old_line_content": " private:",
          "new_line_content": "    DCHECK_NOT_NULL(job_);",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(this, job_->pending_foreground_task_)",
          "old_line_content": "",
          "new_line_content": "    DCHECK_EQ(this, job_->pending_foreground_task_);",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "std::make_unique<CompileTask>(this, true)",
          "old_text": null,
          "new_text": "std::make_unique<CompileTask>(this, true)",
          "old_line_content": "",
          "new_line_content": "  auto new_task = std::make_unique<CompileTask>(this, true);",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "new_task.get()",
          "old_line_content": "void AsyncCompileJob::ExecuteForegroundTaskImmediately() {",
          "new_line_content": "  pending_foreground_task_ = new_task.get();",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "std::make_unique<CompileTask>(this, true)",
          "old_text": null,
          "new_text": "std::make_unique<CompileTask>(this, true)",
          "old_line_content": "",
          "new_line_content": "  auto new_task = std::make_unique<CompileTask>(this, true);",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "new_task.get()",
          "old_line_content": "void AsyncCompileJob::CancelPendingForegroundTask() {",
          "new_line_content": "  pending_foreground_task_ = new_task.get();",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "Run",
          "old_text": null,
          "new_text": "new_task->Run()",
          "old_line_content": "  if (!pending_foreground_task_) return;",
          "new_line_content": "  new_task->Run();",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": null,
          "new_api": "Cancel",
          "old_text": null,
          "new_text": "pending_foreground_task_->Cancel()",
          "old_line_content": "void AsyncCompileJob::StartBackgroundTask() {",
          "new_line_content": "  pending_foreground_task_->Cancel();",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": null,
          "new_api": "std::make_unique<CompileTask>(this, false)",
          "old_text": null,
          "new_text": "std::make_unique<CompileTask>(this, false)",
          "old_line_content": "  if (FLAG_wasm_num_compilation_tasks > 0) {",
          "new_line_content": "  auto task = std::make_unique<CompileTask>(this, false);",
          "content_same": false
        },
        {
          "line": 1906,
          "old_api": null,
          "new_api": "std::move(task)",
          "old_text": null,
          "new_text": "std::move(task)",
          "old_line_content": "}",
          "new_line_content": "    V8::GetCurrentPlatform()->CallOnWorkerThread(std::move(task));",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": null,
          "new_api": "std::move(task)",
          "old_text": null,
          "new_text": "std::move(task)",
          "old_line_content": "template <typename Step,",
          "new_line_content": "    foreground_task_runner_->PostTask(std::move(task));",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "",
          "new_line_content": "  NextStep<Step>(std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": null,
          "new_api": "StartForegroundTask",
          "old_text": null,
          "new_text": "StartForegroundTask()",
          "old_line_content": "void AsyncCompileJob::DoImmediately(Args&&... args) {",
          "new_line_content": "  StartForegroundTask();",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "template <typename Step, typename... Args>",
          "new_line_content": "  NextStep<Step>(std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "ExecuteForegroundTaskImmediately",
          "old_text": null,
          "new_text": "ExecuteForegroundTaskImmediately()",
          "old_line_content": "void AsyncCompileJob::DoAsync(Args&&... args) {",
          "new_line_content": "  ExecuteForegroundTaskImmediately();",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "template <typename Step, typename... Args>",
          "new_line_content": "  NextStep<Step>(std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": null,
          "new_api": "StartBackgroundTask",
          "old_text": null,
          "new_text": "StartBackgroundTask()",
          "old_line_content": "void AsyncCompileJob::NextStep(Args&&... args) {",
          "new_line_content": "  StartBackgroundTask();",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "// Step 1: (async) Decode the module.",
          "new_line_content": "  step_.reset(new Step(std::forward<Args>(args)...));",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    {",
          "new_line_content": "  explicit DecodeModule(Counters* counters) : counters_(counters) {}",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "start",
          "old_text": null,
          "new_text": "job->wire_bytes_.start()",
          "old_line_content": "",
          "new_line_content": "      result = DecodeWasmModule(enabled_features, job->wire_bytes_.start(),",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "job->wire_bytes_.end()",
          "old_line_content": "      // Validate lazy functions here if requested.",
          "new_line_content": "                                job->wire_bytes_.end(), false, kWasmOrigin,",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(module->origin, kWasmOrigin)",
          "old_line_content": "          int start = module->num_imported_functions;",
          "new_line_content": "        DCHECK_EQ(module->origin, kWasmOrigin);",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": null,
          "new_api": "MayCompriseLazyFunctions",
          "old_text": null,
          "new_text": "MayCompriseLazyFunctions(module, enabled_features, lazy_module)",
          "old_line_content": "",
          "new_line_content": "        if (MayCompriseLazyFunctions(module, enabled_features, lazy_module)) {",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": null,
          "new_api": "isolate",
          "old_text": null,
          "new_text": "job->isolate()->wasm_engine()->allocator()",
          "old_line_content": "          for (int func_index = start; func_index < end; func_index++) {",
          "new_line_content": "          auto allocator = job->isolate()->wasm_engine()->allocator();",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": null,
          "new_api": "GetFunctionBytes",
          "old_text": null,
          "new_text": "job->wire_bytes_.GetFunctionBytes(func)",
          "old_line_content": "            bool validate_lazily_compiled_function =",
          "new_line_content": "                job->wire_bytes_.GetFunctionBytes(func);",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": null,
          "new_api": "GetCompileStrategy",
          "old_text": null,
          "new_text": "GetCompileStrategy(\n                module, enabled_features, func_index, lazy_module)",
          "old_line_content": "                strategy == CompileStrategy::kLazyBaselineEagerTopTier;",
          "new_line_content": "            CompileStrategy strategy = GetCompileStrategy(",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": null,
          "new_api": "ValidateSingleFunction",
          "old_text": null,
          "new_text": "ValidateSingleFunction(module, func_index, code, counters_,\n                                         allocator, enabled_features)",
          "old_line_content": "                break;",
          "new_line_content": "                  ValidateSingleFunction(module, func_index, code, counters_,",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "function_result.failed()",
          "old_line_content": "            }",
          "new_line_content": "              if (function_result.failed()) {",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "function_result.error()",
          "old_line_content": "          }",
          "new_line_content": "                result = ModuleResult(function_result.error());",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "failed",
          "old_text": null,
          "new_text": "result.failed()",
          "old_line_content": "      // Decode passed.",
          "new_line_content": "    if (result.failed()) {",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "std::move(result).error()",
          "old_line_content": "      const bool kUsesLiftoff = false;",
          "new_line_content": "      job->DoSync<DecodeFail>(std::move(result).error());",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "std::move(result).value()",
          "old_line_content": "                                                              kUsesLiftoff);",
          "new_line_content": "      std::shared_ptr<WasmModule> module = std::move(result).value();",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "module.get()",
          "old_line_content": "    }",
          "new_line_content": "          wasm::WasmCodeManager::EstimateNativeModuleCodeSize(module.get(),",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "std::move(module)",
          "old_text": null,
          "new_text": "std::move(module)",
          "old_line_content": "",
          "new_line_content": "      job->DoSync<PrepareAndStartCompile>(std::move(module), true,",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": null,
          "new_api": "std::move(error)",
          "old_text": null,
          "new_text": "std::move(error)",
          "old_line_content": "",
          "new_line_content": "  explicit DecodeFail(WasmError error) : error_(std::move(error)) {}",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "TRACE_COMPILE",
          "old_text": null,
          "new_text": "TRACE_COMPILE(\"(1b) Decoding failed.\\n\")",
          "old_line_content": "};",
          "new_line_content": "    TRACE_COMPILE(\"(1b) Decoding failed.\\n\");",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": null,
          "new_api": "DecodeFailed",
          "old_text": null,
          "new_text": "job->DecodeFailed(error_)",
          "old_line_content": "//==========================================================================",
          "new_line_content": "    return job->DecodeFailed(error_);",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": null,
          "new_api": "std::move(module)",
          "old_text": null,
          "new_text": "std::move(module)",
          "old_line_content": " private:",
          "new_line_content": "      : module_(std::move(module)),",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": null,
          "new_api": "TRACE_COMPILE",
          "old_text": null,
          "new_text": "TRACE_COMPILE(\"(2) Prepare and start compile...\\n\")",
          "old_line_content": "      // Streaming compilation already checked for cache hits.",
          "new_line_content": "    TRACE_COMPILE(\"(2) Prepare and start compile...\\n\");",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2050,
          "old_api": "FinishCompile",
          "new_api": null,
          "old_text": "job->FinishCompile(true)",
          "new_text": null,
          "old_line_content": "      job->FinishCompile(true);",
          "new_line_content": "      // Streaming compilation already checked for cache hits.",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": "CancelAndWait",
          "new_api": null,
          "old_text": "job->background_task_manager_.CancelAndWait()",
          "new_text": null,
          "old_line_content": "    job->background_task_manager_.CancelAndWait();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "compilation_state",
          "new_api": null,
          "old_text": "job->native_module_->compilation_state()",
          "new_text": null,
          "old_line_content": "        Impl(job->native_module_->compilation_state());",
          "new_line_content": "    // is done.",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "base::TimeTicks::IsHighResolution()",
          "new_api": null,
          "old_text": "base::TimeTicks::IsHighResolution()",
          "new_text": null,
          "old_line_content": "    if (base::TimeTicks::IsHighResolution()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "async_counters",
          "new_api": null,
          "old_text": "job->isolate_->async_counters()",
          "new_text": null,
          "old_line_content": "          job->isolate_->async_counters(), compile_mode});",
          "new_line_content": "      auto compile_mode = job->stream_ == nullptr",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "get",
          "new_api": null,
          "old_text": "job->native_module_.get()",
          "new_text": null,
          "old_line_content": "      InitializeCompilationUnits(job->isolate(), job->native_module_.get());",
          "new_line_content": "      // InitializeCompilationUnits always returns 0 for streaming compilation,",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "TRACE_COMPILE",
          "new_api": null,
          "old_text": "TRACE_COMPILE(\"(3a) Compilation failed\\n\")",
          "new_text": null,
          "old_line_content": "    TRACE_COMPILE(\"(3a) Compilation failed\\n\");",
          "new_line_content": "//==========================================================================",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "compilation_state",
          "new_api": null,
          "old_text": "job->native_module_->compilation_state()->failed()",
          "new_text": null,
          "old_line_content": "    DCHECK(job->native_module_->compilation_state()->failed());",
          "new_line_content": "class AsyncCompileJob::CompileFailed : public CompileStep {",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit SampleTopTierCodeSizeCallback(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": "std::move(native_module)",
          "new_api": null,
          "old_text": "std::move(native_module)",
          "new_text": null,
          "old_line_content": "      : native_module_(std::move(native_module)) {}",
          "new_line_content": "class SampleTopTierCodeSizeCallback {",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "engine",
          "new_api": null,
          "old_text": "native_module->engine()->SampleTopTierCodeSizeInAllIsolates(\n          native_module)",
          "new_text": null,
          "old_line_content": "      native_module->engine()->SampleTopTierCodeSizeInAllIsolates(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit CompileFinished(std::shared_ptr<NativeModule> cached_native_module)",
          "new_line_content": "// Step 3b (sync): Compilation finished.",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "std::move(cached_native_module)",
          "new_api": null,
          "old_text": "std::move(cached_native_module)",
          "new_text": null,
          "old_line_content": "      : cached_native_module_(std::move(cached_native_module)) {}",
          "new_line_content": "//==========================================================================",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "counters",
          "new_api": null,
          "old_text": "job->isolate_->counters()",
          "new_text": null,
          "old_line_content": "      job->native_module_->SampleCodeSize(job->isolate_->counters(),",
          "new_line_content": "      job->native_module_ = cached_native_module_;",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "TRACE_COMPILE",
          "new_api": null,
          "old_text": "TRACE_COMPILE(\"(4) Finish module...\\n\")",
          "new_text": null,
          "old_line_content": "  TRACE_COMPILE(\"(4) Finish module...\\n\");",
          "new_line_content": "  std::shared_ptr<NativeModule> cached_native_module_;",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "AsyncCompileSucceeded",
          "new_api": null,
          "old_text": "AsyncCompileSucceeded(module_object_)",
          "new_text": null,
          "old_line_content": "  AsyncCompileSucceeded(module_object_);",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "new_text": null,
          "old_line_content": "  isolate_->wasm_engine()->RemoveCompileJob(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "job_->isolate_->wasm_engine()",
          "new_text": null,
          "old_line_content": "      wasm_engine_(job_->isolate_->wasm_engine()),",
          "new_line_content": "    AsyncCompileJob* job, std::shared_ptr<Counters> async_counters,",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": "empty",
          "new_api": null,
          "old_text": "job_->native_module_->wire_bytes().empty()",
          "new_text": null,
          "old_line_content": "  if (job_->native_module_ && job_->native_module_->wire_bytes().empty()) {",
          "new_line_content": "      async_counters_(async_counters),",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "job_->isolate_->wasm_engine()->StreamingCompilationFailed(prefix_hash_)",
          "new_text": null,
          "old_line_content": "    job_->isolate_->wasm_engine()->StreamingCompilationFailed(prefix_hash_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "has_error",
          "new_api": null,
          "old_text": "error.has_error()",
          "new_text": null,
          "old_line_content": "  DCHECK(error.has_error());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "CancelAndWait",
          "new_api": null,
          "old_text": "job_->background_task_manager_.CancelAndWait()",
          "new_text": null,
          "old_line_content": "  job_->background_task_manager_.CancelAndWait();",
          "new_line_content": "    const WasmError& error) {",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "compilation_state",
          "new_api": null,
          "old_text": "job_->native_module_->compilation_state()",
          "new_text": null,
          "old_line_content": "    Impl(job_->native_module_->compilation_state())->AbortCompilation();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "job_->DoSync<AsyncCompileJob::DecodeFail,\n                 AsyncCompileJob::kUseExistingForegroundTask>(error)",
          "new_api": null,
          "old_text": "job_->DoSync<AsyncCompileJob::DecodeFail,\n                 AsyncCompileJob::kUseExistingForegroundTask>(error)",
          "new_text": null,
          "old_line_content": "    job_->DoSync<AsyncCompileJob::DecodeFail,",
          "new_line_content": "  // up the CompilationStateImpl as well.",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "Clear",
          "new_api": null,
          "old_text": "compilation_unit_builder_->Clear()",
          "new_text": null,
          "old_line_content": "    if (compilation_unit_builder_) compilation_unit_builder_->Clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "job_->DoSync<AsyncCompileJob::DecodeFail>(error)",
          "new_api": null,
          "old_text": "job_->DoSync<AsyncCompileJob::DecodeFail>(error)",
          "new_text": null,
          "old_line_content": "    job_->DoSync<AsyncCompileJob::DecodeFail>(error);",
          "new_line_content": "    // because there is a check in the destructor of the",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "TRACE_STREAMING",
          "new_api": null,
          "old_text": "TRACE_STREAMING(\"Process module header...\\n\")",
          "new_text": null,
          "old_line_content": "  TRACE_STREAMING(\"Process module header...\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "job_->isolate()->counters()",
          "new_text": null,
          "old_line_content": "  decoder_.StartDecoding(job_->isolate()->counters(),",
          "new_line_content": "// Process the module header.",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "job_->isolate()->wasm_engine()->allocator()",
          "new_text": null,
          "old_line_content": "                         job_->isolate()->wasm_engine()->allocator());",
          "new_line_content": "bool AsyncStreamingProcessor::ProcessModuleHeader(Vector<const uint8_t> bytes,",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "DecodeModuleHeader",
          "new_api": null,
          "old_text": "decoder_.DecodeModuleHeader(bytes, offset)",
          "new_text": null,
          "old_line_content": "  decoder_.DecodeModuleHeader(bytes, offset);",
          "new_line_content": "                                                  uint32_t offset) {",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "TRACE_STREAMING",
          "new_api": null,
          "old_text": "TRACE_STREAMING(\"Process section %d ...\\n\", section_code)",
          "new_text": null,
          "old_line_content": "  TRACE_STREAMING(\"Process section %d ...\\n\", section_code);",
          "new_line_content": "// Process all sections except for the code section.",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": "reset",
          "new_api": null,
          "old_text": "compilation_unit_builder_.reset()",
          "new_text": null,
          "old_line_content": "    compilation_unit_builder_.reset();",
          "new_line_content": "  if (compilation_unit_builder_) {",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": "NativeModuleCache::WireBytesHash(bytes)",
          "new_api": null,
          "old_text": "NativeModuleCache::WireBytesHash(bytes)",
          "new_text": null,
          "old_line_content": "                                      NativeModuleCache::WireBytesHash(bytes));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "ok",
          "new_api": null,
          "old_text": "decoder_.ok()",
          "new_text": null,
          "old_line_content": "    if (!decoder_.ok()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": "FinishDecoding",
          "new_api": null,
          "old_text": "decoder_.FinishDecoding(false).error()",
          "new_text": null,
          "old_line_content": "      FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "new_line_content": "  if (section_code == SectionCode::kUnknownSectionCode) {",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": "size",
          "new_api": null,
          "old_text": "bytes.size()",
          "new_text": null,
          "old_line_content": "    bytes = bytes.SubVector(bytes_consumed, bytes.size());",
          "new_line_content": "      return true;",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": "constexpr",
          "new_api": null,
          "old_text": "constexpr",
          "new_text": null,
          "old_line_content": "  constexpr bool verify_functions = false;",
          "new_line_content": "    // Remove the unknown section tag from the payload bytes.",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "DecodeSection",
          "new_api": null,
          "old_text": "decoder_.DecodeSection(section_code, bytes, offset, verify_functions)",
          "new_text": null,
          "old_line_content": "  decoder_.DecodeSection(section_code, bytes, offset, verify_functions);",
          "new_line_content": "    offset += bytes_consumed;",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": "FinishDecoding",
          "new_api": null,
          "old_text": "decoder_.FinishDecoding(false).error()",
          "new_text": null,
          "old_line_content": "    FinishAsyncCompileJobWithError(decoder_.FinishDecoding(false).error());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "DCHECK_LE",
          "new_api": null,
          "old_text": "DCHECK_LE(0, code_section_length)",
          "new_text": null,
          "old_line_content": "  DCHECK_LE(0, code_section_length);",
          "new_line_content": "bool AsyncStreamingProcessor::ProcessCodeSectionHeader(",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "TRACE_STREAMING",
          "new_api": null,
          "old_text": "TRACE_STREAMING(\"Start the code section with %d functions...\\n\",\n                  num_functions)",
          "new_text": null,
          "old_line_content": "  TRACE_STREAMING(\"Start the code section with %d functions...\\n\",",
          "new_line_content": "    std::shared_ptr<WireBytesStorage> wire_bytes_storage,",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": "static_cast<uint32_t>(code_section_length)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(code_section_length)",
          "new_text": null,
          "old_line_content": "                                    static_cast<uint32_t>(code_section_length));",
          "new_line_content": "    return false;",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "GetStreamingCompilationOwnership",
          "new_api": null,
          "old_text": "wasm_engine_->GetStreamingCompilationOwnership(prefix_hash_)",
          "new_text": null,
          "old_line_content": "  if (!wasm_engine_->GetStreamingCompilationOwnership(prefix_hash_)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2273,
          "old_api": "module",
          "new_api": null,
          "old_text": "decoder_.module()",
          "new_text": null,
          "old_line_content": "      static_cast<int>(decoder_.module()->num_imported_functions);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": "module",
          "new_api": null,
          "old_text": "decoder_.module()",
          "new_text": null,
          "old_line_content": "  DCHECK_EQ(kWasmOrigin, decoder_.module()->origin);",
          "new_line_content": "  // Execute the PrepareAndStartCompile step immediately and not in a separate",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": "shared_module",
          "new_api": null,
          "old_text": "job_->DoImmediately<AsyncCompileJob::PrepareAndStartCompile>(\n      decoder_.shared_module(), false, code_size_estimate)",
          "new_text": null,
          "old_line_content": "  job_->DoImmediately<AsyncCompileJob::PrepareAndStartCompile>(",
          "new_line_content": "  size_t code_size_estimate =",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "static_cast<uint32_t>(code_section_length)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(code_section_length)",
          "new_text": null,
          "old_line_content": "  decoder_.set_code_section(offset, static_cast<uint32_t>(code_section_length));",
          "new_line_content": "          uses_liftoff);",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "module",
          "new_api": null,
          "old_text": "job_->native_module_->module()",
          "new_text": null,
          "old_line_content": "  DCHECK_EQ(job_->native_module_->module()->origin, kWasmOrigin);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2291,
          "old_api": "store",
          "new_api": null,
          "old_text": "job_->outstanding_finishers_.store(2)",
          "new_text": null,
          "old_line_content": "  job_->outstanding_finishers_.store(2);",
          "new_line_content": "  const bool lazy_module = job_->wasm_lazy_compilation_;",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": "reset",
          "new_api": null,
          "old_text": "compilation_unit_builder_.reset(\n      new CompilationUnitBuilder(job_->native_module_.get()))",
          "new_text": null,
          "old_line_content": "  compilation_unit_builder_.reset(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": "get",
          "new_api": null,
          "old_text": "job_->native_module_.get()",
          "new_text": null,
          "old_line_content": "      new CompilationUnitBuilder(job_->native_module_.get()));",
          "new_line_content": "  // Set outstanding_finishers_ to 2, because both the AsyncCompileJob and the",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "get",
          "new_api": null,
          "old_text": "compilation_unit_builder_.get()",
          "new_text": null,
          "old_line_content": "      AddImportWrapperUnits(native_module, compilation_unit_builder_.get());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": "get",
          "new_api": null,
          "old_text": "compilation_unit_builder_.get()",
          "new_text": null,
          "old_line_content": "      compilation_unit_builder_.get(), job_->enabled_features_);",
          "new_line_content": "  int num_import_wrappers =",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": "TRACE_STREAMING",
          "new_api": null,
          "old_text": "TRACE_STREAMING(\"Process function body %d ...\\n\", num_functions_)",
          "new_text": null,
          "old_line_content": "  TRACE_STREAMING(\"Process function body %d ...\\n\", num_functions_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": "DecodeFunctionBody",
          "new_api": null,
          "old_text": "decoder_.DecodeFunctionBody(\n      num_functions_, static_cast<uint32_t>(bytes.length()), offset, false)",
          "new_text": null,
          "old_line_content": "  decoder_.DecodeFunctionBody(",
          "new_line_content": "bool AsyncStreamingProcessor::ProcessFunctionBody(Vector<const uint8_t> bytes,",
          "content_same": false
        },
        {
          "line": 2313,
          "old_api": "length",
          "new_api": null,
          "old_text": "bytes.length()",
          "new_text": null,
          "old_line_content": "      num_functions_, static_cast<uint32_t>(bytes.length()), offset, false);",
          "new_line_content": "                                                  uint32_t offset) {",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": "module",
          "new_api": null,
          "old_text": "decoder_.module()",
          "new_text": null,
          "old_line_content": "  const WasmModule* module = decoder_.module();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": "module",
          "new_api": null,
          "old_text": "decoder_.module()",
          "new_text": null,
          "old_line_content": "      num_functions_ + decoder_.module()->num_imported_functions;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": "get",
          "new_api": null,
          "old_text": "async_counters_.get()",
          "new_text": null,
          "old_line_content": "        ValidateSingleFunction(module, func_index, bytes, async_counters_.get(),",
          "new_line_content": "  if (validate_lazily_compiled_function) {",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "failed",
          "new_api": null,
          "old_text": "result.failed()",
          "new_text": null,
          "old_line_content": "    if (result.failed()) {",
          "new_line_content": "    DecodeResult result =",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "get",
          "new_api": null,
          "old_text": "job_->native_module_.get()",
          "new_text": null,
          "old_line_content": "  NativeModule* native_module = job_->native_module_.get();",
          "new_line_content": "    num_functions_++;",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": "UseLazyStub",
          "new_api": null,
          "old_text": "native_module->UseLazyStub(func_index)",
          "new_text": null,
          "old_line_content": "    native_module->UseLazyStub(func_index);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "UseLazyStub",
          "new_api": null,
          "old_text": "native_module->UseLazyStub(func_index)",
          "new_text": null,
          "old_line_content": "    native_module->UseLazyStub(func_index);",
          "new_line_content": "  if (strategy == CompileStrategy::kLazy) {",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": "DCHECK_EQ",
          "new_api": null,
          "old_text": "DCHECK_EQ(strategy, CompileStrategy::kEager)",
          "new_text": null,
          "old_line_content": "    DCHECK_EQ(strategy, CompileStrategy::kEager);",
          "new_line_content": "  } else if (strategy == CompileStrategy::kLazyBaselineEagerTopTier) {",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": "DCHECK",
          "new_api": null,
          "old_text": "DCHECK(compilation_unit_builder_)",
          "new_text": null,
          "old_line_content": "  DCHECK(compilation_unit_builder_);",
          "new_line_content": "  return true;",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": "Commit",
          "new_api": null,
          "old_text": "compilation_unit_builder_->Commit()",
          "new_text": null,
          "old_line_content": "  compilation_unit_builder_->Commit();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "CommitCompilationUnits",
          "new_api": null,
          "old_text": "CommitCompilationUnits()",
          "new_text": null,
          "old_line_content": "  if (compilation_unit_builder_) CommitCompilationUnits();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": "TRACE_STREAMING",
          "new_api": null,
          "old_text": "TRACE_STREAMING(\"Finish stream...\\n\")",
          "new_text": null,
          "old_line_content": "  TRACE_STREAMING(\"Finish stream...\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "as_vector",
          "new_api": null,
          "old_text": "bytes.as_vector()",
          "new_text": null,
          "old_line_content": "  DCHECK_EQ(NativeModuleCache::PrefixHash(bytes.as_vector()), prefix_hash_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "FinishDecoding",
          "new_api": null,
          "old_text": "decoder_.FinishDecoding(false)",
          "new_text": null,
          "old_line_content": "  ModuleResult result = decoder_.FinishDecoding(false);",
          "new_line_content": "// Finish the processing of the stream.",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "failed",
          "new_api": null,
          "old_text": "result.failed()",
          "new_text": null,
          "old_line_content": "  if (result.failed()) {",
          "new_line_content": "void AsyncStreamingProcessor::OnFinishedStream(OwnedVector<uint8_t> bytes) {",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "ReleaseData",
          "new_api": null,
          "old_text": "bytes.ReleaseData()",
          "new_text": null,
          "old_line_content": "  job_->bytes_copy_ = bytes.ReleaseData();",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": "value",
          "new_api": null,
          "old_text": "wasm::WasmCodeManager::EstimateNativeModuleCodeSize(\n            result.value().get(), FLAG_liftoff)",
          "new_text": null,
          "old_line_content": "        wasm::WasmCodeManager::EstimateNativeModuleCodeSize(",
          "new_line_content": "  if (prefix_cache_hit_) {",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": "value",
          "new_api": null,
          "old_text": "result.value().get()",
          "new_text": null,
          "old_line_content": "            result.value().get(), FLAG_liftoff);",
          "new_line_content": "    // Restart as an asynchronous, non-streaming compilation. Most likely",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "value",
          "new_api": null,
          "old_text": "job_->DoSync<AsyncCompileJob::PrepareAndStartCompile>(\n        std::move(result).value(), true, code_size_estimate)",
          "new_text": null,
          "old_line_content": "    job_->DoSync<AsyncCompileJob::PrepareAndStartCompile>(",
          "new_line_content": "    // {PrepareAndStartCompile} will get the native module from the cache.",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "value",
          "new_api": null,
          "old_text": "std::move(result).value()",
          "new_text": null,
          "old_line_content": "        std::move(result).value(), true, code_size_estimate);",
          "new_line_content": "    size_t code_size_estimate =",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": "counters",
          "new_api": null,
          "old_text": "job_->isolate_->counters()->wasm_wasm_module_size_bytes()",
          "new_text": null,
          "old_line_content": "  auto* histogram = job_->isolate_->counters()->wasm_wasm_module_size_bytes();",
          "new_line_content": "  SaveAndSwitchContext saved_context(job_->isolate_, *job_->native_context_);",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": "module_bytes",
          "new_api": null,
          "old_text": "job_->wire_bytes_.module_bytes().length()",
          "new_text": null,
          "old_line_content": "  histogram->AddSample(job_->wire_bytes_.module_bytes().length());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": "constexpr",
          "new_api": null,
          "old_text": "constexpr",
          "new_text": null,
          "old_line_content": "    constexpr size_t kCodeSizeEstimate = 0;",
          "new_line_content": "  if (!has_code_section) {",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": "value",
          "new_api": null,
          "old_text": "std::move(result).value()",
          "new_text": null,
          "old_line_content": "    cache_hit = job_->GetOrCreateNativeModule(std::move(result).value(),",
          "new_line_content": "    // We are processing a WebAssembly module without code section. Create the",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": "LogWasmCodes",
          "new_api": null,
          "old_text": "job_->native_module_->LogWasmCodes(job_->isolate_)",
          "new_text": null,
          "old_line_content": "    job_->native_module_->LogWasmCodes(job_->isolate_);",
          "new_line_content": "                                              kCodeSizeEstimate);",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": "IsTieredDown",
          "new_api": null,
          "old_text": "job_->native_module_->IsTieredDown()",
          "new_text": null,
          "old_line_content": "  if (job_->native_module_->IsTieredDown()) {",
          "new_line_content": "  // We might need to recompile the module for debugging, if the debugger was",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": "RecompileForTiering",
          "new_api": null,
          "old_text": "job_->native_module_->RecompileForTiering()",
          "new_text": null,
          "old_line_content": "    job_->native_module_->RecompileForTiering();",
          "new_line_content": "  // enabled while streaming compilation was running. Since handling this while",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "job_->isolate_->wasm_engine()->UpdateNativeModuleCache(\n          failed, &job_->native_module_, job_->isolate_)",
          "new_text": null,
          "old_line_content": "      cache_hit = !job_->isolate_->wasm_engine()->UpdateNativeModuleCache(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "FinishCompile",
          "new_api": null,
          "old_text": "job_->FinishCompile(cache_hit)",
          "new_text": null,
          "old_line_content": "      job_->FinishCompile(cache_hit);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "TRACE_STREAMING",
          "new_api": null,
          "old_text": "TRACE_STREAMING(\"Stream error...\\n\")",
          "new_text": null,
          "old_line_content": "  TRACE_STREAMING(\"Stream error...\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": "FinishAsyncCompileJobWithError",
          "new_api": null,
          "old_text": "FinishAsyncCompileJobWithError(error)",
          "new_text": null,
          "old_line_content": "  FinishAsyncCompileJobWithError(error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "Abort",
          "new_api": null,
          "old_text": "job_->Abort()",
          "new_text": null,
          "old_line_content": "  job_->Abort();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": "TRACE_EVENT0",
          "new_api": null,
          "old_text": "TRACE_EVENT0(\"v8.wasm\", \"wasm.Deserialize\")",
          "new_text": null,
          "old_line_content": "  TRACE_EVENT0(\"v8.wasm\", \"wasm.Deserialize\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "url",
          "new_api": null,
          "old_text": "DeserializeNativeModule(\n      job_->isolate_, module_bytes, wire_bytes, job_->stream_->url())",
          "new_text": null,
          "old_line_content": "  MaybeHandle<WasmModuleObject> result = DeserializeNativeModule(",
          "new_line_content": "  // a HandleScope, and that a context is set on the isolate.",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "url",
          "new_api": null,
          "old_text": "job_->stream_->url()",
          "new_text": null,
          "old_line_content": "      job_->isolate_, module_bytes, wire_bytes, job_->stream_->url());",
          "new_line_content": "  HandleScope scope(job_->isolate_);",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "result.is_null()",
          "new_text": null,
          "old_line_content": "  if (result.is_null()) return false;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "ToHandleChecked",
          "new_api": null,
          "old_text": "result.ToHandleChecked()",
          "new_text": null,
          "old_line_content": "      job_->isolate_->global_handles()->Create(*result.ToHandleChecked());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": "wire_bytes",
          "new_api": null,
          "old_text": "job_->native_module_->wire_bytes()",
          "new_text": null,
          "old_line_content": "  job_->wire_bytes_ = ModuleWireBytes(job_->native_module_->wire_bytes());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": "FinishCompile",
          "new_api": null,
          "old_text": "job_->FinishCompile(false)",
          "new_text": null,
          "old_line_content": "  job_->FinishCompile(false);",
          "new_line_content": "  job_->module_object_ =",
          "content_same": false
        },
        {
          "line": 2477,
          "old_api": "NumberOfWorkerThreads",
          "new_api": null,
          "old_text": "V8::GetCurrentPlatform()->NumberOfWorkerThreads()",
          "new_text": null,
          "old_line_content": "  int num_worker_threads = V8::GetCurrentPlatform()->NumberOfWorkerThreads();",
          "new_line_content": "  return true;",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": "std::min(FLAG_wasm_num_compilation_tasks, num_worker_threads)",
          "new_api": null,
          "old_text": "std::min(FLAG_wasm_num_compilation_tasks, num_worker_threads)",
          "new_text": null,
          "old_line_content": "  return std::min(FLAG_wasm_num_compilation_tasks, num_worker_threads);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": "get",
          "new_api": null,
          "old_text": "native_module.get()",
          "new_text": null,
          "old_line_content": "    : native_module_(native_module.get()),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": "std::make_shared<BackgroundCompileToken>(native_module)",
          "new_api": null,
          "old_text": "std::make_shared<BackgroundCompileToken>(native_module)",
          "new_text": null,
          "old_line_content": "          std::make_shared<BackgroundCompileToken>(native_module)),",
          "new_line_content": "    const std::shared_ptr<NativeModule>& native_module,",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": "std::move(async_counters)",
          "new_api": null,
          "old_text": "std::move(async_counters)",
          "new_text": null,
          "old_line_content": "      async_counters_(std::move(async_counters)),",
          "new_line_content": "      compile_mode_(FLAG_wasm_tier_up &&",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": "Cancel",
          "new_api": null,
          "old_text": "background_compile_token_->Cancel()",
          "new_text": null,
          "old_line_content": "  background_compile_token_->Cancel();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": "clear",
          "new_api": null,
          "old_text": "callbacks_.clear()",
          "new_text": null,
          "old_line_content": "  callbacks_.clear();",
          "new_line_content": "void CompilationStateImpl::AbortCompilation() {",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": "failed",
          "new_api": null,
          "old_text": "failed()",
          "new_text": null,
          "old_line_content": "  DCHECK(!failed());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2512,
          "old_api": "enabled_features",
          "new_api": null,
          "old_text": "native_module_->enabled_features()",
          "new_text": null,
          "old_line_content": "  auto enabled_features = native_module_->enabled_features();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": "module",
          "new_api": null,
          "old_text": "native_module_->module()",
          "new_text": null,
          "old_line_content": "  auto* module = native_module_->module();",
          "new_line_content": "void CompilationStateImpl::InitializeCompilationProgress(bool lazy_module,",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "reserve",
          "new_api": null,
          "old_text": "compilation_progress_.reserve(module->num_declared_functions)",
          "new_text": null,
          "old_line_content": "  compilation_progress_.reserve(module->num_declared_functions);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "constexpr",
          "new_api": null,
          "old_text": "constexpr",
          "new_text": null,
          "old_line_content": "      constexpr uint8_t kLiftoffOnlyFunctionProgress =",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2527,
          "old_api": "RequiredBaselineTierField::encode(ExecutionTier::kLiftoff)",
          "new_api": null,
          "old_text": "RequiredBaselineTierField::encode(ExecutionTier::kLiftoff)",
          "new_text": null,
          "old_line_content": "          RequiredBaselineTierField::encode(ExecutionTier::kLiftoff) |",
          "new_line_content": "  for (int func_index = start; func_index < end; func_index++) {",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": "ReachedTierField::encode(ExecutionTier::kNone)",
          "new_api": null,
          "old_text": "ReachedTierField::encode(ExecutionTier::kNone)",
          "new_text": null,
          "old_line_content": "          ReachedTierField::encode(ExecutionTier::kNone);",
          "new_line_content": "    if (prefer_liftoff) {",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": "GetRequestedExecutionTiers",
          "new_api": null,
          "old_text": "GetRequestedExecutionTiers(\n        module, compile_mode(), enabled_features, func_index)",
          "new_text": null,
          "old_line_content": "    ExecutionTierPair requested_tiers = GetRequestedExecutionTiers(",
          "new_line_content": "      outstanding_baseline_units_++;",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": "compile_mode",
          "new_api": null,
          "old_text": "compile_mode()",
          "new_text": null,
          "old_line_content": "        module, compile_mode(), enabled_features, func_index);",
          "new_line_content": "      outstanding_top_tier_functions_++;",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "GetCompileStrategy",
          "new_api": null,
          "old_text": "GetCompileStrategy(module, enabled_features, func_index, lazy_module)",
          "new_text": null,
          "old_line_content": "        GetCompileStrategy(module, enabled_features, func_index, lazy_module);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": "ReachedTierField::encode(ExecutionTier::kNone)",
          "new_api": null,
          "old_text": "ReachedTierField::encode(ExecutionTier::kNone)",
          "new_text": null,
          "old_line_content": "    uint8_t function_progress = ReachedTierField::encode(ExecutionTier::kNone);",
          "new_line_content": "                                               ? requested_tiers.baseline_tier",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "RequiredBaselineTierField::update(\n        function_progress, required_baseline_tier)",
          "new_api": null,
          "old_text": "RequiredBaselineTierField::update(\n        function_progress, required_baseline_tier)",
          "new_text": null,
          "old_line_content": "    function_progress = RequiredBaselineTierField::update(",
          "new_line_content": "                                               : ExecutionTier::kNone;",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": "DCHECK_IMPLIES",
          "new_api": null,
          "old_text": "DCHECK_IMPLIES(lazy_module, outstanding_baseline_units_ == 0)",
          "new_text": null,
          "old_line_content": "  DCHECK_IMPLIES(lazy_module, outstanding_baseline_units_ == 0);",
          "new_line_content": "    function_progress =",
          "content_same": false
        },
        {
          "line": 2565,
          "old_api": "DCHECK_LE",
          "new_api": null,
          "old_text": "DCHECK_LE(outstanding_baseline_units_, outstanding_top_tier_functions_)",
          "new_text": null,
          "old_line_content": "  DCHECK_LE(outstanding_baseline_units_, outstanding_top_tier_functions_);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": "callback",
          "new_api": null,
          "old_text": "callback(CompilationEvent::kFinishedBaselineCompilation)",
          "new_text": null,
          "old_line_content": "      callback(CompilationEvent::kFinishedBaselineCompilation);",
          "new_line_content": "  // Trigger callbacks if module needs no baseline or top tier compilation. This",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": "clear",
          "new_api": null,
          "old_text": "callbacks_.clear()",
          "new_text": null,
          "old_line_content": "      callbacks_.clear();",
          "new_line_content": "      for (auto& callback : callbacks_) {",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "failed",
          "new_api": null,
          "old_text": "failed()",
          "new_text": null,
          "old_line_content": "  DCHECK(!failed());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": "FindFunctionsToRecompile",
          "new_api": null,
          "old_text": "native_module_->FindFunctionsToRecompile(new_tiering_state)",
          "new_text": null,
          "old_line_content": "      native_module_->FindFunctionsToRecompile(new_tiering_state);",
          "new_line_content": "  // triggering recompilation, it's OK if the information is slightly outdated.",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "std::move(recompilation_finished_callback)",
          "new_api": null,
          "old_text": "std::move(recompilation_finished_callback)",
          "new_text": null,
          "old_line_content": "    callbacks_.emplace_back(std::move(recompilation_finished_callback));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "size",
          "new_api": null,
          "old_text": "compilation_progress_.size()",
          "new_text": null,
          "old_line_content": "    if (compilation_progress_.size() > 0) {",
          "new_line_content": "    // If compilation progress is not initialized yet, then compilation didn't",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": "module",
          "new_api": null,
          "old_text": "native_module_->module()",
          "new_text": null,
          "old_line_content": "      const WasmModule* module = native_module_->module();",
          "new_line_content": "    // start yet, and new code will be kept tiered-down from the start. For",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": "size",
          "new_api": null,
          "old_text": "compilation_progress_.size()",
          "new_text": null,
          "old_line_content": "      DCHECK_EQ(module->num_declared_functions, compilation_progress_.size());",
          "new_line_content": "    // streaming compilation, there is a special path to tier down later, when",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "size",
          "new_api": null,
          "old_text": "DCHECK_GE(module->num_declared_functions,\n                recompile_function_indexes.size())",
          "new_text": null,
          "old_line_content": "      DCHECK_GE(module->num_declared_functions,",
          "new_line_content": "    // the module is complete. In any case, we don't need to recompile here.",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": "MissingRecompilationField::update(progress, false)",
          "new_api": null,
          "old_text": "MissingRecompilationField::update(progress, false)",
          "new_text": null,
          "old_line_content": "        progress = MissingRecompilationField::update(progress, false);",
          "new_line_content": "      outstanding_recompilation_functions_ =",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": "DCHECK_LE",
          "new_api": null,
          "old_text": "DCHECK_LE(imported, function_index)",
          "new_text": null,
          "old_line_content": "        DCHECK_LE(imported, function_index);",
          "new_line_content": "                          ? ExecutionTier::kLiftoff",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": "MissingRecompilationField::update(progress, true)",
          "new_api": null,
          "old_text": "MissingRecompilationField::update(progress, true)",
          "new_text": null,
          "old_line_content": "        progress = MissingRecompilationField::update(progress, true);",
          "new_line_content": "      for (int function_index : recompile_function_indexes) {",
          "content_same": false
        },
        {
          "line": 2638,
          "old_api": "base::EnumSet<CompilationEvent>(\n          {CompilationEvent::kFinishedRecompilation})",
          "new_api": null,
          "old_text": "base::EnumSet<CompilationEvent>(\n          {CompilationEvent::kFinishedRecompilation})",
          "new_text": null,
          "old_line_content": "      TriggerCallbacks(base::EnumSet<CompilationEvent>(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "Commit",
          "new_api": null,
          "old_text": "builder.Commit()",
          "new_text": null,
          "old_line_content": "  builder.Commit();",
          "new_line_content": "          {CompilationEvent::kFinishedRecompilation}));",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "contains",
          "new_api": null,
          "old_text": "finished_events_.contains(event)",
          "new_text": null,
          "old_line_content": "    if (finished_events_.contains(event)) {",
          "new_line_content": "  // Immediately trigger events that already happened.",
          "content_same": false
        },
        {
          "line": 2653,
          "old_api": "callback",
          "new_api": null,
          "old_text": "callback(event)",
          "new_text": null,
          "old_line_content": "      callback(event);",
          "new_line_content": "  for (auto event : {CompilationEvent::kFinishedBaselineCompilation,",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "contains_any",
          "new_api": null,
          "old_text": "finished_events_.contains_any(kFinalEvents)",
          "new_text": null,
          "old_line_content": "  if (!finished_events_.contains_any(kFinalEvents)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2669,
          "old_api": "empty",
          "new_api": null,
          "old_text": "top_tier_units.empty()",
          "new_text": null,
          "old_line_content": "  if (!baseline_units.empty() || !top_tier_units.empty()) {",
          "new_line_content": "    Vector<WasmCompilationUnit> baseline_units,",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": "AddUnits",
          "new_api": null,
          "old_text": "compilation_unit_queues_.AddUnits(baseline_units, top_tier_units,\n                                      native_module_->module())",
          "new_text": null,
          "old_line_content": "    compilation_unit_queues_.AddUnits(baseline_units, top_tier_units,",
          "new_line_content": "    Vector<WasmCompilationUnit> top_tier_units,",
          "content_same": false
        },
        {
          "line": 2671,
          "old_api": "module",
          "new_api": null,
          "old_text": "native_module_->module()",
          "new_text": null,
          "old_line_content": "                                      native_module_->module());",
          "new_line_content": "    Vector<std::shared_ptr<JSToWasmWrapperCompilationUnit>>",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": "fetch_add",
          "new_api": null,
          "old_text": "js_to_wasm_wrapper_id_.fetch_add(1, std::memory_order_relaxed)",
          "new_text": null,
          "old_line_content": "      js_to_wasm_wrapper_id_.fetch_add(1, std::memory_order_relaxed);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "size",
          "new_api": null,
          "old_text": "js_to_wasm_wrapper_units_.size()",
          "new_text": null,
          "old_line_content": "  if (wrapper_id < static_cast<int>(js_to_wasm_wrapper_units_.size())) {",
          "new_line_content": "std::shared_ptr<JSToWasmWrapperCompilationUnit>",
          "content_same": false
        },
        {
          "line": 2697,
          "old_api": "factory",
          "new_api": null,
          "old_text": "isolate->factory()->NewFixedArray(\n      MaxNumExportWrappers(module), AllocationType::kOld)",
          "new_text": null,
          "old_line_content": "  *export_wrappers_out = isolate->factory()->NewFixedArray(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": "MaxNumExportWrappers",
          "new_api": null,
          "old_text": "MaxNumExportWrappers(module)",
          "new_text": null,
          "old_line_content": "      MaxNumExportWrappers(module), AllocationType::kOld);",
          "new_line_content": "void CompilationStateImpl::FinalizeJSToWasmWrappers(",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "size",
          "new_api": null,
          "old_text": "js_to_wasm_wrapper_units_.size()",
          "new_text": null,
          "old_line_content": "               js_to_wasm_wrapper_units_.size());",
          "new_line_content": "  // optimization we keep the code space unlocked to avoid repeated unlocking",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": "heap",
          "new_api": null,
          "old_text": "isolate->heap()",
          "new_text": null,
          "old_line_content": "  CodeSpaceMemoryModificationScope modification_scope(isolate->heap());",
          "new_line_content": "  // because many such wrapper are allocated in sequence below.",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": "Finalize",
          "new_api": null,
          "old_text": "unit->Finalize(isolate)",
          "new_text": null,
          "old_line_content": "    Handle<Code> code = unit->Finalize(isolate);",
          "new_line_content": "               \"wasm.FinalizeJSToWasmWrappers\", \"num_wrappers\",",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": "set",
          "new_api": null,
          "old_text": "*export_wrappers_out)->set(wrapper_index, *code)",
          "new_text": null,
          "old_line_content": "    (*export_wrappers_out)->set(wrapper_index, *code);",
          "new_line_content": "  for (auto& unit : js_to_wasm_wrapper_units_) {",
          "content_same": false
        },
        {
          "line": 2718,
          "old_api": "GetNextUnit",
          "new_api": null,
          "old_text": "compilation_unit_queues_.GetNextUnit(task_id, baseline_only)",
          "new_text": null,
          "old_line_content": "  return compilation_unit_queues_.GetNextUnit(task_id, baseline_only);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": "size",
          "new_api": null,
          "old_text": "code_vector.size()",
          "new_text": null,
          "old_line_content": "               \"wasm.OnFinishedUnits\", \"num_units\", code_vector.size());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2743,
          "old_api": "size",
          "new_api": null,
          "old_text": "compilation_progress_.size()",
          "new_text": null,
          "old_line_content": "  DCHECK_EQ(compilation_progress_.size(),",
          "new_line_content": "                    ExecutionTier::kInterpreter < ExecutionTier::kLiftoff &&",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "module",
          "new_api": null,
          "old_text": "native_module_->module()",
          "new_text": null,
          "old_line_content": "            native_module_->module()->num_declared_functions);",
          "new_line_content": "                    ExecutionTier::kLiftoff < ExecutionTier::kTurbofan,",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": "DCHECK_NOT_NULL",
          "new_api": null,
          "old_text": "DCHECK_NOT_NULL(code)",
          "new_text": null,
          "old_line_content": "    DCHECK_NOT_NULL(code);",
          "new_line_content": "  base::EnumSet<CompilationEvent> triggered_events;",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "num_functions",
          "new_api": null,
          "old_text": "native_module_->num_functions()",
          "new_text": null,
          "old_line_content": "    DCHECK_LT(code->index(), native_module_->num_functions());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "num_imported_functions",
          "new_api": null,
          "old_text": "native_module_->num_imported_functions()",
          "new_text": null,
          "old_line_content": "    if (code->index() < native_module_->num_imported_functions()) {",
          "new_line_content": "    WasmCode* code = code_vector[i];",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": "index",
          "new_api": null,
          "old_text": "code->index()",
          "new_text": null,
          "old_line_content": "          declared_function_index(native_module_->module(), code->index());",
          "new_line_content": "      // This view on the compilation progress may differ from the actually",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "RequiredBaselineTierField::decode(function_progress)",
          "new_api": null,
          "old_text": "RequiredBaselineTierField::decode(function_progress)",
          "new_text": null,
          "old_line_content": "          RequiredBaselineTierField::decode(function_progress);",
          "new_line_content": "      int slot_index =",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": "RequiredTopTierField::decode(function_progress)",
          "new_api": null,
          "old_text": "RequiredTopTierField::decode(function_progress)",
          "new_text": null,
          "old_line_content": "          RequiredTopTierField::decode(function_progress);",
          "new_line_content": "      uint8_t function_progress = compilation_progress_[slot_index];",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": "ReachedTierField::decode(function_progress)",
          "new_api": null,
          "old_text": "ReachedTierField::decode(function_progress)",
          "new_text": null,
          "old_line_content": "      ExecutionTier reached_tier = ReachedTierField::decode(function_progress);",
          "new_line_content": "      ExecutionTier required_baseline_tier =",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": "DCHECK_GT",
          "new_api": null,
          "old_text": "DCHECK_GT(outstanding_baseline_units_, 0)",
          "new_text": null,
          "old_line_content": "        DCHECK_GT(outstanding_baseline_units_, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "DCHECK_GT",
          "new_api": null,
          "old_text": "DCHECK_GT(outstanding_top_tier_functions_, 0)",
          "new_text": null,
          "old_line_content": "        DCHECK_GT(outstanding_top_tier_functions_, 0);",
          "new_line_content": "        outstanding_baseline_units_--;",
          "content_same": false
        },
        {
          "line": 2787,
          "old_api": "DCHECK_LT",
          "new_api": null,
          "old_text": "DCHECK_LT(0, outstanding_recompilation_functions_)",
          "new_text": null,
          "old_line_content": "        DCHECK_LT(0, outstanding_recompilation_functions_);",
          "new_line_content": "        outstanding_top_tier_functions_--;",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "for_debugging",
          "new_api": null,
          "old_text": "code->for_debugging()",
          "new_text": null,
          "old_line_content": "                           ? code->for_debugging()",
          "new_line_content": "        // the {for_debugging} flag. The tier can be Liftoff or TurboFan and is",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": "tier",
          "new_api": null,
          "old_text": "code->tier()",
          "new_text": null,
          "old_line_content": "                           : code->tier() == ExecutionTier::kTurbofan;",
          "new_line_content": "        // irrelevant here. In particular, we want to ignore any outstanding",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": "Add",
          "new_api": null,
          "old_text": "triggered_events.Add(CompilationEvent::kFinishedRecompilation)",
          "new_text": null,
          "old_line_content": "            triggered_events.Add(CompilationEvent::kFinishedRecompilation);",
          "new_line_content": "          outstanding_recompilation_functions_--;",
          "content_same": false
        },
        {
          "line": 2806,
          "old_api": "tier",
          "new_api": null,
          "old_text": "code->tier()",
          "new_text": null,
          "old_line_content": "      if (code->tier() > reached_tier) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": "tier",
          "new_api": null,
          "old_text": "ReachedTierField::update(\n            compilation_progress_[slot_index], code->tier())",
          "new_text": null,
          "old_line_content": "        compilation_progress_[slot_index] = ReachedTierField::update(",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 2808,
          "old_api": "tier",
          "new_api": null,
          "old_text": "code->tier()",
          "new_text": null,
          "old_line_content": "            compilation_progress_[slot_index], code->tier());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "DCHECK_GE",
          "new_api": null,
          "old_text": "DCHECK_GE(outstanding_baseline_units_, num)",
          "new_text": null,
          "old_line_content": "  DCHECK_GE(outstanding_baseline_units_, num);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": "TriggerCallbacks",
          "new_api": null,
          "old_text": "TriggerCallbacks()",
          "new_text": null,
          "old_line_content": "  TriggerCallbacks();",
          "new_line_content": "  if (num == 0) return;",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": "TryLock",
          "new_api": null,
          "old_text": "callbacks_mutex_.TryLock()",
          "new_text": null,
          "old_line_content": "  DCHECK(!callbacks_mutex_.TryLock());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": "Add",
          "new_api": null,
          "old_text": "triggered_events.Add(CompilationEvent::kFinishedBaselineCompilation)",
          "new_text": null,
          "old_line_content": "    triggered_events.Add(CompilationEvent::kFinishedBaselineCompilation);",
          "new_line_content": "    base::EnumSet<CompilationEvent> triggered_events) {",
          "content_same": false
        },
        {
          "line": 2832,
          "old_api": "Add",
          "new_api": null,
          "old_text": "triggered_events.Add(CompilationEvent::kFinishedTopTierCompilation)",
          "new_text": null,
          "old_line_content": "      triggered_events.Add(CompilationEvent::kFinishedTopTierCompilation);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2845,
          "old_api": "std::make_pair(CompilationEvent::kFinishedBaselineCompilation,\n                       \"wasm.BaselineFinished\")",
          "new_api": null,
          "old_text": "std::make_pair(CompilationEvent::kFinishedBaselineCompilation,\n                       \"wasm.BaselineFinished\")",
          "new_text": null,
          "old_line_content": "       {std::make_pair(CompilationEvent::kFinishedBaselineCompilation,",
          "new_line_content": "  finished_events_ |=",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": "std::make_pair(CompilationEvent::kFinishedTopTierCompilation,\n                       \"wasm.TopTierFinished\")",
          "new_api": null,
          "old_text": "std::make_pair(CompilationEvent::kFinishedTopTierCompilation,\n                       \"wasm.TopTierFinished\")",
          "new_text": null,
          "old_line_content": "        std::make_pair(CompilationEvent::kFinishedTopTierCompilation,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": "TRACE_EVENT0",
          "new_api": null,
          "old_text": "TRACE_EVENT0(\"v8.wasm\", event.second)",
          "new_text": null,
          "old_line_content": "    TRACE_EVENT0(\"v8.wasm\", event.second);",
          "new_line_content": "                       \"wasm.TopTierFinished\"),",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": "callback",
          "new_api": null,
          "old_text": "callback(event.first)",
          "new_text": null,
          "old_line_content": "      callback(event.first);",
          "new_line_content": "                       \"wasm.RecompilationFinished\")}) {",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": "clear",
          "new_api": null,
          "old_text": "callbacks_.clear()",
          "new_text": null,
          "old_line_content": "    callbacks_.clear();",
          "new_line_content": "  if (outstanding_baseline_units_ == 0 &&",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "begin",
          "new_api": null,
          "old_text": "available_task_ids_.begin()",
          "new_text": null,
          "old_line_content": "    DCHECK_EQ(0, std::count(available_task_ids_.begin(),",
          "new_line_content": "void CompilationStateImpl::OnBackgroundTaskStopped(",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": "end",
          "new_api": null,
          "old_text": "available_task_ids_.end()",
          "new_text": null,
          "old_line_content": "                            available_task_ids_.end(), task_id));",
          "new_line_content": "    int task_id, const WasmFeatures& detected) {",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": "size",
          "new_api": null,
          "old_text": "available_task_ids_.size()",
          "new_text": null,
          "old_line_content": "    DCHECK_GT(max_background_tasks_, available_task_ids_.size());",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "available_task_ids_.push_back(task_id)",
          "new_text": null,
          "old_line_content": "    available_task_ids_.push_back(task_id);",
          "new_line_content": "    base::MutexGuard guard(&mutex_);",
          "content_same": false
        },
        {
          "line": 2880,
          "old_api": "RestartBackgroundTasks",
          "new_api": null,
          "old_text": "RestartBackgroundTasks()",
          "new_text": null,
          "old_line_content": "  RestartBackgroundTasks();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": "Add",
          "new_api": null,
          "old_text": "detected_features_.Add(detected)",
          "new_text": null,
          "old_line_content": "  detected_features_.Add(detected);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "UpdateFeatureUseCounts",
          "new_api": null,
          "old_text": "UpdateFeatureUseCounts(isolate, detected_features_)",
          "new_text": null,
          "old_line_content": "  UpdateFeatureUseCounts(isolate, detected_features_);",
          "new_line_content": "  // Notifying the isolate of the feature counts must take place under",
          "content_same": false
        },
        {
          "line": 2906,
          "old_api": "empty",
          "new_api": null,
          "old_text": "available_task_ids_.empty()",
          "new_text": null,
          "old_line_content": "    if (available_task_ids_.empty()) return;",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 2908,
          "old_api": "failed",
          "new_api": null,
          "old_text": "failed()",
          "new_text": null,
          "old_line_content": "    if (failed()) return;",
          "new_line_content": "    // Explicit fast path (quite common): If no more task ids are available",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": "empty",
          "new_api": null,
          "old_text": "available_task_ids_.empty()",
          "new_text": null,
          "old_line_content": "    while (!available_task_ids_.empty() && max_num_restart-- > 0) {",
          "new_line_content": "      max_num_restart +=",
          "content_same": false
        },
        {
          "line": 2919,
          "old_api": "pop_back",
          "new_api": null,
          "old_text": "available_task_ids_.pop_back()",
          "new_text": null,
          "old_line_content": "      available_task_ids_.pop_back();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": "emplace_back",
          "new_api": null,
          "old_text": "new_tasks.emplace_back(\n          native_module_->engine()\n              ->NewBackgroundCompileTask<BackgroundCompileTask>(\n                  background_compile_token_, async_counters_, task_id))",
          "new_text": null,
          "old_line_content": "      new_tasks.emplace_back(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": "recompilation_finished",
          "new_api": null,
          "old_text": "recompilation_finished()",
          "new_text": null,
          "old_line_content": "  if (baseline_compilation_finished() && recompilation_finished()) {",
          "new_line_content": "                  background_compile_token_, async_counters_, task_id));",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": "CallLowPriorityTaskOnWorkerThread",
          "new_api": null,
          "old_text": "V8::GetCurrentPlatform()->CallLowPriorityTaskOnWorkerThread(\n          std::move(task))",
          "new_text": null,
          "old_line_content": "      V8::GetCurrentPlatform()->CallLowPriorityTaskOnWorkerThread(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2930,
          "old_api": "std::move(task)",
          "new_api": null,
          "old_text": "std::move(task)",
          "new_text": null,
          "old_line_content": "          std::move(task));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2941,
          "old_api": "compare_exchange_strong",
          "new_api": null,
          "old_text": "compile_failed_.compare_exchange_strong(expected, true,\n                                               std::memory_order_relaxed)",
          "new_text": null,
          "old_line_content": "  if (!compile_failed_.compare_exchange_strong(expected, true,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2948,
          "old_api": "callback",
          "new_api": null,
          "old_text": "callback(CompilationEvent::kFailedCompilation)",
          "new_text": null,
          "old_line_content": "    callback(CompilationEvent::kFailedCompilation);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": "clear",
          "new_api": null,
          "old_text": "callbacks_.clear()",
          "new_text": null,
          "old_line_content": "  callbacks_.clear();",
          "new_line_content": "  for (auto& callback : callbacks_) {",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": "pop",
          "new_api": null,
          "old_text": "queue_->pop()",
          "new_text": null,
          "old_line_content": "    while (base::Optional<JSToWasmWrapperKey> key = queue_->pop()) {",
          "new_line_content": "        queue_(queue),",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "get",
          "new_api": null,
          "old_text": "*compilation_units_)[*key].get()",
          "new_text": null,
          "old_line_content": "      JSToWasmWrapperCompilationUnit* unit = (*compilation_units_)[*key].get();",
          "new_line_content": "        compilation_units_(compilation_units) {}",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": "Execute",
          "new_api": null,
          "old_text": "unit->Execute()",
          "new_text": null,
          "old_line_content": "      unit->Execute();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": "factory",
          "new_api": null,
          "old_text": "isolate->factory()->NewFixedArray(\n      MaxNumExportWrappers(module), AllocationType::kOld)",
          "new_text": null,
          "old_line_content": "  *export_wrappers_out = isolate->factory()->NewFixedArray(",
          "new_line_content": "}  // namespace",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "MaxNumExportWrappers",
          "new_api": null,
          "old_text": "MaxNumExportWrappers(module)",
          "new_text": null,
          "old_line_content": "      MaxNumExportWrappers(module), AllocationType::kOld);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2998,
          "old_api": "insert",
          "new_api": null,
          "old_text": "queue.insert(key)",
          "new_text": null,
          "old_line_content": "    if (queue.insert(key)) {",
          "new_line_content": "  for (auto exp : module->export_table) {",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "std::make_unique<JSToWasmWrapperCompilationUnit>(\n          isolate, isolate->wasm_engine(), function.sig, function.imported,\n          enabled_features)",
          "new_text": null,
          "old_line_content": "      auto unit = std::make_unique<JSToWasmWrapperCompilationUnit>(",
          "new_line_content": "    if (exp.kind != kExternalFunction) continue;",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate->wasm_engine()",
          "new_text": null,
          "old_line_content": "          isolate, isolate->wasm_engine(), function.sig, function.imported,",
          "new_line_content": "    auto& function = module->functions[exp.index];",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "GetMaxBackgroundTasks",
          "new_api": null,
          "old_text": "GetMaxBackgroundTasks()",
          "new_text": null,
          "old_line_content": "  const int max_background_tasks = GetMaxBackgroundTasks();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": "std::make_unique<CompileJSToWasmWrapperTask>(\n        &task_manager, &queue, &compilation_units)",
          "new_api": null,
          "old_text": "std::make_unique<CompileJSToWasmWrapperTask>(\n        &task_manager, &queue, &compilation_units)",
          "new_text": null,
          "old_line_content": "    auto task = std::make_unique<CompileJSToWasmWrapperTask>(",
          "new_line_content": "  // Execute compilation jobs in the background.",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": "get",
          "new_api": null,
          "old_text": "compilation_units[*key].get()",
          "new_text": null,
          "old_line_content": "    JSToWasmWrapperCompilationUnit* unit = compilation_units[*key].get();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": "Execute",
          "new_api": null,
          "old_text": "unit->Execute()",
          "new_text": null,
          "old_line_content": "    unit->Execute();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": "heap",
          "new_api": null,
          "old_text": "isolate->heap()",
          "new_text": null,
          "old_line_content": "  CodeSpaceMemoryModificationScope modification_scope(isolate->heap());",
          "new_line_content": "  // Finalize compilation jobs in the main thread.",
          "content_same": false
        },
        {
          "line": 3029,
          "old_api": "get",
          "new_api": null,
          "old_text": "pair.second.get()",
          "new_text": null,
          "old_line_content": "    JSToWasmWrapperCompilationUnit* unit = pair.second.get();",
          "new_line_content": "  // because many such wrapper are allocated in sequence below.",
          "content_same": false
        },
        {
          "line": 3031,
          "old_api": "GetExportWrapperIndex",
          "new_api": null,
          "old_text": "GetExportWrapperIndex(module, &key.second, key.first)",
          "new_text": null,
          "old_line_content": "    int wrapper_index = GetExportWrapperIndex(module, &key.second, key.first);",
          "new_line_content": "  for (auto& pair : compilation_units) {",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": "set",
          "new_api": null,
          "old_text": "*export_wrappers_out)->set(wrapper_index, *code)",
          "new_text": null,
          "old_line_content": "    (*export_wrappers_out)->set(wrapper_index, *code);",
          "new_line_content": "    JSToWasmWrapperKey key = pair.first;",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": "DCHECK_NULL",
          "new_api": null,
          "old_text": "DCHECK_NULL((*cache_scope)[key])",
          "new_text": null,
          "old_line_content": "  DCHECK_NULL((*cache_scope)[key]);",
          "new_line_content": "  // Entry should exist, so that we don't insert a new one and invalidate",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": "module",
          "new_api": null,
          "old_text": "native_module->module()",
          "new_text": null,
          "old_line_content": "  bool source_positions = is_asmjs_module(native_module->module());",
          "new_line_content": "  // other threads' iterators/references, but it should not have been compiled",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": "as_vector",
          "new_api": null,
          "old_text": "native_module->AddCode(\n      result.func_index, result.code_desc, result.frame_slot_count,\n      result.tagged_parameter_slots,\n      result.protected_instructions_data.as_vector(),\n      result.source_positions.as_vector(), GetCodeKind(result),\n      ExecutionTier::kNone, kNoDebugging)",
          "new_text": null,
          "old_line_content": "  std::unique_ptr<WasmCode> wasm_code = native_module->AddCode(",
          "new_line_content": "  WasmCodeRefScope code_ref_scope;",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": "as_vector",
          "new_api": null,
          "old_text": "result.protected_instructions_data.as_vector()",
          "new_text": null,
          "old_line_content": "      result.protected_instructions_data.as_vector(),",
          "new_line_content": "      wasm_engine, &env, kind, sig, source_positions);",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": "std::move(wasm_code)",
          "new_api": null,
          "old_text": "std::move(wasm_code)",
          "new_text": null,
          "old_line_content": "  WasmCode* published_code = native_module->PublishCode(std::move(wasm_code));",
          "new_line_content": "      result.tagged_parameter_slots,",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "length",
          "new_api": null,
          "old_text": "counters->wasm_generated_code_size()->Increment(\n      published_code->instructions().length())",
          "new_text": null,
          "old_line_content": "  counters->wasm_generated_code_size()->Increment(",
          "new_line_content": "      ExecutionTier::kNone, kNoDebugging);",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": "length",
          "new_api": null,
          "old_text": "published_code->reloc_info().length()",
          "new_text": null,
          "old_line_content": "  counters->wasm_reloc_size()->Increment(published_code->reloc_info().length());",
          "new_line_content": "  (*cache_scope)[key] = published_code;",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "module_bytes",
          "new_api": null,
          "old_text": "wire_bytes.module_bytes()",
          "new_text": null,
          "old_line_content": "          wasm_module->origin, wire_bytes.module_bytes(), isolate);",
          "new_line_content": "  // Prefer {wire_bytes_copy} to {wire_bytes.module_bytes()} for the temporary",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "CompileJsToWasmWrappers",
          "new_api": null,
          "old_text": "CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out)",
          "new_text": null,
          "old_line_content": "    CompileJsToWasmWrappers(isolate, wasm_module, export_wrappers_out);",
          "new_line_content": "  // we can skip the full bytes comparison.",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "counters",
          "new_api": null,
          "old_text": "SELECT_WASM_COUNTER(\n      isolate->counters(), wasm_module->origin, wasm_compile, module_time)",
          "new_text": null,
          "old_line_content": "  TimedHistogramScope wasm_compile_module_time_scope(SELECT_WASM_COUNTER(",
          "new_line_content": "  if (native_module) {",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate->counters()",
          "new_text": null,
          "old_line_content": "      isolate->counters(), wasm_module->origin, wasm_compile, module_time));",
          "new_line_content": "    // TODO(thibaudm): Look into sharing export wrappers.",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "CountUsage",
          "new_api": null,
          "old_text": "isolate->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory)",
          "new_text": null,
          "old_line_content": "    isolate->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "module_bytes",
          "new_api": null,
          "old_text": "wire_bytes.module_bytes()",
          "new_text": null,
          "old_line_content": "      OwnedVector<uint8_t>::Of(wire_bytes.module_bytes());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "get",
          "new_api": null,
          "old_text": "module.get()",
          "new_text": null,
          "old_line_content": "      wasm::WasmCodeManager::EstimateNativeModuleCodeSize(module.get(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate->wasm_engine()->NewNativeModule(\n      isolate, enabled, module, code_size_estimate)",
          "new_text": null,
          "old_line_content": "  native_module = isolate->wasm_engine()->NewNativeModule(",
          "new_line_content": "  const bool uses_liftoff = module->origin == kWasmOrigin && FLAG_liftoff;",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate->wasm_engine()->UpdateNativeModuleCache(\n      thrower->error(), &native_module, isolate)",
          "new_text": null,
          "old_line_content": "  bool cache_hit = !isolate->wasm_engine()->UpdateNativeModuleCache(",
          "new_line_content": "      isolate, enabled, module, code_size_estimate);",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "error",
          "new_api": null,
          "old_text": "thrower->error()",
          "new_text": null,
          "old_line_content": "  if (thrower->error()) return {};",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "compilation_state",
          "new_api": null,
          "old_text": "native_module->compilation_state()",
          "new_text": null,
          "old_line_content": "  Impl(native_module->compilation_state())",
          "new_line_content": "  if (cache_hit) {",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "std::make_shared<base::Semaphore>(0)",
          "new_api": null,
          "old_text": "std::make_shared<base::Semaphore>(0)",
          "new_text": null,
          "old_line_content": "  auto recompilation_finished_semaphore = std::make_shared<base::Semaphore>(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "compilation_state",
          "new_api": null,
          "old_text": "native_module->compilation_state()",
          "new_text": null,
          "old_line_content": "  auto* compilation_state = Impl(native_module->compilation_state());",
          "new_line_content": "void RecompileNativeModule(NativeModule* native_module,",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "constexpr",
          "new_api": null,
          "old_text": "constexpr",
          "new_text": null,
          "old_line_content": "  constexpr Counters* kNoCounters = nullptr;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "background_compile_token",
          "new_api": null,
          "old_text": "compilation_state->background_compile_token()",
          "new_text": null,
          "old_line_content": "  while (ExecuteCompilationUnits(compilation_state->background_compile_token(),",
          "new_line_content": "      });",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": "Wait",
          "new_api": null,
          "old_text": "recompilation_finished_semaphore->Wait()",
          "new_text": null,
          "old_line_content": "  recompilation_finished_semaphore->Wait();",
          "new_line_content": "    // Continue executing compilation units.",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "failed",
          "new_api": null,
          "old_text": "compilation_state->failed()",
          "new_text": null,
          "old_line_content": "  DCHECK(!compilation_state->failed());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "base::TimeTicks::Now()",
          "new_api": null,
          "old_text": "base::TimeTicks::Now()",
          "new_text": null,
          "old_line_content": "      start_time_(base::TimeTicks::Now()),",
          "new_line_content": "    : isolate_(isolate),",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "std::move(bytes_copy)",
          "new_api": null,
          "old_text": "std::move(bytes_copy)",
          "new_text": null,
          "old_line_content": "      bytes_copy_(std::move(bytes_copy)),",
          "new_line_content": "      api_method_name_(api_method_name),",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "get",
          "new_api": null,
          "old_text": "bytes_copy_.get()",
          "new_text": null,
          "old_line_content": "      wire_bytes_(bytes_copy_.get(), bytes_copy_.get() + length),",
          "new_line_content": "      enabled_features_(enabled),",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "std::move(resolver)",
          "new_api": null,
          "old_text": "std::move(resolver)",
          "new_text": null,
          "old_line_content": "      resolver_(std::move(resolver)) {",
          "new_line_content": "      wasm_lazy_compilation_(FLAG_wasm_lazy_compilation),",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "V8::GetCurrentPlatform()",
          "new_api": null,
          "old_text": "V8::GetCurrentPlatform()",
          "new_text": null,
          "old_line_content": "  v8::Platform* platform = V8::GetCurrentPlatform();",
          "new_line_content": "               \"wasm.AsyncCompileJob\");",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "new_text": null,
          "old_line_content": "  isolate_->wasm_engine()->RemoveCompileJob(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit AsyncStreamingProcessor(AsyncCompileJob* job,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "DCHECK_NULL",
          "new_api": null,
          "old_text": "DCHECK_NULL(stream_)",
          "new_text": null,
          "old_line_content": "  DCHECK_NULL(stream_);",
          "new_line_content": "  size_t prefix_hash_;",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": "async_counters",
          "new_api": null,
          "old_text": "StreamingDecoder::CreateAsyncStreamingDecoder(\n      std::make_unique<AsyncStreamingProcessor>(\n          this, isolate_->async_counters(), isolate_->allocator()))",
          "new_text": null,
          "old_line_content": "  stream_ = StreamingDecoder::CreateAsyncStreamingDecoder(",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "async_counters",
          "new_api": null,
          "old_text": "std::make_unique<AsyncStreamingProcessor>(\n          this, isolate_->async_counters(), isolate_->allocator())",
          "new_text": null,
          "old_line_content": "      std::make_unique<AsyncStreamingProcessor>(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "allocator",
          "new_api": null,
          "old_text": "isolate_->allocator()",
          "new_text": null,
          "old_line_content": "          this, isolate_->async_counters(), isolate_->allocator()));",
          "new_line_content": "std::shared_ptr<StreamingDecoder> AsyncCompileJob::CreateStreamingDecoder() {",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "CancelAndWait",
          "new_api": null,
          "old_text": "background_task_manager_.CancelAndWait()",
          "new_text": null,
          "old_line_content": "  background_task_manager_.CancelAndWait();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "module_object_.is_null()",
          "new_text": null,
          "old_line_content": "  if (native_module_ && module_object_.is_null()) {",
          "new_line_content": "  // Note: This destructor always runs on the foreground thread of the isolate.",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": "NotifyCompilationEnded",
          "new_api": null,
          "old_text": "stream_->NotifyCompilationEnded()",
          "new_text": null,
          "old_line_content": "  if (stream_) stream_->NotifyCompilationEnded();",
          "new_line_content": "  // Tell the streaming decoder that the AsyncCompileJob is not available",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "CancelPendingForegroundTask",
          "new_api": null,
          "old_text": "CancelPendingForegroundTask()",
          "new_text": null,
          "old_line_content": "  CancelPendingForegroundTask();",
          "new_line_content": "  // anymore.",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "location",
          "new_api": null,
          "old_text": "native_context_.location()",
          "new_text": null,
          "old_line_content": "  isolate_->global_handles()->Destroy(native_context_.location());",
          "new_line_content": "  // TODO(ahaas): Is this notification really necessary? Check",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "module_object_.is_null()",
          "new_text": null,
          "old_line_content": "  if (!module_object_.is_null()) {",
          "new_line_content": "  // https://crbug.com/888170.",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "CountUsage",
          "new_api": null,
          "old_text": "isolate_->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory)",
          "new_text": null,
          "old_line_content": "    isolate_->CountUsage(v8::Isolate::UseCounterFeature::kWasmSharedMemory);",
          "new_line_content": "void AsyncCompileJob::CreateNativeModule(",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->NewNativeModule(\n      isolate_, enabled_features_, std::move(module), code_size_estimate)",
          "new_text": null,
          "old_line_content": "  native_module_ = isolate_->wasm_engine()->NewNativeModule(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "std::move(module)",
          "new_api": null,
          "old_text": "std::move(module)",
          "new_text": null,
          "old_line_content": "      isolate_, enabled_features_, std::move(module), code_size_estimate);",
          "new_line_content": "  // Create the module object and populate with compiled functions and",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "length",
          "new_api": null,
          "old_text": "wire_bytes_.length()",
          "new_text": null,
          "old_line_content": "  native_module_->SetWireBytes({std::move(bytes_copy_), wire_bytes_.length()});",
          "new_line_content": "  // information needed at instantiation time.",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "module_bytes",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->MaybeGetNativeModule(\n      module->origin, wire_bytes_.module_bytes(), isolate_)",
          "new_text": null,
          "old_line_content": "  native_module_ = isolate_->wasm_engine()->MaybeGetNativeModule(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "module_bytes",
          "new_api": null,
          "old_text": "wire_bytes_.module_bytes()",
          "new_text": null,
          "old_line_content": "      module->origin, wire_bytes_.module_bytes(), isolate_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "std::move(module)",
          "new_api": null,
          "old_text": "std::move(module)",
          "new_text": null,
          "old_line_content": "    CreateNativeModule(std::move(module), code_size_estimate);",
          "new_line_content": "    std::shared_ptr<const WasmModule> module, size_t code_size_estimate) {",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "module_object_.is_null()",
          "new_text": null,
          "old_line_content": "  DCHECK(module_object_.is_null());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "Vector<const char>()",
          "new_api": null,
          "old_text": "Vector<const char>()",
          "new_text": null,
          "old_line_content": "  auto source_url = stream_ ? stream_->url() : Vector<const char>();",
          "new_line_content": "void AsyncCompileJob::PrepareRuntimeObjects() {",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->GetOrCreateScript(\n      isolate_, native_module_, source_url)",
          "new_text": null,
          "old_line_content": "  auto script = isolate_->wasm_engine()->GetOrCreateScript(",
          "new_line_content": "  // Create heap objects for script and module bytes to be stored in the",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "global_handles",
          "new_api": null,
          "old_text": "isolate_->global_handles()->Create(*module_object)",
          "new_text": null,
          "old_line_content": "  module_object_ = isolate_->global_handles()->Create(*module_object);",
          "new_line_content": "      isolate_, native_module_, source_url);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": null,
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": null,
          "old_line_content": "  TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "module_object_.is_null()",
          "new_text": null,
          "old_line_content": "  bool is_after_deserialization = !module_object_.is_null();",
          "new_line_content": "// context is set on the isolate.",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "compilation_state",
          "new_api": null,
          "old_text": "native_module_->compilation_state()",
          "new_text": null,
          "old_line_content": "  auto compilation_state = Impl(native_module_->compilation_state());",
          "new_line_content": "void AsyncCompileJob::FinishCompile(bool is_after_cache_hit) {",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "PrepareRuntimeObjects",
          "new_api": null,
          "old_text": "PrepareRuntimeObjects()",
          "new_text": null,
          "old_line_content": "    PrepareRuntimeObjects();",
          "new_line_content": "  if (!is_after_deserialization) {",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "base::TimeTicks::Now()",
          "new_api": null,
          "old_text": "base::TimeTicks::Now()",
          "new_text": null,
          "old_line_content": "    base::TimeDelta duration = base::TimeTicks::Now() - start_time_;",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "InMicroseconds",
          "new_api": null,
          "old_text": "duration.InMicroseconds()",
          "new_text": null,
          "old_line_content": "    int duration_usecs = static_cast<int>(duration.InMicroseconds());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "counters",
          "new_api": null,
          "old_text": "isolate_->counters()->wasm_streaming_finish_wasm_module_time()->AddSample(\n        duration_usecs)",
          "new_text": null,
          "old_line_content": "    isolate_->counters()->wasm_streaming_finish_wasm_module_time()->AddSample(",
          "new_line_content": "  // Measure duration of baseline compilation or deserialization from cache.",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "script",
          "new_api": null,
          "old_text": "module_object_->script()",
          "new_text": null,
          "old_line_content": "  Handle<Script> script(module_object_->script(), isolate_);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "module",
          "new_api": null,
          "old_text": "module_object_->module()",
          "new_text": null,
          "old_line_content": "  const WasmModule* module = module_object_->module();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "GetNameOrNull",
          "new_api": null,
          "old_text": "wire_bytes.GetNameOrNull(module->debug_symbols.external_url)",
          "new_text": null,
          "old_line_content": "        wire_bytes.GetNameOrNull(module->debug_symbols.external_url),",
          "new_line_content": "      module->debug_symbols.type == WasmDebugSymbols::Type::SourceMap &&",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": null,
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": null,
          "old_line_content": "    TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "        AllocationType::kOld);",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": "debug",
          "new_api": null,
          "old_text": "isolate_->debug()->OnAfterCompile(script)",
          "new_text": null,
          "old_line_content": "    isolate_->debug()->OnAfterCompile(script);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "CompileJsToWasmWrappers",
          "new_api": null,
          "old_text": "CompileJsToWasmWrappers(isolate_, module, &export_wrappers)",
          "new_text": null,
          "old_line_content": "      CompileJsToWasmWrappers(isolate_, module, &export_wrappers);",
          "new_line_content": "  if (!is_after_deserialization) {",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "FinalizeJSToWasmWrappers",
          "new_api": null,
          "old_text": "compilation_state->FinalizeJSToWasmWrappers(isolate_, module,\n                                                  &export_wrappers)",
          "new_text": null,
          "old_line_content": "      compilation_state->FinalizeJSToWasmWrappers(isolate_, module,",
          "new_line_content": "    if (is_after_cache_hit) {",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "set_export_wrappers",
          "new_api": null,
          "old_text": "module_object_->set_export_wrappers(*export_wrappers)",
          "new_text": null,
          "old_line_content": "    module_object_->set_export_wrappers(*export_wrappers);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "PublishDetectedFeatures",
          "new_api": null,
          "old_text": "compilation_state->PublishDetectedFeatures(isolate_)",
          "new_text": null,
          "old_line_content": "  compilation_state->PublishDetectedFeatures(isolate_);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "FinishModule",
          "new_api": null,
          "old_text": "FinishModule()",
          "new_text": null,
          "old_line_content": "  FinishModule();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "CompileFailed",
          "new_api": null,
          "old_text": "thrower.CompileFailed(error)",
          "new_text": null,
          "old_line_content": "  thrower.CompileFailed(error);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "new_text": null,
          "old_line_content": "      isolate_->wasm_engine()->RemoveCompileJob(this);",
          "new_line_content": "  ErrorThrower thrower(isolate_, api_method_name_);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "module",
          "new_api": null,
          "old_text": "native_module_->module()",
          "new_text": null,
          "old_line_content": "  DCHECK_EQ(native_module_->module()->origin, kWasmOrigin);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "get",
          "new_api": null,
          "old_text": "native_module_.get()",
          "new_text": null,
          "old_line_content": "  ValidateSequentially(native_module_->module(), native_module_.get(),",
          "new_line_content": "void AsyncCompileJob::AsyncCompileFailed() {",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "allocator",
          "new_api": null,
          "old_text": "isolate_->allocator()",
          "new_text": null,
          "old_line_content": "                       isolate_->counters(), isolate_->allocator(), &thrower,",
          "new_line_content": "  ErrorThrower thrower(isolate_, api_method_name_);",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "error",
          "new_api": null,
          "old_text": "thrower.error()",
          "new_text": null,
          "old_line_content": "  DCHECK(thrower.error());",
          "new_line_content": "  const bool lazy_module = wasm_lazy_compilation_;",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "isolate_->wasm_engine()->RemoveCompileJob(this)",
          "new_text": null,
          "old_line_content": "      isolate_->wasm_engine()->RemoveCompileJob(this);",
          "new_line_content": "                       lazy_module);",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "OnCompilationSucceeded",
          "new_api": null,
          "old_text": "resolver_->OnCompilationSucceeded(result)",
          "new_text": null,
          "old_line_content": "  resolver_->OnCompilationSucceeded(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit CompilationStateCallback(AsyncCompileJob* job) : job_(job) {}",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "last_event_.has_value()",
          "new_text": null,
          "old_line_content": "        DCHECK(!last_event_.has_value());",
          "new_line_content": "  void operator()(CompilationEvent event) {",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "DecrementAndCheckFinisherCount",
          "new_api": null,
          "old_text": "job_->DecrementAndCheckFinisherCount()",
          "new_text": null,
          "old_line_content": "        if (job_->DecrementAndCheckFinisherCount()) {",
          "new_line_content": "    // This callback is only being called from a foreground task.",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "wasm_engine",
          "new_api": null,
          "old_text": "job_->isolate_->wasm_engine()->UpdateNativeModuleCache(\n                  false, &native_module, job_->isolate_)",
          "new_text": null,
          "old_line_content": "              !job_->isolate_->wasm_engine()->UpdateNativeModuleCache(",
          "new_line_content": "          // If we get a conflicting module, wait until we are back in the",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "DCHECK_EQ",
          "new_api": null,
          "old_text": "DCHECK_EQ(cache_hit, native_module != job_->native_module_)",
          "new_text": null,
          "old_line_content": "          DCHECK_EQ(cache_hit, native_module != job_->native_module_);",
          "new_line_content": "          std::shared_ptr<NativeModule> native_module = job_->native_module_;",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "std::move(native_module)",
          "new_api": null,
          "old_text": "std::move(native_module)",
          "new_text": null,
          "old_line_content": "          job_->DoSync<CompileFinished>(cache_hit ? std::move(native_module)",
          "new_line_content": "          bool cache_hit =",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "DCHECK_EQ",
          "new_api": null,
          "old_text": "DCHECK_EQ(CompilationEvent::kFinishedBaselineCompilation, last_event_)",
          "new_text": null,
          "old_line_content": "        DCHECK_EQ(CompilationEvent::kFinishedBaselineCompilation, last_event_);",
          "new_line_content": "                                                  : nullptr);",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "last_event_.has_value()",
          "new_text": null,
          "old_line_content": "        DCHECK(!last_event_.has_value());",
          "new_line_content": "        // At this point, the job will already be gone, thus do not access it",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": "DecrementAndCheckFinisherCount",
          "new_api": null,
          "old_text": "job_->DecrementAndCheckFinisherCount()",
          "new_text": null,
          "old_line_content": "        if (job_->DecrementAndCheckFinisherCount()) {",
          "new_line_content": "        // here.",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "job_->DoSync<CompileFailed>()",
          "new_api": null,
          "old_text": "job_->DoSync<CompileFailed>()",
          "new_text": null,
          "old_line_content": "          job_->DoSync<CompileFailed>();",
          "new_line_content": "          // compilation threads. Use a copy of the shared pointer instead.",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": "RunInForeground",
          "new_api": null,
          "old_text": "RunInForeground(job)",
          "new_text": null,
          "old_line_content": "      RunInForeground(job);",
          "new_line_content": "  void Run(AsyncCompileJob* job, bool on_foreground) {",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "RunInBackground",
          "new_api": null,
          "old_text": "RunInBackground(job)",
          "new_text": null,
          "old_line_content": "      RunInBackground(job);",
          "new_line_content": "      HandleScope scope(job->isolate_);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "UNREACHABLE",
          "new_api": null,
          "old_text": "UNREACHABLE()",
          "new_text": null,
          "old_line_content": "  virtual void RunInBackground(AsyncCompileJob*) { UNREACHABLE(); }",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "cancelable_task_manager",
          "new_api": null,
          "old_text": "job->isolate_->cancelable_task_manager()",
          "new_text": null,
          "old_line_content": "      : CancelableTask(on_foreground ? job->isolate_->cancelable_task_manager()",
          "new_line_content": "      // We only manage the background tasks with the {CancelableTaskManager} of",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "ResetPendingForegroundTask",
          "new_api": null,
          "old_text": "ResetPendingForegroundTask()",
          "new_text": null,
          "old_line_content": "    if (job_ != nullptr && on_foreground_) ResetPendingForegroundTask();",
          "new_line_content": "        job_(job),",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "ResetPendingForegroundTask",
          "new_api": null,
          "old_text": "ResetPendingForegroundTask()",
          "new_text": null,
          "old_line_content": "    if (on_foreground_) ResetPendingForegroundTask();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "Run",
          "new_api": null,
          "old_text": "job_->step_->Run(job_, on_foreground_)",
          "new_text": null,
          "old_line_content": "    job_->step_->Run(job_, on_foreground_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": "DCHECK_NOT_NULL",
          "new_api": null,
          "old_text": "DCHECK_NOT_NULL(job_)",
          "new_text": null,
          "old_line_content": "    DCHECK_NOT_NULL(job_);",
          "new_line_content": "    job_ = nullptr;",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "DCHECK_EQ",
          "new_api": null,
          "old_text": "DCHECK_EQ(this, job_->pending_foreground_task_)",
          "new_text": null,
          "old_line_content": "    DCHECK_EQ(this, job_->pending_foreground_task_);",
          "new_line_content": "  AsyncCompileJob* job_;",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "DCHECK_NULL",
          "new_api": null,
          "old_text": "DCHECK_NULL(pending_foreground_task_)",
          "new_text": null,
          "old_line_content": "  DCHECK_NULL(pending_foreground_task_);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": "std::make_unique<CompileTask>(this, true)",
          "new_api": null,
          "old_text": "std::make_unique<CompileTask>(this, true)",
          "new_text": null,
          "old_line_content": "  auto new_task = std::make_unique<CompileTask>(this, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "get",
          "new_api": null,
          "old_text": "new_task.get()",
          "new_text": null,
          "old_line_content": "  pending_foreground_task_ = new_task.get();",
          "new_line_content": "void AsyncCompileJob::StartForegroundTask() {",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": "std::make_unique<CompileTask>(this, true)",
          "new_api": null,
          "old_text": "std::make_unique<CompileTask>(this, true)",
          "new_text": null,
          "old_line_content": "  auto new_task = std::make_unique<CompileTask>(this, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": "get",
          "new_api": null,
          "old_text": "new_task.get()",
          "new_text": null,
          "old_line_content": "  pending_foreground_task_ = new_task.get();",
          "new_line_content": "void AsyncCompileJob::ExecuteForegroundTaskImmediately() {",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "Cancel",
          "new_api": null,
          "old_text": "pending_foreground_task_->Cancel()",
          "new_text": null,
          "old_line_content": "  pending_foreground_task_->Cancel();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": "std::make_unique<CompileTask>(this, false)",
          "new_api": null,
          "old_text": "std::make_unique<CompileTask>(this, false)",
          "new_text": null,
          "old_line_content": "  auto task = std::make_unique<CompileTask>(this, false);",
          "new_line_content": "  pending_foreground_task_ = nullptr;",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "std::move(task)",
          "new_api": null,
          "old_text": "std::move(task)",
          "new_text": null,
          "old_line_content": "    V8::GetCurrentPlatform()->CallOnWorkerThread(std::move(task));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "std::move(task)",
          "new_api": null,
          "old_text": "std::move(task)",
          "new_text": null,
          "old_line_content": "    foreground_task_runner_->PostTask(std::move(task));",
          "new_line_content": "  // tasks. This is used to make timing deterministic.",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "  NextStep<Step>(std::forward<Args>(args)...);",
          "new_line_content": "template <typename Step,",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "StartForegroundTask",
          "new_api": null,
          "old_text": "StartForegroundTask()",
          "new_text": null,
          "old_line_content": "  StartForegroundTask();",
          "new_line_content": "          typename... Args>",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "  NextStep<Step>(std::forward<Args>(args)...);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "ExecuteForegroundTaskImmediately",
          "new_api": null,
          "old_text": "ExecuteForegroundTaskImmediately()",
          "new_text": null,
          "old_line_content": "  ExecuteForegroundTaskImmediately();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "  NextStep<Step>(std::forward<Args>(args)...);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "StartBackgroundTask",
          "new_api": null,
          "old_text": "StartBackgroundTask()",
          "new_text": null,
          "old_line_content": "  StartBackgroundTask();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "  step_.reset(new Step(std::forward<Args>(args)...));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit DecodeModule(Counters* counters) : counters_(counters) {}",
          "new_line_content": "// Step 1: (async) Decode the module.",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": "TRACE_COMPILE",
          "new_api": null,
          "old_text": "TRACE_COMPILE(\"(1) Decoding module...\\n\")",
          "new_text": null,
          "old_line_content": "      TRACE_COMPILE(\"(1) Decoding module...\\n\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "TRACE_DISABLED_BY_DEFAULT",
          "new_api": null,
          "old_text": "TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\")",
          "new_text": null,
          "old_line_content": "      TRACE_EVENT0(TRACE_DISABLED_BY_DEFAULT(\"v8.wasm.detailed\"),",
          "new_line_content": "      DisallowHandleAllocation no_handle;",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "isolate",
          "new_api": null,
          "old_text": "job->isolate()->wasm_engine()->allocator()",
          "new_text": null,
          "old_line_content": "                                job->isolate()->wasm_engine()->allocator());",
          "new_line_content": "      auto enabled_features = job->enabled_features_;",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": "ok",
          "new_api": null,
          "old_text": "result.ok()",
          "new_text": null,
          "old_line_content": "      if (!FLAG_wasm_lazy_validation && result.ok()) {",
          "new_line_content": "                                counters_,",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": "DCHECK_EQ",
          "new_api": null,
          "old_text": "DCHECK_EQ(module->origin, kWasmOrigin)",
          "new_text": null,
          "old_line_content": "        DCHECK_EQ(module->origin, kWasmOrigin);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "GetFunctionBytes",
          "new_api": null,
          "old_text": "job->wire_bytes_.GetFunctionBytes(func)",
          "new_text": null,
          "old_line_content": "                job->wire_bytes_.GetFunctionBytes(func);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "GetCompileStrategy",
          "new_api": null,
          "old_text": "GetCompileStrategy(\n                module, enabled_features, func_index, lazy_module)",
          "new_text": null,
          "old_line_content": "            CompileStrategy strategy = GetCompileStrategy(",
          "new_line_content": "            const WasmFunction* func = &module->functions[func_index];",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "ValidateSingleFunction",
          "new_api": null,
          "old_text": "ValidateSingleFunction(module, func_index, code, counters_,\n                                         allocator, enabled_features)",
          "new_text": null,
          "old_line_content": "                  ValidateSingleFunction(module, func_index, code, counters_,",
          "new_line_content": "                strategy == CompileStrategy::kLazy ||",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": "failed",
          "new_api": null,
          "old_text": "function_result.failed()",
          "new_text": null,
          "old_line_content": "              if (function_result.failed()) {",
          "new_line_content": "            if (validate_lazily_compiled_function) {",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "error",
          "new_api": null,
          "old_text": "function_result.error()",
          "new_text": null,
          "old_line_content": "                result = ModuleResult(function_result.error());",
          "new_line_content": "              DecodeResult function_result =",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "failed",
          "new_api": null,
          "old_text": "result.failed()",
          "new_text": null,
          "old_line_content": "    if (result.failed()) {",
          "new_line_content": "          }",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": "error",
          "new_api": null,
          "old_text": "std::move(result).error()",
          "new_text": null,
          "old_line_content": "      job->DoSync<DecodeFail>(std::move(result).error());",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "value",
          "new_api": null,
          "old_text": "std::move(result).value()",
          "new_text": null,
          "old_line_content": "      std::shared_ptr<WasmModule> module = std::move(result).value();",
          "new_line_content": "      // Decoding failure; reject the promise and clean up.",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "get",
          "new_api": null,
          "old_text": "module.get()",
          "new_text": null,
          "old_line_content": "          wasm::WasmCodeManager::EstimateNativeModuleCodeSize(module.get(),",
          "new_line_content": "      // Decode passed.",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "std::move(module)",
          "new_api": null,
          "old_text": "std::move(module)",
          "new_text": null,
          "old_line_content": "      job->DoSync<PrepareAndStartCompile>(std::move(module), true,",
          "new_line_content": "      const bool kUsesLiftoff = false;",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": "std::move(error)",
          "new_api": null,
          "old_text": "std::move(error)",
          "new_text": null,
          "old_line_content": "  explicit DecodeFail(WasmError error) : error_(std::move(error)) {}",
          "new_line_content": "// Step 1b: (sync) Fail decoding the module.",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "TRACE_COMPILE",
          "new_api": null,
          "old_text": "TRACE_COMPILE(\"(1b) Decoding failed.\\n\")",
          "new_text": null,
          "old_line_content": "    TRACE_COMPILE(\"(1b) Decoding failed.\\n\");",
          "new_line_content": " private:",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "DecodeFailed",
          "new_api": null,
          "old_text": "job->DecodeFailed(error_)",
          "new_text": null,
          "old_line_content": "    return job->DecodeFailed(error_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "std::move(module)",
          "new_api": null,
          "old_text": "std::move(module)",
          "new_text": null,
          "old_line_content": "      : module_(std::move(module)),",
          "new_line_content": "class AsyncCompileJob::PrepareAndStartCompile : public CompileStep {",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "TRACE_COMPILE",
          "new_api": null,
          "old_text": "TRACE_COMPILE(\"(2) Prepare and start compile...\\n\")",
          "new_text": null,
          "old_line_content": "    TRACE_COMPILE(\"(2) Prepare and start compile...\\n\");",
          "new_line_content": "  const bool start_compilation_;",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "length",
          "new_api": null,
          "old_text": "job->wire_bytes_.length()",
          "new_text": null,
          "old_line_content": "    const bool streaming = job->wire_bytes_.length() == 0;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "CreateNativeModule",
          "new_api": null,
          "old_text": "job->CreateNativeModule(module_, code_size_estimate_)",
          "new_text": null,
          "old_line_content": "      job->CreateNativeModule(module_, code_size_estimate_);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 134,
      "total_additions": 343,
      "total_deletions": 343,
      "total_api_changes": 820
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 820,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1432,
          1433,
          1435,
          1436
        ]
      }
    },
    "api_calls_before": 1116,
    "api_calls_after": 1116,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 3,
      "total_diff_lines": 31
    }
  }
}