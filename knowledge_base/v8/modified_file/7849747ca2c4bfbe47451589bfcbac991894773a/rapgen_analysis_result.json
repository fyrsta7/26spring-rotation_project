{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7849747ca2c4bfbe47451589bfcbac991894773a",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7849747ca2c4bfbe47451589bfcbac991894773a/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7849747ca2c4bfbe47451589bfcbac991894773a/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7849747ca2c4bfbe47451589bfcbac991894773a/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 691,
          "old_api": "ToInt",
          "new_api": "IsSpilledOnlyInDeferredBlocks",
          "old_text": "block_id.ToInt()",
          "new_text": "IsSpilledOnlyInDeferredBlocks()",
          "old_line_content": "    GetListOfBlocksRequiringSpillOperands()->Add(block_id.ToInt());",
          "new_line_content": "    DCHECK(IsSpilledOnlyInDeferredBlocks());",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "allocation_zone",
          "new_api": "code",
          "old_text": "data()->allocation_zone()",
          "new_text": "data()->code()",
          "old_line_content": "  Zone* allocation_zone() const { return data()->allocation_zone(); }",
          "new_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "allocation_zone",
          "new_api": "code",
          "old_text": "data()->allocation_zone()",
          "new_text": "data()->code()",
          "old_line_content": "  Zone* allocation_zone() const { return data()->allocation_zone(); }",
          "new_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "zone",
          "new_api": "allocation_zone",
          "old_text": "code()->zone()",
          "new_text": "data()->allocation_zone()",
          "old_line_content": "  Zone* code_zone() const { return code()->zone(); }",
          "new_line_content": "  Zone* allocation_zone() const { return data()->allocation_zone(); }",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "config",
          "new_api": "zone",
          "old_text": "data()->config()",
          "new_text": "code()->zone()",
          "old_line_content": "  const RegisterConfiguration* config() const { return data()->config(); }",
          "new_line_content": "  Zone* code_zone() const { return code()->zone(); }",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "zone",
          "new_api": "code",
          "old_text": "code()->zone()",
          "new_text": "data()->code()",
          "old_line_content": "  Zone* code_zone() const { return code()->zone(); }",
          "new_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1029,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit BundleBuilder(RegisterAllocationData* data) : data_(data) {}",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "code",
          "old_text": null,
          "new_text": "data_->code()",
          "old_line_content": "  RegisterAllocationData* data_;",
          "new_line_content": "  InstructionSequence* code() const { return data_->code(); }",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "code",
          "old_text": null,
          "new_text": "data()->code()",
          "old_line_content": "  RegisterKind mode() const { return mode_; }",
          "new_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "allocation_zone",
          "old_text": null,
          "new_text": "data()->allocation_zone()",
          "old_line_content": "",
          "new_line_content": "  Zone* allocation_zone() const { return data()->allocation_zone(); }",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit ConstraintBuilder(RegisterAllocationData* data);",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": null,
          "new_api": "set_bundle",
          "old_text": null,
          "new_text": "splinter->set_bundle(bundle_)",
          "old_line_content": "  }",
          "new_line_content": "    if (bundle_ != nullptr) splinter->set_bundle(bundle_);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit SpillSlotLocator(RegisterAllocationData* data);",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "allocation_zone",
          "old_text": null,
          "new_text": "data()->allocation_zone()",
          "old_line_content": "",
          "new_line_content": "  Zone* allocation_zone() const { return data()->allocation_zone(); }",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "mode",
          "old_text": null,
          "new_text": "mode()",
          "old_line_content": "  }",
          "new_line_content": "    return range != nullptr && !range->IsEmpty() && range->kind() == mode();",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "ToInt",
          "old_text": null,
          "new_text": "block_id.ToInt()",
          "old_line_content": "  }",
          "new_line_content": "    GetListOfBlocksRequiringSpillOperands()->Add(block_id.ToInt());",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "IsSpilledOnlyInDeferredBlocks",
          "old_text": null,
          "new_text": "IsSpilledOnlyInDeferredBlocks()",
          "old_line_content": "    return list_of_blocks_requiring_spill_operands_;",
          "new_line_content": "    DCHECK(IsSpilledOnlyInDeferredBlocks());",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": null,
          "new_api": "SetSplinteredFrom",
          "old_text": null,
          "new_text": "SetSplinteredFrom(TopLevelLiveRange* splinter_parent)",
          "old_line_content": "",
          "new_line_content": "  void SetSplinteredFrom(TopLevelLiveRange* splinter_parent);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit OperandAssigner(RegisterAllocationData* data);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit LiveRangeBuilder(RegisterAllocationData* data, Zone* local_zone);",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "config",
          "old_text": null,
          "new_text": "data()->config()",
          "old_line_content": "  ZoneVector<BitVector*>& live_in_sets() const {",
          "new_line_content": "  const RegisterConfiguration* config() const { return data()->config(); }",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit ReferenceMapPopulator(RegisterAllocationData* data);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "live_in_sets",
          "old_text": null,
          "new_text": "data()->live_in_sets()",
          "old_line_content": "  }",
          "new_line_content": "    return data()->live_in_sets();",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "DISALLOW_COPY_AND_ASSIGN",
          "old_text": null,
          "new_text": "DISALLOW_COPY_AND_ASSIGN(TopLevelLiveRange)",
          "old_line_content": "};",
          "new_line_content": "  DISALLOW_COPY_AND_ASSIGN(TopLevelLiveRange);",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "zone",
          "old_text": null,
          "new_text": "code()->zone()",
          "old_line_content": "  Frame* frame() const { return frame_; }",
          "new_line_content": "  Zone* code_zone() const { return code()->zone(); }",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "",
          "new_line_content": "  explicit LiveRangeConnector(RegisterAllocationData* data);",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "live_ranges_.empty()",
          "old_line_content": "  bool TryMerge(SpillRange* other);",
          "new_line_content": "  bool IsEmpty() const { return live_ranges_.empty(); }",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "NewUsePosition",
          "old_text": null,
          "new_text": "NewUsePosition(pos, nullptr, nullptr, UsePositionHintType::kNone)",
          "old_line_content": "  }",
          "new_line_content": "    return NewUsePosition(pos, nullptr, nullptr, UsePositionHintType::kNone);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "DCHECK_EQ",
          "old_text": null,
          "new_text": "DCHECK_EQ(kUnassignedSlot, assigned_slot_)",
          "old_line_content": "    assigned_slot_ = index;",
          "new_line_content": "    DCHECK_EQ(kUnassignedSlot, assigned_slot_);",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "vreg",
          "old_text": null,
          "new_text": "top_range->vreg()",
          "old_line_content": "  }",
          "new_line_content": "    return code()->IsReference(top_range->vreg());",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "Define",
          "old_text": null,
          "new_text": "Define(position, operand, nullptr, UsePositionHintType::kNone)",
          "old_line_content": "  }",
          "new_line_content": "    Define(position, operand, nullptr, UsePositionHintType::kNone);",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": null,
          "new_api": "DCHECK_NE",
          "old_text": null,
          "new_text": "DCHECK_NE(kUnassignedSlot, assigned_slot_)",
          "old_line_content": "    return assigned_slot_;",
          "new_line_content": "    DCHECK_NE(kUnassignedSlot, assigned_slot_);",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "zone",
          "old_text": null,
          "new_text": "code()->zone()",
          "old_line_content": "",
          "new_line_content": "  Zone* code_zone() const { return code()->zone(); }",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "Use",
          "old_text": null,
          "new_text": "Use(block_start, position, operand, nullptr, UsePositionHintType::kNone)",
          "old_line_content": "  }",
          "new_line_content": "    Use(block_start, position, operand, nullptr, UsePositionHintType::kNone);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1028,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit BundleBuilder(RegisterAllocationData* data) : data_(data) {}",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "code",
          "new_api": null,
          "old_text": "data_->code()",
          "new_text": null,
          "old_line_content": "  InstructionSequence* code() const { return data_->code(); }",
          "new_line_content": "  RegisterAllocationData* data() const { return data_; }",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "code",
          "new_api": null,
          "old_text": "data()->code()",
          "new_text": null,
          "old_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "new_line_content": "  RegisterAllocationData* data() const { return data_; }",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "allocation_zone",
          "new_api": null,
          "old_text": "data()->allocation_zone()",
          "new_text": null,
          "old_line_content": "  Zone* allocation_zone() const { return data()->allocation_zone(); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit ConstraintBuilder(RegisterAllocationData* data);",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit SpillSlotLocator(RegisterAllocationData* data);",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "code",
          "new_api": null,
          "old_text": "data()->code()",
          "new_text": null,
          "old_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "new_line_content": "  RegisterAllocationData* data() const { return data_; }",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "mode",
          "new_api": null,
          "old_text": "mode()",
          "new_text": null,
          "old_line_content": "    return range != nullptr && !range->IsEmpty() && range->kind() == mode();",
          "new_line_content": "  bool CanProcessRange(LiveRange* range) const {",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "IsSpilledOnlyInDeferredBlocks",
          "new_api": null,
          "old_text": "IsSpilledOnlyInDeferredBlocks()",
          "new_text": null,
          "old_line_content": "    DCHECK(IsSpilledOnlyInDeferredBlocks());",
          "new_line_content": "  void AddBlockRequiringSpillOperand(RpoNumber block_id) {",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "IsSpilledOnlyInDeferredBlocks",
          "new_api": null,
          "old_text": "IsSpilledOnlyInDeferredBlocks()",
          "new_text": null,
          "old_line_content": "    DCHECK(IsSpilledOnlyInDeferredBlocks());",
          "new_line_content": "  BitVector* GetListOfBlocksRequiringSpillOperands() const {",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "SetSplinteredFrom",
          "new_api": null,
          "old_text": "SetSplinteredFrom(TopLevelLiveRange* splinter_parent)",
          "new_text": null,
          "old_line_content": "  void SetSplinteredFrom(TopLevelLiveRange* splinter_parent);",
          "new_line_content": " private:",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit OperandAssigner(RegisterAllocationData* data);",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit LiveRangeBuilder(RegisterAllocationData* data, Zone* local_zone);",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "code",
          "new_api": null,
          "old_text": "data()->code()",
          "new_text": null,
          "old_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "new_line_content": "  RegisterAllocationData* data() const { return data_; }",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit ReferenceMapPopulator(RegisterAllocationData* data);",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "live_in_sets",
          "new_api": null,
          "old_text": "data()->live_in_sets()",
          "new_text": null,
          "old_line_content": "    return data()->live_in_sets();",
          "new_line_content": "  ZoneVector<BitVector*>& live_in_sets() const {",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "DISALLOW_COPY_AND_ASSIGN",
          "new_api": null,
          "old_text": "DISALLOW_COPY_AND_ASSIGN(TopLevelLiveRange)",
          "new_text": null,
          "old_line_content": "  DISALLOW_COPY_AND_ASSIGN(TopLevelLiveRange);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "zone",
          "new_api": null,
          "old_text": "code()->zone()",
          "new_text": null,
          "old_line_content": "  Zone* code_zone() const { return code()->zone(); }",
          "new_line_content": "  // allocation.",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "  explicit LiveRangeConnector(RegisterAllocationData* data);",
          "new_line_content": " public:",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "empty",
          "new_api": null,
          "old_text": "live_ranges_.empty()",
          "new_text": null,
          "old_line_content": "  bool IsEmpty() const { return live_ranges_.empty(); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "NewUsePosition",
          "new_api": null,
          "old_text": "NewUsePosition(pos, nullptr, nullptr, UsePositionHintType::kNone)",
          "new_text": null,
          "old_line_content": "    return NewUsePosition(pos, nullptr, nullptr, UsePositionHintType::kNone);",
          "new_line_content": "  UsePosition* NewUsePosition(LifetimePosition pos) {",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "DCHECK_EQ",
          "new_api": null,
          "old_text": "DCHECK_EQ(kUnassignedSlot, assigned_slot_)",
          "new_text": null,
          "old_line_content": "    DCHECK_EQ(kUnassignedSlot, assigned_slot_);",
          "new_line_content": "  void set_assigned_slot(int index) {",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "vreg",
          "new_api": null,
          "old_text": "top_range->vreg()",
          "new_text": null,
          "old_line_content": "    return code()->IsReference(top_range->vreg());",
          "new_line_content": "  bool IsReference(TopLevelLiveRange* top_range) const {",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "Define",
          "new_api": null,
          "old_text": "Define(position, operand, nullptr, UsePositionHintType::kNone)",
          "new_text": null,
          "old_line_content": "    Define(position, operand, nullptr, UsePositionHintType::kNone);",
          "new_line_content": "  void Define(LifetimePosition position, InstructionOperand* operand) {",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "DCHECK_NE",
          "new_api": null,
          "old_text": "DCHECK_NE(kUnassignedSlot, assigned_slot_)",
          "new_text": null,
          "old_line_content": "    DCHECK_NE(kUnassignedSlot, assigned_slot_);",
          "new_line_content": "  int assigned_slot() {",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "code",
          "new_api": null,
          "old_text": "data()->code()",
          "new_text": null,
          "old_line_content": "  InstructionSequence* code() const { return data()->code(); }",
          "new_line_content": "  RegisterAllocationData* data() const { return data_; }",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "Use",
          "new_api": null,
          "old_text": "Use(block_start, position, operand, nullptr, UsePositionHintType::kNone)",
          "new_text": null,
          "old_line_content": "    Use(block_start, position, operand, nullptr, UsePositionHintType::kNone);",
          "new_line_content": "           InstructionOperand* operand) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 6,
      "total_additions": 28,
      "total_deletions": 27,
      "total_api_changes": 61
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 1,
        "api_related_lines": 61,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 177,
    "api_calls_after": 178,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 0,
      "total_diff_lines": 13
    }
  }
}