{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7815e260efcf56a168d9b2b9ea8552b4f44534c6",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7815e260efcf56a168d9b2b9ea8552b4f44534c6/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7815e260efcf56a168d9b2b9ea8552b4f44534c6/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/7815e260efcf56a168d9b2b9ea8552b4f44534c6/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 277,
          "old_api": "Handle<JSObject>::cast(object)",
          "new_api": "JSObject::cast(*object)",
          "old_text": "Handle<JSObject>::cast(object)",
          "new_text": "JSObject::cast(*object)",
          "old_line_content": "    Handle<JSObject> obj = Handle<JSObject>::cast(object);",
          "new_line_content": "      JSObject::PrototypeHasNoElements(isolate, JSObject::cast(*object))) {",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "GetElementsAccessor",
          "new_api": "Handle<JSObject>::cast(object)",
          "old_text": "obj->GetElementsAccessor()",
          "new_text": "Handle<JSObject>::cast(object)",
          "old_line_content": "    ElementsAccessor* elements = obj->GetElementsAccessor();",
          "new_line_content": "    Handle<JSObject> obj = Handle<JSObject>::cast(object);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": "IncludesValue",
          "new_api": "GetElementsAccessor",
          "old_text": "elements->IncludesValue(isolate, obj, search_element,\n                                                 static_cast<uint32_t>(index),\n                                                 static_cast<uint32_t>(len))",
          "new_text": "obj->GetElementsAccessor()",
          "old_line_content": "    Maybe<bool> result = elements->IncludesValue(isolate, obj, search_element,",
          "new_line_content": "    ElementsAccessor* elements = obj->GetElementsAccessor();",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "static_cast<uint32_t>(index)",
          "new_api": "IncludesValue",
          "old_text": "static_cast<uint32_t>(index)",
          "new_text": "elements->IncludesValue(isolate, obj, search_element,\n                                                 static_cast<uint32_t>(index),\n                                                 static_cast<uint32_t>(len))",
          "old_line_content": "                                                 static_cast<uint32_t>(index),",
          "new_line_content": "    Maybe<bool> result = elements->IncludesValue(isolate, obj, search_element,",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "static_cast<uint32_t>(len)",
          "new_api": "static_cast<uint32_t>(index)",
          "old_text": "static_cast<uint32_t>(len)",
          "new_text": "static_cast<uint32_t>(index)",
          "old_line_content": "                                                 static_cast<uint32_t>(len));",
          "new_line_content": "                                                 static_cast<uint32_t>(index),",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "exception",
          "new_api": "static_cast<uint32_t>(len)",
          "old_text": "ReadOnlyRoots(isolate).exception()",
          "new_text": "static_cast<uint32_t>(len)",
          "old_line_content": "    MAYBE_RETURN(result, ReadOnlyRoots(isolate).exception());",
          "new_line_content": "                                                 static_cast<uint32_t>(len));",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "FromJust",
          "new_api": "exception",
          "old_text": "result.FromJust()",
          "new_text": "ReadOnlyRoots(isolate).exception()",
          "old_line_content": "    return *isolate->factory()->ToBoolean(result.FromJust());",
          "new_line_content": "    MAYBE_RETURN(result, ReadOnlyRoots(isolate).exception());",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "new_api": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "old_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,\n                                         Object::GetProperty(&it))",
          "new_text": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "old_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,",
          "new_line_content": "      LookupIterator it = LookupIterator::PropertyOrElement(",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "false_value",
          "new_api": "true_value",
          "old_text": "ReadOnlyRoots(isolate).false_value()",
          "new_text": "ReadOnlyRoots(isolate).true_value()",
          "old_line_content": "  return ReadOnlyRoots(isolate).false_value();",
          "new_line_content": "      return ReadOnlyRoots(isolate).true_value();",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "DCHECK",
          "new_api": "IsJSArray",
          "old_text": "DCHECK(success)",
          "new_text": "object->IsJSArray()",
          "old_line_content": "      DCHECK(success);",
          "new_line_content": "    if (object->IsJSArray()) {",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "new_api": "factory",
          "old_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, len_,\n                                         Object::ToLength(isolate, len_))",
          "new_text": "Object::GetProperty(isolate, object,\n                              isolate->factory()->length_string())",
          "old_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, len_,",
          "new_line_content": "          Object::GetProperty(isolate, object,",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "Object::ToLength(isolate, len_)",
          "new_api": "factory",
          "old_text": "Object::ToLength(isolate, len_)",
          "new_text": "isolate->factory()->length_string()",
          "old_line_content": "                                         Object::ToLength(isolate, len_));",
          "new_line_content": "                              isolate->factory()->length_string()));",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "Number",
          "new_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "old_text": "len_->Number()",
          "new_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, len_,\n                                         Object::ToLength(isolate, len_))",
          "old_line_content": "      DCHECK_EQ(len, len_->Number());",
          "new_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, len_,",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "Smi::FromInt(-1)",
          "new_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "old_text": "Smi::FromInt(-1)",
          "new_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, from_index,\n                                       Object::ToInteger(isolate, from_index))",
          "old_line_content": "    if (fp > len) return Smi::FromInt(-1);",
          "new_line_content": "    ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, from_index,",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "V8_LIKELY",
          "new_api": "Object::ToInteger(isolate, from_index)",
          "old_text": "V8_LIKELY(fp >=\n                  static_cast<double>(std::numeric_limits<int64_t>::min()))",
          "new_text": "Object::ToInteger(isolate, from_index)",
          "old_line_content": "    if (V8_LIKELY(fp >=",
          "new_line_content": "                                       Object::ToInteger(isolate, from_index));",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "std::numeric_limits<int64_t>::min()",
          "new_api": "Number",
          "old_text": "std::numeric_limits<int64_t>::min()",
          "new_text": "from_index->Number()",
          "old_line_content": "                  static_cast<double>(std::numeric_limits<int64_t>::min()))) {",
          "new_line_content": "    double fp = from_index->Number();",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "std::numeric_limits<int64_t>::max()",
          "new_api": "Smi::FromInt(-1)",
          "old_text": "std::numeric_limits<int64_t>::max()",
          "new_text": "Smi::FromInt(-1)",
          "old_line_content": "      DCHECK(fp < std::numeric_limits<int64_t>::max());",
          "new_line_content": "    if (fp > len) return Smi::FromInt(-1);",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "static_cast<int64_t>(fp)",
          "new_api": "V8_LIKELY",
          "old_text": "static_cast<int64_t>(fp)",
          "new_text": "V8_LIKELY(fp >=\n                  static_cast<double>(std::numeric_limits<int64_t>::min()))",
          "old_line_content": "      start_from = static_cast<int64_t>(fp);",
          "new_line_content": "    if (V8_LIKELY(fp >=",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "std::numeric_limits<int64_t>::min()",
          "new_api": "std::numeric_limits<int64_t>::max()",
          "old_text": "std::numeric_limits<int64_t>::min()",
          "new_text": "std::numeric_limits<int64_t>::max()",
          "old_line_content": "      start_from = std::numeric_limits<int64_t>::min();",
          "new_line_content": "      DCHECK(fp < std::numeric_limits<int64_t>::max());",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "GetElementsAccessor",
          "new_api": "IsSpecialReceiverMap",
          "old_text": "obj->GetElementsAccessor()",
          "new_text": "object->map().IsSpecialReceiverMap()",
          "old_line_content": "    ElementsAccessor* elements = obj->GetElementsAccessor();",
          "new_line_content": "  if (!object->map().IsSpecialReceiverMap() && len <= kMaxUInt32 &&",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "IndexOfValue",
          "new_api": "JSObject::cast(*object)",
          "old_text": "elements->IndexOfValue(isolate, obj, search_element,\n                                                   static_cast<uint32_t>(index),\n                                                   static_cast<uint32_t>(len))",
          "new_text": "JSObject::cast(*object)",
          "old_line_content": "    Maybe<int64_t> result = elements->IndexOfValue(isolate, obj, search_element,",
          "new_line_content": "      JSObject::PrototypeHasNoElements(isolate, JSObject::cast(*object))) {",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "static_cast<uint32_t>(index)",
          "new_api": "Handle<JSObject>::cast(object)",
          "old_text": "static_cast<uint32_t>(index)",
          "new_text": "Handle<JSObject>::cast(object)",
          "old_line_content": "                                                   static_cast<uint32_t>(index),",
          "new_line_content": "    Handle<JSObject> obj = Handle<JSObject>::cast(object);",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "static_cast<uint32_t>(len)",
          "new_api": "GetElementsAccessor",
          "old_text": "static_cast<uint32_t>(len)",
          "new_text": "obj->GetElementsAccessor()",
          "old_line_content": "                                                   static_cast<uint32_t>(len));",
          "new_line_content": "    ElementsAccessor* elements = obj->GetElementsAccessor();",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "exception",
          "new_api": "IndexOfValue",
          "old_text": "ReadOnlyRoots(isolate).exception()",
          "new_text": "elements->IndexOfValue(isolate, obj, search_element,\n                                                   static_cast<uint32_t>(index),\n                                                   static_cast<uint32_t>(len))",
          "old_line_content": "    MAYBE_RETURN(result, ReadOnlyRoots(isolate).exception());",
          "new_line_content": "    Maybe<int64_t> result = elements->IndexOfValue(isolate, obj, search_element,",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "FromJust",
          "new_api": "static_cast<uint32_t>(index)",
          "old_text": "result.FromJust()",
          "new_text": "static_cast<uint32_t>(index)",
          "old_line_content": "    return *isolate->factory()->NewNumberFromInt64(result.FromJust());",
          "new_line_content": "                                                   static_cast<uint32_t>(index),",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "JSReceiver::HasProperty(&it)",
          "new_api": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "old_text": "JSReceiver::HasProperty(&it)",
          "new_text": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "old_line_content": "      Maybe<bool> present = JSReceiver::HasProperty(&it);",
          "new_line_content": "      LookupIterator it = LookupIterator::PropertyOrElement(",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "FromJust",
          "new_api": "DCHECK",
          "old_text": "present.FromJust()",
          "new_text": "DCHECK(success)",
          "old_line_content": "      if (!present.FromJust()) continue;",
          "new_line_content": "      DCHECK(success);",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "new_api": "JSReceiver::HasProperty(&it)",
          "old_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,\n                                         Object::GetProperty(&it))",
          "new_text": "JSReceiver::HasProperty(&it)",
          "old_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,",
          "new_line_content": "      Maybe<bool> present = JSReceiver::HasProperty(&it);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "Object::GetProperty(&it)",
          "new_api": "exception",
          "old_text": "Object::GetProperty(&it)",
          "new_text": "ReadOnlyRoots(isolate).exception()",
          "old_line_content": "                                         Object::GetProperty(&it));",
          "new_line_content": "      MAYBE_RETURN(present, ReadOnlyRoots(isolate).exception());",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": "StrictEquals",
          "new_api": "FromJust",
          "old_text": "search_element->StrictEquals(*element_k)",
          "new_text": "present.FromJust()",
          "old_line_content": "      if (search_element->StrictEquals(*element_k)) {",
          "new_line_content": "      if (!present.FromJust()) continue;",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 384,
          "old_api": null,
          "new_api": "exception",
          "old_text": null,
          "new_text": "ReadOnlyRoots(isolate).exception()",
          "old_line_content": "",
          "new_line_content": "    MAYBE_RETURN(result, ReadOnlyRoots(isolate).exception());",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "FromJust",
          "old_text": null,
          "new_text": "result.FromJust()",
          "old_line_content": "  // Otherwise, perform slow lookups for special receiver types",
          "new_line_content": "    return *isolate->factory()->NewNumberFromInt64(result.FromJust());",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": null,
          "new_api": "factory",
          "old_text": null,
          "new_text": "isolate->factory()->NewNumberFromInt64(index)",
          "old_line_content": "          isolate, object, index_obj, &success);",
          "new_line_content": "      Handle<Object> index_obj = isolate->factory()->NewNumberFromInt64(index);",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "old_text": null,
          "new_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,\n                                         Object::GetProperty(&it))",
          "old_line_content": "        return *index_obj;",
          "new_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "Object::GetProperty(&it)",
          "old_text": null,
          "new_text": "Object::GetProperty(&it)",
          "old_line_content": "      }",
          "new_line_content": "                                         Object::GetProperty(&it));",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": null,
          "new_api": "StrictEquals",
          "old_text": null,
          "new_text": "search_element->StrictEquals(*element_k)",
          "old_line_content": "    }",
          "new_line_content": "      if (search_element->StrictEquals(*element_k)) {",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": null,
          "new_api": "Smi::FromInt(-1)",
          "old_text": null,
          "new_text": "Smi::FromInt(-1)",
          "old_line_content": "}  // namespace internal",
          "new_line_content": "  return Smi::FromInt(-1);",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "FromJust",
          "old_text": null,
          "new_text": "result.FromJust()",
          "old_line_content": "  }",
          "new_line_content": "    return *isolate->factory()->ToBoolean(result.FromJust());",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": null,
          "new_api": "factory",
          "old_text": null,
          "new_text": "isolate->factory()->NewNumberFromInt64(index)",
          "old_line_content": "          isolate, object, index_obj, &success);",
          "new_line_content": "      Handle<Object> index_obj = isolate->factory()->NewNumberFromInt64(index);",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": null,
          "new_api": "DCHECK",
          "old_text": null,
          "new_text": "DCHECK(success)",
          "old_line_content": "    }",
          "new_line_content": "      DCHECK(success);",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "old_text": null,
          "new_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,\n                                         Object::GetProperty(&it))",
          "old_line_content": "",
          "new_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, element_k,",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": null,
          "new_api": "Object::GetProperty(&it)",
          "old_text": null,
          "new_text": "Object::GetProperty(&it)",
          "old_line_content": "    // If SameValueZero(searchElement, elementK) is true, return true.",
          "new_line_content": "                                         Object::GetProperty(&it));",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": null,
          "new_api": "SameValueZero",
          "old_text": null,
          "new_text": "search_element->SameValueZero(*element_k)",
          "old_line_content": "  }",
          "new_line_content": "    if (search_element->SameValueZero(*element_k)) {",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": null,
          "new_api": "false_value",
          "old_text": null,
          "new_text": "ReadOnlyRoots(isolate).false_value()",
          "old_line_content": "RUNTIME_FUNCTION(Runtime_ArrayIndexOf) {",
          "new_line_content": "  return ReadOnlyRoots(isolate).false_value();",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "args.length()",
          "old_line_content": "",
          "new_line_content": "  DCHECK_EQ(3, args.length());",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "CONVERT_ARG_HANDLE_CHECKED",
          "old_text": null,
          "new_text": "CONVERT_ARG_HANDLE_CHECKED(Object, search_element, 1)",
          "old_line_content": "  // Let O be ? ToObject(this value).",
          "new_line_content": "  CONVERT_ARG_HANDLE_CHECKED(Object, search_element, 1);",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "CONVERT_ARG_HANDLE_CHECKED",
          "old_text": null,
          "new_text": "CONVERT_ARG_HANDLE_CHECKED(Object, from_index, 2)",
          "old_line_content": "  Handle<JSReceiver> object;",
          "new_line_content": "  CONVERT_ARG_HANDLE_CHECKED(Object, from_index, 2);",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(\n      isolate, object,\n      Object::ToObject(isolate, args.at(0), \"Array.prototype.indexOf\"))",
          "old_line_content": "",
          "new_line_content": "  ASSIGN_RETURN_FAILURE_ON_EXCEPTION(",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "args.at(0)",
          "old_line_content": "  int64_t len;",
          "new_line_content": "      Object::ToObject(isolate, args.at(0), \"Array.prototype.indexOf\"));",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "JSArray::cast(*object).length().ToArrayLength(&len32)",
          "old_line_content": "      len = len32;",
          "new_line_content": "      bool success = JSArray::cast(*object).length().ToArrayLength(&len32);",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "DCHECK",
          "old_text": null,
          "new_text": "DCHECK(success)",
          "old_line_content": "    } else {",
          "new_line_content": "      DCHECK(success);",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": null,
          "new_api": "USE",
          "old_text": null,
          "new_text": "USE(success)",
          "old_line_content": "      Handle<Object> len_;",
          "new_line_content": "      USE(success);",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "Object::ToLength(isolate, len_)",
          "old_text": null,
          "new_text": "Object::ToLength(isolate, len_)",
          "old_line_content": "    }",
          "new_line_content": "                                         Object::ToLength(isolate, len_));",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "Number",
          "old_text": null,
          "new_text": "len_->Number()",
          "old_line_content": "  }",
          "new_line_content": "      len = static_cast<int64_t>(len_->Number());",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "Number",
          "old_text": null,
          "new_text": "len_->Number()",
          "old_line_content": "",
          "new_line_content": "      DCHECK_EQ(len, len_->Number());",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "Smi::FromInt(-1)",
          "old_text": null,
          "new_text": "Smi::FromInt(-1)",
          "old_line_content": "  // produces the value 0.)",
          "new_line_content": "  if (len == 0) return Smi::FromInt(-1);",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": null,
          "new_api": "std::numeric_limits<int64_t>::min()",
          "old_text": null,
          "new_text": "std::numeric_limits<int64_t>::min()",
          "old_line_content": "    } else {",
          "new_line_content": "                  static_cast<double>(std::numeric_limits<int64_t>::min()))) {",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "static_cast<int64_t>(fp)",
          "old_text": null,
          "new_text": "static_cast<int64_t>(fp)",
          "old_line_content": "    }",
          "new_line_content": "      start_from = static_cast<int64_t>(fp);",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "std::numeric_limits<int64_t>::min()",
          "old_text": null,
          "new_text": "std::numeric_limits<int64_t>::min()",
          "old_line_content": "",
          "new_line_content": "      start_from = std::numeric_limits<int64_t>::min();",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": null,
          "new_api": "static_cast<uint32_t>(len)",
          "old_text": null,
          "new_text": "static_cast<uint32_t>(len)",
          "old_line_content": "  }",
          "new_line_content": "                                                   static_cast<uint32_t>(len));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 391,
          "old_api": "factory",
          "new_api": null,
          "old_text": "isolate->factory()->NewNumberFromInt64(index)",
          "new_text": null,
          "old_line_content": "      Handle<Object> index_obj = isolate->factory()->NewNumberFromInt64(index);",
          "new_line_content": "    // Let elementK be the result of ? Get(O, ! ToString(k)).",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "new_api": null,
          "old_text": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "new_text": null,
          "old_line_content": "      LookupIterator it = LookupIterator::PropertyOrElement(",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "DCHECK",
          "new_api": null,
          "old_text": "DCHECK(success)",
          "new_text": null,
          "old_line_content": "      DCHECK(success);",
          "new_line_content": "      bool success;",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "exception",
          "new_api": null,
          "old_text": "ReadOnlyRoots(isolate).exception()",
          "new_text": null,
          "old_line_content": "      MAYBE_RETURN(present, ReadOnlyRoots(isolate).exception());",
          "new_line_content": "          isolate, object, index_obj, &success);",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "JSObject::cast(*object)",
          "new_api": null,
          "old_text": "JSObject::cast(*object)",
          "new_text": null,
          "old_line_content": "      JSObject::PrototypeHasNoElements(isolate, JSObject::cast(*object))) {",
          "new_line_content": "      len <= JSObject::kMaxElementCount &&",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "Smi::FromInt(-1)",
          "new_api": null,
          "old_text": "Smi::FromInt(-1)",
          "new_text": null,
          "old_line_content": "  return Smi::FromInt(-1);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "factory",
          "new_api": null,
          "old_text": "isolate->factory()->NewNumberFromInt64(index)",
          "new_text": null,
          "old_line_content": "      Handle<Object> index_obj = isolate->factory()->NewNumberFromInt64(index);",
          "new_line_content": "    // Let elementK be the result of ? Get(O, ! ToString(k)).",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "new_api": null,
          "old_text": "LookupIterator::PropertyOrElement(\n          isolate, object, index_obj, &success)",
          "new_text": null,
          "old_line_content": "      LookupIterator it = LookupIterator::PropertyOrElement(",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "DCHECK",
          "new_api": null,
          "old_text": "DCHECK(success)",
          "new_text": null,
          "old_line_content": "      DCHECK(success);",
          "new_line_content": "      bool success;",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": "Object::GetProperty(&it)",
          "new_api": null,
          "old_text": "Object::GetProperty(&it)",
          "new_text": null,
          "old_line_content": "                                         Object::GetProperty(&it));",
          "new_line_content": "          isolate, object, index_obj, &success);",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "SameValueZero",
          "new_api": null,
          "old_text": "search_element->SameValueZero(*element_k)",
          "new_text": null,
          "old_line_content": "    if (search_element->SameValueZero(*element_k)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "true_value",
          "new_api": null,
          "old_text": "ReadOnlyRoots(isolate).true_value()",
          "new_text": null,
          "old_line_content": "      return ReadOnlyRoots(isolate).true_value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": "length",
          "new_api": null,
          "old_text": "args.length()",
          "new_text": null,
          "old_line_content": "  DCHECK_EQ(3, args.length());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "CONVERT_ARG_HANDLE_CHECKED",
          "new_api": null,
          "old_text": "CONVERT_ARG_HANDLE_CHECKED(Object, search_element, 1)",
          "new_text": null,
          "old_line_content": "  CONVERT_ARG_HANDLE_CHECKED(Object, search_element, 1);",
          "new_line_content": "RUNTIME_FUNCTION(Runtime_ArrayIndexOf) {",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "CONVERT_ARG_HANDLE_CHECKED",
          "new_api": null,
          "old_text": "CONVERT_ARG_HANDLE_CHECKED(Object, from_index, 2)",
          "new_text": null,
          "old_line_content": "  CONVERT_ARG_HANDLE_CHECKED(Object, from_index, 2);",
          "new_line_content": "  HandleScope hs(isolate);",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "at",
          "new_api": null,
          "old_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(\n      isolate, object,\n      Object::ToObject(isolate, args.at(0), \"Array.prototype.indexOf\"))",
          "new_text": null,
          "old_line_content": "  ASSIGN_RETURN_FAILURE_ON_EXCEPTION(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "at",
          "new_api": null,
          "old_text": "args.at(0)",
          "new_text": null,
          "old_line_content": "      Object::ToObject(isolate, args.at(0), \"Array.prototype.indexOf\"));",
          "new_line_content": "  Handle<JSReceiver> object;",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "IsJSArray",
          "new_api": null,
          "old_text": "object->IsJSArray()",
          "new_text": null,
          "old_line_content": "    if (object->IsJSArray()) {",
          "new_line_content": "  // Let len be ? ToLength(? Get(O, \"length\")).",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "length",
          "new_api": null,
          "old_text": "JSArray::cast(*object).length().ToArrayLength(&len32)",
          "new_text": null,
          "old_line_content": "      bool success = JSArray::cast(*object).length().ToArrayLength(&len32);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "USE",
          "new_api": null,
          "old_text": "USE(success)",
          "new_text": null,
          "old_line_content": "      USE(success);",
          "new_line_content": "      uint32_t len32 = 0;",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "factory",
          "new_api": null,
          "old_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(\n          isolate, len_,\n          Object::GetProperty(isolate, object,\n                              isolate->factory()->length_string()))",
          "new_text": null,
          "old_line_content": "      ASSIGN_RETURN_FAILURE_ON_EXCEPTION(",
          "new_line_content": "      len = len32;",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "factory",
          "new_api": null,
          "old_text": "Object::GetProperty(isolate, object,\n                              isolate->factory()->length_string())",
          "new_text": null,
          "old_line_content": "          Object::GetProperty(isolate, object,",
          "new_line_content": "      Handle<Object> len_;",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "Number",
          "new_api": null,
          "old_text": "len_->Number()",
          "new_text": null,
          "old_line_content": "      len = static_cast<int64_t>(len_->Number());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "Smi::FromInt(-1)",
          "new_api": null,
          "old_text": "Smi::FromInt(-1)",
          "new_text": null,
          "old_line_content": "  if (len == 0) return Smi::FromInt(-1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION",
          "new_api": null,
          "old_text": "ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, from_index,\n                                       Object::ToInteger(isolate, from_index))",
          "new_text": null,
          "old_line_content": "    ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, from_index,",
          "new_line_content": "  // produces the value 0.)",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "Object::ToInteger(isolate, from_index)",
          "new_api": null,
          "old_text": "Object::ToInteger(isolate, from_index)",
          "new_text": null,
          "old_line_content": "                                       Object::ToInteger(isolate, from_index));",
          "new_line_content": "  int64_t start_from;",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "Number",
          "new_api": null,
          "old_text": "from_index->Number()",
          "new_text": null,
          "old_line_content": "    double fp = from_index->Number();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "IsSpecialReceiverMap",
          "new_api": null,
          "old_text": "object->map().IsSpecialReceiverMap()",
          "new_text": null,
          "old_line_content": "  if (!object->map().IsSpecialReceiverMap() && len <= kMaxUInt32 &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "JSObject::cast(*object)",
          "new_api": null,
          "old_text": "JSObject::cast(*object)",
          "new_text": null,
          "old_line_content": "      JSObject::PrototypeHasNoElements(isolate, JSObject::cast(*object))) {",
          "new_line_content": "  // If the receiver is not a special receiver type, and the length fits",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "Handle<JSObject>::cast(object)",
          "new_api": null,
          "old_text": "Handle<JSObject>::cast(object)",
          "new_text": null,
          "old_line_content": "    Handle<JSObject> obj = Handle<JSObject>::cast(object);",
          "new_line_content": "  // uint32_t, perform fast operation tailored to specific ElementsKinds.",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 30,
      "total_additions": 30,
      "total_deletions": 30,
      "total_api_changes": 90
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 90,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          289,
          290,
          275,
          286,
          287
        ]
      }
    },
    "api_calls_before": 228,
    "api_calls_after": 228,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 2,
      "total_diff_lines": 27
    }
  }
}