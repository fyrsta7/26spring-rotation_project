diff --git a/src/objects/stack-frame-info.cc b/src/objects/stack-frame-info.cc
index a6797599871..2f07c75ecfd 100644
--- a/src/objects/stack-frame-info.cc
+++ b/src/objects/stack-frame-info.cc
@@ -42,7 +42,21 @@ int StackTraceFrame::GetOneBasedColumnNumber(Handle<StackTraceFrame> frame) {
 
 // static
 int StackTraceFrame::GetScriptId(Handle<StackTraceFrame> frame) {
-  int id = GetFrameInfo(frame)->script_id();
+  Isolate* isolate = frame->GetIsolate();
+
+  // Use FrameInfo if it's already there, but avoid initializing it for just
+  // the script id, as it is much more expensive than just getting this
+  // directly. See GetScriptNameOrSourceUrl() for more detail.
+  int id;
+  if (!frame->frame_info().IsUndefined()) {
+    id = GetFrameInfo(frame)->script_id();
+  } else {
+    FrameArrayIterator it(
+        isolate, handle(FrameArray::cast(frame->frame_array()), isolate),
+        frame->frame_index());
+    DCHECK(it.HasFrame());
+    id = it.Frame()->GetScriptId();
+  }
   return id != StackFrameBase::kNone ? id : Message::kNoScriptIdInfo;
 }
 
