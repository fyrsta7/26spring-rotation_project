{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/4f0238757052ce93a4c42f31236ca879de80c850",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/4f0238757052ce93a4c42f31236ca879de80c850/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/4f0238757052ce93a4c42f31236ca879de80c850/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/4f0238757052ce93a4c42f31236ca879de80c850/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 76,
          "old_api": "InitializeJSObjectFromMap",
          "new_api": "StoreObjectFieldRoot",
          "old_text": "InitializeJSObjectFromMap(\n        wrapped_value, promise_map,\n        IntPtrConstant(JSPromise::kSizeWithEmbedderFields))",
          "new_text": "StoreObjectFieldRoot(wrapped_value, JSPromise::kPropertiesOrHashOffset,\n                         RootIndex::kEmptyFixedArray)",
          "old_line_content": "    InitializeJSObjectFromMap(",
          "new_line_content": "    StoreObjectFieldRoot(wrapped_value, JSPromise::kPropertiesOrHashOffset,",
          "content_same": false
        },
        {
          "line": 78,
          "old_api": "IntPtrConstant",
          "new_api": "StoreObjectFieldRoot",
          "old_text": "IntPtrConstant(JSPromise::kSizeWithEmbedderFields)",
          "new_text": "StoreObjectFieldRoot(wrapped_value, JSPromise::kElementsOffset,\n                         RootIndex::kEmptyFixedArray)",
          "old_line_content": "        IntPtrConstant(JSPromise::kSizeWithEmbedderFields));",
          "new_line_content": "    StoreObjectFieldRoot(wrapped_value, JSPromise::kElementsOffset,",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "InitializeNativeClosure",
          "new_api": "InnerAllocate",
          "old_text": "InitializeNativeClosure(closure_context, native_context, on_resolve,\n                          on_resolve_context_index)",
          "new_text": "InnerAllocate(base, kResolveClosureOffset)",
          "old_line_content": "  InitializeNativeClosure(closure_context, native_context, on_resolve,",
          "new_line_content": "  Node* const on_resolve = InnerAllocate(base, kResolveClosureOffset);",
          "content_same": false
        },
        {
          "line": 89,
          "old_api": "InitializeNativeClosure",
          "new_api": "InnerAllocate",
          "old_text": "InitializeNativeClosure(closure_context, native_context, on_reject,\n                          on_reject_context_index)",
          "new_text": "InnerAllocate(base, kRejectClosureOffset)",
          "old_line_content": "  InitializeNativeClosure(closure_context, native_context, on_reject,",
          "new_line_content": "  Node* const on_reject = InnerAllocate(base, kRejectClosureOffset);",
          "content_same": false
        },
        {
          "line": 93,
          "old_api": "UndefinedConstant",
          "new_api": "VARIABLE",
          "old_text": "UndefinedConstant()",
          "new_text": "VARIABLE(var_throwaway, MachineRepresentation::kTaggedPointer,\n           UndefinedConstant())",
          "old_line_content": "           UndefinedConstant());",
          "new_line_content": "  VARIABLE(var_throwaway, MachineRepresentation::kTaggedPointer,",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": "IsPromiseHookEnabledOrHasAsyncEventDelegate",
          "new_api": "IsDebugActive",
          "old_text": "IsPromiseHookEnabledOrHasAsyncEventDelegate()",
          "new_text": "IsDebugActive()",
          "old_line_content": "  Branch(IsPromiseHookEnabledOrHasAsyncEventDelegate(), &if_debugging,",
          "new_line_content": "  GotoIf(IsDebugActive(), &if_debugging);",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": "CallRuntime",
          "new_api": "BIND",
          "old_text": "CallRuntime(Runtime::kAwaitPromisesInitOld, context, value,\n                                 wrapped_value, outer_promise, on_reject,\n                                 is_predicted_as_caught)",
          "new_text": "BIND(&if_debugging)",
          "old_line_content": "  var_throwaway.Bind(CallRuntime(Runtime::kAwaitPromisesInitOld, context, value,",
          "new_line_content": "  BIND(&if_debugging);",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": "BIND",
          "new_api": "Goto",
          "old_text": "BIND(&do_resolve_promise)",
          "new_text": "Goto(&do_resolve_promise)",
          "old_line_content": "  BIND(&do_resolve_promise);",
          "new_line_content": "  Goto(&do_resolve_promise);",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "JSPromise",
          "new_api": "adNativeContext",
          "old_text": "JSPromise(promise));",
          "new_text": "adNativeContext(context);\n",
          "old_line_content": "  CSA_ASSERT(this, IsJSPromise(promise));",
          "new_line_content": "  Node* const native_context = LoadNativeContext(context);",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": "eObjectFieldNoWriteBarrier",
          "new_api": "eMapNoWriteBarrier",
          "old_text": "eObjectFieldNoWriteBarrier(closure_context, Context::kLengthOffset,\n                                   SmiConstant(Context::MIN_CONTEXT_SLOTS));\n  ",
          "new_text": "eMapNoWriteBarrier(closure_context, RootIndex::kAwaitContextMap);\n  ",
          "old_line_content": "    StoreObjectFieldNoWriteBarrier(closure_context, Context::kLengthOffset,",
          "new_line_content": "    StoreMapNoWriteBarrier(closure_context, RootIndex::kAwaitContextMap);",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": "onstant",
          "new_api": "eObjectFieldNoWriteBarrier",
          "old_text": "onstant(Context::MIN_CONTEXT_SLOTS));\n ",
          "new_text": "eObjectFieldNoWriteBarrier(closure_context, Context::kLengthOffset,\n                                   SmiConstant(Context::MIN_CONTEXT_SLOTS));\n  ",
          "old_line_content": "                                   SmiConstant(Context::MIN_CONTEXT_SLOTS));",
          "new_line_content": "    StoreObjectFieldNoWriteBarrier(closure_context, Context::kLengthOffset,",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": "eContextElementNoWriteBarrier",
          "new_api": "ContextElement",
          "old_text": "eContextElementNoWriteBarrier(\n        closure_context, Context::SCOPE_INFO_INDEX, empty_scope_info);\n  ",
          "new_text": "ContextElement(native_context, Context::SCOPE_INFO_INDEX);\n  ",
          "old_line_content": "    StoreContextElementNoWriteBarrier(",
          "new_line_content": "        LoadContextElement(native_context, Context::SCOPE_INFO_INDEX);",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "ializeNativeClosure",
          "new_api": "rAllocate",
          "old_text": "ializeNativeClosure(closure_context, native_context, on_resolve,\n                          on_resolve_context_index);\n\n ",
          "new_text": "rAllocate(base, kResolveClosureOffset);\n  ",
          "old_line_content": "  InitializeNativeClosure(closure_context, native_context, on_resolve,",
          "new_line_content": "  Node* const on_resolve = InnerAllocate(base, kResolveClosureOffset);",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "ializeNativeClosure",
          "new_api": "rAllocate",
          "old_text": "ializeNativeClosure(closure_context, native_context, on_reject,\n                          on_reject_context_index);\n\n ",
          "new_text": "rAllocate(base, kRejectClosureOffset);\n  ",
          "old_line_content": "  InitializeNativeClosure(closure_context, native_context, on_reject,",
          "new_line_content": "  Node* const on_reject = InnerAllocate(base, kRejectClosureOffset);",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "finedConstant",
          "new_api": "ABLE",
          "old_text": "finedConstant());\n\n",
          "new_text": "ABLE(var_throwaway, MachineRepresentation::kTaggedPointer,\n           UndefinedConstant());\n\n ",
          "old_line_content": "           UndefinedConstant());",
          "new_line_content": "  VARIABLE(var_throwaway, MachineRepresentation::kTaggedPointer,",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": "omiseHookEnabledOrHasAsyncEventDelegate",
          "new_api": "bugActive",
          "old_text": "omiseHookEnabledOrHasAsyncEventDelegate(), &i",
          "new_text": "bugActive(), &i",
          "old_line_content": "  Branch(IsPromiseHookEnabledOrHasAsyncEventDelegate(), &if_debugging,",
          "new_line_content": "  GotoIf(IsDebugActive(), &if_debugging);",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": "Runtime",
          "new_api": "(&if_debugging);",
          "old_text": "Runtime(Runtime::kAwaitPromisesInit, context, promise,\n                                 promise, outer_promise, on_reject,\n                                 is_predicted_as_caught));\n ",
          "new_text": "(&if_debugging);\n  ",
          "old_line_content": "  var_throwaway.Bind(CallRuntime(Runtime::kAwaitPromisesInit, context, promise,",
          "new_line_content": "  BIND(&if_debugging);",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "(\n      MachineType::Uint8(),\n      ExternalConstant(\n          ExternalReference::address_of_harmony_await_optimization_flag())));",
          "new_api": "IC_ASSERT",
          "old_text": "(\n      MachineType::Uint8(),\n      ExternalConstant(\n          ExternalReference::address_of_harmony_await_optimization_flag())));\n ",
          "new_text": "IC_ASSERT(sizeof(FLAG_harmony_await_optimization) == 1);\n  ",
          "old_line_content": "  TNode<Word32T> flag_value = UncheckedCast<Word32T>(Load(",
          "new_line_content": "  STATIC_ASSERT(sizeof(FLAG_harmony_await_optimization) == 1);",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "ineType::Uint8(),",
          "new_api": "(\n      MachineType::Uint8(),\n      ExternalConstant(\n          ExternalReference::address_of_harmony_await_optimization_flag())));",
          "old_text": "ineType::Uint8(),\n  ",
          "new_text": "(\n      MachineType::Uint8(),\n      ExternalConstant(\n          ExternalReference::address_of_harmony_await_optimization_flag())));\n ",
          "old_line_content": "      MachineType::Uint8(),",
          "new_line_content": "  TNode<Word32T> flag_value = UncheckedCast<Word32T>(Load(",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "rnalConstant",
          "new_api": "ineType::Uint8(),",
          "old_text": "rnalConstant(\n          ExternalReference::address_of_harmony_await_optimization_flag())));\n",
          "new_text": "ineType::Uint8(),\n  ",
          "old_line_content": "      ExternalConstant(",
          "new_line_content": "      MachineType::Uint8(),",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "rnalReference::address_of_harmony_await_optimization_flag())));",
          "new_api": "rnalConstant",
          "old_text": "rnalReference::address_of_harmony_await_optimization_flag())));",
          "new_text": "rnalConstant(\n          ExternalReference::address_of_harmony_await_optimization_flag())));\n",
          "old_line_content": "          ExternalReference::address_of_harmony_await_optimization_flag())));",
          "new_line_content": "      ExternalConstant(",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "2Constant",
          "new_api": "rnalReference::address_of_harmony_await_optimization_flag())));",
          "old_text": "2Constant(0)), &",
          "new_text": "rnalReference::address_of_harmony_await_optimization_flag())));",
          "old_line_content": "  GotoIf(Word32Equal(flag_value, Int32Constant(0)), &if_old);",
          "new_line_content": "          ExternalReference::address_of_harmony_await_optimization_flag())));",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "Map",
          "new_api": "edIsSmi",
          "old_text": "Map(value);\n  ",
          "new_text": "edIsSmi(value), &i",
          "old_line_content": "  Node* const value_map = LoadMap(value);",
          "new_line_content": "  GotoIf(TaggedIsSmi(value), &if_old);",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "PromiseMap",
          "new_api": "Map",
          "old_text": "PromiseMap(value_map), &i",
          "new_text": "Map(value);\n  ",
          "old_line_content": "  GotoIfNot(IsJSPromiseMap(value_map), &if_old);",
          "new_line_content": "  Node* const value_map = LoadMap(value);",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": "MapPrototype",
          "new_api": "ContextElement",
          "old_text": "MapPrototype(value_map), pr",
          "new_text": "ContextElement(native_context, Context::PROMISE_PROTOTYPE_INDEX);\n  ",
          "old_line_content": "  GotoIfNot(WordEqual(LoadMapPrototype(value_map), promise_prototype),",
          "new_line_content": "      LoadContextElement(native_context, Context::PROMISE_PROTOTYPE_INDEX);",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "Equal",
          "new_api": "ContextElement",
          "old_text": "Equal(value_constructor, promise_function), &i",
          "new_text": "ContextElement(native_context, Context::PROMISE_FUNCTION_INDEX);\n  ",
          "old_line_content": "    Branch(WordEqual(value_constructor, promise_function), &if_new, &if_old);",
          "new_line_content": "        LoadContextElement(native_context, Context::PROMISE_FUNCTION_INDEX);",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "tOld",
          "new_api": "(&if_old);",
          "old_text": "tOld(context, generator, value, outer_promise,\n                       on_resolve_context_index, on_reject_context_index,\n                       is_predicted_as_caught));\n ",
          "new_text": "(&if_old);\n  ",
          "old_line_content": "  result.Bind(AwaitOld(context, generator, value, outer_promise,",
          "new_line_content": "  BIND(&if_old);",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "tOptimized",
          "new_api": "(&if_new);",
          "old_text": "tOptimized(context, generator, value, outer_promise,\n                             on_resolve_context_index, on_reject_context_index,\n                             is_predicted_as_caught));\n ",
          "new_text": "(&if_new);\n  ",
          "old_line_content": "  result.Bind(AwaitOptimized(context, generator, value, outer_promise,",
          "new_line_content": "  BIND(&if_new);",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "value",
          "new_api": "(&done);",
          "old_text": "lt.value();\n}\n",
          "new_text": "(&done);\n  ",
          "old_line_content": "  return result.value();",
          "new_line_content": "  BIND(&done);",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "trConstant",
          "new_api": "MapInstanceSizeInWords",
          "old_text": "trConstant(JSFunction::kSizeWithoutPrototype /\n                                            kPointerSize)));\n",
          "new_text": "MapInstanceSizeInWords(function_map),\n  ",
          "old_line_content": "                             IntPtrConstant(JSFunction::kSizeWithoutPrototype /",
          "new_line_content": "  CSA_ASSERT(this, WordEqual(LoadMapInstanceSizeInWords(function_map),",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "eMapNoWriteBarrier",
          "new_api": "IC_ASSERT",
          "old_text": "eMapNoWriteBarrier(function, function_map);\n  ",
          "new_text": "IC_ASSERT(JSFunction::kSizeWithoutPrototype == 7 * kPointerSize);\n  ",
          "old_line_content": "  StoreMapNoWriteBarrier(function, function_map);",
          "new_line_content": "  STATIC_ASSERT(JSFunction::kSizeWithoutPrototype == 7 * kPointerSize);",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "eObjectFieldRoot",
          "new_api": "eMapNoWriteBarrier",
          "old_text": "eObjectFieldRoot(function, JSObject::kPropertiesOrHashOffset,\n                       RootIndex::kEmptyFixedArray);\n  ",
          "new_text": "eMapNoWriteBarrier(function, function_map);\n  ",
          "old_line_content": "  StoreObjectFieldRoot(function, JSObject::kPropertiesOrHashOffset,",
          "new_line_content": "  StoreMapNoWriteBarrier(function, function_map);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "eObjectFieldNoWriteBarrier",
          "new_api": "ContextElement",
          "old_text": "eObjectFieldNoWriteBarrier(\n      function, JSFunction::kSharedFunctionInfoOffset, shared_info);\n  ",
          "new_text": "ContextElement(native_context, context_index));\n ",
          "old_line_content": "  StoreObjectFieldNoWriteBarrier(",
          "new_line_content": "      CAST(LoadContextElement(native_context, context_index));",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "eObjectFieldNoWriteBarrier",
          "new_api": "Builtin",
          "old_text": "eObjectFieldNoWriteBarrier(function, JSFunction::kCodeOffset, code);\n}\n",
          "new_text": "Builtin(builtin_id);\n  ",
          "old_line_content": "  StoreObjectFieldNoWriteBarrier(function, JSFunction::kCodeOffset, code);",
          "new_line_content": "  TNode<Code> code = LoadBuiltin(builtin_id);",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "nstanceType",
          "new_api": "ASSERT",
          "old_text": "nstanceType(on_fulfilled_shared, SHARED_FUNCTION_INFO_TYPE));\n ",
          "new_text": "ASSERT(this,\n             HasInstanceType(on_fulfilled_shared, SHARED_FUNCTION_INFO_TYPE));\n  ",
          "old_line_content": "             HasInstanceType(on_fulfilled_shared, SHARED_FUNCTION_INFO_TYPE));",
          "new_line_content": "  CSA_ASSERT(this,",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "cateFunctionWithMapAndContext",
          "new_api": "cateAsyncIteratorValueUnwrapContext",
          "old_text": "cateFunctionWithMapAndContext(map, on_fulfilled_shared,\n                                           closure_context);\n}\n",
          "new_text": "cateAsyncIteratorValueUnwrapContext(native_context, done);\n  ",
          "old_line_content": "  return AllocateFunctionWithMapAndContext(map, on_fulfilled_shared,",
          "new_line_content": "      AllocateAsyncIteratorValueUnwrapContext(native_context, done);",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "olean",
          "new_api": "tiveContext",
          "old_text": "olean(done));\n\n",
          "new_text": "tiveContext(native_context));\n ",
          "old_line_content": "  CSA_ASSERT(this, IsBoolean(done));",
          "new_line_content": "  CSA_ASSERT(this, IsNativeContext(native_context));",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": "eContextElementNoWriteBarrier",
          "new_api": "tePromiseContext",
          "old_text": "eContextElementNoWriteBarrier(context, ValueUnwrapContext::kDoneSlot,\n                                    done);\n  ",
          "new_text": "tePromiseContext(native_context, ValueUnwrapContext::kLength);\n  ",
          "old_line_content": "  StoreContextElementNoWriteBarrier(context, ValueUnwrapContext::kDoneSlot,",
          "new_line_content": "      CreatePromiseContext(native_context, ValueUnwrapContext::kLength);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": "olean",
          "new_api": "ContextElement",
          "old_text": "olean(done));\n\n",
          "new_text": "ContextElement(context, ValueUnwrapContext::kDoneSlot);\n  ",
          "old_line_content": "  CSA_ASSERT(this, IsBoolean(done));",
          "new_line_content": "  Node* const done = LoadContextElement(context, ValueUnwrapContext::kDoneSlot);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 259,
          "old_api": null,
          "new_api": "trConstant",
          "old_text": null,
          "new_text": "trConstant(JSFunction::kSizeWithoutPrototype /\n                                            kPointerSize)));\n",
          "old_line_content": "                                            kPointerSize)));",
          "new_line_content": "                             IntPtrConstant(JSFunction::kSizeWithoutPrototype /",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "eObjectFieldRoot",
          "old_text": null,
          "new_text": "eObjectFieldRoot(function, JSObject::kPropertiesOrHashOffset,\n                       RootIndex::kEmptyFixedArray);\n  ",
          "old_line_content": "                       RootIndex::kEmptyFixedArray);",
          "new_line_content": "  StoreObjectFieldRoot(function, JSObject::kPropertiesOrHashOffset,",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": null,
          "new_api": "cateInNewSpace",
          "old_text": null,
          "new_text": "cateInNewSpace(kTotalSize);\n  ",
          "old_line_content": "  Node* const closure_context = base;",
          "new_line_content": "  Node* const base = AllocateInNewSpace(kTotalSize);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": null,
          "new_api": "eObjectFieldRoot",
          "old_text": null,
          "new_text": "eObjectFieldRoot(function, JSObject::kElementsOffset,\n                       RootIndex::kEmptyFixedArray);\n  ",
          "old_line_content": "                       RootIndex::kEmptyFixedArray);",
          "new_line_content": "  StoreObjectFieldRoot(function, JSObject::kElementsOffset,",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "eObjectFieldRoot",
          "old_text": null,
          "new_text": "eObjectFieldRoot(function, JSFunction::kFeedbackCellOffset,\n                       RootIndex::kManyClosuresCell);\n\n ",
          "old_line_content": "                       RootIndex::kManyClosuresCell);",
          "new_line_content": "  StoreObjectFieldRoot(function, JSFunction::kFeedbackCellOffset,",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "onstant",
          "old_text": null,
          "new_text": "onstant(Context::MIN_CONTEXT_SLOTS));\n ",
          "old_line_content": "    Node* const empty_scope_info =",
          "new_line_content": "                                   SmiConstant(Context::MIN_CONTEXT_SLOTS));",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "eObjectFieldNoWriteBarrier",
          "old_text": null,
          "new_text": "eObjectFieldNoWriteBarrier(\n      function, JSFunction::kSharedFunctionInfoOffset, shared_info);\n  ",
          "old_line_content": "      function, JSFunction::kSharedFunctionInfoOffset, shared_info);",
          "new_line_content": "  StoreObjectFieldNoWriteBarrier(",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": null,
          "new_api": "eContextElementNoWriteBarrier",
          "old_text": null,
          "new_text": "eContextElementNoWriteBarrier(\n        closure_context, Context::SCOPE_INFO_INDEX, empty_scope_info);\n  ",
          "old_line_content": "        closure_context, Context::SCOPE_INFO_INDEX, empty_scope_info);",
          "new_line_content": "    StoreContextElementNoWriteBarrier(",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": null,
          "new_api": "eObjectFieldNoWriteBarrier",
          "old_text": null,
          "new_text": "eObjectFieldNoWriteBarrier(function, JSFunction::kContextOffset, context);\n\n ",
          "old_line_content": "",
          "new_line_content": "  StoreObjectFieldNoWriteBarrier(function, JSFunction::kContextOffset, context);",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": null,
          "new_api": "eContextElementNoWriteBarrier",
          "old_text": null,
          "new_text": "eContextElementNoWriteBarrier(closure_context, Context::PREVIOUS_INDEX,\n                                      native_context);\n  ",
          "old_line_content": "                                      native_context);",
          "new_line_content": "    StoreContextElementNoWriteBarrier(closure_context, Context::PREVIOUS_INDEX,",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "eContextElementNoWriteBarrier",
          "old_text": null,
          "new_text": "eContextElementNoWriteBarrier(closure_context, Context::EXTENSION_INDEX,\n                                      generator);\n  ",
          "old_line_content": "                                      generator);",
          "new_line_content": "    StoreContextElementNoWriteBarrier(closure_context, Context::EXTENSION_INDEX,",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": null,
          "new_api": "eContextElementNoWriteBarrier",
          "old_text": null,
          "new_text": "eContextElementNoWriteBarrier(\n        closure_context, Context::NATIVE_CONTEXT_INDEX, native_context);\n  ",
          "old_line_content": "        closure_context, Context::NATIVE_CONTEXT_INDEX, native_context);",
          "new_line_content": "    StoreContextElementNoWriteBarrier(",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "ObjectField<Smi>(\n      shared_info, SharedFunctionInfo::kFunctionDataOffset);",
          "old_text": null,
          "new_text": "ObjectField<Smi>(\n      shared_info, SharedFunctionInfo::kFunctionDataOffset);\n  ",
          "old_line_content": "      shared_info, SharedFunctionInfo::kFunctionDataOffset);",
          "new_line_content": "  TNode<Smi> builtin_id = LoadObjectField<Smi>(",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "eObjectFieldNoWriteBarrier",
          "old_text": null,
          "new_text": "eObjectFieldNoWriteBarrier(function, JSFunction::kCodeOffset, code);\n}\n",
          "old_line_content": "}",
          "new_line_content": "  StoreObjectFieldNoWriteBarrier(function, JSFunction::kCodeOffset, code);",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": null,
          "new_api": "ializeNativeClosure",
          "old_text": null,
          "new_text": "ializeNativeClosure(closure_context, native_context, on_resolve,\n                          on_resolve_context_index);\n\n ",
          "old_line_content": "                          on_resolve_context_index);",
          "new_line_content": "  InitializeNativeClosure(closure_context, native_context, on_resolve,",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": null,
          "new_api": "ContextElement",
          "old_text": null,
          "new_text": "ContextElement(\n      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX);\n  ",
          "old_line_content": "      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX);",
          "new_line_content": "  Node* const map = LoadContextElement(",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": null,
          "new_api": "ializeNativeClosure",
          "old_text": null,
          "new_text": "ializeNativeClosure(closure_context, native_context, on_reject,\n                          on_reject_context_index);\n\n ",
          "old_line_content": "                          on_reject_context_index);",
          "new_line_content": "  InitializeNativeClosure(closure_context, native_context, on_reject,",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": null,
          "new_api": "ContextElement",
          "old_text": null,
          "new_text": "ContextElement(\n      native_context, Context::ASYNC_ITERATOR_VALUE_UNWRAP_SHARED_FUN);\n  ",
          "old_line_content": "      native_context, Context::ASYNC_ITERATOR_VALUE_UNWRAP_SHARED_FUN);",
          "new_line_content": "  Node* const on_fulfilled_shared = LoadContextElement(",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": null,
          "new_api": "finedConstant",
          "old_text": null,
          "new_text": "finedConstant());\n\n",
          "old_line_content": "",
          "new_line_content": "           UndefinedConstant());",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": null,
          "new_api": "nstanceType",
          "old_text": null,
          "new_text": "nstanceType(on_fulfilled_shared, SHARED_FUNCTION_INFO_TYPE));\n ",
          "old_line_content": "  Node* const closure_context =",
          "new_line_content": "             HasInstanceType(on_fulfilled_shared, SHARED_FUNCTION_INFO_TYPE));",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "cateFunctionWithMapAndContext",
          "old_text": null,
          "new_text": "cateFunctionWithMapAndContext(map, on_fulfilled_shared,\n                                           closure_context);\n}\n",
          "old_line_content": "                                           closure_context);",
          "new_line_content": "  return AllocateFunctionWithMapAndContext(map, on_fulfilled_shared,",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": null,
          "new_api": "omiseHookEnabledOrHasAsyncEventDelegate",
          "old_text": null,
          "new_text": "omiseHookEnabledOrHasAsyncEventDelegate(), &i",
          "old_line_content": "         &do_perform_promise_then);",
          "new_line_content": "  Branch(IsPromiseHookEnabledOrHasAsyncEventDelegate(), &if_debugging,",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": null,
          "new_api": "Runtime",
          "old_text": null,
          "new_text": "Runtime(Runtime::kAwaitPromisesInit, context, promise,\n                                 promise, outer_promise, on_reject,\n                                 is_predicted_as_caught));\n ",
          "old_line_content": "                                 promise, outer_promise, on_reject,",
          "new_line_content": "  var_throwaway.Bind(CallRuntime(Runtime::kAwaitPromisesInit, context, promise,",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": null,
          "new_api": "olean",
          "old_text": null,
          "new_text": "olean(done));\n\n",
          "old_line_content": "",
          "new_line_content": "  CSA_ASSERT(this, IsBoolean(done));",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "(&do_perform_promise_then);",
          "old_text": null,
          "new_text": "(&do_perform_promise_then);\n\n ",
          "old_line_content": "",
          "new_line_content": "  BIND(&do_perform_promise_then);",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": null,
          "new_api": "eContextElementNoWriteBarrier",
          "old_text": null,
          "new_text": "eContextElementNoWriteBarrier(context, ValueUnwrapContext::kDoneSlot,\n                                    done);\n  ",
          "old_line_content": "                                    done);",
          "new_line_content": "  StoreContextElementNoWriteBarrier(context, ValueUnwrapContext::kDoneSlot,",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "throwaway.value());\n}",
          "old_line_content": "}",
          "new_line_content": "                     on_resolve, on_reject, var_throwaway.value());",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "meter",
          "old_text": null,
          "new_text": "meter(Descriptor::kContext);\n\n ",
          "old_line_content": "",
          "new_line_content": "  Node* const context = Parameter(Descriptor::kContext);",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "olean",
          "old_text": null,
          "new_text": "olean(done));\n\n",
          "old_line_content": "",
          "new_line_content": "  CSA_ASSERT(this, IsBoolean(done));",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "ABLE",
          "old_text": null,
          "new_text": "ABLE(result, MachineRepresentation::kTagged);\n  ",
          "old_line_content": "  Label if_old(this), if_new(this), done(this),",
          "new_line_content": "  VARIABLE(result, MachineRepresentation::kTagged);",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "Builtin",
          "old_text": null,
          "new_text": "Builtin(Builtins::kCreateIterResultObject, context, value, done);\n\n ",
          "old_line_content": "",
          "new_line_content": "      CallBuiltin(Builtins::kCreateIterResultObject, context, value, done);",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "rn",
          "old_text": null,
          "new_text": "rn(unwrapped_value);\n}\n",
          "old_line_content": "}",
          "new_line_content": "  Return(unwrapped_value);",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "2Constant",
          "old_text": null,
          "new_text": "2Constant(0)), &",
          "old_line_content": "",
          "new_line_content": "  GotoIf(Word32Equal(flag_value, Int32Constant(0)), &if_old);",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": null,
          "new_api": "PromiseInit",
          "old_text": null,
          "new_text": "PromiseInit(wrapped_value)",
          "old_line_content": "  }",
          "new_line_content": "    PromiseInit(wrapped_value);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": null,
          "new_api": "PromiseMap",
          "old_text": null,
          "new_text": "PromiseMap(value_map), &i",
          "old_line_content": "  // We can skip the \"constructor\" lookup on {value} if it's [[Prototype]]",
          "new_line_content": "  GotoIfNot(IsJSPromiseMap(value_map), &if_old);",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": null,
          "new_api": "ContextElement",
          "old_text": null,
          "new_text": "ContextElement(\n      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX));\n ",
          "old_line_content": "      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX));",
          "new_line_content": "  TNode<Map> function_map = CAST(LoadContextElement(",
          "content_same": false
        },
        {
          "line": 85,
          "old_api": null,
          "new_api": "InitializeNativeClosure",
          "old_text": null,
          "new_text": "InitializeNativeClosure(closure_context, native_context, on_resolve,\n                          on_resolve_context_index)",
          "old_line_content": "                          on_resolve_context_index);",
          "new_line_content": "  InitializeNativeClosure(closure_context, native_context, on_resolve,",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "NativeContext",
          "old_text": null,
          "new_text": "NativeContext(context);\n  ",
          "old_line_content": "  Node* const promise_prototype =",
          "new_line_content": "  Node* const native_context = LoadNativeContext(context);",
          "content_same": false
        },
        {
          "line": 90,
          "old_api": null,
          "new_api": "InitializeNativeClosure",
          "old_text": null,
          "new_text": "InitializeNativeClosure(closure_context, native_context, on_reject,\n                          on_reject_context_index)",
          "old_line_content": "                          on_reject_context_index);",
          "new_line_content": "  InitializeNativeClosure(closure_context, native_context, on_reject,",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": null,
          "new_api": "MapPrototype",
          "old_text": null,
          "new_text": "MapPrototype(value_map), pr",
          "old_line_content": "            &if_slow_constructor);",
          "new_line_content": "  GotoIfNot(WordEqual(LoadMapPrototype(value_map), promise_prototype),",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": null,
          "new_api": "omiseSpeciesProtectorCellInvalid",
          "old_text": null,
          "new_text": "omiseSpeciesProtectorCellInvalid(), &i",
          "old_line_content": "",
          "new_line_content": "  Branch(IsPromiseSpeciesProtectorCellInvalid(), &if_slow_constructor, &if_new);",
          "content_same": false
        },
        {
          "line": 94,
          "old_api": null,
          "new_api": "UndefinedConstant",
          "old_text": null,
          "new_text": "UndefinedConstant()",
          "old_line_content": "",
          "new_line_content": "           UndefinedConstant());",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": null,
          "new_api": "(&if_slow_constructor);",
          "old_text": null,
          "new_text": "(&if_slow_constructor);\n  ",
          "old_line_content": "  {",
          "new_line_content": "  BIND(&if_slow_constructor);",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "factory",
          "old_text": null,
          "new_text": "ate()->factory()->constructor_string());\n ",
          "old_line_content": "    Node* const promise_function =",
          "new_line_content": "        GetProperty(context, value, isolate()->factory()->constructor_string());",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": null,
          "new_api": "IsPromiseHookEnabledOrHasAsyncEventDelegate",
          "old_text": null,
          "new_text": "IsPromiseHookEnabledOrHasAsyncEventDelegate()",
          "old_line_content": "         &do_resolve_promise);",
          "new_line_content": "  Branch(IsPromiseHookEnabledOrHasAsyncEventDelegate(), &if_debugging,",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "Equal",
          "old_text": null,
          "new_text": "Equal(value_constructor, promise_function), &i",
          "old_line_content": "  }",
          "new_line_content": "    Branch(WordEqual(value_constructor, promise_function), &if_new, &if_old);",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": null,
          "new_api": "CallRuntime",
          "old_text": null,
          "new_text": "CallRuntime(Runtime::kAwaitPromisesInitOld, context, value,\n                                 wrapped_value, outer_promise, on_reject,\n                                 is_predicted_as_caught)",
          "old_line_content": "                                 wrapped_value, outer_promise, on_reject,",
          "new_line_content": "  var_throwaway.Bind(CallRuntime(Runtime::kAwaitPromisesInitOld, context, value,",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": null,
          "new_api": "tOld",
          "old_text": null,
          "new_text": "tOld(context, generator, value, outer_promise,\n                       on_resolve_context_index, on_reject_context_index,\n                       is_predicted_as_caught));\n ",
          "old_line_content": "                       on_resolve_context_index, on_reject_context_index,",
          "new_line_content": "  result.Bind(AwaitOld(context, generator, value, outer_promise,",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": null,
          "new_api": "BIND",
          "old_text": null,
          "new_text": "BIND(&do_resolve_promise)",
          "old_line_content": "",
          "new_line_content": "  BIND(&do_resolve_promise);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "(&done);",
          "old_text": null,
          "new_text": "(&done);\n\n ",
          "old_line_content": "",
          "new_line_content": "  Goto(&done);",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": null,
          "new_api": "llBuiltin",
          "old_text": null,
          "new_text": "llBuiltin(Builtins::kResolvePromise, context, wrapped_value, value);\n",
          "old_line_content": "",
          "new_line_content": "  CallBuiltin(Builtins::kResolvePromise, context, wrapped_value, value);",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "tOptimized",
          "old_text": null,
          "new_text": "tOptimized(context, generator, value, outer_promise,\n                             on_resolve_context_index, on_reject_context_index,\n                             is_predicted_as_caught));\n ",
          "old_line_content": "                             on_resolve_context_index, on_reject_context_index,",
          "new_line_content": "  result.Bind(AwaitOptimized(context, generator, value, outer_promise,",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "r_throwaway.value());",
          "old_line_content": "}",
          "new_line_content": "                     on_resolve, on_reject, var_throwaway.value());",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": null,
          "new_api": "(&done);",
          "old_text": null,
          "new_text": "(&done);\n\n ",
          "old_line_content": "",
          "new_line_content": "  Goto(&done);",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "lt.value();\n}\n",
          "old_line_content": "}",
          "new_line_content": "  return result.value();",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": null,
          "new_api": "JSPromise",
          "old_text": null,
          "new_text": "JSPromise(promise));",
          "old_line_content": "",
          "new_line_content": "  CSA_ASSERT(this, IsJSPromise(promise));",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": null,
          "new_api": "xedArray::SizeFor(Context::MIN_CONTEXT_SLOTS);",
          "old_text": null,
          "new_text": "xedArray::SizeFor(Context::MIN_CONTEXT_SLOTS);\n",
          "old_line_content": "  static const int kRejectClosureOffset =",
          "new_line_content": "      FixedArray::SizeFor(Context::MIN_CONTEXT_SLOTS);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 257,
          "old_api": "MapInstanceSizeInWords",
          "new_api": null,
          "old_text": "MapInstanceSizeInWords(function_map),\n  ",
          "new_text": null,
          "old_line_content": "  CSA_ASSERT(this, WordEqual(LoadMapInstanceSizeInWords(function_map),",
          "new_line_content": "  // JSFunction.",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "IC_ASSERT",
          "new_api": null,
          "old_text": "IC_ASSERT(JSFunction::kSizeWithoutPrototype == 7 * kPointerSize);\n  ",
          "new_text": null,
          "old_line_content": "  STATIC_ASSERT(JSFunction::kSizeWithoutPrototype == 7 * kPointerSize);",
          "new_line_content": "                                            kPointerSize)));",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": "cateInNewSpace",
          "new_api": null,
          "old_text": "cateInNewSpace(kTotalSize);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const base = AllocateInNewSpace(kTotalSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "eObjectFieldRoot",
          "new_api": null,
          "old_text": "eObjectFieldRoot(function, JSObject::kElementsOffset,\n                       RootIndex::kEmptyFixedArray);\n  ",
          "new_text": null,
          "old_line_content": "  StoreObjectFieldRoot(function, JSObject::kElementsOffset,",
          "new_line_content": "                       RootIndex::kEmptyFixedArray);",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "eObjectFieldRoot",
          "new_api": null,
          "old_text": "eObjectFieldRoot(function, JSFunction::kFeedbackCellOffset,\n                       RootIndex::kManyClosuresCell);\n\n ",
          "new_text": null,
          "old_line_content": "  StoreObjectFieldRoot(function, JSFunction::kFeedbackCellOffset,",
          "new_line_content": "                       RootIndex::kEmptyFixedArray);",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": "eMapNoWriteBarrier",
          "new_api": null,
          "old_text": "eMapNoWriteBarrier(closure_context, RootIndex::kAwaitContextMap);\n  ",
          "new_text": null,
          "old_line_content": "    StoreMapNoWriteBarrier(closure_context, RootIndex::kAwaitContextMap);",
          "new_line_content": "    // Initialize the await context, storing the {generator} as extension.",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(native_context, context_index));\n ",
          "new_text": null,
          "old_line_content": "      CAST(LoadContextElement(native_context, context_index));",
          "new_line_content": "  TNode<SharedFunctionInfo> shared_info =",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(native_context, Context::SCOPE_INFO_INDEX);\n  ",
          "new_text": null,
          "old_line_content": "        LoadContextElement(native_context, Context::SCOPE_INFO_INDEX);",
          "new_line_content": "    Node* const empty_scope_info =",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "eObjectFieldNoWriteBarrier",
          "new_api": null,
          "old_text": "eObjectFieldNoWriteBarrier(function, JSFunction::kContextOffset, context);\n\n ",
          "new_text": null,
          "old_line_content": "  StoreObjectFieldNoWriteBarrier(function, JSFunction::kContextOffset, context);",
          "new_line_content": "      function, JSFunction::kSharedFunctionInfoOffset, shared_info);",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": "eContextElementNoWriteBarrier",
          "new_api": null,
          "old_text": "eContextElementNoWriteBarrier(closure_context, Context::PREVIOUS_INDEX,\n                                      native_context);\n  ",
          "new_text": null,
          "old_line_content": "    StoreContextElementNoWriteBarrier(closure_context, Context::PREVIOUS_INDEX,",
          "new_line_content": "        closure_context, Context::SCOPE_INFO_INDEX, empty_scope_info);",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "eContextElementNoWriteBarrier",
          "new_api": null,
          "old_text": "eContextElementNoWriteBarrier(closure_context, Context::EXTENSION_INDEX,\n                                      generator);\n  ",
          "new_text": null,
          "old_line_content": "    StoreContextElementNoWriteBarrier(closure_context, Context::EXTENSION_INDEX,",
          "new_line_content": "                                      native_context);",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "eContextElementNoWriteBarrier",
          "new_api": null,
          "old_text": "eContextElementNoWriteBarrier(\n        closure_context, Context::NATIVE_CONTEXT_INDEX, native_context);\n  ",
          "new_text": null,
          "old_line_content": "    StoreContextElementNoWriteBarrier(",
          "new_line_content": "                                      generator);",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "ObjectField<Smi>(\n      shared_info, SharedFunctionInfo::kFunctionDataOffset);",
          "new_api": null,
          "old_text": "ObjectField<Smi>(\n      shared_info, SharedFunctionInfo::kFunctionDataOffset);\n  ",
          "new_text": null,
          "old_line_content": "  TNode<Smi> builtin_id = LoadObjectField<Smi>(",
          "new_line_content": "  // which almost doubles the size of `await` builtins (unnecessarily).",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "Builtin",
          "new_api": null,
          "old_text": "Builtin(builtin_id);\n  ",
          "new_text": null,
          "old_line_content": "  TNode<Code> code = LoadBuiltin(builtin_id);",
          "new_line_content": "      shared_info, SharedFunctionInfo::kFunctionDataOffset);",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": "rAllocate",
          "new_api": null,
          "old_text": "rAllocate(base, kResolveClosureOffset);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const on_resolve = InnerAllocate(base, kResolveClosureOffset);",
          "new_line_content": "  // Initialize resolve handler",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "rAllocate",
          "new_api": null,
          "old_text": "rAllocate(base, kRejectClosureOffset);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const on_reject = InnerAllocate(base, kRejectClosureOffset);",
          "new_line_content": "  // Initialize reject handler",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(\n      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const map = LoadContextElement(",
          "new_line_content": "                                                  Node* done) {",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(\n      native_context, Context::ASYNC_ITERATOR_VALUE_UNWRAP_SHARED_FUN);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const on_fulfilled_shared = LoadContextElement(",
          "new_line_content": "      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": "ABLE",
          "new_api": null,
          "old_text": "ABLE(var_throwaway, MachineRepresentation::kTaggedPointer,\n           UndefinedConstant());\n\n ",
          "new_text": null,
          "old_line_content": "  VARIABLE(var_throwaway, MachineRepresentation::kTaggedPointer,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(this,\n             HasInstanceType(on_fulfilled_shared, SHARED_FUNCTION_INFO_TYPE));\n  ",
          "new_text": null,
          "old_line_content": "  CSA_ASSERT(this,",
          "new_line_content": "      native_context, Context::ASYNC_ITERATOR_VALUE_UNWRAP_SHARED_FUN);",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "cateAsyncIteratorValueUnwrapContext",
          "new_api": null,
          "old_text": "cateAsyncIteratorValueUnwrapContext(native_context, done);\n  ",
          "new_text": null,
          "old_line_content": "      AllocateAsyncIteratorValueUnwrapContext(native_context, done);",
          "new_line_content": "  Node* const closure_context =",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "bugActive",
          "new_api": null,
          "old_text": "bugActive(), &i",
          "new_text": null,
          "old_line_content": "  GotoIf(IsDebugActive(), &if_debugging);",
          "new_line_content": "  Label if_debugging(this, Label::kDeferred), do_perform_promise_then(this);",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": "(&if_debugging);",
          "new_api": null,
          "old_text": "(&if_debugging);\n  ",
          "new_text": null,
          "old_line_content": "  BIND(&if_debugging);",
          "new_line_content": "         &do_perform_promise_then);",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "tiveContext",
          "new_api": null,
          "old_text": "tiveContext(native_context));\n ",
          "new_text": null,
          "old_line_content": "  CSA_ASSERT(this, IsNativeContext(native_context));",
          "new_line_content": "    Node* native_context, Node* done) {",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "(&do_perform_promise_then);",
          "new_api": null,
          "old_text": "(&do_perform_promise_then);\n  ",
          "new_text": null,
          "old_line_content": "  Goto(&do_perform_promise_then);",
          "new_line_content": "                                 is_predicted_as_caught));",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "tePromiseContext",
          "new_api": null,
          "old_text": "tePromiseContext(native_context, ValueUnwrapContext::kLength);\n  ",
          "new_text": null,
          "old_line_content": "      CreatePromiseContext(native_context, ValueUnwrapContext::kLength);",
          "new_line_content": "  Node* const context =",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": "value",
          "new_api": null,
          "old_text": "Builtin(Builtins::kPerformPromiseThen, native_context, promise,\n                     on_resolve, on_reject, var_throwaway.value());\n}\n",
          "new_text": null,
          "old_line_content": "  return CallBuiltin(Builtins::kPerformPromiseThen, native_context, promise,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "meter",
          "new_api": null,
          "old_text": "meter(Descriptor::kValue);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const value = Parameter(Descriptor::kValue);",
          "new_line_content": "TF_BUILTIN(AsyncIteratorValueUnwrap, AsyncBuiltinsAssembler) {",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(context, ValueUnwrapContext::kDoneSlot);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const done = LoadContextElement(context, ValueUnwrapContext::kDoneSlot);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "ABLE",
          "new_api": null,
          "old_text": "ABLE(result, MachineRepresentation::kTagged);\n  ",
          "new_text": null,
          "old_line_content": "  VARIABLE(result, MachineRepresentation::kTagged);",
          "new_line_content": "                                    Node* is_predicted_as_caught) {",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "Builtin",
          "new_api": null,
          "old_text": "Builtin(Builtins::kCreateIterResultObject, context, value, done);\n\n ",
          "new_text": null,
          "old_line_content": "      CallBuiltin(Builtins::kCreateIterResultObject, context, value, done);",
          "new_line_content": "  Node* const unwrapped_value =",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": "IC_ASSERT",
          "new_api": null,
          "old_text": "IC_ASSERT(sizeof(FLAG_harmony_await_optimization) == 1);\n  ",
          "new_text": null,
          "old_line_content": "  STATIC_ASSERT(sizeof(FLAG_harmony_await_optimization) == 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "rn",
          "new_api": null,
          "old_text": "rn(unwrapped_value);\n}\n",
          "new_text": null,
          "old_line_content": "  Return(unwrapped_value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "PromiseInit",
          "new_api": null,
          "old_text": "PromiseInit(wrapped_value)",
          "new_text": null,
          "old_line_content": "    PromiseInit(wrapped_value);",
          "new_line_content": "                         RootIndex::kEmptyFixedArray);",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "edIsSmi",
          "new_api": null,
          "old_text": "edIsSmi(value), &i",
          "new_text": null,
          "old_line_content": "  GotoIf(TaggedIsSmi(value), &if_old);",
          "new_line_content": "  // logic.",
          "content_same": false
        },
        {
          "line": 83,
          "old_api": "InnerAllocate",
          "new_api": null,
          "old_text": "InnerAllocate(base, kResolveClosureOffset)",
          "new_text": null,
          "old_line_content": "  Node* const on_resolve = InnerAllocate(base, kResolveClosureOffset);",
          "new_line_content": "  // Initialize resolve handler",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "NativeContext",
          "new_api": null,
          "old_text": "NativeContext(context);\n  ",
          "new_text": null,
          "old_line_content": "  Node* const native_context = LoadNativeContext(context);",
          "new_line_content": "  // JSPromise instances which have the (initial) Promise.prototype.",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": "InnerAllocate",
          "new_api": null,
          "old_text": "InnerAllocate(base, kRejectClosureOffset)",
          "new_text": null,
          "old_line_content": "  Node* const on_reject = InnerAllocate(base, kRejectClosureOffset);",
          "new_line_content": "  // Initialize reject handler",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(native_context, Context::PROMISE_PROTOTYPE_INDEX);\n  ",
          "new_text": null,
          "old_line_content": "      LoadContextElement(native_context, Context::PROMISE_PROTOTYPE_INDEX);",
          "new_line_content": "  Node* const promise_prototype =",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "omiseSpeciesProtectorCellInvalid",
          "new_api": null,
          "old_text": "omiseSpeciesProtectorCellInvalid(), &i",
          "new_text": null,
          "old_line_content": "  Branch(IsPromiseSpeciesProtectorCellInvalid(), &if_slow_constructor, &if_new);",
          "new_line_content": "            &if_slow_constructor);",
          "content_same": false
        },
        {
          "line": 92,
          "old_api": "VARIABLE",
          "new_api": null,
          "old_text": "VARIABLE(var_throwaway, MachineRepresentation::kTaggedPointer,\n           UndefinedConstant())",
          "new_text": null,
          "old_line_content": "  VARIABLE(var_throwaway, MachineRepresentation::kTaggedPointer,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(\n      native_context, Context::STRICT_FUNCTION_WITHOUT_PROTOTYPE_MAP_INDEX));\n ",
          "new_text": null,
          "old_line_content": "  TNode<Map> function_map = CAST(LoadContextElement(",
          "new_line_content": "                                                     Node* context_index) {",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "(&if_slow_constructor);",
          "new_api": null,
          "old_text": "(&if_slow_constructor);\n  ",
          "new_text": null,
          "old_line_content": "  BIND(&if_slow_constructor);",
          "new_line_content": "  // have the %Promise% as its \"constructor\", so we need to check that as well.",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": "IsDebugActive",
          "new_api": null,
          "old_text": "IsDebugActive()",
          "new_text": null,
          "old_line_content": "  GotoIf(IsDebugActive(), &if_debugging);",
          "new_line_content": "  Label if_debugging(this, Label::kDeferred), do_resolve_promise(this);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "factory",
          "new_api": null,
          "old_text": "ate()->factory()->constructor_string());\n ",
          "new_text": null,
          "old_line_content": "        GetProperty(context, value, isolate()->factory()->constructor_string());",
          "new_line_content": "    Node* const value_constructor =",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "ContextElement",
          "new_api": null,
          "old_text": "ContextElement(native_context, Context::PROMISE_FUNCTION_INDEX);\n  ",
          "new_text": null,
          "old_line_content": "        LoadContextElement(native_context, Context::PROMISE_FUNCTION_INDEX);",
          "new_line_content": "    Node* const promise_function =",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "BIND",
          "new_api": null,
          "old_text": "BIND(&if_debugging)",
          "new_text": null,
          "old_line_content": "  BIND(&if_debugging);",
          "new_line_content": "         &do_resolve_promise);",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "(&if_old);",
          "new_api": null,
          "old_text": "(&if_old);\n  ",
          "new_text": null,
          "old_line_content": "  BIND(&if_old);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": "Goto",
          "new_api": null,
          "old_text": "Goto(&do_resolve_promise)",
          "new_text": null,
          "old_line_content": "  Goto(&do_resolve_promise);",
          "new_line_content": "                                 is_predicted_as_caught));",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "(&done);",
          "new_api": null,
          "old_text": "(&done);\n\n ",
          "new_text": null,
          "old_line_content": "  Goto(&done);",
          "new_line_content": "                       is_predicted_as_caught));",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": "llBuiltin",
          "new_api": null,
          "old_text": "llBuiltin(Builtins::kResolvePromise, context, wrapped_value, value);\n",
          "new_text": null,
          "old_line_content": "  CallBuiltin(Builtins::kResolvePromise, context, wrapped_value, value);",
          "new_line_content": "  // Perform ! Call(promiseCapability.[[Resolve]], undefined,  promise ).",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "(&if_new);",
          "new_api": null,
          "old_text": "(&if_new);\n  ",
          "new_text": null,
          "old_line_content": "  BIND(&if_new);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": "value",
          "new_api": null,
          "old_text": "llBuiltin(Builtins::kPerformPromiseThen, context, wrapped_value,\n                     on_resolve, on_reject, var_throwaway.value());\n",
          "new_text": null,
          "old_line_content": "  return CallBuiltin(Builtins::kPerformPromiseThen, context, wrapped_value,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": "(&done);",
          "new_api": null,
          "old_text": "(&done);\n\n ",
          "new_text": null,
          "old_line_content": "  Goto(&done);",
          "new_line_content": "                             is_predicted_as_caught));",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "(&done);",
          "new_api": null,
          "old_text": "(&done);\n  ",
          "new_text": null,
          "old_line_content": "  BIND(&done);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": "adNativeContext",
          "new_api": null,
          "old_text": "adNativeContext(context);\n",
          "new_text": null,
          "old_line_content": "  Node* const native_context = LoadNativeContext(context);",
          "new_line_content": "                                             Node* is_predicted_as_caught) {",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": "xedArray::SizeFor(Context::MIN_CONTEXT_SLOTS);",
          "new_api": null,
          "old_text": "xedArray::SizeFor(Context::MIN_CONTEXT_SLOTS);\n",
          "new_text": null,
          "old_line_content": "      FixedArray::SizeFor(Context::MIN_CONTEXT_SLOTS);",
          "new_line_content": "  static const int kResolveClosureOffset =",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 39,
      "total_additions": 57,
      "total_deletions": 57,
      "total_api_changes": 153
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 153,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          77
        ]
      }
    },
    "api_calls_before": 150,
    "api_calls_after": 150,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 3,
      "total_diff_lines": 19
    }
  }
}