{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/5c94bed9fd7e0e6733e393b3657e466016435e87",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/5c94bed9fd7e0e6733e393b3657e466016435e87/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/5c94bed9fd7e0e6733e393b3657e466016435e87/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/v8/modified_file/5c94bed9fd7e0e6733e393b3657e466016435e87/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [],
      "additions": [
        {
          "line": 1827,
          "old_api": null,
          "new_api": "base::bits::IsPowerOfTwo(mask + 1)",
          "old_text": null,
          "new_text": "base::bits::IsPowerOfTwo(mask + 1)",
          "old_line_content": "                      Field::kShift);",
          "new_line_content": "    if (base::bits::IsPowerOfTwo(mask + 1)) {",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": null,
          "new_api": "ExtractBitRange",
          "old_text": null,
          "new_text": "ExtractBitRange(dst, src, Field::kShift + Field::kSize - 1,\n                      Field::kShift)",
          "old_line_content": "    } else {",
          "new_line_content": "      ExtractBitRange(dst, src, Field::kShift + Field::kSize - 1,",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "MemOperand",
          "old_text": null,
          "new_text": "MemOperand(\n      fp, (BuiltinExitFrameConstants::kFixedSlotCountAboveFp + index) *\n              kSystemPointerSize)",
          "old_line_content": "// Provides access to exit frame stack space (not GC-ed).",
          "new_line_content": "  return MemOperand(",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(shift)",
          "old_line_content": "      if (shift != 0) {",
          "new_line_content": "      ShiftLeftU64(dst, src, Operand(shift));",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "Operand",
          "old_text": null,
          "new_text": "Operand(mask)",
          "old_line_content": "      } else {",
          "new_line_content": "      AndP(dst, src, Operand(mask));",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "DISALLOW_IMPLICIT_CONSTRUCTORS",
          "old_text": null,
          "new_text": "DISALLOW_IMPLICIT_CONSTRUCTORS(MacroAssembler)",
          "old_line_content": "                      InvokeType type);",
          "new_line_content": "  DISALLOW_IMPLICIT_CONSTRUCTORS(MacroAssembler);",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "DecodeField<Field>(reg, reg)",
          "old_text": null,
          "new_text": "DecodeField<Field>(reg, reg)",
          "old_line_content": "  template <typename Field>",
          "new_line_content": "    DecodeField<Field>(reg, reg);",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": null,
          "new_api": "constexpr",
          "old_text": null,
          "new_text": "constexpr",
          "old_line_content": "  // address before doing the actual call, it's necessary for frame iteration",
          "new_line_content": "  static constexpr int kSPOffset = 1 * kSystemPointerSize;",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "MemOperand",
          "old_text": null,
          "new_text": "MemOperand(sp, (kStackFrameExtraParamSlot * kSystemPointerSize) +\n                            offset + kSPOffset)",
          "old_line_content": "  // (see StoreReturnAddressAndCall for details).",
          "new_line_content": "  return MemOperand(sp, (kStackFrameExtraParamSlot * kSystemPointerSize) +",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1825,
          "old_api": "base::bits::IsPowerOfTwo(Field::kMask + 1)",
          "new_api": null,
          "old_text": "base::bits::IsPowerOfTwo(Field::kMask + 1)",
          "new_text": null,
          "old_line_content": "    if (base::bits::IsPowerOfTwo(Field::kMask + 1)) {",
          "new_line_content": "    int shift = Field::kShift;",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": "ExtractBitRange",
          "new_api": null,
          "old_text": "ExtractBitRange(dst, src, Field::kShift + Field::kSize - 1,\n                      Field::kShift)",
          "new_text": null,
          "old_line_content": "      ExtractBitRange(dst, src, Field::kShift + Field::kSize - 1,",
          "new_line_content": "    int mask = Field::kMask >> Field::kShift;",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "MemOperand",
          "new_api": null,
          "old_text": "MemOperand(\n      fp, (BuiltinExitFrameConstants::kFixedSlotCountAboveFp + index) *\n              kSystemPointerSize)",
          "new_text": null,
          "old_line_content": "  return MemOperand(",
          "new_line_content": "              kSystemPointerSize);",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(mask)",
          "new_text": null,
          "old_line_content": "        AndP(dst, Operand(mask));",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "Operand",
          "new_api": null,
          "old_text": "Operand(mask)",
          "new_text": null,
          "old_line_content": "        AndP(dst, src, Operand(mask));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "DISALLOW_IMPLICIT_CONSTRUCTORS",
          "new_api": null,
          "old_text": "DISALLOW_IMPLICIT_CONSTRUCTORS(MacroAssembler)",
          "new_text": null,
          "old_line_content": "  DISALLOW_IMPLICIT_CONSTRUCTORS(MacroAssembler);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": "DecodeField<Field>(reg, reg)",
          "new_api": null,
          "old_text": "DecodeField<Field>(reg, reg)",
          "new_text": null,
          "old_line_content": "    DecodeField<Field>(reg, reg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "constexpr",
          "new_api": null,
          "old_text": "constexpr",
          "new_text": null,
          "old_line_content": "  static constexpr int kSPOffset = 1 * kSystemPointerSize;",
          "new_line_content": "                            offset + kSPOffset);",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "MemOperand",
          "new_api": null,
          "old_text": "MemOperand(sp, (kStackFrameExtraParamSlot * kSystemPointerSize) +\n                            offset + kSPOffset)",
          "new_text": null,
          "old_line_content": "  return MemOperand(sp, (kStackFrameExtraParamSlot * kSystemPointerSize) +",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 0,
      "total_additions": 9,
      "total_deletions": 9,
      "total_api_changes": 18
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 18,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1832,
          1836,
          1829,
          1830
        ]
      }
    },
    "api_calls_before": 280,
    "api_calls_after": 280,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 9,
      "total_diff_lines": 31
    }
  }
}