[
    {
        "repository_name": "nginx",
        "hash": "09dca40b332cf6c349bff409a9f993d04df35f12",
        "author": "Valentin Bartenev",
        "date": "2012-10-23T14:36:18+00:00",
        "message": "ngx_http_keepalive_handler() is now trying to not keep c->buffer's memory for\nidle connections.\n\nThis behaviour is consistent with the ngx_http_set_keepalive() function and it\nshould decrease memory usage in some cases (especially if epoll/rtsig is used).",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/ngx_http_request.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/09dca40b332cf6c349bff409a9f993d04df35f12",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_keepalive_handler"
        ],
        "added_lines": 14,
        "deleted_lines": 0,
        "total_changed_lines": 14,
        "net_line_change": 14,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "0cd45dea762d3fff535dededf1a4490730f6e7f8",
        "author": "Vladimir Homutov",
        "date": "2021-10-15T12:26:42+03:00",
        "message": "QUIC: optimized ack range processing.\n\nThe sent queue is sorted by packet number.  It is possible to avoid\ntraversing full queue while handling ack ranges.  It makes sense to\nstart traversing from the queue head (i.e. check oldest packets first).",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/quic/ngx_event_quic_ack.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/0cd45dea762d3fff535dededf1a4490730f6e7f8",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_quic_handle_ack_frame_range"
        ],
        "added_lines": 7,
        "deleted_lines": 3,
        "total_changed_lines": 10,
        "net_line_change": 4,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "1f5271cd61a102514070c0d22ce5001cf0a70d61",
        "author": "Maxim Dounin",
        "date": "2021-03-26T01:44:57+03:00",
        "message": "HTTP/2: improved handling of \"keepalive_timeout 0\".\n\nWithout explicit handling, a zero timer was actually added, leading to\nmultiple unneeded syscalls.  Further, sending GOAWAY frame early might\nbe beneficial for clients.\n\nReported by Sergey Kandaurov.",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/v2/ngx_http_v2.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/1f5271cd61a102514070c0d22ce5001cf0a70d61",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_v2_state_headers"
        ],
        "added_lines": 3,
        "deleted_lines": 1,
        "total_changed_lines": 4,
        "net_line_change": 2,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "240f8a918ed09e67570020261b1693907e5b64c0",
        "author": "Roman Arutyunyan",
        "date": "2020-12-09T21:26:21+00:00",
        "message": "QUIC: always calculate rtt for largest acknowledged packet.\n\nPreviously, when processing client ACK, rtt could be calculated for a packet\ndifferent than the largest if it was missing in the sent chain.  Even though\nthis is an unlikely situation, rtt based on a different packet could be larger\nthan needed leading to bigger pto timeout and performance degradation.",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/ngx_event_quic.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/240f8a918ed09e67570020261b1693907e5b64c0",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_quic_handle_ack_frame_range"
        ],
        "added_lines": 1,
        "deleted_lines": 4,
        "total_changed_lines": 5,
        "net_line_change": -3,
        "modified_code_blocks": 4,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "41a77d183c5b5b0b57d042378e01488362406fb7",
        "author": "Maxim Dounin",
        "date": "2011-12-26T10:49:57+00:00",
        "message": "Fixed throughput problems with large limit_rate.\n\nPrevious attempt to fix this was in r1658 (0.6.18), though that one wasn't\nenough (it was a noop).",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/ngx_http_write_filter_module.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/41a77d183c5b5b0b57d042378e01488362406fb7",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_write_filter"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "42298aeb13040cc94026a2d405726895fb19b1e0",
        "author": "hucongcong",
        "date": "2016-11-10T10:17:53+08:00",
        "message": "Core: slight optimization in ngx_chain_update_chains().\n\nIt is not necessary to traverse *busy and link the *out when *out is NULL.",
        "modified_files_count": 1,
        "modified_files": [
            "src/core/ngx_buf.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/42298aeb13040cc94026a2d405726895fb19b1e0",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_chain_update_chains"
        ],
        "added_lines": 9,
        "deleted_lines": 7,
        "total_changed_lines": 16,
        "net_line_change": 2,
        "modified_code_blocks": 4,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "66f6ba5c954af4e4bef314fad32e9de9f4329c52",
        "author": "Valentin Bartenev",
        "date": "2015-06-01T21:08:56+03:00",
        "message": "Fixed excessive memory usage while parsing configuration.\n\nThe b->pos points to the next symbol here.\n\nReported by ilexshen.",
        "modified_files_count": 1,
        "modified_files": [
            "src/core/ngx_conf_file.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/66f6ba5c954af4e4bef314fad32e9de9f4329c52",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_conf_read_token"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "6e60e21ac09a88a17e08cb4a15ebfcd6634ba10b",
        "author": "Roman Arutyunyan",
        "date": "2023-07-27T16:37:17+04:00",
        "message": "QUIC: optimized ACK delay.\n\nPreviously ACK was not generated if max_ack_delay was not yet expired and the\nnumber of unacknowledged ack-eliciting packets was less than two, as allowed by\nRFC 9000 13.2.1-13.2.2.  However this only makes sense to avoid sending ACK-only\npackets, as explained by the RFC:\n\n  On the other hand, reducing the frequency of packets that carry only\n  acknowledgments reduces packet transmission and processing cost at both\n  endpoints.\n\nNow ACK is delayed only if output frame queue is empty.  Otherwise ACK is sent\nimmediately, which significantly improves QUIC performance with certain tests.",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/quic/ngx_event_quic_ack.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/6e60e21ac09a88a17e08cb4a15ebfcd6634ba10b",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_quic_generate_ack"
        ],
        "added_lines": 2,
        "deleted_lines": 1,
        "total_changed_lines": 3,
        "net_line_change": 1,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "8f3dfde7f7407053b8ea49917576495b817bb70b",
        "author": "Xiaochen Wang",
        "date": "2013-10-21T18:20:32+08:00",
        "message": "Upstream: optimize loops in ngx_http_upstream_init_round_robin().",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/ngx_http_upstream_round_robin.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/8f3dfde7f7407053b8ea49917576495b817bb70b",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_upstream_init_round_robin"
        ],
        "added_lines": 8,
        "deleted_lines": 8,
        "total_changed_lines": 16,
        "net_line_change": 0,
        "modified_code_blocks": 4,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "9683528550836a35cb24c61bf3fd99175bcbd82f",
        "author": "Igor Sysoev",
        "date": "2007-11-27T12:24:44+00:00",
        "message": "improve throughput with large limit_rate",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/ngx_http_write_filter_module.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/9683528550836a35cb24c61bf3fd99175bcbd82f",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_write_filter"
        ],
        "added_lines": 8,
        "deleted_lines": 4,
        "total_changed_lines": 12,
        "net_line_change": 4,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "9f90d11cf52ccb0a8d086525aa7e4218d31d529a",
        "author": "Maxim Dounin",
        "date": "2021-08-29T22:20:38+03:00",
        "message": "HTTP/2: improved handling of END_STREAM in a separate DATA frame.\n\nThe save body filter saves the request body to disk once the buffer is full.\nYet in HTTP/2 this might happen even if there is no need to save anything\nto disk, notably when content length is known and the END_STREAM flag is\nsent in a separate empty DATA frame.  Workaround is to provide additional\nbyte in the buffer, so saving the request body won't be triggered.\n\nThis fixes unexpected request body disk buffering in HTTP/2 observed after\nthe previous change when content length is known and the END_STREAM flag\nis sent in a separate empty DATA frame.",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/v2/ngx_http_v2.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/9f90d11cf52ccb0a8d086525aa7e4218d31d529a",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_v2_read_request_body"
        ],
        "added_lines": 3,
        "deleted_lines": 0,
        "total_changed_lines": 3,
        "net_line_change": 3,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "ae0e919135b7e1e80167d09b5bd2fef7903f7659",
        "author": "Maxim Dounin",
        "date": "2011-12-11T16:30:42+00:00",
        "message": "Microoptimization of sendfile(2) usage under FreeBSD.\n\nFreeBSD kernel checks headers/trailers pointer against NULL, not\ncorresponding count.  Passing NULL if there are no headers/trailers\nhelps to avoid unneeded work in kernel, as well as unexpected 0 bytes\nGIO in traces.",
        "modified_files_count": 1,
        "modified_files": [
            "src/os/unix/ngx_freebsd_sendfile_chain.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/ae0e919135b7e1e80167d09b5bd2fef7903f7659",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_freebsd_sendfile_chain"
        ],
        "added_lines": 7,
        "deleted_lines": 2,
        "total_changed_lines": 9,
        "net_line_change": 5,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "c092a7de0f7473e1d117792eb5b89e68894abdea",
        "author": "Sergey Kandaurov",
        "date": "2020-11-13T13:24:45+00:00",
        "message": "QUIC: microoptimization in varint parsing.\n\nRemoved a useless mask from the value being shifted, since it is 1-byte wide.",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/ngx_event_quic_transport.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/c092a7de0f7473e1d117792eb5b89e68894abdea",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_quic_parse_int"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "c1363247216bc5ac2862fa501d3f741ce7696422",
        "author": "Roman Arutyunyan",
        "date": "2023-04-03T16:17:12+04:00",
        "message": "QUIC: optimized sending stream response.\n\nWhen a stream is created by client, it's often the case that nginx will send\nimmediate response on that stream.  An example is HTTP/3 request stream, which\nin most cases quickly replies with at least HTTP headers.\n\nQUIC stream init handlers are called from a posted event.  Output QUIC\nframes are also sent to client from a posted event, called the push event.\nIf the push event is posted before the stream init event, then output produced\nby stream may trigger sending an extra UDP datagram.  To address this, push\nevent is now re-posted when a new stream init event is posted.\n\nAn example is handling 0-RTT packets.  Client typically sends an init packet\ncoalesced with a 0-RTT packet.  Previously, nginx replied with a padded CRYPTO\ndatagram, followed by a 1-RTT stream reply datagram.  Now CRYPTO and STREAM\npackets are coalesced in one reply datagram, which saves bandwidth.\n\nOther examples include coalescing 1-RTT first stream response, and\nMAX_STREAMS/STREAM sent in response to ACK/STREAM.",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/quic/ngx_event_quic_streams.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/c1363247216bc5ac2862fa501d3f741ce7696422",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_quic_get_stream"
        ],
        "added_lines": 11,
        "deleted_lines": 0,
        "total_changed_lines": 11,
        "net_line_change": 11,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "e4dab80e802241e416170b9686d8484eaa1f90f4",
        "author": "Maxim Dounin",
        "date": "2011-09-20T09:55:27+00:00",
        "message": "Fix of cpu hog in event pipe.\n\nIf client closed connection in ngx_event_pipe_write_to_downstream(), buffers\nin the \"out\" chain were lost.  This caused cpu hog if all available buffers\nwere in the \"out\" chain.  Fix is to call ngx_chain_update_chains() before\nchecking return code of output filter to avoid loosing buffers in the \"out\"\nchain.\n\nNote that this situation (all available buffers in the \"out\" chain) isn't\nnormal, it should be prevented by busy buffers limit.  Though right now it\nmay happen with complex protocols like fastcgi.  This should be addressed\nseparately.",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/ngx_event_pipe.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/e4dab80e802241e416170b9686d8484eaa1f90f4",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_event_pipe_write_to_downstream"
        ],
        "added_lines": 2,
        "deleted_lines": 2,
        "total_changed_lines": 4,
        "net_line_change": 0,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "e5c10dce5ee651d467e6e70952f539cd7bbb7d8f",
        "author": "Roman Arutyunyan",
        "date": "2020-12-08T17:10:22+00:00",
        "message": "QUIC: resend handshake packets along with initial.\n\nTo speed up handshake, resend both initial and handshake packets if there's\nat least one unacknowledged initial packet.",
        "modified_files_count": 1,
        "modified_files": [
            "src/event/ngx_event_quic.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/e5c10dce5ee651d467e6e70952f539cd7bbb7d8f",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_quic_handle_crypto_frame"
        ],
        "added_lines": 5,
        "deleted_lines": 0,
        "total_changed_lines": 5,
        "net_line_change": 5,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "nginx",
        "hash": "f3fdc4c96f3cd1c338ecf11a67acfae6d0a08dc7",
        "author": "Maxim Dounin",
        "date": "2021-10-29T20:21:43+03:00",
        "message": "Switched to using posted next events after sendfile_max_chunk.\n\nPreviously, 1 millisecond delay was used instead.  In certain edge cases\nthis might result in noticeable performance degradation though, notably on\nLinux with typical CONFIG_HZ=250 (so 1ms delay becomes 4ms),\nsendfile_max_chunk 2m, and link speed above 2.5 Gbps.\n\nUsing posted next events removes the artificial delay and makes processing\nfast in all cases.",
        "modified_files_count": 1,
        "modified_files": [
            "src/http/ngx_http_write_filter_module.c"
        ],
        "github_commit_url": "https://github.com/nginx/nginx/commit/f3fdc4c96f3cd1c338ecf11a67acfae6d0a08dc7",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ngx_http_write_filter"
        ],
        "added_lines": 1,
        "deleted_lines": 2,
        "total_changed_lines": 3,
        "net_line_change": -1,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    }
]