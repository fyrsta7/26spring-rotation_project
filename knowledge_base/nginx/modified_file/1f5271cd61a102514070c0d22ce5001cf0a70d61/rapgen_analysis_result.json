{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/1f5271cd61a102514070c0d22ce5001cf0a70d61",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/1f5271cd61a102514070c0d22ce5001cf0a70d61/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/1f5271cd61a102514070c0d22ce5001cf0a70d61/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/1f5271cd61a102514070c0d22ce5001cf0a70d61/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1566,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": "ngx_pnalloc",
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": "ngx_pnalloc(h2c->state.pool, alloc)",
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "    h2c->state.field_start = ngx_pnalloc(h2c->state.pool, alloc);",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": "ngx_http_v2_cookie",
          "new_api": "ngx_memcmp",
          "old_text": "ngx_http_v2_cookie(r, header)",
          "new_text": "ngx_memcmp(header->name.data, cookie.data, cookie.len)",
          "old_line_content": "        if (ngx_http_v2_cookie(r, header) != NGX_OK) {",
          "new_line_content": "        && ngx_memcmp(header->name.data, cookie.data, cookie.len) == 0)",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": "ngx_list_push",
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": "ngx_list_push(&r->headers_in.headers)",
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "        h = ngx_list_push(&r->headers_in.headers);",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "ngx_hash_find",
          "new_api": "ngx_http_get_module_main_conf",
          "old_text": "ngx_hash_find(&cmcf->headers_in_hash, h->hash,\n                           h->lowcase_key, h->key.len)",
          "new_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "old_line_content": "        hh = ngx_hash_find(&cmcf->headers_in_hash, h->hash,",
          "new_line_content": "        cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "ngx_http_v2_parse_type",
          "new_api": "ngx_http_v2_parse_uint32",
          "old_text": "ngx_http_v2_parse_type(head)",
          "new_text": "ngx_http_v2_parse_uint32(p)",
          "old_line_content": "    if (ngx_http_v2_parse_type(head) != NGX_HTTP_V2_CONTINUATION_FRAME) {",
          "new_line_content": "    head = ngx_http_v2_parse_uint32(p);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "ngx_http_v2_parse_length",
          "new_api": "ngx_memcpy",
          "old_text": "ngx_http_v2_parse_length(head)",
          "new_text": "ngx_memcpy(pos, p, len)",
          "old_line_content": "    len = ngx_http_v2_parse_length(head);",
          "new_line_content": "    ngx_memcpy(pos, p, len);",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": "ngx_http_v2_set_dependency",
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": "ngx_http_v2_set_dependency(h2c, node, depend, excl)",
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "    ngx_http_v2_set_dependency(h2c, node, depend, excl);",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": "handler",
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": "ev->handler(ev)",
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "    ev->handler(ev);",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": "ngx_log_debug2",
          "new_api": "ngx_http_v2_parse_uint32",
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                       \"http2 setting %ui:%ui\", id, value)",
          "new_text": "ngx_http_v2_parse_uint32(&pos[2])",
          "old_line_content": "        ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "        value = ngx_http_v2_parse_uint32(&pos[2]);",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": "ngx_http_v2_queue_blocked_frame",
          "new_api": "ngx_cpymem",
          "old_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "new_text": "ngx_cpymem(buf->last, pos, NGX_HTTP_V2_PING_SIZE)",
          "old_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "new_line_content": "    buf->last = ngx_cpymem(buf->last, pos, NGX_HTTP_V2_PING_SIZE);",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": "ngx_http_v2_queue_blocked_frame",
          "old_text": "ngx_http_v2_state_complete(h2c, pos + NGX_HTTP_V2_PING_SIZE, end)",
          "new_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos + NGX_HTTP_V2_PING_SIZE, end);",
          "new_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "ngx_queue_remove",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_remove(q)",
          "new_text": "ngx_queue_head(&h2c->waiting)",
          "old_line_content": "        ngx_queue_remove(q);",
          "new_line_content": "        q = ngx_queue_head(&h2c->waiting);",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_remove",
          "old_text": "ngx_queue_data(q, ngx_http_v2_stream_t, queue)",
          "new_text": "ngx_queue_remove(q)",
          "old_line_content": "        stream = ngx_queue_data(q, ngx_http_v2_stream_t, queue);",
          "new_line_content": "        ngx_queue_remove(q);",
          "content_same": false
        },
        {
          "line": 2937,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": "ngx_http_v2_write_sid",
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "new_text": "ngx_http_v2_write_sid(buf->last, 0)",
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "    buf->last = ngx_http_v2_write_sid(buf->last, 0);",
          "content_same": false
        },
        {
          "line": 2942,
          "old_api": "ngx_http_v2_write_uint32",
          "new_api": "ngx_http_v2_write_uint16",
          "old_text": "ngx_http_v2_write_uint32(buf->last,\n                                         h2scf->concurrent_streams)",
          "new_text": "ngx_http_v2_write_uint16(buf->last,\n                                         NGX_HTTP_V2_MAX_STREAMS_SETTING)",
          "old_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last,",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint16(buf->last,",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": "ngx_http_v2_write_uint32",
          "new_api": "ngx_http_v2_write_uint16",
          "old_text": "ngx_http_v2_write_uint32(buf->last, h2scf->preread_size)",
          "new_text": "ngx_http_v2_write_uint16(buf->last,\n                                         NGX_HTTP_V2_INIT_WINDOW_SIZE_SETTING)",
          "old_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, h2scf->preread_size);",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint16(buf->last,",
          "content_same": false
        },
        {
          "line": 2949,
          "old_api": "ngx_http_v2_write_uint16",
          "new_api": "ngx_http_v2_write_uint32",
          "old_text": "ngx_http_v2_write_uint16(buf->last,\n                                         NGX_HTTP_V2_MAX_FRAME_SIZE_SETTING)",
          "new_text": "ngx_http_v2_write_uint32(buf->last, h2scf->preread_size)",
          "old_line_content": "    buf->last = ngx_http_v2_write_uint16(buf->last,",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, h2scf->preread_size);",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": "ngx_http_v2_write_uint32",
          "new_api": "ngx_http_v2_write_uint16",
          "old_text": "ngx_http_v2_write_uint32(buf->last,\n                                         NGX_HTTP_V2_MAX_FRAME_SIZE)",
          "new_text": "ngx_http_v2_write_uint16(buf->last,\n                                         NGX_HTTP_V2_MAX_FRAME_SIZE_SETTING)",
          "old_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last,",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint16(buf->last,",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": "ngx_http_v2_queue_blocked_frame",
          "new_api": "ngx_http_v2_write_uint32",
          "old_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "new_text": "ngx_http_v2_write_uint32(buf->last, window)",
          "old_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, window);",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": "ngx_http_v2_queue_blocked_frame",
          "new_api": "ngx_http_v2_write_uint32",
          "old_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "new_text": "ngx_http_v2_write_uint32(buf->last, status)",
          "old_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, status);",
          "content_same": false
        },
        {
          "line": 3056,
          "old_api": "ngx_http_v2_queue_blocked_frame",
          "new_api": "ngx_http_v2_write_uint32",
          "old_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "new_text": "ngx_http_v2_write_uint32(buf->last, status)",
          "old_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, status);",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": "ngx_create_temp_buf",
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": "ngx_create_temp_buf(r->pool,\n                                       cscf->client_header_buffer_size)",
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "old_line_content": "    r->header_in = ngx_create_temp_buf(r->pool,",
          "new_line_content": "    cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 3277,
          "old_api": "ngx_http_free_request",
          "new_api": "ngx_pcalloc",
          "old_text": "ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": "ngx_pcalloc(r->pool, sizeof(ngx_http_v2_stream_t))",
          "old_line_content": "        ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "    stream = ngx_pcalloc(r->pool, sizeof(ngx_http_v2_stream_t));",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": "ngx_queue_remove",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_remove(q)",
          "new_text": "ngx_queue_head(&h2c->closed)",
          "old_line_content": "    ngx_queue_remove(q);",
          "new_line_content": "    q = ngx_queue_head(&h2c->closed);",
          "content_same": false
        },
        {
          "line": 3370,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_remove",
          "old_text": "ngx_queue_data(q, ngx_http_v2_node_t, reuse)",
          "new_text": "ngx_queue_remove(q)",
          "old_line_content": "    node = ngx_queue_data(q, ngx_http_v2_node_t, reuse);",
          "new_line_content": "    ngx_queue_remove(q);",
          "content_same": false
        },
        {
          "line": 3372,
          "old_api": "ngx_http_v2_index",
          "new_api": "ngx_queue_data",
          "old_text": "ngx_http_v2_index(h2scf, node->id)",
          "new_text": "ngx_queue_data(q, ngx_http_v2_node_t, reuse)",
          "old_line_content": "    next = &h2c->streams_index[ngx_http_v2_index(h2scf, node->id)];",
          "new_line_content": "    node = ngx_queue_data(q, ngx_http_v2_node_t, reuse);",
          "content_same": false
        },
        {
          "line": 3391,
          "old_api": "ngx_queue_next",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_next(q)",
          "new_text": "ngx_queue_head(&node->children)",
          "old_line_content": "         q = ngx_queue_next(q))",
          "new_line_content": "    for (q = ngx_queue_head(&node->children);",
          "content_same": false
        },
        {
          "line": 3393,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "        child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "new_line_content": "         q = ngx_queue_next(q))",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": "ngx_queue_next",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_next(q)",
          "new_text": "ngx_queue_head(&node->children)",
          "old_line_content": "         q = ngx_queue_next(q))",
          "new_line_content": "    for (q = ngx_queue_head(&node->children);",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "        child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "new_line_content": "         q = ngx_queue_next(q))",
          "content_same": false
        },
        {
          "line": 3428,
          "old_api": "ngx_memzero",
          "new_api": "ngx_queue_add",
          "old_text": "ngx_memzero(node, sizeof(ngx_http_v2_node_t))",
          "new_text": "ngx_queue_add(children, &node->children)",
          "old_line_content": "    ngx_memzero(node, sizeof(ngx_http_v2_node_t));",
          "new_line_content": "    ngx_queue_add(children, &node->children);",
          "content_same": false
        },
        {
          "line": 3741,
          "old_api": "ngx_http_get_module_main_conf",
          "new_api": "ngx_hash_key",
          "old_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "new_text": "ngx_hash_key(header->name.data, header->name.len)",
          "old_line_content": "        cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "new_line_content": "        header->hash = ngx_hash_key(header->name.data, header->name.len);",
          "content_same": false
        },
        {
          "line": 3743,
          "old_api": "ngx_hash_find",
          "new_api": "ngx_http_get_module_main_conf",
          "old_text": "ngx_hash_find(&cmcf->headers_in_hash, header->hash,\n                                   h->lowcase_key, h->key.len)",
          "new_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "old_line_content": "        header->hh = ngx_hash_find(&cmcf->headers_in_hash, header->hash,",
          "new_line_content": "        cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": "ngx_pnalloc",
          "old_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": "ngx_pnalloc(r->pool, r->request_line.len + 1)",
          "old_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "    p = ngx_pnalloc(r->pool, r->request_line.len + 1);",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": "ngx_memcpy",
          "new_api": "ngx_cpymem",
          "old_text": "ngx_memcpy(p, ending, sizeof(ending))",
          "new_text": "ngx_cpymem(p, r->unparsed_uri.data, r->unparsed_uri.len)",
          "old_line_content": "    ngx_memcpy(p, ending, sizeof(ending));",
          "new_line_content": "    p = ngx_cpymem(p, r->unparsed_uri.data, r->unparsed_uri.len);",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "ngx_log_debug1",
          "new_api": "ngx_memcpy",
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"http2 request line: \\\"%V\\\"\", &r->request_line)",
          "new_text": "ngx_memcpy(p, ending, sizeof(ending))",
          "old_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "new_line_content": "    ngx_memcpy(p, ending, sizeof(ending));",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": "ngx_pnalloc",
          "old_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": "ngx_pnalloc(r->pool, len + 1)",
          "old_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "    buf = ngx_pnalloc(r->pool, len + 1);",
          "content_same": false
        },
        {
          "line": 3902,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": "ngx_list_push",
          "old_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": "ngx_list_push(&r->headers_in.headers)",
          "old_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "    h = ngx_list_push(&r->headers_in.headers);",
          "content_same": false
        },
        {
          "line": 3919,
          "old_api": "ngx_hash_find",
          "new_api": "ngx_http_get_module_main_conf",
          "old_text": "ngx_hash_find(&cmcf->headers_in_hash, h->hash,\n                       h->lowcase_key, h->key.len)",
          "new_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "old_line_content": "    hh = ngx_hash_find(&cmcf->headers_in_hash, h->hash,",
          "new_line_content": "    cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": "ngx_pfree",
          "new_api": "ngx_http_v2_process_request_body",
          "old_text": "ngx_pfree(r->pool, buf->start)",
          "new_text": "ngx_http_v2_process_request_body(r, buf->pos,\n                                                  buf->last - buf->pos, 1)",
          "old_line_content": "            ngx_pfree(r->pool, buf->start);",
          "new_line_content": "            rc = ngx_http_v2_process_request_body(r, buf->pos,",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": "ngx_chain_update_chains",
          "new_api": "ngx_http_top_request_body_filter",
          "old_text": "ngx_chain_update_chains(r->pool, &rb->free, &rb->busy, &cl,\n                            (ngx_buf_tag_t) &ngx_http_v2_filter_request_body)",
          "new_text": "ngx_http_top_request_body_filter(r, cl)",
          "old_line_content": "    ngx_chain_update_chains(r->pool, &rb->free, &rb->busy, &cl,",
          "new_line_content": "    rc = ngx_http_top_request_body_filter(r, cl);",
          "content_same": false
        },
        {
          "line": 4708,
          "old_api": "ngx_http_v2_finalize_connection",
          "new_api": "ngx_log_error",
          "old_text": "ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR)",
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"http2 flood detected\")",
          "old_line_content": "        ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4715,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": "ngx_reusable_connection",
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "new_text": "ngx_reusable_connection(c, 0)",
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "    ngx_reusable_connection(c, 0);",
          "content_same": false
        },
        {
          "line": 4720,
          "old_api": "ngx_http_v2_finalize_connection",
          "new_api": "ngx_create_pool",
          "old_text": "ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": "ngx_create_pool(h2scf->pool_size, h2c->connection->log)",
          "old_line_content": "        ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "    h2c->pool = ngx_create_pool(h2scf->pool_size, h2c->connection->log);",
          "content_same": false
        },
        {
          "line": 4950,
          "old_api": "ngx_queue_next",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_next(q)",
          "new_text": "ngx_queue_head(children)",
          "old_line_content": "             q = ngx_queue_next(q))",
          "new_line_content": "        for (q = ngx_queue_head(children);",
          "content_same": false
        },
        {
          "line": 4952,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "            child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "new_line_content": "             q = ngx_queue_next(q))",
          "content_same": false
        },
        {
          "line": 4980,
          "old_api": "ngx_queue_next",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_next(q)",
          "new_text": "ngx_queue_head(&node->children)",
          "old_line_content": "         q = ngx_queue_next(q))",
          "new_line_content": "    for (q = ngx_queue_head(&node->children);",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "        child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "new_line_content": "         q = ngx_queue_next(q))",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "ngx_http_v2_get_node_by_id",
          "old_text": null,
          "new_text": "ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 1)",
          "old_line_content": "    if (node == NULL) {",
          "new_line_content": "    node = ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 1);",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 4109,
          "old_api": null,
          "new_api": "ngx_http_v2_send_window_update",
          "old_text": null,
          "new_text": "ngx_http_v2_send_window_update(stream->connection,\n                                           stream->node->id, size)",
          "old_line_content": "            == NGX_ERROR)",
          "new_line_content": "        if (ngx_http_v2_send_window_update(stream->connection,",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&node->reuse)",
          "old_line_content": "",
          "new_line_content": "            ngx_queue_remove(&node->reuse);",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": null,
          "new_api": "ngx_queue_insert_tail",
          "old_text": null,
          "new_text": "ngx_queue_insert_tail(&h2c->closed, &node->reuse)",
          "old_line_content": "",
          "new_line_content": "        ngx_queue_insert_tail(&h2c->closed, &node->reuse);",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": null,
          "new_api": "ngx_http_v2_send_output_queue",
          "old_text": null,
          "new_text": "ngx_http_v2_send_output_queue(h2c)",
          "old_line_content": "                return NGX_HTTP_INTERNAL_SERVER_ERROR;",
          "new_line_content": "            if (ngx_http_v2_send_output_queue(h2c) == NGX_ERROR) {",
          "content_same": false
        },
        {
          "line": 4130,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(r->connection->read, clcf->client_body_timeout)",
          "old_line_content": "",
          "new_line_content": "        ngx_add_timer(r->connection->read, clcf->client_body_timeout);",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent RST_STREAM frame with incorrect length %uz\",\n                      h2c->state.length)",
          "old_line_content": "                      h2c->state.length);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_rst_stream)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_uint32",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_uint32(pos)",
          "old_line_content": "    pos += NGX_HTTP_V2_RST_STREAM_SIZE;",
          "new_line_content": "    status = ngx_http_v2_parse_uint32(pos);",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 RST_STREAM frame, sid:%ui status:%ui\",\n                   h2c->state.sid, status)",
          "old_line_content": "                   h2c->state.sid, status);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent RST_STREAM frame with incorrect identifier\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": null,
          "new_api": "ngx_http_v2_get_node_by_id",
          "old_text": null,
          "new_text": "ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0)",
          "old_line_content": "    if (node == NULL || node->stream == NULL) {",
          "new_line_content": "    node = ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0);",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                       \"unknown http2 stream\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4163,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                              \"client intended to send body data \"\n                              \"larger than declared\")",
          "old_line_content": "                              \"larger than declared\");",
          "new_line_content": "                ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4170,
          "old_api": null,
          "new_api": "ngx_cpymem",
          "old_text": null,
          "new_text": "ngx_cpymem(buf->last, pos, size)",
          "old_line_content": "    }",
          "new_line_content": "            buf->last = ngx_cpymem(buf->last, pos, size);",
          "content_same": false
        },
        {
          "line": 4178,
          "old_api": null,
          "new_api": "ngx_del_timer",
          "old_text": null,
          "new_text": "ngx_del_timer(fc->read)",
          "old_line_content": "",
          "new_line_content": "            ngx_del_timer(fc->read);",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client canceled stream %ui\", h2c->state.sid)",
          "old_line_content": "        break;",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 4182,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(fc->read, &ngx_posted_events)",
          "old_line_content": "        }",
          "new_line_content": "            ngx_post_event(fc->read, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client refused stream %ui\", h2c->state.sid)",
          "old_line_content": "        break;",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 4186,
          "old_api": null,
          "new_api": "ngx_http_v2_filter_request_body",
          "old_text": null,
          "new_text": "ngx_http_v2_filter_request_body(r)",
          "old_line_content": "        if (rc != NGX_OK) {",
          "new_line_content": "        rc = ngx_http_v2_filter_request_body(r);",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client terminated stream %ui due to internal error\",\n                      h2c->state.sid)",
          "old_line_content": "                      h2c->state.sid);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client terminated stream %ui with status %ui\",\n                      h2c->state.sid, status)",
          "old_line_content": "                      h2c->state.sid, status);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 4202,
          "old_api": null,
          "new_api": "post_handler",
          "old_text": null,
          "new_text": "rb->post_handler(r)",
          "old_line_content": "        return NGX_OK;",
          "new_line_content": "        rb->post_handler(r);",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4211,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "",
          "new_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 4212,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(fc->read, clcf->client_body_timeout)",
          "old_line_content": "    if (r->request_body_no_buffering) {",
          "new_line_content": "    ngx_add_timer(fc->read, clcf->client_body_timeout);",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 SETTINGS frame\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(fc->read, &ngx_posted_events)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_post_event(fc->read, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent SETTINGS frame with incorrect identifier\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4220,
          "old_api": null,
          "new_api": "ngx_http_v2_filter_request_body",
          "old_text": null,
          "new_text": "ngx_http_v2_filter_request_body(r)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_filter_request_body(r);",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client sent SETTINGS frame with the ACK flag \"\n                          \"and nonzero length\")",
          "old_line_content": "                          \"and nonzero length\");",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent SETTINGS frame with incorrect length %uz\",\n                      h2c->state.length)",
          "old_line_content": "                      h2c->state.length);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": null,
          "new_api": "ngx_chain_get_free_buf",
          "old_text": null,
          "new_text": "ngx_chain_get_free_buf(r->pool, &rb->free)",
          "old_line_content": "        return NGX_HTTP_INTERNAL_SERVER_ERROR;",
          "new_line_content": "    cl = ngx_chain_get_free_buf(r->pool, &rb->free);",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "ngx_http_v2_state_settings_params",
          "old_text": null,
          "new_text": "ngx_http_v2_state_settings_params(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_settings_params(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4251,
          "old_api": null,
          "new_api": "ngx_memzero",
          "old_text": null,
          "new_text": "ngx_memzero(b, sizeof(ngx_buf_t))",
          "old_line_content": "    if (buf->pos != buf->last) {",
          "new_line_content": "    ngx_memzero(b, sizeof(ngx_buf_t));",
          "content_same": false
        },
        {
          "line": 4259,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                              \"client intended to send body data \"\n                              \"larger than declared\")",
          "old_line_content": "                              \"larger than declared\");",
          "new_line_content": "                ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                          ngx_http_v2_state_settings_params)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_state_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 4267,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "            if (clcf->client_max_body_size",
          "new_line_content": "            clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_uint16",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_uint16(pos)",
          "old_line_content": "",
          "new_line_content": "        id = ngx_http_v2_parse_uint16(pos);",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                       \"http2 setting %ui:%ui\", id, value)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4272,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ERR, r->connection->log, 0,\n                              \"client intended to send too large chunked body: \"\n                              \"%O bytes\", rb->received)",
          "old_line_content": "                              \"%O bytes\", rb->received);",
          "new_line_content": "                ngx_log_error(NGX_LOG_ERR, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                              \"client sent SETTINGS frame with incorrect \"\n                              \"INITIAL_WINDOW_SIZE value %ui\", value)",
          "old_line_content": "                              \"INITIAL_WINDOW_SIZE value %ui\", value);",
          "new_line_content": "                ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                  NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "old_line_content": "            }",
          "new_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 4293,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client prematurely closed stream: \"\n                          \"only %O out of %O bytes of request body received\",\n                          rb->received, r->headers_in.content_length_n)",
          "old_line_content": "                          \"only %O out of %O bytes of request body received\",",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                              \"client sent SETTINGS frame with incorrect \"\n                              \"MAX_FRAME_SIZE value %ui\", value)",
          "old_line_content": "                              \"MAX_FRAME_SIZE value %ui\", value);",
          "new_line_content": "                ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                    NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "            }",
          "new_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                              \"client sent SETTINGS frame with incorrect \"\n                              \"ENABLE_PUSH value %ui\", value)",
          "old_line_content": "                              \"ENABLE_PUSH value %ui\", value);",
          "new_line_content": "                ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": null,
          "new_api": "ngx_chain_update_chains",
          "old_text": null,
          "new_text": "ngx_chain_update_chains(r->pool, &rb->free, &rb->busy, &cl,\n                            (ngx_buf_tag_t) &ngx_http_v2_filter_request_body)",
          "old_line_content": "",
          "new_line_content": "    ngx_chain_update_chains(r->pool, &rb->free, &rb->busy, &cl,",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                    NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "            }",
          "new_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                                 ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "            h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": null,
          "new_api": "ngx_min",
          "old_text": null,
          "new_text": "ngx_min(value, h2scf->concurrent_pushes)",
          "old_line_content": "",
          "new_line_content": "            h2c->concurrent_pushes = ngx_min(value, h2scf->concurrent_pushes);",
          "content_same": false
        },
        {
          "line": 4325,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 read client request body handler\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 4329,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\")",
          "old_line_content": "        fc->timedout = 1;",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\");",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": null,
          "new_api": "ngx_http_finalize_request",
          "old_text": null,
          "new_text": "ngx_http_finalize_request(r, NGX_HTTP_REQUEST_TIME_OUT)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_REQUEST_TIME_OUT);",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client prematurely closed stream\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": null,
          "new_api": "ngx_http_v2_get_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_SETTINGS_ACK_SIZE,\n                                  NGX_HTTP_V2_SETTINGS_FRAME,\n                                  NGX_HTTP_V2_ACK_FLAG, 0)",
          "old_line_content": "                                  NGX_HTTP_V2_ACK_FLAG, 0);",
          "new_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_SETTINGS_ACK_SIZE,",
          "content_same": false
        },
        {
          "line": 2296,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 4344,
          "old_api": null,
          "new_api": "ngx_http_finalize_request",
          "old_text": null,
          "new_text": "ngx_http_finalize_request(r, NGX_HTTP_CLIENT_CLOSED_REQUEST)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_CLIENT_CLOSED_REQUEST);",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": null,
          "new_api": "ngx_http_v2_queue_ordered_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_queue_ordered_frame(h2c, frame)",
          "old_line_content": "    if (window_delta) {",
          "new_line_content": "    ngx_http_v2_queue_ordered_frame(h2c, frame);",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": null,
          "new_api": "ngx_http_v2_adjust_windows",
          "old_text": null,
          "new_text": "ngx_http_v2_adjust_windows(h2c, window_delta)",
          "old_line_content": "                                                NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "        if (ngx_http_v2_adjust_windows(h2c, window_delta) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 2305,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                  \"client sent PUSH_PROMISE frame\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PING frame with incorrect length %uz\",\n                      h2c->state.length)",
          "old_line_content": "                      h2c->state.length);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4380,
          "old_api": null,
          "new_api": "ngx_http_v2_filter_request_body",
          "old_text": null,
          "new_text": "ngx_http_v2_filter_request_body(r)",
          "old_line_content": "    if (rc != NGX_OK) {",
          "new_line_content": "    rc = ngx_http_v2_filter_request_body(r);",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_ping)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_ping);",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 PING frame\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PING frame with incorrect identifier\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "ngx_http_v2_state_skip",
          "old_text": null,
          "new_text": "ngx_http_v2_state_skip(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_skip(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": null,
          "new_api": "ngx_http_v2_get_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_PING_SIZE,\n                                  NGX_HTTP_V2_PING_FRAME,\n                                  NGX_HTTP_V2_ACK_FLAG, 0)",
          "old_line_content": "                                  NGX_HTTP_V2_ACK_FLAG, 0);",
          "new_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_PING_SIZE,",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 4409,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ALERT, r->connection->log, 0,\n                          \"http2 negative window update\")",
          "old_line_content": "            stream->skip_data = 1;",
          "new_line_content": "            ngx_log_error(NGX_LOG_ALERT, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos + NGX_HTTP_V2_PING_SIZE, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos + NGX_HTTP_V2_PING_SIZE, end);",
          "content_same": false
        },
        {
          "line": 4418,
          "old_api": null,
          "new_api": "ngx_http_v2_send_window_update",
          "old_text": null,
          "new_text": "ngx_http_v2_send_window_update(h2c, stream->node->id,\n                                       window - stream->recv_window)",
          "old_line_content": "        == NGX_ERROR)",
          "new_line_content": "    if (ngx_http_v2_send_window_update(h2c, stream->node->id,",
          "content_same": false
        },
        {
          "line": 4426,
          "old_api": null,
          "new_api": "ngx_http_v2_send_output_queue",
          "old_text": null,
          "new_text": "ngx_http_v2_send_output_queue(h2c)",
          "old_line_content": "        return NGX_HTTP_INTERNAL_SERVER_ERROR;",
          "new_line_content": "    if (ngx_http_v2_send_output_queue(h2c) == NGX_ERROR) {",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent GOAWAY frame \"\n                      \"with incorrect length %uz\", h2c->state.length)",
          "old_line_content": "                      \"with incorrect length %uz\", h2c->state.length);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "    }",
          "new_line_content": "        clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 4433,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(fc->read, clcf->client_body_timeout)",
          "old_line_content": "",
          "new_line_content": "        ngx_add_timer(fc->read, clcf->client_body_timeout);",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_goaway)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_goaway);",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent GOAWAY frame with incorrect identifier\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_sid",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_sid(pos)",
          "old_line_content": "",
          "new_line_content": "    last_sid = ngx_http_v2_parse_sid(pos);",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_uint32",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_uint32(&pos[4])",
          "old_line_content": "    pos += NGX_HTTP_V2_GOAWAY_SIZE;",
          "new_line_content": "    error = ngx_http_v2_parse_uint32(&pos[4]);",
          "content_same": false
        },
        {
          "line": 4453,
          "old_api": null,
          "new_api": "ngx_http_v2_send_rst_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_send_rst_stream(h2c, stream->node->id, status)",
          "old_line_content": "    {",
          "new_line_content": "    if (ngx_http_v2_send_rst_stream(h2c, stream->node->id, status)",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 GOAWAY frame: last sid %ui, error %ui\",\n                   last_sid, error)",
          "old_line_content": "                   last_sid, error);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": null,
          "new_api": "ngx_http_v2_state_skip",
          "old_text": null,
          "new_text": "ngx_http_v2_state_skip(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_skip(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4466,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "rev->handler(rev)",
          "old_line_content": "    return NGX_OK;",
          "new_line_content": "    rev->handler(rev);",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent WINDOW_UPDATE frame \"\n                      \"with incorrect length %uz\", h2c->state.length)",
          "old_line_content": "                      \"with incorrect length %uz\", h2c->state.length);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_window_update)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": null,
          "new_api": "ngx_log_debug4",
          "old_text": null,
          "new_text": "ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 close stream %ui, queued %ui, \"\n                   \"processing %ui, pushing %ui\",\n                   node->id, stream->queued, h2c->processing, h2c->pushing)",
          "old_line_content": "                   \"processing %ui, pushing %ui\",",
          "new_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_window",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_window(pos)",
          "old_line_content": "    pos += NGX_HTTP_V2_WINDOW_UPDATE_SIZE;",
          "new_line_content": "    window = ngx_http_v2_parse_window(pos);",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 WINDOW_UPDATE frame sid:%ui window:%uz\",\n                   h2c->state.sid, window)",
          "old_line_content": "                   h2c->state.sid, window);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent WINDOW_UPDATE frame \"\n                      \"with incorrect window increment 0\")",
          "old_line_content": "                      \"with incorrect window increment 0\");",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": null,
          "new_api": "ngx_http_v2_send_rst_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_send_rst_stream(h2c, node->id,\n                                      fc->timedout ? NGX_HTTP_V2_PROTOCOL_ERROR\n                                                   : NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "                                                   : NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_line_content": "            if (ngx_http_v2_send_rst_stream(h2c, node->id,",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": null,
          "new_api": "ngx_http_v2_get_node_by_id",
          "old_text": null,
          "new_text": "ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0)",
          "old_line_content": "        if (node == NULL || node->stream == NULL) {",
          "new_line_content": "        node = ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                           \"unknown http2 stream\")",
          "old_line_content": "",
          "new_line_content": "            ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4511,
          "old_api": null,
          "new_api": "ngx_http_v2_send_rst_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_send_rst_stream(h2c, node->id, NGX_HTTP_V2_NO_ERROR)",
          "old_line_content": "            {",
          "new_line_content": "            if (ngx_http_v2_send_rst_stream(h2c, node->id, NGX_HTTP_V2_NO_ERROR)",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client violated flow control for stream %ui: \"\n                          \"received WINDOW_UPDATE frame \"\n                          \"with window increment %uz \"\n                          \"not allowed for window %z\",\n                          h2c->state.sid, window, stream->send_window)",
          "old_line_content": "                          \"received WINDOW_UPDATE frame \"",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": null,
          "new_api": "ngx_http_v2_terminate_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_terminate_stream(h2c, stream,\n                                             NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "old_line_content": "                == NGX_ERROR)",
          "new_line_content": "            if (ngx_http_v2_terminate_stream(h2c, stream,",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": null,
          "new_api": "ngx_queue_insert_tail",
          "old_text": null,
          "new_text": "ngx_queue_insert_tail(&h2c->closed, &node->reuse)",
          "old_line_content": "",
          "new_line_content": "    ngx_queue_insert_tail(&h2c->closed, &node->reuse);",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                    NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "            }",
          "new_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": null,
          "new_api": "ngx_http_free_request",
          "old_text": null,
          "new_text": "ngx_http_free_request(stream->request, rc)",
          "old_line_content": "    if (pool != h2c->state.pool) {",
          "new_line_content": "    ngx_http_free_request(stream->request, rc);",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(pool)",
          "old_line_content": "    } else {",
          "new_line_content": "        ngx_destroy_pool(pool);",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "wev->handler(wev)",
          "old_line_content": "        }",
          "new_line_content": "                wev->handler(wev);",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4554,
          "old_api": null,
          "new_api": "ngx_del_timer",
          "old_text": null,
          "new_text": "ngx_del_timer(ev)",
          "old_line_content": "",
          "new_line_content": "        ngx_del_timer(ev);",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client violated connection flow control: \"\n                      \"received WINDOW_UPDATE frame \"\n                      \"with window increment %uz \"\n                      \"not allowed for window %uz\",\n                      window, h2c->send_window)",
          "old_line_content": "                      \"received WINDOW_UPDATE frame \"",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4558,
          "old_api": null,
          "new_api": "ngx_delete_posted_event",
          "old_text": null,
          "new_text": "ngx_delete_posted_event(ev)",
          "old_line_content": "",
          "new_line_content": "        ngx_delete_posted_event(ev);",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_FLOW_CTRL_ERROR);",
          "content_same": false
        },
        {
          "line": 4564,
          "old_api": null,
          "new_api": "ngx_del_timer",
          "old_text": null,
          "new_text": "ngx_del_timer(ev)",
          "old_line_content": "",
          "new_line_content": "        ngx_del_timer(ev);",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": null,
          "new_api": "ngx_queue_empty",
          "old_text": null,
          "new_text": "ngx_queue_empty(&h2c->waiting)",
          "old_line_content": "",
          "new_line_content": "    while (!ngx_queue_empty(&h2c->waiting)) {",
          "content_same": false
        },
        {
          "line": 4568,
          "old_api": null,
          "new_api": "ngx_delete_posted_event",
          "old_text": null,
          "new_text": "ngx_delete_posted_event(ev)",
          "old_line_content": "",
          "new_line_content": "        ngx_delete_posted_event(ev);",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_http_v2_stream_t, queue)",
          "old_line_content": "        stream->waiting = 0;",
          "new_line_content": "        stream = ngx_queue_data(q, ngx_http_v2_stream_t, queue);",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "wev->handler(wev)",
          "old_line_content": "            if (h2c->send_window == 0) {",
          "new_line_content": "            wev->handler(wev);",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(ev, &ngx_posted_events)",
          "old_line_content": "",
          "new_line_content": "    ngx_post_event(ev, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                  \"client sent unexpected CONTINUATION frame\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4601,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 close stream handler\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 2554,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 4605,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\")",
          "old_line_content": "        fc->timedout = 1;",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\");",
          "content_same": false
        },
        {
          "line": 4609,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_REQUEST_TIME_OUT)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_REQUEST_TIME_OUT);",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 frame complete pos:%p end:%p\", pos, end)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4613,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, 0)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_close_stream(r->stream, 0);",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,\n                      \"receive buffer overrun\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 4626,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 retry close stream handler\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 4629,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, 0)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_close_stream(r->stream, 0);",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": null,
          "new_api": "ngx_http_v2_state_skip",
          "old_text": null,
          "new_text": "ngx_http_v2_state_skip(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_skip(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 4639,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, rev->log, 0,\n                   \"http2 handle connection handler\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, rev->log, 0,",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                       \"http2 frame skip %uz of %uz\", size, h2c->state.length)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4646,
          "old_api": null,
          "new_api": "ngx_http_v2_finalize_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_finalize_connection(h2c, 0)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_finalize_connection(h2c, 0);",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, end, end, ngx_http_v2_state_skip)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, end, end, ngx_http_v2_state_skip);",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": null,
          "new_api": "ngx_log_debug1",
          "old_text": null,
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 frame skip %uz\", h2c->state.length)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4653,
          "old_api": null,
          "new_api": "ngx_http_v2_read_handler",
          "old_text": null,
          "new_text": "ngx_http_v2_read_handler(rev)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_read_handler(rev);",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos + h2c->state.length, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos + h2c->state.length, end);",
          "content_same": false
        },
        {
          "line": 4657,
          "old_api": null,
          "new_api": "ngx_http_v2_send_output_queue",
          "old_text": null,
          "new_text": "ngx_http_v2_send_output_queue(h2c)",
          "old_line_content": "        return;",
          "new_line_content": "    if (h2c->last_out && ngx_http_v2_send_output_queue(h2c) == NGX_ERROR) {",
          "content_same": false
        },
        {
          "line": 4658,
          "old_api": null,
          "new_api": "ngx_http_v2_finalize_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_finalize_connection(h2c, 0)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_finalize_connection(h2c, 0);",
          "content_same": false
        },
        {
          "line": 4662,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_connection(c->data)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_handle_connection(c->data);",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": null,
          "new_api": "ngx_log_debug3",
          "old_text": null,
          "new_text": "ngx_log_debug3(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 frame state save pos:%p end:%p handler:%p\",\n                   pos, end, handler)",
          "old_line_content": "                   pos, end, handler);",
          "new_line_content": "    ngx_log_debug3(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,\n                      \"state buffer overflow: %uz bytes required\", size)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 4677,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0, \"http2 idle handler\")",
          "old_line_content": "    if (rev->timedout || c->close) {",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0, \"http2 idle handler\");",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": null,
          "new_api": "ngx_memcpy",
          "old_text": null,
          "new_text": "ngx_memcpy(h2c->state.buffer, pos, NGX_HTTP_V2_STATE_BUFFER_SIZE)",
          "old_line_content": "    h2c->state.buffer_used = size;",
          "new_line_content": "    ngx_memcpy(h2c->state.buffer, pos, NGX_HTTP_V2_STATE_BUFFER_SIZE);",
          "content_same": false
        },
        {
          "line": 4680,
          "old_api": null,
          "new_api": "ngx_http_v2_finalize_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR);",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, c->log, rev->kq_errno,\n                          \"kevent() reported that client %V closed \"\n                          \"idle connection\", &c->addr_text)",
          "old_line_content": "                          \"idle connection\", &c->addr_text);",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, c->log, rev->kq_errno,",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": null,
          "new_api": "ngx_http_close_connection",
          "old_text": null,
          "new_text": "ngx_http_close_connection(c)",
          "old_line_content": "        }",
          "new_line_content": "            ngx_http_close_connection(c);",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "old_line_content": "        }",
          "new_line_content": "            cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(rev, cscf->client_header_timeout)",
          "old_line_content": "    }",
          "new_line_content": "            ngx_add_timer(rev, cscf->client_header_timeout);",
          "content_same": false
        },
        {
          "line": 4704,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(h2c->http_connection->conf_ctx,\n                                        ngx_http_core_module)",
          "old_line_content": "",
          "new_line_content": "    clcf = ngx_http_get_module_loc_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end, handler)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_save(h2c, pos, end, handler);",
          "content_same": false
        },
        {
          "line": 4710,
          "old_api": null,
          "new_api": "ngx_http_v2_finalize_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR);",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 state connection error\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4717,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": null,
          "new_api": "ngx_http_v2_finalize_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_finalize_connection(h2c, err)",
          "old_line_content": "    return NULL;",
          "new_line_content": "    ngx_http_v2_finalize_connection(h2c, err);",
          "content_same": false
        },
        {
          "line": 4722,
          "old_api": null,
          "new_api": "ngx_http_v2_finalize_connection",
          "old_text": null,
          "new_text": "ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 4729,
          "old_api": null,
          "new_api": "ngx_http_v2_read_handler",
          "old_text": null,
          "new_text": "ngx_http_v2_read_handler(rev)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_read_handler(rev);",
          "content_same": false
        },
        {
          "line": 4752,
          "old_api": null,
          "new_api": "ngx_http_v2_send_goaway",
          "old_text": null,
          "new_text": "ngx_http_v2_send_goaway(h2c, status)",
          "old_line_content": "        }",
          "new_line_content": "        if (ngx_http_v2_send_goaway(h2c, status) != NGX_ERROR) {",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": null,
          "new_api": "ngx_http_v2_send_output_queue",
          "old_text": null,
          "new_text": "ngx_http_v2_send_output_queue(h2c)",
          "old_line_content": "    }",
          "new_line_content": "            (void) ngx_http_v2_send_output_queue(h2c);",
          "content_same": false
        },
        {
          "line": 4766,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": null,
          "new_api": "ngx_http_v2_index_size",
          "old_text": null,
          "new_text": "ngx_http_v2_index_size(h2scf)",
          "old_line_content": "    for (i = 0; i < size; i++) {",
          "new_line_content": "    size = ngx_http_v2_index_size(h2scf);",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": null,
          "new_api": "ngx_create_pool",
          "old_text": null,
          "new_text": "ngx_create_pool(1024, h2c->connection->log)",
          "old_line_content": "        goto rst_stream;",
          "new_line_content": "    pool = ngx_create_pool(1024, h2c->connection->log);",
          "content_same": false
        },
        {
          "line": 4799,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "ev->handler(ev)",
          "old_line_content": "    }",
          "new_line_content": "            ev->handler(ev);",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": null,
          "new_api": "ngx_http_v2_get_node_by_id",
          "old_text": null,
          "new_text": "ngx_http_v2_get_node_by_id(h2c, h2c->last_push, 1)",
          "old_line_content": "    if (node == NULL) {",
          "new_line_content": "    node = ngx_http_v2_get_node_by_id(h2c, h2c->last_push, 1);",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(pool)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_destroy_pool(pool);",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": null,
          "new_api": "ngx_http_v2_create_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_create_stream(h2c, 1)",
          "old_line_content": "",
          "new_line_content": "    stream = ngx_http_v2_create_stream(h2c, 1);",
          "content_same": false
        },
        {
          "line": 4813,
          "old_api": null,
          "new_api": "ngx_http_close_connection",
          "old_text": null,
          "new_text": "ngx_http_close_connection(c)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_close_connection(c);",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                                 ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "            h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": null,
          "new_api": "ngx_http_v2_index",
          "old_text": null,
          "new_text": "ngx_http_v2_index(h2scf, h2c->last_push)",
          "old_line_content": "",
          "new_line_content": "            index = ngx_http_v2_index(h2scf, h2c->last_push);",
          "content_same": false
        },
        {
          "line": 4817,
          "old_api": null,
          "new_api": "ngx_http_v2_lingering_close",
          "old_text": null,
          "new_text": "ngx_http_v2_lingering_close(c)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_lingering_close(c);",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": null,
          "new_api": "ngx_queue_insert_tail",
          "old_text": null,
          "new_text": "ngx_queue_insert_tail(&h2c->closed, &node->reuse)",
          "old_line_content": "        }",
          "new_line_content": "            ngx_queue_insert_tail(&h2c->closed, &node->reuse);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(pool)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_destroy_pool(pool);",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&node->reuse)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_queue_remove(&node->reuse);",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 4833,
          "old_api": null,
          "new_api": "ngx_http_v2_index_size",
          "old_text": null,
          "new_text": "ngx_http_v2_index_size(h2scf)",
          "old_line_content": "    for (i = 0; i < size; i++) {",
          "new_line_content": "    size = ngx_http_v2_index_size(h2scf);",
          "content_same": false
        },
        {
          "line": 2795,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 push stream sid:%ui \"\n                   \"depends on %ui excl:0 weight:16\",\n                   h2c->last_push, parent->node->id)",
          "old_line_content": "                   \"depends on %ui excl:0 weight:16\",",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4848,
          "old_api": null,
          "new_api": "ngx_http_v2_terminate_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_terminate_stream(h2c, stream,\n                                                 NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "old_line_content": "                    == NGX_ERROR)",
          "new_line_content": "                if (ngx_http_v2_terminate_stream(h2c, stream,",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": null,
          "new_api": "ngx_http_v2_set_dependency",
          "old_text": null,
          "new_text": "ngx_http_v2_set_dependency(h2c, node, parent->node->id, 0)",
          "old_line_content": "    r->method_name = ngx_http_core_get_method;",
          "new_line_content": "    ngx_http_v2_set_dependency(h2c, node, parent->node->id, 0);",
          "content_same": false
        },
        {
          "line": 2806,
          "old_api": null,
          "new_api": "ngx_pstrdup",
          "old_text": null,
          "new_text": "ngx_pstrdup(pool, &parent->request->schema)",
          "old_line_content": "        goto close;",
          "new_line_content": "    r->schema.data = ngx_pstrdup(pool, &parent->request->schema);",
          "content_same": false
        },
        {
          "line": 4860,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                           \"http2:%ui adjusted window: %z\",\n                           node->id, stream->send_window)",
          "old_line_content": "                           node->id, stream->send_window);",
          "new_line_content": "            ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2813,
          "old_api": null,
          "new_api": "ngx_pstrdup",
          "old_text": null,
          "new_text": "ngx_pstrdup(pool, path)",
          "old_line_content": "        goto close;",
          "new_line_content": "    value.data = ngx_pstrdup(pool, path);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_path",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_path(r, &value)",
          "old_line_content": "    if (rc != NGX_OK) {",
          "new_line_content": "    rc = ngx_http_v2_parse_path(r, &value);",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "wev->handler(wev)",
          "old_line_content": "            }",
          "new_line_content": "                    wev->handler(wev);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": null,
          "new_api": "ngx_pnalloc",
          "old_text": null,
          "new_text": "ngx_pnalloc(pool, value.len + 1)",
          "old_line_content": "            goto close;",
          "new_line_content": "        value.data = ngx_pnalloc(pool, value.len + 1);",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": null,
          "new_api": "ngx_memcpy",
          "old_text": null,
          "new_text": "ngx_memcpy(value.data, (*h)->value.data, value.len)",
          "old_line_content": "",
          "new_line_content": "        ngx_memcpy(value.data, (*h)->value.data, value.len);",
          "content_same": false
        },
        {
          "line": 4890,
          "old_api": null,
          "new_api": "ngx_http_v2_get_node_by_id",
          "old_text": null,
          "new_text": "ngx_http_v2_get_node_by_id(h2c, depend, 0)",
          "old_line_content": "    if (parent == NULL) {",
          "new_line_content": "    parent = depend ? ngx_http_v2_get_node_by_id(h2c, depend, 0) : NULL;",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_header",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_header(r, header, &value)",
          "old_line_content": "        if (rc != NGX_OK) {",
          "new_line_content": "        rc = ngx_http_v2_parse_header(r, header, &value);",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(fc->write, &ngx_posted_events)",
          "old_line_content": "    return stream;",
          "new_line_content": "    ngx_post_event(fc->write, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": null,
          "new_api": "ngx_http_run_posted_requests",
          "old_text": null,
          "new_text": "ngx_http_run_posted_requests(fc)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_run_posted_requests(fc);",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": null,
          "new_api": "ngx_http_finalize_request",
          "old_text": null,
          "new_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "old_line_content": "        return NULL;",
          "new_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "ngx_http_run_posted_requests",
          "old_text": null,
          "new_text": "ngx_http_run_posted_requests(fc)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_run_posted_requests(fc);",
          "content_same": false
        },
        {
          "line": 4915,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&parent->queue)",
          "old_line_content": "",
          "new_line_content": "                ngx_queue_remove(&parent->queue);",
          "content_same": false
        },
        {
          "line": 4916,
          "old_api": null,
          "new_api": "ngx_queue_insert_after",
          "old_text": null,
          "new_text": "ngx_queue_insert_after(&node->queue, &parent->queue)",
          "old_line_content": "                parent->parent = node->parent;",
          "new_line_content": "                ngx_queue_insert_after(&node->queue, &parent->queue);",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    return NULL;",
          "new_line_content": "    ngx_http_v2_close_stream(stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "ngx_http_v2_send_rst_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_send_rst_stream(h2c, h2c->last_push,\n                                    NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "        != NGX_OK)",
          "new_line_content": "    if (ngx_http_v2_send_rst_stream(h2c, h2c->last_push,",
          "content_same": false
        },
        {
          "line": 4931,
          "old_api": null,
          "new_api": "ngx_http_v2_node_children_update",
          "old_text": null,
          "new_text": "ngx_http_v2_node_children_update(parent)",
          "old_line_content": "",
          "new_line_content": "                    ngx_http_v2_node_children_update(parent);",
          "content_same": false
        },
        {
          "line": 4942,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&parent->reuse)",
          "old_line_content": "        }",
          "new_line_content": "            ngx_queue_remove(&parent->reuse);",
          "content_same": false
        },
        {
          "line": 4943,
          "old_api": null,
          "new_api": "ngx_queue_insert_tail",
          "old_text": null,
          "new_text": "ngx_queue_insert_tail(&h2c->closed, &parent->reuse)",
          "old_line_content": "",
          "new_line_content": "            ngx_queue_insert_tail(&h2c->closed, &parent->reuse);",
          "content_same": false
        },
        {
          "line": 2898,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send SETTINGS frame\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2901,
          "old_api": null,
          "new_api": "ngx_palloc",
          "old_text": null,
          "new_text": "ngx_palloc(h2c->pool, sizeof(ngx_http_v2_out_frame_t))",
          "old_line_content": "        return NGX_ERROR;",
          "new_line_content": "    frame = ngx_palloc(h2c->pool, sizeof(ngx_http_v2_out_frame_t));",
          "content_same": false
        },
        {
          "line": 4951,
          "old_api": null,
          "new_api": "ngx_queue_sentinel",
          "old_text": null,
          "new_text": "ngx_queue_sentinel(children)",
          "old_line_content": "        {",
          "new_line_content": "             q != ngx_queue_sentinel(children);",
          "content_same": false
        },
        {
          "line": 2906,
          "old_api": null,
          "new_api": "ngx_alloc_chain_link",
          "old_text": null,
          "new_text": "ngx_alloc_chain_link(h2c->pool)",
          "old_line_content": "        return NGX_ERROR;",
          "new_line_content": "    cl = ngx_alloc_chain_link(h2c->pool);",
          "content_same": false
        },
        {
          "line": 4954,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "old_line_content": "        }",
          "new_line_content": "            child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "content_same": false
        },
        {
          "line": 4958,
          "old_api": null,
          "new_api": "ngx_queue_add",
          "old_text": null,
          "new_text": "ngx_queue_add(&node->children, children)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_queue_add(&node->children, children);",
          "content_same": false
        },
        {
          "line": 4959,
          "old_api": null,
          "new_api": "ngx_queue_init",
          "old_text": null,
          "new_text": "ngx_queue_init(children)",
          "old_line_content": "",
          "new_line_content": "        ngx_queue_init(children);",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": null,
          "new_api": "ngx_create_temp_buf",
          "old_text": null,
          "new_text": "ngx_create_temp_buf(h2c->pool, NGX_HTTP_V2_FRAME_HEADER_SIZE + len)",
          "old_line_content": "        return NGX_ERROR;",
          "new_line_content": "    buf = ngx_create_temp_buf(h2c->pool, NGX_HTTP_V2_FRAME_HEADER_SIZE + len);",
          "content_same": false
        },
        {
          "line": 4963,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&node->queue)",
          "old_line_content": "",
          "new_line_content": "        ngx_queue_remove(&node->queue);",
          "content_same": false
        },
        {
          "line": 4966,
          "old_api": null,
          "new_api": "ngx_queue_insert_tail",
          "old_text": null,
          "new_text": "ngx_queue_insert_tail(children, &node->queue)",
          "old_line_content": "    node->parent = parent;",
          "new_line_content": "    ngx_queue_insert_tail(children, &node->queue);",
          "content_same": false
        },
        {
          "line": 4970,
          "old_api": null,
          "new_api": "ngx_http_v2_node_children_update",
          "old_text": null,
          "new_text": "ngx_http_v2_node_children_update(node)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_node_children_update(node);",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": null,
          "new_api": "ngx_http_v2_write_len_and_type",
          "old_text": null,
          "new_text": "ngx_http_v2_write_len_and_type(buf->last, len,\n                                               NGX_HTTP_V2_SETTINGS_FRAME)",
          "old_line_content": "",
          "new_line_content": "    buf->last = ngx_http_v2_write_len_and_type(buf->last, len,",
          "content_same": false
        },
        {
          "line": 4981,
          "old_api": null,
          "new_api": "ngx_queue_sentinel",
          "old_text": null,
          "new_text": "ngx_queue_sentinel(&node->children)",
          "old_line_content": "    {",
          "new_line_content": "         q != ngx_queue_sentinel(&node->children);",
          "content_same": false
        },
        {
          "line": 4984,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "old_line_content": "        child->rank = node->rank + 1;",
          "new_line_content": "        child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "content_same": false
        },
        {
          "line": 2939,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 4989,
          "old_api": null,
          "new_api": "ngx_http_v2_node_children_update",
          "old_text": null,
          "new_text": "ngx_http_v2_node_children_update(child)",
          "old_line_content": "}",
          "new_line_content": "        ngx_http_v2_node_children_update(child);",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": null,
          "new_api": "ngx_http_v2_write_uint32",
          "old_text": null,
          "new_text": "ngx_http_v2_write_uint32(buf->last,\n                                         h2scf->concurrent_streams)",
          "old_line_content": "",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last,",
          "content_same": false
        },
        {
          "line": 5000,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(h2c->state.pool)",
          "old_line_content": "",
          "new_line_content": "        ngx_destroy_pool(h2c->state.pool);",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": null,
          "new_api": "ngx_http_v2_write_uint32",
          "old_text": null,
          "new_text": "ngx_http_v2_write_uint32(buf->last,\n                                         NGX_HTTP_V2_MAX_FRAME_SIZE)",
          "old_line_content": "",
          "new_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last,",
          "content_same": false
        },
        {
          "line": 2956,
          "old_api": null,
          "new_api": "ngx_http_v2_queue_blocked_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "old_line_content": "    return NGX_OK;",
          "new_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "content_same": false
        },
        {
          "line": 5004,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(h2c->pool)",
          "old_line_content": "}",
          "new_line_content": "        ngx_destroy_pool(h2c->pool);",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": null,
          "new_api": "ngx_free_chain",
          "old_text": null,
          "new_text": "ngx_free_chain(h2c->pool, frame->first)",
          "old_line_content": "    return NGX_OK;",
          "new_line_content": "    ngx_free_chain(h2c->pool, frame->first);",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send WINDOW_UPDATE frame sid:%ui, window:%uz\",\n                   sid, window)",
          "old_line_content": "                   sid, window);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": null,
          "new_api": "ngx_http_v2_get_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_WINDOW_UPDATE_SIZE,\n                                  NGX_HTTP_V2_WINDOW_UPDATE_FRAME,\n                                  NGX_HTTP_V2_NO_FLAG, sid)",
          "old_line_content": "                                  NGX_HTTP_V2_NO_FLAG, sid);",
          "new_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_WINDOW_UPDATE_SIZE,",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": null,
          "new_api": "ngx_http_v2_queue_blocked_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "old_line_content": "    return NGX_OK;",
          "new_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "content_same": false
        },
        {
          "line": 3015,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send RST_STREAM frame sid:%ui, status:%ui\",\n                   sid, status)",
          "old_line_content": "                   sid, status);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": null,
          "new_api": "ngx_http_v2_get_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_RST_STREAM_SIZE,\n                                  NGX_HTTP_V2_RST_STREAM_FRAME,\n                                  NGX_HTTP_V2_NO_FLAG, sid)",
          "old_line_content": "                                  NGX_HTTP_V2_NO_FLAG, sid);",
          "new_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_RST_STREAM_SIZE,",
          "content_same": false
        },
        {
          "line": 3030,
          "old_api": null,
          "new_api": "ngx_http_v2_queue_blocked_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "old_line_content": "    return NGX_OK;",
          "new_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send GOAWAY frame: last sid %ui, error %ui\",\n                   h2c->last_sid, status)",
          "old_line_content": "                   h2c->last_sid, status);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": null,
          "new_api": "ngx_http_v2_get_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_GOAWAY_SIZE,\n                                  NGX_HTTP_V2_GOAWAY_FRAME,\n                                  NGX_HTTP_V2_NO_FLAG, 0)",
          "old_line_content": "                                  NGX_HTTP_V2_NO_FLAG, 0);",
          "new_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_GOAWAY_SIZE,",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": null,
          "new_api": "ngx_http_v2_write_sid",
          "old_text": null,
          "new_text": "ngx_http_v2_write_sid(buf->last, h2c->last_sid)",
          "old_line_content": "",
          "new_line_content": "    buf->last = ngx_http_v2_write_sid(buf->last, h2c->last_sid);",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": null,
          "new_api": "ngx_http_v2_queue_blocked_frame",
          "old_text": null,
          "new_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "old_line_content": "    return NGX_OK;",
          "new_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": null,
          "new_api": "ngx_pcalloc",
          "old_text": null,
          "new_text": "ngx_pcalloc(pool, sizeof(ngx_http_v2_out_frame_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        frame = ngx_pcalloc(pool, sizeof(ngx_http_v2_out_frame_t));",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": null,
          "new_api": "ngx_alloc_chain_link",
          "old_text": null,
          "new_text": "ngx_alloc_chain_link(pool)",
          "old_line_content": "            return NULL;",
          "new_line_content": "        frame->first = ngx_alloc_chain_link(pool);",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": null,
          "new_api": "ngx_create_temp_buf",
          "old_text": null,
          "new_text": "ngx_create_temp_buf(pool, NGX_HTTP_V2_FRAME_BUFFER_SIZE)",
          "old_line_content": "            return NULL;",
          "new_line_content": "        buf = ngx_create_temp_buf(pool, NGX_HTTP_V2_FRAME_BUFFER_SIZE);",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"http2 flood detected\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,\n                      \"requested control frame is too large: %uz\", length)",
          "old_line_content": "        return NULL;",
          "new_line_content": "        ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3128,
          "old_api": null,
          "new_api": "ngx_http_v2_write_len_and_type",
          "old_text": null,
          "new_text": "ngx_http_v2_write_len_and_type(buf->pos, length, type)",
          "old_line_content": "    *buf->last++ = flags;",
          "new_line_content": "    buf->last = ngx_http_v2_write_len_and_type(buf->pos, length, type);",
          "content_same": false
        },
        {
          "line": 3132,
          "old_api": null,
          "new_api": "ngx_http_v2_write_sid",
          "old_text": null,
          "new_text": "ngx_http_v2_write_sid(buf->last, sid)",
          "old_line_content": "    return frame;",
          "new_line_content": "    buf->last = ngx_http_v2_write_sid(buf->last, sid);",
          "content_same": false
        },
        {
          "line": 3182,
          "old_api": null,
          "new_api": "ngx_palloc",
          "old_text": null,
          "new_text": "ngx_palloc(h2c->pool, sizeof(ngx_connection_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        fc = ngx_palloc(h2c->pool, sizeof(ngx_connection_t));",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": null,
          "new_api": "ngx_palloc",
          "old_text": null,
          "new_text": "ngx_palloc(h2c->pool, sizeof(ngx_event_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        rev = ngx_palloc(h2c->pool, sizeof(ngx_event_t));",
          "content_same": false
        },
        {
          "line": 3192,
          "old_api": null,
          "new_api": "ngx_palloc",
          "old_text": null,
          "new_text": "ngx_palloc(h2c->pool, sizeof(ngx_event_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        wev = ngx_palloc(h2c->pool, sizeof(ngx_event_t));",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": null,
          "new_api": "ngx_palloc",
          "old_text": null,
          "new_text": "ngx_palloc(h2c->pool, sizeof(ngx_log_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        log = ngx_palloc(h2c->pool, sizeof(ngx_log_t));",
          "content_same": false
        },
        {
          "line": 3202,
          "old_api": null,
          "new_api": "ngx_palloc",
          "old_text": null,
          "new_text": "ngx_palloc(h2c->pool, sizeof(ngx_http_log_ctx_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        ctx = ngx_palloc(h2c->pool, sizeof(ngx_http_log_ctx_t));",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": null,
          "new_api": "ngx_memcpy",
          "old_text": null,
          "new_text": "ngx_memcpy(log, h2c->connection->log, sizeof(ngx_log_t))",
          "old_line_content": "    log->data = ctx;",
          "new_line_content": "    ngx_memcpy(log, h2c->connection->log, sizeof(ngx_log_t));",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": null,
          "new_api": "ngx_memzero",
          "old_text": null,
          "new_text": "ngx_memzero(rev, sizeof(ngx_event_t))",
          "old_line_content": "    rev->data = fc;",
          "new_line_content": "    ngx_memzero(rev, sizeof(ngx_event_t));",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": null,
          "new_api": "ngx_memcpy",
          "old_text": null,
          "new_text": "ngx_memcpy(wev, rev, sizeof(ngx_event_t))",
          "old_line_content": "    wev->write = 1;",
          "new_line_content": "    ngx_memcpy(wev, rev, sizeof(ngx_event_t));",
          "content_same": false
        },
        {
          "line": 3234,
          "old_api": null,
          "new_api": "ngx_memcpy",
          "old_text": null,
          "new_text": "ngx_memcpy(fc, h2c->connection, sizeof(ngx_connection_t))",
          "old_line_content": "    fc->data = h2c->http_connection;",
          "new_line_content": "    ngx_memcpy(fc, h2c->connection, sizeof(ngx_connection_t));",
          "content_same": false
        },
        {
          "line": 3245,
          "old_api": null,
          "new_api": "ngx_http_create_request",
          "old_text": null,
          "new_text": "ngx_http_create_request(fc)",
          "old_line_content": "        return NULL;",
          "new_line_content": "    r = ngx_http_create_request(fc);",
          "content_same": false
        },
        {
          "line": 3250,
          "old_api": null,
          "new_api": "ngx_str_set",
          "old_text": null,
          "new_text": "ngx_str_set(&r->http_protocol, \"HTTP/2.0\")",
          "old_line_content": "    r->http_version = NGX_HTTP_VERSION_20;",
          "new_line_content": "    ngx_str_set(&r->http_protocol, \"HTTP/2.0\");",
          "content_same": false
        },
        {
          "line": 3260,
          "old_api": null,
          "new_api": "ngx_create_temp_buf",
          "old_text": null,
          "new_text": "ngx_create_temp_buf(r->pool,\n                                       cscf->client_header_buffer_size)",
          "old_line_content": "    if (r->header_in == NULL) {",
          "new_line_content": "    r->header_in = ngx_create_temp_buf(r->pool,",
          "content_same": false
        },
        {
          "line": 3263,
          "old_api": null,
          "new_api": "ngx_http_free_request",
          "old_text": null,
          "new_text": "ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 3267,
          "old_api": null,
          "new_api": "ngx_list_init",
          "old_text": null,
          "new_text": "ngx_list_init(&r->headers_in.headers, r->pool, 20,\n                      sizeof(ngx_table_elt_t))",
          "old_line_content": "        != NGX_OK)",
          "new_line_content": "    if (ngx_list_init(&r->headers_in.headers, r->pool, 20,",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": null,
          "new_api": "ngx_http_free_request",
          "old_text": null,
          "new_text": "ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": null,
          "new_api": "ngx_http_free_request",
          "old_text": null,
          "new_text": "ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 3288,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_v2_module)",
          "old_line_content": "    stream->send_window = h2c->init_window;",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(r, ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 3303,
          "old_api": null,
          "new_api": "ngx_del_timer",
          "old_text": null,
          "new_text": "ngx_del_timer(h2c->connection->read)",
          "old_line_content": "",
          "new_line_content": "        ngx_del_timer(h2c->connection->read);",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": null,
          "new_api": "ngx_http_v2_index",
          "old_text": null,
          "new_text": "ngx_http_v2_index(h2scf, sid)",
          "old_line_content": "    for (node = h2c->streams_index[index]; node; node = node->index) {",
          "new_line_content": "    index = ngx_http_v2_index(h2scf, sid);",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": null,
          "new_api": "ngx_pcalloc",
          "old_text": null,
          "new_text": "ngx_pcalloc(h2c->connection->pool, sizeof(ngx_http_v2_node_t))",
          "old_line_content": "            return NULL;",
          "new_line_content": "        node = ngx_pcalloc(h2c->connection->pool, sizeof(ngx_http_v2_node_t));",
          "content_same": false
        },
        {
          "line": 3341,
          "old_api": null,
          "new_api": "ngx_http_v2_get_closed_node",
          "old_text": null,
          "new_text": "ngx_http_v2_get_closed_node(h2c)",
          "old_line_content": "",
          "new_line_content": "        node = ngx_http_v2_get_closed_node(h2c);",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": null,
          "new_api": "ngx_queue_init",
          "old_text": null,
          "new_text": "ngx_queue_init(&node->children)",
          "old_line_content": "    node->index = h2c->streams_index[index];",
          "new_line_content": "    ngx_queue_init(&node->children);",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 3374,
          "old_api": null,
          "new_api": "ngx_http_v2_index",
          "old_text": null,
          "new_text": "ngx_http_v2_index(h2scf, node->id)",
          "old_line_content": "    for ( ;; ) {",
          "new_line_content": "    next = &h2c->streams_index[ngx_http_v2_index(h2scf, node->id)];",
          "content_same": false
        },
        {
          "line": 3387,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&node->queue)",
          "old_line_content": "    weight = 0;",
          "new_line_content": "    ngx_queue_remove(&node->queue);",
          "content_same": false
        },
        {
          "line": 3392,
          "old_api": null,
          "new_api": "ngx_queue_sentinel",
          "old_text": null,
          "new_text": "ngx_queue_sentinel(&node->children)",
          "old_line_content": "    {",
          "new_line_content": "         q != ngx_queue_sentinel(&node->children);",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "old_line_content": "    }",
          "new_line_content": "        child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": null,
          "new_api": "ngx_queue_sentinel",
          "old_text": null,
          "new_text": "ngx_queue_sentinel(&node->children)",
          "old_line_content": "    {",
          "new_line_content": "         q != ngx_queue_sentinel(&node->children);",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_http_v2_node_t, queue)",
          "old_line_content": "        child->weight = node->weight * child->weight / weight;",
          "new_line_content": "        child = ngx_queue_data(q, ngx_http_v2_node_t, queue);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "ngx_http_v2_send_goaway",
          "old_text": null,
          "new_text": "ngx_http_v2_send_goaway(h2c, NGX_HTTP_V2_NO_ERROR)",
          "old_line_content": "                                                NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "        if (ngx_http_v2_send_goaway(h2c, NGX_HTTP_V2_NO_ERROR) == NGX_ERROR) {",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 3427,
          "old_api": null,
          "new_api": "ngx_http_v2_node_children_update",
          "old_text": null,
          "new_text": "ngx_http_v2_node_children_update(node)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_node_children_update(node);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_block",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_block(h2c, pos, end)",
          "old_line_content": "rst_stream:",
          "new_line_content": "    return ngx_http_v2_state_header_block(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3430,
          "old_api": null,
          "new_api": "ngx_memzero",
          "old_text": null,
          "new_text": "ngx_memzero(node, sizeof(ngx_http_v2_node_t))",
          "old_line_content": "    return node;",
          "new_line_content": "    ngx_memzero(node, sizeof(ngx_http_v2_node_t));",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "ngx_http_v2_send_rst_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_send_rst_stream(h2c, h2c->state.sid, status)",
          "old_line_content": "    }",
          "new_line_content": "    if (ngx_http_v2_send_rst_stream(h2c, h2c->state.sid, status) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_block",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_block(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_header_block(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3445,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "old_line_content": "    for (i = (header->name.data[0] == ':'); i != header->name.len; i++) {",
          "new_line_content": "    cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_header_block)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_continuation",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                               ngx_http_v2_state_header_block)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3461,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent invalid header name: \\\"%V\\\"\",\n                          &header->name)",
          "old_line_content": "                          &header->name);",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": null,
          "new_api": "ngx_http_v2_prefix",
          "old_text": null,
          "new_text": "ngx_http_v2_prefix(7)",
          "old_line_content": "    } else if (ch >= (1 << 6)) {",
          "new_line_content": "        prefix = ngx_http_v2_prefix(7);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "ngx_http_v2_prefix",
          "old_text": null,
          "new_text": "ngx_http_v2_prefix(6)",
          "old_line_content": "    } else if (ch >= (1 << 5)) {",
          "new_line_content": "        prefix = ngx_http_v2_prefix(6);",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent header \\\"%V\\\" with \"\n                          \"invalid value: \\\"%V\\\"\",\n                          &header->name, &header->value)",
          "old_line_content": "                          \"invalid value: \\\"%V\\\"\",",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "ngx_http_v2_prefix",
          "old_text": null,
          "new_text": "ngx_http_v2_prefix(5)",
          "old_line_content": "    } else if (ch >= (1 << 4)) {",
          "new_line_content": "        prefix = ngx_http_v2_prefix(5);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "ngx_http_v2_prefix",
          "old_text": null,
          "new_text": "ngx_http_v2_prefix(4)",
          "old_line_content": "    } else {",
          "new_line_content": "        prefix = ngx_http_v2_prefix(4);",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "ngx_http_v2_prefix",
          "old_text": null,
          "new_text": "ngx_http_v2_prefix(4)",
          "old_line_content": "",
          "new_line_content": "        prefix = ngx_http_v2_prefix(4);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_int",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_int(h2c, &pos, end, prefix)",
          "old_line_content": "    if (value < 0) {",
          "new_line_content": "    value = ngx_http_v2_parse_int(h2c, &pos, end, prefix);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                               ngx_http_v2_state_header_block)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3496,
          "old_api": null,
          "new_api": "ngx_memcmp",
          "old_text": null,
          "new_text": "ngx_memcmp(header->name.data, \"path\", sizeof(\"path\") - 1)",
          "old_line_content": "        {",
          "new_line_content": "        if (ngx_memcmp(header->name.data, \"path\", sizeof(\"path\") - 1)",
          "content_same": false
        },
        {
          "line": 3499,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_path",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_path(r, &header->value)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_parse_path(r, &header->value);",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client sent header block with too long %s value\",\n                          size_update ? \"size update\" : \"header index\")",
          "old_line_content": "                          size_update ? \"size update\" : \"header index\");",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "content_same": false
        },
        {
          "line": 3505,
          "old_api": null,
          "new_api": "ngx_memcmp",
          "old_text": null,
          "new_text": "ngx_memcmp(header->name.data, \"method\", sizeof(\"method\") - 1)",
          "old_line_content": "        {",
          "new_line_content": "        if (ngx_memcmp(header->name.data, \"method\", sizeof(\"method\") - 1)",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header block with incorrect length\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3508,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_method",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_method(r, &header->value)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_parse_method(r, &header->value);",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": null,
          "new_api": "ngx_memcmp",
          "old_text": null,
          "new_text": "ngx_memcmp(header->name.data, \"scheme\", sizeof(\"scheme\") - 1)",
          "old_line_content": "        {",
          "new_line_content": "        if (ngx_memcmp(header->name.data, \"scheme\", sizeof(\"scheme\") - 1)",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "ngx_http_v2_get_indexed_header",
          "old_text": null,
          "new_text": "ngx_http_v2_get_indexed_header(h2c, value, 0)",
          "old_line_content": "        }",
          "new_line_content": "        if (ngx_http_v2_get_indexed_header(h2c, value, 0) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_scheme",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_scheme(r, &header->value)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_parse_scheme(r, &header->value);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "ngx_http_v2_state_process_header",
          "old_text": null,
          "new_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": null,
          "new_api": "ngx_memcmp",
          "old_text": null,
          "new_text": "ngx_memcmp(header->name.data, \"authority\", sizeof(\"authority\") - 1)",
          "old_line_content": "        {",
          "new_line_content": "        if (ngx_memcmp(header->name.data, \"authority\", sizeof(\"authority\") - 1)",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "ngx_http_v2_table_size",
          "old_text": null,
          "new_text": "ngx_http_v2_table_size(h2c, value)",
          "old_line_content": "        }",
          "new_line_content": "        if (ngx_http_v2_table_size(h2c, value) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "content_same": false
        },
        {
          "line": 3523,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_authority",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_authority(r, &header->value)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_parse_authority(r, &header->value);",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3529,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                  \"client sent unknown pseudo-header \\\":%V\\\"\",\n                  &header->name)",
          "old_line_content": "                  &header->name);",
          "new_line_content": "    ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "ngx_http_v2_get_indexed_header",
          "old_text": null,
          "new_text": "ngx_http_v2_get_indexed_header(h2c, value, 1)",
          "old_line_content": "    }",
          "new_line_content": "    } else if (ngx_http_v2_get_indexed_header(h2c, value, 1) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": null,
          "new_api": "ngx_http_v2_state_field_len",
          "old_text": null,
          "new_text": "ngx_http_v2_state_field_len(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_field_len(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent duplicate :path header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3548,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent empty :path header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_continuation",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                               ngx_http_v2_state_field_len)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": null,
          "new_api": "ngx_http_parse_uri",
          "old_text": null,
          "new_text": "ngx_http_parse_uri(r)",
          "old_line_content": "                      \"client sent invalid :path header: \\\"%V\\\"\", value);",
          "new_line_content": "    if (ngx_http_parse_uri(r) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 3558,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent invalid :path header: \\\"%V\\\"\", value)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header block with incorrect length\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": null,
          "new_api": "ngx_http_process_request_uri",
          "old_text": null,
          "new_text": "ngx_http_process_request_uri(r)",
          "old_line_content": "         * request has been finalized already",
          "new_line_content": "    if (ngx_http_process_request_uri(r) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_field_len)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "ngx_http_v2_prefix",
          "old_text": null,
          "new_text": "ngx_http_v2_prefix(7)",
          "old_line_content": "    if (len < 0) {",
          "new_line_content": "    len = ngx_http_v2_parse_int(h2c, &pos, end, ngx_http_v2_prefix(7));",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                                  ngx_http_v2_state_field_len)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                        \"client sent header field with too long length value\")",
          "old_line_content": "",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header block with incorrect length\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 %s string, len:%i\",\n                   huff ? \"encoded\" : \"raw\", len)",
          "old_line_content": "                   huff ? \"encoded\" : \"raw\", len);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                        ngx_http_core_module)",
          "old_line_content": "",
          "new_line_content": "    cscf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent too large header field\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": null,
          "new_api": "ngx_http_v2_state_field_skip",
          "old_text": null,
          "new_text": "ngx_http_v2_state_field_skip(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_field_skip(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3611,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent duplicate :method header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 3618,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent empty :method header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "ngx_http_v2_state_field_huff",
          "old_text": null,
          "new_text": "ngx_http_v2_state_field_huff(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_field_huff(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": null,
          "new_api": "ngx_http_v2_state_field_raw",
          "old_text": null,
          "new_text": "ngx_http_v2_state_field_raw(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_field_raw(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": null,
          "new_api": "ngx_http_v2_huff_decode",
          "old_text": null,
          "new_text": "ngx_http_v2_huff_decode(&h2c->state.field_state, pos, size,\n                                &h2c->state.field_end,\n                                h2c->state.field_rest == 0,\n                                h2c->connection->log)",
          "old_line_content": "                                h2c->state.field_rest == 0,",
          "new_line_content": "    if (ngx_http_v2_huff_decode(&h2c->state.field_state, pos, size,",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent invalid encoded header field\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3656,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent invalid method: \\\"%V\\\"\",\n                          &r->method_name)",
          "old_line_content": "                          &r->method_name);",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": null,
          "new_api": "ngx_http_v2_state_process_header",
          "old_text": null,
          "new_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_field_huff)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header field with incorrect length\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 3678,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent duplicate :scheme header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_continuation",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                           ngx_http_v2_state_field_huff)",
          "old_line_content": "}",
          "new_line_content": "    return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent empty :scheme header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3694,
          "old_api": null,
          "new_api": "u_char) (ch | 0x20)",
          "old_text": null,
          "new_text": "u_char) (ch | 0x20)",
          "old_line_content": "            continue;",
          "new_line_content": "        c = (u_char) (ch | 0x20);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "ngx_cpymem",
          "old_text": null,
          "new_text": "ngx_cpymem(h2c->state.field_end, pos, size)",
          "old_line_content": "    pos += size;",
          "new_line_content": "    h2c->state.field_end = ngx_cpymem(h2c->state.field_end, pos, size);",
          "content_same": false
        },
        {
          "line": 3705,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent invalid :scheme header: \\\"%V\\\"\", value)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "ngx_http_v2_state_process_header",
          "old_text": null,
          "new_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_field_raw)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header field with incorrect length\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3720,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_header",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_header(r, &ngx_http_v2_parse_headers[0], value)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_parse_header(r, &ngx_http_v2_parse_headers[0], value);",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_continuation",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                           ngx_http_v2_state_field_raw)",
          "old_line_content": "}",
          "new_line_content": "    return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": null,
          "new_api": "ngx_list_push",
          "old_text": null,
          "new_text": "ngx_list_push(&r->headers_in.headers)",
          "old_line_content": "        return NGX_ERROR;",
          "new_line_content": "    h = ngx_list_push(&r->headers_in.headers);",
          "content_same": false
        },
        {
          "line": 3745,
          "old_api": null,
          "new_api": "ngx_hash_find",
          "old_text": null,
          "new_text": "ngx_hash_find(&cmcf->headers_in_hash, header->hash,\n                                   h->lowcase_key, h->key.len)",
          "old_line_content": "        if (header->hh == NULL) {",
          "new_line_content": "        header->hh = ngx_hash_find(&cmcf->headers_in_hash, header->hash,",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "ngx_http_v2_state_process_header",
          "old_text": null,
          "new_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_field_skip)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3757,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "header->hh->handler(r, h, header->hh->offset)",
          "old_line_content": "        return NGX_ABORT;",
          "new_line_content": "    if (header->hh->handler(r, h, header->hh->offset) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header field with incorrect length\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_continuation",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                           ngx_http_v2_state_field_skip)",
          "old_line_content": "}",
          "new_line_content": "    return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent no :method header\")",
          "old_line_content": "",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent no :scheme header\")",
          "old_line_content": "",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "ngx_string",
          "old_text": null,
          "new_text": "ngx_string(\"cookie\")",
          "old_line_content": "    header = &h2c->state.header;",
          "new_line_content": "    static ngx_str_t cookie = ngx_string(\"cookie\");",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent no :path header\")",
          "old_line_content": "        }",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": null,
          "new_api": "ngx_http_finalize_request",
          "old_text": null,
          "new_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client sent zero header name length\")",
          "old_line_content": "",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 3800,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "ngx_http_v2_state_field_len",
          "old_text": null,
          "new_text": "ngx_http_v2_state_field_len(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_field_len(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3806,
          "old_api": null,
          "new_api": "ngx_cpymem",
          "old_text": null,
          "new_text": "ngx_cpymem(p, r->method_name.data, r->method_name.len)",
          "old_line_content": "    *p++ = ' ';",
          "new_line_content": "    p = ngx_cpymem(p, r->method_name.data, r->method_name.len);",
          "content_same": false
        },
        {
          "line": 3814,
          "old_api": null,
          "new_api": "ngx_log_debug1",
          "old_text": null,
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"http2 request line: \\\"%V\\\"\", &r->request_line)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent too large header\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM);",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": null,
          "new_api": "ngx_http_v2_add_header",
          "old_text": null,
          "new_text": "ngx_http_v2_add_header(h2c, header)",
          "old_line_content": "                                                NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "        if (ngx_http_v2_add_header(h2c, header) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 3830,
          "old_api": null,
          "new_api": "ngx_array_create",
          "old_text": null,
          "new_text": "ngx_array_create(r->pool, 2, sizeof(ngx_str_t))",
          "old_line_content": "            return NGX_ERROR;",
          "new_line_content": "        cookies = ngx_array_create(r->pool, 2, sizeof(ngx_str_t));",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3838,
          "old_api": null,
          "new_api": "ngx_array_push",
          "old_text": null,
          "new_text": "ngx_array_push(cookies)",
          "old_line_content": "        return NGX_ERROR;",
          "new_line_content": "    val = ngx_array_push(cookies);",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "ngx_http_v2_validate_header",
          "old_text": null,
          "new_text": "ngx_http_v2_validate_header(r, header)",
          "old_line_content": "                                         NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_line_content": "    if (ngx_http_v2_validate_header(r, header) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": null,
          "new_api": "ngx_http_v2_terminate_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_terminate_stream(h2c, h2c->state.stream,\n                                         NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "            == NGX_ERROR)",
          "new_line_content": "        if (ngx_http_v2_terminate_stream(h2c, h2c->state.stream,",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": null,
          "new_api": "ngx_http_v2_pseudo_header",
          "old_text": null,
          "new_text": "ngx_http_v2_pseudo_header(r, header)",
          "old_line_content": "        if (rc == NGX_OK) {",
          "new_line_content": "        rc = ngx_http_v2_pseudo_header(r, header);",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                           \"http2 header: \\\":%V: %V\\\"\",\n                           &header->name, &header->value)",
          "old_line_content": "                           &header->name, &header->value);",
          "new_line_content": "            ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "            return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": null,
          "new_api": "ngx_string",
          "old_text": null,
          "new_text": "ngx_string(\"cookie\")",
          "old_line_content": "    cookies = r->stream->cookies;",
          "new_line_content": "    static ngx_str_t cookie = ngx_string(\"cookie\");",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": null,
          "new_api": "ngx_http_finalize_request",
          "old_text": null,
          "new_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "old_line_content": "        }",
          "new_line_content": "            ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "old_line_content": "        if (cscf->ignore_invalid_headers) {",
          "new_line_content": "        cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent invalid header: \\\"%V\\\"\", &header->name)",
          "old_line_content": "",
          "new_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "old_line_content": "    }",
          "new_line_content": "            return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3883,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "ngx_http_v2_cookie",
          "old_text": null,
          "new_text": "ngx_http_v2_cookie(r, header)",
          "old_line_content": "                                                NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "        if (ngx_http_v2_cookie(r, header) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 3892,
          "old_api": null,
          "new_api": "ngx_cpymem",
          "old_text": null,
          "new_text": "ngx_cpymem(p, vals[i].data, vals[i].len)",
          "old_line_content": "        if (p == end) {",
          "new_line_content": "        p = ngx_cpymem(p, vals[i].data, vals[i].len);",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "old_line_content": "        }",
          "new_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "content_same": false
        },
        {
          "line": 3904,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "ngx_hash_key",
          "old_text": null,
          "new_text": "ngx_hash_key(h->key.data, h->key.len)",
          "old_line_content": "        h->value.len = header->value.len;",
          "new_line_content": "        h->hash = ngx_hash_key(h->key.data, h->key.len);",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": null,
          "new_api": "ngx_hash",
          "old_text": null,
          "new_text": "ngx_hash(\n                                    ngx_hash('c', 'o'), 'o')",
          "old_line_content": "",
          "new_line_content": "    h->hash = ngx_hash(ngx_hash(ngx_hash(ngx_hash(",
          "content_same": false
        },
        {
          "line": 3909,
          "old_api": null,
          "new_api": "ngx_hash",
          "old_text": null,
          "new_text": "ngx_hash('c', 'o')",
          "old_line_content": "    h->key.len = cookie.len;",
          "new_line_content": "                                    ngx_hash('c', 'o'), 'o'), 'k'), 'i'), 'e');",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "ngx_hash_find",
          "old_text": null,
          "new_text": "ngx_hash_find(&cmcf->headers_in_hash, h->hash,\n                           h->lowcase_key, h->key.len)",
          "old_line_content": "",
          "new_line_content": "        hh = ngx_hash_find(&cmcf->headers_in_hash, h->hash,",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "hh->handler(r, h, hh->offset)",
          "old_line_content": "        }",
          "new_line_content": "        if (hh && hh->handler(r, h, hh->offset) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 3921,
          "old_api": null,
          "new_api": "ngx_hash_find",
          "old_text": null,
          "new_text": "ngx_hash_find(&cmcf->headers_in_hash, h->hash,\n                       h->lowcase_key, h->key.len)",
          "old_line_content": "",
          "new_line_content": "    hh = ngx_hash_find(&cmcf->headers_in_hash, h->hash,",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": null,
          "new_api": "ngx_log_debug2",
          "old_text": null,
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"http2 header: \\\"%V: %V\\\"\",\n                   &header->name, &header->value)",
          "old_line_content": "                   &header->name, &header->value);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3925,
          "old_api": null,
          "new_api": "ngx_http_v2_close_stream",
          "old_text": null,
          "new_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "old_line_content": "error:",
          "new_line_content": "    return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "hh->handler(r, h, hh->offset)",
          "old_line_content": "         * request has been finalized already",
          "new_line_content": "    if (hh->handler(r, h, hh->offset) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": null,
          "new_api": "ngx_http_v2_state_header_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3949,
          "old_api": null,
          "new_api": "ngx_http_v2_construct_request_line",
          "old_text": null,
          "new_text": "ngx_http_v2_construct_request_line(r)",
          "old_line_content": "    }",
          "new_line_content": "    if (ngx_http_v2_construct_request_line(r) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_header_block)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": null,
          "new_api": "ngx_http_v2_construct_cookie_header",
          "old_text": null,
          "new_text": "ngx_http_v2_construct_cookie_header(r)",
          "old_line_content": "    }",
          "new_line_content": "    if (ngx_http_v2_construct_cookie_header(r) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "ngx_http_v2_handle_continuation",
          "old_text": null,
          "new_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                             ngx_http_v2_state_header_complete)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 3959,
          "old_api": null,
          "new_api": "ngx_http_process_request_header",
          "old_text": null,
          "new_text": "ngx_http_process_request_header(r)",
          "old_line_content": "    }",
          "new_line_content": "    if (ngx_http_process_request_header(r) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": null,
          "new_api": "ngx_http_v2_run_request",
          "old_text": null,
          "new_text": "ngx_http_v2_run_request(stream->request)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_v2_run_request(stream->request);",
          "content_same": false
        },
        {
          "line": 3964,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client prematurely closed stream\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(h2c->state.pool)",
          "old_line_content": "",
          "new_line_content": "        ngx_destroy_pool(h2c->state.pool);",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": null,
          "new_api": "ngx_http_finalize_request",
          "old_text": null,
          "new_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "old_line_content": "    }",
          "new_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "ngx_http_v2_state_skip_padded",
          "old_text": null,
          "new_text": "ngx_http_v2_state_skip_padded(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_skip_padded(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "ngx_http_v2_state_complete",
          "old_text": null,
          "new_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": null,
          "new_api": "ngx_http_process_request",
          "old_text": null,
          "new_text": "ngx_http_process_request(r)",
          "old_line_content": "failed:",
          "new_line_content": "    ngx_http_process_request(r);",
          "content_same": false
        },
        {
          "line": 3985,
          "old_api": null,
          "new_api": "ngx_http_run_posted_requests",
          "old_text": null,
          "new_text": "ngx_http_run_posted_requests(fc)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_run_posted_requests(fc);",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "ngx_min",
          "old_text": null,
          "new_text": "ngx_min(h2c->state.padding, (end - pos) - len)",
          "old_line_content": "        h2c->state.padding -= skip;",
          "new_line_content": "        skip = ngx_min(h2c->state.padding, (end - pos) - len);",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "ngx_memmove",
          "old_text": null,
          "new_text": "ngx_memmove(pos, p, len)",
          "old_line_content": "",
          "new_line_content": "        ngx_memmove(pos, p, len);",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 run request handler\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": null,
          "new_api": "ngx_http_v2_state_headers_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_headers_save(h2c, pos, end, handler)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end, handler);",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": null,
          "new_api": "ngx_http_v2_run_request",
          "old_text": null,
          "new_text": "ngx_http_v2_run_request(r)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_v2_run_request(r);",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_type",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_type(head)",
          "old_line_content": "             \"client sent inappropriate frame while CONTINUATION was expected\");",
          "new_line_content": "    if (ngx_http_v2_parse_type(head) != NGX_HTTP_V2_CONTINUATION_FRAME) {",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n             \"client sent inappropriate frame while CONTINUATION was expected\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_sid",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_sid(&p[5])",
          "old_line_content": "                    \"client sent CONTINUATION frame with incorrect identifier\");",
          "new_line_content": "    if (h2c->state.sid != ngx_http_v2_parse_sid(&p[5])) {",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                    \"client sent CONTINUATION frame with incorrect identifier\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 4023,
          "old_api": null,
          "new_api": "post_handler",
          "old_text": null,
          "new_text": "rb->post_handler(r)",
          "old_line_content": "    }",
          "new_line_content": "        rb->post_handler(r);",
          "content_same": false
        },
        {
          "line": 4027,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_v2_module)",
          "old_line_content": "",
          "new_line_content": "    h2scf = ngx_http_get_module_srv_conf(r, ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 4028,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "    len = r->headers_in.content_length_n;",
          "new_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_length",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_length(head)",
          "old_line_content": "    h2c->state.length += len;",
          "new_line_content": "    len = ngx_http_v2_parse_length(head);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PRIORITY frame with incorrect length %uz\",\n                      h2c->state.length)",
          "old_line_content": "                      h2c->state.length);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": null,
          "new_api": "ngx_create_temp_buf",
          "old_text": null,
          "new_text": "ngx_create_temp_buf(r->pool, (size_t) len)",
          "old_line_content": "    } else if (len >= 0 && len <= (off_t) clcf->client_body_buffer_size",
          "new_line_content": "        rb->buf = ngx_create_temp_buf(r->pool, (size_t) len);",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "content_same": false
        },
        {
          "line": 4056,
          "old_api": null,
          "new_api": "ngx_create_temp_buf",
          "old_text": null,
          "new_text": "ngx_create_temp_buf(r->pool, (size_t) len)",
          "old_line_content": "    } else {",
          "new_line_content": "        rb->buf = ngx_create_temp_buf(r->pool, (size_t) len);",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent too many PRIORITY frames\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4059,
          "old_api": null,
          "new_api": "ngx_calloc_buf",
          "old_text": null,
          "new_text": "ngx_calloc_buf(r->pool)",
          "old_line_content": "        if (rb->buf != NULL) {",
          "new_line_content": "        rb->buf = ngx_calloc_buf(r->pool);",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM);",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": null,
          "new_api": "ngx_http_v2_state_save",
          "old_text": null,
          "new_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_priority)",
          "old_line_content": "    }",
          "new_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "ngx_http_v2_parse_uint32",
          "old_text": null,
          "new_text": "ngx_http_v2_parse_uint32(pos)",
          "old_line_content": "    depend = dependency & 0x7fffffff;",
          "new_line_content": "    dependency = ngx_http_v2_parse_uint32(pos);",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "ngx_log_debug4",
          "old_text": null,
          "new_text": "ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 PRIORITY frame sid:%ui \"\n                   \"depends on %ui excl:%ui weight:%ui\",\n                   h2c->state.sid, depend, excl, weight)",
          "old_line_content": "                   \"depends on %ui excl:%ui weight:%ui\",",
          "new_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": null,
          "new_api": "ngx_pfree",
          "old_text": null,
          "new_text": "ngx_pfree(r->pool, buf->start)",
          "old_line_content": "        }",
          "new_line_content": "            ngx_pfree(r->pool, buf->start);",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PRIORITY frame with incorrect identifier\")",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": null,
          "new_api": "ngx_http_v2_process_request_body",
          "old_text": null,
          "new_text": "ngx_http_v2_process_request_body(r, NULL, 0, 1)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_process_request_body(r, NULL, 0, 1);",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": null,
          "new_api": "ngx_http_v2_process_request_body",
          "old_text": null,
          "new_text": "ngx_http_v2_process_request_body(r, buf->pos,\n                                              buf->last - buf->pos, 0)",
          "old_line_content": "",
          "new_line_content": "        rc = ngx_http_v2_process_request_body(r, buf->pos,",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PRIORITY frame for stream %ui \"\n                      \"with incorrect dependency\", h2c->state.sid)",
          "old_line_content": "                      \"with incorrect dependency\", h2c->state.sid);",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 4092,
          "old_api": null,
          "new_api": "ngx_pfree",
          "old_text": null,
          "new_text": "ngx_pfree(r->pool, buf->start)",
          "old_line_content": "        if (rc != NGX_OK) {",
          "new_line_content": "        ngx_pfree(r->pool, buf->start);",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": null,
          "new_api": "ngx_http_v2_connection_error",
          "old_text": null,
          "new_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "old_line_content": "",
          "new_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2050,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4107,
          "old_api": "ngx_http_v2_send_window_update",
          "new_api": null,
          "old_text": "ngx_http_v2_send_window_update(stream->connection,\n                                           stream->node->id, size)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_send_window_update(stream->connection,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&node->reuse)",
          "new_text": null,
          "old_line_content": "            ngx_queue_remove(&node->reuse);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "ngx_queue_insert_tail",
          "new_api": null,
          "old_text": "ngx_queue_insert_tail(&h2c->closed, &node->reuse)",
          "new_text": null,
          "old_line_content": "        ngx_queue_insert_tail(&h2c->closed, &node->reuse);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "ngx_http_v2_set_dependency",
          "new_api": null,
          "old_text": "ngx_http_v2_set_dependency(h2c, node, depend, excl)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_set_dependency(h2c, node, depend, excl);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "ngx_http_v2_send_output_queue",
          "new_api": null,
          "old_text": "ngx_http_v2_send_output_queue(h2c)",
          "new_text": null,
          "old_line_content": "            if (ngx_http_v2_send_output_queue(h2c) == NGX_ERROR) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4128,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(r->connection->read, clcf->client_body_timeout)",
          "new_text": null,
          "old_line_content": "        ngx_add_timer(r->connection->read, clcf->client_body_timeout);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent RST_STREAM frame with incorrect length %uz\",\n                      h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      h2c->state.length);",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_rst_stream)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "ngx_http_v2_parse_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_uint32(pos)",
          "new_text": null,
          "old_line_content": "    status = ngx_http_v2_parse_uint32(pos);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 RST_STREAM frame, sid:%ui status:%ui\",\n                   h2c->state.sid, status)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    pos += NGX_HTTP_V2_RST_STREAM_SIZE;",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent RST_STREAM frame with incorrect identifier\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"client sent RST_STREAM frame with incorrect identifier\");",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "ngx_http_v2_get_node_by_id",
          "new_api": null,
          "old_text": "ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0)",
          "new_text": null,
          "old_line_content": "    node = ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                       \"unknown http2 stream\")",
          "new_text": null,
          "old_line_content": "        ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4161,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                              \"client intended to send body data \"\n                              \"larger than declared\")",
          "new_text": null,
          "old_line_content": "                ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "                       \"unknown http2 stream\");",
          "content_same": false
        },
        {
          "line": 4168,
          "old_api": "ngx_cpymem",
          "new_api": null,
          "old_text": "ngx_cpymem(buf->last, pos, size)",
          "new_text": null,
          "old_line_content": "            buf->last = ngx_cpymem(buf->last, pos, size);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4176,
          "old_api": "ngx_del_timer",
          "new_api": null,
          "old_text": "ngx_del_timer(fc->read)",
          "new_text": null,
          "old_line_content": "            ngx_del_timer(fc->read);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client canceled stream %ui\", h2c->state.sid)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4180,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(fc->read, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "            ngx_post_event(fc->read, &ngx_posted_events);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client refused stream %ui\", h2c->state.sid)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4184,
          "old_api": "ngx_http_v2_filter_request_body",
          "new_api": null,
          "old_text": "ngx_http_v2_filter_request_body(r)",
          "new_text": null,
          "old_line_content": "        rc = ngx_http_v2_filter_request_body(r);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client terminated stream %ui due to internal error\",\n                      h2c->state.sid)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client terminated stream %ui with status %ui\",\n                      h2c->state.sid, status)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": "post_handler",
          "new_api": null,
          "old_text": "rb->post_handler(r)",
          "new_text": null,
          "old_line_content": "        rb->post_handler(r);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "handler",
          "new_api": null,
          "old_text": "ev->handler(ev)",
          "new_text": null,
          "old_line_content": "    ev->handler(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4210,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(fc->read, clcf->client_body_timeout)",
          "new_text": null,
          "old_line_content": "    ngx_add_timer(fc->read, clcf->client_body_timeout);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 SETTINGS frame\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    u_char *end)",
          "content_same": false
        },
        {
          "line": 4213,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(fc->read, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "        ngx_post_event(fc->read, &ngx_posted_events);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent SETTINGS frame with incorrect identifier\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4218,
          "old_api": "ngx_http_v2_filter_request_body",
          "new_api": null,
          "old_text": "ngx_http_v2_filter_request_body(r)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_filter_request_body(r);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"client sent SETTINGS frame with incorrect identifier\");",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client sent SETTINGS frame with the ACK flag \"\n                          \"and nonzero length\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                          \"and nonzero length\");",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "        h2c->settings_ack = 1;",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent SETTINGS frame with incorrect length %uz\",\n                      h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      h2c->state.length);",
          "content_same": false
        },
        {
          "line": 4242,
          "old_api": "ngx_chain_get_free_buf",
          "new_api": null,
          "old_text": "ngx_chain_get_free_buf(r->pool, &rb->free)",
          "new_text": null,
          "old_line_content": "    cl = ngx_chain_get_free_buf(r->pool, &rb->free);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": "ngx_http_v2_state_settings_params",
          "new_api": null,
          "old_text": "ngx_http_v2_state_settings_params(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_settings_params(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": "ngx_memzero",
          "new_api": null,
          "old_text": "ngx_memzero(b, sizeof(ngx_buf_t))",
          "new_text": null,
          "old_line_content": "    ngx_memzero(b, sizeof(ngx_buf_t));",
          "new_line_content": "    b = cl->buf;",
          "content_same": false
        },
        {
          "line": 4257,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                              \"client intended to send body data \"\n                              \"larger than declared\")",
          "new_text": null,
          "old_line_content": "                ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "        if (r->headers_in.content_length_n != -1) {",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                          ngx_http_v2_state_settings_params)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_save(h2c, pos, end,",
          "new_line_content": "    while (h2c->state.length) {",
          "content_same": false
        },
        {
          "line": 4265,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "            clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2219,
          "old_api": "ngx_http_v2_parse_uint16",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_uint16(pos)",
          "new_text": null,
          "old_line_content": "        id = ngx_http_v2_parse_uint16(pos);",
          "new_line_content": "        h2c->state.length -= NGX_HTTP_V2_SETTINGS_PARAM_SIZE;",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": "ngx_http_v2_parse_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_uint32(&pos[2])",
          "new_text": null,
          "old_line_content": "        value = ngx_http_v2_parse_uint32(&pos[2]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ERR, r->connection->log, 0,\n                              \"client intended to send too large chunked body: \"\n                              \"%O bytes\", rb->received)",
          "new_text": null,
          "old_line_content": "                ngx_log_error(NGX_LOG_ERR, r->connection->log, 0,",
          "new_line_content": "                && rb->received > clcf->client_max_body_size)",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                              \"client sent SETTINGS frame with incorrect \"\n                              \"INITIAL_WINDOW_SIZE value %ui\", value)",
          "new_text": null,
          "old_line_content": "                ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                  NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "new_text": null,
          "old_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "                              \"INITIAL_WINDOW_SIZE value %ui\", value);",
          "content_same": false
        },
        {
          "line": 4291,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client prematurely closed stream: \"\n                          \"only %O out of %O bytes of request body received\",\n                          rb->received, r->headers_in.content_length_n)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "            && r->headers_in.content_length_n != rb->received)",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                              \"client sent SETTINGS frame with incorrect \"\n                              \"MAX_FRAME_SIZE value %ui\", value)",
          "new_text": null,
          "old_line_content": "                ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "                || value < NGX_HTTP_V2_DEFAULT_FRAME_SIZE)",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                    NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "                              \"MAX_FRAME_SIZE value %ui\", value);",
          "content_same": false
        },
        {
          "line": 4307,
          "old_api": "ngx_http_top_request_body_filter",
          "new_api": null,
          "old_text": "ngx_http_top_request_body_filter(r, cl)",
          "new_text": null,
          "old_line_content": "    rc = ngx_http_top_request_body_filter(r, cl);",
          "new_line_content": "update:",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                              \"client sent SETTINGS frame with incorrect \"\n                              \"ENABLE_PUSH value %ui\", value)",
          "new_text": null,
          "old_line_content": "                ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                    NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "                              \"ENABLE_PUSH value %ui\", value);",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                                 ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "            h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2275,
          "old_api": "ngx_min",
          "new_api": null,
          "old_text": "ngx_min(value, h2scf->concurrent_pushes)",
          "new_text": null,
          "old_line_content": "            h2c->concurrent_pushes = ngx_min(value, h2scf->concurrent_pushes);",
          "new_line_content": "                                                 ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 4323,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 read client request body handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "new_line_content": "    fc = r->connection;",
          "content_same": false
        },
        {
          "line": 4327,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4332,
          "old_api": "ngx_http_finalize_request",
          "new_api": null,
          "old_text": "ngx_http_finalize_request(r, NGX_HTTP_REQUEST_TIME_OUT)",
          "new_text": null,
          "old_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_REQUEST_TIME_OUT);",
          "new_line_content": "        r->stream->skip_data = 1;",
          "content_same": false
        },
        {
          "line": 4337,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, 0,\n                      \"client prematurely closed stream\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": "ngx_http_v2_get_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_SETTINGS_ACK_SIZE,\n                                  NGX_HTTP_V2_SETTINGS_FRAME,\n                                  NGX_HTTP_V2_ACK_FLAG, 0)",
          "new_text": null,
          "old_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_SETTINGS_ACK_SIZE,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "                                  NGX_HTTP_V2_ACK_FLAG, 0);",
          "content_same": false
        },
        {
          "line": 4342,
          "old_api": "ngx_http_finalize_request",
          "new_api": null,
          "old_text": "ngx_http_finalize_request(r, NGX_HTTP_CLIENT_CLOSED_REQUEST)",
          "new_text": null,
          "old_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_CLIENT_CLOSED_REQUEST);",
          "new_line_content": "        r->stream->skip_data = 1;",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": "ngx_http_v2_queue_ordered_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_queue_ordered_frame(h2c, frame)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_queue_ordered_frame(h2c, frame);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": "ngx_http_v2_adjust_windows",
          "new_api": null,
          "old_text": "ngx_http_v2_adjust_windows(h2c, window_delta)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_adjust_windows(h2c, window_delta) != NGX_OK) {",
          "new_line_content": "        h2c->init_window += window_delta;",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2308,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                  \"client sent PUSH_PROMISE frame\")",
          "new_text": null,
          "old_line_content": "    ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "    u_char *end)",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                  \"client sent PUSH_PROMISE frame\");",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PING frame with incorrect length %uz\",\n                      h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4378,
          "old_api": "ngx_http_v2_filter_request_body",
          "new_api": null,
          "old_text": "ngx_http_v2_filter_request_body(r)",
          "new_text": null,
          "old_line_content": "    rc = ngx_http_v2_filter_request_body(r);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      h2c->state.length);",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_ping)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_ping);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2341,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 PING frame\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PING frame with incorrect identifier\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"client sent PING frame with incorrect identifier\");",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "ngx_http_v2_state_skip",
          "new_api": null,
          "old_text": "ngx_http_v2_state_skip(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_skip(h2c, pos, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": "ngx_http_v2_get_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_PING_SIZE,\n                                  NGX_HTTP_V2_PING_FRAME,\n                                  NGX_HTTP_V2_ACK_FLAG, 0)",
          "new_text": null,
          "old_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_PING_SIZE,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "                                  NGX_HTTP_V2_ACK_FLAG, 0);",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ALERT, r->connection->log, 0,\n                          \"http2 negative window update\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_ALERT, r->connection->log, 0,",
          "new_line_content": "    if (window <= stream->recv_window) {",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": "ngx_cpymem",
          "new_api": null,
          "old_text": "ngx_cpymem(buf->last, pos, NGX_HTTP_V2_PING_SIZE)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_cpymem(buf->last, pos, NGX_HTTP_V2_PING_SIZE);",
          "new_line_content": "    buf = frame->first->buf;",
          "content_same": false
        },
        {
          "line": 4416,
          "old_api": "ngx_http_v2_send_window_update",
          "new_api": null,
          "old_text": "ngx_http_v2_send_window_update(h2c, stream->node->id,\n                                       window - stream->recv_window)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_send_window_update(h2c, stream->node->id,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4424,
          "old_api": "ngx_http_v2_send_output_queue",
          "new_api": null,
          "old_text": "ngx_http_v2_send_output_queue(h2c)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_send_output_queue(h2c) == NGX_ERROR) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent GOAWAY frame \"\n                      \"with incorrect length %uz\", h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4430,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "        clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4431,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(fc->read, clcf->client_body_timeout)",
          "new_text": null,
          "old_line_content": "        ngx_add_timer(fc->read, clcf->client_body_timeout);",
          "new_line_content": "    if (stream->recv_window == 0) {",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"with incorrect length %uz\", h2c->state.length);",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_goaway)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, pos, end, ngx_http_v2_state_goaway);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent GOAWAY frame with incorrect identifier\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"client sent GOAWAY frame with incorrect identifier\");",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": "ngx_http_v2_parse_sid",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_sid(pos)",
          "new_text": null,
          "old_line_content": "    last_sid = ngx_http_v2_parse_sid(pos);",
          "new_line_content": "    h2c->state.length -= NGX_HTTP_V2_GOAWAY_SIZE;",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "ngx_http_v2_parse_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_uint32(&pos[4])",
          "new_text": null,
          "old_line_content": "    error = ngx_http_v2_parse_uint32(&pos[4]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": "ngx_http_v2_send_rst_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_send_rst_stream(h2c, stream->node->id, status)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_send_rst_stream(h2c, stream->node->id, status)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 GOAWAY frame: last sid %ui, error %ui\",\n                   last_sid, error)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    pos += NGX_HTTP_V2_GOAWAY_SIZE;",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "ngx_http_v2_state_skip",
          "new_api": null,
          "old_text": "ngx_http_v2_state_skip(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_skip(h2c, pos, end);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4464,
          "old_api": "handler",
          "new_api": null,
          "old_text": "rev->handler(rev)",
          "new_text": null,
          "old_line_content": "    rev->handler(rev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent WINDOW_UPDATE frame \"\n                      \"with incorrect length %uz\", h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"with incorrect length %uz\", h2c->state.length);",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_window_update)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": "ngx_log_debug4",
          "new_api": null,
          "old_text": "ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 close stream %ui, queued %ui, \"\n                   \"processing %ui, pushing %ui\",\n                   node->id, stream->queued, h2c->processing, h2c->pushing)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    node = stream->node;",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "ngx_http_v2_parse_window",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_window(pos)",
          "new_text": null,
          "old_line_content": "    window = ngx_http_v2_parse_window(pos);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 WINDOW_UPDATE frame sid:%ui window:%uz\",\n                   h2c->state.sid, window)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    pos += NGX_HTTP_V2_WINDOW_UPDATE_SIZE;",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent WINDOW_UPDATE frame \"\n                      \"with incorrect window increment 0\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"with incorrect window increment 0\");",
          "content_same": false
        },
        {
          "line": 4500,
          "old_api": "ngx_http_v2_send_rst_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_send_rst_stream(h2c, node->id,\n                                      fc->timedout ? NGX_HTTP_V2_PROTOCOL_ERROR\n                                                   : NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "            if (ngx_http_v2_send_rst_stream(h2c, node->id,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "ngx_http_v2_get_node_by_id",
          "new_api": null,
          "old_text": "ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0)",
          "new_text": null,
          "old_line_content": "        node = ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                           \"unknown http2 stream\")",
          "new_text": null,
          "old_line_content": "            ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": "ngx_http_v2_send_rst_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_send_rst_stream(h2c, node->id, NGX_HTTP_V2_NO_ERROR)",
          "new_text": null,
          "old_line_content": "            if (ngx_http_v2_send_rst_stream(h2c, node->id, NGX_HTTP_V2_NO_ERROR)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "                           \"unknown http2 stream\");",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client violated flow control for stream %ui: \"\n                          \"received WINDOW_UPDATE frame \"\n                          \"with window increment %uz \"\n                          \"not allowed for window %z\",\n                          h2c->state.sid, window, stream->send_window)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "        if (window > (size_t) (NGX_HTTP_V2_MAX_WINDOW - stream->send_window)) {",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": "ngx_http_v2_terminate_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_terminate_stream(h2c, stream,\n                                             NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "new_text": null,
          "old_line_content": "            if (ngx_http_v2_terminate_stream(h2c, stream,",
          "new_line_content": "                          h2c->state.sid, window, stream->send_window);",
          "content_same": false
        },
        {
          "line": 4525,
          "old_api": "ngx_queue_insert_tail",
          "new_api": null,
          "old_text": "ngx_queue_insert_tail(&h2c->closed, &node->reuse)",
          "new_text": null,
          "old_line_content": "    ngx_queue_insert_tail(&h2c->closed, &node->reuse);",
          "new_line_content": "    node->stream = NULL;",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                    NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "                return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "                == NGX_ERROR)",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4539,
          "old_api": "ngx_http_free_request",
          "new_api": null,
          "old_text": "ngx_http_free_request(stream->request, rc)",
          "new_text": null,
          "old_line_content": "    ngx_http_free_request(stream->request, rc);",
          "new_line_content": "    h2c->frames -= stream->frames;",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(pool)",
          "new_text": null,
          "old_line_content": "        ngx_destroy_pool(pool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": "handler",
          "new_api": null,
          "old_text": "wev->handler(wev)",
          "new_text": null,
          "old_line_content": "                wev->handler(wev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": "ngx_del_timer",
          "new_api": null,
          "old_text": "ngx_del_timer(ev)",
          "new_text": null,
          "old_line_content": "        ngx_del_timer(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client violated connection flow control: \"\n                      \"received WINDOW_UPDATE frame \"\n                      \"with window increment %uz \"\n                      \"not allowed for window %uz\",\n                      window, h2c->send_window)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4556,
          "old_api": "ngx_delete_posted_event",
          "new_api": null,
          "old_text": "ngx_delete_posted_event(ev)",
          "new_text": null,
          "old_line_content": "        ngx_delete_posted_event(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_FLOW_CTRL_ERROR);",
          "new_line_content": "                      window, h2c->send_window);",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": "ngx_del_timer",
          "new_api": null,
          "old_text": "ngx_del_timer(ev)",
          "new_text": null,
          "old_line_content": "        ngx_del_timer(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "ngx_queue_empty",
          "new_api": null,
          "old_text": "ngx_queue_empty(&h2c->waiting)",
          "new_text": null,
          "old_line_content": "    while (!ngx_queue_empty(&h2c->waiting)) {",
          "new_line_content": "    h2c->send_window += window;",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&h2c->waiting)",
          "new_text": null,
          "old_line_content": "        q = ngx_queue_head(&h2c->waiting);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": "ngx_delete_posted_event",
          "new_api": null,
          "old_text": "ngx_delete_posted_event(ev)",
          "new_text": null,
          "old_line_content": "        ngx_delete_posted_event(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": "handler",
          "new_api": null,
          "old_text": "wev->handler(wev)",
          "new_text": null,
          "old_line_content": "            wev->handler(wev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(ev, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "    ngx_post_event(ev, &ngx_posted_events);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                  \"client sent unexpected CONTINUATION frame\")",
          "new_text": null,
          "old_line_content": "    ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "    u_char *end)",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 close stream handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "new_line_content": "    r = fc->data;",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                  \"client sent unexpected CONTINUATION frame\");",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, fc->log, NGX_ETIMEDOUT, \"client timed out\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_REQUEST_TIME_OUT)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_REQUEST_TIME_OUT);",
          "new_line_content": "        fc->timedout = 1;",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 frame complete pos:%p end:%p\", pos, end)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    u_char *end)",
          "content_same": false
        },
        {
          "line": 4611,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_close_stream(r->stream, 0)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_close_stream(r->stream, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,\n                      \"receive buffer overrun\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "                      \"receive buffer overrun\");",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 retry close stream handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "new_line_content": "    r = fc->data;",
          "content_same": false
        },
        {
          "line": 4627,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_close_stream(r->stream, 0)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_close_stream(r->stream, 0);",
          "new_line_content": "                   \"http2 retry close stream handler\");",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "ngx_http_v2_state_skip",
          "new_api": null,
          "old_text": "ngx_http_v2_state_skip(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_skip(h2c, pos, end);",
          "new_line_content": "    h2c->state.padding = 0;",
          "content_same": false
        },
        {
          "line": 4637,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, rev->log, 0,\n                   \"http2 handle connection handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, rev->log, 0,",
          "new_line_content": "    ngx_http_v2_connection_t  *h2c;",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                       \"http2 frame skip %uz of %uz\", size, h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4644,
          "old_api": "ngx_http_v2_finalize_connection",
          "new_api": null,
          "old_text": "ngx_http_v2_finalize_connection(h2c, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_finalize_connection(h2c, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, end, end, ngx_http_v2_state_skip)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, end, end, ngx_http_v2_state_skip);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": "ngx_log_debug1",
          "new_api": null,
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 frame skip %uz\", h2c->state.length)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4651,
          "old_api": "ngx_http_v2_read_handler",
          "new_api": null,
          "old_text": "ngx_http_v2_read_handler(rev)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_read_handler(rev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos + h2c->state.length, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos + h2c->state.length, end);",
          "new_line_content": "                   \"http2 frame skip %uz\", h2c->state.length);",
          "content_same": false
        },
        {
          "line": 4655,
          "old_api": "ngx_http_v2_send_output_queue",
          "new_api": null,
          "old_text": "ngx_http_v2_send_output_queue(h2c)",
          "new_text": null,
          "old_line_content": "    if (h2c->last_out && ngx_http_v2_send_output_queue(h2c) == NGX_ERROR) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4656,
          "old_api": "ngx_http_v2_finalize_connection",
          "new_api": null,
          "old_text": "ngx_http_v2_finalize_connection(h2c, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_finalize_connection(h2c, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4660,
          "old_api": "ngx_http_v2_handle_connection",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_connection(c->data)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_handle_connection(c->data);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": "ngx_log_debug3",
          "new_api": null,
          "old_text": "ngx_log_debug3(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 frame state save pos:%p end:%p handler:%p\",\n                   pos, end, handler)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug3(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    size_t  size;",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,\n                      \"state buffer overflow: %uz bytes required\", size)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "                      \"state buffer overflow: %uz bytes required\", size);",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0, \"http2 idle handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0, \"http2 idle handler\");",
          "new_line_content": "    h2c = c->data;",
          "content_same": false
        },
        {
          "line": 2629,
          "old_api": "ngx_memcpy",
          "new_api": null,
          "old_text": "ngx_memcpy(h2c->state.buffer, pos, NGX_HTTP_V2_STATE_BUFFER_SIZE)",
          "new_text": null,
          "old_line_content": "    ngx_memcpy(h2c->state.buffer, pos, NGX_HTTP_V2_STATE_BUFFER_SIZE);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4678,
          "old_api": "ngx_http_v2_finalize_connection",
          "new_api": null,
          "old_text": "ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_finalize_connection(h2c, NGX_HTTP_V2_NO_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4687,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, c->log, rev->kq_errno,\n                          \"kevent() reported that client %V closed \"\n                          \"idle connection\", &c->addr_text)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, c->log, rev->kq_errno,",
          "new_line_content": "        if (rev->pending_eof) {",
          "content_same": false
        },
        {
          "line": 4695,
          "old_api": "ngx_http_close_connection",
          "new_api": null,
          "old_text": "ngx_http_close_connection(c)",
          "new_text": null,
          "old_line_content": "            ngx_http_close_connection(c);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "            cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2653,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(rev, cscf->client_header_timeout)",
          "new_text": null,
          "old_line_content": "            ngx_add_timer(rev, cscf->client_header_timeout);",
          "new_line_content": "        if (!rev->timer_set) {",
          "content_same": false
        },
        {
          "line": 4702,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(h2c->http_connection->conf_ctx,\n                                        ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    clcf = ngx_http_get_module_loc_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end, handler)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_save(h2c, pos, end, handler);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4706,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"http2 flood detected\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 state connection error\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    ngx_uint_t err)",
          "content_same": false
        },
        {
          "line": 4713,
          "old_api": "ngx_reusable_connection",
          "new_api": null,
          "old_text": "ngx_reusable_connection(c, 0)",
          "new_text": null,
          "old_line_content": "    ngx_reusable_connection(c, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2668,
          "old_api": "ngx_http_v2_finalize_connection",
          "new_api": null,
          "old_text": "ngx_http_v2_finalize_connection(h2c, err)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_finalize_connection(h2c, err);",
          "new_line_content": "                   \"http2 state connection error\");",
          "content_same": false
        },
        {
          "line": 4718,
          "old_api": "ngx_create_pool",
          "new_api": null,
          "old_text": "ngx_create_pool(h2scf->pool_size, h2c->connection->log)",
          "new_text": null,
          "old_line_content": "    h2c->pool = ngx_create_pool(h2scf->pool_size, h2c->connection->log);",
          "new_line_content": "                                         ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 4727,
          "old_api": "ngx_http_v2_read_handler",
          "new_api": null,
          "old_text": "ngx_http_v2_read_handler(rev)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_read_handler(rev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4750,
          "old_api": "ngx_http_v2_send_goaway",
          "new_api": null,
          "old_text": "ngx_http_v2_send_goaway(h2c, status)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_send_goaway(h2c, status) != NGX_ERROR) {",
          "new_line_content": "        h2c->goaway = 1;",
          "content_same": false
        },
        {
          "line": 4751,
          "old_api": "ngx_http_v2_send_output_queue",
          "new_api": null,
          "old_text": "ngx_http_v2_send_output_queue(h2c)",
          "new_text": null,
          "old_line_content": "            (void) ngx_http_v2_send_output_queue(h2c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4764,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "    h2c->last_out = NULL;",
          "content_same": false
        },
        {
          "line": 4767,
          "old_api": "ngx_http_v2_index_size",
          "new_api": null,
          "old_text": "ngx_http_v2_index_size(h2scf)",
          "new_text": null,
          "old_line_content": "    size = ngx_http_v2_index_size(h2scf);",
          "new_line_content": "                                         ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "ngx_create_pool",
          "new_api": null,
          "old_text": "ngx_create_pool(1024, h2c->connection->log)",
          "new_text": null,
          "old_line_content": "    pool = ngx_create_pool(1024, h2c->connection->log);",
          "new_line_content": "    h2c = parent->connection;",
          "content_same": false
        },
        {
          "line": 4797,
          "old_api": "handler",
          "new_api": null,
          "old_text": "ev->handler(ev)",
          "new_text": null,
          "old_line_content": "            ev->handler(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "ngx_http_v2_get_node_by_id",
          "new_api": null,
          "old_text": "ngx_http_v2_get_node_by_id(h2c, h2c->last_push, 1)",
          "new_text": null,
          "old_line_content": "    node = ngx_http_v2_get_node_by_id(h2c, h2c->last_push, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(pool)",
          "new_text": null,
          "old_line_content": "        ngx_destroy_pool(pool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2760,
          "old_api": "ngx_http_v2_create_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_create_stream(h2c, 1)",
          "new_text": null,
          "old_line_content": "    stream = ngx_http_v2_create_stream(h2c, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4811,
          "old_api": "ngx_http_close_connection",
          "new_api": null,
          "old_text": "ngx_http_close_connection(c)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_connection(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                                 ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "            h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": "ngx_http_v2_index",
          "new_api": null,
          "old_text": "ngx_http_v2_index(h2scf, h2c->last_push)",
          "new_text": null,
          "old_line_content": "            index = ngx_http_v2_index(h2scf, h2c->last_push);",
          "new_line_content": "                                                 ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 4815,
          "old_api": "ngx_http_v2_lingering_close",
          "new_api": null,
          "old_text": "ngx_http_v2_lingering_close(c)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_lingering_close(c);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": "ngx_queue_insert_tail",
          "new_api": null,
          "old_text": "ngx_queue_insert_tail(&h2c->closed, &node->reuse)",
          "new_text": null,
          "old_line_content": "            ngx_queue_insert_tail(&h2c->closed, &node->reuse);",
          "new_line_content": "            h2c->streams_index[index] = node->index;",
          "content_same": false
        },
        {
          "line": 2774,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(pool)",
          "new_text": null,
          "old_line_content": "        ngx_destroy_pool(pool);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&node->reuse)",
          "new_text": null,
          "old_line_content": "        ngx_queue_remove(&node->reuse);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4828,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "    ngx_http_v2_srv_conf_t  *h2scf;",
          "content_same": false
        },
        {
          "line": 4831,
          "old_api": "ngx_http_v2_index_size",
          "new_api": null,
          "old_text": "ngx_http_v2_index_size(h2scf)",
          "new_text": null,
          "old_line_content": "    size = ngx_http_v2_index_size(h2scf);",
          "new_line_content": "                                         ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 push stream sid:%ui \"\n                   \"depends on %ui excl:0 weight:16\",\n                   h2c->last_push, parent->node->id)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    node->stream = stream;",
          "content_same": false
        },
        {
          "line": 4846,
          "old_api": "ngx_http_v2_terminate_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_terminate_stream(h2c, stream,\n                                                 NGX_HTTP_V2_FLOW_CTRL_ERROR)",
          "new_text": null,
          "old_line_content": "                if (ngx_http_v2_terminate_stream(h2c, stream,",
          "new_line_content": "                      > (ssize_t) (NGX_HTTP_V2_MAX_WINDOW - delta))",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "ngx_http_v2_set_dependency",
          "new_api": null,
          "old_text": "ngx_http_v2_set_dependency(h2c, node, parent->node->id, 0)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_set_dependency(h2c, node, parent->node->id, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": "ngx_pstrdup",
          "new_api": null,
          "old_text": "ngx_pstrdup(pool, &parent->request->schema)",
          "new_text": null,
          "old_line_content": "    r->schema.data = ngx_pstrdup(pool, &parent->request->schema);",
          "new_line_content": "    r->method = NGX_HTTP_GET;",
          "content_same": false
        },
        {
          "line": 4858,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                           \"http2:%ui adjusted window: %z\",\n                           node->id, stream->send_window)",
          "new_text": null,
          "old_line_content": "            ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "            stream->send_window += delta;",
          "content_same": false
        },
        {
          "line": 2811,
          "old_api": "ngx_pstrdup",
          "new_api": null,
          "old_text": "ngx_pstrdup(pool, path)",
          "new_text": null,
          "old_line_content": "    value.data = ngx_pstrdup(pool, path);",
          "new_line_content": "    r->schema.len = parent->request->schema.len;",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "ngx_http_v2_parse_path",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_path(r, &value)",
          "new_text": null,
          "old_line_content": "    rc = ngx_http_v2_parse_path(r, &value);",
          "new_line_content": "    value.len = path->len;",
          "content_same": false
        },
        {
          "line": 4871,
          "old_api": "handler",
          "new_api": null,
          "old_text": "wev->handler(wev)",
          "new_text": null,
          "old_line_content": "                    wev->handler(wev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": "ngx_pnalloc",
          "new_api": null,
          "old_text": "ngx_pnalloc(pool, value.len + 1)",
          "new_text": null,
          "old_line_content": "        value.data = ngx_pnalloc(pool, value.len + 1);",
          "new_line_content": "        value.len = (*h)->value.len;",
          "content_same": false
        },
        {
          "line": 2839,
          "old_api": "ngx_memcpy",
          "new_api": null,
          "old_text": "ngx_memcpy(value.data, (*h)->value.data, value.len)",
          "new_text": null,
          "old_line_content": "        ngx_memcpy(value.data, (*h)->value.data, value.len);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4888,
          "old_api": "ngx_http_v2_get_node_by_id",
          "new_api": null,
          "old_text": "ngx_http_v2_get_node_by_id(h2c, depend, 0)",
          "new_text": null,
          "old_line_content": "    parent = depend ? ngx_http_v2_get_node_by_id(h2c, depend, 0) : NULL;",
          "new_line_content": "    ngx_http_v2_node_t  *parent, *child, *next;",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": "ngx_http_v2_parse_header",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_header(r, header, &value)",
          "new_text": null,
          "old_line_content": "        rc = ngx_http_v2_parse_header(r, header, &value);",
          "new_line_content": "        value.data[value.len] = '\\0';",
          "content_same": false
        },
        {
          "line": 2850,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(fc->write, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "    ngx_post_event(fc->write, &ngx_posted_events);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": "ngx_http_run_posted_requests",
          "new_api": null,
          "old_text": "ngx_http_run_posted_requests(fc)",
          "new_text": null,
          "old_line_content": "        ngx_http_run_posted_requests(fc);",
          "new_line_content": "    if (rc == NGX_ABORT) {",
          "content_same": false
        },
        {
          "line": 2863,
          "old_api": "ngx_http_finalize_request",
          "new_api": null,
          "old_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "new_text": null,
          "old_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "ngx_http_run_posted_requests",
          "new_api": null,
          "old_text": "ngx_http_run_posted_requests(fc)",
          "new_text": null,
          "old_line_content": "        ngx_http_run_posted_requests(fc);",
          "new_line_content": "    if (rc == NGX_DECLINED) {",
          "content_same": false
        },
        {
          "line": 4913,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&parent->queue)",
          "new_text": null,
          "old_line_content": "                ngx_queue_remove(&parent->queue);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 4914,
          "old_api": "ngx_queue_insert_after",
          "new_api": null,
          "old_text": "ngx_queue_insert_after(&node->queue, &parent->queue)",
          "new_text": null,
          "old_line_content": "                ngx_queue_insert_after(&node->queue, &parent->queue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_close_stream(stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_close_stream(stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "close:",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": "ngx_http_v2_send_rst_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_send_rst_stream(h2c, h2c->last_push,\n                                    NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_send_rst_stream(h2c, h2c->last_push,",
          "new_line_content": "rst_stream:",
          "content_same": false
        },
        {
          "line": 4929,
          "old_api": "ngx_http_v2_node_children_update",
          "new_api": null,
          "old_text": "ngx_http_v2_node_children_update(parent)",
          "new_text": null,
          "old_line_content": "                    ngx_http_v2_node_children_update(parent);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4940,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&parent->reuse)",
          "new_text": null,
          "old_line_content": "            ngx_queue_remove(&parent->reuse);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4941,
          "old_api": "ngx_queue_insert_tail",
          "new_api": null,
          "old_text": "ngx_queue_insert_tail(&h2c->closed, &parent->reuse)",
          "new_text": null,
          "old_line_content": "            ngx_queue_insert_tail(&h2c->closed, &parent->reuse);",
          "new_line_content": "        if (parent->stream == NULL) {",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send SETTINGS frame\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    ngx_http_v2_out_frame_t  *frame;",
          "content_same": false
        },
        {
          "line": 2899,
          "old_api": "ngx_palloc",
          "new_api": null,
          "old_text": "ngx_palloc(h2c->pool, sizeof(ngx_http_v2_out_frame_t))",
          "new_text": null,
          "old_line_content": "    frame = ngx_palloc(h2c->pool, sizeof(ngx_http_v2_out_frame_t));",
          "new_line_content": "                   \"http2 send SETTINGS frame\");",
          "content_same": false
        },
        {
          "line": 4948,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(children)",
          "new_text": null,
          "old_line_content": "        for (q = ngx_queue_head(children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4949,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(children)",
          "new_text": null,
          "old_line_content": "             q != ngx_queue_sentinel(children);",
          "new_line_content": "    if (exclusive) {",
          "content_same": false
        },
        {
          "line": 2904,
          "old_api": "ngx_alloc_chain_link",
          "new_api": null,
          "old_text": "ngx_alloc_chain_link(h2c->pool)",
          "new_text": null,
          "old_line_content": "    cl = ngx_alloc_chain_link(h2c->pool);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4956,
          "old_api": "ngx_queue_add",
          "new_api": null,
          "old_text": "ngx_queue_add(&node->children, children)",
          "new_text": null,
          "old_line_content": "        ngx_queue_add(&node->children, children);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4957,
          "old_api": "ngx_queue_init",
          "new_api": null,
          "old_text": "ngx_queue_init(children)",
          "new_text": null,
          "old_line_content": "        ngx_queue_init(children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "ngx_create_temp_buf",
          "new_api": null,
          "old_text": "ngx_create_temp_buf(h2c->pool, NGX_HTTP_V2_FRAME_HEADER_SIZE + len)",
          "new_text": null,
          "old_line_content": "    buf = ngx_create_temp_buf(h2c->pool, NGX_HTTP_V2_FRAME_HEADER_SIZE + len);",
          "new_line_content": "    len = NGX_HTTP_V2_SETTINGS_PARAM_SIZE * 3;",
          "content_same": false
        },
        {
          "line": 4961,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&node->queue)",
          "new_text": null,
          "old_line_content": "        ngx_queue_remove(&node->queue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4964,
          "old_api": "ngx_queue_insert_tail",
          "new_api": null,
          "old_text": "ngx_queue_insert_tail(children, &node->queue)",
          "new_text": null,
          "old_line_content": "    ngx_queue_insert_tail(children, &node->queue);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4968,
          "old_api": "ngx_http_v2_node_children_update",
          "new_api": null,
          "old_text": "ngx_http_v2_node_children_update(node)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_node_children_update(node);",
          "new_line_content": "    node->parent = parent;",
          "content_same": false
        },
        {
          "line": 2930,
          "old_api": "ngx_http_v2_write_len_and_type",
          "new_api": null,
          "old_text": "ngx_http_v2_write_len_and_type(buf->last, len,\n                                               NGX_HTTP_V2_SETTINGS_FRAME)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_len_and_type(buf->last, len,",
          "new_line_content": "    frame->blocked = 0;",
          "content_same": false
        },
        {
          "line": 4978,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&node->children)",
          "new_text": null,
          "old_line_content": "    for (q = ngx_queue_head(&node->children);",
          "new_line_content": "    ngx_http_v2_node_t  *child;",
          "content_same": false
        },
        {
          "line": 4979,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(&node->children)",
          "new_text": null,
          "old_line_content": "         q != ngx_queue_sentinel(&node->children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": "ngx_http_v2_write_sid",
          "new_api": null,
          "old_text": "ngx_http_v2_write_sid(buf->last, 0)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_sid(buf->last, 0);",
          "new_line_content": "    *buf->last++ = NGX_HTTP_V2_NO_FLAG;",
          "content_same": false
        },
        {
          "line": 4987,
          "old_api": "ngx_http_v2_node_children_update",
          "new_api": null,
          "old_text": "ngx_http_v2_node_children_update(child)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_node_children_update(child);",
          "new_line_content": "        child->rel_weight = (node->rel_weight / 256) * child->weight;",
          "content_same": false
        },
        {
          "line": 2940,
          "old_api": "ngx_http_v2_write_uint16",
          "new_api": null,
          "old_text": "ngx_http_v2_write_uint16(buf->last,\n                                         NGX_HTTP_V2_MAX_STREAMS_SETTING)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_uint16(buf->last,",
          "new_line_content": "                                         ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": "ngx_http_v2_write_uint16",
          "new_api": null,
          "old_text": "ngx_http_v2_write_uint16(buf->last,\n                                         NGX_HTTP_V2_INIT_WINDOW_SIZE_SETTING)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_uint16(buf->last,",
          "new_line_content": "                                         h2scf->concurrent_streams);",
          "content_same": false
        },
        {
          "line": 4998,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(h2c->state.pool)",
          "new_text": null,
          "old_line_content": "        ngx_destroy_pool(h2c->state.pool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": "ngx_http_v2_queue_blocked_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_queue_blocked_frame(h2c, frame)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_queue_blocked_frame(h2c, frame);",
          "new_line_content": "                                         NGX_HTTP_V2_MAX_FRAME_SIZE);",
          "content_same": false
        },
        {
          "line": 5002,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(h2c->pool)",
          "new_text": null,
          "old_line_content": "        ngx_destroy_pool(h2c->pool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": "ngx_free_chain",
          "new_api": null,
          "old_text": "ngx_free_chain(h2c->pool, frame->first)",
          "new_text": null,
          "old_line_content": "    ngx_free_chain(h2c->pool, frame->first);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send WINDOW_UPDATE frame sid:%ui, window:%uz\",\n                   sid, window)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    ngx_http_v2_out_frame_t  *frame;",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": "ngx_http_v2_get_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_WINDOW_UPDATE_SIZE,\n                                  NGX_HTTP_V2_WINDOW_UPDATE_FRAME,\n                                  NGX_HTTP_V2_NO_FLAG, sid)",
          "new_text": null,
          "old_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_WINDOW_UPDATE_SIZE,",
          "new_line_content": "                   sid, window);",
          "content_same": false
        },
        {
          "line": 2998,
          "old_api": "ngx_http_v2_write_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_write_uint32(buf->last, window)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, window);",
          "new_line_content": "    buf = frame->first->buf;",
          "content_same": false
        },
        {
          "line": 3013,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send RST_STREAM frame sid:%ui, status:%ui\",\n                   sid, status)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    ngx_http_v2_out_frame_t  *frame;",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": "ngx_http_v2_get_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_RST_STREAM_SIZE,\n                                  NGX_HTTP_V2_RST_STREAM_FRAME,\n                                  NGX_HTTP_V2_NO_FLAG, sid)",
          "new_text": null,
          "old_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_RST_STREAM_SIZE,",
          "new_line_content": "                   sid, status);",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": "ngx_http_v2_write_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_write_uint32(buf->last, status)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, status);",
          "new_line_content": "    buf = frame->first->buf;",
          "content_same": false
        },
        {
          "line": 3040,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 send GOAWAY frame: last sid %ui, error %ui\",\n                   h2c->last_sid, status)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    ngx_http_v2_out_frame_t  *frame;",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": "ngx_http_v2_get_frame",
          "new_api": null,
          "old_text": "ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_GOAWAY_SIZE,\n                                  NGX_HTTP_V2_GOAWAY_FRAME,\n                                  NGX_HTTP_V2_NO_FLAG, 0)",
          "new_text": null,
          "old_line_content": "    frame = ngx_http_v2_get_frame(h2c, NGX_HTTP_V2_GOAWAY_SIZE,",
          "new_line_content": "                   h2c->last_sid, status);",
          "content_same": false
        },
        {
          "line": 3053,
          "old_api": "ngx_http_v2_write_sid",
          "new_api": null,
          "old_text": "ngx_http_v2_write_sid(buf->last, h2c->last_sid)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_sid(buf->last, h2c->last_sid);",
          "new_line_content": "    buf = frame->first->buf;",
          "content_same": false
        },
        {
          "line": 3054,
          "old_api": "ngx_http_v2_write_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_write_uint32(buf->last, status)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_uint32(buf->last, status);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "ngx_pcalloc",
          "new_api": null,
          "old_text": "ngx_pcalloc(pool, sizeof(ngx_http_v2_out_frame_t))",
          "new_text": null,
          "old_line_content": "        frame = ngx_pcalloc(pool, sizeof(ngx_http_v2_out_frame_t));",
          "new_line_content": "        pool = h2c->pool ? h2c->pool : h2c->connection->pool;",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": "ngx_alloc_chain_link",
          "new_api": null,
          "old_text": "ngx_alloc_chain_link(pool)",
          "new_text": null,
          "old_line_content": "        frame->first = ngx_alloc_chain_link(pool);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3093,
          "old_api": "ngx_create_temp_buf",
          "new_api": null,
          "old_text": "ngx_create_temp_buf(pool, NGX_HTTP_V2_FRAME_BUFFER_SIZE)",
          "new_text": null,
          "old_line_content": "        buf = ngx_create_temp_buf(pool, NGX_HTTP_V2_FRAME_BUFFER_SIZE);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"http2 flood detected\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,\n                      \"requested control frame is too large: %uz\", length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_ALERT, h2c->connection->log, 0,",
          "new_line_content": "    if (length > NGX_HTTP_V2_FRAME_BUFFER_SIZE - NGX_HTTP_V2_FRAME_HEADER_SIZE)",
          "content_same": false
        },
        {
          "line": 3126,
          "old_api": "ngx_http_v2_write_len_and_type",
          "new_api": null,
          "old_text": "ngx_http_v2_write_len_and_type(buf->pos, length, type)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_len_and_type(buf->pos, length, type);",
          "new_line_content": "    frame->length = length;",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": "ngx_http_v2_write_sid",
          "new_api": null,
          "old_text": "ngx_http_v2_write_sid(buf->last, sid)",
          "new_text": null,
          "old_line_content": "    buf->last = ngx_http_v2_write_sid(buf->last, sid);",
          "new_line_content": "    *buf->last++ = flags;",
          "content_same": false
        },
        {
          "line": 3180,
          "old_api": "ngx_palloc",
          "new_api": null,
          "old_text": "ngx_palloc(h2c->pool, sizeof(ngx_connection_t))",
          "new_text": null,
          "old_line_content": "        fc = ngx_palloc(h2c->pool, sizeof(ngx_connection_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3185,
          "old_api": "ngx_palloc",
          "new_api": null,
          "old_text": "ngx_palloc(h2c->pool, sizeof(ngx_event_t))",
          "new_text": null,
          "old_line_content": "        rev = ngx_palloc(h2c->pool, sizeof(ngx_event_t));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": "ngx_palloc",
          "new_api": null,
          "old_text": "ngx_palloc(h2c->pool, sizeof(ngx_event_t))",
          "new_text": null,
          "old_line_content": "        wev = ngx_palloc(h2c->pool, sizeof(ngx_event_t));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3195,
          "old_api": "ngx_palloc",
          "new_api": null,
          "old_text": "ngx_palloc(h2c->pool, sizeof(ngx_log_t))",
          "new_text": null,
          "old_line_content": "        log = ngx_palloc(h2c->pool, sizeof(ngx_log_t));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3200,
          "old_api": "ngx_palloc",
          "new_api": null,
          "old_text": "ngx_palloc(h2c->pool, sizeof(ngx_http_log_ctx_t))",
          "new_text": null,
          "old_line_content": "        ctx = ngx_palloc(h2c->pool, sizeof(ngx_http_log_ctx_t));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": "ngx_memcpy",
          "new_api": null,
          "old_text": "ngx_memcpy(log, h2c->connection->log, sizeof(ngx_log_t))",
          "new_text": null,
          "old_line_content": "    ngx_memcpy(log, h2c->connection->log, sizeof(ngx_log_t));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": "ngx_memzero",
          "new_api": null,
          "old_text": "ngx_memzero(rev, sizeof(ngx_event_t))",
          "new_text": null,
          "old_line_content": "    ngx_memzero(rev, sizeof(ngx_event_t));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3228,
          "old_api": "ngx_memcpy",
          "new_api": null,
          "old_text": "ngx_memcpy(wev, rev, sizeof(ngx_event_t))",
          "new_text": null,
          "old_line_content": "    ngx_memcpy(wev, rev, sizeof(ngx_event_t));",
          "new_line_content": "    rev->log = log;",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": "ngx_memcpy",
          "new_api": null,
          "old_text": "ngx_memcpy(fc, h2c->connection, sizeof(ngx_connection_t))",
          "new_text": null,
          "old_line_content": "    ngx_memcpy(fc, h2c->connection, sizeof(ngx_connection_t));",
          "new_line_content": "    wev->write = 1;",
          "content_same": false
        },
        {
          "line": 3243,
          "old_api": "ngx_http_create_request",
          "new_api": null,
          "old_text": "ngx_http_create_request(fc)",
          "new_text": null,
          "old_line_content": "    r = ngx_http_create_request(fc);",
          "new_line_content": "    fc->tcp_nodelay = NGX_TCP_NODELAY_DISABLED;",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": "ngx_str_set",
          "new_api": null,
          "old_text": "ngx_str_set(&r->http_protocol, \"HTTP/2.0\")",
          "new_text": null,
          "old_line_content": "    ngx_str_set(&r->http_protocol, \"HTTP/2.0\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3256,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "new_line_content": "    h2c->connection->requests++;",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": "ngx_http_free_request",
          "new_api": null,
          "old_text": "ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": null,
          "old_line_content": "        ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "                                       cscf->client_header_buffer_size);",
          "content_same": false
        },
        {
          "line": 3265,
          "old_api": "ngx_list_init",
          "new_api": null,
          "old_text": "ngx_list_init(&r->headers_in.headers, r->pool, 20,\n                      sizeof(ngx_table_elt_t))",
          "new_text": null,
          "old_line_content": "    if (ngx_list_init(&r->headers_in.headers, r->pool, 20,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3269,
          "old_api": "ngx_http_free_request",
          "new_api": null,
          "old_text": "ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": null,
          "old_line_content": "        ngx_http_free_request(r, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "        != NGX_OK)",
          "content_same": false
        },
        {
          "line": 3275,
          "old_api": "ngx_pcalloc",
          "new_api": null,
          "old_text": "ngx_pcalloc(r->pool, sizeof(ngx_http_v2_stream_t))",
          "new_text": null,
          "old_line_content": "    stream = ngx_pcalloc(r->pool, sizeof(ngx_http_v2_stream_t));",
          "new_line_content": "    r->headers_in.connection_type = NGX_HTTP_CONNECTION_CLOSE;",
          "content_same": false
        },
        {
          "line": 3286,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(r, ngx_http_v2_module);",
          "new_line_content": "    stream->connection = h2c;",
          "content_same": false
        },
        {
          "line": 3301,
          "old_api": "ngx_del_timer",
          "new_api": null,
          "old_text": "ngx_del_timer(h2c->connection->read)",
          "new_text": null,
          "old_line_content": "        ngx_del_timer(h2c->connection->read);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3316,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "    ngx_http_v2_srv_conf_t  *h2scf;",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": "ngx_http_v2_index",
          "new_api": null,
          "old_text": "ngx_http_v2_index(h2scf, sid)",
          "new_text": null,
          "old_line_content": "    index = ngx_http_v2_index(h2scf, sid);",
          "new_line_content": "                                         ngx_http_v2_module);",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": "ngx_pcalloc",
          "new_api": null,
          "old_text": "ngx_pcalloc(h2c->connection->pool, sizeof(ngx_http_v2_node_t))",
          "new_text": null,
          "old_line_content": "        node = ngx_pcalloc(h2c->connection->pool, sizeof(ngx_http_v2_node_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": "ngx_http_v2_get_closed_node",
          "new_api": null,
          "old_text": "ngx_http_v2_get_closed_node(h2c)",
          "new_text": null,
          "old_line_content": "        node = ngx_http_v2_get_closed_node(h2c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3344,
          "old_api": "ngx_queue_init",
          "new_api": null,
          "old_text": "ngx_queue_init(&node->children)",
          "new_text": null,
          "old_line_content": "    ngx_queue_init(&node->children);",
          "new_line_content": "    node->id = sid;",
          "content_same": false
        },
        {
          "line": 3361,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                         ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "    ngx_http_v2_srv_conf_t  *h2scf;",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&h2c->closed)",
          "new_text": null,
          "old_line_content": "    q = ngx_queue_head(&h2c->closed);",
          "new_line_content": "    h2c->closed_nodes--;",
          "content_same": false
        },
        {
          "line": 3385,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&node->queue)",
          "new_text": null,
          "old_line_content": "    ngx_queue_remove(&node->queue);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3389,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&node->children)",
          "new_text": null,
          "old_line_content": "    for (q = ngx_queue_head(&node->children);",
          "new_line_content": "    weight = 0;",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(&node->children)",
          "new_text": null,
          "old_line_content": "         q != ngx_queue_sentinel(&node->children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&node->children)",
          "new_text": null,
          "old_line_content": "    for (q = ngx_queue_head(&node->children);",
          "new_line_content": "    parent = node->parent;",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(&node->children)",
          "new_text": null,
          "old_line_content": "         q != ngx_queue_sentinel(&node->children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "ngx_http_v2_send_goaway",
          "new_api": null,
          "old_text": "ngx_http_v2_send_goaway(h2c, NGX_HTTP_V2_NO_ERROR)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_send_goaway(h2c, NGX_HTTP_V2_NO_ERROR) == NGX_ERROR) {",
          "new_line_content": "        h2c->goaway = 1;",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": "ngx_http_v2_node_children_update",
          "new_api": null,
          "old_text": "ngx_http_v2_node_children_update(node)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_node_children_update(node);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3426,
          "old_api": "ngx_queue_add",
          "new_api": null,
          "old_text": "ngx_queue_add(children, &node->children)",
          "new_text": null,
          "old_line_content": "    ngx_queue_add(children, &node->children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "ngx_http_v2_state_header_block",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_block(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_header_block(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "ngx_http_v2_send_rst_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_send_rst_stream(h2c, h2c->state.sid, status)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_send_rst_stream(h2c, h2c->state.sid, status) != NGX_OK) {",
          "new_line_content": "rst_stream:",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "ngx_http_v2_state_header_block",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_block(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_header_block(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "new_line_content": "    r->invalid_header = 0;",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_header_block)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "ngx_http_v2_handle_continuation",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                               ngx_http_v2_state_header_block)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "new_line_content": "        && h2c->state.length < NGX_HTTP_V2_INT_OCTETS)",
          "content_same": false
        },
        {
          "line": 3459,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent invalid header name: \\\"%V\\\"\",\n                          &header->name)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "            || (ch >= 'A' && ch <= 'Z'))",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "ngx_http_v2_prefix",
          "new_api": null,
          "old_text": "ngx_http_v2_prefix(7)",
          "new_text": null,
          "old_line_content": "        prefix = ngx_http_v2_prefix(7);",
          "new_line_content": "        /* indexed header field */",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "ngx_http_v2_prefix",
          "new_api": null,
          "old_text": "ngx_http_v2_prefix(6)",
          "new_text": null,
          "old_line_content": "        prefix = ngx_http_v2_prefix(6);",
          "new_line_content": "        /* literal header field with incremental indexing */",
          "content_same": false
        },
        {
          "line": 3473,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent header \\\"%V\\\" with \"\n                          \"invalid value: \\\"%V\\\"\",\n                          &header->name, &header->value)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "ngx_http_v2_prefix",
          "new_api": null,
          "old_text": "ngx_http_v2_prefix(5)",
          "new_text": null,
          "old_line_content": "        prefix = ngx_http_v2_prefix(5);",
          "new_line_content": "        /* dynamic table size update */",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "ngx_http_v2_prefix",
          "new_api": null,
          "old_text": "ngx_http_v2_prefix(4)",
          "new_text": null,
          "old_line_content": "        prefix = ngx_http_v2_prefix(4);",
          "new_line_content": "    } else if (ch >= (1 << 4)) {",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "ngx_http_v2_prefix",
          "new_api": null,
          "old_text": "ngx_http_v2_prefix(4)",
          "new_text": null,
          "old_line_content": "        prefix = ngx_http_v2_prefix(4);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "ngx_http_v2_parse_int",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_int(h2c, &pos, end, prefix)",
          "new_text": null,
          "old_line_content": "    value = ngx_http_v2_parse_int(h2c, &pos, end, prefix);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                               ngx_http_v2_state_header_block)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "    if (value < 0) {",
          "content_same": false
        },
        {
          "line": 3494,
          "old_api": "ngx_memcmp",
          "new_api": null,
          "old_text": "ngx_memcmp(header->name.data, \"path\", sizeof(\"path\") - 1)",
          "new_text": null,
          "old_line_content": "        if (ngx_memcmp(header->name.data, \"path\", sizeof(\"path\") - 1)",
          "new_line_content": "    switch (header->name.len) {",
          "content_same": false
        },
        {
          "line": 3497,
          "old_api": "ngx_http_v2_parse_path",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_path(r, &header->value)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_parse_path(r, &header->value);",
          "new_line_content": "            == 0)",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client sent header block with too long %s value\",\n                          size_update ? \"size update\" : \"header index\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "new_line_content": "                          size_update ? \"size update\" : \"header index\");",
          "content_same": false
        },
        {
          "line": 3503,
          "old_api": "ngx_memcmp",
          "new_api": null,
          "old_text": "ngx_memcmp(header->name.data, \"method\", sizeof(\"method\") - 1)",
          "new_text": null,
          "old_line_content": "        if (ngx_memcmp(header->name.data, \"method\", sizeof(\"method\") - 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header block with incorrect length\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": "ngx_http_v2_parse_method",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_method(r, &header->value)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_parse_method(r, &header->value);",
          "new_line_content": "            == 0)",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"client sent header block with incorrect length\");",
          "content_same": false
        },
        {
          "line": 3509,
          "old_api": "ngx_memcmp",
          "new_api": null,
          "old_text": "ngx_memcmp(header->name.data, \"scheme\", sizeof(\"scheme\") - 1)",
          "new_text": null,
          "old_line_content": "        if (ngx_memcmp(header->name.data, \"scheme\", sizeof(\"scheme\") - 1)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "ngx_http_v2_get_indexed_header",
          "new_api": null,
          "old_text": "ngx_http_v2_get_indexed_header(h2c, value, 0)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_get_indexed_header(h2c, value, 0) != NGX_OK) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "new_line_content": "    if (indexed) {",
          "content_same": false
        },
        {
          "line": 3512,
          "old_api": "ngx_http_v2_parse_scheme",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_scheme(r, &header->value)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_parse_scheme(r, &header->value);",
          "new_line_content": "            == 0)",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "ngx_http_v2_state_process_header",
          "new_api": null,
          "old_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": "ngx_memcmp",
          "new_api": null,
          "old_text": "ngx_memcmp(header->name.data, \"authority\", sizeof(\"authority\") - 1)",
          "new_text": null,
          "old_line_content": "        if (ngx_memcmp(header->name.data, \"authority\", sizeof(\"authority\") - 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "ngx_http_v2_table_size",
          "new_api": null,
          "old_text": "ngx_http_v2_table_size(h2c, value)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_table_size(h2c, value) != NGX_OK) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "new_line_content": "    if (size_update) {",
          "content_same": false
        },
        {
          "line": 3521,
          "old_api": "ngx_http_v2_parse_authority",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_authority(r, &header->value)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_parse_authority(r, &header->value);",
          "new_line_content": "            == 0)",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "ngx_http_v2_state_header_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3527,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                  \"client sent unknown pseudo-header \\\":%V\\\"\",\n                  &header->name)",
          "new_text": null,
          "old_line_content": "    ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "ngx_http_v2_get_indexed_header",
          "new_api": null,
          "old_text": "ngx_http_v2_get_indexed_header(h2c, value, 1)",
          "new_text": null,
          "old_line_content": "    } else if (ngx_http_v2_get_indexed_header(h2c, value, 1) != NGX_OK) {",
          "new_line_content": "        h2c->state.parse_name = 1;",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "ngx_http_v2_state_field_len",
          "new_api": null,
          "old_text": "ngx_http_v2_state_field_len(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_field_len(h2c, pos, end);",
          "new_line_content": "    h2c->state.parse_value = 1;",
          "content_same": false
        },
        {
          "line": 3539,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent duplicate :path header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3546,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent empty :path header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "ngx_http_v2_handle_continuation",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                               ngx_http_v2_state_field_len)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "new_line_content": "        && h2c->state.length < NGX_HTTP_V2_INT_OCTETS)",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": "ngx_http_parse_uri",
          "new_api": null,
          "old_text": "ngx_http_parse_uri(r)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_parse_uri(r) != NGX_OK) {",
          "new_line_content": "    r->uri_end = value->data + value->len;",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent invalid :path header: \\\"%V\\\"\", value)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header block with incorrect length\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"client sent header block with incorrect length\");",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": "ngx_http_process_request_uri",
          "new_api": null,
          "old_text": "ngx_http_process_request_uri(r)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_process_request_uri(r) != NGX_OK) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_field_len)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "ngx_http_v2_prefix",
          "new_api": null,
          "old_text": "ngx_http_v2_prefix(7)",
          "new_text": null,
          "old_line_content": "    len = ngx_http_v2_parse_int(h2c, &pos, end, ngx_http_v2_prefix(7));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                                  ngx_http_v2_state_field_len)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "    if (len < 0) {",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                        \"client sent header field with too long length value\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "new_line_content": "                        \"client sent header field with too long length value\");",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header block with incorrect length\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"client sent header block with incorrect length\");",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 %s string, len:%i\",\n                   huff ? \"encoded\" : \"raw\", len)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,\n                                        ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    cscf = ngx_http_get_module_srv_conf(h2c->http_connection->conf_ctx,",
          "new_line_content": "                   huff ? \"encoded\" : \"raw\", len);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent too large header field\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM);",
          "new_line_content": "                      \"client sent too large header field\");",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "ngx_http_v2_state_field_skip",
          "new_api": null,
          "old_text": "ngx_http_v2_state_field_skip(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_field_skip(h2c, pos, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3609,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent duplicate :method header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "ngx_pnalloc",
          "new_api": null,
          "old_text": "ngx_pnalloc(h2c->state.pool, alloc)",
          "new_text": null,
          "old_line_content": "    h2c->state.field_start = ngx_pnalloc(h2c->state.pool, alloc);",
          "new_line_content": "    alloc = (huff ? len * 8 / 5 : len) + 1;",
          "content_same": false
        },
        {
          "line": 3616,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent empty :method header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "ngx_http_v2_state_field_huff",
          "new_api": null,
          "old_text": "ngx_http_v2_state_field_huff(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_field_huff(h2c, pos, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "ngx_http_v2_state_field_raw",
          "new_api": null,
          "old_text": "ngx_http_v2_state_field_raw(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_field_raw(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": "ngx_http_v2_huff_decode",
          "new_api": null,
          "old_text": "ngx_http_v2_huff_decode(&h2c->state.field_state, pos, size,\n                                &h2c->state.field_end,\n                                h2c->state.field_rest == 0,\n                                h2c->connection->log)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_huff_decode(&h2c->state.field_state, pos, size,",
          "new_line_content": "    h2c->state.field_rest -= size;",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent invalid encoded header field\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "        != NGX_OK)",
          "content_same": false
        },
        {
          "line": 3654,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent invalid method: \\\"%V\\\"\",\n                          &r->method_name)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "    do {",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_COMP_ERROR);",
          "new_line_content": "                      \"client sent invalid encoded header field\");",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "ngx_http_v2_state_process_header",
          "new_api": null,
          "old_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "new_line_content": "    if (h2c->state.field_rest == 0) {",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_field_huff)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header field with incorrect length\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"client sent header field with incorrect length\");",
          "content_same": false
        },
        {
          "line": 3676,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent duplicate :scheme header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": "ngx_http_v2_handle_continuation",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                           ngx_http_v2_state_field_huff)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3683,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent empty :scheme header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": "u_char) (ch | 0x20)",
          "new_api": null,
          "old_text": "u_char) (ch | 0x20)",
          "new_text": null,
          "old_line_content": "        c = (u_char) (ch | 0x20);",
          "new_line_content": "        ch = value->data[i];",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "ngx_cpymem",
          "new_api": null,
          "old_text": "ngx_cpymem(h2c->state.field_end, pos, size)",
          "new_text": null,
          "old_line_content": "    h2c->state.field_end = ngx_cpymem(h2c->state.field_end, pos, size);",
          "new_line_content": "    h2c->state.field_rest -= size;",
          "content_same": false
        },
        {
          "line": 3703,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client sent invalid :scheme header: \\\"%V\\\"\", value)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "ngx_http_v2_state_process_header",
          "new_api": null,
          "old_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "new_line_content": "    if (h2c->state.field_rest == 0) {",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_field_raw)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header field with incorrect length\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3718,
          "old_api": "ngx_http_v2_parse_header",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_header(r, &ngx_http_v2_parse_headers[0], value)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_parse_header(r, &ngx_http_v2_parse_headers[0], value);",
          "new_line_content": "ngx_http_v2_parse_authority(ngx_http_request_t *r, ngx_str_t *value)",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"client sent header field with incorrect length\");",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "ngx_http_v2_handle_continuation",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                           ngx_http_v2_state_field_raw)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": "ngx_list_push",
          "new_api": null,
          "old_text": "ngx_list_push(&r->headers_in.headers)",
          "new_text": null,
          "old_line_content": "    h = ngx_list_push(&r->headers_in.headers);",
          "new_line_content": "    ngx_http_core_main_conf_t  *cmcf;",
          "content_same": false
        },
        {
          "line": 3739,
          "old_api": "ngx_hash_key",
          "new_api": null,
          "old_text": "ngx_hash_key(header->name.data, header->name.len)",
          "new_text": null,
          "old_line_content": "        header->hash = ngx_hash_key(header->name.data, header->name.len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "ngx_http_v2_state_process_header",
          "new_api": null,
          "old_text": "ngx_http_v2_state_process_header(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_process_header(h2c, pos, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_field_skip)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": "handler",
          "new_api": null,
          "old_text": "header->hh->handler(r, h, header->hh->offset)",
          "new_text": null,
          "old_line_content": "    if (header->hh->handler(r, h, header->hh->offset) != NGX_OK) {",
          "new_line_content": "    h->value.data = value->data;",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent header field with incorrect length\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      \"client sent header field with incorrect length\");",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "ngx_http_v2_handle_continuation",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                           ngx_http_v2_state_field_skip)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent no :method header\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3780,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent no :scheme header\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "ngx_string",
          "new_api": null,
          "old_text": "ngx_string(\"cookie\")",
          "new_text": null,
          "old_line_content": "    static ngx_str_t cookie = ngx_string(\"cookie\");",
          "new_line_content": "    ngx_http_core_main_conf_t  *cmcf;",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent no :path header\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": "ngx_http_finalize_request",
          "new_api": null,
          "old_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "new_text": null,
          "old_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                          \"client sent zero header name length\")",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "                          \"client sent zero header name length\");",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": "ngx_pnalloc",
          "new_api": null,
          "old_text": "ngx_pnalloc(r->pool, r->request_line.len + 1)",
          "new_text": null,
          "old_line_content": "    p = ngx_pnalloc(r->pool, r->request_line.len + 1);",
          "new_line_content": "                          + sizeof(ending) - 1;",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "ngx_http_v2_state_field_len",
          "new_api": null,
          "old_text": "ngx_http_v2_state_field_len(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_field_len(h2c, pos, end);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3804,
          "old_api": "ngx_cpymem",
          "new_api": null,
          "old_text": "ngx_cpymem(p, r->method_name.data, r->method_name.len)",
          "new_text": null,
          "old_line_content": "    p = ngx_cpymem(p, r->method_name.data, r->method_name.len);",
          "new_line_content": "    r->request_line.data = p;",
          "content_same": false
        },
        {
          "line": 3808,
          "old_api": "ngx_cpymem",
          "new_api": null,
          "old_text": "ngx_cpymem(p, r->unparsed_uri.data, r->unparsed_uri.len)",
          "new_text": null,
          "old_line_content": "    p = ngx_cpymem(p, r->unparsed_uri.data, r->unparsed_uri.len);",
          "new_line_content": "    *p++ = ' ';",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent too large header\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM);",
          "new_line_content": "                      \"client sent too large header\");",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "ngx_http_v2_add_header",
          "new_api": null,
          "old_text": "ngx_http_v2_add_header(h2c, header)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_add_header(h2c, header) != NGX_OK) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "    if (h2c->state.index) {",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": "ngx_array_create",
          "new_api": null,
          "old_text": "ngx_array_create(r->pool, 2, sizeof(ngx_str_t))",
          "new_text": null,
          "old_line_content": "        cookies = ngx_array_create(r->pool, 2, sizeof(ngx_str_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "ngx_http_v2_state_header_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": "ngx_array_push",
          "new_api": null,
          "old_text": "ngx_array_push(cookies)",
          "new_text": null,
          "old_line_content": "    val = ngx_array_push(cookies);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": "ngx_http_v2_validate_header",
          "new_api": null,
          "old_text": "ngx_http_v2_validate_header(r, header)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_validate_header(r, header) != NGX_OK) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "ngx_http_v2_terminate_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_terminate_stream(h2c, h2c->state.stream,\n                                         NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        if (ngx_http_v2_terminate_stream(h2c, h2c->state.stream,",
          "new_line_content": "    /* TODO Optimization: validate headers while parsing. */",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "            == NGX_ERROR)",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "ngx_http_v2_pseudo_header",
          "new_api": null,
          "old_text": "ngx_http_v2_pseudo_header(r, header)",
          "new_text": null,
          "old_line_content": "        rc = ngx_http_v2_pseudo_header(r, header);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                           \"http2 header: \\\":%V: %V\\\"\",\n                           &header->name, &header->value)",
          "new_text": null,
          "old_line_content": "            ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": "ngx_http_v2_state_header_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "new_line_content": "                           &header->name, &header->value);",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": "ngx_string",
          "new_api": null,
          "old_text": "ngx_string(\"cookie\")",
          "new_text": null,
          "old_line_content": "    static ngx_str_t cookie = ngx_string(\"cookie\");",
          "new_line_content": "    ngx_http_core_main_conf_t  *cmcf;",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "ngx_http_finalize_request",
          "new_api": null,
          "old_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "new_text": null,
          "old_line_content": "            ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_INTERNAL_ERROR);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "        cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                          \"client sent invalid header: \\\"%V\\\"\", &header->name)",
          "new_text": null,
          "old_line_content": "            ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "ngx_http_v2_state_header_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "new_line_content": "                          \"client sent invalid header: \\\"%V\\\"\", &header->name);",
          "content_same": false
        },
        {
          "line": 3879,
          "old_api": "ngx_pnalloc",
          "new_api": null,
          "old_text": "ngx_pnalloc(r->pool, len + 1)",
          "new_text": null,
          "old_line_content": "    buf = ngx_pnalloc(r->pool, len + 1);",
          "new_line_content": "    len -= 2;",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "ngx_memcmp",
          "new_api": null,
          "old_text": "ngx_memcmp(header->name.data, cookie.data, cookie.len)",
          "new_text": null,
          "old_line_content": "        && ngx_memcmp(header->name.data, cookie.data, cookie.len) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c,\n                                                NGX_HTTP_V2_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "            return ngx_http_v2_connection_error(h2c,",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": "ngx_cpymem",
          "new_api": null,
          "old_text": "ngx_cpymem(p, vals[i].data, vals[i].len)",
          "new_text": null,
          "old_line_content": "        p = ngx_cpymem(p, vals[i].data, vals[i].len);",
          "new_line_content": "    for (i = 0; /* void */ ; i++) {",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": "ngx_list_push",
          "new_api": null,
          "old_text": "ngx_list_push(&r->headers_in.headers)",
          "new_text": null,
          "old_line_content": "        h = ngx_list_push(&r->headers_in.headers);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": "ngx_list_push",
          "new_api": null,
          "old_text": "ngx_list_push(&r->headers_in.headers)",
          "new_text": null,
          "old_line_content": "    h = ngx_list_push(&r->headers_in.headers);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "ngx_hash_key",
          "new_api": null,
          "old_text": "ngx_hash_key(h->key.data, h->key.len)",
          "new_text": null,
          "old_line_content": "        h->hash = ngx_hash_key(h->key.data, h->key.len);",
          "new_line_content": "         * and handler for indexed headers.",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": "ngx_hash",
          "new_api": null,
          "old_text": "ngx_hash(\n                                    ngx_hash('c', 'o'), 'o')",
          "new_text": null,
          "old_line_content": "    h->hash = ngx_hash(ngx_hash(ngx_hash(ngx_hash(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3907,
          "old_api": "ngx_hash",
          "new_api": null,
          "old_text": "ngx_hash('c', 'o')",
          "new_text": null,
          "old_line_content": "                                    ngx_hash('c', 'o'), 'o'), 'k'), 'i'), 'e');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "ngx_http_get_module_main_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "        cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "new_line_content": "        h->lowcase_key = h->key.data;",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "handler",
          "new_api": null,
          "old_text": "hh->handler(r, h, hh->offset)",
          "new_text": null,
          "old_line_content": "        if (hh && hh->handler(r, h, hh->offset) != NGX_OK) {",
          "new_line_content": "                           h->lowcase_key, h->key.len);",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": "ngx_http_get_module_main_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "new_line_content": "    h->lowcase_key = cookie.data;",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"http2 header: \\\"%V: %V\\\"\",\n                   &header->name, &header->value)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": "ngx_http_v2_close_stream",
          "new_api": null,
          "old_text": "ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_close_stream(r->stream, NGX_HTTP_INTERNAL_SERVER_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "ngx_http_v2_state_header_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "new_line_content": "                   &header->name, &header->value);",
          "content_same": false
        },
        {
          "line": 3927,
          "old_api": "handler",
          "new_api": null,
          "old_text": "hh->handler(r, h, hh->offset)",
          "new_text": null,
          "old_line_content": "    if (hh->handler(r, h, hh->offset) != NGX_OK) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "ngx_http_v2_state_header_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_header_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_header_complete(h2c, pos, end);",
          "new_line_content": "    h2c->state.stream = NULL;",
          "content_same": false
        },
        {
          "line": 3947,
          "old_api": "ngx_http_v2_construct_request_line",
          "new_api": null,
          "old_text": "ngx_http_v2_construct_request_line(r)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_construct_request_line(r) != NGX_OK) {",
          "new_line_content": "    fc = r->connection;",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end,\n                                              ngx_http_v2_state_header_block)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": "ngx_http_v2_construct_cookie_header",
          "new_api": null,
          "old_text": "ngx_http_v2_construct_cookie_header(r)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_v2_construct_cookie_header(r) != NGX_OK) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "ngx_http_v2_handle_continuation",
          "new_api": null,
          "old_text": "ngx_http_v2_handle_continuation(h2c, pos, end,\n                                             ngx_http_v2_state_header_complete)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_handle_continuation(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3957,
          "old_api": "ngx_http_process_request_header",
          "new_api": null,
          "old_text": "ngx_http_process_request_header(r)",
          "new_text": null,
          "old_line_content": "    if (ngx_http_process_request_header(r) != NGX_OK) {",
          "new_line_content": "    r->http_state = NGX_HTTP_PROCESS_REQUEST_STATE;",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "ngx_http_v2_run_request",
          "new_api": null,
          "old_text": "ngx_http_v2_run_request(stream->request)",
          "new_text": null,
          "old_line_content": "        ngx_http_v2_run_request(stream->request);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,\n                      \"client prematurely closed stream\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(h2c->state.pool)",
          "new_text": null,
          "old_line_content": "        ngx_destroy_pool(h2c->state.pool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": "ngx_http_finalize_request",
          "new_api": null,
          "old_text": "ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST)",
          "new_text": null,
          "old_line_content": "        ngx_http_finalize_request(r, NGX_HTTP_BAD_REQUEST);",
          "new_line_content": "        r->stream->skip_data = 1;",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": "ngx_http_v2_state_skip_padded",
          "new_api": null,
          "old_text": "ngx_http_v2_state_skip_padded(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_skip_padded(h2c, pos, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "ngx_http_v2_state_complete",
          "new_api": null,
          "old_text": "ngx_http_v2_state_complete(h2c, pos, end)",
          "new_text": null,
          "old_line_content": "    return ngx_http_v2_state_complete(h2c, pos, end);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3979,
          "old_api": "ngx_http_process_request",
          "new_api": null,
          "old_text": "ngx_http_process_request(r)",
          "new_text": null,
          "old_line_content": "    ngx_http_process_request(r);",
          "new_line_content": "    h2c->payload_bytes += r->request_length;",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": "ngx_http_run_posted_requests",
          "new_api": null,
          "old_text": "ngx_http_run_posted_requests(fc)",
          "new_text": null,
          "old_line_content": "    ngx_http_run_posted_requests(fc);",
          "new_line_content": "failed:",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": "ngx_min",
          "new_api": null,
          "old_text": "ngx_min(h2c->state.padding, (end - pos) - len)",
          "new_text": null,
          "old_line_content": "        skip = ngx_min(h2c->state.padding, (end - pos) - len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": "ngx_memmove",
          "new_api": null,
          "old_text": "ngx_memmove(pos, p, len)",
          "new_text": null,
          "old_line_content": "        ngx_memmove(pos, p, len);",
          "new_line_content": "        p = pos;",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,\n                   \"http2 run request handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, fc->log, 0,",
          "new_line_content": "    r = fc->data;",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": "ngx_http_v2_state_headers_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_headers_save(h2c, pos, end, handler)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_headers_save(h2c, pos, end, handler);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": "ngx_http_v2_run_request",
          "new_api": null,
          "old_text": "ngx_http_v2_run_request(r)",
          "new_text": null,
          "old_line_content": "    ngx_http_v2_run_request(r);",
          "new_line_content": "                   \"http2 run request handler\");",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "ngx_http_v2_parse_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_uint32(p)",
          "new_text": null,
          "old_line_content": "    head = ngx_http_v2_parse_uint32(p);",
          "new_line_content": "    p = pos + len;",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n             \"client sent inappropriate frame while CONTINUATION was expected\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "             \"client sent inappropriate frame while CONTINUATION was expected\");",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "ngx_http_v2_parse_sid",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_sid(&p[5])",
          "new_text": null,
          "old_line_content": "    if (h2c->state.sid != ngx_http_v2_parse_sid(&p[5])) {",
          "new_line_content": "    h2c->state.flags |= p[4];",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                    \"client sent CONTINUATION frame with incorrect identifier\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                    \"client sent CONTINUATION frame with incorrect identifier\");",
          "content_same": false
        },
        {
          "line": 4021,
          "old_api": "post_handler",
          "new_api": null,
          "old_text": "rb->post_handler(r)",
          "new_text": null,
          "old_line_content": "        rb->post_handler(r);",
          "new_line_content": "    if (stream->skip_data) {",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": "ngx_memcpy",
          "new_api": null,
          "old_text": "ngx_memcpy(pos, p, len)",
          "new_text": null,
          "old_line_content": "    ngx_memcpy(pos, p, len);",
          "new_line_content": "    pos += NGX_HTTP_V2_FRAME_HEADER_SIZE;",
          "content_same": false
        },
        {
          "line": 4025,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_v2_module)",
          "new_text": null,
          "old_line_content": "    h2scf = ngx_http_get_module_srv_conf(r, ngx_http_v2_module);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PRIORITY frame with incorrect length %uz\",\n                      h2c->state.length)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4049,
          "old_api": "ngx_create_temp_buf",
          "new_api": null,
          "old_text": "ngx_create_temp_buf(r->pool, (size_t) len)",
          "new_text": null,
          "old_line_content": "        rb->buf = ngx_create_temp_buf(r->pool, (size_t) len);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_SIZE_ERROR);",
          "new_line_content": "                      h2c->state.length);",
          "content_same": false
        },
        {
          "line": 4054,
          "old_api": "ngx_create_temp_buf",
          "new_api": null,
          "old_text": "ngx_create_temp_buf(r->pool, (size_t) len)",
          "new_text": null,
          "old_line_content": "        rb->buf = ngx_create_temp_buf(r->pool, (size_t) len);",
          "new_line_content": "               && !r->request_body_in_file_only)",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent too many PRIORITY frames\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "ngx_calloc_buf",
          "new_api": null,
          "old_text": "ngx_calloc_buf(r->pool)",
          "new_text": null,
          "old_line_content": "        rb->buf = ngx_calloc_buf(r->pool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_ENHANCE_YOUR_CALM);",
          "new_line_content": "                      \"client sent too many PRIORITY frames\");",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "ngx_http_v2_state_save",
          "new_api": null,
          "old_text": "ngx_http_v2_state_save(h2c, pos, end,\n                                      ngx_http_v2_state_priority)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_state_save(h2c, pos, end,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "ngx_http_v2_parse_uint32",
          "new_api": null,
          "old_text": "ngx_http_v2_parse_uint32(pos)",
          "new_text": null,
          "old_line_content": "    dependency = ngx_http_v2_parse_uint32(pos);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "ngx_log_debug4",
          "new_api": null,
          "old_text": "ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,\n                   \"http2 PRIORITY frame sid:%ui \"\n                   \"depends on %ui excl:%ui weight:%ui\",\n                   h2c->state.sid, depend, excl, weight)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_HTTP, h2c->connection->log, 0,",
          "new_line_content": "    pos += NGX_HTTP_V2_PRIORITY_SIZE;",
          "content_same": false
        },
        {
          "line": 4077,
          "old_api": "ngx_http_v2_process_request_body",
          "new_api": null,
          "old_text": "ngx_http_v2_process_request_body(r, buf->pos,\n                                                  buf->last - buf->pos, 1)",
          "new_text": null,
          "old_line_content": "            rc = ngx_http_v2_process_request_body(r, buf->pos,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PRIORITY frame with incorrect identifier\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": "ngx_http_v2_process_request_body",
          "new_api": null,
          "old_text": "ngx_http_v2_process_request_body(r, NULL, 0, 1)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_process_request_body(r, NULL, 0, 1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"client sent PRIORITY frame with incorrect identifier\");",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": "ngx_http_v2_process_request_body",
          "new_api": null,
          "old_text": "ngx_http_v2_process_request_body(r, buf->pos,\n                                              buf->last - buf->pos, 0)",
          "new_text": null,
          "old_line_content": "        rc = ngx_http_v2_process_request_body(r, buf->pos,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,\n                      \"client sent PRIORITY frame for stream %ui \"\n                      \"with incorrect dependency\", h2c->state.sid)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, h2c->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4090,
          "old_api": "ngx_pfree",
          "new_api": null,
          "old_text": "ngx_pfree(r->pool, buf->start)",
          "new_text": null,
          "old_line_content": "        ngx_pfree(r->pool, buf->start);",
          "new_line_content": "                                              buf->last - buf->pos, 0);",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "ngx_http_v2_connection_error",
          "new_api": null,
          "old_text": "ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR)",
          "new_text": null,
          "old_line_content": "        return ngx_http_v2_connection_error(h2c, NGX_HTTP_V2_PROTOCOL_ERROR);",
          "new_line_content": "                      \"with incorrect dependency\", h2c->state.sid);",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "ngx_http_v2_get_node_by_id",
          "new_api": null,
          "old_text": "ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 1)",
          "new_text": null,
          "old_line_content": "    node = ngx_http_v2_get_node_by_id(h2c, h2c->state.sid, 1);",
          "new_line_content": "    }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 48,
      "total_additions": 471,
      "total_deletions": 471,
      "total_api_changes": 990
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 990,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          1371,
          1372,
          1373
        ]
      }
    },
    "api_calls_before": 731,
    "api_calls_after": 731,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 16
    }
  }
}