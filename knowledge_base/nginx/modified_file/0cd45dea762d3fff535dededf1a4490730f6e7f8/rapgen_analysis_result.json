{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/0cd45dea762d3fff535dededf1a4490730f6e7f8",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/0cd45dea762d3fff535dededf1a4490730f6e7f8/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/0cd45dea762d3fff535dededf1a4490730f6e7f8/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/0cd45dea762d3fff535dededf1a4490730f6e7f8/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 226,
          "old_api": "ngx_queue_last",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_last(&ctx->sent)",
          "new_text": "ngx_queue_head(&ctx->sent)",
          "old_line_content": "    q = ngx_queue_last(&ctx->sent);",
          "new_line_content": "    q = ngx_queue_head(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "ngx_queue_prev",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_queue_prev(q)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "        q = ngx_queue_prev(q);",
          "new_line_content": "        q = ngx_queue_next(q);",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": "ngx_quic_handle_stream_ack",
          "new_api": "ngx_quic_drop_ack_ranges",
          "old_text": "ngx_quic_handle_stream_ack(c, f)",
          "new_text": "ngx_quic_drop_ack_ranges(c, ctx, f->u.ack.largest)",
          "old_line_content": "                ngx_quic_handle_stream_ack(c, f);",
          "new_line_content": "                ngx_quic_drop_ack_ranges(c, ctx, f->u.ack.largest);",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "ngx_quic_set_lost_timer",
          "new_api": "ngx_quic_persistent_congestion",
          "old_text": "ngx_quic_set_lost_timer(c)",
          "new_text": "ngx_quic_persistent_congestion(c)",
          "old_line_content": "    ngx_quic_set_lost_timer(c);",
          "new_line_content": "            ngx_quic_persistent_congestion(c);",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "ngx_log_debug1",
          "new_api": "ngx_quic_get_connection",
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic resend packet pnum:%uL\", start->pnum)",
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "ngx_quic_find_stream",
          "new_api": "ngx_quic_queue_frame",
          "old_text": "ngx_quic_find_stream(&qc->streams.tree,\n                                      f->u.max_stream_data.id)",
          "new_text": "ngx_quic_queue_frame(qc, f)",
          "old_line_content": "            qs = ngx_quic_find_stream(&qc->streams.tree,",
          "new_line_content": "            ngx_quic_queue_frame(qc, f);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": "ngx_quic_find_stream",
          "new_api": "ngx_quic_queue_frame",
          "old_text": "ngx_quic_find_stream(&qc->streams.tree, f->u.stream.stream_id)",
          "new_text": "ngx_quic_queue_frame(qc, f)",
          "old_line_content": "            qs = ngx_quic_find_stream(&qc->streams.tree, f->u.stream.stream_id);",
          "new_line_content": "            ngx_quic_queue_frame(qc, f);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "ngx_quic_free_frame",
          "new_api": "ngx_quic_find_stream",
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": "ngx_quic_find_stream(&qc->streams.tree, f->u.stream.stream_id)",
          "old_line_content": "                ngx_quic_free_frame(c, f);",
          "new_line_content": "            qs = ngx_quic_find_stream(&qc->streams.tree, f->u.stream.stream_id);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "ngx_log_debug1",
          "new_api": "ngx_del_timer",
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic lost timer lost:%M\", lost)",
          "new_text": "ngx_del_timer(&qc->pto)",
          "old_line_content": "        ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "        ngx_del_timer(&qc->pto);",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "ngx_add_timer",
          "new_api": "ngx_log_debug1",
          "old_text": "ngx_add_timer(&qc->pto, lost)",
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic lost timer lost:%M\", lost)",
          "old_line_content": "        ngx_add_timer(&qc->pto, lost);",
          "new_line_content": "        ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "ngx_add_timer",
          "new_api": "ngx_log_debug1",
          "old_text": "ngx_add_timer(&qc->pto, pto)",
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic lost timer pto:%M\", pto)",
          "old_line_content": "        ngx_add_timer(&qc->pto, pto);",
          "new_line_content": "        ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": "ngx_log_debug0",
          "new_api": "ngx_add_timer",
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_EVENT, c->log, 0, \"quic lost timer unset\")",
          "new_text": "ngx_add_timer(&qc->pto, pto)",
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_EVENT, c->log, 0, \"quic lost timer unset\");",
          "new_line_content": "        ngx_add_timer(&qc->pto, pto);",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "ngx_quic_detect_lost",
          "new_api": "ngx_log_debug0",
          "old_text": "ngx_quic_detect_lost(c, NULL)",
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic lost timer\")",
          "old_line_content": "    if (ngx_quic_detect_lost(c, NULL) != NGX_OK) {",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic lost timer\");",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": "ngx_quic_connstate_dbg",
          "new_api": "ngx_quic_detect_lost",
          "old_text": "ngx_quic_connstate_dbg(c)",
          "new_text": "ngx_quic_detect_lost(c, NULL)",
          "old_line_content": "    ngx_quic_connstate_dbg(c);",
          "new_line_content": "    if (ngx_quic_detect_lost(c, NULL) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "ngx_queue_head",
          "new_api": "ngx_queue_empty",
          "old_text": "ngx_queue_head(&ctx->sent)",
          "new_text": "ngx_queue_empty(&ctx->sent)",
          "old_line_content": "        q = ngx_queue_head(&ctx->sent);",
          "new_line_content": "        if (ngx_queue_empty(&ctx->sent)) {",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "ngx_log_debug2",
          "new_api": "ngx_quic_pto",
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic pto %s pto_count:%ui\",\n                       ngx_quic_level_name(ctx->level), qc->pto_count)",
          "new_text": "ngx_quic_pto(c, ctx)",
          "old_line_content": "        ngx_log_debug2(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "        if ((ngx_msec_int_t) (f->last + ngx_quic_pto(c, ctx) - now) > 0) {",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "ngx_queue_head",
          "new_api": "ngx_log_debug2",
          "old_text": "ngx_queue_head(&ctx->frames)",
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic pto %s pto_count:%ui\",\n                       ngx_quic_level_name(ctx->level), qc->pto_count)",
          "old_line_content": "        for (q = ngx_queue_head(&ctx->frames);",
          "new_line_content": "        ngx_log_debug2(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "ngx_queue_next",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_next(q)",
          "new_text": "ngx_queue_head(&ctx->frames)",
          "old_line_content": "            next = ngx_queue_next(q);",
          "new_line_content": "        for (q = ngx_queue_head(&ctx->frames);",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_sentinel",
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": "ngx_queue_sentinel(&ctx->frames)",
          "old_line_content": "            f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "             q != ngx_queue_sentinel(&ctx->frames);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "ngx_queue_remove",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_queue_remove(q)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "                ngx_queue_remove(q);",
          "new_line_content": "            next = ngx_queue_next(q);",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "ngx_quic_free_frame",
          "new_api": "ngx_queue_data",
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "                ngx_quic_free_frame(c, f);",
          "new_line_content": "            f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "ngx_queue_next",
          "new_api": "ngx_queue_head",
          "old_text": "ngx_queue_next(q)",
          "new_text": "ngx_queue_head(&ctx->sent)",
          "old_line_content": "            next = ngx_queue_next(q);",
          "new_line_content": "        for (q = ngx_queue_head(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "ngx_queue_data",
          "new_api": "ngx_queue_sentinel",
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": "ngx_queue_sentinel(&ctx->sent)",
          "old_line_content": "            f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "             q != ngx_queue_sentinel(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "ngx_quic_congestion_lost",
          "new_api": "ngx_queue_next",
          "old_text": "ngx_quic_congestion_lost(c, f)",
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "                ngx_quic_congestion_lost(c, f);",
          "new_line_content": "            next = ngx_queue_next(q);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "ngx_queue_remove",
          "new_api": "ngx_queue_data",
          "old_text": "ngx_queue_remove(q)",
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "                ngx_queue_remove(q);",
          "new_line_content": "            f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "ngx_log_debug4",
          "new_api": "ngx_quic_get_connection",
          "old_text": "ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic ngx_quic_ack_packet pn:%uL largest %L fr:%uL\"\n                   \" nranges:%ui\", pkt->pn, (int64_t) ctx->largest_range,\n                   ctx->first_range, ctx->nranges)",
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 513,
          "old_api": null,
          "new_api": "ngx_max",
          "old_text": null,
          "new_text": "ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY)",
          "old_line_content": "    return duration;",
          "new_line_content": "    duration += ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY);",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "    cg->window = qc->tp.max_udp_payload_size * 2;",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "ngx_log_debug1",
          "old_text": null,
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic persistent congestion win:%uz\", cg->window)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "ngx_memmove",
          "old_text": null,
          "new_text": "ngx_memmove(&ctx->ranges[i], &ctx->ranges[i + 1],\n                                sizeof(ngx_quic_ack_range_t) * nr)",
          "old_line_content": "                ctx->nranges--;",
          "new_line_content": "                    ngx_memmove(&ctx->ranges[i], &ctx->ranges[i + 1],",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "ngx_queue_head",
          "old_text": null,
          "new_text": "ngx_queue_head(&ctx->sent)",
          "old_line_content": "                   \"quic resend packet pnum:%uL\", start->pnum);",
          "new_line_content": "    q = ngx_queue_head(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "",
          "new_line_content": "    start = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "ngx_log_debug1",
          "old_text": null,
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic resend packet pnum:%uL\", start->pnum)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": null,
          "new_api": "ngx_quic_congestion_lost",
          "old_text": null,
          "new_text": "ngx_quic_congestion_lost(c, start)",
          "old_line_content": "",
          "new_line_content": "    ngx_quic_congestion_lost(c, start);",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "        }",
          "new_line_content": "        f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "ngx_queue_next",
          "old_text": null,
          "new_text": "ngx_queue_next(q)",
          "old_line_content": "        switch (f->type) {",
          "new_line_content": "        q = ngx_queue_next(q);",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&f->queue)",
          "old_line_content": "        case NGX_QUIC_FT_ACK_ECN:",
          "new_line_content": "        ngx_queue_remove(&f->queue);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "ngx_quic_send_ack",
          "old_text": null,
          "new_text": "ngx_quic_send_ack(c, ctx)",
          "old_line_content": "",
          "new_line_content": "                        if (ngx_quic_send_ack(c, ctx) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "        case NGX_QUIC_FT_PATH_RESPONSE:",
          "new_line_content": "            ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "            f->u.max_data.max_data = qc->streams.recv_max_data;",
          "new_line_content": "            ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "ngx_quic_queue_frame",
          "old_text": null,
          "new_text": "ngx_quic_queue_frame(qc, f)",
          "old_line_content": "        case NGX_QUIC_FT_MAX_STREAMS2:",
          "new_line_content": "            ngx_quic_queue_frame(qc, f);",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": null,
          "new_api": "ngx_quic_find_stream",
          "old_text": null,
          "new_text": "ngx_quic_find_stream(&qc->streams.tree,\n                                      f->u.max_stream_data.id)",
          "old_line_content": "                break;",
          "new_line_content": "            qs = ngx_quic_find_stream(&qc->streams.tree,",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "            f->u.max_stream_data.limit = qs->recv_max_data;",
          "new_line_content": "                ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": null,
          "new_api": "ngx_quic_send_ack_range",
          "old_text": null,
          "new_text": "ngx_quic_send_ack_range(c, ctx, pn, pn)",
          "old_line_content": "    }",
          "new_line_content": "            return ngx_quic_send_ack_range(c, ctx, pn, pn);",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "            /* fall through */",
          "new_line_content": "                ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "ngx_queue_insert_tail",
          "old_text": null,
          "new_text": "ngx_queue_insert_tail(&ctx->frames, &f->queue)",
          "old_line_content": "",
          "new_line_content": "            ngx_queue_insert_tail(&ctx->frames, &f->queue);",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "ngx_queue_sentinel",
          "old_text": null,
          "new_text": "ngx_queue_sentinel(&ctx->sent)",
          "old_line_content": "    }",
          "new_line_content": "    } while (q != ngx_queue_sentinel(&ctx->sent));",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "ngx_memmove",
          "old_text": null,
          "new_text": "ngx_memmove(&ctx->ranges[i + 1], &ctx->ranges[i],\n                sizeof(ngx_quic_ack_range_t) * (ctx->nranges - i - 1))",
          "old_line_content": "    ctx->ranges[i].range = range;",
          "new_line_content": "    ngx_memmove(&ctx->ranges[i + 1], &ctx->ranges[i],",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "old_line_content": "static void",
          "new_line_content": "    ngx_post_event(&qc->push, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "        {",
          "new_line_content": "        qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(&qc->push,\n                              qc->tp.max_ack_delay - delay)",
          "old_line_content": "            return NGX_OK;",
          "new_line_content": "                ngx_add_timer(&qc->push,",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "ngx_log_debug3",
          "old_text": null,
          "new_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion lost recovery win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "old_line_content": "        goto done;",
          "new_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "ngx_quic_send_ack",
          "old_text": null,
          "new_text": "ngx_quic_send_ack(c, ctx)",
          "old_line_content": "    ctx->send_ack = 0;",
          "new_line_content": "    if (ngx_quic_send_ack(c, ctx) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "ngx_log_debug3",
          "old_text": null,
          "new_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic congestion lost win:%uz ss:%z if:%uz\",\n                   cg->window, cg->ssthresh, cg->in_flight)",
          "old_line_content": "done:",
          "new_line_content": "    ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "old_line_content": "",
          "new_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "    pto = -1;",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "ngx_queue_empty",
          "old_text": null,
          "new_text": "ngx_queue_empty(&ctx->sent)",
          "old_line_content": "        if (ctx->largest_ack != NGX_QUIC_UNSET_PN) {",
          "new_line_content": "        if (ngx_queue_empty(&ctx->sent)) {",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "ngx_queue_head",
          "old_text": null,
          "new_text": "ngx_queue_head(&ctx->sent)",
          "old_line_content": "            if (f->pnum <= ctx->largest_ack) {",
          "new_line_content": "            q = ngx_queue_head(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "                if (w < 0 || ctx->largest_ack - f->pnum >= NGX_QUIC_PKT_THR) {",
          "new_line_content": "            f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "ngx_quic_lost_threshold",
          "old_text": null,
          "new_text": "ngx_quic_lost_threshold(qc)",
          "old_line_content": "                    w = 0;",
          "new_line_content": "            w = (ngx_msec_int_t) (f->last + ngx_quic_lost_threshold(qc) - now);",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "ngx_queue_last",
          "old_text": null,
          "new_text": "ngx_queue_last(&ctx->sent)",
          "old_line_content": "        if (w < 0) {",
          "new_line_content": "        q = ngx_queue_last(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "            w = 0;",
          "new_line_content": "        f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "ngx_quic_pto",
          "old_text": null,
          "new_text": "ngx_quic_pto(c, ctx)",
          "old_line_content": "        }",
          "new_line_content": "        w = (ngx_msec_int_t) (f->last + ngx_quic_pto(c, ctx) - now);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(&qc->pto, lost)",
          "old_line_content": "    if (pto != -1) {",
          "new_line_content": "        ngx_add_timer(&qc->pto, lost);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "ngx_quic_congestion_ack",
          "old_text": null,
          "new_text": "ngx_quic_congestion_ack(c, f)",
          "old_line_content": "            case NGX_QUIC_FT_ACK_ECN:",
          "new_line_content": "            ngx_quic_congestion_ack(c, f);",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_EVENT, c->log, 0, \"quic lost timer unset\")",
          "old_line_content": "ngx_msec_t",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_EVENT, c->log, 0, \"quic lost timer unset\");",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "ngx_quic_handle_stream_ack",
          "old_text": null,
          "new_text": "ngx_quic_handle_stream_ack(c, f)",
          "old_line_content": "            if (f->pnum == max) {",
          "new_line_content": "                ngx_quic_handle_stream_ack(c, f);",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": null,
          "new_api": "ngx_max",
          "old_text": null,
          "new_text": "ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY)",
          "old_line_content": "        return duration;",
          "new_line_content": "    duration += ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(&f->queue)",
          "old_line_content": "    }",
          "new_line_content": "            ngx_queue_remove(&f->queue);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "",
          "new_line_content": "            ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, c->log, 0,\n                      \"quic ACK for the packet not sent\")",
          "old_line_content": "        qc->error_ftype = NGX_QUIC_FT_ACK;",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, c->log, 0,",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "ngx_quic_close_connection",
          "old_text": null,
          "new_text": "ngx_quic_close_connection(c, NGX_ERROR)",
          "old_line_content": "}",
          "new_line_content": "        ngx_quic_close_connection(c, NGX_ERROR);",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "old_line_content": "",
          "new_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "ngx_quic_connstate_dbg",
          "old_text": null,
          "new_text": "ngx_quic_connstate_dbg(c)",
          "old_line_content": "void",
          "new_line_content": "    ngx_quic_connstate_dbg(c);",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic pto timer\")",
          "old_line_content": "    now = ngx_current_msec;",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic pto timer\");",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "ngx_log_debug3",
          "old_text": null,
          "new_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion ack recovery win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "old_line_content": "        goto done;",
          "new_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "ngx_queue_head",
          "old_text": null,
          "new_text": "ngx_queue_head(&ctx->sent)",
          "old_line_content": "            && ctx->largest_ack != NGX_QUIC_UNSET_PN)",
          "new_line_content": "        q = ngx_queue_head(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "        {",
          "new_line_content": "        f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "ngx_log_debug3",
          "old_text": null,
          "new_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion slow start win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "old_line_content": "    } else {",
          "new_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "ngx_quic_level_name",
          "old_text": null,
          "new_text": "ngx_quic_level_name(ctx->level)",
          "old_line_content": "             /* void */)",
          "new_line_content": "                       ngx_quic_level_name(ctx->level), qc->pto_count);",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "ngx_log_debug3",
          "old_text": null,
          "new_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion avoidance win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(q)",
          "old_line_content": "            q = next;",
          "new_line_content": "                ngx_queue_remove(q);",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "        }",
          "new_line_content": "                ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "old_line_content": "",
          "new_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "ngx_quic_congestion_lost",
          "old_text": null,
          "new_text": "ngx_quic_congestion_lost(c, f)",
          "old_line_content": "",
          "new_line_content": "                ngx_quic_congestion_lost(c, f);",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "ngx_queue_remove",
          "old_text": null,
          "new_text": "ngx_queue_remove(q)",
          "old_line_content": "            q = next;",
          "new_line_content": "                ngx_queue_remove(q);",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "ngx_quic_free_frame",
          "old_text": null,
          "new_text": "ngx_quic_free_frame(c, f)",
          "old_line_content": "        }",
          "new_line_content": "                ngx_quic_free_frame(c, f);",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "ngx_log_debug4",
          "old_text": null,
          "new_text": "ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic ngx_quic_drop_ack_ranges pn:%uL largest:%uL\"\n                   \" fr:%uL nranges:%ui\", pn, ctx->largest_range,\n                   ctx->first_range, ctx->nranges)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "ngx_quic_alloc_frame",
          "old_text": null,
          "new_text": "ngx_quic_alloc_frame(c)",
          "old_line_content": "",
          "new_line_content": "        f = ngx_quic_alloc_frame(c);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "ngx_quic_queue_frame",
          "old_text": null,
          "new_text": "ngx_quic_queue_frame(qc, f)",
          "old_line_content": "            break;",
          "new_line_content": "        ngx_quic_queue_frame(qc, f);",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "ngx_quic_alloc_frame",
          "old_text": null,
          "new_text": "ngx_quic_alloc_frame(c)",
          "old_line_content": "",
          "new_line_content": "        f = ngx_quic_alloc_frame(c);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "ngx_quic_queue_frame",
          "old_text": null,
          "new_text": "ngx_quic_queue_frame(qc, f)",
          "old_line_content": "",
          "new_line_content": "        ngx_quic_queue_frame(qc, f);",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": null,
          "new_api": "ngx_quic_connstate_dbg",
          "old_text": null,
          "new_text": "ngx_quic_connstate_dbg(c)",
          "old_line_content": "ngx_int_t",
          "new_line_content": "    ngx_quic_connstate_dbg(c);",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "ngx_quic_get_send_ctx",
          "old_text": null,
          "new_text": "ngx_quic_get_send_ctx(qc, pkt->level)",
          "old_line_content": "                   \" nranges:%ui\", pkt->pn, (int64_t) ctx->largest_range,",
          "new_line_content": "    ctx = ngx_quic_get_send_ctx(qc, pkt->level);",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "ngx_log_debug4",
          "old_text": null,
          "new_text": "ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic ngx_quic_ack_packet pn:%uL largest %L fr:%uL\"\n                   \" nranges:%ui\", pkt->pn, (int64_t) ctx->largest_range,\n                   ctx->first_range, ctx->nranges)",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "ngx_post_event",
          "old_text": null,
          "new_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "old_line_content": "        }",
          "new_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "    /* send time of lost packets across all send contexts */",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "ngx_quic_lost_threshold",
          "old_text": null,
          "new_text": "ngx_quic_lost_threshold(qc)",
          "old_line_content": "    newest = NGX_TIMER_INFINITE;",
          "new_line_content": "    thr = ngx_quic_lost_threshold(qc);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "ngx_queue_empty",
          "old_text": null,
          "new_text": "ngx_queue_empty(&ctx->sent)",
          "old_line_content": "",
          "new_line_content": "        while (!ngx_queue_empty(&ctx->sent)) {",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "ngx_queue_head",
          "old_text": null,
          "new_text": "ngx_queue_head(&ctx->sent)",
          "old_line_content": "                break;",
          "new_line_content": "            q = ngx_queue_head(&ctx->sent);",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": null,
          "new_api": "ngx_queue_data",
          "old_text": null,
          "new_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "old_line_content": "            }",
          "new_line_content": "            start = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "ngx_log_debug4",
          "old_text": null,
          "new_text": "ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                           \"quic detect_lost pnum:%uL thr:%M wait:%i level:%d\",\n                           start->pnum, thr, (ngx_int_t) wait, start->level)",
          "old_line_content": "            if ((ngx_msec_int_t) wait > 0",
          "new_line_content": "            ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "ngx_quic_send_ack",
          "old_text": null,
          "new_text": "ngx_quic_send_ack(c, ctx)",
          "old_line_content": "",
          "new_line_content": "                    if (ngx_quic_send_ack(c, ctx) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "ngx_quic_resend_frames",
          "old_text": null,
          "new_text": "ngx_quic_resend_frames(c, ctx)",
          "old_line_content": "",
          "new_line_content": "            ngx_quic_resend_frames(c, ctx);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "ngx_quic_pcg_duration",
          "old_text": null,
          "new_text": "ngx_quic_pcg_duration(c)",
          "old_line_content": "",
          "new_line_content": "        if (newest - oldest > ngx_quic_pcg_duration(c)) {",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "ngx_quic_set_lost_timer",
          "old_text": null,
          "new_text": "ngx_quic_set_lost_timer(c)",
          "old_line_content": "",
          "new_line_content": "    ngx_quic_set_lost_timer(c);",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "ngx_quic_get_connection",
          "old_text": null,
          "new_text": "ngx_quic_get_connection(c)",
          "old_line_content": "    duration += qc->ctp.max_ack_delay;",
          "new_line_content": "    qc = ngx_quic_get_connection(c);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 523,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "ngx_log_debug1",
          "new_api": null,
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic persistent congestion win:%uz\", cg->window)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "ngx_memmove",
          "new_api": null,
          "old_text": "ngx_memmove(&ctx->ranges[i], &ctx->ranges[i + 1],\n                                sizeof(ngx_quic_ack_range_t) * nr)",
          "new_text": null,
          "old_line_content": "                    ngx_memmove(&ctx->ranges[i], &ctx->ranges[i + 1],",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "    ngx_quic_frame_t       *f, *start;",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&ctx->sent)",
          "new_text": null,
          "old_line_content": "    q = ngx_queue_head(&ctx->sent);",
          "new_line_content": "    ngx_quic_stream_t      *qs;",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "ngx_queue_data",
          "new_api": null,
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": null,
          "old_line_content": "    start = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "    ngx_quic_connection_t  *qc;",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "ngx_quic_congestion_lost",
          "new_api": null,
          "old_text": "ngx_quic_congestion_lost(c, start)",
          "new_text": null,
          "old_line_content": "    ngx_quic_congestion_lost(c, start);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "ngx_queue_data",
          "new_api": null,
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": null,
          "old_line_content": "        f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "ngx_queue_next",
          "new_api": null,
          "old_text": "ngx_queue_next(q)",
          "new_text": null,
          "old_line_content": "        q = ngx_queue_next(q);",
          "new_line_content": "        if (f->pnum != start->pnum) {",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&f->queue)",
          "new_text": null,
          "old_line_content": "        ngx_queue_remove(&f->queue);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "ngx_quic_send_ack",
          "new_api": null,
          "old_text": "ngx_quic_send_ack(c, ctx)",
          "new_text": null,
          "old_line_content": "                        if (ngx_quic_send_ack(c, ctx) != NGX_OK) {",
          "new_line_content": "                range = 0;",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "ngx_quic_free_frame",
          "new_api": null,
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_free_frame(c, f);",
          "new_line_content": "                /* force generation of most recent acknowledgment */",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "ngx_quic_free_frame",
          "new_api": null,
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_free_frame(c, f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "ngx_quic_queue_frame",
          "new_api": null,
          "old_text": "ngx_quic_queue_frame(qc, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_queue_frame(qc, f);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "ngx_quic_queue_frame",
          "new_api": null,
          "old_text": "ngx_quic_queue_frame(qc, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_queue_frame(qc, f);",
          "new_line_content": "        case NGX_QUIC_FT_MAX_STREAMS2:",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": "ngx_quic_free_frame",
          "new_api": null,
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": null,
          "old_line_content": "                ngx_quic_free_frame(c, f);",
          "new_line_content": "        case NGX_QUIC_FT_MAX_STREAM_DATA:",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "ngx_quic_queue_frame",
          "new_api": null,
          "old_text": "ngx_quic_queue_frame(qc, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_queue_frame(qc, f);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "ngx_quic_send_ack_range",
          "new_api": null,
          "old_text": "ngx_quic_send_ack_range(c, ctx, pn, pn)",
          "new_text": null,
          "old_line_content": "            return ngx_quic_send_ack_range(c, ctx, pn, pn);",
          "new_line_content": "    if (ctx->nranges == NGX_QUIC_MAX_RANGES) {",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "ngx_queue_insert_tail",
          "new_api": null,
          "old_text": "ngx_queue_insert_tail(&ctx->frames, &f->queue)",
          "new_text": null,
          "old_line_content": "            ngx_queue_insert_tail(&ctx->frames, &f->queue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(&ctx->sent)",
          "new_text": null,
          "old_line_content": "    } while (q != ngx_queue_sentinel(&ctx->sent));",
          "new_line_content": "        default:",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "ngx_memmove",
          "new_api": null,
          "old_text": "ngx_memmove(&ctx->ranges[i + 1], &ctx->ranges[i],\n                sizeof(ngx_quic_ack_range_t) * (ctx->nranges - i - 1))",
          "new_text": null,
          "old_line_content": "    ngx_memmove(&ctx->ranges[i + 1], &ctx->ranges[i],",
          "new_line_content": "    if (ctx->nranges < NGX_QUIC_MAX_RANGES) {",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "    ngx_post_event(&qc->push, &ngx_posted_events);",
          "new_line_content": "    if (qc->closing) {",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "    if (f->plen == 0) {",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "        qc = ngx_quic_get_connection(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(&qc->push,\n                              qc->tp.max_ack_delay - delay)",
          "new_text": null,
          "old_line_content": "                ngx_add_timer(&qc->push,",
          "new_line_content": "        if (ctx->send_ack < NGX_QUIC_MAX_ACK_GAP",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "ngx_log_debug3",
          "new_api": null,
          "old_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion lost recovery win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "ngx_quic_send_ack",
          "new_api": null,
          "old_text": "ngx_quic_send_ack(c, ctx)",
          "new_text": null,
          "old_line_content": "    if (ngx_quic_send_ack(c, ctx) != NGX_OK) {",
          "new_line_content": "            return NGX_OK;",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "ngx_log_debug3",
          "new_api": null,
          "old_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic congestion lost win:%uz ss:%z if:%uz\",\n                   cg->window, cg->ssthresh, cg->in_flight)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "    ngx_quic_frame_t       *f;",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "ngx_queue_empty",
          "new_api": null,
          "old_text": "ngx_queue_empty(&ctx->sent)",
          "new_text": null,
          "old_line_content": "        if (ngx_queue_empty(&ctx->sent)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&ctx->sent)",
          "new_text": null,
          "old_line_content": "            q = ngx_queue_head(&ctx->sent);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "ngx_queue_data",
          "new_api": null,
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": null,
          "old_line_content": "            f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "ngx_quic_lost_threshold",
          "new_api": null,
          "old_text": "ngx_quic_lost_threshold(qc)",
          "new_text": null,
          "old_line_content": "            w = (ngx_msec_int_t) (f->last + ngx_quic_lost_threshold(qc) - now);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "ngx_queue_last",
          "new_api": null,
          "old_text": "ngx_queue_last(&ctx->sent)",
          "new_text": null,
          "old_line_content": "        q = ngx_queue_last(&ctx->sent);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "ngx_queue_data",
          "new_api": null,
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": null,
          "old_line_content": "        f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "ngx_quic_pto",
          "new_api": null,
          "old_text": "ngx_quic_pto(c, ctx)",
          "new_text": null,
          "old_line_content": "        w = (ngx_msec_int_t) (f->last + ngx_quic_pto(c, ctx) - now);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": "ngx_del_timer",
          "new_api": null,
          "old_text": "ngx_del_timer(&qc->pto)",
          "new_text": null,
          "old_line_content": "        ngx_del_timer(&qc->pto);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "ngx_quic_congestion_ack",
          "new_api": null,
          "old_text": "ngx_quic_congestion_ack(c, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_congestion_ack(c, f);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "ngx_log_debug1",
          "new_api": null,
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic lost timer pto:%M\", pto)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug1(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "ngx_quic_drop_ack_ranges",
          "new_api": null,
          "old_text": "ngx_quic_drop_ack_ranges(c, ctx, f->u.ack.largest)",
          "new_text": null,
          "old_line_content": "                ngx_quic_drop_ack_ranges(c, ctx, f->u.ack.largest);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "ngx_max",
          "new_api": null,
          "old_text": "ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY)",
          "new_text": null,
          "old_line_content": "    duration += ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "ngx_queue_remove",
          "new_api": null,
          "old_text": "ngx_queue_remove(&f->queue)",
          "new_text": null,
          "old_line_content": "            ngx_queue_remove(&f->queue);",
          "new_line_content": "            if (st->newest == NGX_TIMER_INFINITE || f->last > st->newest) {",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "ngx_quic_free_frame",
          "new_api": null,
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": null,
          "old_line_content": "            ngx_quic_free_frame(c, f);",
          "new_line_content": "                st->newest = f->last;",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, c->log, 0,\n                      \"quic ACK for the packet not sent\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, c->log, 0,",
          "new_line_content": "            /* duplicate ACK or ACK for non-ack-eliciting frame */",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic lost timer\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic lost timer\");",
          "new_line_content": "void ngx_quic_lost_handler(ngx_event_t *ev)",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "ngx_quic_close_connection",
          "new_api": null,
          "old_text": "ngx_quic_close_connection(c, NGX_ERROR)",
          "new_text": null,
          "old_line_content": "        ngx_quic_close_connection(c, NGX_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "new_line_content": "        return NGX_ERROR;",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic pto timer\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_EVENT, ev->log, 0, \"quic pto timer\");",
          "new_line_content": "    ngx_quic_frame_t       *f;",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "    if (f->plen == 0) {",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "ngx_queue_empty",
          "new_api": null,
          "old_text": "ngx_queue_empty(&ctx->sent)",
          "new_text": null,
          "old_line_content": "        if (ngx_queue_empty(&ctx->sent)) {",
          "new_line_content": "    for (i = 0; i < NGX_QUIC_SEND_CTX_LAST; i++) {",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "ngx_log_debug3",
          "new_api": null,
          "old_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion ack recovery win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "ngx_queue_data",
          "new_api": null,
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": null,
          "old_line_content": "        f = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "ngx_quic_pto",
          "new_api": null,
          "old_text": "ngx_quic_pto(c, ctx)",
          "new_text": null,
          "old_line_content": "        if ((ngx_msec_int_t) (f->last + ngx_quic_pto(c, ctx) - now) > 0) {",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "ngx_log_debug3",
          "new_api": null,
          "old_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion slow start win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "ngx_quic_level_name",
          "new_api": null,
          "old_text": "ngx_quic_level_name(ctx->level)",
          "new_text": null,
          "old_line_content": "                       ngx_quic_level_name(ctx->level), qc->pto_count);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "ngx_log_debug3",
          "new_api": null,
          "old_text": "ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                       \"quic congestion avoidance win:%uz ss:%z if:%uz\",\n                       cg->window, cg->ssthresh, cg->in_flight)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug3(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(&ctx->frames)",
          "new_text": null,
          "old_line_content": "             q != ngx_queue_sentinel(&ctx->frames);",
          "new_line_content": "                       \"quic pto %s pto_count:%ui\",",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&ctx->sent)",
          "new_text": null,
          "old_line_content": "        for (q = ngx_queue_head(&ctx->sent);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "ngx_queue_sentinel",
          "new_api": null,
          "old_text": "ngx_queue_sentinel(&ctx->sent)",
          "new_text": null,
          "old_line_content": "             q != ngx_queue_sentinel(&ctx->sent);",
          "new_line_content": "            q = next;",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "ngx_quic_free_frame",
          "new_api": null,
          "old_text": "ngx_quic_free_frame(c, f)",
          "new_text": null,
          "old_line_content": "                ngx_quic_free_frame(c, f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "ngx_log_debug4",
          "new_api": null,
          "old_text": "ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                   \"quic ngx_quic_drop_ack_ranges pn:%uL largest:%uL\"\n                   \" fr:%uL nranges:%ui\", pn, ctx->largest_range,\n                   ctx->first_range, ctx->nranges)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "    uint64_t               base;",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "ngx_quic_alloc_frame",
          "new_api": null,
          "old_text": "ngx_quic_alloc_frame(c)",
          "new_text": null,
          "old_line_content": "        f = ngx_quic_alloc_frame(c);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "ngx_quic_queue_frame",
          "new_api": null,
          "old_text": "ngx_quic_queue_frame(qc, f)",
          "new_text": null,
          "old_line_content": "        ngx_quic_queue_frame(qc, f);",
          "new_line_content": "        f->level = ctx->level;",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "ngx_quic_alloc_frame",
          "new_api": null,
          "old_text": "ngx_quic_alloc_frame(c)",
          "new_text": null,
          "old_line_content": "        f = ngx_quic_alloc_frame(c);",
          "new_line_content": "        f->flush = 1;",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "ngx_quic_queue_frame",
          "new_api": null,
          "old_text": "ngx_quic_queue_frame(qc, f)",
          "new_text": null,
          "old_line_content": "        ngx_quic_queue_frame(qc, f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "ngx_quic_connstate_dbg",
          "new_api": null,
          "old_text": "ngx_quic_connstate_dbg(c)",
          "new_text": null,
          "old_line_content": "    ngx_quic_connstate_dbg(c);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "    ngx_quic_connection_t  *qc;",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "ngx_quic_get_send_ctx",
          "new_api": null,
          "old_text": "ngx_quic_get_send_ctx(qc, pkt->level)",
          "new_text": null,
          "old_line_content": "    ctx = ngx_quic_get_send_ctx(qc, pkt->level);",
          "new_line_content": "    c->log->action = \"preparing ack\";",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "ngx_post_event",
          "new_api": null,
          "old_text": "ngx_post_event(&qc->push, &ngx_posted_events)",
          "new_text": null,
          "old_line_content": "        ngx_post_event(&qc->push, &ngx_posted_events);",
          "new_line_content": "    prev_pending = ctx->pending_ack;",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "    ngx_quic_frame_t       *start;",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "ngx_quic_lost_threshold",
          "new_api": null,
          "old_text": "ngx_quic_lost_threshold(qc)",
          "new_text": null,
          "old_line_content": "    thr = ngx_quic_lost_threshold(qc);",
          "new_line_content": "    ngx_quic_connection_t  *qc;",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "ngx_queue_empty",
          "new_api": null,
          "old_text": "ngx_queue_empty(&ctx->sent)",
          "new_text": null,
          "old_line_content": "        while (!ngx_queue_empty(&ctx->sent)) {",
          "new_line_content": "        if (ctx->largest_ack == NGX_QUIC_UNSET_PN) {",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "ngx_queue_head",
          "new_api": null,
          "old_text": "ngx_queue_head(&ctx->sent)",
          "new_text": null,
          "old_line_content": "            q = ngx_queue_head(&ctx->sent);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "ngx_queue_data",
          "new_api": null,
          "old_text": "ngx_queue_data(q, ngx_quic_frame_t, queue)",
          "new_text": null,
          "old_line_content": "            start = ngx_queue_data(q, ngx_quic_frame_t, queue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "ngx_log_debug4",
          "new_api": null,
          "old_text": "ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,\n                           \"quic detect_lost pnum:%uL thr:%M wait:%i level:%d\",\n                           start->pnum, thr, (ngx_int_t) wait, start->level)",
          "new_text": null,
          "old_line_content": "            ngx_log_debug4(NGX_LOG_DEBUG_EVENT, c->log, 0,",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "ngx_quic_send_ack",
          "new_api": null,
          "old_text": "ngx_quic_send_ack(c, ctx)",
          "new_text": null,
          "old_line_content": "                    if (ngx_quic_send_ack(c, ctx) != NGX_OK) {",
          "new_line_content": "            /* no place for new range, send current range as is */",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "ngx_quic_resend_frames",
          "new_api": null,
          "old_text": "ngx_quic_resend_frames(c, ctx)",
          "new_text": null,
          "old_line_content": "            ngx_quic_resend_frames(c, ctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "ngx_quic_pcg_duration",
          "new_api": null,
          "old_text": "ngx_quic_pcg_duration(c)",
          "new_text": null,
          "old_line_content": "        if (newest - oldest > ngx_quic_pcg_duration(c)) {",
          "new_line_content": "     */",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "ngx_quic_persistent_congestion",
          "new_api": null,
          "old_text": "ngx_quic_persistent_congestion(c)",
          "new_text": null,
          "old_line_content": "            ngx_quic_persistent_congestion(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": "ngx_quic_get_connection",
          "new_api": null,
          "old_text": "ngx_quic_get_connection(c)",
          "new_text": null,
          "old_line_content": "    qc = ngx_quic_get_connection(c);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "ngx_max",
          "new_api": null,
          "old_text": "ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY)",
          "new_text": null,
          "old_line_content": "    duration += ngx_max(4 * qc->rttvar, NGX_QUIC_TIME_GRANULARITY);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 26,
      "total_additions": 85,
      "total_deletions": 85,
      "total_api_changes": 196
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 196,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          232,
          233,
          235,
          237
        ]
      }
    },
    "api_calls_before": 135,
    "api_calls_after": 135,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 3,
      "total_diff_lines": 27
    }
  }
}