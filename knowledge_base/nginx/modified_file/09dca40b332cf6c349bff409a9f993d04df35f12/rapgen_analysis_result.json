{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/09dca40b332cf6c349bff409a9f993d04df35f12",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/09dca40b332cf6c349bff409a9f993d04df35f12/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/09dca40b332cf6c349bff409a9f993d04df35f12/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/nginx/modified_file/09dca40b332cf6c349bff409a9f993d04df35f12/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2783,
          "old_api": "ngx_reusable_connection",
          "new_api": "ngx_http_close_connection",
          "old_text": "ngx_reusable_connection(c, 0)",
          "new_text": "ngx_http_close_connection(c)",
          "old_line_content": "    ngx_reusable_connection(c, 0);",
          "new_line_content": "        ngx_http_close_connection(c);",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": "ngx_shutdown_socket",
          "new_api": "ngx_http_close_request",
          "old_text": "ngx_shutdown_socket(c->fd, NGX_WRITE_SHUTDOWN)",
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "    if (ngx_shutdown_socket(c->fd, NGX_WRITE_SHUTDOWN) == -1) {",
          "new_line_content": "        ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 2829,
          "old_api": "ngx_http_lingering_close_handler",
          "new_api": "ngx_del_event",
          "old_text": "ngx_http_lingering_close_handler(rev)",
          "new_text": "ngx_del_event(wev, NGX_WRITE_EVENT, 0)",
          "old_line_content": "        ngx_http_lingering_close_handler(rev);",
          "new_line_content": "        if (ngx_del_event(wev, NGX_WRITE_EVENT, 0) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": "ngx_log_debug1",
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0, \"lingering read: %d\", n)",
          "old_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "        ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0, \"lingering read: %d\", n);",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": "ngx_http_close_connection",
          "new_api": "ngx_log_debug2",
          "old_text": "ngx_http_close_connection(c)",
          "new_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, c->log, 0,\n                   \"http request count:%d blk:%d\", r->count, r->blocked)",
          "old_line_content": "    ngx_http_close_connection(c);",
          "new_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, c->log, 0,",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "ngx_log_error",
          "new_api": "ngx_http_log_request",
          "old_text": "ngx_log_error(NGX_LOG_ALERT, log, ngx_socket_errno,\n                              \"setsockopt(SO_LINGER) failed\")",
          "new_text": "ngx_http_log_request(r)",
          "old_line_content": "                ngx_log_error(NGX_LOG_ALERT, log, ngx_socket_errno,",
          "new_line_content": "    ngx_http_log_request(r);",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": "ngx_destroy_pool",
          "new_api": "ngx_log_error",
          "old_text": "ngx_destroy_pool(r->pool)",
          "new_text": "ngx_log_error(NGX_LOG_ALERT, log, ngx_socket_errno,\n                              \"setsockopt(SO_LINGER) failed\")",
          "old_line_content": "    ngx_destroy_pool(r->pool);",
          "new_line_content": "                ngx_log_error(NGX_LOG_ALERT, log, ngx_socket_errno,",
          "content_same": false
        },
        {
          "line": 3138,
          "old_api": "ngx_snprintf",
          "new_api": "ngx_close_connection",
          "old_text": "ngx_snprintf(buf, len, \" while %s\", log->action)",
          "new_text": "ngx_close_connection(c)",
          "old_line_content": "        p = ngx_snprintf(buf, len, \" while %s\", log->action);",
          "new_line_content": "    ngx_close_connection(c);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 3072,
          "old_api": null,
          "new_api": "setsockopt",
          "old_text": null,
          "new_text": "setsockopt(r->connection->fd, SOL_SOCKET, SO_LINGER,\n                           (const void *) &linger, sizeof(struct linger))",
          "old_line_content": "",
          "new_line_content": "            if (setsockopt(r->connection->fd, SOL_SOCKET, SO_LINGER,",
          "content_same": false
        },
        {
          "line": 2817,
          "old_api": null,
          "new_api": "time_t) (clcf->lingering_time / 1000)",
          "old_text": null,
          "new_text": "time_t) (clcf->lingering_time / 1000)",
          "old_line_content": "            return;",
          "new_line_content": "    r->lingering_time = ngx_time() + (time_t) (clcf->lingering_time / 1000);",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(rev, clcf->lingering_timeout)",
          "old_line_content": "        }",
          "new_line_content": "    ngx_add_timer(rev, clcf->lingering_timeout);",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", request: \\\"%V\\\"\", &r->request_line)",
          "old_line_content": "",
          "new_line_content": "        p = ngx_snprintf(buf, len, \", request: \\\"%V\\\"\", &r->request_line);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": null,
          "new_api": "ngx_handle_read_event",
          "old_text": null,
          "new_text": "ngx_handle_read_event(rev, 0)",
          "old_line_content": "",
          "new_line_content": "    if (ngx_handle_read_event(rev, 0) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": null,
          "new_api": "ngx_http_output_filter",
          "old_text": null,
          "new_text": "ngx_http_output_filter(r, &out)",
          "old_line_content": "",
          "new_line_content": "    return ngx_http_output_filter(r, &out);",
          "content_same": false
        },
        {
          "line": 3209,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", subrequest: \\\"%V\\\"\", &sr->uri)",
          "old_line_content": "        }",
          "new_line_content": "        p = ngx_snprintf(buf, len, \", subrequest: \\\"%V\\\"\", &sr->uri);",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": null,
          "new_api": "ngx_http_close_request",
          "old_text": null,
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "    }",
          "new_line_content": "            ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "",
          "new_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 3089,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(r->pool)",
          "old_line_content": "    n = cmcf->phases[NGX_HTTP_LOG_PHASE].handlers.nelts;",
          "new_line_content": "    ngx_destroy_pool(r->pool);",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": null,
          "new_api": "ngx_shutdown_socket",
          "old_text": null,
          "new_text": "ngx_shutdown_socket(c->fd, NGX_WRITE_SHUTDOWN)",
          "old_line_content": "ngx_http_lingering_close_handler(ngx_event_t *rev)",
          "new_line_content": "    if (ngx_shutdown_socket(c->fd, NGX_WRITE_SHUTDOWN) == -1) {",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": null,
          "new_api": "ngx_connection_error",
          "old_text": null,
          "new_text": "ngx_connection_error(c, ngx_socket_errno,\n                             ngx_shutdown_socket_n \" failed\")",
          "old_line_content": "{",
          "new_line_content": "        ngx_connection_error(c, ngx_socket_errno,",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": null,
          "new_api": "ngx_http_close_request",
          "old_text": null,
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "    ngx_msec_t                 timer;",
          "new_line_content": "        ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 3226,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", upstream: \\\"%V%V%s%V\\\"\",\n                         &u->schema, u->peer.name,\n                         uri_separator, &u->uri)",
          "old_line_content": "    if (r->headers_in.referer) {",
          "new_line_content": "        p = ngx_snprintf(buf, len, \", upstream: \\\"%V%V%s%V\\\"\",",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": null,
          "new_api": "ngx_http_lingering_close_handler",
          "old_text": null,
          "new_text": "ngx_http_lingering_close_handler(rev)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_lingering_close_handler(rev);",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": null,
          "new_api": "ngx_log_debug1",
          "old_text": null,
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"post action: \\\"%V\\\"\", &clcf->post_action)",
          "old_line_content": "    } else {",
          "new_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": null,
          "new_api": "ngx_http_get_module_main_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "old_line_content": "    ngx_pool_t  *pool;",
          "new_line_content": "    cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 3234,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", host: \\\"%V\\\"\",\n                         &r->headers_in.host->value)",
          "old_line_content": "",
          "new_line_content": "        p = ngx_snprintf(buf, len, \", host: \\\"%V\\\"\",",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": null,
          "new_api": "ngx_http_internal_redirect",
          "old_text": null,
          "new_text": "ngx_http_internal_redirect(r, &clcf->post_action, NULL)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_internal_redirect(r, &clcf->post_action, NULL);",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", referrer: \\\"%V\\\"\",\n                         &r->headers_in.referer->value)",
          "old_line_content": "",
          "new_line_content": "        p = ngx_snprintf(buf, len, \", referrer: \\\"%V\\\"\",",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": null,
          "new_api": "ngx_http_named_location",
          "old_text": null,
          "new_text": "ngx_http_named_location(r, &clcf->post_action)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_named_location(r, &clcf->post_action);",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": null,
          "new_api": "ngx_log_debug1",
          "old_text": null,
          "new_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0,\n                   \"close http connection: %d\", c->fd)",
          "old_line_content": "#if (NGX_STAT_STUB)",
          "new_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0,",
          "content_same": false
        },
        {
          "line": 2861,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0,\n                   \"http lingering close handler\")",
          "old_line_content": "    do {",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0,",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": null,
          "new_api": "ngx_http_close_request",
          "old_text": null,
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": null,
          "new_api": "ngx_ssl_shutdown",
          "old_text": null,
          "new_text": "ngx_ssl_shutdown(c)",
          "old_line_content": "    pool = c->pool;",
          "new_line_content": "        if (ngx_ssl_shutdown(c) == NGX_AGAIN) {",
          "content_same": false
        },
        {
          "line": 2869,
          "old_api": null,
          "new_api": "ngx_time",
          "old_text": null,
          "new_text": "ngx_time()",
          "old_line_content": "        }",
          "new_line_content": "    timer = (ngx_msec_t) (r->lingering_time - ngx_time());",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": null,
          "new_api": "ngx_http_close_request",
          "old_text": null,
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "    } while (rev->ready);",
          "new_line_content": "        ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 3131,
          "old_api": null,
          "new_api": "ngx_atomic_fetch_add",
          "old_text": null,
          "new_text": "ngx_atomic_fetch_add(ngx_stat_active, -1)",
          "old_line_content": "ngx_http_log_error(ngx_log_t *log, u_char *buf, size_t len)",
          "new_line_content": "    (void) ngx_atomic_fetch_add(ngx_stat_active, -1);",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": null,
          "new_api": "recv",
          "old_text": null,
          "new_text": "c->recv(c, buffer, NGX_HTTP_LINGERING_BUFFER_SIZE)",
          "old_line_content": "    }",
          "new_line_content": "        n = c->recv(c, buffer, NGX_HTTP_LINGERING_BUFFER_SIZE);",
          "content_same": false
        },
        {
          "line": 3005,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ALERT, c->log, 0, \"http request count is zero\")",
          "old_line_content": "static void",
          "new_line_content": "        ngx_log_error(NGX_LOG_ALERT, c->log, 0, \"http request count is zero\");",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": null,
          "new_api": "ngx_http_close_request",
          "old_text": null,
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "",
          "new_line_content": "            ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 3140,
          "old_api": null,
          "new_api": "ngx_destroy_pool",
          "old_text": null,
          "new_text": "ngx_destroy_pool(pool)",
          "old_line_content": "        buf = p;",
          "new_line_content": "    ngx_destroy_pool(pool);",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": null,
          "new_api": "ngx_http_free_request",
          "old_text": null,
          "new_text": "ngx_http_free_request(r, rc)",
          "old_line_content": "    log = r->connection->log;",
          "new_line_content": "    ngx_http_free_request(r, rc);",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": null,
          "new_api": "ngx_handle_read_event",
          "old_text": null,
          "new_text": "ngx_handle_read_event(rev, 0)",
          "old_line_content": "}",
          "new_line_content": "    if (ngx_handle_read_event(rev, 0) != NGX_OK) {",
          "content_same": false
        },
        {
          "line": 2888,
          "old_api": null,
          "new_api": "ngx_http_close_request",
          "old_text": null,
          "new_text": "ngx_http_close_request(r, 0)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_close_request(r, 0);",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": null,
          "new_api": "ngx_pfree",
          "old_text": null,
          "new_text": "ngx_pfree(c->pool, b->start)",
          "old_line_content": "        return;",
          "new_line_content": "        if (ngx_pfree(c->pool, b->start) == NGX_OK) {",
          "content_same": false
        },
        {
          "line": 3015,
          "old_api": null,
          "new_api": "ngx_http_close_connection",
          "old_text": null,
          "new_text": "ngx_http_close_connection(c)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_close_connection(c);",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "{",
          "new_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 3152,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \" while %s\", log->action)",
          "old_line_content": "",
          "new_line_content": "        p = ngx_snprintf(buf, len, \" while %s\", log->action);",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": null,
          "new_api": "ngx_add_timer",
          "old_text": null,
          "new_text": "ngx_add_timer(rev, timer)",
          "old_line_content": "ngx_http_request_empty_handler(ngx_http_request_t *r)",
          "new_line_content": "    ngx_add_timer(rev, timer);",
          "content_same": false
        },
        {
          "line": 2774,
          "old_api": null,
          "new_api": "ngx_http_close_connection",
          "old_text": null,
          "new_text": "ngx_http_close_connection(c)",
          "old_line_content": "",
          "new_line_content": "        ngx_http_close_connection(c);",
          "content_same": false
        },
        {
          "line": 3030,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, log, 0, \"http close request\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, log, 0, \"http close request\");",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", client: %V\", &ctx->connection->addr_text)",
          "old_line_content": "}",
          "new_line_content": "    p = ngx_snprintf(buf, len, \", client: %V\", &ctx->connection->addr_text);",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_ALERT, log, 0, \"http request already closed\")",
          "old_line_content": "    }",
          "new_line_content": "        ngx_log_error(NGX_LOG_ALERT, log, 0, \"http request already closed\");",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, wev->log, 0, \"http empty handler\")",
          "old_line_content": "",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, wev->log, 0, \"http empty handler\");",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": null,
          "new_api": "ngx_log_error",
          "old_text": null,
          "new_text": "ngx_log_error(NGX_LOG_INFO, c->log, ngx_socket_errno,\n                      \"client %V closed keepalive connection\", &c->addr_text)",
          "old_line_content": "",
          "new_line_content": "        ngx_log_error(NGX_LOG_INFO, c->log, ngx_socket_errno,",
          "content_same": false
        },
        {
          "line": 3165,
          "old_api": null,
          "new_api": "log_handler",
          "old_text": null,
          "new_text": "r->log_handler(r, ctx->current_request, p, len)",
          "old_line_content": "{",
          "new_line_content": "        return r->log_handler(r, ctx->current_request, p, len);",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": null,
          "new_api": "handler",
          "old_text": null,
          "new_text": "cln->handler(cln->data)",
          "old_line_content": "#endif",
          "new_line_content": "            cln->handler(cln->data);",
          "content_same": false
        },
        {
          "line": 3168,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(p, len, \", server: %V\",\n                         &ctx->connection->listening->addr_text)",
          "old_line_content": "    ngx_http_upstream_t       *u;",
          "new_line_content": "        p = ngx_snprintf(p, len, \", server: %V\",",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": null,
          "new_api": "ngx_log_debug0",
          "old_text": null,
          "new_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"http request empty handler\")",
          "old_line_content": "    if (b == NULL) {",
          "new_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": null,
          "new_api": "ngx_atomic_fetch_add",
          "old_text": null,
          "new_text": "ngx_atomic_fetch_add(ngx_stat_reading, 1)",
          "old_line_content": "ngx_http_set_lingering_close(ngx_http_request_t *r)",
          "new_line_content": "    (void) ngx_atomic_fetch_add(ngx_stat_reading, 1);",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": null,
          "new_api": "ngx_atomic_fetch_add",
          "old_text": null,
          "new_text": "ngx_atomic_fetch_add(ngx_stat_reading, -1)",
          "old_line_content": "",
          "new_line_content": "        (void) ngx_atomic_fetch_add(ngx_stat_reading, -1);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "ngx_atomic_fetch_add",
          "old_text": null,
          "new_text": "ngx_atomic_fetch_add(ngx_stat_writing, -1)",
          "old_line_content": "",
          "new_line_content": "        (void) ngx_atomic_fetch_add(ngx_stat_writing, -1);",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": null,
          "new_api": "ngx_reusable_connection",
          "old_text": null,
          "new_text": "ngx_reusable_connection(c, 0)",
          "old_line_content": "",
          "new_line_content": "    ngx_reusable_connection(c, 0);",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": null,
          "new_api": "ngx_http_init_request",
          "old_text": null,
          "new_text": "ngx_http_init_request(rev)",
          "old_line_content": "",
          "new_line_content": "    ngx_http_init_request(rev);",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": null,
          "new_api": "ngx_calloc_buf",
          "old_text": null,
          "new_text": "ngx_calloc_buf(r->pool)",
          "old_line_content": "    }",
          "new_line_content": "    b = ngx_calloc_buf(r->pool);",
          "content_same": false
        },
        {
          "line": 3185,
          "old_api": null,
          "new_api": "ngx_http_get_module_srv_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "old_line_content": "        r->request_line.data = r->request_start;",
          "new_line_content": "    cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": null,
          "new_api": "ngx_snprintf",
          "old_text": null,
          "new_text": "ngx_snprintf(buf, len, \", server: %V\", &cscf->server_name)",
          "old_line_content": "",
          "new_line_content": "    p = ngx_snprintf(buf, len, \", server: %V\", &cscf->server_name);",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "",
          "new_line_content": "        clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": null,
          "new_api": "ngx_http_get_module_loc_conf",
          "old_text": null,
          "new_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "old_line_content": "    wev->handler = ngx_http_empty_handler;",
          "new_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2816,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "            ngx_http_close_request(r, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": "ngx_connection_error",
          "new_api": null,
          "old_text": "ngx_connection_error(c, ngx_socket_errno,\n                             ngx_shutdown_socket_n \" failed\")",
          "new_text": null,
          "old_line_content": "        ngx_connection_error(c, ngx_socket_errno,",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_request(r, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", upstream: \\\"%V%V%s%V\\\"\",\n                         &u->schema, u->peer.name,\n                         uri_separator, &u->uri)",
          "new_text": null,
          "old_line_content": "        p = ngx_snprintf(buf, len, \", upstream: \\\"%V%V%s%V\\\"\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "ngx_log_debug1",
          "new_api": null,
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"post action: \\\"%V\\\"\", &clcf->post_action)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "new_line_content": "ngx_http_post_action(ngx_http_request_t *r)",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": "ngx_http_get_module_main_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_main_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    cmcf = ngx_http_get_module_main_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3220,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", host: \\\"%V\\\"\",\n                         &r->headers_in.host->value)",
          "new_text": null,
          "old_line_content": "        p = ngx_snprintf(buf, len, \", host: \\\"%V\\\"\",",
          "new_line_content": "#if (NGX_HAVE_UNIX_DOMAIN)",
          "content_same": false
        },
        {
          "line": 2969,
          "old_api": "ngx_http_internal_redirect",
          "new_api": null,
          "old_text": "ngx_http_internal_redirect(r, &clcf->post_action, NULL)",
          "new_text": null,
          "old_line_content": "        ngx_http_internal_redirect(r, &clcf->post_action, NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", referrer: \\\"%V\\\"\",\n                         &r->headers_in.referer->value)",
          "new_text": null,
          "old_line_content": "        p = ngx_snprintf(buf, len, \", referrer: \\\"%V\\\"\",",
          "new_line_content": "                         &u->schema, u->peer.name,",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": "ngx_http_named_location",
          "new_api": null,
          "old_text": "ngx_http_named_location(r, &clcf->post_action)",
          "new_text": null,
          "old_line_content": "        ngx_http_named_location(r, &clcf->post_action);",
          "new_line_content": "                   \"post action: \\\"%V\\\"\", &clcf->post_action);",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": "ngx_log_debug1",
          "new_api": null,
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0,\n                   \"close http connection: %d\", c->fd)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0,",
          "new_line_content": "    log_handler = cmcf->phases[NGX_HTTP_LOG_PHASE].handlers.elts;",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0,\n                   \"http lingering close handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, c->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_request(r, 0);",
          "new_line_content": "    ssize_t                    n;",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": "ngx_ssl_shutdown",
          "new_api": null,
          "old_text": "ngx_ssl_shutdown(c)",
          "new_text": null,
          "old_line_content": "        if (ngx_ssl_shutdown(c) == NGX_AGAIN) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": "ngx_time",
          "new_api": null,
          "old_text": "ngx_time()",
          "new_text": null,
          "old_line_content": "    timer = (ngx_msec_t) (r->lingering_time - ngx_time());",
          "new_line_content": "    ngx_http_core_loc_conf_t  *clcf;",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_request(r, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "ngx_log_debug2",
          "new_api": null,
          "old_text": "ngx_log_debug2(NGX_LOG_DEBUG_HTTP, c->log, 0,\n                   \"http request count:%d blk:%d\", r->count, r->blocked)",
          "new_text": null,
          "old_line_content": "    ngx_log_debug2(NGX_LOG_DEBUG_HTTP, c->log, 0,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": "ngx_atomic_fetch_add",
          "new_api": null,
          "old_text": "ngx_atomic_fetch_add(ngx_stat_active, -1)",
          "new_text": null,
          "old_line_content": "    (void) ngx_atomic_fetch_add(ngx_stat_active, -1);",
          "new_line_content": "                   \"close http connection: %d\", c->fd);",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": "recv",
          "new_api": null,
          "old_text": "c->recv(c, buffer, NGX_HTTP_LINGERING_BUFFER_SIZE)",
          "new_text": null,
          "old_line_content": "        n = c->recv(c, buffer, NGX_HTTP_LINGERING_BUFFER_SIZE);",
          "new_line_content": "                   \"http lingering close handler\");",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ALERT, c->log, 0, \"http request count is zero\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_ALERT, c->log, 0, \"http request count is zero\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "ngx_log_debug1",
          "new_api": null,
          "old_text": "ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0, \"lingering read: %d\", n)",
          "new_text": null,
          "old_line_content": "        ngx_log_debug1(NGX_LOG_DEBUG_HTTP, c->log, 0, \"lingering read: %d\", n);",
          "new_line_content": "    if (rev->timedout) {",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "            ngx_http_close_request(r, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3124,
          "old_api": "ngx_close_connection",
          "new_api": null,
          "old_text": "ngx_close_connection(c)",
          "new_text": null,
          "old_line_content": "    ngx_close_connection(c);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 3126,
          "old_api": "ngx_destroy_pool",
          "new_api": null,
          "old_text": "ngx_destroy_pool(pool)",
          "new_text": null,
          "old_line_content": "    ngx_destroy_pool(pool);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": "ngx_http_free_request",
          "new_api": null,
          "old_text": "ngx_http_free_request(r, rc)",
          "new_text": null,
          "old_line_content": "    ngx_http_free_request(r, rc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": "ngx_handle_read_event",
          "new_api": null,
          "old_text": "ngx_handle_read_event(rev, 0)",
          "new_text": null,
          "old_line_content": "    if (ngx_handle_read_event(rev, 0) != NGX_OK) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_request(r, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(rev, timer)",
          "new_text": null,
          "old_line_content": "    ngx_add_timer(rev, timer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2760,
          "old_api": "ngx_http_close_connection",
          "new_api": null,
          "old_text": "ngx_http_close_connection(c)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_connection(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, log, 0, \"http close request\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, log, 0, \"http close request\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", client: %V\", &ctx->connection->addr_text)",
          "new_text": null,
          "old_line_content": "    p = ngx_snprintf(buf, len, \", client: %V\", &ctx->connection->addr_text);",
          "new_line_content": "ngx_http_log_error(ngx_log_t *log, u_char *buf, size_t len)",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_ALERT, log, 0, \"http request already closed\")",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_ALERT, log, 0, \"http request already closed\");",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 2893,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, wev->log, 0, \"http empty handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, wev->log, 0, \"http empty handler\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": "ngx_log_error",
          "new_api": null,
          "old_text": "ngx_log_error(NGX_LOG_INFO, c->log, ngx_socket_errno,\n                      \"client %V closed keepalive connection\", &c->addr_text)",
          "new_text": null,
          "old_line_content": "        ngx_log_error(NGX_LOG_INFO, c->log, ngx_socket_errno,",
          "new_line_content": "            b->pos = NULL;",
          "content_same": false
        },
        {
          "line": 3151,
          "old_api": "log_handler",
          "new_api": null,
          "old_text": "r->log_handler(r, ctx->current_request, p, len)",
          "new_text": null,
          "old_line_content": "        return r->log_handler(r, ctx->current_request, p, len);",
          "new_line_content": "    if (log->action) {",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "ngx_http_close_connection",
          "new_api": null,
          "old_text": "ngx_http_close_connection(c)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_connection(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3025,
          "old_api": "handler",
          "new_api": null,
          "old_text": "cln->handler(cln->data)",
          "new_text": null,
          "old_line_content": "            cln->handler(cln->data);",
          "new_line_content": "    ngx_http_log_ctx_t        *ctx;",
          "content_same": false
        },
        {
          "line": 3154,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(p, len, \", server: %V\",\n                         &ctx->connection->listening->addr_text)",
          "new_text": null,
          "old_line_content": "        p = ngx_snprintf(p, len, \", server: %V\",",
          "new_line_content": "        buf = p;",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": "ngx_log_debug0",
          "new_api": null,
          "old_text": "ngx_log_debug0(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,\n                   \"http request empty handler\")",
          "new_text": null,
          "old_line_content": "    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, r->connection->log, 0,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "ngx_atomic_fetch_add",
          "new_api": null,
          "old_text": "ngx_atomic_fetch_add(ngx_stat_reading, 1)",
          "new_text": null,
          "old_line_content": "    (void) ngx_atomic_fetch_add(ngx_stat_reading, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": "ngx_atomic_fetch_add",
          "new_api": null,
          "old_text": "ngx_atomic_fetch_add(ngx_stat_reading, -1)",
          "new_text": null,
          "old_line_content": "        (void) ngx_atomic_fetch_add(ngx_stat_reading, -1);",
          "new_line_content": "    if (r->pool == NULL) {",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": "ngx_atomic_fetch_add",
          "new_api": null,
          "old_text": "ngx_atomic_fetch_add(ngx_stat_writing, -1)",
          "new_text": null,
          "old_line_content": "        (void) ngx_atomic_fetch_add(ngx_stat_writing, -1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": "ngx_http_init_request",
          "new_api": null,
          "old_text": "ngx_http_init_request(rev)",
          "new_text": null,
          "old_line_content": "    ngx_http_init_request(rev);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": "ngx_calloc_buf",
          "new_api": null,
          "old_text": "ngx_calloc_buf(r->pool)",
          "new_text": null,
          "old_line_content": "    b = ngx_calloc_buf(r->pool);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": "ngx_http_get_module_srv_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_srv_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    cscf = ngx_http_get_module_srv_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3173,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", server: %V\", &cscf->server_name)",
          "new_text": null,
          "old_line_content": "    p = ngx_snprintf(buf, len, \", server: %V\", &cscf->server_name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": "ngx_http_log_request",
          "new_api": null,
          "old_text": "ngx_http_log_request(r)",
          "new_text": null,
          "old_line_content": "    ngx_http_log_request(r);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "        clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": "ngx_http_get_module_loc_conf",
          "new_api": null,
          "old_text": "ngx_http_get_module_loc_conf(r, ngx_http_core_module)",
          "new_text": null,
          "old_line_content": "    clcf = ngx_http_get_module_loc_conf(r, ngx_http_core_module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": "setsockopt",
          "new_api": null,
          "old_text": "setsockopt(r->connection->fd, SOL_SOCKET, SO_LINGER,\n                           (const void *) &linger, sizeof(struct linger))",
          "new_text": null,
          "old_line_content": "            if (setsockopt(r->connection->fd, SOL_SOCKET, SO_LINGER,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "time_t) (clcf->lingering_time / 1000)",
          "new_api": null,
          "old_text": "time_t) (clcf->lingering_time / 1000)",
          "new_text": null,
          "old_line_content": "    r->lingering_time = ngx_time() + (time_t) (clcf->lingering_time / 1000);",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": "ngx_add_timer",
          "new_api": null,
          "old_text": "ngx_add_timer(rev, clcf->lingering_timeout)",
          "new_text": null,
          "old_line_content": "    ngx_add_timer(rev, clcf->lingering_timeout);",
          "new_line_content": "ngx_http_set_lingering_close(ngx_http_request_t *r)",
          "content_same": false
        },
        {
          "line": 3189,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", request: \\\"%V\\\"\", &r->request_line)",
          "new_text": null,
          "old_line_content": "        p = ngx_snprintf(buf, len, \", request: \\\"%V\\\"\", &r->request_line);",
          "new_line_content": "    buf = p;",
          "content_same": false
        },
        {
          "line": 2806,
          "old_api": "ngx_handle_read_event",
          "new_api": null,
          "old_text": "ngx_handle_read_event(rev, 0)",
          "new_text": null,
          "old_line_content": "    if (ngx_handle_read_event(rev, 0) != NGX_OK) {",
          "new_line_content": "    ngx_event_t               *rev, *wev;",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": "ngx_http_close_request",
          "new_api": null,
          "old_text": "ngx_http_close_request(r, 0)",
          "new_text": null,
          "old_line_content": "        ngx_http_close_request(r, 0);",
          "new_line_content": "    ngx_connection_t          *c;",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": "ngx_http_output_filter",
          "new_api": null,
          "old_text": "ngx_http_output_filter(r, &out)",
          "new_text": null,
          "old_line_content": "    return ngx_http_output_filter(r, &out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3195,
          "old_api": "ngx_snprintf",
          "new_api": null,
          "old_text": "ngx_snprintf(buf, len, \", subrequest: \\\"%V\\\"\", &sr->uri)",
          "new_text": null,
          "old_line_content": "        p = ngx_snprintf(buf, len, \", subrequest: \\\"%V\\\"\", &sr->uri);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": "ngx_del_event",
          "new_api": null,
          "old_text": "ngx_del_event(wev, NGX_WRITE_EVENT, 0)",
          "new_text": null,
          "old_line_content": "        if (ngx_del_event(wev, NGX_WRITE_EVENT, 0) != NGX_OK) {",
          "new_line_content": "    rev->handler = ngx_http_lingering_close_handler;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 8,
      "total_additions": 60,
      "total_deletions": 59,
      "total_api_changes": 127
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 127,
        "non_api_lines": 10,
        "non_api_line_numbers": [
          2756,
          2757,
          2758,
          2759,
          2762,
          2763,
          2764,
          2765,
          2766,
          2768
        ]
      }
    },
    "api_calls_before": 465,
    "api_calls_after": 466,
    "diff_info": {
      "added_lines": 14,
      "removed_lines": 0,
      "total_diff_lines": 26
    }
  }
}