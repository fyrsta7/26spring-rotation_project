{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f56f035a70293be6fbc20a0545c1be53a131e7c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f56f035a70293be6fbc20a0545c1be53a131e7c/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f56f035a70293be6fbc20a0545c1be53a131e7c/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f56f035a70293be6fbc20a0545c1be53a131e7c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 546,
          "old_api": "sdsEncodedObject",
          "new_api": "strtod",
          "old_text": "sdsEncodedObject(o)",
          "new_text": "strtod(o->ptr, &eptr)",
          "old_line_content": "        if (sdsEncodedObject(o)) {",
          "new_line_content": "            value = strtod(o->ptr, &eptr);",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "getDoubleFromObject",
          "new_api": "addReplyError",
          "old_text": "getDoubleFromObject(o, &value)",
          "new_text": "addReplyError(c,(char*)msg)",
          "old_line_content": "    if (getDoubleFromObject(o, &value) != REDIS_OK) {",
          "new_line_content": "            addReplyError(c,(char*)msg);",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "sdsEncodedObject",
          "new_api": "strtold",
          "old_text": "sdsEncodedObject(o)",
          "new_text": "strtold(o->ptr, &eptr)",
          "old_line_content": "        if (sdsEncodedObject(o)) {",
          "new_line_content": "            value = strtold(o->ptr, &eptr);",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "strtold",
          "new_api": "isnan",
          "old_text": "strtold(o->ptr, &eptr)",
          "new_text": "isnan(value)",
          "old_line_content": "            value = strtold(o->ptr, &eptr);",
          "new_line_content": "                errno == ERANGE || isnan(value))",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "getLongDoubleFromObject",
          "new_api": "addReplyError",
          "old_text": "getLongDoubleFromObject(o, &value)",
          "new_text": "addReplyError(c,(char*)msg)",
          "old_line_content": "    if (getLongDoubleFromObject(o, &value) != REDIS_OK) {",
          "new_line_content": "            addReplyError(c,(char*)msg);",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "sdsEncodedObject",
          "new_api": "strtoll",
          "old_text": "sdsEncodedObject(o)",
          "new_text": "strtoll(o->ptr, &eptr, 10)",
          "old_line_content": "        if (sdsEncodedObject(o)) {",
          "new_line_content": "            value = strtoll(o->ptr, &eptr, 10);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "getLongLongFromObject",
          "new_api": "addReplyError",
          "old_text": "getLongLongFromObject(o, &value)",
          "new_text": "addReplyError(c,(char*)msg)",
          "old_line_content": "    if (getLongLongFromObject(o, &value) != REDIS_OK) {",
          "new_line_content": "            addReplyError(c,(char*)msg);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "objectCommandLookup",
          "new_api": "addReply",
          "old_text": "objectCommandLookup(c,key)",
          "new_text": "addReply(c, reply)",
          "old_line_content": "    robj *o = objectCommandLookup(c,key);",
          "new_line_content": "    if (!o) addReply(c, reply);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "objectCommandLookupOrReply",
          "new_api": "addReplyLongLong",
          "old_text": "objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk)",
          "new_text": "addReplyLongLong(c,o->refcount)",
          "old_line_content": "        if ((o = objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk))",
          "new_line_content": "        addReplyLongLong(c,o->refcount);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "addReplyLongLong",
          "new_api": "objectCommandLookupOrReply",
          "old_text": "addReplyLongLong(c,o->refcount)",
          "new_text": "objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk)",
          "old_line_content": "        addReplyLongLong(c,o->refcount);",
          "new_line_content": "        if ((o = objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk))",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "objectCommandLookupOrReply",
          "new_api": "strEncoding",
          "old_text": "objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk)",
          "new_text": "strEncoding(o->encoding)",
          "old_line_content": "        if ((o = objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk))",
          "new_line_content": "        addReplyBulkCString(c,strEncoding(o->encoding));",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "strEncoding",
          "new_api": "objectCommandLookupOrReply",
          "old_text": "strEncoding(o->encoding)",
          "new_text": "objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk)",
          "old_line_content": "        addReplyBulkCString(c,strEncoding(o->encoding));",
          "new_line_content": "        if ((o = objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk))",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "objectCommandLookupOrReply",
          "new_api": "estimateObjectIdleTime",
          "old_text": "objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk)",
          "new_text": "estimateObjectIdleTime(o)",
          "old_line_content": "        if ((o = objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk))",
          "new_line_content": "        addReplyLongLong(c,estimateObjectIdleTime(o)/1000);",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "estimateObjectIdleTime",
          "new_api": "addReplyError",
          "old_text": "estimateObjectIdleTime(o)",
          "new_text": "addReplyError(c,\"Syntax error. Try OBJECT (refcount|encoding|idletime)\")",
          "old_line_content": "        addReplyLongLong(c,estimateObjectIdleTime(o)/1000);",
          "new_line_content": "        addReplyError(c,\"Syntax error. Try OBJECT (refcount|encoding|idletime)\");",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 642,
          "old_api": null,
          "new_api": "getLongLongFromObject",
          "old_text": null,
          "new_text": "getLongLongFromObject(o, &value)",
          "old_line_content": "int getLongLongFromObjectOrReply(redisClient *c, robj *o, long long *target, const char *msg) {",
          "new_line_content": "    if (getLongLongFromObject(o, &value) != REDIS_OK) {",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "getLongLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongLongFromObjectOrReply(c, o, &value, msg)",
          "old_line_content": "    long long value;",
          "new_line_content": "    if (getLongLongFromObjectOrReply(c, o, &value, msg) != REDIS_OK) return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "sdigits10",
          "old_text": null,
          "new_text": "sdigits10((long)o->ptr)",
          "old_line_content": "        char buf[32];",
          "new_line_content": "        return sdigits10((long)o->ptr);",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c,(char*)msg)",
          "old_line_content": "    if (value < LONG_MIN || value > LONG_MAX) {",
          "new_line_content": "            addReplyError(c,(char*)msg);",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": null,
          "new_api": "redisAssertWithInfo",
          "old_text": null,
          "new_text": "redisAssertWithInfo(NULL,o,o->type == REDIS_STRING)",
          "old_line_content": "        value = 0;",
          "new_line_content": "        redisAssertWithInfo(NULL,o,o->type == REDIS_STRING);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "sdsEncodedObject",
          "old_text": null,
          "new_text": "sdsEncodedObject(o)",
          "old_line_content": "    } else {",
          "new_line_content": "        if (sdsEncodedObject(o)) {",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(((char*)o->ptr)[0])",
          "old_line_content": "            errno = 0;",
          "new_line_content": "            if (isspace(((char*)o->ptr)[0]) ||",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(value)",
          "old_line_content": "                    (value == HUGE_VAL || value == -HUGE_VAL || value == 0)) ||",
          "new_line_content": "                isnan(value))",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "redisPanic",
          "old_text": null,
          "new_text": "redisPanic(\"Unknown string encoding\")",
          "old_line_content": "            value = (long)o->ptr;",
          "new_line_content": "            redisPanic(\"Unknown string encoding\");",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "LRU_CLOCK",
          "old_text": null,
          "new_text": "LRU_CLOCK()",
          "old_line_content": " * requested, using an approximated LRU algorithm. */",
          "new_line_content": "    unsigned long long lruclock = LRU_CLOCK();",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": null,
          "new_api": "getDoubleFromObject",
          "old_text": null,
          "new_text": "getDoubleFromObject(o, &value)",
          "old_line_content": "int getDoubleFromObjectOrReply(redisClient *c, robj *o, double *target, const char *msg) {",
          "new_line_content": "    if (getDoubleFromObject(o, &value) != REDIS_OK) {",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(c->db->dict,key->ptr)",
          "old_line_content": "    dictEntry *de;",
          "new_line_content": "    if ((de = dictFind(c->db->dict,key->ptr)) == NULL) return NULL;",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(de)",
          "old_line_content": "",
          "new_line_content": "    return (robj*) dictGetVal(de);",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "objectCommandLookup",
          "old_text": null,
          "new_text": "objectCommandLookup(c,key)",
          "old_line_content": "",
          "new_line_content": "    robj *o = objectCommandLookup(c,key);",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "redisAssertWithInfo",
          "old_text": null,
          "new_text": "redisAssertWithInfo(NULL,o,o->type == REDIS_STRING)",
          "old_line_content": "        value = 0;",
          "new_line_content": "        redisAssertWithInfo(NULL,o,o->type == REDIS_STRING);",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "sdsEncodedObject",
          "old_text": null,
          "new_text": "sdsEncodedObject(o)",
          "old_line_content": "    } else {",
          "new_line_content": "        if (sdsEncodedObject(o)) {",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(((char*)o->ptr)[0])",
          "old_line_content": "            errno = 0;",
          "new_line_content": "            if (isspace(((char*)o->ptr)[0]) || eptr[0] != '\\0' ||",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[1]->ptr,\"refcount\")",
          "old_line_content": "    robj *o;",
          "new_line_content": "    if (!strcasecmp(c->argv[1]->ptr,\"refcount\") && c->argc == 3) {",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": null,
          "new_api": "objectCommandLookupOrReply",
          "old_text": null,
          "new_text": "objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk)",
          "old_line_content": "",
          "new_line_content": "        if ((o = objectCommandLookupOrReply(c,c->argv[2],shared.nullbulk))",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[1]->ptr,\"encoding\")",
          "old_line_content": "                == NULL) return;",
          "new_line_content": "    } else if (!strcasecmp(c->argv[1]->ptr,\"encoding\") && c->argc == 3) {",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "redisPanic",
          "old_text": null,
          "new_text": "redisPanic(\"Unknown string encoding\")",
          "old_line_content": "            value = (long)o->ptr;",
          "new_line_content": "            redisPanic(\"Unknown string encoding\");",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[1]->ptr,\"idletime\")",
          "old_line_content": "                == NULL) return;",
          "new_line_content": "    } else if (!strcasecmp(c->argv[1]->ptr,\"idletime\") && c->argc == 3) {",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "getLongDoubleFromObject",
          "old_text": null,
          "new_text": "getLongDoubleFromObject(o, &value)",
          "old_line_content": "int getLongDoubleFromObjectOrReply(redisClient *c, robj *o, long double *target, const char *msg) {",
          "new_line_content": "    if (getLongDoubleFromObject(o, &value) != REDIS_OK) {",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "redisAssertWithInfo",
          "old_text": null,
          "new_text": "redisAssertWithInfo(NULL,o,o->type == REDIS_STRING)",
          "old_line_content": "        value = 0;",
          "new_line_content": "        redisAssertWithInfo(NULL,o,o->type == REDIS_STRING);",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "sdsEncodedObject",
          "old_text": null,
          "new_text": "sdsEncodedObject(o)",
          "old_line_content": "    } else {",
          "new_line_content": "        if (sdsEncodedObject(o)) {",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(((char*)o->ptr)[0])",
          "old_line_content": "            errno = 0;",
          "new_line_content": "            if (isspace(((char*)o->ptr)[0]) || eptr[0] != '\\0' ||",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": null,
          "new_api": "redisPanic",
          "old_text": null,
          "new_text": "redisPanic(\"Unknown string encoding\")",
          "old_line_content": "            value = (long)o->ptr;",
          "new_line_content": "            redisPanic(\"Unknown string encoding\");",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 648,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"value is not an integer or out of range\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c,\"value is not an integer or out of range\");",
          "new_line_content": "        return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "getLongLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongLongFromObjectOrReply(c, o, &value, msg)",
          "new_text": null,
          "old_line_content": "    if (getLongLongFromObjectOrReply(c, o, &value, msg) != REDIS_OK) return REDIS_ERR;",
          "new_line_content": "        if (msg != NULL) {",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "ll2string",
          "new_api": null,
          "old_text": "ll2string(buf,32,(long)o->ptr)",
          "new_text": null,
          "old_line_content": "        return ll2string(buf,32,(long)o->ptr);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"value is out of range\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c,\"value is out of range\");",
          "new_line_content": "        return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "redisAssertWithInfo",
          "new_api": null,
          "old_text": "redisAssertWithInfo(NULL,o,o->type == REDIS_STRING)",
          "new_text": null,
          "old_line_content": "        redisAssertWithInfo(NULL,o,o->type == REDIS_STRING);",
          "new_line_content": "            errno = 0;",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "strtod",
          "new_api": null,
          "old_text": "strtod(o->ptr, &eptr)",
          "new_text": null,
          "old_line_content": "            value = strtod(o->ptr, &eptr);",
          "new_line_content": "                eptr[0] != '\\0' ||",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(((char*)o->ptr)[0])",
          "new_text": null,
          "old_line_content": "            if (isspace(((char*)o->ptr)[0]) ||",
          "new_line_content": "                (errno == ERANGE &&",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(value)",
          "new_text": null,
          "old_line_content": "                isnan(value))",
          "new_line_content": "        } else if (o->encoding == REDIS_ENCODING_INT) {",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "redisPanic",
          "new_api": null,
          "old_text": "redisPanic(\"Unknown string encoding\")",
          "new_text": null,
          "old_line_content": "            redisPanic(\"Unknown string encoding\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "LRU_CLOCK",
          "new_api": null,
          "old_text": "LRU_CLOCK()",
          "new_text": null,
          "old_line_content": "    unsigned long long lruclock = LRU_CLOCK();",
          "new_line_content": "        return (lruclock - o->lru) * REDIS_LRU_CLOCK_RESOLUTION;",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"value is not a valid float\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c,\"value is not a valid float\");",
          "new_line_content": "        return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(c->db->dict,key->ptr)",
          "new_text": null,
          "old_line_content": "    if ((de = dictFind(c->db->dict,key->ptr)) == NULL) return NULL;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "dictGetVal",
          "new_api": null,
          "old_text": "dictGetVal(de)",
          "new_text": null,
          "old_line_content": "    return (robj*) dictGetVal(de);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c, reply)",
          "new_text": null,
          "old_line_content": "    if (!o) addReply(c, reply);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "redisAssertWithInfo",
          "new_api": null,
          "old_text": "redisAssertWithInfo(NULL,o,o->type == REDIS_STRING)",
          "new_text": null,
          "old_line_content": "        redisAssertWithInfo(NULL,o,o->type == REDIS_STRING);",
          "new_line_content": "            errno = 0;",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(((char*)o->ptr)[0])",
          "new_text": null,
          "old_line_content": "            if (isspace(((char*)o->ptr)[0]) || eptr[0] != '\\0' ||",
          "new_line_content": "                return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(value)",
          "new_text": null,
          "old_line_content": "                errno == ERANGE || isnan(value))",
          "new_line_content": "        } else if (o->encoding == REDIS_ENCODING_INT) {",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[1]->ptr,\"refcount\")",
          "new_text": null,
          "old_line_content": "    if (!strcasecmp(c->argv[1]->ptr,\"refcount\") && c->argc == 3) {",
          "new_line_content": "                == NULL) return;",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[1]->ptr,\"encoding\")",
          "new_text": null,
          "old_line_content": "    } else if (!strcasecmp(c->argv[1]->ptr,\"encoding\") && c->argc == 3) {",
          "new_line_content": "                == NULL) return;",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "redisPanic",
          "new_api": null,
          "old_text": "redisPanic(\"Unknown string encoding\")",
          "new_text": null,
          "old_line_content": "            redisPanic(\"Unknown string encoding\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[1]->ptr,\"idletime\")",
          "new_text": null,
          "old_line_content": "    } else if (!strcasecmp(c->argv[1]->ptr,\"idletime\") && c->argc == 3) {",
          "new_line_content": "                == NULL) return;",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"Syntax error. Try OBJECT (refcount|encoding|idletime)\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c,\"Syntax error. Try OBJECT (refcount|encoding|idletime)\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"value is not a valid float\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c,\"value is not a valid float\");",
          "new_line_content": "        return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "redisAssertWithInfo",
          "new_api": null,
          "old_text": "redisAssertWithInfo(NULL,o,o->type == REDIS_STRING)",
          "new_text": null,
          "old_line_content": "        redisAssertWithInfo(NULL,o,o->type == REDIS_STRING);",
          "new_line_content": "            errno = 0;",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "strtoll",
          "new_api": null,
          "old_text": "strtoll(o->ptr, &eptr, 10)",
          "new_text": null,
          "old_line_content": "            value = strtoll(o->ptr, &eptr, 10);",
          "new_line_content": "                errno == ERANGE)",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(((char*)o->ptr)[0])",
          "new_text": null,
          "old_line_content": "            if (isspace(((char*)o->ptr)[0]) || eptr[0] != '\\0' ||",
          "new_line_content": "                return REDIS_ERR;",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "redisPanic",
          "new_api": null,
          "old_text": "redisPanic(\"Unknown string encoding\")",
          "new_text": null,
          "old_line_content": "            redisPanic(\"Unknown string encoding\");",
          "new_line_content": "    }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 14,
      "total_additions": 27,
      "total_deletions": 27,
      "total_api_changes": 68
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 68,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          533
        ]
      }
    },
    "api_calls_before": 151,
    "api_calls_after": 151,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 3,
      "total_diff_lines": 16
    }
  }
}