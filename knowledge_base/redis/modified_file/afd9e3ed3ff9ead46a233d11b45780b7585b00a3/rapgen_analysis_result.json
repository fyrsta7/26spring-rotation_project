{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/afd9e3ed3ff9ead46a233d11b45780b7585b00a3",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/afd9e3ed3ff9ead46a233d11b45780b7585b00a3/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/afd9e3ed3ff9ead46a233d11b45780b7585b00a3/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/afd9e3ed3ff9ead46a233d11b45780b7585b00a3/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 1000,
          "old_api": "sdscatlen",
          "new_api": "sdsMakeRoomFor",
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": "sdsMakeRoomFor(s, len + 2)",
          "old_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "new_line_content": "    s = sdsMakeRoomFor(s, len + 2);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "sdscatprintf",
          "new_api": "isprint",
          "old_text": "sdscatprintf(s,\"%c\",*p)",
          "new_text": "isprint(*p)",
          "old_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "new_line_content": "            if (isprint(*p))",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "sdscatlen",
          "new_api": "hex_digit_to_int",
          "old_text": "sdscatlen(current,(char*)&byte,1)",
          "new_text": "hex_digit_to_int(*(p+3))",
          "old_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "new_line_content": "                                hex_digit_to_int(*(p+3));",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "s_free",
          "new_api": "sdsfree",
          "old_text": "s_free(vector)",
          "new_text": "sdsfree(vector[*argc])",
          "old_line_content": "    s_free(vector);",
          "new_line_content": "        sdsfree(vector[*argc]);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "sdsfree",
          "new_api": "s_free",
          "old_text": "sdsfree(current)",
          "new_text": "s_free(vector)",
          "old_line_content": "    if (current) sdsfree(current);",
          "new_line_content": "    s_free(vector);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "sdscatlen",
          "new_api": "sdscatsds",
          "old_text": "sdscatlen(join,sep,seplen)",
          "new_text": "sdscatsds(join, argv[j])",
          "old_line_content": "        if (j != argc-1) join = sdscatlen(join,sep,seplen);",
          "new_line_content": "        join = sdscatsds(join, argv[j]);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "s_realloc",
          "new_api": "s_malloc",
          "old_text": "s_realloc(ptr,size)",
          "new_text": "s_malloc(size)",
          "old_line_content": "void *sds_realloc(void *ptr, size_t size) { return s_realloc(ptr,size); }",
          "new_line_content": "void *sds_malloc(size_t size) { return s_malloc(size); }",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "s_free",
          "new_api": "s_realloc",
          "old_text": "s_free(ptr)",
          "new_text": "s_realloc(ptr,size)",
          "old_line_content": "void sds_free(void *ptr) { s_free(ptr); }",
          "new_line_content": "void *sds_realloc(void *ptr, size_t size) { return s_realloc(ptr,size); }",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "cb_func",
          "new_api": "sdsnewlen",
          "old_text": "cb_func(varname, cb_arg)",
          "new_text": "sdsnewlen(sv, ev - sv)",
          "old_line_content": "        sds value = cb_func(varname, cb_arg);",
          "new_line_content": "        sds varname = sdsnewlen(sv, ev - sv);",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "sdsfree",
          "new_api": "cb_func",
          "old_text": "sdsfree(varname)",
          "new_text": "cb_func(varname, cb_arg)",
          "old_line_content": "        sdsfree(varname);",
          "new_line_content": "        sds value = cb_func(varname, cb_arg);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "sdsfree",
          "new_api": "sdscat",
          "old_text": "sdsfree(value)",
          "new_text": "sdscat(res, value)",
          "old_line_content": "        sdsfree(value);",
          "new_line_content": "        res = sdscat(res, value);",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"foo\\0\",4)",
          "new_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0);",
          "new_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "sdsnewlen",
          "new_api": "sdsfree",
          "old_text": "sdsnewlen(\"foo\",2)",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnewlen(\"foo\",2);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "test_cond",
          "new_api": "sdsnewlen",
          "old_text": "test_cond(\"Create a string with specified length\",\n            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_text": "sdsnewlen(\"foo\",2)",
          "old_line_content": "        test_cond(\"Create a string with specified length\",",
          "new_line_content": "        x = sdsnewlen(\"foo\",2);",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"fo\\0\",3)",
          "new_text": "test_cond(\"Create a string with specified length\",\n            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "old_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0);",
          "new_line_content": "        test_cond(\"Create a string with specified length\",",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": "test_cond",
          "new_api": "sdscat",
          "old_text": "test_cond(\"Strings concatenation\",\n            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0)",
          "new_text": "sdscat(x,\"bar\")",
          "old_line_content": "        test_cond(\"Strings concatenation\",",
          "new_line_content": "        x = sdscat(x,\"bar\");",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"fobar\\0\",6)",
          "new_text": "test_cond(\"Strings concatenation\",\n            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0)",
          "old_line_content": "            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0);",
          "new_line_content": "        test_cond(\"Strings concatenation\",",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "test_cond",
          "new_api": "sdscpy",
          "old_text": "test_cond(\"sdscpy() against an originally longer string\",\n            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "new_text": "sdscpy(x,\"a\")",
          "old_line_content": "        test_cond(\"sdscpy() against an originally longer string\",",
          "new_line_content": "        x = sdscpy(x,\"a\");",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"a\\0\",2)",
          "new_text": "test_cond(\"sdscpy() against an originally longer string\",\n            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "old_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0);",
          "new_line_content": "        test_cond(\"sdscpy() against an originally longer string\",",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "test_cond",
          "new_api": "sdscpy",
          "old_text": "test_cond(\"sdscpy() against an originally shorter string\",\n            sdslen(x) == 33 &&\n            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "new_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "old_line_content": "        test_cond(\"sdscpy() against an originally shorter string\",",
          "new_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdscpy() against an originally shorter string\",\n            sdslen(x) == 33 &&\n            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "old_line_content": "            sdslen(x) == 33 &&",
          "new_line_content": "        test_cond(\"sdscpy() against an originally shorter string\",",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "memcmp",
          "new_api": "sdslen",
          "old_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "new_text": "sdslen(x)",
          "old_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0);",
          "new_line_content": "            sdslen(x) == 33 &&",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "sdsempty",
          "new_api": "sdsfree",
          "old_text": "sdsempty()",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "test_cond",
          "new_api": "sdsempty",
          "old_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "new_text": "sdsempty()",
          "old_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "new_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"123\\0\",4)",
          "new_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0);",
          "new_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "sdsempty",
          "new_api": "sdsfree",
          "old_text": "sdsempty()",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdscatprintf(sdsempty(),\"a%cb\",0);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "test_cond",
          "new_api": "sdsempty",
          "old_text": "test_cond(\"sdscatprintf() seems working with \\\\0 inside of result\",\n            sdslen(x) == 3 && memcmp(x,\"a\\0\"\"b\\0\",4) == 0)",
          "new_text": "sdsempty()",
          "old_line_content": "        test_cond(\"sdscatprintf() seems working with \\\\0 inside of result\",",
          "new_line_content": "        x = sdscatprintf(sdsempty(),\"a%cb\",0);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"a\\0\"\"b\\0\",4)",
          "new_text": "test_cond(\"sdscatprintf() seems working with \\\\0 inside of result\",\n            sdslen(x) == 3 && memcmp(x,\"a\\0\"\"b\\0\",4) == 0)",
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"a\\0\"\"b\\0\",4) == 0);",
          "new_line_content": "        test_cond(\"sdscatprintf() seems working with \\\\0 inside of result\",",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "test_cond",
          "new_api": "sdsempty",
          "old_text": "test_cond(\"sdscatprintf() can print 1MB\",\n                sdslen(x) == sizeof(etalon) && memcmp(x,etalon,sizeof(etalon)) == 0)",
          "new_text": "sdsempty()",
          "old_line_content": "            test_cond(\"sdscatprintf() can print 1MB\",",
          "new_line_content": "            x = sdscatprintf(sdsempty(),\"%0*d\",(int)sizeof(etalon),0);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,etalon,sizeof(etalon))",
          "new_text": "test_cond(\"sdscatprintf() can print 1MB\",\n                sdslen(x) == sizeof(etalon) && memcmp(x,etalon,sizeof(etalon)) == 0)",
          "old_line_content": "                sdslen(x) == sizeof(etalon) && memcmp(x,etalon,sizeof(etalon)) == 0);",
          "new_line_content": "            test_cond(\"sdscatprintf() can print 1MB\",",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"--\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"--\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "sdscatfmt",
          "new_api": "sdsnew",
          "old_text": "sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX)",
          "new_text": "sdsnew(\"--\")",
          "old_line_content": "        x = sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX);",
          "new_line_content": "        x = sdsnew(\"--\");",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "test_cond",
          "new_api": "sdscatfmt",
          "old_text": "test_cond(\"sdscatfmt() seems working in the base case\",\n            sdslen(x) == 60 &&\n            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60) == 0)",
          "new_text": "sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX)",
          "old_line_content": "        test_cond(\"sdscatfmt() seems working in the base case\",",
          "new_line_content": "        x = sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX);",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdscatfmt() seems working in the base case\",\n            sdslen(x) == 60 &&\n            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60) == 0)",
          "old_line_content": "            sdslen(x) == 60 &&",
          "new_line_content": "        test_cond(\"sdscatfmt() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "memcmp",
          "new_api": "sdslen",
          "old_text": "memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60)",
          "new_text": "sdslen(x)",
          "old_line_content": "            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"",
          "new_line_content": "            sdslen(x) == 60 &&",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"--\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"--\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "sdscatfmt",
          "new_api": "sdsnew",
          "old_text": "sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX)",
          "new_text": "sdsnew(\"--\")",
          "old_line_content": "        x = sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX);",
          "new_line_content": "        x = sdsnew(\"--\");",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "test_cond",
          "new_api": "sdscatfmt",
          "old_text": "test_cond(\"sdscatfmt() seems working with unsigned numbers\",\n            sdslen(x) == 35 &&\n            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "new_text": "sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX)",
          "old_line_content": "        test_cond(\"sdscatfmt() seems working with unsigned numbers\",",
          "new_line_content": "        x = sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX);",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdscatfmt() seems working with unsigned numbers\",\n            sdslen(x) == 35 &&\n            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "old_line_content": "            sdslen(x) == 35 &&",
          "new_line_content": "        test_cond(\"sdscatfmt() seems working with unsigned numbers\",",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "memcmp",
          "new_api": "sdslen",
          "old_text": "memcmp(x,\"--4294967295,18446744073709551615--\",35)",
          "new_text": "sdslen(x)",
          "old_line_content": "            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0);",
          "new_line_content": "            sdslen(x) == 35 &&",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\" x \")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\" x \");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "sdstrim",
          "new_api": "sdsnew",
          "old_text": "sdstrim(x,\" x\")",
          "new_text": "sdsnew(\" x \")",
          "old_line_content": "        sdstrim(x,\" x\");",
          "new_line_content": "        x = sdsnew(\" x \");",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "test_cond",
          "new_api": "sdstrim",
          "old_text": "test_cond(\"sdstrim() works when all chars match\",\n            sdslen(x) == 0)",
          "new_text": "sdstrim(x,\" x\")",
          "old_line_content": "        test_cond(\"sdstrim() works when all chars match\",",
          "new_line_content": "        sdstrim(x,\" x\");",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdstrim() works when all chars match\",\n            sdslen(x) == 0)",
          "old_line_content": "            sdslen(x) == 0);",
          "new_line_content": "        test_cond(\"sdstrim() works when all chars match\",",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\" x \")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\" x \");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "sdstrim",
          "new_api": "sdsnew",
          "old_text": "sdstrim(x,\" \")",
          "new_text": "sdsnew(\" x \")",
          "old_line_content": "        sdstrim(x,\" \");",
          "new_line_content": "        x = sdsnew(\" x \");",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "test_cond",
          "new_api": "sdstrim",
          "old_text": "test_cond(\"sdstrim() works when a single char remains\",\n            sdslen(x) == 1 && x[0] == 'x')",
          "new_text": "sdstrim(x,\" \")",
          "old_line_content": "        test_cond(\"sdstrim() works when a single char remains\",",
          "new_line_content": "        sdstrim(x,\" \");",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdstrim() works when a single char remains\",\n            sdslen(x) == 1 && x[0] == 'x')",
          "old_line_content": "            sdslen(x) == 1 && x[0] == 'x');",
          "new_line_content": "        test_cond(\"sdstrim() works when a single char remains\",",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"xxciaoyyy\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"xxciaoyyy\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "sdstrim",
          "new_api": "sdsnew",
          "old_text": "sdstrim(x,\"xy\")",
          "new_text": "sdsnew(\"xxciaoyyy\")",
          "old_line_content": "        sdstrim(x,\"xy\");",
          "new_line_content": "        x = sdsnew(\"xxciaoyyy\");",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "test_cond",
          "new_api": "sdstrim",
          "old_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_text": "sdstrim(x,\"xy\")",
          "old_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "new_line_content": "        sdstrim(x,\"xy\");",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"ciao\\0\",5)",
          "new_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "old_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0);",
          "new_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,1,1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,1,1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_text": "sdsrange(y,1,1)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "new_line_content": "        sdsrange(y,1,1);",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"i\\0\",2)",
          "new_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "old_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,1,-1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,1,-1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": "sdsrange(y,1,-1)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "new_line_content": "        sdsrange(y,1,-1);",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,-2,-1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,-2,-1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_text": "sdsrange(y,-2,-1)",
          "old_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "new_line_content": "        sdsrange(y,-2,-1);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"ao\\0\",3)",
          "new_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "old_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,2,1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,2,1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsrange(y,2,1)",
          "old_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "new_line_content": "        sdsrange(y,2,1);",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,1,100)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,1,100);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": "sdsrange(y,1,100)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "new_line_content": "        sdsrange(y,1,100);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,100,100)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,100,100);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsrange(y,100,100)",
          "old_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "new_line_content": "        sdsrange(y,100,100);",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,4,6)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,4,6);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,4,6)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsrange(y,4,6)",
          "old_line_content": "        test_cond(\"sdsrange(...,4,6)\",",
          "new_line_content": "        sdsrange(y,4,6);",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "test_cond(\"sdsrange(...,4,6)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,4,6)\",",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,3,6)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,3,6);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,3,6)\",\n            sdslen(y) == 1 && memcmp(y,\"o\\0\",2) == 0)",
          "new_text": "sdsrange(y,3,6)",
          "old_line_content": "        test_cond(\"sdsrange(...,3,6)\",",
          "new_line_content": "        sdsrange(y,3,6);",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"o\\0\",2)",
          "new_text": "test_cond(\"sdsrange(...,3,6)\",\n            sdslen(y) == 1 && memcmp(y,\"o\\0\",2) == 0)",
          "old_line_content": "            sdslen(y) == 1 && memcmp(y,\"o\\0\",2) == 0);",
          "new_line_content": "        test_cond(\"sdsrange(...,3,6)\",",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"foo\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"foo\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "sdscmp",
          "new_api": "sdsnew",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsnew(\"foa\")",
          "old_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0);",
          "new_line_content": "        y = sdsnew(\"foa\");",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"bar\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"bar\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "sdscmp",
          "new_api": "sdsnew",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0);",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"aar\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"aar\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "sdscmp",
          "new_api": "sdsnew",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0);",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "sdsnewlen",
          "new_api": "sdsfree",
          "old_text": "sdsnewlen(\"\\a\\n\\0foo\\r\",7)",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnewlen(\"\\a\\n\\0foo\\r\",7);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "sdslen",
          "new_api": "sdsnewlen",
          "old_text": "sdslen(x)",
          "new_text": "sdsnewlen(\"\\a\\n\\0foo\\r\",7)",
          "old_line_content": "        y = sdscatrepr(sdsempty(),x,sdslen(x));",
          "new_line_content": "        x = sdsnewlen(\"\\a\\n\\0foo\\r\",7);",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "test_cond",
          "new_api": "sdslen",
          "old_text": "test_cond(\"sdscatrepr(...data...)\",\n            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "new_text": "sdslen(x)",
          "old_line_content": "        test_cond(\"sdscatrepr(...data...)\",",
          "new_line_content": "        y = sdscatrepr(sdsempty(),x,sdslen(x));",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15)",
          "new_text": "test_cond(\"sdscatrepr(...data...)\",\n            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "old_line_content": "            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0);",
          "new_line_content": "        test_cond(\"sdscatrepr(...data...)\",",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"0\")",
          "new_text": "sdsfree(y)",
          "old_line_content": "            x = sdsnew(\"0\");",
          "new_line_content": "            sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "sdsavail",
          "new_api": "sdsnew",
          "old_text": "sdsavail(x)",
          "new_text": "sdsnew(\"0\")",
          "old_line_content": "            test_cond(\"sdsnew() free/len buffers\", sdslen(x) == 1 && sdsavail(x) == 0);",
          "new_line_content": "            x = sdsnew(\"0\");",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "sdsMakeRoomFor",
          "new_api": "sdslen",
          "old_text": "sdsMakeRoomFor(x,step)",
          "new_text": "sdslen(x)",
          "old_line_content": "                x = sdsMakeRoomFor(x,step);",
          "new_line_content": "                size_t oldlen = sdslen(x);",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "UNUSED",
          "new_api": "sdsavail",
          "old_text": "UNUSED(oldfree)",
          "new_text": "sdsavail(x)",
          "old_line_content": "                    UNUSED(oldfree);",
          "new_line_content": "                    oldfree = sdsavail(x);",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101)",
          "new_text": "test_cond(\"sdsMakeRoomFor() content\",\n                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0)",
          "old_line_content": "                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0);",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor() content\",",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "sdslen",
          "new_api": "memcmp",
          "old_text": "sdslen(x)",
          "new_text": "memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101)",
          "old_line_content": "            test_cond(\"sdsMakeRoomFor() final length\",sdslen(x)==101);",
          "new_line_content": "                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "test_cond",
          "new_api": "sdstemplate",
          "old_text": "test_cond(\"sdstemplate() normal flow\",\n                  memcmp(x,\"v1=value1 v2=value2\",19) == 0)",
          "new_text": "sdstemplate(\"v1={variable1} v2={variable2}\", sdsTestTemplateCallback, NULL)",
          "old_line_content": "        test_cond(\"sdstemplate() normal flow\",",
          "new_line_content": "        x = sdstemplate(\"v1={variable1} v2={variable2}\", sdsTestTemplateCallback, NULL);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"v1=value1 v2=value2\",19)",
          "new_text": "test_cond(\"sdstemplate() normal flow\",\n                  memcmp(x,\"v1=value1 v2=value2\",19) == 0)",
          "old_line_content": "                  memcmp(x,\"v1=value1 v2=value2\",19) == 0);",
          "new_line_content": "        test_cond(\"sdstemplate() normal flow\",",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(x,\"v1=value1 v2=value2\",19)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "                  memcmp(x,\"v1=value1 v2=value2\",19) == 0);",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "test_cond",
          "new_api": "sdstemplate",
          "old_text": "test_cond(\"sdstemplate() with callback error\", x == NULL)",
          "new_text": "sdstemplate(\"v1={variable1} v3={doesnotexist}\", sdsTestTemplateCallback, NULL)",
          "old_line_content": "        test_cond(\"sdstemplate() with callback error\", x == NULL);",
          "new_line_content": "        x = sdstemplate(\"v1={variable1} v3={doesnotexist}\", sdsTestTemplateCallback, NULL);",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "test_cond",
          "new_api": "sdstemplate",
          "old_text": "test_cond(\"sdstemplate() with empty var name\", x == NULL)",
          "new_text": "sdstemplate(\"v1={\", sdsTestTemplateCallback, NULL)",
          "old_line_content": "        test_cond(\"sdstemplate() with empty var name\", x == NULL);",
          "new_line_content": "        x = sdstemplate(\"v1={\", sdsTestTemplateCallback, NULL);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "test_cond",
          "new_api": "sdstemplate",
          "old_text": "test_cond(\"sdstemplate() with truncated var name\", x == NULL)",
          "new_text": "sdstemplate(\"v1={start\", sdsTestTemplateCallback, NULL)",
          "old_line_content": "        test_cond(\"sdstemplate() with truncated var name\", x == NULL);",
          "new_line_content": "        x = sdstemplate(\"v1={start\", sdsTestTemplateCallback, NULL);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "test_cond",
          "new_api": "sdstemplate",
          "old_text": "test_cond(\"sdstemplate() with quoting\",\n                  memcmp(x,\"v1={value1} {} v2=value2\",24) == 0)",
          "new_text": "sdstemplate(\"v1={{{variable1}} {{} v2={variable2}\", sdsTestTemplateCallback, NULL)",
          "old_line_content": "        test_cond(\"sdstemplate() with quoting\",",
          "new_line_content": "        x = sdstemplate(\"v1={{{variable1}} {{} v2={variable2}\", sdsTestTemplateCallback, NULL);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"v1={value1} {} v2=value2\",24)",
          "new_text": "test_cond(\"sdstemplate() with quoting\",\n                  memcmp(x,\"v1={value1} {} v2=value2\",24) == 0)",
          "old_line_content": "                  memcmp(x,\"v1={value1} {} v2=value2\",24) == 0);",
          "new_line_content": "        test_cond(\"sdstemplate() with quoting\",",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(x,\"v1={value1} {} v2=value2\",24)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "                  memcmp(x,\"v1={value1} {} v2=value2\",24) == 0);",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "sdsResize",
          "new_api": "sdsnew",
          "old_text": "sdsResize(x, 200)",
          "new_text": "sdsnew(\"1234567890123456789012345678901234567890\")",
          "old_line_content": "        x = sdsResize(x, 200);",
          "new_line_content": "        x = sdsnew(\"1234567890123456789012345678901234567890\");",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "sdslen",
          "new_api": "sdsResize",
          "old_text": "sdslen(x)",
          "new_text": "sdsResize(x, 200)",
          "old_line_content": "        test_cond(\"sdsrezie() expand len\", sdslen(x) == 40);",
          "new_line_content": "        x = sdsResize(x, 200);",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "strlen",
          "new_api": "sdslen",
          "old_text": "strlen(x)",
          "new_text": "sdslen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() expand strlen\", strlen(x) == 40);",
          "new_line_content": "        test_cond(\"sdsrezie() expand len\", sdslen(x) == 40);",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "sdsalloc",
          "new_api": "strlen",
          "old_text": "sdsalloc(x)",
          "new_text": "strlen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() expand alloc\", sdsalloc(x) == 200);",
          "new_line_content": "        test_cond(\"sdsrezie() expand strlen\", strlen(x) == 40);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "sdslen",
          "new_api": "sdsResize",
          "old_text": "sdslen(x)",
          "new_text": "sdsResize(x, 80)",
          "old_line_content": "        test_cond(\"sdsrezie() shrink len\", sdslen(x) == 40);",
          "new_line_content": "        x = sdsResize(x, 80);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "strlen",
          "new_api": "sdslen",
          "old_text": "strlen(x)",
          "new_text": "sdslen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() shrink strlen\", strlen(x) == 40);",
          "new_line_content": "        test_cond(\"sdsrezie() shrink len\", sdslen(x) == 40);",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "sdsalloc",
          "new_api": "strlen",
          "old_text": "sdsalloc(x)",
          "new_text": "strlen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() shrink alloc\", sdsalloc(x) == 80);",
          "new_line_content": "        test_cond(\"sdsrezie() shrink strlen\", strlen(x) == 40);",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "sdslen",
          "new_api": "sdsResize",
          "old_text": "sdslen(x)",
          "new_text": "sdsResize(x, 30)",
          "old_line_content": "        test_cond(\"sdsrezie() crop len\", sdslen(x) == 30);",
          "new_line_content": "        x = sdsResize(x, 30);",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "strlen",
          "new_api": "sdslen",
          "old_text": "strlen(x)",
          "new_text": "sdslen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() crop strlen\", strlen(x) == 30);",
          "new_line_content": "        test_cond(\"sdsrezie() crop len\", sdslen(x) == 30);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "sdsalloc",
          "new_api": "strlen",
          "old_text": "sdsalloc(x)",
          "new_text": "strlen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() crop alloc\", sdsalloc(x) == 30);",
          "new_line_content": "        test_cond(\"sdsrezie() crop strlen\", strlen(x) == 30);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": "sdslen",
          "new_api": "sdsResize",
          "old_text": "sdslen(x)",
          "new_text": "sdsResize(x, 400)",
          "old_line_content": "        test_cond(\"sdsrezie() expand len\", sdslen(x) == 30);",
          "new_line_content": "        x = sdsResize(x, 400);",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "strlen",
          "new_api": "sdslen",
          "old_text": "strlen(x)",
          "new_text": "sdslen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() expand strlen\", strlen(x) == 30);",
          "new_line_content": "        test_cond(\"sdsrezie() expand len\", sdslen(x) == 30);",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "sdsalloc",
          "new_api": "strlen",
          "old_text": "sdsalloc(x)",
          "new_text": "strlen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() expand alloc\", sdsalloc(x) == 400);",
          "new_line_content": "        test_cond(\"sdsrezie() expand strlen\", strlen(x) == 30);",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "sdslen",
          "new_api": "sdsResize",
          "old_text": "sdslen(x)",
          "new_text": "sdsResize(x, 4)",
          "old_line_content": "        test_cond(\"sdsrezie() crop len\", sdslen(x) == 4);",
          "new_line_content": "        x = sdsResize(x, 4);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "strlen",
          "new_api": "sdslen",
          "old_text": "strlen(x)",
          "new_text": "sdslen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() crop strlen\", strlen(x) == 4);",
          "new_line_content": "        test_cond(\"sdsrezie() crop len\", sdslen(x) == 4);",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "sdsalloc",
          "new_api": "strlen",
          "old_text": "sdsalloc(x)",
          "new_text": "strlen(x)",
          "old_line_content": "        test_cond(\"sdsrezie() crop alloc\", sdsalloc(x) == 4);",
          "new_line_content": "        test_cond(\"sdsrezie() crop strlen\", strlen(x) == 4);",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "sdsfree",
          "new_api": "sdsalloc",
          "old_text": "sdsfree(x)",
          "new_text": "sdsalloc(x)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        test_cond(\"sdsrezie() crop alloc\", sdsalloc(x) == 4);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1537,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdstemplate() with callback error\", x == NULL)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdstemplate() with callback error\", x == NULL);",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdstemplate() with empty var name\", x == NULL)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdstemplate() with empty var name\", x == NULL);",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    const char *p = s;",
          "new_line_content": "    size_t len = sdslen(s);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdstemplate() with truncated var name\", x == NULL)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdstemplate() with truncated var name\", x == NULL);",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "        p++;",
          "new_line_content": "            *p == '\\t' || *p == '\\a' || *p == '\\b' || !isprint(*p) || isspace(*p)) return 1;",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": null,
          "new_api": "sdsalloc",
          "old_text": null,
          "new_text": "sdsalloc(x)",
          "old_line_content": "        /* Test sdsresize - trim free space */",
          "new_line_content": "        test_cond(\"sdsrezie() expand alloc\", sdsalloc(x) == 200);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "sdsalloc",
          "old_text": null,
          "new_text": "sdsalloc(x)",
          "old_line_content": "        /* Test sdsresize - crop used space */",
          "new_line_content": "        test_cond(\"sdsrezie() shrink alloc\", sdsalloc(x) == 80);",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "sdsalloc",
          "old_text": null,
          "new_text": "sdsalloc(x)",
          "old_line_content": "        /* Test sdsresize - extend to different class */",
          "new_line_content": "        test_cond(\"sdsrezie() crop alloc\", sdsalloc(x) == 30);",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "sdsalloc",
          "old_text": null,
          "new_text": "sdsalloc(x)",
          "old_line_content": "        /* Test sdsresize - shrink to different class */",
          "new_line_content": "        test_cond(\"sdsrezie() expand alloc\", sdsalloc(x) == 400);",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "    }",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "        if (*p) {",
          "new_line_content": "        while(*p && isspace(*p)) p++;",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "            while(!done) {",
          "new_line_content": "            if (current == NULL) current = sdsempty();",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": null,
          "new_api": "is_hex_digit",
          "old_text": null,
          "new_text": "is_hex_digit(*(p+3))",
          "old_line_content": "                    {",
          "new_line_content": "                                             is_hex_digit(*(p+3)))",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,(char*)&byte,1)",
          "old_line_content": "                        p += 3;",
          "new_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,&c,1)",
          "old_line_content": "                    } else if (*p == '\"') {",
          "new_line_content": "                        current = sdscatlen(current,&c,1);",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                        done=1;",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                    }",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,\"'\",1)",
          "old_line_content": "                    } else if (*p == '\\'') {",
          "new_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                        done=1;",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                    }",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                        break;",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(vector,((*argc)+1)*sizeof(char*))",
          "old_line_content": "            vector[*argc] = current;",
          "new_line_content": "            vector = s_realloc(vector,((*argc)+1)*sizeof(char*));",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(sizeof(void*))",
          "old_line_content": "            return vector;",
          "new_line_content": "            if (vector == NULL) vector = s_malloc(sizeof(void*));",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(current)",
          "old_line_content": "    *argc = 0;",
          "new_line_content": "    if (current) sdsfree(current);",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "",
          "new_line_content": "    size_t j, i, l = sdslen(s);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "    int j;",
          "new_line_content": "    sds join = sdsempty();",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(join,sep)",
          "old_line_content": "    }",
          "new_line_content": "        if (j != argc-1) join = sdscat(join,sep);",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "    int j;",
          "new_line_content": "    sds join = sdsempty();",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(join,sep,seplen)",
          "old_line_content": "    }",
          "new_line_content": "        if (j != argc-1) join = sdscatlen(join,sep,seplen);",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(ptr)",
          "old_line_content": "",
          "new_line_content": "void sds_free(void *ptr) { s_free(ptr); }",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "    const char *p = template;",
          "new_line_content": "    sds res = sdsempty();",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '{')",
          "old_line_content": "        if (!sv) {",
          "new_line_content": "        const char *sv = strchr(p, '{');",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(res, p)",
          "old_line_content": "            break;",
          "new_line_content": "            res = sdscat(res, p);",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(res, p, sv - p)",
          "old_line_content": "        }",
          "new_line_content": "            res = sdscatlen(res, p, sv - p);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(res, \"{\")",
          "old_line_content": "            continue;",
          "new_line_content": "            res = sdscat(res, \"{\");",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(sv, '}')",
          "old_line_content": "        if (!ev) goto error;",
          "new_line_content": "        const char *ev = strchr(sv, '}');",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(varname)",
          "old_line_content": "        if (!value) goto error;",
          "new_line_content": "        sdsfree(varname);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(value)",
          "old_line_content": "        p = ev + 1;",
          "new_line_content": "        sdsfree(value);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(res)",
          "old_line_content": "    return NULL;",
          "new_line_content": "    sdsfree(res);",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(arg)",
          "old_line_content": "    static const char *_var1 = \"variable1\";",
          "new_line_content": "    UNUSED(arg);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"value2\")",
          "old_line_content": "    else return NULL;",
          "new_line_content": "    else if (!strcmp(varname, _var2)) return sdsnew(\"value2\");",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(flags)",
          "old_line_content": "",
          "new_line_content": "    UNUSED(flags);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"foo\")",
          "old_line_content": "",
          "new_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"foo\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"fo\\0\",3)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0);",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"fobar\\0\",6)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"a\\0\",2)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0);",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "old_line_content": "",
          "new_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"123\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"a\\0\"\"b\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"a\\0\"\"b\\0\",4) == 0);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "            char etalon[1024*1024];",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,etalon,sizeof(etalon))",
          "old_line_content": "        }",
          "new_line_content": "                sdslen(x) == sizeof(etalon) && memcmp(x,etalon,sizeof(etalon)) == 0);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60)",
          "old_line_content": "                     \"9223372036854775807--\",60) == 0);",
          "new_line_content": "            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"[%s]\\n\",x)",
          "old_line_content": "",
          "new_line_content": "        printf(\"[%s]\\n\",x);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"--4294967295,18446744073709551615--\",35)",
          "old_line_content": "",
          "new_line_content": "            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0);",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 0);",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 1 && x[0] == 'x');",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"ciao\\0\",5)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0);",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"i\\0\",2)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0);",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"ao\\0\",3)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0);",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0);",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"o\\0\",2)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 1 && memcmp(y,\"o\\0\",2) == 0);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(x,y)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(x,y)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(x,y)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15)",
          "old_line_content": "",
          "new_line_content": "            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0);",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(x)",
          "old_line_content": "",
          "new_line_content": "            test_cond(\"sdsnew() free/len buffers\", sdslen(x) == 1 && sdsavail(x) == 0);",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(x,step)",
          "old_line_content": "                int type = x[-1]&SDS_TYPE_MASK;",
          "new_line_content": "                x = sdsMakeRoomFor(x,step);",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "                if (type != SDS_TYPE_5) {",
          "new_line_content": "                test_cond(\"sdsMakeRoomFor() len\", sdslen(x) == oldlen);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": "    while(len--) {",
          "new_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(oldfree)",
          "old_line_content": "                }",
          "new_line_content": "                    UNUSED(oldfree);",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "old_line_content": "            break;",
          "new_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "sdsIncrLen",
          "old_text": null,
          "new_text": "sdsIncrLen(x,step)",
          "old_line_content": "            }",
          "new_line_content": "                sdsIncrLen(x,step);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\b\",2)",
          "old_line_content": "        default:",
          "new_line_content": "        case '\\b': s = sdscatlen(s,\"\\\\b\",2); break;",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor() final length\",sdslen(x)==101);",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "        }",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s, p, 1)",
          "old_line_content": "            else",
          "new_line_content": "                s = sdscatlen(s, p, 1);",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "old_line_content": "            break;",
          "new_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": "}",
          "new_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1539,
          "old_api": "sdstemplate",
          "new_api": null,
          "old_text": "sdstemplate(\"v1={\", sdsTestTemplateCallback, NULL)",
          "new_text": null,
          "old_line_content": "        x = sdstemplate(\"v1={\", sdsTestTemplateCallback, NULL);",
          "new_line_content": "        /* Template with empty var name */",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "sdstemplate",
          "new_api": null,
          "old_text": "sdstemplate(\"v1={start\", sdsTestTemplateCallback, NULL)",
          "new_text": null,
          "old_line_content": "        x = sdstemplate(\"v1={start\", sdsTestTemplateCallback, NULL);",
          "new_line_content": "        /* Template with truncated var name */",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t len = sdslen(s);",
          "new_line_content": "int sdsneedsrepr(const sds s) {",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "sdstemplate",
          "new_api": null,
          "old_text": "sdstemplate(\"v1={{{variable1}} {{} v2={variable2}\", sdsTestTemplateCallback, NULL)",
          "new_text": null,
          "old_line_content": "        x = sdstemplate(\"v1={{{variable1}} {{} v2={variable2}\", sdsTestTemplateCallback, NULL);",
          "new_line_content": "        /* Template with quoting */",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "            *p == '\\t' || *p == '\\a' || *p == '\\b' || !isprint(*p) || isspace(*p)) return 1;",
          "new_line_content": "        if (*p == '\\\\' || *p == '\"' || *p == '\\n' || *p == '\\r' ||",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"1234567890123456789012345678901234567890\")",
          "new_text": null,
          "old_line_content": "        x = sdsnew(\"1234567890123456789012345678901234567890\");",
          "new_line_content": "        /* Test sdsresize - extend */",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "sdsResize",
          "new_api": null,
          "old_text": "sdsResize(x, 80)",
          "new_text": null,
          "old_line_content": "        x = sdsResize(x, 80);",
          "new_line_content": "        /* Test sdsresize - trim free space */",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "sdsResize",
          "new_api": null,
          "old_text": "sdsResize(x, 30)",
          "new_text": null,
          "old_line_content": "        x = sdsResize(x, 30);",
          "new_line_content": "        /* Test sdsresize - crop used space */",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": "sdsResize",
          "new_api": null,
          "old_text": "sdsResize(x, 400)",
          "new_text": null,
          "old_line_content": "        x = sdsResize(x, 400);",
          "new_line_content": "        /* Test sdsresize - extend to different class */",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "sdsResize",
          "new_api": null,
          "old_text": "sdsResize(x, 4)",
          "new_text": null,
          "old_line_content": "        x = sdsResize(x, 4);",
          "new_line_content": "        /* Test sdsresize - shrink to different class */",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        while(*p && isspace(*p)) p++;",
          "new_line_content": "        /* skip blanks */",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "            if (current == NULL) current = sdsempty();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "is_hex_digit",
          "new_api": null,
          "old_text": "is_hex_digit(*(p+2))",
          "new_text": null,
          "old_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "new_line_content": "                    if (*p == '\\\\' && *(p+1) == 'x' &&",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "hex_digit_to_int",
          "new_api": null,
          "old_text": "hex_digit_to_int(*(p+2))",
          "new_text": null,
          "old_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,&c,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,&c,1);",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*(p+1))",
          "new_text": null,
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                         * nothing at all. */",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,\"'\",1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "new_line_content": "                        p++;",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*(p+1))",
          "new_text": null,
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                         * nothing at all. */",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    default:",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "s_realloc",
          "new_api": null,
          "old_text": "s_realloc(vector,((*argc)+1)*sizeof(char*))",
          "new_text": null,
          "old_line_content": "            vector = s_realloc(vector,((*argc)+1)*sizeof(char*));",
          "new_line_content": "            /* add the token to the vector */",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(sizeof(void*))",
          "new_text": null,
          "old_line_content": "            if (vector == NULL) vector = s_malloc(sizeof(void*));",
          "new_line_content": "            /* Even on empty input string return something not NULL. */",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(vector[*argc])",
          "new_text": null,
          "old_line_content": "        sdsfree(vector[*argc]);",
          "new_line_content": "    while((*argc)--)",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t j, i, l = sdslen(s);",
          "new_line_content": "sds sdsmapchars(sds s, const char *from, const char *to, size_t setlen) {",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    sds join = sdsempty();",
          "new_line_content": "sds sdsjoin(char **argv, int argc, char *sep) {",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(join, argv[j])",
          "new_text": null,
          "old_line_content": "        join = sdscat(join, argv[j]);",
          "new_line_content": "    for (j = 0; j < argc; j++) {",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    sds join = sdsempty();",
          "new_line_content": "sds sdsjoinsds(sds *argv, int argc, const char *sep, size_t seplen) {",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "sdscatsds",
          "new_api": null,
          "old_text": "sdscatsds(join, argv[j])",
          "new_text": null,
          "old_line_content": "        join = sdscatsds(join, argv[j]);",
          "new_line_content": "    for (j = 0; j < argc; j++) {",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(size)",
          "new_text": null,
          "old_line_content": "void *sds_malloc(size_t size) { return s_malloc(size); }",
          "new_line_content": " * even if they use a different allocator. */",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    sds res = sdsempty();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, '{')",
          "new_text": null,
          "old_line_content": "        const char *sv = strchr(p, '{');",
          "new_line_content": "        /* Find next variable, copy everything until there */",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(res, p)",
          "new_text": null,
          "old_line_content": "            res = sdscat(res, p);",
          "new_line_content": "            /* Not found: copy till rest of template and stop */",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(res, p, sv - p)",
          "new_text": null,
          "old_line_content": "            res = sdscatlen(res, p, sv - p);",
          "new_line_content": "            /* Found: copy anything up to the beginning of the variable */",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(res, \"{\")",
          "new_text": null,
          "old_line_content": "            res = sdscat(res, \"{\");",
          "new_line_content": "            p = sv + 1;",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(sv, '}')",
          "new_text": null,
          "old_line_content": "        const char *ev = strchr(sv, '}');",
          "new_line_content": "        /* Find end of variable name, handle premature end of template */",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(sv, ev - sv)",
          "new_text": null,
          "old_line_content": "        sds varname = sdsnewlen(sv, ev - sv);",
          "new_line_content": "         * abort. */",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(res, value)",
          "new_text": null,
          "old_line_content": "        res = sdscat(res, value);",
          "new_line_content": "        /* Append value to result and continue */",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(res)",
          "new_text": null,
          "old_line_content": "    sdsfree(res);",
          "new_line_content": "error:",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(arg)",
          "new_text": null,
          "old_line_content": "    UNUSED(arg);",
          "new_line_content": "static sds sdsTestTemplateCallback(sds varname, void *arg) {",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"value1\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(varname, _var1)) return sdsnew(\"value1\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(argc)",
          "new_text": null,
          "old_line_content": "    UNUSED(argc);",
          "new_line_content": "int sdsTest(int argc, char **argv, int flags) {",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"foo\")",
          "new_text": null,
          "old_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(x,\"bar\")",
          "new_text": null,
          "old_line_content": "        x = sdscat(x,\"bar\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "sdscpy",
          "new_api": null,
          "old_text": "sdscpy(x,\"a\")",
          "new_text": null,
          "old_line_content": "        x = sdscpy(x,\"a\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "sdscpy",
          "new_api": null,
          "old_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "new_text": null,
          "old_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "            x = sdscatprintf(sdsempty(),\"%0*d\",(int)sizeof(etalon),0);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"[%s]\\n\",x)",
          "new_text": null,
          "old_line_content": "        printf(\"[%s]\\n\",x);",
          "new_line_content": "                     \"9223372036854775807--\",60) == 0);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "sdsdup",
          "new_api": null,
          "old_text": "sdsdup(x)",
          "new_text": null,
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "                size_t oldlen = sdslen(x);",
          "new_line_content": "            for (i = 0; i < 10; i++) {",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "                test_cond(\"sdsMakeRoomFor() len\", sdslen(x) == oldlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(x)",
          "new_text": null,
          "old_line_content": "                    test_cond(\"sdsMakeRoomFor() free\", sdsavail(x) >= step);",
          "new_line_content": "                if (type != SDS_TYPE_5) {",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "new_text": null,
          "old_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "new_line_content": "        case '\"':",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\n\",2)",
          "new_text": null,
          "old_line_content": "        case '\\n': s = sdscatlen(s,\"\\\\n\",2); break;",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "sdsIncrLen",
          "new_api": null,
          "old_text": "sdsIncrLen(x,step)",
          "new_text": null,
          "old_line_content": "                sdsIncrLen(x,step);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsMakeRoomFor() content\",\n                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsMakeRoomFor() content\",",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "isprint",
          "new_api": null,
          "old_text": "isprint(*p)",
          "new_text": null,
          "old_line_content": "            if (isprint(*p))",
          "new_line_content": "        default:",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "new_text": null,
          "old_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "sdstemplate",
          "new_api": null,
          "old_text": "sdstemplate(\"v1={variable1} v2={variable2}\", sdsTestTemplateCallback, NULL)",
          "new_text": null,
          "old_line_content": "        x = sdstemplate(\"v1={variable1} v2={variable2}\", sdsTestTemplateCallback, NULL);",
          "new_line_content": "        /* Simple template */",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": null,
          "old_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "sdstemplate",
          "new_api": null,
          "old_text": "sdstemplate(\"v1={variable1} v3={doesnotexist}\", sdsTestTemplateCallback, NULL)",
          "new_text": null,
          "old_line_content": "        x = sdstemplate(\"v1={variable1} v3={doesnotexist}\", sdsTestTemplateCallback, NULL);",
          "new_line_content": "        /* Template with callback error */",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 125,
      "total_additions": 85,
      "total_deletions": 84,
      "total_api_changes": 294
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 294,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 442,
    "api_calls_after": 443,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 22
    }
  }
}