{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/9555f8f21b9f1780de307c19da268ef63f7c2ae9",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/9555f8f21b9f1780de307c19da268ef63f7c2ae9/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/9555f8f21b9f1780de307c19da268ef63f7c2ae9/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/9555f8f21b9f1780de307c19da268ef63f7c2ae9/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 183,
          "old_api": "sdslen",
          "new_api": "memcpy",
          "old_text": "sdslen(t)",
          "new_text": "memcpy(s+curlen, t, len)",
          "old_line_content": "    return sdscatlen(s, t, sdslen(t));",
          "new_line_content": "    memcpy(s+curlen, t, len);",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "sdsMakeRoomFor",
          "new_api": "strlen",
          "old_text": "sdsMakeRoomFor(s,len-sh->len)",
          "new_text": "strlen(t)",
          "old_line_content": "        s = sdsMakeRoomFor(s,len-sh->len);",
          "new_line_content": "    return sdscatlen(s, t, strlen(t));",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "va_copy",
          "new_api": "strlen",
          "old_text": "va_copy(cpy,ap)",
          "new_text": "strlen(t)",
          "old_line_content": "        va_copy(cpy,ap);",
          "new_line_content": "    return sdscpylen(s, t, strlen(t));",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "sdscat",
          "new_api": "zmalloc",
          "old_text": "sdscat(s, buf)",
          "new_text": "zmalloc(buflen)",
          "old_line_content": "    t = sdscat(s, buf);",
          "new_line_content": "        buf = zmalloc(buflen);",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "sdslen",
          "new_api": "va_start",
          "old_text": "sdslen(s)",
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "    ep = end = s+sdslen(s)-1;",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "strchr",
          "new_api": "sdscatvprintf",
          "old_text": "strchr(cset, *sp)",
          "new_text": "sdscatvprintf(s,fmt,ap)",
          "old_line_content": "    while(sp <= end && strchr(cset, *sp)) sp++;",
          "new_line_content": "    t = sdscatvprintf(s,fmt,ap);",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "strchr",
          "new_api": "va_end",
          "old_text": "strchr(cset, *ep)",
          "new_text": "va_end(ap)",
          "old_line_content": "    while(ep > start && strchr(cset, *ep)) ep--;",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "sdslen",
          "new_api": "strchr",
          "old_text": "sdslen(s)",
          "new_text": "strchr(cset, *sp)",
          "old_line_content": "    size_t newlen, len = sdslen(s);",
          "new_line_content": "    while(sp <= end && strchr(cset, *sp)) sp++;",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "memcmp",
          "new_api": "sdslen",
          "old_text": "memcmp(s1,s2,minlen)",
          "new_text": "sdslen(s)",
          "old_line_content": "    cmp = memcmp(s1,s2,minlen);",
          "new_line_content": "    int len = sdslen(s), j;",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "sdscatlen",
          "new_api": "sdsnewlen",
          "old_text": "sdscatlen(s,\"\\\\r\",2)",
          "new_text": "sdsnewlen(p,32-(p-buf))",
          "old_line_content": "        case '\\r': s = sdscatlen(s,\"\\\\r\",2); break;",
          "new_line_content": "    return sdsnewlen(p,32-(p-buf));",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "is_hex_digit",
          "new_api": "isspace",
          "old_text": "is_hex_digit(*(p+3))",
          "new_text": "isspace(*p)",
          "old_line_content": "                                             is_hex_digit(*(p+3)))",
          "new_line_content": "        while(*p && isspace(*p)) p++;",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "zfree",
          "new_api": "zrealloc",
          "old_text": "zfree(vector)",
          "new_text": "zrealloc(vector,((*argc)+1)*sizeof(char*))",
          "old_line_content": "    zfree(vector);",
          "new_line_content": "            vector = zrealloc(vector,((*argc)+1)*sizeof(char*));",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "memcmp",
          "new_api": "sdsnew",
          "old_text": "memcmp(x,\"fobar\\0\",6)",
          "new_text": "sdsnew(\"foo\")",
          "old_line_content": "            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0);",
          "new_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": "sdscpy",
          "new_api": "test_cond",
          "old_text": "sdscpy(x,\"a\")",
          "new_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "old_line_content": "        x = sdscpy(x,\"a\");",
          "new_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"sdscpy() against an originally longer string\",\n            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "new_text": "memcmp(x,\"foo\\0\",4)",
          "old_line_content": "        test_cond(\"sdscpy() against an originally longer string\",",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "sdscpy",
          "new_api": "sdsnewlen",
          "old_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "new_text": "sdsnewlen(\"foo\",2)",
          "old_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "new_line_content": "        x = sdsnewlen(\"foo\",2);",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "sdslen",
          "new_api": "memcmp",
          "old_text": "sdslen(x)",
          "new_text": "memcmp(x,\"fo\\0\",3)",
          "old_line_content": "            sdslen(x) == 33 &&",
          "new_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(x)",
          "new_text": "test_cond(\"Strings concatenation\",\n            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        test_cond(\"Strings concatenation\",",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "sdsempty",
          "new_api": "memcmp",
          "old_text": "sdsempty()",
          "new_text": "memcmp(x,\"fobar\\0\",6)",
          "old_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "new_line_content": "            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "memcmp",
          "new_api": "sdscpy",
          "old_text": "memcmp(x,\"123\\0\",4)",
          "new_text": "sdscpy(x,\"a\")",
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) ==0)",
          "new_line_content": "        x = sdscpy(x,\"a\");",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(x,\"a\\0\",2)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "test_cond",
          "new_api": "sdscpy",
          "old_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "old_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "new_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"ciao\\0\",5)",
          "new_text": "test_cond(\"sdscpy() against an originally shorter string\",\n            sdslen(x) == 33 &&\n            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "old_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_line_content": "        test_cond(\"sdscpy() against an originally shorter string\",",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "sdsdup",
          "new_api": "memcmp",
          "old_text": "sdsdup(x)",
          "new_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "old_line_content": "        y = sdsrange(sdsdup(x),1,1);",
          "new_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"i\\0\",2)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(y)",
          "new_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) ==0)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "sdsdup",
          "new_api": "memcmp",
          "old_text": "sdsdup(x)",
          "new_text": "memcmp(x,\"123\\0\",4)",
          "old_line_content": "        y = sdsrange(sdsdup(x),1,-1);",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) ==0)",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(y)",
          "new_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "sdsdup",
          "new_api": "memcmp",
          "old_text": "sdsdup(x)",
          "new_text": "memcmp(x,\"ciao\\0\",5)",
          "old_line_content": "        y = sdsrange(sdsdup(x),-2,-1);",
          "new_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "memcmp",
          "new_api": "sdsdup",
          "old_text": "memcmp(y,\"ao\\0\",3)",
          "new_text": "sdsdup(x)",
          "old_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_line_content": "        y = sdsrange(sdsdup(x),1,1);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(y)",
          "new_text": "memcmp(y,\"i\\0\",2)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "test_cond",
          "new_api": "sdsfree",
          "old_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "memcmp",
          "new_api": "sdsdup",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_line_content": "        y = sdsrange(sdsdup(x),1,-1);",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(y)",
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "test_cond",
          "new_api": "sdsfree",
          "old_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "memcmp",
          "new_api": "sdsdup",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "sdsdup(x)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_line_content": "        y = sdsrange(sdsdup(x),-2,-1);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(y)",
          "new_text": "memcmp(y,\"ao\\0\",3)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "test_cond",
          "new_api": "sdsfree",
          "old_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "memcmp",
          "new_api": "sdsdup",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_line_content": "        y = sdsrange(sdsdup(x),2,1);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(y)",
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"foo\")",
          "new_text": "sdsfree(y)",
          "old_line_content": "        x = sdsnew(\"foo\");",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "sdsnew",
          "new_api": "sdsdup",
          "old_text": "sdsnew(\"foa\")",
          "new_text": "sdsdup(x)",
          "old_line_content": "        y = sdsnew(\"foa\");",
          "new_line_content": "        y = sdsrange(sdsdup(x),1,100);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "sdscmp",
          "new_api": "test_cond",
          "old_text": "sdscmp(x,y)",
          "new_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "sdsnew",
          "new_api": "sdsdup",
          "old_text": "sdsnew(\"bar\")",
          "new_text": "sdsdup(x)",
          "old_line_content": "        x = sdsnew(\"bar\");",
          "new_line_content": "        y = sdsrange(sdsdup(x),100,100);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "sdsnew",
          "new_api": "test_cond",
          "old_text": "sdsnew(\"bar\")",
          "new_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "        y = sdsnew(\"bar\");",
          "new_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "sdscmp",
          "new_api": "memcmp",
          "old_text": "sdscmp(x,y)",
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0)",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(x)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "sdsnew",
          "new_api": "sdscmp",
          "old_text": "sdsnew(\"0\")",
          "new_text": "sdscmp(x,y)",
          "old_line_content": "            x = sdsnew(\"0\");",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0)",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "test_cond",
          "new_api": "sdsfree",
          "old_text": "test_cond(\"sdsnew() free/len buffers\", sh->len == 1 && sh->free == 0)",
          "new_text": "sdsfree(y)",
          "old_line_content": "            test_cond(\"sdsnew() free/len buffers\", sh->len == 1 && sh->free == 0);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "sdsMakeRoomFor",
          "new_api": "sdsfree",
          "old_text": "sdsMakeRoomFor(x,1)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            x = sdsMakeRoomFor(x,1);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "test_cond",
          "new_api": "sdsnew",
          "old_text": "test_cond(\"sdsMakeRoomFor()\", sh->len == 1 && sh->free > 0)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "            test_cond(\"sdsMakeRoomFor()\", sh->len == 1 && sh->free > 0);",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "test_cond",
          "new_api": "sdsfree",
          "old_text": "test_cond(\"sdsIncrLen() -- free\", sh->free == oldfree-1)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            test_cond(\"sdsIncrLen() -- free\", sh->free == oldfree-1);",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "test_report",
          "new_api": "test_cond",
          "old_text": "test_report()",
          "new_text": "test_cond(\"sdsnew() free/len buffers\", sh->len == 1 && sh->free == 0)",
          "old_line_content": "    test_report()",
          "new_line_content": "            test_cond(\"sdsnew() free/len buffers\", sh->len == 1 && sh->free == 0);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 518,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,&c,1)",
          "old_line_content": "                } else if (insq) {",
          "new_line_content": "                        current = sdscatlen(current,&c,1);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                    } else if (*p == '\\'') {",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                        /* unterminated quotes */",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,\"'\",1)",
          "old_line_content": "                } else {",
          "new_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                    case '\\r':",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                        inq=1;",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "            return vector;",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(vector[*argc])",
          "old_line_content": "",
          "new_line_content": "        sdsfree(vector[*argc]);",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(vector)",
          "old_line_content": "/* Modify the string substituting all the occurrences of the set of",
          "new_line_content": "    zfree(vector);",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(current)",
          "old_line_content": " * characters specifed in the 'from' string to the corresponding character",
          "new_line_content": "    if (current) sdsfree(current);",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(argv[j])",
          "old_line_content": " * as the input pointer since no resize is needed. */",
          "new_line_content": "    for (j = 0 ;j < argc; j++) sdsfree(argv[j]);",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(argv)",
          "old_line_content": "sds sdsmapchars(sds s, char *from, char *to, size_t setlen) {",
          "new_line_content": "    zfree(argv);",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "",
          "new_line_content": "    size_t j, i, l = sdslen(s);",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(x,\"bar\")",
          "old_line_content": "",
          "new_line_content": "        x = sdscat(x,\"bar\");",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": null,
          "new_api": "zrealloc",
          "old_text": null,
          "new_text": "zrealloc(sh, sizeof(struct sdshdr)+sh->len+1)",
          "old_line_content": " *",
          "new_line_content": "    sh = zrealloc(sh, sizeof(struct sdshdr)+sh->len+1);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdscpy() against an originally longer string\",\n            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscpy() against an originally longer string\",",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 33 &&",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "",
          "new_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"xxciaoyyy\")",
          "old_line_content": "",
          "new_line_content": "        x = sdstrim(sdsnew(\"xxciaoyyy\"),\"xy\");",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(sh->free >= incr)",
          "old_line_content": "",
          "new_line_content": "    assert(sh->free >= incr);",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(sh->free >= 0)",
          "old_line_content": "    if (s == NULL) return NULL;",
          "new_line_content": "    assert(sh->free >= 0);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,len-curlen)",
          "old_line_content": "sds sdscatlen(sds s, void *t, size_t len) {",
          "new_line_content": "    s = sdsMakeRoomFor(s,len-curlen);",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(s+curlen,0,(len-curlen+1))",
          "old_line_content": "    if (s == NULL) return NULL;",
          "new_line_content": "    memset(s+curlen,0,(len-curlen+1)); /* also set trailing \\0 byte */",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "sds sdscat(sds s, char *t) {",
          "new_line_content": "    size_t curlen = sdslen(s);",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(y)",
          "old_line_content": "        {",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,len)",
          "old_line_content": "}",
          "new_line_content": "    s = sdsMakeRoomFor(s,len);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "            int oldfree;",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "",
          "new_line_content": "        x = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"aar\")",
          "old_line_content": "            sh = (void*) (x-(sizeof(struct sdshdr)));",
          "new_line_content": "        x = sdsnew(\"aar\");",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(x,y)",
          "old_line_content": "            oldfree = sh->free;",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0)",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"0\")",
          "old_line_content": "        }",
          "new_line_content": "            x = sdsnew(\"0\");",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(t)",
          "old_line_content": "    }",
          "new_line_content": "    return sdscatlen(s, t, sdslen(t));",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(x,1)",
          "old_line_content": "    return 0;",
          "new_line_content": "            x = sdsMakeRoomFor(x,1);",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsMakeRoomFor()\", sh->len == 1 && sh->free > 0)",
          "old_line_content": "#endif",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor()\", sh->len == 1 && sh->free > 0);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "sdsIncrLen",
          "old_text": null,
          "new_text": "sdsIncrLen(x,1)",
          "old_line_content": "",
          "new_line_content": "            sdsIncrLen(x,1);",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,len-sh->len)",
          "old_line_content": "sds sdscpy(sds s, char *t) {",
          "new_line_content": "        s = sdsMakeRoomFor(s,len-sh->len);",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsIncrLen() -- content\", x[0] == '0' && x[1] == '1')",
          "old_line_content": "",
          "new_line_content": "            test_cond(\"sdsIncrLen() -- content\", x[0] == '0' && x[1] == '1');",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsIncrLen() -- len\", sh->len == 2)",
          "old_line_content": "",
          "new_line_content": "            test_cond(\"sdsIncrLen() -- len\", sh->len == 2);",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdsIncrLen() -- free\", sh->free == oldfree-1)",
          "old_line_content": "",
          "new_line_content": "            test_cond(\"sdsIncrLen() -- free\", sh->free == oldfree-1);",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s, t, len)",
          "old_line_content": "    va_list cpy;",
          "new_line_content": "    memcpy(s, t, len);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "test_report",
          "old_text": null,
          "new_text": "test_report()",
          "old_line_content": "",
          "new_line_content": "    test_report()",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "va_copy",
          "old_text": null,
          "new_text": "va_copy(cpy,ap)",
          "old_line_content": "}",
          "new_line_content": "        va_copy(cpy,ap);",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": null,
          "new_api": "vsnprintf",
          "old_text": null,
          "new_text": "vsnprintf(buf, buflen, fmt, cpy)",
          "old_line_content": "",
          "new_line_content": "        vsnprintf(buf, buflen, fmt, cpy);",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(buf)",
          "old_line_content": "    va_list ap;",
          "new_line_content": "            zfree(buf);",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(s, buf)",
          "old_line_content": "}",
          "new_line_content": "    t = sdscat(s, buf);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(buf)",
          "old_line_content": "",
          "new_line_content": "    zfree(buf);",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    struct sdshdr *sh = (void*) (s-(sizeof(struct sdshdr)));",
          "new_line_content": "    ep = end = s+sdslen(s)-1;",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(cset, *ep)",
          "old_line_content": "",
          "new_line_content": "    while(ep > start && strchr(cset, *ep)) ep--;",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(sh->buf, sp, len)",
          "old_line_content": "    if (start < 0) {",
          "new_line_content": "    if (sh->buf != sp) memmove(sh->buf, sp, len);",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    if (newlen != 0) {",
          "new_line_content": "    size_t newlen, len = sdslen(s);",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(sh->buf, sh->buf+start, newlen)",
          "old_line_content": "",
          "new_line_content": "    if (start && newlen) memmove(sh->buf, sh->buf+start, newlen);",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    size_t l1, l2, minlen;",
          "new_line_content": "    int len = sdslen(s), j;",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(s[j])",
          "old_line_content": "",
          "new_line_content": "    for (j = 0; j < len; j++) s[j] = tolower(s[j]);",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper(s[j])",
          "old_line_content": "    return cmp;",
          "new_line_content": "    for (j = 0; j < len; j++) s[j] = toupper(s[j]);",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s1)",
          "old_line_content": " * On out of memory, zero length string, zero length",
          "new_line_content": "    l1 = sdslen(s1);",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s2)",
          "old_line_content": " * separator, NULL is returned.",
          "new_line_content": "    l2 = sdslen(s2);",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s1,s2,minlen)",
          "old_line_content": " * Note that 'sep' is able to split a string using",
          "new_line_content": "    cmp = memcmp(s1,s2,minlen);",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "zmalloc",
          "old_text": null,
          "new_text": "zmalloc(sizeof(sds)*slots)",
          "old_line_content": "            slots *= 2;",
          "new_line_content": "    tokens = zmalloc(sizeof(sds)*slots);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "zrealloc",
          "old_text": null,
          "new_text": "zrealloc(tokens,sizeof(sds)*slots)",
          "old_line_content": "    }",
          "new_line_content": "            newtokens = zrealloc(tokens,sizeof(sds)*slots);",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s+j,sep,seplen)",
          "old_line_content": "    *count = elements;",
          "new_line_content": "        if ((seplen == 1 && *(s+j) == sep[0]) || (memcmp(s+j,sep,seplen) == 0)) {",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(s+start,j-start)",
          "old_line_content": "    return tokens;",
          "new_line_content": "            tokens[elements] = sdsnewlen(s+start,j-start);",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(s+start,len-start)",
          "old_line_content": "        return NULL;",
          "new_line_content": "    tokens[elements] = sdsnewlen(s+start,len-start);",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(tokens[i])",
          "old_line_content": "}",
          "new_line_content": "        for (i = 0; i < elements; i++) sdsfree(tokens[i]);",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(tokens)",
          "old_line_content": "",
          "new_line_content": "        zfree(tokens);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(tokens[count])",
          "old_line_content": "        v /= 10;",
          "new_line_content": "        sdsfree(tokens[count]);",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(tokens)",
          "old_line_content": "    } while(v);",
          "new_line_content": "    zfree(tokens);",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": "        default:",
          "new_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "old_line_content": "            break;",
          "new_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\n\",2)",
          "old_line_content": "        p++;",
          "new_line_content": "        case '\\n': s = sdscatlen(s,\"\\\\n\",2); break;",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\r\",2)",
          "old_line_content": "    }",
          "new_line_content": "        case '\\r': s = sdscatlen(s,\"\\\\r\",2); break;",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\a\",2)",
          "old_line_content": "}",
          "new_line_content": "        case '\\a': s = sdscatlen(s,\"\\\\a\",2); break;",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\b\",2)",
          "old_line_content": "",
          "new_line_content": "        case '\\b': s = sdscatlen(s,\"\\\\b\",2); break;",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "isprint",
          "old_text": null,
          "new_text": "isprint(*p)",
          "old_line_content": " * is a valid hex digit. */",
          "new_line_content": "            if (isprint(*p))",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"%c\",*p)",
          "old_line_content": "int is_hex_digit(char c) {",
          "new_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "old_line_content": "           (c >= 'A' && c <= 'F');",
          "new_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": "int hex_digit_to_int(char c) {",
          "new_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "                        p += 3;",
          "new_line_content": "            if (current == NULL) current = sdsempty();",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "is_hex_digit",
          "old_text": null,
          "new_text": "is_hex_digit(*(p+2))",
          "old_line_content": "                        p++;",
          "new_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "is_hex_digit",
          "old_text": null,
          "new_text": "is_hex_digit(*(p+3))",
          "old_line_content": "                        switch(*p) {",
          "new_line_content": "                                             is_hex_digit(*(p+3)))",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": null,
          "new_api": "hex_digit_to_int",
          "old_text": null,
          "new_text": "hex_digit_to_int(*(p+2))",
          "old_line_content": "                        case 'b': c = '\\b'; break;",
          "new_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "hex_digit_to_int",
          "old_text": null,
          "new_text": "hex_digit_to_int(*(p+3))",
          "old_line_content": "                        case 'a': c = '\\a'; break;",
          "new_line_content": "                                hex_digit_to_int(*(p+3));",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,(char*)&byte,1)",
          "old_line_content": "                        default: c = *p; break;",
          "new_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 516,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                        default: c = *p; break;",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,\"'\",1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "new_line_content": "                         * nothing at all. */",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*(p+1))",
          "new_text": null,
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                        /* unterminated quotes */",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    if (*p == '\\\\' && *(p+1) == '\\'') {",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    case '\\r':",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "zrealloc",
          "new_api": null,
          "old_text": "zrealloc(vector,((*argc)+1)*sizeof(char*))",
          "new_text": null,
          "old_line_content": "            vector = zrealloc(vector,((*argc)+1)*sizeof(char*));",
          "new_line_content": "                        break;",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(vector[*argc])",
          "new_text": null,
          "old_line_content": "        sdsfree(vector[*argc]);",
          "new_line_content": "            /* add the token to the vector */",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(current)",
          "new_text": null,
          "old_line_content": "    if (current) sdsfree(current);",
          "new_line_content": "            vector[*argc] = current;",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(argv[j])",
          "new_text": null,
          "old_line_content": "    for (j = 0 ;j < argc; j++) sdsfree(argv[j]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(argv)",
          "new_text": null,
          "old_line_content": "    zfree(argv);",
          "new_line_content": "err:",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t j, i, l = sdslen(s);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"foo\")",
          "new_text": null,
          "old_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "new_line_content": "    return s;",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"foo\\0\",4)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "#ifdef SDS_TEST_MAIN",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(\"foo\",2)",
          "new_text": null,
          "old_line_content": "        x = sdsnewlen(\"foo\",2);",
          "new_line_content": "#include <stdio.h>",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Create a string with specified length\",\n            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Create a string with specified length\",",
          "new_line_content": "#include \"testhelp.h\"",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"fo\\0\",3)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(x,\"bar\")",
          "new_text": null,
          "old_line_content": "        x = sdscat(x,\"bar\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Strings concatenation\",\n            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Strings concatenation\",",
          "new_line_content": "        struct sdshdr *sh;",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"a\\0\",2)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "new_text": null,
          "old_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) ==0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"xxciaoyyy\")",
          "new_text": null,
          "old_line_content": "        x = sdstrim(sdsnew(\"xxciaoyyy\"),\"xy\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(sh->free >= incr)",
          "new_text": null,
          "old_line_content": "    assert(sh->free >= incr);",
          "new_line_content": " * following schema to cat bytes coming from the kerenl to the end of an",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(sh->free >= 0)",
          "new_text": null,
          "old_line_content": "    assert(sh->free >= 0);",
          "new_line_content": " * oldlen = sdslen(s);",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "sdsdup",
          "new_api": null,
          "old_text": "sdsdup(x)",
          "new_text": null,
          "old_line_content": "        y = sdsrange(sdsdup(x),2,1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": "sdsdup",
          "new_api": null,
          "old_text": "sdsdup(x)",
          "new_text": null,
          "old_line_content": "        y = sdsrange(sdsdup(x),1,100);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,len-curlen)",
          "new_text": null,
          "old_line_content": "    s = sdsMakeRoomFor(s,len-curlen);",
          "new_line_content": "    sh->free -= incr;",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "sdsdup",
          "new_api": null,
          "old_text": "sdsdup(x)",
          "new_text": null,
          "old_line_content": "        y = sdsrange(sdsdup(x),100,100);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(s+curlen,0,(len-curlen+1))",
          "new_text": null,
          "old_line_content": "    memset(s+curlen,0,(len-curlen+1)); /* also set trailing \\0 byte */",
          "new_line_content": "/* Grow the sds to have the specified length. Bytes that were not part of",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t curlen = sdslen(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,len)",
          "new_text": null,
          "old_line_content": "    s = sdsMakeRoomFor(s,len);",
          "new_line_content": "    sh = (void*)(s-(sizeof(struct sdshdr)));",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s+curlen, t, len)",
          "new_text": null,
          "old_line_content": "    memcpy(s+curlen, t, len);",
          "new_line_content": "    sh->len = len;",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(t)",
          "new_text": null,
          "old_line_content": "    return sdscatlen(s, t, strlen(t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "sdsIncrLen",
          "new_api": null,
          "old_text": "sdsIncrLen(x,1)",
          "new_text": null,
          "old_line_content": "            sdsIncrLen(x,1);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsIncrLen() -- content\", x[0] == '0' && x[1] == '1')",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsIncrLen() -- content\", x[0] == '0' && x[1] == '1');",
          "new_line_content": "            int oldfree;",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsIncrLen() -- len\", sh->len == 2)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsIncrLen() -- len\", sh->len == 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s, t, len)",
          "new_text": null,
          "old_line_content": "    memcpy(s, t, len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(t)",
          "new_text": null,
          "old_line_content": "    return sdscpylen(s, t, strlen(t));",
          "new_line_content": "        if (s == NULL) return NULL;",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(buflen)",
          "new_text": null,
          "old_line_content": "        buf = zmalloc(buflen);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": "vsnprintf",
          "new_api": null,
          "old_text": "vsnprintf(buf, buflen, fmt, cpy)",
          "new_text": null,
          "old_line_content": "        vsnprintf(buf, buflen, fmt, cpy);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(buf)",
          "new_text": null,
          "old_line_content": "            zfree(buf);",
          "new_line_content": "sds sdscatvprintf(sds s, const char *fmt, va_list ap) {",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(buf)",
          "new_text": null,
          "old_line_content": "    zfree(buf);",
          "new_line_content": "        if (buf == NULL) return NULL;",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "sdscatvprintf",
          "new_api": null,
          "old_text": "sdscatvprintf(s,fmt,ap)",
          "new_text": null,
          "old_line_content": "    t = sdscatvprintf(s,fmt,ap);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(sh->buf, sp, len)",
          "new_text": null,
          "old_line_content": "    if (sh->buf != sp) memmove(sh->buf, sp, len);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(sh->buf, sh->buf+start, newlen)",
          "new_text": null,
          "old_line_content": "    if (start && newlen) memmove(sh->buf, sh->buf+start, newlen);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    int len = sdslen(s), j;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(s[j])",
          "new_text": null,
          "old_line_content": "    for (j = 0; j < len; j++) s[j] = tolower(s[j]);",
          "new_line_content": "        start = 0;",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    int len = sdslen(s), j;",
          "new_line_content": "    sh->free = sh->free+(sh->len-newlen);",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "toupper",
          "new_api": null,
          "old_text": "toupper(s[j])",
          "new_text": null,
          "old_line_content": "    for (j = 0; j < len; j++) s[j] = toupper(s[j]);",
          "new_line_content": "    return s;",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s1)",
          "new_text": null,
          "old_line_content": "    l1 = sdslen(s1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s2)",
          "new_text": null,
          "old_line_content": "    l2 = sdslen(s2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(sizeof(sds)*slots)",
          "new_text": null,
          "old_line_content": "    tokens = zmalloc(sizeof(sds)*slots);",
          "new_line_content": " * elements \"foo\" and \"bar\".",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "zrealloc",
          "new_api": null,
          "old_text": "zrealloc(tokens,sizeof(sds)*slots)",
          "new_text": null,
          "old_line_content": "            newtokens = zrealloc(tokens,sizeof(sds)*slots);",
          "new_line_content": "    if (tokens == NULL) return NULL;",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s+j,sep,seplen)",
          "new_text": null,
          "old_line_content": "        if ((seplen == 1 && *(s+j) == sep[0]) || (memcmp(s+j,sep,seplen) == 0)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(s+start,j-start)",
          "new_text": null,
          "old_line_content": "            tokens[elements] = sdsnewlen(s+start,j-start);",
          "new_line_content": "    for (j = 0; j < (len-(seplen-1)); j++) {",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(s+start,len-start)",
          "new_text": null,
          "old_line_content": "    tokens[elements] = sdsnewlen(s+start,len-start);",
          "new_line_content": "            tokens = newtokens;",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(tokens[i])",
          "new_text": null,
          "old_line_content": "        for (i = 0; i < elements; i++) sdsfree(tokens[i]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(tokens)",
          "new_text": null,
          "old_line_content": "        zfree(tokens);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(tokens[count])",
          "new_text": null,
          "old_line_content": "        sdsfree(tokens[count]);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(tokens)",
          "new_text": null,
          "old_line_content": "    zfree(tokens);",
          "new_line_content": "        int i;",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(p,32-(p-buf))",
          "new_text": null,
          "old_line_content": "    return sdsnewlen(p,32-(p-buf));",
          "new_line_content": "sds sdsfromlonglong(long long value) {",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": null,
          "old_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "new_line_content": "    v = (value < 0) ? -value : value;",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "new_text": null,
          "old_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "new_line_content": "    } while(v);",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\n\",2)",
          "new_text": null,
          "old_line_content": "        case '\\n': s = sdscatlen(s,\"\\\\n\",2); break;",
          "new_line_content": "    p++;",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\t\",2)",
          "new_text": null,
          "old_line_content": "        case '\\t': s = sdscatlen(s,\"\\\\t\",2); break;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\a\",2)",
          "new_text": null,
          "old_line_content": "        case '\\a': s = sdscatlen(s,\"\\\\a\",2); break;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\b\",2)",
          "new_text": null,
          "old_line_content": "        case '\\b': s = sdscatlen(s,\"\\\\b\",2); break;",
          "new_line_content": "sds sdscatrepr(sds s, char *p, size_t len) {",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "isprint",
          "new_api": null,
          "old_text": "isprint(*p)",
          "new_text": null,
          "old_line_content": "            if (isprint(*p))",
          "new_line_content": "    while(len--) {",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"%c\",*p)",
          "new_text": null,
          "old_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "new_line_content": "        switch(*p) {",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "new_text": null,
          "old_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "new_line_content": "        case '\"':",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        while(*p && isspace(*p)) p++;",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "            if (current == NULL) current = sdsempty();",
          "new_line_content": "    char **vector = NULL;",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "is_hex_digit",
          "new_api": null,
          "old_text": "is_hex_digit(*(p+2))",
          "new_text": null,
          "old_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "new_line_content": "        /* skip blanks */",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "hex_digit_to_int",
          "new_api": null,
          "old_text": "hex_digit_to_int(*(p+2))",
          "new_text": null,
          "old_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "new_line_content": "            int insq=0; /* set to 1 if we are in 'single quotes' */",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "hex_digit_to_int",
          "new_api": null,
          "old_text": "hex_digit_to_int(*(p+3))",
          "new_text": null,
          "old_line_content": "                                hex_digit_to_int(*(p+3));",
          "new_line_content": "            int done=0;",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,(char*)&byte,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,&c,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,&c,1);",
          "new_line_content": "                    } else if (*p == '\\\\' && *(p+1)) {",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*(p+1))",
          "new_text": null,
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                        switch(*p) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 54,
      "total_additions": 88,
      "total_deletions": 87,
      "total_api_changes": 229
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 12,
        "api_related_lines": 229,
        "non_api_lines": 11,
        "non_api_line_numbers": [
          114,
          115,
          116,
          117,
          118,
          119,
          120,
          122,
          123,
          124,
          125
        ]
      }
    },
    "api_calls_before": 188,
    "api_calls_after": 189,
    "diff_info": {
      "added_lines": 12,
      "removed_lines": 0,
      "total_diff_lines": 24
    }
  }
}