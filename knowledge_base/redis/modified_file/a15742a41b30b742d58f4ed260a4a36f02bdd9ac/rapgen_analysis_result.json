{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/a15742a41b30b742d58f4ed260a4a36f02bdd9ac",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/a15742a41b30b742d58f4ed260a4a36f02bdd9ac/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/a15742a41b30b742d58f4ed260a4a36f02bdd9ac/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/a15742a41b30b742d58f4ed260a4a36f02bdd9ac/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 166,
          "old_api": "dbReplace",
          "new_api": "createStringObjectFromLongLong",
          "old_text": "dbReplace(c->db,c->argv[1],o)",
          "new_text": "createStringObjectFromLongLong(value)",
          "old_line_content": "    dbReplace(c->db,c->argv[1],o);",
          "new_line_content": "    o = createStringObjectFromLongLong(value);",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": "touchWatchedKey",
          "new_api": "dbReplace",
          "old_text": "touchWatchedKey(c->db,c->argv[1])",
          "new_text": "dbReplace(c->db,c->argv[1],o)",
          "old_line_content": "    touchWatchedKey(c->db,c->argv[1]);",
          "new_line_content": "    dbReplace(c->db,c->argv[1],o);",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "incrDecrCommand",
          "new_api": "getLongLongFromObjectOrReply",
          "old_text": "incrDecrCommand(c,incr)",
          "new_text": "getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL)",
          "old_line_content": "    incrDecrCommand(c,incr);",
          "new_line_content": "    if (getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL) != REDIS_OK) return;",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": "incrDecrCommand",
          "new_api": "getLongLongFromObjectOrReply",
          "old_text": "incrDecrCommand(c,-incr)",
          "new_text": "getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL)",
          "old_line_content": "    incrDecrCommand(c,-incr);",
          "new_line_content": "    if (getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL) != REDIS_OK) return;",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "tryObjectEncoding",
          "new_api": "lookupKeyWrite",
          "old_text": "tryObjectEncoding(c->argv[2])",
          "new_text": "lookupKeyWrite(c->db,c->argv[1])",
          "old_line_content": "    c->argv[2] = tryObjectEncoding(c->argv[2]);",
          "new_line_content": "    o = lookupKeyWrite(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "incrRefCount",
          "new_api": "dbAdd",
          "old_text": "incrRefCount(c->argv[2])",
          "new_text": "dbAdd(c->db,c->argv[1],c->argv[2])",
          "old_line_content": "        incrRefCount(c->argv[2]);",
          "new_line_content": "        retval = dbAdd(c->db,c->argv[1],c->argv[2]);",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "stringObjectLen",
          "new_api": "incrRefCount",
          "old_text": "stringObjectLen(c->argv[2])",
          "new_text": "incrRefCount(c->argv[2])",
          "old_line_content": "        totlen = stringObjectLen(c->argv[2]);",
          "new_line_content": "        incrRefCount(c->argv[2]);",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "decrRefCount",
          "new_api": "sdslen",
          "old_text": "decrRefCount(decoded)",
          "new_text": "sdslen(decoded->ptr)",
          "old_line_content": "            decrRefCount(decoded);",
          "new_line_content": "            o = createStringObject(decoded->ptr, sdslen(decoded->ptr));",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": "dbReplace",
          "new_api": "decrRefCount",
          "old_text": "dbReplace(c->db,c->argv[1],o)",
          "new_text": "decrRefCount(decoded)",
          "old_line_content": "            dbReplace(c->db,c->argv[1],o);",
          "new_line_content": "            decrRefCount(decoded);",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "sdslen",
          "new_api": "sdscatlen",
          "old_text": "sdslen(c->argv[2]->ptr)",
          "new_text": "sdscatlen(o->ptr,\n                c->argv[2]->ptr, sdslen(c->argv[2]->ptr))",
          "old_line_content": "                c->argv[2]->ptr, sdslen(c->argv[2]->ptr));",
          "new_line_content": "            o->ptr = sdscatlen(o->ptr,",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "checkType",
          "new_api": "lookupKeyReadOrReply",
          "old_text": "checkType(c,o,REDIS_STRING)",
          "new_text": "lookupKeyReadOrReply(c,c->argv[1],shared.nullbulk)",
          "old_line_content": "        checkType(c,o,REDIS_STRING)) return;",
          "new_line_content": "    if ((o = lookupKeyReadOrReply(c,c->argv[1],shared.nullbulk)) == NULL ||",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": "sdslen",
          "new_api": "getDecodedObject",
          "old_text": "sdslen(o->ptr)",
          "new_text": "getDecodedObject(o)",
          "old_line_content": "    strlen = sdslen(o->ptr);",
          "new_line_content": "    o = getDecodedObject(o);",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "decrRefCount",
          "new_api": "addReply",
          "old_text": "decrRefCount(o)",
          "new_text": "addReply(c,shared.nullbulk)",
          "old_line_content": "        decrRefCount(o);",
          "new_line_content": "        addReply(c,shared.nullbulk);",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "sdsnewlen",
          "new_api": "sdsempty",
          "old_text": "sdsnewlen((char*)o->ptr+start,rangelen)",
          "new_text": "sdsempty()",
          "old_line_content": "    range = sdsnewlen((char*)o->ptr+start,rangelen);",
          "new_line_content": "    addReplySds(c,sdscatprintf(sdsempty(),\"$%zu\\r\\n\",rangelen));",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": "addReplySds",
          "new_api": "sdsnewlen",
          "old_text": "addReplySds(c,range)",
          "new_text": "sdsnewlen((char*)o->ptr+start,rangelen)",
          "old_line_content": "    addReplySds(c,range);",
          "new_line_content": "    range = sdsnewlen((char*)o->ptr+start,rangelen);",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "addReply",
          "new_api": "addReplySds",
          "old_text": "addReply(c,shared.crlf)",
          "new_text": "addReplySds(c,range)",
          "old_line_content": "    addReply(c,shared.crlf);",
          "new_line_content": "    addReplySds(c,range);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "decrRefCount",
          "new_api": "addReply",
          "old_text": "decrRefCount(o)",
          "new_text": "addReply(c,shared.crlf)",
          "old_line_content": "    decrRefCount(o);",
          "new_line_content": "    addReply(c,shared.crlf);",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "checkType",
          "new_api": "lookupKeyReadOrReply",
          "old_text": "checkType(c,o,REDIS_STRING)",
          "new_text": "lookupKeyReadOrReply(c,c->argv[1],shared.czero)",
          "old_line_content": "        checkType(c,o,REDIS_STRING)) return;",
          "new_line_content": "    if ((o = lookupKeyReadOrReply(c,c->argv[1],shared.czero)) == NULL ||",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "sdslen",
          "new_api": "getDecodedObject",
          "old_text": "sdslen(o->ptr)",
          "new_text": "getDecodedObject(o)",
          "old_line_content": "    addReplyLongLong(c,sdslen(o->ptr));",
          "new_line_content": "    o = getDecodedObject(o);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "decrRefCount",
          "new_api": "sdslen",
          "old_text": "decrRefCount(o)",
          "new_text": "sdslen(o->ptr)",
          "old_line_content": "    decrRefCount(o);",
          "new_line_content": "    addReplyLongLong(c,sdslen(o->ptr));",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 261,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(o)",
          "old_line_content": "        return;",
          "new_line_content": "        decrRefCount(o);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(o)",
          "old_line_content": "}",
          "new_line_content": "    decrRefCount(o);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "checkType",
          "old_text": null,
          "new_text": "checkType(c,o,REDIS_STRING)",
          "old_line_content": "",
          "new_line_content": "        checkType(c,o,REDIS_STRING)) return;",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "touchWatchedKey",
          "old_text": null,
          "new_text": "touchWatchedKey(c->db,c->argv[1])",
          "old_line_content": "            server.dirty++;",
          "new_line_content": "            touchWatchedKey(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(o)",
          "old_line_content": "}",
          "new_line_content": "    decrRefCount(o);",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,newval)",
          "old_line_content": "            return;",
          "new_line_content": "            addReplyLongLong(c,newval);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "getLongLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongLongFromObjectOrReply(c,o,&value,NULL)",
          "old_line_content": "    value += incr;",
          "new_line_content": "    if (getLongLongFromObjectOrReply(c,o,&value,NULL) != REDIS_OK) return;",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "touchWatchedKey",
          "old_text": null,
          "new_text": "touchWatchedKey(c->db,c->argv[1])",
          "old_line_content": "    server.dirty++;",
          "new_line_content": "    touchWatchedKey(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.crlf)",
          "old_line_content": "}",
          "new_line_content": "    addReply(c,shared.crlf);",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": null,
          "new_api": "incrDecrCommand",
          "old_text": null,
          "new_text": "incrDecrCommand(c,1)",
          "old_line_content": "}",
          "new_line_content": "    incrDecrCommand(c,1);",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "incrDecrCommand",
          "old_text": null,
          "new_text": "incrDecrCommand(c,-1)",
          "old_line_content": "}",
          "new_line_content": "    incrDecrCommand(c,-1);",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "incrDecrCommand",
          "old_text": null,
          "new_text": "incrDecrCommand(c,incr)",
          "old_line_content": "}",
          "new_line_content": "    incrDecrCommand(c,incr);",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": null,
          "new_api": "incrDecrCommand",
          "old_text": null,
          "new_text": "incrDecrCommand(c,-incr)",
          "old_line_content": "}",
          "new_line_content": "    incrDecrCommand(c,-incr);",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "tryObjectEncoding",
          "old_text": null,
          "new_text": "tryObjectEncoding(c->argv[2])",
          "old_line_content": "    if (o == NULL) {",
          "new_line_content": "    c->argv[2] = tryObjectEncoding(c->argv[2]);",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": null,
          "new_api": "stringObjectLen",
          "old_text": null,
          "new_text": "stringObjectLen(c->argv[2])",
          "old_line_content": "    } else {",
          "new_line_content": "        totlen = stringObjectLen(c->argv[2]);",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.wrongtypeerr)",
          "old_line_content": "            return;",
          "new_line_content": "            addReply(c,shared.wrongtypeerr);",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "getDecodedObject",
          "old_text": null,
          "new_text": "getDecodedObject(o)",
          "old_line_content": "",
          "new_line_content": "            robj *decoded = getDecodedObject(o);",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": null,
          "new_api": "dbReplace",
          "old_text": null,
          "new_text": "dbReplace(c->db,c->argv[1],o)",
          "old_line_content": "        }",
          "new_line_content": "            dbReplace(c->db,c->argv[1],o);",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(c->argv[2]->ptr)",
          "old_line_content": "        } else {",
          "new_line_content": "                c->argv[2]->ptr, sdslen(c->argv[2]->ptr));",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(o->ptr, \"%ld\",\n                (unsigned long) c->argv[2]->ptr)",
          "old_line_content": "                (unsigned long) c->argv[2]->ptr);",
          "new_line_content": "            o->ptr = sdscatprintf(o->ptr, \"%ld\",",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(o->ptr)",
          "old_line_content": "    }",
          "new_line_content": "        totlen = sdslen(o->ptr);",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": null,
          "new_api": "touchWatchedKey",
          "old_text": null,
          "new_text": "touchWatchedKey(c->db,c->argv[1])",
          "old_line_content": "    server.dirty++;",
          "new_line_content": "    touchWatchedKey(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,totlen)",
          "old_line_content": "}",
          "new_line_content": "    addReplyLongLong(c,totlen);",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(c->argv[3]->ptr)",
          "old_line_content": "    size_t rangelen, strlen;",
          "new_line_content": "    long end = atoi(c->argv[3]->ptr);",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": null,
          "new_api": "checkType",
          "old_text": null,
          "new_text": "checkType(c,o,REDIS_STRING)",
          "old_line_content": "",
          "new_line_content": "        checkType(c,o,REDIS_STRING)) return;",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(o->ptr)",
          "old_line_content": "",
          "new_line_content": "    strlen = sdslen(o->ptr);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 259,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.nullbulk)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.nullbulk);",
          "new_line_content": "        /* Out of range start or start > end result in null reply */",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    addReplySds(c,sdscatprintf(sdsempty(),\"$%zu\\r\\n\",rangelen));",
          "new_line_content": "    /* Return the result */",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "lookupKeyReadOrReply",
          "new_api": null,
          "old_text": "lookupKeyReadOrReply(c,c->argv[1],shared.czero)",
          "new_text": null,
          "old_line_content": "    if ((o = lookupKeyReadOrReply(c,c->argv[1],shared.czero)) == NULL ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "getDecodedObject",
          "new_api": null,
          "old_text": "getDecodedObject(o)",
          "new_text": null,
          "old_line_content": "    o = getDecodedObject(o);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "touchWatchedKey",
          "new_api": null,
          "old_text": "touchWatchedKey(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "            touchWatchedKey(c->db,c->argv[1]);",
          "new_line_content": "            o->ptr = (void*) (long) newval;",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,newval)",
          "new_text": null,
          "old_line_content": "            addReplyLongLong(c,newval);",
          "new_line_content": "            server.dirty++;",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": "getLongLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongLongFromObjectOrReply(c,o,&value,NULL)",
          "new_text": null,
          "old_line_content": "    if (getLongLongFromObjectOrReply(c,o,&value,NULL) != REDIS_OK) return;",
          "new_line_content": "    /* Otherwise we create a new object and replace the old one. */",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "createStringObjectFromLongLong",
          "new_api": null,
          "old_text": "createStringObjectFromLongLong(value)",
          "new_text": null,
          "old_line_content": "    o = createStringObjectFromLongLong(value);",
          "new_line_content": "    value += incr;",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.colon)",
          "new_text": null,
          "old_line_content": "    addReply(c,shared.colon);",
          "new_line_content": "    server.dirty++;",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": "incrDecrCommand",
          "new_api": null,
          "old_text": "incrDecrCommand(c,1)",
          "new_text": null,
          "old_line_content": "    incrDecrCommand(c,1);",
          "new_line_content": "void incrCommand(redisClient *c) {",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "incrDecrCommand",
          "new_api": null,
          "old_text": "incrDecrCommand(c,-1)",
          "new_text": null,
          "old_line_content": "    incrDecrCommand(c,-1);",
          "new_line_content": "void decrCommand(redisClient *c) {",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": "getLongLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL)",
          "new_text": null,
          "old_line_content": "    if (getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL) != REDIS_OK) return;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "getLongLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL)",
          "new_text": null,
          "old_line_content": "    if (getLongLongFromObjectOrReply(c, c->argv[2], &incr, NULL) != REDIS_OK) return;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "lookupKeyWrite",
          "new_api": null,
          "old_text": "lookupKeyWrite(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "    o = lookupKeyWrite(c->db,c->argv[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "dbAdd",
          "new_api": null,
          "old_text": "dbAdd(c->db,c->argv[1],c->argv[2])",
          "new_text": null,
          "old_line_content": "        retval = dbAdd(c->db,c->argv[1],c->argv[2]);",
          "new_line_content": "        /* Create the key */",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.wrongtypeerr)",
          "new_text": null,
          "old_line_content": "            addReply(c,shared.wrongtypeerr);",
          "new_line_content": "        if (o->type != REDIS_STRING) {",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "getDecodedObject",
          "new_api": null,
          "old_text": "getDecodedObject(o)",
          "new_text": null,
          "old_line_content": "            robj *decoded = getDecodedObject(o);",
          "new_line_content": "        if (o->refcount != 1 || o->encoding != REDIS_ENCODING_RAW) {",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(decoded->ptr)",
          "new_text": null,
          "old_line_content": "            o = createStringObject(decoded->ptr, sdslen(decoded->ptr));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(o->ptr,\n                c->argv[2]->ptr, sdslen(c->argv[2]->ptr))",
          "new_text": null,
          "old_line_content": "            o->ptr = sdscatlen(o->ptr,",
          "new_line_content": "        if (c->argv[2]->encoding == REDIS_ENCODING_RAW) {",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(o->ptr, \"%ld\",\n                (unsigned long) c->argv[2]->ptr)",
          "new_text": null,
          "old_line_content": "            o->ptr = sdscatprintf(o->ptr, \"%ld\",",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(o->ptr)",
          "new_text": null,
          "old_line_content": "        totlen = sdslen(o->ptr);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "touchWatchedKey",
          "new_api": null,
          "old_text": "touchWatchedKey(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "    touchWatchedKey(c->db,c->argv[1]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,totlen)",
          "new_text": null,
          "old_line_content": "    addReplyLongLong(c,totlen);",
          "new_line_content": "    server.dirty++;",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(c->argv[2]->ptr)",
          "new_text": null,
          "old_line_content": "    long start = atoi(c->argv[2]->ptr);",
          "new_line_content": "    robj *o;",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "lookupKeyReadOrReply",
          "new_api": null,
          "old_text": "lookupKeyReadOrReply(c,c->argv[1],shared.nullbulk)",
          "new_text": null,
          "old_line_content": "    if ((o = lookupKeyReadOrReply(c,c->argv[1],shared.nullbulk)) == NULL ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "getDecodedObject",
          "new_api": null,
          "old_text": "getDecodedObject(o)",
          "new_text": null,
          "old_line_content": "    o = getDecodedObject(o);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 20,
      "total_additions": 26,
      "total_deletions": 26,
      "total_api_changes": 72
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 72,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          152,
          153
        ]
      }
    },
    "api_calls_before": 99,
    "api_calls_after": 99,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}