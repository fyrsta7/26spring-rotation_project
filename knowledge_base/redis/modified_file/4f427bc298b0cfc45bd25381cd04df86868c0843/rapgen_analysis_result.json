{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f427bc298b0cfc45bd25381cd04df86868c0843",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f427bc298b0cfc45bd25381cd04df86868c0843/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f427bc298b0cfc45bd25381cd04df86868c0843/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/4f427bc298b0cfc45bd25381cd04df86868c0843/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 689,
          "old_api": "dictIsRehashing",
          "new_api": "dictSize",
          "old_text": "dictIsRehashing(d)",
          "new_text": "dictSize(d)",
          "old_line_content": "        if (dictIsRehashing(d))",
          "new_line_content": "    if (dictSize(d) < count) count = dictSize(d);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "dictIsRehashing",
          "new_api": "dictCompareKeys",
          "old_text": "dictIsRehashing(d)",
          "new_text": "dictCompareKeys(d, key, he->key)",
          "old_line_content": "        if (!dictIsRehashing(d)) break;",
          "new_line_content": "            if (dictCompareKeys(d, key, he->key))",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "memcpy",
          "new_api": "strlen",
          "old_text": "memcpy(copy, key, len)",
          "new_text": "strlen(key)",
          "old_line_content": "    memcpy(copy, key, len);",
          "new_line_content": "    int len = strlen(key);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 896,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "    return v;",
          "new_line_content": "    v = rev(v);",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "",
          "new_line_content": "    v = rev(v);",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" max chain length: %ld\\n\", maxchainlen)",
          "old_line_content": "    for (i = 0; i < DICT_STATS_VECTLEN-1; i++) {",
          "new_line_content": "    printf(\" max chain length: %ld\\n\", maxchainlen);",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" avg chain length (counted): %.02f\\n\", (float)totchainlen/slots)",
          "old_line_content": "        if (clvector[i] == 0) continue;",
          "new_line_content": "    printf(\" avg chain length (counted): %.02f\\n\", (float)totchainlen/slots);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": "",
          "new_line_content": "            h = random() & d->ht[0].sizemask;",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\" Chain length distribution:\\n\")",
          "old_line_content": "    }",
          "new_line_content": "    printf(\" Chain length distribution:\\n\");",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"   %s%ld: %ld (%.02f%%)\\n\",(i == DICT_STATS_VECTLEN-1)?\">= \":\"\", i, clvector[i], ((float)clvector[i]/ht->size)*100)",
          "old_line_content": "void dictPrintStats(dict *d) {",
          "new_line_content": "        printf(\"   %s%ld: %ld (%.02f%%)\\n\",(i == DICT_STATS_VECTLEN-1)?\">= \":\"\", i, clvector[i], ((float)clvector[i]/ht->size)*100);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "",
          "new_line_content": "    if (dictIsRehashing(d)) return DICT_OK;",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "_dictPrintStatsHt",
          "old_text": null,
          "new_text": "_dictPrintStatsHt(&d->ht[0])",
          "old_line_content": "    }",
          "new_line_content": "    _dictPrintStatsHt(&d->ht[0]);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "}",
          "new_line_content": "    if (dictIsRehashing(d)) {",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"-- Rehashing into ht[1]:\\n\")",
          "old_line_content": "",
          "new_line_content": "        printf(\"-- Rehashing into ht[1]:\\n\");",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "_dictPrintStatsHt",
          "old_text": null,
          "new_text": "_dictPrintStatsHt(&d->ht[1])",
          "old_line_content": "/* ----------------------- StringCopy Hash Table Type ------------------------*/",
          "new_line_content": "        _dictPrintStatsHt(&d->ht[1]);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "dictExpand",
          "old_text": null,
          "new_text": "dictExpand(d, DICT_HT_INITIAL_SIZE)",
          "old_line_content": "     * elements/buckets is over the \"safe\" threshold, we resize doubling",
          "new_line_content": "    if (d->ht[0].size == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": "}",
          "new_line_content": "    listele = random() % listlen;",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(key)",
          "old_line_content": "{",
          "new_line_content": "    return dictGenHashFunction(key, strlen(key));",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "dictExpand",
          "old_text": null,
          "new_text": "dictExpand(d, d->ht[0].used*2)",
          "old_line_content": "",
          "new_line_content": "        return dictExpand(d, d->ht[0].used*2);",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "zmalloc",
          "old_text": null,
          "new_text": "zmalloc(len+1)",
          "old_line_content": "    copy[len] = '\\0';",
          "new_line_content": "    char *copy = zmalloc(len+1);",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "DICT_NOTUSED",
          "old_text": null,
          "new_text": "DICT_NOTUSED(privdata)",
          "old_line_content": "    return copy;",
          "new_line_content": "    DICT_NOTUSED(privdata);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(copy, key, len)",
          "old_line_content": "",
          "new_line_content": "    memcpy(copy, key, len);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "DICT_NOTUSED",
          "old_text": null,
          "new_text": "DICT_NOTUSED(privdata)",
          "old_line_content": "",
          "new_line_content": "    DICT_NOTUSED(privdata);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(key1, key2)",
          "old_line_content": "{",
          "new_line_content": "    return strcmp(key1, key2) == 0;",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": null,
          "new_api": "DICT_NOTUSED",
          "old_text": null,
          "new_text": "DICT_NOTUSED(privdata)",
          "old_line_content": "",
          "new_line_content": "    DICT_NOTUSED(privdata);",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(key)",
          "old_line_content": "    _dictStringCopyHTHashFunction, /* hash function */",
          "new_line_content": "    zfree(key);",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    }",
          "new_line_content": "        if (dictIsRehashing(d))",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "",
          "new_line_content": "            _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "_dictExpandIfNeeded",
          "old_text": null,
          "new_text": "_dictExpandIfNeeded(d)",
          "old_line_content": "    for (table = 0; table <= 1; table++) {",
          "new_line_content": "    if (_dictExpandIfNeeded(d) == DICT_ERR)",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "",
          "new_line_content": "    tables = dictIsRehashing(d) ? 2 : 1;",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "dictHashKey",
          "old_text": null,
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "        he = d->ht[table].table[idx];",
          "new_line_content": "    h = dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": "             * visited in ht[0] during the rehashing, there are no populated",
          "new_line_content": "    unsigned int i = random() & maxsizemask;",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "",
          "new_line_content": "        if (!dictIsRehashing(d)) break;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": "        m0 = t0->sizemask;",
          "new_line_content": "    if (dictSize(d) == 0) return 0;",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        /* Emit entries at cursor */",
          "new_line_content": "    if (!dictIsRehashing(d)) {",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "_dictClear",
          "old_text": null,
          "new_text": "_dictClear(d,&d->ht[0],callback)",
          "old_line_content": "}",
          "new_line_content": "    _dictClear(d,&d->ht[0],callback);",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "_dictClear",
          "old_text": null,
          "new_text": "_dictClear(d,&d->ht[1],callback)",
          "old_line_content": "",
          "new_line_content": "    _dictClear(d,&d->ht[1],callback);",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "    } else {",
          "new_line_content": "            fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "        /* Iterate over indices in larger table that are the expansion",
          "new_line_content": "            fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"No stats available for empty dictionaries\\n\")",
          "old_line_content": "    for (i = 0; i < DICT_STATS_VECTLEN; i++) clvector[i] = 0;",
          "new_line_content": "        printf(\"No stats available for empty dictionaries\\n\");",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "            /* Increment bits not covered by the smaller mask */",
          "new_line_content": "                fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": "                                      d->ht[0].table[h];",
          "new_line_content": "            h = d->rehashidx + (random() % (d->ht[0].size +",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 640,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "            h = random() & d->ht[0].sizemask;",
          "new_line_content": "                                      d->ht[0].table[h];",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) return DICT_OK;",
          "new_line_content": "/* Expand the hash table if needed */",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "_dictPrintStatsHt",
          "new_api": null,
          "old_text": "_dictPrintStatsHt(&d->ht[0])",
          "new_text": null,
          "old_line_content": "    _dictPrintStatsHt(&d->ht[0]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"-- Rehashing into ht[1]:\\n\")",
          "new_text": null,
          "old_line_content": "        printf(\"-- Rehashing into ht[1]:\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": "_dictPrintStatsHt",
          "new_api": null,
          "old_text": "_dictPrintStatsHt(&d->ht[1])",
          "new_text": null,
          "old_line_content": "        _dictPrintStatsHt(&d->ht[1]);",
          "new_line_content": "void dictPrintStats(dict *d) {",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "dictExpand",
          "new_api": null,
          "old_text": "dictExpand(d, DICT_HT_INITIAL_SIZE)",
          "new_text": null,
          "old_line_content": "    if (d->ht[0].size == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);",
          "new_line_content": "    /* Incremental rehashing already in progress. Return. */",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "    listele = random() % listlen;",
          "new_line_content": "    while(he) {",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" table size: %ld\\n\", ht->size)",
          "new_text": null,
          "old_line_content": "    printf(\" table size: %ld\\n\", ht->size);",
          "new_line_content": "        if (chainlen > maxchainlen) maxchainlen = chainlen;",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(key)",
          "new_text": null,
          "old_line_content": "    return dictGenHashFunction(key, strlen(key));",
          "new_line_content": "/* ----------------------- StringCopy Hash Table Type ------------------------*/",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "dictExpand",
          "new_api": null,
          "old_text": "dictExpand(d, d->ht[0].used*2)",
          "new_text": null,
          "old_line_content": "        return dictExpand(d, d->ht[0].used*2);",
          "new_line_content": "    if (d->ht[0].used >= d->ht[0].size &&",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" different slots: %ld\\n\", slots)",
          "new_text": null,
          "old_line_content": "    printf(\" different slots: %ld\\n\", slots);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(key)",
          "new_text": null,
          "old_line_content": "    int len = strlen(key);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(len+1)",
          "new_text": null,
          "old_line_content": "    char *copy = zmalloc(len+1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "DICT_NOTUSED",
          "new_api": null,
          "old_text": "DICT_NOTUSED(privdata)",
          "new_text": null,
          "old_line_content": "    DICT_NOTUSED(privdata);",
          "new_line_content": "static void *_dictStringDup(void *privdata, const void *key)",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "DICT_NOTUSED",
          "new_api": null,
          "old_text": "DICT_NOTUSED(privdata)",
          "new_text": null,
          "old_line_content": "    DICT_NOTUSED(privdata);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(key1, key2)",
          "new_text": null,
          "old_line_content": "    return strcmp(key1, key2) == 0;",
          "new_line_content": "        const void *key2)",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "DICT_NOTUSED",
          "new_api": null,
          "old_text": "DICT_NOTUSED(privdata)",
          "new_text": null,
          "old_line_content": "    DICT_NOTUSED(privdata);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) < count) count = dictSize(d);",
          "new_line_content": "    unsigned int j; /* internal hash table id, 0 or 1. */",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(key)",
          "new_text": null,
          "old_line_content": "    zfree(key);",
          "new_line_content": "static void _dictStringDestructor(void *privdata, void *key)",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "            _dictRehashStep(d);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "_dictExpandIfNeeded",
          "new_api": null,
          "old_text": "_dictExpandIfNeeded(d)",
          "new_text": null,
          "old_line_content": "    if (_dictExpandIfNeeded(d) == DICT_ERR)",
          "new_line_content": "    unsigned int h, idx, table;",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    tables = dictIsRehashing(d) ? 2 : 1;",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "dictHashKey",
          "new_api": null,
          "old_text": "dictHashKey(d, key)",
          "new_text": null,
          "old_line_content": "    h = dictHashKey(d, key);",
          "new_line_content": "    /* Expand the hash table if needed */",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "    unsigned int i = random() & maxsizemask;",
          "new_line_content": "    if (tables > 1 && maxsizemask < d->ht[1].sizemask)",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "dictCompareKeys",
          "new_api": null,
          "old_text": "dictCompareKeys(d, key, he->key)",
          "new_text": null,
          "old_line_content": "            if (dictCompareKeys(d, key, he->key))",
          "new_line_content": "        idx = h & d->ht[table].sizemask;",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return 0;",
          "new_line_content": "    dictht *t0, *t1;",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (!dictIsRehashing(d)) {",
          "new_line_content": "    unsigned long m0, m1;",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "_dictClear",
          "new_api": null,
          "old_text": "_dictClear(d,&d->ht[0],callback)",
          "new_text": null,
          "old_line_content": "    _dictClear(d,&d->ht[0],callback);",
          "new_line_content": "    return idx;",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "_dictClear",
          "new_api": null,
          "old_text": "_dictClear(d,&d->ht[1],callback)",
          "new_text": null,
          "old_line_content": "    _dictClear(d,&d->ht[1],callback);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "fn",
          "new_api": null,
          "old_text": "fn(privdata, de)",
          "new_text": null,
          "old_line_content": "            fn(privdata, de);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "fn",
          "new_api": null,
          "old_text": "fn(privdata, de)",
          "new_text": null,
          "old_line_content": "            fn(privdata, de);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"No stats available for empty dictionaries\\n\")",
          "new_text": null,
          "old_line_content": "        printf(\"No stats available for empty dictionaries\\n\");",
          "new_line_content": "    unsigned long totchainlen = 0;",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "fn",
          "new_api": null,
          "old_text": "fn(privdata, de)",
          "new_text": null,
          "old_line_content": "                fn(privdata, de);",
          "new_line_content": "        do {",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "            h = random() % (d->ht[0].size+d->ht[1].size);",
          "new_line_content": "            /* We are sure there are no elements in indexes from 0",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"Hash table stats:\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"Hash table stats:\\n\");",
          "new_line_content": "        clvector[(chainlen < DICT_STATS_VECTLEN) ? chainlen : (DICT_STATS_VECTLEN-1)]++;",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "    v = rev(v);",
          "new_line_content": "     * operates on the masked bits of the smaller table */",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\" number of elements: %ld\\n\", ht->used)",
          "new_text": null,
          "old_line_content": "    printf(\" number of elements: %ld\\n\", ht->used);",
          "new_line_content": "        totchainlen += chainlen;",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "    v = rev(v);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 3,
      "total_additions": 39,
      "total_deletions": 39,
      "total_api_changes": 81
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 81,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          635,
          637,
          638
        ]
      }
    },
    "api_calls_before": 120,
    "api_calls_after": 120,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 1,
      "total_diff_lines": 18
    }
  }
}