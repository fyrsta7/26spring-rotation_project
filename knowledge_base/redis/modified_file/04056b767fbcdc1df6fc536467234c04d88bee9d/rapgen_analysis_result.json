{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/04056b767fbcdc1df6fc536467234c04d88bee9d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/04056b767fbcdc1df6fc536467234c04d88bee9d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/04056b767fbcdc1df6fc536467234c04d88bee9d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/04056b767fbcdc1df6fc536467234c04d88bee9d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 763,
          "old_api": "dbDelete",
          "new_api": "zfree",
          "old_text": "dbDelete(c->db,targetkey)",
          "new_text": "zfree(src)",
          "old_line_content": "    } else if (dbDelete(c->db,targetkey)) {",
          "new_line_content": "    zfree(src);",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "signalModifiedKey",
          "new_api": "zfree",
          "old_text": "signalModifiedKey(c,c->db,targetkey)",
          "new_text": "zfree(len)",
          "old_line_content": "        signalModifiedKey(c,c->db,targetkey);",
          "new_line_content": "    zfree(len);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "notifyKeyspaceEvent",
          "new_api": "zfree",
          "old_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"del\",targetkey,c->db->id)",
          "new_text": "zfree(objects)",
          "old_line_content": "        notifyKeyspaceEvent(NOTIFY_GENERIC,\"del\",targetkey,c->db->id);",
          "new_line_content": "    zfree(objects);",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "lookupKeyReadOrReply",
          "new_api": "addReplyLongLong",
          "old_text": "lookupKeyReadOrReply(c,c->argv[1],shared.czero)",
          "new_text": "addReplyLongLong(c,maxlen)",
          "old_line_content": "    if ((o = lookupKeyReadOrReply(c,c->argv[1],shared.czero)) == NULL ||",
          "new_line_content": "    addReplyLongLong(c,maxlen); /* Return the output string length in bytes. */",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "addReply",
          "new_api": "checkType",
          "old_text": "addReply(c,shared.czero)",
          "new_text": "checkType(c,o,OBJ_STRING)",
          "old_line_content": "            addReply(c,shared.czero);",
          "new_line_content": "        checkType(c,o,OBJ_STRING)) return;",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "redisPopcount",
          "new_api": "addReply",
          "old_text": "redisPopcount(p+start,bytes)",
          "new_text": "addReply(c,shared.syntaxerr)",
          "old_line_content": "        addReplyLongLong(c,redisPopcount(p+start,bytes));",
          "new_line_content": "        addReply(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "addReplyLongLong",
          "new_api": "getLongFromObjectOrReply",
          "old_text": "addReplyLongLong(c, bit ? -1 : 0)",
          "new_text": "getLongFromObjectOrReply(c,c->argv[2],&bit,NULL)",
          "old_line_content": "        addReplyLongLong(c, bit ? -1 : 0);",
          "new_line_content": "    if (getLongFromObjectOrReply(c,c->argv[2],&bit,NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "checkType",
          "new_api": "addReplyError",
          "old_text": "checkType(c,o,OBJ_STRING)",
          "new_text": "addReplyError(c, \"The bit argument must be 1 or 0.\")",
          "old_line_content": "    if (checkType(c,o,OBJ_STRING)) return;",
          "new_line_content": "        addReplyError(c, \"The bit argument must be 1 or 0.\");",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "getLongFromObjectOrReply",
          "new_api": "addReplyLongLong",
          "old_text": "getLongFromObjectOrReply(c,c->argv[4],&end,NULL)",
          "new_text": "addReplyLongLong(c, bit ? -1 : 0)",
          "old_line_content": "            if (getLongFromObjectOrReply(c,c->argv[4],&end,NULL) != C_OK)",
          "new_line_content": "        addReplyLongLong(c, bit ? -1 : 0);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "zfree",
          "new_api": "strcasecmp",
          "old_text": "zfree(ops)",
          "new_text": "strcasecmp(subcmd,\"overflow\")",
          "old_line_content": "                zfree(ops);",
          "new_line_content": "        else if (!strcasecmp(subcmd,\"overflow\") && remargs >= 1) {",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "addReply",
          "new_api": "strcasecmp",
          "old_text": "addReply(c,shared.syntaxerr)",
          "new_text": "strcasecmp(owtypename,\"sat\")",
          "old_line_content": "            addReply(c,shared.syntaxerr);",
          "new_line_content": "            else if (!strcasecmp(owtypename,\"sat\"))",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "getBitfieldTypeFromArgument",
          "new_api": "zfree",
          "old_text": "getBitfieldTypeFromArgument(c,c->argv[j+1],&sign,&bits)",
          "new_text": "zfree(ops)",
          "old_line_content": "        if (getBitfieldTypeFromArgument(c,c->argv[j+1],&sign,&bits) != C_OK) {",
          "new_line_content": "                zfree(ops);",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "getBitOffsetFromArgument",
          "new_api": "addReply",
          "old_text": "getBitOffsetFromArgument(c,c->argv[j+2],&bitoffset,1,bits)",
          "new_text": "addReply(c,shared.syntaxerr)",
          "old_line_content": "        if (getBitOffsetFromArgument(c,c->argv[j+2],&bitoffset,1,bits) != C_OK){",
          "new_line_content": "            addReply(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "zfree",
          "new_api": "getBitOffsetFromArgument",
          "old_text": "zfree(ops)",
          "new_text": "getBitOffsetFromArgument(c,c->argv[j+2],&bitoffset,1,bits)",
          "old_line_content": "                zfree(ops);",
          "new_line_content": "        if (getBitOffsetFromArgument(c,c->argv[j+2],&bitoffset,1,bits) != C_OK){",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "checkSignedBitfieldOverflow",
          "new_api": "getSignedBitfield",
          "old_text": "checkSignedBitfieldOverflow(newval,\n                            0,thisop->bits,thisop->owtype,&wrapped)",
          "new_text": "getSignedBitfield(o->ptr,thisop->offset,\n                        thisop->bits)",
          "old_line_content": "                    overflow = checkSignedBitfieldOverflow(newval,",
          "new_line_content": "                oldval = getSignedBitfield(o->ptr,thisop->offset,",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "checkUnsignedBitfieldOverflow",
          "new_api": "addReplyNull",
          "old_text": "checkUnsignedBitfieldOverflow(oldval,\n                            thisop->i64,thisop->bits,thisop->owtype,&wrapped)",
          "new_text": "addReplyNull(c)",
          "old_line_content": "                    overflow = checkUnsignedBitfieldOverflow(oldval,",
          "new_line_content": "                    addReplyNull(c);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "checkUnsignedBitfieldOverflow",
          "new_api": "getUnsignedBitfield",
          "old_text": "checkUnsignedBitfieldOverflow(newval,\n                            0,thisop->bits,thisop->owtype,&wrapped)",
          "new_text": "getUnsignedBitfield(o->ptr,thisop->offset,\n                        thisop->bits)",
          "old_line_content": "                    overflow = checkUnsignedBitfieldOverflow(newval,",
          "new_line_content": "                oldval = getUnsignedBitfield(o->ptr,thisop->offset,",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "getSignedBitfield",
          "new_api": "memset",
          "old_text": "getSignedBitfield(buf,thisop->offset-(byte*8),\n                                            thisop->bits)",
          "new_text": "memset(buf,0,9)",
          "old_line_content": "                int64_t val = getSignedBitfield(buf,thisop->offset-(byte*8),",
          "new_line_content": "            memset(buf,0,9);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "notifyKeyspaceEvent",
          "new_api": "addReplyLongLong",
          "old_text": "notifyKeyspaceEvent(NOTIFY_STRING,\"setbit\",c->argv[1],c->db->id)",
          "new_text": "addReplyLongLong(c,val)",
          "old_line_content": "        notifyKeyspaceEvent(NOTIFY_STRING,\"setbit\",c->argv[1],c->db->id);",
          "new_line_content": "                addReplyLongLong(c,val);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "bitfieldGeneric",
          "new_api": "notifyKeyspaceEvent",
          "old_text": "bitfieldGeneric(c, BITFIELD_FLAG_READONLY)",
          "new_text": "notifyKeyspaceEvent(NOTIFY_STRING,\"setbit\",c->argv[1],c->db->id)",
          "old_line_content": "    bitfieldGeneric(c, BITFIELD_FLAG_READONLY);",
          "new_line_content": "        notifyKeyspaceEvent(NOTIFY_STRING,\"setbit\",c->argv[1],c->db->id);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1024,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c, \"BITFIELD_RO only supports the GET subcommand\")",
          "old_line_content": "    }",
          "new_line_content": "            addReplyError(c, \"BITFIELD_RO only supports the GET subcommand\");",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "signalModifiedKey",
          "old_text": null,
          "new_text": "signalModifiedKey(c,c->db,c->argv[1])",
          "old_line_content": "void bitfieldroCommand(client *c) {",
          "new_line_content": "        signalModifiedKey(c,c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "createObject",
          "old_text": null,
          "new_text": "createObject(OBJ_STRING,res)",
          "old_line_content": "}",
          "new_line_content": "        o = createObject(OBJ_STRING,res);",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "setKey",
          "old_text": null,
          "new_text": "setKey(c,c->db,targetkey,o)",
          "old_line_content": "",
          "new_line_content": "        setKey(c,c->db,targetkey,o);",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "",
          "new_line_content": "    zfree(ops);",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "notifyKeyspaceEvent",
          "old_text": null,
          "new_text": "notifyKeyspaceEvent(NOTIFY_STRING,\"set\",targetkey,c->db->id)",
          "old_line_content": "/* BITCOUNT key [start end] */",
          "new_line_content": "        notifyKeyspaceEvent(NOTIFY_STRING,\"set\",targetkey,c->db->id);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "lookupStringForBitCommand",
          "old_text": null,
          "new_text": "lookupStringForBitCommand(c,\n            highest_write_offset)",
          "old_line_content": "        struct bitfieldOp *thisop = ops+j;",
          "new_line_content": "        if ((o = lookupStringForBitCommand(c,",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(o)",
          "old_line_content": "void bitcountCommand(client *c) {",
          "new_line_content": "        decrRefCount(o);",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "        /* Execute the operation. */",
          "new_line_content": "            zfree(ops);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "bitfieldGeneric",
          "old_text": null,
          "new_text": "bitfieldGeneric(c, BITFIELD_FLAG_NONE)",
          "old_line_content": "",
          "new_line_content": "    bitfieldGeneric(c, BITFIELD_FLAG_NONE);",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": null,
          "new_api": "dbDelete",
          "old_text": null,
          "new_text": "dbDelete(c->db,targetkey)",
          "old_line_content": "    long start, end, strlen;",
          "new_line_content": "    } else if (dbDelete(c->db,targetkey)) {",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "signalModifiedKey",
          "old_text": null,
          "new_text": "signalModifiedKey(c,c->db,targetkey)",
          "old_line_content": "    unsigned char *p;",
          "new_line_content": "        signalModifiedKey(c,c->db,targetkey);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "bitfieldGeneric",
          "old_text": null,
          "new_text": "bitfieldGeneric(c, BITFIELD_FLAG_READONLY)",
          "old_line_content": "",
          "new_line_content": "    bitfieldGeneric(c, BITFIELD_FLAG_READONLY);",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": null,
          "new_api": "addReplyArrayLen",
          "old_text": null,
          "new_text": "addReplyArrayLen(c,numops)",
          "old_line_content": "             * for simplicity. SET return value is the previous value so",
          "new_line_content": "    addReplyArrayLen(c,numops);",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": null,
          "new_api": "notifyKeyspaceEvent",
          "old_text": null,
          "new_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"del\",targetkey,c->db->id)",
          "old_line_content": "    char llbuf[LONG_STR_SIZE];",
          "new_line_content": "        notifyKeyspaceEvent(NOTIFY_GENERIC,\"del\",targetkey,c->db->id);",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,pos)",
          "old_line_content": " * OVERFLOW [WRAP|SAT|FAIL]",
          "new_line_content": "        addReplyLongLong(c,pos);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "         * this operation. */",
          "new_line_content": "            zfree(ops);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "lookupKeyReadOrReply",
          "old_text": null,
          "new_text": "lookupKeyReadOrReply(c,c->argv[1],shared.czero)",
          "old_line_content": "        if (start < 0 && end < 0 && start > end) {",
          "new_line_content": "    if ((o = lookupKeyReadOrReply(c,c->argv[1],shared.czero)) == NULL ||",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "getObjectReadOnlyString",
          "old_text": null,
          "new_text": "getObjectReadOnlyString(o,&strlen,llbuf)",
          "old_line_content": "            return;",
          "new_line_content": "    p = getObjectReadOnlyString(o,&strlen,llbuf);",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": null,
          "new_api": "getLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongFromObjectOrReply(c,c->argv[2],&start,NULL)",
          "old_line_content": "        if (start < 0) start = 0;",
          "new_line_content": "        if (getLongFromObjectOrReply(c,c->argv[2],&start,NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "getLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongFromObjectOrReply(c,c->argv[3],&end,NULL)",
          "old_line_content": "        if (end >= strlen) end = strlen-1;",
          "new_line_content": "        if (getLongFromObjectOrReply(c,c->argv[3],&end,NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "        end = strlen-1;",
          "new_line_content": "            addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "checkSignedBitfieldOverflow",
          "old_text": null,
          "new_text": "checkSignedBitfieldOverflow(oldval,\n                            thisop->i64,thisop->bits,thisop->owtype,&wrapped)",
          "old_line_content": "",
          "new_line_content": "                    overflow = checkSignedBitfieldOverflow(oldval,",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "checkSignedBitfieldOverflow",
          "old_text": null,
          "new_text": "checkSignedBitfieldOverflow(newval,\n                            0,thisop->bits,thisop->owtype,&wrapped)",
          "old_line_content": "                                      thisop->bits,newval);",
          "new_line_content": "                    overflow = checkSignedBitfieldOverflow(newval,",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,retval)",
          "old_line_content": "                        thisop->bits);",
          "new_line_content": "                    addReplyLongLong(c,retval);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "setSignedBitfield",
          "old_text": null,
          "new_text": "setSignedBitfield(o->ptr,thisop->offset,\n                                      thisop->bits,newval)",
          "old_line_content": "",
          "new_line_content": "                    setSignedBitfield(o->ptr,thisop->offset,",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "    long bit, start, end, strlen;",
          "new_line_content": "        addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,-1)",
          "old_line_content": " *",
          "new_line_content": "            addReplyLongLong(c,-1);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "redisPopcount",
          "old_text": null,
          "new_text": "redisPopcount(p+start,bytes)",
          "old_line_content": "",
          "new_line_content": "        addReplyLongLong(c,redisPopcount(p+start,bytes));",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(subcmd,\"incrby\")",
          "old_line_content": "            else {",
          "new_line_content": "        else if (!strcasecmp(subcmd,\"incrby\") && remargs >= 3)",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(owtypename,\"wrap\")",
          "old_line_content": "            continue;",
          "new_line_content": "            if (!strcasecmp(owtypename,\"wrap\"))",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(owtypename,\"fail\")",
          "old_line_content": "            return;",
          "new_line_content": "            else if (!strcasecmp(owtypename,\"fail\"))",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "checkUnsignedBitfieldOverflow",
          "old_text": null,
          "new_text": "checkUnsignedBitfieldOverflow(oldval,\n                            thisop->i64,thisop->bits,thisop->owtype,&wrapped)",
          "old_line_content": "                /* On overflow of type is \"FAIL\", don't write and return",
          "new_line_content": "                    overflow = checkUnsignedBitfieldOverflow(oldval,",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c,\"Invalid OVERFLOW type specified\")",
          "old_line_content": "        /* Get the type and offset arguments, common to all the ops. */",
          "new_line_content": "                addReplyError(c,\"Invalid OVERFLOW type specified\");",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "checkUnsignedBitfieldOverflow",
          "old_text": null,
          "new_text": "checkUnsignedBitfieldOverflow(newval,\n                            0,thisop->bits,thisop->owtype,&wrapped)",
          "old_line_content": "                } else {",
          "new_line_content": "                    overflow = checkUnsignedBitfieldOverflow(newval,",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,retval)",
          "old_line_content": "            long strlen = 0;",
          "new_line_content": "                    addReplyLongLong(c,retval);",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "setUnsignedBitfield",
          "old_text": null,
          "new_text": "setUnsignedBitfield(o->ptr,thisop->offset,\n                                        thisop->bits,newval)",
          "old_line_content": "            unsigned char *src = NULL;",
          "new_line_content": "                    setUnsignedBitfield(o->ptr,thisop->offset,",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "lookupKeyRead",
          "old_text": null,
          "new_text": "lookupKeyRead(c->db,c->argv[1])",
          "old_line_content": "        if (c->argc == 5) {",
          "new_line_content": "    if ((o = lookupKeyRead(c->db,c->argv[1])) == NULL) {",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "getBitfieldTypeFromArgument",
          "old_text": null,
          "new_text": "getBitfieldTypeFromArgument(c,c->argv[j+1],&sign,&bits)",
          "old_line_content": "            readonly = 0;",
          "new_line_content": "        if (getBitfieldTypeFromArgument(c,c->argv[j+1],&sign,&bits) != C_OK) {",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "addReplyNull",
          "old_text": null,
          "new_text": "addReplyNull(c)",
          "old_line_content": "            if (o != NULL)",
          "new_line_content": "                    addReplyNull(c);",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "checkType",
          "old_text": null,
          "new_text": "checkType(c,o,OBJ_STRING)",
          "old_line_content": "        } else {",
          "new_line_content": "    if (checkType(c,o,OBJ_STRING)) return;",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "getObjectReadOnlyString",
          "old_text": null,
          "new_text": "getObjectReadOnlyString(o,&strlen,llbuf)",
          "old_line_content": "            end = strlen-1;",
          "new_line_content": "    p = getObjectReadOnlyString(o,&strlen,llbuf);",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "            if (highest_write_offset < bitoffset + bits - 1)",
          "new_line_content": "            zfree(ops);",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "                return;",
          "new_line_content": "            zfree(ops);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "getLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongFromObjectOrReply(c,c->argv[3],&start,NULL)",
          "old_line_content": "        if (end < 0) end = strlen+end;",
          "new_line_content": "        if (getLongFromObjectOrReply(c,c->argv[3],&start,NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "lookupKeyRead",
          "old_text": null,
          "new_text": "lookupKeyRead(c->db,c->argv[1])",
          "old_line_content": "",
          "new_line_content": "        o = lookupKeyRead(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "getLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongFromObjectOrReply(c,c->argv[4],&end,NULL)",
          "old_line_content": "        if (end >= strlen) end = strlen-1;",
          "new_line_content": "            if (getLongFromObjectOrReply(c,c->argv[4],&end,NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "getLongLongFromObjectOrReply",
          "old_text": null,
          "new_text": "getLongLongFromObjectOrReply(c,c->argv[j+3],&i64,NULL)",
          "old_line_content": "        ops[numops].owtype = owtype;",
          "new_line_content": "            if (getLongLongFromObjectOrReply(c,c->argv[j+3],&i64,NULL) != C_OK){",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "getObjectReadOnlyString",
          "old_text": null,
          "new_text": "getObjectReadOnlyString(o,&strlen,llbuf)",
          "old_line_content": "                buf[i] = src[i+byte];",
          "new_line_content": "                src = getObjectReadOnlyString(o,&strlen,llbuf);",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "        ops[numops].bits = bits;",
          "new_line_content": "                zfree(ops);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "zrealloc",
          "old_text": null,
          "new_text": "zrealloc(ops,sizeof(*ops)*(numops+1))",
          "old_line_content": "",
          "new_line_content": "        ops = zrealloc(ops,sizeof(*ops)*(numops+1));",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.syntaxerr)",
          "old_line_content": "",
          "new_line_content": "        addReply(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "getSignedBitfield",
          "old_text": null,
          "new_text": "getSignedBitfield(buf,thisop->offset-(byte*8),\n                                            thisop->bits)",
          "old_line_content": "    if (changes) {",
          "new_line_content": "                int64_t val = getSignedBitfield(buf,thisop->offset-(byte*8),",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c, -1)",
          "old_line_content": "         * is not a single \"0\" bit. */",
          "new_line_content": "        addReplyLongLong(c, -1);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "getUnsignedBitfield",
          "old_text": null,
          "new_text": "getUnsignedBitfield(buf,thisop->offset-(byte*8),\n                                            thisop->bits)",
          "old_line_content": "    }",
          "new_line_content": "                uint64_t val = getUnsignedBitfield(buf,thisop->offset-(byte*8),",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "checkType",
          "old_text": null,
          "new_text": "checkType(c,o,OBJ_STRING)",
          "old_line_content": "        /* Lookup by making room up to the farest bit reached by",
          "new_line_content": "        if (o != NULL && checkType(c,o,OBJ_STRING)) {",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,val)",
          "old_line_content": "}",
          "new_line_content": "                addReplyLongLong(c,val);",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "redisBitpos",
          "old_text": null,
          "new_text": "redisBitpos(p+start,bytes,bit)",
          "old_line_content": "            return;",
          "new_line_content": "        long pos = redisBitpos(p+start,bytes,bit);",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(ops)",
          "old_line_content": "        }",
          "new_line_content": "            zfree(ops);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 768,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,maxlen)",
          "new_text": null,
          "old_line_content": "    addReplyLongLong(c,maxlen); /* Return the output string length in bytes. */",
          "new_line_content": "    if (maxlen) {",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "addReplyArrayLen",
          "new_api": null,
          "old_text": "addReplyArrayLen(c,numops)",
          "new_text": null,
          "old_line_content": "    addReplyArrayLen(c,numops);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "lookupStringForBitCommand",
          "new_api": null,
          "old_text": "lookupStringForBitCommand(c,\n            highest_write_offset)",
          "new_text": null,
          "old_line_content": "        if ((o = lookupStringForBitCommand(c,",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "checkType",
          "new_api": null,
          "old_text": "checkType(c,o,OBJ_STRING)",
          "new_text": null,
          "old_line_content": "        checkType(c,o,OBJ_STRING)) return;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "getObjectReadOnlyString",
          "new_api": null,
          "old_text": "getObjectReadOnlyString(o,&strlen,llbuf)",
          "new_text": null,
          "old_line_content": "    p = getObjectReadOnlyString(o,&strlen,llbuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(ops)",
          "new_text": null,
          "old_line_content": "            zfree(ops);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "getLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongFromObjectOrReply(c,c->argv[2],&start,NULL)",
          "new_text": null,
          "old_line_content": "        if (getLongFromObjectOrReply(c,c->argv[2],&start,NULL) != C_OK)",
          "new_line_content": "    long start, end, strlen;",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "getLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongFromObjectOrReply(c,c->argv[3],&end,NULL)",
          "new_text": null,
          "old_line_content": "        if (getLongFromObjectOrReply(c,c->argv[3],&end,NULL) != C_OK)",
          "new_line_content": "    char llbuf[LONG_STR_SIZE];",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "getSignedBitfield",
          "new_api": null,
          "old_text": "getSignedBitfield(o->ptr,thisop->offset,\n                        thisop->bits)",
          "new_text": null,
          "old_line_content": "                oldval = getSignedBitfield(o->ptr,thisop->offset,",
          "new_line_content": "            /* SET and INCRBY: We handle both with the same code path",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "checkSignedBitfieldOverflow",
          "new_api": null,
          "old_text": "checkSignedBitfieldOverflow(oldval,\n                            thisop->i64,thisop->bits,thisop->owtype,&wrapped)",
          "new_text": null,
          "old_line_content": "                    overflow = checkSignedBitfieldOverflow(oldval,",
          "new_line_content": "             * and unsigned operations, since the set of functions to get/set",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.syntaxerr);",
          "new_line_content": "        if (start < 0) start = strlen+start;",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,retval)",
          "new_text": null,
          "old_line_content": "                    addReplyLongLong(c,retval);",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "setSignedBitfield",
          "new_api": null,
          "old_text": "setSignedBitfield(o->ptr,thisop->offset,\n                                      thisop->bits,newval)",
          "new_text": null,
          "old_line_content": "                    setSignedBitfield(o->ptr,thisop->offset,",
          "new_line_content": "                    newval = thisop->i64;",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.czero)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.czero);",
          "new_line_content": "        start = 0;",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(subcmd,\"get\")",
          "new_text": null,
          "old_line_content": "        if (!strcasecmp(subcmd,\"get\") && remargs >= 2)",
          "new_line_content": "    int readonly = 1;",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "addReplyNull",
          "new_api": null,
          "old_text": "addReplyNull(c)",
          "new_text": null,
          "old_line_content": "                    addReplyNull(c);",
          "new_line_content": "                    if (overflow) newval = wrapped;",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(subcmd,\"set\")",
          "new_text": null,
          "old_line_content": "        else if (!strcasecmp(subcmd,\"set\") && remargs >= 3)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(subcmd,\"incrby\")",
          "new_text": null,
          "old_line_content": "        else if (!strcasecmp(subcmd,\"incrby\") && remargs >= 3)",
          "new_line_content": "        int remargs = c->argc-j-1; /* Remaining args other than current. */",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(subcmd,\"overflow\")",
          "new_text": null,
          "old_line_content": "        else if (!strcasecmp(subcmd,\"overflow\") && remargs >= 1) {",
          "new_line_content": "        int opcode; /* Current operation code. */",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "getUnsignedBitfield",
          "new_api": null,
          "old_text": "getUnsignedBitfield(o->ptr,thisop->offset,\n                        thisop->bits)",
          "new_text": null,
          "old_line_content": "                oldval = getUnsignedBitfield(o->ptr,thisop->offset,",
          "new_line_content": "                if (!(overflow && thisop->owtype == BFOVERFLOW_FAIL)) {",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(owtypename,\"wrap\")",
          "new_text": null,
          "old_line_content": "            if (!strcasecmp(owtypename,\"wrap\"))",
          "new_line_content": "        int bits = 0; /* Bitfield width in bits. */",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"Invalid OVERFLOW type specified\")",
          "new_text": null,
          "old_line_content": "                addReplyError(c,\"Invalid OVERFLOW type specified\");",
          "new_line_content": "            opcode = BITFIELDOP_INCRBY;",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": "getLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongFromObjectOrReply(c,c->argv[2],&bit,NULL)",
          "new_text": null,
          "old_line_content": "    if (getLongFromObjectOrReply(c,c->argv[2],&bit,NULL) != C_OK)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c, \"The bit argument must be 1 or 0.\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c, \"The bit argument must be 1 or 0.\");",
          "new_line_content": "    robj *o;",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "lookupKeyRead",
          "new_api": null,
          "old_text": "lookupKeyRead(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "        o = lookupKeyRead(c->db,c->argv[1]);",
          "new_line_content": "        ops[numops].owtype = owtype;",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(ops)",
          "new_text": null,
          "old_line_content": "            zfree(ops);",
          "new_line_content": "                owtype = BFOVERFLOW_SAT;",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "checkType",
          "new_api": null,
          "old_text": "checkType(c,o,OBJ_STRING)",
          "new_text": null,
          "old_line_content": "        if (o != NULL && checkType(c,o,OBJ_STRING)) {",
          "new_line_content": "        ops[numops].bits = bits;",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,retval)",
          "new_text": null,
          "old_line_content": "                    addReplyLongLong(c,retval);",
          "new_line_content": "                    retval = newval;",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "setUnsignedBitfield",
          "new_api": null,
          "old_text": "setUnsignedBitfield(o->ptr,thisop->offset,\n                                        thisop->bits,newval)",
          "new_text": null,
          "old_line_content": "                    setUnsignedBitfield(o->ptr,thisop->offset,",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "lookupKeyRead",
          "new_api": null,
          "old_text": "lookupKeyRead(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "    if ((o = lookupKeyRead(c->db,c->argv[1])) == NULL) {",
          "new_line_content": "     * or clear bits. */",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(ops)",
          "new_text": null,
          "old_line_content": "            zfree(ops);",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "addReplyNull",
          "new_api": null,
          "old_text": "addReplyNull(c)",
          "new_text": null,
          "old_line_content": "                    addReplyNull(c);",
          "new_line_content": "                            0,thisop->bits,thisop->owtype,&wrapped);",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "getObjectReadOnlyString",
          "new_api": null,
          "old_text": "getObjectReadOnlyString(o,&strlen,llbuf)",
          "new_text": null,
          "old_line_content": "    p = getObjectReadOnlyString(o,&strlen,llbuf);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(ops)",
          "new_text": null,
          "old_line_content": "            zfree(ops);",
          "new_line_content": "        ops[numops].sign = sign;",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "getLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongFromObjectOrReply(c,c->argv[3],&start,NULL)",
          "new_text": null,
          "old_line_content": "        if (getLongFromObjectOrReply(c,c->argv[3],&start,NULL) != C_OK)",
          "new_line_content": "     * array of 0 bits. If the user is looking for the fist clear bit return 0,",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "getLongLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongLongFromObjectOrReply(c,c->argv[j+3],&i64,NULL)",
          "new_text": null,
          "old_line_content": "            if (getLongLongFromObjectOrReply(c,c->argv[j+3],&i64,NULL) != C_OK){",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "getObjectReadOnlyString",
          "new_api": null,
          "old_text": "getObjectReadOnlyString(o,&strlen,llbuf)",
          "new_text": null,
          "old_line_content": "                src = getObjectReadOnlyString(o,&strlen,llbuf);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(buf,0,9)",
          "new_text": null,
          "old_line_content": "            memset(buf,0,9);",
          "new_line_content": "            long strlen = 0;",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "zrealloc",
          "new_api": null,
          "old_text": "zrealloc(ops,sizeof(*ops)*(numops+1))",
          "new_text": null,
          "old_line_content": "        ops = zrealloc(ops,sizeof(*ops)*(numops+1));",
          "new_line_content": "            readonly = 0;",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.syntaxerr);",
          "new_line_content": "        if (start < 0) start = strlen+start;",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,val)",
          "new_text": null,
          "old_line_content": "                addReplyLongLong(c,val);",
          "new_line_content": "            size_t byte = thisop->offset >> 3;",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "getUnsignedBitfield",
          "new_api": null,
          "old_text": "getUnsignedBitfield(buf,thisop->offset-(byte*8),\n                                            thisop->bits)",
          "new_text": null,
          "old_line_content": "                uint64_t val = getUnsignedBitfield(buf,thisop->offset-(byte*8),",
          "new_line_content": "                if (src == NULL || i+byte >= (size_t)strlen) break;",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "decrRefCount",
          "new_api": null,
          "old_text": "decrRefCount(objects[j])",
          "new_text": null,
          "old_line_content": "            decrRefCount(objects[j]);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,val)",
          "new_text": null,
          "old_line_content": "                addReplyLongLong(c,val);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(src)",
          "new_text": null,
          "old_line_content": "    zfree(src);",
          "new_line_content": "                if (skip) {",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(len)",
          "new_text": null,
          "old_line_content": "    zfree(len);",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(objects)",
          "new_text": null,
          "old_line_content": "    zfree(objects);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c, -1)",
          "new_text": null,
          "old_line_content": "        addReplyLongLong(c, -1);",
          "new_line_content": "        start = 0;",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "redisBitpos",
          "new_api": null,
          "old_text": "redisBitpos(p+start,bytes,bit)",
          "new_text": null,
          "old_line_content": "        long pos = redisBitpos(p+start,bytes,bit);",
          "new_line_content": "        /* Syntax error. */",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "signalModifiedKey",
          "new_api": null,
          "old_text": "signalModifiedKey(c,c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "        signalModifiedKey(c,c->db,c->argv[1]);",
          "new_line_content": "                                            thisop->bits);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "createObject",
          "new_api": null,
          "old_text": "createObject(OBJ_STRING,res)",
          "new_text": null,
          "old_line_content": "        o = createObject(OBJ_STRING,res);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "setKey",
          "new_api": null,
          "old_text": "setKey(c,c->db,targetkey,o)",
          "new_text": null,
          "old_line_content": "        setKey(c,c->db,targetkey,o);",
          "new_line_content": "    for (j = 0; j < numkeys; j++) {",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "notifyKeyspaceEvent",
          "new_api": null,
          "old_text": "notifyKeyspaceEvent(NOTIFY_STRING,\"set\",targetkey,c->db->id)",
          "new_text": null,
          "old_line_content": "        notifyKeyspaceEvent(NOTIFY_STRING,\"set\",targetkey,c->db->id);",
          "new_line_content": "        if (objects[j])",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(ops)",
          "new_text": null,
          "old_line_content": "    zfree(ops);",
          "new_line_content": "                                            thisop->bits);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,-1)",
          "new_text": null,
          "old_line_content": "            addReplyLongLong(c,-1);",
          "new_line_content": "        long bytes = end-start+1;",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(ops)",
          "new_text": null,
          "old_line_content": "            zfree(ops);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c, \"BITFIELD_RO only supports the GET subcommand\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c, \"BITFIELD_RO only supports the GET subcommand\");",
          "new_line_content": "    if (readonly) {",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "bitfieldGeneric",
          "new_api": null,
          "old_text": "bitfieldGeneric(c, BITFIELD_FLAG_NONE)",
          "new_text": null,
          "old_line_content": "    bitfieldGeneric(c, BITFIELD_FLAG_NONE);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,pos)",
          "new_text": null,
          "old_line_content": "        addReplyLongLong(c,pos);",
          "new_line_content": "         * range with start-end, we can't consider the right of the range as",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 20,
      "total_additions": 59,
      "total_deletions": 59,
      "total_api_changes": 138
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 138,
        "non_api_lines": 11,
        "non_api_line_numbers": [
          738,
          740,
          741,
          742,
          743,
          744,
          745,
          746,
          747,
          748,
          751
        ]
      }
    },
    "api_calls_before": 142,
    "api_calls_after": 142,
    "diff_info": {
      "added_lines": 13,
      "removed_lines": 2,
      "total_diff_lines": 31
    }
  }
}