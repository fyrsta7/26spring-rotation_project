{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/34d5804d4c85d077b6af6265ebd86f35ecca89de",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/34d5804d4c85d077b6af6265ebd86f35ecca89de/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/34d5804d4c85d077b6af6265ebd86f35ecca89de/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/34d5804d4c85d077b6af6265ebd86f35ecca89de/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 258,
          "old_api": "s_realloc",
          "new_api": "sdsHdrSize",
          "old_text": "s_realloc(sh, hdrlen+len+1)",
          "new_text": "sdsHdrSize(type)",
          "old_line_content": "        newsh = s_realloc(sh, hdrlen+len+1);",
          "new_line_content": "    hdrlen = sdsHdrSize(type);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "s_free",
          "new_api": "s_realloc",
          "old_text": "s_free(sh)",
          "new_text": "s_realloc(sh, oldhdrlen+len+1)",
          "old_line_content": "        s_free(sh);",
          "new_line_content": "        newsh = s_realloc(sh, oldhdrlen+len+1);",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": "sdsHdrSize",
          "new_api": "sdsalloc",
          "old_text": "sdsHdrSize(s[-1])",
          "new_text": "sdsalloc(s)",
          "old_line_content": "    return (void*) (s-sdsHdrSize(s[-1]));",
          "new_line_content": "    size_t alloc = sdsalloc(s);",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "SDS_HDR_VAR",
          "new_api": "SDS_TYPE_5_LEN",
          "old_text": "SDS_HDR_VAR(8,s)",
          "new_text": "SDS_TYPE_5_LEN(flags)",
          "old_line_content": "            SDS_HDR_VAR(8,s);",
          "new_line_content": "            unsigned char oldlen = SDS_TYPE_5_LEN(flags);",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": "assert",
          "new_api": "SDS_HDR_VAR",
          "old_text": "assert((incr >= 0 && sh->alloc-sh->len >= incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)))",
          "new_text": "SDS_HDR_VAR(8,s)",
          "old_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)));",
          "new_line_content": "            SDS_HDR_VAR(8,s);",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "assert",
          "new_api": "SDS_HDR_VAR",
          "old_text": "assert((incr >= 0 && sh->alloc-sh->len >= (unsigned int)incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)))",
          "new_text": "SDS_HDR_VAR(16,s)",
          "old_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= (unsigned int)incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)));",
          "new_line_content": "            SDS_HDR_VAR(16,s);",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "assert",
          "new_api": "SDS_HDR_VAR",
          "old_text": "assert((incr >= 0 && sh->alloc-sh->len >= (uint64_t)incr) || (incr < 0 && sh->len >= (uint64_t)(-incr)))",
          "new_text": "SDS_HDR_VAR(32,s)",
          "old_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= (uint64_t)incr) || (incr < 0 && sh->len >= (uint64_t)(-incr)));",
          "new_line_content": "            SDS_HDR_VAR(32,s);",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "memset",
          "new_api": "sdslen",
          "old_text": "memset(s+curlen,0,(len-curlen+1))",
          "new_text": "sdslen(s)",
          "old_line_content": "    memset(s+curlen,0,(len-curlen+1)); /* also set trailing \\0 byte */",
          "new_line_content": "    size_t curlen = sdslen(s);",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "strlen",
          "new_api": "sdssetlen",
          "old_text": "strlen(t)",
          "new_text": "sdssetlen(s, len)",
          "old_line_content": "    return sdscpylen(s, t, strlen(t));",
          "new_line_content": "    sdssetlen(s, len);",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "strlen",
          "new_api": "sdsnewlen",
          "old_text": "strlen(fmt)",
          "new_text": "sdsnewlen(buf,len)",
          "old_line_content": "    size_t buflen = strlen(fmt)*2;",
          "new_line_content": "    return sdsnewlen(buf,len);",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "va_arg",
          "new_api": "memcpy",
          "old_text": "va_arg(ap,int)",
          "new_text": "memcpy(s+i,str,l)",
          "old_line_content": "                    num = va_arg(ap,int);",
          "new_line_content": "                memcpy(s+i,str,l);",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "sdsMakeRoomFor",
          "new_api": "va_arg",
          "old_text": "sdsMakeRoomFor(s,l)",
          "new_text": "va_arg(ap,int)",
          "old_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "new_line_content": "                    num = va_arg(ap,int);",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "memcpy",
          "new_api": "va_arg",
          "old_text": "memcpy(s+i,buf,l)",
          "new_text": "va_arg(ap,long long)",
          "old_line_content": "                    memcpy(s+i,buf,l);",
          "new_line_content": "                    num = va_arg(ap,long long);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "va_arg",
          "new_api": "sdsinclen",
          "old_text": "va_arg(ap,unsigned int)",
          "new_text": "sdsinclen(s,l)",
          "old_line_content": "                    unum = va_arg(ap,unsigned int);",
          "new_line_content": "                    sdsinclen(s,l);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "sdsMakeRoomFor",
          "new_api": "va_arg",
          "old_text": "sdsMakeRoomFor(s,l)",
          "new_text": "va_arg(ap,unsigned int)",
          "old_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "new_line_content": "                    unum = va_arg(ap,unsigned int);",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "memcpy",
          "new_api": "va_arg",
          "old_text": "memcpy(s+i,buf,l)",
          "new_text": "va_arg(ap,unsigned long long)",
          "old_line_content": "                    memcpy(s+i,buf,l);",
          "new_line_content": "                    unum = va_arg(ap,unsigned long long);",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "sdsinclen",
          "new_api": "memcpy",
          "old_text": "sdsinclen(s,1)",
          "new_text": "memcpy(s+i,buf,l)",
          "old_line_content": "                sdsinclen(s,1);",
          "new_line_content": "                    memcpy(s+i,buf,l);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "sdslen",
          "new_api": "memmove",
          "old_text": "sdslen(s)",
          "new_text": "memmove(s, s+start, newlen)",
          "old_line_content": "    int len = sdslen(s), j;",
          "new_line_content": "    if (start && newlen) memmove(s, s+start, newlen);",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "tolower",
          "new_api": "sdssetlen",
          "old_text": "tolower(s[j])",
          "new_text": "sdssetlen(s,newlen)",
          "old_line_content": "    for (j = 0; j < len; j++) s[j] = tolower(s[j]);",
          "new_line_content": "    sdssetlen(s,newlen);",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "toupper",
          "new_api": "tolower",
          "old_text": "toupper(s[j])",
          "new_text": "tolower(s[j])",
          "old_line_content": "    for (j = 0; j < len; j++) s[j] = toupper(s[j]);",
          "new_line_content": "    for (j = 0; j < len; j++) s[j] = tolower(s[j]);",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "sdscatprintf",
          "new_api": "sdscatlen",
          "old_text": "sdscatprintf(s,\"%c\",*p)",
          "new_text": "sdscatlen(s,\"\\\\n\",2)",
          "old_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "new_line_content": "        case '\\n': s = sdscatlen(s,\"\\\\n\",2); break;",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "sdscatprintf",
          "new_api": "sdscatlen",
          "old_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "new_text": "sdscatlen(s,\"\\\\t\",2)",
          "old_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "new_line_content": "        case '\\t': s = sdscatlen(s,\"\\\\t\",2); break;",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "sdscatlen",
          "new_api": "sdscatprintf",
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": "sdscatprintf(s,\"%c\",*p)",
          "old_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "new_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "sdsempty",
          "new_api": "isspace",
          "old_text": "sdsempty()",
          "new_text": "isspace(*p)",
          "old_line_content": "            if (current == NULL) current = sdsempty();",
          "new_line_content": "        while(*p && isspace(*p)) p++;",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "sdscatlen",
          "new_api": "is_hex_digit",
          "old_text": "sdscatlen(current,(char*)&byte,1)",
          "new_text": "is_hex_digit(*(p+2))",
          "old_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "new_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "s_realloc",
          "new_api": "sdscatlen",
          "old_text": "s_realloc(vector,((*argc)+1)*sizeof(char*))",
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "            vector = s_realloc(vector,((*argc)+1)*sizeof(char*));",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "sdsfree",
          "new_api": "s_malloc",
          "old_text": "sdsfree(vector[*argc])",
          "new_text": "s_malloc(sizeof(void*))",
          "old_line_content": "        sdsfree(vector[*argc]);",
          "new_line_content": "            if (vector == NULL) vector = s_malloc(sizeof(void*));",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "sdsempty",
          "new_api": "sdscat",
          "old_text": "sdsempty()",
          "new_text": "sdscat(join,sep)",
          "old_line_content": "    sds join = sdsempty();",
          "new_line_content": "        if (j != argc-1) join = sdscat(join,sep);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "test_cond",
          "new_api": "sdsnew",
          "old_text": "test_cond(\"Create a string with specified length\",\n            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_text": "sdsnew(\"foo\")",
          "old_line_content": "        test_cond(\"Create a string with specified length\",",
          "new_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "sdscat",
          "new_api": "memcmp",
          "old_text": "sdscat(x,\"bar\")",
          "new_text": "memcmp(x,\"foo\\0\",4)",
          "old_line_content": "        x = sdscat(x,\"bar\");",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(x,\"fobar\\0\",6)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "sdscpy",
          "new_api": "test_cond",
          "old_text": "sdscpy(x,\"a\")",
          "new_text": "test_cond(\"Create a string with specified length\",\n            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "old_line_content": "        x = sdscpy(x,\"a\");",
          "new_line_content": "        test_cond(\"Create a string with specified length\",",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"sdscpy() against an originally longer string\",\n            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "new_text": "memcmp(x,\"fo\\0\",3)",
          "old_line_content": "        test_cond(\"sdscpy() against an originally longer string\",",
          "new_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "sdscpy",
          "new_api": "test_cond",
          "old_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "new_text": "test_cond(\"Strings concatenation\",\n            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0)",
          "old_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "new_line_content": "        test_cond(\"Strings concatenation\",",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"sdscpy() against an originally shorter string\",\n            sdslen(x) == 33 &&\n            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "new_text": "memcmp(x,\"fobar\\0\",6)",
          "old_line_content": "        test_cond(\"sdscpy() against an originally shorter string\",",
          "new_line_content": "            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0);",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "memcmp",
          "new_api": "sdscpy",
          "old_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "new_text": "sdscpy(x,\"a\")",
          "old_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "new_line_content": "        x = sdscpy(x,\"a\");",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(x,\"a\\0\",2)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "test_cond",
          "new_api": "sdscpy",
          "old_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "new_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "old_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "new_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"123\\0\",4)",
          "new_text": "test_cond(\"sdscpy() against an originally shorter string\",\n            sdslen(x) == 33 &&\n            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "new_line_content": "        test_cond(\"sdscpy() against an originally shorter string\",",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "sdscatfmt",
          "new_api": "sdsfree",
          "old_text": "sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX)",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "test_cond",
          "new_api": "sdsempty",
          "old_text": "test_cond(\"sdscatfmt() seems working in the base case\",\n            sdslen(x) == 60 &&\n            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60) == 0)",
          "new_text": "sdsempty()",
          "old_line_content": "        test_cond(\"sdscatfmt() seems working in the base case\",",
          "new_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "old_line_content": "            sdslen(x) == 60 &&",
          "new_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "printf",
          "new_api": "sdsfree",
          "old_text": "printf(\"[%s]\\n\",x)",
          "new_text": "sdsfree(x)",
          "old_line_content": "        printf(\"[%s]\\n\",x);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "sdsfree",
          "new_api": "sdscatfmt",
          "old_text": "sdsfree(x)",
          "new_text": "sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        x = sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "sdsnew",
          "new_api": "test_cond",
          "old_text": "sdsnew(\"--\")",
          "new_text": "test_cond(\"sdscatfmt() seems working in the base case\",\n            sdslen(x) == 60 &&\n            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60) == 0)",
          "old_line_content": "        x = sdsnew(\"--\");",
          "new_line_content": "        test_cond(\"sdscatfmt() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "sdscatfmt",
          "new_api": "sdslen",
          "old_text": "sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX)",
          "new_text": "sdslen(x)",
          "old_line_content": "        x = sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX);",
          "new_line_content": "            sdslen(x) == 60 &&",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"sdscatfmt() seems working with unsigned numbers\",\n            sdslen(x) == 35 &&\n            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "new_text": "memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60)",
          "old_line_content": "        test_cond(\"sdscatfmt() seems working with unsigned numbers\",",
          "new_line_content": "            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "memcmp",
          "new_api": "printf",
          "old_text": "memcmp(x,\"--4294967295,18446744073709551615--\",35)",
          "new_text": "printf(\"[%s]\\n\",x)",
          "old_line_content": "            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "new_line_content": "        printf(\"[%s]\\n\",x);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "sdstrim",
          "new_api": "sdscatfmt",
          "old_text": "sdstrim(x,\" x\")",
          "new_text": "sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX)",
          "old_line_content": "        sdstrim(x,\" x\");",
          "new_line_content": "        x = sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX);",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\" x \")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\" x \");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "sdstrim",
          "new_api": "sdsnew",
          "old_text": "sdstrim(x,\" \")",
          "new_text": "sdsnew(\" x \")",
          "old_line_content": "        sdstrim(x,\" \");",
          "new_line_content": "        x = sdsnew(\" x \");",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "test_cond",
          "new_api": "sdstrim",
          "old_text": "test_cond(\"sdstrim() works when a single char remains\",\n            sdslen(x) == 1 && x[0] == 'x')",
          "new_text": "sdstrim(x,\" x\")",
          "old_line_content": "        test_cond(\"sdstrim() works when a single char remains\",",
          "new_line_content": "        sdstrim(x,\" x\");",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "sdslen",
          "new_api": "test_cond",
          "old_text": "sdslen(x)",
          "new_text": "test_cond(\"sdstrim() works when all chars match\",\n            sdslen(x) == 0)",
          "old_line_content": "            sdslen(x) == 1 && x[0] == 'x')",
          "new_line_content": "        test_cond(\"sdstrim() works when all chars match\",",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"xxciaoyyy\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"xxciaoyyy\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "sdstrim",
          "new_api": "sdsnew",
          "old_text": "sdstrim(x,\"xy\")",
          "new_text": "sdsnew(\" x \")",
          "old_line_content": "        sdstrim(x,\"xy\");",
          "new_line_content": "        x = sdsnew(\" x \");",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "test_cond",
          "new_api": "sdstrim",
          "old_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_text": "sdstrim(x,\" \")",
          "old_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "new_line_content": "        sdstrim(x,\" \");",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(x,\"ciao\\0\",5)",
          "new_text": "test_cond(\"sdstrim() works when a single char remains\",\n            sdslen(x) == 1 && x[0] == 'x')",
          "old_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_line_content": "        test_cond(\"sdstrim() works when a single char remains\",",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "sdsrange",
          "new_api": "sdsfree",
          "old_text": "sdsrange(y,1,1)",
          "new_text": "sdsfree(x)",
          "old_line_content": "        sdsrange(y,1,1);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "test_cond",
          "new_api": "sdsnew",
          "old_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_text": "sdsnew(\"xxciaoyyy\")",
          "old_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "new_line_content": "        x = sdsnew(\"xxciaoyyy\");",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "memcmp",
          "new_api": "sdstrim",
          "old_text": "memcmp(y,\"i\\0\",2)",
          "new_text": "sdstrim(x,\"xy\")",
          "old_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_line_content": "        sdstrim(x,\"xy\");",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(y)",
          "new_text": "memcmp(x,\"ciao\\0\",5)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,1,-1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,1,-1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": "sdsrange(y,1,1)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "new_line_content": "        sdsrange(y,1,1);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,-2,-1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,-2,-1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_text": "sdsrange(y,1,-1)",
          "old_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "new_line_content": "        sdsrange(y,1,-1);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"ao\\0\",3)",
          "new_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,2,1)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,2,1);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsrange(y,-2,-1)",
          "old_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "new_line_content": "        sdsrange(y,-2,-1);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,1,100)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,1,100);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": "sdsrange(y,2,1)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "new_line_content": "        sdsrange(y,2,1);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "sdsdup",
          "new_api": "sdsfree",
          "old_text": "sdsdup(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "sdsrange",
          "new_api": "sdsdup",
          "old_text": "sdsrange(y,100,100)",
          "new_text": "sdsdup(x)",
          "old_line_content": "        sdsrange(y,100,100);",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "test_cond",
          "new_api": "sdsrange",
          "old_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": "sdsrange(y,1,100)",
          "old_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "new_line_content": "        sdsrange(y,1,100);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "memcmp",
          "new_api": "test_cond",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "sdsnew",
          "new_api": "sdsdup",
          "old_text": "sdsnew(\"foo\")",
          "new_text": "sdsdup(x)",
          "old_line_content": "        x = sdsnew(\"foo\");",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "sdsnew",
          "new_api": "sdsrange",
          "old_text": "sdsnew(\"foa\")",
          "new_text": "sdsrange(y,100,100)",
          "old_line_content": "        y = sdsnew(\"foa\");",
          "new_line_content": "        sdsrange(y,100,100);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "sdscmp",
          "new_api": "test_cond",
          "old_text": "sdscmp(x,y)",
          "new_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0)",
          "new_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"bar\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"bar\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "sdscmp",
          "new_api": "sdsnew",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsnew(\"foa\")",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0)",
          "new_line_content": "        y = sdsnew(\"foa\");",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "sdsnew",
          "new_api": "sdsfree",
          "old_text": "sdsnew(\"aar\")",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnew(\"aar\");",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "sdscmp",
          "new_api": "sdsnew",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0)",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "sdsnewlen",
          "new_api": "sdsfree",
          "old_text": "sdsnewlen(\"\\a\\n\\0foo\\r\",7)",
          "new_text": "sdsfree(x)",
          "old_line_content": "        x = sdsnewlen(\"\\a\\n\\0foo\\r\",7);",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "sdslen",
          "new_api": "sdsnew",
          "old_text": "sdslen(x)",
          "new_text": "sdsnew(\"aar\")",
          "old_line_content": "        y = sdscatrepr(sdsempty(),x,sdslen(x));",
          "new_line_content": "        x = sdsnew(\"aar\");",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "test_cond",
          "new_api": "sdsnew",
          "old_text": "test_cond(\"sdscatrepr(...data...)\",\n            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        test_cond(\"sdscatrepr(...data...)\",",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "memcmp",
          "new_api": "sdscmp",
          "old_text": "memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15)",
          "new_text": "sdscmp(x,y)",
          "old_line_content": "            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0)",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15)",
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "sdslen",
          "new_api": "sdsfree",
          "old_text": "sdslen(x)",
          "new_text": "sdsfree(y)",
          "old_line_content": "                int oldlen = sdslen(x);",
          "new_line_content": "            sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "sdsMakeRoomFor",
          "new_api": "sdsnew",
          "old_text": "sdsMakeRoomFor(x,step)",
          "new_text": "sdsnew(\"0\")",
          "old_line_content": "                x = sdsMakeRoomFor(x,step);",
          "new_line_content": "            x = sdsnew(\"0\");",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "sdsavail",
          "new_api": "sdslen",
          "old_text": "sdsavail(x)",
          "new_text": "sdslen(x)",
          "old_line_content": "                    oldfree = sdsavail(x);",
          "new_line_content": "                int oldlen = sdslen(x);",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "sdsIncrLen",
          "new_api": "sdsavail",
          "old_text": "sdsIncrLen(x,step)",
          "new_text": "sdsavail(x)",
          "old_line_content": "                sdsIncrLen(x,step);",
          "new_line_content": "                    test_cond(\"sdsMakeRoomFor() free\", sdsavail(x) >= step);",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "test_report",
          "new_api": "test_cond",
          "old_text": "test_report()",
          "new_text": "test_cond(\"sdsMakeRoomFor() content\",\n                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0)",
          "old_line_content": "    test_report()",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor() content\",",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": "sdsTest",
          "new_api": "test_report",
          "old_text": "sdsTest()",
          "new_text": "test_report()",
          "old_line_content": "    return sdsTest();",
          "new_line_content": "    test_report()",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 514,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(fmt)",
          "old_line_content": "    } else {",
          "new_line_content": "    size_t buflen = strlen(fmt)*2;",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(buflen)",
          "old_line_content": "     * fit the string in the current buffer size. */",
          "new_line_content": "        buf = s_malloc(buflen);",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(vector,((*argc)+1)*sizeof(char*))",
          "old_line_content": "            return vector;",
          "new_line_content": "            vector = s_realloc(vector,((*argc)+1)*sizeof(char*));",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "va_copy",
          "old_text": null,
          "new_text": "va_copy(cpy,ap)",
          "old_line_content": "            if (buf == NULL) return NULL;",
          "new_line_content": "        va_copy(cpy,ap);",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": null,
          "new_api": "vsnprintf",
          "old_text": null,
          "new_text": "vsnprintf(buf, buflen, fmt, cpy)",
          "old_line_content": "            continue;",
          "new_line_content": "        vsnprintf(buf, buflen, fmt, cpy);",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(cpy)",
          "old_line_content": "        }",
          "new_line_content": "        va_end(cpy);",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(buf)",
          "old_line_content": "    }",
          "new_line_content": "            if (buf != staticbuf) s_free(buf);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(vector[*argc])",
          "old_line_content": "/* Modify the string substituting all the occurrences of the set of",
          "new_line_content": "        sdsfree(vector[*argc]);",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(vector)",
          "old_line_content": " * characters specified in the 'from' string to the corresponding character",
          "new_line_content": "    s_free(vector);",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(buflen)",
          "old_line_content": "    /* Finally concat the obtained string to the SDS string and return it. */",
          "new_line_content": "            buf = s_malloc(buflen);",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(current)",
          "old_line_content": " * in the 'to' array.",
          "new_line_content": "    if (current) sdsfree(current);",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(s, buf)",
          "old_line_content": " *",
          "new_line_content": "    t = sdscat(s, buf);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(buf)",
          "old_line_content": " * After the call, the modified sds string is no longer valid and all the",
          "new_line_content": "    if (buf != staticbuf) s_free(buf);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "            }",
          "new_line_content": "    size_t j, i, l = sdslen(s);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap, fmt)",
          "old_line_content": " * not rely on sprintf() family functions implemented by the libc that",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": null,
          "new_api": "sdscatvprintf",
          "old_text": null,
          "new_text": "sdscatvprintf(s,fmt,ap)",
          "old_line_content": " * are often very slow. Moreover directly handling the sds string as",
          "new_line_content": "    t = sdscatvprintf(s,fmt,ap);",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": " * new data is concatenated provides a performance improvement.",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "    return join;",
          "new_line_content": "    sds join = sdsempty();",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(join, argv[j])",
          "old_line_content": "sds sdsjoinsds(sds *argv, int argc, const char *sep, size_t seplen) {",
          "new_line_content": "        join = sdscat(join, argv[j]);",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "    return join;",
          "new_line_content": "    sds join = sdsempty();",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "sdscatsds",
          "old_text": null,
          "new_text": "sdscatsds(join, argv[j])",
          "old_line_content": " * just use the macros defined into sdsalloc.h in order to avoid to pay",
          "new_line_content": "        join = sdscatsds(join, argv[j]);",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(join,sep,seplen)",
          "old_line_content": " * the overhead of function calls. Here we define these wrappers only for",
          "new_line_content": "        if (j != argc-1) join = sdscatlen(join,sep,seplen);",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    i = initlen; /* Position of the next byte to write to dest str. */",
          "new_line_content": "    size_t initlen = sdslen(s);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(size)",
          "old_line_content": "#include \"limits.h\"",
          "new_line_content": "void *sds_malloc(size_t size) { return s_malloc(size); }",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap,fmt)",
          "old_line_content": "        unsigned long long unum;",
          "new_line_content": "    va_start(ap,fmt);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(ptr,size)",
          "old_line_content": "",
          "new_line_content": "void *sds_realloc(void *ptr, size_t size) { return s_realloc(ptr,size); }",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(ptr)",
          "old_line_content": "#define UNUSED(x) (void)(x)",
          "new_line_content": "void sds_free(void *ptr) { s_free(ptr); }",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(s)",
          "old_line_content": "            f++;",
          "new_line_content": "        if (sdsavail(s)==0) {",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,1)",
          "old_line_content": "            switch(next) {",
          "new_line_content": "            s = sdsMakeRoomFor(s,1);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(\"foo\",2)",
          "old_line_content": "",
          "new_line_content": "        x = sdsnewlen(\"foo\",2);",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(ap,char*)",
          "old_line_content": "                i += l;",
          "new_line_content": "                str = va_arg(ap,char*);",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(str)",
          "old_line_content": "                break;",
          "new_line_content": "                l = (next == 's') ? strlen(str) : sdslen(str);",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(s)",
          "old_line_content": "            case 'i':",
          "new_line_content": "                if (sdsavail(s) < l) {",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,l)",
          "old_line_content": "            case 'I':",
          "new_line_content": "                    s = sdsMakeRoomFor(s,l);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(x,\"bar\")",
          "old_line_content": "",
          "new_line_content": "        x = sdscat(x,\"bar\");",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdscpy() against an originally longer string\",\n            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscpy() against an originally longer string\",",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,l)",
          "old_line_content": "                else",
          "new_line_content": "                sdsinclen(s,l);",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 33 &&",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": null,
          "new_api": "sdsll2str",
          "old_text": null,
          "new_text": "sdsll2str(buf,num)",
          "old_line_content": "                }",
          "new_line_content": "                    l = sdsll2str(buf,num);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(s)",
          "old_line_content": "                break;",
          "new_line_content": "                    if (sdsavail(s) < l) {",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"--\")",
          "old_line_content": "",
          "new_line_content": "        x = sdsnew(\"--\");",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,l)",
          "old_line_content": "            case 'u':",
          "new_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s+i,buf,l)",
          "old_line_content": "                if (next == 'u')",
          "new_line_content": "                    memcpy(s+i,buf,l);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(x,\"--4294967295,18446744073709551615--\",35)",
          "old_line_content": "",
          "new_line_content": "            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "sdsull2str",
          "old_text": null,
          "new_text": "sdsull2str(buf,unum)",
          "old_line_content": "                }",
          "new_line_content": "                    l = sdsull2str(buf,unum);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(s)",
          "old_line_content": "                break;",
          "new_line_content": "                    if (sdsavail(s) < l) {",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,l)",
          "old_line_content": "            default: /* Handle %% and generally %<unknown>. */",
          "new_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 0)",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,l)",
          "old_line_content": "                break;",
          "new_line_content": "                    sdsinclen(s,l);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 1 && x[0] == 'x')",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,1)",
          "old_line_content": "            break;",
          "new_line_content": "                sdsinclen(s,1);",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,1)",
          "old_line_content": "    /* Add null-term */",
          "new_line_content": "            sdsinclen(s,1);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"i\\0\",2)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "/* Remove the part of the string from left and from right composed just of",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"ao\\0\",3)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    return s;",
          "new_line_content": "    ep = end = s+sdslen(s)-1;",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(cset, *sp)",
          "old_line_content": "}",
          "new_line_content": "    while(sp <= end && strchr(cset, *sp)) sp++;",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(cset, *ep)",
          "old_line_content": "",
          "new_line_content": "    while(ep > sp && strchr(cset, *ep)) ep--;",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(s, sp, len)",
          "old_line_content": " * substring specified by the 'start' and 'end' indexes.",
          "new_line_content": "    if (s != sp) memmove(s, sp, len);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "sdssetlen",
          "old_text": null,
          "new_text": "sdssetlen(s,len)",
          "old_line_content": " * start and end can be negative, where -1 means the last character of the",
          "new_line_content": "    sdssetlen(s,len);",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(x,y)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0)",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(x,y)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0)",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(y)",
          "old_line_content": "        {",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "            unsigned int oldfree;",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(\"\\a\\n\\0foo\\r\",7)",
          "old_line_content": "            char *p;",
          "new_line_content": "        x = sdsnewlen(\"\\a\\n\\0foo\\r\",7);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "            int step = 10, j, i;",
          "new_line_content": "        y = sdscatrepr(sdsempty(),x,sdslen(x));",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    if (end < 0) {",
          "new_line_content": "    size_t newlen, len = sdslen(s);",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdscatrepr(...data...)\",\n            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "old_line_content": "",
          "new_line_content": "        test_cond(\"sdscatrepr(...data...)\",",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "            for (i = 0; i < 10; i++) {",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(x)",
          "old_line_content": "                int type = x[-1]&SDS_TYPE_MASK;",
          "new_line_content": "            test_cond(\"sdsnew() free/len buffers\", sdslen(x) == 1 && sdsavail(x) == 0);",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(x,step)",
          "old_line_content": "                }",
          "new_line_content": "                x = sdsMakeRoomFor(x,step);",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "                    p[j] = 'A'+j;",
          "new_line_content": "                test_cond(\"sdsMakeRoomFor() len\", sdslen(x) == oldlen);",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(x)",
          "old_line_content": "            }",
          "new_line_content": "                    oldfree = sdsavail(x);",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "sdsIncrLen",
          "old_text": null,
          "new_text": "sdsIncrLen(x,step)",
          "old_line_content": "        }",
          "new_line_content": "                sdsIncrLen(x,step);",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101)",
          "old_line_content": "    return 0;",
          "new_line_content": "                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0);",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "}",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor() final length\",sdslen(x)==101);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": " * Return value:",
          "new_line_content": "    int len = sdslen(s), j;",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "sdsHdrSize",
          "old_text": null,
          "new_text": "sdsHdrSize(oldtype)",
          "old_line_content": "    int hdrlen;",
          "new_line_content": "    int hdrlen, oldhdrlen = sdsHdrSize(oldtype);",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper(s[j])",
          "old_line_content": " *     positive if s1 > s2.",
          "new_line_content": "    for (j = 0; j < len; j++) s[j] = toupper(s[j]);",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": null,
          "new_api": "sdsReqType",
          "old_text": null,
          "new_text": "sdsReqType(len)",
          "old_line_content": "    if (oldtype==type) {",
          "new_line_content": "    type = sdsReqType(len);",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "sdsTest",
          "old_text": null,
          "new_text": "sdsTest()",
          "old_line_content": "",
          "new_line_content": "    return sdsTest();",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(hdrlen+len+1)",
          "old_line_content": "    }",
          "new_line_content": "        newsh = s_malloc(hdrlen+len+1);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s1)",
          "old_line_content": "",
          "new_line_content": "    l1 = sdslen(s1);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy((char*)newsh+hdrlen, s, len+1)",
          "old_line_content": "    return s;",
          "new_line_content": "        memcpy((char*)newsh+hdrlen, s, len+1);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(sh)",
          "old_line_content": "}",
          "new_line_content": "        s_free(sh);",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s2)",
          "old_line_content": "/* Split 's' with separator in 'sep'. An array",
          "new_line_content": "    l2 = sdslen(s2);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s1,s2,minlen)",
          "old_line_content": " * by reference to the number of tokens returned.",
          "new_line_content": "    cmp = memcmp(s1,s2,minlen);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "sdssetlen",
          "old_text": null,
          "new_text": "sdssetlen(s, len)",
          "old_line_content": " * including:",
          "new_line_content": "        sdssetlen(s, len);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": null,
          "new_api": "sdssetalloc",
          "old_text": null,
          "new_text": "sdssetalloc(s, len)",
          "old_line_content": " * 2) The string.",
          "new_line_content": "    sdssetalloc(s, len);",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": null,
          "new_api": "sdsHdrSize",
          "old_text": null,
          "new_text": "sdsHdrSize(s[-1])",
          "old_line_content": "}",
          "new_line_content": "    return sdsHdrSize(s[-1])+alloc+1;",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "sdsHdrSize",
          "old_text": null,
          "new_text": "sdsHdrSize(s[-1])",
          "old_line_content": " * This function is used in order to fix the string length after the",
          "new_line_content": "    return (void*) (s-sdsHdrSize(s[-1]));",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(sizeof(sds)*slots)",
          "old_line_content": "    for (j = 0; j < (len-(seplen-1)); j++) {",
          "new_line_content": "    tokens = s_malloc(sizeof(sds)*slots);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(tokens,sizeof(sds)*slots)",
          "old_line_content": "            if (tokens[elements] == NULL) goto cleanup;",
          "new_line_content": "            newtokens = s_realloc(tokens,sizeof(sds)*slots);",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s+j,sep,seplen)",
          "old_line_content": "    }",
          "new_line_content": "        if ((seplen == 1 && *(s+j) == sep[0]) || (memcmp(s+j,sep,seplen) == 0)) {",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(s+start,j-start)",
          "old_line_content": "    /* Add the final element. We are sure there is room in the tokens array. */",
          "new_line_content": "            tokens[elements] = sdsnewlen(s+start,j-start);",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(s+start,len-start)",
          "old_line_content": "    {",
          "new_line_content": "    tokens[elements] = sdsnewlen(s+start,len-start);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(tokens[i])",
          "old_line_content": "/* Free the result returned by sdssplitlen(), or do nothing if 'tokens' is NULL. */",
          "new_line_content": "        for (i = 0; i < elements; i++) sdsfree(tokens[i]);",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((incr >= 0 && sh->alloc-sh->len >= incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)))",
          "old_line_content": "            len = (sh->len += incr);",
          "new_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)));",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(tokens)",
          "old_line_content": "void sdsfreesplitres(sds *tokens, int count) {",
          "new_line_content": "        s_free(tokens);",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((incr >= 0 && sh->alloc-sh->len >= incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)))",
          "old_line_content": "            len = (sh->len += incr);",
          "new_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)));",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(tokens[count])",
          "old_line_content": " *",
          "new_line_content": "        sdsfree(tokens[count]);",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(tokens)",
          "old_line_content": " * After the call, the modified sds string is no longer valid and all the",
          "new_line_content": "    s_free(tokens);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((incr >= 0 && sh->alloc-sh->len >= (unsigned int)incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)))",
          "old_line_content": "            len = (sh->len += incr);",
          "new_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= (unsigned int)incr) || (incr < 0 && sh->len >= (unsigned int)(-incr)));",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": null,
          "new_api": "SDS_HDR_VAR",
          "old_text": null,
          "new_text": "SDS_HDR_VAR(64,s)",
          "old_line_content": "    s[len] = '\\0';",
          "new_line_content": "            SDS_HDR_VAR(64,s);",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((incr >= 0 && sh->alloc-sh->len >= (uint64_t)incr) || (incr < 0 && sh->len >= (uint64_t)(-incr)))",
          "old_line_content": "}",
          "new_line_content": "            assert((incr >= 0 && sh->alloc-sh->len >= (uint64_t)incr) || (incr < 0 && sh->len >= (uint64_t)(-incr)));",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "old_line_content": "        default:",
          "new_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\r\",2)",
          "old_line_content": "            else",
          "new_line_content": "        case '\\r': s = sdscatlen(s,\"\\\\r\",2); break;",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\a\",2)",
          "old_line_content": "            break;",
          "new_line_content": "        case '\\a': s = sdscatlen(s,\"\\\\a\",2); break;",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\b\",2)",
          "old_line_content": "        }",
          "new_line_content": "        case '\\b': s = sdscatlen(s,\"\\\\b\",2); break;",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "isprint",
          "old_text": null,
          "new_text": "isprint(*p)",
          "old_line_content": "    }",
          "new_line_content": "            if (isprint(*p))",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,len-curlen)",
          "old_line_content": "}",
          "new_line_content": "    s = sdsMakeRoomFor(s,len-curlen);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "old_line_content": "",
          "new_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(s+curlen,0,(len-curlen+1))",
          "old_line_content": " *",
          "new_line_content": "    memset(s+curlen,0,(len-curlen+1)); /* also set trailing \\0 byte */",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "sdssetlen",
          "old_text": null,
          "new_text": "sdssetlen(s, len)",
          "old_line_content": " * After the call, the passed sds string is no longer valid and all the",
          "new_line_content": "    sdssetlen(s, len);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": "           (c >= 'A' && c <= 'F');",
          "new_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "    return s;",
          "new_line_content": "    size_t curlen = sdslen(s);",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,len)",
          "old_line_content": "",
          "new_line_content": "    s = sdsMakeRoomFor(s,len);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s+curlen, t, len)",
          "old_line_content": " *",
          "new_line_content": "    memcpy(s+curlen, t, len);",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": null,
          "new_api": "sdssetlen",
          "old_text": null,
          "new_text": "sdssetlen(s, curlen+len)",
          "old_line_content": " * After the call, the passed sds string is no longer valid and all the",
          "new_line_content": "    sdssetlen(s, curlen+len);",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(t)",
          "old_line_content": "sds sdscatsds(sds s, const sds t) {",
          "new_line_content": "    return sdscatlen(s, t, strlen(t));",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "sdsalloc",
          "old_text": null,
          "new_text": "sdsalloc(s)",
          "old_line_content": "    return s;",
          "new_line_content": "    if (sdsalloc(s) < len) {",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "}",
          "new_line_content": "        s = sdsMakeRoomFor(s,len-sdslen(s));",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s, t, len)",
          "old_line_content": " * of the string is obtained with strlen(). */",
          "new_line_content": "    memcpy(s, t, len);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(t)",
          "old_line_content": " * The function returns the length of the null-terminated string",
          "new_line_content": "    return sdscpylen(s, t, strlen(t));",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "sdsempty",
          "old_text": null,
          "new_text": "sdsempty()",
          "old_line_content": "                        unsigned char byte;",
          "new_line_content": "            if (current == NULL) current = sdsempty();",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "is_hex_digit",
          "old_text": null,
          "new_text": "is_hex_digit(*(p+3))",
          "old_line_content": "                        p += 3;",
          "new_line_content": "                                             is_hex_digit(*(p+3)))",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "hex_digit_to_int",
          "old_text": null,
          "new_text": "hex_digit_to_int(*(p+2))",
          "old_line_content": "                        p++;",
          "new_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "hex_digit_to_int",
          "old_text": null,
          "new_text": "hex_digit_to_int(*(p+3))",
          "old_line_content": "                        switch(*p) {",
          "new_line_content": "                                hex_digit_to_int(*(p+3));",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,(char*)&byte,1)",
          "old_line_content": "                        case 'n': c = '\\n'; break;",
          "new_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,&c,1)",
          "old_line_content": "                        /* unterminated quotes */",
          "new_line_content": "                        current = sdscatlen(current,&c,1);",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                    }",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                        /* closing quote must be followed by a space or",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,\"'\",1)",
          "old_line_content": "                        /* unterminated quotes */",
          "new_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                    }",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                    case '\\t':",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "sdsll2str",
          "old_text": null,
          "new_text": "sdsll2str(buf,value)",
          "old_line_content": "    va_list cpy;",
          "new_line_content": "    int len = sdsll2str(buf,value);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(buflen)",
          "new_text": null,
          "old_line_content": "        buf = s_malloc(buflen);",
          "new_line_content": "    va_list cpy;",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(sizeof(void*))",
          "new_text": null,
          "old_line_content": "            if (vector == NULL) vector = s_malloc(sizeof(void*));",
          "new_line_content": "            /* add the token to the vector */",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "va_copy",
          "new_api": null,
          "old_text": "va_copy(cpy,ap)",
          "new_text": null,
          "old_line_content": "        va_copy(cpy,ap);",
          "new_line_content": "        buflen = sizeof(staticbuf);",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "vsnprintf",
          "new_api": null,
          "old_text": "vsnprintf(buf, buflen, fmt, cpy)",
          "new_text": null,
          "old_line_content": "        vsnprintf(buf, buflen, fmt, cpy);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(cpy)",
          "new_text": null,
          "old_line_content": "        va_end(cpy);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(buf)",
          "new_text": null,
          "old_line_content": "            if (buf != staticbuf) s_free(buf);",
          "new_line_content": "     * fit the string in the current buffer size. */",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(buflen)",
          "new_text": null,
          "old_line_content": "            buf = s_malloc(buflen);",
          "new_line_content": "        buf[buflen-2] = '\\0';",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(vector)",
          "new_text": null,
          "old_line_content": "    s_free(vector);",
          "new_line_content": "            return vector;",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(current)",
          "new_text": null,
          "old_line_content": "    if (current) sdsfree(current);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(s, buf)",
          "new_text": null,
          "old_line_content": "    t = sdscat(s, buf);",
          "new_line_content": "            if (buf == NULL) return NULL;",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(buf)",
          "new_text": null,
          "old_line_content": "    if (buf != staticbuf) s_free(buf);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t j, i, l = sdslen(s);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": " * format. When this is the need, just use sdsempty() as the target string:",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "sdscatvprintf",
          "new_api": null,
          "old_text": "sdscatvprintf(s,fmt,ap)",
          "new_text": null,
          "old_line_content": "    t = sdscatvprintf(s,fmt,ap);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": " * s = sdscatprintf(sdsempty(), \"... your format ...\", args);",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    sds join = sdsempty();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(join, argv[j])",
          "new_text": null,
          "old_line_content": "        join = sdscat(join, argv[j]);",
          "new_line_content": "/* Join an array of C strings using the specified separator (also a C string).",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(join,sep)",
          "new_text": null,
          "old_line_content": "        if (j != argc-1) join = sdscat(join,sep);",
          "new_line_content": " * Returns the result as an sds string. */",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "sdscatsds",
          "new_api": null,
          "old_text": "sdscatsds(join, argv[j])",
          "new_text": null,
          "old_line_content": "        join = sdscatsds(join, argv[j]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(join,sep,seplen)",
          "new_text": null,
          "old_line_content": "        if (j != argc-1) join = sdscatlen(join,sep,seplen);",
          "new_line_content": "/* Like sdsjoin, but joins an array of SDS strings. */",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t initlen = sdslen(s);",
          "new_line_content": " * %i - signed int",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(size)",
          "new_text": null,
          "old_line_content": "void *sds_malloc(size_t size) { return s_malloc(size); }",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap,fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap,fmt);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "s_realloc",
          "new_api": null,
          "old_text": "s_realloc(ptr,size)",
          "new_text": null,
          "old_line_content": "void *sds_realloc(void *ptr, size_t size) { return s_realloc(ptr,size); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(ptr)",
          "new_text": null,
          "old_line_content": "void sds_free(void *ptr) { s_free(ptr); }",
          "new_line_content": "/* Wrappers to the allocators used by SDS. Note that SDS will actually",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(s)",
          "new_text": null,
          "old_line_content": "        if (sdsavail(s)==0) {",
          "new_line_content": "    while(*f) {",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,1)",
          "new_text": null,
          "old_line_content": "            s = sdsMakeRoomFor(s,1);",
          "new_line_content": "        char next, *str;",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"foo\")",
          "new_text": null,
          "old_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "new_line_content": "#include <stdio.h>",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "new_line_content": "#include \"limits.h\"",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"foo\\0\",4)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "int sdsTest(void) {",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(\"foo\",2)",
          "new_text": null,
          "old_line_content": "        x = sdsnewlen(\"foo\",2);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"fo\\0\",3)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,char*)",
          "new_text": null,
          "old_line_content": "                str = va_arg(ap,char*);",
          "new_line_content": "        switch(*f) {",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(str)",
          "new_text": null,
          "old_line_content": "                l = (next == 's') ? strlen(str) : sdslen(str);",
          "new_line_content": "        case '%':",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(s)",
          "new_text": null,
          "old_line_content": "                if (sdsavail(s) < l) {",
          "new_line_content": "            next = *(f+1);",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,l)",
          "new_text": null,
          "old_line_content": "                    s = sdsMakeRoomFor(s,l);",
          "new_line_content": "            f++;",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Strings concatenation\",\n            sdslen(x) == 5 && memcmp(x,\"fobar\\0\",6) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Strings concatenation\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s+i,str,l)",
          "new_text": null,
          "old_line_content": "                memcpy(s+i,str,l);",
          "new_line_content": "            case 's':",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "sdsinclen",
          "new_api": null,
          "old_text": "sdsinclen(s,l)",
          "new_text": null,
          "old_line_content": "                sdsinclen(s,l);",
          "new_line_content": "            case 'S':",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"a\\0\",2)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 33 &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,long long)",
          "new_text": null,
          "old_line_content": "                    num = va_arg(ap,long long);",
          "new_line_content": "                i += l;",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "sdsll2str",
          "new_api": null,
          "old_text": "sdsll2str(buf,num)",
          "new_text": null,
          "old_line_content": "                    l = sdsll2str(buf,num);",
          "new_line_content": "            case 'I':",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(s)",
          "new_text": null,
          "old_line_content": "                    if (sdsavail(s) < l) {",
          "new_line_content": "                if (next == 'i')",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"--\")",
          "new_text": null,
          "old_line_content": "        x = sdsnew(\"--\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "sdsinclen",
          "new_api": null,
          "old_text": "sdsinclen(s,l)",
          "new_text": null,
          "old_line_content": "                    sdsinclen(s,l);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,unsigned long long)",
          "new_text": null,
          "old_line_content": "                    unum = va_arg(ap,unsigned long long);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 35 &&",
          "new_line_content": "                     \"9223372036854775807--\",60) == 0)",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "sdsull2str",
          "new_api": null,
          "old_text": "sdsull2str(buf,unum)",
          "new_text": null,
          "old_line_content": "                    l = sdsull2str(buf,unum);",
          "new_line_content": "            case 'U':",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(s)",
          "new_text": null,
          "old_line_content": "                    if (sdsavail(s) < l) {",
          "new_line_content": "                if (next == 'u')",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "sdsinclen",
          "new_api": null,
          "old_text": "sdsinclen(s,l)",
          "new_text": null,
          "old_line_content": "                    sdsinclen(s,l);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "sdsinclen",
          "new_api": null,
          "old_text": "sdsinclen(s,1)",
          "new_text": null,
          "old_line_content": "            sdsinclen(s,1);",
          "new_line_content": "                s[i++] = next;",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "sdsdup",
          "new_api": null,
          "old_text": "sdsdup(x)",
          "new_text": null,
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "        default:",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "sdsdup",
          "new_api": null,
          "old_text": "sdsdup(x)",
          "new_text": null,
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    ep = end = s+sdslen(s)-1;",
          "new_line_content": " * Output will be just \"Hello World\".",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(cset, *sp)",
          "new_text": null,
          "old_line_content": "    while(sp <= end && strchr(cset, *sp)) sp++;",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(cset, *ep)",
          "new_text": null,
          "old_line_content": "    while(ep > sp && strchr(cset, *ep)) ep--;",
          "new_line_content": "sds sdstrim(sds s, const char *cset) {",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(s, sp, len)",
          "new_text": null,
          "old_line_content": "    if (s != sp) memmove(s, sp, len);",
          "new_line_content": "    size_t len;",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s,len)",
          "new_text": null,
          "old_line_content": "    sdssetlen(s,len);",
          "new_line_content": "    sp = start = s;",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t newlen, len = sdslen(s);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "            sdsfree(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"0\")",
          "new_text": null,
          "old_line_content": "            x = sdsnew(\"0\");",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(x)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsnew() free/len buffers\", sdslen(x) == 1 && sdsavail(x) == 0);",
          "new_line_content": "            unsigned int oldfree;",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "                test_cond(\"sdsMakeRoomFor() len\", sdslen(x) == oldlen);",
          "new_line_content": "            /* Run the test a few times in order to hit the first two",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(s, s+start, newlen)",
          "new_text": null,
          "old_line_content": "    if (start && newlen) memmove(s, s+start, newlen);",
          "new_line_content": "        } else if (end >= (signed)len) {",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(x)",
          "new_text": null,
          "old_line_content": "                    test_cond(\"sdsMakeRoomFor() free\", sdsavail(x) >= step);",
          "new_line_content": "            for (i = 0; i < 10; i++) {",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s,newlen)",
          "new_text": null,
          "old_line_content": "    sdssetlen(s,newlen);",
          "new_line_content": "            newlen = (start > end) ? 0 : (end-start)+1;",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsMakeRoomFor() content\",\n                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsMakeRoomFor() content\",",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101)",
          "new_text": null,
          "old_line_content": "                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0);",
          "new_line_content": "                p = x+oldlen;",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsMakeRoomFor() final length\",sdslen(x)==101);",
          "new_line_content": "                for (j = 0; j < step; j++) {",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "sdsHdrSize",
          "new_api": null,
          "old_text": "sdsHdrSize(oldtype)",
          "new_text": null,
          "old_line_content": "    sh = (char*)s-sdsHdrSize(oldtype);",
          "new_line_content": "    sh = (char*)s-oldhdrlen;",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "sdsReqType",
          "new_api": null,
          "old_text": "sdsReqType(len)",
          "new_text": null,
          "old_line_content": "    type = sdsReqType(len);",
          "new_line_content": "    /* Check what would be the minimum SDS header that is just good enough to",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": "sdsHdrSize",
          "new_api": null,
          "old_text": "sdsHdrSize(type)",
          "new_text": null,
          "old_line_content": "    hdrlen = sdsHdrSize(type);",
          "new_line_content": "     * fit this string. */",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(hdrlen+len+1)",
          "new_text": null,
          "old_line_content": "        newsh = s_malloc(hdrlen+len+1);",
          "new_line_content": "     * only if really needed. Otherwise if the change is huge, we manually",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s1)",
          "new_text": null,
          "old_line_content": "    l1 = sdslen(s1);",
          "new_line_content": " * If two strings share exactly the same prefix, but one of the two has",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy((char*)newsh+hdrlen, s, len+1)",
          "new_text": null,
          "old_line_content": "        memcpy((char*)newsh+hdrlen, s, len+1);",
          "new_line_content": "    if (oldtype==type || type > SDS_TYPE_8) {",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s2)",
          "new_text": null,
          "old_line_content": "    l2 = sdslen(s2);",
          "new_line_content": " * additional characters, the longer string is considered to be greater than",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s1,s2,minlen)",
          "new_text": null,
          "old_line_content": "    cmp = memcmp(s1,s2,minlen);",
          "new_line_content": "int sdscmp(const sds s1, const sds s2) {",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s, len)",
          "new_text": null,
          "old_line_content": "        sdssetlen(s, len);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "sdssetalloc",
          "new_api": null,
          "old_text": "sdssetalloc(s, len)",
          "new_text": null,
          "old_line_content": "    sdssetalloc(s, len);",
          "new_line_content": "        if (newsh == NULL) return NULL;",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "sdsalloc",
          "new_api": null,
          "old_text": "sdsalloc(s)",
          "new_text": null,
          "old_line_content": "    size_t alloc = sdsalloc(s);",
          "new_line_content": " * including:",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "sdsHdrSize",
          "new_api": null,
          "old_text": "sdsHdrSize(s[-1])",
          "new_text": null,
          "old_line_content": "    return sdsHdrSize(s[-1])+alloc+1;",
          "new_line_content": " * 1) The sds header before the pointer.",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(sizeof(sds)*slots)",
          "new_text": null,
          "old_line_content": "    tokens = s_malloc(sizeof(sds)*slots);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "s_realloc",
          "new_api": null,
          "old_text": "s_realloc(tokens,sizeof(sds)*slots)",
          "new_text": null,
          "old_line_content": "            newtokens = s_realloc(tokens,sizeof(sds)*slots);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s+j,sep,seplen)",
          "new_text": null,
          "old_line_content": "        if ((seplen == 1 && *(s+j) == sep[0]) || (memcmp(s+j,sep,seplen) == 0)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(s+start,j-start)",
          "new_text": null,
          "old_line_content": "            tokens[elements] = sdsnewlen(s+start,j-start);",
          "new_line_content": "            slots *= 2;",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(s+start,len-start)",
          "new_text": null,
          "old_line_content": "    tokens[elements] = sdsnewlen(s+start,len-start);",
          "new_line_content": "            if (tokens[elements] == NULL) goto cleanup;",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "SDS_TYPE_5_LEN",
          "new_api": null,
          "old_text": "SDS_TYPE_5_LEN(flags)",
          "new_text": null,
          "old_line_content": "            unsigned char oldlen = SDS_TYPE_5_LEN(flags);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert((incr > 0 && oldlen+incr < 32) || (incr < 0 && oldlen >= (unsigned int)(-incr)))",
          "new_text": null,
          "old_line_content": "            assert((incr > 0 && oldlen+incr < 32) || (incr < 0 && oldlen >= (unsigned int)(-incr)));",
          "new_line_content": "void sdsIncrLen(sds s, int incr) {",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(tokens[i])",
          "new_text": null,
          "old_line_content": "        for (i = 0; i < elements; i++) sdsfree(tokens[i]);",
          "new_line_content": "    elements++;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(tokens)",
          "new_text": null,
          "old_line_content": "        s_free(tokens);",
          "new_line_content": "    *count = elements;",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": "SDS_HDR_VAR",
          "new_api": null,
          "old_text": "SDS_HDR_VAR(16,s)",
          "new_text": null,
          "old_line_content": "            SDS_HDR_VAR(16,s);",
          "new_line_content": "        case SDS_TYPE_8: {",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(tokens[count])",
          "new_text": null,
          "old_line_content": "        sdsfree(tokens[count]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "SDS_HDR_VAR",
          "new_api": null,
          "old_text": "SDS_HDR_VAR(32,s)",
          "new_text": null,
          "old_line_content": "            SDS_HDR_VAR(32,s);",
          "new_line_content": "        case SDS_TYPE_16: {",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(tokens)",
          "new_text": null,
          "old_line_content": "    s_free(tokens);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "SDS_HDR_VAR",
          "new_api": null,
          "old_text": "SDS_HDR_VAR(64,s)",
          "new_text": null,
          "old_line_content": "            SDS_HDR_VAR(64,s);",
          "new_line_content": "        case SDS_TYPE_32: {",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": null,
          "old_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "new_line_content": "/* Append to the sds string \"s\" an escaped string representation where",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "new_text": null,
          "old_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "new_line_content": " * references must be substituted with the new pointer returned by the call. */",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\r\",2)",
          "new_text": null,
          "old_line_content": "        case '\\r': s = sdscatlen(s,\"\\\\r\",2); break;",
          "new_line_content": "    while(len--) {",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\t\",2)",
          "new_text": null,
          "old_line_content": "        case '\\t': s = sdscatlen(s,\"\\\\t\",2); break;",
          "new_line_content": "        switch(*p) {",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\a\",2)",
          "new_text": null,
          "old_line_content": "        case '\\a': s = sdscatlen(s,\"\\\\a\",2); break;",
          "new_line_content": "        case '\\\\':",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\b\",2)",
          "new_text": null,
          "old_line_content": "        case '\\b': s = sdscatlen(s,\"\\\\b\",2); break;",
          "new_line_content": "        case '\"':",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t curlen = sdslen(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "isprint",
          "new_api": null,
          "old_text": "isprint(*p)",
          "new_text": null,
          "old_line_content": "            if (isprint(*p))",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,len-curlen)",
          "new_text": null,
          "old_line_content": "    s = sdsMakeRoomFor(s,len-curlen);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s, len)",
          "new_text": null,
          "old_line_content": "    sdssetlen(s, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t curlen = sdslen(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,len)",
          "new_text": null,
          "old_line_content": "    s = sdsMakeRoomFor(s,len);",
          "new_line_content": " * end of the specified sds string 's'.",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s+curlen, t, len)",
          "new_text": null,
          "old_line_content": "    memcpy(s+curlen, t, len);",
          "new_line_content": " * After the call, the passed sds string is no longer valid and all the",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s, curlen+len)",
          "new_text": null,
          "old_line_content": "    sdssetlen(s, curlen+len);",
          "new_line_content": " * references must be substituted with the new pointer returned by the call. */",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(t)",
          "new_text": null,
          "old_line_content": "    return sdscatlen(s, t, strlen(t));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(t)",
          "new_text": null,
          "old_line_content": "    return sdscatlen(s, t, sdslen(t));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "sdsalloc",
          "new_api": null,
          "old_text": "sdsalloc(s)",
          "new_text": null,
          "old_line_content": "    if (sdsalloc(s) < len) {",
          "new_line_content": "sds sdscatsds(sds s, const sds t) {",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s, t, len)",
          "new_text": null,
          "old_line_content": "    memcpy(s, t, len);",
          "new_line_content": "/* Destructively modify the sds string 's' to hold the specified binary",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s, len)",
          "new_text": null,
          "old_line_content": "    sdssetlen(s, len);",
          "new_line_content": "sds sdscpylen(sds s, const char *t, size_t len) {",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        while(*p && isspace(*p)) p++;",
          "new_line_content": "    const char *p = line;",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "is_hex_digit",
          "new_api": null,
          "old_text": "is_hex_digit(*(p+2))",
          "new_text": null,
          "old_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "new_line_content": "            int insq=0; /* set to 1 if we are in 'single quotes' */",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "is_hex_digit",
          "new_api": null,
          "old_text": "is_hex_digit(*(p+3))",
          "new_text": null,
          "old_line_content": "                                             is_hex_digit(*(p+3)))",
          "new_line_content": "            int done=0;",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "hex_digit_to_int",
          "new_api": null,
          "old_text": "hex_digit_to_int(*(p+2))",
          "new_text": null,
          "old_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "new_line_content": "                if (inq) {",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "hex_digit_to_int",
          "new_api": null,
          "old_text": "hex_digit_to_int(*(p+3))",
          "new_text": null,
          "old_line_content": "                                hex_digit_to_int(*(p+3));",
          "new_line_content": "                    if (*p == '\\\\' && *(p+1) == 'x' &&",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,&c,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,&c,1);",
          "new_line_content": "                        case 'n': c = '\\n'; break;",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*(p+1))",
          "new_text": null,
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                        case 'a': c = '\\a'; break;",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                         * nothing at all. */",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,\"'\",1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "new_line_content": "                        goto err;",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*(p+1))",
          "new_text": null,
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                } else if (insq) {",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                         * nothing at all. */",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "sdsll2str",
          "new_api": null,
          "old_text": "sdsll2str(buf,value)",
          "new_text": null,
          "old_line_content": "    int len = sdsll2str(buf,value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(buf,len)",
          "new_text": null,
          "old_line_content": "    return sdsnewlen(buf,len);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    case '\"':",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 99,
      "total_additions": 143,
      "total_deletions": 143,
      "total_api_changes": 385
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 385,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          259,
          260,
          261,
          263,
          267
        ]
      }
    },
    "api_calls_before": 316,
    "api_calls_after": 316,
    "diff_info": {
      "added_lines": 12,
      "removed_lines": 5,
      "total_diff_lines": 34
    }
  }
}