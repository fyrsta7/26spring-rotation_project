{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/f49f0a6f729720cc1462d30d036c8ba2baef361b",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/f49f0a6f729720cc1462d30d036c8ba2baef361b/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/f49f0a6f729720cc1462d30d036c8ba2baef361b/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/f49f0a6f729720cc1462d30d036c8ba2baef361b/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 632,
          "old_api": "memcpy",
          "new_api": "sdslen",
          "old_text": "memcpy(s+i,str,l)",
          "new_text": "sdslen(str)",
          "old_line_content": "                memcpy(s+i,str,l);",
          "new_line_content": "                l = (next == 's') ? strlen(str) : sdslen(str);",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "sdsinclen",
          "new_api": "sdsavail",
          "old_text": "sdsinclen(s,l)",
          "new_text": "sdsavail(s)",
          "old_line_content": "                sdsinclen(s,l);",
          "new_line_content": "                if (sdsavail(s) < l) {",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "sdsavail",
          "new_api": "va_arg",
          "old_text": "sdsavail(s)",
          "new_text": "va_arg(ap,long long)",
          "old_line_content": "                    if (sdsavail(s) < l) {",
          "new_line_content": "                    num = va_arg(ap,long long);",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "memcpy",
          "new_api": "sdsll2str",
          "old_text": "memcpy(s+i,buf,l)",
          "new_text": "sdsll2str(buf,num)",
          "old_line_content": "                    memcpy(s+i,buf,l);",
          "new_line_content": "                    l = sdsll2str(buf,num);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "sdsinclen",
          "new_api": "sdsavail",
          "old_text": "sdsinclen(s,l)",
          "new_text": "sdsavail(s)",
          "old_line_content": "                    sdsinclen(s,l);",
          "new_line_content": "                    if (sdsavail(s) < l) {",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "sdsavail",
          "new_api": "va_arg",
          "old_text": "sdsavail(s)",
          "new_text": "va_arg(ap,unsigned long long)",
          "old_line_content": "                    if (sdsavail(s) < l) {",
          "new_line_content": "                    unum = va_arg(ap,unsigned long long);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "memcpy",
          "new_api": "sdsull2str",
          "old_text": "memcpy(s+i,buf,l)",
          "new_text": "sdsull2str(buf,unum)",
          "old_line_content": "                    memcpy(s+i,buf,l);",
          "new_line_content": "                    l = sdsull2str(buf,unum);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "sdsinclen",
          "new_api": "sdsavail",
          "old_text": "sdsinclen(s,l)",
          "new_text": "sdsavail(s)",
          "old_line_content": "                    sdsinclen(s,l);",
          "new_line_content": "                    if (sdsavail(s) < l) {",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "memmove",
          "new_api": "sdslen",
          "old_text": "memmove(s, sp, len)",
          "new_text": "sdslen(s)",
          "old_line_content": "    if (s != sp) memmove(s, sp, len);",
          "new_line_content": "    ep = end = s+sdslen(s)-1;",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "sdssetlen",
          "new_api": "strchr",
          "old_text": "sdssetlen(s,len)",
          "new_text": "strchr(cset, *ep)",
          "old_line_content": "    sdssetlen(s,len);",
          "new_line_content": "    while(ep > sp && strchr(cset, *ep)) ep--;",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "sdscatlen",
          "new_api": "sdscatprintf",
          "old_text": "sdscatlen(s,\"\\\\t\",2)",
          "new_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "old_line_content": "        case '\\t': s = sdscatlen(s,\"\\\\t\",2); break;",
          "new_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "isprint",
          "new_api": "sdscatlen",
          "old_text": "isprint(*p)",
          "new_text": "sdscatlen(s,\"\\\\t\",2)",
          "old_line_content": "            if (isprint(*p))",
          "new_line_content": "        case '\\t': s = sdscatlen(s,\"\\\\t\",2); break;",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "sdscatprintf",
          "new_api": "sdscatlen",
          "old_text": "sdscatprintf(s,\"%c\",*p)",
          "new_text": "sdscatlen(s,\"\\\\a\",2)",
          "old_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "new_line_content": "        case '\\a': s = sdscatlen(s,\"\\\\a\",2); break;",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "is_hex_digit",
          "new_api": "sdsempty",
          "old_text": "is_hex_digit(*(p+2))",
          "new_text": "sdsempty()",
          "old_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "new_line_content": "            if (current == NULL) current = sdsempty();",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "hex_digit_to_int",
          "new_api": "is_hex_digit",
          "old_text": "hex_digit_to_int(*(p+2))",
          "new_text": "is_hex_digit(*(p+3))",
          "old_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "new_line_content": "                                             is_hex_digit(*(p+3)))",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "isspace",
          "new_api": "sdscatlen",
          "old_text": "isspace(*(p+1))",
          "new_text": "sdscatlen(current,&c,1)",
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                        current = sdscatlen(current,&c,1);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "isspace",
          "new_api": "sdscatlen",
          "old_text": "isspace(*(p+1))",
          "new_text": "sdscatlen(current,\"'\",1)",
          "old_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "new_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "sdscat",
          "new_api": "sdsempty",
          "old_text": "sdscat(join, argv[j])",
          "new_text": "sdsempty()",
          "old_line_content": "        join = sdscat(join, argv[j]);",
          "new_line_content": "    sds join = sdsempty();",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "sdscatsds",
          "new_api": "sdsempty",
          "old_text": "sdscatsds(join, argv[j])",
          "new_text": "sdsempty()",
          "old_line_content": "        join = sdscatsds(join, argv[j]);",
          "new_line_content": "    sds join = sdsempty();",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "sdsnewlen",
          "new_api": "test_cond",
          "old_text": "sdsnewlen(\"foo\",2)",
          "new_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "old_line_content": "        x = sdsnewlen(\"foo\",2);",
          "new_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"Create a string with specified length\",\n            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_text": "memcmp(x,\"foo\\0\",4)",
          "old_line_content": "        test_cond(\"Create a string with specified length\",",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "sdscat",
          "new_api": "sdsnewlen",
          "old_text": "sdscat(x,\"bar\")",
          "new_text": "sdsnewlen(\"foo\",2)",
          "old_line_content": "        x = sdscat(x,\"bar\");",
          "new_line_content": "        x = sdsnewlen(\"foo\",2);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "sdscpy",
          "new_api": "sdscat",
          "old_text": "sdscpy(x,\"a\")",
          "new_text": "sdscat(x,\"bar\")",
          "old_line_content": "        x = sdscpy(x,\"a\");",
          "new_line_content": "        x = sdscat(x,\"bar\");",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "sdslen",
          "new_api": "memcmp",
          "old_text": "sdslen(x)",
          "new_text": "memcmp(x,\"a\\0\",2)",
          "old_line_content": "            sdslen(x) == 33 &&",
          "new_line_content": "            sdslen(x) == 1 && memcmp(x,\"a\\0\",2) == 0)",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(x)",
          "new_text": "test_cond(\"sdscpy() against an originally shorter string\",\n            sdslen(x) == 33 &&\n            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        test_cond(\"sdscpy() against an originally shorter string\",",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "sdsempty",
          "new_api": "sdslen",
          "old_text": "sdsempty()",
          "new_text": "sdslen(x)",
          "old_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "new_line_content": "            sdslen(x) == 33 &&",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "new_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "old_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "new_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "sdsfree",
          "new_api": "sdsempty",
          "old_text": "sdsfree(x)",
          "new_text": "sdsempty()",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        x = sdscatprintf(sdsempty(),\"%d\",123);",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "sdsnew",
          "new_api": "test_cond",
          "old_text": "sdsnew(\"--\")",
          "new_text": "test_cond(\"sdscatprintf() seems working in the base case\",\n            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "old_line_content": "        x = sdsnew(\"--\");",
          "new_line_content": "        test_cond(\"sdscatprintf() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "sdscatfmt",
          "new_api": "memcmp",
          "old_text": "sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX)",
          "new_text": "memcmp(x,\"123\\0\",4)",
          "old_line_content": "        x = sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX);",
          "new_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "sdslen",
          "new_api": "sdsfree",
          "old_text": "sdslen(x)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(x) == 60 &&",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "memcmp",
          "new_api": "sdsnew",
          "old_text": "memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60)",
          "new_text": "sdsnew(\"--\")",
          "old_line_content": "            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"",
          "new_line_content": "        x = sdsnew(\"--\");",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "printf",
          "new_api": "test_cond",
          "old_text": "printf(\"[%s]\\n\",x)",
          "new_text": "test_cond(\"sdscatfmt() seems working in the base case\",\n            sdslen(x) == 60 &&\n            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60) == 0)",
          "old_line_content": "        printf(\"[%s]\\n\",x);",
          "new_line_content": "        test_cond(\"sdscatfmt() seems working in the base case\",",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "sdsfree",
          "new_api": "memcmp",
          "old_text": "sdsfree(x)",
          "new_text": "memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "sdscatfmt",
          "new_api": "printf",
          "old_text": "sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX)",
          "new_text": "printf(\"[%s]\\n\",x)",
          "old_line_content": "        x = sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX);",
          "new_line_content": "        printf(\"[%s]\\n\",x);",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "sdslen",
          "new_api": "sdsfree",
          "old_text": "sdslen(x)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(x) == 35 &&",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "memcmp",
          "new_api": "sdsnew",
          "old_text": "memcmp(x,\"--4294967295,18446744073709551615--\",35)",
          "new_text": "sdsnew(\"--\")",
          "old_line_content": "            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "new_line_content": "        x = sdsnew(\"--\");",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(x)",
          "new_text": "test_cond(\"sdscatfmt() seems working with unsigned numbers\",\n            sdslen(x) == 35 &&\n            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        test_cond(\"sdscatfmt() seems working with unsigned numbers\",",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "sdsnew",
          "new_api": "sdslen",
          "old_text": "sdsnew(\" x \")",
          "new_text": "sdslen(x)",
          "old_line_content": "        x = sdsnew(\" x \");",
          "new_line_content": "            sdslen(x) == 35 &&",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "sdstrim",
          "new_api": "memcmp",
          "old_text": "sdstrim(x,\" x\")",
          "new_text": "memcmp(x,\"--4294967295,18446744073709551615--\",35)",
          "old_line_content": "        sdstrim(x,\" x\");",
          "new_line_content": "            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "sdslen",
          "new_api": "sdsfree",
          "old_text": "sdslen(x)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(x) == 0)",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "sdsfree",
          "new_api": "sdstrim",
          "old_text": "sdsfree(x)",
          "new_text": "sdstrim(x,\" x\")",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        sdstrim(x,\" x\");",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "sdsnew",
          "new_api": "test_cond",
          "old_text": "sdsnew(\" x \")",
          "new_text": "test_cond(\"sdstrim() works when all chars match\",\n            sdslen(x) == 0)",
          "old_line_content": "        x = sdsnew(\" x \");",
          "new_line_content": "        test_cond(\"sdstrim() works when all chars match\",",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "sdstrim",
          "new_api": "sdslen",
          "old_text": "sdstrim(x,\" \")",
          "new_text": "sdslen(x)",
          "old_line_content": "        sdstrim(x,\" \");",
          "new_line_content": "            sdslen(x) == 0)",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "sdslen",
          "new_api": "sdsfree",
          "old_text": "sdslen(x)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(x) == 1 && x[0] == 'x')",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "sdsfree",
          "new_api": "sdstrim",
          "old_text": "sdsfree(x)",
          "new_text": "sdstrim(x,\" \")",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        sdstrim(x,\" \");",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "sdsnew",
          "new_api": "test_cond",
          "old_text": "sdsnew(\"xxciaoyyy\")",
          "new_text": "test_cond(\"sdstrim() works when a single char remains\",\n            sdslen(x) == 1 && x[0] == 'x')",
          "old_line_content": "        x = sdsnew(\"xxciaoyyy\");",
          "new_line_content": "        test_cond(\"sdstrim() works when a single char remains\",",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "sdstrim",
          "new_api": "sdslen",
          "old_text": "sdstrim(x,\"xy\")",
          "new_text": "sdslen(x)",
          "old_line_content": "        sdstrim(x,\"xy\");",
          "new_line_content": "            sdslen(x) == 1 && x[0] == 'x')",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(x,\"ciao\\0\",5)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "sdsdup",
          "new_api": "sdstrim",
          "old_text": "sdsdup(x)",
          "new_text": "sdstrim(x,\"xy\")",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        sdstrim(x,\"xy\");",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "sdsrange",
          "new_api": "test_cond",
          "old_text": "sdsrange(y,1,1)",
          "new_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "old_line_content": "        sdsrange(y,1,1);",
          "new_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "test_cond",
          "new_api": "memcmp",
          "old_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_text": "memcmp(x,\"ciao\\0\",5)",
          "old_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "new_line_content": "            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "sdsfree",
          "new_api": "sdsrange",
          "old_text": "sdsfree(y)",
          "new_text": "sdsrange(y,1,1)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        sdsrange(y,1,1);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "sdsdup",
          "new_api": "test_cond",
          "old_text": "sdsdup(x)",
          "new_text": "test_cond(\"sdsrange(...,1,1)\",\n            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        test_cond(\"sdsrange(...,1,1)\",",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "sdsrange",
          "new_api": "memcmp",
          "old_text": "sdsrange(y,1,-1)",
          "new_text": "memcmp(y,\"i\\0\",2)",
          "old_line_content": "        sdsrange(y,1,-1);",
          "new_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "sdsfree(y)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "sdsfree",
          "new_api": "sdsrange",
          "old_text": "sdsfree(y)",
          "new_text": "sdsrange(y,1,-1)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        sdsrange(y,1,-1);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "sdsdup",
          "new_api": "test_cond",
          "old_text": "sdsdup(x)",
          "new_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "sdsrange",
          "new_api": "memcmp",
          "old_text": "sdsrange(y,-2,-1)",
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "        sdsrange(y,-2,-1);",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"ao\\0\",3)",
          "new_text": "sdsfree(y)",
          "old_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "sdsfree",
          "new_api": "sdsrange",
          "old_text": "sdsfree(y)",
          "new_text": "sdsrange(y,-2,-1)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        sdsrange(y,-2,-1);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "sdsdup",
          "new_api": "test_cond",
          "old_text": "sdsdup(x)",
          "new_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "sdsrange",
          "new_api": "memcmp",
          "old_text": "sdsrange(y,2,1)",
          "new_text": "memcmp(y,\"ao\\0\",3)",
          "old_line_content": "        sdsrange(y,2,1);",
          "new_line_content": "            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "sdsfree(y)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "sdsfree",
          "new_api": "sdsrange",
          "old_text": "sdsfree(y)",
          "new_text": "sdsrange(y,2,1)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        sdsrange(y,2,1);",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "sdsdup",
          "new_api": "test_cond",
          "old_text": "sdsdup(x)",
          "new_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "sdsrange",
          "new_api": "memcmp",
          "old_text": "sdsrange(y,1,100)",
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "        sdsrange(y,1,100);",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"iao\\0\",4)",
          "new_text": "sdsfree(y)",
          "old_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "sdsfree",
          "new_api": "sdsrange",
          "old_text": "sdsfree(y)",
          "new_text": "sdsrange(y,1,100)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        sdsrange(y,1,100);",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "sdsdup",
          "new_api": "test_cond",
          "old_text": "sdsdup(x)",
          "new_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "old_line_content": "        y = sdsdup(x);",
          "new_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "sdsrange",
          "new_api": "memcmp",
          "old_text": "sdsrange(y,100,100)",
          "new_text": "memcmp(y,\"iao\\0\",4)",
          "old_line_content": "        sdsrange(y,100,100);",
          "new_line_content": "            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"\\0\",1)",
          "new_text": "sdsfree(y)",
          "old_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "sdsfree",
          "new_api": "sdsrange",
          "old_text": "sdsfree(y)",
          "new_text": "sdsrange(y,100,100)",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        sdsrange(y,100,100);",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(x)",
          "new_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "sdsnew",
          "new_api": "memcmp",
          "old_text": "sdsnew(\"foo\")",
          "new_text": "memcmp(y,\"\\0\",1)",
          "old_line_content": "        x = sdsnew(\"foo\");",
          "new_line_content": "            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "sdscmp",
          "new_api": "sdsfree",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(y)",
          "new_text": "sdsnew(\"foo\")",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        x = sdsnew(\"foo\");",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(x)",
          "new_text": "sdsnew(\"foa\")",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        y = sdsnew(\"foa\");",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "sdsnew",
          "new_api": "sdscmp",
          "old_text": "sdsnew(\"bar\")",
          "new_text": "sdscmp(x,y)",
          "old_line_content": "        x = sdsnew(\"bar\");",
          "new_line_content": "        test_cond(\"sdscmp(foo,foa)\", sdscmp(x,y) > 0)",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "sdscmp",
          "new_api": "sdsfree",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(y)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        x = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(x)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "sdsnew",
          "new_api": "sdscmp",
          "old_text": "sdsnew(\"aar\")",
          "new_text": "sdscmp(x,y)",
          "old_line_content": "        x = sdsnew(\"aar\");",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) == 0)",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "sdscmp",
          "new_api": "sdsfree",
          "old_text": "sdscmp(x,y)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0)",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(y)",
          "new_text": "sdsnew(\"aar\")",
          "old_line_content": "        sdsfree(y);",
          "new_line_content": "        x = sdsnew(\"aar\");",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "sdsfree",
          "new_api": "sdsnew",
          "old_text": "sdsfree(x)",
          "new_text": "sdsnew(\"bar\")",
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "        y = sdsnew(\"bar\");",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "sdsnewlen",
          "new_api": "sdscmp",
          "old_text": "sdsnewlen(\"\\a\\n\\0foo\\r\",7)",
          "new_text": "sdscmp(x,y)",
          "old_line_content": "        x = sdsnewlen(\"\\a\\n\\0foo\\r\",7);",
          "new_line_content": "        test_cond(\"sdscmp(bar,bar)\", sdscmp(x,y) < 0)",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "test_cond",
          "new_api": "sdsfree",
          "old_text": "test_cond(\"sdscatrepr(...data...)\",\n            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "new_text": "sdsfree(y)",
          "old_line_content": "        test_cond(\"sdscatrepr(...data...)\",",
          "new_line_content": "        sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "memcmp",
          "new_api": "sdsfree",
          "old_text": "memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15)",
          "new_text": "sdsfree(x)",
          "old_line_content": "            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "sdslen",
          "new_api": "sdsIncrLen",
          "old_text": "sdslen(x)",
          "new_text": "sdsIncrLen(x,step)",
          "old_line_content": "            test_cond(\"sdsMakeRoomFor() final length\",sdslen(x)==101);",
          "new_line_content": "                sdsIncrLen(x,step);",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": "sdsfree",
          "new_api": "test_cond",
          "old_text": "sdsfree(x)",
          "new_text": "test_cond(\"sdsMakeRoomFor() content\",\n                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0)",
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor() content\",",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1024,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                    case ' ':",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                if (*p) p++;",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(vector,((*argc)+1)*sizeof(char*))",
          "old_line_content": "        } else {",
          "new_line_content": "            vector = s_realloc(vector,((*argc)+1)*sizeof(char*));",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(sizeof(void*))",
          "old_line_content": "",
          "new_line_content": "            if (vector == NULL) vector = s_malloc(sizeof(void*));",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(vector[*argc])",
          "old_line_content": "    return NULL;",
          "new_line_content": "        sdsfree(vector[*argc]);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(vector)",
          "old_line_content": "}",
          "new_line_content": "    s_free(vector);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(current)",
          "old_line_content": "",
          "new_line_content": "    if (current) sdsfree(current);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "            if (s[j] == from[i]) {",
          "new_line_content": "    size_t j, i, l = sdslen(s);",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(join, argv[j])",
          "old_line_content": "}",
          "new_line_content": "        join = sdscat(join, argv[j]);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "sdscat",
          "old_text": null,
          "new_text": "sdscat(join,sep)",
          "old_line_content": "",
          "new_line_content": "        if (j != argc-1) join = sdscat(join,sep);",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "sdscatsds",
          "old_text": null,
          "new_text": "sdscatsds(join, argv[j])",
          "old_line_content": "}",
          "new_line_content": "        join = sdscatsds(join, argv[j]);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(join,sep,seplen)",
          "old_line_content": "",
          "new_line_content": "        if (j != argc-1) join = sdscatlen(join,sep,seplen);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(fmt)",
          "old_line_content": "    while(*f) {",
          "new_line_content": "    s = sdsMakeRoomFor(s, initlen + strlen(fmt)*2);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap,fmt)",
          "old_line_content": "        char next, *str;",
          "new_line_content": "    va_start(ap,fmt);",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(size)",
          "old_line_content": "#if defined(SDS_TEST_MAIN)",
          "new_line_content": "void *sds_malloc(size_t size) { return s_malloc(size); }",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(ptr,size)",
          "old_line_content": "#include <stdio.h>",
          "new_line_content": "void *sds_realloc(void *ptr, size_t size) { return s_realloc(ptr,size); }",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(ptr)",
          "old_line_content": "#include \"testhelp.h\"",
          "new_line_content": "void sds_free(void *ptr) { s_free(ptr); }",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(s)",
          "old_line_content": "        switch(*f) {",
          "new_line_content": "        if (sdsavail(s)==0) {",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,1)",
          "old_line_content": "        case '%':",
          "new_line_content": "            s = sdsMakeRoomFor(s,1);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"foo\")",
          "old_line_content": "",
          "new_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(ap,char*)",
          "old_line_content": "                }",
          "new_line_content": "                str = va_arg(ap,char*);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,l)",
          "old_line_content": "                i += l;",
          "new_line_content": "                    s = sdsMakeRoomFor(s,l);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s+i,str,l)",
          "old_line_content": "            case 'i':",
          "new_line_content": "                memcpy(s+i,str,l);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,l)",
          "old_line_content": "            case 'I':",
          "new_line_content": "                sdsinclen(s,l);",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "sdscpy",
          "old_text": null,
          "new_text": "sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\")",
          "old_line_content": "",
          "new_line_content": "        x = sdscpy(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\");",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(ap,int)",
          "old_line_content": "                    char buf[SDS_LLSTR_SIZE];",
          "new_line_content": "                    num = va_arg(ap,int);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,l)",
          "old_line_content": "                    i += l;",
          "new_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s+i,buf,l)",
          "old_line_content": "                break;",
          "new_line_content": "                    memcpy(s+i,buf,l);",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,l)",
          "old_line_content": "            case 'u':",
          "new_line_content": "                    sdsinclen(s,l);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "sdscatfmt",
          "old_text": null,
          "new_text": "sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX)",
          "old_line_content": "                     \"9223372036854775807--\",60) == 0)",
          "new_line_content": "        x = sdscatfmt(x, \"Hello %s World %I,%I--\", \"Hi!\", LLONG_MIN,LLONG_MAX);",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "",
          "new_line_content": "            sdslen(x) == 60 &&",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(ap,unsigned int)",
          "old_line_content": "                    char buf[SDS_LLSTR_SIZE];",
          "new_line_content": "                    unum = va_arg(ap,unsigned int);",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "sdscatfmt",
          "old_text": null,
          "new_text": "sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX)",
          "old_line_content": "",
          "new_line_content": "        x = sdscatfmt(x, \"%u,%U--\", UINT_MAX, ULLONG_MAX);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(s,l)",
          "old_line_content": "                    i += l;",
          "new_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\" x \")",
          "old_line_content": "",
          "new_line_content": "        x = sdsnew(\" x \");",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s+i,buf,l)",
          "old_line_content": "                break;",
          "new_line_content": "                    memcpy(s+i,buf,l);",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,l)",
          "old_line_content": "            default: /* Handle %% and generally %<unknown>. */",
          "new_line_content": "                    sdsinclen(s,l);",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\" x \")",
          "old_line_content": "",
          "new_line_content": "        x = sdsnew(\" x \");",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,1)",
          "old_line_content": "        default:",
          "new_line_content": "                sdsinclen(s,1);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"xxciaoyyy\")",
          "old_line_content": "",
          "new_line_content": "        x = sdsnew(\"xxciaoyyy\");",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "sdsinclen",
          "old_text": null,
          "new_text": "sdsinclen(s,1)",
          "old_line_content": "    }",
          "new_line_content": "            sdsinclen(s,1);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "sdsdup",
          "old_text": null,
          "new_text": "sdsdup(x)",
          "old_line_content": "",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "    return s;",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": "sdsdup",
          "old_text": null,
          "new_text": "sdsdup(x)",
          "old_line_content": "",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "sdsdup",
          "old_text": null,
          "new_text": "sdsdup(x)",
          "old_line_content": "",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "sdsdup",
          "old_text": null,
          "new_text": "sdsdup(x)",
          "old_line_content": "",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "sdsdup",
          "old_text": null,
          "new_text": "sdsdup(x)",
          "old_line_content": "",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(cset, *sp)",
          "old_line_content": "    s[len] = '\\0';",
          "new_line_content": "    while(sp <= end && strchr(cset, *sp)) sp++;",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "sdsdup",
          "old_text": null,
          "new_text": "sdsdup(x)",
          "old_line_content": "",
          "new_line_content": "        y = sdsdup(x);",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(s, sp, len)",
          "old_line_content": "}",
          "new_line_content": "    if (s != sp) memmove(s, sp, len);",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": null,
          "new_api": "sdssetlen",
          "old_text": null,
          "new_text": "sdssetlen(s,len)",
          "old_line_content": "/* Turn the string into a smaller (or equal) string containing only the",
          "new_line_content": "    sdssetlen(s,len);",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "        sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(\"\\a\\n\\0foo\\r\",7)",
          "old_line_content": "",
          "new_line_content": "        x = sdsnewlen(\"\\a\\n\\0foo\\r\",7);",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "        start = len+start;",
          "new_line_content": "    size_t newlen, len = sdslen(s);",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "test_cond",
          "old_text": null,
          "new_text": "test_cond(\"sdscatrepr(...data...)\",\n            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "old_line_content": "            unsigned int oldfree;",
          "new_line_content": "        test_cond(\"sdscatrepr(...data...)\",",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "        {",
          "new_line_content": "        y = sdscatrepr(sdsempty(),x,sdslen(x));",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15)",
          "old_line_content": "            char *p;",
          "new_line_content": "            memcmp(y,\"\\\"\\\\a\\\\n\\\\x00foo\\\\r\\\"\",15) == 0)",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(y)",
          "old_line_content": "            /* Run the test a few times in order to hit the first two",
          "new_line_content": "            sdsfree(y);",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "sdsnew",
          "old_text": null,
          "new_text": "sdsnew(\"0\")",
          "old_line_content": "             * SDS header types. */",
          "new_line_content": "            x = sdsnew(\"0\");",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(x)",
          "old_line_content": "            for (i = 0; i < 10; i++) {",
          "new_line_content": "            test_cond(\"sdsnew() free/len buffers\", sdslen(x) == 1 && sdsavail(x) == 0);",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "sdsMakeRoomFor",
          "old_text": null,
          "new_text": "sdsMakeRoomFor(x,step)",
          "old_line_content": "                if (type != SDS_TYPE_5) {",
          "new_line_content": "                x = sdsMakeRoomFor(x,step);",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "                }",
          "new_line_content": "                test_cond(\"sdsMakeRoomFor() len\", sdslen(x) == oldlen);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(s, s+start, newlen)",
          "old_line_content": "",
          "new_line_content": "    if (start && newlen) memmove(s, s+start, newlen);",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(x)",
          "old_line_content": "                for (j = 0; j < step; j++) {",
          "new_line_content": "                    test_cond(\"sdsMakeRoomFor() free\", sdsavail(x) >= step);",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": null,
          "new_api": "sdssetlen",
          "old_text": null,
          "new_text": "sdssetlen(s,newlen)",
          "old_line_content": "void sdstolower(sds s) {",
          "new_line_content": "    sdssetlen(s,newlen);",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "sdsavail",
          "old_text": null,
          "new_text": "sdsavail(x)",
          "old_line_content": "                    p[j] = 'A'+j;",
          "new_line_content": "                    oldfree = sdsavail(x);",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "",
          "new_line_content": "    size_t len = sdslen(s), j;",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(s[j])",
          "old_line_content": "void sdstoupper(sds s) {",
          "new_line_content": "    for (j = 0; j < len; j++) s[j] = tolower(s[j]);",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101)",
          "old_line_content": "        }",
          "new_line_content": "                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0);",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(x)",
          "old_line_content": "    }",
          "new_line_content": "            test_cond(\"sdsMakeRoomFor() final length\",sdslen(x)==101);",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s)",
          "old_line_content": "",
          "new_line_content": "    size_t len = sdslen(s), j;",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(x)",
          "old_line_content": "    return 0;",
          "new_line_content": "            sdsfree(x);",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper(s[j])",
          "old_line_content": " *",
          "new_line_content": "    for (j = 0; j < len; j++) s[j] = toupper(s[j]);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "test_report",
          "old_text": null,
          "new_text": "test_report()",
          "old_line_content": "",
          "new_line_content": "    test_report()",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "sdsTest",
          "old_text": null,
          "new_text": "sdsTest()",
          "old_line_content": "",
          "new_line_content": "    return sdsTest();",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s1)",
          "old_line_content": "    if (cmp == 0) return l1>l2? 1: (l1<l2? -1: 0);",
          "new_line_content": "    l1 = sdslen(s1);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(s2)",
          "old_line_content": "    return cmp;",
          "new_line_content": "    l2 = sdslen(s2);",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s1,s2,minlen)",
          "old_line_content": "",
          "new_line_content": "    cmp = memcmp(s1,s2,minlen);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "s_malloc",
          "old_text": null,
          "new_text": "s_malloc(sizeof(sds)*slots)",
          "old_line_content": "        *count = 0;",
          "new_line_content": "    tokens = s_malloc(sizeof(sds)*slots);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "s_realloc",
          "old_text": null,
          "new_text": "s_realloc(tokens,sizeof(sds)*slots)",
          "old_line_content": "        /* search the separator */",
          "new_line_content": "            newtokens = s_realloc(tokens,sizeof(sds)*slots);",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(s+j,sep,seplen)",
          "old_line_content": "            start = j+seplen;",
          "new_line_content": "        if ((seplen == 1 && *(s+j) == sep[0]) || (memcmp(s+j,sep,seplen) == 0)) {",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(s+start,j-start)",
          "old_line_content": "            j = j+seplen-1; /* skip the separator */",
          "new_line_content": "            tokens[elements] = sdsnewlen(s+start,j-start);",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "sdsnewlen",
          "old_text": null,
          "new_text": "sdsnewlen(s+start,len-start)",
          "old_line_content": "    return tokens;",
          "new_line_content": "    tokens[elements] = sdsnewlen(s+start,len-start);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(tokens[i])",
          "old_line_content": "    }",
          "new_line_content": "        for (i = 0; i < elements; i++) sdsfree(tokens[i]);",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(tokens)",
          "old_line_content": "}",
          "new_line_content": "        s_free(tokens);",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "sdsfree",
          "old_text": null,
          "new_text": "sdsfree(tokens[count])",
          "old_line_content": "/* Append to the sds string \"s\" an escaped string representation where",
          "new_line_content": "        sdsfree(tokens[count]);",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "s_free",
          "old_text": null,
          "new_text": "s_free(tokens)",
          "old_line_content": " * all the non-printable characters (tested with isprint()) are turned into",
          "new_line_content": "    s_free(tokens);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": "        case '\"':",
          "new_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\r\",2)",
          "old_line_content": "        default:",
          "new_line_content": "        case '\\r': s = sdscatlen(s,\"\\\\r\",2); break;",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\\b\",2)",
          "old_line_content": "            else",
          "new_line_content": "        case '\\b': s = sdscatlen(s,\"\\\\b\",2); break;",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "isprint",
          "old_text": null,
          "new_text": "isprint(*p)",
          "old_line_content": "            break;",
          "new_line_content": "            if (isprint(*p))",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"%c\",*p)",
          "old_line_content": "        }",
          "new_line_content": "                s = sdscatprintf(s,\"%c\",*p);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "sdscatprintf",
          "old_text": null,
          "new_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "old_line_content": "    }",
          "new_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(s,\"\\\"\",1)",
          "old_line_content": " * is a valid hex digit. */",
          "new_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "            int insq=0; /* set to 1 if we are in 'single quotes' */",
          "new_line_content": "        while(*p && isspace(*p)) p++;",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "is_hex_digit",
          "old_text": null,
          "new_text": "is_hex_digit(*(p+2))",
          "old_line_content": "",
          "new_line_content": "                                             is_hex_digit(*(p+2)) &&",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": null,
          "new_api": "hex_digit_to_int",
          "old_text": null,
          "new_text": "hex_digit_to_int(*(p+2))",
          "old_line_content": "                    } else if (*p == '\\\\' && *(p+1)) {",
          "new_line_content": "                        byte = (hex_digit_to_int(*(p+2))*16)+",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "hex_digit_to_int",
          "old_text": null,
          "new_text": "hex_digit_to_int(*(p+3))",
          "old_line_content": "                        char c;",
          "new_line_content": "                                hex_digit_to_int(*(p+3));",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,(char*)&byte,1)",
          "old_line_content": "",
          "new_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                        goto err;",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "sdscatlen",
          "old_text": null,
          "new_text": "sdscatlen(current,p,1)",
          "old_line_content": "                        p++;",
          "new_line_content": "                        current = sdscatlen(current,p,1);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*(p+1))",
          "old_line_content": "                        goto err;",
          "new_line_content": "                        if (*(p+1) && !isspace(*(p+1))) goto err;",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1038,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    case '\\'':",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "s_realloc",
          "new_api": null,
          "old_text": "s_realloc(vector,((*argc)+1)*sizeof(char*))",
          "new_text": null,
          "old_line_content": "            vector = s_realloc(vector,((*argc)+1)*sizeof(char*));",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(sizeof(void*))",
          "new_text": null,
          "old_line_content": "            if (vector == NULL) vector = s_malloc(sizeof(void*));",
          "new_line_content": "            (*argc)++;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(vector[*argc])",
          "new_text": null,
          "old_line_content": "        sdsfree(vector[*argc]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(vector)",
          "new_text": null,
          "old_line_content": "    s_free(vector);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(current)",
          "new_text": null,
          "old_line_content": "    if (current) sdsfree(current);",
          "new_line_content": "err:",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t j, i, l = sdslen(s);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    sds join = sdsempty();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "sdscat",
          "new_api": null,
          "old_text": "sdscat(join,sep)",
          "new_text": null,
          "old_line_content": "        if (j != argc-1) join = sdscat(join,sep);",
          "new_line_content": "    int j;",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "    sds join = sdsempty();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(join,sep,seplen)",
          "new_text": null,
          "old_line_content": "        if (j != argc-1) join = sdscatlen(join,sep,seplen);",
          "new_line_content": "    int j;",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(size)",
          "new_text": null,
          "old_line_content": "void *sds_malloc(size_t size) { return s_malloc(size); }",
          "new_line_content": " * just use the macros defined into sdsalloc.h in order to avoid to pay",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap,fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap,fmt);",
          "new_line_content": "    /* To avoid continuous reallocations, let's start with a buffer that",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(ptr)",
          "new_text": null,
          "old_line_content": "void sds_free(void *ptr) { s_free(ptr); }",
          "new_line_content": " * the programs SDS is linked to, if they want to touch the SDS internals",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "s_realloc",
          "new_api": null,
          "old_text": "s_realloc(ptr,size)",
          "new_text": null,
          "old_line_content": "void *sds_realloc(void *ptr, size_t size) { return s_realloc(ptr,size); }",
          "new_line_content": " * the overhead of function calls. Here we define these wrappers only for",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(s)",
          "new_text": null,
          "old_line_content": "        if (sdsavail(s)==0) {",
          "new_line_content": "        long long num;",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,1)",
          "new_text": null,
          "old_line_content": "            s = sdsMakeRoomFor(s,1);",
          "new_line_content": "        unsigned long long unum;",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"foo\")",
          "new_text": null,
          "old_line_content": "        sds x = sdsnew(\"foo\"), y;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"Create a string and obtain the length\",\n            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"Create a string and obtain the length\",",
          "new_line_content": "int sdsTest(void) {",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"foo\\0\",4)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"foo\\0\",4) == 0)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "        sdsfree(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"fo\\0\",3)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 2 && memcmp(x,\"fo\\0\",3) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,char*)",
          "new_text": null,
          "old_line_content": "                str = va_arg(ap,char*);",
          "new_line_content": "            f++;",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(str)",
          "new_text": null,
          "old_line_content": "                l = (next == 's') ? strlen(str) : sdslen(str);",
          "new_line_content": "            switch(next) {",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(s)",
          "new_text": null,
          "old_line_content": "                if (sdsavail(s) < l) {",
          "new_line_content": "            case 's':",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,l)",
          "new_text": null,
          "old_line_content": "                    s = sdsMakeRoomFor(s,l);",
          "new_line_content": "            case 'S':",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33)",
          "new_text": null,
          "old_line_content": "            memcmp(x,\"xyzxxxxxxxxxxyyyyyyyyyykkkkkkkkkk\\0\",33) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,int)",
          "new_text": null,
          "old_line_content": "                    num = va_arg(ap,int);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,long long)",
          "new_text": null,
          "old_line_content": "                    num = va_arg(ap,long long);",
          "new_line_content": "            case 'I':",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "sdsll2str",
          "new_api": null,
          "old_text": "sdsll2str(buf,num)",
          "new_text": null,
          "old_line_content": "                    l = sdsll2str(buf,num);",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(x,\"123\\0\",4)",
          "new_text": null,
          "old_line_content": "            sdslen(x) == 3 && memcmp(x,\"123\\0\",4) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,l)",
          "new_text": null,
          "old_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdscatfmt() seems working in the base case\",\n            sdslen(x) == 60 &&\n            memcmp(x,\"--Hello Hi! World -9223372036854775808,\"\n                     \"9223372036854775807--\",60) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdscatfmt() seems working in the base case\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,unsigned int)",
          "new_text": null,
          "old_line_content": "                    unum = va_arg(ap,unsigned int);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"--\")",
          "new_text": null,
          "old_line_content": "        x = sdsnew(\"--\");",
          "new_line_content": "                     \"9223372036854775807--\",60) == 0)",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(ap,unsigned long long)",
          "new_text": null,
          "old_line_content": "                    unum = va_arg(ap,unsigned long long);",
          "new_line_content": "            case 'U':",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdscatfmt() seems working with unsigned numbers\",\n            sdslen(x) == 35 &&\n            memcmp(x,\"--4294967295,18446744073709551615--\",35) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdscatfmt() seems working with unsigned numbers\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "sdsull2str",
          "new_api": null,
          "old_text": "sdsull2str(buf,unum)",
          "new_text": null,
          "old_line_content": "                    l = sdsull2str(buf,unum);",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(s,l)",
          "new_text": null,
          "old_line_content": "                        s = sdsMakeRoomFor(s,l);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdstrim() works when all chars match\",\n            sdslen(x) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdstrim() works when all chars match\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdstrim() works when a single char remains\",\n            sdslen(x) == 1 && x[0] == 'x')",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdstrim() works when a single char remains\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "sdsinclen",
          "new_api": null,
          "old_text": "sdsinclen(s,1)",
          "new_text": null,
          "old_line_content": "                sdsinclen(s,1);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdstrim() correctly trims characters\",\n            sdslen(x) == 4 && memcmp(x,\"ciao\\0\",5) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdstrim() correctly trims characters\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "sdsinclen",
          "new_api": null,
          "old_text": "sdsinclen(s,1)",
          "new_text": null,
          "old_line_content": "            sdsinclen(s,1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(y,\"i\\0\",2)",
          "new_text": null,
          "old_line_content": "            sdslen(y) == 1 && memcmp(y,\"i\\0\",2) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,1,-1)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,1,-1)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,-2,-1)\",\n            sdslen(y) == 2 && memcmp(y,\"ao\\0\",3) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,-2,-1)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,2,1)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,2,1)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,1,100)\",\n            sdslen(y) == 3 && memcmp(y,\"iao\\0\",4) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,1,100)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    ep = end = s+sdslen(s)-1;",
          "new_line_content": "    char *start, *end, *sp, *ep;",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(cset, *sp)",
          "new_text": null,
          "old_line_content": "    while(sp <= end && strchr(cset, *sp)) sp++;",
          "new_line_content": "    size_t len;",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(cset, *ep)",
          "new_text": null,
          "old_line_content": "    while(ep > sp && strchr(cset, *ep)) ep--;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsrange(...,100,100)\",\n            sdslen(y) == 0 && memcmp(y,\"\\0\",1) == 0)",
          "new_text": null,
          "old_line_content": "        test_cond(\"sdsrange(...,100,100)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"foa\")",
          "new_text": null,
          "old_line_content": "        y = sdsnew(\"foa\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"bar\")",
          "new_text": null,
          "old_line_content": "        y = sdsnew(\"bar\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"bar\")",
          "new_text": null,
          "old_line_content": "        y = sdsnew(\"bar\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t newlen, len = sdslen(s);",
          "new_line_content": " * s = sdsnew(\"Hello World\");",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "        y = sdscatrepr(sdsempty(),x,sdslen(x));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(x)",
          "new_text": null,
          "old_line_content": "            sdsfree(x);",
          "new_line_content": "            unsigned int oldfree;",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(y)",
          "new_text": null,
          "old_line_content": "            sdsfree(y);",
          "new_line_content": "            char *p;",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "sdsnew",
          "new_api": null,
          "old_text": "sdsnew(\"0\")",
          "new_text": null,
          "old_line_content": "            x = sdsnew(\"0\");",
          "new_line_content": "            int step = 10, j, i;",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(x)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsnew() free/len buffers\", sdslen(x) == 1 && sdsavail(x) == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(x)",
          "new_text": null,
          "old_line_content": "                int oldlen = sdslen(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "sdsMakeRoomFor",
          "new_api": null,
          "old_text": "sdsMakeRoomFor(x,step)",
          "new_text": null,
          "old_line_content": "                x = sdsMakeRoomFor(x,step);",
          "new_line_content": "            /* Run the test a few times in order to hit the first two",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(s, s+start, newlen)",
          "new_text": null,
          "old_line_content": "    if (start && newlen) memmove(s, s+start, newlen);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(x)",
          "new_text": null,
          "old_line_content": "                    test_cond(\"sdsMakeRoomFor() free\", sdsavail(x) >= step);",
          "new_line_content": "                int type = x[-1]&SDS_TYPE_MASK;",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "sdsavail",
          "new_api": null,
          "old_text": "sdsavail(x)",
          "new_text": null,
          "old_line_content": "                    oldfree = sdsavail(x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "sdssetlen",
          "new_api": null,
          "old_text": "sdssetlen(s,newlen)",
          "new_text": null,
          "old_line_content": "    sdssetlen(s,newlen);",
          "new_line_content": "        start = 0;",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t len = sdslen(s), j;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "sdsIncrLen",
          "new_api": null,
          "old_text": "sdsIncrLen(x,step)",
          "new_text": null,
          "old_line_content": "                sdsIncrLen(x,step);",
          "new_line_content": "                p = x+oldlen;",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(s[j])",
          "new_text": null,
          "old_line_content": "    for (j = 0; j < len; j++) s[j] = tolower(s[j]);",
          "new_line_content": "/* Apply tolower() to every character of the sds string 's'. */",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "test_cond",
          "new_api": null,
          "old_text": "test_cond(\"sdsMakeRoomFor() content\",\n                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0)",
          "new_text": null,
          "old_line_content": "            test_cond(\"sdsMakeRoomFor() content\",",
          "new_line_content": "                    p[j] = 'A'+j;",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101)",
          "new_text": null,
          "old_line_content": "                memcmp(\"0ABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJABCDEFGHIJ\",x,101) == 0);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s)",
          "new_text": null,
          "old_line_content": "    size_t len = sdslen(s), j;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "toupper",
          "new_api": null,
          "old_text": "toupper(s[j])",
          "new_text": null,
          "old_line_content": "    for (j = 0; j < len; j++) s[j] = toupper(s[j]);",
          "new_line_content": "/* Apply toupper() to every character of the sds string 's'. */",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "test_report",
          "new_api": null,
          "old_text": "test_report()",
          "new_text": null,
          "old_line_content": "    test_report()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": "sdsTest",
          "new_api": null,
          "old_text": "sdsTest()",
          "new_text": null,
          "old_line_content": "    return sdsTest();",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s1)",
          "new_text": null,
          "old_line_content": "    l1 = sdslen(s1);",
          "new_line_content": "int sdscmp(const sds s1, const sds s2) {",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(s2)",
          "new_text": null,
          "old_line_content": "    l2 = sdslen(s2);",
          "new_line_content": "    size_t l1, l2, minlen;",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s1,s2,minlen)",
          "new_text": null,
          "old_line_content": "    cmp = memcmp(s1,s2,minlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "s_malloc",
          "new_api": null,
          "old_text": "s_malloc(sizeof(sds)*slots)",
          "new_text": null,
          "old_line_content": "    tokens = s_malloc(sizeof(sds)*slots);",
          "new_line_content": "    sds *tokens;",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "s_realloc",
          "new_api": null,
          "old_text": "s_realloc(tokens,sizeof(sds)*slots)",
          "new_text": null,
          "old_line_content": "            newtokens = s_realloc(tokens,sizeof(sds)*slots);",
          "new_line_content": "        if (slots < elements+2) {",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(s+j,sep,seplen)",
          "new_text": null,
          "old_line_content": "        if ((seplen == 1 && *(s+j) == sep[0]) || (memcmp(s+j,sep,seplen) == 0)) {",
          "new_line_content": "            if (newtokens == NULL) goto cleanup;",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(s+start,j-start)",
          "new_text": null,
          "old_line_content": "            tokens[elements] = sdsnewlen(s+start,j-start);",
          "new_line_content": "            tokens = newtokens;",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "sdsnewlen",
          "new_api": null,
          "old_text": "sdsnewlen(s+start,len-start)",
          "new_text": null,
          "old_line_content": "    tokens[elements] = sdsnewlen(s+start,len-start);",
          "new_line_content": "            j = j+seplen-1; /* skip the separator */",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(tokens[i])",
          "new_text": null,
          "old_line_content": "        for (i = 0; i < elements; i++) sdsfree(tokens[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(tokens)",
          "new_text": null,
          "old_line_content": "        s_free(tokens);",
          "new_line_content": "cleanup:",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "sdsfree",
          "new_api": null,
          "old_text": "sdsfree(tokens[count])",
          "new_text": null,
          "old_line_content": "        sdsfree(tokens[count]);",
          "new_line_content": "/* Free the result returned by sdssplitlen(), or do nothing if 'tokens' is NULL. */",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "s_free",
          "new_api": null,
          "old_text": "s_free(tokens)",
          "new_text": null,
          "old_line_content": "    s_free(tokens);",
          "new_line_content": "void sdsfreesplitres(sds *tokens, int count) {",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": null,
          "old_line_content": "    s = sdscatlen(s,\"\\\"\",1);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\%c\",*p)",
          "new_text": null,
          "old_line_content": "            s = sdscatprintf(s,\"\\\\%c\",*p);",
          "new_line_content": "    while(len--) {",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\n\",2)",
          "new_text": null,
          "old_line_content": "        case '\\n': s = sdscatlen(s,\"\\\\n\",2); break;",
          "new_line_content": "        case '\\\\':",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\r\",2)",
          "new_text": null,
          "old_line_content": "        case '\\r': s = sdscatlen(s,\"\\\\r\",2); break;",
          "new_line_content": "        case '\"':",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\\a\",2)",
          "new_text": null,
          "old_line_content": "        case '\\a': s = sdscatlen(s,\"\\\\a\",2); break;",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "sdscatprintf",
          "new_api": null,
          "old_text": "sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p)",
          "new_text": null,
          "old_line_content": "                s = sdscatprintf(s,\"\\\\x%02x\",(unsigned char)*p);",
          "new_line_content": "        default:",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(s,\"\\\"\",1)",
          "new_text": null,
          "old_line_content": "    return sdscatlen(s,\"\\\"\",1);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        while(*p && isspace(*p)) p++;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "sdsempty",
          "new_api": null,
          "old_text": "sdsempty()",
          "new_text": null,
          "old_line_content": "            if (current == NULL) current = sdsempty();",
          "new_line_content": "            int inq=0;  /* set to 1 if we are in \"quotes\" */",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": "is_hex_digit",
          "new_api": null,
          "old_text": "is_hex_digit(*(p+3))",
          "new_text": null,
          "old_line_content": "                                             is_hex_digit(*(p+3)))",
          "new_line_content": "            while(!done) {",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "hex_digit_to_int",
          "new_api": null,
          "old_text": "hex_digit_to_int(*(p+3))",
          "new_text": null,
          "old_line_content": "                                hex_digit_to_int(*(p+3));",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,(char*)&byte,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,(char*)&byte,1);",
          "new_line_content": "                        unsigned char byte;",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,&c,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,&c,1);",
          "new_line_content": "                        case 'b': c = '\\b'; break;",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    } else if (!*p) {",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,\"'\",1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,\"'\",1);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "sdscatlen",
          "new_api": null,
          "old_text": "sdscatlen(current,p,1)",
          "new_text": null,
          "old_line_content": "                        current = sdscatlen(current,p,1);",
          "new_line_content": "                    } else if (!*p) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 91,
      "total_additions": 107,
      "total_deletions": 106,
      "total_api_changes": 304
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 304,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          608,
          607
        ]
      }
    },
    "api_calls_before": 317,
    "api_calls_after": 319,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 0,
      "total_diff_lines": 16
    }
  }
}