{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/1222b6087385aa431a412a9e9b59cf29ce55210e",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/1222b6087385aa431a412a9e9b59cf29ce55210e/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/1222b6087385aa431a412a9e9b59cf29ce55210e/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/1222b6087385aa431a412a9e9b59cf29ce55210e/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 778,
          "old_api": "dictGetKey",
          "new_api": "dictNext",
          "old_text": "dictGetKey(de)",
          "new_text": "dictNext(di)",
          "old_line_content": "        sds key = dictGetKey(de);",
          "new_line_content": "    while((de = dictNext(di)) != NULL) {",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "sdslen",
          "new_api": "initStaticStringObject",
          "old_text": "sdslen(key)",
          "new_text": "initStaticStringObject(keyobj, key)",
          "old_line_content": "            keyobj = createStringObject(key,sdslen(key));",
          "new_line_content": "            initStaticStringObject(keyobj, key);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "addReplyBulk",
          "new_api": "sdslen",
          "old_text": "addReplyBulk(c,keyobj)",
          "new_text": "sdslen(key)",
          "old_line_content": "                addReplyBulk(c,keyobj);",
          "new_line_content": "                addReplyBulkCBuffer(c, key, sdslen(key));",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "dictReleaseIterator",
          "new_api": "setDeferredArrayLen",
          "old_text": "dictReleaseIterator(di)",
          "new_text": "setDeferredArrayLen(c,replylen,numkeys)",
          "old_line_content": "    dictReleaseIterator(di);",
          "new_line_content": "    setDeferredArrayLen(c,replylen,numkeys);",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "dictGetKey",
          "new_api": "sdslen",
          "old_text": "dictGetKey(de)",
          "new_text": "sdslen(sdskey)",
          "old_line_content": "        sds sdskey = dictGetKey(de);",
          "new_line_content": "        key = createStringObject(sdskey, sdslen(sdskey));",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "dictGetKey",
          "new_api": "sdslen",
          "old_text": "dictGetKey(de)",
          "new_text": "sdslen(keysds)",
          "old_line_content": "        sds keysds = dictGetKey(de);",
          "new_line_content": "        key = createStringObject(keysds,sdslen(keysds));",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "dictGetKey",
          "new_api": "dictGetVal",
          "old_text": "dictGetKey(de)",
          "new_text": "dictGetVal(de)",
          "old_line_content": "        sds sdskey = dictGetKey(de);",
          "new_line_content": "        sds sdsval = dictGetVal(de);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "dictGetVal",
          "new_api": "sdslen",
          "old_text": "dictGetVal(de)",
          "new_text": "sdslen(sdskey)",
          "old_line_content": "        sds sdsval = dictGetVal(de);",
          "new_line_content": "        key = createStringObject(sdskey,sdslen(sdskey));",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "dictGetKey",
          "new_api": "sdslen",
          "old_text": "dictGetKey(de)",
          "new_text": "sdslen(sdskey)",
          "old_line_content": "        sds sdskey = dictGetKey(de);",
          "new_line_content": "        key = createStringObject(sdskey,sdslen(sdskey));",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "sdslen",
          "new_api": "dictGetVal",
          "old_text": "sdslen(sdskey)",
          "new_text": "dictGetVal(de)",
          "old_line_content": "        key = createStringObject(sdskey,sdslen(sdskey));",
          "new_line_content": "        val = createStringObjectFromLongDouble(*(double*)dictGetVal(de),0);",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "strtoul",
          "new_api": "isspace",
          "old_text": "strtoul(o->ptr, &eptr, 10)",
          "new_text": "isspace(((char*)o->ptr)[0])",
          "old_line_content": "    *cursor = strtoul(o->ptr, &eptr, 10);",
          "new_line_content": "    if (isspace(((char*)o->ptr)[0]) || eptr[0] != '\\0' || errno == ERANGE)",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "strcasecmp",
          "new_api": "getLongFromObjectOrReply",
          "old_text": "strcasecmp(c->argv[i]->ptr, \"count\")",
          "new_text": "getLongFromObjectOrReply(c, c->argv[i+1], &count, NULL)",
          "old_line_content": "        if (!strcasecmp(c->argv[i]->ptr, \"count\") && j >= 2) {",
          "new_line_content": "            if (getLongFromObjectOrReply(c, c->argv[i+1], &count, NULL)",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "setTypeInitIterator",
          "new_api": "setTypeNext",
          "old_text": "setTypeInitIterator(o)",
          "new_text": "setTypeNext(si, &str, &len, &llele)",
          "old_line_content": "        setTypeIterator *si = setTypeInitIterator(o);",
          "new_line_content": "        while (setTypeNext(si, &str, &len, &llele) != -1) {",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "lpGet",
          "new_api": "createStringObject",
          "old_text": "lpGet(p,&vlen,intbuf)",
          "new_text": "createStringObject((char*)vstr,vlen)",
          "old_line_content": "            vstr = lpGet(p,&vlen,intbuf);",
          "new_line_content": "            listAddNodeTail(keys, createStringObject((char*)vstr,vlen));",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": "createStringObject",
          "new_api": "lpNext",
          "old_text": "createStringObject((char*)vstr,vlen)",
          "new_text": "lpNext(o->ptr,p)",
          "old_line_content": "            listAddNodeTail(keys, createStringObject((char*)vstr,vlen));",
          "new_line_content": "            p = lpNext(o->ptr,p);",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "listNodeValue",
          "new_api": "listNextNode",
          "old_text": "listNodeValue(node)",
          "new_text": "listNextNode(node)",
          "old_line_content": "        robj *kobj = listNodeValue(node);",
          "new_line_content": "        nextnode = listNextNode(node);",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "sdsEncodedObject",
          "new_api": "sdslen",
          "old_text": "sdsEncodedObject(kobj)",
          "new_text": "sdslen(kobj->ptr)",
          "old_line_content": "            if (sdsEncodedObject(kobj)) {",
          "new_line_content": "                if (!stringmatchlen(pat, patlen, kobj->ptr, sdslen(kobj->ptr), 0))",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "serverAssert",
          "new_api": "ll2string",
          "old_text": "serverAssert(kobj->encoding == OBJ_ENCODING_INT)",
          "new_text": "ll2string(buf,sizeof(buf),(long)kobj->ptr)",
          "old_line_content": "                serverAssert(kobj->encoding == OBJ_ENCODING_INT);",
          "new_line_content": "                len = ll2string(buf,sizeof(buf),(long)kobj->ptr);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "ll2string",
          "new_api": "stringmatchlen",
          "old_text": "ll2string(buf,sizeof(buf),(long)kobj->ptr)",
          "new_text": "stringmatchlen(pat, patlen, buf, len, 0)",
          "old_line_content": "                len = ll2string(buf,sizeof(buf),(long)kobj->ptr);",
          "new_line_content": "                if (!stringmatchlen(pat, patlen, buf, len, 0)) filter = 1;",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "lookupKeyReadWithFlags",
          "new_api": "getObjectTypeName",
          "old_text": "lookupKeyReadWithFlags(c->db, kobj, LOOKUP_NOTOUCH)",
          "new_text": "getObjectTypeName(typecheck)",
          "old_line_content": "            robj* typecheck = lookupKeyReadWithFlags(c->db, kobj, LOOKUP_NOTOUCH);",
          "new_line_content": "            char* type = getObjectTypeName(typecheck);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "getObjectTypeName",
          "new_api": "strcasecmp",
          "old_text": "getObjectTypeName(typecheck)",
          "new_text": "strcasecmp((char*) typename, type)",
          "old_line_content": "            char* type = getObjectTypeName(typecheck);",
          "new_line_content": "            if (strcasecmp((char*) typename, type)) filter = 1;",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "decrRefCount",
          "new_api": "listDelNode",
          "old_text": "decrRefCount(kobj)",
          "new_text": "listDelNode(keys, node)",
          "old_line_content": "            decrRefCount(kobj);",
          "new_line_content": "            listDelNode(keys, node);",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "serverAssert",
          "new_api": "listNextNode",
          "old_text": "serverAssert(node)",
          "new_text": "listNextNode(node)",
          "old_line_content": "            serverAssert(node); /* assertion for valgrind (avoid NPD) */",
          "new_line_content": "            nextnode = listNextNode(node);",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "listNodeValue",
          "new_api": "decrRefCount",
          "old_text": "listNodeValue(node)",
          "new_text": "decrRefCount(kobj)",
          "old_line_content": "                kobj = listNodeValue(node);",
          "new_line_content": "                decrRefCount(kobj);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": "decrRefCount",
          "new_api": "listDelNode",
          "old_text": "decrRefCount(kobj)",
          "new_text": "listDelNode(keys, node)",
          "old_line_content": "                decrRefCount(kobj);",
          "new_line_content": "                listDelNode(keys, node);",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": "addReplyArrayLen",
          "new_api": "addReplyBulkLongLong",
          "old_text": "addReplyArrayLen(c, 2)",
          "new_text": "addReplyBulkLongLong(c,cursor)",
          "old_line_content": "    addReplyArrayLen(c, 2);",
          "new_line_content": "    addReplyBulkLongLong(c,cursor);",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "listLength",
          "new_api": "listFirst",
          "old_text": "listLength(keys)",
          "new_text": "listFirst(keys)",
          "old_line_content": "    addReplyArrayLen(c, listLength(keys));",
          "new_line_content": "    while ((node = listFirst(keys)) != NULL) {",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "listFirst",
          "new_api": "listNodeValue",
          "old_text": "listFirst(keys)",
          "new_text": "listNodeValue(node)",
          "old_line_content": "    while ((node = listFirst(keys)) != NULL) {",
          "new_line_content": "        robj *kobj = listNodeValue(node);",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "listNodeValue",
          "new_api": "addReplyBulk",
          "old_text": "listNodeValue(node)",
          "new_text": "addReplyBulk(c, kobj)",
          "old_line_content": "        robj *kobj = listNodeValue(node);",
          "new_line_content": "        addReplyBulk(c, kobj);",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "addReplyBulk",
          "new_api": "decrRefCount",
          "old_text": "addReplyBulk(c, kobj)",
          "new_text": "decrRefCount(kobj)",
          "old_line_content": "        addReplyBulk(c, kobj);",
          "new_line_content": "        decrRefCount(kobj);",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "decrRefCount",
          "new_api": "listDelNode",
          "old_text": "decrRefCount(kobj)",
          "new_text": "listDelNode(keys, node)",
          "old_line_content": "        decrRefCount(kobj);",
          "new_line_content": "        listDelNode(keys, node);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "listSetFreeMethod",
          "new_api": "listRelease",
          "old_text": "listSetFreeMethod(keys,decrRefCountVoid)",
          "new_text": "listRelease(keys)",
          "old_line_content": "    listSetFreeMethod(keys,decrRefCountVoid);",
          "new_line_content": "    listRelease(keys);",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "parseScanCursorOrReply",
          "new_api": "scanGenericCommand",
          "old_text": "parseScanCursorOrReply(c,c->argv[1],&cursor)",
          "new_text": "scanGenericCommand(c,NULL,cursor)",
          "old_line_content": "    if (parseScanCursorOrReply(c,c->argv[1],&cursor) == C_ERR) return;",
          "new_line_content": "    scanGenericCommand(c,NULL,cursor);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "lookupKeyReadWithFlags",
          "new_api": "getObjectTypeName",
          "old_text": "lookupKeyReadWithFlags(c->db,c->argv[1],LOOKUP_NOTOUCH)",
          "new_text": "getObjectTypeName(o)",
          "old_line_content": "    o = lookupKeyReadWithFlags(c->db,c->argv[1],LOOKUP_NOTOUCH);",
          "new_line_content": "    addReplyStatus(c, getObjectTypeName(o));",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "abortShutdown",
          "new_api": "addReply",
          "old_text": "abortShutdown()",
          "new_text": "addReply(c, shared.ok)",
          "old_line_content": "        if (abortShutdown() == C_OK)",
          "new_line_content": "            addReply(c, shared.ok);",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "addReplyErrorObject",
          "new_api": "scriptIsEval",
          "old_text": "addReplyErrorObject(c, shared.slowmoduleerr)",
          "new_text": "scriptIsEval()",
          "old_line_content": "            addReplyErrorObject(c, shared.slowmoduleerr);",
          "new_line_content": "        } else if (scriptIsEval()) {",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "scriptIsEval",
          "new_api": "addReplyErrorObject",
          "old_text": "scriptIsEval()",
          "new_text": "addReplyErrorObject(c, shared.slowevalerr)",
          "old_line_content": "        } else if (scriptIsEval()) {",
          "new_line_content": "            addReplyErrorObject(c, shared.slowevalerr);",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "blockClientShutdown",
          "new_api": "exit",
          "old_text": "blockClientShutdown(c)",
          "new_text": "exit(0)",
          "old_line_content": "    blockClientShutdown(c);",
          "new_line_content": "    if (prepareForShutdown(flags) == C_OK) exit(0);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "incrRefCount",
          "new_api": "getExpire",
          "old_text": "incrRefCount(o)",
          "new_text": "getExpire(c->db,c->argv[1])",
          "old_line_content": "    incrRefCount(o);",
          "new_line_content": "    expire = getExpire(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "getExpire",
          "new_api": "lookupKeyWrite",
          "old_text": "getExpire(c->db,c->argv[1])",
          "new_text": "lookupKeyWrite(c->db,c->argv[2])",
          "old_line_content": "    expire = getExpire(c->db,c->argv[1]);",
          "new_line_content": "    if (lookupKeyWrite(c->db,c->argv[2]) != NULL) {",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "decrRefCount",
          "new_api": "addReply",
          "old_text": "decrRefCount(o)",
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "            decrRefCount(o);",
          "new_line_content": "            addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "dbAdd",
          "new_api": "setExpire",
          "old_text": "dbAdd(c->db,c->argv[2],o)",
          "new_text": "setExpire(c,c->db,c->argv[2],expire)",
          "old_line_content": "    dbAdd(c->db,c->argv[2],o);",
          "new_line_content": "    if (expire != -1) setExpire(c,c->db,c->argv[2],expire);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "setExpire",
          "new_api": "dbDelete",
          "old_text": "setExpire(c,c->db,c->argv[2],expire)",
          "new_text": "dbDelete(c->db,c->argv[1])",
          "old_line_content": "    if (expire != -1) setExpire(c,c->db,c->argv[2],expire);",
          "new_line_content": "    dbDelete(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "dbDelete",
          "new_api": "signalModifiedKey",
          "old_text": "dbDelete(c->db,c->argv[1])",
          "new_text": "signalModifiedKey(c,c->db,c->argv[1])",
          "old_line_content": "    dbDelete(c->db,c->argv[1]);",
          "new_line_content": "    signalModifiedKey(c,c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "signalModifiedKey",
          "new_api": "notifyKeyspaceEvent",
          "old_text": "signalModifiedKey(c,c->db,c->argv[2])",
          "new_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_from\",\n        c->argv[1],c->db->id)",
          "old_line_content": "    signalModifiedKey(c,c->db,c->argv[2]);",
          "new_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_from\",",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "selectDb",
          "new_api": "addReplyError",
          "old_text": "selectDb(c,dbid)",
          "new_text": "addReplyError(c,\"DB index is out of range\")",
          "old_line_content": "    if (selectDb(c,dbid) == C_ERR) {",
          "new_line_content": "        addReplyError(c,\"DB index is out of range\");",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "lookupKeyWrite",
          "new_api": "addReply",
          "old_text": "lookupKeyWrite(dst,c->argv[1])",
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "    if (lookupKeyWrite(dst,c->argv[1]) != NULL) {",
          "new_line_content": "        addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "dbAdd",
          "new_api": "setExpire",
          "old_text": "dbAdd(dst,c->argv[1],o)",
          "new_text": "setExpire(c,dst,c->argv[1],expire)",
          "old_line_content": "    dbAdd(dst,c->argv[1],o);",
          "new_line_content": "    if (expire != -1) setExpire(c,dst,c->argv[1],expire);",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "setExpire",
          "new_api": "incrRefCount",
          "old_text": "setExpire(c,dst,c->argv[1],expire)",
          "new_text": "incrRefCount(o)",
          "old_line_content": "    if (expire != -1) setExpire(c,dst,c->argv[1],expire);",
          "new_line_content": "    incrRefCount(o);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "dbDelete",
          "new_api": "signalModifiedKey",
          "old_text": "dbDelete(src,c->argv[1])",
          "new_text": "signalModifiedKey(c,src,c->argv[1])",
          "old_line_content": "    dbDelete(src,c->argv[1]);",
          "new_line_content": "    signalModifiedKey(c,src,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "signalModifiedKey",
          "new_api": "notifyKeyspaceEvent",
          "old_text": "signalModifiedKey(c,dst,c->argv[1])",
          "new_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\n                \"move_from\",c->argv[1],src->id)",
          "old_line_content": "    signalModifiedKey(c,dst,c->argv[1]);",
          "new_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "strcasecmp",
          "new_api": "getIntFromObjectOrReply",
          "old_text": "strcasecmp(c->argv[j]->ptr, \"db\")",
          "new_text": "getIntFromObjectOrReply(c, c->argv[j+1], &dbid, NULL)",
          "old_line_content": "        } else if (!strcasecmp(c->argv[j]->ptr, \"db\") && additional >= 1) {",
          "new_line_content": "            if (getIntFromObjectOrReply(c, c->argv[j+1], &dbid, NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "selectDb",
          "new_api": "addReplyError",
          "old_text": "selectDb(c, dbid)",
          "new_text": "addReplyError(c,\"DB index is out of range\")",
          "old_line_content": "            if (selectDb(c, dbid) == C_ERR) {",
          "new_line_content": "                addReplyError(c,\"DB index is out of range\");",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "sdscmp",
          "new_api": "addReplyErrorObject",
          "old_text": "sdscmp(key->ptr, newkey->ptr)",
          "new_text": "addReplyErrorObject(c,shared.sameobjecterr)",
          "old_line_content": "    if (src == dst && (sdscmp(key->ptr, newkey->ptr) == 0)) {",
          "new_line_content": "        addReplyErrorObject(c,shared.sameobjecterr);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "dupStringObject",
          "new_api": "listTypeDup",
          "old_text": "dupStringObject(o)",
          "new_text": "listTypeDup(o)",
          "old_line_content": "        case OBJ_STRING: newobj = dupStringObject(o); break;",
          "new_line_content": "        case OBJ_LIST: newobj = listTypeDup(o); break;",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "listTypeDup",
          "new_api": "setTypeDup",
          "old_text": "listTypeDup(o)",
          "new_text": "setTypeDup(o)",
          "old_line_content": "        case OBJ_LIST: newobj = listTypeDup(o); break;",
          "new_line_content": "        case OBJ_SET: newobj = setTypeDup(o); break;",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "setTypeDup",
          "new_api": "zsetDup",
          "old_text": "setTypeDup(o)",
          "new_text": "zsetDup(o)",
          "old_line_content": "        case OBJ_SET: newobj = setTypeDup(o); break;",
          "new_line_content": "        case OBJ_ZSET: newobj = zsetDup(o); break;",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "zsetDup",
          "new_api": "hashTypeDup",
          "old_text": "zsetDup(o)",
          "new_text": "hashTypeDup(o)",
          "old_line_content": "        case OBJ_ZSET: newobj = zsetDup(o); break;",
          "new_line_content": "        case OBJ_HASH: newobj = hashTypeDup(o); break;",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "hashTypeDup",
          "new_api": "streamDup",
          "old_text": "hashTypeDup(o)",
          "new_text": "streamDup(o)",
          "old_line_content": "        case OBJ_HASH: newobj = hashTypeDup(o); break;",
          "new_line_content": "        case OBJ_STREAM: newobj = streamDup(o); break;",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "dbAdd",
          "new_api": "setExpire",
          "old_text": "dbAdd(dst,newkey,newobj)",
          "new_text": "setExpire(c, dst, newkey, expire)",
          "old_line_content": "    dbAdd(dst,newkey,newobj);",
          "new_line_content": "    if (expire != -1) setExpire(c, dst, newkey, expire);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "signalModifiedKey",
          "new_api": "notifyKeyspaceEvent",
          "old_text": "signalModifiedKey(c,dst,c->argv[2])",
          "new_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"copy_to\",c->argv[2],dst->id)",
          "old_line_content": "    signalModifiedKey(c,dst,c->argv[2]);",
          "new_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,\"copy_to\",c->argv[2],dst->id);",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "dictGetSafeIterator",
          "new_api": "dictNext",
          "old_text": "dictGetSafeIterator(db->blocking_keys)",
          "new_text": "dictNext(di)",
          "old_line_content": "    dictIterator *di = dictGetSafeIterator(db->blocking_keys);",
          "new_line_content": "    while((de = dictNext(di)) != NULL) {",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "dictNext",
          "new_api": "dictGetKey",
          "old_text": "dictNext(di)",
          "new_text": "dictGetKey(de)",
          "old_line_content": "    while((de = dictNext(di)) != NULL) {",
          "new_line_content": "        robj *key = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "dictGetKey",
          "new_api": "dictFind",
          "old_text": "dictGetKey(de)",
          "new_text": "dictFind(db->dict,key->ptr)",
          "old_line_content": "        robj *key = dictGetKey(de);",
          "new_line_content": "        dictEntry *kde = dictFind(db->dict,key->ptr);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "dictGetVal",
          "new_api": "signalKeyAsReady",
          "old_text": "dictGetVal(kde)",
          "new_text": "signalKeyAsReady(db, key, value->type)",
          "old_line_content": "            robj *value = dictGetVal(kde);",
          "new_line_content": "            signalKeyAsReady(db, key, value->type);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "dictGetSafeIterator",
          "new_api": "dictNext",
          "old_text": "dictGetSafeIterator(emptied->blocking_keys)",
          "new_text": "dictNext(di)",
          "old_line_content": "    dictIterator *di = dictGetSafeIterator(emptied->blocking_keys);",
          "new_line_content": "    while((de = dictNext(di)) != NULL) {",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "dictNext",
          "new_api": "dictGetKey",
          "old_text": "dictNext(di)",
          "new_text": "dictGetKey(de)",
          "old_line_content": "    while((de = dictNext(di)) != NULL) {",
          "new_line_content": "        robj *key = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "trackingInvalidateKeysOnFlush",
          "new_api": "flushSlaveKeysWithExpireList",
          "old_text": "trackingInvalidateKeysOnFlush(1)",
          "new_text": "flushSlaveKeysWithExpireList()",
          "old_line_content": "    trackingInvalidateKeysOnFlush(1);",
          "new_line_content": "    flushSlaveKeysWithExpireList();",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "dbSwapDatabases",
          "new_api": "addReplyError",
          "old_text": "dbSwapDatabases(id1,id2)",
          "new_text": "addReplyError(c,\"DB index is out of range\")",
          "old_line_content": "    if (dbSwapDatabases(id1,id2) == C_ERR) {",
          "new_line_content": "        addReplyError(c,\"DB index is out of range\");",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "dictFind",
          "new_api": "dictDelete",
          "old_text": "dictFind(db->dict,key->ptr)",
          "new_text": "dictDelete(db->expires,key->ptr)",
          "old_line_content": "    serverAssertWithInfo(NULL,key,dictFind(db->dict,key->ptr) != NULL);",
          "new_line_content": "    return dictDelete(db->expires,key->ptr) == DICT_OK;",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "dictFind",
          "new_api": "serverAssertWithInfo",
          "old_text": "dictFind(db->dict,key->ptr)",
          "new_text": "serverAssertWithInfo(NULL,key,kde != NULL)",
          "old_line_content": "    kde = dictFind(db->dict,key->ptr);",
          "new_line_content": "    serverAssertWithInfo(NULL,key,kde != NULL);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "serverAssertWithInfo",
          "new_api": "dictGetKey",
          "old_text": "serverAssertWithInfo(NULL,key,kde != NULL)",
          "new_text": "dictGetKey(kde)",
          "old_line_content": "    serverAssertWithInfo(NULL,key,kde != NULL);",
          "new_line_content": "    de = dictAddOrFind(db->expires,dictGetKey(kde));",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "dictGetKey",
          "new_api": "dictSetSignedIntegerVal",
          "old_text": "dictGetKey(kde)",
          "new_text": "dictSetSignedIntegerVal(de,when)",
          "old_line_content": "    de = dictAddOrFind(db->expires,dictGetKey(kde));",
          "new_line_content": "    dictSetSignedIntegerVal(de,when);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "dictSize",
          "new_api": "dictFind",
          "old_text": "dictSize(db->expires)",
          "new_text": "dictFind(db->expires,key->ptr)",
          "old_line_content": "    if (dictSize(db->expires) == 0 ||",
          "new_line_content": "       (de = dictFind(db->expires,key->ptr)) == NULL) return -1;",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "dictFind",
          "new_api": "dictGetSignedIntegerVal",
          "old_text": "dictFind(db->dict,key->ptr)",
          "new_text": "dictGetSignedIntegerVal(de)",
          "old_line_content": "    serverAssertWithInfo(NULL,key,dictFind(db->dict,key->ptr) != NULL);",
          "new_line_content": "    return dictGetSignedIntegerVal(de);",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "latencyStartMonitor",
          "new_api": "dbGenericDelete",
          "old_text": "latencyStartMonitor(expire_latency)",
          "new_text": "dbGenericDelete(db,keyobj,server.lazyfree_lazy_expire,DB_FLAG_KEY_EXPIRED)",
          "old_line_content": "    latencyStartMonitor(expire_latency);",
          "new_line_content": "    dbGenericDelete(db,keyobj,server.lazyfree_lazy_expire,DB_FLAG_KEY_EXPIRED);",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "dbGenericDelete",
          "new_api": "latencyEndMonitor",
          "old_text": "dbGenericDelete(db,keyobj,server.lazyfree_lazy_expire,DB_FLAG_KEY_EXPIRED)",
          "new_text": "latencyEndMonitor(expire_latency)",
          "old_line_content": "    dbGenericDelete(db,keyobj,server.lazyfree_lazy_expire,DB_FLAG_KEY_EXPIRED);",
          "new_line_content": "    latencyEndMonitor(expire_latency);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "latencyEndMonitor",
          "new_api": "latencyAddSampleIfNeeded",
          "old_text": "latencyEndMonitor(expire_latency)",
          "new_text": "latencyAddSampleIfNeeded(\"expire-del\",expire_latency)",
          "old_line_content": "    latencyEndMonitor(expire_latency);",
          "new_line_content": "    latencyAddSampleIfNeeded(\"expire-del\",expire_latency);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "latencyAddSampleIfNeeded",
          "new_api": "notifyKeyspaceEvent",
          "old_text": "latencyAddSampleIfNeeded(\"expire-del\",expire_latency)",
          "new_text": "notifyKeyspaceEvent(NOTIFY_EXPIRED,\"expired\",keyobj,db->id)",
          "old_line_content": "    latencyAddSampleIfNeeded(\"expire-del\",expire_latency);",
          "new_line_content": "    notifyKeyspaceEvent(NOTIFY_EXPIRED,\"expired\",keyobj,db->id);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "notifyKeyspaceEvent",
          "new_api": "signalModifiedKey",
          "old_text": "notifyKeyspaceEvent(NOTIFY_EXPIRED,\"expired\",keyobj,db->id)",
          "new_text": "signalModifiedKey(NULL, db, keyobj)",
          "old_line_content": "    notifyKeyspaceEvent(NOTIFY_EXPIRED,\"expired\",keyobj,db->id);",
          "new_line_content": "    signalModifiedKey(NULL, db, keyobj);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "signalModifiedKey",
          "new_api": "propagateDeletion",
          "old_text": "signalModifiedKey(NULL, db, keyobj)",
          "new_text": "propagateDeletion(db,keyobj,server.lazyfree_lazy_expire)",
          "old_line_content": "    signalModifiedKey(NULL, db, keyobj);",
          "new_line_content": "    propagateDeletion(db,keyobj,server.lazyfree_lazy_expire);",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(1, 2, 3, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(1, 2, 3, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "UNUSED",
          "new_api": "genericGetKeys",
          "old_text": "UNUSED(cmd)",
          "new_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": "strcasecmp",
          "new_api": "sdslen",
          "old_text": "strcasecmp(argv[i]->ptr, \"keys\")",
          "new_text": "sdslen(argv[3]->ptr)",
          "old_line_content": "            if (!strcasecmp(argv[i]->ptr, \"keys\")) {",
          "new_line_content": "                if (sdslen(argv[3]->ptr) > 0) {",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, count)",
          "old_line_content": "    int count = ((last - first)+1);",
          "new_line_content": "    keys = getKeysPrepareResult(result, count);",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": null,
          "new_api": "serverAssert",
          "old_text": null,
          "new_text": "serverAssert(node)",
          "old_line_content": "            node = nextnode;",
          "new_line_content": "            serverAssert(node); /* assertion for valgrind (avoid NPD) */",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "getIntFromObjectOrReply",
          "old_text": null,
          "new_text": "getIntFromObjectOrReply(c, c->argv[2], &id2,\n        \"invalid second DB index\")",
          "old_line_content": "",
          "new_line_content": "    if (getIntFromObjectOrReply(c, c->argv[2], &id2,",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": null,
          "new_api": "listNodeValue",
          "old_text": null,
          "new_text": "listNodeValue(node)",
          "old_line_content": "            if (filter) {",
          "new_line_content": "                kobj = listNodeValue(node);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "dbSwapDatabases",
          "old_text": null,
          "new_text": "dbSwapDatabases(id1,id2)",
          "old_line_content": "    /* Swap... */",
          "new_line_content": "    if (dbSwapDatabases(id1,id2) == C_ERR) {",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": null,
          "new_api": "addReplyArrayLen",
          "old_text": null,
          "new_text": "addReplyArrayLen(c, 2)",
          "old_line_content": "    /* Step 4: Reply to the client. */",
          "new_line_content": "    addReplyArrayLen(c, 2);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "moduleFireServerEvent",
          "old_text": null,
          "new_text": "moduleFireServerEvent(REDISMODULE_EVENT_SWAPDB,0,&si)",
          "old_line_content": "        RedisModuleSwapDbInfo si = {REDISMODULE_SWAPDBINFO_VERSION,id1,id2};",
          "new_line_content": "        moduleFireServerEvent(REDISMODULE_EVENT_SWAPDB,0,&si);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "serverPanic",
          "old_text": null,
          "new_text": "serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\")",
          "old_line_content": "            } else {",
          "new_line_content": "                serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\");",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "listLength",
          "old_text": null,
          "new_text": "listLength(keys)",
          "old_line_content": "",
          "new_line_content": "    addReplyArrayLen(c, listLength(keys));",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.ok)",
          "old_line_content": "        server.dirty++;",
          "new_line_content": "        addReply(c,shared.ok);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "listSetFreeMethod",
          "old_text": null,
          "new_text": "listSetFreeMethod(keys,decrRefCountVoid)",
          "old_line_content": "cleanup:",
          "new_line_content": "    listSetFreeMethod(keys,decrRefCountVoid);",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(db->dict,key->ptr)",
          "old_line_content": "     * main dict. Otherwise, the key will never be freed. */",
          "new_line_content": "    serverAssertWithInfo(NULL,key,dictFind(db->dict,key->ptr) != NULL);",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "parseScanCursorOrReply",
          "old_text": null,
          "new_text": "parseScanCursorOrReply(c,c->argv[1],&cursor)",
          "old_line_content": "    unsigned long cursor;",
          "new_line_content": "    if (parseScanCursorOrReply(c,c->argv[1],&cursor) == C_ERR) return;",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(c->db->dict)",
          "old_line_content": "void dbsizeCommand(client *c) {",
          "new_line_content": "    addReplyLongLong(c,dictSize(c->db->dict));",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(db->dict,key->ptr)",
          "old_line_content": "    /* Reuse the sds from the main dict in the expire dict */",
          "new_line_content": "    kde = dictFind(db->dict,key->ptr);",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": null,
          "new_api": "moduleGetCommandKeysViaAPI",
          "old_text": null,
          "new_text": "moduleGetCommandKeysViaAPI(cmd,argv,argc,result)",
          "old_line_content": "    if (cmd->flags & CMD_MODULE_GETKEYS) {",
          "new_line_content": "        return moduleGetCommandKeysViaAPI(cmd,argv,argc,result);",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": null,
          "new_api": "getkeys_proc",
          "old_text": null,
          "new_text": "cmd->getkeys_proc(cmd,argv,argc,result)",
          "old_line_content": "    } else if (cmd->getkeys_proc) {",
          "new_line_content": "        return cmd->getkeys_proc(cmd,argv,argc,result);",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "addReplyLongLong",
          "old_text": null,
          "new_text": "addReplyLongLong(c,server.lastsave)",
          "old_line_content": "void lastsaveCommand(client *c) {",
          "new_line_content": "    addReplyLongLong(c,server.lastsave);",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "getKeysUsingLegacyRangeSpec",
          "old_text": null,
          "new_text": "getKeysUsingLegacyRangeSpec(cmd,argv,argc,result)",
          "old_line_content": "    } else {",
          "new_line_content": "        return getKeysUsingLegacyRangeSpec(cmd,argv,argc,result);",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": null,
          "new_api": "rememberSlaveKeyWithExpire",
          "old_text": null,
          "new_text": "rememberSlaveKeyWithExpire(db,key)",
          "old_line_content": "    if (c && writable_slave && !(c->flags & CLIENT_MASTER))",
          "new_line_content": "        rememberSlaveKeyWithExpire(db,key);",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(result->keys)",
          "old_line_content": "    if (result && result->keys != result->keysbuf)",
          "new_line_content": "        zfree(result->keys);",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(db->expires)",
          "old_line_content": "    /* No expire? return ASAP */",
          "new_line_content": "    if (dictSize(db->expires) == 0 ||",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(db->dict,key->ptr)",
          "old_line_content": "     * be present in the main dict (safety check). */",
          "new_line_content": "    serverAssertWithInfo(NULL,key,dictFind(db->dict,key->ptr) != NULL);",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": null,
          "new_api": "latencyStartMonitor",
          "old_text": null,
          "new_text": "latencyStartMonitor(expire_latency)",
          "old_line_content": "    mstime_t expire_latency;",
          "new_line_content": "    latencyStartMonitor(expire_latency);",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "lookupKeyReadWithFlags",
          "old_text": null,
          "new_text": "lookupKeyReadWithFlags(c->db,c->argv[1],LOOKUP_NOTOUCH)",
          "old_line_content": "    robj *o;",
          "new_line_content": "    o = lookupKeyReadWithFlags(c->db,c->argv[1],LOOKUP_NOTOUCH);",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(argv[keyCountOfs]->ptr)",
          "old_line_content": "",
          "new_line_content": "    num = atoi(argv[keyCountOfs]->ptr);",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": null,
          "new_api": "num < 1 || num > (argc - firstKeyOfs)",
          "old_text": null,
          "new_text": "num < 1 || num > (argc - firstKeyOfs)",
          "old_line_content": "     * reply with syntax error. (no input keys). */",
          "new_line_content": "    if (num < 1 || num > (argc - firstKeyOfs)/keyStep) {",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr,\"nosave\")",
          "old_line_content": "    for (int i = 1; i < c->argc; i++) {",
          "new_line_content": "        if (!strcasecmp(c->argv[i]->ptr,\"nosave\")) {",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr,\"save\")",
          "old_line_content": "            flags |= SHUTDOWN_NOSAVE;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr,\"save\")) {",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, numkeys)",
          "old_line_content": "    int numkeys = storeKeyOfs ? num + 1 : num;",
          "new_line_content": "    keys = getKeysPrepareResult(result, numkeys);",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr, \"now\")",
          "old_line_content": "            flags |= SHUTDOWN_SAVE;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"now\")) {",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr, \"force\")",
          "old_line_content": "            flags |= SHUTDOWN_NOW;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"force\")) {",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr, \"abort\")",
          "old_line_content": "            flags |= SHUTDOWN_FORCE;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"abort\")) {",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "old_line_content": "        } else {",
          "new_line_content": "            addReplyErrorObject(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "old_line_content": "        /* Illegal combo. */",
          "new_line_content": "        addReplyErrorObject(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int sintercardGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": null,
          "new_api": "incrRefCount",
          "old_text": null,
          "new_text": "incrRefCount(argv[0])",
          "old_line_content": "    argv[1] = key;",
          "new_line_content": "    incrRefCount(argv[0]);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "abortShutdown",
          "old_text": null,
          "new_text": "abortShutdown()",
          "old_line_content": "    if (abort) {",
          "new_line_content": "        if (abortShutdown() == C_OK)",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int zunionInterDiffStoreGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c, \"No shutdown in progress.\")",
          "old_line_content": "        else",
          "new_line_content": "            addReplyError(c, \"No shutdown in progress.\");",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": null,
          "new_api": "alsoPropagate",
          "old_text": null,
          "new_text": "alsoPropagate(db->id,argv,2,PROPAGATE_AOF|PROPAGATE_REPL)",
          "old_line_content": "    server.replication_allowed = 1;",
          "new_line_content": "    alsoPropagate(db->id,argv,2,PROPAGATE_AOF|PROPAGATE_REPL);",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int zunionInterDiffGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c, \"SHUTDOWN without NOW or ABORT isn't allowed for DENY BLOCKING client\")",
          "old_line_content": "    if (!(flags & SHUTDOWN_NOW) && c->flags & CLIENT_DENY_BLOCKING) {",
          "new_line_content": "        addReplyError(c, \"SHUTDOWN without NOW or ABORT isn't allowed for DENY BLOCKING client\");",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(argv[0])",
          "old_line_content": "",
          "new_line_content": "    decrRefCount(argv[0]);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int evalGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "isInsideYieldingLongCommand",
          "old_text": null,
          "new_text": "isInsideYieldingLongCommand()",
          "old_line_content": "",
          "new_line_content": "    if (!(flags & SHUTDOWN_NOSAVE) && isInsideYieldingLongCommand()) {",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "addReplyErrorFormat",
          "old_text": null,
          "new_text": "addReplyErrorFormat(c, \"-BUSY %s\", server.busy_module_yield_reply)",
          "old_line_content": "        if (server.busy_module_yield_flags && server.busy_module_yield_reply) {",
          "new_line_content": "            addReplyErrorFormat(c, \"-BUSY %s\", server.busy_module_yield_reply);",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int functionGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c, shared.slowmoduleerr)",
          "old_line_content": "        } else if (server.busy_module_yield_flags) {",
          "new_line_content": "            addReplyErrorObject(c, shared.slowmoduleerr);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "getExpire",
          "old_text": null,
          "new_text": "getExpire(db,key)",
          "old_line_content": "",
          "new_line_content": "    mstime_t when = getExpire(db,key);",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int lmpopGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c, shared.slowscripterr)",
          "old_line_content": "        } else {",
          "new_line_content": "            addReplyErrorObject(c, shared.slowscripterr);",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": null,
          "new_api": "commandTimeSnapshot",
          "old_text": null,
          "new_text": "commandTimeSnapshot()",
          "old_line_content": "",
          "new_line_content": "    now = commandTimeSnapshot();",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int blmpopGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "blockClientShutdown",
          "old_text": null,
          "new_text": "blockClientShutdown(c)",
          "old_line_content": "",
          "new_line_content": "    blockClientShutdown(c);",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int zmpopGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "int bzmpopGetKeys(struct redisCommand *cmd, robj **argv, int argc, getKeysResult *result) {",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(c->argv[1]->ptr,c->argv[2]->ptr)",
          "old_line_content": "     * if the key exists, however we still return an error on unexisting key. */",
          "new_line_content": "    if (sdscmp(c->argv[1]->ptr,c->argv[2]->ptr) == 0) samekey = 1;",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "lookupKeyWriteOrReply",
          "old_text": null,
          "new_text": "lookupKeyWriteOrReply(c,c->argv[1],shared.nokeyerr)",
          "old_line_content": "",
          "new_line_content": "    if ((o = lookupKeyWriteOrReply(c,c->argv[1],shared.nokeyerr)) == NULL)",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,nx ? shared.czero : shared.ok)",
          "old_line_content": "    if (samekey) {",
          "new_line_content": "        addReply(c,nx ? shared.czero : shared.ok);",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "incrRefCount",
          "old_text": null,
          "new_text": "incrRefCount(o)",
          "old_line_content": "",
          "new_line_content": "    incrRefCount(o);",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(o)",
          "old_line_content": "        if (nx) {",
          "new_line_content": "            decrRefCount(o);",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, 1)",
          "old_line_content": "",
          "new_line_content": "    keys = getKeysPrepareResult(result, 1);",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "dbDelete",
          "old_text": null,
          "new_text": "dbDelete(c->db,c->argv[2])",
          "old_line_content": "         * with the same name. */",
          "new_line_content": "        dbDelete(c->db,c->argv[2]);",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "keyIsExpired",
          "old_text": null,
          "new_text": "keyIsExpired(db,key)",
          "old_line_content": "    if (server.lazy_expire_disabled) return 0;",
          "new_line_content": "    if (!keyIsExpired(db,key)) return 0;",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "dbAdd",
          "old_text": null,
          "new_text": "dbAdd(c->db,c->argv[2],o)",
          "old_line_content": "    }",
          "new_line_content": "    dbAdd(c->db,c->argv[2],o);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": null,
          "new_api": "notifyKeyspaceEvent",
          "old_text": null,
          "new_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_to\",\n        c->argv[2],c->db->id)",
          "old_line_content": "        c->argv[1],c->db->id);",
          "new_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_to\",",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,nx ? shared.cone : shared.ok)",
          "old_line_content": "    server.dirty++;",
          "new_line_content": "    addReply(c,nx ? shared.cone : shared.ok);",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "renameGenericCommand",
          "old_text": null,
          "new_text": "renameGenericCommand(c,0)",
          "old_line_content": "void renameCommand(client *c) {",
          "new_line_content": "    renameGenericCommand(c,0);",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, 2)",
          "old_line_content": "    num = 0;",
          "new_line_content": "    keys = getKeysPrepareResult(result, 2); /* Alloc 2 places for the worst case. */",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "renameGenericCommand",
          "old_text": null,
          "new_text": "renameGenericCommand(c,1)",
          "old_line_content": "void renamenxCommand(client *c) {",
          "new_line_content": "    renameGenericCommand(c,1);",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "isPausedActionsWithUpdate",
          "old_text": null,
          "new_text": "isPausedActionsWithUpdate(PAUSE_ACTION_EXPIRE)",
          "old_line_content": "     * will have failed over and the new primary will send us the expire. */",
          "new_line_content": "    if (isPausedActionsWithUpdate(PAUSE_ACTION_EXPIRE)) return 1;",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c,\"MOVE is not allowed in cluster mode\")",
          "old_line_content": "    if (server.cluster_enabled) {",
          "new_line_content": "        addReplyError(c,\"MOVE is not allowed in cluster mode\");",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": null,
          "new_api": "deleteExpiredKeyAndPropagate",
          "old_text": null,
          "new_text": "deleteExpiredKeyAndPropagate(db,key)",
          "old_line_content": "    /* Delete the key */",
          "new_line_content": "    deleteExpiredKeyAndPropagate(db,key);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(argv[i]->ptr,skiplist[j].name)",
          "old_line_content": "        for (j = 0; skiplist[j].name != NULL; j++) {",
          "new_line_content": "            if (!strcasecmp(argv[i]->ptr,skiplist[j].name)) {",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "getIntFromObjectOrReply",
          "old_text": null,
          "new_text": "getIntFromObjectOrReply(c, c->argv[2], &dbid, NULL)",
          "old_line_content": "",
          "new_line_content": "    if (getIntFromObjectOrReply(c, c->argv[2], &dbid, NULL) != C_OK)",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(argv[i]->ptr,\"store\")",
          "old_line_content": "                break;",
          "new_line_content": "            } else if (!strcasecmp(argv[i]->ptr,\"store\") && i+1 < argc) {",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "selectDb",
          "old_text": null,
          "new_text": "selectDb(c,dbid)",
          "old_line_content": "",
          "new_line_content": "    if (selectDb(c,dbid) == C_ERR) {",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "selectDb",
          "old_text": null,
          "new_text": "selectDb(c,srcid)",
          "old_line_content": "    dst = c->db;",
          "new_line_content": "    selectDb(c,srcid); /* Back to the source DB */",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "serverAssert",
          "old_text": null,
          "new_text": "serverAssert(!result->numkeys)",
          "old_line_content": "    if (!result->keys) {",
          "new_line_content": "        serverAssert(!result->numkeys);",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c,shared.sameobjecterr)",
          "old_line_content": "    if (src == dst) {",
          "new_line_content": "        addReplyErrorObject(c,shared.sameobjecterr);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": null,
          "new_api": "lookupKeyWrite",
          "old_text": null,
          "new_text": "lookupKeyWrite(c->db,c->argv[1])",
          "old_line_content": "    /* Check if the element exists and get a reference */",
          "new_line_content": "    o = lookupKeyWrite(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "    if (!o) {",
          "new_line_content": "        addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "zrealloc",
          "old_text": null,
          "new_text": "zrealloc(result->keys, numkeys * sizeof(keyReference))",
          "old_line_content": "            /* We're not using a static buffer, just (re)alloc */",
          "new_line_content": "            result->keys = zrealloc(result->keys, numkeys * sizeof(keyReference));",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "getExpire",
          "old_text": null,
          "new_text": "getExpire(c->db,c->argv[1])",
          "old_line_content": "    }",
          "new_line_content": "    expire = getExpire(c->db,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": null,
          "new_api": "zmalloc",
          "old_text": null,
          "new_text": "zmalloc(numkeys * sizeof(keyReference))",
          "old_line_content": "            /* We are using a static buffer, copy its contents */",
          "new_line_content": "            result->keys = zmalloc(numkeys * sizeof(keyReference));",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(result->keys, result->keysbuf, result->numkeys * sizeof(keyReference))",
          "old_line_content": "            if (result->numkeys)",
          "new_line_content": "                memcpy(result->keys, result->keysbuf, result->numkeys * sizeof(keyReference));",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "lookupKeyWrite",
          "old_text": null,
          "new_text": "lookupKeyWrite(dst,c->argv[1])",
          "old_line_content": "    /* Return zero if the key already exists in the target DB */",
          "new_line_content": "    if (lookupKeyWrite(dst,c->argv[1]) != NULL) {",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": null,
          "new_api": "dbAdd",
          "old_text": null,
          "new_text": "dbAdd(dst,c->argv[1],o)",
          "old_line_content": "    }",
          "new_line_content": "    dbAdd(dst,c->argv[1],o);",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "dbDelete",
          "old_text": null,
          "new_text": "dbDelete(src,c->argv[1])",
          "old_line_content": "    /* OK! key moved, free the entry in the source DB */",
          "new_line_content": "    dbDelete(src,c->argv[1]);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "notifyKeyspaceEvent",
          "old_text": null,
          "new_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\n                \"move_to\",c->argv[1],dst->id)",
          "old_line_content": "                \"move_from\",c->argv[1],src->id);",
          "new_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(argv[i]->ptr, \"keys\")",
          "old_line_content": "        for (i = 6; i < argc; i++) {",
          "new_line_content": "            if (!strcasecmp(argv[i]->ptr, \"keys\")) {",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.cone)",
          "old_line_content": "    server.dirty++;",
          "new_line_content": "    addReply(c,shared.cone);",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(argv[i]->ptr, skip_keywords[j].name)",
          "old_line_content": "            for (j = 0; skip_keywords[j].name != NULL; j++) {",
          "new_line_content": "                if (!strcasecmp(argv[i]->ptr, skip_keywords[j].name)) {",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "serverAssert",
          "old_text": null,
          "new_text": "serverAssert(spec->begin_search_type != KSPEC_BS_INVALID)",
          "old_line_content": "        keySpec *spec = cmd->key_specs + j;",
          "new_line_content": "        serverAssert(spec->begin_search_type != KSPEC_BS_INVALID);",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, num)",
          "old_line_content": "",
          "new_line_content": "    keys = getKeysPrepareResult(result, num);",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[j]->ptr,\"replace\")",
          "old_line_content": "        int additional = c->argc - j - 1;",
          "new_line_content": "        if (!strcasecmp(c->argv[j]->ptr,\"replace\")) {",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[j]->ptr, \"db\")",
          "old_line_content": "            replace = 1;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[j]->ptr, \"db\") && additional >= 1) {",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "        robj *keyobj;",
          "new_line_content": "        sds key = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "selectDb",
          "old_text": null,
          "new_text": "selectDb(c, dbid)",
          "old_line_content": "",
          "new_line_content": "            if (selectDb(c, dbid) == C_ERR) {",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp((char*)argv[i]->ptr,spec->bs.keyword.keyword)",
          "old_line_content": "                    break;",
          "new_line_content": "                if (!strcasecmp((char*)argv[i]->ptr,spec->bs.keyword.keyword)) {",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "selectDb",
          "old_text": null,
          "new_text": "selectDb(c,srcid)",
          "old_line_content": "            dst = c->db;",
          "new_line_content": "            selectDb(c,srcid); /* Back to the source DB */",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "old_line_content": "        } else {",
          "new_line_content": "            addReplyErrorObject(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": null,
          "new_api": "dictReleaseIterator",
          "old_text": null,
          "new_text": "dictReleaseIterator(di)",
          "old_line_content": "    }",
          "new_line_content": "    dictReleaseIterator(di);",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c,\"Copying to another database is not allowed in cluster mode\")",
          "old_line_content": "    if ((server.cluster_enabled == 1) && (srcid != 0 || dbid != 0)) {",
          "new_line_content": "        addReplyError(c,\"Copying to another database is not allowed in cluster mode\");",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"storedist\")",
          "old_line_content": "         */",
          "new_line_content": "        if ((!strcasecmp(arg, \"store\") || !strcasecmp(arg, \"storedist\")) && ((i+1) < argc)) {",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "sdscmp",
          "old_text": null,
          "new_text": "sdscmp(key->ptr, newkey->ptr)",
          "old_line_content": "    robj *newkey = c->argv[2];",
          "new_line_content": "    if (src == dst && (sdscmp(key->ptr, newkey->ptr) == 0)) {",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "    if (o == NULL) {",
          "new_line_content": "        sds sdskey = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": null,
          "new_api": "serverAssert",
          "old_text": null,
          "new_text": "serverAssert(spec->fk.range.lastkey == -1)",
          "old_line_content": "                } else {",
          "new_line_content": "                    serverAssert(spec->fk.range.lastkey == -1);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "    } else if (o->type == OBJ_SET) {",
          "new_line_content": "        sds keysds = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "lookupKeyRead",
          "old_text": null,
          "new_text": "lookupKeyRead(c->db, key)",
          "old_line_content": "    /* Check if the element exists and get a reference */",
          "new_line_content": "    o = lookupKeyRead(c->db, key);",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, num)",
          "old_line_content": "     */",
          "new_line_content": "    keys = getKeysPrepareResult(result, num);",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "    } else if (o->type == OBJ_HASH) {",
          "new_line_content": "        sds sdskey = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "    if (!o) {",
          "new_line_content": "        addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": null,
          "new_api": "getExpire",
          "old_text": null,
          "new_text": "getExpire(c->db,key)",
          "old_line_content": "    }",
          "new_line_content": "    expire = getExpire(c->db,key);",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "    } else if (o->type == OBJ_ZSET) {",
          "new_line_content": "        sds sdskey = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(keynum_str)",
          "old_line_content": "            sds keynum_str = argv[first + spec->fk.keynum.keynumidx]->ptr;",
          "new_line_content": "            if (!string2ll(keynum_str,sdslen(keynum_str),&numkeys) || numkeys < 0) {",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": null,
          "new_api": "lookupKeyWrite",
          "old_text": null,
          "new_text": "lookupKeyWrite(dst,newkey)",
          "old_line_content": "     * If REPLACE option is selected, delete newkey from targetDB. */",
          "new_line_content": "    if (lookupKeyWrite(dst,newkey) != NULL) {",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "serverPanic",
          "old_text": null,
          "new_text": "serverPanic(\"Type not handled in SCAN callback.\")",
          "old_line_content": "    } else {",
          "new_line_content": "        serverPanic(\"Type not handled in SCAN callback.\");",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.czero)",
          "old_line_content": "        } else {",
          "new_line_content": "            addReply(c,shared.czero);",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "listAddNodeTail",
          "old_text": null,
          "new_text": "listAddNodeTail(keys, key)",
          "old_line_content": "",
          "new_line_content": "    listAddNodeTail(keys, key);",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, count)",
          "old_line_content": "        int count = ((last - first)+1);",
          "new_line_content": "        keys = getKeysPrepareResult(result, count);",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "dupStringObject",
          "old_text": null,
          "new_text": "dupStringObject(o)",
          "old_line_content": "    switch(o->type) {",
          "new_line_content": "        case OBJ_STRING: newobj = dupStringObject(o); break;",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(o->ptr, &eptr, 10)",
          "old_line_content": "    errno = 0;",
          "new_line_content": "    *cursor = strtoul(o->ptr, &eptr, 10);",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "moduleTypeDupOrReply",
          "old_text": null,
          "new_text": "moduleTypeDupOrReply(c, key, newkey, dst->id, o)",
          "old_line_content": "        case OBJ_MODULE:",
          "new_line_content": "            newobj = moduleTypeDupOrReply(c, key, newkey, dst->id, o);",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"block\")",
          "old_line_content": "        char *arg = argv[i]->ptr;",
          "new_line_content": "        if (!strcasecmp(arg, \"block\")) {",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c, \"invalid cursor\")",
          "old_line_content": "    {",
          "new_line_content": "        addReplyError(c, \"invalid cursor\");",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"count\")",
          "old_line_content": "            i++; /* Skip option argument. */",
          "new_line_content": "        } else if (!strcasecmp(arg, \"count\")) {",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c, \"unknown type object\")",
          "old_line_content": "        default:",
          "new_line_content": "            addReplyError(c, \"unknown type object\");",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"group\")",
          "old_line_content": "            i++; /* Skip option argument. */",
          "new_line_content": "        } else if (!strcasecmp(arg, \"group\")) {",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"noack\")",
          "old_line_content": "            i += 2; /* Skip option argument. */",
          "new_line_content": "        } else if (!strcasecmp(arg, \"noack\")) {",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "dbDelete",
          "old_text": null,
          "new_text": "dbDelete(dst,newkey)",
          "old_line_content": "    if (delete) {",
          "new_line_content": "        dbDelete(dst,newkey);",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"streams\")",
          "old_line_content": "            /* Nothing to do. */",
          "new_line_content": "        } else if (!strcasecmp(arg, \"streams\")) {",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": null,
          "new_api": "dbAdd",
          "old_text": null,
          "new_text": "dbAdd(dst,newkey,newobj)",
          "old_line_content": "",
          "new_line_content": "    dbAdd(dst,newkey,newobj);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "serverPanic",
          "old_text": null,
          "new_text": "serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\")",
          "old_line_content": "                } else {",
          "new_line_content": "                    serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\");",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "signalModifiedKey",
          "old_text": null,
          "new_text": "signalModifiedKey(c,dst,c->argv[2])",
          "old_line_content": "    /* OK! key copied */",
          "new_line_content": "    signalModifiedKey(c,dst,c->argv[2]);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "addReply",
          "old_text": null,
          "new_text": "addReply(c,shared.cone)",
          "old_line_content": "    server.dirty++;",
          "new_line_content": "    addReply(c,shared.cone);",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "listCreate",
          "old_text": null,
          "new_text": "listCreate()",
          "old_line_content": "    int i, j;",
          "new_line_content": "    list *keys = listCreate();",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, num)",
          "old_line_content": "",
          "new_line_content": "    keys = getKeysPrepareResult(result, num);",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "dictGetSafeIterator",
          "old_text": null,
          "new_text": "dictGetSafeIterator(db->blocking_keys)",
          "old_line_content": "    dictEntry *de;",
          "new_line_content": "    dictIterator *di = dictGetSafeIterator(db->blocking_keys);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "serverAssert",
          "old_text": null,
          "new_text": "serverAssert(o == NULL || o->type == OBJ_SET || o->type == OBJ_HASH ||\n                o->type == OBJ_ZSET)",
          "old_line_content": "     * must be Set, Sorted Set, or Hash. */",
          "new_line_content": "    serverAssert(o == NULL || o->type == OBJ_SET || o->type == OBJ_HASH ||",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(kde)",
          "old_line_content": "        if (kde) {",
          "new_line_content": "            robj *value = dictGetVal(kde);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "dictReleaseIterator",
          "old_text": null,
          "new_text": "dictReleaseIterator(di)",
          "old_line_content": "    }",
          "new_line_content": "    dictReleaseIterator(di);",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr, \"count\")",
          "old_line_content": "        j = c->argc - i;",
          "new_line_content": "        if (!strcasecmp(c->argv[i]->ptr, \"count\") && j >= 2) {",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, 1)",
          "old_line_content": "",
          "new_line_content": "    keys = getKeysPrepareResult(result, 1);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "dictGetSafeIterator",
          "old_text": null,
          "new_text": "dictGetSafeIterator(emptied->blocking_keys)",
          "old_line_content": "    dictEntry *de;",
          "new_line_content": "    dictIterator *di = dictGetSafeIterator(emptied->blocking_keys);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "old_line_content": "            if (count < 1) {",
          "new_line_content": "                addReplyErrorObject(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(emptied->dict, key->ptr)",
          "old_line_content": "",
          "new_line_content": "        dictEntry *kde = dictFind(emptied->dict, key->ptr);",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": null,
          "new_api": "getAllKeySpecsFlags",
          "old_text": null,
          "new_text": "getAllKeySpecsFlags(cmd, 1)",
          "old_line_content": "    /* The command has at least one key-spec not marked as NOT_KEY */",
          "new_line_content": "    int has_keyspec = (getAllKeySpecsFlags(cmd, 1) & CMD_KEY_NOT_KEY);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr, \"match\")",
          "old_line_content": "            i += 2;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"match\") && j >= 2) {",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(kde)",
          "old_line_content": "        if (kde) {",
          "new_line_content": "            robj *value = dictGetVal(kde);",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "sdslen",
          "old_text": null,
          "new_text": "sdslen(pat)",
          "old_line_content": "            pat = c->argv[i+1]->ptr;",
          "new_line_content": "            patlen = sdslen(pat);",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": null,
          "new_api": "getAllKeySpecsFlags",
          "old_text": null,
          "new_text": "getAllKeySpecsFlags(cmd, 0)",
          "old_line_content": "    /* The command has at least one key-spec marked as VARIABLE_FLAGS */",
          "new_line_content": "    int has_varflags = (getAllKeySpecsFlags(cmd, 0) & CMD_KEY_VARIABLE_FLAGS);",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": null,
          "new_api": "getKeysUsingKeySpecs",
          "old_text": null,
          "new_text": "getKeysUsingKeySpecs(cmd,argv,argc,search_flags,result)",
          "old_line_content": "    if (has_keyspec && !has_varflags) {",
          "new_line_content": "        int ret = getKeysUsingKeySpecs(cmd,argv,argc,search_flags,result);",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(replaced_with->dict, key->ptr)",
          "old_line_content": "        if (replaced_with) {",
          "new_line_content": "            dictEntry *kde = dictFind(replaced_with->dict, key->ptr);",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(kde)",
          "old_line_content": "            if (kde) {",
          "new_line_content": "                robj *value = dictGetVal(kde);",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(c->argv[i]->ptr, \"type\")",
          "old_line_content": "            i += 2;",
          "new_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"type\") && o == NULL && j >= 2) {",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(cmd)",
          "old_line_content": "    int readonly = 1;",
          "new_line_content": "    UNUSED(cmd);",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "addReplyErrorObject",
          "old_text": null,
          "new_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "old_line_content": "        } else {",
          "new_line_content": "            addReplyErrorObject(c,shared.syntaxerr);",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, 1)",
          "old_line_content": "",
          "new_line_content": "    keys = getKeysPrepareResult(result, 1);",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "signalDeletedKeyAsReady",
          "old_text": null,
          "new_text": "signalDeletedKeyAsReady(emptied, key, original_type)",
          "old_line_content": "        if ((existed && !exists) || original_type != curr_type)",
          "new_line_content": "            signalDeletedKeyAsReady(emptied, key, original_type);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "dictReleaseIterator",
          "old_text": null,
          "new_text": "dictReleaseIterator(di)",
          "old_line_content": "    }",
          "new_line_content": "    dictReleaseIterator(di);",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "moduleGetCommandKeysViaAPI",
          "old_text": null,
          "new_text": "moduleGetCommandKeysViaAPI(cmd,argv,argc,result)",
          "old_line_content": "    if (cmd->flags & CMD_MODULE_GETKEYS)",
          "new_line_content": "        return moduleGetCommandKeysViaAPI(cmd,argv,argc,result);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "getkeys_proc",
          "old_text": null,
          "new_text": "cmd->getkeys_proc(cmd,argv,argc,result)",
          "old_line_content": "    if (cmd->getkeys_proc)",
          "new_line_content": "        return cmd->getkeys_proc(cmd,argv,argc,result);",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"get\")",
          "old_line_content": "        char *arg = argv[i]->ptr;",
          "new_line_content": "        if (!strcasecmp(arg, \"get\") && remargs >= 2) {",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"incrby\")",
          "old_line_content": "            i += 2;",
          "new_line_content": "        } else if ((!strcasecmp(arg, \"set\") || !strcasecmp(arg, \"incrby\")) && remargs >= 3) {",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "getAllKeySpecsFlags",
          "old_text": null,
          "new_text": "getAllKeySpecsFlags(cmd, 1)",
          "old_line_content": "        (cmd->flags & CMD_MODULE_GETKEYS) ||                    /* module with GETKEYS */",
          "new_line_content": "        (getAllKeySpecsFlags(cmd, 1) & CMD_KEY_NOT_KEY);        /* has at least one key-spec not marked as NOT_KEY */",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(arg, \"overflow\")",
          "old_line_content": "            break;",
          "new_line_content": "        } else if (!strcasecmp(arg, \"overflow\") && remargs >= 1) {",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "touchAllWatchedKeysInDb",
          "old_text": null,
          "new_text": "touchAllWatchedKeysInDb(db1, db2)",
          "old_line_content": "     * client watching keys */",
          "new_line_content": "    touchAllWatchedKeysInDb(db1, db2);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "scanDatabaseForDeletedKeys",
          "old_text": null,
          "new_text": "scanDatabaseForDeletedKeys(db1, db2)",
          "old_line_content": "    /* Try to unblock any XREADGROUP clients if the key no longer exists. */",
          "new_line_content": "    scanDatabaseForDeletedKeys(db1, db2);",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "dictScan",
          "old_text": null,
          "new_text": "dictScan(ht, cursor, scanCallback, privdata)",
          "old_line_content": "        do {",
          "new_line_content": "            cursor = dictScan(ht, cursor, scanCallback, privdata);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "listLength",
          "old_text": null,
          "new_text": "listLength(keys)",
          "old_line_content": "              maxiterations-- &&",
          "new_line_content": "              listLength(keys) < (unsigned long)count);",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "setTypeInitIterator",
          "old_text": null,
          "new_text": "setTypeInitIterator(o)",
          "old_line_content": "        int64_t llele;",
          "new_line_content": "        setTypeIterator *si = setTypeInitIterator(o);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "scanDatabaseForReadyKeys",
          "old_text": null,
          "new_text": "scanDatabaseForReadyKeys(db1)",
          "old_line_content": "     * if needed. */",
          "new_line_content": "    scanDatabaseForReadyKeys(db1);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "createStringObjectFromLongLong",
          "old_text": null,
          "new_text": "createStringObjectFromLongLong(llele)",
          "old_line_content": "            if (str == NULL) {",
          "new_line_content": "                listAddNodeTail(keys, createStringObjectFromLongLong(llele));",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "createStringObject",
          "old_text": null,
          "new_text": "createStringObject(str, len)",
          "old_line_content": "            } else {",
          "new_line_content": "                listAddNodeTail(keys, createStringObject(str, len));",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "setTypeReleaseIterator",
          "old_text": null,
          "new_text": "setTypeReleaseIterator(si)",
          "old_line_content": "        }",
          "new_line_content": "        setTypeReleaseIterator(si);",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "lpFirst",
          "old_text": null,
          "new_text": "lpFirst(o->ptr)",
          "old_line_content": "    {",
          "new_line_content": "        unsigned char *p = lpFirst(o->ptr);",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "lpGet",
          "old_text": null,
          "new_text": "lpGet(p,&vlen,intbuf)",
          "old_line_content": "        while(p) {",
          "new_line_content": "            vstr = lpGet(p,&vlen,intbuf);",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": null,
          "new_api": "moduleGetCommandChannelsViaAPI",
          "old_text": null,
          "new_text": "moduleGetCommandChannelsViaAPI(cmd, argv, argc, result)",
          "old_line_content": "    if (cmd->flags & CMD_MODULE_GETCHANNELS) {",
          "new_line_content": "        return moduleGetCommandChannelsViaAPI(cmd, argv, argc, result);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": null,
          "new_api": "touchAllWatchedKeysInDb",
          "old_text": null,
          "new_text": "touchAllWatchedKeysInDb(activedb, newdb)",
          "old_line_content": "         * client watching keys. */",
          "new_line_content": "        touchAllWatchedKeysInDb(activedb, newdb);",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "serverPanic",
          "old_text": null,
          "new_text": "serverPanic(\"Not handled encoding in SCAN.\")",
          "old_line_content": "    } else {",
          "new_line_content": "        serverPanic(\"Not handled encoding in SCAN.\");",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "scanDatabaseForDeletedKeys",
          "old_text": null,
          "new_text": "scanDatabaseForDeletedKeys(activedb, newdb)",
          "old_line_content": "        /* Try to unblock any XREADGROUP clients if the key no longer exists. */",
          "new_line_content": "        scanDatabaseForDeletedKeys(activedb, newdb);",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": null,
          "new_api": "listFirst",
          "old_text": null,
          "new_text": "listFirst(keys)",
          "old_line_content": "    /* Step 3: Filter elements. */",
          "new_line_content": "    node = listFirst(keys);",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": null,
          "new_api": "getKeysPrepareResult",
          "old_text": null,
          "new_text": "getKeysPrepareResult(result, stop - start)",
          "old_line_content": "            int count = 0;",
          "new_line_content": "            keys = getKeysPrepareResult(result, stop - start);",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "listNodeValue",
          "old_text": null,
          "new_text": "listNodeValue(node)",
          "old_line_content": "    while (node) {",
          "new_line_content": "        robj *kobj = listNodeValue(node);",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "sdsEncodedObject",
          "old_text": null,
          "new_text": "sdsEncodedObject(kobj)",
          "old_line_content": "        if (use_pattern) {",
          "new_line_content": "            if (sdsEncodedObject(kobj)) {",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "serverAssert",
          "old_text": null,
          "new_text": "serverAssert(kobj->encoding == OBJ_ENCODING_INT)",
          "old_line_content": "",
          "new_line_content": "                serverAssert(kobj->encoding == OBJ_ENCODING_INT);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "scanDatabaseForReadyKeys",
          "old_text": null,
          "new_text": "scanDatabaseForReadyKeys(activedb)",
          "old_line_content": "         * if needed. */",
          "new_line_content": "        scanDatabaseForReadyKeys(activedb);",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "lookupKeyReadWithFlags",
          "old_text": null,
          "new_text": "lookupKeyReadWithFlags(c->db, kobj, LOOKUP_NOTOUCH)",
          "old_line_content": "        if (!filter && o == NULL && typename){",
          "new_line_content": "            robj* typecheck = lookupKeyReadWithFlags(c->db, kobj, LOOKUP_NOTOUCH);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "trackingInvalidateKeysOnFlush",
          "old_text": null,
          "new_text": "trackingInvalidateKeysOnFlush(1)",
          "old_line_content": "",
          "new_line_content": "    trackingInvalidateKeysOnFlush(1);",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(argv)",
          "old_line_content": "    keyReference *keys;",
          "new_line_content": "    UNUSED(argv);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "expireIfNeeded",
          "old_text": null,
          "new_text": "expireIfNeeded(c->db, kobj, 0)",
          "old_line_content": "        /* Filter element if it is an expired key. */",
          "new_line_content": "        if (!filter && o == NULL && expireIfNeeded(c->db, kobj, 0)) filter = 1;",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "decrRefCount",
          "old_text": null,
          "new_text": "decrRefCount(kobj)",
          "old_line_content": "        if (filter) {",
          "new_line_content": "            decrRefCount(kobj);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "addReplyError",
          "old_text": null,
          "new_text": "addReplyError(c,\"SWAPDB is not allowed in cluster mode\")",
          "old_line_content": "    if (server.cluster_enabled) {",
          "new_line_content": "        addReplyError(c,\"SWAPDB is not allowed in cluster mode\");",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": null,
          "new_api": "getIntFromObjectOrReply",
          "old_text": null,
          "new_text": "getIntFromObjectOrReply(c, c->argv[1], &id1,\n        \"invalid first DB index\")",
          "old_line_content": "    /* Get the two DBs indexes. */",
          "new_line_content": "    if (getIntFromObjectOrReply(c, c->argv[1], &id1,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1536,
          "old_api": "getIntFromObjectOrReply",
          "new_api": null,
          "old_text": "getIntFromObjectOrReply(c, c->argv[1], &id1,\n        \"invalid first DB index\")",
          "new_text": null,
          "old_line_content": "    if (getIntFromObjectOrReply(c, c->argv[1], &id1,",
          "new_line_content": "        \"invalid first DB index\") != C_OK)",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, count)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "listNextNode",
          "new_api": null,
          "old_text": "listNextNode(node)",
          "new_text": null,
          "old_line_content": "            nextnode = listNextNode(node);",
          "new_line_content": "            if (filter) {",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "getIntFromObjectOrReply",
          "new_api": null,
          "old_text": "getIntFromObjectOrReply(c, c->argv[2], &id2,\n        \"invalid second DB index\")",
          "new_text": null,
          "old_line_content": "    if (getIntFromObjectOrReply(c, c->argv[2], &id2,",
          "new_line_content": "        \"invalid second DB index\") != C_OK)",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "listDelNode",
          "new_api": null,
          "old_text": "listDelNode(keys, node)",
          "new_text": null,
          "old_line_content": "                listDelNode(keys, node);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"DB index is out of range\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c,\"DB index is out of range\");",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "moduleFireServerEvent",
          "new_api": null,
          "old_text": "moduleFireServerEvent(REDISMODULE_EVENT_SWAPDB,0,&si)",
          "new_text": null,
          "old_line_content": "        moduleFireServerEvent(REDISMODULE_EVENT_SWAPDB,0,&si);",
          "new_line_content": "        server.dirty++;",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "addReplyBulkLongLong",
          "new_api": null,
          "old_text": "addReplyBulkLongLong(c,cursor)",
          "new_text": null,
          "old_line_content": "    addReplyBulkLongLong(c,cursor);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "serverPanic",
          "new_api": null,
          "old_text": "serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\")",
          "new_text": null,
          "old_line_content": "                serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.ok)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.ok);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "listDelNode",
          "new_api": null,
          "old_text": "listDelNode(keys, node)",
          "new_text": null,
          "old_line_content": "        listDelNode(keys, node);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "listRelease",
          "new_api": null,
          "old_text": "listRelease(keys)",
          "new_text": null,
          "old_line_content": "    listRelease(keys);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "dictDelete",
          "new_api": null,
          "old_text": "dictDelete(db->expires,key->ptr)",
          "new_text": null,
          "old_line_content": "    return dictDelete(db->expires,key->ptr) == DICT_OK;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "scanGenericCommand",
          "new_api": null,
          "old_text": "scanGenericCommand(c,NULL,cursor)",
          "new_text": null,
          "old_line_content": "    scanGenericCommand(c,NULL,cursor);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(c->db->dict)",
          "new_text": null,
          "old_line_content": "    addReplyLongLong(c,dictSize(c->db->dict));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "moduleGetCommandKeysViaAPI",
          "new_api": null,
          "old_text": "moduleGetCommandKeysViaAPI(cmd,argv,argc,result)",
          "new_text": null,
          "old_line_content": "        return moduleGetCommandKeysViaAPI(cmd,argv,argc,result);",
          "new_line_content": "    } else if (cmd->getkeys_proc) {",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "getkeys_proc",
          "new_api": null,
          "old_text": "cmd->getkeys_proc(cmd,argv,argc,result)",
          "new_text": null,
          "old_line_content": "        return cmd->getkeys_proc(cmd,argv,argc,result);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "addReplyLongLong",
          "new_api": null,
          "old_text": "addReplyLongLong(c,server.lastsave)",
          "new_text": null,
          "old_line_content": "    addReplyLongLong(c,server.lastsave);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "getKeysUsingLegacyRangeSpec",
          "new_api": null,
          "old_text": "getKeysUsingLegacyRangeSpec(cmd,argv,argc,result)",
          "new_text": null,
          "old_line_content": "        return getKeysUsingLegacyRangeSpec(cmd,argv,argc,result);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "dictSetSignedIntegerVal",
          "new_api": null,
          "old_text": "dictSetSignedIntegerVal(de,when)",
          "new_text": null,
          "old_line_content": "    dictSetSignedIntegerVal(de,when);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "rememberSlaveKeyWithExpire",
          "new_api": null,
          "old_text": "rememberSlaveKeyWithExpire(db,key)",
          "new_text": null,
          "old_line_content": "        rememberSlaveKeyWithExpire(db,key);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(result->keys)",
          "new_text": null,
          "old_line_content": "        zfree(result->keys);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(db->expires,key->ptr)",
          "new_text": null,
          "old_line_content": "       (de = dictFind(db->expires,key->ptr)) == NULL) return -1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "dictGetSignedIntegerVal",
          "new_api": null,
          "old_text": "dictGetSignedIntegerVal(de)",
          "new_text": null,
          "old_line_content": "    return dictGetSignedIntegerVal(de);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "getObjectTypeName",
          "new_api": null,
          "old_text": "getObjectTypeName(o)",
          "new_text": null,
          "old_line_content": "    addReplyStatus(c, getObjectTypeName(o));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(argv[keyCountOfs]->ptr)",
          "new_text": null,
          "old_line_content": "    num = atoi(argv[keyCountOfs]->ptr);",
          "new_line_content": "    /* Sanity check. Don't return any key if the command is going to",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "propagateDeletion",
          "new_api": null,
          "old_text": "propagateDeletion(db,keyobj,server.lazyfree_lazy_expire)",
          "new_text": null,
          "old_line_content": "    propagateDeletion(db,keyobj,server.lazyfree_lazy_expire);",
          "new_line_content": "    server.stat_expiredkeys++;",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "num < 1 || num > (argc - firstKeyOfs)",
          "new_api": null,
          "old_text": "num < 1 || num > (argc - firstKeyOfs)",
          "new_text": null,
          "old_line_content": "    if (num < 1 || num > (argc - firstKeyOfs)/keyStep) {",
          "new_line_content": "        result->numkeys = 0;",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr,\"nosave\")",
          "new_text": null,
          "old_line_content": "        if (!strcasecmp(c->argv[i]->ptr,\"nosave\")) {",
          "new_line_content": "            flags |= SHUTDOWN_NOSAVE;",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr,\"save\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr,\"save\")) {",
          "new_line_content": "            flags |= SHUTDOWN_SAVE;",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, numkeys)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, numkeys);",
          "new_line_content": "    result->numkeys = numkeys;",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr, \"now\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"now\")) {",
          "new_line_content": "            flags |= SHUTDOWN_NOW;",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr, \"force\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"force\")) {",
          "new_line_content": "            flags |= SHUTDOWN_FORCE;",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr, \"abort\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"abort\")) {",
          "new_line_content": "            abort = 1;",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "            addReplyErrorObject(c,shared.syntaxerr);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "        addReplyErrorObject(c,shared.syntaxerr);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": "incrRefCount",
          "new_api": null,
          "old_text": "incrRefCount(argv[1])",
          "new_text": null,
          "old_line_content": "    incrRefCount(argv[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c, shared.ok)",
          "new_text": null,
          "old_line_content": "            addReply(c, shared.ok);",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(1, 2, 3, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(1, 2, 3, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c, \"No shutdown in progress.\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c, \"No shutdown in progress.\");",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "alsoPropagate",
          "new_api": null,
          "old_text": "alsoPropagate(db->id,argv,2,PROPAGATE_AOF|PROPAGATE_REPL)",
          "new_text": null,
          "old_line_content": "    alsoPropagate(db->id,argv,2,PROPAGATE_AOF|PROPAGATE_REPL);",
          "new_line_content": "    server.replication_allowed = prev_replication_allowed;",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c, \"SHUTDOWN without NOW or ABORT isn't allowed for DENY BLOCKING client\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c, \"SHUTDOWN without NOW or ABORT isn't allowed for DENY BLOCKING client\");",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "decrRefCount",
          "new_api": null,
          "old_text": "decrRefCount(argv[1])",
          "new_text": null,
          "old_line_content": "    decrRefCount(argv[1]);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "isInsideYieldingLongCommand",
          "new_api": null,
          "old_text": "isInsideYieldingLongCommand()",
          "new_text": null,
          "old_line_content": "    if (!(flags & SHUTDOWN_NOSAVE) && isInsideYieldingLongCommand()) {",
          "new_line_content": "        /* Script timed out. Shutdown allowed only with the NOSAVE flag. See",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "addReplyErrorFormat",
          "new_api": null,
          "old_text": "addReplyErrorFormat(c, \"-BUSY %s\", server.busy_module_yield_reply)",
          "new_text": null,
          "old_line_content": "            addReplyErrorFormat(c, \"-BUSY %s\", server.busy_module_yield_reply);",
          "new_line_content": "        } else if (server.busy_module_yield_flags) {",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "getExpire",
          "new_api": null,
          "old_text": "getExpire(db,key)",
          "new_text": null,
          "old_line_content": "    mstime_t when = getExpire(db,key);",
          "new_line_content": "    mstime_t now;",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c, shared.slowevalerr)",
          "new_text": null,
          "old_line_content": "            addReplyErrorObject(c, shared.slowevalerr);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c, shared.slowscripterr)",
          "new_text": null,
          "old_line_content": "            addReplyErrorObject(c, shared.slowscripterr);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": "commandTimeSnapshot",
          "new_api": null,
          "old_text": "commandTimeSnapshot()",
          "new_text": null,
          "old_line_content": "    now = commandTimeSnapshot();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "exit",
          "new_api": null,
          "old_text": "exit(0)",
          "new_text": null,
          "old_line_content": "    if (prepareForShutdown(flags) == C_OK) exit(0);",
          "new_line_content": "    /* If we're here, then shutdown is ongoing (the client is still blocked) or",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 1, 2, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 1, 2, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": "genericGetKeys",
          "new_api": null,
          "old_text": "genericGetKeys(0, 2, 3, 1, argv, argc, result)",
          "new_text": null,
          "old_line_content": "    return genericGetKeys(0, 2, 3, 1, argv, argc, result);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "sdscmp",
          "new_api": null,
          "old_text": "sdscmp(c->argv[1]->ptr,c->argv[2]->ptr)",
          "new_text": null,
          "old_line_content": "    if (sdscmp(c->argv[1]->ptr,c->argv[2]->ptr) == 0) samekey = 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "lookupKeyWriteOrReply",
          "new_api": null,
          "old_text": "lookupKeyWriteOrReply(c,c->argv[1],shared.nokeyerr)",
          "new_text": null,
          "old_line_content": "    if ((o = lookupKeyWriteOrReply(c,c->argv[1],shared.nokeyerr)) == NULL)",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,nx ? shared.czero : shared.ok)",
          "new_text": null,
          "old_line_content": "        addReply(c,nx ? shared.czero : shared.ok);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "lookupKeyWrite",
          "new_api": null,
          "old_text": "lookupKeyWrite(c->db,c->argv[2])",
          "new_text": null,
          "old_line_content": "    if (lookupKeyWrite(c->db,c->argv[2]) != NULL) {",
          "new_line_content": "        if (nx) {",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(argc)",
          "new_text": null,
          "old_line_content": "    UNUSED(argc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.czero)",
          "new_text": null,
          "old_line_content": "            addReply(c,shared.czero);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, 1)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, 1);",
          "new_line_content": "    keys[0].pos = 1; /* <sort-key> is always present. */",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "dbDelete",
          "new_api": null,
          "old_text": "dbDelete(c->db,c->argv[2])",
          "new_text": null,
          "old_line_content": "        dbDelete(c->db,c->argv[2]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "keyIsExpired",
          "new_api": null,
          "old_text": "keyIsExpired(db,key)",
          "new_text": null,
          "old_line_content": "    if (!keyIsExpired(db,key)) return 0;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "notifyKeyspaceEvent",
          "new_api": null,
          "old_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_from\",\n        c->argv[1],c->db->id)",
          "new_text": null,
          "old_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_from\",",
          "new_line_content": "        c->argv[1],c->db->id);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "notifyKeyspaceEvent",
          "new_api": null,
          "old_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_to\",\n        c->argv[2],c->db->id)",
          "new_text": null,
          "old_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,\"rename_to\",",
          "new_line_content": "        c->argv[2],c->db->id);",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,nx ? shared.cone : shared.ok)",
          "new_text": null,
          "old_line_content": "    addReply(c,nx ? shared.cone : shared.ok);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(cmd)",
          "new_text": null,
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "renameGenericCommand",
          "new_api": null,
          "old_text": "renameGenericCommand(c,0)",
          "new_text": null,
          "old_line_content": "    renameGenericCommand(c,0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, 2)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, 2); /* Alloc 2 places for the worst case. */",
          "new_line_content": "    keys[num].pos = 1; /* <sort-key> is always present. */",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "renameGenericCommand",
          "new_api": null,
          "old_text": "renameGenericCommand(c,1)",
          "new_text": null,
          "old_line_content": "    renameGenericCommand(c,1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": "isPausedActionsWithUpdate",
          "new_api": null,
          "old_text": "isPausedActionsWithUpdate(PAUSE_ACTION_EXPIRE)",
          "new_text": null,
          "old_line_content": "    if (isPausedActionsWithUpdate(PAUSE_ACTION_EXPIRE)) return 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"MOVE is not allowed in cluster mode\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c,\"MOVE is not allowed in cluster mode\");",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "deleteExpiredKeyAndPropagate",
          "new_api": null,
          "old_text": "deleteExpiredKeyAndPropagate(db,key)",
          "new_text": null,
          "old_line_content": "    deleteExpiredKeyAndPropagate(db,key);",
          "new_line_content": "    return 1;",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(argv[i]->ptr,skiplist[j].name)",
          "new_text": null,
          "old_line_content": "            if (!strcasecmp(argv[i]->ptr,skiplist[j].name)) {",
          "new_line_content": "                i += skiplist[j].skip;",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "getIntFromObjectOrReply",
          "new_api": null,
          "old_text": "getIntFromObjectOrReply(c, c->argv[2], &dbid, NULL)",
          "new_text": null,
          "old_line_content": "    if (getIntFromObjectOrReply(c, c->argv[2], &dbid, NULL) != C_OK)",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(argv[i]->ptr,\"store\")",
          "new_text": null,
          "old_line_content": "            } else if (!strcasecmp(argv[i]->ptr,\"store\") && i+1 < argc) {",
          "new_line_content": "                /* Note: we don't increment \"num\" here and continue the loop",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"DB index is out of range\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c,\"DB index is out of range\");",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "selectDb",
          "new_api": null,
          "old_text": "selectDb(c,srcid)",
          "new_text": null,
          "old_line_content": "    selectDb(c,srcid); /* Back to the source DB */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "serverAssert",
          "new_api": null,
          "old_text": "serverAssert(!result->numkeys)",
          "new_text": null,
          "old_line_content": "        serverAssert(!result->numkeys);",
          "new_line_content": "        result->keys = result->keysbuf;",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.sameobjecterr)",
          "new_text": null,
          "old_line_content": "        addReplyErrorObject(c,shared.sameobjecterr);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "lookupKeyWrite",
          "new_api": null,
          "old_text": "lookupKeyWrite(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "    o = lookupKeyWrite(c->db,c->argv[1]);",
          "new_line_content": "    if (!o) {",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.czero)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.czero);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "zrealloc",
          "new_api": null,
          "old_text": "zrealloc(result->keys, numkeys * sizeof(keyReference))",
          "new_text": null,
          "old_line_content": "            result->keys = zrealloc(result->keys, numkeys * sizeof(keyReference));",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(cmd)",
          "new_text": null,
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "getExpire",
          "new_api": null,
          "old_text": "getExpire(c->db,c->argv[1])",
          "new_text": null,
          "old_line_content": "    expire = getExpire(c->db,c->argv[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(numkeys * sizeof(keyReference))",
          "new_text": null,
          "old_line_content": "            result->keys = zmalloc(numkeys * sizeof(keyReference));",
          "new_line_content": "            if (result->numkeys)",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(result->keys, result->keysbuf, result->numkeys * sizeof(keyReference))",
          "new_text": null,
          "old_line_content": "                memcpy(result->keys, result->keysbuf, result->numkeys * sizeof(keyReference));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.czero)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.czero);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "incrRefCount",
          "new_api": null,
          "old_text": "incrRefCount(o)",
          "new_text": null,
          "old_line_content": "    incrRefCount(o);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "notifyKeyspaceEvent",
          "new_api": null,
          "old_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\n                \"move_from\",c->argv[1],src->id)",
          "new_text": null,
          "old_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,",
          "new_line_content": "                \"move_from\",c->argv[1],src->id);",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "notifyKeyspaceEvent",
          "new_api": null,
          "old_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\n                \"move_to\",c->argv[1],dst->id)",
          "new_text": null,
          "old_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,",
          "new_line_content": "                \"move_to\",c->argv[1],dst->id);",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(argv[3]->ptr)",
          "new_text": null,
          "old_line_content": "                if (sdslen(argv[3]->ptr) > 0) {",
          "new_line_content": "                    /* This is a syntax error. So ignore the keys and leave",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.cone)",
          "new_text": null,
          "old_line_content": "    addReply(c,shared.cone);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(argv[i]->ptr, skip_keywords[j].name)",
          "new_text": null,
          "old_line_content": "                if (!strcasecmp(argv[i]->ptr, skip_keywords[j].name)) {",
          "new_line_content": "                    i += skip_keywords[j].skip;",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "serverAssert",
          "new_api": null,
          "old_text": "serverAssert(spec->begin_search_type != KSPEC_BS_INVALID)",
          "new_text": null,
          "old_line_content": "        serverAssert(spec->begin_search_type != KSPEC_BS_INVALID);",
          "new_line_content": "        /* Skip specs that represent 'fake' keys */",
          "content_same": false
        },
        {
          "line": 2308,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, num)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, num);",
          "new_line_content": "    for (i = 0; i < num; i++) {",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[j]->ptr,\"replace\")",
          "new_text": null,
          "old_line_content": "        if (!strcasecmp(c->argv[j]->ptr,\"replace\")) {",
          "new_line_content": "            replace = 1;",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "dictNext",
          "new_api": null,
          "old_text": "dictNext(di)",
          "new_text": null,
          "old_line_content": "    while((de = dictNext(di)) != NULL) {",
          "new_line_content": "    robj keyobj;",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "getIntFromObjectOrReply",
          "new_api": null,
          "old_text": "getIntFromObjectOrReply(c, c->argv[j+1], &dbid, NULL)",
          "new_text": null,
          "old_line_content": "            if (getIntFromObjectOrReply(c, c->argv[j+1], &dbid, NULL) != C_OK)",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"DB index is out of range\")",
          "new_text": null,
          "old_line_content": "                addReplyError(c,\"DB index is out of range\");",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp((char*)argv[i]->ptr,spec->bs.keyword.keyword)",
          "new_text": null,
          "old_line_content": "                if (!strcasecmp((char*)argv[i]->ptr,spec->bs.keyword.keyword)) {",
          "new_line_content": "                    first = i+1;",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "selectDb",
          "new_api": null,
          "old_text": "selectDb(c,srcid)",
          "new_text": null,
          "old_line_content": "            selectDb(c,srcid); /* Back to the source DB */",
          "new_line_content": "            j++; /* Consume additional arg. */",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "decrRefCount",
          "new_api": null,
          "old_text": "decrRefCount(keyobj)",
          "new_text": null,
          "old_line_content": "            decrRefCount(keyobj);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "            addReplyErrorObject(c,shared.syntaxerr);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(cmd)",
          "new_text": null,
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "setDeferredArrayLen",
          "new_api": null,
          "old_text": "setDeferredArrayLen(c,replylen,numkeys)",
          "new_text": null,
          "old_line_content": "    setDeferredArrayLen(c,replylen,numkeys);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"Copying to another database is not allowed in cluster mode\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c,\"Copying to another database is not allowed in cluster mode\");",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"storedist\")",
          "new_text": null,
          "old_line_content": "        if ((!strcasecmp(arg, \"store\") || !strcasecmp(arg, \"storedist\")) && ((i+1) < argc)) {",
          "new_line_content": "            stored_key = i+1;",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.sameobjecterr)",
          "new_text": null,
          "old_line_content": "        addReplyErrorObject(c,shared.sameobjecterr);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "serverAssert",
          "new_api": null,
          "old_text": "serverAssert(spec->fk.range.lastkey == -1)",
          "new_text": null,
          "old_line_content": "                    serverAssert(spec->fk.range.lastkey == -1);",
          "new_line_content": "                    last = first + ((argc-first)/spec->fk.range.limit + spec->fk.range.lastkey);",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(sdskey)",
          "new_text": null,
          "old_line_content": "        key = createStringObject(sdskey, sdslen(sdskey));",
          "new_line_content": "    } else if (o->type == OBJ_SET) {",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(keysds)",
          "new_text": null,
          "old_line_content": "        key = createStringObject(keysds,sdslen(keysds));",
          "new_line_content": "    } else if (o->type == OBJ_HASH) {",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "lookupKeyRead",
          "new_api": null,
          "old_text": "lookupKeyRead(c->db, key)",
          "new_text": null,
          "old_line_content": "    o = lookupKeyRead(c->db, key);",
          "new_line_content": "    if (!o) {",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, num)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, num);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.czero)",
          "new_text": null,
          "old_line_content": "        addReply(c,shared.czero);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(sdsval)",
          "new_text": null,
          "old_line_content": "        val = createStringObject(sdsval,sdslen(sdsval));",
          "new_line_content": "    } else if (o->type == OBJ_ZSET) {",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "getExpire",
          "new_api": null,
          "old_text": "getExpire(c->db,key)",
          "new_text": null,
          "old_line_content": "    expire = getExpire(c->db,key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(keynum_str)",
          "new_text": null,
          "old_line_content": "            if (!string2ll(keynum_str,sdslen(keynum_str),&numkeys) || numkeys < 0) {",
          "new_line_content": "                /* Unable to parse the numkeys argument or it was invalid */",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "dictGetVal",
          "new_api": null,
          "old_text": "dictGetVal(de)",
          "new_text": null,
          "old_line_content": "        val = createStringObjectFromLongDouble(*(double*)dictGetVal(de),0);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "lookupKeyWrite",
          "new_api": null,
          "old_text": "lookupKeyWrite(dst,newkey)",
          "new_text": null,
          "old_line_content": "    if (lookupKeyWrite(dst,newkey) != NULL) {",
          "new_line_content": "        if (replace) {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "serverPanic",
          "new_api": null,
          "old_text": "serverPanic(\"Type not handled in SCAN callback.\")",
          "new_text": null,
          "old_line_content": "        serverPanic(\"Type not handled in SCAN callback.\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.czero)",
          "new_text": null,
          "old_line_content": "            addReply(c,shared.czero);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "listAddNodeTail",
          "new_api": null,
          "old_text": "listAddNodeTail(keys, val)",
          "new_text": null,
          "old_line_content": "    if (val) listAddNodeTail(keys, val);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, count)",
          "new_text": null,
          "old_line_content": "        keys = getKeysPrepareResult(result, count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(cmd)",
          "new_text": null,
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "streamDup",
          "new_api": null,
          "old_text": "streamDup(o)",
          "new_text": null,
          "old_line_content": "        case OBJ_STREAM: newobj = streamDup(o); break;",
          "new_line_content": "        case OBJ_MODULE:",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "moduleTypeDupOrReply",
          "new_api": null,
          "old_text": "moduleTypeDupOrReply(c, key, newkey, dst->id, o)",
          "new_text": null,
          "old_line_content": "            newobj = moduleTypeDupOrReply(c, key, newkey, dst->id, o);",
          "new_line_content": "            if (!newobj) return;",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(((char*)o->ptr)[0])",
          "new_text": null,
          "old_line_content": "    if (isspace(((char*)o->ptr)[0]) || eptr[0] != '\\0' || errno == ERANGE)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"block\")",
          "new_text": null,
          "old_line_content": "        if (!strcasecmp(arg, \"block\")) {",
          "new_line_content": "            i++; /* Skip option argument. */",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c, \"invalid cursor\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c, \"invalid cursor\");",
          "new_line_content": "        return C_ERR;",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"count\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(arg, \"count\")) {",
          "new_line_content": "            i++; /* Skip option argument. */",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c, \"unknown type object\")",
          "new_text": null,
          "old_line_content": "            addReplyError(c, \"unknown type object\");",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"group\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(arg, \"group\")) {",
          "new_line_content": "            i += 2; /* Skip option argument. */",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"noack\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(arg, \"noack\")) {",
          "new_line_content": "            /* Nothing to do. */",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "dbDelete",
          "new_api": null,
          "old_text": "dbDelete(dst,newkey)",
          "new_text": null,
          "old_line_content": "        dbDelete(dst,newkey);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"streams\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(arg, \"streams\")) {",
          "new_line_content": "            streams_pos = i;",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "serverPanic",
          "new_api": null,
          "old_text": "serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\")",
          "new_text": null,
          "old_line_content": "                    serverPanic(\"Redis built-in command declared keys positions not matching the arity requirements.\");",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "setExpire",
          "new_api": null,
          "old_text": "setExpire(c, dst, newkey, expire)",
          "new_text": null,
          "old_line_content": "    if (expire != -1) setExpire(c, dst, newkey, expire);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "notifyKeyspaceEvent",
          "new_api": null,
          "old_text": "notifyKeyspaceEvent(NOTIFY_GENERIC,\"copy_to\",c->argv[2],dst->id)",
          "new_text": null,
          "old_line_content": "    notifyKeyspaceEvent(NOTIFY_GENERIC,\"copy_to\",c->argv[2],dst->id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "addReply",
          "new_api": null,
          "old_text": "addReply(c,shared.cone)",
          "new_text": null,
          "old_line_content": "    addReply(c,shared.cone);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "listCreate",
          "new_api": null,
          "old_text": "listCreate()",
          "new_text": null,
          "old_line_content": "    list *keys = listCreate();",
          "new_line_content": "    listNode *node, *nextnode;",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, num)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, num);",
          "new_line_content": "    for (i = streams_pos+1; i < argc-num; i++) {",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "serverAssert",
          "new_api": null,
          "old_text": "serverAssert(o == NULL || o->type == OBJ_SET || o->type == OBJ_HASH ||\n                o->type == OBJ_ZSET)",
          "new_text": null,
          "old_line_content": "    serverAssert(o == NULL || o->type == OBJ_SET || o->type == OBJ_HASH ||",
          "new_line_content": "                o->type == OBJ_ZSET);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(db->dict,key->ptr)",
          "new_text": null,
          "old_line_content": "        dictEntry *kde = dictFind(db->dict,key->ptr);",
          "new_line_content": "        if (kde) {",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "signalKeyAsReady",
          "new_api": null,
          "old_text": "signalKeyAsReady(db, key, value->type)",
          "new_text": null,
          "old_line_content": "            signalKeyAsReady(db, key, value->type);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "dictReleaseIterator",
          "new_api": null,
          "old_text": "dictReleaseIterator(di)",
          "new_text": null,
          "old_line_content": "    dictReleaseIterator(di);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(cmd)",
          "new_text": null,
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "getLongFromObjectOrReply",
          "new_api": null,
          "old_text": "getLongFromObjectOrReply(c, c->argv[i+1], &count, NULL)",
          "new_text": null,
          "old_line_content": "            if (getLongFromObjectOrReply(c, c->argv[i+1], &count, NULL)",
          "new_line_content": "                != C_OK)",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, 1)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, 1);",
          "new_line_content": "    keys[0].pos = 1; /* We always know the position */",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(de)",
          "new_text": null,
          "old_line_content": "        robj *key = dictGetKey(de);",
          "new_line_content": "        int existed = 0, exists = 0;",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "                addReplyErrorObject(c,shared.syntaxerr);",
          "new_line_content": "                goto cleanup;",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(emptied->dict, key->ptr)",
          "new_text": null,
          "old_line_content": "        dictEntry *kde = dictFind(emptied->dict, key->ptr);",
          "new_line_content": "        if (kde) {",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "getAllKeySpecsFlags",
          "new_api": null,
          "old_text": "getAllKeySpecsFlags(cmd, 1)",
          "new_text": null,
          "old_line_content": "    int has_keyspec = (getAllKeySpecsFlags(cmd, 1) & CMD_KEY_NOT_KEY);",
          "new_line_content": "    /* The command has at least one key-spec marked as VARIABLE_FLAGS */",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr, \"match\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"match\") && j >= 2) {",
          "new_line_content": "            pat = c->argv[i+1]->ptr;",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "dictGetVal",
          "new_api": null,
          "old_text": "dictGetVal(kde)",
          "new_text": null,
          "old_line_content": "            robj *value = dictGetVal(kde);",
          "new_line_content": "            original_type = value->type;",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(pat)",
          "new_text": null,
          "old_line_content": "            patlen = sdslen(pat);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "getAllKeySpecsFlags",
          "new_api": null,
          "old_text": "getAllKeySpecsFlags(cmd, 0)",
          "new_text": null,
          "old_line_content": "    int has_varflags = (getAllKeySpecsFlags(cmd, 0) & CMD_KEY_VARIABLE_FLAGS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "getKeysUsingKeySpecs",
          "new_api": null,
          "old_text": "getKeysUsingKeySpecs(cmd,argv,argc,search_flags,result)",
          "new_text": null,
          "old_line_content": "        int ret = getKeysUsingKeySpecs(cmd,argv,argc,search_flags,result);",
          "new_line_content": "        if (ret >= 0)",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(replaced_with->dict, key->ptr)",
          "new_text": null,
          "old_line_content": "            dictEntry *kde = dictFind(replaced_with->dict, key->ptr);",
          "new_line_content": "            if (kde) {",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "dictGetVal",
          "new_api": null,
          "old_text": "dictGetVal(kde)",
          "new_text": null,
          "old_line_content": "                robj *value = dictGetVal(kde);",
          "new_line_content": "                curr_type = value->type;",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(c->argv[i]->ptr, \"type\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(c->argv[i]->ptr, \"type\") && o == NULL && j >= 2) {",
          "new_line_content": "            /* SCAN for a particular type only applies to the db dict */",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(cmd)",
          "new_text": null,
          "old_line_content": "    UNUSED(cmd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "addReplyErrorObject",
          "new_api": null,
          "old_text": "addReplyErrorObject(c,shared.syntaxerr)",
          "new_text": null,
          "old_line_content": "            addReplyErrorObject(c,shared.syntaxerr);",
          "new_line_content": "            goto cleanup;",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, 1)",
          "new_text": null,
          "old_line_content": "    keys = getKeysPrepareResult(result, 1);",
          "new_line_content": "    keys[0].pos = 1; /* We always know the position */",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "signalDeletedKeyAsReady",
          "new_api": null,
          "old_text": "signalDeletedKeyAsReady(emptied, key, original_type)",
          "new_text": null,
          "old_line_content": "            signalDeletedKeyAsReady(emptied, key, original_type);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "dictReleaseIterator",
          "new_api": null,
          "old_text": "dictReleaseIterator(di)",
          "new_text": null,
          "old_line_content": "    dictReleaseIterator(di);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "moduleGetCommandKeysViaAPI",
          "new_api": null,
          "old_text": "moduleGetCommandKeysViaAPI(cmd,argv,argc,result)",
          "new_text": null,
          "old_line_content": "        return moduleGetCommandKeysViaAPI(cmd,argv,argc,result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "getkeys_proc",
          "new_api": null,
          "old_text": "cmd->getkeys_proc(cmd,argv,argc,result)",
          "new_text": null,
          "old_line_content": "        return cmd->getkeys_proc(cmd,argv,argc,result);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"get\")",
          "new_text": null,
          "old_line_content": "        if (!strcasecmp(arg, \"get\") && remargs >= 2) {",
          "new_line_content": "            i += 2;",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"incrby\")",
          "new_text": null,
          "old_line_content": "        } else if ((!strcasecmp(arg, \"set\") || !strcasecmp(arg, \"incrby\")) && remargs >= 3) {",
          "new_line_content": "            readonly = 0;",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "getAllKeySpecsFlags",
          "new_api": null,
          "old_text": "getAllKeySpecsFlags(cmd, 1)",
          "new_text": null,
          "old_line_content": "        (getAllKeySpecsFlags(cmd, 1) & CMD_KEY_NOT_KEY);        /* has at least one key-spec not marked as NOT_KEY */",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(arg, \"overflow\")",
          "new_text": null,
          "old_line_content": "        } else if (!strcasecmp(arg, \"overflow\") && remargs >= 1) {",
          "new_line_content": "            i += 1;",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "touchAllWatchedKeysInDb",
          "new_api": null,
          "old_text": "touchAllWatchedKeysInDb(db2, db1)",
          "new_text": null,
          "old_line_content": "    touchAllWatchedKeysInDb(db2, db1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "scanDatabaseForDeletedKeys",
          "new_api": null,
          "old_text": "scanDatabaseForDeletedKeys(db2, db1)",
          "new_text": null,
          "old_line_content": "    scanDatabaseForDeletedKeys(db2, db1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "dictScan",
          "new_api": null,
          "old_text": "dictScan(ht, cursor, scanCallback, privdata)",
          "new_text": null,
          "old_line_content": "            cursor = dictScan(ht, cursor, scanCallback, privdata);",
          "new_line_content": "        } while (cursor &&",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "listLength",
          "new_api": null,
          "old_text": "listLength(keys)",
          "new_text": null,
          "old_line_content": "              listLength(keys) < (unsigned long)count);",
          "new_line_content": "    } else if (o->type == OBJ_SET) {",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "setTypeNext",
          "new_api": null,
          "old_text": "setTypeNext(si, &str, &len, &llele)",
          "new_text": null,
          "old_line_content": "        while (setTypeNext(si, &str, &len, &llele) != -1) {",
          "new_line_content": "            if (str == NULL) {",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "createStringObjectFromLongLong",
          "new_api": null,
          "old_text": "createStringObjectFromLongLong(llele)",
          "new_text": null,
          "old_line_content": "                listAddNodeTail(keys, createStringObjectFromLongLong(llele));",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "scanDatabaseForReadyKeys",
          "new_api": null,
          "old_text": "scanDatabaseForReadyKeys(db2)",
          "new_text": null,
          "old_line_content": "    scanDatabaseForReadyKeys(db2);",
          "new_line_content": "    return C_OK;",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "createStringObject",
          "new_api": null,
          "old_text": "createStringObject(str, len)",
          "new_text": null,
          "old_line_content": "                listAddNodeTail(keys, createStringObject(str, len));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "setTypeReleaseIterator",
          "new_api": null,
          "old_text": "setTypeReleaseIterator(si)",
          "new_text": null,
          "old_line_content": "        setTypeReleaseIterator(si);",
          "new_line_content": "        cursor = 0;",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "lpFirst",
          "new_api": null,
          "old_text": "lpFirst(o->ptr)",
          "new_text": null,
          "old_line_content": "        unsigned char *p = lpFirst(o->ptr);",
          "new_line_content": "        unsigned char *vstr;",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "lpNext",
          "new_api": null,
          "old_text": "lpNext(o->ptr,p)",
          "new_text": null,
          "old_line_content": "            p = lpNext(o->ptr,p);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "moduleGetCommandChannelsViaAPI",
          "new_api": null,
          "old_text": "moduleGetCommandChannelsViaAPI(cmd, argv, argc, result)",
          "new_text": null,
          "old_line_content": "        return moduleGetCommandChannelsViaAPI(cmd, argv, argc, result);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "touchAllWatchedKeysInDb",
          "new_api": null,
          "old_text": "touchAllWatchedKeysInDb(activedb, newdb)",
          "new_text": null,
          "old_line_content": "        touchAllWatchedKeysInDb(activedb, newdb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "serverPanic",
          "new_api": null,
          "old_text": "serverPanic(\"Not handled encoding in SCAN.\")",
          "new_text": null,
          "old_line_content": "        serverPanic(\"Not handled encoding in SCAN.\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "scanDatabaseForDeletedKeys",
          "new_api": null,
          "old_text": "scanDatabaseForDeletedKeys(activedb, newdb)",
          "new_text": null,
          "old_line_content": "        scanDatabaseForDeletedKeys(activedb, newdb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "listFirst",
          "new_api": null,
          "old_text": "listFirst(keys)",
          "new_text": null,
          "old_line_content": "    node = listFirst(keys);",
          "new_line_content": "    while (node) {",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "getKeysPrepareResult",
          "new_api": null,
          "old_text": "getKeysPrepareResult(result, stop - start)",
          "new_text": null,
          "old_line_content": "            keys = getKeysPrepareResult(result, stop - start);",
          "new_line_content": "            for (int i = start; i < stop; i++ ) {",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "listNextNode",
          "new_api": null,
          "old_text": "listNextNode(node)",
          "new_text": null,
          "old_line_content": "        nextnode = listNextNode(node);",
          "new_line_content": "        int filter = 0;",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "sdslen",
          "new_api": null,
          "old_text": "sdslen(kobj->ptr)",
          "new_text": null,
          "old_line_content": "                if (!stringmatchlen(pat, patlen, kobj->ptr, sdslen(kobj->ptr), 0))",
          "new_line_content": "                    filter = 1;",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "stringmatchlen",
          "new_api": null,
          "old_text": "stringmatchlen(pat, patlen, buf, len, 0)",
          "new_text": null,
          "old_line_content": "                if (!stringmatchlen(pat, patlen, buf, len, 0)) filter = 1;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "scanDatabaseForReadyKeys",
          "new_api": null,
          "old_text": "scanDatabaseForReadyKeys(activedb)",
          "new_text": null,
          "old_line_content": "        scanDatabaseForReadyKeys(activedb);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp((char*) typename, type)",
          "new_text": null,
          "old_line_content": "            if (strcasecmp((char*) typename, type)) filter = 1;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "flushSlaveKeysWithExpireList",
          "new_api": null,
          "old_text": "flushSlaveKeysWithExpireList()",
          "new_text": null,
          "old_line_content": "    flushSlaveKeysWithExpireList();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(argv)",
          "new_text": null,
          "old_line_content": "    UNUSED(argv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "expireIfNeeded",
          "new_api": null,
          "old_text": "expireIfNeeded(c->db, kobj, 0)",
          "new_text": null,
          "old_line_content": "        if (!filter && o == NULL && expireIfNeeded(c->db, kobj, 0)) filter = 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "listDelNode",
          "new_api": null,
          "old_text": "listDelNode(keys, node)",
          "new_text": null,
          "old_line_content": "            listDelNode(keys, node);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "addReplyError",
          "new_api": null,
          "old_text": "addReplyError(c,\"SWAPDB is not allowed in cluster mode\")",
          "new_text": null,
          "old_line_content": "        addReplyError(c,\"SWAPDB is not allowed in cluster mode\");",
          "new_line_content": "        return;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 91,
      "total_additions": 202,
      "total_deletions": 203,
      "total_api_changes": 496
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 496,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          783
        ]
      }
    },
    "api_calls_before": 473,
    "api_calls_after": 472,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 5,
      "total_diff_lines": 27
    }
  }
}