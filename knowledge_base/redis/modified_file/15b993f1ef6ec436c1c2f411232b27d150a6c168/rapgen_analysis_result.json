{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/15b993f1ef6ec436c1c2f411232b27d150a6c168",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/15b993f1ef6ec436c1c2f411232b27d150a6c168/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/15b993f1ef6ec436c1c2f411232b27d150a6c168/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/15b993f1ef6ec436c1c2f411232b27d150a6c168/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 328,
          "old_api": "dictGetKey",
          "new_api": "DICTHT_SIZE",
          "old_text": "dictGetKey(de)",
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "            void *key = dictGetKey(de);",
          "new_line_content": "        assert(DICTHT_SIZE(d->ht_size_exp[0]) > (unsigned long)d->rehashidx);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "elapsedStart",
          "new_api": "gettimeofday",
          "old_text": "elapsedStart(&timer)",
          "new_text": "gettimeofday(&tv,NULL)",
          "old_line_content": "    elapsedStart(&timer);",
          "new_line_content": "    gettimeofday(&tv,NULL);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "entryIsKey",
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": "entryIsKey(entry)",
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx])",
          "old_line_content": "            assert(entryIsKey(entry));",
          "new_line_content": "           bucket <= &d->ht_table[htidx][DICTHT_SIZE_MASK(d->ht_size_exp[htidx])]);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "entryIsNormal",
          "new_api": "entryIsKey",
          "old_text": "entryIsNormal(entry)",
          "new_text": "entryIsKey(entry)",
          "old_line_content": "        assert(entryIsNormal(entry)); /* Check alignment of allocation */",
          "new_line_content": "            assert(entryIsKey(entry));",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "dictGetVal",
          "new_api": "dictAddRaw",
          "old_text": "dictGetVal(existing)",
          "new_text": "dictAddRaw(d,key,&existing)",
          "old_line_content": "    void *oldval = dictGetVal(existing);",
          "new_line_content": "    entry = dictAddRaw(d,key,&existing);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "dictGetKey",
          "new_api": "dictSize",
          "old_text": "dictGetKey(he)",
          "new_text": "dictSize(d)",
          "old_line_content": "            void *he_key = dictGetKey(he);",
          "new_line_content": "    if (dictSize(d) == 0) return NULL;",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "dictGetNext",
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": "dictGetNext(he)",
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "                    d->ht_table[table][idx] = dictGetNext(he);",
          "new_line_content": "        idx = h & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "callback",
          "new_api": "decodeMaskedPtr",
          "old_text": "callback(d)",
          "new_text": "decodeMaskedPtr(he)",
          "old_line_content": "        if (callback && (i & 65535) == 0) callback(d);",
          "new_line_content": "    if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "_dictReset",
          "new_api": "dictGetNext",
          "old_text": "_dictReset(d, htidx)",
          "new_text": "dictGetNext(he)",
          "old_line_content": "    _dictReset(d, htidx);",
          "new_line_content": "            nextHe = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "_dictRehashStep",
          "new_api": "_dictClear",
          "old_text": "_dictRehashStep(d)",
          "new_text": "_dictClear(d,0,NULL)",
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": "    _dictClear(d,0,NULL);",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "dictHashKey",
          "new_api": "_dictClear",
          "old_text": "dictHashKey(d, key)",
          "new_text": "_dictClear(d,1,NULL)",
          "old_line_content": "    h = dictHashKey(d, key);",
          "new_line_content": "    _dictClear(d,1,NULL);",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "dictGetNext",
          "new_api": "dictSize",
          "old_text": "dictGetNext(he)",
          "new_text": "dictSize(d)",
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "dictIsRehashing",
          "new_api": "dictHashKey",
          "old_text": "dictIsRehashing(d)",
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "new_line_content": "    h = dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "dictGetVal",
          "new_api": "dictGetNext",
          "old_text": "dictGetVal(he)",
          "new_text": "dictGetNext(he)",
          "old_line_content": "    return he ? dictGetVal(he) : NULL;",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "dictPauseRehashing",
          "new_api": "dictHashKey",
          "old_text": "dictPauseRehashing(d)",
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "                dictPauseRehashing(d);",
          "new_line_content": "    h = dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "dictGetNextRef",
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": "dictGetNextRef(*ref)",
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "            ref = dictGetNextRef(*ref);",
          "new_line_content": "        idx = h & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "dictFreeKey",
          "new_api": "dictGetNextRef",
          "old_text": "dictFreeKey(d, he)",
          "new_text": "dictGetNextRef(*ref)",
          "old_line_content": "    dictFreeKey(d, he);",
          "new_line_content": "            ref = dictGetNextRef(*ref);",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "decodeMaskedPtr",
          "new_api": "dictIsRehashing",
          "old_text": "decodeMaskedPtr(he)",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "new_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": "entryHasValue",
          "new_api": "keyDup",
          "old_text": "entryHasValue(de)",
          "new_text": "d->type->keyDup(d, key)",
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "        de->key = d->type->keyDup(d, key);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "decodeEntryNoValue",
          "new_api": "entryHasValue",
          "old_text": "decodeEntryNoValue(de)",
          "new_text": "entryHasValue(de)",
          "old_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->key;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": "entryHasValue",
          "new_api": "entryIsKey",
          "old_text": "entryHasValue(de)",
          "new_text": "entryIsKey(de)",
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "    if (entryIsKey(de)) return (void*)de;",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "dictSize",
          "new_api": "entryIsNoValue",
          "old_text": "dictSize(d)",
          "new_text": "entryIsNoValue(de)",
          "old_line_content": "    return dictSize(d) * sizeof(dictEntry) +",
          "new_line_content": "    if (entryIsNoValue(de)) {",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "dictBuckets",
          "new_api": "decodeEntryNoValue",
          "old_text": "dictBuckets(d)",
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "        dictBuckets(d) * sizeof(dictEntry*);",
          "new_line_content": "        dictEntryNoValue *entry = decodeEntryNoValue(de);",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "dictIsRehashing",
          "new_api": "dictPauseRehashing",
          "old_text": "dictIsRehashing(iter->d)",
          "new_text": "dictPauseRehashing(iter->d)",
          "old_line_content": "                if (dictIsRehashing(iter->d) && iter->table == 0) {",
          "new_line_content": "                    dictPauseRehashing(iter->d);",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "dictSize",
          "new_api": "zfree",
          "old_text": "dictSize(d)",
          "new_text": "zfree(iter)",
          "old_line_content": "    if (dictSize(d) == 0) return NULL;",
          "new_line_content": "    zfree(iter);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": "dictSize",
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "new_text": "dictSize(d)",
          "old_line_content": "        unsigned long m = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "new_line_content": "    if (dictSize(d) == 0) return NULL;",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "randomULong",
          "new_api": "dictIsRehashing",
          "old_text": "randomULong()",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "            h = randomULong() & m;",
          "new_line_content": "    if (dictIsRehashing(d)) {",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "dictIsRehashing",
          "new_api": "dictSize",
          "old_text": "dictIsRehashing(d)",
          "new_text": "dictSize(d)",
          "old_line_content": "    tables = dictIsRehashing(d) ? 2 : 1;",
          "new_line_content": "    if (dictSize(d) < count) count = dictSize(d);",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "randomULong",
          "new_api": "_dictRehashStep",
          "old_text": "randomULong()",
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "    unsigned long i = randomULong() & maxsizemask;",
          "new_line_content": "            _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "entryIsNormal",
          "new_api": "entryIsKey",
          "old_text": "entryIsNormal(de)",
          "new_text": "entryIsKey(de)",
          "old_line_content": "            assert(entryIsNormal(de));",
          "new_line_content": "        if (entryIsKey(de)) {",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "dictDefragBucket",
          "new_api": "dictSize",
          "old_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "new_text": "dictSize(d)",
          "old_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "new_line_content": "    if (dictSize(d) == 0) return 0;",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "fn",
          "new_api": "dictIsRehashing",
          "old_text": "fn(privdata, de)",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "            fn(privdata, de);",
          "new_line_content": "    if (!dictIsRehashing(d)) {",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "rev",
          "new_api": "fn",
          "old_text": "rev(v)",
          "new_text": "fn(privdata, de)",
          "old_line_content": "        v = rev(v);",
          "new_line_content": "            fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "rev",
          "new_api": "dictDefragBucket",
          "old_text": "rev(v)",
          "new_text": "dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns)",
          "old_line_content": "            v = rev(v);",
          "new_line_content": "                dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns);",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "dictExpand",
          "new_api": "_dictNextExp",
          "old_text": "dictExpand(d, DICT_HT_INITIAL_SIZE)",
          "new_text": "_dictNextExp(d->ht_used[0] + 1)",
          "old_line_content": "    if (DICTHT_SIZE(d->ht_size_exp[0]) == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);",
          "new_line_content": "                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "dictTypeExpandAllowed",
          "new_api": "dictExpand",
          "old_text": "dictTypeExpandAllowed(d)",
          "new_text": "dictExpand(d, DICT_HT_INITIAL_SIZE)",
          "old_line_content": "        if (!dictTypeExpandAllowed(d))",
          "new_line_content": "    if (DICTHT_SIZE(d->ht_size_exp[0]) == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "__builtin_clzl",
          "new_api": "dictExpand",
          "old_text": "__builtin_clzl(size-1)",
          "new_text": "dictExpand(d, d->ht_used[0] + 1)",
          "old_line_content": "    return 8*sizeof(long) - __builtin_clzl(size-1);",
          "new_line_content": "        return dictExpand(d, d->ht_used[0] + 1);",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "dictGetKey",
          "new_api": "_dictRehashStep",
          "old_text": "dictGetKey(he)",
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "            void *he_key = dictGetKey(he);",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "dictIsRehashing",
          "new_api": "dictCompareKeys",
          "old_text": "dictIsRehashing(d)",
          "new_text": "dictCompareKeys(d, key, he_key)",
          "old_line_content": "    dictEntry **bucket = &d->ht_table[dictIsRehashing(d) ? 1 : 0][idx];",
          "new_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key)) {",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "_dictClear",
          "new_api": "dictIsRehashing",
          "old_text": "_dictClear(d,1,callback)",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    _dictClear(d,1,callback);",
          "new_line_content": "        if (!dictIsRehashing(d)) break;",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "dictHashKey",
          "new_api": "_dictClear",
          "old_text": "dictHashKey(d, key)",
          "new_text": "_dictClear(d,0,callback)",
          "old_line_content": "    return dictHashKey(d, key);",
          "new_line_content": "    _dictClear(d,0,callback);",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "DICTHT_SIZE",
          "new_api": "dictIsRehashing",
          "old_text": "DICTHT_SIZE(DICT_HT_INITIAL_EXP)",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        *to_size = DICTHT_SIZE(DICT_HT_INITIAL_EXP);",
          "new_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": "zfree",
          "new_api": "UNUSED",
          "old_text": "zfree(val)",
          "new_text": "UNUSED(d)",
          "old_line_content": "    zfree(val);",
          "new_line_content": "    UNUSED(d);",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "zmalloc",
          "new_api": "UNUSED",
          "old_text": "zmalloc(len+1)",
          "new_text": "UNUSED(d)",
          "old_line_content": "    s = zmalloc(len+1);",
          "new_line_content": "    UNUSED(d);",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "end_benchmark",
          "new_api": "strtol",
          "old_text": "end_benchmark(\"Inserting\")",
          "new_text": "strtol(argv[3],NULL,10)",
          "old_line_content": "    end_benchmark(\"Inserting\");",
          "new_line_content": "            count = strtol(argv[3],NULL,10);",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": "start_benchmark",
          "new_api": "stringFromLongLong",
          "old_text": "start_benchmark()",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "    start_benchmark();",
          "new_line_content": "        int retval = dictAdd(dict,stringFromLongLong(j),(void*)j);",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "dictFind",
          "new_api": "end_benchmark",
          "old_text": "dictFind(dict,key)",
          "new_text": "end_benchmark(\"Inserting\")",
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "    end_benchmark(\"Inserting\");",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "assert",
          "new_api": "dictSize",
          "old_text": "assert(de != NULL)",
          "new_text": "dictSize(dict)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "    assert((long)dictSize(dict) == count);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "end_benchmark",
          "new_api": "dictIsRehashing",
          "old_text": "end_benchmark(\"Linear access of existing elements\")",
          "new_text": "dictIsRehashing(dict)",
          "old_line_content": "    end_benchmark(\"Linear access of existing elements\");",
          "new_line_content": "    while (dictIsRehashing(dict)) {",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "stringFromLongLong",
          "new_api": "start_benchmark",
          "old_text": "stringFromLongLong(j)",
          "new_text": "start_benchmark()",
          "old_line_content": "        char *key = stringFromLongLong(j);",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "assert",
          "new_api": "stringFromLongLong",
          "old_text": "assert(de != NULL)",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "        char *key = stringFromLongLong(j);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "zfree",
          "new_api": "dictFind",
          "old_text": "zfree(key)",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "end_benchmark",
          "new_api": "zfree",
          "old_text": "end_benchmark(\"Linear access of existing elements (2nd round)\")",
          "new_text": "zfree(key)",
          "old_line_content": "    end_benchmark(\"Linear access of existing elements (2nd round)\");",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "start_benchmark",
          "new_api": "end_benchmark",
          "old_text": "start_benchmark()",
          "new_text": "end_benchmark(\"Linear access of existing elements\")",
          "old_line_content": "    start_benchmark();",
          "new_line_content": "    end_benchmark(\"Linear access of existing elements\");",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "rand",
          "new_api": "start_benchmark",
          "old_text": "rand()",
          "new_text": "start_benchmark()",
          "old_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "assert",
          "new_api": "stringFromLongLong",
          "old_text": "assert(de != NULL)",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "        char *key = stringFromLongLong(j);",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "zfree",
          "new_api": "dictFind",
          "old_text": "zfree(key)",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "end_benchmark",
          "new_api": "zfree",
          "old_text": "end_benchmark(\"Random access of existing elements\")",
          "new_text": "zfree(key)",
          "old_line_content": "    end_benchmark(\"Random access of existing elements\");",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "start_benchmark",
          "new_api": "end_benchmark",
          "old_text": "start_benchmark()",
          "new_text": "end_benchmark(\"Linear access of existing elements (2nd round)\")",
          "old_line_content": "    start_benchmark();",
          "new_line_content": "    end_benchmark(\"Linear access of existing elements (2nd round)\");",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "dictGetRandomKey",
          "new_api": "start_benchmark",
          "old_text": "dictGetRandomKey(dict)",
          "new_text": "start_benchmark()",
          "old_line_content": "        dictEntry *de = dictGetRandomKey(dict);",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "end_benchmark",
          "new_api": "dictFind",
          "old_text": "end_benchmark(\"Accessing random keys\")",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "    end_benchmark(\"Accessing random keys\");",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "start_benchmark",
          "new_api": "zfree",
          "old_text": "start_benchmark()",
          "new_text": "zfree(key)",
          "old_line_content": "    start_benchmark();",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": "rand",
          "new_api": "end_benchmark",
          "old_text": "rand()",
          "new_text": "end_benchmark(\"Random access of existing elements\")",
          "old_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "new_line_content": "    end_benchmark(\"Random access of existing elements\");",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "dictFind",
          "new_api": "start_benchmark",
          "old_text": "dictFind(dict,key)",
          "new_text": "start_benchmark()",
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "zfree",
          "new_api": "dictGetRandomKey",
          "old_text": "zfree(key)",
          "new_text": "dictGetRandomKey(dict)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        dictEntry *de = dictGetRandomKey(dict);",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "dictDelete",
          "new_api": "rand",
          "old_text": "dictDelete(dict,key)",
          "new_text": "rand()",
          "old_line_content": "        int retval = dictDelete(dict,key);",
          "new_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "dictAdd",
          "new_api": "assert",
          "old_text": "dictAdd(dict,key,(void*)j)",
          "new_text": "assert(de == NULL)",
          "old_line_content": "        retval = dictAdd(dict,key,(void*)j);",
          "new_line_content": "        assert(de == NULL);",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "assert",
          "new_api": "zfree",
          "old_text": "assert(retval == DICT_OK)",
          "new_text": "zfree(key)",
          "old_line_content": "        assert(retval == DICT_OK);",
          "new_line_content": "        zfree(key);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1026,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": " *",
          "new_line_content": "        he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(DICT_HT_INITIAL_EXP)",
          "old_line_content": "void dictFreeStats(dictStats *stats) {",
          "new_line_content": "        *to_size = DICTHT_SIZE(DICT_HT_INITIAL_EXP);",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(stats->clvector)",
          "old_line_content": "        into->clvector[i] += from->clvector[i];",
          "new_line_content": "    zfree(stats->clvector);",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": " * some effort to do both things.",
          "new_line_content": "    listele = random() % listlen;",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(stats)",
          "old_line_content": "    }",
          "new_line_content": "    zfree(stats);",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": " * Returned pointers to hash table entries are stored into 'des' that",
          "new_line_content": "    while(listele--) he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "zcalloc",
          "old_text": null,
          "new_text": "zcalloc(sizeof(unsigned long) * DICT_STATS_VECTLEN)",
          "old_line_content": "        if (d->ht_table[htidx][i] == NULL) {",
          "new_line_content": "    unsigned long *clvector = zcalloc(sizeof(unsigned long) * DICT_STATS_VECTLEN);",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "dictSetVal",
          "old_text": null,
          "new_text": "dictSetVal(d, entry, val)",
          "old_line_content": "    if (d->type->valDestructor)",
          "new_line_content": "        dictSetVal(d, entry, val);",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": null,
          "new_api": "zcalloc",
          "old_text": null,
          "new_text": "zcalloc(sizeof(dictStats))",
          "old_line_content": "            clvector[0]++;",
          "new_line_content": "    dictStats *stats = zcalloc(sizeof(dictStats));",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "old_line_content": "        stats->buckets++;",
          "new_line_content": "    stats->htSize = DICTHT_SIZE(d->ht_size_exp[htidx]);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "old_line_content": "        while(he) {",
          "new_line_content": "    for (unsigned long i = 0; i < DICTHT_SIZE(d->ht_size_exp[htidx]); i++) {",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "void dictCombineStats(dictStats *from, dictStats *into) {",
          "new_line_content": "    *from_size = DICTHT_SIZE(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(existing)",
          "old_line_content": " * existing key is returned.)",
          "new_line_content": "    void *oldval = dictGetVal(existing);",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": null,
          "new_api": "dictSetVal",
          "old_text": null,
          "new_text": "dictSetVal(d, existing, val)",
          "old_line_content": " *",
          "new_line_content": "    dictSetVal(d, existing, val);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "valDestructor",
          "old_text": null,
          "new_text": "d->type->valDestructor(d, oldval)",
          "old_line_content": "dictEntry *dictAddOrFind(dict *d, void *key) {",
          "new_line_content": "        d->type->valDestructor(d, oldval);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "old_line_content": "    into->buckets += from->buckets;",
          "new_line_content": "    *to_size = DICTHT_SIZE(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "size_t dictGetStatsMsg(char *buf, size_t bufsize, dictStats *stats, int full) {",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    /* Pick a random point inside the larger table. */",
          "new_line_content": "        if (dictIsRehashing(d))",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "dictAddRaw",
          "old_text": null,
          "new_text": "dictAddRaw(d,key,&existing)",
          "old_line_content": "",
          "new_line_content": "    entry = dictAddRaw(d,key,&existing);",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "             * visited in ht[0] during the rehashing, there are no populated",
          "new_line_content": "    tables = dictIsRehashing(d) ? 2 : 1;",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "old_line_content": "             * buckets, so we can skip ht[0] for indexes between 0 and idx-1. */",
          "new_line_content": "    maxsizemask = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "old_line_content": "            if (tables == 2 && j == 0 && i < (unsigned long) d->rehashidx) {",
          "new_line_content": "    if (tables > 1 && maxsizemask < DICTHT_SIZE_MASK(d->ht_size_exp[1]))",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "old_line_content": "                /* Moreover, if we are currently out of range in the second",
          "new_line_content": "        maxsizemask = DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf,bufsize,\n            \"Hash table %d stats (%s):\\n\"\n            \"No stats available for empty dictionaries\\n\",\n            stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\")",
          "old_line_content": "                  stats->htSize, stats->htUsed);",
          "new_line_content": "        return snprintf(buf,bufsize,",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "                 * (this happens when going from big to small table). */",
          "new_line_content": "    unsigned long i = randomULong() & maxsizemask;",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf + l, bufsize - l,\n                  \"Hash table %d stats (%s):\\n\"\n                  \" table size: %lu\\n\"\n                  \" number of elements: %lu\\n\",\n                  stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\",\n                  stats->htSize, stats->htUsed)",
          "old_line_content": "                      \" avg chain length (computed): %.02f\\n\"",
          "new_line_content": "    l += snprintf(buf + l, bufsize - l,",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "                /* Unlink the element from the list */",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "dictHashKey",
          "old_text": null,
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "                if (prevHe)",
          "new_line_content": "    h = dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf + l, bufsize - l,\n                      \" different slots: %lu\\n\"\n                      \" max chain length: %lu\\n\"\n                      \" avg chain length (counted): %.02f\\n\"\n                      \" avg chain length (computed): %.02f\\n\"\n                      \" Chain length distribution:\\n\",\n                      stats->buckets, stats->maxChainLen,\n                      (float) stats->totalChainLen / stats->buckets, (float) stats->htUsed / stats->buckets)",
          "old_line_content": "            if (l >= bufsize) break;",
          "new_line_content": "        l += snprintf(buf + l, bufsize - l,",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "old_line_content": "                emptylen++;",
          "new_line_content": "                if (i >= DICTHT_SIZE(d->ht_size_exp[1]))",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(he)",
          "old_line_content": "                return he;",
          "new_line_content": "            void *he_key = dictGetKey(he);",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "dictCompareKeys",
          "old_text": null,
          "new_text": "dictCompareKeys(d, key, he_key)",
          "old_line_content": "            }",
          "new_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key)) {",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "        }",
          "new_line_content": "                    dictSetNext(prevHe, dictGetNext(he));",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[j])",
          "old_line_content": "            } else {",
          "new_line_content": "            if (i >= DICTHT_SIZE(d->ht_size_exp[j])) continue; /* Out of range for this table. */",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "    }",
          "new_line_content": "                    d->ht_table[table][idx] = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "dictFreeUnlinkedEntry",
          "old_text": null,
          "new_text": "dictFreeUnlinkedEntry(d, he)",
          "old_line_content": "}",
          "new_line_content": "                    dictFreeUnlinkedEntry(d, he);",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf + l, bufsize - l,\n                          \"   %ld: %ld (%.02f%%)\\n\",\n                          i, stats->clvector[i], ((float) stats->clvector[i] / stats->htSize) * 100)",
          "old_line_content": "",
          "new_line_content": "            l += snprintf(buf + l, bufsize - l,",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "                     * See https://en.wikipedia.org/wiki/Reservoir_sampling. */",
          "new_line_content": "                    i = randomULong() & maxsizemask;",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "}",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "/* Remove an element from the table, but without actually releasing",
          "new_line_content": "        if (!dictIsRehashing(d)) break;",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(buf)",
          "old_line_content": "    buf += l;",
          "new_line_content": "    return strlen(buf);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "dictGenericDelete",
          "old_text": null,
          "new_text": "dictGenericDelete(ht,key,0)",
          "old_line_content": " * Without this function the pattern would require two lookups:",
          "new_line_content": "    return dictGenericDelete(ht,key,0) ? DICT_OK : DICT_ERR;",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": null,
          "new_api": "dictGetStatsHt",
          "old_text": null,
          "new_text": "dictGetStatsHt(d, 0, full)",
          "old_line_content": "    orig_buf[orig_bufsize-1] = '\\0';",
          "new_line_content": "    dictStats *mainHtStats = dictGetStatsHt(d, 0, full);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "    }",
          "new_line_content": "                        unsigned long r = randomULong() % (stored + 1);",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "dictGetStatsMsg",
          "old_text": null,
          "new_text": "dictGetStatsMsg(buf, bufsize, mainHtStats, full)",
          "old_line_content": "}",
          "new_line_content": "    l = dictGetStatsMsg(buf, bufsize, mainHtStats, full);",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "dictFreeStats",
          "old_text": null,
          "new_text": "dictFreeStats(mainHtStats)",
          "old_line_content": "",
          "new_line_content": "    dictFreeStats(mainHtStats);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "}",
          "new_line_content": "                    he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "#ifdef REDIS_TEST",
          "new_line_content": "    if (dictIsRehashing(d) && bufsize > 0) {",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "dictGetStatsHt",
          "old_text": null,
          "new_text": "dictGetStatsHt(d, 1, full)",
          "old_line_content": "#include \"testhelp.h\"",
          "new_line_content": "        dictStats *rehashHtStats = dictGetStatsHt(d, 1, full);",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "dictGetStatsMsg",
          "old_text": null,
          "new_text": "dictGetStatsMsg(buf, bufsize, rehashHtStats, full)",
          "old_line_content": "",
          "new_line_content": "        dictGetStatsMsg(buf, bufsize, rehashHtStats, full);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "dictFreeStats",
          "old_text": null,
          "new_text": "dictFreeStats(rehashHtStats)",
          "old_line_content": "#define UNUSED(V) ((void) V)",
          "new_line_content": "        dictFreeStats(rehashHtStats);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen((char*)key)",
          "old_line_content": "}",
          "new_line_content": "    return dictGenHashFunction((unsigned char*)key, strlen((char*)key));",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": null,
          "new_api": "dictGenericDelete",
          "old_text": null,
          "new_text": "dictGenericDelete(d,key,1)",
          "old_line_content": "",
          "new_line_content": "    return dictGenericDelete(d,key,1);",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "            if (newkey) entry->key = newkey;",
          "new_line_content": "        void *newkey = defragkey ? defragkey(dictGetKey(de)) : NULL;",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(de)",
          "old_line_content": "        } else {",
          "new_line_content": "        void *newval = defragval ? defragval(dictGetVal(de)) : NULL;",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen((char*)key1)",
          "old_line_content": "",
          "new_line_content": "    l1 = strlen((char*)key1);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "dictFreeKey",
          "old_text": null,
          "new_text": "dictFreeKey(d, he)",
          "old_line_content": "        dictEntry *he, *nextHe;",
          "new_line_content": "    dictFreeKey(d, he);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "dictFreeVal",
          "old_text": null,
          "new_text": "dictFreeVal(d, he)",
          "old_line_content": "",
          "new_line_content": "    dictFreeVal(d, he);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(*bucketref)",
          "old_line_content": "            if (newde) de = newde;",
          "new_line_content": "            assert(entryIsKey(*bucketref));",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "entryIsNoValue",
          "old_text": null,
          "new_text": "entryIsNoValue(de)",
          "old_line_content": "            if (newkey) de->key = newkey;",
          "new_line_content": "        } else if (entryIsNoValue(de)) {",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "            if (newval) de->v.val = newval;",
          "new_line_content": "            dictEntryNoValue *entry = decodeEntryNoValue(de), *newentry;",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "defragalloc",
          "old_text": null,
          "new_text": "defragalloc(entry)",
          "old_line_content": "        }",
          "new_line_content": "            if ((newentry = defragalloc(entry))) {",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "encodeMaskedPtr",
          "old_text": null,
          "new_text": "encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE)",
          "old_line_content": "        if (newde) {",
          "new_line_content": "                newde = encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE);",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen((char*)key2)",
          "old_line_content": "char *stringFromLongLong(long long value) {",
          "new_line_content": "    l2 = strlen((char*)key2);",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(key1, key2, l1)",
          "old_line_content": "    int len;",
          "new_line_content": "    return memcmp(key1, key2, l1) == 0;",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(val)",
          "old_line_content": "    s[len] = '\\0';",
          "new_line_content": "    zfree(val);",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "old_line_content": "            d->ht_used[htidx]--;",
          "new_line_content": "    for (i = 0; i < DICTHT_SIZE(d->ht_size_exp[htidx]) && d->ht_used[htidx] > 0; i++) {",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "entryIsNormal",
          "old_text": null,
          "new_text": "entryIsNormal(de)",
          "old_line_content": "}",
          "new_line_content": "            assert(entryIsNormal(de));",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "defragalloc",
          "old_text": null,
          "new_text": "defragalloc(de)",
          "old_line_content": "",
          "new_line_content": "            newde = defragalloc(de);",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "callback(d)",
          "old_line_content": "    }",
          "new_line_content": "        if (callback && (i & 65535) == 0) callback(d);",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf,sizeof(buf),\"%lld\",value)",
          "old_line_content": "    compareCallback,",
          "new_line_content": "    len = snprintf(buf,sizeof(buf),\"%lld\",value);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "zmalloc",
          "old_text": null,
          "new_text": "zmalloc(len+1)",
          "old_line_content": "    freeCallback,",
          "new_line_content": "    s = zmalloc(len+1);",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "dictFreeKey",
          "old_text": null,
          "new_text": "dictFreeKey(d, he)",
          "old_line_content": "    return DICT_OK; /* never fails */",
          "new_line_content": "            dictFreeKey(d, he);",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "dictFreeVal",
          "old_text": null,
          "new_text": "dictFreeVal(d, he)",
          "old_line_content": "}",
          "new_line_content": "            dictFreeVal(d, he);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "decodeMaskedPtr",
          "old_text": null,
          "new_text": "decodeMaskedPtr(he)",
          "old_line_content": "",
          "new_line_content": "            if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "dictGetNextRef",
          "old_text": null,
          "new_text": "dictGetNextRef(*bucketref)",
          "old_line_content": " * this function instead what we do is to consider a \"linear\" range of the table",
          "new_line_content": "        bucketref = dictGetNextRef(*bucketref);",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s, buf, len)",
          "old_line_content": "    NULL,",
          "new_line_content": "    memcpy(s, buf, len);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "_dictReset",
          "old_text": null,
          "new_text": "_dictReset(d, htidx)",
          "old_line_content": "",
          "new_line_content": "    _dictReset(d, htidx);",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(d)",
          "old_line_content": "    for (table = 0; table <= 1; table++) {",
          "new_line_content": "    zfree(d);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "dictGetSomeKeys",
          "old_text": null,
          "new_text": "dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES)",
          "old_line_content": " * http://graphics.stanford.edu/~seander/bithacks.html#ReverseParallel */",
          "new_line_content": "    unsigned int count = dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "dictGetRandomKey",
          "old_text": null,
          "new_text": "dictGetRandomKey(d)",
          "old_line_content": "        mask ^= (mask << s);",
          "new_line_content": "    if (count == 0) return dictGetRandomKey(d);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "rand",
          "old_text": null,
          "new_text": "rand()",
          "old_line_content": "        v = ((v >> s) & mask) | ((v << s) & ~mask);",
          "new_line_content": "    unsigned int idx = rand() % count;",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "dictCreate",
          "old_text": null,
          "new_text": "dictCreate(&BenchmarkDictType)",
          "old_line_content": "        count = 5000;",
          "new_line_content": "    dict *dict = dictCreate(&BenchmarkDictType);",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "        }",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "    return NULL;",
          "new_line_content": "        idx = h & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(he)",
          "old_line_content": "    dictEntry *he;",
          "new_line_content": "            void *he_key = dictGetKey(he);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "dictCompareKeys",
          "old_text": null,
          "new_text": "dictCompareKeys(d, key, he_key)",
          "old_line_content": "",
          "new_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key))",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    }",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "",
          "new_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(retval == DICT_OK)",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "        assert(retval == DICT_OK);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(d,key)",
          "old_line_content": " *",
          "new_line_content": "    he = dictFind(d,key);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "dictGetVal",
          "old_text": null,
          "new_text": "dictGetVal(he)",
          "old_line_content": " * dictEntry *de = dictTwoPhaseUnlinkFind(db->dict,key->ptr,&plink, &table);",
          "new_line_content": "    return he ? dictGetVal(he) : NULL;",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": null,
          "new_api": "dictRehashMilliseconds",
          "old_text": null,
          "new_text": "dictRehashMilliseconds(dict,100)",
          "old_line_content": "",
          "new_line_content": "        dictRehashMilliseconds(dict,100);",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(de != NULL)",
          "old_line_content": "    }",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(de != NULL)",
          "old_line_content": "    }",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": "                *table_index = table;",
          "new_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "                *plink = ref;",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": null,
          "new_api": "rand",
          "old_text": null,
          "new_text": "rand()",
          "old_line_content": "    }",
          "new_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(de != NULL)",
          "old_line_content": "",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(*ref)",
          "old_line_content": "    return NULL;",
          "new_line_content": "            void *de_key = dictGetKey(*ref);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "dictCompareKeys",
          "old_text": null,
          "new_text": "dictCompareKeys(d, key, de_key)",
          "old_line_content": "}",
          "new_line_content": "            if (key == de_key || dictCompareKeys(d, key, de_key)) {",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(de != NULL)",
          "old_line_content": "    }",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "dictPauseRehashing",
          "old_text": null,
          "new_text": "dictPauseRehashing(d)",
          "old_line_content": "    if (he == NULL) return;",
          "new_line_content": "                dictPauseRehashing(d);",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Accessing random keys\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Accessing random keys\");",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "dictFind",
          "old_text": null,
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        key[0] += 17; /* Change first number to letter. */",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    return 0;",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "    else",
          "new_line_content": "    *plink = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "dictFreeKey",
          "old_text": null,
          "new_text": "dictFreeKey(d, he)",
          "old_line_content": "        de->key = key;",
          "new_line_content": "    dictFreeKey(d, he);",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": null,
          "new_api": "dictFreeVal",
          "old_text": null,
          "new_text": "dictFreeVal(d, he)",
          "old_line_content": "}",
          "new_line_content": "    dictFreeVal(d, he);",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "decodeMaskedPtr",
          "old_text": null,
          "new_text": "decodeMaskedPtr(he)",
          "old_line_content": "",
          "new_line_content": "    if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "dictResumeRehashing",
          "old_text": null,
          "new_text": "dictResumeRehashing(d)",
          "old_line_content": "void dictSetVal(dict *d, dictEntry *de, void *val) {",
          "new_line_content": "    dictResumeRehashing(d);",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "stringFromLongLong",
          "old_text": null,
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "#endif",
          "new_line_content": "        char *key = stringFromLongLong(j);",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": null,
          "new_api": "dictDelete",
          "old_text": null,
          "new_text": "dictDelete(dict,key)",
          "old_line_content": "",
          "new_line_content": "        int retval = dictDelete(dict,key);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(retval == DICT_OK)",
          "old_line_content": "",
          "new_line_content": "        assert(retval == DICT_OK);",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(!d->type->no_value)",
          "old_line_content": "",
          "new_line_content": "    assert(!d->type->no_value);",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": null,
          "new_api": "dictAdd",
          "old_text": null,
          "new_text": "dictAdd(dict,key,(void*)j)",
          "old_line_content": "",
          "new_line_content": "        retval = dictAdd(dict,key,(void*)j);",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(retval == DICT_OK)",
          "old_line_content": "",
          "new_line_content": "        assert(retval == DICT_OK);",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Removing and adding\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Removing and adding\");",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": null,
          "new_api": "dictRelease",
          "old_text": null,
          "new_text": "dictRelease(dict)",
          "old_line_content": "",
          "new_line_content": "    dictRelease(dict);",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    de->v.u64 = val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "valDup",
          "old_text": null,
          "new_text": "d->type->valDup(d, val)",
          "old_line_content": "}",
          "new_line_content": "    de->v.val = d->type->valDup ? d->type->valDup(d, val) : val;",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    de->v.d = val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.s64 += val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.u64 += val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": null,
          "new_api": "dictScanDefrag",
          "old_text": null,
          "new_text": "dictScanDefrag(d, v, fn, NULL, privdata)",
          "old_line_content": "unsigned long dictScanDefrag(dict *d,",
          "new_line_content": "    return dictScanDefrag(d, v, fn, NULL, privdata);",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.d += val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": null,
          "new_api": "rehashingCompleted",
          "old_text": null,
          "new_text": "d->type->rehashingCompleted(d)",
          "old_line_content": "",
          "new_line_content": "        if (d->type->rehashingCompleted) d->type->rehashingCompleted(d);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(d->ht_table[0])",
          "old_line_content": "/* return DICT_ERR if expand was not performed */",
          "new_line_content": "        zfree(d->ht_table[0]);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "_dictReset",
          "old_text": null,
          "new_text": "_dictReset(d, 1)",
          "old_line_content": "",
          "new_line_content": "        _dictReset(d, 1);",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "_dictExpand",
          "old_text": null,
          "new_text": "_dictExpand(d, size, NULL)",
          "old_line_content": " * keys to move from the old to the new hash table, otherwise 0 is returned.",
          "new_line_content": "    return _dictExpand(d, size, NULL);",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "    return de->v.s64;",
          "new_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->key;",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.u64;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": null,
          "new_api": "_dictExpand",
          "old_text": null,
          "new_text": "_dictExpand(d, size, &malloc_failed)",
          "old_line_content": " * will visit at max N*10 empty buckets in total, otherwise the amount of",
          "new_line_content": "    _dictExpand(d, size, &malloc_failed);",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": null,
          "new_api": "dictPauseRehashing",
          "old_text": null,
          "new_text": "dictPauseRehashing(d)",
          "old_line_content": "        while (de) {",
          "new_line_content": "    dictPauseRehashing(d);",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "old_line_content": "        }",
          "new_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.d;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": null,
          "new_api": "dictDefragBucket",
          "old_text": null,
          "new_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "old_line_content": "        v |= ~m0;",
          "new_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(de)",
          "old_line_content": "        v++;",
          "new_line_content": "            next = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": " * 'next' field. */",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "        dictEntry *de, *nextde;",
          "new_line_content": "    unsigned long s0 = DICTHT_SIZE(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "old_line_content": "",
          "new_line_content": "    unsigned long s1 = DICTHT_SIZE(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        /* Note that rehashidx can't overflow as we are sure there are more",
          "new_line_content": "    if (dict_can_resize == DICT_RESIZE_FORBID || !dictIsRehashing(d)) return 0;",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "            htidx1 = 0;",
          "new_line_content": "        v = rev(v);",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "",
          "new_line_content": "        v = rev(v);",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(de)",
          "old_line_content": "}",
          "new_line_content": "    if (entryIsKey(de)) return NULL; /* there's no next */",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "",
          "new_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->next;",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx1])",
          "old_line_content": "        }",
          "new_line_content": "        if (DICTHT_SIZE(d->ht_size_exp[htidx0]) > DICTHT_SIZE(d->ht_size_exp[htidx1])) {",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(de)",
          "old_line_content": "        de->next = next;",
          "new_line_content": "    if (entryIsKey(de)) return NULL;",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "    }",
          "new_line_content": "    if (entryIsNoValue(de)) return &decodeEntryNoValue(de)->next;",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "old_line_content": "            de = next;",
          "new_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx1])",
          "old_line_content": "        }",
          "new_line_content": "        m1 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx1]);",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(de)",
          "old_line_content": "            if (d->type->no_value) {",
          "new_line_content": "            nextde = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(de)",
          "old_line_content": "                if (d->type->keys_are_odd && !d->ht_table[1][h]) {",
          "new_line_content": "            void *key = dictGetKey(de);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(de)",
          "old_line_content": "size_t dictMemUsage(const dict *d) {",
          "new_line_content": "    assert(!entryIsKey(de));",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "dictDefragBucket",
          "old_text": null,
          "new_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "old_line_content": "        do {",
          "new_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "old_line_content": "                     * if it's an allocated entry.",
          "new_line_content": "                h = dictHashKey(d, key) & DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(de)",
          "old_line_content": "            }",
          "new_line_content": "            next = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "            de = d->ht_table[htidx1][v & m1];",
          "new_line_content": "            fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "old_line_content": "                     * we need the key back. */",
          "new_line_content": "                h = d->rehashidx & DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": " * the fingerprint again when the iterator is released.",
          "new_line_content": "    return dictSize(d) * sizeof(dictEntry) +",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "dictBuckets",
          "old_text": null,
          "new_text": "dictBuckets(d)",
          "old_line_content": " * If the two fingerprints are different it means that the user of the iterator",
          "new_line_content": "        dictBuckets(d) * sizeof(dictEntry*);",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(de)",
          "old_line_content": "            /* Continue while bits covered by mask difference is non-zero */",
          "new_line_content": "                next = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "        } while (v & (m0 ^ m1));",
          "new_line_content": "                fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(key)",
          "old_line_content": "                }",
          "new_line_content": "                    assert(entryIsKey(key));",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "decodeMaskedPtr",
          "old_text": null,
          "new_text": "decodeMaskedPtr(de)",
          "old_line_content": "            } else {",
          "new_line_content": "                    if (!entryIsKey(de)) zfree(decodeMaskedPtr(de));",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(de)",
          "old_line_content": "            }",
          "new_line_content": "                } else if (entryIsKey(de)) {",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "}",
          "new_line_content": "            v = rev(v);",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": null,
          "new_api": "createEntryNoValue",
          "old_text": null,
          "new_text": "createEntryNoValue(key, d->ht_table[1][h])",
          "old_line_content": "            d->ht_used[0]--;",
          "new_line_content": "                    de = createEntryNoValue(key, d->ht_table[1][h]);",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "/* ------------------------- private functions ------------------------------ */",
          "new_line_content": "            v = rev(v);",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": null,
          "new_api": "entryIsNoValue",
          "old_text": null,
          "new_text": "entryIsNoValue(de)",
          "old_line_content": "        d->ht_table[0][d->rehashidx] = NULL;",
          "new_line_content": "                    assert(entryIsNoValue(de));",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "dictSetNext",
          "old_text": null,
          "new_text": "dictSetNext(de, d->ht_table[1][h])",
          "old_line_content": "        d->rehashidx++;",
          "new_line_content": "                    dictSetNext(de, d->ht_table[1][h]);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "dictResumeRehashing",
          "old_text": null,
          "new_text": "dictResumeRehashing(d)",
          "old_line_content": "    if (d->type->expandAllowed == NULL) return 1;",
          "new_line_content": "    dictResumeRehashing(d);",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "dictSetNext",
          "old_text": null,
          "new_text": "dictSetNext(de, d->ht_table[1][h])",
          "old_line_content": "    /* Check if we already rehashed the whole table... */",
          "new_line_content": "                dictSetNext(de, d->ht_table[1][h]);",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "expandAllowed",
          "old_text": null,
          "new_text": "d->type->expandAllowed(\n                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),\n                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]))",
          "old_line_content": "    /* If the hash table is empty expand it to the initial size. */",
          "new_line_content": "    return d->type->expandAllowed(",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "rehashingCompleted",
          "old_text": null,
          "new_text": "d->type->rehashingCompleted(d)",
          "old_line_content": "    /* More to rehash... */",
          "new_line_content": "        if (d->type->rehashingCompleted) d->type->rehashingCompleted(d);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(d->ht_table[0])",
          "old_line_content": "    return 1;",
          "new_line_content": "        zfree(d->ht_table[0]);",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "",
          "new_line_content": "                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]));",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "_dictReset",
          "old_text": null,
          "new_text": "_dictReset(d, 1)",
          "old_line_content": "",
          "new_line_content": "        _dictReset(d, 1);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        (dict_can_resize != DICT_RESIZE_FORBID &&",
          "new_line_content": "    if (dictIsRehashing(d)) return DICT_OK;",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "/* Our hash table capability is a power of two */",
          "new_line_content": "         d->ht_used[0] >= DICTHT_SIZE(d->ht_size_exp[0])) ||",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "{",
          "new_line_content": "         d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]) > dict_force_resize_ratio))",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "dictTypeExpandAllowed",
          "old_text": null,
          "new_text": "dictTypeExpandAllowed(d)",
          "old_line_content": "    if (size >= LONG_MAX) return (8*sizeof(long)-1);",
          "new_line_content": "        if (!dictTypeExpandAllowed(d))",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "dictInitIterator",
          "old_text": null,
          "new_text": "dictInitIterator(iter, d)",
          "old_line_content": "    }",
          "new_line_content": "    dictInitIterator(iter, d);",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "elapsedStart",
          "old_text": null,
          "new_text": "elapsedStart(&timer)",
          "old_line_content": " * not been paused for our hash table. When we have iterators in the",
          "new_line_content": "    elapsedStart(&timer);",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "dictRehash",
          "old_text": null,
          "new_text": "dictRehash(d,100)",
          "old_line_content": " *",
          "new_line_content": "    while(dictRehash(d,100)) {",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": null,
          "new_api": "dictResumeRehashing",
          "old_text": null,
          "new_text": "dictResumeRehashing(iter->d)",
          "old_line_content": "}",
          "new_line_content": "            dictResumeRehashing(iter->d);",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": null,
          "new_api": "elapsedMs",
          "old_text": null,
          "new_text": "elapsedMs(timer)",
          "old_line_content": " * dictionary so that the hash table automatically migrates from H1 to H2",
          "new_line_content": "        if (elapsedMs(timer) >= ms) break;",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "dictFingerprint",
          "old_text": null,
          "new_text": "dictFingerprint(iter->d)",
          "old_line_content": "dictIterator *dictGetSafeIterator(dict *d) {",
          "new_line_content": "            assert(iter->fingerprint == dictFingerprint(iter->d));",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "__builtin_clzl",
          "old_text": null,
          "new_text": "__builtin_clzl(size-1)",
          "old_line_content": "    if (existing) *existing = NULL;",
          "new_line_content": "    return 8*sizeof(long) - __builtin_clzl(size-1);",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": null,
          "new_api": "zmalloc",
          "old_text": null,
          "new_text": "zmalloc(sizeof(*iter))",
          "old_line_content": "",
          "new_line_content": "    dictIterator *iter = zmalloc(sizeof(*iter));",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": null,
          "new_api": "dictInitIterator",
          "old_text": null,
          "new_text": "dictInitIterator(iter, d)",
          "old_line_content": "dictEntry *dictNext(dictIterator *iter)",
          "new_line_content": "    dictInitIterator(iter, d);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "dictHashKey",
          "old_text": null,
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "        he = d->ht_table[table][idx];",
          "new_line_content": "    uint64_t hash = dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "dictGetIterator",
          "old_text": null,
          "new_text": "dictGetIterator(d)",
          "old_line_content": "                if (iter->safe)",
          "new_line_content": "    dictIterator *i = dictGetIterator(d);",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "dictRehash",
          "old_text": null,
          "new_text": "dictRehash(d,1)",
          "old_line_content": "}",
          "new_line_content": "    if (d->pauserehash == 0) dictRehash(d,1);",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": null,
          "new_api": "_dictExpandIfNeeded",
          "old_text": null,
          "new_text": "_dictExpandIfNeeded(d)",
          "old_line_content": "                return NULL;",
          "new_line_content": "    if (_dictExpandIfNeeded(d) == DICT_ERR)",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "        }",
          "new_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "dictAddRaw",
          "old_text": null,
          "new_text": "dictAddRaw(d,key,NULL)",
          "old_line_content": " *",
          "new_line_content": "    dictEntry *entry = dictAddRaw(d,key,NULL);",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "dictSetVal",
          "old_text": null,
          "new_text": "dictSetVal(d, entry, val)",
          "old_line_content": " *",
          "new_line_content": "    if (!d->type->no_value) dictSetVal(d, entry, val);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(he)",
          "old_line_content": "     * always returned in the context of the second (new) hash table. */",
          "new_line_content": "            void *he_key = dictGetKey(he);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "dictFingerprint",
          "old_text": null,
          "new_text": "dictFingerprint(iter->d)",
          "old_line_content": "                    iter->index = 0;",
          "new_line_content": "                    iter->fingerprint = dictFingerprint(iter->d);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "void dictEmpty(dict *d, void(callback)(dict*)) {",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(iter->d)",
          "old_line_content": "                }",
          "new_line_content": "                if (dictIsRehashing(iter->d)) {",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(iter->d->ht_size_exp[iter->table])",
          "old_line_content": "        }",
          "new_line_content": "            if (iter->index >= (long) DICTHT_SIZE(iter->d->ht_size_exp[iter->table])) {",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(iter->d)",
          "old_line_content": "        if (iter->entry) {",
          "new_line_content": "                if (dictIsRehashing(iter->d) && iter->table == 0) {",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "void dictSetResizeEnabled(dictResizeEnable enable) {",
          "new_line_content": "    dictEntry **bucket = &d->ht_table[dictIsRehashing(d) ? 1 : 0][idx];",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "_dictClear",
          "old_text": null,
          "new_text": "_dictClear(d,1,callback)",
          "old_line_content": "}",
          "new_line_content": "    _dictClear(d,1,callback);",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": null,
          "new_api": "dictFindPositionForInsert",
          "old_text": null,
          "new_text": "dictFindPositionForInsert(d, key, existing)",
          "old_line_content": " * splitting dictAddRaw in two parts. Normally, dictAddRaw or dictAdd should be",
          "new_line_content": "    void *position = dictFindPositionForInsert(d, key, existing);",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(iter->entry)",
          "old_line_content": "}",
          "new_line_content": "            iter->nextEntry = dictGetNext(iter->entry);",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": null,
          "new_api": "dictHashKey",
          "old_text": null,
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "",
          "new_line_content": "    return dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": null,
          "new_api": "keyDup",
          "old_text": null,
          "new_text": "d->type->keyDup(d, key)",
          "old_line_content": "    dictEntry *entry;",
          "new_line_content": "    if (d->type->keyDup) key = d->type->keyDup(d, key);",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": null,
          "new_api": "dictInsertAtPosition",
          "old_text": null,
          "new_text": "dictInsertAtPosition(d, key, position)",
          "old_line_content": "     * Assert that the provided bucket is the right table. */",
          "new_line_content": "    return dictInsertAtPosition(d, key, position);",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "dictResetIterator",
          "old_text": null,
          "new_text": "dictResetIterator(iter)",
          "old_line_content": "",
          "new_line_content": "    dictResetIterator(iter);",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": "    }",
          "new_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "}",
          "new_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "             * back. */",
          "new_line_content": "    int htidx = dictIsRehashing(d) ? 1 : 0;",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(bucket >= &d->ht_table[htidx][0] &&\n           bucket <= &d->ht_table[htidx][DICTHT_SIZE_MASK(d->ht_size_exp[htidx])])",
          "old_line_content": "            entry = key;",
          "new_line_content": "    assert(bucket >= &d->ht_table[htidx][0] &&",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(he)",
          "old_line_content": "void dictRehashingInfo(dict *d, unsigned long long *from_size, unsigned long long *to_size) {",
          "new_line_content": "            if (oldptr == dictGetKey(he))",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "        do {",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "    if (d->ht_size_exp[0] == -1) {",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "            he = d->ht_table[0][h];",
          "new_line_content": "        unsigned long s0 = DICTHT_SIZE(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "dictBuckets",
          "old_text": null,
          "new_text": "dictBuckets(d)",
          "old_line_content": "    /* Now we found a non empty bucket, but it is a linked",
          "new_line_content": "            h = d->rehashidx + (randomULong() % (dictBuckets(d) - d->rehashidx));",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "old_line_content": "    listlen = 0;",
          "new_line_content": "        unsigned long m = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "createEntryNoValue",
          "old_text": null,
          "new_text": "createEntryNoValue(key, *bucket)",
          "old_line_content": "    }",
          "new_line_content": "            entry = createEntryNoValue(key, *bucket);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "    while(he) {",
          "new_line_content": "            h = randomULong() & m;",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "#define DICT_STATS_VECTLEN 50",
          "new_line_content": "        *from_size = DICTHT_SIZE(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "",
          "new_line_content": "    assert(dictIsRehashing(d));",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "zmalloc",
          "old_text": null,
          "new_text": "zmalloc(sizeof(*entry))",
          "old_line_content": "/* Add or Overwrite:",
          "new_line_content": "        entry = zmalloc(sizeof(*entry));",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "entryIsNormal",
          "old_text": null,
          "new_text": "entryIsNormal(entry)",
          "old_line_content": " * Add an element, discarding the old value if the key already exists.",
          "new_line_content": "        assert(entryIsNormal(entry)); /* Check alignment of allocation */",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 519,
          "old_api": "dictAddRaw",
          "new_api": null,
          "old_text": "dictAddRaw(d,key,&existing)",
          "new_text": null,
          "old_line_content": "    entry = dictAddRaw(d,key,&existing);",
          "new_line_content": "/* Add or Overwrite:",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "zcalloc",
          "new_api": null,
          "old_text": "zcalloc(sizeof(unsigned long) * DICT_STATS_VECTLEN)",
          "new_text": null,
          "old_line_content": "    unsigned long *clvector = zcalloc(sizeof(unsigned long) * DICT_STATS_VECTLEN);",
          "new_line_content": "    into->buckets += from->buckets;",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "dictSetVal",
          "new_api": null,
          "old_text": "dictSetVal(d, entry, val)",
          "new_text": null,
          "old_line_content": "        dictSetVal(d, entry, val);",
          "new_line_content": " * Return 1 if the key was added from scratch, 0 if there was already an",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "zcalloc",
          "new_api": null,
          "old_text": "zcalloc(sizeof(dictStats))",
          "new_text": null,
          "old_line_content": "    dictStats *stats = zcalloc(sizeof(dictStats));",
          "new_line_content": "    into->maxChainLen = (from->maxChainLen > into->maxChainLen) ? from->maxChainLen : into->maxChainLen;",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "new_text": null,
          "old_line_content": "    stats->htSize = DICTHT_SIZE(d->ht_size_exp[htidx]);",
          "new_line_content": "    into->htUsed += from->htUsed;",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "new_text": null,
          "old_line_content": "    for (unsigned long i = 0; i < DICTHT_SIZE(d->ht_size_exp[htidx]); i++) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "dictSetVal",
          "new_api": null,
          "old_text": "dictSetVal(d, existing, val)",
          "new_text": null,
          "old_line_content": "    dictSetVal(d, existing, val);",
          "new_line_content": "    if (entry) {",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "valDestructor",
          "new_api": null,
          "old_text": "d->type->valDestructor(d, oldval)",
          "new_text": null,
          "old_line_content": "        d->type->valDestructor(d, oldval);",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) < count) count = dictSize(d);",
          "new_line_content": " * Note that this function is not suitable when you need a good distribution",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (dictIsRehashing(d))",
          "new_line_content": "unsigned int dictGetSomeKeys(dict *d, dictEntry **des, unsigned int count) {",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "dictAddRaw",
          "new_api": null,
          "old_text": "dictAddRaw(d,key,&existing)",
          "new_text": null,
          "old_line_content": "    entry = dictAddRaw(d,key,&existing);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "            _dictRehashStep(d);",
          "new_line_content": "    unsigned long j; /* internal hash table id, 0 or 1. */",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "    maxsizemask = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "new_line_content": "    maxsteps = count*10;",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "    if (tables > 1 && maxsizemask < DICTHT_SIZE_MASK(d->ht_size_exp[1]))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "        maxsizemask = DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "new_line_content": "    /* Try to do a rehashing work proportional to 'count'. */",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf,bufsize,\n            \"Hash table %d stats (%s):\\n\"\n            \"No stats available for empty dictionaries\\n\",\n            stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\")",
          "new_text": null,
          "old_line_content": "        return snprintf(buf,bufsize,",
          "new_line_content": "        clvector[(chainlen < DICT_STATS_VECTLEN) ? chainlen : (DICT_STATS_VECTLEN-1)]++;",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return NULL;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf + l, bufsize - l,\n                  \"Hash table %d stats (%s):\\n\"\n                  \" table size: %lu\\n\"\n                  \" number of elements: %lu\\n\",\n                  stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\",\n                  stats->htSize, stats->htUsed)",
          "new_text": null,
          "old_line_content": "    l += snprintf(buf + l, bufsize - l,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": "/* Search and remove an element. This is a helper function for",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "dictHashKey",
          "new_api": null,
          "old_text": "dictHashKey(d, key)",
          "new_text": null,
          "old_line_content": "    h = dictHashKey(d, key);",
          "new_line_content": " * dictDelete() and dictUnlink(), please check the top comment",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = h & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": "    uint64_t h, idx;",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf + l, bufsize - l,\n                      \" different slots: %lu\\n\"\n                      \" max chain length: %lu\\n\"\n                      \" avg chain length (counted): %.02f\\n\"\n                      \" avg chain length (computed): %.02f\\n\"\n                      \" Chain length distribution:\\n\",\n                      stats->buckets, stats->maxChainLen,\n                      (float) stats->totalChainLen / stats->buckets, (float) stats->htUsed / stats->buckets)",
          "new_text": null,
          "old_line_content": "        l += snprintf(buf + l, bufsize - l,",
          "new_line_content": "            \"No stats available for empty dictionaries\\n\",",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "                if (i >= DICTHT_SIZE(d->ht_size_exp[1]))",
          "new_line_content": "    unsigned long emptylen = 0; /* Continuous empty entries so far. */",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "dictCompareKeys",
          "new_api": null,
          "old_text": "dictCompareKeys(d, key, he_key)",
          "new_text": null,
          "old_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "                    dictSetNext(prevHe, dictGetNext(he));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[j])",
          "new_text": null,
          "old_line_content": "            if (i >= DICTHT_SIZE(d->ht_size_exp[j])) continue; /* Out of range for this table. */",
          "new_line_content": "             * buckets, so we can skip ht[0] for indexes between 0 and idx-1. */",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "dictFreeUnlinkedEntry",
          "new_api": null,
          "old_text": "dictFreeUnlinkedEntry(d, he)",
          "new_text": null,
          "old_line_content": "                    dictFreeUnlinkedEntry(d, he);",
          "new_line_content": "        he = d->ht_table[table][idx];",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf + l, bufsize - l,\n                          \"   %ld: %ld (%.02f%%)\\n\",\n                          i, stats->clvector[i], ((float) stats->clvector[i] / stats->htSize) * 100)",
          "new_text": null,
          "old_line_content": "            l += snprintf(buf + l, bufsize - l,",
          "new_line_content": "                      \" different slots: %lu\\n\"",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "randomULong",
          "new_api": null,
          "old_text": "randomULong()",
          "new_text": null,
          "old_line_content": "                    i = randomULong() & maxsizemask;",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "                if (prevHe)",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) break;",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(buf)",
          "new_text": null,
          "old_line_content": "    return strlen(buf);",
          "new_line_content": "            if (stats->clvector[i] == 0) continue;",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "dictGenericDelete",
          "new_api": null,
          "old_text": "dictGenericDelete(ht,key,0)",
          "new_text": null,
          "old_line_content": "    return dictGenericDelete(ht,key,0) ? DICT_OK : DICT_ERR;",
          "new_line_content": "            prevHe = he;",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "dictGetStatsHt",
          "new_api": null,
          "old_text": "dictGetStatsHt(d, 0, full)",
          "new_text": null,
          "old_line_content": "    dictStats *mainHtStats = dictGetStatsHt(d, 0, full);",
          "new_line_content": "    /* Make sure there is a NULL term at the end. */",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "randomULong",
          "new_api": null,
          "old_text": "randomULong()",
          "new_text": null,
          "old_line_content": "                        unsigned long r = randomULong() % (stored + 1);",
          "new_line_content": "                emptylen = 0;",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "dictGetStatsMsg",
          "new_api": null,
          "old_text": "dictGetStatsMsg(buf, bufsize, mainHtStats, full)",
          "new_text": null,
          "old_line_content": "    l = dictGetStatsMsg(buf, bufsize, mainHtStats, full);",
          "new_line_content": "    buf[bufsize-1] = '\\0';",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "dictFreeStats",
          "new_api": null,
          "old_text": "dictFreeStats(mainHtStats)",
          "new_text": null,
          "old_line_content": "    dictFreeStats(mainHtStats);",
          "new_line_content": "    /* Unlike snprintf(), return the number of characters actually written. */",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "                    he = dictGetNext(he);",
          "new_line_content": "                     * we utilize the Reservoir Sampling algorithm to optimize the sampling process.",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d) && bufsize > 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "dictGetStatsHt",
          "new_api": null,
          "old_text": "dictGetStatsHt(d, 1, full)",
          "new_text": null,
          "old_line_content": "        dictStats *rehashHtStats = dictGetStatsHt(d, 1, full);",
          "new_line_content": "void dictGetStats(char *buf, size_t bufsize, dict *d, int full) {",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "dictGetStatsMsg",
          "new_api": null,
          "old_text": "dictGetStatsMsg(buf, bufsize, rehashHtStats, full)",
          "new_text": null,
          "old_line_content": "        dictGetStatsMsg(buf, bufsize, rehashHtStats, full);",
          "new_line_content": "    size_t l;",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "dictFreeStats",
          "new_api": null,
          "old_text": "dictFreeStats(rehashHtStats)",
          "new_text": null,
          "old_line_content": "        dictFreeStats(rehashHtStats);",
          "new_line_content": "    char *orig_buf = buf;",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(d)",
          "new_text": null,
          "old_line_content": "    UNUSED(d);",
          "new_line_content": "#ifdef REDIS_TEST",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen((char*)key)",
          "new_text": null,
          "old_line_content": "    return dictGenHashFunction((unsigned char*)key, strlen((char*)key));",
          "new_line_content": "    orig_buf[orig_bufsize-1] = '\\0';",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "dictGenericDelete",
          "new_api": null,
          "old_text": "dictGenericDelete(d,key,1)",
          "new_text": null,
          "old_line_content": "    return dictGenericDelete(d,key,1);",
          "new_line_content": " *  // Do something with entry",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(de)",
          "new_text": null,
          "old_line_content": "        void *newkey = defragkey ? defragkey(dictGetKey(de)) : NULL;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "dictGetVal",
          "new_api": null,
          "old_text": "dictGetVal(de)",
          "new_text": null,
          "old_line_content": "        void *newval = defragval ? defragval(dictGetVal(de)) : NULL;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "        if (entryIsKey(de)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "dictFreeKey",
          "new_api": null,
          "old_text": "dictFreeKey(d, he)",
          "new_text": null,
          "old_line_content": "    dictFreeKey(d, he);",
          "new_line_content": " * // Do something with entry",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "dictFreeVal",
          "new_api": null,
          "old_text": "dictFreeVal(d, he)",
          "new_text": null,
          "old_line_content": "    dictFreeVal(d, he);",
          "new_line_content": " * dictFreeUnlinkedEntry(entry); // <- This does not need to lookup again.",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "decodeMaskedPtr",
          "new_api": null,
          "old_text": "decodeMaskedPtr(he)",
          "new_text": null,
          "old_line_content": "    if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(*bucketref)",
          "new_text": null,
          "old_line_content": "            assert(entryIsKey(*bucketref));",
          "new_line_content": " * provided allocation functions in order to defrag them. */",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "entryIsNoValue",
          "new_api": null,
          "old_text": "entryIsNoValue(de)",
          "new_text": null,
          "old_line_content": "        } else if (entryIsNoValue(de)) {",
          "new_line_content": "static void dictDefragBucket(dictEntry **bucketref, dictDefragFunctions *defragfns) {",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "decodeEntryNoValue",
          "new_api": null,
          "old_text": "decodeEntryNoValue(de)",
          "new_text": null,
          "old_line_content": "            dictEntryNoValue *entry = decodeEntryNoValue(de), *newentry;",
          "new_line_content": "    dictDefragAllocFunction *defragalloc = defragfns->defragAlloc;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "defragalloc",
          "new_api": null,
          "old_text": "defragalloc(entry)",
          "new_text": null,
          "old_line_content": "            if ((newentry = defragalloc(entry))) {",
          "new_line_content": "    dictDefragAllocFunction *defragkey = defragfns->defragKey;",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "encodeMaskedPtr",
          "new_api": null,
          "old_text": "encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE)",
          "new_text": null,
          "old_line_content": "                newde = encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE);",
          "new_line_content": "    dictDefragAllocFunction *defragval = defragfns->defragVal;",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen((char*)key1)",
          "new_text": null,
          "old_line_content": "    l1 = strlen((char*)key1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen((char*)key2)",
          "new_text": null,
          "old_line_content": "    l2 = strlen((char*)key2);",
          "new_line_content": "#define UNUSED(V) ((void) V)",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "new_text": null,
          "old_line_content": "    for (i = 0; i < DICTHT_SIZE(d->ht_size_exp[htidx]) && d->ht_used[htidx] > 0; i++) {",
          "new_line_content": "    if (he == NULL) return;",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "defragalloc",
          "new_api": null,
          "old_text": "defragalloc(de)",
          "new_text": null,
          "old_line_content": "            newde = defragalloc(de);",
          "new_line_content": "            if (newkey) *bucketref = newkey;",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(key1, key2, l1)",
          "new_text": null,
          "old_line_content": "    return memcmp(key1, key2, l1) == 0;",
          "new_line_content": "uint64_t hashCallback(const void *key) {",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(d)",
          "new_text": null,
          "old_line_content": "    UNUSED(d);",
          "new_line_content": "int compareCallback(dict *d, const void *key1, const void *key2) {",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf,sizeof(buf),\"%lld\",value)",
          "new_text": null,
          "old_line_content": "    len = snprintf(buf,sizeof(buf),\"%lld\",value);",
          "new_line_content": "void freeCallback(dict *d, void *val) {",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            nextHe = dictGetNext(he);",
          "new_line_content": "int _dictClear(dict *d, int htidx, void(callback)(dict*)) {",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "dictFreeKey",
          "new_api": null,
          "old_text": "dictFreeKey(d, he)",
          "new_text": null,
          "old_line_content": "            dictFreeKey(d, he);",
          "new_line_content": "    unsigned long i;",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "dictFreeVal",
          "new_api": null,
          "old_text": "dictFreeVal(d, he)",
          "new_text": null,
          "old_line_content": "            dictFreeVal(d, he);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "decodeMaskedPtr",
          "new_api": null,
          "old_text": "decodeMaskedPtr(he)",
          "new_text": null,
          "old_line_content": "            if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "new_line_content": "    /* Free all the elements */",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "dictGetNextRef",
          "new_api": null,
          "old_text": "dictGetNextRef(*bucketref)",
          "new_text": null,
          "old_line_content": "        bucketref = dictGetNextRef(*bucketref);",
          "new_line_content": "            if (newkey) entry->key = newkey;",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s, buf, len)",
          "new_text": null,
          "old_line_content": "    memcpy(s, buf, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(d->ht_table[htidx])",
          "new_text": null,
          "old_line_content": "    zfree(d->ht_table[htidx]);",
          "new_line_content": "        if ((he = d->ht_table[htidx][i]) == NULL) continue;",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "_dictClear",
          "new_api": null,
          "old_text": "_dictClear(d,0,NULL)",
          "new_text": null,
          "old_line_content": "    _dictClear(d,0,NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "_dictClear",
          "new_api": null,
          "old_text": "_dictClear(d,1,NULL)",
          "new_text": null,
          "old_line_content": "    _dictClear(d,1,NULL);",
          "new_line_content": "    /* Free the table and the allocated cache structure */",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "dictGetSomeKeys",
          "new_api": null,
          "old_text": "dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES)",
          "new_text": null,
          "old_line_content": "    unsigned int count = dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES);",
          "new_line_content": " * This function improves the distribution because the dictGetRandomKey()",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "dictGetRandomKey",
          "new_api": null,
          "old_text": "dictGetRandomKey(d)",
          "new_text": null,
          "old_line_content": "    if (count == 0) return dictGetRandomKey(d);",
          "new_line_content": " * that may be constituted of N buckets with chains of different lengths",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "rand",
          "new_api": null,
          "old_text": "rand()",
          "new_text": null,
          "old_line_content": "    unsigned int idx = rand() % count;",
          "new_line_content": " * appearing one after the other. Then we report a random element in the range.",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "dictCreate",
          "new_api": null,
          "old_text": "dictCreate(&BenchmarkDictType)",
          "new_text": null,
          "old_line_content": "    dict *dict = dictCreate(&BenchmarkDictType);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = h & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(argv[3],NULL,10)",
          "new_text": null,
          "old_line_content": "            count = strtol(argv[3],NULL,10);",
          "new_line_content": "int dictTest(int argc, char **argv, int flags) {",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(he)",
          "new_text": null,
          "old_line_content": "            void *he_key = dictGetKey(he);",
          "new_line_content": "    dictEntry *he;",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "dictCompareKeys",
          "new_api": null,
          "old_text": "dictCompareKeys(d, key, he_key)",
          "new_text": null,
          "old_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key))",
          "new_line_content": "    uint64_t h, idx, table;",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        int retval = dictAdd(dict,stringFromLongLong(j),(void*)j);",
          "new_line_content": "        if (accurate) {",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(retval == DICT_OK)",
          "new_text": null,
          "old_line_content": "        assert(retval == DICT_OK);",
          "new_line_content": "            count = 5000000;",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(dict)",
          "new_text": null,
          "old_line_content": "    assert((long)dictSize(dict) == count);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(d,key)",
          "new_text": null,
          "old_line_content": "    he = dictFind(d,key);",
          "new_line_content": "                return he;",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(dict)",
          "new_text": null,
          "old_line_content": "    while (dictIsRehashing(dict)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": "dictRehashMilliseconds",
          "new_api": null,
          "old_text": "dictRehashMilliseconds(dict,100)",
          "new_text": null,
          "old_line_content": "        dictRehashMilliseconds(dict,100);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(j);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(key)",
          "new_text": null,
          "old_line_content": "        zfree(key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(dict,key)",
          "new_text": null,
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "new_line_content": " * dictEntry *de = dictTwoPhaseUnlinkFind(db->dict,key->ptr,&plink, &table);",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": " * // Do something, but we can't modify the dict",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "dictHashKey",
          "new_api": null,
          "old_text": "dictHashKey(d, key)",
          "new_text": null,
          "old_line_content": "    h = dictHashKey(d, key);",
          "new_line_content": " * dictTwoPhaseUnlinkFree(db->dict,de,plink,table); // We don't need to lookup again",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(dict,key)",
          "new_text": null,
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = h & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": " * dictFind followed by dictDelete. i.e. the first API is a find, and it gives some info",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(*ref)",
          "new_text": null,
          "old_line_content": "            void *de_key = dictGetKey(*ref);",
          "new_line_content": "    uint64_t h, idx, table;",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "dictCompareKeys",
          "new_api": null,
          "old_text": "dictCompareKeys(d, key, de_key)",
          "new_text": null,
          "old_line_content": "            if (key == de_key || dictCompareKeys(d, key, de_key)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(de != NULL)",
          "new_text": null,
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "new_line_content": "        dictEntry **ref = &d->ht_table[table][idx];",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(de == NULL)",
          "new_text": null,
          "old_line_content": "        assert(de == NULL);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Accessing missing\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Accessing missing\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "    *plink = dictGetNext(he);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(j);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "dictFreeVal",
          "new_api": null,
          "old_text": "dictFreeVal(d, he)",
          "new_text": null,
          "old_line_content": "    dictFreeVal(d, he);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(retval == DICT_OK)",
          "new_text": null,
          "old_line_content": "        assert(retval == DICT_OK);",
          "new_line_content": "        key[0] = 'X';",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "dictResumeRehashing",
          "new_api": null,
          "old_text": "dictResumeRehashing(d)",
          "new_text": null,
          "old_line_content": "    dictResumeRehashing(d);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!d->type->no_value)",
          "new_text": null,
          "old_line_content": "    assert(!d->type->no_value);",
          "new_line_content": "void dictTwoPhaseUnlinkFree(dict *d, dictEntry *he, dictEntry **plink, int table_index) {",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "dictRelease",
          "new_api": null,
          "old_text": "dictRelease(dict)",
          "new_text": null,
          "old_line_content": "    dictRelease(dict);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "keyDup",
          "new_api": null,
          "old_text": "d->type->keyDup(d, key)",
          "new_text": null,
          "old_line_content": "        de->key = d->type->keyDup(d, key);",
          "new_line_content": "    d->ht_used[table_index]--;",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "valDup",
          "new_api": null,
          "old_text": "d->type->valDup(d, val)",
          "new_text": null,
          "old_line_content": "    de->v.val = d->type->valDup ? d->type->valDup(d, val) : val;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetVal(dict *d, dictEntry *de, void *val) {",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetSignedIntegerVal(dictEntry *de, int64_t val) {",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "dictScanDefrag",
          "new_api": null,
          "old_text": "dictScanDefrag(d, v, fn, NULL, privdata)",
          "new_text": null,
          "old_line_content": "    return dictScanDefrag(d, v, fn, NULL, privdata);",
          "new_line_content": " * 2) The iterator must return multiple elements per call, as it needs to always",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetUnsignedIntegerVal(dictEntry *de, uint64_t val) {",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetDoubleVal(dictEntry *de, double val) {",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "int64_t dictIncrSignedIntegerVal(dictEntry *de, int64_t val) {",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsKey(de)) return (void*)de;",
          "new_line_content": "uint64_t dictIncrUnsignedIntegerVal(dictEntry *de, uint64_t val) {",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "_dictExpand",
          "new_api": null,
          "old_text": "_dictExpand(d, size, NULL)",
          "new_text": null,
          "old_line_content": "    return _dictExpand(d, size, NULL);",
          "new_line_content": "        d->ht_used[0] = new_ht_used;",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return 0;",
          "new_line_content": " * valid. */",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "dictPauseRehashing",
          "new_api": null,
          "old_text": "dictPauseRehashing(d)",
          "new_text": null,
          "old_line_content": "    dictPauseRehashing(d);",
          "new_line_content": "                             dictScanFunction *fn,",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": "_dictExpand",
          "new_api": null,
          "old_text": "_dictExpand(d, size, &malloc_failed)",
          "new_text": null,
          "old_line_content": "    _dictExpand(d, size, &malloc_failed);",
          "new_line_content": "    return DICT_OK;",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (!dictIsRehashing(d)) {",
          "new_line_content": "                             void *privdata)",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "new_text": null,
          "old_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "new_line_content": "    int htidx0, htidx1;",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void *dictGetVal(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "            next = dictGetNext(de);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "int64_t dictGetSignedIntegerVal(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "    unsigned long s0 = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "/* Performs N steps of incremental rehashing. Returns 1 if there are still",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "    unsigned long s1 = DICTHT_SIZE(d->ht_size_exp[1]);",
          "new_line_content": " * keys to move from the old to the new hash table, otherwise 0 is returned.",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dict_can_resize == DICT_RESIZE_FORBID || !dictIsRehashing(d)) return 0;",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "        v = rev(v);",
          "new_line_content": "        while (de) {",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsKey(de)) return NULL; /* there's no next */",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "decodeEntryNoValue",
          "new_api": null,
          "old_text": "decodeEntryNoValue(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->next;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "        assert(DICTHT_SIZE(d->ht_size_exp[0]) > (unsigned long)d->rehashidx);",
          "new_line_content": "        ((s1 > s0 && s1 / s0 < dict_force_resize_ratio) ||",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx1])",
          "new_text": null,
          "old_line_content": "        if (DICTHT_SIZE(d->ht_size_exp[htidx0]) > DICTHT_SIZE(d->ht_size_exp[htidx1])) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsKey(de)) return NULL;",
          "new_line_content": "/* Returns the 'next' field of the entry or NULL if the entry doesn't have a",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "decodeEntryNoValue",
          "new_api": null,
          "old_text": "decodeEntryNoValue(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsNoValue(de)) return &decodeEntryNoValue(de)->next;",
          "new_line_content": " * 'next' field. */",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "new_text": null,
          "old_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx1])",
          "new_text": null,
          "old_line_content": "        m1 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx1]);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "            nextde = dictGetNext(de);",
          "new_line_content": "         * elements because ht[0].used != 0 */",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    assert(!entryIsKey(de));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "entryIsNoValue",
          "new_api": null,
          "old_text": "entryIsNoValue(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsNoValue(de)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "decodeEntryNoValue",
          "new_api": null,
          "old_text": "decodeEntryNoValue(de)",
          "new_text": null,
          "old_line_content": "        dictEntryNoValue *entry = decodeEntryNoValue(de);",
          "new_line_content": "/* Returns a pointer to the 'next' field in the entry or NULL if the entry",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "                h = dictHashKey(d, key) & DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "new_line_content": "            if (--empty_visits == 0) return 1;",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "dictDefragBucket",
          "new_api": null,
          "old_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "new_text": null,
          "old_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "new_line_content": "        /* Make sure t0 is the smaller and t1 is the bigger table */",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "            next = dictGetNext(de);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "fn",
          "new_api": null,
          "old_text": "fn(privdata, de)",
          "new_text": null,
          "old_line_content": "            fn(privdata, de);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "                h = d->rehashidx & DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "new_line_content": "            uint64_t h;",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "dictDefragBucket",
          "new_api": null,
          "old_text": "dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns)",
          "new_text": null,
          "old_line_content": "                dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns);",
          "new_line_content": "        while (de) {",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "                next = dictGetNext(de);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "fn",
          "new_api": null,
          "old_text": "fn(privdata, de)",
          "new_text": null,
          "old_line_content": "                fn(privdata, de);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(key)",
          "new_text": null,
          "old_line_content": "                    assert(entryIsKey(key));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "decodeMaskedPtr",
          "new_api": null,
          "old_text": "decodeMaskedPtr(de)",
          "new_text": null,
          "old_line_content": "                    if (!entryIsKey(de)) zfree(decodeMaskedPtr(de));",
          "new_line_content": "            if (d->type->no_value) {",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "                } else if (entryIsKey(de)) {",
          "new_line_content": "                    /* Destination bucket is empty and we can store the key",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "createEntryNoValue",
          "new_api": null,
          "old_text": "createEntryNoValue(key, d->ht_table[1][h])",
          "new_text": null,
          "old_line_content": "                    de = createEntryNoValue(key, d->ht_table[1][h]);",
          "new_line_content": "                     * if it's an allocated entry.",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "            v = rev(v);",
          "new_line_content": "            de = d->ht_table[htidx1][v & m1];",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "entryIsNoValue",
          "new_api": null,
          "old_text": "entryIsNoValue(de)",
          "new_text": null,
          "old_line_content": "                    assert(entryIsNoValue(de));",
          "new_line_content": "                     * bit when stored as a dict entry and clear it again when",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "dictSetNext",
          "new_api": null,
          "old_text": "dictSetNext(de, d->ht_table[1][h])",
          "new_text": null,
          "old_line_content": "                    dictSetNext(de, d->ht_table[1][h]);",
          "new_line_content": "                     * we need the key back. */",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "dictResumeRehashing",
          "new_api": null,
          "old_text": "dictResumeRehashing(d)",
          "new_text": null,
          "old_line_content": "    dictResumeRehashing(d);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "dictSetNext",
          "new_api": null,
          "old_text": "dictSetNext(de, d->ht_table[1][h])",
          "new_text": null,
          "old_line_content": "                dictSetNext(de, d->ht_table[1][h]);",
          "new_line_content": "                    de = key;",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "expandAllowed",
          "new_api": null,
          "old_text": "d->type->expandAllowed(\n                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),\n                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]))",
          "new_text": null,
          "old_line_content": "    return d->type->expandAllowed(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "_dictNextExp",
          "new_api": null,
          "old_text": "_dictNextExp(d->ht_used[0] + 1)",
          "new_text": null,
          "old_line_content": "                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),",
          "new_line_content": "    return v;",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "rehashingCompleted",
          "new_api": null,
          "old_text": "d->type->rehashingCompleted(d)",
          "new_text": null,
          "old_line_content": "        if (d->type->rehashingCompleted) d->type->rehashingCompleted(d);",
          "new_line_content": "            d->ht_table[1][h] = de;",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(d->ht_table[0])",
          "new_text": null,
          "old_line_content": "        zfree(d->ht_table[0]);",
          "new_line_content": "            d->ht_used[0]--;",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "_dictReset",
          "new_api": null,
          "old_text": "_dictReset(d, 1)",
          "new_text": null,
          "old_line_content": "        _dictReset(d, 1);",
          "new_line_content": "        d->rehashidx++;",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) return DICT_OK;",
          "new_line_content": "static int dictTypeExpandAllowed(dict *d) {",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "         d->ht_used[0] >= DICTHT_SIZE(d->ht_size_exp[0])) ||",
          "new_line_content": "    /* Incremental rehashing already in progress. Return. */",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "gettimeofday",
          "new_api": null,
          "old_text": "gettimeofday(&tv,NULL)",
          "new_text": null,
          "old_line_content": "    gettimeofday(&tv,NULL);",
          "new_line_content": "        d->rehashidx = -1;",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "         d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]) > dict_force_resize_ratio))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "dictExpand",
          "new_api": null,
          "old_text": "dictExpand(d, d->ht_used[0] + 1)",
          "new_text": null,
          "old_line_content": "        return dictExpand(d, d->ht_used[0] + 1);",
          "new_line_content": "    /* If we reached the 1:1 ratio, and we are allowed to resize the hash",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "dictInitIterator",
          "new_api": null,
          "old_text": "dictInitIterator(iter, d)",
          "new_text": null,
          "old_line_content": "    dictInitIterator(iter, d);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "dictRehash",
          "new_api": null,
          "old_text": "dictRehash(d,100)",
          "new_text": null,
          "old_line_content": "    while(dictRehash(d,100)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "dictResumeRehashing",
          "new_api": null,
          "old_text": "dictResumeRehashing(iter->d)",
          "new_text": null,
          "old_line_content": "            dictResumeRehashing(iter->d);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "elapsedMs",
          "new_api": null,
          "old_text": "elapsedMs(timer)",
          "new_text": null,
          "old_line_content": "        if (elapsedMs(timer) >= ms) break;",
          "new_line_content": " * than 0, and is smaller than 1 in most cases. The exact upper bound ",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "dictFingerprint",
          "new_api": null,
          "old_text": "dictFingerprint(iter->d)",
          "new_text": null,
          "old_line_content": "            assert(iter->fingerprint == dictFingerprint(iter->d));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(sizeof(*iter))",
          "new_text": null,
          "old_line_content": "    dictIterator *iter = zmalloc(sizeof(*iter));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "dictInitIterator",
          "new_api": null,
          "old_text": "dictInitIterator(iter, d)",
          "new_text": null,
          "old_line_content": "    dictInitIterator(iter, d);",
          "new_line_content": "    if (!(iter->index == -1 && iter->table == 0)) {",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "dictHashKey",
          "new_api": null,
          "old_text": "dictHashKey(d, key)",
          "new_text": null,
          "old_line_content": "    uint64_t hash = dictHashKey(d, key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "dictGetIterator",
          "new_api": null,
          "old_text": "dictGetIterator(d)",
          "new_text": null,
          "old_line_content": "    dictIterator *i = dictGetIterator(d);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "dictRehash",
          "new_api": null,
          "old_text": "dictRehash(d,1)",
          "new_text": null,
          "old_line_content": "    if (d->pauserehash == 0) dictRehash(d,1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "_dictExpandIfNeeded",
          "new_api": null,
          "old_text": "_dictExpandIfNeeded(d)",
          "new_text": null,
          "old_line_content": "    if (_dictExpandIfNeeded(d) == DICT_ERR)",
          "new_line_content": " * be inserted using dictInsertAtPosition if the key does not already exist in",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": "void *dictFindPositionForInsert(dict *d, const void *key, dictEntry **existing) {",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "dictAddRaw",
          "new_api": null,
          "old_text": "dictAddRaw(d,key,NULL)",
          "new_text": null,
          "old_line_content": "    dictEntry *entry = dictAddRaw(d,key,NULL);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "dictSetVal",
          "new_api": null,
          "old_text": "dictSetVal(d, entry, val)",
          "new_text": null,
          "old_line_content": "    if (!d->type->no_value) dictSetVal(d, entry, val);",
          "new_line_content": " * while it is actively used. */",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "dictPauseRehashing",
          "new_api": null,
          "old_text": "dictPauseRehashing(iter->d)",
          "new_text": null,
          "old_line_content": "                    dictPauseRehashing(iter->d);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "dictCompareKeys",
          "new_api": null,
          "old_text": "dictCompareKeys(d, key, he_key)",
          "new_text": null,
          "old_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "dictFingerprint",
          "new_api": null,
          "old_text": "dictFingerprint(iter->d)",
          "new_text": null,
          "old_line_content": "                    iter->fingerprint = dictFingerprint(iter->d);",
          "new_line_content": "    return i;",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "    for (table = 0; table <= 1; table++) {",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(iter->d)",
          "new_text": null,
          "old_line_content": "                if (dictIsRehashing(iter->d)) {",
          "new_line_content": "dictEntry *dictNext(dictIterator *iter)",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) break;",
          "new_line_content": "        if (table == 0 && (long)idx < d->rehashidx) continue; ",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(iter->d->ht_size_exp[iter->table])",
          "new_text": null,
          "old_line_content": "            if (iter->index >= (long) DICTHT_SIZE(iter->d->ht_size_exp[iter->table])) {",
          "new_line_content": "                if (iter->safe)",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "_dictClear",
          "new_api": null,
          "old_text": "_dictClear(d,0,callback)",
          "new_text": null,
          "old_line_content": "    _dictClear(d,0,callback);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "dictFindPositionForInsert",
          "new_api": null,
          "old_text": "dictFindPositionForInsert(d, key, existing)",
          "new_text": null,
          "old_line_content": "    void *position = dictFindPositionForInsert(d, key, existing);",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(iter->entry)",
          "new_text": null,
          "old_line_content": "            iter->nextEntry = dictGetNext(iter->entry);",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "keyDup",
          "new_api": null,
          "old_text": "d->type->keyDup(d, key)",
          "new_text": null,
          "old_line_content": "    if (d->type->keyDup) key = d->type->keyDup(d, key);",
          "new_line_content": " * with the existing entry if existing is not NULL.",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": "dictInsertAtPosition",
          "new_api": null,
          "old_text": "dictInsertAtPosition(d, key, position)",
          "new_text": null,
          "old_line_content": "    return dictInsertAtPosition(d, key, position);",
          "new_line_content": " * If key was added, the hash entry is returned to be manipulated by the caller.",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "dictResetIterator",
          "new_api": null,
          "old_text": "dictResetIterator(iter)",
          "new_text": null,
          "old_line_content": "    dictResetIterator(iter);",
          "new_line_content": "            /* We need to save the 'next' here, the iterator user",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(iter)",
          "new_text": null,
          "old_line_content": "    zfree(iter);",
          "new_line_content": "             * may delete the entry we are returning. */",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": "/* Finds the dictEntry using pointer and pre-calculated hash.",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    int htidx = dictIsRehashing(d) ? 1 : 0;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(bucket >= &d->ht_table[htidx][0] &&\n           bucket <= &d->ht_table[htidx][DICTHT_SIZE_MASK(d->ht_size_exp[htidx])])",
          "new_text": null,
          "old_line_content": "    assert(bucket >= &d->ht_table[htidx][0] &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx])",
          "new_text": null,
          "old_line_content": "           bucket <= &d->ht_table[htidx][DICTHT_SIZE_MASK(d->ht_size_exp[htidx])]);",
          "new_line_content": "/* Adds a key in the dict's hashtable at the position returned by a preceding",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(he)",
          "new_text": null,
          "old_line_content": "            if (oldptr == dictGetKey(he))",
          "new_line_content": " * return value is a pointer to the dictEntry if found, or NULL if not found. */",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "        unsigned long s0 = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "/* Return a random entry from the hash table. Useful to",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "    dictEntry *he;",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "dictBuckets",
          "new_api": null,
          "old_text": "dictBuckets(d)",
          "new_text": null,
          "old_line_content": "            h = d->rehashidx + (randomULong() % (dictBuckets(d) - d->rehashidx));",
          "new_line_content": "    dictEntry *he, *orighe;",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "createEntryNoValue",
          "new_api": null,
          "old_text": "createEntryNoValue(key, *bucket)",
          "new_text": null,
          "old_line_content": "            entry = createEntryNoValue(key, *bucket);",
          "new_line_content": "            /* We can store the key directly in the destination bucket without the",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "        *from_size = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    assert(dictIsRehashing(d));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(sizeof(*entry))",
          "new_text": null,
          "old_line_content": "        entry = zmalloc(sizeof(*entry));",
          "new_line_content": "            entry = key;",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "    *from_size = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "/* Provides the old and new ht size for a given dictionary during rehashing. This method",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "    *to_size = DICTHT_SIZE(d->ht_size_exp[1]);",
          "new_line_content": " * should only be invoked during initialization/rehashing. */",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "        he = dictGetNext(he);",
          "new_line_content": "            he = d->ht_table[0][h];",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(stats->clvector)",
          "new_text": null,
          "old_line_content": "    zfree(stats->clvector);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(stats)",
          "new_text": null,
          "old_line_content": "    zfree(stats);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "    listele = random() % listlen;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "    while(listele--) he = dictGetNext(he);",
          "new_line_content": "     * list and we need to get a random element from the list.",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 68,
      "total_additions": 230,
      "total_deletions": 227,
      "total_api_changes": 525
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 525,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          276,
          277,
          280,
          282,
          284,
          285,
          286
        ]
      }
    },
    "api_calls_before": 375,
    "api_calls_after": 378,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 0,
      "total_diff_lines": 23
    }
  }
}