{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/423565f7849a955cba4cce1cd1162e86c36319a3",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/423565f7849a955cba4cce1cd1162e86c36319a3/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/423565f7849a955cba4cce1cd1162e86c36319a3/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/redis/modified_file/423565f7849a955cba4cce1cd1162e86c36319a3/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 724,
          "old_api": "dictCompareKeys",
          "new_api": "dictGetKey",
          "old_text": "dictCompareKeys(d, key, de_key)",
          "new_text": "dictGetKey(*ref)",
          "old_line_content": "            if (key == de_key || dictCompareKeys(d, key, de_key)) {",
          "new_line_content": "            void *de_key = dictGetKey(*ref);",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "dictFreeKey",
          "new_api": "dictGetNext",
          "old_text": "dictFreeKey(d, he)",
          "new_text": "dictGetNext(he)",
          "old_line_content": "    dictFreeKey(d, he);",
          "new_line_content": "    *plink = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "dictFreeVal",
          "new_api": "dictFreeKey",
          "old_text": "dictFreeVal(d, he)",
          "new_text": "dictFreeKey(d, he)",
          "old_line_content": "    dictFreeVal(d, he);",
          "new_line_content": "    dictFreeKey(d, he);",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "decodeMaskedPtr",
          "new_api": "dictFreeVal",
          "old_text": "decodeMaskedPtr(he)",
          "new_text": "dictFreeVal(d, he)",
          "old_line_content": "    if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "new_line_content": "    dictFreeVal(d, he);",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "dictResumeRehashing",
          "new_api": "decodeMaskedPtr",
          "old_text": "dictResumeRehashing(d)",
          "new_text": "decodeMaskedPtr(he)",
          "old_line_content": "    dictResumeRehashing(d);",
          "new_line_content": "    if (!entryIsKey(he)) zfree(decodeMaskedPtr(he));",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "valDup",
          "new_api": "entryHasValue",
          "old_text": "d->type->valDup(d, val)",
          "new_text": "entryHasValue(de)",
          "old_line_content": "    de->v.val = d->type->valDup ? d->type->valDup(d, val) : val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "decodeEntryNoValue",
          "new_api": "entryIsKey",
          "old_text": "decodeEntryNoValue(de)",
          "new_text": "entryIsKey(de)",
          "old_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->key;",
          "new_line_content": "    if (entryIsKey(de)) return (void*)de;",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "decodeEntryNoValue",
          "new_api": "entryIsKey",
          "old_text": "decodeEntryNoValue(de)",
          "new_text": "entryIsKey(de)",
          "old_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->next;",
          "new_line_content": "    if (entryIsKey(de)) return NULL; /* there's no next */",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "decodeEntryNoValue",
          "new_api": "entryIsKey",
          "old_text": "decodeEntryNoValue(de)",
          "new_text": "entryIsKey(de)",
          "old_line_content": "    if (entryIsNoValue(de)) return &decodeEntryNoValue(de)->next;",
          "new_line_content": "    if (entryIsKey(de)) return NULL;",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "entryIsNoValue",
          "new_api": "entryIsKey",
          "old_text": "entryIsNoValue(de)",
          "new_text": "entryIsKey(de)",
          "old_line_content": "    if (entryIsNoValue(de)) {",
          "new_line_content": "    assert(!entryIsKey(de));",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "decodeEntryNoValue",
          "new_api": "entryIsNoValue",
          "old_text": "decodeEntryNoValue(de)",
          "new_text": "entryIsNoValue(de)",
          "old_line_content": "        dictEntryNoValue *entry = decodeEntryNoValue(de);",
          "new_line_content": "    if (entryIsNoValue(de)) {",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "dictBuckets",
          "new_api": "dictSize",
          "old_text": "dictBuckets(d)",
          "new_text": "dictSize(d)",
          "old_line_content": "        dictBuckets(d) * sizeof(dictEntry*);",
          "new_line_content": "    return dictSize(d) * sizeof(dictEntry) +",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "dictInitIterator",
          "new_api": "zmalloc",
          "old_text": "dictInitIterator(iter, d)",
          "new_text": "zmalloc(sizeof(*iter))",
          "old_line_content": "    dictInitIterator(iter, d);",
          "new_line_content": "    dictIterator *iter = zmalloc(sizeof(*iter));",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "dictIsRehashing",
          "new_api": "DICTHT_SIZE",
          "old_text": "dictIsRehashing(iter->d)",
          "new_text": "DICTHT_SIZE(iter->d->ht_size_exp[iter->table])",
          "old_line_content": "                if (dictIsRehashing(iter->d) && iter->table == 0) {",
          "new_line_content": "            if (iter->index >= (long) DICTHT_SIZE(iter->d->ht_size_exp[iter->table])) {",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "zfree",
          "new_api": "dictResetIterator",
          "old_text": "zfree(iter)",
          "new_text": "dictResetIterator(iter)",
          "old_line_content": "    zfree(iter);",
          "new_line_content": "    dictResetIterator(iter);",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "_dictRehashStep",
          "new_api": "dictSize",
          "old_text": "_dictRehashStep(d)",
          "new_text": "dictSize(d)",
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": "    if (dictSize(d) == 0) return NULL;",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "dictIsRehashing",
          "new_api": "_dictRehashStep",
          "old_text": "dictIsRehashing(d)",
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "    if (dictIsRehashing(d)) {",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "DICTHT_SIZE",
          "new_api": "dictIsRehashing",
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        unsigned long s0 = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "    if (dictIsRehashing(d)) {",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "_dictRehashStep",
          "new_api": "dictIsRehashing",
          "old_text": "_dictRehashStep(d)",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "            _dictRehashStep(d);",
          "new_line_content": "        if (dictIsRehashing(d))",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": "dictIsRehashing",
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    maxsizemask = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "new_line_content": "    tables = dictIsRehashing(d) ? 2 : 1;",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "dictGetVal",
          "new_api": "dictGetKey",
          "old_text": "dictGetVal(de)",
          "new_text": "dictGetKey(de)",
          "old_line_content": "        void *newval = defragval ? defragval(dictGetVal(de)) : NULL;",
          "new_line_content": "        void *newkey = defragkey ? defragkey(dictGetKey(de)) : NULL;",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "entryIsKey",
          "new_api": "dictGetVal",
          "old_text": "entryIsKey(de)",
          "new_text": "dictGetVal(de)",
          "old_line_content": "        if (entryIsKey(de)) {",
          "new_line_content": "        void *newval = defragval ? defragval(dictGetVal(de)) : NULL;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "entryIsNoValue",
          "new_api": "entryIsKey",
          "old_text": "entryIsNoValue(de)",
          "new_text": "entryIsKey(*bucketref)",
          "old_line_content": "        } else if (entryIsNoValue(de)) {",
          "new_line_content": "            assert(entryIsKey(*bucketref));",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "decodeEntryNoValue",
          "new_api": "entryIsNoValue",
          "old_text": "decodeEntryNoValue(de)",
          "new_text": "entryIsNoValue(de)",
          "old_line_content": "            dictEntryNoValue *entry = decodeEntryNoValue(de), *newentry;",
          "new_line_content": "        } else if (entryIsNoValue(de)) {",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "defragalloc",
          "new_api": "decodeEntryNoValue",
          "old_text": "defragalloc(entry)",
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "            if ((newentry = defragalloc(entry))) {",
          "new_line_content": "            dictEntryNoValue *entry = decodeEntryNoValue(de), *newentry;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "encodeMaskedPtr",
          "new_api": "defragalloc",
          "old_text": "encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE)",
          "new_text": "defragalloc(entry)",
          "old_line_content": "                newde = encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE);",
          "new_line_content": "            if ((newentry = defragalloc(entry))) {",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "defragalloc",
          "new_api": "entryIsNormal",
          "old_text": "defragalloc(de)",
          "new_text": "entryIsNormal(de)",
          "old_line_content": "            newde = defragalloc(de);",
          "new_line_content": "            assert(entryIsNormal(de));",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "rand",
          "new_api": "dictGetRandomKey",
          "old_text": "rand()",
          "new_text": "dictGetRandomKey(d)",
          "old_line_content": "    unsigned int idx = rand() % count;",
          "new_line_content": "    if (count == 0) return dictGetRandomKey(d);",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "fn",
          "new_api": "dictGetNext",
          "old_text": "fn(privdata, de)",
          "new_text": "dictGetNext(de)",
          "old_line_content": "            fn(privdata, de);",
          "new_line_content": "            next = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "fn",
          "new_api": "dictGetNext",
          "old_text": "fn(privdata, de)",
          "new_text": "dictGetNext(de)",
          "old_line_content": "            fn(privdata, de);",
          "new_line_content": "            next = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "fn",
          "new_api": "dictGetNext",
          "old_text": "fn(privdata, de)",
          "new_text": "dictGetNext(de)",
          "old_line_content": "                fn(privdata, de);",
          "new_line_content": "                next = dictGetNext(de);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "_dictNextExp",
          "new_api": "expandAllowed",
          "old_text": "_dictNextExp(d->ht_used[0] + 1)",
          "new_text": "d->type->expandAllowed(\n                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),\n                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]))",
          "old_line_content": "                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),",
          "new_line_content": "    return d->type->expandAllowed(",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "DICTHT_SIZE",
          "new_api": "_dictNextExp",
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": "_dictNextExp(d->ht_used[0] + 1)",
          "old_line_content": "                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]));",
          "new_line_content": "                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "dictCompareKeys",
          "new_api": "dictGetKey",
          "old_text": "dictCompareKeys(d, key, he_key)",
          "new_text": "dictGetKey(he)",
          "old_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key)) {",
          "new_line_content": "            void *he_key = dictGetKey(he);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "DICTHT_SIZE",
          "new_api": "dictIsRehashing",
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    *from_size = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "    assert(dictIsRehashing(d));",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "dictGetStatsMsg",
          "new_api": "dictGetStatsHt",
          "old_text": "dictGetStatsMsg(buf, bufsize, mainHtStats, full)",
          "new_text": "dictGetStatsHt(d, 0, full)",
          "old_line_content": "    l = dictGetStatsMsg(buf, bufsize, mainHtStats, full);",
          "new_line_content": "    dictStats *mainHtStats = dictGetStatsHt(d, 0, full);",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "dictFreeStats",
          "new_api": "dictGetStatsMsg",
          "old_text": "dictFreeStats(mainHtStats)",
          "new_text": "dictGetStatsMsg(buf, bufsize, mainHtStats, full)",
          "old_line_content": "    dictFreeStats(mainHtStats);",
          "new_line_content": "    l = dictGetStatsMsg(buf, bufsize, mainHtStats, full);",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "dictGetStatsHt",
          "new_api": "dictIsRehashing",
          "old_text": "dictGetStatsHt(d, 1, full)",
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        dictStats *rehashHtStats = dictGetStatsHt(d, 1, full);",
          "new_line_content": "    if (dictIsRehashing(d) && bufsize > 0) {",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "dictGetStatsMsg",
          "new_api": "dictGetStatsHt",
          "old_text": "dictGetStatsMsg(buf, bufsize, rehashHtStats, full)",
          "new_text": "dictGetStatsHt(d, 1, full)",
          "old_line_content": "        dictGetStatsMsg(buf, bufsize, rehashHtStats, full);",
          "new_line_content": "        dictStats *rehashHtStats = dictGetStatsHt(d, 1, full);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "dictFreeStats",
          "new_api": "dictGetStatsMsg",
          "old_text": "dictFreeStats(rehashHtStats)",
          "new_text": "dictGetStatsMsg(buf, bufsize, rehashHtStats, full)",
          "old_line_content": "        dictFreeStats(rehashHtStats);",
          "new_line_content": "        dictGetStatsMsg(buf, bufsize, rehashHtStats, full);",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "zmalloc",
          "new_api": "snprintf",
          "old_text": "zmalloc(len+1)",
          "new_text": "snprintf(buf,sizeof(buf),\"%lld\",value)",
          "old_line_content": "    s = zmalloc(len+1);",
          "new_line_content": "    len = snprintf(buf,sizeof(buf),\"%lld\",value);",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "memcpy",
          "new_api": "zmalloc",
          "old_text": "memcpy(s, buf, len)",
          "new_text": "zmalloc(len+1)",
          "old_line_content": "    memcpy(s, buf, len);",
          "new_line_content": "    s = zmalloc(len+1);",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "assert",
          "new_api": "stringFromLongLong",
          "old_text": "assert(retval == DICT_OK)",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "        assert(retval == DICT_OK);",
          "new_line_content": "        int retval = dictAdd(dict,stringFromLongLong(j),(void*)j);",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "dictSize",
          "new_api": "end_benchmark",
          "old_text": "dictSize(dict)",
          "new_text": "end_benchmark(\"Inserting\")",
          "old_line_content": "    assert((long)dictSize(dict) == count);",
          "new_line_content": "    end_benchmark(\"Inserting\");",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "dictRehashMilliseconds",
          "new_api": "dictIsRehashing",
          "old_text": "dictRehashMilliseconds(dict,100)",
          "new_text": "dictIsRehashing(dict)",
          "old_line_content": "        dictRehashMilliseconds(dict,100);",
          "new_line_content": "    while (dictIsRehashing(dict)) {",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "dictFind",
          "new_api": "stringFromLongLong",
          "old_text": "dictFind(dict,key)",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "        char *key = stringFromLongLong(j);",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "assert",
          "new_api": "dictFind",
          "old_text": "assert(de != NULL)",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "zfree",
          "new_api": "assert",
          "old_text": "zfree(key)",
          "new_text": "assert(de != NULL)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "dictFind",
          "new_api": "stringFromLongLong",
          "old_text": "dictFind(dict,key)",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "        char *key = stringFromLongLong(j);",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": "assert",
          "new_api": "dictFind",
          "old_text": "assert(de != NULL)",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "zfree",
          "new_api": "assert",
          "old_text": "zfree(key)",
          "new_text": "assert(de != NULL)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "dictFind",
          "new_api": "rand",
          "old_text": "dictFind(dict,key)",
          "new_text": "rand()",
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": "assert",
          "new_api": "dictFind",
          "old_text": "assert(de != NULL)",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "zfree",
          "new_api": "assert",
          "old_text": "zfree(key)",
          "new_text": "assert(de != NULL)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "assert",
          "new_api": "dictGetRandomKey",
          "old_text": "assert(de != NULL)",
          "new_text": "dictGetRandomKey(dict)",
          "old_line_content": "        assert(de != NULL);",
          "new_line_content": "        dictEntry *de = dictGetRandomKey(dict);",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "assert",
          "new_api": "dictFind",
          "old_text": "assert(de == NULL)",
          "new_text": "dictFind(dict,key)",
          "old_line_content": "        assert(de == NULL);",
          "new_line_content": "        dictEntry *de = dictFind(dict,key);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": "zfree",
          "new_api": "assert",
          "old_text": "zfree(key)",
          "new_text": "assert(de == NULL)",
          "old_line_content": "        zfree(key);",
          "new_line_content": "        assert(de == NULL);",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "dictDelete",
          "new_api": "stringFromLongLong",
          "old_text": "dictDelete(dict,key)",
          "new_text": "stringFromLongLong(j)",
          "old_line_content": "        int retval = dictDelete(dict,key);",
          "new_line_content": "        char *key = stringFromLongLong(j);",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "assert",
          "new_api": "dictDelete",
          "old_text": "assert(retval == DICT_OK)",
          "new_text": "dictDelete(dict,key)",
          "old_line_content": "        assert(retval == DICT_OK);",
          "new_line_content": "        int retval = dictDelete(dict,key);",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "assert",
          "new_api": "dictAdd",
          "old_text": "assert(retval == DICT_OK)",
          "new_text": "dictAdd(dict,key,(void*)j)",
          "old_line_content": "        assert(retval == DICT_OK);",
          "new_line_content": "        retval = dictAdd(dict,key,(void*)j);",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "dictRelease",
          "new_api": "end_benchmark",
          "old_text": "dictRelease(dict)",
          "new_text": "end_benchmark(\"Removing and adding\")",
          "old_line_content": "    dictRelease(dict);",
          "new_line_content": "    end_benchmark(\"Removing and adding\");",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1545,
          "old_api": null,
          "new_api": "zcalloc",
          "old_text": null,
          "new_text": "zcalloc(sizeof(dictStats))",
          "old_line_content": "    stats->htidx = htidx;",
          "new_line_content": "    dictStats *stats = zcalloc(sizeof(dictStats));",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "old_line_content": "    stats->htUsed = d->ht_used[htidx];",
          "new_line_content": "    stats->htSize = DICTHT_SIZE(d->ht_size_exp[htidx]);",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "old_line_content": "        dictEntry *he;",
          "new_line_content": "    for (unsigned long i = 0; i < DICTHT_SIZE(d->ht_size_exp[htidx]); i++) {",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": "    maxsteps = count*10;",
          "new_line_content": "    if (dictSize(d) < count) count = dictSize(d);",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "        }",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "        else",
          "new_line_content": "            _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[1])",
          "old_line_content": "",
          "new_line_content": "        maxsizemask = DICTHT_SIZE_MASK(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf,bufsize,\n            \"Hash table %d stats (%s):\\n\"\n            \"No stats available for empty dictionaries\\n\",\n            stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\")",
          "old_line_content": "            \"Hash table %d stats (%s):\\n\"",
          "new_line_content": "        return snprintf(buf,bufsize,",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "    unsigned long emptylen = 0; /* Continuous empty entries so far. */",
          "new_line_content": "    unsigned long i = randomULong() & maxsizemask;",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf + l, bufsize - l,\n                  \"Hash table %d stats (%s):\\n\"\n                  \" table size: %lu\\n\"\n                  \" number of elements: %lu\\n\",\n                  stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\",\n                  stats->htSize, stats->htUsed)",
          "old_line_content": "                  \"Hash table %d stats (%s):\\n\"",
          "new_line_content": "    l += snprintf(buf + l, bufsize - l,",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf + l, bufsize - l,\n                      \" different slots: %lu\\n\"\n                      \" max chain length: %lu\\n\"\n                      \" avg chain length (counted): %.02f\\n\"\n                      \" avg chain length (computed): %.02f\\n\"\n                      \" Chain length distribution:\\n\",\n                      stats->buckets, stats->maxChainLen,\n                      (float) stats->totalChainLen / stats->buckets, (float) stats->htUsed / stats->buckets)",
          "old_line_content": "                      \" different slots: %lu\\n\"",
          "new_line_content": "        l += snprintf(buf + l, bufsize - l,",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "old_line_content": "                    i = d->rehashidx;",
          "new_line_content": "                if (i >= DICTHT_SIZE(d->ht_size_exp[1]))",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[j])",
          "old_line_content": "            dictEntry *he = d->ht_table[j][i];",
          "new_line_content": "            if (i >= DICTHT_SIZE(d->ht_size_exp[j])) continue; /* Out of range for this table. */",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf + l, bufsize - l,\n                          \"   %ld: %ld (%.02f%%)\\n\",\n                          i, stats->clvector[i], ((float) stats->clvector[i] / stats->htSize) * 100)",
          "old_line_content": "                          \"   %ld: %ld (%.02f%%)\\n\",",
          "new_line_content": "            l += snprintf(buf + l, bufsize - l,",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "                    emptylen = 0;",
          "new_line_content": "                    i = randomULong() & maxsizemask;",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(buf)",
          "old_line_content": "}",
          "new_line_content": "    return strlen(buf);",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "                        if (r < count) des[r] = he;",
          "new_line_content": "                        unsigned long r = randomULong() % (stored + 1);",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "dictFreeStats",
          "old_text": null,
          "new_text": "dictFreeStats(mainHtStats)",
          "old_line_content": "    buf += l;",
          "new_line_content": "    dictFreeStats(mainHtStats);",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "                    stored++;",
          "new_line_content": "                    he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "dictFreeStats",
          "old_text": null,
          "new_text": "dictFreeStats(rehashHtStats)",
          "old_line_content": "    }",
          "new_line_content": "        dictFreeStats(rehashHtStats);",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen((char*)key)",
          "old_line_content": "}",
          "new_line_content": "    return dictGenHashFunction((unsigned char*)key, strlen((char*)key));",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(d)",
          "old_line_content": "",
          "new_line_content": "    UNUSED(d);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "entryIsKey",
          "old_text": null,
          "new_text": "entryIsKey(de)",
          "old_line_content": "            if (newkey) *bucketref = newkey;",
          "new_line_content": "        if (entryIsKey(de)) {",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen((char*)key2)",
          "old_line_content": "    if (l1 != l2) return 0;",
          "new_line_content": "    l2 = strlen((char*)key2);",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(key1, key2, l1)",
          "old_line_content": "}",
          "new_line_content": "    return memcmp(key1, key2, l1) == 0;",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": null,
          "new_api": "encodeMaskedPtr",
          "old_text": null,
          "new_text": "encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE)",
          "old_line_content": "                entry = newentry;",
          "new_line_content": "                newde = encodeMaskedPtr(newentry, ENTRY_PTR_NO_VALUE);",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "UNUSED",
          "old_text": null,
          "new_text": "UNUSED(d)",
          "old_line_content": "",
          "new_line_content": "    UNUSED(d);",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(val)",
          "old_line_content": "}",
          "new_line_content": "    zfree(val);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "defragalloc",
          "old_text": null,
          "new_text": "defragalloc(de)",
          "old_line_content": "            if (newde) de = newde;",
          "new_line_content": "            newde = defragalloc(de);",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s, buf, len)",
          "old_line_content": "    s[len] = '\\0';",
          "new_line_content": "    memcpy(s, buf, len);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "dictGetNextRef",
          "old_text": null,
          "new_text": "dictGetNextRef(*bucketref)",
          "old_line_content": "    }",
          "new_line_content": "        bucketref = dictGetNextRef(*bucketref);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "dictGetSomeKeys",
          "old_text": null,
          "new_text": "dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES)",
          "old_line_content": "    /* Note that dictGetSomeKeys() may return zero elements in an unlucky",
          "new_line_content": "    unsigned int count = dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "rand",
          "old_text": null,
          "new_text": "rand()",
          "old_line_content": "    return entries[idx];",
          "new_line_content": "    unsigned int idx = rand() % count;",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": null,
          "new_api": "dictCreate",
          "old_text": null,
          "new_text": "dictCreate(&BenchmarkDictType)",
          "old_line_content": "    long count = 0;",
          "new_line_content": "    dict *dict = dictCreate(&BenchmarkDictType);",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(argv[3],NULL,10)",
          "old_line_content": "        }",
          "new_line_content": "            count = strtol(argv[3],NULL,10);",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(retval == DICT_OK)",
          "old_line_content": "    }",
          "new_line_content": "        assert(retval == DICT_OK);",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(dict)",
          "old_line_content": "",
          "new_line_content": "    assert((long)dictSize(dict) == count);",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "dictRehashMilliseconds",
          "old_text": null,
          "new_text": "dictRehashMilliseconds(dict,100)",
          "old_line_content": "    }",
          "new_line_content": "        dictRehashMilliseconds(dict,100);",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(key)",
          "old_line_content": "    }",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Linear access of existing elements\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Linear access of existing elements\");",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(key)",
          "old_line_content": "    }",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Linear access of existing elements (2nd round)\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Linear access of existing elements (2nd round)\");",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(key)",
          "old_line_content": "    }",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Random access of existing elements\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Random access of existing elements\");",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "dictCompareKeys",
          "old_text": null,
          "new_text": "dictCompareKeys(d, key, de_key)",
          "old_line_content": "                *table_index = table;",
          "new_line_content": "            if (key == de_key || dictCompareKeys(d, key, de_key)) {",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(de != NULL)",
          "old_line_content": "    }",
          "new_line_content": "        assert(de != NULL);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "dictPauseRehashing",
          "old_text": null,
          "new_text": "dictPauseRehashing(d)",
          "old_line_content": "                return *ref;",
          "new_line_content": "                dictPauseRehashing(d);",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Accessing random keys\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Accessing random keys\");",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "dictGetNextRef",
          "old_text": null,
          "new_text": "dictGetNextRef(*ref)",
          "old_line_content": "        }",
          "new_line_content": "            ref = dictGetNextRef(*ref);",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": null,
          "new_api": "rand",
          "old_text": null,
          "new_text": "rand()",
          "old_line_content": "        key[0] = 'X';",
          "new_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    }",
          "new_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(key)",
          "old_line_content": "    }",
          "new_line_content": "        zfree(key);",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": null,
          "new_api": "end_benchmark",
          "old_text": null,
          "new_text": "end_benchmark(\"Accessing missing\")",
          "old_line_content": "",
          "new_line_content": "    end_benchmark(\"Accessing missing\");",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "start_benchmark",
          "old_text": null,
          "new_text": "start_benchmark()",
          "old_line_content": "    for (j = 0; j < count; j++) {",
          "new_line_content": "    start_benchmark();",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(retval == DICT_OK)",
          "old_line_content": "        key[0] += 17; /* Change first number to letter. */",
          "new_line_content": "        assert(retval == DICT_OK);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "dictResumeRehashing",
          "old_text": null,
          "new_text": "dictResumeRehashing(d)",
          "old_line_content": "}",
          "new_line_content": "    dictResumeRehashing(d);",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(retval == DICT_OK)",
          "old_line_content": "    }",
          "new_line_content": "        assert(retval == DICT_OK);",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(!d->type->no_value)",
          "old_line_content": "    if (d->type->keyDup)",
          "new_line_content": "    assert(!d->type->no_value);",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "dictRelease",
          "old_text": null,
          "new_text": "dictRelease(dict)",
          "old_line_content": "    return 0;",
          "new_line_content": "    dictRelease(dict);",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "keyDup",
          "old_text": null,
          "new_text": "d->type->keyDup(d, key)",
          "old_line_content": "    else",
          "new_line_content": "        de->key = d->type->keyDup(d, key);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "valDup",
          "old_text": null,
          "new_text": "d->type->valDup(d, val)",
          "old_line_content": "}",
          "new_line_content": "    de->v.val = d->type->valDup ? d->type->valDup(d, val) : val;",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    de->v.s64 = val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    de->v.u64 = val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    de->v.d = val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": null,
          "new_api": "dictScanDefrag",
          "old_text": null,
          "new_text": "dictScanDefrag(d, v, fn, NULL, privdata)",
          "old_line_content": "}",
          "new_line_content": "    return dictScanDefrag(d, v, fn, NULL, privdata);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.s64 += val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.u64 += val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.d += val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "    return de->key;",
          "new_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->key;",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": "",
          "new_line_content": "    if (dictSize(d) == 0) return 0;",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.val;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "dictPauseRehashing",
          "old_text": null,
          "new_text": "dictPauseRehashing(d)",
          "old_line_content": "",
          "new_line_content": "    dictPauseRehashing(d);",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "        htidx0 = 0;",
          "new_line_content": "    if (!dictIsRehashing(d)) {",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "old_line_content": "",
          "new_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.s64;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "dictDefragBucket",
          "old_text": null,
          "new_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "old_line_content": "        }",
          "new_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.u64;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "            de = next;",
          "new_line_content": "            fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return de->v.d;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "entryHasValue",
          "old_text": null,
          "new_text": "entryHasValue(de)",
          "old_line_content": "    return &de->v.d;",
          "new_line_content": "    assert(entryHasValue(de));",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "        v++;",
          "new_line_content": "        v = rev(v);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "",
          "new_line_content": "        v = rev(v);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "    return de->next;",
          "new_line_content": "    if (entryIsNoValue(de)) return decodeEntryNoValue(de)->next;",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[htidx1])",
          "old_line_content": "            htidx0 = 1;",
          "new_line_content": "        if (DICTHT_SIZE(d->ht_size_exp[htidx0]) > DICTHT_SIZE(d->ht_size_exp[htidx1])) {",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "    return &de->next;",
          "new_line_content": "    if (entryIsNoValue(de)) return &decodeEntryNoValue(de)->next;",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx1])",
          "old_line_content": "",
          "new_line_content": "        m1 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx1]);",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "dictDefragBucket",
          "old_text": null,
          "new_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "old_line_content": "        }",
          "new_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "decodeEntryNoValue",
          "old_text": null,
          "new_text": "decodeEntryNoValue(de)",
          "old_line_content": "        entry->next = next;",
          "new_line_content": "        dictEntryNoValue *entry = decodeEntryNoValue(de);",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "            de = next;",
          "new_line_content": "            fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "dictBuckets",
          "old_text": null,
          "new_text": "dictBuckets(d)",
          "old_line_content": "}",
          "new_line_content": "        dictBuckets(d) * sizeof(dictEntry*);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "dictDefragBucket",
          "old_text": null,
          "new_text": "dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns)",
          "old_line_content": "            }",
          "new_line_content": "                dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(privdata, de)",
          "old_line_content": "                de = next;",
          "new_line_content": "                fn(privdata, de);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "            v++;",
          "new_line_content": "            v = rev(v);",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "rev",
          "old_text": null,
          "new_text": "rev(v)",
          "old_line_content": "",
          "new_line_content": "            v = rev(v);",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": null,
          "new_api": "dictResumeRehashing",
          "old_text": null,
          "new_text": "dictResumeRehashing(d)",
          "old_line_content": "",
          "new_line_content": "    dictResumeRehashing(d);",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "}",
          "new_line_content": "                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]));",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "",
          "new_line_content": "    if (dictIsRehashing(d)) return DICT_OK;",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "dictExpand",
          "old_text": null,
          "new_text": "dictExpand(d, DICT_HT_INITIAL_SIZE)",
          "old_line_content": "",
          "new_line_content": "    if (DICTHT_SIZE(d->ht_size_exp[0]) == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "        (dict_can_resize != DICT_RESIZE_FORBID &&",
          "new_line_content": "         d->ht_used[0] >= DICTHT_SIZE(d->ht_size_exp[0])) ||",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "    {",
          "new_line_content": "         d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]) > dict_force_resize_ratio))",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "dictTypeExpandAllowed",
          "old_text": null,
          "new_text": "dictTypeExpandAllowed(d)",
          "old_line_content": "            return DICT_OK;",
          "new_line_content": "        if (!dictTypeExpandAllowed(d))",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "dictExpand",
          "old_text": null,
          "new_text": "dictExpand(d, d->ht_used[0] + 1)",
          "old_line_content": "    }",
          "new_line_content": "        return dictExpand(d, d->ht_used[0] + 1);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": null,
          "new_api": "dictInitIterator",
          "old_text": null,
          "new_text": "dictInitIterator(iter, d)",
          "old_line_content": "    iter->safe = 1;",
          "new_line_content": "    dictInitIterator(iter, d);",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": null,
          "new_api": "dictResumeRehashing",
          "old_text": null,
          "new_text": "dictResumeRehashing(iter->d)",
          "old_line_content": "        else",
          "new_line_content": "            dictResumeRehashing(iter->d);",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "dictFingerprint",
          "old_text": null,
          "new_text": "dictFingerprint(iter->d)",
          "old_line_content": "    }",
          "new_line_content": "            assert(iter->fingerprint == dictFingerprint(iter->d));",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "__builtin_clzl",
          "old_text": null,
          "new_text": "__builtin_clzl(size-1)",
          "old_line_content": "}",
          "new_line_content": "    return 8*sizeof(long) - __builtin_clzl(size-1);",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "dictInitIterator",
          "old_text": null,
          "new_text": "dictInitIterator(iter, d)",
          "old_line_content": "    return iter;",
          "new_line_content": "    dictInitIterator(iter, d);",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "dictHashKey",
          "old_text": null,
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "    if (existing) *existing = NULL;",
          "new_line_content": "    uint64_t hash = dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "dictGetIterator",
          "old_text": null,
          "new_text": "dictGetIterator(d)",
          "old_line_content": "",
          "new_line_content": "    dictIterator *i = dictGetIterator(d);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "_dictRehashStep",
          "old_text": null,
          "new_text": "_dictRehashStep(d)",
          "old_line_content": "",
          "new_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": null,
          "new_api": "_dictExpandIfNeeded",
          "old_text": null,
          "new_text": "_dictExpandIfNeeded(d)",
          "old_line_content": "        return NULL;",
          "new_line_content": "    if (_dictExpandIfNeeded(d) == DICT_ERR)",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "        if (table == 0 && (long)idx < d->rehashidx) continue; ",
          "new_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "dictPauseRehashing",
          "old_text": null,
          "new_text": "dictPauseRehashing(iter->d)",
          "old_line_content": "                else",
          "new_line_content": "                    dictPauseRehashing(iter->d);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "dictCompareKeys",
          "old_text": null,
          "new_text": "dictCompareKeys(d, key, he_key)",
          "old_line_content": "                if (existing) *existing = he;",
          "new_line_content": "            if (key == he_key || dictCompareKeys(d, key, he_key)) {",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "dictFingerprint",
          "old_text": null,
          "new_text": "dictFingerprint(iter->d)",
          "old_line_content": "",
          "new_line_content": "                    iter->fingerprint = dictFingerprint(iter->d);",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "        }",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(iter->d)",
          "old_line_content": "                    iter->index = iter->d->rehashidx - 1;",
          "new_line_content": "                if (dictIsRehashing(iter->d)) {",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    }",
          "new_line_content": "        if (!dictIsRehashing(d)) break;",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(iter->d)",
          "old_line_content": "                    iter->table++;",
          "new_line_content": "                if (dictIsRehashing(iter->d) && iter->table == 0) {",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    return bucket;",
          "new_line_content": "    dictEntry **bucket = &d->ht_table[dictIsRehashing(d) ? 1 : 0][idx];",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": null,
          "new_api": "_dictClear",
          "old_text": null,
          "new_text": "_dictClear(d,1,callback)",
          "old_line_content": "    d->rehashidx = -1;",
          "new_line_content": "    _dictClear(d,1,callback);",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(iter->entry)",
          "old_line_content": "            return iter->entry;",
          "new_line_content": "            iter->nextEntry = dictGetNext(iter->entry);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "dictHashKey",
          "old_text": null,
          "new_text": "dictHashKey(d, key)",
          "old_line_content": "}",
          "new_line_content": "    return dictHashKey(d, key);",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(iter)",
          "old_line_content": "}",
          "new_line_content": "    zfree(iter);",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "dictSize",
          "old_text": null,
          "new_text": "dictSize(d)",
          "old_line_content": "    for (table = 0; table <= 1; table++) {",
          "new_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "old_line_content": "        if (table == 0 && (long)idx < d->rehashidx) continue;",
          "new_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "dictGetKey",
          "old_text": null,
          "new_text": "dictGetKey(he)",
          "old_line_content": "                return he;",
          "new_line_content": "            if (oldptr == dictGetKey(he))",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "        }",
          "new_line_content": "            he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "old_line_content": "        do {",
          "new_line_content": "        unsigned long s0 = DICTHT_SIZE(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "dictIsRehashing",
          "old_text": null,
          "new_text": "dictIsRehashing(d)",
          "old_line_content": "    }",
          "new_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "dictBuckets",
          "old_text": null,
          "new_text": "dictBuckets(d)",
          "old_line_content": "            he = (h >= s0) ? d->ht_table[1][h - s0] : d->ht_table[0][h];",
          "new_line_content": "            h = d->rehashidx + (randomULong() % (dictBuckets(d) - d->rehashidx));",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "DICTHT_SIZE_MASK",
          "old_text": null,
          "new_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "old_line_content": "        do {",
          "new_line_content": "        unsigned long m = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "randomULong",
          "old_text": null,
          "new_text": "randomULong()",
          "old_line_content": "            he = d->ht_table[0][h];",
          "new_line_content": "            h = randomULong() & m;",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(DICT_HT_INITIAL_EXP)",
          "old_line_content": "        return;",
          "new_line_content": "        *to_size = DICTHT_SIZE(DICT_HT_INITIAL_EXP);",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": null,
          "new_api": "DICTHT_SIZE",
          "old_text": null,
          "new_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "old_line_content": "}",
          "new_line_content": "    *to_size = DICTHT_SIZE(d->ht_size_exp[1]);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "        listlen++;",
          "new_line_content": "        he = dictGetNext(he);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "zfree",
          "old_text": null,
          "new_text": "zfree(stats)",
          "old_line_content": "}",
          "new_line_content": "    zfree(stats);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": "    he = orighe;",
          "new_line_content": "    listele = random() % listlen;",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "dictGetNext",
          "old_text": null,
          "new_text": "dictGetNext(he)",
          "old_line_content": "    return he;",
          "new_line_content": "    while(listele--) he = dictGetNext(he);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1543,
          "old_api": "zcalloc",
          "new_api": null,
          "old_text": "zcalloc(sizeof(unsigned long) * DICT_STATS_VECTLEN)",
          "new_text": null,
          "old_line_content": "    unsigned long *clvector = zcalloc(sizeof(unsigned long) * DICT_STATS_VECTLEN);",
          "new_line_content": "dictStats *dictGetStatsHt(dict *d, int htidx, int full) {",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "new_text": null,
          "old_line_content": "    stats->htSize = DICTHT_SIZE(d->ht_size_exp[htidx]);",
          "new_line_content": "    stats->clvector = clvector;",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx])",
          "new_text": null,
          "old_line_content": "    for (unsigned long i = 0; i < DICTHT_SIZE(d->ht_size_exp[htidx]); i++) {",
          "new_line_content": "    /* Compute stats. */",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) < count) count = dictSize(d);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "            chainlen++;",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (dictIsRehashing(d))",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    tables = dictIsRehashing(d) ? 2 : 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf,bufsize,\n            \"Hash table %d stats (%s):\\n\"\n            \"No stats available for empty dictionaries\\n\",\n            stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\")",
          "new_text": null,
          "old_line_content": "        return snprintf(buf,bufsize,",
          "new_line_content": "    if (stats->htUsed == 0) {",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "randomULong",
          "new_api": null,
          "old_text": "randomULong()",
          "new_text": null,
          "old_line_content": "    unsigned long i = randomULong() & maxsizemask;",
          "new_line_content": "    /* Pick a random point inside the larger table. */",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf + l, bufsize - l,\n                  \"Hash table %d stats (%s):\\n\"\n                  \" table size: %lu\\n\"\n                  \" number of elements: %lu\\n\",\n                  stats->htidx, (stats->htidx == 0) ? \"main hash table\" : \"rehashing target\",\n                  stats->htSize, stats->htUsed)",
          "new_text": null,
          "old_line_content": "    l += snprintf(buf + l, bufsize - l,",
          "new_line_content": "    size_t l = 0;",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf + l, bufsize - l,\n                      \" different slots: %lu\\n\"\n                      \" max chain length: %lu\\n\"\n                      \" avg chain length (counted): %.02f\\n\"\n                      \" avg chain length (computed): %.02f\\n\"\n                      \" Chain length distribution:\\n\",\n                      stats->buckets, stats->maxChainLen,\n                      (float) stats->totalChainLen / stats->buckets, (float) stats->htUsed / stats->buckets)",
          "new_text": null,
          "old_line_content": "        l += snprintf(buf + l, bufsize - l,",
          "new_line_content": "    if (full) {",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[1])",
          "new_text": null,
          "old_line_content": "                if (i >= DICTHT_SIZE(d->ht_size_exp[1]))",
          "new_line_content": "                 * (this happens when going from big to small table). */",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[j])",
          "new_text": null,
          "old_line_content": "            if (i >= DICTHT_SIZE(d->ht_size_exp[j])) continue; /* Out of range for this table. */",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf + l, bufsize - l,\n                          \"   %ld: %ld (%.02f%%)\\n\",\n                          i, stats->clvector[i], ((float) stats->clvector[i] / stats->htSize) * 100)",
          "new_text": null,
          "old_line_content": "            l += snprintf(buf + l, bufsize - l,",
          "new_line_content": "            if (l >= bufsize) break;",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "randomULong",
          "new_api": null,
          "old_text": "randomULong()",
          "new_text": null,
          "old_line_content": "                    i = randomULong() & maxsizemask;",
          "new_line_content": "                if (emptylen >= 5 && emptylen > count) {",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(buf)",
          "new_text": null,
          "old_line_content": "    return strlen(buf);",
          "new_line_content": "    /* Unlike snprintf(), return the number of characters actually written. */",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "dictGetStatsHt",
          "new_api": null,
          "old_text": "dictGetStatsHt(d, 0, full)",
          "new_text": null,
          "old_line_content": "    dictStats *mainHtStats = dictGetStatsHt(d, 0, full);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "randomULong",
          "new_api": null,
          "old_text": "randomULong()",
          "new_text": null,
          "old_line_content": "                        unsigned long r = randomULong() % (stored + 1);",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "                    he = dictGetNext(he);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d) && bufsize > 0) {",
          "new_line_content": "    bufsize -= l;",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen((char*)key)",
          "new_text": null,
          "old_line_content": "    return dictGenHashFunction((unsigned char*)key, strlen((char*)key));",
          "new_line_content": "uint64_t hashCallback(const void *key) {",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(de)",
          "new_text": null,
          "old_line_content": "        void *newkey = defragkey ? defragkey(dictGetKey(de)) : NULL;",
          "new_line_content": "        dictEntry *de = *bucketref, *newde = NULL;",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(d)",
          "new_text": null,
          "old_line_content": "    UNUSED(d);",
          "new_line_content": "    int l1,l2;",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen((char*)key1)",
          "new_text": null,
          "old_line_content": "    l1 = strlen((char*)key1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(*bucketref)",
          "new_text": null,
          "old_line_content": "            assert(entryIsKey(*bucketref));",
          "new_line_content": "            if (newkey) *bucketref = newkey;",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(key1, key2, l1)",
          "new_text": null,
          "old_line_content": "    return memcmp(key1, key2, l1) == 0;",
          "new_line_content": "    if (l1 != l2) return 0;",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "UNUSED",
          "new_api": null,
          "old_text": "UNUSED(d)",
          "new_text": null,
          "old_line_content": "    UNUSED(d);",
          "new_line_content": "void freeCallback(dict *d, void *val) {",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(val)",
          "new_text": null,
          "old_line_content": "    zfree(val);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "entryIsNormal",
          "new_api": null,
          "old_text": "entryIsNormal(de)",
          "new_text": null,
          "old_line_content": "            assert(entryIsNormal(de));",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf,sizeof(buf),\"%lld\",value)",
          "new_text": null,
          "old_line_content": "    len = snprintf(buf,sizeof(buf),\"%lld\",value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "dictGetNextRef",
          "new_api": null,
          "old_text": "dictGetNextRef(*bucketref)",
          "new_text": null,
          "old_line_content": "        bucketref = dictGetNextRef(*bucketref);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "dictGetSomeKeys",
          "new_api": null,
          "old_text": "dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES)",
          "new_text": null,
          "old_line_content": "    unsigned int count = dictGetSomeKeys(d,entries,GETFAIR_NUM_ENTRIES);",
          "new_line_content": "    dictEntry *entries[GETFAIR_NUM_ENTRIES];",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "dictGetRandomKey",
          "new_api": null,
          "old_text": "dictGetRandomKey(d)",
          "new_text": null,
          "old_line_content": "    if (count == 0) return dictGetRandomKey(d);",
          "new_line_content": "     * yield the element if the hash table has at least one. */",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "dictCreate",
          "new_api": null,
          "old_text": "dictCreate(&BenchmarkDictType)",
          "new_text": null,
          "old_line_content": "    dict *dict = dictCreate(&BenchmarkDictType);",
          "new_line_content": "    long long start, elapsed;",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(argv[3],NULL,10)",
          "new_text": null,
          "old_line_content": "            count = strtol(argv[3],NULL,10);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        int retval = dictAdd(dict,stringFromLongLong(j),(void*)j);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Inserting\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Inserting\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(dict)",
          "new_text": null,
          "old_line_content": "    while (dictIsRehashing(dict)) {",
          "new_line_content": "    /* Wait for rehashing. */",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(j);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Linear access of existing elements\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Linear access of existing elements\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(j);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Linear access of existing elements (2nd round)\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Linear access of existing elements (2nd round)\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "rand",
          "new_api": null,
          "old_text": "rand()",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Random access of existing elements\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Random access of existing elements\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(*ref)",
          "new_text": null,
          "old_line_content": "            void *de_key = dictGetKey(*ref);",
          "new_line_content": "        while (ref && *ref) {",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": "dictGetRandomKey",
          "new_api": null,
          "old_text": "dictGetRandomKey(dict)",
          "new_text": null,
          "old_line_content": "        dictEntry *de = dictGetRandomKey(dict);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "dictPauseRehashing",
          "new_api": null,
          "old_text": "dictPauseRehashing(d)",
          "new_text": null,
          "old_line_content": "                dictPauseRehashing(d);",
          "new_line_content": "                *plink = ref;",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Accessing random keys\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Accessing random keys\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "dictGetNextRef",
          "new_api": null,
          "old_text": "dictGetNextRef(*ref)",
          "new_text": null,
          "old_line_content": "            ref = dictGetNextRef(*ref);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "rand",
          "new_api": null,
          "old_text": "rand()",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(rand() % count);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "dictFind",
          "new_api": null,
          "old_text": "dictFind(dict,key)",
          "new_text": null,
          "old_line_content": "        dictEntry *de = dictFind(dict,key);",
          "new_line_content": "        key[0] = 'X';",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Accessing missing\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Accessing missing\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "start_benchmark",
          "new_api": null,
          "old_text": "start_benchmark()",
          "new_text": null,
          "old_line_content": "    start_benchmark();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "    *plink = dictGetNext(he);",
          "new_line_content": "    d->ht_used[table_index]--;",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "stringFromLongLong",
          "new_api": null,
          "old_text": "stringFromLongLong(j)",
          "new_text": null,
          "old_line_content": "        char *key = stringFromLongLong(j);",
          "new_line_content": "    for (j = 0; j < count; j++) {",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "dictAdd",
          "new_api": null,
          "old_text": "dictAdd(dict,key,(void*)j)",
          "new_text": null,
          "old_line_content": "        retval = dictAdd(dict,key,(void*)j);",
          "new_line_content": "        key[0] += 17; /* Change first number to letter. */",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!d->type->no_value)",
          "new_text": null,
          "old_line_content": "    assert(!d->type->no_value);",
          "new_line_content": "void dictSetKey(dict *d, dictEntry* de, void *key) {",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "end_benchmark",
          "new_api": null,
          "old_text": "end_benchmark(\"Removing and adding\")",
          "new_text": null,
          "old_line_content": "    end_benchmark(\"Removing and adding\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "keyDup",
          "new_api": null,
          "old_text": "d->type->keyDup(d, key)",
          "new_text": null,
          "old_line_content": "        de->key = d->type->keyDup(d, key);",
          "new_line_content": "    if (d->type->keyDup)",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetVal(dict *d, dictEntry *de, void *val) {",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetSignedIntegerVal(dictEntry *de, int64_t val) {",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetUnsignedIntegerVal(dictEntry *de, uint64_t val) {",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void dictSetDoubleVal(dictEntry *de, double val) {",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "dictScanDefrag",
          "new_api": null,
          "old_text": "dictScanDefrag(d, v, fn, NULL, privdata)",
          "new_text": null,
          "old_line_content": "    return dictScanDefrag(d, v, fn, NULL, privdata);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "int64_t dictIncrSignedIntegerVal(dictEntry *de, int64_t val) {",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "uint64_t dictIncrUnsignedIntegerVal(dictEntry *de, uint64_t val) {",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "double dictIncrDoubleVal(dictEntry *de, double val) {",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsKey(de)) return (void*)de;",
          "new_line_content": "void *dictGetKey(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return 0;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "void *dictGetVal(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "dictPauseRehashing",
          "new_api": null,
          "old_text": "dictPauseRehashing(d)",
          "new_text": null,
          "old_line_content": "    dictPauseRehashing(d);",
          "new_line_content": "    /* This is needed in case the scan callback tries to do dictFind or alike. */",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (!dictIsRehashing(d)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "new_text": null,
          "old_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "new_line_content": "        htidx0 = 0;",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "int64_t dictGetSignedIntegerVal(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "dictDefragBucket",
          "new_api": null,
          "old_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "new_text": null,
          "old_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "new_line_content": "        if (defragfns) {",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "uint64_t dictGetUnsignedIntegerVal(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "            next = dictGetNext(de);",
          "new_line_content": "        while (de) {",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "double dictGetDoubleVal(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "entryHasValue",
          "new_api": null,
          "old_text": "entryHasValue(de)",
          "new_text": null,
          "old_line_content": "    assert(entryHasValue(de));",
          "new_line_content": "double *dictGetDoubleValPtr(dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "        v = rev(v);",
          "new_line_content": "        /* Increment the reverse cursor */",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "        v = rev(v);",
          "new_line_content": "        v++;",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsKey(de)) return NULL; /* there's no next */",
          "new_line_content": "static dictEntry *dictGetNext(const dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[htidx1])",
          "new_text": null,
          "old_line_content": "        if (DICTHT_SIZE(d->ht_size_exp[htidx0]) > DICTHT_SIZE(d->ht_size_exp[htidx1])) {",
          "new_line_content": "        /* Make sure t0 is the smaller and t1 is the bigger table */",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    if (entryIsKey(de)) return NULL;",
          "new_line_content": "static dictEntry **dictGetNextRef(dictEntry *de) {",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[htidx0])",
          "new_text": null,
          "old_line_content": "        m0 = DICTHT_SIZE_MASK(d->ht_size_exp[htidx0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "dictDefragBucket",
          "new_api": null,
          "old_text": "dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns)",
          "new_text": null,
          "old_line_content": "            dictDefragBucket(&d->ht_table[htidx0][v & m0], defragfns);",
          "new_line_content": "        if (defragfns) {",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "entryIsKey",
          "new_api": null,
          "old_text": "entryIsKey(de)",
          "new_text": null,
          "old_line_content": "    assert(!entryIsKey(de));",
          "new_line_content": "static void dictSetNext(dictEntry *de, dictEntry *next) {",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "            next = dictGetNext(de);",
          "new_line_content": "        while (de) {",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    return dictSize(d) * sizeof(dictEntry) +",
          "new_line_content": "size_t dictMemUsage(const dict *d) {",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "dictDefragBucket",
          "new_api": null,
          "old_text": "dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns)",
          "new_text": null,
          "old_line_content": "                dictDefragBucket(&d->ht_table[htidx1][v & m1], defragfns);",
          "new_line_content": "            if (defragfns) {",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(de)",
          "new_text": null,
          "old_line_content": "                next = dictGetNext(de);",
          "new_line_content": "            while (de) {",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "            v = rev(v);",
          "new_line_content": "            v |= ~m1;",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "rev",
          "new_api": null,
          "old_text": "rev(v)",
          "new_text": null,
          "old_line_content": "            v = rev(v);",
          "new_line_content": "            v++;",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "dictResumeRehashing",
          "new_api": null,
          "old_text": "dictResumeRehashing(d)",
          "new_text": null,
          "old_line_content": "    dictResumeRehashing(d);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "expandAllowed",
          "new_api": null,
          "old_text": "d->type->expandAllowed(\n                    DICTHT_SIZE(_dictNextExp(d->ht_used[0] + 1)) * sizeof(dictEntry*),\n                    (double)d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]))",
          "new_text": null,
          "old_line_content": "    return d->type->expandAllowed(",
          "new_line_content": "    if (d->type->expandAllowed == NULL) return 1;",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) return DICT_OK;",
          "new_line_content": "    /* Incremental rehashing already in progress. Return. */",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "dictExpand",
          "new_api": null,
          "old_text": "dictExpand(d, DICT_HT_INITIAL_SIZE)",
          "new_text": null,
          "old_line_content": "    if (DICTHT_SIZE(d->ht_size_exp[0]) == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);",
          "new_line_content": "    /* If the hash table is empty expand it to the initial size. */",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "         d->ht_used[0] >= DICTHT_SIZE(d->ht_size_exp[0])) ||",
          "new_line_content": "    if ((dict_can_resize == DICT_RESIZE_ENABLE &&",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "         d->ht_used[0] / DICTHT_SIZE(d->ht_size_exp[0]) > dict_force_resize_ratio))",
          "new_line_content": "        (dict_can_resize != DICT_RESIZE_FORBID &&",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "dictTypeExpandAllowed",
          "new_api": null,
          "old_text": "dictTypeExpandAllowed(d)",
          "new_text": null,
          "old_line_content": "        if (!dictTypeExpandAllowed(d))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "dictExpand",
          "new_api": null,
          "old_text": "dictExpand(d, d->ht_used[0] + 1)",
          "new_text": null,
          "old_line_content": "        return dictExpand(d, d->ht_used[0] + 1);",
          "new_line_content": "            return DICT_OK;",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "dictInitIterator",
          "new_api": null,
          "old_text": "dictInitIterator(iter, d)",
          "new_text": null,
          "old_line_content": "    dictInitIterator(iter, d);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "dictResumeRehashing",
          "new_api": null,
          "old_text": "dictResumeRehashing(iter->d)",
          "new_text": null,
          "old_line_content": "            dictResumeRehashing(iter->d);",
          "new_line_content": "        if (iter->safe)",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "dictFingerprint",
          "new_api": null,
          "old_text": "dictFingerprint(iter->d)",
          "new_text": null,
          "old_line_content": "            assert(iter->fingerprint == dictFingerprint(iter->d));",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "__builtin_clzl",
          "new_api": null,
          "old_text": "__builtin_clzl(size-1)",
          "new_text": null,
          "old_line_content": "    return 8*sizeof(long) - __builtin_clzl(size-1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "zmalloc",
          "new_api": null,
          "old_text": "zmalloc(sizeof(*iter))",
          "new_text": null,
          "old_line_content": "    dictIterator *iter = zmalloc(sizeof(*iter));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "dictHashKey",
          "new_api": null,
          "old_text": "dictHashKey(d, key)",
          "new_text": null,
          "old_line_content": "    uint64_t hash = dictHashKey(d, key);",
          "new_line_content": "    dictEntry *he;",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": "dictGetIterator",
          "new_api": null,
          "old_text": "dictGetIterator(d)",
          "new_text": null,
          "old_line_content": "    dictIterator *i = dictGetIterator(d);",
          "new_line_content": "dictIterator *dictGetSafeIterator(dict *d) {",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "_dictRehashStep",
          "new_api": null,
          "old_text": "_dictRehashStep(d)",
          "new_text": null,
          "old_line_content": "    if (dictIsRehashing(d)) _dictRehashStep(d);",
          "new_line_content": "    if (existing) *existing = NULL;",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "_dictExpandIfNeeded",
          "new_api": null,
          "old_text": "_dictExpandIfNeeded(d)",
          "new_text": null,
          "old_line_content": "    if (_dictExpandIfNeeded(d) == DICT_ERR)",
          "new_line_content": "    /* Expand the hash table if needed */",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": "    for (table = 0; table <= 1; table++) {",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(he)",
          "new_text": null,
          "old_line_content": "            void *he_key = dictGetKey(he);",
          "new_line_content": "        while(he) {",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "dictPauseRehashing",
          "new_api": null,
          "old_text": "dictPauseRehashing(iter->d)",
          "new_text": null,
          "old_line_content": "                    dictPauseRehashing(iter->d);",
          "new_line_content": "                if (iter->safe)",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "dictFingerprint",
          "new_api": null,
          "old_text": "dictFingerprint(iter->d)",
          "new_text": null,
          "old_line_content": "                    iter->fingerprint = dictFingerprint(iter->d);",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(iter->d)",
          "new_text": null,
          "old_line_content": "                if (dictIsRehashing(iter->d)) {",
          "new_line_content": "                /* skip the rehashed slots in table[0] */",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) break;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(iter->d->ht_size_exp[iter->table])",
          "new_text": null,
          "old_line_content": "            if (iter->index >= (long) DICTHT_SIZE(iter->d->ht_size_exp[iter->table])) {",
          "new_line_content": "            iter->index++;",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    dictEntry **bucket = &d->ht_table[dictIsRehashing(d) ? 1 : 0][idx];",
          "new_line_content": "     * always returned in the context of the second (new) hash table. */",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "_dictClear",
          "new_api": null,
          "old_text": "_dictClear(d,0,callback)",
          "new_text": null,
          "old_line_content": "    _dictClear(d,0,callback);",
          "new_line_content": "void dictEmpty(dict *d, void(callback)(dict*)) {",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(iter->entry)",
          "new_text": null,
          "old_line_content": "            iter->nextEntry = dictGetNext(iter->entry);",
          "new_line_content": "             * may delete the entry we are returning. */",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "dictHashKey",
          "new_api": null,
          "old_text": "dictHashKey(d, key)",
          "new_text": null,
          "old_line_content": "    return dictHashKey(d, key);",
          "new_line_content": "uint64_t dictGetHash(dict *d, const void *key) {",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "dictResetIterator",
          "new_api": null,
          "old_text": "dictResetIterator(iter)",
          "new_text": null,
          "old_line_content": "    dictResetIterator(iter);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return NULL; /* dict is empty */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[table])",
          "new_text": null,
          "old_line_content": "        idx = hash & DICTHT_SIZE_MASK(d->ht_size_exp[table]);",
          "new_line_content": "    for (table = 0; table <= 1; table++) {",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "dictGetKey",
          "new_api": null,
          "old_text": "dictGetKey(he)",
          "new_text": null,
          "old_line_content": "            if (oldptr == dictGetKey(he))",
          "new_line_content": "        while(he) {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "dictSize",
          "new_api": null,
          "old_text": "dictSize(d)",
          "new_text": null,
          "old_line_content": "    if (dictSize(d) == 0) return NULL;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "            he = dictGetNext(he);",
          "new_line_content": "                return he;",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "        if (!dictIsRehashing(d)) return NULL;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "dictBuckets",
          "new_api": null,
          "old_text": "dictBuckets(d)",
          "new_text": null,
          "old_line_content": "            h = d->rehashidx + (randomULong() % (dictBuckets(d) - d->rehashidx));",
          "new_line_content": "             * to rehashidx-1 */",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "DICTHT_SIZE_MASK",
          "new_api": null,
          "old_text": "DICTHT_SIZE_MASK(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "        unsigned long m = DICTHT_SIZE_MASK(d->ht_size_exp[0]);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "randomULong",
          "new_api": null,
          "old_text": "randomULong()",
          "new_text": null,
          "old_line_content": "            h = randomULong() & m;",
          "new_line_content": "        do {",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "DICTHT_SIZE",
          "new_api": null,
          "old_text": "DICTHT_SIZE(d->ht_size_exp[0])",
          "new_text": null,
          "old_line_content": "        *from_size = DICTHT_SIZE(d->ht_size_exp[0]);",
          "new_line_content": "    if (d->ht_size_exp[0] == -1) {",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "dictIsRehashing",
          "new_api": null,
          "old_text": "dictIsRehashing(d)",
          "new_text": null,
          "old_line_content": "    assert(dictIsRehashing(d));",
          "new_line_content": "    /* Invalid method usage if rehashing isn't ongoing. */",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "        he = dictGetNext(he);",
          "new_line_content": "    while(he) {",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "zfree",
          "new_api": null,
          "old_text": "zfree(stats->clvector)",
          "new_text": null,
          "old_line_content": "    zfree(stats->clvector);",
          "new_line_content": "void dictFreeStats(dictStats *stats) {",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "    listele = random() % listlen;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "dictGetNext",
          "new_api": null,
          "old_text": "dictGetNext(he)",
          "new_text": null,
          "old_line_content": "    while(listele--) he = dictGetNext(he);",
          "new_line_content": "    he = orighe;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 61,
      "total_additions": 145,
      "total_deletions": 145,
      "total_api_changes": 351
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 1,
        "api_related_lines": 351,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          721
        ]
      }
    },
    "api_calls_before": 375,
    "api_calls_after": 375,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 0,
      "total_diff_lines": 13
    }
  }
}