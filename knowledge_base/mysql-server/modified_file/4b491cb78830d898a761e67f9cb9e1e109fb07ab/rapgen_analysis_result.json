{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/4b491cb78830d898a761e67f9cb9e1e109fb07ab",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/4b491cb78830d898a761e67f9cb9e1e109fb07ab/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/4b491cb78830d898a761e67f9cb9e1e109fb07ab/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/4b491cb78830d898a761e67f9cb9e1e109fb07ab/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 6733,
          "old_api": "index_flags",
          "new_api": "reverse_sorted",
          "old_text": "table->file->index_flags(ref_key)",
          "new_text": "select->quick->reverse_sorted()",
          "old_line_content": "            if (table->file->index_flags(ref_key) & HA_NOT_READ_PREFIX_LAST)",
          "new_line_content": "\t  if (!select->quick->reverse_sorted())",
          "content_same": false
        },
        {
          "line": 6857,
          "old_api": "make_unireg_sortorder",
          "new_api": "test_if_skip_sort_order",
          "old_text": "make_unireg_sortorder(order,&length)",
          "new_text": "test_if_skip_sort_order(tab,order,select_limit,0)",
          "old_line_content": "  if (!(sortorder=make_unireg_sortorder(order,&length)))",
          "new_line_content": "  if (test_if_skip_sort_order(tab,order,select_limit,0))",
          "content_same": false
        },
        {
          "line": 6906,
          "old_api": "DBUG_RETURN",
          "new_api": "extra",
          "old_text": "DBUG_RETURN(table->sort.found_records == HA_POS_ERROR)",
          "new_text": "table->file->extra(HA_EXTRA_NO_KEYREAD)",
          "old_line_content": "  DBUG_RETURN(table->sort.found_records == HA_POS_ERROR);",
          "new_line_content": "    table->file->extra(HA_EXTRA_NO_KEYREAD);",
          "content_same": false
        },
        {
          "line": 6939,
          "old_api": "make_cond_for_table",
          "new_api": "print_where",
          "old_text": "make_cond_for_table(*having,~ (table_map) 0,~used_tables)",
          "new_text": "print_where(table->select_cond,\n\t\t\t\t     \"select and having\")",
          "old_line_content": "    *having=make_cond_for_table(*having,~ (table_map) 0,~used_tables);",
          "new_line_content": "    DBUG_EXECUTE(\"where\",print_where(table->select_cond,",
          "content_same": false
        },
        {
          "line": 7022,
          "old_api": "remove_dup_with_hash_index",
          "new_api": "ALIGN_SIZE",
          "old_text": "remove_dup_with_hash_index(join->thd, entry,\n\t\t\t\t     field_count, first_field,\n\t\t\t\t     reclength, having)",
          "new_text": "ALIGN_SIZE(reclength)",
          "old_line_content": "    error=remove_dup_with_hash_index(join->thd, entry,",
          "new_line_content": "       ((ALIGN_SIZE(reclength) +sizeof(HASH_LINK)) * entry->file->records <",
          "content_same": false
        },
        {
          "line": 7067,
          "old_api": "delete_row",
          "new_api": "val_int",
          "old_text": "file->delete_row(record)",
          "new_text": "having->val_int()",
          "old_line_content": "      if ((error=file->delete_row(record)))",
          "new_line_content": "    if (having && !having->val_int())",
          "content_same": false
        },
        {
          "line": 7069,
          "old_api": "rnd_next",
          "new_api": "delete_row",
          "old_text": "file->rnd_next(record)",
          "new_text": "file->delete_row(record)",
          "old_line_content": "      error=file->rnd_next(record);",
          "new_line_content": "      if ((error=file->delete_row(record)))",
          "content_same": false
        },
        {
          "line": 7074,
          "old_api": "MYF",
          "new_api": "copy_blobs",
          "old_text": "MYF(0)",
          "new_text": "copy_blobs(first_field)",
          "old_line_content": "      my_error(ER_OUTOFMEMORY,MYF(0));",
          "new_line_content": "    if (copy_blobs(first_field))",
          "content_same": false
        },
        {
          "line": 7094,
          "old_api": "delete_row",
          "new_api": "compare_record",
          "old_text": "file->delete_row(record)",
          "new_text": "compare_record(table, first_field)",
          "old_line_content": "\tif ((error=file->delete_row(record)))",
          "new_line_content": "      if (compare_record(table, first_field) == 0)",
          "content_same": false
        },
        {
          "line": 7112,
          "old_api": "extra",
          "new_api": "DBUG_RETURN",
          "old_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "new_line_content": "  DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 7114,
          "old_api": "MYF",
          "new_api": "extra",
          "old_text": "MYF(0)",
          "new_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "old_line_content": "    file->print_error(error,MYF(0));",
          "new_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "content_same": false
        },
        {
          "line": 7138,
          "old_api": "MYF",
          "new_api": "DBUG_ENTER",
          "old_text": "MYF(MY_WME)",
          "new_text": "DBUG_ENTER(\"remove_dup_with_hash_index\")",
          "old_line_content": "  if (!my_multi_malloc(MYF(MY_WME),",
          "new_line_content": "  DBUG_ENTER(\"remove_dup_with_hash_index\");",
          "content_same": false
        },
        {
          "line": 7140,
          "old_api": "uint) ((key_length + extra_length) *\n\t\t\t       (long) file->records)",
          "new_api": "MYF",
          "old_text": "uint) ((key_length + extra_length) *\n\t\t\t       (long) file->records)",
          "new_text": "MYF(MY_WME)",
          "old_line_content": "\t\t       (uint) ((key_length + extra_length) *",
          "new_line_content": "  if (!my_multi_malloc(MYF(MY_WME),",
          "content_same": false
        },
        {
          "line": 7145,
          "old_api": "DBUG_RETURN",
          "new_api": "uint) (field_count*sizeof(*field_lengths))",
          "old_text": "DBUG_RETURN(1)",
          "new_text": "uint) (field_count*sizeof(*field_lengths))",
          "old_line_content": "    DBUG_RETURN(1);",
          "new_line_content": "\t\t       (uint) (field_count*sizeof(*field_lengths)),",
          "content_same": false
        },
        {
          "line": 7147,
          "old_api": "hash_init",
          "new_api": "DBUG_RETURN",
          "old_text": "hash_init(&hash, &my_charset_bin, (uint) file->records, 0, \n\t\tkey_length,(hash_get_key) 0, 0, 0)",
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "  if (hash_init(&hash, &my_charset_bin, (uint) file->records, 0, ",
          "new_line_content": "    DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 7179,
          "old_api": "delete_row",
          "new_api": "val_int",
          "old_text": "file->delete_row(record)",
          "new_text": "having->val_int()",
          "old_line_content": "      if ((error=file->delete_row(record)))",
          "new_line_content": "    if (having && !having->val_int())",
          "content_same": false
        },
        {
          "line": 7204,
          "old_api": "extra",
          "new_api": "MYF",
          "old_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "new_text": "MYF(0)",
          "old_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "new_line_content": "  my_free((char*) key_buffer,MYF(0));",
          "content_same": false
        },
        {
          "line": 7205,
          "old_api": "rnd_end",
          "new_api": "hash_free",
          "old_text": "file->rnd_end()",
          "new_text": "hash_free(&hash)",
          "old_line_content": "  (void) file->rnd_end();",
          "new_line_content": "  hash_free(&hash);",
          "content_same": false
        },
        {
          "line": 7206,
          "old_api": "DBUG_RETURN",
          "new_api": "extra",
          "old_text": "DBUG_RETURN(0)",
          "new_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "old_line_content": "  DBUG_RETURN(0);",
          "new_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "content_same": false
        },
        {
          "line": 7211,
          "old_api": "extra",
          "new_api": "MYF",
          "old_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "new_text": "MYF(0)",
          "old_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "new_line_content": "  my_free((char*) key_buffer,MYF(0));",
          "content_same": false
        },
        {
          "line": 7212,
          "old_api": "rnd_end",
          "new_api": "hash_free",
          "old_text": "file->rnd_end()",
          "new_text": "hash_free(&hash)",
          "old_line_content": "  (void) file->rnd_end();",
          "new_line_content": "  hash_free(&hash);",
          "content_same": false
        },
        {
          "line": 7214,
          "old_api": "MYF",
          "new_api": "rnd_end",
          "old_text": "MYF(0)",
          "new_text": "file->rnd_end()",
          "old_line_content": "    file->print_error(error,MYF(0));",
          "new_line_content": "  (void) file->rnd_end();",
          "content_same": false
        },
        {
          "line": 7239,
          "old_api": "get_tmp_table_field",
          "new_api": "type",
          "old_text": "(Item_sum*) order->item[0])->get_tmp_table_field()",
          "new_text": "order->item[0]->type()",
          "old_line_content": "      pos->field= ((Item_sum*) order->item[0])->get_tmp_table_field();",
          "new_line_content": "    else if (order->item[0]->type() == Item::SUM_FUNC_ITEM &&",
          "content_same": false
        },
        {
          "line": 7240,
          "old_api": "type",
          "new_api": "const_item",
          "old_text": "order->item[0]->type()",
          "new_text": "order->item[0]->const_item()",
          "old_line_content": "    else if (order->item[0]->type() == Item::COPY_STR_ITEM)",
          "new_line_content": "\t     !order->item[0]->const_item())",
          "content_same": false
        },
        {
          "line": 7287,
          "old_api": "DBUG_RETURN",
          "new_api": "MYF",
          "old_text": "DBUG_RETURN(1)",
          "new_text": "MYF(0)",
          "old_line_content": "    DBUG_RETURN(1);\t\t\t\t/* purecov: inspected */",
          "new_line_content": "    my_free((gptr) cache->buff,MYF(0));\t\t/* purecov: inspected */",
          "content_same": false
        },
        {
          "line": 7345,
          "old_api": "DBUG_RETURN",
          "new_api": "max",
          "old_text": "DBUG_RETURN(1)",
          "new_text": "max(thd->variables.join_buff_size, cache->length)",
          "old_line_content": "    DBUG_RETURN(1);\t\t\t\t/* Don't use cache */ /* purecov: inspected */",
          "new_line_content": "  size=max(thd->variables.join_buff_size, cache->length);",
          "content_same": false
        },
        {
          "line": 7347,
          "old_api": "reset_cache",
          "new_api": "DBUG_RETURN",
          "old_text": "reset_cache(cache)",
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "  reset_cache(cache);",
          "new_line_content": "    DBUG_RETURN(1);\t\t\t\t/* Don't use cache */ /* purecov: inspected */",
          "content_same": false
        },
        {
          "line": 7360,
          "old_api": "get_ptr",
          "new_api": "get_length",
          "old_text": "*ptr)->blob_field->get_ptr(&(*ptr)->str)",
          "new_text": "*ptr)->blob_field->get_length()",
          "old_line_content": "    (*ptr)->blob_field->get_ptr(&(*ptr)->str);",
          "new_line_content": "    (*ptr)->blob_length=blob_length=(*ptr)->blob_field->get_length();",
          "content_same": false
        },
        {
          "line": 7401,
          "old_api": "memcpy",
          "new_api": "get_image",
          "old_text": "memcpy(pos+copy->length,copy->str,copy->blob_length)",
          "new_text": "copy->blob_field->get_image((char*) pos,copy->length, // blob length\n\t\t\t\t    copy->blob_field->charset())",
          "old_line_content": "\tmemcpy(pos+copy->length,copy->str,copy->blob_length);  // Blob data",
          "new_line_content": "\tcopy->blob_field->get_image((char*) pos,copy->length, // blob length",
          "content_same": false
        },
        {
          "line": 7495,
          "old_api": "cp_buffer_from_ref",
          "new_api": "memcpy",
          "old_text": "cp_buffer_from_ref(&tab->ref)",
          "new_text": "memcpy(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length)",
          "old_line_content": "  if ((tab->ref.key_err=cp_buffer_from_ref(&tab->ref)) || diff)",
          "new_line_content": "    memcpy(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length);",
          "content_same": false
        },
        {
          "line": 7497,
          "old_api": "memcmp",
          "new_api": "cp_buffer_from_ref",
          "old_text": "memcmp(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length)",
          "new_text": "cp_buffer_from_ref(&tab->ref)",
          "old_line_content": "  return memcmp(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length)",
          "new_line_content": "  if ((tab->ref.key_err=cp_buffer_from_ref(&tab->ref)) || diff)",
          "content_same": false
        },
        {
          "line": 7556,
          "old_api": "check_cols",
          "new_api": "fix_fields",
          "old_text": "it= *order->item)->check_cols(1)",
          "new_text": "it->fix_fields(thd, tables, order->item)",
          "old_line_content": "      (it= *order->item)->check_cols(1) ||",
          "new_line_content": "  if (it->fix_fields(thd, tables, order->item) ||",
          "content_same": false
        },
        {
          "line": 7628,
          "old_api": "full_name",
          "new_api": "const_item",
          "old_text": "my_printf_error(ER_WRONG_FIELD_WITH_GROUP,\n\t\t\tER(ER_WRONG_FIELD_WITH_GROUP),\n\t\t\tMYF(0),item->full_name())",
          "new_text": "item->const_item()",
          "old_line_content": "\tmy_printf_error(ER_WRONG_FIELD_WITH_GROUP,",
          "new_line_content": "\t  !item->const_item())",
          "content_same": false
        },
        {
          "line": 7663,
          "old_api": "push_front",
          "new_api": "fix_fields",
          "old_text": "all_fields.push_front(*new_field->item)",
          "new_text": "*new_field->item)->fix_fields(thd, tables, new_field->item)",
          "old_line_content": "      all_fields.push_front(*new_field->item);",
          "new_line_content": "      if ((*new_field->item)->fix_fields(thd, tables, new_field->item))",
          "content_same": false
        },
        {
          "line": 7664,
          "old_api": "head_ref",
          "new_api": "DBUG_RETURN",
          "old_text": "all_fields.head_ref()",
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "      new_field->item=all_fields.head_ref();",
          "new_line_content": "\tDBUG_RETURN(1); /* purecov: inspected */",
          "content_same": false
        },
        {
          "line": 7812,
          "old_api": "used_tables",
          "new_api": "eq",
          "old_text": "a->item[0]->used_tables()",
          "new_text": "*a->item)->eq(*b->item,1)",
          "old_line_content": "    map|=a->item[0]->used_tables();",
          "new_line_content": "    if (!(*a->item)->eq(*b->item,1))",
          "content_same": false
        },
        {
          "line": 7844,
          "old_api": "result_type",
          "new_api": "pack_length",
          "old_text": "*group->item)->result_type()",
          "new_text": "field->pack_length()",
          "old_line_content": "    else if ((*group->item)->result_type() == REAL_RESULT)",
          "new_line_content": "\tkey_length+=field->pack_length();",
          "content_same": false
        },
        {
          "line": 7966,
          "old_api": "empty",
          "new_api": "DBUG_ENTER",
          "old_text": "res_all_fields.empty()",
          "new_text": "DBUG_ENTER(\"setup_copy_fields\")",
          "old_line_content": "  res_all_fields.empty();",
          "new_line_content": "  DBUG_ENTER(\"setup_copy_fields\");",
          "content_same": false
        },
        {
          "line": 8178,
          "old_api": "get_tmp_table_item",
          "new_api": "type",
          "old_text": "item->get_tmp_table_item(thd)",
          "new_text": "item->type()",
          "old_line_content": "\titem_field= item->get_tmp_table_item(thd);",
          "new_line_content": "      if (item->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 8180,
          "old_api": "get_tmp_table_field",
          "new_api": "get_tmp_table_item",
          "old_text": "item->get_tmp_table_field()",
          "new_text": "item->get_tmp_table_item(thd)",
          "old_line_content": "      else if ((field= item->get_tmp_table_field()))",
          "new_line_content": "\titem_field= item->get_tmp_table_item(thd);",
          "content_same": false
        },
        {
          "line": 8182,
          "old_api": "type",
          "new_api": "get_tmp_table_field",
          "old_text": "item->type()",
          "new_text": "item->get_tmp_table_field()",
          "old_line_content": "\tif (item->type() == Item::SUM_FUNC_ITEM && field->table->group)",
          "new_line_content": "      else if ((field= item->get_tmp_table_field()))",
          "content_same": false
        },
        {
          "line": 8347,
          "old_api": "DBUG_RETURN",
          "new_api": "DBUG_ENTER",
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": "DBUG_ENTER(\"add_ref_to_table_cond\")",
          "old_line_content": "    DBUG_RETURN(FALSE);",
          "new_line_content": "  DBUG_ENTER(\"add_ref_to_table_cond\");",
          "content_same": false
        },
        {
          "line": 8394,
          "old_api": "next_unit",
          "new_api": "first_inner_unit",
          "old_text": "unit->next_unit()",
          "new_text": "select->first_inner_unit()",
          "old_line_content": "       unit= unit->next_unit())",
          "new_line_content": "  for (SELECT_LEX_UNIT *unit= select->first_inner_unit();",
          "content_same": false
        },
        {
          "line": 8533,
          "old_api": "setup",
          "new_api": "copy_or_same",
          "old_text": "(Item_sum*) item)->setup(thd)",
          "new_text": "item->copy_or_same(thd)",
          "old_line_content": "\tif (((Item_sum*) item)->setup(thd))",
          "new_line_content": "\titem= item->copy_or_same(thd);",
          "content_same": false
        },
        {
          "line": 8660,
          "old_api": "strlen",
          "new_api": "push_back",
          "old_text": "strlen(join->select_lex->type)",
          "new_text": "item_list.push_back(new Item_int((int32) join->select_lex->select_number))",
          "old_line_content": "\t\t\t\t\tstrlen(join->select_lex->type), cs));",
          "new_line_content": "    item_list.push_back(new Item_int((int32) join->select_lex->select_number));",
          "content_same": false
        },
        {
          "line": 8662,
          "old_api": "push_back",
          "new_api": "strlen",
          "old_text": "item_list.push_back(item_null)",
          "new_text": "strlen(join->select_lex->type)",
          "old_line_content": "      item_list.push_back(item_null);",
          "new_line_content": "\t\t\t\t\tstrlen(join->select_lex->type), cs));",
          "content_same": false
        },
        {
          "line": 8664,
          "old_api": "send_data",
          "new_api": "push_back",
          "old_text": "result->send_data(item_list)",
          "new_text": "item_list.push_back(item_null)",
          "old_line_content": "    if (result->send_data(item_list))",
          "new_line_content": "      item_list.push_back(item_null);",
          "content_same": false
        },
        {
          "line": 8682,
          "old_api": "empty",
          "new_api": "length",
          "old_text": "item_list.empty()",
          "new_text": "tmp2.length(0)",
          "old_line_content": "      item_list.empty();",
          "new_line_content": "      tmp2.length(0);",
          "content_same": false
        },
        {
          "line": 8702,
          "old_api": "push_back",
          "new_api": "strlen",
          "old_text": "item_list.push_back(new Item_string(join_type_str[tab->type],\n\t\t\t\t\t  strlen(join_type_str[tab->type]),\n\t\t\t\t\t  cs))",
          "new_text": "strlen(table->table_name)",
          "old_line_content": "      item_list.push_back(new Item_string(join_type_str[tab->type],",
          "new_line_content": "\t\t\t\t\t    strlen(table->table_name),",
          "content_same": false
        },
        {
          "line": 8713,
          "old_api": "append",
          "new_api": "length",
          "old_text": "tmp1.append(table->key_info[j].name)",
          "new_text": "tmp1.length()",
          "old_line_content": "\t  tmp1.append(table->key_info[j].name);",
          "new_line_content": "\t  if (tmp1.length())",
          "content_same": false
        },
        {
          "line": 8719,
          "old_api": "push_back",
          "new_api": "length",
          "old_text": "item_list.push_back(item_null)",
          "new_text": "tmp1.length()",
          "old_line_content": " \titem_list.push_back(item_null);",
          "new_line_content": "\titem_list.push_back(new Item_string(tmp1.ptr(),tmp1.length(),cs));",
          "content_same": false
        },
        {
          "line": 8726,
          "old_api": "push_back",
          "new_api": "strlen",
          "old_text": "item_list.push_back(new Item_int((int32) tab->ref.key_length))",
          "new_text": "strlen(key_info->name)",
          "old_line_content": "\titem_list.push_back(new Item_int((int32) tab->ref.key_length));",
          "new_line_content": "\t\t\t\t\t    strlen(key_info->name),",
          "content_same": false
        },
        {
          "line": 8731,
          "old_api": "name",
          "new_api": "length",
          "old_text": "*ref)->name()",
          "new_text": "tmp2.length()",
          "old_line_content": "\t  tmp2.append((*ref)->name());",
          "new_line_content": "\t  if (tmp2.length())",
          "content_same": false
        },
        {
          "line": 8733,
          "old_api": "length",
          "new_api": "name",
          "old_text": "tmp2.length()",
          "new_text": "*ref)->name()",
          "old_line_content": "\titem_list.push_back(new Item_string(tmp2.ptr(),tmp2.length(),cs));",
          "new_line_content": "\t  tmp2.append((*ref)->name());",
          "content_same": false
        },
        {
          "line": 8741,
          "old_api": "push_back",
          "new_api": "strlen",
          "old_text": "item_list.push_back(item_null)",
          "new_text": "strlen(key_info->name)",
          "old_line_content": "\titem_list.push_back(item_null);",
          "new_line_content": "\t\t\t\t\t    strlen(key_info->name),cs));",
          "content_same": false
        },
        {
          "line": 8776,
          "old_api": "strend",
          "new_api": "sprintf",
          "old_text": "strend(buff_ptr)",
          "new_text": "sprintf(buff_ptr,\"; Range checked for each record (index map: %u)\",\n\t\t    tab->keys)",
          "old_line_content": "\t    buff_ptr=strend(buff_ptr);",
          "new_line_content": "\t    sprintf(buff_ptr,\"; Range checked for each record (index map: %u)\",",
          "content_same": false
        },
        {
          "line": 8795,
          "old_api": "test_all_bits",
          "new_api": "strmov",
          "old_text": "test_all_bits(used_tables,thd->used_tables)",
          "new_text": "strmov(buff_ptr,\"; Using filesort\")",
          "old_line_content": "\tif (distinct & test_all_bits(used_tables,thd->used_tables))",
          "new_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Using filesort\");",
          "content_same": false
        },
        {
          "line": 8810,
          "old_api": "next_unit",
          "new_api": "first_inner_unit",
          "old_text": "unit->next_unit()",
          "new_text": "join->select_lex->first_inner_unit()",
          "old_line_content": "       unit= unit->next_unit())",
          "new_line_content": "  for (SELECT_LEX_UNIT *unit= join->select_lex->first_inner_unit();",
          "content_same": false
        },
        {
          "line": 8812,
          "old_api": "mysql_explain_union",
          "new_api": "next_unit",
          "old_text": "mysql_explain_union(thd, unit, result)",
          "new_text": "unit->next_unit()",
          "old_line_content": "    if (mysql_explain_union(thd, unit, result))",
          "new_line_content": "       unit= unit->next_unit())",
          "content_same": false
        },
        {
          "line": 8823,
          "old_api": "first_select",
          "new_api": "DBUG_ENTER",
          "old_text": "unit->first_select()",
          "new_text": "DBUG_ENTER(\"mysql_explain_union\")",
          "old_line_content": "  SELECT_LEX *first= unit->first_select();",
          "new_line_content": "  DBUG_ENTER(\"mysql_explain_union\");",
          "content_same": false
        },
        {
          "line": 8828,
          "old_api": "mysql_explain_select",
          "new_api": "next_select",
          "old_text": "mysql_explain_select(thd, sl,\n\t\t\t      (((&thd->lex.select_lex)==sl)?\n\t\t\t       ((thd->lex.all_selects_list != sl)?\"PRIMARY\":\n\t\t\t\t\"SIMPLE\"):\n\t\t\t       ((sl == first)?\n\t\t\t\t((sl->linkage == DERIVED_TABLE_TYPE) ?\n\t\t\t\t \"DERIVED\":\n\t\t\t\t((sl->dependent)?\"DEPENDENT SUBQUERY\":\n\t\t\t\t (sl->uncacheable?\"UNCACHEABLE SUBQUERY\":\n\t\t\t\t   \"SUBQUERY\"))):\n\t\t\t\t((sl->dependent)?\"DEPENDENT UNION\":\n\t\t\t\t sl->uncacheable?\"UNCACHEABLE UNION\":\n\t\t\t\t  \"UNION\"))),\n\t\t\t      result)",
          "new_text": "sl->next_select()",
          "old_line_content": "    res= mysql_explain_select(thd, sl,",
          "new_line_content": "       sl= sl->next_select())",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 8704,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_string(join_type_str[tab->type],\n\t\t\t\t\t  strlen(join_type_str[tab->type]),\n\t\t\t\t\t  cs))",
          "old_line_content": "\t\t\t\t\t  cs));",
          "new_line_content": "      item_list.push_back(new Item_string(join_type_str[tab->type],",
          "content_same": false
        },
        {
          "line": 8705,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(join_type_str[tab->type])",
          "old_line_content": "      key_map bits;",
          "new_line_content": "\t\t\t\t\t  strlen(join_type_str[tab->type]),",
          "content_same": false
        },
        {
          "line": 7171,
          "old_api": null,
          "new_api": "rnd_next",
          "old_text": null,
          "new_text": "file->rnd_next(record)",
          "old_line_content": "      if (error == HA_ERR_RECORD_DELETED)",
          "new_line_content": "    if ((error=file->rnd_next(record)))",
          "content_same": false
        },
        {
          "line": 8197,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "item->print(&str)",
          "old_line_content": "\t}",
          "new_line_content": "\t  item->print(&str);",
          "content_same": false
        },
        {
          "line": 8198,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "str.length()",
          "old_line_content": "#endif",
          "new_line_content": "\t  item_field->name= sql_strmake(str.ptr(),str.length());",
          "content_same": false
        },
        {
          "line": 8714,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "tmp1.append(',')",
          "old_line_content": "\t}",
          "new_line_content": "\t    tmp1.append(',');",
          "content_same": false
        },
        {
          "line": 8715,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "tmp1.append(table->key_info[j].name)",
          "old_line_content": "      }",
          "new_line_content": "\t  tmp1.append(table->key_info[j].name);",
          "content_same": false
        },
        {
          "line": 8205,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "res_all_fields.push_back(item_field)",
          "old_line_content": "      item_field;",
          "new_line_content": "    res_all_fields.push_back(item_field);",
          "content_same": false
        },
        {
          "line": 8718,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "tmp1.length()",
          "old_line_content": "      else",
          "new_line_content": "      if (tmp1.length())",
          "content_same": false
        },
        {
          "line": 7181,
          "old_api": null,
          "new_api": "delete_row",
          "old_text": null,
          "new_text": "file->delete_row(record)",
          "old_line_content": "      continue;",
          "new_line_content": "      if ((error=file->delete_row(record)))",
          "content_same": false
        },
        {
          "line": 7695,
          "old_api": null,
          "new_api": "memdup",
          "old_text": null,
          "new_text": "thd->memdup((char*) order,sizeof(ORDER))",
          "old_line_content": "\treturn 0;",
          "new_line_content": "      ORDER *ord=(ORDER*) thd->memdup((char*) order,sizeof(ORDER));",
          "content_same": false
        },
        {
          "line": 8721,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(item_null)",
          "old_line_content": "      {",
          "new_line_content": " \titem_list.push_back(item_null);",
          "content_same": false
        },
        {
          "line": 6676,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  else if (select && select->quick)\t\t// Range found by opt_range",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 8213,
          "old_api": null,
          "new_api": "sublist",
          "old_text": null,
          "new_text": "itr.sublist(res_selected_fields, elements)",
          "old_line_content": "}",
          "new_line_content": "  itr.sublist(res_selected_fields, elements);",
          "content_same": false
        },
        {
          "line": 8725,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_string(key_info->name,\n\t\t\t\t\t    strlen(key_info->name),\n\t\t\t\t\t    system_charset_info))",
          "old_line_content": "\t\t\t\t\t    system_charset_info));",
          "new_line_content": "\titem_list.push_back(new Item_string(key_info->name,",
          "content_same": false
        },
        {
          "line": 7190,
          "old_api": null,
          "new_api": "sort_string",
          "old_text": null,
          "new_text": "*ptr)->sort_string((char*) key_pos,*field_length)",
          "old_line_content": "    }",
          "new_line_content": "      (*ptr)->sort_string((char*) key_pos,*field_length);",
          "content_same": false
        },
        {
          "line": 8728,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_int((int32) tab->ref.key_length))",
          "old_line_content": "\t{",
          "new_line_content": "\titem_list.push_back(new Item_int((int32) tab->ref.key_length));",
          "content_same": false
        },
        {
          "line": 7194,
          "old_api": null,
          "new_api": "hash_search",
          "old_text": null,
          "new_text": "hash_search(&hash,key_pos-key_length,key_length)",
          "old_line_content": "      /* Duplicated found ; Remove the row */",
          "new_line_content": "    if (hash_search(&hash,key_pos-key_length,key_length))",
          "content_same": false
        },
        {
          "line": 7706,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "li.rewind()",
          "old_line_content": "  {",
          "new_line_content": "  li.rewind();",
          "content_same": false
        },
        {
          "line": 8732,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "tmp2.append(',')",
          "old_line_content": "\t}",
          "new_line_content": "\t    tmp2.append(',');",
          "content_same": false
        },
        {
          "line": 7197,
          "old_api": null,
          "new_api": "delete_row",
          "old_text": null,
          "new_text": "file->delete_row(record)",
          "old_line_content": "    }",
          "new_line_content": "      if ((error=file->delete_row(record)))",
          "content_same": false
        },
        {
          "line": 7709,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "    if (!item->marker)",
          "new_line_content": "    if (item->const_item() || item->with_sum_func)",
          "content_same": false
        },
        {
          "line": 8735,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "tmp2.length()",
          "old_line_content": "      else if (tab->type == JT_NEXT)",
          "new_line_content": "\titem_list.push_back(new Item_string(tmp2.ptr(),tmp2.length(),cs));",
          "content_same": false
        },
        {
          "line": 7201,
          "old_api": null,
          "new_api": "my_hash_insert",
          "old_text": null,
          "new_text": "my_hash_insert(&hash, key_pos-key_length)",
          "old_line_content": "  }",
          "new_line_content": "      (void) my_hash_insert(&hash, key_pos-key_length);",
          "content_same": false
        },
        {
          "line": 7713,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "thd->calloc(sizeof(ORDER))",
          "old_line_content": "\treturn 0;",
          "new_line_content": "      ORDER *ord=(ORDER*) thd->calloc(sizeof(ORDER));",
          "content_same": false
        },
        {
          "line": 7716,
          "old_api": null,
          "new_api": "ref",
          "old_text": null,
          "new_text": "li.ref()",
          "old_line_content": "      *prev=ord;",
          "new_line_content": "      ord->item=li.ref();",
          "content_same": false
        },
        {
          "line": 8742,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_int((int32) key_info->key_length))",
          "old_line_content": "      }",
          "new_line_content": "\titem_list.push_back(new Item_int((int32) key_info->key_length));",
          "content_same": false
        },
        {
          "line": 8743,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(item_null)",
          "old_line_content": "      else if (tab->select && tab->select->quick)",
          "new_line_content": "\titem_list.push_back(item_null);",
          "content_same": false
        },
        {
          "line": 7207,
          "old_api": null,
          "new_api": "rnd_end",
          "old_text": null,
          "new_text": "file->rnd_end()",
          "old_line_content": "",
          "new_line_content": "  (void) file->rnd_end();",
          "content_same": false
        },
        {
          "line": 7208,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "err:",
          "new_line_content": "  DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 8749,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(key_info->name)",
          "old_line_content": "\t\t\t\t\t max_used_key_length));",
          "new_line_content": "\t\t\t\t\t    strlen(key_info->name),cs));",
          "content_same": false
        },
        {
          "line": 7213,
          "old_api": null,
          "new_api": "extra",
          "old_text": null,
          "new_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "old_line_content": "  if (error)",
          "new_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "content_same": false
        },
        {
          "line": 6703,
          "old_api": null,
          "new_api": "test_if_subkey",
          "old_text": null,
          "new_text": "test_if_subkey(order, table, ref_key, ref_key_parts,\n\t\t\t\t       usable_keys)",
          "old_line_content": "      {",
          "new_line_content": "      if ((new_ref_key= test_if_subkey(order, table, ref_key, ref_key_parts,",
          "content_same": false
        },
        {
          "line": 8752,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(item_null)",
          "old_line_content": "      else",
          "new_line_content": "\titem_list.push_back(item_null);",
          "content_same": false
        },
        {
          "line": 7216,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "}",
          "new_line_content": "    file->print_error(error,MYF(0));",
          "content_same": false
        },
        {
          "line": 7217,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 8243,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "res_selected_fields.empty()",
          "old_line_content": "",
          "new_line_content": "  res_selected_fields.empty();",
          "content_same": false
        },
        {
          "line": 8244,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "res_all_fields.empty()",
          "old_line_content": "  uint i, border= all_fields.elements - elements;",
          "new_line_content": "  res_all_fields.empty();",
          "content_same": false
        },
        {
          "line": 8757,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(item_null)",
          "old_line_content": "      }",
          "new_line_content": "\titem_list.push_back(item_null);",
          "content_same": false
        },
        {
          "line": 6710,
          "old_api": null,
          "new_api": "index_init",
          "old_text": null,
          "new_text": "table->file->index_init(new_ref_key)",
          "old_line_content": "\telse",
          "new_line_content": "\t  table->file->index_init(new_ref_key);",
          "content_same": false
        },
        {
          "line": 8760,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_int((longlong) (ulonglong)\n\t\t\t\t       join->best_positions[i]. records_read,\n\t\t\t\t       21))",
          "old_line_content": "\t\t\t\t       21));",
          "new_line_content": "      item_list.push_back(new Item_int((longlong) (ulonglong)",
          "content_same": false
        },
        {
          "line": 8249,
          "old_api": null,
          "new_api": "get_tmp_table_item",
          "old_text": null,
          "new_text": "item->get_tmp_table_item(thd)",
          "old_line_content": "      new_item;",
          "new_line_content": "    res_all_fields.push_back(new_item= item->get_tmp_table_item(thd));",
          "content_same": false
        },
        {
          "line": 7225,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"make_unireg_sortorder\")",
          "old_line_content": "  count=0;",
          "new_line_content": "  DBUG_ENTER(\"make_unireg_sortorder\");",
          "content_same": false
        },
        {
          "line": 6715,
          "old_api": null,
          "new_api": "init",
          "old_text": null,
          "new_text": "select->quick->init()",
          "old_line_content": "\tref_key= new_ref_key;",
          "new_line_content": "\t  select->quick->init();",
          "content_same": false
        },
        {
          "line": 7230,
          "old_api": null,
          "new_api": "sql_alloc",
          "old_text": null,
          "new_text": "sql_alloc(sizeof(SORT_FIELD)*(count+1))",
          "old_line_content": "    return 0;",
          "new_line_content": "  pos=sort=(SORT_FIELD*) sql_alloc(sizeof(SORT_FIELD)*(count+1));",
          "content_same": false
        },
        {
          "line": 7743,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "field->type()",
          "old_line_content": "      param->field_count++;",
          "new_line_content": "    Item::Type type=field->type();",
          "content_same": false
        },
        {
          "line": 8257,
          "old_api": null,
          "new_api": "sublist",
          "old_text": null,
          "new_text": "itr.sublist(res_selected_fields, elements)",
          "old_line_content": "  return thd->is_fatal_error;",
          "new_line_content": "  itr.sublist(res_selected_fields, elements);",
          "content_same": false
        },
        {
          "line": 8769,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(tab->info)",
          "old_line_content": "      {",
          "new_line_content": "\titem_list.push_back(new Item_string(tab->info,strlen(tab->info),cs));",
          "content_same": false
        },
        {
          "line": 6722,
          "old_api": null,
          "new_api": "test_if_order_by_key",
          "old_text": null,
          "new_text": "test_if_order_by_key(order,table,ref_key,\n\t\t\t\t\t\t&used_key_parts)",
          "old_line_content": "    {",
          "new_line_content": "\t(order_direction = test_if_order_by_key(order,table,ref_key,",
          "content_same": false
        },
        {
          "line": 7748,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "field->const_item()",
          "old_line_content": "\tItem_sum *sum_item=(Item_sum*) field;",
          "new_line_content": "      if (! field->const_item())",
          "content_same": false
        },
        {
          "line": 7241,
          "old_api": null,
          "new_api": "get_tmp_table_field",
          "old_text": null,
          "new_text": "(Item_sum*) order->item[0])->get_tmp_table_field()",
          "old_line_content": "    {\t\t\t\t\t\t// Blob patch",
          "new_line_content": "      pos->field= ((Item_sum*) order->item[0])->get_tmp_table_field();",
          "content_same": false
        },
        {
          "line": 8778,
          "old_api": null,
          "new_api": "strend",
          "old_text": null,
          "new_text": "strend(buff_ptr)",
          "old_line_content": "\t  else",
          "new_line_content": "\t    buff_ptr=strend(buff_ptr);",
          "content_same": false
        },
        {
          "line": 7242,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "order->item[0]->type()",
          "old_line_content": "      pos->item= ((Item_copy_string*) (*order->item))->item;",
          "new_line_content": "    else if (order->item[0]->type() == Item::COPY_STR_ITEM)",
          "content_same": false
        },
        {
          "line": 8781,
          "old_api": null,
          "new_api": "strmov",
          "old_text": null,
          "new_text": "strmov(buff_ptr,\"; Using where\")",
          "old_line_content": "\tif (key_read)",
          "new_line_content": "\t    buff_ptr=strmov(buff_ptr,\"; Using where\");",
          "content_same": false
        },
        {
          "line": 7757,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "sum_item->args[0]->type()",
          "old_line_content": "\t  else",
          "new_line_content": "\t  if (sum_item->args[0]->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 6735,
          "old_api": null,
          "new_api": "index_flags",
          "old_text": null,
          "new_text": "table->file->index_flags(ref_key)",
          "old_line_content": "\t    // ORDER BY range_key DESC",
          "new_line_content": "            if (table->file->index_flags(ref_key) & HA_NOT_READ_PREFIX_LAST)",
          "content_same": false
        },
        {
          "line": 6736,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "\t    QUICK_SELECT_DESC *tmp=new QUICK_SELECT_DESC(select->quick,",
          "new_line_content": "              DBUG_RETURN(0);\t\t\t// Use filesort",
          "content_same": false
        },
        {
          "line": 8273,
          "old_api": null,
          "new_api": "reset_field",
          "old_text": null,
          "new_text": "func->reset_field()",
          "old_line_content": "",
          "new_line_content": "    func->reset_field();",
          "content_same": false
        },
        {
          "line": 8786,
          "old_api": null,
          "new_api": "strmov",
          "old_text": null,
          "new_text": "strmov(buff_ptr,\"; Not exists\")",
          "old_line_content": "\t{",
          "new_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Not exists\");",
          "content_same": false
        },
        {
          "line": 7251,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(sort)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(sort);",
          "content_same": false
        },
        {
          "line": 8790,
          "old_api": null,
          "new_api": "strmov",
          "old_text": null,
          "new_text": "strmov(buff_ptr,\"; Using temporary\")",
          "old_line_content": "\tif (need_order)",
          "new_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Using temporary\");",
          "content_same": false
        },
        {
          "line": 6743,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "\t    select->quick=tmp;",
          "new_line_content": "\t      DBUG_RETURN(0);\t\t// Reverse sort not supported",
          "content_same": false
        },
        {
          "line": 6747,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\tif (tab->ref.key_parts < used_key_parts)",
          "new_line_content": "\t  DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 8285,
          "old_api": null,
          "new_api": "update_field",
          "old_text": null,
          "new_text": "func->update_field()",
          "old_line_content": "",
          "new_line_content": "    func->update_field();",
          "content_same": false
        },
        {
          "line": 8797,
          "old_api": null,
          "new_api": "test_all_bits",
          "old_text": null,
          "new_text": "test_all_bits(used_tables,thd->used_tables)",
          "old_line_content": "\tif (buff_ptr == buff)",
          "new_line_content": "\tif (distinct & test_all_bits(used_tables,thd->used_tables))",
          "content_same": false
        },
        {
          "line": 8798,
          "old_api": null,
          "new_api": "strmov",
          "old_text": null,
          "new_text": "strmov(buff_ptr,\"; Distinct\")",
          "old_line_content": "\t  buff_ptr+= 2;\t\t\t\t// Skip inital \"; \"",
          "new_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Distinct\");",
          "content_same": false
        },
        {
          "line": 8801,
          "old_api": null,
          "new_api": "uint) (buff_ptr - buff)",
          "old_text": null,
          "new_text": "uint) (buff_ptr - buff)",
          "old_line_content": "      }",
          "new_line_content": "\titem_list.push_back(new Item_string(buff+2,(uint) (buff_ptr - buff)-2,",
          "content_same": false
        },
        {
          "line": 6757,
          "old_api": null,
          "new_api": "index_flags",
          "old_text": null,
          "new_text": "table->file->index_flags(ref_key)",
          "old_line_content": "\t  tab->read_first_record=       join_read_last_key;",
          "new_line_content": "\t  if (table->file->index_flags(ref_key) & HA_NOT_READ_PREFIX_LAST)",
          "content_same": false
        },
        {
          "line": 8806,
          "old_api": null,
          "new_api": "send_data",
          "old_text": null,
          "new_text": "result->send_data(item_list)",
          "old_line_content": "    }",
          "new_line_content": "      if (result->send_data(item_list))",
          "content_same": false
        },
        {
          "line": 6758,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "\t  tab->read_record.read_record= join_read_prev_same;",
          "new_line_content": "\t    DBUG_RETURN(0);\t\t\t// Use filesort",
          "content_same": false
        },
        {
          "line": 8296,
          "old_api": null,
          "new_api": "save_in_result_field",
          "old_text": null,
          "new_text": "func->save_in_result_field(1)",
          "old_line_content": "}",
          "new_line_content": "    (void) func->save_in_result_field(1);",
          "content_same": false
        },
        {
          "line": 7270,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"join_init_cache\")",
          "old_line_content": "  cache= &tables[table_count].cache;",
          "new_line_content": "  DBUG_ENTER(\"join_init_cache\");",
          "content_same": false
        },
        {
          "line": 7785,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "*a->item)->eq(*b->item,1)",
          "old_line_content": "    else",
          "new_line_content": "    if ((*a->item)->eq(*b->item,1))",
          "content_same": false
        },
        {
          "line": 6764,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "  }",
          "new_line_content": "      DBUG_RETURN(1);\t\t\t/* No need to sort */",
          "content_same": false
        },
        {
          "line": 8814,
          "old_api": null,
          "new_api": "mysql_explain_union",
          "old_text": null,
          "new_text": "mysql_explain_union(thd, unit, result)",
          "old_line_content": "  }",
          "new_line_content": "    if (mysql_explain_union(thd, unit, result))",
          "content_same": false
        },
        {
          "line": 7279,
          "old_api": null,
          "new_api": "calc_used_field_length",
          "old_text": null,
          "new_text": "calc_used_field_length(thd, join_tab)",
          "old_line_content": "    blobs+=join_tab->used_blobs;",
          "new_line_content": "      calc_used_field_length(thd, join_tab);",
          "content_same": false
        },
        {
          "line": 7790,
          "old_api": null,
          "new_api": "test",
          "old_text": null,
          "new_text": "test(!b)",
          "old_line_content": "",
          "new_line_content": "  return test(!b);",
          "content_same": false
        },
        {
          "line": 8306,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "*func_ptr)->reset()",
          "old_line_content": "  }",
          "new_line_content": "    if ((*func_ptr)->reset())",
          "content_same": false
        },
        {
          "line": 7284,
          "old_api": null,
          "new_api": "sql_alloc",
          "old_text": null,
          "new_text": "sql_alloc(sizeof(CACHE_FIELD)*(cache->fields+table_count*2)+(blobs+1)*\n\t\t  sizeof(CACHE_FIELD*))",
          "old_line_content": "  {",
          "new_line_content": "\tsql_alloc(sizeof(CACHE_FIELD)*(cache->fields+table_count*2)+(blobs+1)*",
          "content_same": false
        },
        {
          "line": 8312,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "*func_ptr)->add()",
          "old_line_content": "  }",
          "new_line_content": "    if ((*func_ptr)->add())",
          "content_same": false
        },
        {
          "line": 8825,
          "old_api": null,
          "new_api": "first_select",
          "old_text": null,
          "new_text": "unit->first_select()",
          "old_line_content": "       sl;",
          "new_line_content": "  SELECT_LEX *first= unit->first_select();",
          "content_same": false
        },
        {
          "line": 7289,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "  copy=cache->field;",
          "new_line_content": "    DBUG_RETURN(1);\t\t\t\t/* purecov: inspected */",
          "content_same": false
        },
        {
          "line": 7803,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"get_sort_by_table\")",
          "old_line_content": "  if (!a)",
          "new_line_content": "  DBUG_ENTER(\"get_sort_by_table\");",
          "content_same": false
        },
        {
          "line": 6780,
          "old_api": null,
          "new_api": "keys_to_use_for_scanning",
          "old_text": null,
          "new_text": "table->file->keys_to_use_for_scanning()",
          "old_line_content": "    for (nr=0; keys ; keys>>=1, nr++)",
          "new_line_content": "      keys&= (table->used_keys | table->file->keys_to_use_for_scanning());",
          "content_same": false
        },
        {
          "line": 8830,
          "old_api": null,
          "new_api": "mysql_explain_select",
          "old_text": null,
          "new_text": "mysql_explain_select(thd, sl,\n\t\t\t      (((&thd->lex.select_lex)==sl)?\n\t\t\t       ((thd->lex.all_selects_list != sl)?\"PRIMARY\":\n\t\t\t\t\"SIMPLE\"):\n\t\t\t       ((sl == first)?\n\t\t\t\t((sl->linkage == DERIVED_TABLE_TYPE) ?\n\t\t\t\t \"DERIVED\":\n\t\t\t\t((sl->dependent)?\"DEPENDENT SUBQUERY\":\n\t\t\t\t (sl->uncacheable?\"UNCACHEABLE SUBQUERY\":\n\t\t\t\t   \"SUBQUERY\"))):\n\t\t\t\t((sl->dependent)?\"DEPENDENT UNION\":\n\t\t\t\t sl->uncacheable?\"UNCACHEABLE UNION\":\n\t\t\t\t  \"UNION\"))),\n\t\t\t      result)",
          "old_line_content": "\t\t\t       ((thd->lex.all_selects_list != sl)?\"PRIMARY\":",
          "new_line_content": "    res= mysql_explain_select(thd, sl,",
          "content_same": false
        },
        {
          "line": 8324,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "func->add()",
          "old_line_content": "  return 0;",
          "new_line_content": "    if (func->add())",
          "content_same": false
        },
        {
          "line": 6788,
          "old_api": null,
          "new_api": "test_if_order_by_key",
          "old_text": null,
          "new_text": "test_if_order_by_key(order, table, nr, &not_used)",
          "old_line_content": "\t  if (!no_changes)",
          "new_line_content": "\tif ((flag=test_if_order_by_key(order, table, nr, &not_used)))",
          "content_same": false
        },
        {
          "line": 7813,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  }",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 7814,
          "old_api": null,
          "new_api": "used_tables",
          "old_text": null,
          "new_text": "a->item[0]->used_tables()",
          "old_line_content": "  if (!map || (map & (RAND_TABLE_BIT | OUTER_REF_TABLE_BIT)))",
          "new_line_content": "    map|=a->item[0]->used_tables();",
          "content_same": false
        },
        {
          "line": 7817,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  for (; !(map & tables->table->map) ; tables=tables->next) ;",
          "new_line_content": "    DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 6795,
          "old_api": null,
          "new_api": "index_init",
          "old_text": null,
          "new_text": "table->file->index_init(nr)",
          "old_line_content": "\t    if (table->used_keys & ((key_map) 1 << nr))",
          "new_line_content": "\t    table->file->index_init(nr);",
          "content_same": false
        },
        {
          "line": 7309,
          "old_api": null,
          "new_api": "fill_cache_field",
          "old_text": null,
          "new_text": "field->fill_cache_field(copy)",
          "old_line_content": "\t  (*blob_ptr++)=copy;",
          "new_line_content": "\tlength+=field->fill_cache_field(copy);",
          "content_same": false
        },
        {
          "line": 7822,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr))",
          "old_line_content": "}",
          "new_line_content": "  DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr));",
          "content_same": false
        },
        {
          "line": 7823,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(tables->table)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(tables->table);",
          "content_same": false
        },
        {
          "line": 8336,
          "old_api": null,
          "new_api": "save_in_result_field",
          "old_text": null,
          "new_text": "func->save_in_result_field(1)",
          "old_line_content": "",
          "new_line_content": "    func->save_in_result_field(1);",
          "content_same": false
        },
        {
          "line": 6800,
          "old_api": null,
          "new_api": "extra",
          "old_text": null,
          "new_text": "table->file->extra(HA_EXTRA_KEYREAD)",
          "old_line_content": "\t  }",
          "new_line_content": "\t      table->file->extra(HA_EXTRA_KEYREAD);",
          "content_same": false
        },
        {
          "line": 8850,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(res)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(res);",
          "content_same": false
        },
        {
          "line": 6803,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "      }",
          "new_line_content": "\t  DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 7312,
          "old_api": null,
          "new_api": "maybe_null",
          "old_text": null,
          "new_text": "field->maybe_null()",
          "old_line_content": "\tcopy++;",
          "new_line_content": "\tif (field->maybe_null())",
          "content_same": false
        },
        {
          "line": 6808,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(0);\t\t\t\t// Can't use index.",
          "content_same": false
        },
        {
          "line": 8857,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"mysql_explain_select\")",
          "old_line_content": "  select_lex->type= type;",
          "new_line_content": "  DBUG_ENTER(\"mysql_explain_select\");",
          "content_same": false
        },
        {
          "line": 8858,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s\", (ulong)select_lex, type))",
          "old_line_content": "  thd->lex.current_select= select_lex;",
          "new_line_content": "  DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s\", (ulong)select_lex, type))",
          "content_same": false
        },
        {
          "line": 8349,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "  Item_cond_and *cond=new Item_cond_and();",
          "new_line_content": "    DBUG_RETURN(FALSE);",
          "content_same": false
        },
        {
          "line": 8861,
          "old_api": null,
          "new_api": "master_unit",
          "old_text": null,
          "new_text": "select_lex->master_unit()",
          "old_line_content": "\t\t\t(TABLE_LIST*) select_lex->table_list.first,",
          "new_line_content": "  SELECT_LEX_UNIT *unit=  select_lex->master_unit();",
          "content_same": false
        },
        {
          "line": 8862,
          "old_api": null,
          "new_api": "mysql_select",
          "old_text": null,
          "new_text": "mysql_select(thd, &select_lex->ref_pointer_array,\n\t\t\t(TABLE_LIST*) select_lex->table_list.first,\n\t\t\tselect_lex->with_wild, select_lex->item_list,\n\t\t\tselect_lex->where,\n\t\t\tselect_lex->order_list.elements +\n\t\t\tselect_lex->group_list.elements,\n\t\t\t(ORDER*) select_lex->order_list.first,\n\t\t\t(ORDER*) select_lex->group_list.first,\n\t\t\tselect_lex->having,\n\t\t\t(ORDER*) thd->lex.proc_list.first,\n\t\t\tselect_lex->options | thd->options | SELECT_DESCRIBE,\n\t\t\tresult, unit, select_lex, 0)",
          "old_line_content": "\t\t\tselect_lex->with_wild, select_lex->item_list,",
          "new_line_content": "  int res= mysql_select(thd, &select_lex->ref_pointer_array,",
          "content_same": false
        },
        {
          "line": 7838,
          "old_api": null,
          "new_api": "get_tmp_table_field",
          "old_text": null,
          "new_text": "*group->item)->get_tmp_table_field()",
          "old_line_content": "    {",
          "new_line_content": "    Field *field=(*group->item)->get_tmp_table_field();",
          "content_same": false
        },
        {
          "line": 7841,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "field->type()",
          "old_line_content": "      else",
          "new_line_content": "      if (field->type() == FIELD_TYPE_BLOB)",
          "content_same": false
        },
        {
          "line": 8355,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "  for (uint i=0 ; i < join_tab->ref.key_parts ; i++)",
          "new_line_content": "    DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 7848,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "*group->item)->result_type()",
          "old_line_content": "    else",
          "new_line_content": "    else if ((*group->item)->result_type() == INT_RESULT)",
          "content_same": false
        },
        {
          "line": 8362,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "cond->add(new Item_func_equal(new Item_field(field),value))",
          "old_line_content": "  if (thd->is_fatal_error)",
          "new_line_content": "    cond->add(new Item_func_equal(new Item_field(field),value));",
          "content_same": false
        },
        {
          "line": 8874,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(res)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(res);",
          "content_same": false
        },
        {
          "line": 8365,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "  /*",
          "new_line_content": "    DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 7346,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "  cache->end=cache->buff+size;",
          "new_line_content": "  if (!(cache->buff=(uchar*) my_malloc(size,MYF(0))))",
          "content_same": false
        },
        {
          "line": 8371,
          "old_api": null,
          "new_api": "fix_fields",
          "old_text": null,
          "new_text": "cond->fix_fields((THD *) 0,(TABLE_LIST *) 0, (Item**)&cond)",
          "old_line_content": "  {",
          "new_line_content": "  cond->fix_fields((THD *) 0,(TABLE_LIST *) 0, (Item**)&cond);",
          "content_same": false
        },
        {
          "line": 7349,
          "old_api": null,
          "new_api": "reset_cache",
          "old_text": null,
          "new_text": "reset_cache(cache)",
          "old_line_content": "}",
          "new_line_content": "  reset_cache(cache);",
          "content_same": false
        },
        {
          "line": 8374,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "cond->add(join_tab->select->cond)",
          "old_line_content": "  }",
          "new_line_content": "    error=(int) cond->add(join_tab->select->cond);",
          "content_same": false
        },
        {
          "line": 7350,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 8377,
          "old_api": null,
          "new_api": "make_select",
          "old_text": null,
          "new_text": "make_select(join_tab->table, 0, 0, cond,&error)",
          "old_line_content": "",
          "new_line_content": "  else if ((join_tab->select=make_select(join_tab->table, 0, 0, cond,&error)))",
          "content_same": false
        },
        {
          "line": 8380,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(error ? TRUE : FALSE)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(error ? TRUE : FALSE);",
          "content_same": false
        },
        {
          "line": 6849,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"create_sort_index\")",
          "old_line_content": "  if (join->tables == join->const_tables)",
          "new_line_content": "  DBUG_ENTER(\"create_sort_index\");",
          "content_same": false
        },
        {
          "line": 7362,
          "old_api": null,
          "new_api": "get_ptr",
          "old_text": null,
          "new_text": "*ptr)->blob_field->get_ptr(&(*ptr)->str)",
          "old_line_content": "  return length;",
          "new_line_content": "    (*ptr)->blob_field->get_ptr(&(*ptr)->str);",
          "content_same": false
        },
        {
          "line": 6852,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  table=  tab->table;",
          "new_line_content": "    DBUG_RETURN(0);\t\t\t\t// One row, no need to sort",
          "content_same": false
        },
        {
          "line": 6858,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "    goto err;\t\t\t\t/* purecov: inspected */",
          "new_line_content": "    DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 6859,
          "old_api": null,
          "new_api": "make_unireg_sortorder",
          "old_text": null,
          "new_text": "make_unireg_sortorder(order,&length)",
          "old_line_content": "  /* It's not fatal if the following alloc fails */",
          "new_line_content": "  if (!(sortorder=make_unireg_sortorder(order,&length)))",
          "content_same": false
        },
        {
          "line": 8396,
          "old_api": null,
          "new_api": "next_unit",
          "old_text": null,
          "new_text": "unit->next_unit()",
          "old_line_content": "}",
          "new_line_content": "       unit= unit->next_unit())",
          "content_same": false
        },
        {
          "line": 8397,
          "old_api": null,
          "new_api": "cleanup",
          "old_text": null,
          "new_text": "unit->cleanup()",
          "old_line_content": "",
          "new_line_content": "    unit->cleanup();",
          "content_same": false
        },
        {
          "line": 6862,
          "old_api": null,
          "new_api": "my_malloc",
          "old_text": null,
          "new_text": "my_malloc(sizeof(IO_CACHE),\n                                             MYF(MY_WME | MY_ZEROFILL))",
          "old_line_content": "  table->status=0;\t\t\t\t// May be wrong if quick_select",
          "new_line_content": "  table->sort.io_cache=(IO_CACHE*) my_malloc(sizeof(IO_CACHE),",
          "content_same": false
        },
        {
          "line": 6863,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(MY_WME | MY_ZEROFILL)",
          "old_line_content": "",
          "new_line_content": "                                             MYF(MY_WME | MY_ZEROFILL));",
          "content_same": false
        },
        {
          "line": 7884,
          "old_api": null,
          "new_api": "alloc_group_fields",
          "old_text": null,
          "new_text": "alloc_group_fields(curr_join, curr_join->group_list)",
          "old_line_content": "\treturn (1);",
          "new_line_content": "      if (alloc_group_fields(curr_join, curr_join->group_list))",
          "content_same": false
        },
        {
          "line": 7381,
          "old_api": null,
          "new_api": "used_blob_length",
          "old_text": null,
          "new_text": "used_blob_length(cache->blob_ptr)",
          "old_line_content": "    cache->ptr_record=cache->records;",
          "new_line_content": "    length+=used_blob_length(cache->blob_ptr);",
          "content_same": false
        },
        {
          "line": 7382,
          "old_api": null,
          "new_api": "uint) (cache->end - pos)",
          "old_text": null,
          "new_text": "uint) (cache->end - pos)",
          "old_line_content": "",
          "new_line_content": "  if ((last_record=(length+cache->length > (uint) (cache->end - pos))))",
          "content_same": false
        },
        {
          "line": 6877,
          "old_api": null,
          "new_api": "extra",
          "old_text": null,
          "new_text": "table->file->extra(HA_EXTRA_NO_KEYREAD)",
          "old_line_content": "    }",
          "new_line_content": "\ttable->file->extra(HA_EXTRA_NO_KEYREAD);",
          "content_same": false
        },
        {
          "line": 8185,
          "old_api": null,
          "new_api": "result_item",
          "old_text": null,
          "new_text": "(Item_sum*) item)->result_item(field)",
          "old_line_content": "\t  item_field= (Item*) new Item_field(field);",
          "new_line_content": "\t  item_field= ((Item_sum*) item)->result_item(field);",
          "content_same": false
        },
        {
          "line": 7905,
          "old_api": null,
          "new_api": "new_Item_buff",
          "old_text": null,
          "new_text": "new_Item_buff(*group->item)",
          "old_line_content": "\treturn TRUE;",
          "new_line_content": "      Item_buff *tmp=new_Item_buff(*group->item);",
          "content_same": false
        },
        {
          "line": 7906,
          "old_api": null,
          "new_api": "push_front",
          "old_text": null,
          "new_text": "join->group_fields.push_front(tmp)",
          "old_line_content": "    }",
          "new_line_content": "      if (!tmp || join->group_fields.push_front(tmp))",
          "content_same": false
        },
        {
          "line": 7395,
          "old_api": null,
          "new_api": "get_image",
          "old_text": null,
          "new_text": "copy->blob_field->get_image((char*) pos,copy->length+sizeof(char*), \n\t\t\t\t    copy->blob_field->charset())",
          "old_line_content": "\tpos+=copy->length+sizeof(char*);",
          "new_line_content": "\tcopy->blob_field->get_image((char*) pos,copy->length+sizeof(char*), ",
          "content_same": false
        },
        {
          "line": 8420,
          "old_api": null,
          "new_api": "alloc",
          "old_text": null,
          "new_text": "thd->alloc((sizeof(Item*) +\n\t\t\t\t\t\t sizeof(List<Item>) +\n\t\t\t\t\t\t ref_pointer_array_size)\n\t\t\t\t\t\t* send_group_parts)",
          "old_line_content": "\t\t\t\t\t\t ref_pointer_array_size)",
          "new_line_content": "  if (!(rollup.fields= (List<Item>*) thd->alloc((sizeof(Item*) +",
          "content_same": false
        },
        {
          "line": 7396,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "copy->blob_field->charset()",
          "old_line_content": "      }",
          "new_line_content": "\t\t\t\t    copy->blob_field->charset());",
          "content_same": false
        },
        {
          "line": 6888,
          "old_api": null,
          "new_api": "get_ft_or_quick_select_for_ref",
          "old_text": null,
          "new_text": "get_ft_or_quick_select_for_ref(table, tab)",
          "old_line_content": "    }",
          "new_line_content": "      if (!(select->quick=get_ft_or_quick_select_for_ref(table, tab)))",
          "content_same": false
        },
        {
          "line": 7402,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "copy->blob_field->charset()",
          "old_line_content": "\tpos+=copy->length+copy->blob_length;",
          "new_line_content": "\t\t\t\t    copy->blob_field->charset());",
          "content_same": false
        },
        {
          "line": 7403,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pos+copy->length,copy->str,copy->blob_length)",
          "old_line_content": "      }",
          "new_line_content": "\tmemcpy(pos+copy->length,copy->str,copy->blob_length);  // Blob data",
          "content_same": false
        },
        {
          "line": 6893,
          "old_api": null,
          "new_api": "info",
          "old_text": null,
          "new_text": "table->file->info(HA_STATUS_VARIABLE)",
          "old_line_content": "                                     select, filesort_limit, &examined_rows);",
          "new_line_content": "    table->file->info(HA_STATUS_VARIABLE);\t// Get record count",
          "content_same": false
        },
        {
          "line": 6894,
          "old_api": null,
          "new_api": "filesort",
          "old_text": null,
          "new_text": "filesort(thd, table,sortorder, length,\n                                     select, filesort_limit, &examined_rows)",
          "old_line_content": "  tab->records=table->sort.found_records;\t\t// For SQL_CALC_ROWS",
          "new_line_content": "  table->sort.found_records=filesort(thd, table,sortorder, length,",
          "content_same": false
        },
        {
          "line": 7918,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"test_if_group_changed\")",
          "old_line_content": "  int idx= -1,i;",
          "new_line_content": "  DBUG_ENTER(\"test_if_group_changed\");",
          "content_same": false
        },
        {
          "line": 8436,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "fields->empty()",
          "old_line_content": "    ref_array+= all_fields.elements;",
          "new_line_content": "    fields->empty();",
          "content_same": false
        },
        {
          "line": 7925,
          "old_api": null,
          "new_api": "cmp",
          "old_text": null,
          "new_text": "buff->cmp()",
          "old_line_content": "  }",
          "new_line_content": "    if (buff->cmp())",
          "content_same": false
        },
        {
          "line": 7415,
          "old_api": null,
          "new_api": "uint) (end-str)",
          "old_text": null,
          "new_text": "uint) (end-str)",
          "old_line_content": "\t*pos=(uchar) length;",
          "new_line_content": "\tlength=(uint) (end-str);",
          "content_same": false
        },
        {
          "line": 8440,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "fields->push_back(rollup.item_null)",
          "old_line_content": "  return 0;",
          "new_line_content": "      fields->push_back(rollup.item_null);",
          "content_same": false
        },
        {
          "line": 7416,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pos+1,str,length)",
          "old_line_content": "\tpos+=length+1;",
          "new_line_content": "\tmemcpy(pos+1,str,length);",
          "content_same": false
        },
        {
          "line": 7928,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\", (\"idx: %d\", idx))",
          "old_line_content": "}",
          "new_line_content": "  DBUG_PRINT(\"info\", (\"idx: %d\", idx));",
          "content_same": false
        },
        {
          "line": 7929,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(idx)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(idx);",
          "content_same": false
        },
        {
          "line": 6910,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(-1)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(-1);",
          "content_same": false
        },
        {
          "line": 7422,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pos,copy->str,copy->length)",
          "old_line_content": "      }",
          "new_line_content": "\tmemcpy(pos,copy->str,copy->length);",
          "content_same": false
        },
        {
          "line": 7428,
          "old_api": null,
          "new_api": "uint) (cache->end -pos)",
          "old_text": null,
          "new_text": "uint) (cache->end -pos)",
          "old_line_content": "",
          "new_line_content": "  return last_record || (uint) (cache->end -pos) < cache->length;",
          "content_same": false
        },
        {
          "line": 6920,
          "old_api": null,
          "new_api": "update_used_tables",
          "old_text": null,
          "new_text": "*having)->update_used_tables()",
          "old_line_content": "  table_map used_tables= join->const_table_map | table->table->map;",
          "new_line_content": "  (*having)->update_used_tables();\t// Some tables may have been const",
          "content_same": false
        },
        {
          "line": 6924,
          "old_api": null,
          "new_api": "print_where",
          "old_text": null,
          "new_text": "print_where(*having,\"having\")",
          "old_line_content": "  if (sort_table_cond)",
          "new_line_content": "  DBUG_EXECUTE(\"where\",print_where(*having,\"having\"););",
          "content_same": false
        },
        {
          "line": 6925,
          "old_api": null,
          "new_api": "make_cond_for_table",
          "old_text": null,
          "new_text": "make_cond_for_table(*having,used_tables,used_tables)",
          "old_line_content": "  {",
          "new_line_content": "  Item* sort_table_cond=make_cond_for_table(*having,used_tables,used_tables);",
          "content_same": false
        },
        {
          "line": 8468,
          "old_api": null,
          "new_api": "head",
          "old_text": null,
          "new_text": "fields.head()",
          "old_line_content": "",
          "new_line_content": "  Item *first_field= fields.head();",
          "content_same": false
        },
        {
          "line": 6938,
          "old_api": null,
          "new_api": "top_level_item",
          "old_text": null,
          "new_text": "table->select_cond->top_level_item()",
          "old_line_content": "\t\t\t\t     \"select and having\"););",
          "new_line_content": "    table->select_cond->top_level_item();",
          "content_same": false
        },
        {
          "line": 6941,
          "old_api": null,
          "new_api": "make_cond_for_table",
          "old_text": null,
          "new_text": "make_cond_for_table(*having,~ (table_map) 0,~used_tables)",
          "old_line_content": "  }",
          "new_line_content": "    *having=make_cond_for_table(*having,~ (table_map) 0,~used_tables);",
          "content_same": false
        },
        {
          "line": 6942,
          "old_api": null,
          "new_api": "print_where",
          "old_text": null,
          "new_text": "print_where(*having,\"having after make_cond\")",
          "old_line_content": "  return 0;",
          "new_line_content": "    DBUG_EXECUTE(\"where\",print_where(*having,\"having after make_cond\"););",
          "content_same": false
        },
        {
          "line": 7967,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "res_selected_fields.empty()",
          "old_line_content": "  List_iterator_fast<Item> itr(res_all_fields);",
          "new_line_content": "  res_selected_fields.empty();",
          "content_same": false
        },
        {
          "line": 7968,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "res_all_fields.empty()",
          "old_line_content": "",
          "new_line_content": "  res_all_fields.empty();",
          "content_same": false
        },
        {
          "line": 7459,
          "old_api": null,
          "new_api": "set_image",
          "old_text": null,
          "new_text": "copy->blob_field->set_image((char*) pos,copy->length+sizeof(char*),\n\t\t\t\t    copy->blob_field->charset())",
          "old_line_content": "\tpos+=copy->length+sizeof(char*);",
          "new_line_content": "\tcopy->blob_field->set_image((char*) pos,copy->length+sizeof(char*),",
          "content_same": false
        },
        {
          "line": 7460,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "copy->blob_field->charset()",
          "old_line_content": "      }",
          "new_line_content": "\t\t\t\t    copy->blob_field->charset());",
          "content_same": false
        },
        {
          "line": 7976,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "param->copy_funcs.empty()",
          "old_line_content": "  {",
          "new_line_content": "  param->copy_funcs.empty();",
          "content_same": false
        },
        {
          "line": 7465,
          "old_api": null,
          "new_api": "set_ptr",
          "old_text": null,
          "new_text": "copy->blob_field->set_ptr((char*) pos,(char*) pos+copy->length)",
          "old_line_content": "      }",
          "new_line_content": "\tcopy->blob_field->set_ptr((char*) pos,(char*) pos+copy->length);",
          "content_same": false
        },
        {
          "line": 7466,
          "old_api": null,
          "new_api": "get_length",
          "old_text": null,
          "new_text": "copy->blob_field->get_length()",
          "old_line_content": "    }",
          "new_line_content": "\tpos+=copy->length+copy->blob_field->get_length();",
          "content_same": false
        },
        {
          "line": 7979,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "pos->type()",
          "old_line_content": "      Item_field *item;",
          "new_line_content": "    if (pos->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 6961,
          "old_api": null,
          "new_api": "cmp_offset",
          "old_text": null,
          "new_text": "*ptr)->cmp_offset(table->rec_buff_length)",
          "old_line_content": "  }",
          "new_line_content": "    if ((*ptr)->cmp_offset(table->rec_buff_length))",
          "content_same": false
        },
        {
          "line": 7473,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(copy->str,pos+1,length=(uint) *pos)",
          "old_line_content": "\tpos+=1+length;",
          "new_line_content": "\tmemcpy(copy->str,pos+1,length=(uint) *pos);",
          "content_same": false
        },
        {
          "line": 7474,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(copy->str+length,' ',copy->length-length)",
          "old_line_content": "      }",
          "new_line_content": "\tmemset(copy->str+length,' ',copy->length-length);",
          "content_same": false
        },
        {
          "line": 7989,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "param->copy_funcs.push_back(pos)",
          "old_line_content": "      }",
          "new_line_content": "\tif (param->copy_funcs.push_back(pos))",
          "content_same": false
        },
        {
          "line": 7479,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(copy->str,pos,copy->length)",
          "old_line_content": "      }",
          "new_line_content": "\tmemcpy(copy->str,pos,copy->length);",
          "content_same": false
        },
        {
          "line": 6972,
          "old_api": null,
          "new_api": "copy",
          "old_text": null,
          "new_text": "(Field_blob *) (*ptr))->copy()",
          "old_line_content": "  }",
          "new_line_content": "      if (((Field_blob *) (*ptr))->copy())",
          "content_same": false
        },
        {
          "line": 7999,
          "old_api": null,
          "new_api": "new_field",
          "old_text": null,
          "new_text": "field->new_field(&thd->mem_root,field->table)",
          "old_line_content": "\tif (!tmp)",
          "new_line_content": "\titem->result_field=field->new_field(&thd->mem_root,field->table);",
          "content_same": false
        },
        {
          "line": 8000,
          "old_api": null,
          "new_api": "pack_length",
          "old_text": null,
          "new_text": "field->pack_length()",
          "old_line_content": "\t  goto err;",
          "new_line_content": "\tchar *tmp=(char*) sql_alloc(field->pack_length()+1);",
          "content_same": false
        },
        {
          "line": 8514,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "it.rewind()",
          "old_line_content": "    {",
          "new_line_content": "    it.rewind();",
          "content_same": false
        },
        {
          "line": 8003,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "copy->set(tmp, item->result_field)",
          "old_line_content": "\tcopy++;",
          "new_line_content": "\tcopy->set(tmp, item->result_field);",
          "content_same": false
        },
        {
          "line": 8004,
          "old_api": null,
          "new_api": "move_field",
          "old_text": null,
          "new_text": "item->result_field->move_field(copy->to_ptr,copy->to_null_ptr,1)",
          "old_line_content": "      }",
          "new_line_content": "\titem->result_field->move_field(copy->to_ptr,copy->to_null_ptr,1);",
          "content_same": false
        },
        {
          "line": 6983,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "(Field_blob *) (*ptr))->free()",
          "old_line_content": "}",
          "new_line_content": "      ((Field_blob *) (*ptr))->free();",
          "content_same": false
        },
        {
          "line": 8008,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "pos->type()",
          "old_line_content": "\t     !pos->with_sum_func)",
          "new_line_content": "    else if ((pos->type() == Item::FUNC_ITEM ||",
          "content_same": false
        },
        {
          "line": 8009,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "pos->type()",
          "old_line_content": "    {\t\t\t\t\t\t// Save for send fields",
          "new_line_content": "\t      pos->type() == Item::COND_ITEM) &&",
          "content_same": false
        },
        {
          "line": 8523,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "\t/*",
          "new_line_content": "      if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item())",
          "content_same": false
        },
        {
          "line": 7499,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length)",
          "old_line_content": "}",
          "new_line_content": "  return memcmp(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length)",
          "content_same": false
        },
        {
          "line": 6995,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"remove_duplicates\")",
          "old_line_content": "  entry->reginfo.lock_type=TL_WRITE;",
          "new_line_content": "  DBUG_ENTER(\"remove_duplicates\");",
          "content_same": false
        },
        {
          "line": 7508,
          "old_api": null,
          "new_api": "copy",
          "old_text": null,
          "new_text": "*copy)->copy()",
          "old_line_content": "  return 0;",
          "new_line_content": "    if ((*copy)->copy())",
          "content_same": false
        },
        {
          "line": 8020,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "param->copy_funcs.push_back(pos)",
          "old_line_content": "    }",
          "new_line_content": "      if (param->copy_funcs.push_back(pos))",
          "content_same": false
        },
        {
          "line": 8534,
          "old_api": null,
          "new_api": "make_unique",
          "old_text": null,
          "new_text": "(Item_sum*) item)->make_unique()",
          "old_line_content": "\t  return 1;",
          "new_line_content": "\t((Item_sum*) item)->make_unique();",
          "content_same": false
        },
        {
          "line": 8535,
          "old_api": null,
          "new_api": "setup",
          "old_text": null,
          "new_text": "(Item_sum*) item)->setup(thd)",
          "old_line_content": "\t*(*func)= (Item_sum*) item;",
          "new_line_content": "\tif (((Item_sum*) item)->setup(thd))",
          "content_same": false
        },
        {
          "line": 8023,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "res_all_fields.push_back(pos)",
          "old_line_content": "      pos;",
          "new_line_content": "    res_all_fields.push_back(pos);",
          "content_same": false
        },
        {
          "line": 7005,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "  }",
          "new_line_content": "    if (item->get_tmp_table_field() && ! item->const_item())",
          "content_same": false
        },
        {
          "line": 8031,
          "old_api": null,
          "new_api": "sublist",
          "old_text": null,
          "new_text": "itr.sublist(res_selected_fields, elements)",
          "old_line_content": "",
          "new_line_content": "  itr.sublist(res_selected_fields, elements);",
          "content_same": false
        },
        {
          "line": 8032,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": " err:",
          "new_line_content": "  DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 7012,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  Field **first_field=entry->field+entry->fields - field_count;",
          "new_line_content": "    DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 8038,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 7015,
          "old_api": null,
          "new_api": "offset",
          "old_text": null,
          "new_text": "entry->field[entry->fields - field_count]->offset()",
          "old_line_content": "",
          "new_line_content": "  offset=entry->field[entry->fields - field_count]->offset();",
          "content_same": false
        },
        {
          "line": 7018,
          "old_api": null,
          "new_api": "free_io_cache",
          "old_text": null,
          "new_text": "free_io_cache(entry)",
          "old_line_content": "  if (entry->db_type == DB_TYPE_HEAP ||",
          "new_line_content": "  free_io_cache(entry);\t\t\t\t// Safety",
          "content_same": false
        },
        {
          "line": 7019,
          "old_api": null,
          "new_api": "info",
          "old_text": null,
          "new_text": "entry->file->info(HA_STATUS_VARIABLE)",
          "old_line_content": "      (!entry->blob_fields &&",
          "new_line_content": "  entry->file->info(HA_STATUS_VARIABLE);",
          "content_same": false
        },
        {
          "line": 7530,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "itemptr->type()",
          "old_line_content": "    Item *item=0;",
          "new_line_content": "  if (itemptr->type() == Item::INT_ITEM)",
          "content_same": false
        },
        {
          "line": 7534,
          "old_api": null,
          "new_api": "uint) ((Item_int*)itemptr)",
          "old_text": null,
          "new_text": "uint) ((Item_int*)itemptr)",
          "old_line_content": "    {",
          "new_line_content": "    uint count= (uint) ((Item_int*)itemptr)->value;",
          "content_same": false
        },
        {
          "line": 7024,
          "old_api": null,
          "new_api": "remove_dup_with_hash_index",
          "old_text": null,
          "new_text": "remove_dup_with_hash_index(join->thd, entry,\n\t\t\t\t     field_count, first_field,\n\t\t\t\t     reclength, having)",
          "old_line_content": "\t\t\t\t     reclength, having);",
          "new_line_content": "    error=remove_dup_with_hash_index(join->thd, entry,",
          "content_same": false
        },
        {
          "line": 7537,
          "old_api": null,
          "new_api": "ER",
          "old_text": null,
          "new_text": "ER(ER_BAD_FIELD_ERROR)",
          "old_line_content": "\t       thd->where);",
          "new_line_content": "      my_printf_error(ER_BAD_FIELD_ERROR,ER(ER_BAD_FIELD_ERROR),",
          "content_same": false
        },
        {
          "line": 8562,
          "old_api": null,
          "new_api": "replace",
          "old_text": null,
          "new_text": "new_it.replace(item)",
          "old_line_content": "      }",
          "new_line_content": "\tnew_it.replace(item);\t\t\t// Replace previous",
          "content_same": false
        },
        {
          "line": 7538,
          "old_api": null,
          "new_api": "full_name",
          "old_text": null,
          "new_text": "itemptr->full_name()",
          "old_line_content": "      return 1;",
          "new_line_content": "\t\t      MYF(0),itemptr->full_name(),",
          "content_same": false
        },
        {
          "line": 7028,
          "old_api": null,
          "new_api": "remove_dup_with_compare",
          "old_text": null,
          "new_text": "remove_dup_with_compare(join->thd, entry, first_field, offset,\n\t\t\t\t  having)",
          "old_line_content": "",
          "new_line_content": "    error=remove_dup_with_compare(join->thd, entry, first_field, offset,",
          "content_same": false
        },
        {
          "line": 7031,
          "old_api": null,
          "new_api": "free_blobs",
          "old_text": null,
          "new_text": "free_blobs(first_field)",
          "old_line_content": "}",
          "new_line_content": "  free_blobs(first_field);",
          "content_same": false
        },
        {
          "line": 7032,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(error)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(error);",
          "content_same": false
        },
        {
          "line": 8056,
          "old_api": null,
          "new_api": "*ptr->do_copy)(ptr)",
          "old_text": null,
          "new_text": "*ptr->do_copy)(ptr)",
          "old_line_content": "  List_iterator_fast<Item> &it=param->copy_funcs_it;",
          "new_line_content": "    (*ptr->do_copy)(ptr);",
          "content_same": false
        },
        {
          "line": 7547,
          "old_api": null,
          "new_api": "find_item_in_list",
          "old_text": null,
          "new_text": "find_item_in_list(itemptr, fields, &counter, IGNORE_ERRORS)",
          "old_line_content": "  {",
          "new_line_content": "  Item **item= find_item_in_list(itemptr, fields, &counter, IGNORE_ERRORS);",
          "content_same": false
        },
        {
          "line": 8059,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "it.rewind()",
          "old_line_content": "  while ((item = (Item_copy_string*) it++))",
          "new_line_content": "  it.rewind();",
          "content_same": false
        },
        {
          "line": 8062,
          "old_api": null,
          "new_api": "copy",
          "old_text": null,
          "new_text": "item->copy()",
          "old_line_content": "",
          "new_line_content": "    item->copy();",
          "content_same": false
        },
        {
          "line": 7044,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"remove_dup_with_compare\")",
          "old_line_content": "  org_record=(char*) (record=table->record[0])+offset;",
          "new_line_content": "  DBUG_ENTER(\"remove_dup_with_compare\");",
          "content_same": false
        },
        {
          "line": 7558,
          "old_api": null,
          "new_api": "check_cols",
          "old_text": null,
          "new_text": "it= *order->item)->check_cols(1)",
          "old_line_content": "    return 1;\t\t\t\t\t// Wrong field ",
          "new_line_content": "      (it= *order->item)->check_cols(1) ||",
          "content_same": false
        },
        {
          "line": 7049,
          "old_api": null,
          "new_api": "rnd_init",
          "old_text": null,
          "new_text": "file->rnd_init()",
          "old_line_content": "  for (;;)",
          "new_line_content": "  file->rnd_init();",
          "content_same": false
        },
        {
          "line": 7050,
          "old_api": null,
          "new_api": "rnd_next",
          "old_text": null,
          "new_text": "file->rnd_next(record)",
          "old_line_content": "  {",
          "new_line_content": "  error=file->rnd_next(record);",
          "content_same": false
        },
        {
          "line": 7562,
          "old_api": null,
          "new_api": "push_front",
          "old_text": null,
          "new_text": "all_fields.push_front(it)",
          "old_line_content": "  order->item= ref_pointer_array + el;",
          "new_line_content": "  all_fields.push_front(it);\t\t        // Add new field to field list",
          "content_same": false
        },
        {
          "line": 7055,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "      goto err;",
          "new_line_content": "      my_error(ER_SERVER_SHUTDOWN,MYF(0));",
          "content_same": false
        },
        {
          "line": 8080,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"alloc_func_list\")",
          "old_line_content": "  func_count= tmp_table_param.sum_func_count;",
          "new_line_content": "  DBUG_ENTER(\"alloc_func_list\");",
          "content_same": false
        },
        {
          "line": 8597,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy((char*) ref_pointer_array,\n\t   (char*) rollup.ref_pointer_arrays[i],\n\t   ref_pointer_array_size)",
          "old_line_content": "\t   ref_pointer_array_size);",
          "new_line_content": "    memcpy((char*) ref_pointer_array,",
          "content_same": false
        },
        {
          "line": 8600,
          "old_api": null,
          "new_api": "val_int",
          "old_text": null,
          "new_text": "having->val_int()",
          "old_line_content": "      if (send_records < unit->select_limit_cnt &&",
          "new_line_content": "    if ((!having || having->val_int()))",
          "content_same": false
        },
        {
          "line": 8603,
          "old_api": null,
          "new_api": "send_data",
          "old_text": null,
          "new_text": "result->send_data(rollup.fields[i])",
          "old_line_content": "      send_records++;",
          "new_line_content": "\t  result->send_data(rollup.fields[i]))",
          "content_same": false
        },
        {
          "line": 7579,
          "old_api": null,
          "new_api": "find_order_in_list",
          "old_text": null,
          "new_text": "find_order_in_list(thd, ref_pointer_array, tables, order, fields,\n\t\t\t   all_fields)",
          "old_line_content": "      return 1;",
          "new_line_content": "    if (find_order_in_list(thd, ref_pointer_array, tables, order, fields,",
          "content_same": false
        },
        {
          "line": 7071,
          "old_api": null,
          "new_api": "rnd_next",
          "old_text": null,
          "new_text": "file->rnd_next(record)",
          "old_line_content": "    }",
          "new_line_content": "      error=file->rnd_next(record);",
          "content_same": false
        },
        {
          "line": 8609,
          "old_api": null,
          "new_api": "set_items_ref_array",
          "old_text": null,
          "new_text": "set_items_ref_array(current_ref_pointer_array)",
          "old_line_content": "}",
          "new_line_content": "  set_items_ref_array(current_ref_pointer_array);",
          "content_same": false
        },
        {
          "line": 8099,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "thd->calloc(sizeof(Item_sum**) * (func_count+1) +\n\t\t\t\t      sizeof(Item_sum***) * (group_parts+1))",
          "old_line_content": "  sum_funcs_end= (Item_sum***) (sum_funcs+func_count+1);",
          "new_line_content": "  sum_funcs= (Item_sum**) thd->calloc(sizeof(Item_sum**) * (func_count+1) +",
          "content_same": false
        },
        {
          "line": 7076,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "      goto err;",
          "new_line_content": "      my_error(ER_OUTOFMEMORY,MYF(0));",
          "content_same": false
        },
        {
          "line": 8102,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(sum_funcs == 0)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(sum_funcs == 0);",
          "content_same": false
        },
        {
          "line": 7080,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(new_record,org_record,reclength)",
          "old_line_content": "    /* Read through rest of file and mark duplicated rows deleted */",
          "new_line_content": "    memcpy(new_record,org_record,reclength);",
          "content_same": false
        },
        {
          "line": 7086,
          "old_api": null,
          "new_api": "rnd_next",
          "old_text": null,
          "new_text": "file->rnd_next(record)",
          "old_line_content": "\tif (error == HA_ERR_RECORD_DELETED)",
          "new_line_content": "      if ((error=file->rnd_next(record)))",
          "content_same": false
        },
        {
          "line": 8623,
          "old_api": null,
          "new_api": "clear_tables",
          "old_text": null,
          "new_text": "clear_tables(this)",
          "old_line_content": "",
          "new_line_content": "  clear_tables(this);",
          "content_same": false
        },
        {
          "line": 8624,
          "old_api": null,
          "new_api": "copy_fields",
          "old_text": null,
          "new_text": "copy_fields(&tmp_table_param)",
          "old_line_content": "  if (sum_funcs)",
          "new_line_content": "  copy_fields(&tmp_table_param);",
          "content_same": false
        },
        {
          "line": 8112,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"make_sum_func_list\")",
          "old_line_content": "  func= sum_funcs;",
          "new_line_content": "  DBUG_ENTER(\"make_sum_func_list\");",
          "content_same": false
        },
        {
          "line": 8117,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "      *func++= (Item_sum*) item;",
          "new_line_content": "    if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item())",
          "content_same": false
        },
        {
          "line": 8630,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "func->clear()",
          "old_line_content": "}",
          "new_line_content": "      func->clear();",
          "content_same": false
        },
        {
          "line": 7096,
          "old_api": null,
          "new_api": "delete_row",
          "old_text": null,
          "new_text": "file->delete_row(record)",
          "old_line_content": "      }",
          "new_line_content": "\tif ((error=file->delete_row(record)))",
          "content_same": false
        },
        {
          "line": 7608,
          "old_api": null,
          "new_api": "find_order_in_list",
          "old_text": null,
          "new_text": "find_order_in_list(thd, ref_pointer_array, tables, order, fields,\n\t\t\t   all_fields)",
          "old_line_content": "      return 1;",
          "new_line_content": "    if (find_order_in_list(thd, ref_pointer_array, tables, order, fields,",
          "content_same": false
        },
        {
          "line": 8121,
          "old_api": null,
          "new_api": "setup",
          "old_text": null,
          "new_text": "(Item_sum*) item)->setup(thd)",
          "old_line_content": "    }",
          "new_line_content": "      if (((Item_sum*) item)->setup(thd))",
          "content_same": false
        },
        {
          "line": 8122,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "  }",
          "new_line_content": "\tDBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 7102,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "file->position(record)",
          "old_line_content": "    }",
          "new_line_content": "\tfile->position(record);\t// Remember position",
          "content_same": false
        },
        {
          "line": 7614,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "      return 1;",
          "new_line_content": "      my_printf_error(ER_WRONG_GROUP_FIELD, ER(ER_WRONG_GROUP_FIELD),MYF(0),",
          "content_same": false
        },
        {
          "line": 7615,
          "old_api": null,
          "new_api": "full_name",
          "old_text": null,
          "new_text": "*order->item)->full_name()",
          "old_line_content": "    }",
          "new_line_content": "\t\t      (*order->item)->full_name());",
          "content_same": false
        },
        {
          "line": 8128,
          "old_api": null,
          "new_api": "rollup_make_fields",
          "old_text": null,
          "new_text": "rollup_make_fields(all_fields, send_fields, &func)",
          "old_line_content": "  }",
          "new_line_content": "    if (rollup_make_fields(all_fields, send_fields, &func))",
          "content_same": false
        },
        {
          "line": 8129,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "  else if (rollup.state == ROLLUP::STATE_NONE)",
          "new_line_content": "      DBUG_RETURN(TRUE);\t\t\t// Should never happen",
          "content_same": false
        },
        {
          "line": 7108,
          "old_api": null,
          "new_api": "restart_rnd_next",
          "old_text": null,
          "new_text": "file->restart_rnd_next(record,file->ref)",
          "old_line_content": "",
          "new_line_content": "    error=file->restart_rnd_next(record,file->ref);",
          "content_same": false
        },
        {
          "line": 7111,
          "old_api": null,
          "new_api": "extra",
          "old_text": null,
          "new_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "old_line_content": "err:",
          "new_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "content_same": false
        },
        {
          "line": 8137,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(FALSE);",
          "content_same": false
        },
        {
          "line": 8650,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"select_describe\")",
          "old_line_content": "\t\t      (ulong)join->select_lex, join->select_lex->type,",
          "new_line_content": "  DBUG_ENTER(\"select_describe\");",
          "content_same": false
        },
        {
          "line": 8651,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s, message %s\", \n\t\t      (ulong)join->select_lex, join->select_lex->type,\n\t\t      message))",
          "old_line_content": "\t\t      message));",
          "new_line_content": "  DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s, message %s\", ",
          "content_same": false
        },
        {
          "line": 7116,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "}",
          "new_line_content": "    file->print_error(error,MYF(0));",
          "content_same": false
        },
        {
          "line": 7117,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 7627,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "      {",
          "new_line_content": "      if (item->type() != Item::SUM_FUNC_ITEM && !item->marker &&",
          "content_same": false
        },
        {
          "line": 7631,
          "old_api": null,
          "new_api": "ER",
          "old_text": null,
          "new_text": "ER(ER_WRONG_FIELD_WITH_GROUP)",
          "old_line_content": "\treturn 1;",
          "new_line_content": "\t\t\tER(ER_WRONG_FIELD_WITH_GROUP),",
          "content_same": false
        },
        {
          "line": 7632,
          "old_api": null,
          "new_api": "full_name",
          "old_text": null,
          "new_text": "item->full_name()",
          "old_line_content": "      }",
          "new_line_content": "\t\t\tMYF(0),item->full_name());",
          "content_same": false
        },
        {
          "line": 8661,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_string(join->select_lex->type,\n\t\t\t\t\tstrlen(join->select_lex->type), cs))",
          "old_line_content": "    for (uint i=0 ; i < 7; i++)",
          "new_line_content": "    item_list.push_back(new Item_string(join->select_lex->type,",
          "content_same": false
        },
        {
          "line": 8665,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(message)",
          "old_line_content": "      join->error= 1;",
          "new_line_content": "    item_list.push_back(new Item_string(message,strlen(message),cs));",
          "content_same": false
        },
        {
          "line": 8666,
          "old_api": null,
          "new_api": "send_data",
          "old_text": null,
          "new_text": "result->send_data(item_list)",
          "old_line_content": "  }",
          "new_line_content": "    if (result->send_data(item_list))",
          "content_same": false
        },
        {
          "line": 7135,
          "old_api": null,
          "new_api": "ALIGN_SIZE",
          "old_text": null,
          "new_text": "ALIGN_SIZE(key_length)",
          "old_line_content": "  HASH hash;",
          "new_line_content": "  ulong extra_length=ALIGN_SIZE(key_length)-key_length;",
          "content_same": false
        },
        {
          "line": 7651,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"setup_new_fields\")",
          "old_line_content": "  thd->set_query_id=1;\t\t\t\t// Not really needed, but...",
          "new_line_content": "  DBUG_ENTER(\"setup_new_fields\");",
          "content_same": false
        },
        {
          "line": 7142,
          "old_api": null,
          "new_api": "uint) ((key_length + extra_length) *\n\t\t\t       (long) file->records)",
          "old_text": null,
          "new_text": "uint) ((key_length + extra_length) *\n\t\t\t       (long) file->records)",
          "old_line_content": "\t\t       &field_lengths,",
          "new_line_content": "\t\t       (uint) ((key_length + extra_length) *",
          "content_same": false
        },
        {
          "line": 8166,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "res_selected_fields.empty()",
          "old_line_content": "",
          "new_line_content": "  res_selected_fields.empty();",
          "content_same": false
        },
        {
          "line": 8167,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "res_all_fields.empty()",
          "old_line_content": "  uint i, border= all_fields.elements - elements;",
          "new_line_content": "  res_all_fields.empty();",
          "content_same": false
        },
        {
          "line": 8681,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "tmp1.length(0)",
          "old_line_content": "",
          "new_line_content": "      tmp1.length(0);",
          "content_same": false
        },
        {
          "line": 7657,
          "old_api": null,
          "new_api": "find_item_in_list",
          "old_text": null,
          "new_text": "find_item_in_list(*new_field->item, fields, &counter,\n\t\t\t\t IGNORE_ERRORS)",
          "old_line_content": "      new_field->item=item;\t\t\t/* Change to shared Item */",
          "new_line_content": "    if ((item= find_item_in_list(*new_field->item, fields, &counter,",
          "content_same": false
        },
        {
          "line": 8684,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "item_list.empty()",
          "old_line_content": "\t\t\t\t       join->select_lex->select_number));",
          "new_line_content": "      item_list.empty();",
          "content_same": false
        },
        {
          "line": 7149,
          "old_api": null,
          "new_api": "hash_init",
          "old_text": null,
          "new_text": "hash_init(&hash, &my_charset_bin, (uint) file->records, 0, \n\t\tkey_length,(hash_get_key) 0, 0, 0)",
          "old_line_content": "  {",
          "new_line_content": "  if (hash_init(&hash, &my_charset_bin, (uint) file->records, 0, ",
          "content_same": false
        },
        {
          "line": 8174,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "    else",
          "new_line_content": "    if (item->with_sum_func && item->type() != Item::SUM_FUNC_ITEM)",
          "content_same": false
        },
        {
          "line": 8687,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_string(join->select_lex->type,\n\t\t\t\t\t  strlen(join->select_lex->type),\n\t\t\t\t\t  cs))",
          "old_line_content": "\t\t\t\t\t  cs));",
          "new_line_content": "      item_list.push_back(new Item_string(join->select_lex->type,",
          "content_same": false
        },
        {
          "line": 8688,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(join->select_lex->type)",
          "old_line_content": "      if (tab->type == JT_ALL && tab->select && tab->select->quick)",
          "new_line_content": "\t\t\t\t\t  strlen(join->select_lex->type),",
          "content_same": false
        },
        {
          "line": 7152,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "  }",
          "new_line_content": "    my_free((char*) key_buffer,MYF(0));",
          "content_same": false
        },
        {
          "line": 7153,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "  {",
          "new_line_content": "    DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 7665,
          "old_api": null,
          "new_api": "push_front",
          "old_text": null,
          "new_text": "all_fields.push_front(*new_field->item)",
          "old_line_content": "    }",
          "new_line_content": "      all_fields.push_front(*new_field->item);",
          "content_same": false
        },
        {
          "line": 7666,
          "old_api": null,
          "new_api": "head_ref",
          "old_text": null,
          "new_text": "all_fields.head_ref()",
          "old_line_content": "  }",
          "new_line_content": "      new_field->item=all_fields.head_ref();",
          "content_same": false
        },
        {
          "line": 7669,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 7158,
          "old_api": null,
          "new_api": "pack_length",
          "old_text": null,
          "new_text": "*ptr)->pack_length()",
          "old_line_content": "",
          "new_line_content": "      (*field_length++)= (*ptr)->pack_length();",
          "content_same": false
        },
        {
          "line": 8695,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(derived_name, sizeof(derived_name)-1,\n\t\t\t     \"<derived%u>\",\n\t\t\t     table->derived_select_number)",
          "old_line_content": "\t\t\t     table->derived_select_number);",
          "new_line_content": "\tint len= my_snprintf(derived_name, sizeof(derived_name)-1,",
          "content_same": false
        },
        {
          "line": 8184,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "\telse",
          "new_line_content": "\tif (item->type() == Item::SUM_FUNC_ITEM && field->table->group)",
          "content_same": false
        },
        {
          "line": 7161,
          "old_api": null,
          "new_api": "rnd_init",
          "old_text": null,
          "new_text": "file->rnd_init()",
          "old_line_content": "  for (;;)",
          "new_line_content": "  file->rnd_init();",
          "content_same": false
        },
        {
          "line": 8698,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_string(derived_name, len, cs))",
          "old_line_content": "      else",
          "new_line_content": "\titem_list.push_back(new Item_string(derived_name, len, cs));",
          "content_same": false
        },
        {
          "line": 8701,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "item_list.push_back(new Item_string(table->table_name,\n\t\t\t\t\t    strlen(table->table_name),\n\t\t\t\t\t    cs))",
          "old_line_content": "\t\t\t\t\t    cs));",
          "new_line_content": "\titem_list.push_back(new Item_string(table->table_name,",
          "content_same": false
        },
        {
          "line": 7167,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "      goto err;",
          "new_line_content": "      my_error(ER_SERVER_SHUTDOWN,MYF(0));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 7169,
          "old_api": "rnd_next",
          "new_api": null,
          "old_text": "file->rnd_next(record)",
          "new_text": null,
          "old_line_content": "    if ((error=file->rnd_next(record)))",
          "new_line_content": "      goto err;",
          "content_same": false
        },
        {
          "line": 8194,
          "old_api": "length",
          "new_api": null,
          "old_text": "str.length(0)",
          "new_text": null,
          "old_line_content": "\t  str.length(0);",
          "new_line_content": "\t  char buff[256];",
          "content_same": false
        },
        {
          "line": 8195,
          "old_api": "print",
          "new_api": null,
          "old_text": "item->print(&str)",
          "new_text": null,
          "old_line_content": "\t  item->print(&str);",
          "new_line_content": "\t  String str(buff,sizeof(buff),&my_charset_bin);",
          "content_same": false
        },
        {
          "line": 8711,
          "old_api": "length",
          "new_api": null,
          "old_text": "tmp1.length()",
          "new_text": null,
          "old_line_content": "\t  if (tmp1.length())",
          "new_line_content": "\tif (bits & 1)",
          "content_same": false
        },
        {
          "line": 8712,
          "old_api": "append",
          "new_api": null,
          "old_text": "tmp1.append(',')",
          "new_text": null,
          "old_line_content": "\t    tmp1.append(',');",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7177,
          "old_api": "val_int",
          "new_api": null,
          "old_text": "having->val_int()",
          "new_text": null,
          "old_line_content": "    if (having && !having->val_int())",
          "new_line_content": "      goto err;",
          "content_same": false
        },
        {
          "line": 8203,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "res_all_fields.push_back(item_field)",
          "new_text": null,
          "old_line_content": "    res_all_fields.push_back(item_field);",
          "new_line_content": "\titem_field= item;",
          "content_same": false
        },
        {
          "line": 8716,
          "old_api": "length",
          "new_api": null,
          "old_text": "tmp1.length()",
          "new_text": null,
          "old_line_content": "      if (tmp1.length())",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8717,
          "old_api": "length",
          "new_api": null,
          "old_text": "tmp1.length()",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(tmp1.ptr(),tmp1.length(),cs));",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 7693,
          "old_api": "memdup",
          "new_api": null,
          "old_text": "thd->memdup((char*) order,sizeof(ORDER))",
          "new_text": null,
          "old_line_content": "      ORDER *ord=(ORDER*) thd->memdup((char*) order,sizeof(ORDER));",
          "new_line_content": "    if (order->in_field_list)",
          "content_same": false
        },
        {
          "line": 6674,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "    ref_key_parts= tab->ref.key_parts;",
          "content_same": false
        },
        {
          "line": 8211,
          "old_api": "sublist",
          "new_api": null,
          "old_text": "itr.sublist(res_selected_fields, elements)",
          "new_text": null,
          "old_line_content": "  itr.sublist(res_selected_fields, elements);",
          "new_line_content": "  for (i= 0; i < border; i++)",
          "content_same": false
        },
        {
          "line": 8723,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_string(key_info->name,\n\t\t\t\t\t    strlen(key_info->name),\n\t\t\t\t\t    system_charset_info))",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(key_info->name,",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 8724,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(key_info->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t    strlen(key_info->name),",
          "new_line_content": "\tKEY *key_info=table->key_info+ tab->ref.key;",
          "content_same": false
        },
        {
          "line": 7188,
          "old_api": "sort_string",
          "new_api": null,
          "old_text": "*ptr)->sort_string((char*) key_pos,*field_length)",
          "new_text": null,
          "old_line_content": "      (*ptr)->sort_string((char*) key_pos,*field_length);",
          "new_line_content": "    for (Field **ptr= first_field ; *ptr ; ptr++)",
          "content_same": false
        },
        {
          "line": 7192,
          "old_api": "hash_search",
          "new_api": null,
          "old_text": "hash_search(&hash,key_pos-key_length,key_length)",
          "new_text": null,
          "old_line_content": "    if (hash_search(&hash,key_pos-key_length,key_length))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8729,
          "old_api": "length",
          "new_api": null,
          "old_text": "tmp2.length()",
          "new_text": null,
          "old_line_content": "\t  if (tmp2.length())",
          "new_line_content": "\tfor (store_key **ref=tab->ref.key_copy ; *ref ; ref++)",
          "content_same": false
        },
        {
          "line": 8730,
          "old_api": "append",
          "new_api": null,
          "old_text": "tmp2.append(',')",
          "new_text": null,
          "old_line_content": "\t    tmp2.append(',');",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7195,
          "old_api": "delete_row",
          "new_api": null,
          "old_text": "file->delete_row(record)",
          "new_text": null,
          "old_line_content": "      if ((error=file->delete_row(record)))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 7704,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "li.rewind()",
          "new_text": null,
          "old_line_content": "  li.rewind();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7707,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "    if (item->const_item() || item->with_sum_func)",
          "new_line_content": "  while ((item=li++))",
          "content_same": false
        },
        {
          "line": 7199,
          "old_api": "my_hash_insert",
          "new_api": null,
          "old_text": "my_hash_insert(&hash, key_pos-key_length)",
          "new_text": null,
          "old_line_content": "      (void) my_hash_insert(&hash, key_pos-key_length);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7711,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "thd->calloc(sizeof(ORDER))",
          "new_text": null,
          "old_line_content": "      ORDER *ord=(ORDER*) thd->calloc(sizeof(ORDER));",
          "new_line_content": "    if (!item->marker)",
          "content_same": false
        },
        {
          "line": 8738,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_string(key_info->name,\n\t\t\t\t\t    strlen(key_info->name),cs))",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(key_info->name,",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 8739,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(key_info->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t    strlen(key_info->name),cs));",
          "new_line_content": "\tKEY *key_info=table->key_info+ tab->index;",
          "content_same": false
        },
        {
          "line": 7202,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "  my_free((char*) key_buffer,MYF(0));",
          "new_line_content": "    key_pos+=extra_length;",
          "content_same": false
        },
        {
          "line": 7203,
          "old_api": "hash_free",
          "new_api": null,
          "old_text": "hash_free(&hash)",
          "new_text": null,
          "old_line_content": "  hash_free(&hash);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7714,
          "old_api": "ref",
          "new_api": null,
          "old_text": "li.ref()",
          "new_text": null,
          "old_line_content": "      ord->item=li.ref();",
          "new_line_content": "      if (!ord)",
          "content_same": false
        },
        {
          "line": 7209,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "  my_free((char*) key_buffer,MYF(0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8746,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_string(key_info->name,\n\t\t\t\t\t    strlen(key_info->name),cs))",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(key_info->name,",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 8747,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(key_info->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t    strlen(key_info->name),cs));",
          "new_line_content": "\tKEY *key_info=table->key_info+ tab->select->quick->index;",
          "content_same": false
        },
        {
          "line": 7210,
          "old_api": "hash_free",
          "new_api": null,
          "old_text": "hash_free(&hash)",
          "new_text": null,
          "old_line_content": "  hash_free(&hash);",
          "new_line_content": "err:",
          "content_same": false
        },
        {
          "line": 6701,
          "old_api": "test_if_subkey",
          "new_api": null,
          "old_text": "test_if_subkey(order, table, ref_key, ref_key_parts,\n\t\t\t\t       usable_keys)",
          "new_text": null,
          "old_line_content": "      if ((new_ref_key= test_if_subkey(order, table, ref_key, ref_key_parts,",
          "new_line_content": "      if (table->used_keys & (((key_map) 1 << ref_key)))",
          "content_same": false
        },
        {
          "line": 7215,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(1);",
          "new_line_content": "  if (error)",
          "content_same": false
        },
        {
          "line": 8241,
          "old_api": "empty",
          "new_api": null,
          "old_text": "res_selected_fields.empty()",
          "new_text": null,
          "old_line_content": "  res_selected_fields.empty();",
          "new_line_content": "  List_iterator_fast<Item> it(all_fields);",
          "content_same": false
        },
        {
          "line": 8242,
          "old_api": "empty",
          "new_api": null,
          "old_text": "res_all_fields.empty()",
          "new_text": null,
          "old_line_content": "  res_all_fields.empty();",
          "new_line_content": "  Item *item, *new_item;",
          "content_same": false
        },
        {
          "line": 8754,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(item_null)",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(item_null);",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 8755,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(item_null)",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(item_null);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 6708,
          "old_api": "index_init",
          "new_api": null,
          "old_text": "table->file->index_init(new_ref_key)",
          "new_text": null,
          "old_line_content": "\t  table->file->index_init(new_ref_key);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8247,
          "old_api": "get_tmp_table_item",
          "new_api": null,
          "old_text": "item->get_tmp_table_item(thd)",
          "new_text": null,
          "old_line_content": "    res_all_fields.push_back(new_item= item->get_tmp_table_item(thd));",
          "new_line_content": "  for (i= 0; (item= it++); i++)",
          "content_same": false
        },
        {
          "line": 7223,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"make_unireg_sortorder\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"make_unireg_sortorder\");",
          "new_line_content": "  uint count;",
          "content_same": false
        },
        {
          "line": 6713,
          "old_api": "init",
          "new_api": null,
          "old_text": "select->quick->init()",
          "new_text": null,
          "old_line_content": "\t  select->quick->init();",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7228,
          "old_api": "sql_alloc",
          "new_api": null,
          "old_text": "sql_alloc(sizeof(SORT_FIELD)*(count+1))",
          "new_text": null,
          "old_line_content": "  pos=sort=(SORT_FIELD*) sql_alloc(sizeof(SORT_FIELD)*(count+1));",
          "new_line_content": "  for (ORDER *tmp = order; tmp; tmp=tmp->next)",
          "content_same": false
        },
        {
          "line": 7741,
          "old_api": "type",
          "new_api": null,
          "old_text": "field->type()",
          "new_text": null,
          "old_line_content": "    Item::Type type=field->type();",
          "new_line_content": "  while ((field=li++))",
          "content_same": false
        },
        {
          "line": 8255,
          "old_api": "sublist",
          "new_api": null,
          "old_text": "itr.sublist(res_selected_fields, elements)",
          "new_text": null,
          "old_line_content": "  itr.sublist(res_selected_fields, elements);",
          "new_line_content": "  for (i= 0; i < border; i++)",
          "content_same": false
        },
        {
          "line": 8767,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(tab->info)",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(tab->info,strlen(tab->info),cs));",
          "new_line_content": "      ",
          "content_same": false
        },
        {
          "line": 6720,
          "old_api": "test_if_order_by_key",
          "new_api": null,
          "old_text": "test_if_order_by_key(order,table,ref_key,\n\t\t\t\t\t\t&used_key_parts)",
          "new_text": null,
          "old_line_content": "\t(order_direction = test_if_order_by_key(order,table,ref_key,",
          "new_line_content": "    /* Check if we get the rows in requested sorted order by using the key */",
          "content_same": false
        },
        {
          "line": 7746,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "field->const_item()",
          "new_text": null,
          "old_line_content": "      if (! field->const_item())",
          "new_line_content": "    else if (type == Item::SUM_FUNC_ITEM)",
          "content_same": false
        },
        {
          "line": 7235,
          "old_api": "type",
          "new_api": null,
          "old_text": "order->item[0]->type()",
          "new_text": null,
          "old_line_content": "    if (order->item[0]->type() == Item::FIELD_ITEM)",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8774,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(buff_ptr,\"; Range checked for each record (index map: %u)\",\n\t\t    tab->keys)",
          "new_text": null,
          "old_line_content": "\t    sprintf(buff_ptr,\"; Range checked for each record (index map: %u)\",",
          "new_line_content": "\t  if (tab->use_quick == 2)",
          "content_same": false
        },
        {
          "line": 7238,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "order->item[0]->const_item()",
          "new_text": null,
          "old_line_content": "\t     !order->item[0]->const_item())",
          "new_line_content": "      pos->field= ((Item_field*) (*order->item))->field;",
          "content_same": false
        },
        {
          "line": 8779,
          "old_api": "strmov",
          "new_api": null,
          "old_text": "strmov(buff_ptr,\"; Using where\")",
          "new_text": null,
          "old_line_content": "\t    buff_ptr=strmov(buff_ptr,\"; Using where\");",
          "new_line_content": "\t  }",
          "content_same": false
        },
        {
          "line": 6731,
          "old_api": "reverse_sorted",
          "new_api": null,
          "old_text": "select->quick->reverse_sorted()",
          "new_text": null,
          "old_line_content": "\t  if (!select->quick->reverse_sorted())",
          "new_line_content": "\t    (In some cases test_if_order_by_key() can be called multiple times",
          "content_same": false
        },
        {
          "line": 7755,
          "old_api": "type",
          "new_api": null,
          "old_text": "sum_item->args[0]->type()",
          "new_text": null,
          "old_line_content": "\t  if (sum_item->args[0]->type() == Item::FIELD_ITEM)",
          "new_line_content": "\tfor (uint i=0 ; i < sum_item->arg_count ; i++)",
          "content_same": false
        },
        {
          "line": 8782,
          "old_api": "strmov",
          "new_api": null,
          "old_text": "strmov(buff_ptr,\"; Using index\")",
          "new_text": null,
          "old_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Using index\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8271,
          "old_api": "reset_field",
          "new_api": null,
          "old_text": "func->reset_field()",
          "new_text": null,
          "old_line_content": "    func->reset_field();",
          "new_line_content": "  Item_sum *func;",
          "content_same": false
        },
        {
          "line": 6734,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "              DBUG_RETURN(0);\t\t\t// Use filesort",
          "new_line_content": "\t  {",
          "content_same": false
        },
        {
          "line": 7249,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(sort)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(sort);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8788,
          "old_api": "strmov",
          "new_api": null,
          "old_text": "strmov(buff_ptr,\"; Using temporary\")",
          "new_text": null,
          "old_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Using temporary\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6741,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\t      DBUG_RETURN(0);\t\t// Reverse sort not supported",
          "new_line_content": "\t    {",
          "content_same": false
        },
        {
          "line": 8793,
          "old_api": "strmov",
          "new_api": null,
          "old_text": "strmov(buff_ptr,\"; Using filesort\")",
          "new_text": null,
          "old_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Using filesort\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6745,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t  DBUG_RETURN(1);",
          "new_line_content": "\t    select->quick=tmp;",
          "content_same": false
        },
        {
          "line": 8283,
          "old_api": "update_field",
          "new_api": null,
          "old_text": "func->update_field()",
          "new_text": null,
          "old_line_content": "    func->update_field();",
          "new_line_content": "  Item_sum *func;",
          "content_same": false
        },
        {
          "line": 8796,
          "old_api": "strmov",
          "new_api": null,
          "old_text": "strmov(buff_ptr,\"; Distinct\")",
          "new_text": null,
          "old_line_content": "\t  buff_ptr= strmov(buff_ptr,\"; Distinct\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8799,
          "old_api": "uint) (buff_ptr - buff)",
          "new_api": null,
          "old_text": "uint) (buff_ptr - buff)",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(buff+2,(uint) (buff_ptr - buff)-2,",
          "new_line_content": "\tif (buff_ptr == buff)",
          "content_same": false
        },
        {
          "line": 6755,
          "old_api": "index_flags",
          "new_api": null,
          "old_text": "table->file->index_flags(ref_key)",
          "new_text": null,
          "old_line_content": "\t  if (table->file->index_flags(ref_key) & HA_NOT_READ_PREFIX_LAST)",
          "new_line_content": "\t    with key part (A) and then traverse the index backwards.",
          "content_same": false
        },
        {
          "line": 8804,
          "old_api": "send_data",
          "new_api": null,
          "old_text": "result->send_data(item_list)",
          "new_text": null,
          "old_line_content": "      if (result->send_data(item_list))",
          "new_line_content": "      // For next iteration",
          "content_same": false
        },
        {
          "line": 6756,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\t    DBUG_RETURN(0);\t\t\t// Use filesort",
          "new_line_content": "\t  */",
          "content_same": false
        },
        {
          "line": 8294,
          "old_api": "save_in_result_field",
          "new_api": null,
          "old_text": "func->save_in_result_field(1)",
          "new_text": null,
          "old_line_content": "    (void) func->save_in_result_field(1);",
          "new_line_content": "  Item_sum *func;",
          "content_same": false
        },
        {
          "line": 7268,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"join_init_cache\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"join_init_cache\");",
          "new_line_content": "  JOIN_CACHE  *cache;",
          "content_same": false
        },
        {
          "line": 8808,
          "old_api": "first_inner_unit",
          "new_api": null,
          "old_text": "join->select_lex->first_inner_unit()",
          "new_text": null,
          "old_line_content": "  for (SELECT_LEX_UNIT *unit= join->select_lex->first_inner_unit();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7783,
          "old_api": "eq",
          "new_api": null,
          "old_text": "*a->item)->eq(*b->item,1)",
          "new_text": null,
          "old_line_content": "    if ((*a->item)->eq(*b->item,1))",
          "new_line_content": "  for (; a && b; a=a->next,b=b->next)",
          "content_same": false
        },
        {
          "line": 6762,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(1);\t\t\t/* No need to sort */",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7788,
          "old_api": "test",
          "new_api": null,
          "old_text": "test(!b)",
          "new_text": null,
          "old_line_content": "  return test(!b);",
          "new_line_content": "      return 0;",
          "content_same": false
        },
        {
          "line": 7277,
          "old_api": "calc_used_field_length",
          "new_api": null,
          "old_text": "calc_used_field_length(thd, join_tab)",
          "new_text": null,
          "old_line_content": "      calc_used_field_length(thd, join_tab);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8304,
          "old_api": "reset",
          "new_api": null,
          "old_text": "*func_ptr)->reset()",
          "new_text": null,
          "old_line_content": "    if ((*func_ptr)->reset())",
          "new_line_content": "  for (; func_ptr != end_ptr ;func_ptr++)",
          "content_same": false
        },
        {
          "line": 7282,
          "old_api": "sql_alloc",
          "new_api": null,
          "old_text": "sql_alloc(sizeof(CACHE_FIELD)*(cache->fields+table_count*2)+(blobs+1)*\n\t\t  sizeof(CACHE_FIELD*))",
          "new_text": null,
          "old_line_content": "\tsql_alloc(sizeof(CACHE_FIELD)*(cache->fields+table_count*2)+(blobs+1)*",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8821,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"mysql_explain_union\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"mysql_explain_union\");",
          "new_line_content": "int mysql_explain_union(THD *thd, SELECT_LEX_UNIT *unit, select_result *result)",
          "content_same": false
        },
        {
          "line": 8310,
          "old_api": "add",
          "new_api": null,
          "old_text": "*func_ptr)->add()",
          "new_text": null,
          "old_line_content": "    if ((*func_ptr)->add())",
          "new_line_content": "  for ( ; *func_ptr ; func_ptr++)",
          "content_same": false
        },
        {
          "line": 7285,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "    my_free((gptr) cache->buff,MYF(0));\t\t/* purecov: inspected */",
          "new_line_content": "\t\t  sizeof(CACHE_FIELD*))))",
          "content_same": false
        },
        {
          "line": 7801,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"get_sort_by_table\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"get_sort_by_table\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8826,
          "old_api": "next_select",
          "new_api": null,
          "old_text": "sl->next_select()",
          "new_text": null,
          "old_line_content": "       sl= sl->next_select())",
          "new_line_content": "  for (SELECT_LEX *sl= first;",
          "content_same": false
        },
        {
          "line": 6778,
          "old_api": "keys_to_use_for_scanning",
          "new_api": null,
          "old_text": "table->file->keys_to_use_for_scanning()",
          "new_text": null,
          "old_line_content": "      keys&= (table->used_keys | table->file->keys_to_use_for_scanning());",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 8322,
          "old_api": "add",
          "new_api": null,
          "old_text": "func->add()",
          "new_text": null,
          "old_line_content": "    if (func->add())",
          "new_line_content": "  Item_sum *func;",
          "content_same": false
        },
        {
          "line": 6786,
          "old_api": "test_if_order_by_key",
          "new_api": null,
          "old_text": "test_if_order_by_key(order, table, nr, &not_used)",
          "new_text": null,
          "old_line_content": "\tif ((flag=test_if_order_by_key(order, table, nr, &not_used)))",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7810,
          "old_api": "eq",
          "new_api": null,
          "old_text": "*a->item)->eq(*b->item,1)",
          "new_text": null,
          "old_line_content": "    if (!(*a->item)->eq(*b->item,1))",
          "new_line_content": "  for (; a && b; a=a->next,b=b->next)",
          "content_same": false
        },
        {
          "line": 7811,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7815,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 6793,
          "old_api": "index_init",
          "new_api": null,
          "old_text": "table->file->index_init(nr)",
          "new_text": null,
          "old_line_content": "\t    table->file->index_init(nr);",
          "new_line_content": "\t    tab->read_first_record=  (flag > 0 ? join_read_first:",
          "content_same": false
        },
        {
          "line": 7307,
          "old_api": "fill_cache_field",
          "new_api": null,
          "old_text": "field->fill_cache_field(copy)",
          "new_text": null,
          "old_line_content": "\tlength+=field->fill_cache_field(copy);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7819,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);\t\t\t\t// More than one table",
          "new_line_content": "  for (; !(map & tables->table->map) ; tables=tables->next) ;",
          "content_same": false
        },
        {
          "line": 7820,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr));",
          "new_line_content": "  if (map != tables->table->map)",
          "content_same": false
        },
        {
          "line": 8334,
          "old_api": "save_in_result_field",
          "new_api": null,
          "old_text": "func->save_in_result_field(1)",
          "new_text": null,
          "old_line_content": "    func->save_in_result_field(1);",
          "new_line_content": "  Item *func;",
          "content_same": false
        },
        {
          "line": 6798,
          "old_api": "extra",
          "new_api": null,
          "old_text": "table->file->extra(HA_EXTRA_KEYREAD)",
          "new_text": null,
          "old_line_content": "\t      table->file->extra(HA_EXTRA_KEYREAD);",
          "new_line_content": "\t    {",
          "content_same": false
        },
        {
          "line": 8848,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(res)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(res);",
          "new_line_content": "  if (res > 0 || thd->net.report_error)",
          "content_same": false
        },
        {
          "line": 6801,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t  DBUG_RETURN(1);",
          "new_line_content": "\t    }",
          "content_same": false
        },
        {
          "line": 7310,
          "old_api": "maybe_null",
          "new_api": null,
          "old_text": "field->maybe_null()",
          "new_text": null,
          "old_line_content": "\tif (field->maybe_null())",
          "new_line_content": "\tif (copy->blob_field)",
          "content_same": false
        },
        {
          "line": 6806,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(0);\t\t\t\t// Can't use index.",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8855,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"mysql_explain_select\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"mysql_explain_select\");",
          "new_line_content": "\t\t\t select_result *result)",
          "content_same": false
        },
        {
          "line": 8856,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s\", (ulong)select_lex, type))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s\", (ulong)select_lex, type))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8345,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"add_ref_to_table_cond\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"add_ref_to_table_cond\");",
          "new_line_content": "static bool add_ref_to_table_cond(THD *thd, JOIN_TAB *join_tab)",
          "content_same": false
        },
        {
          "line": 8859,
          "old_api": "master_unit",
          "new_api": null,
          "old_text": "select_lex->master_unit()",
          "new_text": null,
          "old_line_content": "  SELECT_LEX_UNIT *unit=  select_lex->master_unit();",
          "new_line_content": "  select_lex->type= type;",
          "content_same": false
        },
        {
          "line": 8860,
          "old_api": "mysql_select",
          "new_api": null,
          "old_text": "mysql_select(thd, &select_lex->ref_pointer_array,\n\t\t\t(TABLE_LIST*) select_lex->table_list.first,\n\t\t\tselect_lex->with_wild, select_lex->item_list,\n\t\t\tselect_lex->where,\n\t\t\tselect_lex->order_list.elements +\n\t\t\tselect_lex->group_list.elements,\n\t\t\t(ORDER*) select_lex->order_list.first,\n\t\t\t(ORDER*) select_lex->group_list.first,\n\t\t\tselect_lex->having,\n\t\t\t(ORDER*) thd->lex.proc_list.first,\n\t\t\tselect_lex->options | thd->options | SELECT_DESCRIBE,\n\t\t\tresult, unit, select_lex, 0)",
          "new_text": null,
          "old_line_content": "  int res= mysql_select(thd, &select_lex->ref_pointer_array,",
          "new_line_content": "  thd->lex.current_select= select_lex;",
          "content_same": false
        },
        {
          "line": 7836,
          "old_api": "get_tmp_table_field",
          "new_api": null,
          "old_text": "*group->item)->get_tmp_table_field()",
          "new_text": null,
          "old_line_content": "    Field *field=(*group->item)->get_tmp_table_field();",
          "new_line_content": "  for (; group ; group=group->next)",
          "content_same": false
        },
        {
          "line": 7839,
          "old_api": "type",
          "new_api": null,
          "old_text": "field->type()",
          "new_text": null,
          "old_line_content": "      if (field->type() == FIELD_TYPE_BLOB)",
          "new_line_content": "    if (field)",
          "content_same": false
        },
        {
          "line": 8353,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(TRUE);",
          "new_line_content": "  int error;",
          "content_same": false
        },
        {
          "line": 7842,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "field->pack_length()",
          "new_text": null,
          "old_line_content": "\tkey_length+=field->pack_length();",
          "new_line_content": "\tkey_length+=MAX_BLOB_WIDTH;\t\t// Can't be used as a key",
          "content_same": false
        },
        {
          "line": 8360,
          "old_api": "add",
          "new_api": null,
          "old_text": "cond->add(new Item_func_equal(new Item_field(field),value))",
          "new_text": null,
          "old_line_content": "    cond->add(new Item_func_equal(new Item_field(field),value));",
          "new_line_content": "\t\t\t      fieldnr-1];",
          "content_same": false
        },
        {
          "line": 8872,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(res)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(res);",
          "new_line_content": "\t\t\tselect_lex->options | thd->options | SELECT_DESCRIBE,",
          "content_same": false
        },
        {
          "line": 8363,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(TRUE);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7343,
          "old_api": "max",
          "new_api": null,
          "old_text": "max(thd->variables.join_buff_size, cache->length)",
          "new_text": null,
          "old_line_content": "  size=max(thd->variables.join_buff_size, cache->length);",
          "new_line_content": "  cache->blobs=blobs;",
          "content_same": false
        },
        {
          "line": 7344,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "  if (!(cache->buff=(uchar*) my_malloc(size,MYF(0))))",
          "new_line_content": "  *blob_ptr=0;\t\t\t\t\t/* End sequentel */",
          "content_same": false
        },
        {
          "line": 8369,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "cond->fix_fields((THD *) 0,(TABLE_LIST *) 0, (Item**)&cond)",
          "new_text": null,
          "old_line_content": "  cond->fix_fields((THD *) 0,(TABLE_LIST *) 0, (Item**)&cond);",
          "new_line_content": "    to do any stack checking (This is already done in the initial fix_fields).",
          "content_same": false
        },
        {
          "line": 8372,
          "old_api": "add",
          "new_api": null,
          "old_text": "cond->add(join_tab->select->cond)",
          "new_text": null,
          "old_line_content": "    error=(int) cond->add(join_tab->select->cond);",
          "new_line_content": "  if (join_tab->select)",
          "content_same": false
        },
        {
          "line": 7348,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(0);",
          "new_line_content": "  cache->end=cache->buff+size;",
          "content_same": false
        },
        {
          "line": 8375,
          "old_api": "make_select",
          "new_api": null,
          "old_text": "make_select(join_tab->table, 0, 0, cond,&error)",
          "new_text": null,
          "old_line_content": "  else if ((join_tab->select=make_select(join_tab->table, 0, 0, cond,&error)))",
          "new_line_content": "    join_tab->select_cond=join_tab->select->cond=cond;",
          "content_same": false
        },
        {
          "line": 8378,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(error ? TRUE : FALSE)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(error ? TRUE : FALSE);",
          "new_line_content": "    join_tab->select_cond=cond;",
          "content_same": false
        },
        {
          "line": 7358,
          "old_api": "get_length",
          "new_api": null,
          "old_text": "*ptr)->blob_field->get_length()",
          "new_text": null,
          "old_line_content": "    (*ptr)->blob_length=blob_length=(*ptr)->blob_field->get_length();",
          "new_line_content": "  for (length=0 ; *ptr ; ptr++)",
          "content_same": false
        },
        {
          "line": 6847,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"create_sort_index\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"create_sort_index\");",
          "new_line_content": "  SQL_SELECT *select;",
          "content_same": false
        },
        {
          "line": 6850,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);\t\t\t\t// One row, no need to sort",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6855,
          "old_api": "test_if_skip_sort_order",
          "new_api": null,
          "old_text": "test_if_skip_sort_order(tab,order,select_limit,0)",
          "new_text": null,
          "old_line_content": "  if (test_if_skip_sort_order(tab,order,select_limit,0))",
          "new_line_content": "  select= tab->select;",
          "content_same": false
        },
        {
          "line": 8392,
          "old_api": "first_inner_unit",
          "new_api": null,
          "old_text": "select->first_inner_unit()",
          "new_text": null,
          "old_line_content": "  for (SELECT_LEX_UNIT *unit= select->first_inner_unit();",
          "new_line_content": "void free_underlaid_joins(THD *thd, SELECT_LEX *select)",
          "content_same": false
        },
        {
          "line": 6856,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7882,
          "old_api": "alloc_group_fields",
          "new_api": null,
          "old_text": "alloc_group_fields(curr_join, curr_join->group_list)",
          "new_text": null,
          "old_line_content": "      if (alloc_group_fields(curr_join, curr_join->group_list))",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 8395,
          "old_api": "cleanup",
          "new_api": null,
          "old_text": "unit->cleanup()",
          "new_text": null,
          "old_line_content": "    unit->cleanup();",
          "new_line_content": "       unit;",
          "content_same": false
        },
        {
          "line": 6860,
          "old_api": "my_malloc",
          "new_api": null,
          "old_text": "my_malloc(sizeof(IO_CACHE),\n                                             MYF(MY_WME | MY_ZEROFILL))",
          "new_text": null,
          "old_line_content": "  table->sort.io_cache=(IO_CACHE*) my_malloc(sizeof(IO_CACHE),",
          "new_line_content": "    goto err;\t\t\t\t/* purecov: inspected */",
          "content_same": false
        },
        {
          "line": 6861,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(MY_WME | MY_ZEROFILL)",
          "new_text": null,
          "old_line_content": "                                             MYF(MY_WME | MY_ZEROFILL));",
          "new_line_content": "  /* It's not fatal if the following alloc fails */",
          "content_same": false
        },
        {
          "line": 7379,
          "old_api": "used_blob_length",
          "new_api": null,
          "old_text": "used_blob_length(cache->blob_ptr)",
          "new_text": null,
          "old_line_content": "    length+=used_blob_length(cache->blob_ptr);",
          "new_line_content": "  length=cache->length;",
          "content_same": false
        },
        {
          "line": 7380,
          "old_api": "uint) (cache->end - pos)",
          "new_api": null,
          "old_text": "uint) (cache->end - pos)",
          "new_text": null,
          "old_line_content": "  if ((last_record=(length+cache->length > (uint) (cache->end - pos))))",
          "new_line_content": "  if (cache->blobs)",
          "content_same": false
        },
        {
          "line": 8183,
          "old_api": "result_item",
          "new_api": null,
          "old_text": "(Item_sum*) item)->result_item(field)",
          "new_text": null,
          "old_line_content": "\t  item_field= ((Item_sum*) item)->result_item(field);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 6875,
          "old_api": "extra",
          "new_api": null,
          "old_text": "table->file->extra(HA_EXTRA_NO_KEYREAD)",
          "new_text": null,
          "old_line_content": "\ttable->file->extra(HA_EXTRA_NO_KEYREAD);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7903,
          "old_api": "new_Item_buff",
          "new_api": null,
          "old_text": "new_Item_buff(*group->item)",
          "new_text": null,
          "old_line_content": "      Item_buff *tmp=new_Item_buff(*group->item);",
          "new_line_content": "    for (; group ; group=group->next)",
          "content_same": false
        },
        {
          "line": 7904,
          "old_api": "push_front",
          "new_api": null,
          "old_text": "join->group_fields.push_front(tmp)",
          "new_text": null,
          "old_line_content": "      if (!tmp || join->group_fields.push_front(tmp))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 7393,
          "old_api": "get_image",
          "new_api": null,
          "old_text": "copy->blob_field->get_image((char*) pos,copy->length+sizeof(char*), \n\t\t\t\t    copy->blob_field->charset())",
          "new_text": null,
          "old_line_content": "\tcopy->blob_field->get_image((char*) pos,copy->length+sizeof(char*), ",
          "new_line_content": "      if (last_record)",
          "content_same": false
        },
        {
          "line": 8418,
          "old_api": "alloc",
          "new_api": null,
          "old_text": "thd->alloc((sizeof(Item*) +\n\t\t\t\t\t\t sizeof(List<Item>) +\n\t\t\t\t\t\t ref_pointer_array_size)\n\t\t\t\t\t\t* send_group_parts)",
          "new_text": null,
          "old_line_content": "  if (!(rollup.fields= (List<Item>*) thd->alloc((sizeof(Item*) +",
          "new_line_content": "  tmp_table_param.group_parts= send_group_parts;",
          "content_same": false
        },
        {
          "line": 7394,
          "old_api": "charset",
          "new_api": null,
          "old_text": "copy->blob_field->charset()",
          "new_text": null,
          "old_line_content": "\t\t\t\t    copy->blob_field->charset());",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 6886,
          "old_api": "get_ft_or_quick_select_for_ref",
          "new_api": null,
          "old_text": "get_ft_or_quick_select_for_ref(table, tab)",
          "new_text": null,
          "old_line_content": "      if (!(select->quick=get_ft_or_quick_select_for_ref(table, tab)))",
          "new_line_content": "\tfield, quick will contain an empty record set.",
          "content_same": false
        },
        {
          "line": 7399,
          "old_api": "get_image",
          "new_api": null,
          "old_text": "copy->blob_field->get_image((char*) pos,copy->length, // blob length\n\t\t\t\t    copy->blob_field->charset())",
          "new_text": null,
          "old_line_content": "\tcopy->blob_field->get_image((char*) pos,copy->length, // blob length",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 7400,
          "old_api": "charset",
          "new_api": null,
          "old_text": "copy->blob_field->charset()",
          "new_text": null,
          "old_line_content": "\t\t\t\t    copy->blob_field->charset());",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 6891,
          "old_api": "info",
          "new_api": null,
          "old_text": "table->file->info(HA_STATUS_VARIABLE)",
          "new_text": null,
          "old_line_content": "    table->file->info(HA_STATUS_VARIABLE);\t// Get record count",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 6892,
          "old_api": "filesort",
          "new_api": null,
          "old_text": "filesort(thd, table,sortorder, length,\n                                     select, filesort_limit, &examined_rows)",
          "new_text": null,
          "old_line_content": "  table->sort.found_records=filesort(thd, table,sortorder, length,",
          "new_line_content": "  if (table->tmp_table)",
          "content_same": false
        },
        {
          "line": 7916,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"test_if_group_changed\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"test_if_group_changed\");",
          "new_line_content": "test_if_group_changed(List<Item_buff> &list)",
          "content_same": false
        },
        {
          "line": 8434,
          "old_api": "empty",
          "new_api": null,
          "old_text": "fields->empty()",
          "new_text": null,
          "old_line_content": "    fields->empty();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7923,
          "old_api": "cmp",
          "new_api": null,
          "old_text": "buff->cmp()",
          "new_text": null,
          "old_line_content": "    if (buff->cmp())",
          "new_line_content": "  for (i=(int) list.elements-1 ; (buff=li++) ; i--)",
          "content_same": false
        },
        {
          "line": 7413,
          "old_api": "uint) (end-str)",
          "new_api": null,
          "old_text": "uint) (end-str)",
          "new_text": null,
          "old_line_content": "\tlength=(uint) (end-str);",
          "new_line_content": "\t     end > str && end[-1] == ' ' ;",
          "content_same": false
        },
        {
          "line": 8438,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "fields->push_back(rollup.item_null)",
          "new_text": null,
          "old_line_content": "      fields->push_back(rollup.item_null);",
          "new_line_content": "    ref_array+= all_fields.elements;",
          "content_same": false
        },
        {
          "line": 7414,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(pos+1,str,length)",
          "new_text": null,
          "old_line_content": "\tmemcpy(pos+1,str,length);",
          "new_line_content": "\t     end--) ;",
          "content_same": false
        },
        {
          "line": 6904,
          "old_api": "extra",
          "new_api": null,
          "old_text": "table->file->extra(HA_EXTRA_NO_KEYREAD)",
          "new_text": null,
          "old_line_content": "    table->file->extra(HA_EXTRA_NO_KEYREAD);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7926,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"info\", (\"idx: %d\", idx))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"info\", (\"idx: %d\", idx));",
          "new_line_content": "      idx=i;",
          "content_same": false
        },
        {
          "line": 7927,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(idx)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(idx);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7420,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(pos,copy->str,copy->length)",
          "new_text": null,
          "old_line_content": "\tmemcpy(pos,copy->str,copy->length);",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 7426,
          "old_api": "uint) (cache->end -pos)",
          "new_api": null,
          "old_text": "uint) (cache->end -pos)",
          "new_text": null,
          "old_line_content": "  return last_record || (uint) (cache->end -pos) < cache->length;",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 6918,
          "old_api": "update_used_tables",
          "new_api": null,
          "old_text": "*having)->update_used_tables()",
          "new_text": null,
          "old_line_content": "  (*having)->update_used_tables();\t// Some tables may have been const",
          "new_line_content": "static bool fix_having(JOIN *join, Item **having)",
          "content_same": false
        },
        {
          "line": 6922,
          "old_api": "print_where",
          "new_api": null,
          "old_text": "print_where(*having,\"having\")",
          "new_text": null,
          "old_line_content": "  DBUG_EXECUTE(\"where\",print_where(*having,\"having\"););",
          "new_line_content": "  table_map used_tables= join->const_table_map | table->table->map;",
          "content_same": false
        },
        {
          "line": 6923,
          "old_api": "make_cond_for_table",
          "new_api": null,
          "old_text": "make_cond_for_table(*having,used_tables,used_tables)",
          "new_text": null,
          "old_line_content": "  Item* sort_table_cond=make_cond_for_table(*having,used_tables,used_tables);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8466,
          "old_api": "head",
          "new_api": null,
          "old_text": "fields.head()",
          "new_text": null,
          "old_line_content": "  Item *first_field= fields.head();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 6936,
          "old_api": "top_level_item",
          "new_api": null,
          "old_text": "table->select_cond->top_level_item()",
          "new_text": null,
          "old_line_content": "    table->select_cond->top_level_item();",
          "new_line_content": "\treturn 1;",
          "content_same": false
        },
        {
          "line": 6937,
          "old_api": "print_where",
          "new_api": null,
          "old_text": "print_where(table->select_cond,\n\t\t\t\t     \"select and having\")",
          "new_text": null,
          "old_line_content": "    DBUG_EXECUTE(\"where\",print_where(table->select_cond,",
          "new_line_content": "    table->select_cond=table->select->cond;",
          "content_same": false
        },
        {
          "line": 6940,
          "old_api": "print_where",
          "new_api": null,
          "old_text": "print_where(*having,\"having after make_cond\")",
          "new_text": null,
          "old_line_content": "    DBUG_EXECUTE(\"where\",print_where(*having,\"having after make_cond\"););",
          "new_line_content": "\t\t\t\t     \"select and having\"););",
          "content_same": false
        },
        {
          "line": 7964,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"setup_copy_fields\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"setup_copy_fields\");",
          "new_line_content": "  List_iterator_fast<Item> li(all_fields);",
          "content_same": false
        },
        {
          "line": 7965,
          "old_api": "empty",
          "new_api": null,
          "old_text": "res_selected_fields.empty()",
          "new_text": null,
          "old_line_content": "  res_selected_fields.empty();",
          "new_line_content": "  Copy_field *copy;",
          "content_same": false
        },
        {
          "line": 7457,
          "old_api": "set_image",
          "new_api": null,
          "old_text": "copy->blob_field->set_image((char*) pos,copy->length+sizeof(char*),\n\t\t\t\t    copy->blob_field->charset())",
          "new_text": null,
          "old_line_content": "\tcopy->blob_field->set_image((char*) pos,copy->length+sizeof(char*),",
          "new_line_content": "      if (last_record)",
          "content_same": false
        },
        {
          "line": 7458,
          "old_api": "charset",
          "new_api": null,
          "old_text": "copy->blob_field->charset()",
          "new_text": null,
          "old_line_content": "\t\t\t\t    copy->blob_field->charset());",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7974,
          "old_api": "empty",
          "new_api": null,
          "old_text": "param->copy_funcs.empty()",
          "new_text": null,
          "old_line_content": "  param->copy_funcs.empty();",
          "new_line_content": "    goto err2;",
          "content_same": false
        },
        {
          "line": 7463,
          "old_api": "set_ptr",
          "new_api": null,
          "old_text": "copy->blob_field->set_ptr((char*) pos,(char*) pos+copy->length)",
          "new_text": null,
          "old_line_content": "\tcopy->blob_field->set_ptr((char*) pos,(char*) pos+copy->length);",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 7464,
          "old_api": "get_length",
          "new_api": null,
          "old_text": "copy->blob_field->get_length()",
          "new_text": null,
          "old_line_content": "\tpos+=copy->length+copy->blob_field->get_length();",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7977,
          "old_api": "type",
          "new_api": null,
          "old_text": "pos->type()",
          "new_text": null,
          "old_line_content": "    if (pos->type() == Item::FIELD_ITEM)",
          "new_line_content": "  for (i= 0; (pos= li++); i++)",
          "content_same": false
        },
        {
          "line": 6959,
          "old_api": "cmp_offset",
          "new_api": null,
          "old_text": "*ptr)->cmp_offset(table->rec_buff_length)",
          "new_text": null,
          "old_line_content": "    if ((*ptr)->cmp_offset(table->rec_buff_length))",
          "new_line_content": "  for (; *ptr ; ptr++)",
          "content_same": false
        },
        {
          "line": 7471,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(copy->str,pos+1,length=(uint) *pos)",
          "new_text": null,
          "old_line_content": "\tmemcpy(copy->str,pos+1,length=(uint) *pos);",
          "new_line_content": "      if (copy->strip)",
          "content_same": false
        },
        {
          "line": 7472,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(copy->str+length,' ',copy->length-length)",
          "new_text": null,
          "old_line_content": "\tmemset(copy->str+length,' ',copy->length-length);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7987,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "param->copy_funcs.push_back(pos)",
          "new_text": null,
          "old_line_content": "\tif (param->copy_funcs.push_back(pos))",
          "new_line_content": "\tif (!(pos= new Item_copy_string(pos)))",
          "content_same": false
        },
        {
          "line": 7477,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(copy->str,pos,copy->length)",
          "new_text": null,
          "old_line_content": "\tmemcpy(copy->str,pos,copy->length);",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 6970,
          "old_api": "copy",
          "new_api": null,
          "old_text": "(Field_blob *) (*ptr))->copy()",
          "new_text": null,
          "old_line_content": "      if (((Field_blob *) (*ptr))->copy())",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7997,
          "old_api": "new_field",
          "new_api": null,
          "old_text": "field->new_field(&thd->mem_root,field->table)",
          "new_text": null,
          "old_line_content": "\titem->result_field=field->new_field(&thd->mem_root,field->table);",
          "new_line_content": "\t*/",
          "content_same": false
        },
        {
          "line": 7998,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "field->pack_length()",
          "new_text": null,
          "old_line_content": "\tchar *tmp=(char*) sql_alloc(field->pack_length()+1);",
          "new_line_content": "\tField *field= item->field;",
          "content_same": false
        },
        {
          "line": 8512,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "it.rewind()",
          "new_text": null,
          "old_line_content": "    it.rewind();",
          "new_line_content": "      ;",
          "content_same": false
        },
        {
          "line": 8001,
          "old_api": "set",
          "new_api": null,
          "old_text": "copy->set(tmp, item->result_field)",
          "new_text": null,
          "old_line_content": "\tcopy->set(tmp, item->result_field);",
          "new_line_content": "\tif (!tmp)",
          "content_same": false
        },
        {
          "line": 8002,
          "old_api": "move_field",
          "new_api": null,
          "old_text": "item->result_field->move_field(copy->to_ptr,copy->to_null_ptr,1)",
          "new_text": null,
          "old_line_content": "\titem->result_field->move_field(copy->to_ptr,copy->to_null_ptr,1);",
          "new_line_content": "\t  goto err;",
          "content_same": false
        },
        {
          "line": 6981,
          "old_api": "free",
          "new_api": null,
          "old_text": "(Field_blob *) (*ptr))->free()",
          "new_text": null,
          "old_line_content": "      ((Field_blob *) (*ptr))->free();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7493,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length)",
          "new_text": null,
          "old_line_content": "    memcpy(tab->ref.key_buff2, tab->ref.key_buff, tab->ref.key_length);",
          "new_line_content": "  if (!(diff=tab->ref.key_err))",
          "content_same": false
        },
        {
          "line": 8006,
          "old_api": "type",
          "new_api": null,
          "old_text": "pos->type()",
          "new_text": null,
          "old_line_content": "    else if ((pos->type() == Item::FUNC_ITEM ||",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 8007,
          "old_api": "type",
          "new_api": null,
          "old_text": "pos->type()",
          "new_text": null,
          "old_line_content": "\t      pos->type() == Item::COND_ITEM) &&",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8521,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "      if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item())",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 6993,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"remove_duplicates\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"remove_duplicates\");",
          "new_line_content": "  uint field_count;",
          "content_same": false
        },
        {
          "line": 7506,
          "old_api": "copy",
          "new_api": null,
          "old_text": "*copy)->copy()",
          "new_text": null,
          "old_line_content": "    if ((*copy)->copy())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8531,
          "old_api": "copy_or_same",
          "new_api": null,
          "old_text": "item->copy_or_same(thd)",
          "new_text": null,
          "old_line_content": "\titem= item->copy_or_same(thd);",
          "new_line_content": "\t  sub selects.",
          "content_same": false
        },
        {
          "line": 8532,
          "old_api": "make_unique",
          "new_api": null,
          "old_text": "(Item_sum*) item)->make_unique()",
          "new_text": null,
          "old_line_content": "\t((Item_sum*) item)->make_unique();",
          "new_line_content": "\t*/",
          "content_same": false
        },
        {
          "line": 8018,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "param->copy_funcs.push_back(pos)",
          "new_text": null,
          "old_line_content": "      if (param->copy_funcs.push_back(pos))",
          "new_line_content": "      if (!(pos=new Item_copy_string(pos)))",
          "content_same": false
        },
        {
          "line": 8021,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "res_all_fields.push_back(pos)",
          "new_text": null,
          "old_line_content": "    res_all_fields.push_back(pos);",
          "new_line_content": "\tgoto err;",
          "content_same": false
        },
        {
          "line": 7003,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "    if (item->get_tmp_table_field() && ! item->const_item())",
          "new_line_content": "  while ((item=it++))",
          "content_same": false
        },
        {
          "line": 8029,
          "old_api": "sublist",
          "new_api": null,
          "old_text": "itr.sublist(res_selected_fields, elements)",
          "new_text": null,
          "old_line_content": "  itr.sublist(res_selected_fields, elements);",
          "new_line_content": "  for (i= 0; i < border; i++)",
          "content_same": false
        },
        {
          "line": 8030,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(0);",
          "new_line_content": "    itr++;",
          "content_same": false
        },
        {
          "line": 7010,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);",
          "new_line_content": "  {\t\t\t\t\t\t// only const items",
          "content_same": false
        },
        {
          "line": 8036,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(TRUE);",
          "new_line_content": "  param->copy_field=0;",
          "content_same": false
        },
        {
          "line": 7013,
          "old_api": "offset",
          "new_api": null,
          "old_text": "entry->field[entry->fields - field_count]->offset()",
          "new_text": null,
          "old_line_content": "  offset=entry->field[entry->fields - field_count]->offset();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7016,
          "old_api": "free_io_cache",
          "new_api": null,
          "old_text": "free_io_cache(entry)",
          "new_text": null,
          "old_line_content": "  free_io_cache(entry);\t\t\t\t// Safety",
          "new_line_content": "  reclength=entry->reclength-offset;",
          "content_same": false
        },
        {
          "line": 7017,
          "old_api": "info",
          "new_api": null,
          "old_text": "entry->file->info(HA_STATUS_VARIABLE)",
          "new_text": null,
          "old_line_content": "  entry->file->info(HA_STATUS_VARIABLE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7528,
          "old_api": "type",
          "new_api": null,
          "old_text": "itemptr->type()",
          "new_text": null,
          "old_line_content": "  if (itemptr->type() == Item::INT_ITEM)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 7020,
          "old_api": "ALIGN_SIZE",
          "new_api": null,
          "old_text": "ALIGN_SIZE(reclength)",
          "new_text": null,
          "old_line_content": "       ((ALIGN_SIZE(reclength) +sizeof(HASH_LINK)) * entry->file->records <",
          "new_line_content": "  if (entry->db_type == DB_TYPE_HEAP ||",
          "content_same": false
        },
        {
          "line": 7532,
          "old_api": "uint) ((Item_int*)itemptr)",
          "new_api": null,
          "old_text": "uint) ((Item_int*)itemptr)",
          "new_text": null,
          "old_line_content": "    uint count= (uint) ((Item_int*)itemptr)->value;",
          "new_line_content": "    Item *item=0;",
          "content_same": false
        },
        {
          "line": 7535,
          "old_api": "ER",
          "new_api": null,
          "old_text": "ER(ER_BAD_FIELD_ERROR)",
          "new_text": null,
          "old_line_content": "      my_printf_error(ER_BAD_FIELD_ERROR,ER(ER_BAD_FIELD_ERROR),",
          "new_line_content": "    if (!count || count > fields.elements)",
          "content_same": false
        },
        {
          "line": 8560,
          "old_api": "replace",
          "new_api": null,
          "old_text": "new_it.replace(item)",
          "new_text": null,
          "old_line_content": "\tnew_it.replace(item);\t\t\t// Replace previous",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7536,
          "old_api": "full_name",
          "new_api": null,
          "old_text": "itemptr->full_name()",
          "new_text": null,
          "old_line_content": "\t\t      MYF(0),itemptr->full_name(),",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 7026,
          "old_api": "remove_dup_with_compare",
          "new_api": null,
          "old_text": "remove_dup_with_compare(join->thd, entry, first_field, offset,\n\t\t\t\t  having)",
          "new_text": null,
          "old_line_content": "    error=remove_dup_with_compare(join->thd, entry, first_field, offset,",
          "new_line_content": "\t\t\t\t     reclength, having);",
          "content_same": false
        },
        {
          "line": 7029,
          "old_api": "free_blobs",
          "new_api": null,
          "old_text": "free_blobs(first_field)",
          "new_text": null,
          "old_line_content": "  free_blobs(first_field);",
          "new_line_content": "\t\t\t\t  having);",
          "content_same": false
        },
        {
          "line": 7030,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(error)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8054,
          "old_api": "*ptr->do_copy)(ptr)",
          "new_api": null,
          "old_text": "*ptr->do_copy)(ptr)",
          "new_text": null,
          "old_line_content": "    (*ptr->do_copy)(ptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7545,
          "old_api": "find_item_in_list",
          "new_api": null,
          "old_text": "find_item_in_list(itemptr, fields, &counter, IGNORE_ERRORS)",
          "new_text": null,
          "old_line_content": "  Item **item= find_item_in_list(itemptr, fields, &counter, IGNORE_ERRORS);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8057,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "it.rewind()",
          "new_text": null,
          "old_line_content": "  it.rewind();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8060,
          "old_api": "copy",
          "new_api": null,
          "old_text": "item->copy()",
          "new_text": null,
          "old_line_content": "    item->copy();",
          "new_line_content": "  Item_copy_string *item;",
          "content_same": false
        },
        {
          "line": 7042,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"remove_dup_with_compare\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"remove_dup_with_compare\");",
          "new_line_content": "  int error;",
          "content_same": false
        },
        {
          "line": 7554,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "it->fix_fields(thd, tables, order->item)",
          "new_text": null,
          "old_line_content": "  if (it->fix_fields(thd, tables, order->item) ||",
          "new_line_content": "  order->in_field_list=0;",
          "content_same": false
        },
        {
          "line": 7047,
          "old_api": "rnd_init",
          "new_api": null,
          "old_text": "file->rnd_init()",
          "new_text": null,
          "old_line_content": "  file->rnd_init();",
          "new_line_content": "  new_record=(char*) table->record[1]+offset;",
          "content_same": false
        },
        {
          "line": 7048,
          "old_api": "rnd_next",
          "new_api": null,
          "old_text": "file->rnd_next(record)",
          "new_text": null,
          "old_line_content": "  error=file->rnd_next(record);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7560,
          "old_api": "push_front",
          "new_api": null,
          "old_text": "all_fields.push_front(it)",
          "new_text": null,
          "old_line_content": "  all_fields.push_front(it);\t\t        // Add new field to field list",
          "new_line_content": "    return 1;\t\t\t\t\t// Wrong field ",
          "content_same": false
        },
        {
          "line": 7053,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "      my_error(ER_SERVER_SHUTDOWN,MYF(0));",
          "new_line_content": "    if (thd->killed)",
          "content_same": false
        },
        {
          "line": 8078,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"alloc_func_list\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"alloc_func_list\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8595,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy((char*) ref_pointer_array,\n\t   (char*) rollup.ref_pointer_arrays[i],\n\t   ref_pointer_array_size)",
          "new_text": null,
          "old_line_content": "    memcpy((char*) ref_pointer_array,",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8598,
          "old_api": "val_int",
          "new_api": null,
          "old_text": "having->val_int()",
          "new_text": null,
          "old_line_content": "    if ((!having || having->val_int()))",
          "new_line_content": "\t   (char*) rollup.ref_pointer_arrays[i],",
          "content_same": false
        },
        {
          "line": 8601,
          "old_api": "send_data",
          "new_api": null,
          "old_text": "result->send_data(rollup.fields[i])",
          "new_text": null,
          "old_line_content": "\t  result->send_data(rollup.fields[i]))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 7065,
          "old_api": "val_int",
          "new_api": null,
          "old_text": "having->val_int()",
          "new_text": null,
          "old_line_content": "    if (having && !having->val_int())",
          "new_line_content": "      goto err;",
          "content_same": false
        },
        {
          "line": 7577,
          "old_api": "find_order_in_list",
          "new_api": null,
          "old_text": "find_order_in_list(thd, ref_pointer_array, tables, order, fields,\n\t\t\t   all_fields)",
          "new_text": null,
          "old_line_content": "    if (find_order_in_list(thd, ref_pointer_array, tables, order, fields,",
          "new_line_content": "  for (; order; order=order->next)",
          "content_same": false
        },
        {
          "line": 8607,
          "old_api": "set_items_ref_array",
          "new_api": null,
          "old_text": "set_items_ref_array(current_ref_pointer_array)",
          "new_text": null,
          "old_line_content": "  set_items_ref_array(current_ref_pointer_array);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7072,
          "old_api": "copy_blobs",
          "new_api": null,
          "old_text": "copy_blobs(first_field)",
          "new_text": null,
          "old_line_content": "    if (copy_blobs(first_field))",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 8097,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "thd->calloc(sizeof(Item_sum**) * (func_count+1) +\n\t\t\t\t      sizeof(Item_sum***) * (group_parts+1))",
          "new_text": null,
          "old_line_content": "  sum_funcs= (Item_sum**) thd->calloc(sizeof(Item_sum**) * (func_count+1) +",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8100,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(sum_funcs == 0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(sum_funcs == 0);",
          "new_line_content": "\t\t\t\t      sizeof(Item_sum***) * (group_parts+1));",
          "content_same": false
        },
        {
          "line": 7078,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(new_record,org_record,reclength)",
          "new_text": null,
          "old_line_content": "    memcpy(new_record,org_record,reclength);",
          "new_line_content": "      goto err;",
          "content_same": false
        },
        {
          "line": 7084,
          "old_api": "rnd_next",
          "new_api": null,
          "old_text": "file->rnd_next(record)",
          "new_text": null,
          "old_line_content": "      if ((error=file->rnd_next(record)))",
          "new_line_content": "    for (;;)",
          "content_same": false
        },
        {
          "line": 8621,
          "old_api": "clear_tables",
          "new_api": null,
          "old_text": "clear_tables(this)",
          "new_text": null,
          "old_line_content": "  clear_tables(this);",
          "new_line_content": "void JOIN::clear()",
          "content_same": false
        },
        {
          "line": 8622,
          "old_api": "copy_fields",
          "new_api": null,
          "old_text": "copy_fields(&tmp_table_param)",
          "new_text": null,
          "old_line_content": "  copy_fields(&tmp_table_param);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8110,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"make_sum_func_list\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"make_sum_func_list\");",
          "new_line_content": "  Item_sum **func;",
          "content_same": false
        },
        {
          "line": 8115,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "    if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item())",
          "new_line_content": "  while ((item=it++))",
          "content_same": false
        },
        {
          "line": 8628,
          "old_api": "clear",
          "new_api": null,
          "old_text": "func->clear()",
          "new_text": null,
          "old_line_content": "      func->clear();",
          "new_line_content": "    Item_sum *func, **func_ptr= sum_funcs;",
          "content_same": false
        },
        {
          "line": 7092,
          "old_api": "compare_record",
          "new_api": null,
          "old_text": "compare_record(table, first_field)",
          "new_text": null,
          "old_line_content": "      if (compare_record(table, first_field) == 0)",
          "new_line_content": "\tgoto err;",
          "content_same": false
        },
        {
          "line": 7606,
          "old_api": "find_order_in_list",
          "new_api": null,
          "old_text": "find_order_in_list(thd, ref_pointer_array, tables, order, fields,\n\t\t\t   all_fields)",
          "new_text": null,
          "old_line_content": "    if (find_order_in_list(thd, ref_pointer_array, tables, order, fields,",
          "new_line_content": "  for (; order; order=order->next)",
          "content_same": false
        },
        {
          "line": 8119,
          "old_api": "setup",
          "new_api": null,
          "old_text": "(Item_sum*) item)->setup(thd)",
          "new_text": null,
          "old_line_content": "      if (((Item_sum*) item)->setup(thd))",
          "new_line_content": "      *func++= (Item_sum*) item;",
          "content_same": false
        },
        {
          "line": 8120,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(TRUE);",
          "new_line_content": "      /* let COUNT(DISTINCT) create the temporary table */",
          "content_same": false
        },
        {
          "line": 7100,
          "old_api": "position",
          "new_api": null,
          "old_text": "file->position(record)",
          "new_text": null,
          "old_line_content": "\tfile->position(record);\t// Remember position",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7612,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "      my_printf_error(ER_WRONG_GROUP_FIELD, ER(ER_WRONG_GROUP_FIELD),MYF(0),",
          "new_line_content": "    if ((*order->item)->with_sum_func)",
          "content_same": false
        },
        {
          "line": 7613,
          "old_api": "full_name",
          "new_api": null,
          "old_text": "*order->item)->full_name()",
          "new_text": null,
          "old_line_content": "\t\t      (*order->item)->full_name());",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8126,
          "old_api": "rollup_make_fields",
          "new_api": null,
          "old_text": "rollup_make_fields(all_fields, send_fields, &func)",
          "new_text": null,
          "old_line_content": "    if (rollup_make_fields(all_fields, send_fields, &func))",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8127,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(TRUE);\t\t\t// Should never happen",
          "new_line_content": "    rollup.state= ROLLUP::STATE_READY;",
          "content_same": false
        },
        {
          "line": 7106,
          "old_api": "restart_rnd_next",
          "new_api": null,
          "old_text": "file->restart_rnd_next(record,file->ref)",
          "new_text": null,
          "old_line_content": "    error=file->restart_rnd_next(record,file->ref);",
          "new_line_content": "      break;\t\t\t\t\t// End of file",
          "content_same": false
        },
        {
          "line": 7109,
          "old_api": "extra",
          "new_api": null,
          "old_text": "file->extra(HA_EXTRA_NO_CACHE)",
          "new_text": null,
          "old_line_content": "  file->extra(HA_EXTRA_NO_CACHE);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 7110,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8135,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(FALSE);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8648,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"select_describe\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"select_describe\");",
          "new_line_content": "  Item *item_null= new Item_null();",
          "content_same": false
        },
        {
          "line": 8649,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s, message %s\", \n\t\t      (ulong)join->select_lex, join->select_lex->type,\n\t\t      message))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"info\", (\"Select 0x%lx, type %s, message %s\", ",
          "new_line_content": "  CHARSET_INFO *cs= &my_charset_latin1;",
          "content_same": false
        },
        {
          "line": 7625,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "      if (item->type() != Item::SUM_FUNC_ITEM && !item->marker &&",
          "new_line_content": "    while ((item=li++))",
          "content_same": false
        },
        {
          "line": 7115,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(1);",
          "new_line_content": "  if (error)",
          "content_same": false
        },
        {
          "line": 7626,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "\t  !item->const_item())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 7629,
          "old_api": "ER",
          "new_api": null,
          "old_text": "ER(ER_WRONG_FIELD_WITH_GROUP)",
          "new_text": null,
          "old_line_content": "\t\t\tER(ER_WRONG_FIELD_WITH_GROUP),",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 8658,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_int((int32) join->select_lex->select_number))",
          "new_text": null,
          "old_line_content": "    item_list.push_back(new Item_int((int32) join->select_lex->select_number));",
          "new_line_content": "  if (message)",
          "content_same": false
        },
        {
          "line": 8659,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_string(join->select_lex->type,\n\t\t\t\t\tstrlen(join->select_lex->type), cs))",
          "new_text": null,
          "old_line_content": "    item_list.push_back(new Item_string(join->select_lex->type,",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8663,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(message)",
          "new_text": null,
          "old_line_content": "    item_list.push_back(new Item_string(message,strlen(message),cs));",
          "new_line_content": "    for (uint i=0 ; i < 7; i++)",
          "content_same": false
        },
        {
          "line": 7133,
          "old_api": "ALIGN_SIZE",
          "new_api": null,
          "old_text": "ALIGN_SIZE(key_length)",
          "new_text": null,
          "old_line_content": "  ulong extra_length=ALIGN_SIZE(key_length)-key_length;",
          "new_line_content": "  int error;",
          "content_same": false
        },
        {
          "line": 7136,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"remove_dup_with_hash_index\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"remove_dup_with_hash_index\");",
          "new_line_content": "  uint *field_lengths,*field_length;",
          "content_same": false
        },
        {
          "line": 7649,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"setup_new_fields\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"setup_new_fields\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8164,
          "old_api": "empty",
          "new_api": null,
          "old_text": "res_selected_fields.empty()",
          "new_text": null,
          "old_line_content": "  res_selected_fields.empty();",
          "new_line_content": "  List_iterator_fast<Item> it(all_fields);",
          "content_same": false
        },
        {
          "line": 8165,
          "old_api": "empty",
          "new_api": null,
          "old_text": "res_all_fields.empty()",
          "new_text": null,
          "old_line_content": "  res_all_fields.empty();",
          "new_line_content": "  Item *item_field,*item;",
          "content_same": false
        },
        {
          "line": 8679,
          "old_api": "length",
          "new_api": null,
          "old_text": "tmp1.length(0)",
          "new_text": null,
          "old_line_content": "      tmp1.length(0);",
          "new_line_content": "      String tmp1(buff1,sizeof(buff1),cs);",
          "content_same": false
        },
        {
          "line": 8680,
          "old_api": "length",
          "new_api": null,
          "old_text": "tmp2.length(0)",
          "new_text": null,
          "old_line_content": "      tmp2.length(0);",
          "new_line_content": "      String tmp2(buff2,sizeof(buff2),cs);",
          "content_same": false
        },
        {
          "line": 7143,
          "old_api": "uint) (field_count*sizeof(*field_lengths))",
          "new_api": null,
          "old_text": "uint) (field_count*sizeof(*field_lengths))",
          "new_text": null,
          "old_line_content": "\t\t       (uint) (field_count*sizeof(*field_lengths)),",
          "new_line_content": "\t\t\t       (long) file->records),",
          "content_same": false
        },
        {
          "line": 7655,
          "old_api": "find_item_in_list",
          "new_api": null,
          "old_text": "find_item_in_list(*new_field->item, fields, &counter,\n\t\t\t\t IGNORE_ERRORS)",
          "new_text": null,
          "old_line_content": "    if ((item= find_item_in_list(*new_field->item, fields, &counter,",
          "new_line_content": "  for (; new_field ; new_field= new_field->next)",
          "content_same": false
        },
        {
          "line": 8683,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_int((int32) \n\t\t\t\t       join->select_lex->select_number))",
          "new_text": null,
          "old_line_content": "      item_list.push_back(new Item_int((int32) ",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8172,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "    if (item->with_sum_func && item->type() != Item::SUM_FUNC_ITEM)",
          "new_line_content": "    Field *field;",
          "content_same": false
        },
        {
          "line": 7661,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "*new_field->item)->fix_fields(thd, tables, new_field->item)",
          "new_text": null,
          "old_line_content": "      if ((*new_field->item)->fix_fields(thd, tables, new_field->item))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8686,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(join->select_lex->type)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  strlen(join->select_lex->type),",
          "new_line_content": "\t\t\t\t       join->select_lex->select_number));",
          "content_same": false
        },
        {
          "line": 7150,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "    my_free((char*) key_buffer,MYF(0));",
          "new_line_content": "\t\tkey_length,(hash_get_key) 0, 0, 0))",
          "content_same": false
        },
        {
          "line": 7151,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(1);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7662,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(1); /* purecov: inspected */",
          "new_line_content": "      thd->where=\"procedure list\";",
          "content_same": false
        },
        {
          "line": 8176,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "      if (item->type() == Item::FIELD_ITEM)",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 7667,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7156,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "*ptr)->pack_length()",
          "new_text": null,
          "old_line_content": "      (*field_length++)= (*ptr)->pack_length();",
          "new_line_content": "    Field **ptr;",
          "content_same": false
        },
        {
          "line": 8693,
          "old_api": "my_snprintf",
          "new_api": null,
          "old_text": "my_snprintf(derived_name, sizeof(derived_name)-1,\n\t\t\t     \"<derived%u>\",\n\t\t\t     table->derived_select_number)",
          "new_text": null,
          "old_line_content": "\tint len= my_snprintf(derived_name, sizeof(derived_name)-1,",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 7159,
          "old_api": "rnd_init",
          "new_api": null,
          "old_text": "file->rnd_init()",
          "new_text": null,
          "old_line_content": "  file->rnd_init();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8696,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_string(derived_name, len, cs))",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(derived_name, len, cs));",
          "new_line_content": "\t\t\t     \"<derived%u>\",",
          "content_same": false
        },
        {
          "line": 8699,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "item_list.push_back(new Item_string(table->table_name,\n\t\t\t\t\t    strlen(table->table_name),\n\t\t\t\t\t    cs))",
          "new_text": null,
          "old_line_content": "\titem_list.push_back(new Item_string(table->table_name,",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 8700,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(table->table_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t    strlen(table->table_name),",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 7165,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "      my_error(ER_SERVER_SHUTDOWN,MYF(0));",
          "new_line_content": "    if (thd->killed)",
          "content_same": false
        },
        {
          "line": 8703,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(join_type_str[tab->type])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  strlen(join_type_str[tab->type]),",
          "new_line_content": "\t\t\t\t\t    cs));",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 61,
      "total_additions": 281,
      "total_deletions": 281,
      "total_api_changes": 623
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 623,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          6664,
          6665,
          6666
        ]
      }
    },
    "api_calls_before": 1509,
    "api_calls_after": 1509,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 16
    }
  }
}