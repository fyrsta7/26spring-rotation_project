{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/f44d0e5e84cece26c81517dd9ade073a342732a2",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/f44d0e5e84cece26c81517dd9ade073a342732a2/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/f44d0e5e84cece26c81517dd9ade073a342732a2/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/f44d0e5e84cece26c81517dd9ade073a342732a2/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 7851,
          "old_api": "clear_all",
          "new_api": "DBUG_RETURN",
          "old_text": "sel->quick_keys.clear_all()",
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t    sel->quick_keys.clear_all();",
          "new_line_content": "\t\tDBUG_RETURN(1);\t\t\t// Impossible WHERE",
          "content_same": false
        },
        {
          "line": 7869,
          "old_api": "make_cond_for_table",
          "new_api": "merge",
          "old_text": "make_cond_for_table(cond,\n\t\t\t\t\t join->const_table_map |\n\t\t\t\t\t current_map,\n\t\t\t\t\t current_map, 0)",
          "new_text": "tab->keys.merge(sel->needed_reg)",
          "old_line_content": "                (tmp=make_cond_for_table(cond,",
          "new_line_content": "            tab->keys.merge(sel->needed_reg);",
          "content_same": false
        },
        {
          "line": 7918,
          "old_api": "reinterpret_cast<uchar * const>(&idx)",
          "new_api": "has_subquery",
          "old_text": "reinterpret_cast<uchar * const>(&idx)",
          "new_text": "cond->has_subquery()",
          "old_line_content": "                   reinterpret_cast<uchar * const>(&idx));",
          "new_line_content": "          cond->has_subquery() /* traverse only if needed */ )",
          "content_same": false
        },
        {
          "line": 7989,
          "old_api": "used_tables",
          "new_api": "eq",
          "old_text": "*ref_item)->used_tables()",
          "new_text": "*ref_item)->eq(order->item[0],0)",
          "old_line_content": "      if (!only_eq_ref_tables(join, start_order, (*ref_item)->used_tables(),",
          "new_line_content": "\tif ((*ref_item)->eq(order->item[0],0))",
          "content_same": false
        },
        {
          "line": 8117,
          "old_api": "enum_query_type",
          "new_api": "plan_is_const",
          "old_text": "enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB)",
          "new_text": "join->plan_is_const()",
          "old_line_content": "                               enum_query_type(QT_TO_SYSTEM_CHARSET |",
          "new_line_content": "  if (join->plan_is_const())",
          "content_same": false
        },
        {
          "line": 8142,
          "old_api": "used_tables",
          "new_api": "DBUG_ENTER",
          "old_text": "order->item[0]->used_tables()",
          "new_text": "DBUG_ENTER(\"remove_const\")",
          "old_line_content": "    table_map order_tables=order->item[0]->used_tables();",
          "new_line_content": "  DBUG_ENTER(\"remove_const\");",
          "content_same": false
        },
        {
          "line": 8176,
          "old_api": "add",
          "new_api": "val_str",
          "old_text": "trace_one_item.add(\"duplicate_item\", true)",
          "new_text": "order->item[0]->val_str(&order->item[0]->str_value)",
          "old_line_content": "      trace_one_item.add(\"duplicate_item\", true);",
          "new_line_content": "        order->item[0]->val_str(&order->item[0]->str_value);",
          "content_same": false
        },
        {
          "line": 8234,
          "old_api": "DBUG_RETURN",
          "new_api": "end",
          "old_text": "DBUG_RETURN(first_order)",
          "new_text": "trace_each_item.end()",
          "old_line_content": "  DBUG_RETURN(first_order);",
          "new_line_content": "  trace_each_item.end();",
          "content_same": false
        },
        {
          "line": 8302,
          "old_api": "add_alnum",
          "new_api": "has_subquery",
          "old_text": "step_wrapper.add_alnum(\"transformation\", \"constant_propagation\")",
          "new_text": "conds->has_subquery()",
          "old_line_content": "      step_wrapper.add_alnum(\"transformation\", \"constant_propagation\");",
          "new_line_content": "          disable_trace_wrapper(trace, !conds->has_subquery());",
          "content_same": false
        },
        {
          "line": 8305,
          "old_api": "has_subquery",
          "new_api": "build_equal_items",
          "old_text": "conds->has_subquery()",
          "new_text": "build_equal_items(thd, conds, NULL, true,\n                                 join_list, cond_equal)",
          "old_line_content": "          disable_trace_wrapper(trace, !conds->has_subquery());",
          "new_line_content": "        conds= build_equal_items(thd, conds, NULL, true,",
          "content_same": false
        },
        {
          "line": 8308,
          "old_api": "propagate_cond_constants",
          "new_api": "add",
          "old_text": "propagate_cond_constants(thd, (I_List<COND_CMP> *) 0, conds, conds)",
          "new_text": "step_wrapper.add(\"resulting_condition\", conds)",
          "old_line_content": "        propagate_cond_constants(thd, (I_List<COND_CMP> *) 0, conds, conds);",
          "new_line_content": "      step_wrapper.add(\"resulting_condition\", conds);",
          "content_same": false
        },
        {
          "line": 8317,
          "old_api": "print_where",
          "new_api": "has_subquery",
          "old_text": "print_where(conds,\"after const change\", QT_ORDINARY)",
          "new_text": "conds->has_subquery()",
          "old_line_content": "    DBUG_EXECUTE(\"where\",print_where(conds,\"after const change\", QT_ORDINARY););",
          "new_line_content": "          disable_trace_wrapper(trace, !conds->has_subquery());",
          "content_same": false
        },
        {
          "line": 8320,
          "old_api": "add_alnum",
          "new_api": "propagate_cond_constants",
          "old_text": "step_wrapper.add_alnum(\"transformation\", \"trivial_condition_removal\")",
          "new_text": "propagate_cond_constants(thd, (I_List<COND_CMP> *) 0, conds, conds)",
          "old_line_content": "      step_wrapper.add_alnum(\"transformation\", \"trivial_condition_removal\");",
          "new_line_content": "        propagate_cond_constants(thd, (I_List<COND_CMP> *) 0, conds, conds);",
          "content_same": false
        },
        {
          "line": 8369,
          "old_api": "internal_remove_eq_conds",
          "new_api": "type",
          "old_text": "internal_remove_eq_conds(thd, item, &tmp_cond_value)",
          "new_text": "cond->type()",
          "old_line_content": "      Item *new_item=internal_remove_eq_conds(thd, item, &tmp_cond_value);",
          "new_line_content": "  if (cond->type() == Item::COND_ITEM)",
          "content_same": false
        },
        {
          "line": 8371,
          "old_api": "remove",
          "new_api": "functype",
          "old_text": "li.remove()",
          "new_text": "(Item_cond*) cond)->functype()",
          "old_line_content": "\tli.remove();",
          "new_line_content": "    bool and_level= ((Item_cond*) cond)->functype()",
          "content_same": false
        },
        {
          "line": 8501,
          "old_api": "arguments",
          "new_api": "eval_const_cond",
          "old_text": "(Item_func*) cond)->arguments()",
          "new_text": "eval_const_cond(cond)",
          "old_line_content": "    Item *right_item= ((Item_func*) cond)->arguments()[1];",
          "new_line_content": "      *cond_value= eval_const_cond(cond) ? Item::COND_TRUE : Item::COND_FALSE;",
          "content_same": false
        },
        {
          "line": 8505,
          "old_api": "functype",
          "new_api": "is_expensive",
          "old_text": "(Item_func*) cond)->functype()",
          "new_text": "cond->is_expensive()",
          "old_line_content": "\t  ((Item_func*) cond)->functype() == Item_func::EQUAL_FUNC)",
          "new_line_content": "  else if (cond->const_item() && !cond->is_expensive())",
          "content_same": false
        },
        {
          "line": 8797,
          "old_api": "push_front",
          "new_api": "type",
          "old_text": "all_fields.push_front(new_item)",
          "new_text": "item->type()",
          "old_line_content": "        all_fields.push_front(new_item);",
          "new_line_content": "      if (item->type() == Item::FIELD_ITEM &&",
          "content_same": false
        },
        {
          "line": 8903,
          "old_api": "DBUG_ENTER",
          "new_api": "fix_fields",
          "old_text": "DBUG_ENTER(\"add_ref_to_table_cond\")",
          "new_text": "cond->fix_fields(thd, (Item**)&cond)",
          "old_line_content": "  DBUG_ENTER(\"add_ref_to_table_cond\");",
          "new_line_content": "  cond->fix_fields(thd, (Item**)&cond);",
          "content_same": false
        },
        {
          "line": 8922,
          "old_api": "set_jt_and_sel_condition",
          "new_api": "create_cond_for_const_ref",
          "old_text": "join_tab->set_jt_and_sel_condition(cond, __LINE__)",
          "new_text": "create_cond_for_const_ref(thd, join_tab)",
          "old_line_content": "    join_tab->set_jt_and_sel_condition(cond, __LINE__);",
          "new_line_content": "  Item_cond_and *cond= create_cond_for_const_ref(thd, join_tab);",
          "content_same": false
        },
        {
          "line": 8924,
          "old_api": "make_select",
          "new_api": "DBUG_RETURN",
          "old_text": "make_select(join_tab->table, 0, 0, cond, 0,\n                                          &error)",
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "  else if ((join_tab->select= make_select(join_tab->table, 0, 0, cond, 0,",
          "new_line_content": "    DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 8938,
          "old_api": "create_cond_for_const_ref",
          "new_api": "set_condition",
          "old_text": "create_cond_for_const_ref(thd, join_tab)",
          "new_text": "join_tab->set_condition(cond, __LINE__)",
          "old_line_content": "    cond= create_cond_for_const_ref(thd, join_tab);",
          "new_line_content": "    join_tab->set_condition(cond, __LINE__);",
          "content_same": false
        },
        {
          "line": 8976,
          "old_api": "argument_list",
          "new_api": "ptr",
          "old_text": "cnd->argument_list()",
          "new_text": "conds->item_name.ptr()",
          "old_line_content": "\tif (cnd->argument_list()->elements == 1)",
          "new_line_content": "  if (conds->item_name.ptr() == in_additional_cond)",
          "content_same": false
        },
        {
          "line": 9128,
          "old_api": "set_status_no_index_used",
          "new_api": "get_count",
          "old_text": "thd->set_status_no_index_used()",
          "new_text": "fts_item->get_count()",
          "old_line_content": "      thd->set_status_no_index_used();",
          "new_line_content": "        min_ft_matches > fts_item->get_count())",
          "content_same": false
        },
        {
          "line": 9166,
          "old_api": "static_cast<Item_func_match*>(item)",
          "new_api": "strcmp",
          "old_text": "static_cast<Item_func_match*>(item)",
          "new_text": "strcmp(item_field->field_name, FTS_DOC_ID_COL_NAME)",
          "old_line_content": "        Item_func_match* fts_item= static_cast<Item_func_match*>(item); ",
          "new_line_content": "      if (strcmp(item_field->field_name, FTS_DOC_ID_COL_NAME) == 0)",
          "content_same": false
        },
        {
          "line": 9321,
          "old_api": "get_tmp_table_rec_length",
          "new_api": "used_tables",
          "old_text": "get_tmp_table_rec_length(*inner_expr_list)",
          "new_text": "item->used_tables()",
          "old_line_content": "  const uint rowlen= get_tmp_table_rec_length(*inner_expr_list);",
          "new_line_content": "      map|= item->used_tables();",
          "content_same": false
        },
        {
          "line": 9354,
          "old_api": "add_io",
          "new_api": "reset",
          "old_text": "sjm->scan_cost.add_io(distinct_rowcount * row_cost)",
          "new_text": "sjm->materialization_cost.reset()",
          "old_line_content": "    sjm->scan_cost.add_io(distinct_rowcount * row_cost);",
          "new_line_content": "  sjm->materialization_cost.reset();",
          "content_same": false
        },
        {
          "line": 9386,
          "old_api": "static_cast<Item_in_subselect *>(unit->item)",
          "new_api": "substype",
          "old_text": "static_cast<Item_in_subselect *>(unit->item)",
          "new_text": "unit->item->substype()",
          "old_line_content": "    static_cast<Item_in_subselect *>(unit->item);",
          "new_line_content": "  switch (unit->item->substype())",
          "content_same": false
        },
        {
          "line": 9460,
          "old_api": "in2exists_added_to_where",
          "new_api": "outer_select",
          "old_text": "in_pred->in2exists_added_to_where()",
          "new_text": "subquery_allows_materialization(in_pred, thd, select_lex,\n                                       select_lex->outer_select())",
          "old_line_content": "  if (in_pred->in2exists_added_to_where())",
          "new_line_content": "  if (!subquery_allows_materialization(in_pred, thd, select_lex,",
          "content_same": false
        },
        {
          "line": 9472,
          "old_api": "DBUG_ASSERT",
          "new_api": "in2exists_added_to_where",
          "old_text": "DBUG_ASSERT(allow_outer_refs)",
          "new_text": "in_pred->in2exists_added_to_where()",
          "old_line_content": "    DBUG_ASSERT(allow_outer_refs);",
          "new_line_content": "  if (in_pred->in2exists_added_to_where())",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 8206,
          "old_api": null,
          "new_api": "const_expression_in_where",
          "old_text": null,
          "new_text": "const_expression_in_where(cond,order->item[0])",
          "old_line_content": "\t    continue;",
          "new_line_content": "\tif (cond && const_expression_in_where(cond,order->item[0]))",
          "content_same": false
        },
        {
          "line": 8208,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_one_item.add(\"equals_constant_in_where\", true)",
          "old_line_content": "\t  *simple_order=0;\t\t\t// Must do a temp table to sort",
          "new_line_content": "          trace_one_item.add(\"equals_constant_in_where\", true);",
          "content_same": false
        },
        {
          "line": 8214,
          "old_api": null,
          "new_api": "only_eq_ref_tables",
          "old_text": null,
          "new_text": "only_eq_ref_tables(join, first_order, ref,\n                                 &cached_eq_ref_tables, &eq_ref_tables)",
          "old_line_content": "    prev_ptr= &order->next;",
          "new_line_content": "              only_eq_ref_tables(join, first_order, ref,",
          "content_same": false
        },
        {
          "line": 9239,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(order->item)",
          "old_line_content": "",
          "new_line_content": "    DBUG_ASSERT(order->item);",
          "content_same": false
        },
        {
          "line": 8217,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_one_item.add(\"eq_ref_to_preceding_items\", true)",
          "old_line_content": "    *prev_ptr=0;",
          "new_line_content": "            trace_one_item.add(\"eq_ref_to_preceding_items\", true);",
          "content_same": false
        },
        {
          "line": 8730,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "  Create a group by that consist of all non const fields.",
          "new_line_content": "    if (item->type() == Item::FIELD_ITEM &&",
          "content_same": false
        },
        {
          "line": 8731,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "(Item_field*) item)->field->eq(field)",
          "old_line_content": "",
          "new_line_content": "        ((Item_field*) item)->field->eq(field))",
          "content_same": false
        },
        {
          "line": 9241,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(item)",
          "old_line_content": "/**",
          "new_line_content": "    DBUG_ASSERT(item);",
          "content_same": false
        },
        {
          "line": 9243,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "   information, based on a plan in join->best_positions covering the",
          "new_line_content": "    if (item->type() == Item::FUNC_ITEM &&",
          "content_same": false
        },
        {
          "line": 9244,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "static_cast<Item_func*>(item)->functype()",
          "old_line_content": "   to-be-materialized query block and only this.",
          "new_line_content": "        static_cast<Item_func*>(item)->functype() == Item_func::FT_FUNC)  // 6",
          "content_same": false
        },
        {
          "line": 8232,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"exit\",(\"simple_order: %d\",(int) *simple_order))",
          "old_line_content": "  }",
          "new_line_content": "  DBUG_PRINT(\"exit\",(\"simple_order: %d\",(int) *simple_order));",
          "content_same": false
        },
        {
          "line": 8235,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_simpl.add(\"resulting_clause_is_simple\", *simple_order)",
          "old_line_content": "}",
          "new_line_content": "  trace_simpl.add(\"resulting_clause_is_simple\", *simple_order);",
          "content_same": false
        },
        {
          "line": 8236,
          "old_api": null,
          "new_api": "is_started",
          "old_text": null,
          "new_text": "trace->is_started()",
          "old_line_content": "",
          "new_line_content": "  if (trace->is_started() && change_list)",
          "content_same": false
        },
        {
          "line": 8239,
          "old_api": null,
          "new_api": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "old_text": null,
          "new_text": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "old_line_content": "  Optimize conditions by ",
          "new_line_content": "    st_select_lex::print_order(&str, first_order,",
          "content_same": false
        },
        {
          "line": 8240,
          "old_api": null,
          "new_api": "enum_query_type",
          "old_text": null,
          "new_text": "enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB)",
          "old_line_content": "",
          "new_line_content": "                               enum_query_type(QT_TO_SYSTEM_CHARSET |",
          "content_same": false
        },
        {
          "line": 8243,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "str.length()",
          "old_line_content": "     b) apply constants where possible. If the value of x is known to be",
          "new_line_content": "    trace_simpl.add_utf8(\"resulting_clause\", str.ptr(), str.length());",
          "content_same": false
        },
        {
          "line": 8246,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(first_order)",
          "old_line_content": "     c) remove conditions that are impossible or always true",
          "new_line_content": "  DBUG_RETURN(first_order);",
          "content_same": false
        },
        {
          "line": 8768,
          "old_api": null,
          "new_api": "memdup",
          "old_text": null,
          "new_text": "thd->memdup((char*) order,sizeof(ORDER))",
          "old_line_content": "  while ((item=li++))",
          "new_line_content": "      ORDER *ord=(ORDER*) thd->memdup((char*) order,sizeof(ORDER));",
          "content_same": false
        },
        {
          "line": 9284,
          "old_api": null,
          "new_api": "get_partial_join_cost",
          "old_text": null,
          "new_text": "get_partial_join_cost(join, n_tables,\n                          &mat_cost, &mat_rowcount)",
          "old_line_content": "  /*",
          "new_line_content": "    get_partial_join_cost(join, n_tables,",
          "content_same": false
        },
        {
          "line": 8779,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "li.rewind()",
          "old_line_content": "          goto next_item;",
          "new_line_content": "  li.rewind();",
          "content_same": false
        },
        {
          "line": 8782,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "      if (!ord)",
          "new_line_content": "    if (!item->const_item() && !item->with_sum_func && !item->marker)",
          "content_same": false
        },
        {
          "line": 8278,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"optimize_cond\")",
          "old_line_content": "      predicates that can be inferred from these multiple equalities.",
          "new_line_content": "  DBUG_ENTER(\"optimize_cond\");",
          "content_same": false
        },
        {
          "line": 8790,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "*ord_iter->item)->eq(item, 1)",
          "old_line_content": "          additional hidden field for grouping because later it will be",
          "new_line_content": "        if ((*ord_iter->item)->eq(item, 1))",
          "content_same": false
        },
        {
          "line": 8793,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "thd->calloc(sizeof(ORDER))",
          "old_line_content": "        */",
          "new_line_content": "      ORDER *ord=(ORDER*) thd->calloc(sizeof(ORDER));",
          "content_same": false
        },
        {
          "line": 8284,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "trace_cond.add_alnum(\"condition\", build_equalities ? \"WHERE\" : \"HAVING\")",
          "old_line_content": "    if (build_equalities)",
          "new_line_content": "    trace_cond.add_alnum(\"condition\", build_equalities ? \"WHERE\" : \"HAVING\");",
          "content_same": false
        },
        {
          "line": 8285,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_cond.add(\"original_condition\", conds)",
          "old_line_content": "    {",
          "new_line_content": "    trace_cond.add(\"original_condition\", conds);",
          "content_same": false
        },
        {
          "line": 8798,
          "old_api": null,
          "new_api": "field_type",
          "old_text": null,
          "new_text": "item->field_type()",
          "old_line_content": "        ord->item= &orig_ref_pointer_array[el];",
          "new_line_content": "          item->field_type() == MYSQL_TYPE_BIT)",
          "content_same": false
        },
        {
          "line": 7775,
          "old_api": null,
          "new_api": "static_cast<Item_field*>(item)",
          "old_text": null,
          "new_text": "static_cast<Item_field*>(item)",
          "old_line_content": "                    indexes with a mix of ASC and DESC ordering, so if",
          "new_line_content": "                Item_field *fld_item= static_cast<Item_field*>(item);",
          "content_same": false
        },
        {
          "line": 8809,
          "old_api": null,
          "new_api": "push_front",
          "old_text": null,
          "new_text": "all_fields.push_front(new_item)",
          "old_line_content": "      ord->direction= ORDER::ORDER_ASC;",
          "new_line_content": "        all_fields.push_front(new_item);",
          "content_same": false
        },
        {
          "line": 8299,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "step_wrapper.add_alnum(\"transformation\", \"equality_propagation\")",
          "old_line_content": "    /* change field = field to field = const for each found field = const */",
          "new_line_content": "      step_wrapper.add_alnum(\"transformation\", \"equality_propagation\");",
          "content_same": false
        },
        {
          "line": 9326,
          "old_api": null,
          "new_api": "next_bit",
          "old_text": null,
          "new_text": "tm_it.next_bit()",
          "old_line_content": "      join->thd->variables.max_heap_table_size)",
          "new_line_content": "    while ((tableno = tm_it.next_bit()) != Table_map_iterator::BITMAP_END)",
          "content_same": false
        },
        {
          "line": 9328,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(mat_rowcount, rows)",
          "old_line_content": "    row_cost=    HEAP_TEMPTABLE_ROW_COST;",
          "new_line_content": "    distinct_rowcount= min(mat_rowcount, rows);",
          "content_same": false
        },
        {
          "line": 7795,
          "old_api": null,
          "new_api": "intersect",
          "old_text": null,
          "new_text": "usable_keys.intersect(fld_item->field->part_of_sortkey)",
          "old_line_content": "                index that provides the order dictated by the ORDER BY",
          "new_line_content": "                usable_keys.intersect(fld_item->field->part_of_sortkey);",
          "content_same": false
        },
        {
          "line": 9333,
          "old_api": null,
          "new_api": "get_tmp_table_rec_length",
          "old_text": null,
          "new_text": "get_tmp_table_rec_length(*inner_expr_list)",
          "old_line_content": "    row_cost=    DISK_TEMPTABLE_ROW_COST;",
          "new_line_content": "  const uint rowlen= get_tmp_table_rec_length(*inner_expr_list);",
          "content_same": false
        },
        {
          "line": 7798,
          "old_api": null,
          "new_api": "is_clear_all",
          "old_text": null,
          "new_text": "usable_keys.is_clear_all()",
          "old_line_content": "                test_quick_select() that a range scan on the chosen",
          "new_line_content": "                if (usable_keys.is_clear_all())",
          "content_same": false
        },
        {
          "line": 8826,
          "old_api": null,
          "new_api": "pop_front",
          "old_text": null,
          "new_text": "ref_pointer_array.pop_front()",
          "old_line_content": "static TABLE *",
          "new_line_content": "    ref_pointer_array.pop_front();",
          "content_same": false
        },
        {
          "line": 8314,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "step_wrapper.add_alnum(\"transformation\", \"constant_propagation\")",
          "old_line_content": "      Remove all instances of item == item",
          "new_line_content": "      step_wrapper.add_alnum(\"transformation\", \"constant_propagation\");",
          "content_same": false
        },
        {
          "line": 8322,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "step_wrapper.add(\"resulting_condition\", conds)",
          "old_line_content": "        Opt_trace_disable_I_S",
          "new_line_content": "      step_wrapper.add(\"resulting_condition\", conds);",
          "content_same": false
        },
        {
          "line": 8329,
          "old_api": null,
          "new_api": "print_where",
          "old_text": null,
          "new_text": "print_where(conds,\"after const change\", QT_ORDINARY)",
          "old_line_content": "  }",
          "new_line_content": "    DBUG_EXECUTE(\"where\",print_where(conds,\"after const change\", QT_ORDINARY););",
          "content_same": false
        },
        {
          "line": 8842,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"get_sort_by_table\")",
          "old_line_content": "  }",
          "new_line_content": "  DBUG_ENTER(\"get_sort_by_table\");",
          "content_same": false
        },
        {
          "line": 9355,
          "old_api": null,
          "new_api": "add_io",
          "old_text": null,
          "new_text": "sjm->materialization_cost\n    .add_io(mat_cost)",
          "old_line_content": "",
          "new_line_content": "  sjm->materialization_cost",
          "content_same": false
        },
        {
          "line": 8332,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "step_wrapper.add_alnum(\"transformation\", \"trivial_condition_removal\")",
          "old_line_content": "",
          "new_line_content": "      step_wrapper.add_alnum(\"transformation\", \"trivial_condition_removal\");",
          "content_same": false
        },
        {
          "line": 7817,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "usable_keys.is_set(sel->quick->index)",
          "old_line_content": "                                        OPTION_FOUND_ROWS ?",
          "new_line_content": "                  usable_keys.is_set(sel->quick->index) &&",
          "content_same": false
        },
        {
          "line": 7819,
          "old_api": null,
          "new_api": "reverse_sorted",
          "old_text": null,
          "new_text": "sel->quick->reverse_sorted()",
          "old_line_content": "                                        join->unit->select_limit_cnt),",
          "new_line_content": "                   sel->quick->reverse_sorted()))",
          "content_same": false
        },
        {
          "line": 8335,
          "old_api": null,
          "new_api": "has_subquery",
          "old_text": null,
          "new_text": "conds->has_subquery()",
          "old_line_content": "  Handles the reqursive job for remove_eq_conds()",
          "new_line_content": "          disable_trace_wrapper(trace, !conds->has_subquery());",
          "content_same": false
        },
        {
          "line": 8337,
          "old_api": null,
          "new_api": "remove_eq_conds",
          "old_text": null,
          "new_text": "remove_eq_conds(thd, conds, cond_value)",
          "old_line_content": "  Remove const and eq items. Return new item, or NULL if no condition",
          "new_line_content": "        conds= remove_eq_conds(thd, conds, cond_value) ;",
          "content_same": false
        },
        {
          "line": 7826,
          "old_api": null,
          "new_api": "test_quick_select",
          "old_text": null,
          "new_text": "sel->test_quick_select(thd, usable_keys,\n                                       used_tables & ~tab->table->map,\n                                       (join->select_options &\n                                        OPTION_FOUND_ROWS ?\n                                        HA_POS_ERROR :\n                                        join->unit->select_limit_cnt),\n                                       false,   // don't force quick range\n                                       interesting_order)",
          "old_line_content": "\t      */",
          "new_line_content": "                sel->test_quick_select(thd, usable_keys,",
          "content_same": false
        },
        {
          "line": 8339,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "step_wrapper.add(\"resulting_condition\", conds)",
          "old_line_content": "  COND_OK    query is possible (field = constant)",
          "new_line_content": "      step_wrapper.add(\"resulting_condition\", conds);",
          "content_same": false
        },
        {
          "line": 8851,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "*a->item)->eq(*b->item,1)",
          "old_line_content": "}",
          "new_line_content": "    if (!(*a->item)->eq(*b->item,1))",
          "content_same": false
        },
        {
          "line": 8852,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 8342,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(conds)",
          "old_line_content": "",
          "new_line_content": "  DBUG_RETURN(conds);",
          "content_same": false
        },
        {
          "line": 8853,
          "old_api": null,
          "new_api": "used_tables",
          "old_text": null,
          "new_text": "a->item[0]->used_tables()",
          "old_line_content": "",
          "new_line_content": "    map|=a->item[0]->used_tables();",
          "content_same": false
        },
        {
          "line": 8856,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "    DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 9364,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "sjm->scan_cost.reset()",
          "old_line_content": "   @returns 'false' if no error",
          "new_line_content": "  sjm->scan_cost.reset();",
          "content_same": false
        },
        {
          "line": 9366,
          "old_api": null,
          "new_api": "add_io",
          "old_text": null,
          "new_text": "sjm->scan_cost.add_io(distinct_rowcount * row_cost)",
          "old_line_content": "   @note If UNION this is called on each contained JOIN.",
          "new_line_content": "    sjm->scan_cost.add_io(distinct_rowcount * row_cost);",
          "content_same": false
        },
        {
          "line": 9368,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "sjm->lookup_cost.reset()",
          "old_line_content": " */",
          "new_line_content": "  sjm->lookup_cost.reset();",
          "content_same": false
        },
        {
          "line": 8860,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  @return A pointer to the created condition for the const reference.",
          "new_line_content": "    DBUG_RETURN(0);\t\t\t\t// More than one table",
          "content_same": false
        },
        {
          "line": 8861,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr))",
          "old_line_content": "  @retval !NULL if the condition was created successfully",
          "new_line_content": "  DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr));",
          "content_same": false
        },
        {
          "line": 8862,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(tables->table)",
          "old_line_content": "  @retval NULL if an error has occured",
          "new_line_content": "  DBUG_RETURN(tables->table);",
          "content_same": false
        },
        {
          "line": 9369,
          "old_api": null,
          "new_api": "add_io",
          "old_text": null,
          "new_text": "sjm->lookup_cost.add_io(row_cost)",
          "old_line_content": "bool JOIN::decide_subquery_strategy()",
          "new_line_content": "  sjm->lookup_cost.add_io(row_cost);",
          "content_same": false
        },
        {
          "line": 7841,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "            else",
          "new_line_content": "                DBUG_RETURN(1);                 // Impossible WHERE",
          "content_same": false
        },
        {
          "line": 7843,
          "old_api": null,
          "new_api": "test_quick_select",
          "old_text": null,
          "new_text": "sel->test_quick_select(thd, tab->keys,\n                                         used_tables & ~tab->table->map,\n                                         (join->select_options &\n                                          OPTION_FOUND_ROWS ?\n                                          HA_POS_ERROR :\n                                          join->unit->select_limit_cnt),\n                                         false,   //don't force quick range\n                                         ORDER::ORDER_NOT_RELEVANT)",
          "old_line_content": "",
          "new_line_content": "              if (sel->test_quick_select(thd, tab->keys,",
          "content_same": false
        },
        {
          "line": 8879,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"create_cond_for_const_ref\")",
          "old_line_content": "    Item *value= join_tab->ref.items[i];",
          "new_line_content": "  DBUG_ENTER(\"create_cond_for_const_ref\");",
          "content_same": false
        },
        {
          "line": 8880,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(join_tab->ref.key_parts)",
          "old_line_content": "    Item *item= new Item_field(field);",
          "new_line_content": "  DBUG_ASSERT(join_tab->ref.key_parts);",
          "content_same": false
        },
        {
          "line": 7871,
          "old_api": null,
          "new_api": "is_clear_all",
          "old_text": null,
          "new_text": "sel->quick_keys.is_clear_all()",
          "old_line_content": "\t\t\t\t\t current_map,",
          "new_line_content": "\t\t\t     (sel->quick_keys.is_clear_all() ||",
          "content_same": false
        },
        {
          "line": 8373,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "(Item_cond*) cond)->argument_list()",
          "old_line_content": "      {",
          "new_line_content": "    List_iterator<Item> li(*((Item_cond*) cond)->argument_list());",
          "content_same": false
        },
        {
          "line": 8885,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(NULL)",
          "old_line_content": "            (Item *)new Item_func_equal(item, value);",
          "new_line_content": "    DBUG_RETURN(NULL);",
          "content_same": false
        },
        {
          "line": 9398,
          "old_api": null,
          "new_api": "static_cast<Item_in_subselect *>(unit->item)",
          "old_text": null,
          "new_text": "static_cast<Item_in_subselect *>(unit->item)",
          "old_line_content": "  case Item_exists_subselect::EXEC_EXISTS:",
          "new_line_content": "    static_cast<Item_in_subselect *>(unit->item);",
          "content_same": false
        },
        {
          "line": 7863,
          "old_api": null,
          "new_api": "clear_all",
          "old_text": null,
          "new_text": "sel->quick_keys.clear_all()",
          "old_line_content": "\t    sel->read_tables= used_tables & ~current_map;",
          "new_line_content": "\t    sel->quick_keys.clear_all();",
          "content_same": false
        },
        {
          "line": 7865,
          "old_api": null,
          "new_api": "is_subset",
          "old_text": null,
          "new_text": "sel->quick_keys.is_subset(tab->checked_keys)",
          "old_line_content": "\t  if (i != join->const_tables && tab->use_quick != QS_DYNAMIC_RANGE &&",
          "new_line_content": "\t  if (!sel->quick_keys.is_subset(tab->checked_keys) ||",
          "content_same": false
        },
        {
          "line": 9402,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(chosen_method != Item_exists_subselect::EXEC_MATERIALIZATION)",
          "old_line_content": "  default:",
          "new_line_content": "  DBUG_ASSERT(chosen_method != Item_exists_subselect::EXEC_MATERIALIZATION);",
          "content_same": false
        },
        {
          "line": 7866,
          "old_api": null,
          "new_api": "is_subset",
          "old_text": null,
          "new_text": "sel->needed_reg.is_subset(tab->checked_keys)",
          "old_line_content": "              !tab->first_inner)",
          "new_line_content": "              !sel->needed_reg.is_subset(tab->checked_keys))",
          "content_same": false
        },
        {
          "line": 8381,
          "old_api": null,
          "new_api": "internal_remove_eq_conds",
          "old_text": null,
          "new_text": "internal_remove_eq_conds(thd, item, &tmp_cond_value)",
          "old_line_content": "\tif (and_level || *cond_value == Item::COND_FALSE)",
          "new_line_content": "      Item *new_item=internal_remove_eq_conds(thd, item, &tmp_cond_value);",
          "content_same": false
        },
        {
          "line": 8894,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(NULL)",
          "old_line_content": "}",
          "new_line_content": "      DBUG_RETURN(NULL);",
          "content_same": false
        },
        {
          "line": 8383,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "li.remove()",
          "old_line_content": "\tbreak;",
          "new_line_content": "\tli.remove();",
          "content_same": false
        },
        {
          "line": 9405,
          "old_api": null,
          "new_api": "compare_costs_of_subquery_strategies",
          "old_text": null,
          "new_text": "compare_costs_of_subquery_strategies(&chosen_method)",
          "old_line_content": "  }",
          "new_line_content": "      compare_costs_of_subquery_strategies(&chosen_method))",
          "content_same": false
        },
        {
          "line": 7870,
          "old_api": null,
          "new_api": "is_clear_all",
          "old_text": null,
          "new_text": "sel->needed_reg.is_clear_all()",
          "old_line_content": "\t\t\t\t\t join->const_table_map |",
          "new_line_content": "\t    tab->use_quick= (!sel->needed_reg.is_clear_all() &&",
          "content_same": false
        },
        {
          "line": 8386,
          "old_api": null,
          "new_api": "replace",
          "old_text": null,
          "new_text": "li.replace(new_item)",
          "old_line_content": "\t{",
          "new_line_content": "\t(void) li.replace(new_item);",
          "content_same": false
        },
        {
          "line": 8899,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(NULL)",
          "old_line_content": "*/",
          "new_line_content": "      DBUG_RETURN(NULL);",
          "content_same": false
        },
        {
          "line": 8900,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "cond->add(item)",
          "old_line_content": "",
          "new_line_content": "    if (cond->add(item))",
          "content_same": false
        },
        {
          "line": 8901,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(NULL)",
          "old_line_content": "static bool add_ref_to_table_cond(THD *thd, JOIN_TAB *join_tab)",
          "new_line_content": "      DBUG_RETURN(NULL);",
          "content_same": false
        },
        {
          "line": 9411,
          "old_api": null,
          "new_api": "finalize_exists_transform",
          "old_text": null,
          "new_text": "in_pred->finalize_exists_transform(select_lex)",
          "old_line_content": "   in terms of cost, for the subquery's JOIN.",
          "new_line_content": "    return in_pred->finalize_exists_transform(select_lex);",
          "content_same": false
        },
        {
          "line": 9413,
          "old_api": null,
          "new_api": "finalize_materialization_transform",
          "old_text": null,
          "new_text": "in_pred->finalize_materialization_transform(this)",
          "old_line_content": "   - join->{best_positions,best_read,best_rowcount} must contain the",
          "new_line_content": "    return in_pred->finalize_materialization_transform(this);",
          "content_same": false
        },
        {
          "line": 9415,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(false)",
          "old_line_content": "   - join2->{best_positions,best_read,best_rowcount} must be correctly set",
          "new_line_content": "    DBUG_ASSERT(false);",
          "content_same": false
        },
        {
          "line": 7881,
          "old_api": null,
          "new_api": "make_cond_for_table",
          "old_text": null,
          "new_text": "make_cond_for_table(cond,\n\t\t\t\t\t join->const_table_map |\n\t\t\t\t\t current_map,\n\t\t\t\t\t current_map, 0)",
          "old_line_content": "\t}",
          "new_line_content": "                (tmp=make_cond_for_table(cond,",
          "content_same": false
        },
        {
          "line": 7886,
          "old_api": null,
          "new_api": "print_where",
          "old_text": null,
          "new_text": "print_where(tmp,\"cache\", QT_ORDINARY)",
          "old_line_content": "    }",
          "new_line_content": "              DBUG_EXECUTE(\"where\",print_where(tmp,\"cache\", QT_ORDINARY););",
          "content_same": false
        },
        {
          "line": 7888,
          "old_api": null,
          "new_api": "memdup",
          "old_text": null,
          "new_text": "thd->memdup((uchar*) sel, sizeof(SQL_SELECT))",
          "old_line_content": "",
          "new_line_content": "\t\tthd->memdup((uchar*) sel, sizeof(SQL_SELECT));",
          "content_same": false
        },
        {
          "line": 8915,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"add_ref_to_table_cond\")",
          "old_line_content": "  if (join_tab->select)",
          "new_line_content": "  DBUG_ENTER(\"add_ref_to_table_cond\");",
          "content_same": false
        },
        {
          "line": 8917,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "    if (join_tab->select->cond)",
          "new_line_content": "    DBUG_RETURN(FALSE);",
          "content_same": false
        },
        {
          "line": 7896,
          "old_api": null,
          "new_api": "pushdown_on_conditions",
          "old_text": null,
          "new_text": "pushdown_on_conditions(join, tab)",
          "old_line_content": "    for (uint i= join->const_tables ; i < join->tables ; i++)",
          "new_line_content": "      if (pushdown_on_conditions(join, tab))",
          "content_same": false
        },
        {
          "line": 7897,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "    {",
          "new_line_content": "        DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 7899,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "trace_attached_comp.end()",
          "old_line_content": "      if (!tab->table)",
          "new_line_content": "    trace_attached_comp.end();",
          "content_same": false
        },
        {
          "line": 8415,
          "old_api": null,
          "new_api": "update_used_tables",
          "old_text": null,
          "new_text": "cond->update_used_tables()",
          "old_line_content": "",
          "new_line_content": "      cond->update_used_tables();",
          "content_same": false
        },
        {
          "line": 8417,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "(Item_cond*) cond)->argument_list()",
          "old_line_content": "           JOIN::having, but these point to the same condition as",
          "new_line_content": "    if (!((Item_cond*) cond)->argument_list()->elements ||",
          "content_same": false
        },
        {
          "line": 8931,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "cond->add(join_tab->select->cond)",
          "old_line_content": "    If we have pushed parts of the select condition down to the",
          "new_line_content": "      error=(int) cond->add(join_tab->select->cond);",
          "content_same": false
        },
        {
          "line": 8420,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "(Item_cond*) cond)->argument_list()",
          "old_line_content": "         - The return value of remove_eq_conds() is assigned to",
          "new_line_content": "    if (((Item_cond*) cond)->argument_list()->elements == 1)",
          "content_same": false
        },
        {
          "line": 8932,
          "old_api": null,
          "new_api": "update_used_tables",
          "old_text": null,
          "new_text": "cond->update_used_tables()",
          "old_line_content": "    storage engine we also need to add the condition for the const",
          "new_line_content": "      cond->update_used_tables();",
          "content_same": false
        },
        {
          "line": 8934,
          "old_api": null,
          "new_api": "set_jt_and_sel_condition",
          "old_text": null,
          "new_text": "join_tab->set_jt_and_sel_condition(cond, __LINE__)",
          "old_line_content": "    later (in test_if_skip_sort_order()) instead of the condition.",
          "new_line_content": "    join_tab->set_jt_and_sel_condition(cond, __LINE__);",
          "content_same": false
        },
        {
          "line": 9446,
          "old_api": null,
          "new_api": "optimizer_switch_flag",
          "old_text": null,
          "new_text": "thd->optimizer_switch_flag(OPTIMIZER_SWITCH_MATERIALIZATION)",
          "old_line_content": "    execution of a prepared statement may use a different type of parameter.",
          "new_line_content": "  if (!thd->optimizer_switch_flag(OPTIMIZER_SWITCH_MATERIALIZATION))",
          "content_same": false
        },
        {
          "line": 8936,
          "old_api": null,
          "new_api": "make_select",
          "old_text": null,
          "new_text": "make_select(join_tab->table, 0, 0, cond, 0,\n                                          &error)",
          "old_line_content": "  if (join_tab->pre_idx_push_cond)",
          "new_line_content": "  else if ((join_tab->select= make_select(join_tab->table, 0, 0, cond, 0,",
          "content_same": false
        },
        {
          "line": 7913,
          "old_api": null,
          "new_api": "condition",
          "old_text": null,
          "new_text": "tab->condition()",
          "old_line_content": "          be marked as \"in condition of t1\" but as \"in condition of t2\", for",
          "new_line_content": "      Item * const cond= tab->condition();",
          "content_same": false
        },
        {
          "line": 7915,
          "old_api": null,
          "new_api": "add_utf8_table",
          "old_text": null,
          "new_text": "trace_one_table.add_utf8_table(tab->table).\n        add(\"attached\", cond)",
          "old_line_content": "        */",
          "new_line_content": "      trace_one_table.add_utf8_table(tab->table).",
          "content_same": false
        },
        {
          "line": 9454,
          "old_api": null,
          "new_api": "static_cast<Item_in_subselect *>(unit->item)",
          "old_text": null,
          "new_text": "static_cast<Item_in_subselect *>(unit->item)",
          "old_line_content": "  Opt_trace_object",
          "new_line_content": "    static_cast<Item_in_subselect *>(unit->item);",
          "content_same": false
        },
        {
          "line": 9461,
          "old_api": null,
          "new_api": "outer_select",
          "old_text": null,
          "new_text": "select_lex->outer_select()",
          "old_line_content": "  {",
          "new_line_content": "                                       select_lex->outer_select()))",
          "content_same": false
        },
        {
          "line": 8950,
          "old_api": null,
          "new_api": "create_cond_for_const_ref",
          "old_text": null,
          "new_text": "create_cond_for_const_ref(thd, join_tab)",
          "old_line_content": "/**",
          "new_line_content": "    cond= create_cond_for_const_ref(thd, join_tab);",
          "content_same": false
        },
        {
          "line": 8952,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "",
          "new_line_content": "      DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 8953,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "cond->add(join_tab->pre_idx_push_cond)",
          "old_line_content": "  @param conds   condition for processing",
          "new_line_content": "    if (cond->add(join_tab->pre_idx_push_cond))",
          "content_same": false
        },
        {
          "line": 8442,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "(Item_cond*) cond)->argument_list()->head()",
          "old_line_content": "  {",
          "new_line_content": "      item= ((Item_cond*) cond)->argument_list()->head();",
          "content_same": false
        },
        {
          "line": 8954,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "",
          "new_line_content": "      DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 7929,
          "old_api": null,
          "new_api": "walk",
          "old_text": null,
          "new_text": "cond->walk(&Item::inform_item_in_cond_of_tab, false,\n                   reinterpret_cast<uchar * const>(&idx))",
          "old_line_content": "  Constant expressions @n",
          "new_line_content": "        cond->walk(&Item::inform_item_in_cond_of_tab, false,",
          "content_same": false
        },
        {
          "line": 7930,
          "old_api": null,
          "new_api": "reinterpret_cast<uchar * const>(&idx)",
          "old_text": null,
          "new_text": "reinterpret_cast<uchar * const>(&idx)",
          "old_line_content": "  Expression that only uses tables that are of type EQ_REF and the reference",
          "new_line_content": "                   reinterpret_cast<uchar * const>(&idx));",
          "content_same": false
        },
        {
          "line": 8958,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(error ? TRUE : FALSE)",
          "old_line_content": "  @note that this function has Bug#13915291.",
          "new_line_content": "  DBUG_RETURN(error ? TRUE : FALSE);",
          "content_same": false
        },
        {
          "line": 7935,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  SELECT * FROM t1,t2 WHERE t1.a=t2.a ORDER BY t1.a,t2.X",
          "new_line_content": "  DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 8452,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cond->type()",
          "old_line_content": "        SELECT datetime_notnull d FROM t1 WHERE d IS NULL",
          "new_line_content": "  else if (cond->type() == Item::FUNC_ITEM &&",
          "content_same": false
        },
        {
          "line": 8453,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "(Item_func*) cond)->functype()",
          "old_line_content": "        shall return rows where d=='0000-00-00'",
          "new_line_content": "\t   ((Item_func*) cond)->functype() == Item_func::ISNULL_FUNC)",
          "content_same": false
        },
        {
          "line": 8456,
          "old_api": null,
          "new_api": "arguments",
          "old_text": null,
          "new_text": "func->arguments()",
          "old_line_content": "        \"date_notnull IS NULL\" has to be modified to",
          "new_line_content": "    Item **args= func->arguments();",
          "content_same": false
        },
        {
          "line": 8457,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "args[0]->type()",
          "old_line_content": "        \"date_notnull IS NULL OR date_notnull == 0\" (if outer join)",
          "new_line_content": "    if (args[0]->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 9484,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(allow_outer_refs)",
          "old_line_content": "      If IN->EXISTS didn't add any condition to WHERE (only to HAVING, which",
          "new_line_content": "    DBUG_ASSERT(allow_outer_refs);",
          "content_same": false
        },
        {
          "line": 9487,
          "old_api": null,
          "new_api": "optimize_semijoin_nests_for_materialization",
          "old_text": null,
          "new_text": "optimize_semijoin_nests_for_materialization(this)",
          "old_line_content": "    */",
          "new_line_content": "    if (optimize_semijoin_nests_for_materialization(this))",
          "content_same": false
        },
        {
          "line": 8978,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "conds->type()",
          "old_line_content": "\treturn conds;",
          "new_line_content": "  if (conds->type() == Item::COND_ITEM)",
          "content_same": false
        },
        {
          "line": 9490,
          "old_api": null,
          "new_api": "choose_table_order",
          "old_text": null,
          "new_text": "Optimize_table_order(thd, this, NULL).choose_table_order()",
          "old_line_content": "  }",
          "new_line_content": "    if (Optimize_table_order(thd, this, NULL).choose_table_order())",
          "content_same": false
        },
        {
          "line": 8981,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "cnd->argument_list()",
          "old_line_content": "  }",
          "new_line_content": "    List_iterator<Item> li(*(cnd->argument_list()));",
          "content_same": false
        },
        {
          "line": 8473,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "field->type()",
          "old_line_content": "          Item *or_cond= new(thd->mem_root) Item_cond_or(eq_cond, cond);",
          "new_line_content": "      if (((field->type() == MYSQL_TYPE_DATE) ||",
          "content_same": false
        },
        {
          "line": 8474,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "field->type()",
          "old_line_content": "          if (!or_cond)",
          "new_line_content": "           (field->type() == MYSQL_TYPE_DATETIME)) &&",
          "content_same": false
        },
        {
          "line": 8985,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "item->item_name.ptr()",
          "old_line_content": "",
          "new_line_content": "      if (item->item_name.ptr() == in_additional_cond)",
          "content_same": false
        },
        {
          "line": 8987,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "li.remove()",
          "old_line_content": "  Index lookup-based subquery: save some flags for EXPLAIN output",
          "new_line_content": "\tli.remove();",
          "content_same": false
        },
        {
          "line": 8988,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "cnd->argument_list()",
          "old_line_content": "",
          "new_line_content": "\tif (cnd->argument_list()->elements == 1)",
          "content_same": false
        },
        {
          "line": 8989,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "cnd->argument_list()->head()",
          "old_line_content": "  SYNOPSIS",
          "new_line_content": "\t  return cnd->argument_list()->head();",
          "content_same": false
        },
        {
          "line": 9500,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_subqmat.add(\"surely_same_plan_as_EXISTS\", true).\n      add_alnum(\"cause\", \"EXISTS_did_not_change_WHERE\")",
          "old_line_content": "  Opt_trace_array trace_parents(trace, \"parent_fanouts\");",
          "new_line_content": "    trace_subqmat.add(\"surely_same_plan_as_EXISTS\", true).",
          "content_same": false
        },
        {
          "line": 9505,
          "old_api": null,
          "new_api": "calculate_materialization_costs",
          "old_text": null,
          "new_text": "calculate_materialization_costs(this, NULL, primary_tables, &sjm)",
          "old_line_content": "    Opt_trace_object trace_parent(trace);",
          "new_line_content": "  calculate_materialization_costs(this, NULL, primary_tables, &sjm);",
          "content_same": false
        },
        {
          "line": 8482,
          "old_api": null,
          "new_api": "is_outer_field",
          "old_text": null,
          "new_text": "args[0]->is_outer_field()",
          "old_line_content": "        }",
          "new_line_content": "        if (args[0]->is_outer_field())",
          "content_same": false
        },
        {
          "line": 9518,
          "old_api": null,
          "new_api": "add_select_number",
          "old_text": null,
          "new_text": "trace_parent.add_select_number(parent_join->select_lex->select_number)",
          "old_line_content": "      if (subs->in_cond_of_tab != INT_MIN)",
          "new_line_content": "    trace_parent.add_select_number(parent_join->select_lex->select_number);",
          "content_same": false
        },
        {
          "line": 8496,
          "old_api": null,
          "new_api": "fix_fields",
          "old_text": null,
          "new_text": "cond->fix_fields(thd, &cond)",
          "old_line_content": "    return (Item*) 0;",
          "new_line_content": "        cond->fix_fields(thd, &cond);",
          "content_same": false
        },
        {
          "line": 9521,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "parent_join->plan_is_const()",
          "old_line_content": "          Subquery is attached to a certain 'pos', pos[-1].prefix_record_count",
          "new_line_content": "        parent_join->plan_is_const() ||",
          "content_same": false
        },
        {
          "line": 7984,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "*ref_item)->const_item()",
          "old_line_content": "          found++;",
          "new_line_content": "    if (! (*ref_item)->const_item())",
          "content_same": false
        },
        {
          "line": 8499,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "cond->const_item()",
          "old_line_content": "  {\t\t\t\t\t\t// boolan compare function",
          "new_line_content": "    if (cond->const_item())",
          "content_same": false
        },
        {
          "line": 9526,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_parent.add(\"subq_attached_to_const_table\", true)",
          "old_line_content": "          - if 'pos' is first, use 1 instead of pos[-1].prefix_record_count",
          "new_line_content": "      trace_parent.add(\"subq_attached_to_const_table\", true);",
          "content_same": false
        },
        {
          "line": 8507,
          "old_api": null,
          "new_api": "eval_const_cond",
          "old_text": null,
          "new_text": "eval_const_cond(cond)",
          "old_line_content": "    }",
          "new_line_content": "    *cond_value= eval_const_cond(cond) ? Item::COND_TRUE : Item::COND_FALSE;",
          "content_same": false
        },
        {
          "line": 8510,
          "old_api": null,
          "new_api": "eq_cmp_result",
          "old_text": null,
          "new_text": "cond->eq_cmp_result()",
          "old_line_content": "  return cond;\t\t\t\t\t// Point at next and level",
          "new_line_content": "  else if ((*cond_value= cond->eq_cmp_result()) != Item::COND_OK)",
          "content_same": false
        },
        {
          "line": 8512,
          "old_api": null,
          "new_api": "arguments",
          "old_text": null,
          "new_text": "(Item_func*) cond)->arguments()",
          "old_line_content": "",
          "new_line_content": "    Item *left_item=\t((Item_func*) cond)->arguments()[0];",
          "content_same": false
        },
        {
          "line": 8513,
          "old_api": null,
          "new_api": "arguments",
          "old_text": null,
          "new_text": "(Item_func*) cond)->arguments()",
          "old_line_content": "",
          "new_line_content": "    Item *right_item= ((Item_func*) cond)->arguments()[1];",
          "content_same": false
        },
        {
          "line": 8514,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "left_item->eq(right_item,1)",
          "old_line_content": "/**",
          "new_line_content": "    if (left_item->eq(right_item,1))",
          "content_same": false
        },
        {
          "line": 8001,
          "old_api": null,
          "new_api": "used_tables",
          "old_text": null,
          "new_text": "*ref_item)->used_tables()",
          "old_line_content": "    }",
          "new_line_content": "      if (!only_eq_ref_tables(join, start_order, (*ref_item)->used_tables(),",
          "content_same": false
        },
        {
          "line": 8517,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "(Item_func*) cond)->functype()",
          "old_line_content": "  COND_OK    query is possible (field = constant)",
          "new_line_content": "\t  ((Item_func*) cond)->functype() == Item_func::EQUAL_FUNC)",
          "content_same": false
        },
        {
          "line": 9033,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "join_tab->table->covering_keys.is_set(join_tab->ref.key)",
          "old_line_content": "    join_tab->packed_info |= TAB_INFO_USING_WHERE;",
          "new_line_content": "  if (join_tab->table->covering_keys.is_set(join_tab->ref.key))",
          "content_same": false
        },
        {
          "line": 9547,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT((int)idx >= 0 && idx < parent_join->tables)",
          "old_line_content": "        /*",
          "new_line_content": "        DBUG_ASSERT((int)idx >= 0 && idx < parent_join->tables);",
          "content_same": false
        },
        {
          "line": 9548,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_parent.add(\"subq_attached_to_table\", true)",
          "old_line_content": "          Subquery is SELECT list, GROUP BY, ORDER BY, HAVING: it is evaluated",
          "new_line_content": "        trace_parent.add(\"subq_attached_to_table\", true);",
          "content_same": false
        },
        {
          "line": 9549,
          "old_api": null,
          "new_api": "add_utf8_table",
          "old_text": null,
          "new_text": "trace_parent.add_utf8_table(parent_join->join_tab[idx].table)",
          "old_line_content": "          at the end of the parent join's execution.",
          "new_line_content": "        trace_parent.add_utf8_table(parent_join->join_tab[idx].table);",
          "content_same": false
        },
        {
          "line": 9552,
          "old_api": null,
          "new_api": "sj_is_materialize_strategy",
          "old_text": null,
          "new_text": "sj_is_materialize_strategy(parent_join\n                                        ->join_tab[idx].position->sj_strategy)",
          "old_line_content": "          or once per row-after-grouping:",
          "new_line_content": "            !sj_is_materialize_strategy(parent_join",
          "content_same": false
        },
        {
          "line": 9052,
          "old_api": null,
          "new_api": "has_guarded_conds",
          "old_text": null,
          "new_text": "join_tab->has_guarded_conds()",
          "old_line_content": "  {",
          "new_line_content": "  if (join_tab->has_guarded_conds())",
          "content_same": false
        },
        {
          "line": 8549,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cond->type()",
          "old_line_content": "",
          "new_line_content": "  if (cond->type() == Item::FUNC_ITEM &&",
          "content_same": false
        },
        {
          "line": 8550,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "(Item_func*) cond)->functype()",
          "old_line_content": "    Item_func_isnull *func=(Item_func_isnull*) cond;",
          "new_line_content": "      ((Item_func*) cond)->functype() == Item_func::ISNULL_FUNC)",
          "content_same": false
        },
        {
          "line": 9063,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "keyuse_array->size()",
          "old_line_content": "    keyuse->ref_table_rows= ~(ha_rows) 0;\t// If no ref",
          "new_line_content": "  for (size_t ix= 0; ix < keyuse_array->size(); ++ix)",
          "content_same": false
        },
        {
          "line": 9576,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_parent.add(\"subq_attached_to_join_result\", true)",
          "old_line_content": "    }",
          "new_line_content": "        trace_parent.add(\"subq_attached_to_join_result\", true);",
          "content_same": false
        },
        {
          "line": 9065,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "keyuse_array->at(ix)",
          "old_line_content": "\t(map= (keyuse->used_tables & ~join->const_table_map &",
          "new_line_content": "    Key_use *keyuse= &keyuse_array->at(ix);",
          "content_same": false
        },
        {
          "line": 8037,
          "old_api": null,
          "new_api": "eq_ref_table",
          "old_text": null,
          "new_text": "eq_ref_table(join, order, *tab,\n                                cached_eq_ref_tables, eq_ref_tables)",
          "old_line_content": "  return true;",
          "new_line_content": "        is_eq_ref= eq_ref_table(join, order, *tab,",
          "content_same": false
        },
        {
          "line": 9581,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_parent.add(\"fanout\", parent_fanout)",
          "old_line_content": "    */",
          "new_line_content": "    trace_parent.add(\"fanout\", parent_fanout);",
          "content_same": false
        },
        {
          "line": 9582,
          "old_api": null,
          "new_api": "is_cacheable",
          "old_text": null,
          "new_text": "parent_join->select_lex->is_cacheable()",
          "old_line_content": "    if (!(subs= parent_join->unit->item))",
          "new_line_content": "    const bool cacheable= parent_join->select_lex->is_cacheable();",
          "content_same": false
        },
        {
          "line": 9583,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_parent.add(\"cacheable\", cacheable)",
          "old_line_content": "    {",
          "new_line_content": "    trace_parent.add(\"cacheable\", cacheable);",
          "content_same": false
        },
        {
          "line": 8563,
          "old_api": null,
          "new_api": "arguments",
          "old_text": null,
          "new_text": "func->arguments()",
          "old_line_content": "\tItem *new_cond;",
          "new_line_content": "    Item **args= func->arguments();",
          "content_same": false
        },
        {
          "line": 8564,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "args[0]->type()",
          "old_line_content": "\tif ((new_cond= new Item_func_eq(args[0],",
          "new_line_content": "    if (args[0]->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 8573,
          "old_api": null,
          "new_api": "query_cache_abort",
          "old_text": null,
          "new_text": "query_cache_abort(&thd->query_cache_tls)",
          "old_line_content": "            argument.",
          "new_line_content": "\tquery_cache_abort(&thd->query_cache_tls);",
          "content_same": false
        },
        {
          "line": 9085,
          "old_api": null,
          "new_api": "max<ha_rows>(tmp_table->file->stats.records, 100)",
          "old_text": null,
          "new_text": "max<ha_rows>(tmp_table->file->stats.records, 100)",
          "old_line_content": "",
          "new_line_content": "\tkeyuse->ref_table_rows= max<ha_rows>(tmp_table->file->stats.records, 100);",
          "content_same": false
        },
        {
          "line": 9599,
          "old_api": null,
          "new_api": "outer_select",
          "old_text": null,
          "new_text": "parent_join->unit->outer_select()",
          "old_line_content": "    }",
          "new_line_content": "    parent_join= parent_join->unit->outer_select()->join;",
          "content_same": false
        },
        {
          "line": 8577,
          "old_api": null,
          "new_api": "NAME_STRING",
          "old_text": null,
          "new_text": "NAME_STRING(\"last_insert_id()\")",
          "old_line_content": "        /*",
          "new_line_content": "\t\t\t\t\tnew Item_int(NAME_STRING(\"last_insert_id()\"),",
          "content_same": false
        },
        {
          "line": 8578,
          "old_api": null,
          "new_api": "read_first_successful_insert_id_in_prev_stmt",
          "old_text": null,
          "new_text": "thd->read_first_successful_insert_id_in_prev_stmt()",
          "old_line_content": "          IS NULL should be mapped to LAST_INSERT_ID only for first row, so",
          "new_line_content": "                                                     thd->read_first_successful_insert_id_in_prev_stmt(),",
          "content_same": false
        },
        {
          "line": 8587,
          "old_api": null,
          "new_api": "fix_fields",
          "old_text": null,
          "new_text": "cond->fix_fields(thd, &cond)",
          "old_line_content": "  }",
          "new_line_content": "\t  cond->fix_fields(thd, &cond);",
          "content_same": false
        },
        {
          "line": 9613,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "trace_parents.end()",
          "old_line_content": "    .add(\"cost_of_one_EXISTS\", saved_best_read)",
          "new_line_content": "  trace_parents.end();",
          "content_same": false
        },
        {
          "line": 8078,
          "old_api": null,
          "new_api": "real_item",
          "old_text": null,
          "new_text": "order->item[0]->real_item()",
          "old_line_content": "  return false;",
          "new_line_content": "      const Item *it1= order->item[0]->real_item();",
          "content_same": false
        },
        {
          "line": 8079,
          "old_api": null,
          "new_api": "real_item",
          "old_text": null,
          "new_text": "possible_dup->item[0]->real_item()",
          "old_line_content": "}",
          "new_line_content": "      const Item *it2= possible_dup->item[0]->real_item();",
          "content_same": false
        },
        {
          "line": 9616,
          "old_api": null,
          "new_api": "total_cost",
          "old_text": null,
          "new_text": "sjm.materialization_cost.total_cost()",
          "old_line_content": "    .add(\"cost_of_EXISTS\", cost_exists)",
          "new_line_content": "  const double cost_mat_table= sjm.materialization_cost.total_cost();",
          "content_same": false
        },
        {
          "line": 8081,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "it1->type()",
          "old_line_content": "/**",
          "new_line_content": "      if (it1->type() == Item::FIELD_ITEM &&",
          "content_same": false
        },
        {
          "line": 9618,
          "old_api": null,
          "new_api": "total_cost",
          "old_text": null,
          "new_text": "sjm.lookup_cost.total_cost()",
          "old_line_content": "  if (mat_chosen)",
          "new_line_content": "    sjm.lookup_cost.total_cost();",
          "content_same": false
        },
        {
          "line": 9107,
          "old_api": null,
          "new_api": "ha_table_flags",
          "old_text": null,
          "new_text": "tab->table->file->ha_table_flags()",
          "old_line_content": "  {",
          "new_line_content": "  if ((tab->table->file->ha_table_flags() & HA_CAN_FULLTEXT_EXT) == 0)",
          "content_same": false
        },
        {
          "line": 9620,
          "old_api": null,
          "new_api": "optimizer_switch_flag",
          "old_text": null,
          "new_text": "thd->optimizer_switch_flag(OPTIMIZER_SWITCH_SUBQ_MAT_COST_BASED)",
          "old_line_content": "  else",
          "new_line_content": "    thd->optimizer_switch_flag(OPTIMIZER_SWITCH_SUBQ_MAT_COST_BASED) ?",
          "content_same": false
        },
        {
          "line": 8082,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "it2->type()",
          "old_line_content": "  Remove all constants and check if ORDER only contains simple",
          "new_line_content": "          it2->type() == Item::FIELD_ITEM &&",
          "content_same": false
        },
        {
          "line": 9110,
          "old_api": null,
          "new_api": "static_cast<Item_func_match*>(tab->keyuse->val)",
          "old_text": null,
          "new_text": "static_cast<Item_func_match*>(tab->keyuse->val)",
          "old_line_content": "",
          "new_line_content": "  Item_func_match* fts_result= static_cast<Item_func_match*>(tab->keyuse->val);",
          "content_same": false
        },
        {
          "line": 9622,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_subq_mat_decision\n    .add(\"cost_to_create_and_fill_materialized_table\",\n         cost_mat_table)\n    .add(\"cost_of_one_EXISTS\", saved_best_read)\n    .add(\"number_of_subquery_evaluations\", subq_executions)\n    .add(\"cost_of_materialization\", cost_mat)\n    .add(\"cost_of_EXISTS\", cost_exists)\n    .add(\"chosen\", mat_chosen)",
          "old_line_content": "    best_read= saved_best_read;",
          "new_line_content": "  trace_subq_mat_decision",
          "content_same": false
        },
        {
          "line": 8600,
          "old_api": null,
          "new_api": "internal_remove_eq_conds",
          "old_text": null,
          "new_text": "internal_remove_eq_conds(thd, cond, cond_value)",
          "old_line_content": "      [GROUP BY <unique_key_cols>,...]",
          "new_line_content": "  return internal_remove_eq_conds(thd, cond, cond_value); // Scan all the condition",
          "content_same": false
        },
        {
          "line": 8083,
          "old_api": null,
          "new_api": "static_cast<const Item_field*>(it1)",
          "old_text": null,
          "new_text": "static_cast<const Item_field*>(it1)",
          "old_line_content": "  expressions.",
          "new_line_content": "          (static_cast<const Item_field*>(it1)->field ==",
          "content_same": false
        },
        {
          "line": 8084,
          "old_api": null,
          "new_api": "static_cast<const Item_field*>(it2)",
          "old_text": null,
          "new_text": "static_cast<const Item_field*>(it2)",
          "old_line_content": "",
          "new_line_content": "           static_cast<const Item_field*>(it2)->field))",
          "content_same": false
        },
        {
          "line": 9118,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "fts_result->eq(*(order->item), true)",
          "old_line_content": "      // revert to table scan, do things make_join_readinfo would have done",
          "new_line_content": "      fts_result->eq(*(order->item), true))",
          "content_same": false
        },
        {
          "line": 9121,
          "old_api": null,
          "new_api": "static_cast<Item_func_match*>(*(order->item))",
          "old_text": null,
          "new_text": "static_cast<Item_func_match*>(*(order->item))",
          "old_line_content": "      tab->use_quick= QS_NONE;",
          "new_line_content": "      static_cast<Item_func_match*>(*(order->item)); ",
          "content_same": false
        },
        {
          "line": 9140,
          "old_api": null,
          "new_api": "set_status_no_index_used",
          "old_text": null,
          "new_text": "thd->set_status_no_index_used()",
          "old_line_content": "  /* Check whether the FTS result is covering.  If only document id",
          "new_line_content": "      thd->set_status_no_index_used();",
          "content_same": false
        },
        {
          "line": 9653,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "    best_rowcount= 2;",
          "new_line_content": "  DBUG_ASSERT(!plan_is_const() || best_rowcount <= 1);",
          "content_same": false
        },
        {
          "line": 9143,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT((select_options & SELECT_DESCRIBE) == 0)",
          "old_line_content": "  List_iterator<Item> it(all_fields);",
          "new_line_content": "      DBUG_ASSERT((select_options & SELECT_DESCRIBE) == 0);",
          "content_same": false
        },
        {
          "line": 9144,
          "old_api": null,
          "new_api": "inc_status_select_scan",
          "old_text": null,
          "new_text": "thd->inc_status_select_scan()",
          "old_line_content": "  Item *item;",
          "new_line_content": "      thd->inc_status_select_scan();",
          "content_same": false
        },
        {
          "line": 9655,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "  /*",
          "new_line_content": "  if (plan_is_const())",
          "content_same": false
        },
        {
          "line": 9148,
          "old_api": null,
          "new_api": "ordered_result",
          "old_text": null,
          "new_text": "fts_item->ordered_result()",
          "old_line_content": "  while (covering && (item= it++))",
          "new_line_content": "    else if (fts_item->ordered_result())",
          "content_same": false
        },
        {
          "line": 8124,
          "old_api": null,
          "new_api": "is_started",
          "old_text": null,
          "new_text": "trace->is_started()",
          "old_line_content": "  ORDER *order,**prev_ptr;",
          "new_line_content": "  if (trace->is_started())",
          "content_same": false
        },
        {
          "line": 8126,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "trace_simpl.add_alnum(\"clause\", clause_type)",
          "old_line_content": "  table_map not_const_tables= ~join->const_table_map;",
          "new_line_content": "    trace_simpl.add_alnum(\"clause\", clause_type);",
          "content_same": false
        },
        {
          "line": 8128,
          "old_api": null,
          "new_api": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "old_text": null,
          "new_text": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "old_line_content": "  // Caches to avoid repeating eq_ref_table() calls, @see eq_ref_table()",
          "new_line_content": "    st_select_lex::print_order(&str, first_order,",
          "content_same": false
        },
        {
          "line": 8129,
          "old_api": null,
          "new_api": "enum_query_type",
          "old_text": null,
          "new_text": "enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB)",
          "old_line_content": "  table_map eq_ref_tables= 0, cached_eq_ref_tables= 0;",
          "new_line_content": "                               enum_query_type(QT_TO_SYSTEM_CHARSET |",
          "content_same": false
        },
        {
          "line": 8132,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "str.length()",
          "old_line_content": "  prev_ptr= &first_order;",
          "new_line_content": "    trace_simpl.add_utf8(\"original_clause\", str.ptr(), str.length());",
          "content_same": false
        },
        {
          "line": 8646,
          "old_api": null,
          "new_api": "is_inner_table_of_outer_join",
          "old_text": null,
          "new_text": "tab->is_inner_table_of_outer_join()",
          "old_line_content": "           key_part < key_part_end;",
          "new_line_content": "  if (tab->is_inner_table_of_outer_join())",
          "content_same": false
        },
        {
          "line": 9672,
          "old_api": null,
          "new_api": "set_if_smaller",
          "old_text": null,
          "new_text": "set_if_smaller(best_rowcount, unit->select_limit_cnt)",
          "old_line_content": "",
          "new_line_content": "  set_if_smaller(best_rowcount, unit->select_limit_cnt);",
          "content_same": false
        },
        {
          "line": 9162,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "    }",
          "new_line_content": "    switch (item->type()) {",
          "content_same": false
        },
        {
          "line": 9165,
          "old_api": null,
          "new_api": "static_cast<Item_field*>(item)",
          "old_text": null,
          "new_text": "static_cast<Item_field*>(item)",
          "old_line_content": "      {",
          "new_line_content": "      Item_field *item_field= static_cast<Item_field*>(item);",
          "content_same": false
        },
        {
          "line": 9169,
          "old_api": null,
          "new_api": "docid_in_result",
          "old_text": null,
          "new_text": "fts_result->docid_in_result()",
          "old_line_content": "      }",
          "new_line_content": "        covering= fts_result->docid_in_result();",
          "content_same": false
        },
        {
          "line": 8661,
          "old_api": null,
          "new_api": "real_maybe_null",
          "old_text": null,
          "new_text": "key_part->field->real_maybe_null()",
          "old_line_content": "/**",
          "new_line_content": "        if (key_part->field->real_maybe_null() || ",
          "content_same": false
        },
        {
          "line": 8662,
          "old_api": null,
          "new_api": "find_func",
          "old_text": null,
          "new_text": "find_func(key_part->field, data)",
          "old_line_content": "  Helper function for list_contains_unique_index.",
          "new_line_content": "            !find_func(key_part->field, data))",
          "content_same": false
        },
        {
          "line": 8149,
          "old_api": null,
          "new_api": "update_depend_map",
          "old_text": null,
          "new_text": "update_depend_map(join, first_order)",
          "old_line_content": "          handle joins and the join condition is not applied. We can't detect",
          "new_line_content": "  update_depend_map(join, first_order);",
          "content_same": false
        },
        {
          "line": 9176,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "static_cast<Item_func*>(item)->functype()",
          "old_line_content": "  if (covering) ",
          "new_line_content": "      if (static_cast<Item_func*>(item)->functype() == Item_func::FT_FUNC)",
          "content_same": false
        },
        {
          "line": 8153,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_one_item.add(\"item\", order->item[0])",
          "old_line_content": "         */",
          "new_line_content": "    trace_one_item.add(\"item\", order->item[0]);",
          "content_same": false
        },
        {
          "line": 9178,
          "old_api": null,
          "new_api": "static_cast<Item_func_match*>(item)",
          "old_text": null,
          "new_text": "static_cast<Item_func_match*>(item)",
          "old_line_content": "    if (docid_found)",
          "new_line_content": "        Item_func_match* fts_item= static_cast<Item_func_match*>(item); ",
          "content_same": false
        },
        {
          "line": 9179,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "fts_item->eq(fts_result, true)",
          "old_line_content": "    {",
          "new_line_content": "        if (fts_item->eq(fts_result, true))",
          "content_same": false
        },
        {
          "line": 8154,
          "old_api": null,
          "new_api": "used_tables",
          "old_text": null,
          "new_text": "order->item[0]->used_tables()",
          "old_line_content": "        (join->primary_tables > 1 &&",
          "new_line_content": "    table_map order_tables=order->item[0]->used_tables();",
          "content_same": false
        },
        {
          "line": 9192,
          "old_api": null,
          "new_api": "replace_item_field",
          "old_text": null,
          "new_text": "replace_item_field(FTS_DOC_ID_COL_NAME, \n                         new Item_func_docid(reinterpret_cast<FT_INFO_EXT*>\n                                             (fts_result->ft_handler)))",
          "old_line_content": "  /**",
          "new_line_content": "      replace_item_field(FTS_DOC_ID_COL_NAME, ",
          "content_same": false
        },
        {
          "line": 9193,
          "old_api": null,
          "new_api": "reinterpret_cast<FT_INFO_EXT*>\n                                             (fts_result->ft_handler)",
          "old_text": null,
          "new_text": "reinterpret_cast<FT_INFO_EXT*>\n                                             (fts_result->ft_handler)",
          "old_line_content": "     Optimize FTS queries with ORDER BY/LIMIT, but no WHERE clause.",
          "new_line_content": "                         new Item_func_docid(reinterpret_cast<FT_INFO_EXT*>",
          "content_same": false
        },
        {
          "line": 8172,
          "old_api": null,
          "new_api": "has_subquery",
          "old_text": null,
          "new_text": "order->item[0]->has_subquery()",
          "old_line_content": "        If 'order' is a duplicate of an expression earlier in the",
          "new_line_content": "      if (order->item[0]->has_subquery() && ",
          "content_same": false
        },
        {
          "line": 9198,
          "old_api": null,
          "new_api": "set_keyread",
          "old_text": null,
          "new_text": "fts_result->table->set_keyread(true)",
          "old_line_content": "     returned, and one would benefit from the optimizations associated",
          "new_line_content": "    fts_result->table->set_keyread(true);",
          "content_same": false
        },
        {
          "line": 9199,
          "old_api": null,
          "new_api": "set_bit",
          "old_text": null,
          "new_text": "fts_result->table->covering_keys.set_bit(fts_result->key)",
          "old_line_content": "     with JT_FT acess (@see optimize_fts_query).  To get JT_FT access we",
          "new_line_content": "    fts_result->table->covering_keys.set_bit(fts_result->key);",
          "content_same": false
        },
        {
          "line": 8178,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_one_item.add(\"uses_only_constant_tables\", true)",
          "old_line_content": "    }",
          "new_line_content": "      trace_one_item.add(\"uses_only_constant_tables\", true);",
          "content_same": false
        },
        {
          "line": 8181,
          "old_api": null,
          "new_api": "duplicate_order",
          "old_text": null,
          "new_text": "duplicate_order(first_order, order)",
          "old_line_content": "        If the order item is a subquery that is also in the field",
          "new_line_content": "    else if (duplicate_order(first_order, order))",
          "content_same": false
        },
        {
          "line": 8694,
          "old_api": null,
          "new_api": "real_item",
          "old_text": null,
          "new_text": "*tmp_group->item)->real_item()",
          "old_line_content": "/**",
          "new_line_content": "    Item *item= (*tmp_group->item)->real_item();",
          "content_same": false
        },
        {
          "line": 8695,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "item->type()",
          "old_line_content": "  Helper function for list_contains_unique_index.",
          "new_line_content": "    if (item->type() == Item::FIELD_ITEM &&",
          "content_same": false
        },
        {
          "line": 8696,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "(Item_field*) item)->field->eq(field)",
          "old_line_content": "  Find a field reference in a dynamic list of Items.",
          "new_line_content": "        ((Item_field*) item)->field->eq(field))",
          "content_same": false
        },
        {
          "line": 8188,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_one_item.add(\"duplicate_item\", true)",
          "old_line_content": "    else",
          "new_line_content": "      trace_one_item.add(\"duplicate_item\", true);",
          "content_same": false
        },
        {
          "line": 8191,
          "old_api": null,
          "new_api": "has_subquery",
          "old_text": null,
          "new_text": "order->item[0]->has_subquery()",
          "old_line_content": "\t*simple_order=0;",
          "new_line_content": "    else if (order->in_field_list && order->item[0]->has_subquery())",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 8194,
          "old_api": "const_expression_in_where",
          "new_api": null,
          "old_text": "const_expression_in_where(cond,order->item[0])",
          "new_text": null,
          "old_line_content": "\tif (cond && const_expression_in_where(cond,order->item[0]))",
          "new_line_content": "        list, a temp table should be used to avoid evaluating the",
          "content_same": false
        },
        {
          "line": 8196,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_one_item.add(\"equals_constant_in_where\", true)",
          "new_text": null,
          "old_line_content": "          trace_one_item.add(\"equals_constant_in_where\", true);",
          "new_line_content": "        b) getting the value.",
          "content_same": false
        },
        {
          "line": 8202,
          "old_api": "only_eq_ref_tables",
          "new_api": null,
          "old_text": "only_eq_ref_tables(join, first_order, ref,\n                                 &cached_eq_ref_tables, &eq_ref_tables)",
          "new_text": null,
          "old_line_content": "              only_eq_ref_tables(join, first_order, ref,",
          "new_line_content": "      if (order_tables & (RAND_TABLE_BIT | OUTER_REF_TABLE_BIT))",
          "content_same": false
        },
        {
          "line": 9227,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(order->item)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(order->item);",
          "new_line_content": "     2. There is no WHERE condition",
          "content_same": false
        },
        {
          "line": 8205,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_one_item.add(\"eq_ref_to_preceding_items\", true)",
          "new_text": null,
          "old_line_content": "            trace_one_item.add(\"eq_ref_to_preceding_items\", true);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 8718,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "    if (item->type() == Item::FIELD_ITEM &&",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 8719,
          "old_api": "eq",
          "new_api": null,
          "old_text": "(Item_field*) item)->field->eq(field)",
          "new_text": null,
          "old_line_content": "        ((Item_field*) item)->field->eq(field))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9229,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(item)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(item);",
          "new_line_content": "     4. Ordering is descending",
          "content_same": false
        },
        {
          "line": 9231,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "    if (item->type() == Item::FUNC_ITEM &&",
          "new_line_content": "     6. Ordering is on a MATCH expression",
          "content_same": false
        },
        {
          "line": 9232,
          "old_api": "functype",
          "new_api": null,
          "old_text": "static_cast<Item_func*>(item)->functype()",
          "new_text": null,
          "old_line_content": "        static_cast<Item_func*>(item)->functype() == Item_func::FT_FUNC)  // 6",
          "new_line_content": "   */",
          "content_same": false
        },
        {
          "line": 8220,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"exit\",(\"simple_order: %d\",(int) *simple_order))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"exit\",(\"simple_order: %d\",(int) *simple_order));",
          "new_line_content": "\t  *simple_order=0;\t\t\t// Must do a temp table to sort",
          "content_same": false
        },
        {
          "line": 8222,
          "old_api": "end",
          "new_api": null,
          "old_text": "trace_each_item.end()",
          "new_text": null,
          "old_line_content": "  trace_each_item.end();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 8223,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_simpl.add(\"resulting_clause_is_simple\", *simple_order)",
          "new_text": null,
          "old_line_content": "  trace_simpl.add(\"resulting_clause_is_simple\", *simple_order);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8224,
          "old_api": "is_started",
          "new_api": null,
          "old_text": "trace->is_started()",
          "new_text": null,
          "old_line_content": "  if (trace->is_started() && change_list)",
          "new_line_content": "    if (change_list)",
          "content_same": false
        },
        {
          "line": 8227,
          "old_api": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "new_api": null,
          "old_text": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "new_text": null,
          "old_line_content": "    st_select_lex::print_order(&str, first_order,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8228,
          "old_api": "enum_query_type",
          "new_api": null,
          "old_text": "enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB)",
          "new_text": null,
          "old_line_content": "                               enum_query_type(QT_TO_SYSTEM_CHARSET |",
          "new_line_content": "  if (change_list)",
          "content_same": false
        },
        {
          "line": 8231,
          "old_api": "length",
          "new_api": null,
          "old_text": "str.length()",
          "new_text": null,
          "old_line_content": "    trace_simpl.add_utf8(\"resulting_clause\", str.ptr(), str.length());",
          "new_line_content": "    *simple_order=1;",
          "content_same": false
        },
        {
          "line": 8756,
          "old_api": "memdup",
          "new_api": null,
          "old_text": "thd->memdup((char*) order,sizeof(ORDER))",
          "new_text": null,
          "old_line_content": "      ORDER *ord=(ORDER*) thd->memdup((char*) order,sizeof(ORDER));",
          "new_line_content": "  Ref_ptr_array orig_ref_pointer_array= ref_pointer_array;",
          "content_same": false
        },
        {
          "line": 9272,
          "old_api": "get_partial_join_cost",
          "new_api": null,
          "old_text": "get_partial_join_cost(join, n_tables,\n                          &mat_cost, &mat_rowcount)",
          "new_text": null,
          "old_line_content": "    get_partial_join_cost(join, n_tables,",
          "new_line_content": "  double mat_rowcount;         // Estimated row count before duplicate removal",
          "content_same": false
        },
        {
          "line": 8767,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "li.rewind()",
          "new_text": null,
          "old_line_content": "  li.rewind();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8770,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "    if (!item->const_item() && !item->with_sum_func && !item->marker)",
          "new_line_content": "\treturn 0;",
          "content_same": false
        },
        {
          "line": 8266,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"optimize_cond\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"optimize_cond\");",
          "new_line_content": "                           COND_TRUE if conds is always true",
          "content_same": false
        },
        {
          "line": 8778,
          "old_api": "eq",
          "new_api": null,
          "old_text": "*ord_iter->item)->eq(item, 1)",
          "new_text": null,
          "old_line_content": "        if ((*ord_iter->item)->eq(item, 1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8781,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "thd->calloc(sizeof(ORDER))",
          "new_text": null,
          "old_line_content": "      ORDER *ord=(ORDER*) thd->calloc(sizeof(ORDER));",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8272,
          "old_api": "add_alnum",
          "new_api": null,
          "old_text": "trace_cond.add_alnum(\"condition\", build_equalities ? \"WHERE\" : \"HAVING\")",
          "new_text": null,
          "old_line_content": "    trace_cond.add_alnum(\"condition\", build_equalities ? \"WHERE\" : \"HAVING\");",
          "new_line_content": "Item *",
          "content_same": false
        },
        {
          "line": 8273,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_cond.add(\"original_condition\", conds)",
          "new_text": null,
          "old_line_content": "    trace_cond.add(\"original_condition\", conds);",
          "new_line_content": "optimize_cond(THD *thd, Item *conds, COND_EQUAL **cond_equal, ",
          "content_same": false
        },
        {
          "line": 8785,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "      if (item->type() == Item::FIELD_ITEM &&",
          "new_line_content": "        Don't put duplicate columns from the SELECT list into the ",
          "content_same": false
        },
        {
          "line": 8786,
          "old_api": "field_type",
          "new_api": null,
          "old_text": "item->field_type()",
          "new_text": null,
          "old_line_content": "          item->field_type() == MYSQL_TYPE_BIT)",
          "new_line_content": "        GROUP BY list.",
          "content_same": false
        },
        {
          "line": 9309,
          "old_api": "used_tables",
          "new_api": null,
          "old_text": "item->used_tables()",
          "new_text": null,
          "old_line_content": "      map|= item->used_tables();",
          "new_line_content": "     nest (the payoff is probably less here?)",
          "content_same": false
        },
        {
          "line": 8287,
          "old_api": "add_alnum",
          "new_api": null,
          "old_text": "step_wrapper.add_alnum(\"transformation\", \"equality_propagation\")",
          "new_text": null,
          "old_line_content": "      step_wrapper.add_alnum(\"transformation\", \"equality_propagation\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8290,
          "old_api": "has_subquery",
          "new_api": null,
          "old_text": "conds->has_subquery()",
          "new_text": null,
          "old_line_content": "          disable_trace_wrapper(trace, !conds->has_subquery());",
          "new_line_content": "      predicates that can be inferred from these multiple equalities.",
          "content_same": false
        },
        {
          "line": 9314,
          "old_api": "next_bit",
          "new_api": null,
          "old_text": "tm_it.next_bit()",
          "new_text": null,
          "old_line_content": "    while ((tableno = tm_it.next_bit()) != Table_map_iterator::BITMAP_END)",
          "new_line_content": "      JOIN_TAB * const tab= join->best_positions[i].table;",
          "content_same": false
        },
        {
          "line": 9316,
          "old_api": "min",
          "new_api": null,
          "old_text": "min(mat_rowcount, rows)",
          "new_text": null,
          "old_line_content": "    distinct_rowcount= min(mat_rowcount, rows);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8293,
          "old_api": "build_equal_items",
          "new_api": null,
          "old_text": "build_equal_items(thd, conds, NULL, true,\n                                 join_list, cond_equal)",
          "new_text": null,
          "old_line_content": "        conds= build_equal_items(thd, conds, NULL, true,",
          "new_line_content": "      predicate. Substitute a constant instead of this field if the",
          "content_same": false
        },
        {
          "line": 7783,
          "old_api": "intersect",
          "new_api": null,
          "old_text": "usable_keys.intersect(((Item_field*)item)->field->part_of_sortkey)",
          "new_text": null,
          "old_line_content": "                usable_keys.intersect(((Item_field*)item)->field->part_of_sortkey);",
          "new_line_content": "                    (interesting_order != tmp_order->direction))",
          "content_same": false
        },
        {
          "line": 8296,
          "old_api": "add",
          "new_api": null,
          "old_text": "step_wrapper.add(\"resulting_condition\", conds)",
          "new_text": null,
          "old_line_content": "      step_wrapper.add(\"resulting_condition\", conds);",
          "new_line_content": "    if (build_equalities)",
          "content_same": false
        },
        {
          "line": 7786,
          "old_api": "is_clear_all",
          "new_api": null,
          "old_text": "usable_keys.is_clear_all()",
          "new_text": null,
          "old_line_content": "                if (usable_keys.is_clear_all())",
          "new_line_content": "                    MySQL currently does not support multi-column",
          "content_same": false
        },
        {
          "line": 8814,
          "old_api": "pop_front",
          "new_api": null,
          "old_text": "ref_pointer_array.pop_front()",
          "new_text": null,
          "old_line_content": "    ref_pointer_array.pop_front();",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 8310,
          "old_api": "add",
          "new_api": null,
          "old_text": "step_wrapper.add(\"resulting_condition\", conds)",
          "new_text": null,
          "old_line_content": "      step_wrapper.add(\"resulting_condition\", conds);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7805,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "usable_keys.is_set(sel->quick->index)",
          "new_text": null,
          "old_line_content": "                  usable_keys.is_set(sel->quick->index) &&",
          "new_line_content": "              /*",
          "content_same": false
        },
        {
          "line": 8830,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"get_sort_by_table\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"get_sort_by_table\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9342,
          "old_api": "reset",
          "new_api": null,
          "old_text": "sjm->materialization_cost.reset()",
          "new_text": null,
          "old_line_content": "  sjm->materialization_cost.reset();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 9343,
          "old_api": "add_io",
          "new_api": null,
          "old_text": "sjm->materialization_cost\n    .add_io(mat_cost)",
          "new_text": null,
          "old_line_content": "  sjm->materialization_cost",
          "new_line_content": "  else",
          "content_same": false
        },
        {
          "line": 7807,
          "old_api": "reverse_sorted",
          "new_api": null,
          "old_text": "sel->quick->reverse_sorted()",
          "new_text": null,
          "old_line_content": "                   sel->quick->reverse_sorted()))",
          "new_line_content": "                index that provides the order dictated by the ORDER BY",
          "content_same": false
        },
        {
          "line": 8323,
          "old_api": "has_subquery",
          "new_api": null,
          "old_text": "conds->has_subquery()",
          "new_text": null,
          "old_line_content": "          disable_trace_wrapper(trace, !conds->has_subquery());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8325,
          "old_api": "remove_eq_conds",
          "new_api": null,
          "old_text": "remove_eq_conds(thd, conds, cond_value)",
          "new_text": null,
          "old_line_content": "        conds= remove_eq_conds(thd, conds, cond_value) ;",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 7814,
          "old_api": "test_quick_select",
          "new_api": null,
          "old_text": "sel->test_quick_select(thd, usable_keys,\n                                       used_tables & ~tab->table->map,\n                                       (join->select_options &\n                                        OPTION_FOUND_ROWS ?\n                                        HA_POS_ERROR :\n                                        join->unit->select_limit_cnt),\n                                       false,   // don't force quick range\n                                       interesting_order)",
          "new_text": null,
          "old_line_content": "                sel->test_quick_select(thd, usable_keys,",
          "new_line_content": "                we still need to recheck.",
          "content_same": false
        },
        {
          "line": 8327,
          "old_api": "add",
          "new_api": null,
          "old_text": "step_wrapper.add(\"resulting_condition\", conds)",
          "new_text": null,
          "old_line_content": "      step_wrapper.add(\"resulting_condition\", conds);",
          "new_line_content": "      Remove all and-levels where CONST item != CONST item",
          "content_same": false
        },
        {
          "line": 8839,
          "old_api": "eq",
          "new_api": null,
          "old_text": "*a->item)->eq(*b->item,1)",
          "new_text": null,
          "old_line_content": "    if (!(*a->item)->eq(*b->item,1))",
          "new_line_content": "get_sort_by_table(ORDER *a,ORDER *b,TABLE_LIST *tables)",
          "content_same": false
        },
        {
          "line": 8840,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8330,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(conds)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(conds);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8841,
          "old_api": "used_tables",
          "new_api": null,
          "old_text": "a->item[0]->used_tables()",
          "new_text": null,
          "old_line_content": "    map|=a->item[0]->used_tables();",
          "new_line_content": "  table_map map= (table_map) 0;",
          "content_same": false
        },
        {
          "line": 8844,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);",
          "new_line_content": "  if (!a)",
          "content_same": false
        },
        {
          "line": 9352,
          "old_api": "reset",
          "new_api": null,
          "old_text": "sjm->scan_cost.reset()",
          "new_text": null,
          "old_line_content": "  sjm->scan_cost.reset();",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 9356,
          "old_api": "reset",
          "new_api": null,
          "old_text": "sjm->lookup_cost.reset()",
          "new_text": null,
          "old_line_content": "  sjm->lookup_cost.reset();",
          "new_line_content": "    .add_io(mat_cost);",
          "content_same": false
        },
        {
          "line": 9357,
          "old_api": "add_io",
          "new_api": null,
          "old_text": "sjm->lookup_cost.add_io(row_cost)",
          "new_text": null,
          "old_line_content": "  sjm->lookup_cost.add_io(row_cost);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8848,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(0);\t\t\t\t// More than one table",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8849,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"exit\",(\"sort by table: %d\",tables->table->tablenr));",
          "new_line_content": "  for (; a && b; a=a->next,b=b->next)",
          "content_same": false
        },
        {
          "line": 8850,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(tables->table)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(tables->table);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 7829,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "                DBUG_RETURN(1);                 // Impossible WHERE",
          "new_line_content": "                                        OPTION_FOUND_ROWS ?",
          "content_same": false
        },
        {
          "line": 7831,
          "old_api": "test_quick_select",
          "new_api": null,
          "old_text": "sel->test_quick_select(thd, tab->keys,\n                                         used_tables & ~tab->table->map,\n                                         (join->select_options &\n                                          OPTION_FOUND_ROWS ?\n                                          HA_POS_ERROR :\n                                          join->unit->select_limit_cnt),\n                                         false,   //don't force quick range\n                                         ORDER::ORDER_NOT_RELEVANT)",
          "new_text": null,
          "old_line_content": "              if (sel->test_quick_select(thd, tab->keys,",
          "new_line_content": "                                        join->unit->select_limit_cnt),",
          "content_same": false
        },
        {
          "line": 9374,
          "old_api": "substype",
          "new_api": null,
          "old_text": "unit->item->substype()",
          "new_text": null,
          "old_line_content": "  switch (unit->item->substype())",
          "new_line_content": "   Decides between EXISTS and materialization; performs last steps to set up",
          "content_same": false
        },
        {
          "line": 7839,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(1);\t\t\t// Impossible WHERE",
          "new_line_content": "              sel->cond=orig_cond;",
          "content_same": false
        },
        {
          "line": 8867,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"create_cond_for_const_ref\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"create_cond_for_const_ref\");",
          "new_line_content": "  Create a condition for a const reference for a table.",
          "content_same": false
        },
        {
          "line": 8868,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(join_tab->ref.key_parts)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(join_tab->ref.key_parts);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8357,
          "old_api": "type",
          "new_api": null,
          "old_text": "cond->type()",
          "new_text": null,
          "old_line_content": "  if (cond->type() == Item::COND_ITEM)",
          "new_line_content": "    thd \t\t\tTHD environment",
          "content_same": false
        },
        {
          "line": 8359,
          "old_api": "functype",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->functype()",
          "new_text": null,
          "old_line_content": "    bool and_level= ((Item_cond*) cond)->functype()",
          "new_line_content": "                                is changed by this function",
          "content_same": false
        },
        {
          "line": 8361,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->argument_list()",
          "new_text": null,
          "old_line_content": "    List_iterator<Item> li(*((Item_cond*) cond)->argument_list());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8873,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(NULL)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(NULL);",
          "new_line_content": "  @retval !NULL if the condition was created successfully",
          "content_same": false
        },
        {
          "line": 7853,
          "old_api": "is_subset",
          "new_api": null,
          "old_text": "sel->quick_keys.is_subset(tab->checked_keys)",
          "new_text": null,
          "old_line_content": "\t  if (!sel->quick_keys.is_subset(tab->checked_keys) ||",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 9390,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(chosen_method != Item_exists_subselect::EXEC_MATERIALIZATION)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(chosen_method != Item_exists_subselect::EXEC_MATERIALIZATION);",
          "new_line_content": "  case Item_subselect::ANY_SUBS:",
          "content_same": false
        },
        {
          "line": 7854,
          "old_api": "is_subset",
          "new_api": null,
          "old_text": "sel->needed_reg.is_subset(tab->checked_keys)",
          "new_text": null,
          "old_line_content": "              !sel->needed_reg.is_subset(tab->checked_keys))",
          "new_line_content": "\t      sel->cond=orig_cond;",
          "content_same": false
        },
        {
          "line": 9393,
          "old_api": "compare_costs_of_subquery_strategies",
          "new_api": null,
          "old_text": "compare_costs_of_subquery_strategies(&chosen_method)",
          "new_text": null,
          "old_line_content": "      compare_costs_of_subquery_strategies(&chosen_method))",
          "new_line_content": "  default:",
          "content_same": false
        },
        {
          "line": 8882,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(NULL)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(NULL);",
          "new_line_content": "  TABLE *table= join_tab->table;",
          "content_same": false
        },
        {
          "line": 7857,
          "old_api": "merge",
          "new_api": null,
          "old_text": "tab->keys.merge(sel->needed_reg)",
          "new_text": null,
          "old_line_content": "            tab->keys.merge(sel->needed_reg);",
          "new_line_content": "\t    if (sel->quick)",
          "content_same": false
        },
        {
          "line": 7858,
          "old_api": "is_clear_all",
          "new_api": null,
          "old_text": "sel->needed_reg.is_clear_all()",
          "new_text": null,
          "old_line_content": "\t    tab->use_quick= (!sel->needed_reg.is_clear_all() &&",
          "new_line_content": "\t      tab->position->records_read= (double)sel->quick->records;",
          "content_same": false
        },
        {
          "line": 7859,
          "old_api": "is_clear_all",
          "new_api": null,
          "old_text": "sel->quick_keys.is_clear_all()",
          "new_text": null,
          "old_line_content": "\t\t\t     (sel->quick_keys.is_clear_all() ||",
          "new_line_content": "\t  }",
          "content_same": false
        },
        {
          "line": 8374,
          "old_api": "replace",
          "new_api": null,
          "old_text": "li.replace(new_item)",
          "new_text": null,
          "old_line_content": "\t(void) li.replace(new_item);",
          "new_line_content": "    Item::cond_result tmp_cond_value;",
          "content_same": false
        },
        {
          "line": 8887,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(NULL)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(NULL);",
          "new_line_content": "  for (uint i=0 ; i < join_tab->ref.key_parts ; i++)",
          "content_same": false
        },
        {
          "line": 8888,
          "old_api": "add",
          "new_api": null,
          "old_text": "cond->add(item)",
          "new_text": null,
          "old_line_content": "    if (cond->add(item))",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8889,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(NULL)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(NULL);",
          "new_line_content": "    Field *field= table->field[table->key_info[join_tab->ref.key].key_part[i].",
          "content_same": false
        },
        {
          "line": 9399,
          "old_api": "finalize_exists_transform",
          "new_api": null,
          "old_text": "in_pred->finalize_exists_transform(select_lex)",
          "new_text": null,
          "old_line_content": "    return in_pred->finalize_exists_transform(select_lex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8891,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "cond->fix_fields(thd, (Item**)&cond)",
          "new_text": null,
          "old_line_content": "  cond->fix_fields(thd, (Item**)&cond);",
          "new_line_content": "    Item *value= join_tab->ref.items[i];",
          "content_same": false
        },
        {
          "line": 9401,
          "old_api": "finalize_materialization_transform",
          "new_api": null,
          "old_text": "in_pred->finalize_materialization_transform(this)",
          "new_text": null,
          "old_line_content": "    return in_pred->finalize_materialization_transform(this);",
          "new_line_content": "  // Materialization does not allow UNION so this can't happen:",
          "content_same": false
        },
        {
          "line": 8893,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(cond)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(cond);",
          "new_line_content": "    if (!item)",
          "content_same": false
        },
        {
          "line": 9403,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(false)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7874,
          "old_api": "print_where",
          "new_api": null,
          "old_text": "print_where(tmp,\"cache\", QT_ORDINARY)",
          "new_text": null,
          "old_line_content": "              DBUG_EXECUTE(\"where\",print_where(tmp,\"cache\", QT_ORDINARY););",
          "new_line_content": "\t      QS_DYNAMIC_RANGE : QS_RANGE;",
          "content_same": false
        },
        {
          "line": 7876,
          "old_api": "memdup",
          "new_api": null,
          "old_text": "thd->memdup((uchar*) sel, sizeof(SQL_SELECT))",
          "new_text": null,
          "old_line_content": "\t\tthd->memdup((uchar*) sel, sizeof(SQL_SELECT));",
          "new_line_content": "\t  }",
          "content_same": false
        },
        {
          "line": 7884,
          "old_api": "pushdown_on_conditions",
          "new_api": null,
          "old_text": "pushdown_on_conditions(join, tab)",
          "new_text": null,
          "old_line_content": "      if (pushdown_on_conditions(join, tab))",
          "new_line_content": "\t\t\t\t\t current_map, 0)))",
          "content_same": false
        },
        {
          "line": 7885,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "        DBUG_RETURN(1);",
          "new_line_content": "\t    {",
          "content_same": false
        },
        {
          "line": 8910,
          "old_api": "create_cond_for_const_ref",
          "new_api": null,
          "old_text": "create_cond_for_const_ref(thd, join_tab)",
          "new_text": null,
          "old_line_content": "  Item_cond_and *cond= create_cond_for_const_ref(thd, join_tab);",
          "new_line_content": "  currenct select for the table.",
          "content_same": false
        },
        {
          "line": 7887,
          "old_api": "end",
          "new_api": null,
          "old_text": "trace_attached_comp.end()",
          "new_text": null,
          "old_line_content": "    trace_attached_comp.end();",
          "new_line_content": "\t      tab->cache_select=(SQL_SELECT*)",
          "content_same": false
        },
        {
          "line": 8912,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(TRUE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8403,
          "old_api": "update_used_tables",
          "new_api": null,
          "old_text": "cond->update_used_tables()",
          "new_text": null,
          "old_line_content": "      cond->update_used_tables();",
          "new_line_content": "      case Item::COND_TRUE:",
          "content_same": false
        },
        {
          "line": 8405,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->argument_list()",
          "new_text": null,
          "old_line_content": "    if (!((Item_cond*) cond)->argument_list()->elements ||",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8919,
          "old_api": "add",
          "new_api": null,
          "old_text": "cond->add(join_tab->select->cond)",
          "new_text": null,
          "old_line_content": "      error=(int) cond->add(join_tab->select->cond);",
          "new_line_content": "  int error= 0;",
          "content_same": false
        },
        {
          "line": 8408,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->argument_list()",
          "new_text": null,
          "old_line_content": "    if (((Item_cond*) cond)->argument_list()->elements == 1)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8920,
          "old_api": "update_used_tables",
          "new_api": null,
          "old_text": "cond->update_used_tables()",
          "new_text": null,
          "old_line_content": "      cond->update_used_tables();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9434,
          "old_api": "optimizer_switch_flag",
          "new_api": null,
          "old_text": "thd->optimizer_switch_flag(OPTIMIZER_SWITCH_MATERIALIZATION)",
          "new_text": null,
          "old_line_content": "  if (!thd->optimizer_switch_flag(OPTIMIZER_SWITCH_MATERIALIZATION))",
          "new_line_content": "   execution structures, like JOIN::get_best_combination() or",
          "content_same": false
        },
        {
          "line": 9437,
          "old_api": "outer_select",
          "new_api": null,
          "old_text": "unit->outer_select()",
          "new_text": null,
          "old_line_content": "  const JOIN *parent_join= unit->outer_select()->join;",
          "new_line_content": "   @param[out] method  chosen method (EXISTS or materialization) will be put",
          "content_same": false
        },
        {
          "line": 8926,
          "old_api": "set_condition",
          "new_api": null,
          "old_text": "join_tab->set_condition(cond, __LINE__)",
          "new_text": null,
          "old_line_content": "    join_tab->set_condition(cond, __LINE__);",
          "new_line_content": "  /* Add this condition to the existing select condtion */",
          "content_same": false
        },
        {
          "line": 7901,
          "old_api": "condition",
          "new_api": null,
          "old_text": "tab->condition()",
          "new_text": null,
          "old_line_content": "      Item * const cond= tab->condition();",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 7903,
          "old_api": "add_utf8_table",
          "new_api": null,
          "old_text": "trace_one_table.add_utf8_table(tab->table).\n        add(\"attached\", cond)",
          "new_text": null,
          "old_line_content": "      trace_one_table.add_utf8_table(tab->table).",
          "new_line_content": "      conditions to a table before #i. Thus, the processing below has to be in",
          "content_same": false
        },
        {
          "line": 8929,
          "old_api": "add",
          "new_api": null,
          "old_text": "Opt_trace_object(&thd->opt_trace).add(\"added_back_ref_condition\", cond)",
          "new_text": null,
          "old_line_content": "    Opt_trace_object(&thd->opt_trace).add(\"added_back_ref_condition\", cond);",
          "new_line_content": "    if (join_tab->select->cond)",
          "content_same": false
        },
        {
          "line": 9442,
          "old_api": "static_cast<Item_in_subselect *>(unit->item)",
          "new_api": null,
          "old_text": "static_cast<Item_in_subselect *>(unit->item)",
          "new_text": null,
          "old_line_content": "    static_cast<Item_in_subselect *>(unit->item);",
          "new_line_content": "               Item_exists_subselect::enum_exec_method *method)",
          "content_same": false
        },
        {
          "line": 7906,
          "old_api": "has_subquery",
          "new_api": null,
          "old_text": "cond->has_subquery()",
          "new_text": null,
          "old_line_content": "          cond->has_subquery() /* traverse only if needed */ )",
          "new_line_content": "    Opt_trace_array trace_attached_summary(trace,",
          "content_same": false
        },
        {
          "line": 9448,
          "old_api": "outer_select",
          "new_api": null,
          "old_text": "subquery_allows_materialization(in_pred, thd, select_lex,\n                                       select_lex->outer_select())",
          "new_text": null,
          "old_line_content": "  if (!subquery_allows_materialization(in_pred, thd, select_lex,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8940,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(TRUE);",
          "new_line_content": "  if (join_tab->select)",
          "content_same": false
        },
        {
          "line": 7917,
          "old_api": "walk",
          "new_api": null,
          "old_text": "cond->walk(&Item::inform_item_in_cond_of_tab, false,\n                   reinterpret_cast<uchar * const>(&idx))",
          "new_text": null,
          "old_line_content": "        cond->walk(&Item::inform_item_in_cond_of_tab, false,",
          "new_line_content": "      if (cond &&",
          "content_same": false
        },
        {
          "line": 8430,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->argument_list()->head()",
          "new_text": null,
          "old_line_content": "      item= ((Item_cond*) cond)->argument_list()->head();",
          "new_line_content": "           SELECT_LEX::where and SELECT_LEX::having do.",
          "content_same": false
        },
        {
          "line": 8942,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(TRUE);",
          "new_line_content": "  /*",
          "content_same": false
        },
        {
          "line": 8946,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(error ? TRUE : FALSE)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(error ? TRUE : FALSE);",
          "new_line_content": "    later (in test_if_skip_sort_order()) instead of the condition.",
          "content_same": false
        },
        {
          "line": 7923,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(0);",
          "new_line_content": "                             WHERE t2.col IN (SELECT * FROM t3)",
          "content_same": false
        },
        {
          "line": 8440,
          "old_api": "type",
          "new_api": null,
          "old_text": "cond->type()",
          "new_text": null,
          "old_line_content": "  else if (cond->type() == Item::FUNC_ITEM &&",
          "new_line_content": "        item is therefore returned, but argument_list is not emptied.",
          "content_same": false
        },
        {
          "line": 8441,
          "old_api": "functype",
          "new_api": null,
          "old_text": "(Item_func*) cond)->functype()",
          "new_text": null,
          "old_line_content": "\t   ((Item_func*) cond)->functype() == Item_func::ISNULL_FUNC)",
          "new_line_content": "      */",
          "content_same": false
        },
        {
          "line": 8444,
          "old_api": "arguments",
          "new_api": null,
          "old_text": "func->arguments()",
          "new_text": null,
          "old_line_content": "    Item **args= func->arguments();",
          "new_line_content": "        Consider reenabling the line below when the optimizer has been",
          "content_same": false
        },
        {
          "line": 8445,
          "old_api": "type",
          "new_api": null,
          "old_text": "args[0]->type()",
          "new_text": null,
          "old_line_content": "    if (args[0]->type() == Item::FIELD_ITEM)",
          "new_line_content": "        split into properly separated phases.",
          "content_same": false
        },
        {
          "line": 9475,
          "old_api": "optimize_semijoin_nests_for_materialization",
          "new_api": null,
          "old_text": "optimize_semijoin_nests_for_materialization(this)",
          "new_text": null,
          "old_line_content": "    if (optimize_semijoin_nests_for_materialization(this))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8964,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "conds->item_name.ptr()",
          "new_text": null,
          "old_line_content": "  if (conds->item_name.ptr() == in_additional_cond)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8966,
          "old_api": "type",
          "new_api": null,
          "old_text": "conds->type()",
          "new_text": null,
          "old_line_content": "  if (conds->type() == Item::COND_ITEM)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9478,
          "old_api": "choose_table_order",
          "new_api": null,
          "old_text": "Optimize_table_order(thd, this, NULL).choose_table_order()",
          "new_text": null,
          "old_line_content": "    if (Optimize_table_order(thd, this, NULL).choose_table_order())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8969,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "cnd->argument_list()",
          "new_text": null,
          "old_line_content": "    List_iterator<Item> li(*(cnd->argument_list()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8461,
          "old_api": "type",
          "new_api": null,
          "old_text": "field->type()",
          "new_text": null,
          "old_line_content": "      if (((field->type() == MYSQL_TYPE_DATE) ||",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 8462,
          "old_api": "type",
          "new_api": null,
          "old_text": "field->type()",
          "new_text": null,
          "old_line_content": "           (field->type() == MYSQL_TYPE_DATETIME)) &&",
          "new_line_content": "        See BUG#12594011",
          "content_same": false
        },
        {
          "line": 8973,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "item->item_name.ptr()",
          "new_text": null,
          "old_line_content": "      if (item->item_name.ptr() == in_additional_cond)",
          "new_line_content": "static Item *remove_additional_cond(Item* conds)",
          "content_same": false
        },
        {
          "line": 8975,
          "old_api": "remove",
          "new_api": null,
          "old_text": "li.remove()",
          "new_text": null,
          "old_line_content": "\tli.remove();",
          "new_line_content": "  // Because it uses in_additional_cond it applies only to the scalar case.",
          "content_same": false
        },
        {
          "line": 8977,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "cnd->argument_list()->head()",
          "new_text": null,
          "old_line_content": "\t  return cnd->argument_list()->head();",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 9488,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_subqmat.add(\"surely_same_plan_as_EXISTS\", true).\n      add_alnum(\"cause\", \"EXISTS_did_not_change_WHERE\")",
          "new_text": null,
          "old_line_content": "    trace_subqmat.add(\"surely_same_plan_as_EXISTS\", true).",
          "new_line_content": "      return true;",
          "content_same": false
        },
        {
          "line": 9493,
          "old_api": "calculate_materialization_costs",
          "new_api": null,
          "old_text": "calculate_materialization_costs(this, NULL, primary_tables, &sjm)",
          "new_text": null,
          "old_line_content": "  calculate_materialization_costs(this, NULL, primary_tables, &sjm);",
          "new_line_content": "  else",
          "content_same": false
        },
        {
          "line": 8470,
          "old_api": "is_outer_field",
          "new_api": null,
          "old_text": "args[0]->is_outer_field()",
          "new_text": null,
          "old_line_content": "        if (args[0]->is_outer_field())",
          "new_line_content": "        \"date_notnull == 0\"                         (otherwise)",
          "content_same": false
        },
        {
          "line": 9506,
          "old_api": "add_select_number",
          "new_api": null,
          "old_text": "trace_parent.add_select_number(parent_join->select_lex->select_number)",
          "new_text": null,
          "old_line_content": "    trace_parent.add_select_number(parent_join->select_lex->select_number);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8484,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "cond->fix_fields(thd, &cond)",
          "new_text": null,
          "old_line_content": "        cond->fix_fields(thd, &cond);",
          "new_line_content": "          // outer join: transform \"col IS NULL\" to \"col IS NULL or col=0\"",
          "content_same": false
        },
        {
          "line": 9509,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "parent_join->plan_is_const()",
          "new_text": null,
          "old_line_content": "        parent_join->plan_is_const() ||",
          "new_line_content": "    compute it.",
          "content_same": false
        },
        {
          "line": 7972,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "*ref_item)->const_item()",
          "new_text": null,
          "old_line_content": "    if (! (*ref_item)->const_item())",
          "new_line_content": "  /* We can skip const tables only if not an outer table */",
          "content_same": false
        },
        {
          "line": 8487,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "cond->const_item()",
          "new_text": null,
          "old_line_content": "    if (cond->const_item())",
          "new_line_content": "            return cond;",
          "content_same": false
        },
        {
          "line": 8489,
          "old_api": "eval_const_cond",
          "new_api": null,
          "old_text": "eval_const_cond(cond)",
          "new_text": null,
          "old_line_content": "      *cond_value= eval_const_cond(cond) ? Item::COND_TRUE : Item::COND_FALSE;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 9514,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_parent.add(\"subq_attached_to_const_table\", true)",
          "new_text": null,
          "old_line_content": "      trace_parent.add(\"subq_attached_to_const_table\", true);",
          "new_line_content": "  double subq_executions= 1.0;",
          "content_same": false
        },
        {
          "line": 7977,
          "old_api": "eq",
          "new_api": null,
          "old_text": "*ref_item)->eq(order->item[0],0)",
          "new_text": null,
          "old_line_content": "\tif ((*ref_item)->eq(order->item[0],0))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8493,
          "old_api": "is_expensive",
          "new_api": null,
          "old_text": "cond->is_expensive()",
          "new_text": null,
          "old_line_content": "  else if (cond->const_item() && !cond->is_expensive())",
          "new_line_content": "          cond= eq_cond;",
          "content_same": false
        },
        {
          "line": 8495,
          "old_api": "eval_const_cond",
          "new_api": null,
          "old_text": "eval_const_cond(cond)",
          "new_text": null,
          "old_line_content": "    *cond_value= eval_const_cond(cond) ? Item::COND_TRUE : Item::COND_FALSE;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8498,
          "old_api": "eq_cmp_result",
          "new_api": null,
          "old_text": "cond->eq_cmp_result()",
          "new_text": null,
          "old_line_content": "  else if ((*cond_value= cond->eq_cmp_result()) != Item::COND_OK)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8500,
          "old_api": "arguments",
          "new_api": null,
          "old_text": "(Item_func*) cond)->arguments()",
          "new_text": null,
          "old_line_content": "    Item *left_item=\t((Item_func*) cond)->arguments()[0];",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8502,
          "old_api": "eq",
          "new_api": null,
          "old_text": "left_item->eq(right_item,1)",
          "new_text": null,
          "old_line_content": "    if (left_item->eq(right_item,1))",
          "new_line_content": "      return (Item*) 0;",
          "content_same": false
        },
        {
          "line": 9021,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "join_tab->table->covering_keys.is_set(join_tab->ref.key)",
          "new_text": null,
          "old_line_content": "  if (join_tab->table->covering_keys.is_set(join_tab->ref.key))",
          "new_line_content": "    packed_info is almost useless today, it would be good to get rid of it",
          "content_same": false
        },
        {
          "line": 9535,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT((int)idx >= 0 && idx < parent_join->tables)",
          "new_text": null,
          "old_line_content": "        DBUG_ASSERT((int)idx >= 0 && idx < parent_join->tables);",
          "new_line_content": "          loop will read pos->records_read records of 'pos', so subquery will",
          "content_same": false
        },
        {
          "line": 9536,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_parent.add(\"subq_attached_to_table\", true)",
          "new_text": null,
          "old_line_content": "        trace_parent.add(\"subq_attached_to_table\", true);",
          "new_line_content": "          be evaluated pos[-1].prefix_record_count * pos->records_read times.",
          "content_same": false
        },
        {
          "line": 9537,
          "old_api": "add_utf8_table",
          "new_api": null,
          "old_text": "trace_parent.add_utf8_table(parent_join->join_tab[idx].table)",
          "new_text": null,
          "old_line_content": "        trace_parent.add_utf8_table(parent_join->join_tab[idx].table);",
          "new_line_content": "          Exceptions:",
          "content_same": false
        },
        {
          "line": 9540,
          "old_api": "sj_is_materialize_strategy",
          "new_api": null,
          "old_text": "sj_is_materialize_strategy(parent_join\n                                        ->join_tab[idx].position->sj_strategy)",
          "new_text": null,
          "old_line_content": "            !sj_is_materialize_strategy(parent_join",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9040,
          "old_api": "has_guarded_conds",
          "new_api": null,
          "old_text": "join_tab->has_guarded_conds()",
          "new_text": null,
          "old_line_content": "  if (join_tab->has_guarded_conds())",
          "new_line_content": "    condition which will be checked for each row is",
          "content_same": false
        },
        {
          "line": 8537,
          "old_api": "type",
          "new_api": null,
          "old_text": "cond->type()",
          "new_text": null,
          "old_line_content": "  if (cond->type() == Item::FUNC_ITEM &&",
          "new_line_content": "    cond_value                  the resulting value of the condition",
          "content_same": false
        },
        {
          "line": 8538,
          "old_api": "functype",
          "new_api": null,
          "old_text": "(Item_func*) cond)->functype()",
          "new_text": null,
          "old_line_content": "      ((Item_func*) cond)->functype() == Item_func::ISNULL_FUNC)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9051,
          "old_api": "size",
          "new_api": null,
          "old_text": "keyuse_array->size()",
          "new_text": null,
          "old_line_content": "  for (size_t ix= 0; ix < keyuse_array->size(); ++ix)",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 9564,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_parent.add(\"subq_attached_to_join_result\", true)",
          "new_text": null,
          "old_line_content": "        trace_parent.add(\"subq_attached_to_join_result\", true);",
          "new_line_content": "          or once per row-after-grouping:",
          "content_same": false
        },
        {
          "line": 9053,
          "old_api": "at",
          "new_api": null,
          "old_text": "keyuse_array->at(ix)",
          "new_text": null,
          "old_line_content": "    Key_use *keyuse= &keyuse_array->at(ix);",
          "new_line_content": "    join_tab->packed_info|= TAB_INFO_FULL_SCAN_ON_NULL;",
          "content_same": false
        },
        {
          "line": 8025,
          "old_api": "eq_ref_table",
          "new_api": null,
          "old_text": "eq_ref_table(join, order, *tab,\n                                cached_eq_ref_tables, eq_ref_tables)",
          "new_text": null,
          "old_line_content": "        is_eq_ref= eq_ref_table(join, order, *tab,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 9569,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_parent.add(\"fanout\", parent_fanout)",
          "new_text": null,
          "old_line_content": "    trace_parent.add(\"fanout\", parent_fanout);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9570,
          "old_api": "is_cacheable",
          "new_api": null,
          "old_text": "parent_join->select_lex->is_cacheable()",
          "new_text": null,
          "old_line_content": "    const bool cacheable= parent_join->select_lex->is_cacheable();",
          "new_line_content": "          Another approximation:",
          "content_same": false
        },
        {
          "line": 9571,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_parent.add(\"cacheable\", cacheable)",
          "new_text": null,
          "old_line_content": "    trace_parent.add(\"cacheable\", cacheable);",
          "new_line_content": "          SELECT ... HAVING x IN (subq) LIMIT 1",
          "content_same": false
        },
        {
          "line": 8551,
          "old_api": "arguments",
          "new_api": null,
          "old_text": "func->arguments()",
          "new_text": null,
          "old_line_content": "    Item **args= func->arguments();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8552,
          "old_api": "type",
          "new_api": null,
          "old_text": "args[0]->type()",
          "new_text": null,
          "old_line_content": "    if (args[0]->type() == Item::FIELD_ITEM)",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 8561,
          "old_api": "query_cache_abort",
          "new_api": null,
          "old_text": "query_cache_abort(&thd->query_cache_tls)",
          "new_text": null,
          "old_line_content": "\tquery_cache_abort(&thd->query_cache_tls);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9073,
          "old_api": "max<ha_rows>(tmp_table->file->stats.records, 100)",
          "new_api": null,
          "old_text": "max<ha_rows>(tmp_table->file->stats.records, 100)",
          "new_text": null,
          "old_line_content": "\tkeyuse->ref_table_rows= max<ha_rows>(tmp_table->file->stats.records, 100);",
          "new_line_content": "      To avoid bad matches, we don't make ref_table_rows less than 100.",
          "content_same": false
        },
        {
          "line": 9587,
          "old_api": "outer_select",
          "new_api": null,
          "old_text": "parent_join->unit->outer_select()",
          "new_text": null,
          "old_line_content": "    parent_join= parent_join->unit->outer_select()->join;",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 8565,
          "old_api": "NAME_STRING",
          "new_api": null,
          "old_text": "NAME_STRING(\"last_insert_id()\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tnew Item_int(NAME_STRING(\"last_insert_id()\"),",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8566,
          "old_api": "read_first_successful_insert_id_in_prev_stmt",
          "new_api": null,
          "old_text": "thd->read_first_successful_insert_id_in_prev_stmt()",
          "new_text": null,
          "old_line_content": "                                                     thd->read_first_successful_insert_id_in_prev_stmt(),",
          "new_line_content": "      Field *field=((Item_field*) args[0])->field;",
          "content_same": false
        },
        {
          "line": 8575,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "cond->fix_fields(thd, &cond)",
          "new_text": null,
          "old_line_content": "\t  cond->fix_fields(thd, &cond);",
          "new_line_content": "\tItem *new_cond;",
          "content_same": false
        },
        {
          "line": 9601,
          "old_api": "end",
          "new_api": null,
          "old_text": "trace_parents.end()",
          "new_text": null,
          "old_line_content": "  trace_parents.end();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8066,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "order->item[0]->real_item()",
          "new_text": null,
          "old_line_content": "      const Item *it1= order->item[0]->real_item();",
          "new_line_content": "                            const ORDER *possible_dup)",
          "content_same": false
        },
        {
          "line": 8067,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "possible_dup->item[0]->real_item()",
          "new_text": null,
          "old_line_content": "      const Item *it2= possible_dup->item[0]->real_item();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 9604,
          "old_api": "total_cost",
          "new_api": null,
          "old_text": "sjm.materialization_cost.total_cost()",
          "new_text": null,
          "old_line_content": "  const double cost_mat_table= sjm.materialization_cost.total_cost();",
          "new_line_content": "        @todo  we should find how many rows it plans to UPDATE/DELETE, taking",
          "content_same": false
        },
        {
          "line": 8069,
          "old_api": "type",
          "new_api": null,
          "old_text": "it1->type()",
          "new_text": null,
          "old_line_content": "      if (it1->type() == Item::FIELD_ITEM &&",
          "new_line_content": "  for (order=first_order; order ; order=order->next)",
          "content_same": false
        },
        {
          "line": 9606,
          "old_api": "total_cost",
          "new_api": null,
          "old_text": "sjm.lookup_cost.total_cost()",
          "new_text": null,
          "old_line_content": "    sjm.lookup_cost.total_cost();",
          "new_line_content": "        This is not a priority as it applies only to",
          "content_same": false
        },
        {
          "line": 9095,
          "old_api": "ha_table_flags",
          "new_api": null,
          "old_text": "tab->table->file->ha_table_flags()",
          "new_text": null,
          "old_line_content": "  if ((tab->table->file->ha_table_flags() & HA_CAN_FULLTEXT_EXT) == 0)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9608,
          "old_api": "optimizer_switch_flag",
          "new_api": null,
          "old_text": "thd->optimizer_switch_flag(OPTIMIZER_SWITCH_SUBQ_MAT_COST_BASED)",
          "new_text": null,
          "old_line_content": "    thd->optimizer_switch_flag(OPTIMIZER_SWITCH_SUBQ_MAT_COST_BASED) ?",
          "new_line_content": "        And it will autosolve the day UPDATE gets a JOIN.",
          "content_same": false
        },
        {
          "line": 8070,
          "old_api": "type",
          "new_api": null,
          "old_text": "it2->type()",
          "new_text": null,
          "old_line_content": "          it2->type() == Item::FIELD_ITEM &&",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 9098,
          "old_api": "static_cast<Item_func_match*>(tab->keyuse->val)",
          "new_api": null,
          "old_text": "static_cast<Item_func_match*>(tab->keyuse->val)",
          "new_text": null,
          "old_line_content": "  Item_func_match* fts_result= static_cast<Item_func_match*>(tab->keyuse->val);",
          "new_line_content": "void JOIN::optimize_fts_query()",
          "content_same": false
        },
        {
          "line": 9610,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_subq_mat_decision\n    .add(\"cost_to_create_and_fill_materialized_table\",\n         cost_mat_table)\n    .add(\"cost_of_one_EXISTS\", saved_best_read)\n    .add(\"number_of_subquery_evaluations\", subq_executions)\n    .add(\"cost_of_materialization\", cost_mat)\n    .add(\"cost_of_EXISTS\", cost_exists)\n    .add(\"chosen\", mat_chosen)",
          "new_text": null,
          "old_line_content": "  trace_subq_mat_decision",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 8588,
          "old_api": "internal_remove_eq_conds",
          "new_api": null,
          "old_text": "internal_remove_eq_conds(thd, cond, cond_value)",
          "new_text": null,
          "old_line_content": "  return internal_remove_eq_conds(thd, cond, cond_value); // Scan all the condition",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8071,
          "old_api": "static_cast<const Item_field*>(it1)",
          "new_api": null,
          "old_text": "static_cast<const Item_field*>(it1)",
          "new_text": null,
          "old_line_content": "          (static_cast<const Item_field*>(it1)->field ==",
          "new_line_content": "    if (order == possible_dup)",
          "content_same": false
        },
        {
          "line": 8072,
          "old_api": "static_cast<const Item_field*>(it2)",
          "new_api": null,
          "old_text": "static_cast<const Item_field*>(it2)",
          "new_text": null,
          "old_line_content": "           static_cast<const Item_field*>(it2)->field))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 9106,
          "old_api": "eq",
          "new_api": null,
          "old_text": "fts_result->eq(*(order->item), true)",
          "new_text": null,
          "old_line_content": "      fts_result->eq(*(order->item), true))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9109,
          "old_api": "static_cast<Item_func_match*>(*(order->item))",
          "new_api": null,
          "old_text": "static_cast<Item_func_match*>(*(order->item))",
          "new_text": null,
          "old_line_content": "      static_cast<Item_func_match*>(*(order->item)); ",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9116,
          "old_api": "get_count",
          "new_api": null,
          "old_text": "fts_item->get_count()",
          "new_text": null,
          "old_line_content": "        min_ft_matches > fts_item->get_count())",
          "new_line_content": "      && order->next == NULL &&             ",
          "content_same": false
        },
        {
          "line": 9641,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "plan_is_const()",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(!plan_is_const() || best_rowcount <= 1);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 8105,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "join->plan_is_const()",
          "new_text": null,
          "old_line_content": "  if (join->plan_is_const())",
          "new_line_content": "                                calculated.",
          "content_same": false
        },
        {
          "line": 9131,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT((select_options & SELECT_DESCRIBE) == 0)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT((select_options & SELECT_DESCRIBE) == 0);",
          "new_line_content": "      tab->type= JT_ALL;",
          "content_same": false
        },
        {
          "line": 9132,
          "old_api": "inc_status_select_scan",
          "new_api": null,
          "old_text": "thd->inc_status_select_scan()",
          "new_text": null,
          "old_line_content": "      thd->inc_status_select_scan();",
          "new_line_content": "      tab->read_first_record= join_init_read_record;",
          "content_same": false
        },
        {
          "line": 9643,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "plan_is_const()",
          "new_text": null,
          "old_line_content": "  if (plan_is_const())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9136,
          "old_api": "ordered_result",
          "new_api": null,
          "old_text": "fts_item->ordered_result()",
          "new_text": null,
          "old_line_content": "    else if (fts_item->ordered_result())",
          "new_line_content": "      // Reset join condition",
          "content_same": false
        },
        {
          "line": 8112,
          "old_api": "is_started",
          "new_api": null,
          "old_text": "trace->is_started()",
          "new_text": null,
          "old_line_content": "  if (trace->is_started())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8114,
          "old_api": "add_alnum",
          "new_api": null,
          "old_text": "trace_simpl.add_alnum(\"clause\", clause_type)",
          "new_text": null,
          "old_line_content": "    trace_simpl.add_alnum(\"clause\", clause_type);",
          "new_line_content": "remove_const(JOIN *join,ORDER *first_order, Item *cond,",
          "content_same": false
        },
        {
          "line": 8116,
          "old_api": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "new_api": null,
          "old_text": "st_select_lex::print_order(&str, first_order,\n                               enum_query_type(QT_TO_SYSTEM_CHARSET |\n                                               QT_SHOW_SELECT_NUMBER |\n                                               QT_NO_DEFAULT_DB))",
          "new_text": null,
          "old_line_content": "    st_select_lex::print_order(&str, first_order,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8120,
          "old_api": "length",
          "new_api": null,
          "old_text": "str.length()",
          "new_text": null,
          "old_line_content": "    trace_simpl.add_utf8(\"original_clause\", str.ptr(), str.length());",
          "new_line_content": "  Opt_trace_context * const trace= &join->thd->opt_trace;",
          "content_same": false
        },
        {
          "line": 8634,
          "old_api": "is_inner_table_of_outer_join",
          "new_api": null,
          "old_text": "tab->is_inner_table_of_outer_join()",
          "new_text": null,
          "old_line_content": "  if (tab->is_inner_table_of_outer_join())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9660,
          "old_api": "set_if_smaller",
          "new_api": null,
          "old_text": "set_if_smaller(best_rowcount, unit->select_limit_cnt)",
          "new_text": null,
          "old_line_content": "  set_if_smaller(best_rowcount, unit->select_limit_cnt);",
          "new_line_content": "    The row count is bumped to the nearest higher value, so that the",
          "content_same": false
        },
        {
          "line": 9150,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "    switch (item->type()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 9153,
          "old_api": "static_cast<Item_field*>(item)",
          "new_api": null,
          "old_text": "static_cast<Item_field*>(item)",
          "new_text": null,
          "old_line_content": "      Item_field *item_field= static_cast<Item_field*>(item);",
          "new_line_content": "     and rank is needed, there is no need to access table rows.",
          "content_same": false
        },
        {
          "line": 9154,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(item_field->field_name, FTS_DOC_ID_COL_NAME)",
          "new_text": null,
          "old_line_content": "      if (strcmp(item_field->field_name, FTS_DOC_ID_COL_NAME) == 0)",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 8130,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"remove_const\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"remove_const\");",
          "new_line_content": "                                               QT_SHOW_SELECT_NUMBER |",
          "content_same": false
        },
        {
          "line": 9157,
          "old_api": "docid_in_result",
          "new_api": null,
          "old_text": "fts_result->docid_in_result()",
          "new_text": null,
          "old_line_content": "        covering= fts_result->docid_in_result();",
          "new_line_content": "  // This optimization does not work with filesort nor GROUP BY",
          "content_same": false
        },
        {
          "line": 8649,
          "old_api": "real_maybe_null",
          "new_api": null,
          "old_text": "key_part->field->real_maybe_null()",
          "new_text": null,
          "old_line_content": "        if (key_part->field->real_maybe_null() || ",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 8650,
          "old_api": "find_func",
          "new_api": null,
          "old_text": "find_func(key_part->field, data)",
          "new_text": null,
          "old_line_content": "            !find_func(key_part->field, data))",
          "new_line_content": "    if (keynr == table->s->primary_key ||",
          "content_same": false
        },
        {
          "line": 8137,
          "old_api": "update_depend_map",
          "new_api": null,
          "old_text": "update_depend_map(join, first_order)",
          "new_text": null,
          "old_line_content": "  update_depend_map(join, first_order);",
          "new_line_content": "  table_map first_table= join->join_tab[join->const_tables].table->map;",
          "content_same": false
        },
        {
          "line": 9164,
          "old_api": "functype",
          "new_api": null,
          "old_text": "static_cast<Item_func*>(item)->functype()",
          "new_text": null,
          "old_line_content": "      if (static_cast<Item_func*>(item)->functype() == Item_func::FT_FUNC)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 8141,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_one_item.add(\"item\", order->item[0])",
          "new_text": null,
          "old_line_content": "    trace_one_item.add(\"item\", order->item[0]);",
          "new_line_content": "  table_map eq_ref_tables= 0, cached_eq_ref_tables= 0;",
          "content_same": false
        },
        {
          "line": 9167,
          "old_api": "eq",
          "new_api": null,
          "old_text": "fts_item->eq(fts_result, true)",
          "new_text": null,
          "old_line_content": "        if (fts_item->eq(fts_result, true))",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 9180,
          "old_api": "replace_item_field",
          "new_api": null,
          "old_text": "replace_item_field(FTS_DOC_ID_COL_NAME, \n                         new Item_func_docid(reinterpret_cast<FT_INFO_EXT*>\n                                             (fts_result->ft_handler)))",
          "new_text": null,
          "old_line_content": "      replace_item_field(FTS_DOC_ID_COL_NAME, ",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 9181,
          "old_api": "reinterpret_cast<FT_INFO_EXT*>\n                                             (fts_result->ft_handler)",
          "new_api": null,
          "old_text": "reinterpret_cast<FT_INFO_EXT*>\n                                             (fts_result->ft_handler)",
          "new_text": null,
          "old_line_content": "                         new Item_func_docid(reinterpret_cast<FT_INFO_EXT*>",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 8160,
          "old_api": "has_subquery",
          "new_api": null,
          "old_text": "order->item[0]->has_subquery()",
          "new_text": null,
          "old_line_content": "      if (order->item[0]->has_subquery() && ",
          "new_line_content": "          will be used unless we prevent that now. Filesort is not fit to",
          "content_same": false
        },
        {
          "line": 9186,
          "old_api": "set_keyread",
          "new_api": null,
          "old_text": "fts_result->table->set_keyread(true)",
          "new_text": null,
          "old_line_content": "    fts_result->table->set_keyread(true);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 9187,
          "old_api": "set_bit",
          "new_api": null,
          "old_text": "fts_result->table->covering_keys.set_bit(fts_result->key)",
          "new_text": null,
          "old_line_content": "    fts_result->table->covering_keys.set_bit(fts_result->key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8164,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "order->item[0]->val_str(&order->item[0]->str_value)",
          "new_text": null,
          "old_line_content": "        order->item[0]->val_str(&order->item[0]->str_value);",
          "new_line_content": "          outer join.",
          "content_same": false
        },
        {
          "line": 8166,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_one_item.add(\"uses_only_constant_tables\", true)",
          "new_text": null,
          "old_line_content": "      trace_one_item.add(\"uses_only_constant_tables\", true);",
          "new_line_content": "        (join->primary_tables > 1 &&",
          "content_same": false
        },
        {
          "line": 8169,
          "old_api": "duplicate_order",
          "new_api": null,
          "old_text": "duplicate_order(first_order, order)",
          "new_text": null,
          "old_line_content": "    else if (duplicate_order(first_order, order))",
          "new_line_content": "      *simple_order=0;\t\t\t\t// Must do a temp table to sort",
          "content_same": false
        },
        {
          "line": 8682,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "*tmp_group->item)->real_item()",
          "new_text": null,
          "old_line_content": "    Item *item= (*tmp_group->item)->real_item();",
          "new_line_content": "    1                    found",
          "content_same": false
        },
        {
          "line": 8683,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "    if (item->type() == Item::FIELD_ITEM &&",
          "new_line_content": "  @retval",
          "content_same": false
        },
        {
          "line": 8684,
          "old_api": "eq",
          "new_api": null,
          "old_text": "(Item_field*) item)->field->eq(field)",
          "new_text": null,
          "old_line_content": "        ((Item_field*) item)->field->eq(field))",
          "new_line_content": "    0                    not found.",
          "content_same": false
        },
        {
          "line": 8179,
          "old_api": "has_subquery",
          "new_api": null,
          "old_text": "order->item[0]->has_subquery()",
          "new_text": null,
          "old_line_content": "    else if (order->in_field_list && order->item[0]->has_subquery())",
          "new_line_content": "      continue;\t\t\t\t\t// skip const item",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 30,
      "total_additions": 219,
      "total_deletions": 218,
      "total_api_changes": 467
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 467,
        "non_api_lines": 11,
        "non_api_line_numbers": [
          7776,
          7777,
          7778,
          7779,
          7780,
          7781,
          7770,
          7771,
          7772,
          7773,
          7774
        ]
      }
    },
    "api_calls_before": 1421,
    "api_calls_after": 1422,
    "diff_info": {
      "added_lines": 13,
      "removed_lines": 1,
      "total_diff_lines": 33
    }
  }
}