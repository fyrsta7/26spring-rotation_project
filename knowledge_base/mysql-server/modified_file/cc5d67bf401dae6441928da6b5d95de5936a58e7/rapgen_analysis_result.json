{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cc5d67bf401dae6441928da6b5d95de5936a58e7",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cc5d67bf401dae6441928da6b5d95de5936a58e7/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cc5d67bf401dae6441928da6b5d95de5936a58e7/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cc5d67bf401dae6441928da6b5d95de5936a58e7/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 8345,
          "old_api": "UT_LIST_GET_LEN",
          "new_api": "sql_print_error",
          "old_text": "UT_LIST_GET_LEN(ib_table->indexes)",
          "new_text": "sql_print_error(\"Table %s contains %lu \"\n\t\t\t\t\t\"indexes inside InnoDB, which \"\n\t\t\t\t\t\"is different from the number of \"\n\t\t\t\t\t\"indexes %u defined in the MySQL \",\n\t\t\t\t\tib_table->name, num_innodb_index,\n\t\t\t\t\ttable->s->keys)",
          "old_line_content": "\t\tulint\tnum_innodb_index = UT_LIST_GET_LEN(ib_table->indexes)",
          "new_line_content": "\t\t\tsql_print_error(\"Table %s contains %lu \"",
          "content_same": false
        },
        {
          "line": 8438,
          "old_api": "innobase_get_mysql_key_number_for_index",
          "new_api": "innobase_peek_autoinc",
          "old_text": "innobase_get_mysql_key_number_for_index(\n\t\t\t\t\tshare, table, ib_table, err_index)",
          "new_text": "innobase_peek_autoinc()",
          "old_line_content": "\t\t\terrkey = innobase_get_mysql_key_number_for_index(",
          "new_line_content": "\t\tstats.auto_increment_value = innobase_peek_autoinc();",
          "content_same": false
        },
        {
          "line": 8482,
          "old_api": "THDVAR",
          "new_api": "info_low",
          "old_text": "THDVAR(thd, analyze_is_persistent)",
          "new_text": "info_low(HA_STATUS_TIME | HA_STATUS_CONST | HA_STATUS_VARIABLE,\n\t\t       upd_option)",
          "old_line_content": "\tif (THDVAR(thd, analyze_is_persistent)) {",
          "new_line_content": "\tret = info_low(HA_STATUS_TIME | HA_STATUS_CONST | HA_STATUS_VARIABLE,",
          "content_same": false
        },
        {
          "line": 8534,
          "old_api": "ut_a",
          "new_api": "build_template",
          "old_text": "ut_a(prebuilt->trx)",
          "new_text": "build_template(true)",
          "old_line_content": "\tut_a(prebuilt->trx);",
          "new_line_content": "\t\tbuild_template(true);",
          "content_same": false
        },
        {
          "line": 8573,
          "old_api": "server_mutex_enter",
          "new_api": "fputs",
          "old_text": "server_mutex_enter()",
          "new_text": "fputs(\"Validating index \", stderr)",
          "old_line_content": "\tserver_mutex_enter();",
          "new_line_content": "\t\tfputs(\"Validating index \", stderr);",
          "content_same": false
        },
        {
          "line": 8575,
          "old_api": "server_mutex_exit",
          "new_api": "putc",
          "old_text": "server_mutex_exit()",
          "new_text": "putc('\\n', stderr)",
          "old_line_content": "\tserver_mutex_exit();",
          "new_line_content": "\t\tputc('\\n', stderr);",
          "content_same": false
        },
        {
          "line": 8623,
          "old_api": "push_warning_printf",
          "new_api": "thd_killed",
          "old_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_NOT_KEYFILE,\n\t\t\t\t\t    \"InnoDB: The B-tree of\"\n\t\t\t\t\t    \" index '%-.200s' is corrupted.\",\n\t\t\t\t\t    index->name)",
          "new_text": "thd_killed(user_thd)",
          "old_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "\t\tif (thd_killed(user_thd)) {",
          "content_same": false
        },
        {
          "line": 8661,
          "old_api": "btr_search_validate",
          "new_api": "server_mutex_enter",
          "old_text": "btr_search_validate()",
          "new_text": "server_mutex_enter()",
          "old_line_content": "\tif (!btr_search_validate()) {",
          "new_line_content": "\tserver_mutex_enter();",
          "content_same": false
        },
        {
          "line": 8711,
          "old_api": "trx_search_latch_release_if_reserved",
          "new_api": "fprintf",
          "old_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "new_text": "fprintf(srv_dict_tmpfile, \"InnoDB free: %llu kB\",\n\t\tfsp_get_available_space_in_free_extents(\n\t\t\tprebuilt->table->space))",
          "old_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "new_line_content": "\tfprintf(srv_dict_tmpfile, \"InnoDB free: %llu kB\",",
          "content_same": false
        },
        {
          "line": 8717,
          "old_api": "rewind",
          "new_api": "ftell",
          "old_text": "rewind(srv_dict_tmpfile)",
          "new_text": "ftell(srv_dict_tmpfile)",
          "old_line_content": "\trewind(srv_dict_tmpfile);",
          "new_line_content": "\tflen = ftell(srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8775,
          "old_api": "ha_thd",
          "new_api": "trx_search_latch_release_if_reserved",
          "old_text": "ha_thd()",
          "new_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "old_line_content": "\tupdate_thd(ha_thd());",
          "new_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8785,
          "old_api": "mutex_enter",
          "new_api": "ftell",
          "old_text": "mutex_enter(&srv_dict_tmpfile_mutex)",
          "new_text": "ftell(srv_dict_tmpfile)",
          "old_line_content": "\tmutex_enter(&srv_dict_tmpfile_mutex);",
          "new_line_content": "\tflen = ftell(srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8793,
          "old_api": "ftell",
          "new_api": "MYF",
          "old_text": "ftell(srv_dict_tmpfile)",
          "new_text": "MYF(0)",
          "old_line_content": "\tflen = ftell(srv_dict_tmpfile);",
          "new_line_content": "\tstr = (char*) my_malloc(flen + 1, MYF(0));",
          "content_same": false
        },
        {
          "line": 8801,
          "old_api": "MYF",
          "new_api": "mutex_exit",
          "old_text": "MYF(0)",
          "new_text": "mutex_exit(&srv_dict_tmpfile_mutex)",
          "old_line_content": "\tstr = (char*) my_malloc(flen + 1, MYF(0));",
          "new_line_content": "\tmutex_exit(&srv_dict_tmpfile_mutex);",
          "content_same": false
        },
        {
          "line": 8835,
          "old_api": "dict_remove_db_name",
          "new_api": "ut_a",
          "old_text": "dict_remove_db_name(foreign->id)",
          "new_text": "ut_a(len < sizeof(tmp_buff))",
          "old_line_content": "\tptr = dict_remove_db_name(foreign->id);",
          "new_line_content": "\tut_a(len < sizeof(tmp_buff));",
          "content_same": false
        },
        {
          "line": 8836,
          "old_api": "thd_make_lex_string",
          "new_api": "ut_memcpy",
          "old_text": "thd_make_lex_string(thd, 0, ptr,\n\t\t\t\t\t\t    (uint) strlen(ptr), 1)",
          "new_text": "ut_memcpy(tmp_buff, foreign->referenced_table_name, len)",
          "old_line_content": "\tf_key_info.foreign_id = thd_make_lex_string(thd, 0, ptr,",
          "new_line_content": "\tut_memcpy(tmp_buff, foreign->referenced_table_name, len);",
          "content_same": false
        },
        {
          "line": 8843,
          "old_api": "ut_a",
          "new_api": "dict_remove_db_name",
          "old_text": "ut_a(len < sizeof(tmp_buff))",
          "new_text": "dict_remove_db_name(foreign->referenced_table_name)",
          "old_line_content": "\tut_a(len < sizeof(tmp_buff));",
          "new_line_content": "\tptr = dict_remove_db_name(foreign->referenced_table_name);",
          "content_same": false
        },
        {
          "line": 8844,
          "old_api": "ut_memcpy",
          "new_api": "filename_to_tablename",
          "old_text": "ut_memcpy(tmp_buff, foreign->referenced_table_name, len)",
          "new_text": "filename_to_tablename(ptr, name_buff, sizeof(name_buff))",
          "old_line_content": "\tut_memcpy(tmp_buff, foreign->referenced_table_name, len);",
          "new_line_content": "\tlen = filename_to_tablename(ptr, name_buff, sizeof(name_buff));",
          "content_same": false
        },
        {
          "line": 8848,
          "old_api": "thd_make_lex_string",
          "new_api": "dict_get_db_name_len",
          "old_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "new_text": "dict_get_db_name_len(foreign->foreign_table_name)",
          "old_line_content": "\tf_key_info.referenced_db = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "new_line_content": "\tlen = dict_get_db_name_len(foreign->foreign_table_name);",
          "content_same": false
        },
        {
          "line": 8853,
          "old_api": "thd_make_lex_string",
          "new_api": "filename_to_tablename",
          "old_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "new_text": "filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff))",
          "old_line_content": "\tf_key_info.referenced_table = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "new_line_content": "\tlen = filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff));",
          "content_same": false
        },
        {
          "line": 8857,
          "old_api": "ut_a",
          "new_api": "dict_remove_db_name",
          "old_text": "ut_a(len < sizeof(tmp_buff))",
          "new_text": "dict_remove_db_name(foreign->foreign_table_name)",
          "old_line_content": "\tut_a(len < sizeof(tmp_buff));",
          "new_line_content": "\tptr = dict_remove_db_name(foreign->foreign_table_name);",
          "content_same": false
        },
        {
          "line": 8858,
          "old_api": "ut_memcpy",
          "new_api": "filename_to_tablename",
          "old_text": "ut_memcpy(tmp_buff, foreign->foreign_table_name, len)",
          "new_text": "filename_to_tablename(ptr, name_buff, sizeof(name_buff))",
          "old_line_content": "\tut_memcpy(tmp_buff, foreign->foreign_table_name, len);",
          "new_line_content": "\tlen = filename_to_tablename(ptr, name_buff, sizeof(name_buff));",
          "content_same": false
        },
        {
          "line": 8865,
          "old_api": "dict_remove_db_name",
          "new_api": "push_back",
          "old_text": "dict_remove_db_name(foreign->foreign_table_name)",
          "new_text": "f_key_info.foreign_fields.push_back(name)",
          "old_line_content": "\tptr = dict_remove_db_name(foreign->foreign_table_name);",
          "new_line_content": "\t\tf_key_info.foreign_fields.push_back(name);",
          "content_same": false
        },
        {
          "line": 8912,
          "old_api": "thd_make_lex_string",
          "new_api": "strlen",
          "old_text": "thd_make_lex_string(thd,\n\t\t\t\t\t\t       f_key_info.update_method,\n\t\t\t\t\t\t       ptr, len, 1)",
          "new_text": "strlen(foreign->referenced_index->name)",
          "old_line_content": "\tf_key_info.update_method = thd_make_lex_string(thd,",
          "new_line_content": "\t\t\t\t\t (uint) strlen(foreign->referenced_index->name),",
          "content_same": false
        },
        {
          "line": 8920,
          "old_api": "strlen",
          "new_api": "thd_memdup",
          "old_text": "strlen(foreign->referenced_index->name)",
          "new_text": "thd_memdup(thd, &f_key_info,\n\t\t\t\t\t\t      sizeof(FOREIGN_KEY_INFO))",
          "old_line_content": "\t\t\t\t\t (uint) strlen(foreign->referenced_index->name),",
          "new_line_content": "\tpf_key_info = (FOREIGN_KEY_INFO *) thd_memdup(thd, &f_key_info,",
          "content_same": false
        },
        {
          "line": 8948,
          "old_api": "ha_thd",
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": "ha_thd()",
          "new_text": "UT_LIST_GET_FIRST(prebuilt->table->foreign_list)",
          "old_line_content": "\tupdate_thd(ha_thd());",
          "new_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->foreign_list);",
          "content_same": false
        },
        {
          "line": 8986,
          "old_api": "ha_thd",
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": "ha_thd()",
          "new_text": "UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "old_line_content": "\tupdate_thd(ha_thd());",
          "new_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->referenced_list);",
          "content_same": false
        },
        {
          "line": 9022,
          "old_api": "DBUG_ENTER",
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": "DBUG_ENTER(\"ha_innobase::can_switch_engines\")",
          "new_text": "UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "old_line_content": "\tDBUG_ENTER(\"ha_innobase::can_switch_engines\");",
          "new_line_content": "\tcan_switch = !UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "content_same": false
        },
        {
          "line": 9028,
          "old_api": "row_mysql_lock_data_dictionary",
          "new_api": "DBUG_RETURN",
          "old_text": "row_mysql_lock_data_dictionary(prebuilt->trx)",
          "new_text": "DBUG_RETURN(can_switch)",
          "old_line_content": "\trow_mysql_lock_data_dictionary(prebuilt->trx);",
          "new_line_content": "\tDBUG_RETURN(can_switch);",
          "content_same": false
        },
        {
          "line": 9282,
          "old_api": "thd_binlog_format",
          "new_api": "MYF",
          "old_text": "thd_binlog_format(thd)",
          "new_text": "MYF(0)",
          "old_line_content": "\t    && thd_binlog_format(thd) == BINLOG_FORMAT_STMT",
          "new_line_content": "\t\t\tmy_error(ER_BINLOG_STMT_MODE_AND_ROW_ENGINE, MYF(0),",
          "content_same": false
        },
        {
          "line": 9352,
          "old_api": "THDVAR",
          "new_api": "convert_error_code_to_mysql",
          "old_text": "THDVAR(thd, table_locks)",
          "new_text": "convert_error_code_to_mysql(\n\t\t\t\t\t\t(int) error, 0, thd)",
          "old_line_content": "\t\t\t    && THDVAR(thd, table_locks)",
          "new_line_content": "\t\t\t\t\terror = convert_error_code_to_mysql(",
          "content_same": false
        },
        {
          "line": 9354,
          "old_api": "thd_in_lock_tables",
          "new_api": "DBUG_RETURN",
          "old_text": "thd_in_lock_tables(thd)",
          "new_text": "DBUG_RETURN((int) error)",
          "old_line_content": "\t\t\t    && thd_in_lock_tables(thd)) {",
          "new_line_content": "\t\t\t\t\tDBUG_RETURN((int) error);",
          "content_same": false
        },
        {
          "line": 9428,
          "old_api": "DBUG_PRINT",
          "new_api": "thd_tablespace_op",
          "old_text": "DBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type))",
          "new_text": "thd_tablespace_op(thd)",
          "old_line_content": "\tDBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type));",
          "new_line_content": "\tif (prebuilt->table->ibd_file_missing && !thd_tablespace_op(thd)) {",
          "content_same": false
        },
        {
          "line": 9449,
          "old_api": "DBUG_RETURN",
          "new_api": "reset_template",
          "old_text": "DBUG_RETURN(HA_ERR_CRASHED)",
          "new_text": "reset_template()",
          "old_line_content": "\t\tDBUG_RETURN(HA_ERR_CRASHED);",
          "new_line_content": "\treset_template();",
          "content_same": false
        },
        {
          "line": 9476,
          "old_api": "innobase_register_trx",
          "new_api": "convert_error_code_to_mysql",
          "old_text": "innobase_register_trx(ht, thd, trx)",
          "new_text": "convert_error_code_to_mysql(\n\t\t\t\t(int) error, prebuilt->table->flags, thd)",
          "old_line_content": "\tinnobase_register_trx(ht, thd, trx);",
          "new_line_content": "\t\t\terror = convert_error_code_to_mysql(",
          "content_same": false
        },
        {
          "line": 9478,
          "old_api": "thd_in_lock_tables",
          "new_api": "DBUG_RETURN",
          "old_text": "thd_in_lock_tables(thd)",
          "new_text": "DBUG_RETURN((int) error)",
          "old_line_content": "\tif (THDVAR(thd, table_locks) && thd_in_lock_tables(thd)) {",
          "new_line_content": "\t\t\tDBUG_RETURN((int) error);",
          "content_same": false
        },
        {
          "line": 9481,
          "old_api": "row_lock_table_for_mysql",
          "new_api": "thd_test_options",
          "old_text": "row_lock_table_for_mysql(prebuilt, NULL, 0)",
          "new_text": "thd_test_options(\n\t\t\tthd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "old_line_content": "\t\terror = row_lock_table_for_mysql(prebuilt, NULL, 0);",
          "new_line_content": "\t\tif (thd_test_options(",
          "content_same": false
        },
        {
          "line": 9538,
          "old_api": "innobase_release_stat_resources",
          "new_api": "mutex_enter",
          "old_text": "innobase_release_stat_resources(trx)",
          "new_text": "mutex_enter(&srv_monitor_file_mutex)",
          "old_line_content": "\tinnobase_release_stat_resources(trx);",
          "new_line_content": "\tmutex_enter(&srv_monitor_file_mutex);",
          "content_same": false
        },
        {
          "line": 9546,
          "old_api": "mutex_enter",
          "new_api": "ftell",
          "old_text": "mutex_enter(&srv_monitor_file_mutex)",
          "new_text": "ftell(srv_monitor_file)",
          "old_line_content": "\tmutex_enter(&srv_monitor_file_mutex);",
          "new_line_content": "\tif ((flen = ftell(srv_monitor_file)) < 0) {",
          "content_same": false
        },
        {
          "line": 9569,
          "old_api": "mutex_exit",
          "new_api": "fread",
          "old_text": "mutex_exit(&srv_monitor_file_mutex)",
          "new_text": "fread(str, 1, flen, srv_monitor_file)",
          "old_line_content": "\t\tmutex_exit(&srv_monitor_file_mutex);",
          "new_line_content": "\t\tflen = fread(str, 1, flen, srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 9586,
          "old_api": "memcpy",
          "new_api": "fread",
          "old_text": "memcpy(str + len, truncated_msg, sizeof truncated_msg - 1)",
          "new_text": "fread(str, 1, MAX_STATUS_SIZE - 1, srv_monitor_file)",
          "old_line_content": "\t\tmemcpy(str + len, truncated_msg, sizeof truncated_msg - 1);",
          "new_line_content": "\t\tflen = fread(str, 1, MAX_STATUS_SIZE - 1, srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 9589,
          "old_api": "fseek",
          "new_api": "mutex_exit",
          "old_text": "fseek(srv_monitor_file, flen - usable_len, SEEK_SET)",
          "new_text": "mutex_exit(&srv_monitor_file_mutex)",
          "old_line_content": "\t\tfseek(srv_monitor_file, flen - usable_len, SEEK_SET);",
          "new_line_content": "\tmutex_exit(&srv_monitor_file_mutex);",
          "content_same": false
        },
        {
          "line": 9594,
          "old_api": "fread",
          "new_api": "my_free",
          "old_text": "fread(str, 1, MAX_STATUS_SIZE - 1, srv_monitor_file)",
          "new_text": "my_free(str)",
          "old_line_content": "\t\tflen = fread(str, 1, MAX_STATUS_SIZE - 1, srv_monitor_file);",
          "new_line_content": "\tmy_free(str);",
          "content_same": false
        },
        {
          "line": 9640,
          "old_api": "strlen",
          "new_api": "UT_LIST_GET_NEXT",
          "old_text": "strlen(innobase_hton_name)",
          "new_text": "UT_LIST_GET_NEXT(list, mutex)",
          "old_line_content": "\thton_name_len = (uint) strlen(innobase_hton_name);",
          "new_line_content": "\t     mutex = UT_LIST_GET_NEXT(list, mutex)) {",
          "content_same": false
        },
        {
          "line": 9645,
          "old_api": "mutex_enter",
          "new_api": "buf_pool_is_block_mutex",
          "old_text": "mutex_enter(&mutex_list_mutex)",
          "new_text": "buf_pool_is_block_mutex(mutex)",
          "old_line_content": "\tmutex_enter(&mutex_list_mutex);",
          "new_line_content": "\t\tif (buf_pool_is_block_mutex(mutex)) {",
          "content_same": false
        },
        {
          "line": 9653,
          "old_api": "buf_pool_is_block_mutex",
          "new_api": "my_snprintf",
          "old_text": "buf_pool_is_block_mutex(mutex)",
          "new_text": "my_snprintf(buf1, sizeof(buf1),\n\t\t\t\t\t\"%s:%s\",\n\t\t\t\t\tmutex->cmutex_name, mutex->cfile_name)",
          "old_line_content": "\t\tif (buf_pool_is_block_mutex(mutex)) {",
          "new_line_content": "\t\t\t\tbuf1len= my_snprintf(buf1, sizeof(buf1),",
          "content_same": false
        },
        {
          "line": 9692,
          "old_api": "my_snprintf",
          "new_api": "mutex_exit",
          "old_text": "my_snprintf(buf1, sizeof(buf1), \"%s:%lu\",\n\t\t\t\t     mutex->cfile_name, (ulong) mutex->cline)",
          "new_text": "mutex_exit(&mutex_list_mutex)",
          "old_line_content": "\t\tbuf1len= (uint) my_snprintf(buf1, sizeof(buf1), \"%s:%lu\",",
          "new_line_content": "\t\t\tmutex_exit(&mutex_list_mutex);",
          "content_same": false
        },
        {
          "line": 9707,
          "old_api": "my_snprintf",
          "new_api": "stat_print",
          "old_text": "my_snprintf(buf1, sizeof buf1,\n\t\t\t\t\t     \"combined %s:%lu\",\n\t\t\t\t\t     block_mutex->cfile_name,\n\t\t\t\t\t     (ulong) block_mutex->cline)",
          "new_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "old_line_content": "\t\tbuf1len = (uint) my_snprintf(buf1, sizeof buf1,",
          "new_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "content_same": false
        },
        {
          "line": 9711,
          "old_api": "my_snprintf",
          "new_api": "DBUG_RETURN",
          "old_text": "my_snprintf(buf2, sizeof buf2,\n\t\t\t\t\t     \"os_waits=%lu\",\n\t\t\t\t\t     (ulong) block_mutex_oswait_count)",
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\tbuf2len = (uint) my_snprintf(buf2, sizeof buf2,",
          "new_line_content": "\t\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 9715,
          "old_api": "stat_print",
          "new_api": "mutex_exit",
          "old_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "new_text": "mutex_exit(&mutex_list_mutex)",
          "old_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "new_line_content": "\tmutex_exit(&mutex_list_mutex);",
          "content_same": false
        },
        {
          "line": 9719,
          "old_api": "DBUG_RETURN",
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": "DBUG_RETURN(1)",
          "new_text": "UT_LIST_GET_FIRST(rw_lock_list)",
          "old_line_content": "\t\t\tDBUG_RETURN(1);",
          "new_line_content": "\tfor (lock = UT_LIST_GET_FIRST(rw_lock_list); lock != NULL;",
          "content_same": false
        },
        {
          "line": 9725,
          "old_api": "mutex_enter",
          "new_api": "buf_pool_is_block_lock",
          "old_text": "mutex_enter(&rw_lock_list_mutex)",
          "new_text": "buf_pool_is_block_lock(lock)",
          "old_line_content": "\tmutex_enter(&rw_lock_list_mutex);",
          "new_line_content": "\t\tif (buf_pool_is_block_lock(lock)) {",
          "content_same": false
        },
        {
          "line": 9733,
          "old_api": "buf_pool_is_block_lock",
          "new_api": "my_snprintf",
          "old_text": "buf_pool_is_block_lock(lock)",
          "new_text": "my_snprintf(buf2, sizeof buf2, \"os_waits=%lu\",\n\t\t\t\t      (ulong) lock->count_os_wait)",
          "old_line_content": "\t\tif (buf_pool_is_block_lock(lock)) {",
          "new_line_content": "\t\tbuf2len = my_snprintf(buf2, sizeof buf2, \"os_waits=%lu\",",
          "content_same": false
        },
        {
          "line": 9739,
          "old_api": "my_snprintf",
          "new_api": "mutex_exit",
          "old_text": "my_snprintf(buf1, sizeof buf1, \"%s:%lu\",\n\t\t\t\t     lock->cfile_name, (ulong) lock->cline)",
          "new_text": "mutex_exit(&rw_lock_list_mutex)",
          "old_line_content": "\t\tbuf1len = my_snprintf(buf1, sizeof buf1, \"%s:%lu\",",
          "new_line_content": "\t\t\tmutex_exit(&rw_lock_list_mutex);",
          "content_same": false
        },
        {
          "line": 9753,
          "old_api": "my_snprintf",
          "new_api": "stat_print",
          "old_text": "my_snprintf(buf1, sizeof buf1,\n\t\t\t\t\t     \"combined %s:%lu\",\n\t\t\t\t\t     block_lock->cfile_name,\n\t\t\t\t\t     (ulong) block_lock->cline)",
          "new_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "old_line_content": "\t\tbuf1len = (uint) my_snprintf(buf1, sizeof buf1,",
          "new_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "content_same": false
        },
        {
          "line": 9757,
          "old_api": "my_snprintf",
          "new_api": "DBUG_RETURN",
          "old_text": "my_snprintf(buf2, sizeof buf2,\n\t\t\t\t\t     \"os_waits=%lu\",\n\t\t\t\t\t     (ulong) block_lock_oswait_count)",
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\tbuf2len = (uint) my_snprintf(buf2, sizeof buf2,",
          "new_line_content": "\t\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 9761,
          "old_api": "stat_print",
          "new_api": "mutex_exit",
          "old_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "new_text": "mutex_exit(&rw_lock_list_mutex)",
          "old_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "new_line_content": "\tmutex_exit(&rw_lock_list_mutex);",
          "content_same": false
        },
        {
          "line": 9764,
          "old_api": "mutex_exit",
          "new_api": "my_snprintf",
          "old_text": "mutex_exit(&rw_lock_list_mutex)",
          "new_text": "my_snprintf(buf2, sizeof buf2,\n\t\t\t     \"count=%lu, spin_waits=%lu, spin_rounds=%lu, \"\n\t\t\t     \"os_waits=%lu, os_yields=%lu, os_wait_times=%lu\",\n\t\t\t      (ulong) rw_lock_count,\n\t\t\t      (ulong) rw_lock_count_spin_loop,\n\t\t\t      (ulong) rw_lock_count_spin_rounds,\n\t\t\t      (ulong) rw_lock_count_os_wait,\n\t\t\t      (ulong) rw_lock_count_os_yield,\n\t\t\t      (ulong) (rw_lock_wait_time / 1000))",
          "old_line_content": "\t\t\tmutex_exit(&rw_lock_list_mutex);",
          "new_line_content": "\tbuf2len = my_snprintf(buf2, sizeof buf2,",
          "content_same": false
        },
        {
          "line": 9772,
          "old_api": "my_snprintf",
          "new_api": "ulong) (rw_lock_wait_time / 1000)",
          "old_text": "my_snprintf(buf2, sizeof buf2,\n\t\t\t     \"count=%lu, spin_waits=%lu, spin_rounds=%lu, \"\n\t\t\t     \"os_waits=%lu, os_yields=%lu, os_wait_times=%lu\",\n\t\t\t      (ulong) rw_lock_count,\n\t\t\t      (ulong) rw_lock_count_spin_loop,\n\t\t\t      (ulong) rw_lock_count_spin_rounds,\n\t\t\t      (ulong) rw_lock_count_os_wait,\n\t\t\t      (ulong) rw_lock_count_os_yield,\n\t\t\t      (ulong) (rw_lock_wait_time / 1000))",
          "new_text": "ulong) (rw_lock_wait_time / 1000)",
          "old_line_content": "\tbuf2len = my_snprintf(buf2, sizeof buf2,",
          "new_line_content": "\t\t\t      (ulong) (rw_lock_wait_time / 1000));",
          "content_same": false
        },
        {
          "line": 9847,
          "old_api": "strlen",
          "new_api": "memcpy",
          "old_text": "strlen(table_name)",
          "new_text": "memcpy(share + 1,\n\t\t\t\t\t\t   table_name, length + 1)",
          "old_line_content": "\t\tuint length = (uint) strlen(table_name);",
          "new_line_content": "\t\tshare->table_name = (char*) memcpy(share + 1,",
          "content_same": false
        },
        {
          "line": 9853,
          "old_api": "MYF",
          "new_api": "thr_lock_init",
          "old_text": "MYF(MY_FAE | MY_ZEROFILL)",
          "new_text": "thr_lock_init(&share->lock)",
          "old_line_content": "\t\t\tMYF(MY_FAE | MY_ZEROFILL));",
          "new_line_content": "\t\tthr_lock_init(&share->lock);",
          "content_same": false
        },
        {
          "line": 9894,
          "old_api": "ut_a",
          "new_api": "thr_lock_delete",
          "old_text": "ut_a(share2 == share)",
          "new_text": "thr_lock_delete(&share->lock)",
          "old_line_content": "\tut_a(share2 == share);",
          "new_line_content": "\t\tthr_lock_delete(&share->lock);",
          "content_same": false
        },
        {
          "line": 9905,
          "old_api": "my_free",
          "new_api": "mysql_mutex_unlock",
          "old_text": "my_free(share->idx_trans_tbl.index_mapping)",
          "new_text": "mysql_mutex_unlock(&innobase_share_mutex)",
          "old_line_content": "\t\tmy_free(share->idx_trans_tbl.index_mapping);",
          "new_line_content": "\tmysql_mutex_unlock(&innobase_share_mutex);",
          "content_same": false
        },
        {
          "line": 9957,
          "old_api": "thd_tx_isolation",
          "new_api": "read_view_close_for_mysql",
          "old_text": "thd_tx_isolation(thd)",
          "new_text": "read_view_close_for_mysql(trx)",
          "old_line_content": "\t\t\t(enum_tx_isolation) thd_tx_isolation(thd));",
          "new_line_content": "\t\t\tread_view_close_for_mysql(trx);",
          "content_same": false
        },
        {
          "line": 10169,
          "old_api": "dict_table_autoinc_read",
          "new_api": "dict_table_autoinc_unlock",
          "old_text": "dict_table_autoinc_read(innodb_table)",
          "new_text": "dict_table_autoinc_unlock(innodb_table)",
          "old_line_content": "\tauto_inc = dict_table_autoinc_read(innodb_table);",
          "new_line_content": "\tdict_table_autoinc_unlock(innodb_table);",
          "content_same": false
        },
        {
          "line": 10325,
          "old_api": "DBUG_RETURN",
          "new_api": "innobase_reset_autoinc",
          "old_text": "DBUG_RETURN(error)",
          "new_text": "innobase_reset_autoinc(value)",
          "old_line_content": "\t\tDBUG_RETURN(error);",
          "new_line_content": "\tinnobase_reset_autoinc(value);",
          "content_same": false
        },
        {
          "line": 10403,
          "old_api": "innobase_read_from_2_little_endian",
          "new_api": "key_cmp",
          "old_text": "innobase_read_from_2_little_endian(ref1)",
          "new_text": "field->key_cmp(ref1, ref2)",
          "old_line_content": "\t\t\tlen1 = innobase_read_from_2_little_endian(ref1);",
          "new_line_content": "\t\t\tresult = field->key_cmp(ref1, ref2);",
          "content_same": false
        },
        {
          "line": 10573,
          "old_api": "thd_get_xid",
          "new_api": "trx_is_started",
          "old_text": "thd_get_xid(thd, (MYSQL_XID*) &trx->xid)",
          "new_text": "trx_is_started(trx)",
          "old_line_content": "\tthd_get_xid(thd, (MYSQL_XID*) &trx->xid);",
          "new_line_content": "\tif (!trx_is_registered_for_2pc(trx) && trx_is_started(trx)) {",
          "content_same": false
        },
        {
          "line": 10611,
          "old_api": "trx_mark_sql_stat_end",
          "new_api": "thd_sql_command",
          "old_text": "trx_mark_sql_stat_end(trx)",
          "new_text": "thd_sql_command(thd)",
          "old_line_content": "\t\ttrx_mark_sql_stat_end(trx);",
          "new_line_content": "\tif (thd_sql_command(thd) != SQLCOM_XA_PREPARE",
          "content_same": false
        },
        {
          "line": 10859,
          "old_api": "row_mysql_lock_data_dictionary",
          "new_api": "column_is_being_renamed",
          "old_text": "row_mysql_lock_data_dictionary(prebuilt->trx)",
          "new_text": "column_is_being_renamed(table, foreign->n_fields,\n\t\t\t\t\t    foreign->referenced_col_names)",
          "old_line_content": "\trow_mysql_lock_data_dictionary(prebuilt->trx);",
          "new_line_content": "\t\tif (column_is_being_renamed(table, foreign->n_fields,",
          "content_same": false
        },
        {
          "line": 10881,
          "old_api": "column_is_being_renamed",
          "new_api": "row_mysql_unlock_data_dictionary",
          "old_text": "column_is_being_renamed(table, foreign->n_fields,\n\t\t\t\t\t    foreign->foreign_col_names)",
          "new_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "old_line_content": "\t\tif (column_is_being_renamed(table, foreign->n_fields,",
          "new_line_content": "\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 10926,
          "old_api": "foreign_key_column_is_being_renamed",
          "new_api": "get_row_type",
          "old_text": "foreign_key_column_is_being_renamed(prebuilt, table)",
          "new_text": "get_row_type()",
          "old_line_content": "\tif (foreign_key_column_is_being_renamed(prebuilt, table)) {",
          "new_line_content": "\t    && info->row_type != get_row_type()) {",
          "content_same": false
        },
        {
          "line": 11032,
          "old_api": "ut_a",
          "new_api": "innobase_file_format_name_lookup",
          "old_text": "ut_a(save != NULL)",
          "new_text": "innobase_file_format_name_lookup(\n\t\t\tfile_format_input)",
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "\t\tformat_id = innobase_file_format_name_lookup(",
          "content_same": false
        },
        {
          "line": 11040,
          "old_api": "innobase_file_format_name_lookup",
          "new_api": "trx_sys_file_format_id_to_name",
          "old_text": "innobase_file_format_name_lookup(\n\t\t\tfile_format_input)",
          "new_text": "trx_sys_file_format_id_to_name(format_id)",
          "old_line_content": "\t\tformat_id = innobase_file_format_name_lookup(",
          "new_line_content": "\t\t\t    trx_sys_file_format_id_to_name(format_id);",
          "content_same": false
        },
        {
          "line": 11075,
          "old_api": "ut_a",
          "new_api": "innobase_file_format_name_lookup",
          "old_text": "ut_a(var_ptr != NULL)",
          "new_text": "innobase_file_format_name_lookup(format_name)",
          "old_line_content": "\tut_a(var_ptr != NULL);",
          "new_line_content": "\t\tformat_id = innobase_file_format_name_lookup(format_name);",
          "content_same": false
        },
        {
          "line": 11083,
          "old_api": "innobase_file_format_name_lookup",
          "new_api": "trx_sys_file_format_id_to_name",
          "old_text": "innobase_file_format_name_lookup(format_name)",
          "new_text": "trx_sys_file_format_id_to_name(srv_file_format)",
          "old_line_content": "\t\tformat_id = innobase_file_format_name_lookup(format_name);",
          "new_line_content": "\t\t= trx_sys_file_format_id_to_name(srv_file_format);",
          "content_same": false
        },
        {
          "line": 11288,
          "old_api": "ut_a",
          "new_api": "innodb_find_change_buffering_value",
          "old_text": "ut_a(save != NULL)",
          "new_text": "innodb_find_change_buffering_value(\n\t\t\tchange_buffering_input)",
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "\t\tuse = innodb_find_change_buffering_value(",
          "content_same": false
        },
        {
          "line": 11331,
          "old_api": "ut_a",
          "new_api": "static_cast<const char**>(var_ptr)",
          "old_text": "ut_a(save != NULL)",
          "new_text": "static_cast<const char**>(var_ptr)",
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "\t*static_cast<const char**>(var_ptr) =",
          "content_same": false
        },
        {
          "line": 11366,
          "old_api": "MONITOR_SET_START",
          "new_api": "srv_mon_process_existing_counter",
          "old_text": "MONITOR_SET_START(monitor_id)",
          "new_text": "srv_mon_process_existing_counter(\n\t\t\t\tmonitor_id, MONITOR_TURN_ON)",
          "old_line_content": "\t\tMONITOR_SET_START(monitor_id);",
          "new_line_content": "\t\t\tsrv_mon_process_existing_counter(",
          "content_same": false
        },
        {
          "line": 11386,
          "old_api": "MONITOR_SET_OFF",
          "new_api": "srv_mon_reset_all",
          "old_text": "MONITOR_SET_OFF(monitor_id)",
          "new_text": "srv_mon_reset_all(monitor_id)",
          "old_line_content": "\t\tMONITOR_SET_OFF(monitor_id);",
          "new_line_content": "\t\tsrv_mon_reset_all(monitor_id);",
          "content_same": false
        },
        {
          "line": 11414,
          "old_api": "ut_a",
          "new_api": "srv_mon_get_name",
          "old_text": "ut_a(name)",
          "new_text": "srv_mon_get_name(monitor_id)",
          "old_line_content": "\tut_a(name);",
          "new_line_content": "\t\t\tsrv_mon_get_name(monitor_id), name)) {",
          "content_same": false
        },
        {
          "line": 11533,
          "old_api": "innodb_monitor_id_by_name_get",
          "new_api": "srv_mon_get_info",
          "old_text": "innodb_monitor_id_by_name_get(name)",
          "new_text": "srv_mon_get_info((monitor_id_t)use)",
          "old_line_content": "\tuse = innodb_monitor_id_by_name_get(name);",
          "new_line_content": "\t\tmonitor_info = srv_mon_get_info((monitor_id_t)use);",
          "content_same": false
        },
        {
          "line": 11666,
          "old_api": "static_cast<monitor_id_t>(monitor_id)",
          "new_api": "MONITOR_IS_ON",
          "old_text": "static_cast<monitor_id_t>(monitor_id)",
          "new_text": "MONITOR_IS_ON(monitor_id)",
          "old_line_content": "\t\t\tstatic_cast<monitor_id_t>(monitor_id));",
          "new_line_content": "\t\t    && MONITOR_IS_ON(monitor_id)) {",
          "content_same": false
        },
        {
          "line": 11691,
          "old_api": "innodb_monitor_set_option",
          "new_api": "sql_print_warning",
          "old_text": "innodb_monitor_set_option(monitor_info, set_option)",
          "new_text": "sql_print_warning(\"Monitor %s is already enabled.\",\n\t\t\t\t  srv_mon_get_name((monitor_id_t)err_monitor))",
          "old_line_content": "\t\t\tinnodb_monitor_set_option(monitor_info, set_option);",
          "new_line_content": "\t\tsql_print_warning(\"Monitor %s is already enabled.\",",
          "content_same": false
        },
        {
          "line": 11796,
          "old_api": "ut_a",
          "new_api": "strtok_r",
          "old_text": "ut_a(str)",
          "new_text": "strtok_r(NULL, sep, &last)",
          "old_line_content": "\tut_a(str);",
          "new_line_content": "\t     option = strtok_r(NULL, sep, &last)) {",
          "content_same": false
        },
        {
          "line": 11804,
          "old_api": "strtok_r",
          "new_api": "innodb_monitor_update",
          "old_text": "strtok_r(NULL, sep, &last)",
          "new_text": "innodb_monitor_update(NULL, NULL, &option,\n\t\t\t\t\t      MONITOR_TURN_ON)",
          "old_line_content": "\t     option = strtok_r(NULL, sep, &last)) {",
          "new_line_content": "\t\t\tinnodb_monitor_update(NULL, NULL, &option,",
          "content_same": false
        },
        {
          "line": 12475,
          "old_api": "strlen",
          "new_api": "memcmp",
          "old_text": "strlen(test_input[i].expected)",
          "new_text": "memcmp(test_input[i].buf,\n\t\t\t   test_input[i].expected,\n\t\t\t   strlen(test_input[i].expected))",
          "old_line_content": "\t\tif (res_len != strlen(test_input[i].expected)) {",
          "new_line_content": "\t\tif (memcmp(test_input[i].buf,",
          "content_same": false
        },
        {
          "line": 12477,
          "old_api": "fprintf",
          "new_api": "strlen",
          "old_text": "fprintf(stderr, \"unexpected len of the result: %u, \"\n\t\t\t\t\"expected: %u\\n\", (unsigned) res_len,\n\t\t\t\t(unsigned) strlen(test_input[i].expected))",
          "new_text": "strlen(test_input[i].expected)",
          "old_line_content": "\t\t\tfprintf(stderr, \"unexpected len of the result: %u, \"",
          "new_line_content": "\t\t\t   strlen(test_input[i].expected)) != 0",
          "content_same": false
        },
        {
          "line": 12523,
          "old_api": "dsmrr_init",
          "new_api": "dsmrr_next",
          "old_text": "ds_mrr.dsmrr_init(this, seq, seq_init_param,\n\t\t\t\t n_ranges, mode, buf)",
          "new_text": "ds_mrr.dsmrr_next(range_info)",
          "old_line_content": "\treturn(ds_mrr.dsmrr_init(this, seq, seq_init_param,",
          "new_line_content": "\treturn(ds_mrr.dsmrr_next(range_info));",
          "content_same": false
        },
        {
          "line": 12579,
          "old_api": "reinterpret_cast<class ha_innobase*>(file)",
          "new_api": "DBUG_RETURN",
          "old_text": "reinterpret_cast<class ha_innobase*>(file)",
          "new_text": "DBUG_RETURN(ICP_OUT_OF_RANGE)",
          "old_line_content": "\tha_innobase*\th = reinterpret_cast<class ha_innobase*>(file);",
          "new_line_content": "\t\tDBUG_RETURN(ICP_OUT_OF_RANGE);",
          "content_same": false
        },
        {
          "line": 12582,
          "old_api": "DBUG_ASSERT",
          "new_api": "val_int",
          "old_text": "DBUG_ASSERT(h->pushed_idx_cond_keyno != MAX_KEY)",
          "new_text": "h->pushed_idx_cond->val_int()",
          "old_line_content": "\tDBUG_ASSERT(h->pushed_idx_cond_keyno != MAX_KEY);",
          "new_line_content": "\tDBUG_RETURN(h->pushed_idx_cond->val_int() ? ICP_MATCH : ICP_NO_MATCH);",
          "content_same": false
        },
        {
          "line": 12604,
          "old_api": "DBUG_ENTER",
          "new_api": "DBUG_RETURN",
          "old_text": "DBUG_ENTER(\"ha_innobase::idx_cond_push\")",
          "new_text": "DBUG_RETURN(NULL)",
          "old_line_content": "\tDBUG_ENTER(\"ha_innobase::idx_cond_push\");",
          "new_line_content": "\tDBUG_RETURN(NULL);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 10240,
          "old_api": null,
          "new_api": "set_if_bigger",
          "old_text": null,
          "new_text": "set_if_bigger(*first_value, autoinc)",
          "old_line_content": "",
          "new_line_content": "\t\tset_if_bigger(*first_value, autoinc);",
          "content_same": false
        },
        {
          "line": 10243,
          "old_api": null,
          "new_api": "set_if_bigger",
          "old_text": null,
          "new_text": "set_if_bigger(*first_value, autoinc)",
          "old_line_content": "\t\tif (nb_desired_values == 0) {",
          "new_line_content": "\t\tset_if_bigger(*first_value, autoinc);",
          "content_same": false
        },
        {
          "line": 10247,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(autoinc > trx->n_autoinc_rows)",
          "old_line_content": "",
          "new_line_content": "\t\tut_a(autoinc > trx->n_autoinc_rows);",
          "content_same": false
        },
        {
          "line": 10264,
          "old_api": null,
          "new_api": "innobase_next_autoinc",
          "old_text": null,
          "new_text": "innobase_next_autoinc(\n\t\t\tcurrent, need, offset, col_max_value)",
          "old_line_content": "\t\tulonglong\tneed;",
          "new_line_content": "\t\tnext_value = innobase_next_autoinc(",
          "content_same": false
        },
        {
          "line": 12313,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(reset_all_monitor_counter)",
          "old_line_content": "#if defined UNIV_DEBUG || defined UNIV_IBUF_DEBUG",
          "new_line_content": "  MYSQL_SYSVAR(reset_all_monitor_counter),",
          "content_same": false
        },
        {
          "line": 12315,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(purge_batch_size)",
          "old_line_content": "#endif /* UNIV_DEBUG || UNIV_IBUF_DEBUG */",
          "new_line_content": "  MYSQL_SYSVAR(purge_batch_size),",
          "content_same": false
        },
        {
          "line": 10273,
          "old_api": null,
          "new_api": "dict_table_autoinc_update_if_greater",
          "old_text": null,
          "new_text": "dict_table_autoinc_update_if_greater(\n\t\t\t\tprebuilt->table, prebuilt->autoinc_last_value)",
          "old_line_content": "\t\t\tcurrent, need, offset, col_max_value);",
          "new_line_content": "\t\t\tdict_table_autoinc_update_if_greater(",
          "content_same": false
        },
        {
          "line": 10289,
          "old_api": null,
          "new_api": "dict_table_autoinc_unlock",
          "old_text": null,
          "new_text": "dict_table_autoinc_unlock(prebuilt->table)",
          "old_line_content": "",
          "new_line_content": "\tdict_table_autoinc_unlock(prebuilt->table);",
          "content_same": false
        },
        {
          "line": 10304,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"ha_innobase::reset_auto_increment\")",
          "old_line_content": "returned by storage engines that don't support this operation.",
          "new_line_content": "\tDBUG_ENTER(\"ha_innobase::reset_auto_increment\");",
          "content_same": false
        },
        {
          "line": 8260,
          "old_api": null,
          "new_api": "thd_sql_command",
          "old_text": null,
          "new_text": "thd_sql_command(user_thd)",
          "old_line_content": "\t\tinstead. The original problem of bug#29507 is actually",
          "new_line_content": "\t\tif (thd_sql_command(user_thd) == SQLCOM_TRUNCATE) {",
          "content_same": false
        },
        {
          "line": 10308,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "ha_innobase::reset_auto_increment(",
          "new_line_content": "\tupdate_thd(ha_thd());",
          "content_same": false
        },
        {
          "line": 10310,
          "old_api": null,
          "new_api": "row_lock_table_autoinc_for_mysql",
          "old_text": null,
          "new_text": "row_lock_table_autoinc_for_mysql(prebuilt)",
          "old_line_content": "\tulonglong\tvalue)\t\t/*!< in: new value for table autoinc */",
          "new_line_content": "\terror = row_lock_table_autoinc_for_mysql(prebuilt);",
          "content_same": false
        },
        {
          "line": 10313,
          "old_api": null,
          "new_api": "convert_error_code_to_mysql",
          "old_text": null,
          "new_text": "convert_error_code_to_mysql(error,\n\t\t\t\t\t\t    prebuilt->table->flags,\n\t\t\t\t\t\t    user_thd)",
          "old_line_content": "",
          "new_line_content": "\t\terror = convert_error_code_to_mysql(error,",
          "content_same": false
        },
        {
          "line": 10317,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(error)",
          "old_line_content": "",
          "new_line_content": "\t\tDBUG_RETURN(error);",
          "content_same": false
        },
        {
          "line": 12373,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR_NAME",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR_NAME(commit_concurrency)",
          "old_line_content": "SET GLOBAL innodb_commit_concurrency=DEFAULT would set the parameter",
          "new_line_content": "\tMYSQL_SYSVAR_NAME(commit_concurrency).def_val",
          "content_same": false
        },
        {
          "line": 10327,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 10339,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "See comment in handler.cc */",
          "new_line_content": "\ttrx_t*\ttrx = check_trx_exists(ha_thd());",
          "content_same": false
        },
        {
          "line": 8292,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY\n\t\t\t   (srv_force_recovery >= SRV_FORCE_NO_IBUF_MERGE)",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY\n\t\t\t   (srv_force_recovery >= SRV_FORCE_NO_IBUF_MERGE)",
          "old_line_content": "\t\t\t/* We do not update delete_length if no",
          "new_line_content": "\t\t} else if (UNIV_UNLIKELY",
          "content_same": false
        },
        {
          "line": 10341,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(trx->detailed_error)",
          "old_line_content": "bool",
          "new_line_content": "\tbuf->copy(trx->detailed_error, (uint) strlen(trx->detailed_error),",
          "content_same": false
        },
        {
          "line": 8300,
          "old_api": null,
          "new_api": "fsp_get_available_space_in_free_extents",
          "old_text": null,
          "new_text": "fsp_get_available_space_in_free_extents(\n\t\t\t\tib_table->space)",
          "old_line_content": "\t\t\tstats.delete_length = 0;",
          "new_line_content": "\t\t\tavail_space = fsp_get_available_space_in_free_extents(",
          "content_same": false
        },
        {
          "line": 8306,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tthd = ha_thd();",
          "content_same": false
        },
        {
          "line": 8308,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(\n\t\t\t\t\tthd,\n\t\t\t\t\tMYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\tER_CANT_GET_STAT,\n\t\t\t\t\t\"InnoDB: Trying to get the free \"\n\t\t\t\t\t\"space for table %s but its \"\n\t\t\t\t\t\"tablespace has been discarded or \"\n\t\t\t\t\t\"the .ibd file is missing. Setting \"\n\t\t\t\t\t\"the free space to zero.\",\n\t\t\t\t\tib_table->name)",
          "old_line_content": "\t\t\t\tTHD*\tthd;",
          "new_line_content": "\t\t\t\tpush_warning_printf(",
          "content_same": false
        },
        {
          "line": 10372,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(ref1, ref2, DATA_ROW_ID_LEN)",
          "old_line_content": "\tKEY_PART_INFO*\tkey_part_end;",
          "new_line_content": "\t\treturn(memcmp(ref1, ref2, DATA_ROW_ID_LEN));",
          "content_same": false
        },
        {
          "line": 8331,
          "old_api": null,
          "new_api": "ulong)\n\t\t\t\t(stats.data_file_length / stats.records)",
          "old_text": null,
          "new_text": "ulong)\n\t\t\t\t(stats.data_file_length / stats.records)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstats.mean_rec_length = (ulong)",
          "content_same": false
        },
        {
          "line": 10385,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "field->type()",
          "old_line_content": "",
          "new_line_content": "\t\tmysql_type = field->type();",
          "content_same": false
        },
        {
          "line": 8341,
          "old_api": null,
          "new_api": "UT_LIST_GET_LEN",
          "old_text": null,
          "new_text": "UT_LIST_GET_LEN(ib_table->indexes)",
          "old_line_content": "\t\tulong\ti;",
          "new_line_content": "\t\tulint\tnum_innodb_index = UT_LIST_GET_LEN(ib_table->indexes)",
          "content_same": false
        },
        {
          "line": 10395,
          "old_api": null,
          "new_api": "innobase_read_from_2_little_endian",
          "old_text": null,
          "new_text": "innobase_read_from_2_little_endian(ref1)",
          "old_line_content": "\t\tif (mysql_type == MYSQL_TYPE_TINY_BLOB",
          "new_line_content": "\t\t\tlen1 = innobase_read_from_2_little_endian(ref1);",
          "content_same": false
        },
        {
          "line": 10396,
          "old_api": null,
          "new_api": "innobase_read_from_2_little_endian",
          "old_text": null,
          "new_text": "innobase_read_from_2_little_endian(ref2)",
          "old_line_content": "\t\t\t|| mysql_type == MYSQL_TYPE_MEDIUM_BLOB",
          "new_line_content": "\t\t\tlen2 = innobase_read_from_2_little_endian(ref2);",
          "content_same": false
        },
        {
          "line": 10400,
          "old_api": null,
          "new_api": "cmp",
          "old_text": null,
          "new_text": "(Field_blob*)field)->cmp(\n\t\t\t\tref1, len1, ref2, len2)",
          "old_line_content": "\t\t\t/* In the MySQL key value format, a column prefix of",
          "new_line_content": "\t\t\tresult = ((Field_blob*)field)->cmp(",
          "content_same": false
        },
        {
          "line": 12451,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"TESTING %lu, %s, %lu, %s\\n\",\n\t\t\ttest_input[i].buflen,\n\t\t\ttest_input[i].id,\n\t\t\ttest_input[i].idlen,\n\t\t\ttest_input[i].expected)",
          "old_line_content": "\t};",
          "new_line_content": "\t\tfprintf(stderr, \"TESTING %lu, %s, %lu, %s\\n\",",
          "content_same": false
        },
        {
          "line": 8360,
          "old_api": null,
          "new_api": "innobase_get_index",
          "old_text": null,
          "new_text": "innobase_get_index(i)",
          "old_line_content": "\t\t\tulong\tj;",
          "new_line_content": "\t\t\tindex = innobase_get_index(i);",
          "content_same": false
        },
        {
          "line": 12457,
          "old_api": null,
          "new_api": "innobase_convert_name",
          "old_text": null,
          "new_text": "innobase_convert_name(\n\t\t\ttest_input[i].buf,\n\t\t\ttest_input[i].buflen,\n\t\t\ttest_input[i].id,\n\t\t\ttest_input[i].idlen,\n\t\t\ttest_input[i].thd,\n\t\t\ttest_input[i].file_id)",
          "old_line_content": "\t\tsize_t\tres_len;",
          "new_line_content": "\t\tend = innobase_convert_name(",
          "content_same": false
        },
        {
          "line": 8363,
          "old_api": null,
          "new_api": "sql_print_error",
          "old_text": null,
          "new_text": "sql_print_error(\"Table %s contains fewer \"\n\t\t\t\t\t\t\"indexes inside InnoDB than \"\n\t\t\t\t\t\t\"are defined in the MySQL \"\n\t\t\t\t\t\t\".frm file. Have you mixed up \"\n\t\t\t\t\t\t\".frm files from different \"\n\t\t\t\t\t\t\"installations? See \"\n\t\t\t\t\t\tREFMAN\n\t\t\t\t\t\t\"innodb-troubleshooting.html\\n\",\n\t\t\t\t\t\tib_table->name)",
          "old_line_content": "\t\t\tThe identity of index (match up index name with",
          "new_line_content": "\t\t\t\tsql_print_error(\"Table %s contains fewer \"",
          "content_same": false
        },
        {
          "line": 12467,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(test_input[i].expected)",
          "old_line_content": "\t\t\ttest_input[i].buflen,",
          "new_line_content": "\t\tif (res_len != strlen(test_input[i].expected)) {",
          "content_same": false
        },
        {
          "line": 12469,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unexpected len of the result: %u, \"\n\t\t\t\t\"expected: %u\\n\", (unsigned) res_len,\n\t\t\t\t(unsigned) strlen(test_input[i].expected))",
          "old_line_content": "\t\t\ttest_input[i].idlen,",
          "new_line_content": "\t\t\tfprintf(stderr, \"unexpected len of the result: %u, \"",
          "content_same": false
        },
        {
          "line": 12471,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(test_input[i].expected)",
          "old_line_content": "\t\t\ttest_input[i].file_id);",
          "new_line_content": "\t\t\t\t(unsigned) strlen(test_input[i].expected));",
          "content_same": false
        },
        {
          "line": 8378,
          "old_api": null,
          "new_api": "sql_print_error",
          "old_text": null,
          "new_text": "sql_print_error(\n\"Index %s of %s has %lu columns unique inside InnoDB, but MySQL is asking \"\n\"statistics for %lu columns. Have you mixed up .frm files from different \"\n\"installations? \"\n\"See \" REFMAN \"innodb-troubleshooting.html\\n\",\n\t\t\t\t\t\t\tindex->name,\n\t\t\t\t\t\t\tib_table->name,\n\t\t\t\t\t\t\t(unsigned long)\n\t\t\t\t\t\t\tindex->n_uniq, j + 1)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tsql_print_error(",
          "content_same": false
        },
        {
          "line": 12480,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unexpected result: %.*s, \"\n\t\t\t\t\"expected: %s\\n\", (int) res_len,\n\t\t\t\ttest_input[i].buf,\n\t\t\t\ttest_input[i].expected)",
          "old_line_content": "\t\t\tok = FALSE;",
          "new_line_content": "\t\t\tfprintf(stderr, \"unexpected result: %.*s, \"",
          "content_same": false
        },
        {
          "line": 10439,
          "old_api": null,
          "new_api": "innobase_query_caching_of_table_permitted",
          "old_text": null,
          "new_text": "innobase_query_caching_of_table_permitted(thd, table_key,\n\t\t\t\t\t\t\t key_length,\n\t\t\t\t\t\t\t engine_data)",
          "old_line_content": "\tqc_engine_callback*",
          "new_line_content": "\treturn(innobase_query_caching_of_table_permitted(thd, table_key,",
          "content_same": false
        },
        {
          "line": 8394,
          "old_api": null,
          "new_api": "ha_rows)(stats.records /\n\t\t\t\t\t index->stat_n_diff_key_vals[j + 1])",
          "old_text": null,
          "new_text": "ha_rows)(stats.records /\n\t\t\t\t\t index->stat_n_diff_key_vals[j + 1])",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\trec_per_key = (ha_rows)(stats.records /",
          "content_same": false
        },
        {
          "line": 12491,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"FAILED\\n\\n\")",
          "old_line_content": "\t\t\t\ttest_input[i].expected);",
          "new_line_content": "\t\t\tfprintf(stderr, \"FAILED\\n\\n\");",
          "content_same": false
        },
        {
          "line": 12515,
          "old_api": null,
          "new_api": "dsmrr_init",
          "old_text": null,
          "new_text": "ds_mrr.dsmrr_init(this, seq, seq_init_param,\n\t\t\t\t n_ranges, mode, buf)",
          "old_line_content": "int",
          "new_line_content": "\treturn(ds_mrr.dsmrr_init(this, seq, seq_init_param,",
          "content_same": false
        },
        {
          "line": 8424,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt->trx)",
          "old_line_content": "\tif (srv_force_recovery >= SRV_FORCE_NO_IBUF_MERGE) {",
          "new_line_content": "\t\tut_a(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8425,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt->trx->magic_n == TRX_MAGIC_N)",
          "old_line_content": "",
          "new_line_content": "\t\tut_a(prebuilt->trx->magic_n == TRX_MAGIC_N);",
          "content_same": false
        },
        {
          "line": 8427,
          "old_api": null,
          "new_api": "trx_get_error_info",
          "old_text": null,
          "new_text": "trx_get_error_info(prebuilt->trx)",
          "old_line_content": "\t}",
          "new_line_content": "\t\terr_index = trx_get_error_info(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8430,
          "old_api": null,
          "new_api": "innobase_get_mysql_key_number_for_index",
          "old_text": null,
          "new_text": "innobase_get_mysql_key_number_for_index(\n\t\t\t\t\tshare, table, ib_table, err_index)",
          "old_line_content": "\t\tconst dict_index_t*\terr_index;",
          "new_line_content": "\t\t\terrkey = innobase_get_mysql_key_number_for_index(",
          "content_same": false
        },
        {
          "line": 10488,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(MY_WME)",
          "old_line_content": "\t\t\t\tnumber of CHARACTERS n in the prefix) */",
          "new_line_content": "\tcharset = get_charset((uint) charset_id, MYF(MY_WME));",
          "content_same": false
        },
        {
          "line": 12537,
          "old_api": null,
          "new_api": "init",
          "old_text": null,
          "new_text": "ds_mrr.init(this, table)",
          "old_line_content": "\tRANGE_SEQ_IF*\tseq,",
          "new_line_content": "\tds_mrr.init(this, table);",
          "content_same": false
        },
        {
          "line": 10490,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(charset)",
          "old_line_content": "\tconst char* str)\t/*!< in: character string */",
          "new_line_content": "\tut_ad(charset);",
          "content_same": false
        },
        {
          "line": 10491,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(charset->mbmaxlen)",
          "old_line_content": "{",
          "new_line_content": "\tut_ad(charset->mbmaxlen);",
          "content_same": false
        },
        {
          "line": 8444,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 12538,
          "old_api": null,
          "new_api": "dsmrr_info_const",
          "old_text": null,
          "new_text": "ds_mrr.dsmrr_info_const(keyno, seq, seq_init_param,\n\t\t\t\t       n_ranges, bufsz, flags, cost)",
          "old_line_content": "\tvoid*\t\tseq_init_param,",
          "new_line_content": "\treturn(ds_mrr.dsmrr_info_const(keyno, seq, seq_init_param,",
          "content_same": false
        },
        {
          "line": 12551,
          "old_api": null,
          "new_api": "init",
          "old_text": null,
          "new_text": "ds_mrr.init(this, table)",
          "old_line_content": "ha_innobase::multi_range_read_info(",
          "new_line_content": "\tds_mrr.init(this, table);",
          "content_same": false
        },
        {
          "line": 12552,
          "old_api": null,
          "new_api": "dsmrr_info",
          "old_text": null,
          "new_text": "ds_mrr.dsmrr_info(keyno, n_ranges, keys, bufsz, flags, cost)",
          "old_line_content": "\tuint\t\tkeyno,",
          "new_line_content": "\treturn(ds_mrr.dsmrr_info(keyno, n_ranges, keys, bufsz, flags, cost));",
          "content_same": false
        },
        {
          "line": 8457,
          "old_api": null,
          "new_api": "info_low",
          "old_text": null,
          "new_text": "info_low(flag, DICT_STATS_FETCH)",
          "old_line_content": "in various fields of the handle object.",
          "new_line_content": "\treturn(info_low(flag, DICT_STATS_FETCH));",
          "content_same": false
        },
        {
          "line": 10521,
          "old_api": null,
          "new_api": "my_charpos",
          "old_text": null,
          "new_text": "my_charpos(charset, str,\n\t\t\t\t\t\tstr + data_len, (int) n_chars)",
          "old_line_content": "\t\tthis case. The function returns the pointer to the",
          "new_line_content": "\t\tchar_length = my_charpos(charset, str,",
          "content_same": false
        },
        {
          "line": 8474,
          "old_api": null,
          "new_api": "THDVAR",
          "old_text": null,
          "new_text": "THDVAR(thd, analyze_is_persistent)",
          "old_line_content": "ha_innobase::analyze(",
          "new_line_content": "\tif (THDVAR(thd, analyze_is_persistent)) {",
          "content_same": false
        },
        {
          "line": 12569,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"innobase_index_cond\")",
          "old_line_content": "InnoDB index push-down condition check",
          "new_line_content": "\tDBUG_ENTER(\"innobase_index_cond\");",
          "content_same": false
        },
        {
          "line": 12571,
          "old_api": null,
          "new_api": "reinterpret_cast<class ha_innobase*>(file)",
          "old_text": null,
          "new_text": "reinterpret_cast<class ha_innobase*>(file)",
          "old_line_content": "extern \"C\" UNIV_INTERN",
          "new_line_content": "\tha_innobase*\th = reinterpret_cast<class ha_innobase*>(file);",
          "content_same": false
        },
        {
          "line": 12573,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(h->pushed_idx_cond)",
          "old_line_content": "innobase_index_cond(",
          "new_line_content": "\tDBUG_ASSERT(h->pushed_idx_cond);",
          "content_same": false
        },
        {
          "line": 12574,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(h->pushed_idx_cond_keyno != MAX_KEY)",
          "old_line_content": "/*================*/",
          "new_line_content": "\tDBUG_ASSERT(h->pushed_idx_cond_keyno != MAX_KEY);",
          "content_same": false
        },
        {
          "line": 12576,
          "old_api": null,
          "new_api": "compare_key2",
          "old_text": null,
          "new_text": "h->compare_key2(h->end_range)",
          "old_line_content": "{",
          "new_line_content": "\tif (h->end_range && h->compare_key2(h->end_range) > 0) {",
          "content_same": false
        },
        {
          "line": 12596,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"ha_innobase::idx_cond_push\")",
          "old_line_content": "* @return idx_cond if pushed; NULL if not pushed",
          "new_line_content": "\tDBUG_ENTER(\"ha_innobase::idx_cond_push\");",
          "content_same": false
        },
        {
          "line": 12597,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(keyno != MAX_KEY)",
          "old_line_content": "*/",
          "new_line_content": "\tDBUG_ASSERT(keyno != MAX_KEY);",
          "content_same": false
        },
        {
          "line": 12598,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(idx_cond != NULL)",
          "old_line_content": "UNIV_INTERN",
          "new_line_content": "\tDBUG_ASSERT(idx_cond != NULL);",
          "content_same": false
        },
        {
          "line": 10553,
          "old_api": null,
          "new_api": "check_trx_exists",
          "old_text": null,
          "new_text": "check_trx_exists(thd)",
          "old_line_content": "\tTHD*\t\tthd,\t\t/*!< in: handle to the MySQL thread of",
          "new_line_content": "\ttrx_t* trx = check_trx_exists(thd);",
          "content_same": false
        },
        {
          "line": 10555,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "\t\t\t\t\tbe prepared */",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 10565,
          "old_api": null,
          "new_api": "thd_get_xid",
          "old_text": null,
          "new_text": "thd_get_xid(thd, (MYSQL_XID*) &trx->xid)",
          "old_line_content": "\t/* we use support_xa value as it was seen at transaction start",
          "new_line_content": "\tthd_get_xid(thd, (MYSQL_XID*) &trx->xid);",
          "content_same": false
        },
        {
          "line": 10571,
          "old_api": null,
          "new_api": "innobase_release_stat_resources",
          "old_text": null,
          "new_text": "innobase_release_stat_resources(trx)",
          "old_line_content": "\t}",
          "new_line_content": "\tinnobase_release_stat_resources(trx);",
          "content_same": false
        },
        {
          "line": 8524,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"ha_innobase::check\")",
          "old_line_content": "\t\t\t\t\tignored */",
          "new_line_content": "\tDBUG_ENTER(\"ha_innobase::check\");",
          "content_same": false
        },
        {
          "line": 8525,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "{",
          "new_line_content": "\tDBUG_ASSERT(thd == ha_thd());",
          "content_same": false
        },
        {
          "line": 8526,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt->trx)",
          "old_line_content": "\tdict_index_t*\tindex;",
          "new_line_content": "\tut_a(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8527,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt->trx->magic_n == TRX_MAGIC_N)",
          "old_line_content": "\tulint\t\tn_rows;",
          "new_line_content": "\tut_a(prebuilt->trx->magic_n == TRX_MAGIC_N);",
          "content_same": false
        },
        {
          "line": 8528,
          "old_api": null,
          "new_api": "thd_to_trx",
          "old_text": null,
          "new_text": "thd_to_trx(thd)",
          "old_line_content": "\tulint\t\tn_rows_in_table\t= ULINT_UNDEFINED;",
          "new_line_content": "\tut_a(prebuilt->trx == thd_to_trx(thd));",
          "content_same": false
        },
        {
          "line": 10575,
          "old_api": null,
          "new_api": "sql_print_error",
          "old_text": null,
          "new_text": "sql_print_error(\"Transaction not registered for MySQL 2PC, \"\n\t\t\t\t\"but transaction is active\")",
          "old_line_content": "\t/* Release a possible FIFO ticket and search latch. Since we will",
          "new_line_content": "\t\tsql_print_error(\"Transaction not registered for MySQL 2PC, \"",
          "content_same": false
        },
        {
          "line": 10580,
          "old_api": null,
          "new_api": "thd_test_options",
          "old_text": null,
          "new_text": "thd_test_options(thd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "old_line_content": "",
          "new_line_content": "\t    || (!thd_test_options(thd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN))) {",
          "content_same": false
        },
        {
          "line": 10585,
          "old_api": null,
          "new_api": "trx_is_registered_for_2pc",
          "old_text": null,
          "new_text": "trx_is_registered_for_2pc(trx)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tut_ad(trx_is_registered_for_2pc(trx));",
          "content_same": false
        },
        {
          "line": 8538,
          "old_api": null,
          "new_api": "sql_print_error",
          "old_text": null,
          "new_text": "sql_print_error(\"InnoDB: Error:\\n\"\n\t\t\t\"InnoDB: MySQL is trying to use a table handle\"\n\t\t\t\" but the .ibd file for\\n\"\n\t\t\t\"InnoDB: table %s does not exist.\\n\"\n\t\t\t\"InnoDB: Have you deleted the .ibd file\"\n\t\t\t\" from the database directory under\\n\"\n\t\t\t\"InnoDB: the MySQL datadir, or have you\"\n\t\t\t\" used DISCARD TABLESPACE?\\n\"\n\t\t\t\"InnoDB: Please refer to\\n\"\n\t\t\t\"InnoDB: \" REFMAN \"innodb-troubleshooting.html\\n\"\n\t\t\t\"InnoDB: how you can resolve the problem.\\n\",\n\t\t\tprebuilt->table->name)",
          "old_line_content": "\tif (prebuilt->mysql_template == NULL) {",
          "new_line_content": "\t\tsql_print_error(\"InnoDB: Error:\\n\"",
          "content_same": false
        },
        {
          "line": 10587,
          "old_api": null,
          "new_api": "trx_prepare_for_mysql",
          "old_text": null,
          "new_text": "trx_prepare_for_mysql(trx)",
          "old_line_content": "\tif (prepare_trx",
          "new_line_content": "\t\ttrx_prepare_for_mysql(trx);",
          "content_same": false
        },
        {
          "line": 10597,
          "old_api": null,
          "new_api": "lock_unlock_table_autoinc",
          "old_text": null,
          "new_text": "lock_unlock_table_autoinc(trx)",
          "old_line_content": "\t\terror = 0;",
          "new_line_content": "\t\tlock_unlock_table_autoinc(trx);",
          "content_same": false
        },
        {
          "line": 8550,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(HA_ADMIN_CORRUPT)",
          "old_line_content": "\t\t\t\"InnoDB: Have you deleted the .ibd file\"",
          "new_line_content": "\t\tDBUG_RETURN(HA_ADMIN_CORRUPT);",
          "content_same": false
        },
        {
          "line": 10603,
          "old_api": null,
          "new_api": "trx_mark_sql_stat_end",
          "old_text": null,
          "new_text": "trx_mark_sql_stat_end(trx)",
          "old_line_content": "\t\ttable in this SQL statement we release it now */",
          "new_line_content": "\t\ttrx_mark_sql_stat_end(trx);",
          "content_same": false
        },
        {
          "line": 10609,
          "old_api": null,
          "new_api": "srv_active_wake_master_thread",
          "old_text": null,
          "new_text": "srv_active_wake_master_thread()",
          "old_line_content": "\t\tSQL statement */",
          "new_line_content": "\tsrv_active_wake_master_thread();",
          "content_same": false
        },
        {
          "line": 8565,
          "old_api": null,
          "new_api": "server_mutex_enter",
          "old_text": null,
          "new_text": "server_mutex_enter()",
          "old_line_content": "\t/* We must run the index record counts at an isolation level",
          "new_line_content": "\tserver_mutex_enter();",
          "content_same": false
        },
        {
          "line": 10613,
          "old_api": null,
          "new_api": "thd_test_options",
          "old_text": null,
          "new_text": "thd_test_options(\n\t\t\tthd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "old_line_content": "",
          "new_line_content": "\t\t|| !thd_test_options(",
          "content_same": false
        },
        {
          "line": 8567,
          "old_api": null,
          "new_api": "server_mutex_exit",
          "old_text": null,
          "new_text": "server_mutex_exit()",
          "old_line_content": "\tof records in some index; to play safe, we use always",
          "new_line_content": "\tserver_mutex_exit();",
          "content_same": false
        },
        {
          "line": 8569,
          "old_api": null,
          "new_api": "dict_table_get_first_index",
          "old_text": null,
          "new_text": "dict_table_get_first_index(prebuilt->table)",
          "old_line_content": "",
          "new_line_content": "\tfor (index = dict_table_get_first_index(prebuilt->table);",
          "content_same": false
        },
        {
          "line": 8571,
          "old_api": null,
          "new_api": "dict_table_get_next_index",
          "old_text": null,
          "new_text": "dict_table_get_next_index(index)",
          "old_line_content": "",
          "new_line_content": "\t     index = dict_table_get_next_index(index)) {",
          "content_same": false
        },
        {
          "line": 8574,
          "old_api": null,
          "new_api": "ut_print_name",
          "old_text": null,
          "new_text": "ut_print_name(stderr, trx, FALSE, index->name)",
          "old_line_content": "\tsrv_fatal_semaphore_wait_threshold += 7200; /* 2 hours */",
          "new_line_content": "\t\tut_print_name(stderr, trx, FALSE, index->name);",
          "content_same": false
        },
        {
          "line": 8578,
          "old_api": null,
          "new_api": "btr_validate_index",
          "old_text": null,
          "new_text": "btr_validate_index(index, prebuilt->trx)",
          "old_line_content": "\t     index != NULL;",
          "new_line_content": "\t\tif (!btr_validate_index(index, prebuilt->trx)) {",
          "content_same": false
        },
        {
          "line": 8580,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_NOT_KEYFILE,\n\t\t\t\t\t    \"InnoDB: The B-tree of\"\n\t\t\t\t\t    \" index '%-.200s' is corrupted.\",\n\t\t\t\t\t    index->name)",
          "old_line_content": "#if 0",
          "new_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 10634,
          "old_api": null,
          "new_api": "mysql_mutex_lock",
          "old_text": null,
          "new_text": "mysql_mutex_lock(&prepare_commit_mutex)",
          "old_line_content": "",
          "new_line_content": "\t\tmysql_mutex_lock(&prepare_commit_mutex);",
          "content_same": false
        },
        {
          "line": 10635,
          "old_api": null,
          "new_api": "trx_owns_prepare_commit_mutex_set",
          "old_text": null,
          "new_text": "trx_owns_prepare_commit_mutex_set(trx)",
          "old_line_content": "\t\tNote: only do it for normal commits, done via ha_commit_trans.",
          "new_line_content": "\t\ttrx_owns_prepare_commit_mutex_set(trx);",
          "content_same": false
        },
        {
          "line": 8593,
          "old_api": null,
          "new_api": "row_merge_is_index_usable",
          "old_text": null,
          "new_text": "row_merge_is_index_usable(\n\t\t\tprebuilt->trx, prebuilt->index)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tprebuilt->index_usable = row_merge_is_index_usable(",
          "content_same": false
        },
        {
          "line": 8596,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(!prebuilt->index_usable)",
          "old_line_content": "\t\t/* Instead of invoking change_active_index(), set up",
          "new_line_content": "\t\tif (UNIV_UNLIKELY(!prebuilt->index_usable)) {",
          "content_same": false
        },
        {
          "line": 8597,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    HA_ERR_TABLE_DEF_CHANGED,\n\t\t\t\t\t    \"InnoDB: Insufficient history for\"\n\t\t\t\t\t    \" index '%-.200s'\",\n\t\t\t\t\t    index->name)",
          "old_line_content": "\t\ta dummy template for non-locking reads, disabling",
          "new_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 10652,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "static",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 8610,
          "old_api": null,
          "new_api": "dtuple_set_n_fields",
          "old_text": null,
          "new_text": "dtuple_set_n_fields(prebuilt->search_tuple, 0)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tdtuple_set_n_fields(prebuilt->search_tuple, 0);",
          "content_same": false
        },
        {
          "line": 10659,
          "old_api": null,
          "new_api": "trx_recover_for_mysql",
          "old_text": null,
          "new_text": "trx_recover_for_mysql(xid_list, len)",
          "old_line_content": "{",
          "new_line_content": "\treturn(trx_recover_for_mysql(xid_list, len));",
          "content_same": false
        },
        {
          "line": 8614,
          "old_api": null,
          "new_api": "row_check_index_for_mysql",
          "old_text": null,
          "new_text": "row_check_index_for_mysql(prebuilt, index, &n_rows)",
          "old_line_content": "\t\tprebuilt->template_type = ROW_MYSQL_DUMMY_TEMPLATE;",
          "new_line_content": "\t\tif (!row_check_index_for_mysql(prebuilt, index, &n_rows)) {",
          "content_same": false
        },
        {
          "line": 8615,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_NOT_KEYFILE,\n\t\t\t\t\t    \"InnoDB: The B-tree of\"\n\t\t\t\t\t    \" index '%-.200s' is corrupted.\",\n\t\t\t\t\t    index->name)",
          "old_line_content": "\t\tprebuilt->n_template = 0;",
          "new_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 10675,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "int",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 8628,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%lu entries in index %s\\n\", n_rows,\n\t\t\tindex->name)",
          "old_line_content": "\t\t\tis_ok = FALSE;",
          "new_line_content": "\t\tfprintf(stderr, \"%lu entries in index %s\\n\", n_rows,",
          "content_same": false
        },
        {
          "line": 10677,
          "old_api": null,
          "new_api": "trx_get_trx_by_xid",
          "old_text": null,
          "new_text": "trx_get_trx_by_xid(xid)",
          "old_line_content": "/*===================*/",
          "new_line_content": "\ttrx = trx_get_trx_by_xid(xid);",
          "content_same": false
        },
        {
          "line": 8632,
          "old_api": null,
          "new_api": "dict_table_get_first_index",
          "old_text": null,
          "new_text": "dict_table_get_first_index(prebuilt->table)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tif (index == dict_table_get_first_index(prebuilt->table)) {",
          "content_same": false
        },
        {
          "line": 10680,
          "old_api": null,
          "new_api": "innobase_commit_low",
          "old_text": null,
          "new_text": "innobase_commit_low(trx)",
          "old_line_content": "{",
          "new_line_content": "\t\tinnobase_commit_low(trx);",
          "content_same": false
        },
        {
          "line": 8635,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_NOT_KEYFILE,\n\t\t\t\t\t    \"InnoDB: Index '%-.200s'\"\n\t\t\t\t\t    \" contains %lu entries,\"\n\t\t\t\t\t    \" should be %lu.\",\n\t\t\t\t\t    index->name,\n\t\t\t\t\t    (ulong) n_rows,\n\t\t\t\t\t    (ulong) n_rows_in_table)",
          "old_line_content": "#if 0",
          "new_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 8653,
          "old_api": null,
          "new_api": "btr_search_validate",
          "old_text": null,
          "new_text": "btr_search_validate()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!btr_search_validate()) {",
          "content_same": false
        },
        {
          "line": 8654,
          "old_api": null,
          "new_api": "push_warning",
          "old_text": null,
          "new_text": "push_warning(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t     ER_NOT_KEYFILE,\n\t\t\t     \"InnoDB: The adaptive hash index is corrupted.\")",
          "old_line_content": "",
          "new_line_content": "\t\tpush_warning(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 10702,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "innobase_rollback_by_xid(",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 10704,
          "old_api": null,
          "new_api": "trx_get_trx_by_xid",
          "old_text": null,
          "new_text": "trx_get_trx_by_xid(xid)",
          "old_line_content": "\thandlerton*\thton,\t/*!< in: InnoDB handlerton */",
          "new_line_content": "\ttrx = trx_get_trx_by_xid(xid);",
          "content_same": false
        },
        {
          "line": 10707,
          "old_api": null,
          "new_api": "innobase_rollback_trx",
          "old_text": null,
          "new_text": "innobase_rollback_trx(trx)",
          "old_line_content": "{",
          "new_line_content": "\t\treturn(innobase_rollback_trx(trx));",
          "content_same": false
        },
        {
          "line": 8663,
          "old_api": null,
          "new_api": "server_mutex_exit",
          "old_text": null,
          "new_text": "server_mutex_exit()",
          "old_line_content": "\t\t\t     ER_NOT_KEYFILE,",
          "new_line_content": "\tserver_mutex_exit();",
          "content_same": false
        },
        {
          "line": 8666,
          "old_api": null,
          "new_api": "thd_killed",
          "old_text": null,
          "new_text": "thd_killed(user_thd)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (thd_killed(user_thd)) {",
          "content_same": false
        },
        {
          "line": 8667,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "",
          "new_line_content": "\t\tmy_error(ER_QUERY_INTERRUPTED, MYF(0));",
          "content_same": false
        },
        {
          "line": 8670,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(is_ok ? HA_ADMIN_OK : HA_ADMIN_CORRUPT)",
          "old_line_content": "\tsrv_fatal_semaphore_wait_threshold -= 7200; /* 2 hours */",
          "new_line_content": "\tDBUG_RETURN(is_ok ? HA_ADMIN_OK : HA_ADMIN_CORRUPT);",
          "content_same": false
        },
        {
          "line": 10726,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "@return\tpointer to cursor view or NULL */",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 10728,
          "old_api": null,
          "new_api": "check_trx_exists",
          "old_text": null,
          "new_text": "check_trx_exists(thd)",
          "old_line_content": "void*",
          "new_line_content": "\treturn(read_cursor_view_create_for_mysql(check_trx_exists(thd)));",
          "content_same": false
        },
        {
          "line": 8684,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(comment)",
          "old_line_content": "foreign keys.",
          "new_line_content": "\tuint\tlength = (uint) strlen(comment);",
          "content_same": false
        },
        {
          "line": 10743,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "static",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 8696,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "\t/* We do not know if MySQL can call this function before calling",
          "new_line_content": "\tupdate_thd(ha_thd());",
          "content_same": false
        },
        {
          "line": 10745,
          "old_api": null,
          "new_api": "check_trx_exists",
          "old_text": null,
          "new_text": "check_trx_exists(thd)",
          "old_line_content": "innobase_close_cursor_view(",
          "new_line_content": "\tread_cursor_view_close_for_mysql(check_trx_exists(thd),",
          "content_same": false
        },
        {
          "line": 8703,
          "old_api": null,
          "new_api": "trx_search_latch_release_if_reserved",
          "old_text": null,
          "new_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "old_line_content": "",
          "new_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8708,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&srv_dict_tmpfile_mutex)",
          "old_line_content": "\t/* In case MySQL calls this in the middle of a SELECT query, release",
          "new_line_content": "\tmutex_enter(&srv_dict_tmpfile_mutex);",
          "content_same": false
        },
        {
          "line": 8709,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "rewind(srv_dict_tmpfile)",
          "old_line_content": "\tpossible adaptive hash latch to avoid deadlocks of threads */",
          "new_line_content": "\trewind(srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8712,
          "old_api": null,
          "new_api": "fsp_get_available_space_in_free_extents",
          "old_text": null,
          "new_text": "fsp_get_available_space_in_free_extents(\n\t\t\tprebuilt->table->space)",
          "old_line_content": "\tstr = NULL;",
          "new_line_content": "\t\tfsp_get_available_space_in_free_extents(",
          "content_same": false
        },
        {
          "line": 10762,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "static",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 8715,
          "old_api": null,
          "new_api": "dict_print_info_on_foreign_keys",
          "old_text": null,
          "new_text": "dict_print_info_on_foreign_keys(FALSE, srv_dict_tmpfile,\n\t\t\t\tprebuilt->trx, prebuilt->table)",
          "old_line_content": "",
          "new_line_content": "\tdict_print_info_on_foreign_keys(FALSE, srv_dict_tmpfile,",
          "content_same": false
        },
        {
          "line": 10764,
          "old_api": null,
          "new_api": "check_trx_exists",
          "old_text": null,
          "new_text": "check_trx_exists(thd)",
          "old_line_content": "innobase_set_cursor_view(",
          "new_line_content": "\tread_cursor_set_for_mysql(check_trx_exists(thd),",
          "content_same": false
        },
        {
          "line": 8727,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "\t\tflen = 0;",
          "new_line_content": "\tstr = (char*) my_malloc(length + flen + 3, MYF(0));",
          "content_same": false
        },
        {
          "line": 8732,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(str, comment, length)",
          "old_line_content": "\t/* allocate buffer for the full string, and",
          "new_line_content": "\t\t\tmemcpy(str, comment, length);",
          "content_same": false
        },
        {
          "line": 8736,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "rewind(srv_dict_tmpfile)",
          "old_line_content": "",
          "new_line_content": "\t\trewind(srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8737,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(pos, 1, flen, srv_dict_tmpfile)",
          "old_line_content": "\tif (str) {",
          "new_line_content": "\t\tflen = (uint) fread(pos, 1, flen, srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8741,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&srv_dict_tmpfile_mutex)",
          "old_line_content": "\t\t\t*pos++ = ';';",
          "new_line_content": "\tmutex_exit(&srv_dict_tmpfile_mutex);",
          "content_same": false
        },
        {
          "line": 10796,
          "old_api": null,
          "new_api": "innobase_strcasecmp",
          "old_text": null,
          "new_text": "innobase_strcasecmp(field->field_name,\n\t\t\t\t\t\tcol_name)",
          "old_line_content": "\t\t\t/* If col_name is not provided, return",
          "new_line_content": "\t\t\tif (innobase_strcasecmp(field->field_name,",
          "content_same": false
        },
        {
          "line": 8761,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt != NULL)",
          "old_line_content": "UNIV_INTERN",
          "new_line_content": "\tut_a(prebuilt != NULL);",
          "content_same": false
        },
        {
          "line": 8767,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "\tlong\tflen;",
          "new_line_content": "\tupdate_thd(ha_thd());",
          "content_same": false
        },
        {
          "line": 10820,
          "old_api": null,
          "new_api": "check_column_being_renamed",
          "old_text": null,
          "new_text": "check_column_being_renamed(table, col_names[j])",
          "old_line_content": "/*====================*/",
          "new_line_content": "\t\tif (check_column_being_renamed(table, col_names[j])) {",
          "content_same": false
        },
        {
          "line": 8777,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&srv_dict_tmpfile_mutex)",
          "old_line_content": "\tprebuilt->trx->op_info = (char*)\"getting info on foreign keys\";",
          "new_line_content": "\tmutex_enter(&srv_dict_tmpfile_mutex);",
          "content_same": false
        },
        {
          "line": 8778,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "rewind(srv_dict_tmpfile)",
          "old_line_content": "",
          "new_line_content": "\trewind(srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8781,
          "old_api": null,
          "new_api": "dict_print_info_on_foreign_keys",
          "old_text": null,
          "new_text": "dict_print_info_on_foreign_keys(TRUE, srv_dict_tmpfile,\n\t\t\t\tprebuilt->trx, prebuilt->table)",
          "old_line_content": "\tdeadlocks of threads */",
          "new_line_content": "\tdict_print_info_on_foreign_keys(TRUE, srv_dict_tmpfile,",
          "content_same": false
        },
        {
          "line": 8796,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "rewind(srv_dict_tmpfile)",
          "old_line_content": "\t}",
          "new_line_content": "\t\trewind(srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 8797,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(str, 1, flen, srv_dict_tmpfile)",
          "old_line_content": "",
          "new_line_content": "\t\tflen = (uint) fread(str, 1, flen, srv_dict_tmpfile);",
          "content_same": false
        },
        {
          "line": 10844,
          "old_api": null,
          "new_api": "UT_LIST_GET_LEN",
          "old_text": null,
          "new_text": "UT_LIST_GET_LEN(prebuilt->table->foreign_list)",
          "old_line_content": "foreign_key_column_is_being_renamed(",
          "new_line_content": "\tif (UT_LIST_GET_LEN(prebuilt->table->foreign_list) == 0",
          "content_same": false
        },
        {
          "line": 10845,
          "old_api": null,
          "new_api": "UT_LIST_GET_LEN",
          "old_text": null,
          "new_text": "UT_LIST_GET_LEN(prebuilt->table->referenced_list)",
          "old_line_content": "/*================================*/",
          "new_line_content": "\t    && UT_LIST_GET_LEN(prebuilt->table->referenced_list) == 0) {",
          "content_same": false
        },
        {
          "line": 10851,
          "old_api": null,
          "new_api": "row_mysql_lock_data_dictionary",
          "old_text": null,
          "new_text": "row_mysql_lock_data_dictionary(prebuilt->trx)",
          "old_line_content": "\t/* check whether there are foreign keys at all */",
          "new_line_content": "\trow_mysql_lock_data_dictionary(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 10855,
          "old_api": null,
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": null,
          "new_text": "UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "old_line_content": "",
          "new_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->referenced_list);",
          "content_same": false
        },
        {
          "line": 10857,
          "old_api": null,
          "new_api": "UT_LIST_GET_NEXT",
          "old_text": null,
          "new_text": "UT_LIST_GET_NEXT(referenced_list, foreign)",
          "old_line_content": "\t}",
          "new_line_content": "\t     foreign = UT_LIST_GET_NEXT(referenced_list, foreign)) {",
          "content_same": false
        },
        {
          "line": 10862,
          "old_api": null,
          "new_api": "row_mysql_unlock_data_dictionary",
          "old_text": null,
          "new_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "old_line_content": "\tto this table is being renamed. */",
          "new_line_content": "\t\t\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 10869,
          "old_api": null,
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": null,
          "new_text": "UT_LIST_GET_FIRST(prebuilt->table->foreign_list)",
          "old_line_content": "",
          "new_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->foreign_list);",
          "content_same": false
        },
        {
          "line": 10871,
          "old_api": null,
          "new_api": "UT_LIST_GET_NEXT",
          "old_text": null,
          "new_text": "UT_LIST_GET_NEXT(foreign_list, foreign)",
          "old_line_content": "\t\t\treturn(true);",
          "new_line_content": "\t     foreign = UT_LIST_GET_NEXT(foreign_list, foreign)) {",
          "content_same": false
        },
        {
          "line": 10873,
          "old_api": null,
          "new_api": "column_is_being_renamed",
          "old_text": null,
          "new_text": "column_is_being_renamed(table, foreign->n_fields,\n\t\t\t\t\t    foreign->foreign_col_names)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (column_is_being_renamed(table, foreign->n_fields,",
          "content_same": false
        },
        {
          "line": 8827,
          "old_api": null,
          "new_api": "dict_remove_db_name",
          "old_text": null,
          "new_text": "dict_remove_db_name(foreign->id)",
          "old_line_content": "\tuint\t\t\ti = 0;",
          "new_line_content": "\tptr = dict_remove_db_name(foreign->id);",
          "content_same": false
        },
        {
          "line": 8828,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd, 0, ptr,\n\t\t\t\t\t\t    (uint) strlen(ptr), 1)",
          "old_line_content": "\tulint\t\t\tlen;",
          "new_line_content": "\tf_key_info.foreign_id = thd_make_lex_string(thd, 0, ptr,",
          "content_same": false
        },
        {
          "line": 8829,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(ptr)",
          "old_line_content": "\tchar\t\t\ttmp_buff[NAME_LEN+1];",
          "new_line_content": "\t\t\t\t\t\t    (uint) strlen(ptr), 1);",
          "content_same": false
        },
        {
          "line": 10876,
          "old_api": null,
          "new_api": "row_mysql_unlock_data_dictionary",
          "old_text": null,
          "new_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "old_line_content": "\ttable is being renamed. */",
          "new_line_content": "\t\t\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8834,
          "old_api": null,
          "new_api": "dict_get_db_name_len",
          "old_text": null,
          "new_text": "dict_get_db_name_len(foreign->referenced_table_name)",
          "old_line_content": "",
          "new_line_content": "\tlen = dict_get_db_name_len(foreign->referenced_table_name);",
          "content_same": false
        },
        {
          "line": 8839,
          "old_api": null,
          "new_api": "filename_to_tablename",
          "old_text": null,
          "new_text": "filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff))",
          "old_line_content": "\t/* Name format: database name, '/', table name, '\\0' */",
          "new_line_content": "\tlen = filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff));",
          "content_same": false
        },
        {
          "line": 8840,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "old_line_content": "",
          "new_line_content": "\tf_key_info.referenced_db = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "content_same": false
        },
        {
          "line": 8845,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "old_line_content": "\ttmp_buff[len] = 0;",
          "new_line_content": "\tf_key_info.referenced_table = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "content_same": false
        },
        {
          "line": 8849,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(len < sizeof(tmp_buff))",
          "old_line_content": "",
          "new_line_content": "\tut_a(len < sizeof(tmp_buff));",
          "content_same": false
        },
        {
          "line": 8850,
          "old_api": null,
          "new_api": "ut_memcpy",
          "old_text": null,
          "new_text": "ut_memcpy(tmp_buff, foreign->foreign_table_name, len)",
          "old_line_content": "\t/* Referenced (parent) table name */",
          "new_line_content": "\tut_memcpy(tmp_buff, foreign->foreign_table_name, len);",
          "content_same": false
        },
        {
          "line": 8854,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "old_line_content": "",
          "new_line_content": "\tf_key_info.foreign_db = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "content_same": false
        },
        {
          "line": 8859,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "old_line_content": "\ttmp_buff[len] = 0;",
          "new_line_content": "\tf_key_info.foreign_table = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "content_same": false
        },
        {
          "line": 8863,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd, name, ptr,\n\t\t\t\t\t   (uint) strlen(ptr), 1)",
          "old_line_content": "",
          "new_line_content": "\t\tname = thd_make_lex_string(thd, name, ptr,",
          "content_same": false
        },
        {
          "line": 8864,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(ptr)",
          "old_line_content": "\t/* Dependent (child) table name */",
          "new_line_content": "\t\t\t\t\t   (uint) strlen(ptr), 1);",
          "content_same": false
        },
        {
          "line": 10912,
          "old_api": null,
          "new_api": "check_column_being_renamed",
          "old_text": null,
          "new_text": "check_column_being_renamed(table, NULL)",
          "old_line_content": "\t\treturn(COMPATIBLE_DATA_NO);",
          "new_line_content": "\tif (check_column_being_renamed(table, NULL)) {",
          "content_same": false
        },
        {
          "line": 8868,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(ptr)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t   (uint) strlen(ptr), 1);",
          "content_same": false
        },
        {
          "line": 8869,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "f_key_info.referenced_fields.push_back(name)",
          "old_line_content": "\tdo {",
          "new_line_content": "\t\tf_key_info.referenced_fields.push_back(name);",
          "content_same": false
        },
        {
          "line": 10918,
          "old_api": null,
          "new_api": "foreign_key_column_is_being_renamed",
          "old_text": null,
          "new_text": "foreign_key_column_is_being_renamed(prebuilt, table)",
          "old_line_content": "\tcurrently we can just request a table rebuild/copy by returning",
          "new_line_content": "\tif (foreign_key_column_is_being_renamed(prebuilt, table)) {",
          "content_same": false
        },
        {
          "line": 8886,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd,\n\t\t\t\t\t\t       f_key_info.delete_method,\n\t\t\t\t\t\t       ptr, len, 1)",
          "old_line_content": "\t} else if (foreign->type & DICT_FOREIGN_ON_DELETE_NO_ACTION) {",
          "new_line_content": "\tf_key_info.delete_method = thd_make_lex_string(thd,",
          "content_same": false
        },
        {
          "line": 10951,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(format_name != NULL)",
          "old_line_content": "uint",
          "new_line_content": "\tut_a(format_name != NULL);",
          "content_same": false
        },
        {
          "line": 8904,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd,\n\t\t\t\t\t\t       f_key_info.update_method,\n\t\t\t\t\t\t       ptr, len, 1)",
          "old_line_content": "\t} else if (foreign->type & DICT_FOREIGN_ON_UPDATE_NO_ACTION) {",
          "new_line_content": "\tf_key_info.update_method = thd_make_lex_string(thd,",
          "content_same": false
        },
        {
          "line": 10955,
          "old_api": null,
          "new_api": "strtoul",
          "old_text": null,
          "new_text": "strtoul(format_name, &endp, 10)",
          "old_line_content": "{",
          "new_line_content": "\tformat_id = (uint) strtoul(format_name, &endp, 10);",
          "content_same": false
        },
        {
          "line": 8909,
          "old_api": null,
          "new_api": "thd_make_lex_string",
          "old_text": null,
          "new_text": "thd_make_lex_string(thd,\n\t\t\t\t\tf_key_info.referenced_key_name,\n\t\t\t\t\tforeign->referenced_index->name,\n\t\t\t\t\t (uint) strlen(foreign->referenced_index->name),\n\t\t\t\t\t1)",
          "old_line_content": "\t\tptr = \"RESTRICT\";",
          "new_line_content": "\t\treferenced_key_name = thd_make_lex_string(thd,",
          "content_same": false
        },
        {
          "line": 10970,
          "old_api": null,
          "new_api": "trx_sys_file_format_id_to_name",
          "old_text": null,
          "new_text": "trx_sys_file_format_id_to_name(format_id)",
          "old_line_content": "\t\t\treturn(format_id);",
          "new_line_content": "\t\t\tname = trx_sys_file_format_id_to_name(format_id);",
          "content_same": false
        },
        {
          "line": 10972,
          "old_api": null,
          "new_api": "innobase_strcasecmp",
          "old_text": null,
          "new_text": "innobase_strcasecmp(format_name, name)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\tif (!innobase_strcasecmp(format_name, name)) {",
          "content_same": false
        },
        {
          "line": 8939,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt != NULL)",
          "old_line_content": "ha_innobase::get_foreign_key_list(",
          "new_line_content": "\tut_a(prebuilt != NULL);",
          "content_same": false
        },
        {
          "line": 8940,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "/*==============================*/",
          "new_line_content": "\tupdate_thd(ha_thd());",
          "content_same": false
        },
        {
          "line": 8944,
          "old_api": null,
          "new_api": "trx_search_latch_release_if_reserved",
          "old_text": null,
          "new_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "old_line_content": "\tFOREIGN_KEY_INFO*\tpf_key_info;",
          "new_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8946,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&(dict_sys->mutex))",
          "old_line_content": "",
          "new_line_content": "\tmutex_enter(&(dict_sys->mutex));",
          "content_same": false
        },
        {
          "line": 10994,
          "old_api": null,
          "new_api": "innobase_file_format_name_lookup",
          "old_text": null,
          "new_text": "innobase_file_format_name_lookup(format_max)",
          "old_line_content": "static",
          "new_line_content": "\tformat_id = innobase_file_format_name_lookup(format_max);",
          "content_same": false
        },
        {
          "line": 8950,
          "old_api": null,
          "new_api": "UT_LIST_GET_NEXT",
          "old_text": null,
          "new_text": "UT_LIST_GET_NEXT(foreign_list, foreign)",
          "old_line_content": "\tprebuilt->trx->op_info = \"getting list of foreign keys\";",
          "new_line_content": "\t     foreign = UT_LIST_GET_NEXT(foreign_list, foreign)) {",
          "content_same": false
        },
        {
          "line": 8951,
          "old_api": null,
          "new_api": "get_foreign_key_info",
          "old_text": null,
          "new_text": "get_foreign_key_info(thd, foreign)",
          "old_line_content": "",
          "new_line_content": "\t\tpf_key_info = get_foreign_key_info(thd, foreign);",
          "content_same": false
        },
        {
          "line": 8953,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "f_key_list->push_back(pf_key_info)",
          "old_line_content": "",
          "new_line_content": "\t\t\tf_key_list->push_back(pf_key_info);",
          "content_same": false
        },
        {
          "line": 8957,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&(dict_sys->mutex))",
          "old_line_content": "\t     foreign != NULL;",
          "new_line_content": "\tmutex_exit(&(dict_sys->mutex));",
          "content_same": false
        },
        {
          "line": 11024,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\tvoid*\t\t\t\tsave,\t/*!< out: immediate result",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 8977,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt != NULL)",
          "old_line_content": "ha_innobase::get_parent_foreign_key_list(",
          "new_line_content": "\tut_a(prebuilt != NULL);",
          "content_same": false
        },
        {
          "line": 8978,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "/*=====================================*/",
          "new_line_content": "\tupdate_thd(ha_thd());",
          "content_same": false
        },
        {
          "line": 11025,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(value != NULL)",
          "old_line_content": "\t\t\t\t\t\tfor update function */",
          "new_line_content": "\tut_a(value != NULL);",
          "content_same": false
        },
        {
          "line": 11027,
          "old_api": null,
          "new_api": "val_str",
          "old_text": null,
          "new_text": "value->val_str(value, buff, &len)",
          "old_line_content": "{",
          "new_line_content": "\tfile_format_input = value->val_str(value, buff, &len);",
          "content_same": false
        },
        {
          "line": 8982,
          "old_api": null,
          "new_api": "trx_search_latch_release_if_reserved",
          "old_text": null,
          "new_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "old_line_content": "\tFOREIGN_KEY_INFO*\tpf_key_info;",
          "new_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 8984,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&(dict_sys->mutex))",
          "old_line_content": "",
          "new_line_content": "\tmutex_enter(&(dict_sys->mutex));",
          "content_same": false
        },
        {
          "line": 8988,
          "old_api": null,
          "new_api": "UT_LIST_GET_NEXT",
          "old_text": null,
          "new_text": "UT_LIST_GET_NEXT(referenced_list, foreign)",
          "old_line_content": "\tprebuilt->trx->op_info = \"getting list of referencing foreign keys\";",
          "new_line_content": "\t     foreign = UT_LIST_GET_NEXT(referenced_list, foreign)) {",
          "content_same": false
        },
        {
          "line": 8989,
          "old_api": null,
          "new_api": "get_foreign_key_info",
          "old_text": null,
          "new_text": "get_foreign_key_info(thd, foreign)",
          "old_line_content": "",
          "new_line_content": "\t\tpf_key_info = get_foreign_key_info(thd, foreign);",
          "content_same": false
        },
        {
          "line": 8991,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "f_key_list->push_back(pf_key_info)",
          "old_line_content": "",
          "new_line_content": "\t\t\tf_key_list->push_back(pf_key_info);",
          "content_same": false
        },
        {
          "line": 11039,
          "old_api": null,
          "new_api": "static_cast<const char**>(save)",
          "old_text": null,
          "new_text": "static_cast<const char**>(save)",
          "old_line_content": "",
          "new_line_content": "\t\t\t*static_cast<const char**>(save) =",
          "content_same": false
        },
        {
          "line": 8995,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&(dict_sys->mutex))",
          "old_line_content": "\t     foreign != NULL;",
          "new_line_content": "\tmutex_exit(&(dict_sys->mutex));",
          "content_same": false
        },
        {
          "line": 11046,
          "old_api": null,
          "new_api": "static_cast<const char**>(save)",
          "old_text": null,
          "new_text": "static_cast<const char**>(save)",
          "old_line_content": "\t\t\t'file_format_name_map' constant array. */",
          "new_line_content": "\t*static_cast<const char**>(save) = NULL;",
          "content_same": false
        },
        {
          "line": 9014,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"ha_innobase::can_switch_engines\")",
          "old_line_content": "@return\tTRUE if can switch engines */",
          "new_line_content": "\tDBUG_ENTER(\"ha_innobase::can_switch_engines\");",
          "content_same": false
        },
        {
          "line": 9016,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "bool",
          "new_line_content": "\tut_a(prebuilt->trx == thd_to_trx(ha_thd()));",
          "content_same": false
        },
        {
          "line": 11067,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(var_ptr != NULL)",
          "old_line_content": "\t\t\t\t\t\t\tsystem variable */",
          "new_line_content": "\tut_a(var_ptr != NULL);",
          "content_same": false
        },
        {
          "line": 9020,
          "old_api": null,
          "new_api": "row_mysql_lock_data_dictionary",
          "old_text": null,
          "new_text": "row_mysql_lock_data_dictionary(prebuilt->trx)",
          "old_line_content": "\tbool\tcan_switch;",
          "new_line_content": "\trow_mysql_lock_data_dictionary(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 11068,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\tvoid*\t\t\t\tvar_ptr,\t/*!< out: where the",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 11070,
          "old_api": null,
          "new_api": "static_cast<const char*const*>(save)",
          "old_text": null,
          "new_text": "static_cast<const char*const*>(save)",
          "old_line_content": "\tconst void*\t\t\tsave)\t\t/*!< in: immediate result",
          "new_line_content": "\tformat_name = *static_cast<const char*const*>(save);",
          "content_same": false
        },
        {
          "line": 9023,
          "old_api": null,
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": null,
          "new_text": "UT_LIST_GET_FIRST(prebuilt->table->foreign_list)",
          "old_line_content": "",
          "new_line_content": "\t\t\t&& !UT_LIST_GET_FIRST(prebuilt->table->foreign_list);",
          "content_same": false
        },
        {
          "line": 9025,
          "old_api": null,
          "new_api": "row_mysql_unlock_data_dictionary",
          "old_text": null,
          "new_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "old_line_content": "",
          "new_line_content": "\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "content_same": false
        },
        {
          "line": 11082,
          "old_api": null,
          "new_api": "static_cast<const char**>(var_ptr)",
          "old_text": null,
          "new_text": "static_cast<const char**>(var_ptr)",
          "old_line_content": "",
          "new_line_content": "\t*static_cast<const char**>(var_ptr)",
          "content_same": false
        },
        {
          "line": 9042,
          "old_api": null,
          "new_api": "dict_table_is_referenced_by_foreign_key",
          "old_text": null,
          "new_text": "dict_table_is_referenced_by_foreign_key(prebuilt->table)",
          "old_line_content": "delete is then allowed internally to resolve a duplicate key conflict in",
          "new_line_content": "\tif (dict_table_is_referenced_by_foreign_key(prebuilt->table)) {",
          "content_same": false
        },
        {
          "line": 11106,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\t\t\t\t\t\tfor update function */",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 11107,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(value != NULL)",
          "old_line_content": "\tstruct st_mysql_value*\t\tvalue)\t/*!< in: incoming string */",
          "new_line_content": "\tut_a(value != NULL);",
          "content_same": false
        },
        {
          "line": 9060,
          "old_api": null,
          "new_api": "my_free",
          "old_text": null,
          "new_text": "my_free(str)",
          "old_line_content": "non-NULL. */",
          "new_line_content": "\t\tmy_free(str);",
          "content_same": false
        },
        {
          "line": 11109,
          "old_api": null,
          "new_api": "val_str",
          "old_text": null,
          "new_text": "value->val_str(value, buff, &len)",
          "old_line_content": "\tconst char*\tfile_format_input;",
          "new_line_content": "\tfile_format_input = value->val_str(value, buff, &len);",
          "content_same": false
        },
        {
          "line": 11113,
          "old_api": null,
          "new_api": "innobase_file_format_validate_and_set",
          "old_text": null,
          "new_text": "innobase_file_format_validate_and_set(\n\t\t\tfile_format_input)",
          "old_line_content": "",
          "new_line_content": "\t\tformat_id = innobase_file_format_validate_and_set(",
          "content_same": false
        },
        {
          "line": 11119,
          "old_api": null,
          "new_api": "static_cast<const char**>(save)",
          "old_text": null,
          "new_text": "static_cast<const char**>(save)",
          "old_line_content": "\tif (file_format_input != NULL) {",
          "new_line_content": "\t\t\t*static_cast<const char**>(save) =",
          "content_same": false
        },
        {
          "line": 11120,
          "old_api": null,
          "new_api": "trx_sys_file_format_id_to_name",
          "old_text": null,
          "new_text": "trx_sys_file_format_id_to_name(\n\t\t\t\t\t\t(uint)format_id)",
          "old_line_content": "",
          "new_line_content": "\t\t\t    trx_sys_file_format_id_to_name(",
          "content_same": false
        },
        {
          "line": 11126,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(thd,\n\t\t\t  MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t  ER_WRONG_ARGUMENTS,\n\t\t\t  \"InnoDB: invalid innodb_file_format_max \"\n\t\t\t  \"value; can be any format up to %s \"\n\t\t\t  \"or equivalent id of %d\",\n\t\t\t  trx_sys_file_format_id_to_name(DICT_TF_FORMAT_MAX),\n\t\t\t  DICT_TF_FORMAT_MAX)",
          "old_line_content": "\t\t\t'file_format_name_map' constant array. */",
          "new_line_content": "\t\t\tpush_warning_printf(thd,",
          "content_same": false
        },
        {
          "line": 9081,
          "old_api": null,
          "new_api": "row_mysql_prebuilt_free_blob_heap",
          "old_text": null,
          "new_text": "row_mysql_prebuilt_free_blob_heap(prebuilt)",
          "old_line_content": "{",
          "new_line_content": "\t\t\t\trow_mysql_prebuilt_free_blob_heap(prebuilt);",
          "content_same": false
        },
        {
          "line": 11132,
          "old_api": null,
          "new_api": "trx_sys_file_format_id_to_name",
          "old_text": null,
          "new_text": "trx_sys_file_format_id_to_name(DICT_TF_FORMAT_MAX)",
          "old_line_content": "",
          "new_line_content": "\t\t\t  trx_sys_file_format_id_to_name(DICT_TF_FORMAT_MAX),",
          "content_same": false
        },
        {
          "line": 9085,
          "old_api": null,
          "new_api": "reset_template",
          "old_text": null,
          "new_text": "reset_template()",
          "old_line_content": "",
          "new_line_content": "\t\t\treset_template();",
          "content_same": false
        },
        {
          "line": 11137,
          "old_api": null,
          "new_api": "static_cast<const char**>(save)",
          "old_text": null,
          "new_text": "static_cast<const char**>(save)",
          "old_line_content": "\t\t\t  \"InnoDB: invalid innodb_file_format_max \"",
          "new_line_content": "\t*static_cast<const char**>(save) = NULL;",
          "content_same": false
        },
        {
          "line": 9104,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "",
          "new_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates |= TRX_DUP_IGNORE;",
          "content_same": false
        },
        {
          "line": 9107,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "\t\t\tcalls external_lock before this method with the",
          "new_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates |= TRX_DUP_REPLACE;",
          "content_same": false
        },
        {
          "line": 9110,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "\t\t\tCAREFUL HERE, OR MEMORY CORRUPTION MAY OCCUR! */",
          "new_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates &= ~TRX_DUP_REPLACE;",
          "content_same": false
        },
        {
          "line": 11160,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\t\t\t\t\t\tformal string goes */",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 9113,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates &=",
          "content_same": false
        },
        {
          "line": 11161,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(var_ptr != NULL)",
          "old_line_content": "\tconst void*\t\t\tsave)\t/*!< in: immediate result",
          "new_line_content": "\tut_a(var_ptr != NULL);",
          "content_same": false
        },
        {
          "line": 11163,
          "old_api": null,
          "new_api": "static_cast<const char*const*>(save)",
          "old_text": null,
          "new_text": "static_cast<const char*const*>(save)",
          "old_line_content": "{",
          "new_line_content": "\tformat_name_in = *static_cast<const char*const*>(save);",
          "content_same": false
        },
        {
          "line": 11170,
          "old_api": null,
          "new_api": "innobase_file_format_name_lookup",
          "old_text": null,
          "new_text": "innobase_file_format_name_lookup(format_name_in)",
          "old_line_content": "",
          "new_line_content": "\tformat_id = innobase_file_format_name_lookup(format_name_in);",
          "content_same": false
        },
        {
          "line": 11174,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t    ER_WRONG_ARGUMENTS,\n\t\t\t\t    \"Ignoring SET innodb_file_format=%s\",\n\t\t\t\t    format_name_in)",
          "old_line_content": "",
          "new_line_content": "\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 9131,
          "old_api": null,
          "new_api": "row_mysql_prebuilt_free_blob_heap",
          "old_text": null,
          "new_text": "row_mysql_prebuilt_free_blob_heap(prebuilt)",
          "old_line_content": "/******************************************************************//**",
          "new_line_content": "\t\trow_mysql_prebuilt_free_blob_heap(prebuilt);",
          "content_same": false
        },
        {
          "line": 11181,
          "old_api": null,
          "new_api": "static_cast<const char**>(var_ptr)",
          "old_text": null,
          "new_text": "static_cast<const char**>(var_ptr)",
          "old_line_content": "\t\t/* DEFAULT is \"on\", which is invalid at runtime. */",
          "new_line_content": "\tformat_name_out = static_cast<const char**>(var_ptr);",
          "content_same": false
        },
        {
          "line": 9134,
          "old_api": null,
          "new_api": "reset_template",
          "old_text": null,
          "new_text": "reset_template()",
          "old_line_content": "int",
          "new_line_content": "\treset_template();",
          "content_same": false
        },
        {
          "line": 9135,
          "old_api": null,
          "new_api": "dsmrr_close",
          "old_text": null,
          "new_text": "ds_mrr.dsmrr_close()",
          "old_line_content": "ha_innobase::reset()",
          "new_line_content": "\tds_mrr.dsmrr_close();",
          "content_same": false
        },
        {
          "line": 11184,
          "old_api": null,
          "new_api": "trx_sys_file_format_max_set",
          "old_text": null,
          "new_text": "trx_sys_file_format_max_set(format_id, format_name_out)",
          "old_line_content": "\t\t\t\t    \"Ignoring SET innodb_file_format=%s\",",
          "new_line_content": "\tif (trx_sys_file_format_max_set(format_id, format_name_out)) {",
          "content_same": false
        },
        {
          "line": 11185,
          "old_api": null,
          "new_api": "ut_print_timestamp",
          "old_text": null,
          "new_text": "ut_print_timestamp(stderr)",
          "old_line_content": "\t\t\t\t    format_name_in);",
          "new_line_content": "\t\tut_print_timestamp(stderr);",
          "content_same": false
        },
        {
          "line": 11186,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\" [Info] InnoDB: the file format in the system \"\n\t\t\t\"tablespace is now set to %s.\\n\", *format_name_out)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 11208,
          "old_api": null,
          "new_api": "btr_search_enable",
          "old_text": null,
          "new_text": "btr_search_enable()",
          "old_line_content": "\tstruct st_mysql_sys_var*\tvar,\t/*!< in: pointer to",
          "new_line_content": "\t\tbtr_search_enable();",
          "content_same": false
        },
        {
          "line": 11210,
          "old_api": null,
          "new_api": "btr_search_disable",
          "old_text": null,
          "new_text": "btr_search_disable()",
          "old_line_content": "\tvoid*\t\t\t\tvar_ptr,/*!< out: where the",
          "new_line_content": "\t\tbtr_search_disable();",
          "content_same": false
        },
        {
          "line": 9167,
          "old_api": null,
          "new_api": "update_thd",
          "old_text": null,
          "new_text": "update_thd(thd)",
          "old_line_content": "int",
          "new_line_content": "\tupdate_thd(thd);",
          "content_same": false
        },
        {
          "line": 9178,
          "old_api": null,
          "new_api": "innobase_release_stat_resources",
          "old_text": null,
          "new_text": "innobase_release_stat_resources(trx)",
          "old_line_content": "",
          "new_line_content": "\tinnobase_release_stat_resources(trx);",
          "content_same": false
        },
        {
          "line": 11229,
          "old_api": null,
          "new_api": "buf_LRU_old_ratio_update",
          "old_text": null,
          "new_text": "buf_LRU_old_ratio_update(\n\t\t*static_cast<const uint*>(save), TRUE)",
          "old_line_content": "\tTHD*\t\t\t\tthd,\t/*!< in: thread handle */",
          "new_line_content": "\tinnobase_old_blocks_pct = buf_LRU_old_ratio_update(",
          "content_same": false
        },
        {
          "line": 11230,
          "old_api": null,
          "new_api": "static_cast<const uint*>(save)",
          "old_text": null,
          "new_text": "static_cast<const uint*>(save)",
          "old_line_content": "\tstruct st_mysql_sys_var*\tvar,\t/*!< in: pointer to",
          "new_line_content": "\t\t*static_cast<const uint*>(save), TRUE);",
          "content_same": false
        },
        {
          "line": 9185,
          "old_api": null,
          "new_api": "reset_template",
          "old_text": null,
          "new_text": "reset_template()",
          "old_line_content": "",
          "new_line_content": "\treset_template();",
          "content_same": false
        },
        {
          "line": 9196,
          "old_api": null,
          "new_api": "thd_sql_command",
          "old_text": null,
          "new_text": "thd_sql_command(thd)",
          "old_line_content": "\t\t/* This handle is for a temporary table created inside",
          "new_line_content": "\t\t   && thd_sql_command(thd) == SQLCOM_SELECT",
          "content_same": false
        },
        {
          "line": 11248,
          "old_api": null,
          "new_api": "UT_ARR_SIZE",
          "old_text": null,
          "new_text": "UT_ARR_SIZE(innobase_change_buffering_values)",
          "old_line_content": "ibuf_use_t",
          "new_line_content": "\tfor (use = 0; use < UT_ARR_SIZE(innobase_change_buffering_values);",
          "content_same": false
        },
        {
          "line": 11251,
          "old_api": null,
          "new_api": "innobase_strcasecmp",
          "old_text": null,
          "new_text": "innobase_strcasecmp(\n\t\t\tinput_name, innobase_change_buffering_values[use])",
          "old_line_content": "\tconst char*\tinput_name)\t/*!< in: input change buffering",
          "new_line_content": "\t\tif (!innobase_strcasecmp(",
          "content_same": false
        },
        {
          "line": 9217,
          "old_api": null,
          "new_api": "innobase_register_trx",
          "old_text": null,
          "new_text": "innobase_register_trx(ht, thd, trx)",
          "old_line_content": "\t\t3) ::init_table_handle_for_HANDLER(), and",
          "new_line_content": "\tinnobase_register_trx(ht, thd, trx);",
          "content_same": false
        },
        {
          "line": 11280,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\tvoid*\t\t\t\tsave,\t/*!< out: immediate result",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 11281,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(value != NULL)",
          "old_line_content": "\t\t\t\t\t\tfor update function */",
          "new_line_content": "\tut_a(value != NULL);",
          "content_same": false
        },
        {
          "line": 11283,
          "old_api": null,
          "new_api": "val_str",
          "old_text": null,
          "new_text": "value->val_str(value, buff, &len)",
          "old_line_content": "{",
          "new_line_content": "\tchange_buffering_input = value->val_str(value, buff, &len);",
          "content_same": false
        },
        {
          "line": 11293,
          "old_api": null,
          "new_api": "static_cast<const char**>(save)",
          "old_text": null,
          "new_text": "static_cast<const char**>(save)",
          "old_line_content": "\tif (change_buffering_input != NULL) {",
          "new_line_content": "\t\t\t*static_cast<const char**>(save) =",
          "content_same": false
        },
        {
          "line": 9261,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"ha_innobase::external_lock\")",
          "old_line_content": "int",
          "new_line_content": "\tDBUG_ENTER(\"ha_innobase::external_lock\");",
          "content_same": false
        },
        {
          "line": 9262,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type))",
          "old_line_content": "ha_innobase::external_lock(",
          "new_line_content": "\tDBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type));",
          "content_same": false
        },
        {
          "line": 9264,
          "old_api": null,
          "new_api": "update_thd",
          "old_text": null,
          "new_text": "update_thd(thd)",
          "old_line_content": "\tTHD*\tthd,\t\t/*!< in: handle to the user thread */",
          "new_line_content": "\tupdate_thd(thd);",
          "content_same": false
        },
        {
          "line": 9273,
          "old_api": null,
          "new_api": "table_flags",
          "old_text": null,
          "new_text": "table_flags()",
          "old_line_content": "",
          "new_line_content": "\t    && !(table_flags() & HA_BINLOG_STMT_CAPABLE)",
          "content_same": false
        },
        {
          "line": 9274,
          "old_api": null,
          "new_api": "thd_binlog_format",
          "old_text": null,
          "new_text": "thd_binlog_format(thd)",
          "old_line_content": "\t/* Statement based binlogging does not work in isolation level",
          "new_line_content": "\t    && thd_binlog_format(thd) == BINLOG_FORMAT_STMT",
          "content_same": false
        },
        {
          "line": 9275,
          "old_api": null,
          "new_api": "thd_binlog_filter_ok",
          "old_text": null,
          "new_text": "thd_binlog_filter_ok(thd)",
          "old_line_content": "\tREAD UNCOMMITTED and READ COMMITTED since the necessary",
          "new_line_content": "\t    && thd_binlog_filter_ok(thd)",
          "content_same": false
        },
        {
          "line": 9276,
          "old_api": null,
          "new_api": "thd_sqlcom_can_generate_row_events",
          "old_text": null,
          "new_text": "thd_sqlcom_can_generate_row_events(thd)",
          "old_line_content": "\tlocks cannot be taken. In this case, we print an",
          "new_line_content": "\t    && thd_sqlcom_can_generate_row_events(thd))",
          "content_same": false
        },
        {
          "line": 11322,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(var_ptr != NULL)",
          "old_line_content": "\t\t\t\t\t\tsystem variable */",
          "new_line_content": "\tut_a(var_ptr != NULL);",
          "content_same": false
        },
        {
          "line": 11323,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\tvoid*\t\t\t\tvar_ptr,/*!< out: where the",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 11325,
          "old_api": null,
          "new_api": "innodb_find_change_buffering_value",
          "old_text": null,
          "new_text": "innodb_find_change_buffering_value(\n\t\t*static_cast<const char*const*>(save))",
          "old_line_content": "\tconst void*\t\t\tsave)\t/*!< in: immediate result",
          "new_line_content": "\tuse = innodb_find_change_buffering_value(",
          "content_same": false
        },
        {
          "line": 9280,
          "old_api": null,
          "new_api": "DBUG_EXECUTE_IF",
          "old_text": null,
          "new_text": "DBUG_EXECUTE_IF(\"no_innodb_binlog_errors\", skip = 1;)",
          "old_line_content": "\tif (lock_type == F_WRLCK",
          "new_line_content": "\t\tDBUG_EXECUTE_IF(\"no_innodb_binlog_errors\", skip = 1;);",
          "content_same": false
        },
        {
          "line": 11326,
          "old_api": null,
          "new_api": "static_cast<const char*const*>(save)",
          "old_text": null,
          "new_text": "static_cast<const char*const*>(save)",
          "old_line_content": "\t\t\t\t\t\tfrom check function */",
          "new_line_content": "\t\t*static_cast<const char*const*>(save));",
          "content_same": false
        },
        {
          "line": 11328,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(use < IBUF_USE_COUNT)",
          "old_line_content": "\tibuf_use_t\tuse;",
          "new_line_content": "\tut_a(use < IBUF_USE_COUNT);",
          "content_same": false
        },
        {
          "line": 11332,
          "old_api": null,
          "new_api": "static_cast<const char*const*>(save)",
          "old_text": null,
          "new_text": "static_cast<const char*const*>(save)",
          "old_line_content": "",
          "new_line_content": "\t\t *static_cast<const char*const*>(save);",
          "content_same": false
        },
        {
          "line": 9286,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(HA_ERR_LOGGING_IMPOSSIBLE)",
          "old_line_content": "\t\tint skip = 0;",
          "new_line_content": "\t\t\tDBUG_RETURN(HA_ERR_LOGGING_IMPOSSIBLE);",
          "content_same": false
        },
        {
          "line": 9296,
          "old_api": null,
          "new_api": "reset_template",
          "old_text": null,
          "new_text": "reset_template()",
          "old_line_content": "\t}",
          "new_line_content": "\treset_template();",
          "content_same": false
        },
        {
          "line": 11352,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(!(monitor_info->monitor_type & MONITOR_GROUP_MODULE))",
          "old_line_content": "\tmon_option_t\tset_option)\t/*!< in: Turn on/off reset the",
          "new_line_content": "\tut_a(!(monitor_info->monitor_type & MONITOR_GROUP_MODULE));",
          "content_same": false
        },
        {
          "line": 11356,
          "old_api": null,
          "new_api": "MONITOR_ON",
          "old_text": null,
          "new_text": "MONITOR_ON(monitor_id)",
          "old_line_content": "",
          "new_line_content": "\t\tMONITOR_ON(monitor_id);",
          "content_same": false
        },
        {
          "line": 11357,
          "old_api": null,
          "new_api": "MONITOR_INIT",
          "old_text": null,
          "new_text": "MONITOR_INIT(monitor_id)",
          "old_line_content": "\t/* If module type is MONITOR_GROUP_MODULE, it cannot be",
          "new_line_content": "\t\tMONITOR_INIT(monitor_id);",
          "content_same": false
        },
        {
          "line": 11358,
          "old_api": null,
          "new_api": "MONITOR_SET_START",
          "old_text": null,
          "new_text": "MONITOR_SET_START(monitor_id)",
          "old_line_content": "\tturned on/off individually. It should never use this",
          "new_line_content": "\t\tMONITOR_SET_START(monitor_id);",
          "content_same": false
        },
        {
          "line": 9311,
          "old_api": null,
          "new_api": "innobase_register_trx",
          "old_text": null,
          "new_text": "innobase_register_trx(ht, thd, trx)",
          "old_line_content": "\t\tprebuilt->stored_select_lock_type = LOCK_X;",
          "new_line_content": "\t\tinnobase_register_trx(ht, thd, trx);",
          "content_same": false
        },
        {
          "line": 9315,
          "old_api": null,
          "new_api": "thd_test_options",
          "old_text": null,
          "new_text": "thd_test_options(\n\t\t\t    thd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "old_line_content": "\t\t/* MySQL is setting a new table lock */",
          "new_line_content": "\t\t    && thd_test_options(",
          "content_same": false
        },
        {
          "line": 11373,
          "old_api": null,
          "new_api": "srv_mon_process_existing_counter",
          "old_text": null,
          "new_text": "srv_mon_process_existing_counter(\n\t\t\t\tmonitor_id, MONITOR_TURN_OFF)",
          "old_line_content": "\t\t    & MONITOR_EXISTING) {",
          "new_line_content": "\t\t\tsrv_mon_process_existing_counter(",
          "content_same": false
        },
        {
          "line": 11377,
          "old_api": null,
          "new_api": "MONITOR_OFF",
          "old_text": null,
          "new_text": "MONITOR_OFF(monitor_id)",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\tMONITOR_OFF(monitor_id);",
          "content_same": false
        },
        {
          "line": 11378,
          "old_api": null,
          "new_api": "MONITOR_SET_OFF",
          "old_text": null,
          "new_text": "MONITOR_SET_OFF(monitor_id)",
          "old_line_content": "",
          "new_line_content": "\t\tMONITOR_SET_OFF(monitor_id);",
          "content_same": false
        },
        {
          "line": 11382,
          "old_api": null,
          "new_api": "srv_mon_reset",
          "old_text": null,
          "new_text": "srv_mon_reset(monitor_id)",
          "old_line_content": "\t\t\t\tmonitor_id, MONITOR_TURN_OFF);",
          "new_line_content": "\t\tsrv_mon_reset(monitor_id);",
          "content_same": false
        },
        {
          "line": 9343,
          "old_api": null,
          "new_api": "thd_sql_command",
          "old_text": null,
          "new_text": "thd_sql_command(thd)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (thd_sql_command(thd) == SQLCOM_LOCK_TABLES",
          "content_same": false
        },
        {
          "line": 9344,
          "old_api": null,
          "new_api": "THDVAR",
          "old_text": null,
          "new_text": "THDVAR(thd, table_locks)",
          "old_line_content": "\t\tWe do not set InnoDB table locks if user has not explicitly",
          "new_line_content": "\t\t\t    && THDVAR(thd, table_locks)",
          "content_same": false
        },
        {
          "line": 9345,
          "old_api": null,
          "new_api": "thd_test_options",
          "old_text": null,
          "new_text": "thd_test_options(thd, OPTION_NOT_AUTOCOMMIT)",
          "old_line_content": "\t\trequested a table lock. Note that thd_in_lock_tables(thd)",
          "new_line_content": "\t\t\t    && thd_test_options(thd, OPTION_NOT_AUTOCOMMIT)",
          "content_same": false
        },
        {
          "line": 9346,
          "old_api": null,
          "new_api": "thd_in_lock_tables",
          "old_text": null,
          "new_text": "thd_in_lock_tables(thd)",
          "old_line_content": "\t\tcan hold in some cases, e.g., at the start of a stored",
          "new_line_content": "\t\t\t    && thd_in_lock_tables(thd)) {",
          "content_same": false
        },
        {
          "line": 9348,
          "old_api": null,
          "new_api": "row_lock_table_for_mysql",
          "old_text": null,
          "new_text": "row_lock_table_for_mysql(\n\t\t\t\t\tprebuilt, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tulint\terror = row_lock_table_for_mysql(",
          "content_same": false
        },
        {
          "line": 11406,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(name)",
          "old_line_content": "static",
          "new_line_content": "\tut_a(name);",
          "content_same": false
        },
        {
          "line": 11410,
          "old_api": null,
          "new_api": "static_cast<monitor_id_t>(use)",
          "old_text": null,
          "new_text": "static_cast<monitor_id_t>(use)",
          "old_line_content": "\tconst char*\tname,\t\t/*!< in: monitor name to match */",
          "new_line_content": "\t\tmonitor_id_t\tmonitor_id = static_cast<monitor_id_t>(use);",
          "content_same": false
        },
        {
          "line": 9364,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 11413,
          "old_api": null,
          "new_api": "innobase_wildcasecmp",
          "old_text": null,
          "new_text": "innobase_wildcasecmp(\n\t\t\tsrv_mon_get_name(monitor_id), name)",
          "old_line_content": "{",
          "new_line_content": "\t\tif (!innobase_wildcasecmp(",
          "content_same": false
        },
        {
          "line": 11415,
          "old_api": null,
          "new_api": "srv_mon_get_info",
          "old_text": null,
          "new_text": "srv_mon_get_info(monitor_id)",
          "old_line_content": "",
          "new_line_content": "\t\t\tmonitor_info = srv_mon_get_info(monitor_id);",
          "content_same": false
        },
        {
          "line": 9376,
          "old_api": null,
          "new_api": "innobase_release_stat_resources",
          "old_text": null,
          "new_text": "innobase_release_stat_resources(trx)",
          "old_line_content": "",
          "new_line_content": "\tinnobase_release_stat_resources(trx);",
          "content_same": false
        },
        {
          "line": 11425,
          "old_api": null,
          "new_api": "innodb_monitor_set_option",
          "old_text": null,
          "new_text": "innodb_monitor_set_option(monitor_info,\n\t\t\t\t\t\t\t  set_option)",
          "old_line_content": "\t\t\ttype = monitor_info->monitor_type;",
          "new_line_content": "\t\t\t\tinnodb_monitor_set_option(monitor_info,",
          "content_same": false
        },
        {
          "line": 9386,
          "old_api": null,
          "new_api": "thd_test_options",
          "old_text": null,
          "new_text": "thd_test_options(\n\t\t\t\tthd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "old_line_content": "\t/* If the MySQL lock count drops to zero we know that the current SQL",
          "new_line_content": "\t\tif (!thd_test_options(",
          "content_same": false
        },
        {
          "line": 9389,
          "old_api": null,
          "new_api": "trx_is_started",
          "old_text": null,
          "new_text": "trx_is_started(trx)",
          "old_line_content": "\tif (trx->n_mysql_tables_in_use == 0) {",
          "new_line_content": "\t\t\tif (trx_is_started(trx)) {",
          "content_same": false
        },
        {
          "line": 9390,
          "old_api": null,
          "new_api": "innobase_commit",
          "old_text": null,
          "new_text": "innobase_commit(ht, thd, TRUE)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tinnobase_commit(ht, thd, TRUE);",
          "content_same": false
        },
        {
          "line": 11437,
          "old_api": null,
          "new_api": "MONITOR_IS_ON",
          "old_text": null,
          "new_text": "MONITOR_IS_ON(\n\t\t\t\t\t\tMONITOR_MODULE_BUF_PAGE)",
          "old_line_content": "\t\t\t/* Need to special handle counters marked with",
          "new_line_content": "\t\t\t\t\t    && MONITOR_IS_ON(",
          "content_same": false
        },
        {
          "line": 11442,
          "old_api": null,
          "new_api": "srv_mon_set_module_control",
          "old_text": null,
          "new_text": "srv_mon_set_module_control(\n\t\t\t\t\t\tMONITOR_MODULE_BUF_PAGE,\n\t\t\t\t\t\tset_option)",
          "old_line_content": "\t\t\t\tif ((monitor_id >= MONITOR_MODULE_BUF_PAGE)",
          "new_line_content": "\t\t\t\t\tsrv_mon_set_module_control(",
          "content_same": false
        },
        {
          "line": 9399,
          "old_api": null,
          "new_api": "read_view_close_for_mysql",
          "old_text": null,
          "new_text": "read_view_close_for_mysql(trx)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tread_view_close_for_mysql(trx);",
          "content_same": false
        },
        {
          "line": 11449,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(0)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tut_ad(0);",
          "content_same": false
        },
        {
          "line": 9403,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 11466,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(name)",
          "old_line_content": "and return its monitor ID if found.",
          "new_line_content": "\tut_a(name);",
          "content_same": false
        },
        {
          "line": 9419,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"ha_innobase::transactional_table_lock\")",
          "old_line_content": "int",
          "new_line_content": "\tDBUG_ENTER(\"ha_innobase::transactional_table_lock\");",
          "content_same": false
        },
        {
          "line": 9420,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type))",
          "old_line_content": "ha_innobase::transactional_table_lock(",
          "new_line_content": "\tDBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type));",
          "content_same": false
        },
        {
          "line": 11473,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(name, '%')",
          "old_line_content": "{",
          "new_line_content": "\tif (strchr(name, '%')) {",
          "content_same": false
        },
        {
          "line": 9426,
          "old_api": null,
          "new_api": "update_thd",
          "old_text": null,
          "new_text": "update_thd(thd)",
          "old_line_content": "",
          "new_line_content": "\tupdate_thd(thd);",
          "content_same": false
        },
        {
          "line": 9429,
          "old_api": null,
          "new_api": "ut_print_timestamp",
          "old_text": null,
          "new_text": "ut_print_timestamp(stderr)",
          "old_line_content": "",
          "new_line_content": "\t\tut_print_timestamp(stderr);",
          "content_same": false
        },
        {
          "line": 9430,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\"  InnoDB: MySQL is trying to use a table handle\"\n\t\t\t\" but the .ibd file for\\n\"\n\t\t\t\"InnoDB: table %s does not exist.\\n\"\n\t\t\t\"InnoDB: Have you deleted the .ibd file\"\n\t\t\t\" from the database directory under\\n\"\n\t\t\t\"InnoDB: the MySQL datadir?\"\n\t\t\t\"InnoDB: See \" REFMAN\n\t\t\t\"innodb-troubleshooting.html\\n\"\n\t\t\t\"InnoDB: how you can resolve the problem.\\n\",\n\t\t\tprebuilt->table->name)",
          "old_line_content": "\t/* We do not know if MySQL can call this function before calling",
          "new_line_content": "\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 11479,
          "old_api": null,
          "new_api": "innobase_strcasecmp",
          "old_text": null,
          "new_text": "innobase_strcasecmp(\n\t\t\tname, srv_mon_get_name(static_cast<monitor_id_t>(i)))",
          "old_line_content": "\tsuch character. To avoid confusion, we request user must include",
          "new_line_content": "\t\tif (!innobase_strcasecmp(",
          "content_same": false
        },
        {
          "line": 11480,
          "old_api": null,
          "new_api": "static_cast<monitor_id_t>(i)",
          "old_text": null,
          "new_text": "static_cast<monitor_id_t>(i)",
          "old_line_content": "\tat least one '%' character to activate the wildcard search. */",
          "new_line_content": "\t\t\tname, srv_mon_get_name(static_cast<monitor_id_t>(i)))) {",
          "content_same": false
        },
        {
          "line": 9441,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(HA_ERR_CRASHED)",
          "old_line_content": "\t\t\t\"InnoDB: table %s does not exist.\\n\"",
          "new_line_content": "\t\tDBUG_RETURN(HA_ERR_CRASHED);",
          "content_same": false
        },
        {
          "line": 11498,
          "old_api": null,
          "new_api": "innobase_wildcasecmp",
          "old_text": null,
          "new_text": "innobase_wildcasecmp(\n\t\t\tsrv_mon_get_name(static_cast<monitor_id_t>(i)), name)",
          "old_line_content": "@return\tTRUE if at least one monitor name matches */",
          "new_line_content": "\t\tif (!innobase_wildcasecmp(",
          "content_same": false
        },
        {
          "line": 11499,
          "old_api": null,
          "new_api": "static_cast<monitor_id_t>(i)",
          "old_text": null,
          "new_text": "static_cast<monitor_id_t>(i)",
          "old_line_content": "static",
          "new_line_content": "\t\t\tsrv_mon_get_name(static_cast<monitor_id_t>(i)), name)) {",
          "content_same": false
        },
        {
          "line": 9458,
          "old_api": null,
          "new_api": "ut_print_timestamp",
          "old_text": null,
          "new_text": "ut_print_timestamp(stderr)",
          "old_line_content": "",
          "new_line_content": "\t\tut_print_timestamp(stderr);",
          "content_same": false
        },
        {
          "line": 9459,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"  InnoDB error:\\n\"\n\"MySQL is trying to set transactional table lock with corrupted lock type\\n\"\n\"to table %s, lock type %d does not exist.\\n\",\n\t\t\t\tprebuilt->table->name, lock_type)",
          "old_line_content": "\tif (lock_type == F_WRLCK) {",
          "new_line_content": "\t\tfprintf(stderr, \"  InnoDB error:\\n\"",
          "content_same": false
        },
        {
          "line": 9463,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(HA_ERR_CRASHED)",
          "old_line_content": "\t\tprebuilt->select_lock_type = LOCK_S;",
          "new_line_content": "\t\tDBUG_RETURN(HA_ERR_CRASHED);",
          "content_same": false
        },
        {
          "line": 9468,
          "old_api": null,
          "new_api": "innobase_register_trx",
          "old_text": null,
          "new_text": "innobase_register_trx(ht, thd, trx)",
          "old_line_content": "\"MySQL is trying to set transactional table lock with corrupted lock type\\n\"",
          "new_line_content": "\tinnobase_register_trx(ht, thd, trx);",
          "content_same": false
        },
        {
          "line": 9470,
          "old_api": null,
          "new_api": "thd_in_lock_tables",
          "old_text": null,
          "new_text": "thd_in_lock_tables(thd)",
          "old_line_content": "\t\t\t\tprebuilt->table->name, lock_type);",
          "new_line_content": "\tif (THDVAR(thd, table_locks) && thd_in_lock_tables(thd)) {",
          "content_same": false
        },
        {
          "line": 9473,
          "old_api": null,
          "new_api": "row_lock_table_for_mysql",
          "old_text": null,
          "new_text": "row_lock_table_for_mysql(prebuilt, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "\t\terror = row_lock_table_for_mysql(prebuilt, NULL, 0);",
          "content_same": false
        },
        {
          "line": 11525,
          "old_api": null,
          "new_api": "innodb_monitor_id_by_name_get",
          "old_text": null,
          "new_text": "innodb_monitor_id_by_name_get(name)",
          "old_line_content": "{",
          "new_line_content": "\tuse = innodb_monitor_id_by_name_get(name);",
          "content_same": false
        },
        {
          "line": 9488,
          "old_api": null,
          "new_api": "trx_mark_sql_stat_end",
          "old_text": null,
          "new_text": "trx_mark_sql_stat_end(trx)",
          "old_line_content": "",
          "new_line_content": "\t\t\ttrx_mark_sql_stat_end(trx);",
          "content_same": false
        },
        {
          "line": 9492,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "\t\t\t/* Store the current undo_no of the transaction",
          "new_line_content": "\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 11542,
          "old_api": null,
          "new_api": "sql_print_warning",
          "old_text": null,
          "new_text": "sql_print_warning(\n\t\t\t\t\"Monitor counter '%s' cannot\"\n\t\t\t\t\" be turned on/off individually.\"\n\t\t\t\t\" Please use its module name\"\n\t\t\t\t\" to turn on/off the counters\"\n\t\t\t\t\" in the module as a group.\\n\",\n\t\t\t\tname)",
          "old_line_content": "",
          "new_line_content": "\t\t\tsql_print_warning(",
          "content_same": false
        },
        {
          "line": 9503,
          "old_api": null,
          "new_api": "srv_export_innodb_status",
          "old_text": null,
          "new_text": "srv_export_innodb_status()",
          "old_line_content": "/************************************************************************//**",
          "new_line_content": "\t\tsrv_export_innodb_status();",
          "content_same": false
        },
        {
          "line": 11554,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(use == MONITOR_WILDCARD_MATCH)",
          "old_line_content": "\t\t\t\t\" to turn on/off the counters\"",
          "new_line_content": "\t\tut_a(use == MONITOR_WILDCARD_MATCH);",
          "content_same": false
        },
        {
          "line": 11559,
          "old_api": null,
          "new_api": "innodb_monitor_validate_wildcard_name",
          "old_text": null,
          "new_text": "innodb_monitor_validate_wildcard_name(name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (!innodb_monitor_validate_wildcard_name(name)) {",
          "content_same": false
        },
        {
          "line": 11565,
          "old_api": null,
          "new_api": "static_cast<const char**>(save)",
          "old_text": null,
          "new_text": "static_cast<const char**>(save)",
          "old_line_content": "\t\tcounter name that matches, treat it as an invalid",
          "new_line_content": "\t*static_cast<const char**>(save) = name;",
          "content_same": false
        },
        {
          "line": 9525,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"innodb_show_status\")",
          "old_line_content": "\tstat_print_fn*\tstat_print)",
          "new_line_content": "\tDBUG_ENTER(\"innodb_show_status\");",
          "content_same": false
        },
        {
          "line": 9526,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "{",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 9528,
          "old_api": null,
          "new_api": "check_trx_exists",
          "old_text": null,
          "new_text": "check_trx_exists(thd)",
          "old_line_content": "\tstatic const char\ttruncated_msg[] = \"... truncated...\\n\";",
          "new_line_content": "\ttrx = check_trx_exists(thd);",
          "content_same": false
        },
        {
          "line": 9530,
          "old_api": null,
          "new_api": "innobase_release_stat_resources",
          "old_text": null,
          "new_text": "innobase_release_stat_resources(trx)",
          "old_line_content": "\tulint\t\t\ttrx_list_start = ULINT_UNDEFINED;",
          "new_line_content": "\tinnobase_release_stat_resources(trx);",
          "content_same": false
        },
        {
          "line": 9539,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "rewind(srv_monitor_file)",
          "old_line_content": "",
          "new_line_content": "\trewind(srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 11588,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\tvoid*\t\t\t\tsave,\t/*!< out: immediate result",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 9541,
          "old_api": null,
          "new_api": "srv_printf_innodb_monitor",
          "old_text": null,
          "new_text": "srv_printf_innodb_monitor(srv_monitor_file, FALSE,\n\t\t\t\t  &trx_list_start, &trx_list_end)",
          "old_line_content": "\tbytes of text. */",
          "new_line_content": "\tsrv_printf_innodb_monitor(srv_monitor_file, FALSE,",
          "content_same": false
        },
        {
          "line": 11589,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(value != NULL)",
          "old_line_content": "\t\t\t\t\t\tfor update function */",
          "new_line_content": "\tut_a(value != NULL);",
          "content_same": false
        },
        {
          "line": 11591,
          "old_api": null,
          "new_api": "val_str",
          "old_text": null,
          "new_text": "value->val_str(value, buff, &len)",
          "old_line_content": "{",
          "new_line_content": "\tmonitor_name = value->val_str(value, buff, &len);",
          "content_same": false
        },
        {
          "line": 9544,
          "old_api": null,
          "new_api": "os_file_set_eof",
          "old_text": null,
          "new_text": "os_file_set_eof(srv_monitor_file)",
          "old_line_content": "\tssize_t\tflen, usable_len;",
          "new_line_content": "\tos_file_set_eof(srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 11593,
          "old_api": null,
          "new_api": "innodb_monitor_valid_byname",
          "old_text": null,
          "new_text": "innodb_monitor_valid_byname(save, monitor_name)",
          "old_line_content": "\tchar\t\tbuff[STRING_BUFFER_USUAL_SIZE];",
          "new_line_content": "\treturn(innodb_monitor_valid_byname(save, monitor_name));",
          "content_same": false
        },
        {
          "line": 9560,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "\t\tsrv_truncated_status_writes++;",
          "new_line_content": "\tif (!(str = (char*) my_malloc(usable_len + 1, MYF(0)))) {",
          "content_same": false
        },
        {
          "line": 9561,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&srv_monitor_file_mutex)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tmutex_exit(&srv_monitor_file_mutex);",
          "content_same": false
        },
        {
          "line": 9562,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\tusable_len = flen;",
          "new_line_content": "\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 9565,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "rewind(srv_monitor_file)",
          "old_line_content": "\t/* allocate buffer for the string, and",
          "new_line_content": "\trewind(srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 11617,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(save != NULL)",
          "old_line_content": "\t\t\t\t\t\twhether to turn on/off or",
          "new_line_content": "\tut_a(save != NULL);",
          "content_same": false
        },
        {
          "line": 11619,
          "old_api": null,
          "new_api": "static_cast<const char*const*>(save)",
          "old_text": null,
          "new_text": "static_cast<const char*const*>(save)",
          "old_line_content": "{",
          "new_line_content": "\tname = *static_cast<const char*const*>(save);",
          "content_same": false
        },
        {
          "line": 9576,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(str, 1, trx_list_start, srv_monitor_file)",
          "old_line_content": "\t\t/* Display the entire output. */",
          "new_line_content": "\t\tssize_t\tlen = fread(str, 1, trx_list_start, srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 11624,
          "old_api": null,
          "new_api": "innodb_monitor_id_by_name_get",
          "old_text": null,
          "new_text": "innodb_monitor_id_by_name_get(name)",
          "old_line_content": "",
          "new_line_content": "\t\tmonitor_id = innodb_monitor_id_by_name_get(name);",
          "content_same": false
        },
        {
          "line": 9578,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(str + len, truncated_msg, sizeof truncated_msg - 1)",
          "old_line_content": "\t} else if (trx_list_end < (ulint) flen",
          "new_line_content": "\t\tmemcpy(str + len, truncated_msg, sizeof truncated_msg - 1);",
          "content_same": false
        },
        {
          "line": 9581,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(srv_monitor_file, flen - usable_len, SEEK_SET)",
          "old_line_content": "\t\t   < MAX_STATUS_SIZE - sizeof truncated_msg - 1) {",
          "new_line_content": "\t\tfseek(srv_monitor_file, flen - usable_len, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 9582,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(str + len, 1, usable_len, srv_monitor_file)",
          "old_line_content": "",
          "new_line_content": "\t\tlen += fread(str + len, 1, usable_len, srv_monitor_file);",
          "content_same": false
        },
        {
          "line": 11638,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf(\n\t\t\t\tthd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\tER_NO_DEFAULT,\n\t\t\t\t\"Default value is not defined for \"\n\t\t\t\t\"this set option. Please specify \"\n\t\t\t\t\"correct counter or module name.\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpush_warning_printf(",
          "content_same": false
        },
        {
          "line": 9591,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(innobase_hton_name)",
          "old_line_content": "\t\tflen = len;",
          "new_line_content": "\tstat_print(thd, innobase_hton_name, (uint) strlen(innobase_hton_name),",
          "content_same": false
        },
        {
          "line": 9592,
          "old_api": null,
          "new_api": "STRING_WITH_LEN",
          "old_text": null,
          "new_text": "STRING_WITH_LEN(\"\")",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t   STRING_WITH_LEN(\"\"), str, flen);",
          "content_same": false
        },
        {
          "line": 9596,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 11645,
          "old_api": null,
          "new_api": "sql_print_error",
          "old_text": null,
          "new_text": "sql_print_error(\n\t\t\t\t\"Default value is not defined for \"\n\t\t\t\t\"this set option. Please specify \"\n\t\t\t\t\"correct counter or module name.\\n\")",
          "old_line_content": "\t\tif (thd) {",
          "new_line_content": "\t\t\tsql_print_error(",
          "content_same": false
        },
        {
          "line": 11655,
          "old_api": null,
          "new_api": "innodb_monitor_update_wildcard",
          "old_text": null,
          "new_text": "innodb_monitor_update_wildcard(name, set_option)",
          "old_line_content": "\t\t\t\t\"this set option. Please specify \"",
          "new_line_content": "\t\tinnodb_monitor_update_wildcard(name, set_option);",
          "content_same": false
        },
        {
          "line": 11657,
          "old_api": null,
          "new_api": "srv_mon_get_info",
          "old_text": null,
          "new_text": "srv_mon_get_info(\n\t\t\tstatic_cast<monitor_id_t>(monitor_id))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tmonitor_info = srv_mon_get_info(",
          "content_same": false
        },
        {
          "line": 11658,
          "old_api": null,
          "new_api": "static_cast<monitor_id_t>(monitor_id)",
          "old_text": null,
          "new_text": "static_cast<monitor_id_t>(monitor_id)",
          "old_line_content": "",
          "new_line_content": "\t\t\tstatic_cast<monitor_id_t>(monitor_id));",
          "content_same": false
        },
        {
          "line": 11660,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(monitor_info)",
          "old_line_content": "\t\t\t*(const char**) var_ptr = NULL;",
          "new_line_content": "\t\tut_a(monitor_info);",
          "content_same": false
        },
        {
          "line": 11679,
          "old_api": null,
          "new_api": "srv_mon_set_module_control",
          "old_text": null,
          "new_text": "srv_mon_set_module_control(\n\t\t\t\tstatic_cast<monitor_id_t>(monitor_id),\n\t\t\t\tset_option)",
          "old_line_content": "\t\tif (var_ptr) {",
          "new_line_content": "\t\t\tsrv_mon_set_module_control(",
          "content_same": false
        },
        {
          "line": 9632,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(innobase_hton_name)",
          "old_line_content": "\tulint\t\trw_lock_count_os_wait= 0;",
          "new_line_content": "\thton_name_len = (uint) strlen(innobase_hton_name);",
          "content_same": false
        },
        {
          "line": 11680,
          "old_api": null,
          "new_api": "static_cast<monitor_id_t>(monitor_id)",
          "old_text": null,
          "new_text": "static_cast<monitor_id_t>(monitor_id)",
          "old_line_content": "\t\t\t*(const char**) var_ptr = monitor_info->monitor_name;",
          "new_line_content": "\t\t\t\tstatic_cast<monitor_id_t>(monitor_id),",
          "content_same": false
        },
        {
          "line": 9634,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"innodb_mutex_show_status\")",
          "old_line_content": "\tulonglong\trw_lock_wait_time= 0;",
          "new_line_content": "\tDBUG_ENTER(\"innodb_mutex_show_status\");",
          "content_same": false
        },
        {
          "line": 9635,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "#endif /* UNIV_DEBUG */",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 11683,
          "old_api": null,
          "new_api": "innodb_monitor_set_option",
          "old_text": null,
          "new_text": "innodb_monitor_set_option(monitor_info, set_option)",
          "old_line_content": "\t\t/* Depending on the monitor name is for a module or",
          "new_line_content": "\t\t\tinnodb_monitor_set_option(monitor_info, set_option);",
          "content_same": false
        },
        {
          "line": 9637,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&mutex_list_mutex)",
          "old_line_content": "\tuint\t\tbuf2len;",
          "new_line_content": "\tmutex_enter(&mutex_list_mutex);",
          "content_same": false
        },
        {
          "line": 9639,
          "old_api": null,
          "new_api": "UT_LIST_GET_FIRST",
          "old_text": null,
          "new_text": "UT_LIST_GET_FIRST(mutex_list)",
          "old_line_content": "",
          "new_line_content": "\tfor (mutex = UT_LIST_GET_FIRST(mutex_list); mutex != NULL;",
          "content_same": false
        },
        {
          "line": 11692,
          "old_api": null,
          "new_api": "srv_mon_get_name",
          "old_text": null,
          "new_text": "srv_mon_get_name((monitor_id_t)err_monitor)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t  srv_mon_get_name((monitor_id_t)err_monitor));",
          "content_same": false
        },
        {
          "line": 9656,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf2, sizeof(buf2),\n\t\t\t\t\t\"count=%lu, spin_waits=%lu,\"\n\t\t\t\t\t\" spin_rounds=%lu, \"\n\t\t\t\t\t\"os_waits=%lu, os_yields=%lu,\"\n\t\t\t\t\t\" os_wait_times=%lu\",\n\t\t\t\t\tmutex->count_using,\n\t\t\t\t\tmutex->count_spin_loop,\n\t\t\t\t\tmutex->count_spin_rounds,\n\t\t\t\t\tmutex->count_os_wait,\n\t\t\t\t\tmutex->count_os_yield,\n\t\t\t\t\t(ulong) (mutex->lspent_time/1000))",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t\t\tbuf2len= my_snprintf(buf2, sizeof(buf2),",
          "content_same": false
        },
        {
          "line": 9666,
          "old_api": null,
          "new_api": "ulong) (mutex->lspent_time/1000)",
          "old_text": null,
          "new_text": "ulong) (mutex->lspent_time/1000)",
          "old_line_content": "\t\t\t\t\t\" spin_rounds=%lu, \"",
          "new_line_content": "\t\t\t\t\t(ulong) (mutex->lspent_time/1000));",
          "content_same": false
        },
        {
          "line": 11714,
          "old_api": null,
          "new_api": "innodb_monitor_update",
          "old_text": null,
          "new_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_ON)",
          "old_line_content": "\tTHD*\t\t\t\tthd,\t/*!< in: thread handle */",
          "new_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_ON);",
          "content_same": false
        },
        {
          "line": 9668,
          "old_api": null,
          "new_api": "stat_print",
          "old_text": null,
          "new_text": "stat_print(thd, innobase_hton_name,\n\t\t\t\t\t\thton_name_len, buf1, buf1len,\n\t\t\t\t\t\tbuf2, buf2len)",
          "old_line_content": "\t\t\t\t\t\" os_wait_times=%lu\",",
          "new_line_content": "\t\t\t\tif (stat_print(thd, innobase_hton_name,",
          "content_same": false
        },
        {
          "line": 9671,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&mutex_list_mutex)",
          "old_line_content": "\t\t\t\t\tmutex->count_spin_rounds,",
          "new_line_content": "\t\t\t\t\tmutex_exit(&mutex_list_mutex);",
          "content_same": false
        },
        {
          "line": 9672,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\t\t\t\tmutex->count_os_wait,",
          "new_line_content": "\t\t\t\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 9684,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf1, sizeof(buf1), \"%s:%lu\",\n\t\t\t\t     mutex->cfile_name, (ulong) mutex->cline)",
          "old_line_content": "\t\t\trw_lock_count += mutex->count_using;",
          "new_line_content": "\t\tbuf1len= (uint) my_snprintf(buf1, sizeof(buf1), \"%s:%lu\",",
          "content_same": false
        },
        {
          "line": 11732,
          "old_api": null,
          "new_api": "innodb_monitor_update",
          "old_text": null,
          "new_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_OFF)",
          "old_line_content": "\tTHD*\t\t\t\tthd,\t/*!< in: thread handle */",
          "new_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_OFF);",
          "content_same": false
        },
        {
          "line": 9686,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf2, sizeof(buf2), \"os_waits=%lu\",\n\t\t\t\t     (ulong) mutex->count_os_wait)",
          "old_line_content": "\t\t\trw_lock_count_spin_rounds += mutex->count_spin_rounds;",
          "new_line_content": "\t\tbuf2len= (uint) my_snprintf(buf2, sizeof(buf2), \"os_waits=%lu\",",
          "content_same": false
        },
        {
          "line": 9689,
          "old_api": null,
          "new_api": "stat_print",
          "old_text": null,
          "new_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "old_line_content": "\t\t\trw_lock_wait_time += mutex->lspent_time;",
          "new_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "content_same": false
        },
        {
          "line": 9693,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\t\t\t     mutex->cfile_name, (ulong) mutex->cline);",
          "new_line_content": "\t\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 9699,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf1, sizeof buf1,\n\t\t\t\t\t     \"combined %s:%lu\",\n\t\t\t\t\t     block_mutex->cfile_name,\n\t\t\t\t\t     (ulong) block_mutex->cline)",
          "old_line_content": "\t\t\t       buf2, buf2len)) {",
          "new_line_content": "\t\tbuf1len = (uint) my_snprintf(buf1, sizeof buf1,",
          "content_same": false
        },
        {
          "line": 9703,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf2, sizeof buf2,\n\t\t\t\t\t     \"os_waits=%lu\",\n\t\t\t\t\t     (ulong) block_mutex_oswait_count)",
          "old_line_content": "#endif /* UNIV_DEBUG */",
          "new_line_content": "\t\tbuf2len = (uint) my_snprintf(buf2, sizeof buf2,",
          "content_same": false
        },
        {
          "line": 11751,
          "old_api": null,
          "new_api": "innodb_monitor_update",
          "old_text": null,
          "new_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_VALUE)",
          "old_line_content": "\tTHD*\t\t\t\tthd,\t/*!< in: thread handle */",
          "new_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_VALUE);",
          "content_same": false
        },
        {
          "line": 9710,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&mutex_list_mutex)",
          "old_line_content": "\t\t\t\t\t     (ulong) block_mutex->cline);",
          "new_line_content": "\t\t\tmutex_exit(&mutex_list_mutex);",
          "content_same": false
        },
        {
          "line": 9717,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&rw_lock_list_mutex)",
          "old_line_content": "\t\t\t       buf2, buf2len)) {",
          "new_line_content": "\tmutex_enter(&rw_lock_list_mutex);",
          "content_same": false
        },
        {
          "line": 9720,
          "old_api": null,
          "new_api": "UT_LIST_GET_NEXT",
          "old_text": null,
          "new_text": "UT_LIST_GET_NEXT(list, lock)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t     lock = UT_LIST_GET_NEXT(list, lock)) {",
          "content_same": false
        },
        {
          "line": 11770,
          "old_api": null,
          "new_api": "innodb_monitor_update",
          "old_text": null,
          "new_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_ALL_VALUE)",
          "old_line_content": "\tTHD*\t\t\t\tthd,\t/*!< in: thread handle */",
          "new_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_ALL_VALUE);",
          "content_same": false
        },
        {
          "line": 9731,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf1, sizeof buf1, \"%s:%lu\",\n\t\t\t\t     lock->cfile_name, (ulong) lock->cline)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tbuf1len = my_snprintf(buf1, sizeof buf1, \"%s:%lu\",",
          "content_same": false
        },
        {
          "line": 9736,
          "old_api": null,
          "new_api": "stat_print",
          "old_text": null,
          "new_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "content_same": false
        },
        {
          "line": 9740,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\t\t\t     lock->cfile_name, (ulong) lock->cline);",
          "new_line_content": "\t\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 11788,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(str)",
          "old_line_content": "void",
          "new_line_content": "\tut_a(str);",
          "content_same": false
        },
        {
          "line": 9745,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf1, sizeof buf1,\n\t\t\t\t\t     \"combined %s:%lu\",\n\t\t\t\t\t     block_lock->cfile_name,\n\t\t\t\t\t     (ulong) block_lock->cline)",
          "old_line_content": "\t\t\t       hton_name_len, buf1, buf1len,",
          "new_line_content": "\t\tbuf1len = (uint) my_snprintf(buf1, sizeof buf1,",
          "content_same": false
        },
        {
          "line": 11794,
          "old_api": null,
          "new_api": "strtok_r",
          "old_text": null,
          "new_text": "strtok_r(str, sep, &last)",
          "old_line_content": "\tchar*\t\t\tlast;",
          "new_line_content": "\tfor (char* option = strtok_r(str, sep, &last);",
          "content_same": false
        },
        {
          "line": 9749,
          "old_api": null,
          "new_api": "my_snprintf",
          "old_text": null,
          "new_text": "my_snprintf(buf2, sizeof buf2,\n\t\t\t\t\t     \"os_waits=%lu\",\n\t\t\t\t\t     (ulong) block_lock_oswait_count)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tbuf2len = (uint) my_snprintf(buf2, sizeof buf2,",
          "content_same": false
        },
        {
          "line": 11800,
          "old_api": null,
          "new_api": "innodb_monitor_valid_byname",
          "old_text": null,
          "new_text": "innodb_monitor_valid_byname(&option_name, option)",
          "old_line_content": "\tif successfully updated. Please note that the \"str\" would be",
          "new_line_content": "\t\tret = innodb_monitor_valid_byname(&option_name, option);",
          "content_same": false
        },
        {
          "line": 9756,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&rw_lock_list_mutex)",
          "old_line_content": "\t\t\t\t\t     (ulong) block_lock->cline);",
          "new_line_content": "\t\t\tmutex_exit(&rw_lock_list_mutex);",
          "content_same": false
        },
        {
          "line": 11807,
          "old_api": null,
          "new_api": "sql_print_warning",
          "old_text": null,
          "new_text": "sql_print_warning(\"Invalid monitor counter\"\n\t\t\t\t\t  \" name: '%s'\", option)",
          "old_line_content": "",
          "new_line_content": "\t\t\tsql_print_warning(\"Invalid monitor counter\"",
          "content_same": false
        },
        {
          "line": 9774,
          "old_api": null,
          "new_api": "stat_print",
          "old_text": null,
          "new_text": "stat_print(thd, innobase_hton_name, hton_name_len,\n\t\t\tSTRING_WITH_LEN(\"rw_lock_mutexes\"), buf2, buf2len)",
          "old_line_content": "\t\t\t     \"os_waits=%lu, os_yields=%lu, os_wait_times=%lu\",",
          "new_line_content": "\tif (stat_print(thd, innobase_hton_name, hton_name_len,",
          "content_same": false
        },
        {
          "line": 9775,
          "old_api": null,
          "new_api": "STRING_WITH_LEN",
          "old_text": null,
          "new_text": "STRING_WITH_LEN(\"rw_lock_mutexes\")",
          "old_line_content": "\t\t\t      (ulong) rw_lock_count,",
          "new_line_content": "\t\t\tSTRING_WITH_LEN(\"rw_lock_mutexes\"), buf2, buf2len)) {",
          "content_same": false
        },
        {
          "line": 9776,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "\t\t\t      (ulong) rw_lock_count_spin_loop,",
          "new_line_content": "\t\tDBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 11824,
          "old_api": null,
          "new_api": "innodb_export_status",
          "old_text": null,
          "new_text": "innodb_export_status()",
          "old_line_content": "static",
          "new_line_content": "\tinnodb_export_status();",
          "content_same": false
        },
        {
          "line": 9781,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "\tDBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 9797,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "old_line_content": "innobase_show_status(",
          "new_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "content_same": false
        },
        {
          "line": 9802,
          "old_api": null,
          "new_api": "innodb_show_status",
          "old_text": null,
          "new_text": "innodb_show_status(hton, thd, stat_print)",
          "old_line_content": "\tstat_print_fn*\t\tstat_print,",
          "new_line_content": "\t\treturn(innodb_show_status(hton, thd, stat_print) != 0);",
          "content_same": false
        },
        {
          "line": 11852,
          "old_api": null,
          "new_api": "innobase_strcasecmp",
          "old_text": null,
          "new_text": "innobase_strcasecmp(key->name,\n\t\t\t\t\tinnobase_index_reserve_name)",
          "old_line_content": "\t\t\t\t\tbe created. */",
          "new_line_content": "\t\tif (innobase_strcasecmp(key->name,",
          "content_same": false
        },
        {
          "line": 9806,
          "old_api": null,
          "new_api": "innodb_mutex_show_status",
          "old_text": null,
          "new_text": "innodb_mutex_show_status(hton, thd, stat_print)",
          "old_line_content": "",
          "new_line_content": "\t\treturn(innodb_mutex_show_status(hton, thd, stat_print) != 0);",
          "content_same": false
        },
        {
          "line": 11855,
          "old_api": null,
          "new_api": "push_warning_printf",
          "old_text": null,
          "new_text": "push_warning_printf((THD*) trx->mysql_thd,\n\t\t\t\t\t    MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_WRONG_NAME_FOR_INDEX,\n\t\t\t\t\t    \"Cannot Create Index with name \"\n\t\t\t\t\t    \"'%s'. The name is reserved \"\n\t\t\t\t\t    \"for the system default primary \"\n\t\t\t\t\t    \"index.\",\n\t\t\t\t\t    innobase_index_reserve_name)",
          "old_line_content": "\tuint\t\tkey_num;\t/* index number */",
          "new_line_content": "\t\t\tpush_warning_printf((THD*) trx->mysql_thd,",
          "content_same": false
        },
        {
          "line": 11864,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "\t\t\t\t\t    MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "\t\t\tmy_error(ER_WRONG_NAME_FOR_INDEX, MYF(0),",
          "content_same": false
        },
        {
          "line": 9828,
          "old_api": null,
          "new_api": "mysql_mutex_lock",
          "old_text": null,
          "new_text": "mysql_mutex_lock(&innobase_share_mutex)",
          "old_line_content": "static",
          "new_line_content": "\tmysql_mutex_lock(&innobase_share_mutex);",
          "content_same": false
        },
        {
          "line": 9830,
          "old_api": null,
          "new_api": "ut_fold_string",
          "old_text": null,
          "new_text": "ut_fold_string(table_name)",
          "old_line_content": "get_share(",
          "new_line_content": "\tulint\tfold = ut_fold_string(table_name);",
          "content_same": false
        },
        {
          "line": 9839,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(table_name)",
          "old_line_content": "",
          "new_line_content": "\t\tuint length = (uint) strlen(table_name);",
          "content_same": false
        },
        {
          "line": 9844,
          "old_api": null,
          "new_api": "my_malloc",
          "old_text": null,
          "new_text": "my_malloc(sizeof(*share)+length+1,\n\t\t\tMYF(MY_FAE | MY_ZEROFILL))",
          "old_line_content": "",
          "new_line_content": "\t\tshare = (INNOBASE_SHARE *) my_malloc(sizeof(*share)+length+1,",
          "content_same": false
        },
        {
          "line": 9845,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(MY_FAE | MY_ZEROFILL)",
          "old_line_content": "\tif (!share) {",
          "new_line_content": "\t\t\tMYF(MY_FAE | MY_ZEROFILL));",
          "content_same": false
        },
        {
          "line": 9850,
          "old_api": null,
          "new_api": "HASH_INSERT",
          "old_text": null,
          "new_text": "HASH_INSERT(INNOBASE_SHARE, table_name_hash,\n\t\t\t    innobase_open_tables, fold, share)",
          "old_line_content": "\t\tgrows too big */",
          "new_line_content": "\t\tHASH_INSERT(INNOBASE_SHARE, table_name_hash,",
          "content_same": false
        },
        {
          "line": 9862,
          "old_api": null,
          "new_api": "mysql_mutex_unlock",
          "old_text": null,
          "new_text": "mysql_mutex_unlock(&innobase_share_mutex)",
          "old_line_content": "",
          "new_line_content": "\tmysql_mutex_unlock(&innobase_share_mutex);",
          "content_same": false
        },
        {
          "line": 9875,
          "old_api": null,
          "new_api": "mysql_mutex_lock",
          "old_text": null,
          "new_text": "mysql_mutex_lock(&innobase_share_mutex)",
          "old_line_content": "/************************************************************************//**",
          "new_line_content": "\tmysql_mutex_lock(&innobase_share_mutex);",
          "content_same": false
        },
        {
          "line": 9879,
          "old_api": null,
          "new_api": "ut_fold_string",
          "old_text": null,
          "new_text": "ut_fold_string(share->table_name)",
          "old_line_content": "free_share(",
          "new_line_content": "\tulint\tfold = ut_fold_string(share->table_name);",
          "content_same": false
        },
        {
          "line": 9886,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(share2 == share)",
          "old_line_content": "\tINNOBASE_SHARE* share2;",
          "new_line_content": "\tut_a(share2 == share);",
          "content_same": false
        },
        {
          "line": 9890,
          "old_api": null,
          "new_api": "ut_fold_string",
          "old_text": null,
          "new_text": "ut_fold_string(share->table_name)",
          "old_line_content": "\t\t    INNOBASE_SHARE*, share2,",
          "new_line_content": "\t\tulint\tfold = ut_fold_string(share->table_name);",
          "content_same": false
        },
        {
          "line": 9892,
          "old_api": null,
          "new_api": "HASH_DELETE",
          "old_text": null,
          "new_text": "HASH_DELETE(INNOBASE_SHARE, table_name_hash,\n\t\t\t    innobase_open_tables, fold, share)",
          "old_line_content": "\t\t    !strcmp(share->table_name, share2->table_name));",
          "new_line_content": "\t\tHASH_DELETE(INNOBASE_SHARE, table_name_hash,",
          "content_same": false
        },
        {
          "line": 9897,
          "old_api": null,
          "new_api": "my_free",
          "old_text": null,
          "new_text": "my_free(share->idx_trans_tbl.index_mapping)",
          "old_line_content": "\tif (!--share->use_count) {",
          "new_line_content": "\t\tmy_free(share->idx_trans_tbl.index_mapping);",
          "content_same": false
        },
        {
          "line": 9899,
          "old_api": null,
          "new_api": "my_free",
          "old_text": null,
          "new_text": "my_free(share)",
          "old_line_content": "",
          "new_line_content": "\t\tmy_free(share);",
          "content_same": false
        },
        {
          "line": 9937,
          "old_api": null,
          "new_api": "check_trx_exists",
          "old_text": null,
          "new_text": "check_trx_exists(thd)",
          "old_line_content": "\t\t\t\t\t\tTL_IGNORE */",
          "new_line_content": "\ttrx = check_trx_exists(thd);",
          "content_same": false
        },
        {
          "line": 9948,
          "old_api": null,
          "new_api": "innobase_map_isolation_level",
          "old_text": null,
          "new_text": "innobase_map_isolation_level(\n\t\t\t(enum_tx_isolation) thd_tx_isolation(thd))",
          "old_line_content": "\tBe careful to ignore TL_IGNORE if we are going to do something with",
          "new_line_content": "\t\ttrx->isolation_level = innobase_map_isolation_level(",
          "content_same": false
        },
        {
          "line": 9949,
          "old_api": null,
          "new_api": "thd_tx_isolation",
          "old_text": null,
          "new_text": "thd_tx_isolation(thd)",
          "old_line_content": "\tonly 'real' locks! */",
          "new_line_content": "\t\t\t(enum_tx_isolation) thd_tx_isolation(thd));",
          "content_same": false
        },
        {
          "line": 9961,
          "old_api": null,
          "new_api": "EQ_CURRENT_THD",
          "old_text": null,
          "new_text": "EQ_CURRENT_THD(thd)",
          "old_line_content": "",
          "new_line_content": "\tDBUG_ASSERT(EQ_CURRENT_THD(thd));",
          "content_same": false
        },
        {
          "line": 9962,
          "old_api": null,
          "new_api": "thd_in_lock_tables",
          "old_text": null,
          "new_text": "thd_in_lock_tables(thd)",
          "old_line_content": "\t\t\t/* At low transaction isolation levels we let",
          "new_line_content": "\tconst bool in_lock_tables = thd_in_lock_tables(thd);",
          "content_same": false
        },
        {
          "line": 9963,
          "old_api": null,
          "new_api": "thd_sql_command",
          "old_text": null,
          "new_text": "thd_sql_command(thd)",
          "old_line_content": "\t\t\teach consistent read set its own snapshot */",
          "new_line_content": "\tconst uint sql_command = thd_sql_command(thd);",
          "content_same": false
        },
        {
          "line": 10080,
          "old_api": null,
          "new_api": "thd_tablespace_op",
          "old_text": null,
          "new_text": "thd_tablespace_op(thd)",
          "old_line_content": "\t\tstart of a stored procedure call (SQLCOM_CALL) or a",
          "new_line_content": "\t\t    && !thd_tablespace_op(thd)",
          "content_same": false
        },
        {
          "line": 10125,
          "old_api": null,
          "new_api": "innobase_lock_autoinc",
          "old_text": null,
          "new_text": "innobase_lock_autoinc()",
          "old_line_content": "UNIV_INTERN",
          "new_line_content": "\tprebuilt->autoinc_error = innobase_lock_autoinc();",
          "content_same": false
        },
        {
          "line": 10130,
          "old_api": null,
          "new_api": "dict_table_autoinc_read",
          "old_text": null,
          "new_text": "dict_table_autoinc_read(prebuilt->table)",
          "old_line_content": "{",
          "new_line_content": "\t\t*value = dict_table_autoinc_read(prebuilt->table);",
          "content_same": false
        },
        {
          "line": 10135,
          "old_api": null,
          "new_api": "dict_table_autoinc_unlock",
          "old_text": null,
          "new_text": "dict_table_autoinc_unlock(prebuilt->table)",
          "old_line_content": "\tif (prebuilt->autoinc_error == DB_SUCCESS) {",
          "new_line_content": "\t\t\tdict_table_autoinc_unlock(prebuilt->table);",
          "content_same": false
        },
        {
          "line": 10154,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt != NULL)",
          "old_line_content": "UNIV_INTERN",
          "new_line_content": "\tut_a(prebuilt != NULL);",
          "content_same": false
        },
        {
          "line": 10155,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(prebuilt->table != NULL)",
          "old_line_content": "ulonglong",
          "new_line_content": "\tut_a(prebuilt->table != NULL);",
          "content_same": false
        },
        {
          "line": 10159,
          "old_api": null,
          "new_api": "dict_table_autoinc_lock",
          "old_text": null,
          "new_text": "dict_table_autoinc_lock(innodb_table)",
          "old_line_content": "\tulonglong\tauto_inc;",
          "new_line_content": "\tdict_table_autoinc_lock(innodb_table);",
          "content_same": false
        },
        {
          "line": 10161,
          "old_api": null,
          "new_api": "dict_table_autoinc_read",
          "old_text": null,
          "new_text": "dict_table_autoinc_read(innodb_table)",
          "old_line_content": "",
          "new_line_content": "\tauto_inc = dict_table_autoinc_read(innodb_table);",
          "content_same": false
        },
        {
          "line": 10164,
          "old_api": null,
          "new_api": "ut_print_timestamp",
          "old_text": null,
          "new_text": "ut_print_timestamp(stderr)",
          "old_line_content": "",
          "new_line_content": "\t\tut_print_timestamp(stderr);",
          "content_same": false
        },
        {
          "line": 10165,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"  InnoDB: AUTOINC next value generation \"\n\t\t\t\"is disabled for '%s'\\n\", innodb_table->name)",
          "old_line_content": "\tinnodb_table = prebuilt->table;",
          "new_line_content": "\t\tfprintf(stderr, \"  InnoDB: AUTOINC next value generation \"",
          "content_same": false
        },
        {
          "line": 12246,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(additional_mem_pool_size)",
          "old_line_content": "  innodb_reset_all_monitor_update, NULL);",
          "new_line_content": "  MYSQL_SYSVAR(additional_mem_pool_size),",
          "content_same": false
        },
        {
          "line": 10199,
          "old_api": null,
          "new_api": "ha_thd",
          "old_text": null,
          "new_text": "ha_thd()",
          "old_line_content": "\tulonglong*\tnb_reserved_values)\t/*!< out: count of reserved",
          "new_line_content": "\tupdate_thd(ha_thd());",
          "content_same": false
        },
        {
          "line": 12247,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(autoextend_increment)",
          "old_line_content": "",
          "new_line_content": "  MYSQL_SYSVAR(autoextend_increment),",
          "content_same": false
        },
        {
          "line": 10201,
          "old_api": null,
          "new_api": "innobase_get_autoinc",
          "old_text": null,
          "new_text": "innobase_get_autoinc(&autoinc)",
          "old_line_content": "{",
          "new_line_content": "\terror = innobase_get_autoinc(&autoinc);",
          "content_same": false
        },
        {
          "line": 12248,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(buffer_pool_size)",
          "old_line_content": "static MYSQL_SYSVAR_BOOL(print_all_deadlocks, srv_print_all_deadlocks,",
          "new_line_content": "  MYSQL_SYSVAR(buffer_pool_size),",
          "content_same": false
        },
        {
          "line": 12249,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(buffer_pool_instances)",
          "old_line_content": "  PLUGIN_VAR_OPCMDARG,",
          "new_line_content": "  MYSQL_SYSVAR(buffer_pool_instances),",
          "content_same": false
        },
        {
          "line": 12250,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(checksums)",
          "old_line_content": "  \"Print all deadlocks to MySQL error log (off by default)\",",
          "new_line_content": "  MYSQL_SYSVAR(checksums),",
          "content_same": false
        },
        {
          "line": 12251,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(commit_concurrency)",
          "old_line_content": "  NULL, NULL, FALSE);",
          "new_line_content": "  MYSQL_SYSVAR(commit_concurrency),",
          "content_same": false
        },
        {
          "line": 12252,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(concurrency_tickets)",
          "old_line_content": "",
          "new_line_content": "  MYSQL_SYSVAR(concurrency_tickets),",
          "content_same": false
        },
        {
          "line": 12253,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(data_file_path)",
          "old_line_content": "static struct st_mysql_sys_var* innobase_system_variables[]= {",
          "new_line_content": "  MYSQL_SYSVAR(data_file_path),",
          "content_same": false
        },
        {
          "line": 10225,
          "old_api": null,
          "new_api": "innobase_get_int_col_max_value",
          "old_text": null,
          "new_text": "innobase_get_int_col_max_value(\n\t\ttable->next_number_field)",
          "old_line_content": "",
          "new_line_content": "\tulonglong\tcol_max_value = innobase_get_int_col_max_value(",
          "content_same": false
        },
        {
          "line": 12277,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(max_dirty_pages_pct)",
          "old_line_content": "#ifdef UNIV_LOG_ARCHIVE",
          "new_line_content": "  MYSQL_SYSVAR(max_dirty_pages_pct),",
          "content_same": false
        },
        {
          "line": 12280,
          "old_api": null,
          "new_api": "MYSQL_SYSVAR",
          "old_text": null,
          "new_text": "MYSQL_SYSVAR(mirrored_log_groups)",
          "old_line_content": "#endif /* UNIV_LOG_ARCHIVE */",
          "new_line_content": "  MYSQL_SYSVAR(mirrored_log_groups),",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 10248,
          "old_api": "set_if_bigger",
          "new_api": null,
          "old_text": "set_if_bigger(*first_value, autoinc)",
          "new_text": null,
          "old_line_content": "\t\tset_if_bigger(*first_value, autoinc);",
          "new_line_content": "\t\t*first_value = (autoinc - trx->n_autoinc_rows) - 1;",
          "content_same": false
        },
        {
          "line": 10251,
          "old_api": "set_if_bigger",
          "new_api": null,
          "old_text": "set_if_bigger(*first_value, autoinc)",
          "new_text": null,
          "old_line_content": "\t\tset_if_bigger(*first_value, autoinc);",
          "new_line_content": "\t*nb_reserved_values = trx->n_autoinc_rows;",
          "content_same": false
        },
        {
          "line": 10255,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(autoinc > trx->n_autoinc_rows)",
          "new_text": null,
          "old_line_content": "\t\tut_a(autoinc > trx->n_autoinc_rows);",
          "new_line_content": "\tif (innobase_autoinc_lock_mode != AUTOINC_OLD_STYLE_LOCKING) {",
          "content_same": false
        },
        {
          "line": 12305,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(table_locks)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(table_locks),",
          "new_line_content": "#if defined UNIV_DEBUG || defined UNIV_IBUF_DEBUG",
          "content_same": false
        },
        {
          "line": 12307,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(thread_sleep_delay)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(thread_sleep_delay),",
          "new_line_content": "#endif /* UNIV_DEBUG || UNIV_IBUF_DEBUG */",
          "content_same": false
        },
        {
          "line": 12316,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(read_ahead_threshold)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(read_ahead_threshold),",
          "new_line_content": "#if defined UNIV_DEBUG || defined UNIV_PERF_DEBUG",
          "content_same": false
        },
        {
          "line": 12318,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(enable_monitor_counter)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(enable_monitor_counter),",
          "new_line_content": "#endif /* defined UNIV_DEBUG || defined UNIV_PERF_DEBUG */",
          "content_same": false
        },
        {
          "line": 10272,
          "old_api": "innobase_next_autoinc",
          "new_api": null,
          "old_text": "innobase_next_autoinc(\n\t\t\tcurrent, need, offset, col_max_value)",
          "new_text": null,
          "old_line_content": "\t\tnext_value = innobase_next_autoinc(",
          "new_line_content": "\t\t\t/* Update the table autoinc variable */",
          "content_same": false
        },
        {
          "line": 12320,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(reset_monitor_counter)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(reset_monitor_counter),",
          "new_line_content": "  NULL",
          "content_same": false
        },
        {
          "line": 12321,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(reset_all_monitor_counter)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(reset_all_monitor_counter),",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 12322,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(purge_threads)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(purge_threads),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 12323,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(purge_batch_size)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(purge_batch_size),",
          "new_line_content": "mysql_declare_plugin(innobase)",
          "content_same": false
        },
        {
          "line": 12325,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(page_hash_locks)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(page_hash_locks),",
          "new_line_content": "  MYSQL_STORAGE_ENGINE_PLUGIN,",
          "content_same": false
        },
        {
          "line": 12327,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(print_all_deadlocks)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(print_all_deadlocks),",
          "new_line_content": "  innobase_hton_name,",
          "content_same": false
        },
        {
          "line": 8233,
          "old_api": "dict_table_stats_lock",
          "new_api": null,
          "old_text": "dict_table_stats_lock(ib_table, RW_S_LATCH)",
          "new_text": null,
          "old_line_content": "\t\tdict_table_stats_lock(ib_table, RW_S_LATCH);",
          "new_line_content": "\t\tn_rows = ib_table->stat_n_rows;",
          "content_same": false
        },
        {
          "line": 10281,
          "old_api": "dict_table_autoinc_update_if_greater",
          "new_api": null,
          "old_text": "dict_table_autoinc_update_if_greater(\n\t\t\t\tprebuilt->table, prebuilt->autoinc_last_value)",
          "new_text": null,
          "old_line_content": "\t\t\tdict_table_autoinc_update_if_greater(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10297,
          "old_api": "dict_table_autoinc_unlock",
          "new_api": null,
          "old_text": "dict_table_autoinc_unlock(prebuilt->table)",
          "new_text": null,
          "old_line_content": "\tdict_table_autoinc_unlock(prebuilt->table);",
          "new_line_content": "@return\t0 or error code */",
          "content_same": false
        },
        {
          "line": 8262,
          "old_api": "thd_sql_command",
          "new_api": null,
          "old_text": "thd_sql_command(user_thd)",
          "new_text": null,
          "old_line_content": "\t\tif (thd_sql_command(user_thd) == SQLCOM_TRUNCATE) {",
          "new_line_content": "\t\t\tn_rows = 1;",
          "content_same": false
        },
        {
          "line": 10312,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"ha_innobase::reset_auto_increment\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"ha_innobase::reset_auto_increment\");",
          "new_line_content": "\tif (error != DB_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 10316,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\tupdate_thd(ha_thd());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10318,
          "old_api": "row_lock_table_autoinc_for_mysql",
          "new_api": null,
          "old_text": "row_lock_table_autoinc_for_mysql(prebuilt)",
          "new_text": null,
          "old_line_content": "\terror = row_lock_table_autoinc_for_mysql(prebuilt);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10321,
          "old_api": "convert_error_code_to_mysql",
          "new_api": null,
          "old_text": "convert_error_code_to_mysql(error,\n\t\t\t\t\t\t    prebuilt->table->flags,\n\t\t\t\t\t\t    user_thd)",
          "new_text": null,
          "old_line_content": "\t\terror = convert_error_code_to_mysql(error,",
          "new_line_content": "\tif (value == 0) {",
          "content_same": false
        },
        {
          "line": 8284,
          "old_api": "dict_table_stats_unlock",
          "new_api": null,
          "old_text": "dict_table_stats_unlock(ib_table, RW_S_LATCH)",
          "new_text": null,
          "old_line_content": "\t\tdict_table_stats_unlock(ib_table, RW_S_LATCH);",
          "new_line_content": "\t\tare asked by MySQL to avoid locking. Another reason to",
          "content_same": false
        },
        {
          "line": 10333,
          "old_api": "innobase_reset_autoinc",
          "new_api": null,
          "old_text": "innobase_reset_autoinc(value)",
          "new_text": null,
          "old_line_content": "\tinnobase_reset_autoinc(value);",
          "new_line_content": "bool",
          "content_same": false
        },
        {
          "line": 12381,
          "old_api": "MYSQL_SYSVAR_NAME",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR_NAME(commit_concurrency)",
          "new_text": null,
          "old_line_content": "\tMYSQL_SYSVAR_NAME(commit_concurrency).def_val",
          "new_line_content": "\tulint\t\tbuflen;",
          "content_same": false
        },
        {
          "line": 10335,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(0);",
          "new_line_content": "/*===========================*/",
          "content_same": false
        },
        {
          "line": 8296,
          "old_api": "UNIV_UNLIKELY\n\t\t\t   (srv_force_recovery >= SRV_FORCE_NO_IBUF_MERGE)",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY\n\t\t\t   (srv_force_recovery >= SRV_FORCE_NO_IBUF_MERGE)",
          "new_text": null,
          "old_line_content": "\t\t} else if (UNIV_UNLIKELY",
          "new_line_content": "\t\t\tstats.delete_length = 0;",
          "content_same": false
        },
        {
          "line": 10347,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\ttrx_t*\ttrx = check_trx_exists(ha_thd());",
          "new_line_content": "/*******************************************************************//**",
          "content_same": false
        },
        {
          "line": 10349,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(trx->detailed_error)",
          "new_text": null,
          "old_line_content": "\tbuf->copy(trx->detailed_error, (uint) strlen(trx->detailed_error),",
          "new_line_content": "If there is no explicitly declared non-null unique key or a primary key, then",
          "content_same": false
        },
        {
          "line": 8304,
          "old_api": "fsp_get_available_space_in_free_extents",
          "new_api": null,
          "old_text": "fsp_get_available_space_in_free_extents(\n\t\t\t\tib_table->space)",
          "new_text": null,
          "old_line_content": "\t\t\tavail_space = fsp_get_available_space_in_free_extents(",
          "new_line_content": "\t\t\t\tTHD*\tthd;",
          "content_same": false
        },
        {
          "line": 8310,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\t\t\t\tthd = ha_thd();",
          "new_line_content": "\t\t\t\t\tMYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 8312,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(\n\t\t\t\t\tthd,\n\t\t\t\t\tMYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\tER_CANT_GET_STAT,\n\t\t\t\t\t\"InnoDB: Trying to get the free \"\n\t\t\t\t\t\"space for table %s but its \"\n\t\t\t\t\t\"tablespace has been discarded or \"\n\t\t\t\t\t\"the .ibd file is missing. Setting \"\n\t\t\t\t\t\"the free space to zero.\",\n\t\t\t\t\tib_table->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpush_warning_printf(",
          "new_line_content": "\t\t\t\t\t\"InnoDB: Trying to get the free \"",
          "content_same": false
        },
        {
          "line": 10380,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(ref1, ref2, DATA_ROW_ID_LEN)",
          "new_text": null,
          "old_line_content": "\t\treturn(memcmp(ref1, ref2, DATA_ROW_ID_LEN));",
          "new_line_content": "\tkey_part_end = key_part",
          "content_same": false
        },
        {
          "line": 8335,
          "old_api": "ulong)\n\t\t\t\t(stats.data_file_length / stats.records)",
          "new_api": null,
          "old_text": "ulong)\n\t\t\t\t(stats.data_file_length / stats.records)",
          "new_text": null,
          "old_line_content": "\t\t\tstats.mean_rec_length = (ulong)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10393,
          "old_api": "type",
          "new_api": null,
          "old_text": "field->type()",
          "new_text": null,
          "old_line_content": "\t\tmysql_type = field->type();",
          "new_line_content": "\t\t\ta BLOB is preceded by a 2-byte length field */",
          "content_same": false
        },
        {
          "line": 8349,
          "old_api": "sql_print_error",
          "new_api": null,
          "old_text": "sql_print_error(\"Table %s contains %lu \"\n\t\t\t\t\t\"indexes inside InnoDB, which \"\n\t\t\t\t\t\"is different from the number of \"\n\t\t\t\t\t\"indexes %u defined in the MySQL \",\n\t\t\t\t\tib_table->name, num_innodb_index,\n\t\t\t\t\ttable->s->keys)",
          "new_text": null,
          "old_line_content": "\t\t\tsql_print_error(\"Table %s contains %lu \"",
          "new_line_content": "\t\t\t\t\tib_table->name, num_innodb_index,",
          "content_same": false
        },
        {
          "line": 10404,
          "old_api": "innobase_read_from_2_little_endian",
          "new_api": null,
          "old_text": "innobase_read_from_2_little_endian(ref2)",
          "new_text": null,
          "old_line_content": "\t\t\tlen2 = innobase_read_from_2_little_endian(ref2);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 8357,
          "old_api": "dict_table_stats_lock",
          "new_api": null,
          "old_text": "dict_table_stats_lock(ib_table, RW_S_LATCH)",
          "new_text": null,
          "old_line_content": "\t\tdict_table_stats_lock(ib_table, RW_S_LATCH);",
          "new_line_content": "\t\t\tThe identity of index (match up index name with",
          "content_same": false
        },
        {
          "line": 10408,
          "old_api": "cmp",
          "new_api": null,
          "old_text": "(Field_blob*)field)->cmp(\n\t\t\t\tref1, len1, ref2, len2)",
          "new_text": null,
          "old_line_content": "\t\t\tresult = ((Field_blob*)field)->cmp(",
          "new_line_content": "\t\t\treturn(result);",
          "content_same": false
        },
        {
          "line": 10411,
          "old_api": "key_cmp",
          "new_api": null,
          "old_text": "field->key_cmp(ref1, ref2)",
          "new_text": null,
          "old_line_content": "\t\t\tresult = field->key_cmp(ref1, ref2);",
          "new_line_content": "\t\tref1 += key_part->store_length;",
          "content_same": false
        },
        {
          "line": 12459,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"TESTING %lu, %s, %lu, %s\\n\",\n\t\t\ttest_input[i].buflen,\n\t\t\ttest_input[i].id,\n\t\t\ttest_input[i].idlen,\n\t\t\ttest_input[i].expected)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"TESTING %lu, %s, %lu, %s\\n\",",
          "new_line_content": "\t\t\ttest_input[i].buflen,",
          "content_same": false
        },
        {
          "line": 8366,
          "old_api": "innobase_get_index",
          "new_api": null,
          "old_text": "innobase_get_index(i)",
          "new_text": null,
          "old_line_content": "\t\t\tindex = innobase_get_index(i);",
          "new_line_content": "\t\t\t\t\t\t\".frm file. Have you mixed up \"",
          "content_same": false
        },
        {
          "line": 8369,
          "old_api": "sql_print_error",
          "new_api": null,
          "old_text": "sql_print_error(\"Table %s contains fewer \"\n\t\t\t\t\t\t\"indexes inside InnoDB than \"\n\t\t\t\t\t\t\"are defined in the MySQL \"\n\t\t\t\t\t\t\".frm file. Have you mixed up \"\n\t\t\t\t\t\t\".frm files from different \"\n\t\t\t\t\t\t\"installations? See \"\n\t\t\t\t\t\tREFMAN\n\t\t\t\t\t\t\"innodb-troubleshooting.html\\n\",\n\t\t\t\t\t\tib_table->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsql_print_error(\"Table %s contains fewer \"",
          "new_line_content": "\t\t\t\t\t\tREFMAN",
          "content_same": false
        },
        {
          "line": 12465,
          "old_api": "innobase_convert_name",
          "new_api": null,
          "old_text": "innobase_convert_name(\n\t\t\ttest_input[i].buf,\n\t\t\ttest_input[i].buflen,\n\t\t\ttest_input[i].id,\n\t\t\ttest_input[i].idlen,\n\t\t\ttest_input[i].thd,\n\t\t\ttest_input[i].file_id)",
          "new_text": null,
          "old_line_content": "\t\tend = innobase_convert_name(",
          "new_line_content": "\t\tres_len = (size_t) (end - test_input[i].buf);",
          "content_same": false
        },
        {
          "line": 12479,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(test_input[i].expected)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(unsigned) strlen(test_input[i].expected));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8384,
          "old_api": "sql_print_error",
          "new_api": null,
          "old_text": "sql_print_error(\n\"Index %s of %s has %lu columns unique inside InnoDB, but MySQL is asking \"\n\"statistics for %lu columns. Have you mixed up .frm files from different \"\n\"installations? \"\n\"See \" REFMAN \"innodb-troubleshooting.html\\n\",\n\t\t\t\t\t\t\tindex->name,\n\t\t\t\t\t\t\tib_table->name,\n\t\t\t\t\t\t\t(unsigned long)\n\t\t\t\t\t\t\tindex->n_uniq, j + 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tsql_print_error(",
          "new_line_content": "\t\t\t\t\t\t\tib_table->name,",
          "content_same": false
        },
        {
          "line": 12483,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(test_input[i].buf,\n\t\t\t   test_input[i].expected,\n\t\t\t   strlen(test_input[i].expected))",
          "new_text": null,
          "old_line_content": "\t\tif (memcmp(test_input[i].buf,",
          "new_line_content": "\t\t\t\ttest_input[i].expected);",
          "content_same": false
        },
        {
          "line": 12485,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(test_input[i].expected)",
          "new_text": null,
          "old_line_content": "\t\t\t   strlen(test_input[i].expected)) != 0",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 10447,
          "old_api": "innobase_query_caching_of_table_permitted",
          "new_api": null,
          "old_text": "innobase_query_caching_of_table_permitted(thd, table_key,\n\t\t\t\t\t\t\t key_length,\n\t\t\t\t\t\t\t engine_data)",
          "new_text": null,
          "old_line_content": "\treturn(innobase_query_caching_of_table_permitted(thd, table_key,",
          "new_line_content": "const char*",
          "content_same": false
        },
        {
          "line": 8400,
          "old_api": "ha_rows)(stats.records /\n\t\t\t\t\t index->stat_n_diff_key_vals[j + 1])",
          "new_api": null,
          "old_text": "ha_rows)(stats.records /\n\t\t\t\t\t index->stat_n_diff_key_vals[j + 1])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\trec_per_key = (ha_rows)(stats.records /",
          "new_line_content": "\t\t\t\tindex selectivity is 2 times better than",
          "content_same": false
        },
        {
          "line": 12496,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"OK: res: %.*s\\n\\n\", (int) res_len,\n\t\t\t\tbuf)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"OK: res: %.*s\\n\\n\", (int) res_len,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 12499,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"FAILED\\n\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"FAILED\\n\\n\");",
          "new_line_content": "/****************************************************************************",
          "content_same": false
        },
        {
          "line": 8421,
          "old_api": "dict_table_stats_unlock",
          "new_api": null,
          "old_text": "dict_table_stats_unlock(ib_table, RW_S_LATCH)",
          "new_text": null,
          "old_line_content": "\t\tdict_table_stats_unlock(ib_table, RW_S_LATCH);",
          "new_line_content": "\tif (flag & HA_STATUS_ERRKEY) {",
          "content_same": false
        },
        {
          "line": 8432,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\t\tut_a(prebuilt->trx);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 8433,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt->trx->magic_n == TRX_MAGIC_N)",
          "new_text": null,
          "old_line_content": "\t\tut_a(prebuilt->trx->magic_n == TRX_MAGIC_N);",
          "new_line_content": "\t\t\terrkey = (unsigned int) prebuilt->trx->error_key_num;",
          "content_same": false
        },
        {
          "line": 8435,
          "old_api": "trx_get_error_info",
          "new_api": null,
          "old_text": "trx_get_error_info(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\t\terr_index = trx_get_error_info(prebuilt->trx);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 12531,
          "old_api": "dsmrr_next",
          "new_api": null,
          "old_text": "ds_mrr.dsmrr_next(range_info)",
          "new_text": null,
          "old_line_content": "\treturn(ds_mrr.dsmrr_next(range_info));",
          "new_line_content": "\tuint\t\tn_ranges,",
          "content_same": false
        },
        {
          "line": 8446,
          "old_api": "innobase_peek_autoinc",
          "new_api": null,
          "old_text": "innobase_peek_autoinc()",
          "new_text": null,
          "old_line_content": "\t\tstats.auto_increment_value = innobase_peek_autoinc();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10496,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(MY_WME)",
          "new_text": null,
          "old_line_content": "\tcharset = get_charset((uint) charset_id, MYF(MY_WME));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 12545,
          "old_api": "init",
          "new_api": null,
          "old_text": "ds_mrr.init(this, table)",
          "new_text": null,
          "old_line_content": "\tds_mrr.init(this, table);",
          "new_line_content": "\tuint\t\tn_ranges,",
          "content_same": false
        },
        {
          "line": 10498,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(charset)",
          "new_text": null,
          "old_line_content": "\tut_ad(charset);",
          "new_line_content": "\tfirst at most n chars in the string. If the string contains less",
          "content_same": false
        },
        {
          "line": 10499,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(charset->mbmaxlen)",
          "new_text": null,
          "old_line_content": "\tut_ad(charset->mbmaxlen);",
          "new_line_content": "\tcharacters than n, then we return the length to the end of the last",
          "content_same": false
        },
        {
          "line": 8452,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(0);",
          "new_line_content": "int",
          "content_same": false
        },
        {
          "line": 12546,
          "old_api": "dsmrr_info_const",
          "new_api": null,
          "old_text": "ds_mrr.dsmrr_info_const(keyno, seq, seq_init_param,\n\t\t\t\t       n_ranges, bufsz, flags, cost)",
          "new_text": null,
          "old_line_content": "\treturn(ds_mrr.dsmrr_info_const(keyno, seq, seq_init_param,",
          "new_line_content": "\tuint\t\tkeys,",
          "content_same": false
        },
        {
          "line": 12559,
          "old_api": "init",
          "new_api": null,
          "old_text": "ds_mrr.init(this, table)",
          "new_text": null,
          "old_line_content": "\tds_mrr.init(this, table);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 12560,
          "old_api": "dsmrr_info",
          "new_api": null,
          "old_text": "ds_mrr.dsmrr_info(keyno, n_ranges, keys, bufsz, flags, cost)",
          "new_text": null,
          "old_line_content": "\treturn(ds_mrr.dsmrr_info(keyno, n_ranges, keys, bufsz, flags, cost));",
          "new_line_content": "/*************************************************************//**",
          "content_same": false
        },
        {
          "line": 8465,
          "old_api": "info_low",
          "new_api": null,
          "old_text": "info_low(flag, DICT_STATS_FETCH)",
          "new_text": null,
          "old_line_content": "\treturn(info_low(flag, DICT_STATS_FETCH));",
          "new_line_content": "int",
          "content_same": false
        },
        {
          "line": 10529,
          "old_api": "my_charpos",
          "new_api": null,
          "old_text": "my_charpos(charset, str,\n\t\t\t\t\t\tstr + data_len, (int) n_chars)",
          "new_text": null,
          "old_line_content": "\t\tchar_length = my_charpos(charset, str,",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 12577,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"innobase_index_cond\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"innobase_index_cond\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 12581,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(h->pushed_idx_cond)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(h->pushed_idx_cond);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 12584,
          "old_api": "compare_key2",
          "new_api": null,
          "old_text": "h->compare_key2(h->end_range)",
          "new_text": null,
          "old_line_content": "\tif (h->end_range && h->compare_key2(h->end_range) > 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8490,
          "old_api": "info_low",
          "new_api": null,
          "old_text": "info_low(HA_STATUS_TIME | HA_STATUS_CONST | HA_STATUS_VARIABLE,\n\t\t       upd_option)",
          "new_text": null,
          "old_line_content": "\tret = info_low(HA_STATUS_TIME | HA_STATUS_CONST | HA_STATUS_VARIABLE,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 12587,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(ICP_OUT_OF_RANGE)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(ICP_OUT_OF_RANGE);",
          "new_line_content": "* @param[in] idx_cond\tIndex condition to be checked",
          "content_same": false
        },
        {
          "line": 12590,
          "old_api": "val_int",
          "new_api": null,
          "old_text": "h->pushed_idx_cond->val_int()",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(h->pushed_idx_cond->val_int() ? ICP_MATCH : ICP_NO_MATCH);",
          "new_line_content": "UNIV_INTERN",
          "content_same": false
        },
        {
          "line": 12605,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(keyno != MAX_KEY)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(keyno != MAX_KEY);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 12606,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(idx_cond != NULL)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(idx_cond != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10561,
          "old_api": "check_trx_exists",
          "new_api": null,
          "old_text": "check_trx_exists(thd)",
          "new_text": null,
          "old_line_content": "\ttrx_t* trx = check_trx_exists(thd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10563,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 12612,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(NULL)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10579,
          "old_api": "innobase_release_stat_resources",
          "new_api": null,
          "old_text": "innobase_release_stat_resources(trx)",
          "new_text": null,
          "old_line_content": "\tinnobase_release_stat_resources(trx);",
          "new_line_content": "\tif (prepare_trx",
          "content_same": false
        },
        {
          "line": 8532,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"ha_innobase::check\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"ha_innobase::check\");",
          "new_line_content": "\t\tin index scans done in checking */",
          "content_same": false
        },
        {
          "line": 8533,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(thd == ha_thd());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10581,
          "old_api": "trx_is_started",
          "new_api": null,
          "old_text": "trx_is_started(trx)",
          "new_text": null,
          "old_line_content": "\tif (!trx_is_registered_for_2pc(trx) && trx_is_started(trx)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8535,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt->trx->magic_n == TRX_MAGIC_N)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt->trx->magic_n == TRX_MAGIC_N);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8536,
          "old_api": "thd_to_trx",
          "new_api": null,
          "old_text": "thd_to_trx(thd)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt->trx == thd_to_trx(thd));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10583,
          "old_api": "sql_print_error",
          "new_api": null,
          "old_text": "sql_print_error(\"Transaction not registered for MySQL 2PC, \"\n\t\t\t\t\"but transaction is active\")",
          "new_text": null,
          "old_line_content": "\t\tsql_print_error(\"Transaction not registered for MySQL 2PC, \"",
          "new_line_content": "\t\tthis is an SQL statement end and autocommit is on */",
          "content_same": false
        },
        {
          "line": 10588,
          "old_api": "thd_test_options",
          "new_api": null,
          "old_text": "thd_test_options(thd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "new_text": null,
          "old_line_content": "\t    || (!thd_test_options(thd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8542,
          "old_api": "build_template",
          "new_api": null,
          "old_text": "build_template(true)",
          "new_text": null,
          "old_line_content": "\t\tbuild_template(true);",
          "new_line_content": "\t\t\t\"InnoDB: Have you deleted the .ibd file\"",
          "content_same": false
        },
        {
          "line": 10593,
          "old_api": "trx_is_registered_for_2pc",
          "new_api": null,
          "old_text": "trx_is_registered_for_2pc(trx)",
          "new_text": null,
          "old_line_content": "\t\tut_ad(trx_is_registered_for_2pc(trx));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8546,
          "old_api": "sql_print_error",
          "new_api": null,
          "old_text": "sql_print_error(\"InnoDB: Error:\\n\"\n\t\t\t\"InnoDB: MySQL is trying to use a table handle\"\n\t\t\t\" but the .ibd file for\\n\"\n\t\t\t\"InnoDB: table %s does not exist.\\n\"\n\t\t\t\"InnoDB: Have you deleted the .ibd file\"\n\t\t\t\" from the database directory under\\n\"\n\t\t\t\"InnoDB: the MySQL datadir, or have you\"\n\t\t\t\" used DISCARD TABLESPACE?\\n\"\n\t\t\t\"InnoDB: Please refer to\\n\"\n\t\t\t\"InnoDB: \" REFMAN \"innodb-troubleshooting.html\\n\"\n\t\t\t\"InnoDB: how you can resolve the problem.\\n\",\n\t\t\tprebuilt->table->name)",
          "new_text": null,
          "old_line_content": "\t\tsql_print_error(\"InnoDB: Error:\\n\"",
          "new_line_content": "\t\t\t\"InnoDB: Please refer to\\n\"",
          "content_same": false
        },
        {
          "line": 10595,
          "old_api": "trx_prepare_for_mysql",
          "new_api": null,
          "old_text": "trx_prepare_for_mysql(trx)",
          "new_text": null,
          "old_line_content": "\t\ttrx_prepare_for_mysql(trx);",
          "new_line_content": "\t\ttable in this SQL statement we release it now */",
          "content_same": false
        },
        {
          "line": 10605,
          "old_api": "lock_unlock_table_autoinc",
          "new_api": null,
          "old_text": "lock_unlock_table_autoinc(trx)",
          "new_text": null,
          "old_line_content": "\t\tlock_unlock_table_autoinc(trx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8558,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(HA_ADMIN_CORRUPT)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(HA_ADMIN_CORRUPT);",
          "new_line_content": "\t>= READ COMMITTED, because a dirty read can see a wrong number",
          "content_same": false
        },
        {
          "line": 10617,
          "old_api": "srv_active_wake_master_thread",
          "new_api": null,
          "old_text": "srv_active_wake_master_thread()",
          "new_text": null,
          "old_line_content": "\tsrv_active_wake_master_thread();",
          "new_line_content": "\t\tand InnoDB must be the same. Consider the situation",
          "content_same": false
        },
        {
          "line": 10619,
          "old_api": "thd_sql_command",
          "new_api": null,
          "old_text": "thd_sql_command(thd)",
          "new_text": null,
          "old_line_content": "\tif (thd_sql_command(thd) != SQLCOM_XA_PREPARE",
          "new_line_content": "\t\t  thread1> prepare; write to binlog; ...",
          "content_same": false
        },
        {
          "line": 10621,
          "old_api": "thd_test_options",
          "new_api": null,
          "old_text": "thd_test_options(\n\t\t\tthd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "new_text": null,
          "old_line_content": "\t\t|| !thd_test_options(",
          "new_line_content": "\t\t  thread2> prepare; write to binlog; commit",
          "content_same": false
        },
        {
          "line": 8577,
          "old_api": "dict_table_get_first_index",
          "new_api": null,
          "old_text": "dict_table_get_first_index(prebuilt->table)",
          "new_text": null,
          "old_line_content": "\tfor (index = dict_table_get_first_index(prebuilt->table);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8579,
          "old_api": "dict_table_get_next_index",
          "new_api": null,
          "old_text": "dict_table_get_next_index(index)",
          "new_text": null,
          "old_line_content": "\t     index = dict_table_get_next_index(index)) {",
          "new_line_content": "\t\t\tis_ok = FALSE;",
          "content_same": false
        },
        {
          "line": 8581,
          "old_api": "fputs",
          "new_api": null,
          "old_text": "fputs(\"Validating index \", stderr)",
          "new_text": null,
          "old_line_content": "\t\tfputs(\"Validating index \", stderr);",
          "new_line_content": "\t\t\t\t\t    ER_NOT_KEYFILE,",
          "content_same": false
        },
        {
          "line": 8582,
          "old_api": "ut_print_name",
          "new_api": null,
          "old_text": "ut_print_name(stderr, trx, FALSE, index->name)",
          "new_text": null,
          "old_line_content": "\t\tut_print_name(stderr, trx, FALSE, index->name);",
          "new_line_content": "\t\t\t\t\t    \"InnoDB: The B-tree of\"",
          "content_same": false
        },
        {
          "line": 8583,
          "old_api": "putc",
          "new_api": null,
          "old_text": "putc('\\n', stderr)",
          "new_text": null,
          "old_line_content": "\t\tputc('\\n', stderr);",
          "new_line_content": "\t\t\t\t\t    \" index '%-.200s' is corrupted.\",",
          "content_same": false
        },
        {
          "line": 8586,
          "old_api": "btr_validate_index",
          "new_api": null,
          "old_text": "btr_validate_index(index, prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\t\tif (!btr_validate_index(index, prebuilt->trx)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 8588,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_NOT_KEYFILE,\n\t\t\t\t\t    \"InnoDB: The B-tree of\"\n\t\t\t\t\t    \" index '%-.200s' is corrupted.\",\n\t\t\t\t\t    index->name)",
          "new_text": null,
          "old_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "\t\t/* Instead of invoking change_active_index(), set up",
          "content_same": false
        },
        {
          "line": 10642,
          "old_api": "mysql_mutex_lock",
          "new_api": null,
          "old_text": "mysql_mutex_lock(&prepare_commit_mutex)",
          "new_text": null,
          "old_line_content": "\t\tmysql_mutex_lock(&prepare_commit_mutex);",
          "new_line_content": "This function is used to recover X/Open XA distributed transactions.",
          "content_same": false
        },
        {
          "line": 10643,
          "old_api": "trx_owns_prepare_commit_mutex_set",
          "new_api": null,
          "old_text": "trx_owns_prepare_commit_mutex_set(trx)",
          "new_text": null,
          "old_line_content": "\t\ttrx_owns_prepare_commit_mutex_set(trx);",
          "new_line_content": "@return\tnumber of prepared transactions stored in xid_list */",
          "content_same": false
        },
        {
          "line": 8601,
          "old_api": "row_merge_is_index_usable",
          "new_api": null,
          "old_text": "row_merge_is_index_usable(\n\t\t\tprebuilt->trx, prebuilt->index)",
          "new_text": null,
          "old_line_content": "\t\tprebuilt->index_usable = row_merge_is_index_usable(",
          "new_line_content": "\t\t\t\t\t    index->name);",
          "content_same": false
        },
        {
          "line": 8604,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(!prebuilt->index_usable)",
          "new_text": null,
          "old_line_content": "\t\tif (UNIV_UNLIKELY(!prebuilt->index_usable)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8605,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    HA_ERR_TABLE_DEF_CHANGED,\n\t\t\t\t\t    \"InnoDB: Insufficient history for\"\n\t\t\t\t\t    \" index '%-.200s'\",\n\t\t\t\t\t    index->name)",
          "new_text": null,
          "old_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "\t\tprebuilt->sql_stat_start = TRUE;",
          "content_same": false
        },
        {
          "line": 10660,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 8618,
          "old_api": "dtuple_set_n_fields",
          "new_api": null,
          "old_text": "dtuple_set_n_fields(prebuilt->search_tuple, 0)",
          "new_text": null,
          "old_line_content": "\t\tdtuple_set_n_fields(prebuilt->search_tuple, 0);",
          "new_line_content": "\t\t\t\t\t    \" index '%-.200s' is corrupted.\",",
          "content_same": false
        },
        {
          "line": 10667,
          "old_api": "trx_recover_for_mysql",
          "new_api": null,
          "old_text": "trx_recover_for_mysql(xid_list, len)",
          "new_text": null,
          "old_line_content": "\treturn(trx_recover_for_mysql(xid_list, len));",
          "new_line_content": "int",
          "content_same": false
        },
        {
          "line": 8622,
          "old_api": "row_check_index_for_mysql",
          "new_api": null,
          "old_text": "row_check_index_for_mysql(prebuilt, index, &n_rows)",
          "new_text": null,
          "old_line_content": "\t\tif (!row_check_index_for_mysql(prebuilt, index, &n_rows)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8631,
          "old_api": "thd_killed",
          "new_api": null,
          "old_text": "thd_killed(user_thd)",
          "new_text": null,
          "old_line_content": "\t\tif (thd_killed(user_thd)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10683,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 8636,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"%lu entries in index %s\\n\", n_rows,\n\t\t\tindex->name)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"%lu entries in index %s\\n\", n_rows,",
          "new_line_content": "\t\t\t\t\t    ER_NOT_KEYFILE,",
          "content_same": false
        },
        {
          "line": 10685,
          "old_api": "trx_get_trx_by_xid",
          "new_api": null,
          "old_text": "trx_get_trx_by_xid(xid)",
          "new_text": null,
          "old_line_content": "\ttrx = trx_get_trx_by_xid(xid);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8640,
          "old_api": "dict_table_get_first_index",
          "new_api": null,
          "old_text": "dict_table_get_first_index(prebuilt->table)",
          "new_text": null,
          "old_line_content": "\t\tif (index == dict_table_get_first_index(prebuilt->table)) {",
          "new_line_content": "\t\t\t\t\t    index->name,",
          "content_same": false
        },
        {
          "line": 10688,
          "old_api": "innobase_commit_low",
          "new_api": null,
          "old_text": "innobase_commit_low(trx)",
          "new_text": null,
          "old_line_content": "\t\tinnobase_commit_low(trx);",
          "new_line_content": "/*******************************************************************//**",
          "content_same": false
        },
        {
          "line": 8643,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_NOT_KEYFILE,\n\t\t\t\t\t    \"InnoDB: Index '%-.200s'\"\n\t\t\t\t\t    \" contains %lu entries,\"\n\t\t\t\t\t    \" should be %lu.\",\n\t\t\t\t\t    index->name,\n\t\t\t\t\t    (ulong) n_rows,\n\t\t\t\t\t    (ulong) n_rows_in_table)",
          "new_text": null,
          "old_line_content": "\t\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "\t\t\tis_ok = FALSE;",
          "content_same": false
        },
        {
          "line": 8662,
          "old_api": "push_warning",
          "new_api": null,
          "old_text": "push_warning(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t     ER_NOT_KEYFILE,\n\t\t\t     \"InnoDB: The adaptive hash index is corrupted.\")",
          "new_text": null,
          "old_line_content": "\t\tpush_warning(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "\tsrv_fatal_semaphore_wait_threshold -= 7200; /* 2 hours */",
          "content_same": false
        },
        {
          "line": 10710,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10712,
          "old_api": "trx_get_trx_by_xid",
          "new_api": null,
          "old_text": "trx_get_trx_by_xid(xid)",
          "new_text": null,
          "old_line_content": "\ttrx = trx_get_trx_by_xid(xid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10715,
          "old_api": "innobase_rollback_trx",
          "new_api": null,
          "old_text": "innobase_rollback_trx(trx)",
          "new_text": null,
          "old_line_content": "\t\treturn(innobase_rollback_trx(trx));",
          "new_line_content": "which is created if the corresponding MySQL thread still lacks one.",
          "content_same": false
        },
        {
          "line": 8669,
          "old_api": "server_mutex_enter",
          "new_api": null,
          "old_text": "server_mutex_enter()",
          "new_text": null,
          "old_line_content": "\tserver_mutex_enter();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8671,
          "old_api": "server_mutex_exit",
          "new_api": null,
          "old_text": "server_mutex_exit()",
          "new_text": null,
          "old_line_content": "\tserver_mutex_exit();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 8674,
          "old_api": "thd_killed",
          "new_api": null,
          "old_text": "thd_killed(user_thd)",
          "new_text": null,
          "old_line_content": "\tif (thd_killed(user_thd)) {",
          "new_line_content": "Adds information about free space in the InnoDB tablespace to a table comment",
          "content_same": false
        },
        {
          "line": 8675,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "\t\tmy_error(ER_QUERY_INTERRUPTED, MYF(0));",
          "new_line_content": "which is printed out when a user calls SHOW TABLE STATUS. Adds also info on",
          "content_same": false
        },
        {
          "line": 8678,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(is_ok ? HA_ADMIN_OK : HA_ADMIN_CORRUPT)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(is_ok ? HA_ADMIN_OK : HA_ADMIN_CORRUPT);",
          "new_line_content": "UNIV_INTERN",
          "content_same": false
        },
        {
          "line": 10734,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "corresponding MySQL thread still lacks one. */",
          "content_same": false
        },
        {
          "line": 10736,
          "old_api": "check_trx_exists",
          "new_api": null,
          "old_text": "check_trx_exists(thd)",
          "new_text": null,
          "old_line_content": "\treturn(read_cursor_view_create_for_mysql(check_trx_exists(thd)));",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 8692,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(comment)",
          "new_text": null,
          "old_line_content": "\tuint\tlength = (uint) strlen(comment);",
          "new_line_content": "\tif (length > 64000 - 3) {",
          "content_same": false
        },
        {
          "line": 10751,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "if the corresponding MySQL thread still lacks one. If the given",
          "content_same": false
        },
        {
          "line": 8704,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\tupdate_thd(ha_thd());",
          "new_line_content": "\tstr = NULL;",
          "content_same": false
        },
        {
          "line": 10753,
          "old_api": "check_trx_exists",
          "new_api": null,
          "old_text": "check_trx_exists(thd)",
          "new_text": null,
          "old_line_content": "\tread_cursor_view_close_for_mysql(check_trx_exists(thd),",
          "new_line_content": "restored to a transaction read view. */",
          "content_same": false
        },
        {
          "line": 8716,
          "old_api": "mutex_enter",
          "new_api": null,
          "old_text": "mutex_enter(&srv_dict_tmpfile_mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_enter(&srv_dict_tmpfile_mutex);",
          "new_line_content": "\t\t\t\tprebuilt->trx, prebuilt->table);",
          "content_same": false
        },
        {
          "line": 8719,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(srv_dict_tmpfile, \"InnoDB free: %llu kB\",\n\t\tfsp_get_available_space_in_free_extents(\n\t\t\tprebuilt->table->space))",
          "new_text": null,
          "old_line_content": "\tfprintf(srv_dict_tmpfile, \"InnoDB free: %llu kB\",",
          "new_line_content": "\t\tflen = 0;",
          "content_same": false
        },
        {
          "line": 8720,
          "old_api": "fsp_get_available_space_in_free_extents",
          "new_api": null,
          "old_text": "fsp_get_available_space_in_free_extents(\n\t\t\tprebuilt->table->space)",
          "new_text": null,
          "old_line_content": "\t\tfsp_get_available_space_in_free_extents(",
          "new_line_content": "\t} else if (length + flen + 3 > 64000) {",
          "content_same": false
        },
        {
          "line": 10770,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "renamed in the table. If col_name is not provided, check",
          "content_same": false
        },
        {
          "line": 8723,
          "old_api": "dict_print_info_on_foreign_keys",
          "new_api": null,
          "old_text": "dict_print_info_on_foreign_keys(FALSE, srv_dict_tmpfile,\n\t\t\t\tprebuilt->trx, prebuilt->table)",
          "new_text": null,
          "old_line_content": "\tdict_print_info_on_foreign_keys(FALSE, srv_dict_tmpfile,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10772,
          "old_api": "check_trx_exists",
          "new_api": null,
          "old_text": "check_trx_exists(thd)",
          "new_text": null,
          "old_line_content": "\tread_cursor_set_for_mysql(check_trx_exists(thd),",
          "new_line_content": "@return true if the column is being renamed */",
          "content_same": false
        },
        {
          "line": 8725,
          "old_api": "ftell",
          "new_api": null,
          "old_text": "ftell(srv_dict_tmpfile)",
          "new_text": null,
          "old_line_content": "\tflen = ftell(srv_dict_tmpfile);",
          "new_line_content": "\tread the contents of the temporary file */",
          "content_same": false
        },
        {
          "line": 8735,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "\tstr = (char*) my_malloc(length + flen + 3, MYF(0));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 8740,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(str, comment, length)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(str, comment, length);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8744,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "rewind(srv_dict_tmpfile)",
          "new_text": null,
          "old_line_content": "\t\trewind(srv_dict_tmpfile);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8745,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(pos, 1, flen, srv_dict_tmpfile)",
          "new_text": null,
          "old_line_content": "\t\tflen = (uint) fread(pos, 1, flen, srv_dict_tmpfile);",
          "new_line_content": "\treturn(str ? str : (char*) comment);",
          "content_same": false
        },
        {
          "line": 8749,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&srv_dict_tmpfile_mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&srv_dict_tmpfile_mutex);",
          "new_line_content": "Gets the foreign key create info for a table stored in InnoDB.",
          "content_same": false
        },
        {
          "line": 10804,
          "old_api": "innobase_strcasecmp",
          "new_api": null,
          "old_text": "innobase_strcasecmp(field->field_name,\n\t\t\t\t\t\tcol_name)",
          "new_text": null,
          "old_line_content": "\t\t\tif (innobase_strcasecmp(field->field_name,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 8769,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt != NULL);",
          "new_line_content": "\tprebuilt->trx->op_info = (char*)\"getting info on foreign keys\";",
          "content_same": false
        },
        {
          "line": 10828,
          "old_api": "check_column_being_renamed",
          "new_api": null,
          "old_text": "check_column_being_renamed(table, col_names[j])",
          "new_text": null,
          "old_line_content": "\t\tif (check_column_being_renamed(table, col_names[j])) {",
          "new_line_content": "/*******************************************************************//**",
          "content_same": false
        },
        {
          "line": 8783,
          "old_api": "trx_search_latch_release_if_reserved",
          "new_api": null,
          "old_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "new_line_content": "\tprebuilt->trx->op_info = (char*)\"\";",
          "content_same": false
        },
        {
          "line": 8786,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "rewind(srv_dict_tmpfile)",
          "new_text": null,
          "old_line_content": "\trewind(srv_dict_tmpfile);",
          "new_line_content": "\tif (flen < 0) {",
          "content_same": false
        },
        {
          "line": 8789,
          "old_api": "dict_print_info_on_foreign_keys",
          "new_api": null,
          "old_text": "dict_print_info_on_foreign_keys(TRUE, srv_dict_tmpfile,\n\t\t\t\tprebuilt->trx, prebuilt->table)",
          "new_text": null,
          "old_line_content": "\tdict_print_info_on_foreign_keys(TRUE, srv_dict_tmpfile,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8804,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "rewind(srv_dict_tmpfile)",
          "new_text": null,
          "old_line_content": "\t\trewind(srv_dict_tmpfile);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 8805,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(str, 1, flen, srv_dict_tmpfile)",
          "new_text": null,
          "old_line_content": "\t\tflen = (uint) fread(str, 1, flen, srv_dict_tmpfile);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10852,
          "old_api": "UT_LIST_GET_LEN",
          "new_api": null,
          "old_text": "UT_LIST_GET_LEN(prebuilt->table->foreign_list)",
          "new_text": null,
          "old_line_content": "\tif (UT_LIST_GET_LEN(prebuilt->table->foreign_list) == 0",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10853,
          "old_api": "UT_LIST_GET_LEN",
          "new_api": null,
          "old_text": "UT_LIST_GET_LEN(prebuilt->table->referenced_list)",
          "new_text": null,
          "old_line_content": "\t    && UT_LIST_GET_LEN(prebuilt->table->referenced_list) == 0) {",
          "new_line_content": "\t/* Check whether any column in the foreign key constraints which refer",
          "content_same": false
        },
        {
          "line": 8809,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&srv_dict_tmpfile_mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&srv_dict_tmpfile_mutex);",
          "new_line_content": "@return pointer to foreign key info */",
          "content_same": false
        },
        {
          "line": 10863,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "new_text": null,
          "old_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->referenced_list);",
          "new_line_content": "\t\t\treturn(true);",
          "content_same": false
        },
        {
          "line": 10865,
          "old_api": "UT_LIST_GET_NEXT",
          "new_api": null,
          "old_text": "UT_LIST_GET_NEXT(referenced_list, foreign)",
          "new_text": null,
          "old_line_content": "\t     foreign = UT_LIST_GET_NEXT(referenced_list, foreign)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10867,
          "old_api": "column_is_being_renamed",
          "new_api": null,
          "old_text": "column_is_being_renamed(table, foreign->n_fields,\n\t\t\t\t\t    foreign->referenced_col_names)",
          "new_text": null,
          "old_line_content": "\t\tif (column_is_being_renamed(table, foreign->n_fields,",
          "new_line_content": "\t/* Check whether any column in the foreign key constraints in the",
          "content_same": false
        },
        {
          "line": 10870,
          "old_api": "row_mysql_unlock_data_dictionary",
          "new_api": null,
          "old_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\t\t\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "new_line_content": "\t     foreign != NULL;",
          "content_same": false
        },
        {
          "line": 10877,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(prebuilt->table->foreign_list)",
          "new_text": null,
          "old_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->foreign_list);",
          "new_line_content": "\t\t\treturn(true);",
          "content_same": false
        },
        {
          "line": 10879,
          "old_api": "UT_LIST_GET_NEXT",
          "new_api": null,
          "old_text": "UT_LIST_GET_NEXT(foreign_list, foreign)",
          "new_text": null,
          "old_line_content": "\t     foreign = UT_LIST_GET_NEXT(foreign_list, foreign)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10884,
          "old_api": "row_mysql_unlock_data_dictionary",
          "new_api": null,
          "old_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\t\t\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 8837,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(ptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t    (uint) strlen(ptr), 1);",
          "new_line_content": "\ttmp_buff[len] = 0;",
          "content_same": false
        },
        {
          "line": 10889,
          "old_api": "row_mysql_unlock_data_dictionary",
          "new_api": null,
          "old_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "new_line_content": "bool",
          "content_same": false
        },
        {
          "line": 8842,
          "old_api": "dict_get_db_name_len",
          "new_api": null,
          "old_text": "dict_get_db_name_len(foreign->referenced_table_name)",
          "new_text": null,
          "old_line_content": "\tlen = dict_get_db_name_len(foreign->referenced_table_name);",
          "new_line_content": "\t/* Referenced (parent) table name */",
          "content_same": false
        },
        {
          "line": 8847,
          "old_api": "filename_to_tablename",
          "new_api": null,
          "old_text": "filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff))",
          "new_text": null,
          "old_line_content": "\tlen = filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff));",
          "new_line_content": "\t/* Dependent (child) database name */",
          "content_same": false
        },
        {
          "line": 8851,
          "old_api": "dict_remove_db_name",
          "new_api": null,
          "old_text": "dict_remove_db_name(foreign->referenced_table_name)",
          "new_text": null,
          "old_line_content": "\tptr = dict_remove_db_name(foreign->referenced_table_name);",
          "new_line_content": "\ttmp_buff[len] = 0;",
          "content_same": false
        },
        {
          "line": 8852,
          "old_api": "filename_to_tablename",
          "new_api": null,
          "old_text": "filename_to_tablename(ptr, name_buff, sizeof(name_buff))",
          "new_text": null,
          "old_line_content": "\tlen = filename_to_tablename(ptr, name_buff, sizeof(name_buff));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8856,
          "old_api": "dict_get_db_name_len",
          "new_api": null,
          "old_text": "dict_get_db_name_len(foreign->foreign_table_name)",
          "new_text": null,
          "old_line_content": "\tlen = dict_get_db_name_len(foreign->foreign_table_name);",
          "new_line_content": "\t/* Dependent (child) table name */",
          "content_same": false
        },
        {
          "line": 8861,
          "old_api": "filename_to_tablename",
          "new_api": null,
          "old_text": "filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff))",
          "new_text": null,
          "old_line_content": "\tlen = filename_to_tablename(tmp_buff, name_buff, sizeof(name_buff));",
          "new_line_content": "\tdo {",
          "content_same": false
        },
        {
          "line": 8862,
          "old_api": "thd_make_lex_string",
          "new_api": null,
          "old_text": "thd_make_lex_string(thd, 0, name_buff, len, 1)",
          "new_text": null,
          "old_line_content": "\tf_key_info.foreign_db = thd_make_lex_string(thd, 0, name_buff, len, 1);",
          "new_line_content": "\t\tptr = foreign->foreign_col_names[i];",
          "content_same": false
        },
        {
          "line": 8866,
          "old_api": "filename_to_tablename",
          "new_api": null,
          "old_text": "filename_to_tablename(ptr, name_buff, sizeof(name_buff))",
          "new_text": null,
          "old_line_content": "\tlen = filename_to_tablename(ptr, name_buff, sizeof(name_buff));",
          "new_line_content": "\t\tptr = foreign->referenced_col_names[i];",
          "content_same": false
        },
        {
          "line": 8871,
          "old_api": "thd_make_lex_string",
          "new_api": null,
          "old_text": "thd_make_lex_string(thd, name, ptr,\n\t\t\t\t\t   (uint) strlen(ptr), 1)",
          "new_text": null,
          "old_line_content": "\t\tname = thd_make_lex_string(thd, name, ptr,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8872,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(ptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t   (uint) strlen(ptr), 1);",
          "new_line_content": "\tif (foreign->type & DICT_FOREIGN_ON_DELETE_CASCADE) {",
          "content_same": false
        },
        {
          "line": 8873,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "f_key_info.foreign_fields.push_back(name)",
          "new_text": null,
          "old_line_content": "\t\tf_key_info.foreign_fields.push_back(name);",
          "new_line_content": "\t\tlen = 7;",
          "content_same": false
        },
        {
          "line": 10920,
          "old_api": "check_column_being_renamed",
          "new_api": null,
          "old_text": "check_column_being_renamed(table, NULL)",
          "new_text": null,
          "old_line_content": "\tif (check_column_being_renamed(table, NULL)) {",
          "new_line_content": "\t\treturn(COMPATIBLE_DATA_NO);",
          "content_same": false
        },
        {
          "line": 8875,
          "old_api": "thd_make_lex_string",
          "new_api": null,
          "old_text": "thd_make_lex_string(thd, name, ptr,\n\t\t\t\t\t   (uint) strlen(ptr), 1)",
          "new_text": null,
          "old_line_content": "\t\tname = thd_make_lex_string(thd, name, ptr,",
          "new_line_content": "\t} else if (foreign->type & DICT_FOREIGN_ON_DELETE_SET_NULL) {",
          "content_same": false
        },
        {
          "line": 8876,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(ptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t   (uint) strlen(ptr), 1);",
          "new_line_content": "\t\tlen = 8;",
          "content_same": false
        },
        {
          "line": 8877,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "f_key_info.referenced_fields.push_back(name)",
          "new_text": null,
          "old_line_content": "\t\tf_key_info.referenced_fields.push_back(name);",
          "new_line_content": "\t\tptr = \"SET NULL\";",
          "content_same": false
        },
        {
          "line": 10934,
          "old_api": "get_row_type",
          "new_api": null,
          "old_text": "get_row_type()",
          "new_text": null,
          "old_line_content": "\t    && info->row_type != get_row_type()) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8894,
          "old_api": "thd_make_lex_string",
          "new_api": null,
          "old_text": "thd_make_lex_string(thd,\n\t\t\t\t\t\t       f_key_info.delete_method,\n\t\t\t\t\t\t       ptr, len, 1)",
          "new_text": null,
          "old_line_content": "\tf_key_info.delete_method = thd_make_lex_string(thd,",
          "new_line_content": "\t\tlen = 8;",
          "content_same": false
        },
        {
          "line": 10959,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(format_name != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(format_name != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10963,
          "old_api": "strtoul",
          "new_api": null,
          "old_text": "strtoul(format_name, &endp, 10)",
          "new_text": null,
          "old_line_content": "\tformat_id = (uint) strtoul(format_name, &endp, 10);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 8917,
          "old_api": "thd_make_lex_string",
          "new_api": null,
          "old_text": "thd_make_lex_string(thd,\n\t\t\t\t\tf_key_info.referenced_key_name,\n\t\t\t\t\tforeign->referenced_index->name,\n\t\t\t\t\t (uint) strlen(foreign->referenced_index->name),\n\t\t\t\t\t1)",
          "new_text": null,
          "old_line_content": "\t\treferenced_key_name = thd_make_lex_string(thd,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8928,
          "old_api": "thd_memdup",
          "new_api": null,
          "old_text": "thd_memdup(thd, &f_key_info,\n\t\t\t\t\t\t      sizeof(FOREIGN_KEY_INFO))",
          "new_text": null,
          "old_line_content": "\tpf_key_info = (FOREIGN_KEY_INFO *) thd_memdup(thd, &f_key_info,",
          "new_line_content": "@return always 0, that is, always succeeds */",
          "content_same": false
        },
        {
          "line": 10978,
          "old_api": "trx_sys_file_format_id_to_name",
          "new_api": null,
          "old_text": "trx_sys_file_format_id_to_name(format_id)",
          "new_text": null,
          "old_line_content": "\t\t\tname = trx_sys_file_format_id_to_name(format_id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10980,
          "old_api": "innobase_strcasecmp",
          "new_api": null,
          "old_text": "innobase_strcasecmp(format_name, name)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!innobase_strcasecmp(format_name, name)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 8947,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8952,
          "old_api": "trx_search_latch_release_if_reserved",
          "new_api": null,
          "old_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "new_line_content": "\t\tif (pf_key_info) {",
          "content_same": false
        },
        {
          "line": 8954,
          "old_api": "mutex_enter",
          "new_api": null,
          "old_text": "mutex_enter(&(dict_sys->mutex))",
          "new_text": null,
          "old_line_content": "\tmutex_enter(&(dict_sys->mutex));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 11002,
          "old_api": "innobase_file_format_name_lookup",
          "new_api": null,
          "old_text": "innobase_file_format_name_lookup(format_max)",
          "new_text": null,
          "old_line_content": "\tformat_id = innobase_file_format_name_lookup(format_max);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8956,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(prebuilt->table->foreign_list)",
          "new_text": null,
          "old_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->foreign_list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8958,
          "old_api": "UT_LIST_GET_NEXT",
          "new_api": null,
          "old_text": "UT_LIST_GET_NEXT(foreign_list, foreign)",
          "new_text": null,
          "old_line_content": "\t     foreign = UT_LIST_GET_NEXT(foreign_list, foreign)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8959,
          "old_api": "get_foreign_key_info",
          "new_api": null,
          "old_text": "get_foreign_key_info(thd, foreign)",
          "new_text": null,
          "old_line_content": "\t\tpf_key_info = get_foreign_key_info(thd, foreign);",
          "new_line_content": "\tprebuilt->trx->op_info = \"\";",
          "content_same": false
        },
        {
          "line": 8961,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "f_key_list->push_back(pf_key_info)",
          "new_text": null,
          "old_line_content": "\t\t\tf_key_list->push_back(pf_key_info);",
          "new_line_content": "\treturn(0);",
          "content_same": false
        },
        {
          "line": 8965,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&(dict_sys->mutex))",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&(dict_sys->mutex));",
          "new_line_content": "Gets the set of foreign keys where this table is the referenced table.",
          "content_same": false
        },
        {
          "line": 8985,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11033,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(value != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(value != NULL);",
          "new_line_content": "\t\t\tfile_format_input);",
          "content_same": false
        },
        {
          "line": 11035,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "value->val_str(value, buff, &len)",
          "new_text": null,
          "old_line_content": "\tfile_format_input = value->val_str(value, buff, &len);",
          "new_line_content": "\t\tif (format_id <= DICT_TF_FORMAT_MAX) {",
          "content_same": false
        },
        {
          "line": 8990,
          "old_api": "trx_search_latch_release_if_reserved",
          "new_api": null,
          "old_text": "trx_search_latch_release_if_reserved(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\ttrx_search_latch_release_if_reserved(prebuilt->trx);",
          "new_line_content": "\t\tif (pf_key_info) {",
          "content_same": false
        },
        {
          "line": 8992,
          "old_api": "mutex_enter",
          "new_api": null,
          "old_text": "mutex_enter(&(dict_sys->mutex))",
          "new_text": null,
          "old_line_content": "\tmutex_enter(&(dict_sys->mutex));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 8994,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "new_text": null,
          "old_line_content": "\tfor (foreign = UT_LIST_GET_FIRST(prebuilt->table->referenced_list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8996,
          "old_api": "UT_LIST_GET_NEXT",
          "new_api": null,
          "old_text": "UT_LIST_GET_NEXT(referenced_list, foreign)",
          "new_text": null,
          "old_line_content": "\t     foreign = UT_LIST_GET_NEXT(referenced_list, foreign)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8997,
          "old_api": "get_foreign_key_info",
          "new_api": null,
          "old_text": "get_foreign_key_info(thd, foreign)",
          "new_text": null,
          "old_line_content": "\t\tpf_key_info = get_foreign_key_info(thd, foreign);",
          "new_line_content": "\tprebuilt->trx->op_info = \"\";",
          "content_same": false
        },
        {
          "line": 8999,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "f_key_list->push_back(pf_key_info)",
          "new_text": null,
          "old_line_content": "\t\t\tf_key_list->push_back(pf_key_info);",
          "new_line_content": "\treturn(0);",
          "content_same": false
        },
        {
          "line": 11047,
          "old_api": "static_cast<const char**>(save)",
          "new_api": null,
          "old_text": "static_cast<const char**>(save)",
          "new_text": null,
          "old_line_content": "\t\t\t*static_cast<const char**>(save) =",
          "new_line_content": "\treturn(1);",
          "content_same": false
        },
        {
          "line": 11048,
          "old_api": "trx_sys_file_format_id_to_name",
          "new_api": null,
          "old_text": "trx_sys_file_format_id_to_name(format_id)",
          "new_text": null,
          "old_line_content": "\t\t\t    trx_sys_file_format_id_to_name(format_id);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9003,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&(dict_sys->mutex))",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&(dict_sys->mutex));",
          "new_line_content": "Checks if ALTER TABLE may change the storage engine of the table.",
          "content_same": false
        },
        {
          "line": 11054,
          "old_api": "static_cast<const char**>(save)",
          "new_api": null,
          "old_text": "static_cast<const char**>(save)",
          "new_text": null,
          "old_line_content": "\t*static_cast<const char**>(save) = NULL;",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 9024,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt->trx == thd_to_trx(ha_thd()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11076,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(save != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9030,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "new_text": null,
          "old_line_content": "\tcan_switch = !UT_LIST_GET_FIRST(prebuilt->table->referenced_list)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9031,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(prebuilt->table->foreign_list)",
          "new_text": null,
          "old_line_content": "\t\t\t&& !UT_LIST_GET_FIRST(prebuilt->table->foreign_list);",
          "new_line_content": "/*******************************************************************//**",
          "content_same": false
        },
        {
          "line": 11078,
          "old_api": "static_cast<const char*const*>(save)",
          "new_api": null,
          "old_text": "static_cast<const char*const*>(save)",
          "new_text": null,
          "old_line_content": "\tformat_name = *static_cast<const char*const*>(save);",
          "new_line_content": "\t\t\tsrv_file_format = format_id;",
          "content_same": false
        },
        {
          "line": 9033,
          "old_api": "row_mysql_unlock_data_dictionary",
          "new_api": null,
          "old_text": "row_mysql_unlock_data_dictionary(prebuilt->trx)",
          "new_text": null,
          "old_line_content": "\trow_mysql_unlock_data_dictionary(prebuilt->trx);",
          "new_line_content": "a REPLACE is either equivalent to an INSERT, or DELETE(s) + INSERT. Only a",
          "content_same": false
        },
        {
          "line": 9036,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(can_switch)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(can_switch);",
          "new_line_content": "@return\t> 0 if referenced by a FOREIGN KEY */",
          "content_same": false
        },
        {
          "line": 11090,
          "old_api": "static_cast<const char**>(var_ptr)",
          "new_api": null,
          "old_text": "static_cast<const char**>(var_ptr)",
          "new_text": null,
          "old_line_content": "\t*static_cast<const char**>(var_ptr)",
          "new_line_content": "static",
          "content_same": false
        },
        {
          "line": 11091,
          "old_api": "trx_sys_file_format_id_to_name",
          "new_api": null,
          "old_text": "trx_sys_file_format_id_to_name(srv_file_format)",
          "new_text": null,
          "old_line_content": "\t\t= trx_sys_file_format_id_to_name(srv_file_format);",
          "new_line_content": "int",
          "content_same": false
        },
        {
          "line": 9050,
          "old_api": "dict_table_is_referenced_by_foreign_key",
          "new_api": null,
          "old_text": "dict_table_is_referenced_by_foreign_key(prebuilt->table)",
          "new_text": null,
          "old_line_content": "\tif (dict_table_is_referenced_by_foreign_key(prebuilt->table)) {",
          "new_line_content": "/*******************************************************************//**",
          "content_same": false
        },
        {
          "line": 11114,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(save != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "\t\t\tfile_format_input);",
          "content_same": false
        },
        {
          "line": 11115,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(value != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(value != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9068,
          "old_api": "my_free",
          "new_api": null,
          "old_text": "my_free(str)",
          "new_text": null,
          "old_line_content": "\t\tmy_free(str);",
          "new_line_content": "int",
          "content_same": false
        },
        {
          "line": 11117,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "value->val_str(value, buff, &len)",
          "new_text": null,
          "old_line_content": "\tfile_format_input = value->val_str(value, buff, &len);",
          "new_line_content": "\t\t\t/* Save a pointer to the name in the",
          "content_same": false
        },
        {
          "line": 11121,
          "old_api": "innobase_file_format_validate_and_set",
          "new_api": null,
          "old_text": "innobase_file_format_validate_and_set(\n\t\t\tfile_format_input)",
          "new_text": null,
          "old_line_content": "\t\tformat_id = innobase_file_format_validate_and_set(",
          "new_line_content": "\t\t\t\t\t\t(uint)format_id);",
          "content_same": false
        },
        {
          "line": 11127,
          "old_api": "static_cast<const char**>(save)",
          "new_api": null,
          "old_text": "static_cast<const char**>(save)",
          "new_text": null,
          "old_line_content": "\t\t\t*static_cast<const char**>(save) =",
          "new_line_content": "\t\t\t  MYSQL_ERROR::WARN_LEVEL_WARN,",
          "content_same": false
        },
        {
          "line": 11128,
          "old_api": "trx_sys_file_format_id_to_name",
          "new_api": null,
          "old_text": "trx_sys_file_format_id_to_name(\n\t\t\t\t\t\t(uint)format_id)",
          "new_text": null,
          "old_line_content": "\t\t\t    trx_sys_file_format_id_to_name(",
          "new_line_content": "\t\t\t  ER_WRONG_ARGUMENTS,",
          "content_same": false
        },
        {
          "line": 11134,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(thd,\n\t\t\t  MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t  ER_WRONG_ARGUMENTS,\n\t\t\t  \"InnoDB: invalid innodb_file_format_max \"\n\t\t\t  \"value; can be any format up to %s \"\n\t\t\t  \"or equivalent id of %d\",\n\t\t\t  trx_sys_file_format_id_to_name(DICT_TF_FORMAT_MAX),\n\t\t\t  DICT_TF_FORMAT_MAX)",
          "new_text": null,
          "old_line_content": "\t\t\tpush_warning_printf(thd,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9089,
          "old_api": "row_mysql_prebuilt_free_blob_heap",
          "new_api": null,
          "old_text": "row_mysql_prebuilt_free_blob_heap(prebuilt)",
          "new_text": null,
          "old_line_content": "\t\t\t\trow_mysql_prebuilt_free_blob_heap(prebuilt);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 11140,
          "old_api": "trx_sys_file_format_id_to_name",
          "new_api": null,
          "old_text": "trx_sys_file_format_id_to_name(DICT_TF_FORMAT_MAX)",
          "new_text": null,
          "old_line_content": "\t\t\t  trx_sys_file_format_id_to_name(DICT_TF_FORMAT_MAX),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9093,
          "old_api": "reset_template",
          "new_api": null,
          "old_text": "reset_template()",
          "new_text": null,
          "old_line_content": "\t\t\treset_template();",
          "new_line_content": "\t\tcase HA_EXTRA_KEYREAD_PRESERVE_FIELDS:",
          "content_same": false
        },
        {
          "line": 11145,
          "old_api": "static_cast<const char**>(save)",
          "new_api": null,
          "old_text": "static_cast<const char**>(save)",
          "new_text": null,
          "old_line_content": "\t*static_cast<const char**>(save) = NULL;",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 9112,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates |= TRX_DUP_IGNORE;",
          "new_line_content": "\t\tcase HA_EXTRA_NO_IGNORE_DUP_KEY:",
          "content_same": false
        },
        {
          "line": 9115,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates |= TRX_DUP_REPLACE;",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 9118,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates &= ~TRX_DUP_REPLACE;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 11168,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(save != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 9121,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\t\t\tthd_to_trx(ha_thd())->duplicates &=",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 11169,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(var_ptr != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(var_ptr != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11171,
          "old_api": "static_cast<const char*const*>(save)",
          "new_api": null,
          "old_text": "static_cast<const char*const*>(save)",
          "new_text": null,
          "old_line_content": "\tformat_name_in = *static_cast<const char*const*>(save);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11178,
          "old_api": "innobase_file_format_name_lookup",
          "new_api": null,
          "old_text": "innobase_file_format_name_lookup(format_name_in)",
          "new_text": null,
          "old_line_content": "\tformat_id = innobase_file_format_name_lookup(format_name_in);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 11182,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t    ER_WRONG_ARGUMENTS,\n\t\t\t\t    \"Ignoring SET innodb_file_format=%s\",\n\t\t\t\t    format_name_in)",
          "new_text": null,
          "old_line_content": "\t\tpush_warning_printf(thd, MYSQL_ERROR::WARN_LEVEL_WARN,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9139,
          "old_api": "row_mysql_prebuilt_free_blob_heap",
          "new_api": null,
          "old_text": "row_mysql_prebuilt_free_blob_heap(prebuilt)",
          "new_text": null,
          "old_line_content": "\t\trow_mysql_prebuilt_free_blob_heap(prebuilt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11189,
          "old_api": "static_cast<const char**>(var_ptr)",
          "new_api": null,
          "old_text": "static_cast<const char**>(var_ptr)",
          "new_text": null,
          "old_line_content": "\tformat_name_out = static_cast<const char**>(var_ptr);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 9142,
          "old_api": "reset_template",
          "new_api": null,
          "old_text": "reset_template()",
          "new_text": null,
          "old_line_content": "\treset_template();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9143,
          "old_api": "dsmrr_close",
          "new_api": null,
          "old_text": "ds_mrr.dsmrr_close()",
          "new_text": null,
          "old_line_content": "\tds_mrr.dsmrr_close();",
          "new_line_content": "\treturn(0);",
          "content_same": false
        },
        {
          "line": 11192,
          "old_api": "trx_sys_file_format_max_set",
          "new_api": null,
          "old_text": "trx_sys_file_format_max_set(format_id, format_name_out)",
          "new_text": null,
          "old_line_content": "\tif (trx_sys_file_format_max_set(format_id, format_name_out)) {",
          "new_line_content": "/****************************************************************//**",
          "content_same": false
        },
        {
          "line": 11193,
          "old_api": "ut_print_timestamp",
          "new_api": null,
          "old_text": "ut_print_timestamp(stderr)",
          "new_text": null,
          "old_line_content": "\t\tut_print_timestamp(stderr);",
          "new_line_content": "Update the system variable innodb_adaptive_hash_index using the \"saved\"",
          "content_same": false
        },
        {
          "line": 11194,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\n\t\t\t\" [Info] InnoDB: the file format in the system \"\n\t\t\t\"tablespace is now set to %s.\\n\", *format_name_out)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr,",
          "new_line_content": "value. This function is registered as a callback with MySQL. */",
          "content_same": false
        },
        {
          "line": 11216,
          "old_api": "btr_search_enable",
          "new_api": null,
          "old_text": "btr_search_enable()",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_enable();",
          "new_line_content": "value. This function is registered as a callback with MySQL. */",
          "content_same": false
        },
        {
          "line": 11218,
          "old_api": "btr_search_disable",
          "new_api": null,
          "old_text": "btr_search_disable()",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_disable();",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 9175,
          "old_api": "update_thd",
          "new_api": null,
          "old_text": "update_thd(thd)",
          "new_text": null,
          "old_line_content": "\tupdate_thd(thd);",
          "new_line_content": "\tthat may not be the case. We MUST release the search latch before an",
          "content_same": false
        },
        {
          "line": 9186,
          "old_api": "innobase_release_stat_resources",
          "new_api": null,
          "old_text": "innobase_release_stat_resources(trx)",
          "new_text": null,
          "old_line_content": "\tinnobase_release_stat_resources(trx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11237,
          "old_api": "buf_LRU_old_ratio_update",
          "new_api": null,
          "old_text": "buf_LRU_old_ratio_update(\n\t\t*static_cast<const uint*>(save), TRUE)",
          "new_text": null,
          "old_line_content": "\tinnobase_old_blocks_pct = buf_LRU_old_ratio_update(",
          "new_line_content": "@return\tcorresponding IBUF_USE_* value for the input variable",
          "content_same": false
        },
        {
          "line": 11238,
          "old_api": "static_cast<const uint*>(save)",
          "new_api": null,
          "old_text": "static_cast<const uint*>(save)",
          "new_text": null,
          "old_line_content": "\t\t*static_cast<const uint*>(save), TRUE);",
          "new_line_content": "name, or IBUF_USE_COUNT if not able to find a match */",
          "content_same": false
        },
        {
          "line": 9193,
          "old_api": "reset_template",
          "new_api": null,
          "old_text": "reset_template()",
          "new_text": null,
          "old_line_content": "\treset_template();",
          "new_line_content": "\t\tprebuilt->select_lock_type = LOCK_X;",
          "content_same": false
        },
        {
          "line": 9204,
          "old_api": "thd_sql_command",
          "new_api": null,
          "old_text": "thd_sql_command(thd)",
          "new_text": null,
          "old_line_content": "\t\t   && thd_sql_command(thd) == SQLCOM_SELECT",
          "new_line_content": "\t\t/* Not a consistent read: restore the",
          "content_same": false
        },
        {
          "line": 11256,
          "old_api": "UT_ARR_SIZE",
          "new_api": null,
          "old_text": "UT_ARR_SIZE(innobase_change_buffering_values)",
          "new_text": null,
          "old_line_content": "\tfor (use = 0; use < UT_ARR_SIZE(innobase_change_buffering_values);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11259,
          "old_api": "innobase_strcasecmp",
          "new_api": null,
          "old_text": "innobase_strcasecmp(\n\t\t\tinput_name, innobase_change_buffering_values[use])",
          "new_text": null,
          "old_line_content": "\t\tif (!innobase_strcasecmp(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9225,
          "old_api": "innobase_register_trx",
          "new_api": null,
          "old_text": "innobase_register_trx(ht, thd, trx)",
          "new_text": null,
          "old_line_content": "\tinnobase_register_trx(ht, thd, trx);",
          "new_line_content": "static inline",
          "content_same": false
        },
        {
          "line": 11289,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(value != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(value != NULL);",
          "new_line_content": "\t\t\tchange_buffering_input);",
          "content_same": false
        },
        {
          "line": 11291,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "value->val_str(value, buff, &len)",
          "new_text": null,
          "old_line_content": "\tchange_buffering_input = value->val_str(value, buff, &len);",
          "new_line_content": "\t\tif (use != IBUF_USE_COUNT) {",
          "content_same": false
        },
        {
          "line": 11296,
          "old_api": "innodb_find_change_buffering_value",
          "new_api": null,
          "old_text": "innodb_find_change_buffering_value(\n\t\t\tchange_buffering_input)",
          "new_text": null,
          "old_line_content": "\t\tuse = innodb_find_change_buffering_value(",
          "new_line_content": "\t\t\treturn(0);",
          "content_same": false
        },
        {
          "line": 11301,
          "old_api": "static_cast<const char**>(save)",
          "new_api": null,
          "old_text": "static_cast<const char**>(save)",
          "new_text": null,
          "old_line_content": "\t\t\t*static_cast<const char**>(save) =",
          "new_line_content": "\t\"change_buffering_input\" */",
          "content_same": false
        },
        {
          "line": 9269,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"ha_innobase::external_lock\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"ha_innobase::external_lock\");",
          "new_line_content": "\tinformative error message and return with an error.",
          "content_same": false
        },
        {
          "line": 9270,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type))",
          "new_text": null,
          "old_line_content": "\tDBUG_PRINT(\"enter\",(\"lock_type: %d\", lock_type));",
          "new_line_content": "\tNote: decide_logging_format would give the same error message,",
          "content_same": false
        },
        {
          "line": 9272,
          "old_api": "update_thd",
          "new_api": null,
          "old_text": "update_thd(thd)",
          "new_text": null,
          "old_line_content": "\tupdate_thd(thd);",
          "new_line_content": "\tif (lock_type == F_WRLCK",
          "content_same": false
        },
        {
          "line": 9281,
          "old_api": "table_flags",
          "new_api": null,
          "old_text": "table_flags()",
          "new_text": null,
          "old_line_content": "\t    && !(table_flags() & HA_BINLOG_STMT_CAPABLE)",
          "new_line_content": "\t\tif (!skip) {",
          "content_same": false
        },
        {
          "line": 11330,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(var_ptr != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(var_ptr != NULL);",
          "new_line_content": "\tibuf_use = use;",
          "content_same": false
        },
        {
          "line": 9283,
          "old_api": "thd_binlog_filter_ok",
          "new_api": null,
          "old_text": "thd_binlog_filter_ok(thd)",
          "new_text": null,
          "old_line_content": "\t    && thd_binlog_filter_ok(thd)",
          "new_line_content": "\t\t\t         \" InnoDB is limited to row-logging when \"",
          "content_same": false
        },
        {
          "line": 9284,
          "old_api": "thd_sqlcom_can_generate_row_events",
          "new_api": null,
          "old_text": "thd_sqlcom_can_generate_row_events(thd)",
          "new_text": null,
          "old_line_content": "\t    && thd_sqlcom_can_generate_row_events(thd))",
          "new_line_content": "\t\t\t         \"transaction isolation level is \"",
          "content_same": false
        },
        {
          "line": 11333,
          "old_api": "innodb_find_change_buffering_value",
          "new_api": null,
          "old_text": "innodb_find_change_buffering_value(\n\t\t*static_cast<const char*const*>(save))",
          "new_text": null,
          "old_line_content": "\tuse = innodb_find_change_buffering_value(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 11334,
          "old_api": "static_cast<const char*const*>(save)",
          "new_api": null,
          "old_text": "static_cast<const char*const*>(save)",
          "new_text": null,
          "old_line_content": "\t\t*static_cast<const char*const*>(save));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9288,
          "old_api": "DBUG_EXECUTE_IF",
          "new_api": null,
          "old_text": "DBUG_EXECUTE_IF(\"no_innodb_binlog_errors\", skip = 1;)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_EXECUTE_IF(\"no_innodb_binlog_errors\", skip = 1;);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 11336,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(use < IBUF_USE_COUNT)",
          "new_text": null,
          "old_line_content": "\tut_a(use < IBUF_USE_COUNT);",
          "new_line_content": "Update the monitor counter according to the \"set_option\",  turn",
          "content_same": false
        },
        {
          "line": 9290,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "\t\t\tmy_error(ER_BINLOG_STMT_MODE_AND_ROW_ENGINE, MYF(0),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11339,
          "old_api": "static_cast<const char**>(var_ptr)",
          "new_api": null,
          "old_text": "static_cast<const char**>(var_ptr)",
          "new_text": null,
          "old_line_content": "\t*static_cast<const char**>(var_ptr) =",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 11340,
          "old_api": "static_cast<const char*const*>(save)",
          "new_api": null,
          "old_text": "static_cast<const char*const*>(save)",
          "new_text": null,
          "old_line_content": "\t\t *static_cast<const char*const*>(save);",
          "new_line_content": "innodb_monitor_set_option(",
          "content_same": false
        },
        {
          "line": 9294,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(HA_ERR_LOGGING_IMPOSSIBLE)",
          "new_text": null,
          "old_line_content": "\t\t\tDBUG_RETURN(HA_ERR_LOGGING_IMPOSSIBLE);",
          "new_line_content": "\tprebuilt->hint_need_to_fetch_extra_cols = 0;",
          "content_same": false
        },
        {
          "line": 9304,
          "old_api": "reset_template",
          "new_api": null,
          "old_text": "reset_template()",
          "new_text": null,
          "old_line_content": "\treset_template();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 11360,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(!(monitor_info->monitor_type & MONITOR_GROUP_MODULE))",
          "new_text": null,
          "old_line_content": "\tut_a(!(monitor_info->monitor_type & MONITOR_GROUP_MODULE));",
          "new_line_content": "\t\t/* If the monitor to be turned on uses",
          "content_same": false
        },
        {
          "line": 11364,
          "old_api": "MONITOR_ON",
          "new_api": null,
          "old_text": "MONITOR_ON(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\tMONITOR_ON(monitor_id);",
          "new_line_content": "\t\tif (monitor_info->monitor_type",
          "content_same": false
        },
        {
          "line": 11365,
          "old_api": "MONITOR_INIT",
          "new_api": null,
          "old_text": "MONITOR_INIT(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\tMONITOR_INIT(monitor_id);",
          "new_line_content": "\t\t    & MONITOR_EXISTING) {",
          "content_same": false
        },
        {
          "line": 9319,
          "old_api": "innobase_register_trx",
          "new_api": null,
          "old_text": "innobase_register_trx(ht, thd, trx)",
          "new_text": null,
          "old_line_content": "\t\tinnobase_register_trx(ht, thd, trx);",
          "new_line_content": "\t\t\tconceptually add 'LOCK IN SHARE MODE' to all SELECTs",
          "content_same": false
        },
        {
          "line": 9323,
          "old_api": "thd_test_options",
          "new_api": null,
          "old_text": "thd_test_options(\n\t\t\t    thd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "new_text": null,
          "old_line_content": "\t\t    && thd_test_options(",
          "new_line_content": "\t\t\tcan be serialized also if performed as consistent",
          "content_same": false
        },
        {
          "line": 11374,
          "old_api": "srv_mon_process_existing_counter",
          "new_api": null,
          "old_text": "srv_mon_process_existing_counter(\n\t\t\t\tmonitor_id, MONITOR_TURN_ON)",
          "new_text": null,
          "old_line_content": "\t\t\tsrv_mon_process_existing_counter(",
          "new_line_content": "\t\t\t\tmonitor_id, MONITOR_TURN_OFF);",
          "content_same": false
        },
        {
          "line": 11381,
          "old_api": "srv_mon_process_existing_counter",
          "new_api": null,
          "old_text": "srv_mon_process_existing_counter(\n\t\t\t\tmonitor_id, MONITOR_TURN_OFF)",
          "new_text": null,
          "old_line_content": "\t\t\tsrv_mon_process_existing_counter(",
          "new_line_content": "\tcase MONITOR_RESET_VALUE:",
          "content_same": false
        },
        {
          "line": 11385,
          "old_api": "MONITOR_OFF",
          "new_api": null,
          "old_text": "MONITOR_OFF(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\tMONITOR_OFF(monitor_id);",
          "new_line_content": "\tcase MONITOR_RESET_ALL_VALUE:",
          "content_same": false
        },
        {
          "line": 11390,
          "old_api": "srv_mon_reset",
          "new_api": null,
          "old_text": "srv_mon_reset(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\tsrv_mon_reset(monitor_id);",
          "new_line_content": "\t\tut_error;",
          "content_same": false
        },
        {
          "line": 11394,
          "old_api": "srv_mon_reset_all",
          "new_api": null,
          "old_text": "srv_mon_reset_all(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\tsrv_mon_reset_all(monitor_id);",
          "new_line_content": "/****************************************************************//**",
          "content_same": false
        },
        {
          "line": 9351,
          "old_api": "thd_sql_command",
          "new_api": null,
          "old_text": "thd_sql_command(thd)",
          "new_text": null,
          "old_line_content": "\t\t\tif (thd_sql_command(thd) == SQLCOM_LOCK_TABLES",
          "new_line_content": "\t\t\t\tif (error != DB_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 9353,
          "old_api": "thd_test_options",
          "new_api": null,
          "old_text": "thd_test_options(thd, OPTION_NOT_AUTOCOMMIT)",
          "new_text": null,
          "old_line_content": "\t\t\t    && thd_test_options(thd, OPTION_NOT_AUTOCOMMIT)",
          "new_line_content": "\t\t\t\t\t\t(int) error, 0, thd);",
          "content_same": false
        },
        {
          "line": 9356,
          "old_api": "row_lock_table_for_mysql",
          "new_api": null,
          "old_text": "row_lock_table_for_mysql(\n\t\t\t\t\tprebuilt, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tulint\terror = row_lock_table_for_mysql(",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 9360,
          "old_api": "convert_error_code_to_mysql",
          "new_api": null,
          "old_text": "convert_error_code_to_mysql(\n\t\t\t\t\t\t(int) error, 0, thd)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\terror = convert_error_code_to_mysql(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9362,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN((int) error)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tDBUG_RETURN((int) error);",
          "new_line_content": "\t\tprebuilt->mysql_has_locked = TRUE;",
          "content_same": false
        },
        {
          "line": 11418,
          "old_api": "static_cast<monitor_id_t>(use)",
          "new_api": null,
          "old_text": "static_cast<monitor_id_t>(use)",
          "new_text": null,
          "old_line_content": "\t\tmonitor_id_t\tmonitor_id = static_cast<monitor_id_t>(use);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9372,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(0);",
          "new_line_content": "\t/* Release a possible FIFO ticket and search latch. Since we",
          "content_same": false
        },
        {
          "line": 11421,
          "old_api": "innobase_wildcasecmp",
          "new_api": null,
          "old_text": "innobase_wildcasecmp(\n\t\t\tsrv_mon_get_name(monitor_id), name)",
          "new_text": null,
          "old_line_content": "\t\tif (!innobase_wildcasecmp(",
          "new_line_content": "\t\t\tMONITOR_GROUP_MODULE flag, which can be turned",
          "content_same": false
        },
        {
          "line": 11422,
          "old_api": "srv_mon_get_name",
          "new_api": null,
          "old_text": "srv_mon_get_name(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\t\tsrv_mon_get_name(monitor_id), name)) {",
          "new_line_content": "\t\t\ton only as a module. */",
          "content_same": false
        },
        {
          "line": 11423,
          "old_api": "srv_mon_get_info",
          "new_api": null,
          "old_text": "srv_mon_get_info(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\t\tmonitor_info = srv_mon_get_info(monitor_id);",
          "new_line_content": "\t\t\tif (!(type & MONITOR_MODULE)",
          "content_same": false
        },
        {
          "line": 9384,
          "old_api": "innobase_release_stat_resources",
          "new_api": null,
          "old_text": "innobase_release_stat_resources(trx)",
          "new_text": null,
          "old_line_content": "\tinnobase_release_stat_resources(trx);",
          "new_line_content": "\t\tprebuilt->used_in_HANDLER = FALSE;",
          "content_same": false
        },
        {
          "line": 11433,
          "old_api": "innodb_monitor_set_option",
          "new_api": null,
          "old_text": "innodb_monitor_set_option(monitor_info,\n\t\t\t\t\t\t\t  set_option)",
          "new_text": null,
          "old_line_content": "\t\t\t\tinnodb_monitor_set_option(monitor_info,",
          "new_line_content": "\t\t\tif (type & MONITOR_GROUP_MODULE) {",
          "content_same": false
        },
        {
          "line": 9394,
          "old_api": "thd_test_options",
          "new_api": null,
          "old_text": "thd_test_options(\n\t\t\t\tthd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "new_text": null,
          "old_line_content": "\t\tif (!thd_test_options(",
          "new_line_content": "\t\t\t   && trx->global_read_view) {",
          "content_same": false
        },
        {
          "line": 9397,
          "old_api": "trx_is_started",
          "new_api": null,
          "old_text": "trx_is_started(trx)",
          "new_text": null,
          "old_line_content": "\t\t\tif (trx_is_started(trx)) {",
          "new_line_content": "\t\t\teach consistent read set its own snapshot */",
          "content_same": false
        },
        {
          "line": 9398,
          "old_api": "innobase_commit",
          "new_api": null,
          "old_text": "innobase_commit(ht, thd, TRUE)",
          "new_text": null,
          "old_line_content": "\t\t\t\tinnobase_commit(ht, thd, TRUE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11445,
          "old_api": "MONITOR_IS_ON",
          "new_api": null,
          "old_text": "MONITOR_IS_ON(\n\t\t\t\t\t\tMONITOR_MODULE_BUF_PAGE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t    && MONITOR_IS_ON(",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 11450,
          "old_api": "srv_mon_set_module_control",
          "new_api": null,
          "old_text": "srv_mon_set_module_control(\n\t\t\t\t\t\tMONITOR_MODULE_BUF_PAGE,\n\t\t\t\t\t\tset_option)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tsrv_mon_set_module_control(",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 9407,
          "old_api": "read_view_close_for_mysql",
          "new_api": null,
          "old_text": "read_view_close_for_mysql(trx)",
          "new_text": null,
          "old_line_content": "\t\t\tread_view_close_for_mysql(trx);",
          "new_line_content": "With this function MySQL request a transactional lock to a table when",
          "content_same": false
        },
        {
          "line": 11457,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tut_ad(0);",
          "new_line_content": "Given a configuration variable name, find corresponding monitor counter",
          "content_same": false
        },
        {
          "line": 9411,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(0);",
          "new_line_content": "int",
          "content_same": false
        },
        {
          "line": 11474,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(name)",
          "new_text": null,
          "old_line_content": "\tut_a(name);",
          "new_line_content": "\t\treturn(MONITOR_WILDCARD_MATCH);",
          "content_same": false
        },
        {
          "line": 9427,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"ha_innobase::transactional_table_lock\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"ha_innobase::transactional_table_lock\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11481,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(name, '%')",
          "new_text": null,
          "old_line_content": "\tif (strchr(name, '%')) {",
          "new_line_content": "\t\t\treturn(i);",
          "content_same": false
        },
        {
          "line": 9434,
          "old_api": "update_thd",
          "new_api": null,
          "old_text": "update_thd(thd)",
          "new_text": null,
          "old_line_content": "\tupdate_thd(thd);",
          "new_line_content": "\t\t\t\"InnoDB: Have you deleted the .ibd file\"",
          "content_same": false
        },
        {
          "line": 9436,
          "old_api": "thd_tablespace_op",
          "new_api": null,
          "old_text": "thd_tablespace_op(thd)",
          "new_text": null,
          "old_line_content": "\tif (prebuilt->table->ibd_file_missing && !thd_tablespace_op(thd)) {",
          "new_line_content": "\t\t\t\"InnoDB: the MySQL datadir?\"",
          "content_same": false
        },
        {
          "line": 9437,
          "old_api": "ut_print_timestamp",
          "new_api": null,
          "old_text": "ut_print_timestamp(stderr)",
          "new_text": null,
          "old_line_content": "\t\tut_print_timestamp(stderr);",
          "new_line_content": "\t\t\t\"InnoDB: See \" REFMAN",
          "content_same": false
        },
        {
          "line": 9438,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\n\t\t\t\"  InnoDB: MySQL is trying to use a table handle\"\n\t\t\t\" but the .ibd file for\\n\"\n\t\t\t\"InnoDB: table %s does not exist.\\n\"\n\t\t\t\"InnoDB: Have you deleted the .ibd file\"\n\t\t\t\" from the database directory under\\n\"\n\t\t\t\"InnoDB: the MySQL datadir?\"\n\t\t\t\"InnoDB: See \" REFMAN\n\t\t\t\"innodb-troubleshooting.html\\n\"\n\t\t\t\"InnoDB: how you can resolve the problem.\\n\",\n\t\t\tprebuilt->table->name)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr,",
          "new_line_content": "\t\t\t\"innodb-troubleshooting.html\\n\"",
          "content_same": false
        },
        {
          "line": 11487,
          "old_api": "innobase_strcasecmp",
          "new_api": null,
          "old_text": "innobase_strcasecmp(\n\t\t\tname, srv_mon_get_name(static_cast<monitor_id_t>(i)))",
          "new_text": null,
          "old_line_content": "\t\tif (!innobase_strcasecmp(",
          "new_line_content": "/*************************************************************//**",
          "content_same": false
        },
        {
          "line": 11488,
          "old_api": "static_cast<monitor_id_t>(i)",
          "new_api": null,
          "old_text": "static_cast<monitor_id_t>(i)",
          "new_text": null,
          "old_line_content": "\t\t\tname, srv_mon_get_name(static_cast<monitor_id_t>(i)))) {",
          "new_line_content": "Validate that the passed in monitor name matches at least one",
          "content_same": false
        },
        {
          "line": 9457,
          "old_api": "reset_template",
          "new_api": null,
          "old_text": "reset_template()",
          "new_text": null,
          "old_line_content": "\treset_template();",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 11506,
          "old_api": "innobase_wildcasecmp",
          "new_api": null,
          "old_text": "innobase_wildcasecmp(\n\t\t\tsrv_mon_get_name(static_cast<monitor_id_t>(i)), name)",
          "new_text": null,
          "old_line_content": "\t\tif (!innobase_wildcasecmp(",
          "new_line_content": "/*************************************************************//**",
          "content_same": false
        },
        {
          "line": 11507,
          "old_api": "static_cast<monitor_id_t>(i)",
          "new_api": null,
          "old_text": "static_cast<monitor_id_t>(i)",
          "new_text": null,
          "old_line_content": "\t\t\tsrv_mon_get_name(static_cast<monitor_id_t>(i)), name)) {",
          "new_line_content": "Validate the passed in monitor name, find and save the",
          "content_same": false
        },
        {
          "line": 9466,
          "old_api": "ut_print_timestamp",
          "new_api": null,
          "old_text": "ut_print_timestamp(stderr)",
          "new_text": null,
          "old_line_content": "\t\tut_print_timestamp(stderr);",
          "new_line_content": "\t/* MySQL is setting a new transactional table lock */",
          "content_same": false
        },
        {
          "line": 9467,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"  InnoDB error:\\n\"\n\"MySQL is trying to set transactional table lock with corrupted lock type\\n\"\n\"to table %s, lock type %d does not exist.\\n\",\n\t\t\t\tprebuilt->table->name, lock_type)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"  InnoDB error:\\n\"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9471,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(HA_ERR_CRASHED)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(HA_ERR_CRASHED);",
          "new_line_content": "\t\tulint\terror = DB_SUCCESS;",
          "content_same": false
        },
        {
          "line": 9484,
          "old_api": "convert_error_code_to_mysql",
          "new_api": null,
          "old_text": "convert_error_code_to_mysql(\n\t\t\t\t(int) error, prebuilt->table->flags, thd)",
          "new_text": null,
          "old_line_content": "\t\t\terror = convert_error_code_to_mysql(",
          "new_line_content": "\t\t\t/* Store the current undo_no of the transaction",
          "content_same": false
        },
        {
          "line": 9486,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN((int) error)",
          "new_text": null,
          "old_line_content": "\t\t\tDBUG_RETURN((int) error);",
          "new_line_content": "\t\t\tto roll back the next SQL statement */",
          "content_same": false
        },
        {
          "line": 9489,
          "old_api": "thd_test_options",
          "new_api": null,
          "old_text": "thd_test_options(\n\t\t\tthd, OPTION_NOT_AUTOCOMMIT | OPTION_BEGIN)",
          "new_text": null,
          "old_line_content": "\t\tif (thd_test_options(",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 11541,
          "old_api": "srv_mon_get_info",
          "new_api": null,
          "old_text": "srv_mon_get_info((monitor_id_t)use)",
          "new_text": null,
          "old_line_content": "\t\tmonitor_info = srv_mon_get_info((monitor_id_t)use);",
          "new_line_content": "\t\t    && (!(monitor_info->monitor_type & MONITOR_MODULE))) {",
          "content_same": false
        },
        {
          "line": 9496,
          "old_api": "trx_mark_sql_stat_end",
          "new_api": null,
          "old_text": "trx_mark_sql_stat_end(trx)",
          "new_text": null,
          "old_line_content": "\t\t\ttrx_mark_sql_stat_end(trx);",
          "new_line_content": "Here we export InnoDB status variables to MySQL. */",
          "content_same": false
        },
        {
          "line": 9500,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(0);",
          "new_line_content": "/*==================*/",
          "content_same": false
        },
        {
          "line": 11550,
          "old_api": "sql_print_warning",
          "new_api": null,
          "old_text": "sql_print_warning(\n\t\t\t\t\"Monitor counter '%s' cannot\"\n\t\t\t\t\" be turned on/off individually.\"\n\t\t\t\t\" Please use its module name\"\n\t\t\t\t\" to turn on/off the counters\"\n\t\t\t\t\" in the module as a group.\\n\",\n\t\t\t\tname)",
          "new_text": null,
          "old_line_content": "\t\t\tsql_print_warning(",
          "new_line_content": "\t\t\treturn(1);",
          "content_same": false
        },
        {
          "line": 9511,
          "old_api": "srv_export_innodb_status",
          "new_api": null,
          "old_text": "srv_export_innodb_status()",
          "new_text": null,
          "old_line_content": "\t\tsrv_export_innodb_status();",
          "new_line_content": "static",
          "content_same": false
        },
        {
          "line": 11562,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(use == MONITOR_WILDCARD_MATCH)",
          "new_text": null,
          "old_line_content": "\t\tut_a(use == MONITOR_WILDCARD_MATCH);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 11567,
          "old_api": "innodb_monitor_validate_wildcard_name",
          "new_api": null,
          "old_text": "innodb_monitor_validate_wildcard_name(name)",
          "new_text": null,
          "old_line_content": "\t\tif (!innodb_monitor_validate_wildcard_name(name)) {",
          "new_line_content": "\treturn(0);",
          "content_same": false
        },
        {
          "line": 11573,
          "old_api": "static_cast<const char**>(save)",
          "new_api": null,
          "old_text": "static_cast<const char**>(save)",
          "new_text": null,
          "old_line_content": "\t*static_cast<const char**>(save) = name;",
          "new_line_content": "static",
          "content_same": false
        },
        {
          "line": 9533,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"innodb_show_status\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"innodb_show_status\");",
          "new_line_content": "\tbytes of text. */",
          "content_same": false
        },
        {
          "line": 9534,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9536,
          "old_api": "check_trx_exists",
          "new_api": null,
          "old_text": "check_trx_exists(thd)",
          "new_text": null,
          "old_line_content": "\ttrx = check_trx_exists(thd);",
          "new_line_content": "\tssize_t\tflen, usable_len;",
          "content_same": false
        },
        {
          "line": 9547,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "rewind(srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\trewind(srv_monitor_file);",
          "new_line_content": "\t\tflen = 0;",
          "content_same": false
        },
        {
          "line": 11596,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(save != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "/****************************************************************//**",
          "content_same": false
        },
        {
          "line": 9549,
          "old_api": "srv_printf_innodb_monitor",
          "new_api": null,
          "old_text": "srv_printf_innodb_monitor(srv_monitor_file, FALSE,\n\t\t\t\t  &trx_list_start, &trx_list_end)",
          "new_text": null,
          "old_line_content": "\tsrv_printf_innodb_monitor(srv_monitor_file, FALSE,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11597,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(value != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(value != NULL);",
          "new_line_content": "Update the system variable innodb_monitor_counter_* according to",
          "content_same": false
        },
        {
          "line": 11599,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "value->val_str(value, buff, &len)",
          "new_text": null,
          "old_line_content": "\tmonitor_name = value->val_str(value, buff, &len);",
          "new_line_content": "static",
          "content_same": false
        },
        {
          "line": 9552,
          "old_api": "os_file_set_eof",
          "new_api": null,
          "old_text": "os_file_set_eof(srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\tos_file_set_eof(srv_monitor_file);",
          "new_line_content": "\t\tsrv_truncated_status_writes++;",
          "content_same": false
        },
        {
          "line": 11601,
          "old_api": "innodb_monitor_valid_byname",
          "new_api": null,
          "old_text": "innodb_monitor_valid_byname(save, monitor_name)",
          "new_text": null,
          "old_line_content": "\treturn(innodb_monitor_valid_byname(save, monitor_name));",
          "new_line_content": "innodb_monitor_update(",
          "content_same": false
        },
        {
          "line": 9554,
          "old_api": "ftell",
          "new_api": null,
          "old_text": "ftell(srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\tif ((flen = ftell(srv_monitor_file)) < 0) {",
          "new_line_content": "\t\tusable_len = flen;",
          "content_same": false
        },
        {
          "line": 9568,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "\tif (!(str = (char*) my_malloc(usable_len + 1, MYF(0)))) {",
          "new_line_content": "\t\t/* Display the entire output. */",
          "content_same": false
        },
        {
          "line": 9570,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(1);",
          "new_line_content": "\t} else if (trx_list_end < (ulint) flen",
          "content_same": false
        },
        {
          "line": 9573,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "rewind(srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\trewind(srv_monitor_file);",
          "new_line_content": "\t\t   < MAX_STATUS_SIZE - sizeof truncated_msg - 1) {",
          "content_same": false
        },
        {
          "line": 9577,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(str, 1, flen, srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\t\tflen = fread(str, 1, flen, srv_monitor_file);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11625,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(save != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(save != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11627,
          "old_api": "static_cast<const char*const*>(save)",
          "new_api": null,
          "old_text": "static_cast<const char*const*>(save)",
          "new_text": null,
          "old_line_content": "\tname = *static_cast<const char*const*>(save);",
          "new_line_content": "\t\tif (monitor_id == MONITOR_NO_MATCH) {",
          "content_same": false
        },
        {
          "line": 9584,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(str, 1, trx_list_start, srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\t\tssize_t\tlen = fread(str, 1, trx_list_start, srv_monitor_file);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 11632,
          "old_api": "innodb_monitor_id_by_name_get",
          "new_api": null,
          "old_text": "innodb_monitor_id_by_name_get(name)",
          "new_text": null,
          "old_line_content": "\t\tmonitor_id = innodb_monitor_id_by_name_get(name);",
          "new_line_content": "\tif (monitor_id == MONITOR_DEFAULT_START) {",
          "content_same": false
        },
        {
          "line": 9590,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(str + len, 1, usable_len, srv_monitor_file)",
          "new_text": null,
          "old_line_content": "\t\tlen += fread(str + len, 1, usable_len, srv_monitor_file);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9597,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&srv_monitor_file_mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&srv_monitor_file_mutex);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 11646,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf(\n\t\t\t\tthd, MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\tER_NO_DEFAULT,\n\t\t\t\t\"Default value is not defined for \"\n\t\t\t\t\"this set option. Please specify \"\n\t\t\t\t\"correct counter or module name.\")",
          "new_text": null,
          "old_line_content": "\t\t\tpush_warning_printf(",
          "new_line_content": "\t\t\t\t\"Default value is not defined for \"",
          "content_same": false
        },
        {
          "line": 9599,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(innobase_hton_name)",
          "new_text": null,
          "old_line_content": "\tstat_print(thd, innobase_hton_name, (uint) strlen(innobase_hton_name),",
          "new_line_content": "/************************************************************************//**",
          "content_same": false
        },
        {
          "line": 9600,
          "old_api": "STRING_WITH_LEN",
          "new_api": null,
          "old_text": "STRING_WITH_LEN(\"\")",
          "new_text": null,
          "old_line_content": "\t\t   STRING_WITH_LEN(\"\"), str, flen);",
          "new_line_content": "Implements the SHOW MUTEX STATUS command.",
          "content_same": false
        },
        {
          "line": 9602,
          "old_api": "my_free",
          "new_api": null,
          "old_text": "my_free(str)",
          "new_text": null,
          "old_line_content": "\tmy_free(str);",
          "new_line_content": "static",
          "content_same": false
        },
        {
          "line": 9604,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(0);",
          "new_line_content": "innodb_mutex_show_status(",
          "content_same": false
        },
        {
          "line": 11653,
          "old_api": "sql_print_error",
          "new_api": null,
          "old_text": "sql_print_error(\n\t\t\t\t\"Default value is not defined for \"\n\t\t\t\t\"this set option. Please specify \"\n\t\t\t\t\"correct counter or module name.\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tsql_print_error(",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 11663,
          "old_api": "innodb_monitor_update_wildcard",
          "new_api": null,
          "old_text": "innodb_monitor_update_wildcard(name, set_option)",
          "new_text": null,
          "old_line_content": "\t\tinnodb_monitor_update_wildcard(name, set_option);",
          "new_line_content": "\t\tcollect monitor data, exit and ask user to turn off the",
          "content_same": false
        },
        {
          "line": 11665,
          "old_api": "srv_mon_get_info",
          "new_api": null,
          "old_text": "srv_mon_get_info(\n\t\t\tstatic_cast<monitor_id_t>(monitor_id))",
          "new_text": null,
          "old_line_content": "\t\tmonitor_info = srv_mon_get_info(",
          "new_line_content": "\t\tif (set_option == MONITOR_TURN_ON",
          "content_same": false
        },
        {
          "line": 11668,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(monitor_info)",
          "new_text": null,
          "old_line_content": "\t\tut_a(monitor_info);",
          "new_line_content": "\t\t\tgoto exit;",
          "content_same": false
        },
        {
          "line": 11674,
          "old_api": "MONITOR_IS_ON",
          "new_api": null,
          "old_text": "MONITOR_IS_ON(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\t    && MONITOR_IS_ON(monitor_id)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11687,
          "old_api": "srv_mon_set_module_control",
          "new_api": null,
          "old_text": "srv_mon_set_module_control(\n\t\t\t\tstatic_cast<monitor_id_t>(monitor_id),\n\t\t\t\tset_option)",
          "new_text": null,
          "old_line_content": "\t\t\tsrv_mon_set_module_control(",
          "new_line_content": "\t/* Only if we are trying to turn on a monitor that already",
          "content_same": false
        },
        {
          "line": 11688,
          "old_api": "static_cast<monitor_id_t>(monitor_id)",
          "new_api": null,
          "old_text": "static_cast<monitor_id_t>(monitor_id)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstatic_cast<monitor_id_t>(monitor_id),",
          "new_line_content": "\tbeen turned on, we will set err_monitor. Print related",
          "content_same": false
        },
        {
          "line": 9642,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"innodb_mutex_show_status\")",
          "new_text": null,
          "old_line_content": "\tDBUG_ENTER(\"innodb_mutex_show_status\");",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 9643,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9647,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(mutex_list)",
          "new_text": null,
          "old_line_content": "\tfor (mutex = UT_LIST_GET_FIRST(mutex_list); mutex != NULL;",
          "new_line_content": "\t\t\tblock_mutex_oswait_count += mutex->count_os_wait;",
          "content_same": false
        },
        {
          "line": 9648,
          "old_api": "UT_LIST_GET_NEXT",
          "new_api": null,
          "old_text": "UT_LIST_GET_NEXT(list, mutex)",
          "new_text": null,
          "old_line_content": "\t     mutex = UT_LIST_GET_NEXT(list, mutex)) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 11699,
          "old_api": "sql_print_warning",
          "new_api": null,
          "old_text": "sql_print_warning(\"Monitor %s is already enabled.\",\n\t\t\t\t  srv_mon_get_name((monitor_id_t)err_monitor))",
          "new_text": null,
          "old_line_content": "\t\tsql_print_warning(\"Monitor %s is already enabled.\",",
          "new_line_content": "Update the system variable innodb_enable_monitor_counter and enable ",
          "content_same": false
        },
        {
          "line": 11700,
          "old_api": "srv_mon_get_name",
          "new_api": null,
          "old_text": "srv_mon_get_name((monitor_id_t)err_monitor)",
          "new_text": null,
          "old_line_content": "\t\t\t\t  srv_mon_get_name((monitor_id_t)err_monitor));",
          "new_line_content": "specified monitor counter.",
          "content_same": false
        },
        {
          "line": 9661,
          "old_api": "my_snprintf",
          "new_api": null,
          "old_text": "my_snprintf(buf1, sizeof(buf1),\n\t\t\t\t\t\"%s:%s\",\n\t\t\t\t\tmutex->cmutex_name, mutex->cfile_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tbuf1len= my_snprintf(buf1, sizeof(buf1),",
          "new_line_content": "\t\t\t\t\tmutex->count_using,",
          "content_same": false
        },
        {
          "line": 9664,
          "old_api": "my_snprintf",
          "new_api": null,
          "old_text": "my_snprintf(buf2, sizeof(buf2),\n\t\t\t\t\t\"count=%lu, spin_waits=%lu,\"\n\t\t\t\t\t\" spin_rounds=%lu, \"\n\t\t\t\t\t\"os_waits=%lu, os_yields=%lu,\"\n\t\t\t\t\t\" os_wait_times=%lu\",\n\t\t\t\t\tmutex->count_using,\n\t\t\t\t\tmutex->count_spin_loop,\n\t\t\t\t\tmutex->count_spin_rounds,\n\t\t\t\t\tmutex->count_os_wait,\n\t\t\t\t\tmutex->count_os_yield,\n\t\t\t\t\t(ulong) (mutex->lspent_time/1000))",
          "new_text": null,
          "old_line_content": "\t\t\t\tbuf2len= my_snprintf(buf2, sizeof(buf2),",
          "new_line_content": "\t\t\t\t\tmutex->count_os_wait,",
          "content_same": false
        },
        {
          "line": 9674,
          "old_api": "ulong) (mutex->lspent_time/1000)",
          "new_api": null,
          "old_text": "ulong) (mutex->lspent_time/1000)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(ulong) (mutex->lspent_time/1000));",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 11722,
          "old_api": "innodb_monitor_update",
          "new_api": null,
          "old_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_ON)",
          "new_text": null,
          "old_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_ON);",
          "new_line_content": "innodb_disable_monitor_update(",
          "content_same": false
        },
        {
          "line": 9676,
          "old_api": "stat_print",
          "new_api": null,
          "old_text": "stat_print(thd, innobase_hton_name,\n\t\t\t\t\t\thton_name_len, buf1, buf1len,\n\t\t\t\t\t\tbuf2, buf2len)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (stat_print(thd, innobase_hton_name,",
          "new_line_content": "\t\t\trw_lock_count += mutex->count_using;",
          "content_same": false
        },
        {
          "line": 9679,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&mutex_list_mutex)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmutex_exit(&mutex_list_mutex);",
          "new_line_content": "\t\t\trw_lock_count_os_wait += mutex->count_os_wait;",
          "content_same": false
        },
        {
          "line": 9680,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tDBUG_RETURN(1);",
          "new_line_content": "\t\t\trw_lock_count_os_yield += mutex->count_os_yield;",
          "content_same": false
        },
        {
          "line": 11740,
          "old_api": "innodb_monitor_update",
          "new_api": null,
          "old_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_OFF)",
          "new_text": null,
          "old_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_TURN_OFF);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 9694,
          "old_api": "my_snprintf",
          "new_api": null,
          "old_text": "my_snprintf(buf2, sizeof(buf2), \"os_waits=%lu\",\n\t\t\t\t     (ulong) mutex->count_os_wait)",
          "new_text": null,
          "old_line_content": "\t\tbuf2len= (uint) my_snprintf(buf2, sizeof(buf2), \"os_waits=%lu\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9697,
          "old_api": "stat_print",
          "new_api": null,
          "old_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "new_text": null,
          "old_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9700,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&mutex_list_mutex)",
          "new_text": null,
          "old_line_content": "\t\t\tmutex_exit(&mutex_list_mutex);",
          "new_line_content": "\t\t\t\t\t     \"combined %s:%lu\",",
          "content_same": false
        },
        {
          "line": 9701,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\t\tDBUG_RETURN(1);",
          "new_line_content": "\t\t\t\t\t     block_mutex->cfile_name,",
          "content_same": false
        },
        {
          "line": 11759,
          "old_api": "innodb_monitor_update",
          "new_api": null,
          "old_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_VALUE)",
          "new_text": null,
          "old_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_VALUE);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 9718,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&mutex_list_mutex)",
          "new_text": null,
          "old_line_content": "\t\t\tmutex_exit(&mutex_list_mutex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9723,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&mutex_list_mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&mutex_list_mutex);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9727,
          "old_api": "UT_LIST_GET_FIRST",
          "new_api": null,
          "old_text": "UT_LIST_GET_FIRST(rw_lock_list)",
          "new_text": null,
          "old_line_content": "\tfor (lock = UT_LIST_GET_FIRST(rw_lock_list); lock != NULL;",
          "new_line_content": "\t\t\tblock_lock_oswait_count += lock->count_os_wait;",
          "content_same": false
        },
        {
          "line": 9728,
          "old_api": "UT_LIST_GET_NEXT",
          "new_api": null,
          "old_text": "UT_LIST_GET_NEXT(list, lock)",
          "new_text": null,
          "old_line_content": "\t     lock = UT_LIST_GET_NEXT(list, lock)) {",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 11778,
          "old_api": "innodb_monitor_update",
          "new_api": null,
          "old_text": "innodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_ALL_VALUE)",
          "new_text": null,
          "old_line_content": "\tinnodb_monitor_update(thd, var_ptr, save, MONITOR_RESET_ALL_VALUE);",
          "new_line_content": "separate could be \";\", \",\" or empty space. */",
          "content_same": false
        },
        {
          "line": 9741,
          "old_api": "my_snprintf",
          "new_api": null,
          "old_text": "my_snprintf(buf2, sizeof buf2, \"os_waits=%lu\",\n\t\t\t\t      (ulong) lock->count_os_wait)",
          "new_text": null,
          "old_line_content": "\t\tbuf2len = my_snprintf(buf2, sizeof buf2, \"os_waits=%lu\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9744,
          "old_api": "stat_print",
          "new_api": null,
          "old_text": "stat_print(thd, innobase_hton_name,\n\t\t\t       hton_name_len, buf1, buf1len,\n\t\t\t       buf2, buf2len)",
          "new_text": null,
          "old_line_content": "\t\tif (stat_print(thd, innobase_hton_name,",
          "new_line_content": "\tif (block_lock) {",
          "content_same": false
        },
        {
          "line": 9747,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&rw_lock_list_mutex)",
          "new_text": null,
          "old_line_content": "\t\t\tmutex_exit(&rw_lock_list_mutex);",
          "new_line_content": "\t\t\t\t\t     block_lock->cfile_name,",
          "content_same": false
        },
        {
          "line": 9748,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\t\tDBUG_RETURN(1);",
          "new_line_content": "\t\t\t\t\t     (ulong) block_lock->cline);",
          "content_same": false
        },
        {
          "line": 11802,
          "old_api": "strtok_r",
          "new_api": null,
          "old_text": "strtok_r(str, sep, &last)",
          "new_text": null,
          "old_line_content": "\tfor (char* option = strtok_r(str, sep, &last);",
          "new_line_content": "\t\t/* The name is validated if ret == 0 */",
          "content_same": false
        },
        {
          "line": 11808,
          "old_api": "innodb_monitor_valid_byname",
          "new_api": null,
          "old_text": "innodb_monitor_valid_byname(&option_name, option)",
          "new_text": null,
          "old_line_content": "\t\tret = innodb_monitor_valid_byname(&option_name, option);",
          "new_line_content": "\t\t\t\t\t  \" name: '%s'\", option);",
          "content_same": false
        },
        {
          "line": 11812,
          "old_api": "innodb_monitor_update",
          "new_api": null,
          "old_text": "innodb_monitor_update(NULL, NULL, &option,\n\t\t\t\t\t      MONITOR_TURN_ON)",
          "new_text": null,
          "old_line_content": "\t\t\tinnodb_monitor_update(NULL, NULL, &option,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9765,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\t\tDBUG_RETURN(1);",
          "new_line_content": "\t\t\t     \"count=%lu, spin_waits=%lu, spin_rounds=%lu, \"",
          "content_same": false
        },
        {
          "line": 11815,
          "old_api": "sql_print_warning",
          "new_api": null,
          "old_text": "sql_print_warning(\"Invalid monitor counter\"\n\t\t\t\t\t  \" name: '%s'\", option)",
          "new_text": null,
          "old_line_content": "\t\t\tsql_print_warning(\"Invalid monitor counter\"",
          "new_line_content": "SHOW VARIABLES. */",
          "content_same": false
        },
        {
          "line": 9769,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&rw_lock_list_mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&rw_lock_list_mutex);",
          "new_line_content": "\t\t\t      (ulong) rw_lock_count_spin_rounds,",
          "content_same": false
        },
        {
          "line": 9780,
          "old_api": "ulong) (rw_lock_wait_time / 1000)",
          "new_api": null,
          "old_text": "ulong) (rw_lock_wait_time / 1000)",
          "new_text": null,
          "old_line_content": "\t\t\t      (ulong) (rw_lock_wait_time / 1000));",
          "new_line_content": "\t/* Success */",
          "content_same": false
        },
        {
          "line": 9782,
          "old_api": "stat_print",
          "new_api": null,
          "old_text": "stat_print(thd, innobase_hton_name, hton_name_len,\n\t\t\tSTRING_WITH_LEN(\"rw_lock_mutexes\"), buf2, buf2len)",
          "new_text": null,
          "old_line_content": "\tif (stat_print(thd, innobase_hton_name, hton_name_len,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9783,
          "old_api": "STRING_WITH_LEN",
          "new_api": null,
          "old_text": "STRING_WITH_LEN(\"rw_lock_mutexes\")",
          "new_text": null,
          "old_line_content": "\t\t\tSTRING_WITH_LEN(\"rw_lock_mutexes\"), buf2, buf2len)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9784,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "\t\tDBUG_RETURN(1);",
          "new_line_content": "/************************************************************************//**",
          "content_same": false
        },
        {
          "line": 11832,
          "old_api": "innodb_export_status",
          "new_api": null,
          "old_text": "innodb_export_status()",
          "new_text": null,
          "old_line_content": "\tinnodb_export_status();",
          "new_line_content": "This function checks each index name for a table against reserved",
          "content_same": false
        },
        {
          "line": 9789,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(0);",
          "new_line_content": "innobase_show_status(",
          "content_same": false
        },
        {
          "line": 9805,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(hton == innodb_hton_ptr)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(hton == innodb_hton_ptr);",
          "new_line_content": "\t\t/* Non-zero return value means there was an error. */",
          "content_same": false
        },
        {
          "line": 9810,
          "old_api": "innodb_show_status",
          "new_api": null,
          "old_text": "innodb_show_status(hton, thd, stat_print)",
          "new_text": null,
          "old_line_content": "\t\treturn(innodb_show_status(hton, thd, stat_print) != 0);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 11860,
          "old_api": "innobase_strcasecmp",
          "new_api": null,
          "old_text": "innobase_strcasecmp(key->name,\n\t\t\t\t\tinnobase_index_reserve_name)",
          "new_text": null,
          "old_line_content": "\t\tif (innobase_strcasecmp(key->name,",
          "new_line_content": "\t\t\t\t\t    \"for the system default primary \"",
          "content_same": false
        },
        {
          "line": 9814,
          "old_api": "innodb_mutex_show_status",
          "new_api": null,
          "old_text": "innodb_mutex_show_status(hton, thd, stat_print)",
          "new_text": null,
          "old_line_content": "\t\treturn(innodb_mutex_show_status(hton, thd, stat_print) != 0);",
          "new_line_content": "\treturn(false);",
          "content_same": false
        },
        {
          "line": 11863,
          "old_api": "push_warning_printf",
          "new_api": null,
          "old_text": "push_warning_printf((THD*) trx->mysql_thd,\n\t\t\t\t\t    MYSQL_ERROR::WARN_LEVEL_WARN,\n\t\t\t\t\t    ER_WRONG_NAME_FOR_INDEX,\n\t\t\t\t\t    \"Cannot Create Index with name \"\n\t\t\t\t\t    \"'%s'. The name is reserved \"\n\t\t\t\t\t    \"for the system default primary \"\n\t\t\t\t\t    \"index.\",\n\t\t\t\t\t    innobase_index_reserve_name)",
          "new_text": null,
          "old_line_content": "\t\t\tpush_warning_printf((THD*) trx->mysql_thd,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11872,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "\t\t\tmy_error(ER_WRONG_NAME_FOR_INDEX, MYF(0),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 9836,
          "old_api": "mysql_mutex_lock",
          "new_api": null,
          "old_text": "mysql_mutex_lock(&innobase_share_mutex)",
          "new_text": null,
          "old_line_content": "\tmysql_mutex_lock(&innobase_share_mutex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9838,
          "old_api": "ut_fold_string",
          "new_api": null,
          "old_text": "ut_fold_string(table_name)",
          "new_text": null,
          "old_line_content": "\tulint\tfold = ut_fold_string(table_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9852,
          "old_api": "my_malloc",
          "new_api": null,
          "old_text": "my_malloc(sizeof(*share)+length+1,\n\t\t\tMYF(MY_FAE | MY_ZEROFILL))",
          "new_text": null,
          "old_line_content": "\t\tshare = (INNOBASE_SHARE *) my_malloc(sizeof(*share)+length+1,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9855,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(share + 1,\n\t\t\t\t\t\t   table_name, length + 1)",
          "new_text": null,
          "old_line_content": "\t\tshare->table_name = (char*) memcpy(share + 1,",
          "new_line_content": "\t\t/* Index translation table initialization */",
          "content_same": false
        },
        {
          "line": 9858,
          "old_api": "HASH_INSERT",
          "new_api": null,
          "old_text": "HASH_INSERT(INNOBASE_SHARE, table_name_hash,\n\t\t\t    innobase_open_tables, fold, share)",
          "new_text": null,
          "old_line_content": "\t\tHASH_INSERT(INNOBASE_SHARE, table_name_hash,",
          "new_line_content": "\t\tshare->idx_trans_tbl.array_size = 0;",
          "content_same": false
        },
        {
          "line": 9861,
          "old_api": "thr_lock_init",
          "new_api": null,
          "old_text": "thr_lock_init(&share->lock)",
          "new_text": null,
          "old_line_content": "\t\tthr_lock_init(&share->lock);",
          "new_line_content": "\tshare->use_count++;",
          "content_same": false
        },
        {
          "line": 9870,
          "old_api": "mysql_mutex_unlock",
          "new_api": null,
          "old_text": "mysql_mutex_unlock(&innobase_share_mutex)",
          "new_text": null,
          "old_line_content": "\tmysql_mutex_unlock(&innobase_share_mutex);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 9883,
          "old_api": "mysql_mutex_lock",
          "new_api": null,
          "old_text": "mysql_mutex_lock(&innobase_share_mutex)",
          "new_text": null,
          "old_line_content": "\tmysql_mutex_lock(&innobase_share_mutex);",
          "new_line_content": "\t\t    ut_ad(share->use_count > 0),",
          "content_same": false
        },
        {
          "line": 9887,
          "old_api": "ut_fold_string",
          "new_api": null,
          "old_text": "ut_fold_string(share->table_name)",
          "new_text": null,
          "old_line_content": "\tulint\tfold = ut_fold_string(share->table_name);",
          "new_line_content": "#endif /* UNIV_DEBUG */",
          "content_same": false
        },
        {
          "line": 9898,
          "old_api": "ut_fold_string",
          "new_api": null,
          "old_text": "ut_fold_string(share->table_name)",
          "new_text": null,
          "old_line_content": "\t\tulint\tfold = ut_fold_string(share->table_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9900,
          "old_api": "HASH_DELETE",
          "new_api": null,
          "old_text": "HASH_DELETE(INNOBASE_SHARE, table_name_hash,\n\t\t\t    innobase_open_tables, fold, share)",
          "new_text": null,
          "old_line_content": "\t\tHASH_DELETE(INNOBASE_SHARE, table_name_hash,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9902,
          "old_api": "thr_lock_delete",
          "new_api": null,
          "old_text": "thr_lock_delete(&share->lock)",
          "new_text": null,
          "old_line_content": "\t\tthr_lock_delete(&share->lock);",
          "new_line_content": "\t\tshrinks too much */",
          "content_same": false
        },
        {
          "line": 9907,
          "old_api": "my_free",
          "new_api": null,
          "old_text": "my_free(share)",
          "new_text": null,
          "old_line_content": "\t\tmy_free(share);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9913,
          "old_api": "mysql_mutex_unlock",
          "new_api": null,
          "old_text": "mysql_mutex_unlock(&innobase_share_mutex)",
          "new_text": null,
          "old_line_content": "\tmysql_mutex_unlock(&innobase_share_mutex);",
          "new_line_content": "SELECT the read lock is released early on the 'const' tables where we only",
          "content_same": false
        },
        {
          "line": 9945,
          "old_api": "check_trx_exists",
          "new_api": null,
          "old_text": "check_trx_exists(thd)",
          "new_text": null,
          "old_line_content": "\ttrx = check_trx_exists(thd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9956,
          "old_api": "innobase_map_isolation_level",
          "new_api": null,
          "old_text": "innobase_map_isolation_level(\n\t\t\t(enum_tx_isolation) thd_tx_isolation(thd))",
          "new_text": null,
          "old_line_content": "\t\ttrx->isolation_level = innobase_map_isolation_level(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9965,
          "old_api": "read_view_close_for_mysql",
          "new_api": null,
          "old_text": "read_view_close_for_mysql(trx)",
          "new_text": null,
          "old_line_content": "\t\t\tread_view_close_for_mysql(trx);",
          "new_line_content": "\tif (sql_command == SQLCOM_DROP_TABLE) {",
          "content_same": false
        },
        {
          "line": 9969,
          "old_api": "EQ_CURRENT_THD",
          "new_api": null,
          "old_text": "EQ_CURRENT_THD(thd)",
          "new_text": null,
          "old_line_content": "\tDBUG_ASSERT(EQ_CURRENT_THD(thd));",
          "new_line_content": "\t\tus in that case skip any changes to the prebuilt struct. */ ",
          "content_same": false
        },
        {
          "line": 9970,
          "old_api": "thd_in_lock_tables",
          "new_api": null,
          "old_text": "thd_in_lock_tables(thd)",
          "new_text": null,
          "old_line_content": "\tconst bool in_lock_tables = thd_in_lock_tables(thd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9971,
          "old_api": "thd_sql_command",
          "new_api": null,
          "old_text": "thd_sql_command(thd)",
          "new_text": null,
          "old_line_content": "\tconst uint sql_command = thd_sql_command(thd);",
          "new_line_content": "\t} else if ((lock_type == TL_READ && in_lock_tables)",
          "content_same": false
        },
        {
          "line": 10088,
          "old_api": "thd_tablespace_op",
          "new_api": null,
          "old_text": "thd_tablespace_op(thd)",
          "new_text": null,
          "old_line_content": "\t\t    && !thd_tablespace_op(thd)",
          "new_line_content": "\t\t/* In queries of type INSERT INTO t1 SELECT ... FROM t2 ...",
          "content_same": false
        },
        {
          "line": 10133,
          "old_api": "innobase_lock_autoinc",
          "new_api": null,
          "old_text": "innobase_lock_autoinc()",
          "new_text": null,
          "old_line_content": "\tprebuilt->autoinc_error = innobase_lock_autoinc();",
          "new_line_content": "\t\tif (*value == 0) {",
          "content_same": false
        },
        {
          "line": 10138,
          "old_api": "dict_table_autoinc_read",
          "new_api": null,
          "old_text": "dict_table_autoinc_read(prebuilt->table)",
          "new_text": null,
          "old_line_content": "\t\t*value = dict_table_autoinc_read(prebuilt->table);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10143,
          "old_api": "dict_table_autoinc_unlock",
          "new_api": null,
          "old_text": "dict_table_autoinc_unlock(prebuilt->table)",
          "new_text": null,
          "old_line_content": "\t\t\tdict_table_autoinc_unlock(prebuilt->table);",
          "new_line_content": "This function reads the global auto-inc counter. It doesn't use the",
          "content_same": false
        },
        {
          "line": 10162,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10163,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(prebuilt->table != NULL)",
          "new_text": null,
          "old_line_content": "\tut_a(prebuilt->table != NULL);",
          "new_line_content": "\tif (auto_inc == 0) {",
          "content_same": false
        },
        {
          "line": 10167,
          "old_api": "dict_table_autoinc_lock",
          "new_api": null,
          "old_text": "dict_table_autoinc_lock(innodb_table)",
          "new_text": null,
          "old_line_content": "\tdict_table_autoinc_lock(innodb_table);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10172,
          "old_api": "ut_print_timestamp",
          "new_api": null,
          "old_text": "ut_print_timestamp(stderr)",
          "new_text": null,
          "old_line_content": "\t\tut_print_timestamp(stderr);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 10173,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"  InnoDB: AUTOINC next value generation \"\n\t\t\t\"is disabled for '%s'\\n\", innodb_table->name)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"  InnoDB: AUTOINC next value generation \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10177,
          "old_api": "dict_table_autoinc_unlock",
          "new_api": null,
          "old_text": "dict_table_autoinc_unlock(innodb_table)",
          "new_text": null,
          "old_line_content": "\tdict_table_autoinc_unlock(innodb_table);",
          "new_line_content": "counter if it already has been initialized. Returns the value of the",
          "content_same": false
        },
        {
          "line": 10207,
          "old_api": "ha_thd",
          "new_api": null,
          "old_text": "ha_thd()",
          "new_text": null,
          "old_line_content": "\tupdate_thd(ha_thd());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10209,
          "old_api": "innobase_get_autoinc",
          "new_api": null,
          "old_text": "innobase_get_autoinc(&autoinc)",
          "new_text": null,
          "old_line_content": "\terror = innobase_get_autoinc(&autoinc);",
          "new_line_content": "\tfor the first call to get_auto_increment() for multi-row INSERT and",
          "content_same": false
        },
        {
          "line": 12269,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(file_format)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(file_format),",
          "new_line_content": "#ifdef UNIV_LOG_ARCHIVE",
          "content_same": false
        },
        {
          "line": 12272,
          "old_api": "MYSQL_SYSVAR",
          "new_api": null,
          "old_text": "MYSQL_SYSVAR(flush_log_at_trx_commit)",
          "new_text": null,
          "old_line_content": "  MYSQL_SYSVAR(flush_log_at_trx_commit),",
          "new_line_content": "#endif /* UNIV_LOG_ARCHIVE */",
          "content_same": false
        },
        {
          "line": 10233,
          "old_api": "innobase_get_int_col_max_value",
          "new_api": null,
          "old_text": "innobase_get_int_col_max_value(\n\t\ttable->next_number_field)",
          "new_text": null,
          "old_line_content": "\tulonglong\tcol_max_value = innobase_get_int_col_max_value(",
          "new_line_content": "\t\t/* It's possible for nb_desired_values to be 0:",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 92,
      "total_additions": 446,
      "total_deletions": 450,
      "total_api_changes": 988
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 988,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          8234,
          8420,
          8285,
          8358
        ]
      }
    },
    "api_calls_before": 1659,
    "api_calls_after": 1655,
    "diff_info": {
      "added_lines": 0,
      "removed_lines": 8,
      "total_diff_lines": 41
    }
  }
}