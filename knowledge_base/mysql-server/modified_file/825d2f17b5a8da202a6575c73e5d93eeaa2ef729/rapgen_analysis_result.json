{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/825d2f17b5a8da202a6575c73e5d93eeaa2ef729",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/825d2f17b5a8da202a6575c73e5d93eeaa2ef729/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/825d2f17b5a8da202a6575c73e5d93eeaa2ef729/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/825d2f17b5a8da202a6575c73e5d93eeaa2ef729/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 619,
          "old_api": "to_field",
          "new_api": "int2store",
          "old_text": "copy->to_field()",
          "new_text": "int2store(to->ptr, bytes_to_copy)",
          "old_line_content": "  copy_field_varstring(static_cast<Field_varstring*>(copy->to_field()),",
          "new_line_content": "    int2store(to->ptr, bytes_to_copy);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "check_and_set_temporary_null",
          "new_api": "*(this->m_do_copy))(f)",
          "old_text": "f->check_and_set_temporary_null()",
          "new_text": "*(this->m_do_copy))(f)",
          "old_line_content": "  f->check_and_set_temporary_null();",
          "new_line_content": "  (*(this->m_do_copy))(f);",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "get_null_ptr",
          "new_api": "pack_length",
          "old_text": "from->get_null_ptr()",
          "new_text": "from->pack_length()",
          "old_line_content": "    from_null_ptr=\tfrom->get_null_ptr();",
          "new_line_content": "  m_from_length= from->pack_length();",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "real_maybe_null",
          "new_api": "pack_length",
          "old_text": "m_to_field->real_maybe_null()",
          "new_text": "m_to_field->pack_length()",
          "old_line_content": "    if (m_to_field->real_maybe_null())",
          "new_line_content": "  m_to_length= m_to_field->pack_length();",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": "real_type",
          "new_api": "get_null_ptr",
          "old_text": "to->real_type()",
          "new_text": "to->get_null_ptr()",
          "old_line_content": "    if (to->real_type() == MYSQL_TYPE_JSON &&",
          "new_line_content": "    to_null_ptr=\tto->get_null_ptr();",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "get_geometry_type",
          "new_api": "type",
          "old_text": "from_geom->get_geometry_type()",
          "new_text": "from->type()",
          "old_line_content": "        is_subtype_of(from_geom->get_geometry_type(),",
          "new_line_content": "    if (from->type() != MYSQL_TYPE_GEOMETRY ||",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "get_geometry_type",
          "new_api": "maybe_null",
          "old_text": "to_geom->get_geometry_type()",
          "new_text": "from->maybe_null()",
          "old_line_content": "                      to_geom->get_geometry_type()))",
          "new_line_content": "        to->maybe_null() != from->maybe_null())",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "is_temporal",
          "new_api": "real_type",
          "old_text": "to->is_temporal()",
          "new_text": "from->real_type()",
          "old_line_content": "        if (to->is_temporal())",
          "new_line_content": "        from->real_type() == MYSQL_TYPE_BIT)",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "decimals",
          "new_api": "has_charset",
          "old_text": "from->decimals()",
          "new_text": "from->has_charset()",
          "old_line_content": "          to->decimals() != from->decimals() /* e.g. TIME vs TIME(6) */ ||",
          "new_line_content": "      if (from->type() == MYSQL_TYPE_VAR_STRING && !from->has_charset() &&",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "result_type",
          "new_api": "decimals",
          "old_text": "to->result_type()",
          "new_text": "from->decimals()",
          "old_line_content": "\t  if (to->result_type() != STRING_RESULT)",
          "new_line_content": "          to->decimals() != from->decimals() /* e.g. TIME vs TIME(6) */ ||",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "real_type",
          "new_api": "type",
          "old_text": "to->real_type()",
          "new_text": "to->type()",
          "old_line_content": "      if (to->real_type() == MYSQL_TYPE_ENUM ||",
          "new_line_content": "           to->type() == MYSQL_TYPE_DATE) ||",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "real_type",
          "new_api": "type",
          "old_text": "to->real_type()",
          "new_text": "to->type()",
          "old_line_content": "\t  to->real_type() == MYSQL_TYPE_SET)",
          "new_line_content": "           to->type() == MYSQL_TYPE_DATETIME))",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "eq_def",
          "new_api": "real_type",
          "old_text": "to->eq_def(from)",
          "new_text": "from->real_type()",
          "old_line_content": "\tif (!to->eq_def(from))",
          "new_line_content": "\tif (from->real_type() == MYSQL_TYPE_ENUM ||",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "real_type",
          "new_api": "result_type",
          "old_text": "from->real_type()",
          "new_text": "to->result_type()",
          "old_line_content": "          if (from->real_type() == MYSQL_TYPE_ENUM &&",
          "new_line_content": "\t  if (to->result_type() != STRING_RESULT)",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "charset",
          "new_api": "eq_def",
          "old_text": "from->charset()",
          "new_text": "to->eq_def(from)",
          "old_line_content": "      else if (to->charset() != from->charset())",
          "new_line_content": "\tif (!to->eq_def(from))",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "charset",
          "new_api": "real_type",
          "old_text": "from->charset()",
          "new_text": "to->real_type()",
          "old_line_content": "\treturn (from->charset()->mbmaxlen == 1 ?",
          "new_line_content": "      else if (to->real_type() == MYSQL_TYPE_VARCHAR)",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "eq_def",
          "new_api": "real_type",
          "old_text": "to->eq_def(from)",
          "new_text": "to->real_type()",
          "old_line_content": "      if (!to->eq_def(from) || !compatible_db_low_byte_first)",
          "new_line_content": "      if (to->real_type() == MYSQL_TYPE_DECIMAL ||",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "real_type",
          "new_api": "type",
          "old_text": "from->real_type()",
          "new_text": "to->type()",
          "old_line_content": "  if (to->real_type() == from->real_type() &&",
          "new_line_content": "  const int to_type= to->type();",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "real_type",
          "new_api": "down_cast<Field_json*>(to)",
          "old_text": "to->real_type()",
          "new_text": "down_cast<Field_json*>(to)",
          "old_line_content": "    if (to->real_type() == MYSQL_TYPE_VARCHAR &&",
          "new_line_content": "    Field_json *to_json= down_cast<Field_json*>(to);",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "real_type",
          "new_api": "down_cast<Field_json*>(from)",
          "old_text": "from->real_type()",
          "new_text": "down_cast<Field_json*>(from)",
          "old_line_content": "        from->real_type() == MYSQL_TYPE_VARCHAR)",
          "new_line_content": "    Field_json *from_json= down_cast<Field_json*>(from);",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "copy_field_varstring",
          "new_api": "charset",
          "old_text": "copy_field_varstring(to_vc, from_vc)",
          "new_text": "from->charset()",
          "old_line_content": "        copy_field_varstring(to_vc, from_vc);",
          "new_line_content": "        to->table->copy_blobs) && to->charset() == from->charset())",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "real_type",
          "new_api": "static_cast<Field_varstring*>(from)",
          "old_text": "to->real_type()",
          "new_text": "static_cast<Field_varstring*>(from)",
          "old_line_content": "\tto->real_type() != MYSQL_TYPE_ENUM &&",
          "new_line_content": "      const Field_varstring *from_vc= static_cast<Field_varstring*>(from);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "is_temporal_with_time",
          "new_api": "copy_field_varstring",
          "old_text": "to->is_temporal_with_time()",
          "new_text": "copy_field_varstring(to_vc, from_vc)",
          "old_line_content": "        (!to->is_temporal_with_time() ||",
          "new_line_content": "        copy_field_varstring(to_vc, from_vc);",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "type",
          "new_api": "real_type",
          "old_text": "to->type()",
          "new_text": "to->real_type()",
          "old_line_content": "         (to->type() != MYSQL_TYPE_DATE &&",
          "new_line_content": "        to->real_type() != MYSQL_TYPE_BIT &&",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "type",
          "new_api": "is_temporal_with_time",
          "old_text": "to->type()",
          "new_text": "to->is_temporal_with_time()",
          "old_line_content": "          to->type() != MYSQL_TYPE_DATETIME &&",
          "new_line_content": "        (!to->is_temporal_with_time() ||",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "type",
          "new_api": "real_type",
          "old_text": "to->type()",
          "new_text": "to->real_type()",
          "old_line_content": "           to->type() != MYSQL_TYPE_TIMESTAMP))) &&",
          "new_line_content": "        (to->real_type() != MYSQL_TYPE_NEWDECIMAL ||",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "store_type",
          "new_api": "is_updatable",
          "old_text": "(Field_enum *)(to))->store_type(0)",
          "new_text": "from->is_updatable()",
          "old_line_content": "    ((Field_enum *)(to))->store_type(0);",
          "new_line_content": "        (!blob->value.is_alloced() && from->is_updatable()))",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "result_type",
          "new_api": "charset",
          "old_text": "to->result_type()",
          "new_text": "from->charset()",
          "old_line_content": "  else if (from->is_temporal() && to->result_type() == INT_RESULT)",
          "new_line_content": "    return blob->store(blob->value.ptr(),blob->value.length(),from->charset());",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "type",
          "new_api": "val_int",
          "old_text": "from->type()",
          "new_text": "from->val_int()",
          "old_line_content": "    if (from->type() == MYSQL_TYPE_TIME)",
          "new_line_content": "      from->val_int() == 0)",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "get_time",
          "new_api": "store_type",
          "old_text": "from->get_time(&ltime)",
          "new_text": "(Field_enum *)(to))->store_type(0)",
          "old_line_content": "      from->get_time(&ltime);",
          "new_line_content": "    ((Field_enum *)(to))->store_type(0);",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "is_fsp_truncate_mode",
          "new_api": "get_time",
          "old_text": "current_thd->is_fsp_truncate_mode()",
          "new_text": "from->get_time(&ltime)",
          "old_line_content": "      if (current_thd->is_fsp_truncate_mode())",
          "new_line_content": "      from->get_time(&ltime);",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "TIME_to_ulonglong_datetime",
          "new_api": "is_fsp_truncate_mode",
          "old_text": "TIME_to_ulonglong_datetime(&ltime)",
          "new_text": "current_thd->is_fsp_truncate_mode()",
          "old_line_content": "        nr= TIME_to_ulonglong_datetime(&ltime);",
          "new_line_content": "      if (current_thd->is_fsp_truncate_mode())",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "result_type",
          "new_api": "get_date",
          "old_text": "to->result_type()",
          "new_text": "from->get_date(&ltime, TIME_FUZZY_DATE)",
          "old_line_content": "           (to->result_type() == REAL_RESULT ||",
          "new_line_content": "      from->get_date(&ltime, TIME_FUZZY_DATE);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "result_type",
          "new_api": "is_fsp_truncate_mode",
          "old_text": "to->result_type()",
          "new_text": "current_thd->is_fsp_truncate_mode()",
          "old_line_content": "            to->result_type() == DECIMAL_RESULT ||",
          "new_line_content": "      if (current_thd->is_fsp_truncate_mode())",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "result_type",
          "new_api": "TIME_to_ulonglong_datetime",
          "old_text": "to->result_type()",
          "new_text": "TIME_to_ulonglong_datetime(&ltime)",
          "old_line_content": "            to->result_type() == INT_RESULT))",
          "new_line_content": "        nr= TIME_to_ulonglong_datetime(&ltime);",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "val_decimal",
          "new_api": "result_type",
          "old_text": "from->val_decimal(&tmp)",
          "new_text": "to->result_type()",
          "old_line_content": "    return to->store_decimal(from->val_decimal(&tmp));",
          "new_line_content": "           (to->result_type() == REAL_RESULT ||",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "is_temporal",
          "new_api": "result_type",
          "old_text": "to->is_temporal()",
          "new_text": "to->result_type()",
          "old_line_content": "  else if (from->is_temporal() && to->is_temporal())",
          "new_line_content": "            to->result_type() == INT_RESULT))",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "val_int",
          "new_api": "copy_time_to_time",
          "old_text": "from->val_int()",
          "new_text": "copy_time_to_time(from, to)",
          "old_line_content": "    return to->store(from->val_int(), from->flags & UNSIGNED_FLAG);",
          "new_line_content": "    return copy_time_to_time(from, to);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "is_temporal",
          "new_api": "val_decimal",
          "old_text": "to->is_temporal()",
          "new_text": "from->val_decimal(&buff)",
          "old_line_content": "           to->is_temporal())",
          "new_line_content": "    return to->store_decimal(from->val_decimal(&buff));",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "real_type",
          "new_api": "is_temporal",
          "old_text": "from->real_type()",
          "new_text": "to->is_temporal()",
          "old_line_content": "             (from->real_type() != MYSQL_TYPE_ENUM &&",
          "new_line_content": "           to->is_temporal())",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "charset",
          "new_api": "store_time",
          "old_text": "from->charset()",
          "new_text": "to->store_time(&ltime)",
          "old_line_content": "    String result(buff,sizeof(buff),from->charset());",
          "new_line_content": "    return to->store_time(&ltime);",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "result_type",
          "new_api": "val_str",
          "old_text": "from->result_type()",
          "new_text": "from->val_str(&result)",
          "old_line_content": "  else if (from->result_type() == REAL_RESULT)",
          "new_line_content": "    from->val_str(&result);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1024,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "  }",
          "new_line_content": "            to->result_type() == DECIMAL_RESULT ||",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "val_decimal",
          "old_text": null,
          "new_text": "from->val_decimal(&tmp)",
          "old_line_content": "            to_type == MYSQL_TYPE_INT24 ||",
          "new_line_content": "    return to->store_decimal(from->val_decimal(&tmp));",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "is_temporal",
          "old_text": null,
          "new_text": "to->is_temporal()",
          "old_line_content": "            to_type == MYSQL_TYPE_LONGLONG))",
          "new_line_content": "  else if (from->is_temporal() && to->is_temporal())",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": null,
          "new_api": "val_int",
          "old_text": null,
          "new_text": "from->val_int()",
          "old_line_content": "           (to_type == MYSQL_TYPE_FLOAT ||",
          "new_line_content": "    return to->store(from->val_int(), from->flags & UNSIGNED_FLAG);",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": null,
          "new_api": "val_real",
          "old_text": null,
          "new_text": "from->val_real()",
          "old_line_content": "  }",
          "new_line_content": "    return to->store(from->val_real());",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "get_time",
          "old_text": null,
          "new_text": "from->get_time(&ltime)",
          "old_line_content": "  {",
          "new_line_content": "    if (from->get_time(&ltime))",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "from->result_type()",
          "old_line_content": "    /*",
          "new_line_content": "  else if ((from->result_type() == STRING_RESULT &&",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "      We use c_ptr_quick() here to make it easier if to is a float/double",
          "new_line_content": "            (to->result_type() == STRING_RESULT ||",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "      as the conversion routines will do a copy of the result doesn't",
          "new_line_content": "             (from->real_type() != MYSQL_TYPE_ENUM &&",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "      end with \\0. Can be replaced with .ptr() when we have our own",
          "new_line_content": "              from->real_type() != MYSQL_TYPE_SET))) ||",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "      string->double conversion.",
          "new_line_content": "           to->type() == MYSQL_TYPE_DECIMAL)",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "from->charset()",
          "old_line_content": "  }",
          "new_line_content": "    String result(buff,sizeof(buff),from->charset());",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": null,
          "new_api": "reinterpret_cast<char*>(from->ptr + from->length_bytes)",
          "old_text": null,
          "new_text": "reinterpret_cast<char*>(from->ptr + from->length_bytes)",
          "old_line_content": "    {",
          "new_line_content": "    const char *from_beg= reinterpret_cast<char*>(from->ptr + from->length_bytes);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "from->charset()",
          "old_line_content": "  else",
          "new_line_content": "    return to->store(result.c_ptr_quick(),result.length(),from->charset());",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "well_formed_len",
          "old_text": null,
          "new_text": "cs->cset->well_formed_len(cs, from_beg,\n                                from_beg + from_byte_length,\n                                to_char_length,\n                                &well_formed_error)",
          "old_line_content": "    }",
          "new_line_content": "      cs->cset->well_formed_len(cs, from_beg,",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "from->result_type()",
          "old_line_content": "}",
          "new_line_content": "  else if (from->result_type() == REAL_RESULT)",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "val_real",
          "old_text": null,
          "new_text": "from->val_real()",
          "old_line_content": "",
          "new_line_content": "    return to->store(from->val_real());",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "from->result_type()",
          "old_line_content": "",
          "new_line_content": "  else if (from->result_type() == DECIMAL_RESULT)",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "set_warning",
          "old_text": null,
          "new_text": "to->set_warning(Sql_condition::SL_WARNING,\n                        WARN_DATA_TRUNCATED, 1)",
          "old_line_content": "      if (from->table->in_use->count_cuted_fields)",
          "new_line_content": "        to->set_warning(Sql_condition::SL_WARNING,",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": null,
          "new_api": "val_decimal",
          "old_text": null,
          "new_text": "from->val_decimal(&buff)",
          "old_line_content": "",
          "new_line_content": "    return to->store_decimal(from->val_decimal(&buff));",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "MY_TEST",
          "old_text": null,
          "new_text": "MY_TEST(from->flags & UNSIGNED_FLAG)",
          "old_line_content": "",
          "new_line_content": "    return to->store(from->val_int(), MY_TEST(from->flags & UNSIGNED_FLAG));",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "set_warning",
          "old_text": null,
          "new_text": "to->set_warning(Sql_condition::SL_WARNING,\n                        WARN_DATA_TRUNCATED, 1)",
          "old_line_content": "   (a) 1 or 2 length bytes, depending on the VARCHAR column definition",
          "new_line_content": "        to->set_warning(Sql_condition::SL_WARNING,",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(length_bytes == to->length_bytes)",
          "old_line_content": "  // memcpy should not be used for overlaping memory blocks",
          "new_line_content": "  DBUG_ASSERT(length_bytes == to->length_bytes);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "get_varstring_copy_length",
          "old_text": null,
          "new_text": "get_varstring_copy_length(to, from)",
          "old_line_content": "}",
          "new_line_content": "  const size_t bytes_to_copy= get_varstring_copy_length(to, from);",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "static_cast<uchar>(bytes_to_copy)",
          "old_text": null,
          "new_text": "static_cast<uchar>(bytes_to_copy)",
          "old_line_content": "static void do_varstring(Copy_field *copy)",
          "new_line_content": "    *to->ptr= static_cast<uchar>(bytes_to_copy);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(to->ptr != from->ptr)",
          "old_line_content": "",
          "new_line_content": "  DBUG_ASSERT(to->ptr != from->ptr);",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(to->ptr + length_bytes, from->ptr + length_bytes, bytes_to_copy)",
          "old_line_content": "",
          "new_line_content": "  memcpy(to->ptr + length_bytes, from->ptr + length_bytes, bytes_to_copy);",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "to_field",
          "old_text": null,
          "new_text": "copy->to_field()",
          "old_line_content": "void Copy_field::invoke_do_copy(Copy_field *f)",
          "new_line_content": "  copy_field_varstring(static_cast<Field_varstring*>(copy->to_field()),",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "from_field",
          "old_text": null,
          "new_text": "copy->from_field()",
          "old_line_content": "{",
          "new_line_content": "                       static_cast<Field_varstring*>(copy->from_field()));",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": null,
          "new_api": "check_and_set_temporary_null",
          "old_text": null,
          "new_text": "f->check_and_set_temporary_null()",
          "old_line_content": "",
          "new_line_content": "  f->check_and_set_temporary_null();",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": null,
          "new_api": "*(this->m_do_copy2))(f)",
          "old_text": null,
          "new_text": "*(this->m_do_copy2))(f)",
          "old_line_content": "  string is the field value.",
          "new_line_content": "  (*(this->m_do_copy2))(f);",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": null,
          "new_api": "check_and_set_temporary_null",
          "old_text": null,
          "new_text": "f->check_and_set_temporary_null()",
          "old_line_content": "*/",
          "new_line_content": "  f->check_and_set_temporary_null();",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "pack_length",
          "old_text": null,
          "new_text": "from->pack_length()",
          "old_line_content": "    m_do_copy=    do_field_to_null_str;",
          "new_line_content": "  m_from_length= from->pack_length();",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "maybe_null",
          "old_text": null,
          "new_text": "from->maybe_null()",
          "old_line_content": "  else",
          "new_line_content": "  if (from->maybe_null())",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "get_null_ptr",
          "old_text": null,
          "new_text": "from->get_null_ptr()",
          "old_line_content": "    to_null_ptr=  0;\t\t\t\t// For easy debugging",
          "new_line_content": "    from_null_ptr=from->get_null_ptr();",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "  from_ptr= from->ptr;",
          "new_line_content": "  if (to->type() == MYSQL_TYPE_NULL)",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "maybe_null",
          "old_text": null,
          "new_text": "from->maybe_null()",
          "old_line_content": "    }",
          "new_line_content": "  if (from->maybe_null())",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "get_null_ptr",
          "old_text": null,
          "new_text": "from->get_null_ptr()",
          "old_line_content": "    {",
          "new_line_content": "    from_null_ptr=\tfrom->get_null_ptr();",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "real_maybe_null",
          "old_text": null,
          "new_text": "m_to_field->real_maybe_null()",
          "old_line_content": "        m_do_copy= do_copy_timestamp;               // Automatic timestamp",
          "new_line_content": "    if (m_to_field->real_maybe_null())",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": null,
          "new_api": "get_null_ptr",
          "old_text": null,
          "new_text": "to->get_null_ptr()",
          "old_line_content": "        m_do_copy= do_copy_next_number;",
          "new_line_content": "      to_null_ptr=\tto->get_null_ptr();",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "m_to_field->type()",
          "old_line_content": "  {",
          "new_line_content": "      if (m_to_field->type() == MYSQL_TYPE_TIMESTAMP)",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": null,
          "new_api": "real_maybe_null",
          "old_text": null,
          "new_text": "m_to_field->real_maybe_null()",
          "old_line_content": "  if ((to->flags & BLOB_FLAG) && save)",
          "new_line_content": "  else if (m_to_field->real_maybe_null())",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "  if (!m_do_copy)\t\t\t\t\t// Not null",
          "new_line_content": "    if (to->real_type() == MYSQL_TYPE_JSON &&",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "    m_do_copy= m_do_copy2;",
          "new_line_content": "        from->real_type() == MYSQL_TYPE_JSON)",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "get_copy_func",
          "old_text": null,
          "new_text": "get_copy_func(to,from)",
          "old_line_content": "{",
          "new_line_content": "    m_do_copy2= get_copy_func(to,from);",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "    // to is same as or a wider type than from",
          "new_line_content": "  if (to->type() == MYSQL_TYPE_GEOMETRY)",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "down_cast<Field_geom*>(to)",
          "old_text": null,
          "new_text": "down_cast<Field_geom*>(to)",
          "old_line_content": "    return do_conv_blob;",
          "new_line_content": "    Field_geom *to_geom= down_cast<Field_geom*>(to);",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "down_cast<Field_geom*>(from)",
          "old_text": null,
          "new_text": "down_cast<Field_geom*>(from)",
          "old_line_content": "  }",
          "new_line_content": "    Field_geom *from_geom= down_cast<Field_geom*>(from);",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "get_geometry_type",
          "old_text": null,
          "new_text": "from_geom->get_geometry_type()",
          "old_line_content": "    /*",
          "new_line_content": "    if (to_geom->get_geometry_type() == from_geom->get_geometry_type() ||",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": null,
          "new_api": "get_geometry_type",
          "old_text": null,
          "new_text": "from_geom->get_geometry_type()",
          "old_line_content": "      We need to do conversion if we are copying from BLOB to",
          "new_line_content": "        is_subtype_of(from_geom->get_geometry_type(),",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "get_geometry_type",
          "old_text": null,
          "new_text": "to_geom->get_geometry_type()",
          "old_line_content": "      non-BLOB, or if we are copying between BLOBs with different",
          "new_line_content": "                      to_geom->get_geometry_type()))",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "to->charset()",
          "old_line_content": "    }",
          "new_line_content": "    if (!(from->flags & BLOB_FLAG) || from->charset() != to->charset() ||",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "from->type()",
          "old_line_content": "  }",
          "new_line_content": "        ((to->type() == MYSQL_TYPE_JSON) != (from->type() == MYSQL_TYPE_JSON)))",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "      {",
          "new_line_content": "    if (to->real_type() == MYSQL_TYPE_BIT ||",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "          return do_field_time;",
          "new_line_content": "    if (to->result_type() == DECIMAL_RESULT)",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "from->result_type()",
          "old_line_content": "        {",
          "new_line_content": "    if (from->result_type() == STRING_RESULT)",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": null,
          "new_api": "is_temporal",
          "old_text": null,
          "new_text": "from->is_temporal()",
          "old_line_content": "            return do_field_int;",
          "new_line_content": "      if (from->is_temporal())",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "is_temporal",
          "old_text": null,
          "new_text": "to->is_temporal()",
          "old_line_content": "            return do_field_real;",
          "new_line_content": "        if (to->is_temporal())",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "        use special copy function that removes trailing spaces and thus",
          "new_line_content": "          if (to->result_type() == INT_RESULT)",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "      */",
          "new_line_content": "          if (to->result_type() == REAL_RESULT)",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "has_charset",
          "old_text": null,
          "new_text": "to->has_charset()",
          "old_line_content": "          !compatible_db_low_byte_first ||",
          "new_line_content": "          to->type() == MYSQL_TYPE_VARCHAR && !to->has_charset())",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "        {",
          "new_line_content": "\t    from->real_type() == MYSQL_TYPE_SET)",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "            return do_field_string;",
          "new_line_content": "      if (to->real_type() == MYSQL_TYPE_ENUM ||",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "        }",
          "new_line_content": "\t  to->real_type() == MYSQL_TYPE_SET)",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "      {",
          "new_line_content": "              to->real_type() == MYSQL_TYPE_ENUM)",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "from->charset()",
          "old_line_content": "      }",
          "new_line_content": "      else if (to->charset() != from->charset())",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "from->charset()",
          "old_line_content": "",
          "new_line_content": "\treturn (from->charset()->mbmaxlen == 1 ?",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "charset",
          "old_text": null,
          "new_text": "to->charset()",
          "old_line_content": "             !compatible_db_low_byte_first)",
          "new_line_content": "        if (to->charset() == &my_charset_bin)",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "      return do_field_real;",
          "new_line_content": "    else if (to->real_type() != from->real_type() ||",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "      {",
          "new_line_content": "\t  to->result_type() == STRING_RESULT)",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "\t  return do_field_string;",
          "new_line_content": "      if (to->result_type() == INT_RESULT)",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "eq_def",
          "old_text": null,
          "new_text": "to->eq_def(from)",
          "old_line_content": "    }",
          "new_line_content": "      if (!to->eq_def(from) || !compatible_db_low_byte_first)",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "    /* Eq fields */",
          "new_line_content": "\tif (to->real_type() == MYSQL_TYPE_DECIMAL)",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "  case 1: return do_field_1;",
          "new_line_content": "\tif (to->result_type() == INT_RESULT)",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "",
          "new_line_content": "  return (to->type() == MYSQL_TYPE_BLOB || to->type() == MYSQL_TYPE_GEOMETRY);",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "from->type()",
          "old_line_content": "",
          "new_line_content": "  const int from_type= from->type();",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": null,
          "new_api": "store",
          "old_text": null,
          "new_text": "to_json->store(from_json)",
          "old_line_content": "    {",
          "new_line_content": "    return to_json->store(from_json);",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "      if (to_vc->length_bytes == from_vc->length_bytes)",
          "new_line_content": "  if (to->real_type() == from->real_type() &&",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "is_blob_type",
          "old_text": null,
          "new_text": "is_blob_type(to)",
          "old_line_content": "      {",
          "new_line_content": "      !((is_blob_type(to)) &&",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "      }",
          "new_line_content": "    if (to->real_type() == MYSQL_TYPE_VARCHAR &&",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "    }",
          "new_line_content": "        from->real_type() == MYSQL_TYPE_VARCHAR)",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "static_cast<Field_varstring*>(to)",
          "old_text": null,
          "new_text": "static_cast<Field_varstring*>(to)",
          "old_line_content": "        !(to->flags & UNSIGNED_FLAG && !(from->flags & UNSIGNED_FLAG)) &&",
          "new_line_content": "      Field_varstring *to_vc= static_cast<Field_varstring*>(to);",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "pack_length",
          "old_text": null,
          "new_text": "from->pack_length()",
          "old_line_content": "          (((Field_num*)to)->dec == ((Field_num*)from)->dec))) &&",
          "new_line_content": "    if (to->pack_length() == from->pack_length() &&",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "        (!(to->table->in_use->variables.sql_mode &",
          "new_line_content": "\tto->real_type() != MYSQL_TYPE_ENUM &&",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "           (MODE_NO_ZERO_IN_DATE | MODE_NO_ZERO_DATE | MODE_INVALID_DATES)) ||",
          "new_line_content": "\tto->real_type() != MYSQL_TYPE_SET &&",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "decimals",
          "old_text": null,
          "new_text": "from->decimals()",
          "old_line_content": "          (!to->table->in_use->variables.explicit_defaults_for_timestamp ||",
          "new_line_content": "         to->decimals() == from->decimals()) &&",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "    }",
          "new_line_content": "         (to->type() != MYSQL_TYPE_DATE &&",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "  }",
          "new_line_content": "          to->type() != MYSQL_TYPE_DATETIME &&",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "  {\t\t\t\t\t\t// Be sure the value is stored",
          "new_line_content": "           to->type() != MYSQL_TYPE_TIMESTAMP))) &&",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "    Field_blob *blob=(Field_blob*) to;",
          "new_line_content": "         (from->real_type() != MYSQL_TYPE_VARCHAR))",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "pack_length",
          "old_text": null,
          "new_text": "to->pack_length()",
          "old_line_content": "    /*",
          "new_line_content": "      memmove(to->ptr, from->ptr, to->pack_length());",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "to->type()",
          "old_line_content": "    if (to->table->copy_blobs ||",
          "new_line_content": "  if (to->type() == MYSQL_TYPE_BLOB)",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "val_str",
          "old_text": null,
          "new_text": "from->val_str(&blob->value)",
          "old_line_content": "",
          "new_line_content": "    from->val_str(&blob->value);",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "copy",
          "old_text": null,
          "new_text": "blob->value.copy()",
          "old_line_content": "    return TYPE_OK;",
          "new_line_content": "      blob->value.copy();",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "from->real_type()",
          "old_line_content": "    MYSQL_TIME ltime;",
          "new_line_content": "  if (from->real_type() == MYSQL_TYPE_ENUM &&",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "real_type",
          "old_text": null,
          "new_text": "to->real_type()",
          "old_line_content": "    longlong nr;",
          "new_line_content": "      to->real_type() == MYSQL_TYPE_ENUM &&",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "to->result_type()",
          "old_line_content": "      else",
          "new_line_content": "  else if (from->is_temporal() && to->result_type() == INT_RESULT)",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "from->type()",
          "old_line_content": "    {",
          "new_line_content": "    if (from->type() == MYSQL_TYPE_TIME)",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "TIME_to_ulonglong_time",
          "old_text": null,
          "new_text": "TIME_to_ulonglong_time(&ltime)",
          "old_line_content": "      else",
          "new_line_content": "        nr= TIME_to_ulonglong_time(&ltime);",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": null,
          "new_api": "TIME_to_ulonglong_time_round",
          "old_text": null,
          "new_text": "TIME_to_ulonglong_time_round(&ltime)",
          "old_line_content": "    }",
          "new_line_content": "        nr= TIME_to_ulonglong_time_round(&ltime);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "TIME_to_ulonglong_datetime_round",
          "old_text": null,
          "new_text": "TIME_to_ulonglong_datetime_round(&ltime)",
          "old_line_content": "    my_decimal tmp;",
          "new_line_content": "        nr= TIME_to_ulonglong_datetime_round(&ltime);",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "store",
          "old_text": null,
          "new_text": "to->store(ltime.neg ? -nr : nr, 0)",
          "old_line_content": "      We prefer DECIMAL as the safest precise type:",
          "new_line_content": "    return to->store(ltime.neg ? -nr : nr, 0);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "is_temporal",
          "old_text": null,
          "new_text": "from->is_temporal()",
          "old_line_content": "    */",
          "new_line_content": "  else if (from->is_temporal() &&",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1027,
          "old_api": "copy_time_to_time",
          "new_api": null,
          "old_text": "copy_time_to_time(from, to)",
          "new_text": null,
          "old_line_content": "    return copy_time_to_time(from, to);",
          "new_line_content": "    my_decimal tmp;",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "val_decimal",
          "new_api": null,
          "old_text": "from->val_decimal(&buff)",
          "new_text": null,
          "old_line_content": "    return to->store_decimal(from->val_decimal(&buff));",
          "new_line_content": "            to_type == MYSQL_TYPE_LONG ||",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "val_real",
          "new_api": null,
          "old_text": "from->val_real()",
          "new_text": null,
          "old_line_content": "    return to->store(from->val_real());",
          "new_line_content": "           to_type == MYSQL_TYPE_NEWDECIMAL)",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "get_time",
          "new_api": null,
          "old_text": "from->get_time(&ltime)",
          "new_text": null,
          "old_line_content": "    if (from->get_time(&ltime))",
          "new_line_content": "           (to_type == MYSQL_TYPE_FLOAT ||",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "store_time",
          "new_api": null,
          "old_text": "to->store_time(&ltime)",
          "new_text": null,
          "old_line_content": "    return to->store_time(&ltime);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "from->result_type()",
          "new_text": null,
          "old_line_content": "  else if ((from->result_type() == STRING_RESULT &&",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "            (to->result_type() == STRING_RESULT ||",
          "new_line_content": "  else if (from_type == MYSQL_TYPE_JSON &&",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "              from->real_type() != MYSQL_TYPE_SET))) ||",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "           to->type() == MYSQL_TYPE_DECIMAL)",
          "new_line_content": "    MYSQL_TIME ltime;",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "from->val_str(&result)",
          "new_text": null,
          "old_line_content": "    from->val_str(&result);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "reinterpret_cast<char*>(from->ptr + from->length_bytes)",
          "new_api": null,
          "old_text": "reinterpret_cast<char*>(from->ptr + from->length_bytes)",
          "new_text": null,
          "old_line_content": "    const char *from_beg= reinterpret_cast<char*>(from->ptr + from->length_bytes);",
          "new_line_content": "      There's room for everything in the destination buffer;",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "well_formed_len",
          "new_api": null,
          "old_text": "cs->cset->well_formed_len(cs, from_beg,\n                                from_beg + from_byte_length,\n                                to_char_length,\n                                &well_formed_error)",
          "new_text": null,
          "old_line_content": "      cs->cset->well_formed_len(cs, from_beg,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "charset",
          "new_api": null,
          "old_text": "from->charset()",
          "new_text": null,
          "old_line_content": "    return to->store(result.c_ptr_quick(),result.length(),from->charset());",
          "new_line_content": "    char buff[MAX_FIELD_WIDTH];",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "val_real",
          "new_api": null,
          "old_text": "from->val_real()",
          "new_text": null,
          "old_line_content": "    return to->store(from->val_real());",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "from->result_type()",
          "new_text": null,
          "old_line_content": "  else if (from->result_type() == DECIMAL_RESULT)",
          "new_line_content": "      We use c_ptr_quick() here to make it easier if to is a float/double",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "set_warning",
          "new_api": null,
          "old_text": "to->set_warning(Sql_condition::SL_WARNING,\n                        WARN_DATA_TRUNCATED, 1)",
          "new_text": null,
          "old_line_content": "        to->set_warning(Sql_condition::SL_WARNING,",
          "new_line_content": "    const size_t from_byte_length= bytes_to_copy;",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "val_decimal",
          "new_api": null,
          "old_text": "from->val_decimal(&buff)",
          "new_text": null,
          "old_line_content": "    return to->store_decimal(from->val_decimal(&buff));",
          "new_line_content": "      string->double conversion.",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "MY_TEST",
          "new_api": null,
          "old_text": "MY_TEST(from->flags & UNSIGNED_FLAG)",
          "new_text": null,
          "old_line_content": "    return to->store(from->val_int(), MY_TEST(from->flags & UNSIGNED_FLAG));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "set_warning",
          "new_api": null,
          "old_text": "to->set_warning(Sql_condition::SL_WARNING,\n                        WARN_DATA_TRUNCATED, 1)",
          "new_text": null,
          "old_line_content": "        to->set_warning(Sql_condition::SL_WARNING,",
          "new_line_content": "                        WARN_DATA_TRUNCATED, 1);",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(length_bytes == to->length_bytes)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(length_bytes == to->length_bytes);",
          "new_line_content": "  number of bytes for length, i.e: to->length_bytes==from->length_bytes",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(length_bytes == 1 || length_bytes == 2)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(length_bytes == 1 || length_bytes == 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "get_varstring_copy_length",
          "new_api": null,
          "old_text": "get_varstring_copy_length(to, from)",
          "new_text": null,
          "old_line_content": "  const size_t bytes_to_copy= get_varstring_copy_length(to, from);",
          "new_line_content": "  @param from Variable length field we're copying from",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "static_cast<uchar>(bytes_to_copy)",
          "new_api": null,
          "old_text": "static_cast<uchar>(bytes_to_copy)",
          "new_text": null,
          "old_line_content": "    *to->ptr= static_cast<uchar>(bytes_to_copy);",
          "new_line_content": "static void copy_field_varstring(Field_varstring * const to,",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "int2store",
          "new_api": null,
          "old_text": "int2store(to->ptr, bytes_to_copy)",
          "new_text": null,
          "old_line_content": "    int2store(to->ptr, bytes_to_copy);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(to->ptr + length_bytes, from->ptr + length_bytes, bytes_to_copy)",
          "new_text": null,
          "old_line_content": "  memcpy(to->ptr + length_bytes, from->ptr + length_bytes, bytes_to_copy);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "from_field",
          "new_api": null,
          "old_text": "copy->from_field()",
          "new_text": null,
          "old_line_content": "                       static_cast<Field_varstring*>(copy->from_field()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "*(this->m_do_copy))(f)",
          "new_api": null,
          "old_text": "*(this->m_do_copy))(f)",
          "new_text": null,
          "old_line_content": "  (*(this->m_do_copy))(f);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "check_and_set_temporary_null",
          "new_api": null,
          "old_text": "f->check_and_set_temporary_null()",
          "new_text": null,
          "old_line_content": "  f->check_and_set_temporary_null();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "*(this->m_do_copy2))(f)",
          "new_api": null,
          "old_text": "*(this->m_do_copy2))(f)",
          "new_text": null,
          "old_line_content": "  (*(this->m_do_copy2))(f);",
          "new_line_content": "void Copy_field::invoke_do_copy(Copy_field *f)",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "from->pack_length()",
          "new_text": null,
          "old_line_content": "  m_from_length= from->pack_length();",
          "new_line_content": "  if field is not null then the first byte is set to 1 and the rest of the",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "maybe_null",
          "new_api": null,
          "old_text": "from->maybe_null()",
          "new_text": null,
          "old_line_content": "  if (from->maybe_null())",
          "new_line_content": "  The 'to' buffer should have a size of field->pack_length()+1",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "get_null_ptr",
          "new_api": null,
          "old_text": "from->get_null_ptr()",
          "new_text": null,
          "old_line_content": "    from_null_ptr=from->get_null_ptr();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "  if (to->type() == MYSQL_TYPE_NULL)",
          "new_line_content": "  appears to be:",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "from->pack_length()",
          "new_text": null,
          "old_line_content": "  m_from_length= from->pack_length();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "m_to_field->pack_length()",
          "new_text": null,
          "old_line_content": "  m_to_length= m_to_field->pack_length();",
          "new_line_content": "    to_ptr=0;",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "maybe_null",
          "new_api": null,
          "old_text": "from->maybe_null()",
          "new_text": null,
          "old_line_content": "  if (from->maybe_null())",
          "new_line_content": "  m_to_field= to;",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "get_null_ptr",
          "new_api": null,
          "old_text": "to->get_null_ptr()",
          "new_text": null,
          "old_line_content": "      to_null_ptr=\tto->get_null_ptr();",
          "new_line_content": "  // set up null handling",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "type",
          "new_api": null,
          "old_text": "m_to_field->type()",
          "new_text": null,
          "old_line_content": "      if (m_to_field->type() == MYSQL_TYPE_TIMESTAMP)",
          "new_line_content": "    from_bit=\t\tfrom->null_bit;",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "real_maybe_null",
          "new_api": null,
          "old_text": "m_to_field->real_maybe_null()",
          "new_text": null,
          "old_line_content": "  else if (m_to_field->real_maybe_null())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "get_null_ptr",
          "new_api": null,
          "old_text": "to->get_null_ptr()",
          "new_text": null,
          "old_line_content": "    to_null_ptr=\tto->get_null_ptr();",
          "new_line_content": "        m_do_copy= do_copy_timestamp;               // Automatic timestamp",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "        from->real_type() == MYSQL_TYPE_JSON)",
          "new_line_content": "    to_bit=\t\tto->null_bit;",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "get_copy_func",
          "new_api": null,
          "old_text": "get_copy_func(to,from)",
          "new_text": null,
          "old_line_content": "    m_do_copy2= get_copy_func(to,from);",
          "new_line_content": "  if ((to->flags & BLOB_FLAG) && save)",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "  if (to->type() == MYSQL_TYPE_GEOMETRY)",
          "new_line_content": "    m_do_copy= m_do_copy2;",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "type",
          "new_api": null,
          "old_text": "from->type()",
          "new_text": null,
          "old_line_content": "    if (from->type() != MYSQL_TYPE_GEOMETRY ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "maybe_null",
          "new_api": null,
          "old_text": "from->maybe_null()",
          "new_text": null,
          "old_line_content": "        to->maybe_null() != from->maybe_null())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "down_cast<Field_geom*>(to)",
          "new_api": null,
          "old_text": "down_cast<Field_geom*>(to)",
          "new_text": null,
          "old_line_content": "    Field_geom *to_geom= down_cast<Field_geom*>(to);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "down_cast<Field_geom*>(from)",
          "new_api": null,
          "old_text": "down_cast<Field_geom*>(from)",
          "new_text": null,
          "old_line_content": "    Field_geom *from_geom= down_cast<Field_geom*>(from);",
          "new_line_content": "  bool compatible_db_low_byte_first= (to->table->s->db_low_byte_first ==",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "get_geometry_type",
          "new_api": null,
          "old_text": "from_geom->get_geometry_type()",
          "new_text": null,
          "old_line_content": "    if (to_geom->get_geometry_type() == from_geom->get_geometry_type() ||",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "charset",
          "new_api": null,
          "old_text": "to->charset()",
          "new_text": null,
          "old_line_content": "    if (!(from->flags & BLOB_FLAG) || from->charset() != to->charset() ||",
          "new_line_content": "    return do_conv_blob;",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "type",
          "new_api": null,
          "old_text": "from->type()",
          "new_text": null,
          "old_line_content": "        ((to->type() == MYSQL_TYPE_JSON) != (from->type() == MYSQL_TYPE_JSON)))",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "    if (to->real_type() == MYSQL_TYPE_BIT ||",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "        from->real_type() == MYSQL_TYPE_BIT)",
          "new_line_content": "      // Correct pointer to point at char pointer",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "    if (to->result_type() == DECIMAL_RESULT)",
          "new_line_content": "      from_ptr+= m_from_length - portable_sizeof_char_ptr;",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "from->result_type()",
          "new_text": null,
          "old_line_content": "    if (from->result_type() == STRING_RESULT)",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "is_temporal",
          "new_api": null,
          "old_text": "from->is_temporal()",
          "new_text": null,
          "old_line_content": "      if (from->is_temporal())",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "          if (to->result_type() == INT_RESULT)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "          if (to->result_type() == REAL_RESULT)",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "has_charset",
          "new_api": null,
          "old_text": "from->has_charset()",
          "new_text": null,
          "old_line_content": "      if (from->type() == MYSQL_TYPE_VAR_STRING && !from->has_charset() &&",
          "new_line_content": "            return do_field_real;",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "has_charset",
          "new_api": null,
          "old_text": "to->has_charset()",
          "new_text": null,
          "old_line_content": "          to->type() == MYSQL_TYPE_VARCHAR && !to->has_charset())",
          "new_line_content": "          /* Note: conversion from any to DECIMAL_RESULT is handled earlier */",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "      if (to->real_type() != from->real_type() ||",
          "new_line_content": "      */",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "           to->type() == MYSQL_TYPE_DATE) ||",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "           to->type() == MYSQL_TYPE_DATETIME))",
          "new_line_content": "        If we are copying date or datetime's we have to check the dates",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "\tif (from->real_type() == MYSQL_TYPE_ENUM ||",
          "new_line_content": "      */",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "              to->real_type() == MYSQL_TYPE_ENUM)",
          "new_line_content": "\t    return do_field_int;\t\t// Convert SET to number",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "charset",
          "new_api": null,
          "old_text": "to->charset()",
          "new_text": null,
          "old_line_content": "        if (to->charset() == &my_charset_bin)",
          "new_line_content": "          return do_field_string;",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "    else if (to->real_type() != from->real_type() ||",
          "new_line_content": "      else if (m_to_length > m_from_length)",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "      if (to->real_type() == MYSQL_TYPE_DECIMAL ||",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "\t  to->result_type() == STRING_RESULT)",
          "new_line_content": "          return do_expand_string;",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "      if (to->result_type() == INT_RESULT)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "\tif (to->real_type() == MYSQL_TYPE_DECIMAL)",
          "new_line_content": "\treturn do_field_string;",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "to->result_type()",
          "new_text": null,
          "old_line_content": "\tif (to->result_type() == INT_RESULT)",
          "new_line_content": "\treturn do_field_int;",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "  return (to->type() == MYSQL_TYPE_BLOB || to->type() == MYSQL_TYPE_GEOMETRY);",
          "new_line_content": "  case 4: return do_field_4;",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "type",
          "new_api": null,
          "old_text": "from->type()",
          "new_text": null,
          "old_line_content": "  const int from_type= from->type();",
          "new_line_content": "static inline bool is_blob_type(Field *to)",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "  const int to_type= to->type();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "down_cast<Field_json*>(to)",
          "new_api": null,
          "old_text": "down_cast<Field_json*>(to)",
          "new_text": null,
          "old_line_content": "    Field_json *to_json= down_cast<Field_json*>(to);",
          "new_line_content": "/** Simple quick field convert that is called on insert. */",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "down_cast<Field_json*>(from)",
          "new_api": null,
          "old_text": "down_cast<Field_json*>(from)",
          "new_text": null,
          "old_line_content": "    Field_json *from_json= down_cast<Field_json*>(from);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "store",
          "new_api": null,
          "old_text": "to_json->store(from_json)",
          "new_text": null,
          "old_line_content": "    return to_json->store(from_json);",
          "new_line_content": "type_conversion_status field_conv(Field *to,Field *from)",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": "is_blob_type",
          "new_api": null,
          "old_text": "is_blob_type(to)",
          "new_text": null,
          "old_line_content": "      !((is_blob_type(to)) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "charset",
          "new_api": null,
          "old_text": "from->charset()",
          "new_text": null,
          "old_line_content": "        to->table->copy_blobs) && to->charset() == from->charset())",
          "new_line_content": "  if ((to_type == MYSQL_TYPE_JSON) && (from_type == MYSQL_TYPE_JSON))",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "static_cast<Field_varstring*>(to)",
          "new_api": null,
          "old_text": "static_cast<Field_varstring*>(to)",
          "new_text": null,
          "old_line_content": "      Field_varstring *to_vc= static_cast<Field_varstring*>(to);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "static_cast<Field_varstring*>(from)",
          "new_api": null,
          "old_text": "static_cast<Field_varstring*>(from)",
          "new_text": null,
          "old_line_content": "      const Field_varstring *from_vc= static_cast<Field_varstring*>(from);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "from->pack_length()",
          "new_text": null,
          "old_line_content": "    if (to->pack_length() == from->pack_length() &&",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "\tto->real_type() != MYSQL_TYPE_SET &&",
          "new_line_content": "      if (to_vc->length_bytes == from_vc->length_bytes)",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "        to->real_type() != MYSQL_TYPE_BIT &&",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "decimals",
          "new_api": null,
          "old_text": "from->decimals()",
          "new_text": null,
          "old_line_content": "         to->decimals() == from->decimals()) &&",
          "new_line_content": "        return TYPE_OK;",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "        (to->real_type() != MYSQL_TYPE_NEWDECIMAL ||",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "         (from->real_type() != MYSQL_TYPE_VARCHAR))",
          "new_line_content": "         (to->field_length == from->field_length &&",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "to->pack_length()",
          "new_text": null,
          "old_line_content": "      memmove(to->ptr, from->ptr, to->pack_length());",
          "new_line_content": "        (!(to->table->in_use->variables.sql_mode &",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "type",
          "new_api": null,
          "old_text": "to->type()",
          "new_text": null,
          "old_line_content": "  if (to->type() == MYSQL_TYPE_BLOB)",
          "new_line_content": "          (!to->table->in_use->variables.explicit_defaults_for_timestamp ||",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "val_str",
          "new_api": null,
          "old_text": "from->val_str(&blob->value)",
          "new_text": null,
          "old_line_content": "    from->val_str(&blob->value);",
          "new_line_content": "    {\t\t\t\t\t\t// Identical fields",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "is_updatable",
          "new_api": null,
          "old_text": "from->is_updatable()",
          "new_text": null,
          "old_line_content": "        (!blob->value.is_alloced() && from->is_updatable()))",
          "new_line_content": "  {\t\t\t\t\t\t// Be sure the value is stored",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "copy",
          "new_api": null,
          "old_text": "blob->value.copy()",
          "new_text": null,
          "old_line_content": "      blob->value.copy();",
          "new_line_content": "    Field_blob *blob=(Field_blob*) to;",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "charset",
          "new_api": null,
          "old_text": "from->charset()",
          "new_text": null,
          "old_line_content": "    return blob->store(blob->value.ptr(),blob->value.length(),from->charset());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "from->real_type()",
          "new_text": null,
          "old_line_content": "  if (from->real_type() == MYSQL_TYPE_ENUM &&",
          "new_line_content": "      Copy value if copy_blobs is set, or source is part of the table's",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "real_type",
          "new_api": null,
          "old_text": "to->real_type()",
          "new_text": null,
          "old_line_content": "      to->real_type() == MYSQL_TYPE_ENUM &&",
          "new_line_content": "      writeset.",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "val_int",
          "new_api": null,
          "old_text": "from->val_int()",
          "new_text": null,
          "old_line_content": "      from->val_int() == 0)",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": "is_fsp_truncate_mode",
          "new_api": null,
          "old_text": "current_thd->is_fsp_truncate_mode()",
          "new_text": null,
          "old_line_content": "      if (current_thd->is_fsp_truncate_mode())",
          "new_line_content": "    return TYPE_OK;",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "TIME_to_ulonglong_time",
          "new_api": null,
          "old_text": "TIME_to_ulonglong_time(&ltime)",
          "new_text": null,
          "old_line_content": "        nr= TIME_to_ulonglong_time(&ltime);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "TIME_to_ulonglong_time_round",
          "new_api": null,
          "old_text": "TIME_to_ulonglong_time_round(&ltime)",
          "new_text": null,
          "old_line_content": "        nr= TIME_to_ulonglong_time_round(&ltime);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "get_date",
          "new_api": null,
          "old_text": "from->get_date(&ltime, TIME_FUZZY_DATE)",
          "new_text": null,
          "old_line_content": "      from->get_date(&ltime, TIME_FUZZY_DATE);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "TIME_to_ulonglong_datetime_round",
          "new_api": null,
          "old_text": "TIME_to_ulonglong_datetime_round(&ltime)",
          "new_text": null,
          "old_line_content": "        nr= TIME_to_ulonglong_datetime_round(&ltime);",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "store",
          "new_api": null,
          "old_text": "to->store(ltime.neg ? -nr : nr, 0)",
          "new_text": null,
          "old_line_content": "    return to->store(ltime.neg ? -nr : nr, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "is_temporal",
          "new_api": null,
          "old_text": "from->is_temporal()",
          "new_text": null,
          "old_line_content": "  else if (from->is_temporal() &&",
          "new_line_content": "    {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 42,
      "total_additions": 103,
      "total_deletions": 103,
      "total_api_changes": 248
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 248,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          554,
          555,
          556,
          558,
          559,
          560,
          562
        ]
      }
    },
    "api_calls_before": 352,
    "api_calls_after": 352,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 0,
      "total_diff_lines": 21
    }
  }
}