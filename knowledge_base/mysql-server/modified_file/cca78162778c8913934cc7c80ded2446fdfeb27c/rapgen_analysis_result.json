{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cca78162778c8913934cc7c80ded2446fdfeb27c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cca78162778c8913934cc7c80ded2446fdfeb27c/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cca78162778c8913934cc7c80ded2446fdfeb27c/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/cca78162778c8913934cc7c80ded2446fdfeb27c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1287,
          "old_api": "thrjamLineDebug",
          "new_api": "thrjamDebug",
          "old_text": "thrjamLineDebug(c_ctx.jamBuffer, count)",
          "new_text": "thrjamDebug(c_ctx.jamBuffer)",
          "old_line_content": "    thrjamLineDebug(c_ctx.jamBuffer, count);",
          "new_line_content": "    thrjamDebug(c_ctx.jamBuffer);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "ndbrequire",
          "new_api": "cmp",
          "old_text": "ndbrequire(ret != 0)",
          "new_text": "c_ctx.searchBoundArray->cmp(key_data)",
          "old_line_content": "    ndbrequire(ret != 0);",
          "new_line_content": "    ret = c_ctx.searchBoundArray->cmp(key_data);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "jam",
          "new_api": "isEmpty",
          "old_text": "jam()",
          "new_text": "scan.m_accLockOps.isEmpty()",
          "old_line_content": "    jam();",
          "new_line_content": "  if (! scan.m_accLockOps.isEmpty()) {",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "abortAccLockOps",
          "new_api": "jam",
          "old_text": "abortAccLockOps(signal, scanPtr)",
          "new_text": "jam()",
          "old_line_content": "    abortAccLockOps(signal, scanPtr);",
          "new_line_content": "    jam();",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "setLength",
          "new_api": "releaseScanOp",
          "old_text": "signal->setLength(NextScanConf::SignalLengthNoTuple)",
          "new_text": "releaseScanOp(scanPtr)",
          "old_line_content": "    signal->setLength(NextScanConf::SignalLengthNoTuple);",
          "new_line_content": "    releaseScanOp(scanPtr);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "exec_next_scan_conf",
          "new_api": "setLength",
          "old_text": "c_lqh->exec_next_scan_conf(signal)",
          "new_text": "signal->setLength(NextScanConf::SignalLengthNoTuple)",
          "old_line_content": "    c_lqh->exec_next_scan_conf(signal);",
          "new_line_content": "    signal->setLength(NextScanConf::SignalLengthNoTuple);",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "EXECUTE_DIRECT",
          "new_api": "releaseScanOp",
          "old_text": "EXECUTE_DIRECT(blockNo,\n                   GSN_NEXT_SCANREF,\n                   signal,\n                   NextScanRef::SignalLength)",
          "new_text": "releaseScanOp(scanPtr)",
          "old_line_content": "    EXECUTE_DIRECT(blockNo,",
          "new_line_content": "    releaseScanOp(scanPtr);",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "jam",
          "new_api": "first",
          "old_text": "jam()",
          "new_text": "list.first(lockPtr)",
          "old_line_content": "    jam();",
          "new_line_content": "  while (list.first(lockPtr)) {",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "getDataPtrSend",
          "new_api": "jam",
          "old_text": "signal->getDataPtrSend()",
          "new_text": "jam()",
          "old_line_content": "    AccLockReq* const lockReq = (AccLockReq*)signal->getDataPtrSend();",
          "new_line_content": "    jam();",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "jamEntry",
          "new_api": "EXECUTE_DIRECT",
          "old_text": "jamEntry()",
          "new_text": "EXECUTE_DIRECT(DBACC, GSN_ACC_LOCKREQ, signal, AccLockReq::UndoSignalLength)",
          "old_line_content": "    jamEntry();",
          "new_line_content": "    EXECUTE_DIRECT(DBACC, GSN_ACC_LOCKREQ, signal, AccLockReq::UndoSignalLength);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "ndbrequire",
          "new_api": "jamEntry",
          "old_text": "ndbrequire(lockReq->returnCode == AccLockReq::Success)",
          "new_text": "jamEntry()",
          "old_line_content": "    ndbrequire(lockReq->returnCode == AccLockReq::Success);",
          "new_line_content": "    jamEntry();",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "release",
          "new_api": "ndbrequire",
          "old_text": "list.release(lockPtr)",
          "new_text": "ndbrequire(lockReq->returnCode == AccLockReq::Success)",
          "old_line_content": "    list.release(lockPtr);",
          "new_line_content": "    ndbrequire(lockReq->returnCode == AccLockReq::Success);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "next",
          "new_api": "ndbrequire",
          "old_text": "list.next(lockPtr)",
          "new_text": "ndbrequire(lockPtr.p->m_accLockOp != accLockOp)",
          "old_line_content": "    list.next(lockPtr);",
          "new_line_content": "    ndbrequire(lockPtr.p->m_accLockOp != accLockOp);",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "ndbrequire",
          "new_api": "seizeLast",
          "old_text": "ndbrequire(ok)",
          "new_text": "list.seizeLast(lockPtr)",
          "old_line_content": "  ndbrequire(ok);",
          "new_line_content": "  bool ok = list.seizeLast(lockPtr);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "release",
          "new_api": "ndbrequire",
          "old_text": "list.release(lockPtr)",
          "new_text": "ndbrequire(lockPtr.i != RNIL)",
          "old_line_content": "  list.release(lockPtr);",
          "new_line_content": "  ndbrequire(lockPtr.i != RNIL);",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "jam",
          "new_api": "unlikely",
          "old_text": "jam()",
          "new_text": "unlikely(scanPtr.p->m_statOpPtrI != RNIL)",
          "old_line_content": "    jam();",
          "new_line_content": "  if (unlikely(scanPtr.p->m_statOpPtrI != RNIL)) {",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "release",
          "new_api": "getPtr",
          "old_text": "c_statOpPool.release(statPtr)",
          "new_text": "c_statOpPool.getPtr(statPtr)",
          "old_line_content": "    c_statOpPool.release(statPtr);",
          "new_line_content": "    c_statOpPool.getPtr(statPtr);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1281,
          "old_api": null,
          "new_api": "tuxReadAttrsCurr",
          "old_text": null,
          "new_text": "c_tup->tuxReadAttrsCurr(c_ctx.jamBuffer,\n                                  keyAttrs32,\n                                  count,\n                                  outputBuffer,\n                                  false,\n                                  tupVersion)",
          "old_line_content": "                                  keyAttrs32,",
          "new_line_content": "    ret = c_tup->tuxReadAttrsCurr(c_ctx.jamBuffer,",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "thrjamLineDebug",
          "old_text": null,
          "new_text": "thrjamLineDebug(c_ctx.jamBuffer, count)",
          "old_line_content": "    KeyDataArray key_data;",
          "new_line_content": "    thrjamLineDebug(c_ctx.jamBuffer, count);",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "init_poai",
          "old_text": null,
          "new_text": "key_data.init_poai(outputBuffer, count)",
          "old_line_content": "    // compare bound to key",
          "new_line_content": "    key_data.init_poai(outputBuffer, count);",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "ndbrequire",
          "old_text": null,
          "new_text": "ndbrequire(ret != 0)",
          "old_line_content": "    const unsigned idir = c_ctx.descending;",
          "new_line_content": "    ndbrequire(ret != 0);",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": null,
          "new_api": "first",
          "old_text": null,
          "new_text": "list.first(lockPtr)",
          "old_line_content": "  while (lockPtr.i != RNIL) {",
          "new_line_content": "  list.first(lockPtr);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "list.next(lockPtr)",
          "old_line_content": "  }",
          "new_line_content": "    list.next(lockPtr);",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "ndbrequire",
          "old_text": null,
          "new_text": "ndbrequire(accLockOp != RNIL)",
          "old_line_content": "  lockPtr.p->m_accLockOp = accLockOp;",
          "new_line_content": "  ndbrequire(accLockOp != RNIL);",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": null,
          "new_api": "get_tuple_operation_ptr_i",
          "old_text": null,
          "new_text": "c_tup->get_tuple_operation_ptr_i()",
          "old_line_content": "  // check for same tuple twice in row",
          "new_line_content": "  Uint32 opPtrI = c_tup->get_tuple_operation_ptr_i();",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "unlikely",
          "old_text": null,
          "new_text": "unlikely(scan.m_scanEnt.m_tupLoc == ent.m_tupLoc)",
          "old_line_content": "  {",
          "new_line_content": "  if (unlikely(scan.m_scanEnt.m_tupLoc == ent.m_tupLoc))",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "jamDebug",
          "old_text": null,
          "new_text": "jamDebug()",
          "old_line_content": "    return false;",
          "new_line_content": "    jamDebug();",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "first",
          "old_text": null,
          "new_text": "list.first(lockPtr)",
          "old_line_content": "  while (lockPtr.i != RNIL) {",
          "new_line_content": "  list.first(lockPtr);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "likely",
          "old_text": null,
          "new_text": "likely(opPtrI == RNIL)",
          "old_line_content": "  {",
          "new_line_content": "  if (likely(opPtrI == RNIL))",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "jam",
          "old_text": null,
          "new_text": "jam()",
          "old_line_content": "      break;",
          "new_line_content": "      jam();",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "next",
          "old_text": null,
          "new_text": "list.next(lockPtr)",
          "old_line_content": "  }",
          "new_line_content": "    list.next(lockPtr);",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "list.release(lockPtr)",
          "old_line_content": "}",
          "new_line_content": "  list.release(lockPtr);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "tuxQueryTh",
          "old_text": null,
          "new_text": "c_tup->tuxQueryTh(opPtrI,\n                               tupVersion,\n                               transId1,\n                               transId2,\n                               dirty,\n                               savePointId)",
          "old_line_content": "                               tupVersion,",
          "new_line_content": "  bool ret = c_tup->tuxQueryTh(opPtrI,",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "jamEntryDebug",
          "old_text": null,
          "new_text": "jamEntryDebug()",
          "old_line_content": "  return ret;",
          "new_line_content": "  jamEntryDebug();",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "getPtr",
          "old_text": null,
          "new_text": "c_fragPool.getPtr(scanPtr.p->m_fragPtrI)",
          "old_line_content": "  for (unsigned i = 0; i <= 1; i++) {",
          "new_line_content": "  Frag& frag = *c_fragPool.getPtr(scanPtr.p->m_fragPtrI);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "b.release()",
          "old_line_content": "  }",
          "new_line_content": "    b.release();",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "jam",
          "old_text": null,
          "new_text": "jam()",
          "old_line_content": "    StatOpPtr statPtr;",
          "new_line_content": "    jam();",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "ndbrequire",
          "old_text": null,
          "new_text": "ndbrequire(! scan.m_lockwait && scan.m_accLockOp == RNIL)",
          "old_line_content": "  // unlock all not unlocked by LQH",
          "new_line_content": "  ndbrequire(! scan.m_lockwait && scan.m_accLockOp == RNIL);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "c_statOpPool.release(statPtr)",
          "old_line_content": "  }",
          "new_line_content": "    c_statOpPool.release(statPtr);",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "abortAccLockOps",
          "old_text": null,
          "new_text": "abortAccLockOps(signal, scanPtr)",
          "old_line_content": "  }",
          "new_line_content": "    abortAccLockOps(signal, scanPtr);",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "frag.m_scanList.release(scanPtr)",
          "old_line_content": "}",
          "new_line_content": "  frag.m_scanList.release(scanPtr);",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": null,
          "new_api": "refToMain",
          "old_text": null,
          "new_text": "refToMain(scanPtr.p->m_userRef)",
          "old_line_content": "  if (scanPtr.p->m_errorCode == 0) {",
          "new_line_content": "  Uint32 blockNo = refToMain(scanPtr.p->m_userRef);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "jamDebug",
          "old_text": null,
          "new_text": "jamDebug()",
          "old_line_content": "    // send conf",
          "new_line_content": "    jamDebug();",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": null,
          "new_api": "getDataPtrSend",
          "old_text": null,
          "new_text": "signal->getDataPtrSend()",
          "old_line_content": "    conf->scanPtr = scanPtr.p->m_userPtr;",
          "new_line_content": "    NextScanConf* const conf = (NextScanConf*)signal->getDataPtrSend();",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "exec_next_scan_conf",
          "old_text": null,
          "new_text": "c_lqh->exec_next_scan_conf(signal)",
          "old_line_content": "    return;",
          "new_line_content": "    c_lqh->exec_next_scan_conf(signal);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "getDataPtr",
          "old_text": null,
          "new_text": "signal->getDataPtr()",
          "old_line_content": "    ref->scanPtr = scanPtr.p->m_userPtr;",
          "new_line_content": "    NextScanRef* ref = (NextScanRef*)signal->getDataPtr();",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "EXECUTE_DIRECT",
          "old_text": null,
          "new_text": "EXECUTE_DIRECT(blockNo,\n                   GSN_NEXT_SCANREF,\n                   signal,\n                   NextScanRef::SignalLength)",
          "old_line_content": "                   GSN_NEXT_SCANREF,",
          "new_line_content": "    EXECUTE_DIRECT(blockNo,",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "jamDebug",
          "old_text": null,
          "new_text": "jamDebug()",
          "old_line_content": "  Uint32 scanBoundCnt = c_ctx.scanBoundCnt;",
          "new_line_content": "  jamDebug();",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": null,
          "new_api": "unlikely",
          "old_text": null,
          "new_text": "unlikely(scan.m_errorCode != 0)",
          "old_line_content": "  {",
          "new_line_content": "  if (unlikely(scan.m_errorCode != 0))",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "jam",
          "old_text": null,
          "new_text": "jam()",
          "old_line_content": "    return false;",
          "new_line_content": "    jam();",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "getDataPtrSend",
          "old_text": null,
          "new_text": "signal->getDataPtrSend()",
          "old_line_content": "    lockReq->returnCode = RNIL;",
          "new_line_content": "    AccLockReq* const lockReq = (AccLockReq*)signal->getDataPtrSend();",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "likely",
          "old_text": null,
          "new_text": "likely(scanBoundCnt != 0)",
          "old_line_content": "  {",
          "new_line_content": "  if (likely(scanBoundCnt != 0))",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "list.release(lockPtr)",
          "old_line_content": "  }",
          "new_line_content": "    list.release(lockPtr);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1280,
          "old_api": "tuxReadAttrsCurr",
          "new_api": null,
          "old_text": "c_tup->tuxReadAttrsCurr(c_ctx.jamBuffer,\n                                  keyAttrs32,\n                                  count,\n                                  outputBuffer,\n                                  false,\n                                  tupVersion)",
          "new_text": null,
          "old_line_content": "    ret = c_tup->tuxReadAttrsCurr(c_ctx.jamBuffer,",
          "new_line_content": "    const Uint32* keyAttrs32 = (const Uint32*)&c_ctx.keyAttrs[0];",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "thrjamDebug",
          "new_api": null,
          "old_text": "thrjamDebug(c_ctx.jamBuffer)",
          "new_text": null,
          "old_line_content": "    thrjamDebug(c_ctx.jamBuffer);",
          "new_line_content": "                                  tupVersion);",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "init_poai",
          "new_api": null,
          "old_text": "key_data.init_poai(outputBuffer, count)",
          "new_text": null,
          "old_line_content": "    key_data.init_poai(outputBuffer, count);",
          "new_line_content": "    KeyDataArray key_data;",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "cmp",
          "new_api": null,
          "old_text": "c_ctx.searchBoundArray->cmp(key_data)",
          "new_text": null,
          "old_line_content": "    ret = c_ctx.searchBoundArray->cmp(key_data);",
          "new_line_content": "    // compare bound to key",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "first",
          "new_api": null,
          "old_text": "list.first(lockPtr)",
          "new_text": null,
          "old_line_content": "  list.first(lockPtr);",
          "new_line_content": "#ifdef VM_TRACE",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "ndbrequire",
          "new_api": null,
          "old_text": "ndbrequire(lockPtr.p->m_accLockOp != accLockOp)",
          "new_text": null,
          "old_line_content": "    ndbrequire(lockPtr.p->m_accLockOp != accLockOp);",
          "new_line_content": "  while (lockPtr.i != RNIL) {",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "seizeLast",
          "new_api": null,
          "old_text": "list.seizeLast(lockPtr)",
          "new_text": null,
          "old_line_content": "  bool ok = list.seizeLast(lockPtr);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "get_tuple_operation_ptr_i",
          "new_api": null,
          "old_text": "c_tup->get_tuple_operation_ptr_i()",
          "new_text": null,
          "old_line_content": "  Uint32 opPtrI = c_tup->get_tuple_operation_ptr_i();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "unlikely",
          "new_api": null,
          "old_text": "unlikely(scan.m_scanEnt.m_tupLoc == ent.m_tupLoc)",
          "new_text": null,
          "old_line_content": "  if (unlikely(scan.m_scanEnt.m_tupLoc == ent.m_tupLoc))",
          "new_line_content": "  // check for same tuple twice in row",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "jamDebug",
          "new_api": null,
          "old_text": "jamDebug()",
          "new_text": null,
          "old_line_content": "    jamDebug();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "first",
          "new_api": null,
          "old_text": "list.first(lockPtr)",
          "new_text": null,
          "old_line_content": "  list.first(lockPtr);",
          "new_line_content": "  ScanLockPtr lockPtr;",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "likely",
          "new_api": null,
          "old_text": "likely(opPtrI == RNIL)",
          "new_text": null,
          "old_line_content": "  if (likely(opPtrI == RNIL))",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "jam",
          "new_api": null,
          "old_text": "jam()",
          "new_text": null,
          "old_line_content": "      jam();",
          "new_line_content": "    if (lockPtr.p->m_accLockOp == accLockOp) {",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "next",
          "new_api": null,
          "old_text": "list.next(lockPtr)",
          "new_text": null,
          "old_line_content": "    list.next(lockPtr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "ndbrequire",
          "new_api": null,
          "old_text": "ndbrequire(lockPtr.i != RNIL)",
          "new_text": null,
          "old_line_content": "  ndbrequire(lockPtr.i != RNIL);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "tuxQueryTh",
          "new_api": null,
          "old_text": "c_tup->tuxQueryTh(opPtrI,\n                               tupVersion,\n                               transId1,\n                               transId2,\n                               dirty,\n                               savePointId)",
          "new_text": null,
          "old_line_content": "  bool ret = c_tup->tuxQueryTh(opPtrI,",
          "new_line_content": "  Uint32 savePointId = scan.m_savePointId;",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "jamEntryDebug",
          "new_api": null,
          "old_text": "jamEntryDebug()",
          "new_text": null,
          "old_line_content": "  jamEntryDebug();",
          "new_line_content": "                               savePointId);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "getPtr",
          "new_api": null,
          "old_text": "c_fragPool.getPtr(scanPtr.p->m_fragPtrI)",
          "new_text": null,
          "old_line_content": "  Frag& frag = *c_fragPool.getPtr(scanPtr.p->m_fragPtrI);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "release",
          "new_api": null,
          "old_text": "b.release()",
          "new_text": null,
          "old_line_content": "    b.release();",
          "new_line_content": "    LocalScanBoundBuffer b(c_scanBoundPool, head);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "unlikely",
          "new_api": null,
          "old_text": "unlikely(scanPtr.p->m_statOpPtrI != RNIL)",
          "new_text": null,
          "old_line_content": "  if (unlikely(scanPtr.p->m_statOpPtrI != RNIL)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": "ndbrequire",
          "new_api": null,
          "old_text": "ndbrequire(! scan.m_lockwait && scan.m_accLockOp == RNIL)",
          "new_text": null,
          "old_line_content": "  ndbrequire(! scan.m_lockwait && scan.m_accLockOp == RNIL);",
          "new_line_content": "  ScanOp& scan = *scanPtr.p;",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "getPtr",
          "new_api": null,
          "old_text": "c_statOpPool.getPtr(statPtr)",
          "new_text": null,
          "old_line_content": "    c_statOpPool.getPtr(statPtr);",
          "new_line_content": "    statPtr.i = scanPtr.p->m_statOpPtrI;",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "isEmpty",
          "new_api": null,
          "old_text": "scan.m_accLockOps.isEmpty()",
          "new_text": null,
          "old_line_content": "  if (! scan.m_accLockOps.isEmpty()) {",
          "new_line_content": "  // unlock all not unlocked by LQH",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "release",
          "new_api": null,
          "old_text": "frag.m_scanList.release(scanPtr)",
          "new_text": null,
          "old_line_content": "  frag.m_scanList.release(scanPtr);",
          "new_line_content": "  // unlink from per-fragment list and release from pool",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "refToMain",
          "new_api": null,
          "old_text": "refToMain(scanPtr.p->m_userRef)",
          "new_text": null,
          "old_line_content": "  Uint32 blockNo = refToMain(scanPtr.p->m_userRef);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "jamDebug",
          "new_api": null,
          "old_text": "jamDebug()",
          "new_text": null,
          "old_line_content": "    jamDebug();",
          "new_line_content": "  if (scanPtr.p->m_errorCode == 0) {",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "getDataPtrSend",
          "new_api": null,
          "old_text": "signal->getDataPtrSend()",
          "new_text": null,
          "old_line_content": "    NextScanConf* const conf = (NextScanConf*)signal->getDataPtrSend();",
          "new_line_content": "    // send conf",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "releaseScanOp",
          "new_api": null,
          "old_text": "releaseScanOp(scanPtr)",
          "new_text": null,
          "old_line_content": "    releaseScanOp(scanPtr);",
          "new_line_content": "    conf->fragId = RNIL;",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "getDataPtr",
          "new_api": null,
          "old_text": "signal->getDataPtr()",
          "new_text": null,
          "old_line_content": "    NextScanRef* ref = (NextScanRef*)signal->getDataPtr();",
          "new_line_content": "    // send ref",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "releaseScanOp",
          "new_api": null,
          "old_text": "releaseScanOp(scanPtr)",
          "new_text": null,
          "old_line_content": "    releaseScanOp(scanPtr);",
          "new_line_content": "    ref->errorCode = scanPtr.p->m_errorCode;",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "jamDebug",
          "new_api": null,
          "old_text": "jamDebug()",
          "new_text": null,
          "old_line_content": "  jamDebug();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "unlikely",
          "new_api": null,
          "old_text": "unlikely(scan.m_errorCode != 0)",
          "new_text": null,
          "old_line_content": "  if (unlikely(scan.m_errorCode != 0))",
          "new_line_content": "  Uint32 scanBoundCnt = c_ctx.scanBoundCnt;",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "first",
          "new_api": null,
          "old_text": "list.first(lockPtr)",
          "new_text": null,
          "old_line_content": "  while (list.first(lockPtr)) {",
          "new_line_content": "  ScanLockPtr lockPtr;",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "jam",
          "new_api": null,
          "old_text": "jam()",
          "new_text": null,
          "old_line_content": "    jam();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "likely",
          "new_api": null,
          "old_text": "likely(scanBoundCnt != 0)",
          "new_text": null,
          "old_line_content": "  if (likely(scanBoundCnt != 0))",
          "new_line_content": "  int ret = 0;",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "EXECUTE_DIRECT",
          "new_api": null,
          "old_text": "EXECUTE_DIRECT(DBACC, GSN_ACC_LOCKREQ, signal, AccLockReq::UndoSignalLength)",
          "new_text": null,
          "old_line_content": "    EXECUTE_DIRECT(DBACC, GSN_ACC_LOCKREQ, signal, AccLockReq::UndoSignalLength);",
          "new_line_content": "    lockReq->accOpPtr = lockPtr.p->m_accLockOp;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 17,
      "total_additions": 36,
      "total_deletions": 36,
      "total_api_changes": 89
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 1,
        "api_related_lines": 89,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          1263
        ]
      }
    },
    "api_calls_before": 364,
    "api_calls_after": 364,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 0,
      "total_diff_lines": 13
    }
  }
}