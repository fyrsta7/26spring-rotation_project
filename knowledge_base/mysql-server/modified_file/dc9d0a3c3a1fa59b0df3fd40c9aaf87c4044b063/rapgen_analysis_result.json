{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/dc9d0a3c3a1fa59b0df3fd40c9aaf87c4044b063",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/dc9d0a3c3a1fa59b0df3fd40c9aaf87c4044b063/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/dc9d0a3c3a1fa59b0df3fd40c9aaf87c4044b063/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/dc9d0a3c3a1fa59b0df3fd40c9aaf87c4044b063/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3018,
          "old_api": "get_sj_strategy",
          "new_api": "end_read_record",
          "old_text": "get_sj_strategy()",
          "new_text": "end_read_record(&read_record)",
          "old_line_content": "  return sj_is_materialize_strategy(get_sj_strategy()) ?",
          "new_line_content": "  end_read_record(&read_record);",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": "DBUG_PRINT",
          "new_api": "and_with_condition",
          "old_text": "DBUG_PRINT(\"info\", \n               (\"select::cond extended. Change %p -> %p \"\n                \"at line %u tab %p select %p\",\n                select->cond, m_condition, line, this, select))",
          "new_text": "and_with_condition(add_cond, line)",
          "old_line_content": "    DBUG_PRINT(\"info\", ",
          "new_line_content": "  if (and_with_condition(add_cond, line))",
          "content_same": false
        },
        {
          "line": 3144,
          "old_api": "next_select",
          "new_api": "cleanup",
          "old_text": "sl->next_select()",
          "new_text": "cleanup(full)",
          "old_line_content": "    for (sl= tmp_unit->first_select(); sl; sl= sl->next_select())",
          "new_line_content": "  cleanup(full);",
          "content_same": false
        },
        {
          "line": 3146,
          "old_api": "master_unit",
          "new_api": "first_inner_unit",
          "old_text": "sl->master_unit()",
          "new_text": "select_lex->first_inner_unit()",
          "old_line_content": "      Item_subselect *subselect= sl->master_unit()->item;",
          "new_line_content": "  for (tmp_unit= select_lex->first_inner_unit();",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": "extra",
          "new_api": "ha_index_or_rnd_end",
          "old_text": "tab->table->file->extra(HA_EXTRA_NO_CACHE)",
          "new_text": "tab->table->file->ha_index_or_rnd_end()",
          "old_line_content": "            if ((tmp= tab->table->file->extra(HA_EXTRA_NO_CACHE)))",
          "new_line_content": "          tab->table->file->ha_index_or_rnd_end();",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": "filesort_free_buffers",
          "new_api": "extra",
          "old_text": "filesort_free_buffers(tab->table, full)",
          "new_text": "tab->table->file->extra(HA_EXTRA_NO_CACHE)",
          "old_line_content": "        filesort_free_buffers(tab->table, full);",
          "new_line_content": "            if ((tmp= tab->table->file->extra(HA_EXTRA_NO_CACHE)))",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": "set_items_ref_array",
          "new_api": "cleanup",
          "old_text": "set_items_ref_array(items0)",
          "new_text": "tmp_table_param.cleanup()",
          "old_line_content": "    set_items_ref_array(items0);",
          "new_line_content": "    tmp_table_param.cleanup();",
          "content_same": false
        },
        {
          "line": 3351,
          "old_api": "eq",
          "new_api": "DBUG_ASSERT",
          "old_text": "f2->eq(((Item_field *) i1)->field)",
          "new_text": "DBUG_ASSERT((i2 == NULL) ^ (f2 == NULL))",
          "old_line_content": "    return f2->eq(((Item_field *) i1)->field);",
          "new_line_content": "  DBUG_ASSERT((i2 == NULL) ^ (f2 == NULL));",
          "content_same": false
        },
        {
          "line": 3410,
          "old_api": "equal",
          "new_api": "functype",
          "old_text": "equal(left_item, comp_item, comp_field)",
          "new_text": "func->functype()",
          "old_line_content": "    if (equal(left_item, comp_item, comp_field))",
          "new_line_content": "    if (func->functype() != Item_func::EQUAL_FUNC &&",
          "content_same": false
        },
        {
          "line": 3415,
          "old_api": "eq",
          "new_api": "equal",
          "old_text": "right_item->eq(*const_item, 1)",
          "new_text": "equal(left_item, comp_item, comp_field)",
          "old_line_content": "\t  return right_item->eq(*const_item, 1);",
          "new_line_content": "    if (equal(left_item, comp_item, comp_field))",
          "content_same": false
        },
        {
          "line": 3420,
          "old_api": "equal",
          "new_api": "eq",
          "old_text": "equal(right_item, comp_item, comp_field)",
          "new_text": "right_item->eq(*const_item, 1)",
          "old_line_content": "    else if (equal(right_item, comp_item, comp_field))",
          "new_line_content": "\t  return right_item->eq(*const_item, 1);",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": "eq",
          "new_api": "equal",
          "old_text": "left_item->eq(*const_item, 1)",
          "new_text": "equal(right_item, comp_item, comp_field)",
          "old_line_content": "\t  return left_item->eq(*const_item, 1);",
          "new_line_content": "    else if (equal(right_item, comp_item, comp_field))",
          "content_same": false
        },
        {
          "line": 3716,
          "old_api": "is_ref_or_null_optimized",
          "new_api": "is_set",
          "old_text": "is_ref_or_null_optimized(tab, nr)",
          "new_text": "usable_keys->is_set(nr)",
          "old_line_content": "        !is_ref_or_null_optimized(tab, nr) &&",
          "new_line_content": "    if (usable_keys->is_set(nr) &&",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": "DBUG_ASSERT",
          "new_api": "DBUG_ENTER",
          "old_text": "DBUG_ASSERT(tab == tab->join->join_tab + tab->join->const_tables)",
          "new_text": "DBUG_ENTER(\"test_if_skip_sort_order\")",
          "old_line_content": "  DBUG_ASSERT(tab == tab->join->join_tab + tab->join->const_tables); ",
          "new_line_content": "  DBUG_ENTER(\"test_if_skip_sort_order\");",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": "intersect",
          "new_api": "type",
          "old_text": "usable_keys.intersect(((Item_field*) item)->field->part_of_sortkey)",
          "new_text": "item->type()",
          "old_line_content": "    usable_keys.intersect(((Item_field*) item)->field->part_of_sortkey);",
          "new_line_content": "    if (item->type() != Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": "DBUG_RETURN",
          "new_api": "clear_all",
          "old_text": "DBUG_RETURN(0)",
          "new_text": "usable_keys.clear_all()",
          "old_line_content": "      DBUG_RETURN(0);\t\t\t\t\t// No usable keys",
          "new_line_content": "      usable_keys.clear_all();",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": "add_utf8_table",
          "new_api": "set_quick",
          "old_text": "trace_change_index.add_utf8_table(tab->table)\n    .add(\"index_provides_order\", can_skip_sorting)\n    .add_alnum(\"order_direction\", order_direction == 1 ? \"asc\" :\n               ((order_direction == -1) ? \"desc\" :\n                \"undefined\"))",
          "new_text": "select->set_quick(save_quick)",
          "old_line_content": "  trace_change_index.add_utf8_table(tab->table)",
          "new_line_content": "      select->set_quick(save_quick);",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": "is_started",
          "new_api": "cancel_pushed_idx_cond",
          "old_text": "trace->is_started()",
          "new_text": "table->file->cancel_pushed_idx_cond()",
          "old_line_content": "    if (unlikely(trace->is_started()))",
          "new_line_content": "      table->file->cancel_pushed_idx_cond();",
          "content_same": false
        },
        {
          "line": 4316,
          "old_api": "add",
          "new_api": "is_started",
          "old_text": "trace_change_index.add(\"plan_changed\", !no_changes)",
          "new_text": "trace->is_started()",
          "old_line_content": "      trace_change_index.add(\"plan_changed\", !no_changes);",
          "new_line_content": "    if (unlikely(trace->is_started()))",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": "add",
          "new_api": "is_started",
          "old_text": "trace_change_index.add(\"plan_changed\", false)",
          "new_text": "trace->is_started()",
          "old_line_content": "    trace_change_index.add(\"plan_changed\", false);",
          "new_line_content": "  else if (unlikely(trace->is_started()))",
          "content_same": false
        },
        {
          "line": 4336,
          "old_api": "set_jt_and_sel_condition",
          "new_api": "add",
          "old_text": "tab->set_jt_and_sel_condition(orig_cond, __LINE__)",
          "new_text": "trace_change_index.add(\"plan_changed\", false)",
          "old_line_content": "    tab->set_jt_and_sel_condition(orig_cond, __LINE__);",
          "new_line_content": "    trace_change_index.add(\"plan_changed\", false);",
          "content_same": false
        },
        {
          "line": 4364,
          "old_api": "const_item",
          "new_api": "real_item",
          "old_text": "field->const_item()",
          "new_text": "field->real_item()->type()",
          "old_line_content": "      if (! field->const_item())",
          "new_line_content": "    Item::Type real_type= field->real_item()->type();",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": "test",
          "new_api": "eq",
          "old_text": "test(!b)",
          "new_text": "*a->item)->eq(*b->item,1)",
          "old_line_content": "  return test(!b);",
          "new_line_content": "    if ((*a->item)->eq(*b->item,1))",
          "content_same": false
        },
        {
          "line": 4580,
          "old_api": "const_item",
          "new_api": "DBUG_RETURN",
          "old_text": "item->const_item()",
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "    if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item() &&",
          "new_line_content": "    DBUG_RETURN(FALSE); /* We have already initialized sum_funcs. */",
          "content_same": false
        },
        {
          "line": 4665,
          "old_api": "change_item_tree",
          "new_api": "fix_fields",
          "old_text": "thd->change_item_tree(tmp->item, new_item)",
          "new_text": "new_item->fix_fields(thd, (Item **) 0)",
          "old_line_content": "            thd->change_item_tree(tmp->item, new_item);",
          "new_line_content": "        new_item->fix_fields(thd, (Item **) 0);",
          "content_same": false
        },
        {
          "line": 4670,
          "old_api": "rewind",
          "new_api": "change_item_tree",
          "old_text": "it.rewind()",
          "new_text": "thd->change_item_tree(tmp->item, new_item)",
          "old_line_content": "    it.rewind();",
          "new_line_content": "            thd->change_item_tree(tmp->item, new_item);",
          "content_same": false
        },
        {
          "line": 4788,
          "old_api": "get_tmp_table_field",
          "new_api": "field_type",
          "old_text": "item->get_tmp_table_field()",
          "new_text": "item->field_type()",
          "old_line_content": "            null_item->result_field= item->get_tmp_table_field();",
          "new_line_content": "              new (thd->mem_root) Item_null_result(item->field_type(),",
          "content_same": false
        },
        {
          "line": 4853,
          "old_api": "DBUG_RETURN",
          "new_api": "DBUG_ENTER",
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": "DBUG_ENTER(\"JOIN::change_result\")",
          "old_line_content": "    DBUG_RETURN(TRUE);",
          "new_line_content": "  DBUG_ENTER(\"JOIN::change_result\");",
          "content_same": false
        },
        {
          "line": 4855,
          "old_api": "DBUG_RETURN",
          "new_api": "master_unit",
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": "select_lex->master_unit()",
          "old_line_content": "  DBUG_RETURN(FALSE);",
          "new_line_content": "  if (result->prepare(fields_list, select_lex->master_unit()) ||",
          "content_same": false
        },
        {
          "line": 4987,
          "old_api": "change_to_use_tmp_fields",
          "new_api": "is_null",
          "old_text": "change_to_use_tmp_fields(thd, items1,\n                                   tmp_fields_list1, tmp_all_fields1,\n                                   fields_list.elements, all_fields)",
          "new_text": "items1.is_null()",
          "old_line_content": "      if (change_to_use_tmp_fields(thd, items1,",
          "new_line_content": "    DBUG_ASSERT(items1.is_null());",
          "content_same": false
        },
        {
          "line": 5002,
          "old_api": "set_items_ref_array",
          "new_api": "DBUG_RETURN",
          "old_text": "set_items_ref_array(items1)",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "    set_items_ref_array(items1);",
          "new_line_content": "        DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5036,
          "old_api": "calc_group_buffer",
          "new_api": "test_if_subpart",
          "old_text": "calc_group_buffer(this, group_list)",
          "new_text": "test_if_subpart(group_list, order)",
          "old_line_content": "      calc_group_buffer(this, group_list);",
          "new_line_content": "         (!test_if_subpart(group_list, order) || select_distinct)) ||",
          "content_same": false
        },
        {
          "line": 5071,
          "old_api": "plan_is_const",
          "new_api": "DBUG_RETURN",
          "old_text": "plan_is_const()",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "        if (!plan_is_const())        // No need to sort a single row",
          "new_line_content": "\tDBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5075,
          "old_api": "DBUG_RETURN",
          "new_api": "set",
          "old_text": "DBUG_RETURN(true)",
          "new_text": "explain_flags.set(group_list.src, ESP_USING_TMPTABLE)",
          "old_line_content": "            DBUG_RETURN(true);",
          "new_line_content": "        explain_flags.set(group_list.src, ESP_USING_TMPTABLE);",
          "content_same": false
        },
        {
          "line": 5079,
          "old_api": "DBUG_RETURN",
          "new_api": "add_sorting_to_table",
          "old_text": "DBUG_RETURN(true)",
          "new_text": "add_sorting_to_table(sort_tab, &group_list)",
          "old_line_content": "          DBUG_RETURN(true);",
          "new_line_content": "          if (add_sorting_to_table(sort_tab, &group_list))",
          "content_same": false
        },
        {
          "line": 5100,
          "old_api": "setup_sum_funcs",
          "new_api": "DBUG_RETURN",
          "old_text": "setup_sum_funcs(thd, sum_funcs)",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "        if (setup_sum_funcs(thd, sum_funcs))",
          "new_line_content": "          DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5101,
          "old_api": "DBUG_RETURN",
          "new_api": "is_using_agg_loose_index_scan",
          "old_text": "DBUG_RETURN(true)",
          "new_text": "prepare_sum_aggregators(sum_funcs,\n                                    !join_tab->is_using_agg_loose_index_scan())",
          "old_line_content": "          DBUG_RETURN(true);",
          "new_line_content": "        if (prepare_sum_aggregators(sum_funcs,",
          "content_same": false
        },
        {
          "line": 5106,
          "old_api": "ref_ptr_array_slice",
          "new_api": "DBUG_RETURN",
          "old_text": "ref_ptr_array_slice(3)",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "      items2= ref_ptr_array_slice(3);",
          "new_line_content": "          DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5167,
          "old_api": "count_field_types",
          "new_api": "test",
          "old_text": "count_field_types(select_lex, &tmp_table_param, *curr_all_fields, false)",
          "new_text": "test(select_options & OPTION_BUFFER_RESULT)",
          "old_line_content": "    count_field_types(select_lex, &tmp_table_param, *curr_all_fields, false);",
          "new_line_content": "      DBUG_ASSERT(test(select_options & OPTION_BUFFER_RESULT));",
          "content_same": false
        },
        {
          "line": 5172,
          "old_api": "make_group_fields",
          "new_api": "count_field_types",
          "old_text": "make_group_fields(this, this)",
          "new_text": "count_field_types(select_lex, &tmp_table_param, *curr_all_fields, false)",
          "old_line_content": "    if (make_group_fields(this, this))",
          "new_line_content": "    count_field_types(select_lex, &tmp_table_param, *curr_all_fields, false);",
          "content_same": false
        },
        {
          "line": 5177,
          "old_api": "is_null",
          "new_api": "make_group_fields",
          "old_text": "items0.is_null()",
          "new_text": "make_group_fields(this, this)",
          "old_line_content": "    if (items0.is_null())",
          "new_line_content": "    if (make_group_fields(this, this))",
          "content_same": false
        },
        {
          "line": 5178,
          "old_api": "init_items_ref_array",
          "new_api": "DBUG_RETURN",
          "old_text": "init_items_ref_array()",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "      init_items_ref_array();",
          "new_line_content": "      DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5180,
          "old_api": "setup_copy_fields",
          "new_api": "is_null",
          "old_text": "setup_copy_fields(thd, &tmp_table_param,\n                      items3, tmp_fields_list3, tmp_all_fields3,\n                      curr_fields_list->elements, *curr_all_fields)",
          "new_text": "items3.is_null()",
          "old_line_content": "    setup_copy_fields(thd, &tmp_table_param,",
          "new_line_content": "    DBUG_ASSERT(items3.is_null());",
          "content_same": false
        },
        {
          "line": 5199,
          "old_api": "DBUG_RETURN",
          "new_api": "make_sum_func_list",
          "old_text": "DBUG_RETURN(true)",
          "new_text": "make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true)",
          "old_line_content": "      DBUG_RETURN(true);",
          "new_line_content": "    if (make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true))",
          "content_same": false
        },
        {
          "line": 5200,
          "old_api": "setup_sum_funcs",
          "new_api": "DBUG_RETURN",
          "old_text": "setup_sum_funcs(thd, sum_funcs)",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "    if (setup_sum_funcs(thd, sum_funcs) || thd->is_fatal_error)",
          "new_line_content": "      DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5201,
          "old_api": "DBUG_RETURN",
          "new_api": "prepare_sum_aggregators",
          "old_text": "DBUG_RETURN(true)",
          "new_text": "prepare_sum_aggregators(sum_funcs,\n                                !join_tab ||\n                                !join_tab-> is_using_agg_loose_index_scan())",
          "old_line_content": "      DBUG_RETURN(true);",
          "new_line_content": "    if (prepare_sum_aggregators(sum_funcs,",
          "content_same": false
        },
        {
          "line": 5205,
          "old_api": "DBUG_PRINT",
          "new_api": "setup_sum_funcs",
          "old_text": "DBUG_PRINT(\"info\",(\"Sorting for send_result_set_metadata\"))",
          "new_text": "setup_sum_funcs(thd, sum_funcs)",
          "old_line_content": "    DBUG_PRINT(\"info\",(\"Sorting for send_result_set_metadata\"));",
          "new_line_content": "    if (setup_sum_funcs(thd, sum_funcs) || thd->is_fatal_error)",
          "content_same": false
        },
        {
          "line": 5206,
          "old_api": "THD_STAGE_INFO",
          "new_api": "DBUG_RETURN",
          "old_text": "THD_STAGE_INFO(thd, stage_sorting_result)",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "    THD_STAGE_INFO(thd, stage_sorting_result);",
          "new_line_content": "      DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5211,
          "old_api": "update_used_tables",
          "new_api": "THD_STAGE_INFO",
          "old_text": "having->update_used_tables()",
          "new_text": "THD_STAGE_INFO(thd, stage_sorting_result)",
          "old_line_content": "      having->update_used_tables();",
          "new_line_content": "    THD_STAGE_INFO(thd, stage_sorting_result);",
          "content_same": false
        },
        {
          "line": 5234,
          "old_api": "print_where",
          "new_api": "DBUG_RETURN",
          "old_text": "print_where(curr_table->select->cond,\n\t\t\t\t\t \"select and having\",\n                                         QT_ORDINARY)",
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "\tDBUG_EXECUTE(\"where\",print_where(curr_table->select->cond,",
          "new_line_content": "\t    DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5238,
          "old_api": "make_cond_for_table",
          "new_api": "condition",
          "old_text": "make_cond_for_table(having, ~ (table_map) 0,\n                                    ~used_tables, false)",
          "new_text": "curr_table->condition()->top_level_item()",
          "old_line_content": "        having= make_cond_for_table(having, ~ (table_map) 0,",
          "new_line_content": "        curr_table->condition()->top_level_item();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 5123,
          "old_api": null,
          "new_api": "setup_tmptable_write_func",
          "old_text": null,
          "new_text": "setup_tmptable_write_func(&join_tab[curr_tmp_table])",
          "old_line_content": "    if (join_tab[curr_tmp_table].table->distinct)",
          "new_line_content": "      setup_tmptable_write_func(&join_tab[curr_tmp_table]);",
          "content_same": false
        },
        {
          "line": 4617,
          "old_api": null,
          "new_api": "first_inner_unit",
          "old_text": null,
          "new_text": "select->first_inner_unit()",
          "old_line_content": "",
          "new_line_content": "  for (SELECT_LEX_UNIT *unit= select->first_inner_unit();",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(order_direction != 0)",
          "old_line_content": "    {",
          "new_line_content": "  DBUG_ASSERT(order_direction != 0);",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": null,
          "new_api": "next_unit",
          "old_text": null,
          "new_text": "unit->next_unit()",
          "old_line_content": "  ROLLUP handling",
          "new_line_content": "       unit= unit->next_unit())",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": null,
          "new_api": "cleanup",
          "old_text": null,
          "new_text": "unit->cleanup()",
          "old_line_content": "****************************************************************************/",
          "new_line_content": "    unit->cleanup();",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": null,
          "new_api": "condition",
          "old_text": null,
          "new_text": "condition()",
          "old_line_content": "  Partially cleanup JOIN after it has executed: close index or rnd read",
          "new_line_content": "  return filesort && filesort->select ? filesort->select->cond : condition();",
          "content_same": false
        },
        {
          "line": 5642,
          "old_api": null,
          "new_api": "unique_key_range",
          "old_text": null,
          "new_text": "select->quick->unique_key_range()",
          "old_line_content": "      in mysql_update(). Use quick select \"as is\".",
          "new_line_content": "  if (select && select->quick && select->quick->unique_key_range())",
          "content_same": false
        },
        {
          "line": 3596,
          "old_api": null,
          "new_api": "primary_key_is_clustered",
          "old_text": null,
          "new_text": "table->file->primary_key_is_clustered()",
          "old_line_content": "  {",
          "new_line_content": "  uint usable_clustered_pk= (table->file->primary_key_is_clustered() &&",
          "content_same": false
        },
        {
          "line": 5136,
          "old_api": null,
          "new_api": "update_used_tables",
          "old_text": null,
          "new_text": "having->update_used_tables()",
          "old_line_content": "      select_distinct= false;",
          "new_line_content": "        having->update_used_tables();",
          "content_same": false
        },
        {
          "line": 3598,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "usable_keys->is_set(table->s->primary_key)",
          "old_line_content": "    for (uint nr=0; nr < table->s->keys ; nr++)",
          "new_line_content": "                             usable_keys->is_set(table->s->primary_key)) ?",
          "content_same": false
        },
        {
          "line": 3600,
          "old_api": null,
          "new_api": "is_clear_all",
          "old_text": null,
          "new_text": "usable_keys->is_clear_all()",
          "old_line_content": "      if (nr == usable_clustered_pk)",
          "new_line_content": "  if (!usable_keys->is_clear_all())",
          "content_same": false
        },
        {
          "line": 5139,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "explain_flags.set(ESC_DISTINCT, ESP_DUPS_REMOVAL)",
          "old_line_content": "    tmp_table_param.field_count= tmp_table_param.sum_func_count=",
          "new_line_content": "      explain_flags.set(ESC_DISTINCT, ESP_DUPS_REMOVAL);",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": null,
          "new_api": "reverse_sorted",
          "old_text": null,
          "new_text": "select->quick->reverse_sorted()",
          "old_line_content": "",
          "new_line_content": "      if (select->quick->reverse_sorted())",
          "content_same": false
        },
        {
          "line": 4073,
          "old_api": null,
          "new_api": "set_bit",
          "old_text": null,
          "new_text": "tab->quick_order_tested.set_bit(best_key)",
          "old_line_content": "",
          "new_line_content": "      tab->quick_order_tested.set_bit(best_key);",
          "content_same": false
        },
        {
          "line": 3607,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "usable_keys->is_set(nr)",
          "old_line_content": "          best=nr;",
          "new_line_content": "      if (usable_keys->is_set(nr))",
          "content_same": false
        },
        {
          "line": 4122,
          "old_api": null,
          "new_api": "reverse_sort_possible",
          "old_text": null,
          "new_text": "select->quick->reverse_sort_possible()",
          "old_line_content": "        goto fix_ICP;",
          "new_line_content": "      if (select->quick->reverse_sort_possible())",
          "content_same": false
        },
        {
          "line": 5661,
          "old_api": null,
          "new_api": "is_simple_order",
          "old_text": null,
          "new_text": "is_simple_order(order)",
          "old_line_content": "",
          "new_line_content": "  if (!is_simple_order(order)) // just to cut further expensive checks",
          "content_same": false
        },
        {
          "line": 4134,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT((select->quick == save_quick) || can_skip_sorting)",
          "old_line_content": "      can_skip_sorting= true;",
          "new_line_content": "      DBUG_ASSERT((select->quick == save_quick) || can_skip_sorting);",
          "content_same": false
        },
        {
          "line": 5676,
          "old_api": null,
          "new_api": "test_if_order_by_key",
          "old_text": null,
          "new_text": "test_if_order_by_key(order, table, select->quick->index,\n                                 &used_key_parts)",
          "old_line_content": "    case 0: // unacceptable order",
          "new_line_content": "    switch (test_if_order_by_key(order, table, select->quick->index,",
          "content_same": false
        },
        {
          "line": 4656,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "*group_tmp->item)->const_item()",
          "old_line_content": "      {",
          "new_line_content": "    if (!(*group_tmp->item)->const_item())",
          "content_same": false
        },
        {
          "line": 5169,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(!join_tab[curr_tmp_table].table->group)",
          "old_line_content": "",
          "new_line_content": "      DBUG_ASSERT(!join_tab[curr_tmp_table].table->group); ",
          "content_same": false
        },
        {
          "line": 5171,
          "old_api": null,
          "new_api": "calc_group_buffer",
          "old_text": null,
          "new_text": "calc_group_buffer(this, group_list)",
          "old_line_content": "  {",
          "new_line_content": "    calc_group_buffer(this, group_list);",
          "content_same": false
        },
        {
          "line": 4148,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(can_skip_sorting)",
          "old_line_content": "    above.",
          "new_line_content": "  DBUG_ASSERT(can_skip_sorting);",
          "content_same": false
        },
        {
          "line": 5688,
          "old_api": null,
          "new_api": "make_reverse",
          "old_text": null,
          "new_text": "select->quick->make_reverse(used_key_parts)",
          "old_line_content": "        }",
          "new_line_content": "               select->quick->make_reverse(used_key_parts)))",
          "content_same": false
        },
        {
          "line": 4666,
          "old_api": null,
          "new_api": "ref",
          "old_text": null,
          "new_text": "it.ref()",
          "old_line_content": "        }",
          "new_line_content": "        thd->change_item_tree(it.ref(), new_item);",
          "content_same": false
        },
        {
          "line": 5690,
          "old_api": null,
          "new_api": "set_quick",
          "old_text": null,
          "new_text": "select->set_quick(reverse_quick)",
          "old_line_content": "        {",
          "new_line_content": "          select->set_quick(reverse_quick);",
          "content_same": false
        },
        {
          "line": 4082,
          "old_api": null,
          "new_api": "test_quick_select",
          "old_text": null,
          "new_text": "select->test_quick_select(join->thd, \n                                map, \n                                0,        // empty table_map\n                                join->select_options & OPTION_FOUND_ROWS ?\n                                HA_POS_ERROR :\n                                join->unit->select_limit_cnt,\n                                true,     // force quick range\n                                order->direction)",
          "old_line_content": "                                join->unit->select_limit_cnt,",
          "new_line_content": "      select->test_quick_select(join->thd, ",
          "content_same": false
        },
        {
          "line": 5182,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "items0.is_null()",
          "old_line_content": "                      curr_fields_list->elements, *curr_all_fields);",
          "new_line_content": "    if (items0.is_null())",
          "content_same": false
        },
        {
          "line": 5183,
          "old_api": null,
          "new_api": "init_items_ref_array",
          "old_text": null,
          "new_text": "init_items_ref_array()",
          "old_line_content": "",
          "new_line_content": "      init_items_ref_array();",
          "content_same": false
        },
        {
          "line": 5184,
          "old_api": null,
          "new_api": "ref_ptr_array_slice",
          "old_text": null,
          "new_text": "ref_ptr_array_slice(4)",
          "old_line_content": "    curr_fields_list= &tmp_fields_list3;",
          "new_line_content": "    items3= ref_ptr_array_slice(4);",
          "content_same": false
        },
        {
          "line": 5185,
          "old_api": null,
          "new_api": "setup_copy_fields",
          "old_text": null,
          "new_text": "setup_copy_fields(thd, &tmp_table_param,\n                      items3, tmp_fields_list3, tmp_all_fields3,\n                      curr_fields_list->elements, *curr_all_fields)",
          "old_line_content": "    curr_all_fields= &tmp_all_fields3;",
          "new_line_content": "    setup_copy_fields(thd, &tmp_table_param,",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "it.rewind()",
          "old_line_content": "",
          "new_line_content": "    it.rewind();",
          "content_same": false
        },
        {
          "line": 5701,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(0)",
          "old_line_content": "    /*",
          "new_line_content": "    DBUG_ASSERT(0);",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"JOIN::join_free\")",
          "old_line_content": "       tmp_unit;",
          "new_line_content": "  DBUG_ENTER(\"JOIN::join_free\");",
          "content_same": false
        },
        {
          "line": 5191,
          "old_api": null,
          "new_api": "set_items_ref_array",
          "old_text": null,
          "new_text": "set_items_ref_array(items3)",
          "old_line_content": "      join_tab[primary_tables + tmp_tables - 1].all_fields= &tmp_all_fields3;",
          "new_line_content": "    set_items_ref_array(items3);",
          "content_same": false
        },
        {
          "line": 3654,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "key_part->field->eq(ref_key_part->field)",
          "old_line_content": "/**",
          "new_line_content": "    if (!key_part->field->eq(ref_key_part->field))",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": null,
          "new_api": "prefix_tables",
          "old_text": null,
          "new_text": "tab->prefix_tables()",
          "old_line_content": "",
          "new_line_content": "      if (create_ref_for_key(tab->join, tab, keyuse, tab->prefix_tables()))",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": null,
          "new_api": "and_conditions",
          "old_text": null,
          "new_text": "and_conditions(&m_condition, add_cond)",
          "old_line_content": "  return false;",
          "new_line_content": "  if (and_conditions(&m_condition, add_cond))",
          "content_same": false
        },
        {
          "line": 3148,
          "old_api": null,
          "new_api": "next_unit",
          "old_text": null,
          "new_text": "tmp_unit->next_unit()",
          "old_line_content": "      /*",
          "new_line_content": "       tmp_unit= tmp_unit->next_unit())",
          "content_same": false
        },
        {
          "line": 3149,
          "old_api": null,
          "new_api": "next_select",
          "old_text": null,
          "new_text": "sl->next_select()",
          "old_line_content": "        If this join is evaluated, we can fully clean it up and clean up all",
          "new_line_content": "    for (sl= tmp_unit->first_select(); sl; sl= sl->next_select())",
          "content_same": false
        },
        {
          "line": 3151,
          "old_api": null,
          "new_api": "master_unit",
          "old_text": null,
          "new_text": "sl->master_unit()",
          "old_line_content": "        used any more anyway.",
          "new_line_content": "      Item_subselect *subselect= sl->master_unit()->item;",
          "content_same": false
        },
        {
          "line": 3152,
          "old_api": null,
          "new_api": "is_evaluated",
          "old_text": null,
          "new_text": "subselect->is_evaluated()",
          "old_line_content": "        If this join is not yet evaluated, we still must clean it up to",
          "new_line_content": "      bool full_local= full && (!subselect || subselect->is_evaluated());",
          "content_same": false
        },
        {
          "line": 4177,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->type != JT_REF_OR_NULL && tab->type != JT_FT)",
          "old_line_content": "        (select && select->quick && select->quick!=save_quick);",
          "new_line_content": "      DBUG_ASSERT(tab->type != JT_REF_OR_NULL && tab->type != JT_FT);",
          "content_same": false
        },
        {
          "line": 5713,
          "old_api": null,
          "new_api": "test_if_cheaper_ordering",
          "old_text": null,
          "new_text": "test_if_cheaper_ordering(NULL, order, table,\n                                 table->keys_in_use_for_order_by, -1,\n                                 limit,\n                                 &key, &direction, &limit)",
          "old_line_content": "    {",
          "new_line_content": "    if (test_if_cheaper_ordering(NULL, order, table,",
          "content_same": false
        },
        {
          "line": 5203,
          "old_api": null,
          "new_api": "join_tab-> is_using_agg_loose_index_scan()",
          "old_text": null,
          "new_text": "join_tab-> is_using_agg_loose_index_scan()",
          "old_line_content": "  if (group_list || order)",
          "new_line_content": "                                !join_tab-> is_using_agg_loose_index_scan()))",
          "content_same": false
        },
        {
          "line": 5204,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "  {",
          "new_line_content": "      DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5717,
          "old_api": null,
          "new_api": "is_key_used",
          "old_text": null,
          "new_text": "is_key_used(table, key, table->write_set)",
          "old_line_content": "    }",
          "new_line_content": "        !is_key_used(table, key, table->write_set))",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": null,
          "new_api": "cleanup_all_joins",
          "old_text": null,
          "new_text": "sl->cleanup_all_joins(full_local)",
          "old_line_content": "  /*",
          "new_line_content": "      sl->cleanup_all_joins(full_local);",
          "content_same": false
        },
        {
          "line": 5210,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\",(\"Sorting for send_result_set_metadata\"))",
          "old_line_content": "      // Some tables may have been const",
          "new_line_content": "    DBUG_PRINT(\"info\",(\"Sorting for send_result_set_metadata\"));",
          "content_same": false
        },
        {
          "line": 4188,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->covering_keys.is_set(best_key)",
          "old_line_content": "          select->quick= 0;          // Cleanup either reset to save_quick,",
          "new_line_content": "      if(!table->covering_keys.is_set(best_key))",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": null,
          "new_api": "set_keyread",
          "old_text": null,
          "new_text": "table->set_keyread(false)",
          "old_line_content": "                                     // or 'delete save_quick'",
          "new_line_content": "        table->set_keyread(false);",
          "content_same": false
        },
        {
          "line": 4701,
          "old_api": null,
          "new_api": "head",
          "old_text": null,
          "new_text": "sel_fields.head()",
          "old_line_content": "",
          "new_line_content": "  Item *first_field= sel_fields.head();",
          "content_same": false
        },
        {
          "line": 5216,
          "old_api": null,
          "new_api": "update_used_tables",
          "old_text": null,
          "new_text": "having->update_used_tables()",
          "old_line_content": "                                                 (table_map) 0, false);",
          "new_line_content": "      having->update_used_tables();",
          "content_same": false
        },
        {
          "line": 5220,
          "old_api": null,
          "new_api": "make_cond_for_table",
          "old_text": null,
          "new_text": "make_cond_for_table(having, used_tables,\n                                                 (table_map) 0, false)",
          "old_line_content": "\t  if (!(curr_table->select= new SQL_SELECT))",
          "new_line_content": "      Item* sort_table_cond= make_cond_for_table(having, used_tables,",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": null,
          "new_api": "ha_index_or_rnd_end",
          "old_text": null,
          "new_text": "table->file->ha_index_or_rnd_end()",
          "old_line_content": "            EXPLAIN shows no \"using where\" though real SELECT has one.",
          "new_line_content": "        table->file->ha_index_or_rnd_end();",
          "content_same": false
        },
        {
          "line": 5226,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "\t  if (!(curr_table->select->cond=",
          "new_line_content": "\t    DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5740,
          "old_api": null,
          "new_api": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "old_text": null,
          "new_text": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "old_line_content": "",
          "new_line_content": "  return key_info->table->in_use->",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": null,
          "new_api": "mysql_unlock_read_tables",
          "old_text": null,
          "new_text": "mysql_unlock_read_tables(thd, lock)",
          "old_line_content": "}",
          "new_line_content": "    mysql_unlock_read_tables(thd, lock);           // Don't free join->lock",
          "content_same": false
        },
        {
          "line": 5235,
          "old_api": null,
          "new_api": "fix_fields",
          "old_text": null,
          "new_text": "curr_table->select->cond->fix_fields(thd, 0)",
          "old_line_content": "\t\t\t\t\t \"select and having\",",
          "new_line_content": "\t  curr_table->select->cond->fix_fields(thd, 0);",
          "content_same": false
        },
        {
          "line": 5237,
          "old_api": null,
          "new_api": "set_condition",
          "old_text": null,
          "new_text": "curr_table->set_condition(curr_table->select->cond, __LINE__)",
          "old_line_content": "",
          "new_line_content": "        curr_table->set_condition(curr_table->select->cond, __LINE__);",
          "content_same": false
        },
        {
          "line": 5239,
          "old_api": null,
          "new_api": "print_where",
          "old_text": null,
          "new_text": "print_where(curr_table->select->cond,\n\t\t\t\t\t \"select and having\",\n                                         QT_ORDINARY)",
          "old_line_content": "                                    ~used_tables, false);",
          "new_line_content": "\tDBUG_EXECUTE(\"where\",print_where(curr_table->select->cond,",
          "content_same": false
        },
        {
          "line": 5243,
          "old_api": null,
          "new_api": "make_cond_for_table",
          "old_text": null,
          "new_text": "make_cond_for_table(having, ~ (table_map) 0,\n                                    ~used_tables, false)",
          "old_line_content": "    }",
          "new_line_content": "        having= make_cond_for_table(having, ~ (table_map) 0,",
          "content_same": false
        },
        {
          "line": 4220,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->select->quick)",
          "old_line_content": "        tab->ref.key_parts=0;\t\t// Don't use ref key.",
          "new_line_content": "        DBUG_ASSERT(tab->select->quick);",
          "content_same": false
        },
        {
          "line": 4221,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->select->quick->index==(uint)best_key)",
          "old_line_content": "        tab->read_first_record= join_init_read_record;",
          "new_line_content": "        DBUG_ASSERT(tab->select->quick->index==(uint)best_key);",
          "content_same": false
        },
        {
          "line": 5245,
          "old_api": null,
          "new_api": "DBUG_EXECUTE",
          "old_text": null,
          "new_text": "DBUG_EXECUTE(\"where\",\n                     print_where(having, \"having after sort\", QT_ORDINARY);)",
          "old_line_content": "    if (group)",
          "new_line_content": "        DBUG_EXECUTE(\"where\",",
          "content_same": false
        },
        {
          "line": 5246,
          "old_api": null,
          "new_api": "print_where",
          "old_text": null,
          "new_text": "print_where(having, \"having after sort\", QT_ORDINARY)",
          "old_line_content": "      m_select_limit= HA_POS_ERROR;",
          "new_line_content": "                     print_where(having, \"having after sort\", QT_ORDINARY););",
          "content_same": false
        },
        {
          "line": 5757,
          "old_api": null,
          "new_api": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "old_text": null,
          "new_text": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "old_line_content": "/**",
          "new_line_content": "  return key_info->table->in_use->",
          "content_same": false
        },
        {
          "line": 4227,
          "old_api": null,
          "new_api": "is_using_loose_index_scan",
          "old_text": null,
          "new_text": "tab->is_using_loose_index_scan()",
          "old_line_content": "      }",
          "new_line_content": "        if (tab->is_using_loose_index_scan())",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"JOIN::cleanup\")",
          "old_line_content": "  if (join_tab)",
          "new_line_content": "  DBUG_ENTER(\"JOIN::cleanup\");",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(const_tables <= primary_tables &&\n              primary_tables <= tables)",
          "old_line_content": "    JOIN_TAB *tab,*end;",
          "new_line_content": "  DBUG_ASSERT(const_tables <= primary_tables &&",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": null,
          "new_api": "is_subkey",
          "old_text": null,
          "new_text": "is_subkey(table->key_info[nr].key_part, ref_key_part,\n\t\t  ref_key_part_end)",
          "old_line_content": "      min_length= table->key_info[nr].key_length;",
          "new_line_content": "\tis_subkey(table->key_info[nr].key_part, ref_key_part,",
          "content_same": false
        },
        {
          "line": 3721,
          "old_api": null,
          "new_api": "is_ref_or_null_optimized",
          "old_text": null,
          "new_text": "is_ref_or_null_optimized(tab, nr)",
          "old_line_content": "    }",
          "new_line_content": "        !is_ref_or_null_optimized(tab, nr) &&",
          "content_same": false
        },
        {
          "line": 3722,
          "old_api": null,
          "new_api": "test_if_order_by_key",
          "old_text": null,
          "new_text": "test_if_order_by_key(order, table, nr)",
          "old_line_content": "  }",
          "new_line_content": "\ttest_if_order_by_key(order, table, nr))",
          "content_same": false
        },
        {
          "line": 4747,
          "old_api": null,
          "new_api": "rewind",
          "old_text": null,
          "new_text": "it.rewind()",
          "old_line_content": "\treal_fields= 1;\t\t\t\t// End of hidden fields",
          "new_line_content": "    it.rewind();",
          "content_same": false
        },
        {
          "line": 3215,
          "old_api": null,
          "new_api": "cleanup",
          "old_text": null,
          "new_text": "tab->cleanup()",
          "old_line_content": "      {",
          "new_line_content": "\ttab->cleanup();",
          "content_same": false
        },
        {
          "line": 4240,
          "old_api": null,
          "new_api": "make_reverse",
          "old_text": null,
          "new_text": "select->quick->make_reverse(used_key_parts)",
          "old_line_content": "          goto fix_ICP;",
          "new_line_content": "        QUICK_SELECT_I *tmp= select->quick->make_reverse(used_key_parts);",
          "content_same": false
        },
        {
          "line": 5264,
          "old_api": null,
          "new_api": "condition",
          "old_text": null,
          "new_text": "tab->condition()",
          "old_line_content": "          break;",
          "new_line_content": "        if (tab->condition() ||                                // 1",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "\t/*",
          "new_line_content": "      if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item() &&",
          "content_same": false
        },
        {
          "line": 4757,
          "old_api": null,
          "new_api": "depended_from",
          "old_text": null,
          "new_text": "(Item_sum*) item)->depended_from()",
          "old_line_content": "\t  This is a top level summary function that must be replaced with",
          "new_line_content": "          (!((Item_sum*) item)->depended_from() ||",
          "content_same": false
        },
        {
          "line": 4758,
          "old_api": null,
          "new_api": "depended_from",
          "old_text": null,
          "new_text": "(Item_sum *)item)->depended_from()",
          "old_line_content": "\t  a sum function that is reset for this level.",
          "new_line_content": "           ((Item_sum *)item)->depended_from() == select_lex))",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": null,
          "new_api": "is_created",
          "old_text": null,
          "new_text": "tab->table->is_created()",
          "old_line_content": "          {",
          "new_line_content": "\tif (tab->table->is_created())",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": null,
          "new_api": "set_quick",
          "old_text": null,
          "new_text": "select->set_quick(tmp)",
          "old_line_content": "        /*",
          "new_line_content": "        select->set_quick(tmp);",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "tab->op->type()",
          "old_line_content": "          }",
          "new_line_content": "              tab->op->type() == QEP_operation::OT_TMP_TABLE)",
          "content_same": false
        },
        {
          "line": 3231,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(0)",
          "old_line_content": "      }",
          "new_line_content": "              tab->table->file->print_error(tmp, MYF(0));",
          "content_same": false
        },
        {
          "line": 5279,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\",(\"Sorting for order by/group by\"))",
          "old_line_content": "        join_tab[curr_tmp_table].type != JT_CONST &&",
          "new_line_content": "    DBUG_PRINT(\"info\",(\"Sorting for order by/group by\"));",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": null,
          "new_api": "copy_or_same",
          "old_text": null,
          "new_text": "item->copy_or_same(thd)",
          "old_line_content": "      else ",
          "new_line_content": "\titem= item->copy_or_same(thd);",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": null,
          "new_api": "make_unique",
          "old_text": null,
          "new_text": "(Item_sum*) item)->make_unique()",
          "old_line_content": "      {",
          "new_line_content": "\t((Item_sum*) item)->make_unique();",
          "content_same": false
        },
        {
          "line": 3234,
          "old_api": null,
          "new_api": "free_io_cache",
          "old_text": null,
          "new_text": "free_io_cache(tab->table)",
          "old_line_content": "  /*",
          "new_line_content": "        free_io_cache(tab->table);",
          "content_same": false
        },
        {
          "line": 3235,
          "old_api": null,
          "new_api": "filesort_free_buffers",
          "old_text": null,
          "new_text": "filesort_free_buffers(tab->table, full)",
          "old_line_content": "    We are not using tables anymore",
          "new_line_content": "        filesort_free_buffers(tab->table, full);",
          "content_same": false
        },
        {
          "line": 5290,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "explain_flags.set(order_arg.src, ESP_USING_TMPTABLE)",
          "old_line_content": "        filesort_limit:\t Return only this many rows from filesort().",
          "new_line_content": "        explain_flags.set(order_arg.src, ESP_USING_TMPTABLE);",
          "content_same": false
        },
        {
          "line": 5292,
          "old_api": null,
          "new_api": "add_sorting_to_table",
          "old_text": null,
          "new_text": "add_sorting_to_table(sort_tab, &order_arg)",
          "old_line_content": "        This allows us to use Bounded_queue for queries like:",
          "new_line_content": "      if (add_sorting_to_table(sort_tab, &order_arg))",
          "content_same": false
        },
        {
          "line": 5293,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "          \"select SQL_CALC_FOUND_ROWS * from t1 order by b desc limit 1;\"",
          "new_line_content": "        DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": null,
          "new_api": "delete_elements",
          "old_text": null,
          "new_text": "group_fields.delete_elements()",
          "old_line_content": "    */",
          "new_line_content": "    group_fields.delete_elements();",
          "content_same": false
        },
        {
          "line": 4275,
          "old_api": null,
          "new_api": "need_sorted_output",
          "old_text": null,
          "new_text": "select->quick->need_sorted_output()",
          "old_line_content": "    Cleanup:",
          "new_line_content": "      select->quick->need_sorted_output();",
          "content_same": false
        },
        {
          "line": 3252,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "tmp_table_param.copy_funcs.empty()",
          "old_line_content": "  {",
          "new_line_content": "    tmp_table_param.copy_funcs.empty();",
          "content_same": false
        },
        {
          "line": 4789,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "item->result_type()",
          "old_line_content": "            item= null_item;",
          "new_line_content": "                                                   item->result_type());",
          "content_same": false
        },
        {
          "line": 4793,
          "old_api": null,
          "new_api": "get_tmp_table_field",
          "old_text": null,
          "new_text": "item->get_tmp_table_field()",
          "old_line_content": "      }",
          "new_line_content": "            null_item->result_field= item->get_tmp_table_field();",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": null,
          "new_api": "set_items_ref_array",
          "old_text": null,
          "new_text": "set_items_ref_array(items0)",
          "old_line_content": "",
          "new_line_content": "    set_items_ref_array(items0);",
          "content_same": false
        },
        {
          "line": 5306,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "        INDEX SCAN and no filesort. Thus we should not remove the sorted",
          "new_line_content": "    if (!plan_is_const() &&",
          "content_same": false
        },
        {
          "line": 4803,
          "old_api": null,
          "new_api": "replace",
          "old_text": null,
          "new_text": "new_it.replace(item)",
          "old_line_content": "    }",
          "new_line_content": "\tnew_it.replace(item);\t\t\t// Replace previous",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->type == type)",
          "old_line_content": "      if (quick != NULL)",
          "new_line_content": "    DBUG_ASSERT(tab->type == type);",
          "content_same": false
        },
        {
          "line": 5319,
          "old_api": null,
          "new_api": "set_items_ref_array",
          "old_text": null,
          "new_text": "set_items_ref_array(items0)",
          "old_line_content": "",
          "new_line_content": "  set_items_ref_array(items0);",
          "content_same": false
        },
        {
          "line": 5322,
          "old_api": null,
          "new_api": "setup_end_select_func",
          "old_text": null,
          "new_text": "setup_end_select_func(this, NULL)",
          "old_line_content": "",
          "new_line_content": "      setup_end_select_func(this, NULL);",
          "content_same": false
        },
        {
          "line": 4299,
          "old_api": null,
          "new_api": "add_utf8_table",
          "old_text": null,
          "new_text": "trace_change_index.add_utf8_table(tab->table)\n    .add(\"index_provides_order\", can_skip_sorting)\n    .add_alnum(\"order_direction\", order_direction == 1 ? \"asc\" :\n               ((order_direction == -1) ? \"desc\" :\n                \"undefined\"))",
          "old_line_content": "",
          "new_line_content": "  trace_change_index.add_utf8_table(tab->table)",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->use_quick == use_quick)",
          "old_line_content": "private:",
          "new_line_content": "    DBUG_ASSERT(tab->use_quick == use_quick);",
          "content_same": false
        },
        {
          "line": 5325,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(false)",
          "old_line_content": "  @brief Add Filesort object to the given table to sort if with filesort",
          "new_line_content": "  DBUG_RETURN(false);",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->ref.key == ref_key)",
          "old_line_content": "  const JOIN_TAB *tab;            ///< table, or NULL if changes are allowed",
          "new_line_content": "    DBUG_ASSERT(tab->ref.key == ref_key);",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->ref.key_parts == ref_key_parts)",
          "old_line_content": "  enum join_type type;            ///< copy of tab->type",
          "new_line_content": "    DBUG_ASSERT(tab->ref.key_parts == ref_key_parts);",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab->index == index)",
          "old_line_content": "  // \"Range / index merge\" info",
          "new_line_content": "    DBUG_ASSERT(tab->index == index);",
          "content_same": false
        },
        {
          "line": 3289,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(!order->item[0]->with_sum_func)",
          "old_line_content": "      if (prev)",
          "new_line_content": "    DBUG_ASSERT(!order->item[0]->with_sum_func); // should never happen",
          "content_same": false
        },
        {
          "line": 4826,
          "old_api": null,
          "new_api": "mark_as_null_row",
          "old_text": null,
          "new_text": "mark_as_null_row(table)",
          "old_line_content": "  if (sum_funcs)",
          "new_line_content": "      mark_as_null_row(table);",
          "content_same": false
        },
        {
          "line": 3290,
          "old_api": null,
          "new_api": "const_expression_in_where",
          "old_text": null,
          "new_text": "const_expression_in_where(where, order->item[0])",
          "old_line_content": "        prev->next= order;",
          "new_line_content": "    if (!const_expression_in_where(where, order->item[0]))",
          "content_same": false
        },
        {
          "line": 4829,
          "old_api": null,
          "new_api": "copy_fields",
          "old_text": null,
          "new_text": "copy_fields(&tmp_table_param)",
          "old_line_content": "    while ((func= *(func_ptr++)))",
          "new_line_content": "  copy_fields(&tmp_table_param);",
          "content_same": false
        },
        {
          "line": 4319,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_change_index.add(\"disabled_pushed_condition_on_old_index\", true)",
          "old_line_content": "        const char *new_type= tab->type == JT_INDEX_SCAN ? \"index_scan\" :",
          "new_line_content": "        trace_change_index.add(\"disabled_pushed_condition_on_old_index\", true);",
          "content_same": false
        },
        {
          "line": 4320,
          "old_api": null,
          "new_api": "add_utf8",
          "old_text": null,
          "new_text": "trace_change_index.add_utf8(\"index\", table->key_info[changed_key].name)",
          "old_line_content": "          (tab->select && tab->select->quick) ?",
          "new_line_content": "      trace_change_index.add_utf8(\"index\", table->key_info[changed_key].name);",
          "content_same": false
        },
        {
          "line": 4321,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "trace_change_index.add(\"plan_changed\", !no_changes)",
          "old_line_content": "          \"range\" : join_type_str[tab->type];",
          "new_line_content": "      trace_change_index.add(\"plan_changed\", !no_changes);",
          "content_same": false
        },
        {
          "line": 5343,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "explain_flags.set(order->src, ESP_USING_FILESORT)",
          "old_line_content": "    Select was moved to filesort->select to force join_init_read_record to use",
          "new_line_content": "  explain_flags.set(order->src, ESP_USING_FILESORT);",
          "content_same": false
        },
        {
          "line": 4835,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "func->clear()",
          "old_line_content": "/**",
          "new_line_content": "      func->clear();",
          "content_same": false
        },
        {
          "line": 4327,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "trace_change_index.add_alnum(\"access_type\", new_type)",
          "old_line_content": "  {",
          "new_line_content": "        trace_change_index.add_alnum(\"access_type\", new_type);",
          "content_same": false
        },
        {
          "line": 5354,
          "old_api": null,
          "new_api": "set_condition",
          "old_text": null,
          "new_text": "tab->set_condition(NULL, __LINE__)",
          "old_line_content": "",
          "new_line_content": "    tab->set_condition(NULL, __LINE__);",
          "content_same": false
        },
        {
          "line": 4333,
          "old_api": null,
          "new_api": "add_utf8",
          "old_text": null,
          "new_text": "trace_change_index.add_utf8(\"index\",\n                                ref_key >= 0 ?\n                                table->key_info[ref_key].name : \"unknown\")",
          "old_line_content": "  if (orig_cond_saved)",
          "new_line_content": "    trace_change_index.add_utf8(\"index\",",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": null,
          "new_api": "set_jt_and_sel_condition",
          "old_text": null,
          "new_text": "tab->set_jt_and_sel_condition(orig_cond, __LINE__)",
          "old_line_content": "",
          "new_line_content": "    tab->set_jt_and_sel_condition(orig_cond, __LINE__);",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(can_skip_sorting)",
          "old_line_content": "/**",
          "new_line_content": "  DBUG_RETURN(can_skip_sorting);",
          "content_same": false
        },
        {
          "line": 4856,
          "old_api": null,
          "new_api": "prepare2",
          "old_text": null,
          "new_text": "result->prepare2()",
          "old_line_content": "}",
          "new_line_content": "      result->prepare2())",
          "content_same": false
        },
        {
          "line": 4858,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "",
          "new_line_content": "    DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 4860,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "  Init tmp tables usage info.",
          "new_line_content": "  DBUG_RETURN(FALSE);",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "r->const_item()",
          "old_line_content": "       /* and must have the same collation if compared as strings */",
          "new_line_content": "  return r->const_item() &&",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": null,
          "new_api": "Arg_comparator::can_compare_as_dates(l, r, 0)",
          "old_text": null,
          "new_text": "Arg_comparator::can_compare_as_dates(l, r, 0)",
          "old_line_content": "        l->collation.collation == r->collation.collation)));",
          "new_line_content": "     (Arg_comparator::can_compare_as_dates(l, r, 0) ||",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "l->result_type()",
          "old_line_content": "",
          "new_line_content": "      (r->result_type() == l->result_type() &&",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "l->result_type()",
          "old_line_content": "/*",
          "new_line_content": "       (l->result_type() != STRING_RESULT ||",
          "content_same": false
        },
        {
          "line": 4369,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "field->const_item()",
          "old_line_content": "        {",
          "new_line_content": "      if (! field->const_item())",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": null,
          "new_api": "real_item",
          "old_text": null,
          "new_text": "field->real_item()",
          "old_line_content": "            param->quick_group=0;\t\t\t// UDF SUM function",
          "new_line_content": "\tItem_sum *sum_item=(Item_sum*) field->real_item();",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": null,
          "new_api": "depended_from",
          "old_text": null,
          "new_text": "sum_item->depended_from()",
          "old_line_content": "          param->sum_func_count++;",
          "new_line_content": "        if (!sum_item->depended_from() ||",
          "content_same": false
        },
        {
          "line": 4373,
          "old_api": null,
          "new_api": "depended_from",
          "old_text": null,
          "new_text": "sum_item->depended_from()",
          "old_line_content": "",
          "new_line_content": "            sum_item->depended_from() == select_lex)",
          "content_same": false
        },
        {
          "line": 5397,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"test_if_cheaper_ordering\")",
          "old_line_content": "    It may be the case if ORDER/GROUP BY is used with LIMIT.",
          "new_line_content": "  DBUG_ENTER(\"test_if_cheaper_ordering\");",
          "content_same": false
        },
        {
          "line": 3863,
          "old_api": null,
          "new_api": "LINT_INIT",
          "old_text": null,
          "new_text": "LINT_INIT(ref_key_parts)",
          "old_line_content": "",
          "new_line_content": "  LINT_INIT(ref_key_parts);",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": null,
          "new_api": "LINT_INIT",
          "old_text": null,
          "new_text": "LINT_INIT(orig_cond)",
          "old_line_content": "  Plan_change_watchdog watchdog(tab, no_changes);",
          "new_line_content": "  LINT_INIT(orig_cond);",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "i1->eq(i2, 1)",
          "old_line_content": "}",
          "new_line_content": "    return i1->eq(i2, 1);",
          "content_same": false
        },
        {
          "line": 4379,
          "old_api": null,
          "new_api": "get_arg_count",
          "old_text": null,
          "new_text": "sum_item->get_arg_count()",
          "old_line_content": "              param->func_count++;",
          "new_line_content": "          for (uint i=0 ; i < sum_item->get_arg_count() ; i++)",
          "content_same": false
        },
        {
          "line": 3355,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "i1->type()",
          "old_line_content": "",
          "new_line_content": "  else if (i1->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 4381,
          "old_api": null,
          "new_api": "get_arg",
          "old_text": null,
          "new_text": "sum_item->get_arg(i)->real_item()->type()",
          "old_line_content": "        }",
          "new_line_content": "            if (sum_item->get_arg(i)->real_item()->type() == Item::FIELD_ITEM)",
          "content_same": false
        },
        {
          "line": 3356,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "f2->eq(((Item_field *) i1)->field)",
          "old_line_content": "",
          "new_line_content": "    return f2->eq(((Item_field *) i1)->field);",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(tab == tab->join->join_tab + tab->join->const_tables)",
          "old_line_content": "  if (tab->type == JT_EQ_REF ||",
          "new_line_content": "  DBUG_ASSERT(tab == tab->join->join_tab + tab->join->const_tables); ",
          "content_same": false
        },
        {
          "line": 4898,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"JOIN::make_tmp_tables_info\")",
          "old_line_content": "    Setup last table to provide fields and all_fields lists to the next",
          "new_line_content": "  DBUG_ENTER(\"JOIN::make_tmp_tables_info\");",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(1)",
          "old_line_content": "    been taken into account.",
          "new_line_content": "    DBUG_RETURN(1);",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": null,
          "new_api": "real_item",
          "old_text": null,
          "new_text": "*tmp_order->item)->real_item()",
          "old_line_content": "    }",
          "new_line_content": "    Item *item= (*tmp_order->item)->real_item();",
          "content_same": false
        },
        {
          "line": 5427,
          "old_api": null,
          "new_api": "keys_to_use_for_scanning",
          "old_text": null,
          "new_text": "table->file->keys_to_use_for_scanning()",
          "old_line_content": "      if any.",
          "new_line_content": "    keys= *table->file->keys_to_use_for_scanning();",
          "content_same": false
        },
        {
          "line": 5428,
          "old_api": null,
          "new_api": "merge",
          "old_text": null,
          "new_text": "keys.merge(table->covering_keys)",
          "old_line_content": "      This is to allow users to use index in ORDER BY.",
          "new_line_content": "    keys.merge(table->covering_keys);",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT((comp_item == NULL) ^ (comp_field == NULL))",
          "old_line_content": "",
          "new_line_content": "  DBUG_ASSERT((comp_item == NULL) ^ (comp_field == NULL));",
          "content_same": false
        },
        {
          "line": 3891,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  }",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": null,
          "new_api": "intersect",
          "old_text": null,
          "new_text": "usable_keys.intersect(((Item_field*) item)->field->part_of_sortkey)",
          "old_line_content": "  ref_key= -1;",
          "new_line_content": "    usable_keys.intersect(((Item_field*) item)->field->part_of_sortkey);",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": null,
          "new_api": "is_clear_all",
          "old_text": null,
          "new_text": "usable_keys.is_clear_all()",
          "old_line_content": "  /* Test if constant range in WHERE */",
          "new_line_content": "    if (usable_keys.is_clear_all())",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  if (tab->ref.key >= 0 && tab->ref.key_parts)",
          "new_line_content": "      DBUG_RETURN(0);\t\t\t\t\t// No usable keys",
          "content_same": false
        },
        {
          "line": 4922,
          "old_api": null,
          "new_api": "is_using_loose_index_scan",
          "old_text": null,
          "new_text": "join_tab->is_using_loose_index_scan()",
          "old_line_content": "  if (need_tmp)",
          "new_line_content": "  if (join_tab && join_tab->is_using_loose_index_scan())",
          "content_same": false
        },
        {
          "line": 3387,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cond->type()",
          "old_line_content": "    Item *item;",
          "new_line_content": "  if (cond->type() == Item::COND_ITEM)",
          "content_same": false
        },
        {
          "line": 4924,
          "old_api": null,
          "new_api": "is_using_agg_loose_index_scan",
          "old_text": null,
          "new_text": "join_tab->is_using_agg_loose_index_scan()",
          "old_line_content": "    curr_tmp_table= primary_tables;",
          "new_line_content": "      !join_tab->is_using_agg_loose_index_scan();",
          "content_same": false
        },
        {
          "line": 5436,
          "old_api": null,
          "new_api": "merge",
          "old_text": null,
          "new_text": "keys.merge(group ? table->keys_in_use_for_group_by :\n                         table->keys_in_use_for_order_by)",
          "old_line_content": "    keys= usable_keys;",
          "new_line_content": "      keys.merge(group ? table->keys_in_use_for_group_by :",
          "content_same": false
        },
        {
          "line": 3389,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "(Item_cond*) cond)->functype()",
          "old_line_content": "    {",
          "new_line_content": "    bool and_level= (((Item_cond*) cond)->functype()",
          "content_same": false
        },
        {
          "line": 5438,
          "old_api": null,
          "new_api": "intersect",
          "old_text": null,
          "new_text": "keys.intersect(usable_keys)",
          "old_line_content": "  if (join)",
          "new_line_content": "    keys.intersect(usable_keys);",
          "content_same": false
        },
        {
          "line": 3391,
          "old_api": null,
          "new_api": "argument_list",
          "old_text": null,
          "new_text": "(Item_cond*) cond)->argument_list()",
          "old_line_content": "                                         const_item);",
          "new_line_content": "    List_iterator_fast<Item> li(*((Item_cond*) cond)->argument_list());",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": null,
          "new_api": "test",
          "old_text": null,
          "new_text": "test(!b)",
          "old_line_content": "*/",
          "new_line_content": "  return test(!b);",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  {",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 4931,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "      (Will be reused if this is a subquery that is executed several times.)",
          "new_line_content": "    if (plan_is_const())",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "const_expression_in_where",
          "old_text": null,
          "new_text": "const_expression_in_where(item, comp_item, comp_field,\n                                         const_item)",
          "old_line_content": "\t  return 1;",
          "new_line_content": "      bool res=const_expression_in_where(item, comp_item, comp_field,",
          "content_same": false
        },
        {
          "line": 3909,
          "old_api": null,
          "new_api": "get_type",
          "old_text": null,
          "new_text": "select->quick->get_type()",
          "old_line_content": "    */",
          "new_line_content": "    int quick_type= select->quick->get_type();",
          "content_same": false
        },
        {
          "line": 4938,
          "old_api": null,
          "new_api": "init_items_ref_array",
          "old_text": null,
          "new_text": "init_items_ref_array()",
          "old_line_content": "      ",
          "new_line_content": "    init_items_ref_array();",
          "content_same": false
        },
        {
          "line": 5451,
          "old_api": null,
          "new_api": "scan_time",
          "old_text": null,
          "new_text": "table->file->scan_time()",
          "old_line_content": "  */",
          "new_line_content": "    read_time= table->file->scan_time();",
          "content_same": false
        },
        {
          "line": 3407,
          "old_api": null,
          "new_api": "eq_cmp_result",
          "old_text": null,
          "new_text": "cond->eq_cmp_result()",
          "old_line_content": "      return 0;",
          "new_line_content": "  else if (cond->eq_cmp_result() != Item::COND_OK)",
          "content_same": false
        },
        {
          "line": 3919,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  /*",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": null,
          "new_api": "get_tmp_table_field",
          "old_text": null,
          "new_text": "group_item->get_tmp_table_field()",
          "old_line_content": "\tkey_length+=MAX_BLOB_WIDTH;\t\t// Can't be used as a key",
          "new_line_content": "    Field *field= group_item->get_tmp_table_field();",
          "content_same": false
        },
        {
          "line": 4947,
          "old_api": null,
          "new_api": "create_intermediate_table",
          "old_text": null,
          "new_text": "create_intermediate_table(&join_tab[curr_tmp_table],\n                                  &all_fields, tmp_group, \n                                  group_list && simple_group)",
          "old_line_content": "",
          "new_line_content": "    if (create_intermediate_table(&join_tab[curr_tmp_table],",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": null,
          "new_api": "functype",
          "old_text": null,
          "new_text": "func->functype()",
          "old_line_content": "    {",
          "new_line_content": "\tfunc->functype() != Item_func::EQ_FUNC)",
          "content_same": false
        },
        {
          "line": 5459,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->quick_keys.is_set(ref_key)",
          "old_line_content": "      refkey_rows_estimate= ref_keyinfo->rec_per_key[tab->ref.key_parts - 1];",
          "new_line_content": "    if (table->quick_keys.is_set(ref_key))",
          "content_same": false
        },
        {
          "line": 4438,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "field->type()",
          "old_line_content": "      {",
          "new_line_content": "      if ((type= field->type()) == MYSQL_TYPE_BLOB)",
          "content_same": false
        },
        {
          "line": 4950,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "",
          "new_line_content": "      DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 3413,
          "old_api": null,
          "new_api": "arguments",
          "old_text": null,
          "new_text": "(Item_func*) cond)->arguments()",
          "old_line_content": "      {",
          "new_line_content": "    Item *left_item=\t((Item_func*) cond)->arguments()[0];",
          "content_same": false
        },
        {
          "line": 3414,
          "old_api": null,
          "new_api": "arguments",
          "old_text": null,
          "new_text": "(Item_func*) cond)->arguments()",
          "old_line_content": "\tif (*const_item)",
          "new_line_content": "    Item *right_item= ((Item_func*) cond)->arguments()[1];",
          "content_same": false
        },
        {
          "line": 4954,
          "old_api": null,
          "new_api": "optimize_distinct",
          "old_text": null,
          "new_text": "optimize_distinct()",
          "old_line_content": "      Exception: LooseScan strategy for semijoin requires",
          "new_line_content": "      optimize_distinct();",
          "content_same": false
        },
        {
          "line": 3417,
          "old_api": null,
          "new_api": "test_if_equality_guarantees_uniqueness (left_item, right_item)",
          "old_text": null,
          "new_text": "test_if_equality_guarantees_uniqueness (left_item, right_item)",
          "old_line_content": "\treturn 1;",
          "new_line_content": "      if (test_if_equality_guarantees_uniqueness (left_item, right_item))",
          "content_same": false
        },
        {
          "line": 5466,
          "old_api": null,
          "new_api": "set_if_bigger",
          "old_text": null,
          "new_text": "set_if_bigger(refkey_rows_estimate, 1)",
          "old_line_content": "    uint used_key_parts;",
          "new_line_content": "    set_if_bigger(refkey_rows_estimate, 1);",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "set_jt_and_sel_condition",
          "old_text": null,
          "new_text": "tab->set_jt_and_sel_condition(tab->pre_idx_push_cond, __LINE__)",
          "old_line_content": "  Opt_trace_object trace_wrapper(trace);",
          "new_line_content": "      tab->set_jt_and_sel_condition(tab->pre_idx_push_cond, __LINE__);",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": null,
          "new_api": "pack_length",
          "old_text": null,
          "new_text": "field->pack_length()",
          "old_line_content": "      case REAL_RESULT:",
          "new_line_content": "\tkey_length+= field->pack_length();",
          "content_same": false
        },
        {
          "line": 5473,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "keys.is_set(nr)",
          "old_line_content": "        key (where \"ordering key\" is a key that will return rows",
          "new_line_content": "    if (keys.is_set(nr) &&",
          "content_same": false
        },
        {
          "line": 4962,
          "old_api": null,
          "new_api": "use_order",
          "old_text": null,
          "new_text": "DBUG_ASSERT(\n      !(ordered_index_usage == ordered_index_void &&\n        !plan_is_const() && \n        join_tab[const_tables].position->sj_strategy != SJ_OPT_LOOSE_SCAN &&\n        join_tab[const_tables].use_order()))",
          "old_line_content": "",
          "new_line_content": "    DBUG_ASSERT(",
          "content_same": false
        },
        {
          "line": 3427,
          "old_api": null,
          "new_api": "test_if_equality_guarantees_uniqueness (right_item, left_item)",
          "old_text": null,
          "new_text": "test_if_equality_guarantees_uniqueness (right_item, left_item)",
          "old_line_content": "\treturn 1;",
          "new_line_content": "      if (test_if_equality_guarantees_uniqueness (right_item, left_item))",
          "content_same": false
        },
        {
          "line": 4452,
          "old_api": null,
          "new_api": "result_type",
          "old_text": null,
          "new_text": "group_item->result_type()",
          "old_line_content": "        key_length+= sizeof(longlong);",
          "new_line_content": "      switch (group_item->result_type()) {",
          "content_same": false
        },
        {
          "line": 4964,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "      We don't have to store rows in temp table that doesn't match HAVING if:",
          "new_line_content": "        !plan_is_const() && ",
          "content_same": false
        },
        {
          "line": 4966,
          "old_api": null,
          "new_api": "use_order",
          "old_text": null,
          "new_text": "join_tab[const_tables].use_order()",
          "old_line_content": "        temp table.",
          "new_line_content": "        join_tab[const_tables].use_order()));",
          "content_same": false
        },
        {
          "line": 5474,
          "old_api": null,
          "new_api": "test_if_order_by_key",
          "old_text": null,
          "new_text": "test_if_order_by_key(order, table, nr, &used_key_parts)",
          "old_line_content": "        in the order required by ORDER BY).",
          "new_line_content": "        (direction= test_if_order_by_key(order, table, nr, &used_key_parts)))",
          "content_same": false
        },
        {
          "line": 3430,
          "old_api": null,
          "new_api": "eq",
          "old_text": null,
          "new_text": "left_item->eq(*const_item, 1)",
          "old_line_content": "  }",
          "new_line_content": "\t  return left_item->eq(*const_item, 1);",
          "content_same": false
        },
        {
          "line": 5481,
          "old_api": null,
          "new_api": "DBUG_ASSERT (ref_key != (int) nr)",
          "old_text": null,
          "new_text": "DBUG_ASSERT (ref_key != (int) nr)",
          "old_line_content": "      ",
          "new_line_content": "      DBUG_ASSERT (ref_key != (int) nr);",
          "content_same": false
        },
        {
          "line": 3941,
          "old_api": null,
          "new_api": "add_alnum",
          "old_text": null,
          "new_text": "trace_skip_sort_order.add_alnum(\"clause\", clause_type)",
          "old_line_content": "      We come here when there is a {ref or or ordered range access} key.",
          "new_line_content": "  trace_skip_sort_order.add_alnum(\"clause\", clause_type);",
          "content_same": false
        },
        {
          "line": 5483,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->covering_keys.is_set(nr)",
          "old_line_content": "        Don't use an index scan with ORDER BY without limit.",
          "new_line_content": "      bool is_covering= table->covering_keys.is_set(nr) ||",
          "content_same": false
        },
        {
          "line": 4460,
          "old_api": null,
          "new_api": "my_decimal_get_binary_size",
          "old_text": null,
          "new_text": "my_decimal_get_binary_size(group_item->max_length - \n                                                (group_item->decimals ? 1 : 0),\n                                                group_item->decimals)",
          "old_line_content": "      {",
          "new_line_content": "        key_length+= my_decimal_get_binary_size(group_item->max_length - ",
          "content_same": false
        },
        {
          "line": 5485,
          "old_api": null,
          "new_api": "primary_key_is_clustered",
          "old_text": null,
          "new_text": "table->file->primary_key_is_clustered()",
          "old_line_content": "        if there is a suitable index. ",
          "new_line_content": "                        table->file->primary_key_is_clustered());",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "usable_keys.is_set(ref_key)",
          "old_line_content": "      */",
          "new_line_content": "    if (!usable_keys.is_set(ref_key))",
          "content_same": false
        },
        {
          "line": 4070,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "tab->quick_order_tested.is_set(best_key)",
          "old_line_content": "        trace_recest(trace, \"rows_estimation\");",
          "new_line_content": "        !tab->quick_order_tested.is_set(best_key) &&",
          "content_same": false
        },
        {
          "line": 4471,
          "old_api": null,
          "new_api": "is_temporal",
          "old_text": null,
          "new_text": "group_item->is_temporal()",
          "old_line_content": "          key_length+= MAX_BLOB_WIDTH;\t\t// Can't be used as a key",
          "new_line_content": "        if (group_item->is_temporal())",
          "content_same": false
        },
        {
          "line": 3959,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->covering_keys.is_set(ref_key)",
          "old_line_content": "      {",
          "new_line_content": "      if (table->covering_keys.is_set(ref_key))",
          "content_same": false
        },
        {
          "line": 3960,
          "old_api": null,
          "new_api": "intersect",
          "old_text": null,
          "new_text": "usable_keys.intersect(table->covering_keys)",
          "old_line_content": "\t/* Found key that can be used to retrieve data in sorted order */",
          "new_line_content": "\tusable_keys.intersect(table->covering_keys);",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": null,
          "new_api": "test_if_subkey",
          "old_text": null,
          "new_text": "test_if_subkey(order, tab, ref_key, ref_key_parts,\n\t\t\t\t       &usable_keys)",
          "old_line_content": "        {",
          "new_line_content": "      if ((new_ref_key= test_if_subkey(order, tab, ref_key, ref_key_parts,",
          "content_same": false
        },
        {
          "line": 4475,
          "old_api": null,
          "new_api": "field_type",
          "old_text": null,
          "new_text": "group_item->field_type()",
          "old_line_content": "            Group strings are taken as varstrings and require an length field.",
          "new_line_content": "        else if (group_item->field_type() == MYSQL_TYPE_BLOB)",
          "content_same": false
        },
        {
          "line": 4988,
          "old_api": null,
          "new_api": "ref_ptr_array_slice",
          "old_text": null,
          "new_text": "ref_ptr_array_slice(2)",
          "old_line_content": "                                   tmp_fields_list1, tmp_all_fields1,",
          "new_line_content": "    items1= ref_ptr_array_slice(2);",
          "content_same": false
        },
        {
          "line": 4992,
          "old_api": null,
          "new_api": "change_to_use_tmp_fields",
          "old_text": null,
          "new_text": "change_to_use_tmp_fields(thd, items1,\n                                   tmp_fields_list1, tmp_all_fields1,\n                                   fields_list.elements, all_fields)",
          "old_line_content": "    else",
          "new_line_content": "      if (change_to_use_tmp_fields(thd, items1,",
          "content_same": false
        },
        {
          "line": 4995,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "                                    tmp_fields_list1, tmp_all_fields1,",
          "new_line_content": "        DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 4999,
          "old_api": null,
          "new_api": "change_refs_to_tmp_fields",
          "old_text": null,
          "new_text": "change_refs_to_tmp_fields(thd, items1,\n                                    tmp_fields_list1, tmp_all_fields1,\n                                    fields_list.elements, all_fields)",
          "old_line_content": "    curr_all_fields= &tmp_all_fields1;",
          "new_line_content": "      if (change_refs_to_tmp_fields(thd, items1,",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": null,
          "new_api": "DBUG_ASSERT",
          "old_text": null,
          "new_text": "DBUG_ASSERT(0)",
          "old_line_content": "    if (group_item->maybe_null)",
          "new_line_content": "        DBUG_ASSERT(0);",
          "content_same": false
        },
        {
          "line": 4491,
          "old_api": null,
          "new_api": "MYF",
          "old_text": null,
          "new_text": "MYF(ME_FATALERROR)",
          "old_line_content": "      null_parts++;",
          "new_line_content": "        my_error(ER_OUT_OF_RESOURCES, MYF(ME_FATALERROR));",
          "content_same": false
        },
        {
          "line": 5514,
          "old_api": null,
          "new_api": "actual_key_parts",
          "old_text": null,
          "new_text": "actual_key_parts(keyinfo)",
          "old_line_content": "            rec_per_key records produces only one row that will",
          "new_line_content": "                       used_key_parts <= actual_key_parts(keyinfo) ?",
          "content_same": false
        },
        {
          "line": 5516,
          "old_api": null,
          "new_api": "set_if_bigger",
          "old_text": null,
          "new_text": "set_if_bigger(rec_per_key, 1)",
          "old_line_content": "          */  ",
          "new_line_content": "          set_if_bigger(rec_per_key, 1);",
          "content_same": false
        },
        {
          "line": 5007,
          "old_api": null,
          "new_api": "set_items_ref_array",
          "old_text": null,
          "new_text": "set_items_ref_array(items1)",
          "old_line_content": " ",
          "new_line_content": "    set_items_ref_array(items1);",
          "content_same": false
        },
        {
          "line": 5011,
          "old_api": null,
          "new_api": "setup_tmptable_write_func",
          "old_text": null,
          "new_text": "setup_tmptable_write_func(&join_tab[curr_tmp_table])",
          "old_line_content": "    {",
          "new_line_content": "    setup_tmptable_write_func(&join_tab[curr_tmp_table]);",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"test_if_order_by_key\")",
          "old_line_content": "    int flag;",
          "new_line_content": "  DBUG_ENTER(\"test_if_order_by_key\");",
          "content_same": false
        },
        {
          "line": 5525,
          "old_api": null,
          "new_api": "ha_rows) (select_limit*rec_per_key)",
          "old_text": null,
          "new_text": "ha_rows) (select_limit*rec_per_key)",
          "old_line_content": "          only L/fanout(tk,tn) where fanout(tk,tn) says how many",
          "new_line_content": "            select_limit= (ha_rows) (select_limit*rec_per_key);",
          "content_same": false
        },
        {
          "line": 3479,
          "old_api": null,
          "new_api": "real_item",
          "old_text": null,
          "new_text": "*order->item)->real_item()",
          "old_line_content": "      These are already skipped in the ORDER BY by const_expression_in_where()",
          "new_line_content": "    Field *field=((Item_field*) (*order->item)->real_item())->field;",
          "content_same": false
        },
        {
          "line": 3997,
          "old_api": null,
          "new_api": "set_bit",
          "old_text": null,
          "new_text": "new_ref_key_map.set_bit(new_ref_key)",
          "old_line_content": "          add_utf8(\"index\", table->key_info[new_ref_key].name);",
          "new_line_content": "          new_ref_key_map.set_bit(new_ref_key); // only for new_ref_key.",
          "content_same": false
        },
        {
          "line": 5537,
          "old_api": null,
          "new_api": "ha_rows) (select_limit < fanout ?\n                                 1 : select_limit/fanout)",
          "old_text": null,
          "new_text": "ha_rows) (select_limit < fanout ?\n                                 1 : select_limit/fanout)",
          "old_line_content": "          N/selectivity(ref_key) index entries. ",
          "new_line_content": "        select_limit= (ha_rows) (select_limit < fanout ?",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": null,
          "new_api": "add_utf8_table",
          "old_text": null,
          "new_text": "trace_recest.add_utf8_table(tab->table).\n          add_utf8(\"index\", table->key_info[new_ref_key].name)",
          "old_line_content": "                                        0,       // empty table_map",
          "new_line_content": "          trace_recest.add_utf8_table(tab->table).",
          "content_same": false
        },
        {
          "line": 4004,
          "old_api": null,
          "new_api": "test_quick_select",
          "old_text": null,
          "new_text": "select->test_quick_select(tab->join->thd, \n                                        new_ref_key_map, \n                                        0,       // empty table_map\n                                        (tab->join->select_options &\n                                         OPTION_FOUND_ROWS) ?\n                                        HA_POS_ERROR :\n                                        tab->join->unit->select_limit_cnt,\n                                        false,   // don't force quick range\n                                        order->direction)",
          "old_line_content": "                                        HA_POS_ERROR :",
          "new_line_content": "          if (select->test_quick_select(tab->join->thd, ",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"alloc_func_list\")",
          "old_line_content": "    each level",
          "new_line_content": "  DBUG_ENTER(\"alloc_func_list\");",
          "content_same": false
        },
        {
          "line": 3497,
          "old_api": null,
          "new_api": "ha_table_flags",
          "old_text": null,
          "new_text": "table->file->ha_table_flags()",
          "old_line_content": "        key_part= table->key_info[table->s->primary_key].key_part;",
          "new_line_content": "          (table->file->ha_table_flags() & HA_PRIMARY_KEY_IN_READ_INDEX) &&",
          "content_same": false
        },
        {
          "line": 5039,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\",(\"Creating group table\"))",
          "old_line_content": "      tmp_table_param.hidden_field_count= ",
          "new_line_content": "      DBUG_PRINT(\"info\",(\"Creating group table\"));",
          "content_same": false
        },
        {
          "line": 5552,
          "old_api": null,
          "new_api": "ha_rows) (select_limit *\n                                   (double) table_records /\n                                    refkey_rows_estimate)",
          "old_text": null,
          "new_text": "ha_rows) (select_limit *\n                                   (double) table_records /\n                                    refkey_rows_estimate)",
          "old_line_content": "        /*",
          "new_line_content": "          select_limit= (ha_rows) (select_limit *",
          "content_same": false
        },
        {
          "line": 5041,
          "old_api": null,
          "new_api": "calc_group_buffer",
          "old_text": null,
          "new_text": "calc_group_buffer(this, group_list)",
          "old_line_content": "      ",
          "new_line_content": "      calc_group_buffer(this, group_list);",
          "content_same": false
        },
        {
          "line": 5042,
          "old_api": null,
          "new_api": "count_field_types",
          "old_text": null,
          "new_text": "count_field_types(select_lex, &tmp_table_param, tmp_all_fields1,\n                        select_distinct && !group_list)",
          "old_line_content": "      if (!exec_tmp_table->group && !exec_tmp_table->distinct)",
          "new_line_content": "      count_field_types(select_lex, &tmp_table_param, tmp_all_fields1,",
          "content_same": false
        },
        {
          "line": 5556,
          "old_api": null,
          "new_api": "set_if_bigger",
          "old_text": null,
          "new_text": "set_if_bigger(rec_per_key, 1)",
          "old_line_content": "          by rowid/primary key. When reading the data",
          "new_line_content": "        set_if_bigger(rec_per_key, 1);",
          "content_same": false
        },
        {
          "line": 4023,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "usable_keys.is_set(ref_key)",
          "old_line_content": "  {",
          "new_line_content": "    if (usable_keys.is_set(ref_key) &&",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": null,
          "new_api": "test_if_order_by_key",
          "old_text": null,
          "new_text": "test_if_order_by_key(order,table,ref_key,\n\t\t\t\t\t       &used_key_parts)",
          "old_line_content": "    /*",
          "new_line_content": "        (order_direction= test_if_order_by_key(order,table,ref_key,",
          "content_same": false
        },
        {
          "line": 5051,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "explain_flags.set(ESC_BUFFER_RESULT, ESP_USING_TMPTABLE)",
          "old_line_content": "      /* group data to new table */",
          "new_line_content": "        explain_flags.set(ESC_BUFFER_RESULT, ESP_USING_TMPTABLE);",
          "content_same": false
        },
        {
          "line": 3521,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "",
          "new_line_content": "        DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 5569,
          "old_api": null,
          "new_api": "scan_time",
          "old_text": null,
          "new_text": "table->file->scan_time()",
          "old_line_content": "          ha_rows quick_records= table_records;",
          "new_line_content": "                         min(rec_per_key, table->file->scan_time());",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "field->part_of_sortkey.is_set(idx)",
          "old_line_content": "      ORDER::ORDER_DESC : ORDER::ORDER_ASC;",
          "new_line_content": "    if (key_part->field != field || !field->part_of_sortkey.is_set(idx))",
          "content_same": false
        },
        {
          "line": 4549,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "thd->calloc(sizeof(Item_sum**) * (func_count+1) +\n\t\t\t\t           sizeof(Item_sum***) * (group_parts+1))",
          "old_line_content": "",
          "new_line_content": "  sum_funcs= (Item_sum**) thd->calloc(sizeof(Item_sum**) * (func_count+1) +",
          "content_same": false
        },
        {
          "line": 5062,
          "old_api": null,
          "new_api": "is_using_loose_index_scan",
          "old_text": null,
          "new_text": "join_tab->is_using_loose_index_scan()",
          "old_line_content": "      ORDER_with_src dummy= NULL; //TODO can use table->group here also",
          "new_line_content": "      if (join_tab->is_using_loose_index_scan())",
          "content_same": false
        },
        {
          "line": 3015,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "table->pos_in_table_list->derived_key_list.empty()",
          "old_line_content": "",
          "new_line_content": "      table->pos_in_table_list->derived_key_list.empty();",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(sum_funcs == 0)",
          "old_line_content": "  Initialize 'sum_funcs' array with all Item_sum objects.",
          "new_line_content": "  DBUG_RETURN(sum_funcs == 0);",
          "content_same": false
        },
        {
          "line": 3525,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "    /* set flag to 1 if we can use read-next on key, else to -1 */",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 5576,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->covering_keys.is_set(ref_key)",
          "old_line_content": "            continue;",
          "new_line_content": "                                        table->covering_keys.is_set(ref_key)) ?",
          "content_same": false
        },
        {
          "line": 4040,
          "old_api": null,
          "new_api": "test_if_cheaper_ordering",
          "old_text": null,
          "new_text": "test_if_cheaper_ordering(tab, order, table, usable_keys,\n                             ref_key, select_limit,\n                             &best_key, &best_key_direction,\n                             &select_limit, &best_key_parts,\n                             &saved_best_key_parts)",
          "old_line_content": "",
          "new_line_content": "    test_if_cheaper_ordering(tab, order, table, usable_keys,",
          "content_same": false
        },
        {
          "line": 5069,
          "old_api": null,
          "new_api": "create_intermediate_table",
          "old_text": null,
          "new_text": "create_intermediate_table(&join_tab[curr_tmp_table],\n                                    curr_all_fields, dummy, true)",
          "old_line_content": "      {",
          "new_line_content": "      if (create_intermediate_table(&join_tab[curr_tmp_table],",
          "content_same": false
        },
        {
          "line": 3533,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(0)",
          "old_line_content": "  {",
          "new_line_content": "      DBUG_RETURN(0);",
          "content_same": false
        },
        {
          "line": 3023,
          "old_api": null,
          "new_api": "get_sj_strategy",
          "old_text": null,
          "new_text": "get_sj_strategy()",
          "old_line_content": "/**",
          "new_line_content": "  return sj_is_materialize_strategy(get_sj_strategy()) ?",
          "content_same": false
        },
        {
          "line": 5582,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->quick_keys.is_set(nr)",
          "old_line_content": "               quick_records < best_records))",
          "new_line_content": "          if (table->quick_keys.is_set(nr))",
          "content_same": false
        },
        {
          "line": 5585,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(quick_records,best_records)",
          "old_line_content": "            best_key_parts= keyinfo->user_defined_key_parts;",
          "new_line_content": "              (select_limit <= min(quick_records,best_records) ?",
          "content_same": false
        },
        {
          "line": 5076,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "        }",
          "new_line_content": "        if (!plan_is_const())        // No need to sort a single row",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": null,
          "new_api": "uint) (key_part - table->key_info[table->s->primary_key].key_part)",
          "old_text": null,
          "new_text": "uint) (key_part - table->key_info[table->s->primary_key].key_part)",
          "old_line_content": "           HA_READ_PREV) ||",
          "new_line_content": "      (uint) (key_part - table->key_info[table->s->primary_key].key_part);",
          "content_same": false
        },
        {
          "line": 5080,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "      }",
          "new_line_content": "            DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 3545,
          "old_api": null,
          "new_api": "index_flags",
          "old_text": null,
          "new_text": "table->file->index_flags(idx, used_key_parts_secondary - 1, 1)",
          "old_line_content": "  }",
          "new_line_content": "        (!(table->file->index_flags(idx, used_key_parts_secondary - 1, 1) &",
          "content_same": false
        },
        {
          "line": 5083,
          "old_api": null,
          "new_api": "make_group_fields",
          "old_text": null,
          "new_text": "make_group_fields(this, this)",
          "old_line_content": "        If there is no sorting or grouping, 'use_order'",
          "new_line_content": "        if (make_group_fields(this, this))",
          "content_same": false
        },
        {
          "line": 5084,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "        index result should not have been requested.",
          "new_line_content": "          DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 3547,
          "old_api": null,
          "new_api": "index_flags",
          "old_text": null,
          "new_text": "table->file->index_flags(table->s->primary_key,\n                                    used_key_parts_pk - 1, 1)",
          "old_line_content": "  {",
          "new_line_content": "         !(table->file->index_flags(table->s->primary_key,",
          "content_same": false
        },
        {
          "line": 4062,
          "old_api": null,
          "new_api": "primary_key_is_clustered",
          "old_text": null,
          "new_text": "table->file->primary_key_is_clustered()",
          "old_line_content": "",
          "new_line_content": "          !table->file->primary_key_is_clustered()))",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "DBUG_ENTER",
          "old_text": null,
          "new_text": "DBUG_ENTER(\"make_sum_func_list\")",
          "old_line_content": "  func= sum_funcs;",
          "new_line_content": "  DBUG_ENTER(\"make_sum_func_list\");",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": null,
          "new_api": "uint) (key_part - table->key_info[idx].key_part)",
          "old_text": null,
          "new_text": "uint) (key_part - table->key_info[idx].key_part)",
          "old_line_content": "ok:",
          "new_line_content": "    key_parts= (uint) (key_part - table->key_info[idx].key_part);",
          "content_same": false
        },
        {
          "line": 5091,
          "old_api": null,
          "new_api": "use_order",
          "old_text": null,
          "new_text": "DBUG_ASSERT(!(ordered_index_usage == ordered_index_void &&\n                    !plan_is_const() &&\n                    join_tab[const_tables].use_order()))",
          "old_line_content": "      // for the first table",
          "new_line_content": "      DBUG_ASSERT(!(ordered_index_usage == ordered_index_void &&",
          "content_same": false
        },
        {
          "line": 5092,
          "old_api": null,
          "new_api": "plan_is_const",
          "old_text": null,
          "new_text": "plan_is_const()",
          "old_line_content": "      if (group_list || tmp_table_param.sum_func_count)",
          "new_line_content": "                    !plan_is_const() &&",
          "content_same": false
        },
        {
          "line": 5093,
          "old_api": null,
          "new_api": "use_order",
          "old_text": null,
          "new_text": "join_tab[const_tables].use_order()",
          "old_line_content": "      {",
          "new_line_content": "                    join_tab[const_tables].use_order()));",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\", \n               (\"select::cond extended. Change %p -> %p \"\n                \"at line %u tab %p select %p\",\n                select->cond, m_condition, line, this, select))",
          "old_line_content": "  }",
          "new_line_content": "    DBUG_PRINT(\"info\", ",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": null,
          "new_api": "index_flags",
          "old_text": null,
          "new_text": "table->file->index_flags(idx, key_parts-1, 1)",
          "old_line_content": "    *used_key_parts= key_parts;",
          "new_line_content": "        !(table->file->index_flags(idx, key_parts-1, 1) & HA_READ_PREV))",
          "content_same": false
        },
        {
          "line": 5604,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "  if (new_used_key_parts != NULL)",
          "new_line_content": "    DBUG_RETURN(FALSE);",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": null,
          "new_api": "const_item",
          "old_text": null,
          "new_text": "item->const_item()",
          "old_line_content": "  if (before_group_by && rollup.state == ROLLUP::STATE_INITED)",
          "new_line_content": "    if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item() &&",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": null,
          "new_api": "depended_from",
          "old_text": null,
          "new_text": "(Item_sum*) item)->depended_from()",
          "old_line_content": "  {",
          "new_line_content": "        (!((Item_sum*) item)->depended_from() ||",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": null,
          "new_api": "depended_from",
          "old_text": null,
          "new_text": "(Item_sum *)item)->depended_from()",
          "old_line_content": "    rollup.state= ROLLUP::STATE_READY;",
          "new_line_content": "         ((Item_sum *)item)->depended_from() == select_lex))",
          "content_same": false
        },
        {
          "line": 5099,
          "old_api": null,
          "new_api": "make_sum_func_list",
          "old_text": null,
          "new_text": "make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true)",
          "old_line_content": "        group_list= NULL;",
          "new_line_content": "        if (make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true))",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(reverse)",
          "old_line_content": "  Find shortest key suitable for full table scan.",
          "new_line_content": "  DBUG_RETURN(reverse);",
          "content_same": false
        },
        {
          "line": 5102,
          "old_api": null,
          "new_api": "is_using_agg_loose_index_scan",
          "old_text": null,
          "new_text": "join_tab->is_using_agg_loose_index_scan()",
          "old_line_content": "      }",
          "new_line_content": "                                    !join_tab->is_using_agg_loose_index_scan()))",
          "content_same": false
        },
        {
          "line": 5103,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "      // No sum funcs anymore",
          "new_line_content": "          DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 5612,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "  Find a key to apply single table UPDATE/DELETE by a given ORDER",
          "new_line_content": "  DBUG_RETURN(TRUE);",
          "content_same": false
        },
        {
          "line": 4593,
          "old_api": null,
          "new_api": "rollup_make_fields",
          "old_text": null,
          "new_text": "rollup_make_fields(field_list, send_result_set_metadata, &func)",
          "old_line_content": "    for (uint i=0 ; i <= send_group_parts ;i++)",
          "new_line_content": "    if (rollup_make_fields(field_list, send_result_set_metadata, &func))",
          "content_same": false
        },
        {
          "line": 4594,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(TRUE)",
          "old_line_content": "      sum_funcs_end[i]= func;",
          "new_line_content": "      DBUG_RETURN(TRUE);\t\t\t// Should never happen",
          "content_same": false
        },
        {
          "line": 5105,
          "old_api": null,
          "new_api": "setup_sum_funcs",
          "old_text": null,
          "new_text": "setup_sum_funcs(thd, sum_funcs)",
          "old_line_content": "",
          "new_line_content": "        if (setup_sum_funcs(thd, sum_funcs))",
          "content_same": false
        },
        {
          "line": 4076,
          "old_api": null,
          "new_api": "add_utf8_table",
          "old_text": null,
          "new_text": "trace_recest.add_utf8_table(tab->table).\n        add_utf8(\"index\", table->key_info[best_key].name)",
          "old_line_content": "      select->quick= 0;",
          "new_line_content": "      trace_recest.add_utf8_table(tab->table).",
          "content_same": false
        },
        {
          "line": 5109,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "items2.is_null()",
          "old_line_content": "                                   fields_list.elements, tmp_all_fields1))",
          "new_line_content": "      DBUG_ASSERT(items2.is_null());",
          "content_same": false
        },
        {
          "line": 4080,
          "old_api": null,
          "new_api": "set_bit",
          "old_text": null,
          "new_text": "map.set_bit(best_key)",
          "old_line_content": "                                join->select_options & OPTION_FOUND_ROWS ?",
          "new_line_content": "      map.set_bit(best_key); // only best_key.",
          "content_same": false
        },
        {
          "line": 5111,
          "old_api": null,
          "new_api": "ref_ptr_array_slice",
          "old_text": null,
          "new_text": "ref_ptr_array_slice(3)",
          "old_line_content": "",
          "new_line_content": "      items2= ref_ptr_array_slice(3);",
          "content_same": false
        },
        {
          "line": 5112,
          "old_api": null,
          "new_api": "change_to_use_tmp_fields",
          "old_text": null,
          "new_text": "change_to_use_tmp_fields(thd, items2,\n                                   tmp_fields_list2, tmp_all_fields2, \n                                   fields_list.elements, tmp_all_fields1)",
          "old_line_content": "      curr_fields_list= &tmp_fields_list2;",
          "new_line_content": "      if (change_to_use_tmp_fields(thd, items2,",
          "content_same": false
        },
        {
          "line": 4069,
          "old_api": null,
          "new_api": "is_set",
          "old_text": null,
          "new_text": "table->quick_keys.is_set(best_key)",
          "old_line_content": "      Opt_trace_object",
          "new_line_content": "        table->quick_keys.is_set(best_key) &&",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "",
          "new_line_content": "    DBUG_RETURN(FALSE);                         // Don't put end marker",
          "content_same": false
        },
        {
          "line": 5115,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(true)",
          "old_line_content": "      join_tab[curr_tmp_table].ref_array= &items2;",
          "new_line_content": "        DBUG_RETURN(true);",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": null,
          "new_api": "DBUG_RETURN",
          "old_text": null,
          "new_text": "DBUG_RETURN(FALSE)",
          "old_line_content": "  Free joins of subselect of this select.",
          "new_line_content": "  DBUG_RETURN(FALSE);",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": null,
          "new_api": "DBUG_PRINT",
          "old_text": null,
          "new_text": "DBUG_PRINT(\"info\", (\"JOIN_TAB::m_condition extended. Change %p -> %p \"\n                      \"at line %u tab %p\",\n                      old_cond, m_condition, line, this))",
          "old_line_content": "",
          "new_line_content": "  DBUG_PRINT(\"info\", (\"JOIN_TAB::m_condition extended. Change %p -> %p \"",
          "content_same": false
        },
        {
          "line": 5119,
          "old_api": null,
          "new_api": "set_items_ref_array",
          "old_text": null,
          "new_text": "set_items_ref_array(items2)",
          "old_line_content": "",
          "new_line_content": "      set_items_ref_array(items2);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4612,
          "old_api": "first_inner_unit",
          "new_api": null,
          "old_text": "select->first_inner_unit()",
          "new_text": null,
          "old_line_content": "  for (SELECT_LEX_UNIT *unit= select->first_inner_unit();",
          "new_line_content": "  @param select   pointer to st_select_lex which subselects joins we will free",
          "content_same": false
        },
        {
          "line": 4101,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(order_direction != 0)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(order_direction != 0);",
          "new_line_content": "    // We will use index scan or range scan:",
          "content_same": false
        },
        {
          "line": 4614,
          "old_api": "next_unit",
          "new_api": null,
          "old_text": "unit->next_unit()",
          "new_text": null,
          "old_line_content": "       unit= unit->next_unit())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4615,
          "old_api": "cleanup",
          "new_api": null,
          "old_text": "unit->cleanup()",
          "new_text": null,
          "old_line_content": "    unit->cleanup();",
          "new_line_content": "void free_underlaid_joins(THD *thd, SELECT_LEX *select)",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": "condition",
          "new_api": null,
          "old_text": "condition()",
          "new_text": null,
          "old_line_content": "  return filesort && filesort->select ? filesort->select->cond : condition();",
          "new_line_content": "  return condition belonging to JOIN_TAB.",
          "content_same": false
        },
        {
          "line": 5637,
          "old_api": "unique_key_range",
          "new_api": null,
          "old_text": "select->quick->unique_key_range()",
          "new_text": null,
          "old_line_content": "  if (select && select->quick && select->quick->unique_key_range())",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 3591,
          "old_api": "primary_key_is_clustered",
          "new_api": null,
          "old_text": "table->file->primary_key_is_clustered()",
          "new_text": null,
          "old_line_content": "  uint usable_clustered_pk= (table->file->primary_key_is_clustered() &&",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 5131,
          "old_api": "update_used_tables",
          "new_api": null,
          "old_text": "having->update_used_tables()",
          "new_text": null,
          "old_line_content": "        having->update_used_tables();",
          "new_line_content": "    if (select_distinct && !group_list)",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "usable_keys->is_set(table->s->primary_key)",
          "new_text": null,
          "old_line_content": "                             usable_keys->is_set(table->s->primary_key)) ?",
          "new_line_content": "uint find_shortest_key(TABLE *table, const key_map *usable_keys)",
          "content_same": false
        },
        {
          "line": 3595,
          "old_api": "is_clear_all",
          "new_api": null,
          "old_text": "usable_keys->is_clear_all()",
          "new_text": null,
          "old_line_content": "  if (!usable_keys->is_clear_all())",
          "new_line_content": "  uint best= MAX_KEY;",
          "content_same": false
        },
        {
          "line": 5134,
          "old_api": "set",
          "new_api": null,
          "old_text": "explain_flags.set(ESC_DISTINCT, ESP_DUPS_REMOVAL)",
          "new_text": null,
          "old_line_content": "      explain_flags.set(ESC_DISTINCT, ESP_DUPS_REMOVAL);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 4111,
          "old_api": "reverse_sorted",
          "new_api": null,
          "old_text": "select->quick->reverse_sorted()",
          "new_text": null,
          "old_line_content": "      if (select->quick->reverse_sorted())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3602,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "usable_keys->is_set(nr)",
          "new_text": null,
          "old_line_content": "      if (usable_keys->is_set(nr))",
          "new_line_content": "    uint min_length= (uint) ~0;",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": "reverse_sort_possible",
          "new_api": null,
          "old_text": "select->quick->reverse_sort_possible()",
          "new_text": null,
          "old_line_content": "      if (select->quick->reverse_sort_possible())",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 5656,
          "old_api": "is_simple_order",
          "new_api": null,
          "old_text": "is_simple_order(order)",
          "new_text": null,
          "old_line_content": "  if (!is_simple_order(order)) // just to cut further expensive checks",
          "new_line_content": "      return select->quick->index; // index or MAX_KEY, use quick select as is",
          "content_same": false
        },
        {
          "line": 4129,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT((select->quick == save_quick) || can_skip_sorting)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT((select->quick == save_quick) || can_skip_sorting);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5671,
          "old_api": "test_if_order_by_key",
          "new_api": null,
          "old_text": "test_if_order_by_key(order, table, select->quick->index,\n                                 &used_key_parts)",
          "new_text": null,
          "old_line_content": "    switch (test_if_order_by_key(order, table, select->quick->index,",
          "new_line_content": "      *need_sort= TRUE;",
          "content_same": false
        },
        {
          "line": 5162,
          "old_api": "test",
          "new_api": null,
          "old_text": "test(select_options & OPTION_BUFFER_RESULT)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT(test(select_options & OPTION_BUFFER_RESULT));",
          "new_line_content": "        created without a grouping expression and JOIN::exec() will not",
          "content_same": false
        },
        {
          "line": 4651,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "*group_tmp->item)->const_item()",
          "new_text": null,
          "old_line_content": "    if (!(*group_tmp->item)->const_item())",
          "new_line_content": "  Item *item;",
          "content_same": false
        },
        {
          "line": 5164,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(!join_tab[curr_tmp_table].table->group)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT(!join_tab[curr_tmp_table].table->group); ",
          "new_line_content": "        or end_write_group()) if JOIN::group is set to false.",
          "content_same": false
        },
        {
          "line": 5166,
          "old_api": "calc_group_buffer",
          "new_api": null,
          "old_text": "calc_group_buffer(this, group_list)",
          "new_text": null,
          "old_line_content": "    calc_group_buffer(this, group_list);",
          "new_line_content": "      // the temporary table was explicitly requested",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(can_skip_sorting)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(can_skip_sorting);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": "and_conditions",
          "new_api": null,
          "old_text": "and_conditions(&m_condition, add_cond)",
          "new_text": null,
          "old_line_content": "  if (and_conditions(&m_condition, add_cond))",
          "new_line_content": "  @retval false  otherwise",
          "content_same": false
        },
        {
          "line": 4660,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "new_item->fix_fields(thd, (Item **) 0)",
          "new_text": null,
          "old_line_content": "        new_item->fix_fields(thd, (Item **) 0);",
          "new_line_content": "      if (*group_tmp->item == item)",
          "content_same": false
        },
        {
          "line": 4661,
          "old_api": "ref",
          "new_api": null,
          "old_text": "it.ref()",
          "new_text": null,
          "old_line_content": "        thd->change_item_tree(it.ref(), new_item);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 5173,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(true);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5175,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "items3.is_null()",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(items3.is_null());",
          "new_line_content": "  if (group || implicit_grouping || tmp_table_param.sum_func_count)",
          "content_same": false
        },
        {
          "line": 5683,
          "old_api": "make_reverse",
          "new_api": null,
          "old_text": "select->quick->make_reverse(used_key_parts)",
          "new_text": null,
          "old_line_content": "               select->quick->make_reverse(used_key_parts)))",
          "new_line_content": "      return MAX_KEY;",
          "content_same": false
        },
        {
          "line": 5685,
          "old_api": "set_quick",
          "new_api": null,
          "old_text": "select->set_quick(reverse_quick)",
          "new_text": null,
          "old_line_content": "          select->set_quick(reverse_quick);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 5179,
          "old_api": "ref_ptr_array_slice",
          "new_api": null,
          "old_text": "ref_ptr_array_slice(4)",
          "new_text": null,
          "old_line_content": "    items3= ref_ptr_array_slice(4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5696,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(0)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(0);",
          "new_line_content": "          *need_sort= TRUE;",
          "content_same": false
        },
        {
          "line": 3137,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"JOIN::join_free\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"JOIN::join_free\");",
          "new_line_content": "    Optimization: if not EXPLAIN and we are done with the JOIN,",
          "content_same": false
        },
        {
          "line": 5186,
          "old_api": "set_items_ref_array",
          "new_api": null,
          "old_text": "set_items_ref_array(items3)",
          "new_text": null,
          "old_line_content": "    set_items_ref_array(items3);",
          "new_line_content": "                      items3, tmp_fields_list3, tmp_all_fields3,",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "cleanup",
          "new_api": null,
          "old_text": "cleanup(full)",
          "new_text": null,
          "old_line_content": "  cleanup(full);",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 3649,
          "old_api": "eq",
          "new_api": null,
          "old_text": "key_part->field->eq(ref_key_part->field)",
          "new_text": null,
          "old_line_content": "    if (!key_part->field->eq(ref_key_part->field))",
          "new_line_content": "inline bool ",
          "content_same": false
        },
        {
          "line": 3141,
          "old_api": "first_inner_unit",
          "new_api": null,
          "old_text": "select_lex->first_inner_unit()",
          "new_text": null,
          "old_line_content": "  for (tmp_unit= select_lex->first_inner_unit();",
          "new_line_content": "  bool can_unlock= full;",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": "prefix_tables",
          "new_api": null,
          "old_text": "tab->prefix_tables()",
          "new_text": null,
          "old_line_content": "      if (create_ref_for_key(tab->join, tab, keyuse, tab->prefix_tables()))",
          "new_line_content": "      */",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": "next_unit",
          "new_api": null,
          "old_text": "tmp_unit->next_unit()",
          "new_text": null,
          "old_line_content": "       tmp_unit= tmp_unit->next_unit())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5194,
          "old_api": "make_sum_func_list",
          "new_api": null,
          "old_text": "make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true)",
          "new_text": null,
          "old_line_content": "    if (make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true))",
          "new_line_content": "      // Set grouped fields on the last table",
          "content_same": false
        },
        {
          "line": 3147,
          "old_api": "is_evaluated",
          "new_api": null,
          "old_text": "subselect->is_evaluated()",
          "new_text": null,
          "old_line_content": "      bool full_local= full && (!subselect || subselect->is_evaluated());",
          "new_line_content": "       tmp_unit;",
          "content_same": false
        },
        {
          "line": 4172,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->type != JT_REF_OR_NULL && tab->type != JT_FT)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT(tab->type != JT_REF_OR_NULL && tab->type != JT_FT);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 5195,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(true);",
          "new_line_content": "      join_tab[primary_tables + tmp_tables - 1].ref_array= &items3;",
          "content_same": false
        },
        {
          "line": 5196,
          "old_api": "prepare_sum_aggregators",
          "new_api": null,
          "old_text": "prepare_sum_aggregators(sum_funcs,\n                                !join_tab ||\n                                !join_tab-> is_using_agg_loose_index_scan())",
          "new_text": null,
          "old_line_content": "    if (prepare_sum_aggregators(sum_funcs,",
          "new_line_content": "      join_tab[primary_tables + tmp_tables - 1].all_fields= &tmp_all_fields3;",
          "content_same": false
        },
        {
          "line": 5198,
          "old_api": "join_tab-> is_using_agg_loose_index_scan()",
          "new_api": null,
          "old_text": "join_tab-> is_using_agg_loose_index_scan()",
          "new_text": null,
          "old_line_content": "                                !join_tab-> is_using_agg_loose_index_scan()))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5708,
          "old_api": "test_if_cheaper_ordering",
          "new_api": null,
          "old_text": "test_if_cheaper_ordering(NULL, order, table,\n                                 table->keys_in_use_for_order_by, -1,\n                                 limit,\n                                 &key, &direction, &limit)",
          "new_text": null,
          "old_line_content": "    if (test_if_cheaper_ordering(NULL, order, table,",
          "new_line_content": "      don't call make_join_statistics() and leave this variable uninitialized.",
          "content_same": false
        },
        {
          "line": 5712,
          "old_api": "is_key_used",
          "new_api": null,
          "old_text": "is_key_used(table, key, table->write_set)",
          "new_text": null,
          "old_line_content": "        !is_key_used(table, key, table->write_set))",
          "new_line_content": "    int key, direction;",
          "content_same": false
        },
        {
          "line": 3157,
          "old_api": "cleanup_all_joins",
          "new_api": null,
          "old_text": "sl->cleanup_all_joins(full_local)",
          "new_text": null,
          "old_line_content": "      sl->cleanup_all_joins(full_local);",
          "new_line_content": "        If this join is not yet evaluated, we still must clean it up to",
          "content_same": false
        },
        {
          "line": 4183,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->covering_keys.is_set(best_key)",
          "new_text": null,
          "old_line_content": "      if(!table->covering_keys.is_set(best_key))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4184,
          "old_api": "set_keyread",
          "new_api": null,
          "old_text": "table->set_keyread(false)",
          "new_text": null,
          "old_line_content": "        table->set_keyread(false);",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 4696,
          "old_api": "head",
          "new_api": null,
          "old_text": "sel_fields.head()",
          "new_text": null,
          "old_line_content": "  Item *first_field= sel_fields.head();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5215,
          "old_api": "make_cond_for_table",
          "new_api": null,
          "old_text": "make_cond_for_table(having, used_tables,\n                                                 (table_map) 0, false)",
          "new_text": null,
          "old_line_content": "      Item* sort_table_cond= make_cond_for_table(having, used_tables,",
          "new_line_content": "      // Some tables may have been const",
          "content_same": false
        },
        {
          "line": 4195,
          "old_api": "ha_index_or_rnd_end",
          "new_api": null,
          "old_text": "table->file->ha_index_or_rnd_end()",
          "new_text": null,
          "old_line_content": "        table->file->ha_index_or_rnd_end();",
          "new_line_content": "        tab->index= best_key;",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "\t    DBUG_RETURN(true);",
          "new_line_content": "                                                 (table_map) 0, false);",
          "content_same": false
        },
        {
          "line": 5735,
          "old_api": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "new_api": null,
          "old_text": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "new_text": null,
          "old_line_content": "  return key_info->table->in_use->",
          "new_line_content": "  @return number of key parts.",
          "content_same": false
        },
        {
          "line": 3176,
          "old_api": "mysql_unlock_read_tables",
          "new_api": null,
          "old_text": "mysql_unlock_read_tables(thd, lock)",
          "new_text": null,
          "old_line_content": "    mysql_unlock_read_tables(thd, lock);           // Don't free join->lock",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 5229,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "\t    DBUG_RETURN(true);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 5230,
          "old_api": "fix_fields",
          "new_api": null,
          "old_text": "curr_table->select->cond->fix_fields(thd, 0)",
          "new_text": null,
          "old_line_content": "\t  curr_table->select->cond->fix_fields(thd, 0);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5232,
          "old_api": "set_condition",
          "new_api": null,
          "old_text": "curr_table->set_condition(curr_table->select->cond, __LINE__)",
          "new_text": null,
          "old_line_content": "        curr_table->set_condition(curr_table->select->cond, __LINE__);",
          "new_line_content": "\t\tnew Item_cond_and(curr_table->select->cond,",
          "content_same": false
        },
        {
          "line": 5233,
          "old_api": "condition",
          "new_api": null,
          "old_text": "curr_table->condition()->top_level_item()",
          "new_text": null,
          "old_line_content": "        curr_table->condition()->top_level_item();",
          "new_line_content": "\t\t\t\t  sort_table_cond)))",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->select->quick)",
          "new_text": null,
          "old_line_content": "        DBUG_ASSERT(tab->select->quick);",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 4216,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->select->quick->index==(uint)best_key)",
          "new_text": null,
          "old_line_content": "        DBUG_ASSERT(tab->select->quick->index==(uint)best_key);",
          "new_line_content": "          We're about to use a quick access to the table.",
          "content_same": false
        },
        {
          "line": 5240,
          "old_api": "DBUG_EXECUTE",
          "new_api": null,
          "old_text": "DBUG_EXECUTE(\"where\",\n                     print_where(having, \"having after sort\", QT_ORDINARY);)",
          "new_text": null,
          "old_line_content": "        DBUG_EXECUTE(\"where\",",
          "new_line_content": "\t\t\t\t\t \"select and having\",",
          "content_same": false
        },
        {
          "line": 5241,
          "old_api": "print_where",
          "new_api": null,
          "old_text": "print_where(having, \"having after sort\", QT_ORDINARY)",
          "new_text": null,
          "old_line_content": "                     print_where(having, \"having after sort\", QT_ORDINARY););",
          "new_line_content": "                                         QT_ORDINARY););",
          "content_same": false
        },
        {
          "line": 5752,
          "old_api": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "new_api": null,
          "old_text": "key_info->table->in_use->\n    optimizer_switch_flag(OPTIMIZER_SWITCH_USE_INDEX_EXTENSIONS)",
          "new_text": null,
          "old_line_content": "  return key_info->table->in_use->",
          "new_line_content": "  @return key flags.",
          "content_same": false
        },
        {
          "line": 4222,
          "old_api": "is_using_loose_index_scan",
          "new_api": null,
          "old_text": "tab->is_using_loose_index_scan()",
          "new_text": null,
          "old_line_content": "        if (tab->is_using_loose_index_scan())",
          "new_line_content": "        tab->type=JT_ALL;",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"JOIN::cleanup\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"JOIN::cleanup\");",
          "new_line_content": "    but even for simple query it can be called several times.",
          "content_same": false
        },
        {
          "line": 3200,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(const_tables <= primary_tables &&\n              primary_tables <= tables)",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT(const_tables <= primary_tables &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3711,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "usable_keys->is_set(nr)",
          "new_text": null,
          "old_line_content": "    if (usable_keys->is_set(nr) &&",
          "new_line_content": "  KEY_PART_INFO *ref_key_part= table->key_info[ref].key_part;",
          "content_same": false
        },
        {
          "line": 3714,
          "old_api": "is_subkey",
          "new_api": null,
          "old_text": "is_subkey(table->key_info[nr].key_part, ref_key_part,\n\t\t  ref_key_part_end)",
          "new_text": null,
          "old_line_content": "\tis_subkey(table->key_info[nr].key_part, ref_key_part,",
          "new_line_content": "  for (nr= 0 ; nr < table->s->keys ; nr++)",
          "content_same": false
        },
        {
          "line": 3717,
          "old_api": "test_if_order_by_key",
          "new_api": null,
          "old_text": "test_if_order_by_key(order, table, nr)",
          "new_text": null,
          "old_line_content": "\ttest_if_order_by_key(order, table, nr))",
          "new_line_content": "\ttable->key_info[nr].key_length < min_length &&",
          "content_same": false
        },
        {
          "line": 4742,
          "old_api": "rewind",
          "new_api": null,
          "old_text": "it.rewind()",
          "new_text": null,
          "old_line_content": "    it.rewind();",
          "new_line_content": "    for (i= 0, start_group= group_list ;",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": "cleanup",
          "new_api": null,
          "old_text": "tab->cleanup()",
          "new_text": null,
          "old_line_content": "\ttab->cleanup();",
          "new_line_content": "    JOIN_TAB *tab,*end;",
          "content_same": false
        },
        {
          "line": 4235,
          "old_api": "make_reverse",
          "new_api": null,
          "old_text": "select->quick->make_reverse(used_key_parts)",
          "new_text": null,
          "old_line_content": "        QUICK_SELECT_I *tmp= select->quick->make_reverse(used_key_parts);",
          "new_line_content": "    if (order_direction == -1)\t\t// If ORDER BY ... DESC",
          "content_same": false
        },
        {
          "line": 5259,
          "old_api": "condition",
          "new_api": null,
          "old_text": "tab->condition()",
          "new_text": null,
          "old_line_content": "        if (tab->condition() ||                                // 1",
          "new_line_content": "         2. as a keyuse attached to the join_tab (ref access).",
          "content_same": false
        },
        {
          "line": 4751,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "item->const_item()",
          "new_text": null,
          "old_line_content": "      if (item->type() == Item::SUM_FUNC_ITEM && !item->const_item() &&",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 4752,
          "old_api": "depended_from",
          "new_api": null,
          "old_text": "(Item_sum*) item)->depended_from()",
          "new_text": null,
          "old_line_content": "          (!((Item_sum*) item)->depended_from() ||",
          "new_line_content": "\treal_fields= 1;\t\t\t\t// End of hidden fields",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": "depended_from",
          "new_api": null,
          "old_text": "(Item_sum *)item)->depended_from()",
          "new_text": null,
          "old_line_content": "           ((Item_sum *)item)->depended_from() == select_lex))",
          "new_line_content": "        ref_array_ix= 0;",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": "is_created",
          "new_api": null,
          "old_text": "tab->table->is_created()",
          "new_text": null,
          "old_line_content": "\tif (tab->table->is_created())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": "set_quick",
          "new_api": null,
          "old_text": "select->set_quick(tmp)",
          "new_text": null,
          "old_line_content": "        select->set_quick(tmp);",
          "new_line_content": "          can_skip_sorting= false;      // Reverse sort failed -> filesort",
          "content_same": false
        },
        {
          "line": 3220,
          "old_api": "ha_index_or_rnd_end",
          "new_api": null,
          "old_text": "tab->table->file->ha_index_or_rnd_end()",
          "new_text": null,
          "old_line_content": "          tab->table->file->ha_index_or_rnd_end();",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 3222,
          "old_api": "type",
          "new_api": null,
          "old_text": "tab->op->type()",
          "new_text": null,
          "old_line_content": "              tab->op->type() == QEP_operation::OT_TMP_TABLE)",
          "new_line_content": "          continue;",
          "content_same": false
        },
        {
          "line": 3226,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(0)",
          "new_text": null,
          "old_line_content": "              tab->table->file->print_error(tmp, MYF(0));",
          "new_line_content": "          if (tab->op &&",
          "content_same": false
        },
        {
          "line": 5274,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"info\",(\"Sorting for order by/group by\"))",
          "new_text": null,
          "old_line_content": "    DBUG_PRINT(\"info\",(\"Sorting for order by/group by\"));",
          "new_line_content": "      Here we add sorting stage for ORDER BY/GROUP BY clause, if the",
          "content_same": false
        },
        {
          "line": 4764,
          "old_api": "copy_or_same",
          "new_api": null,
          "old_text": "item->copy_or_same(thd)",
          "new_text": null,
          "old_line_content": "\titem= item->copy_or_same(thd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4765,
          "old_api": "make_unique",
          "new_api": null,
          "old_text": "(Item_sum*) item)->make_unique()",
          "new_text": null,
          "old_line_content": "\t((Item_sum*) item)->make_unique();",
          "new_line_content": "\t  NOTE: This code creates an object which is not that nice in a",
          "content_same": false
        },
        {
          "line": 3229,
          "old_api": "free_io_cache",
          "new_api": null,
          "old_text": "free_io_cache(tab->table)",
          "new_text": null,
          "old_line_content": "        free_io_cache(tab->table);",
          "new_line_content": "            int tmp= 0;",
          "content_same": false
        },
        {
          "line": 5285,
          "old_api": "set",
          "new_api": null,
          "old_text": "explain_flags.set(order_arg.src, ESP_USING_TMPTABLE)",
          "new_text": null,
          "old_line_content": "        explain_flags.set(order_arg.src, ESP_USING_TMPTABLE);",
          "new_line_content": "        join_tab[curr_tmp_table].type != JT_EQ_REF) // Don't sort 1 row",
          "content_same": false
        },
        {
          "line": 5287,
          "old_api": "add_sorting_to_table",
          "new_api": null,
          "old_text": "add_sorting_to_table(sort_tab, &order_arg)",
          "new_text": null,
          "old_line_content": "      if (add_sorting_to_table(sort_tab, &order_arg))",
          "new_line_content": "      // Sort either first non-const table or the last tmp table",
          "content_same": false
        },
        {
          "line": 5288,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "        DBUG_RETURN(true);",
          "new_line_content": "      JOIN_TAB *sort_tab= &join_tab[curr_tmp_table];",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": "delete_elements",
          "new_api": null,
          "old_text": "group_fields.delete_elements()",
          "new_text": null,
          "old_line_content": "    group_fields.delete_elements();",
          "new_line_content": "    Unlock all tables. We may be in an INSERT .... SELECT statement.",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": "need_sorted_output",
          "new_api": null,
          "old_text": "select->quick->need_sorted_output()",
          "new_text": null,
          "old_line_content": "      select->quick->need_sorted_output();",
          "new_line_content": "        */",
          "content_same": false
        },
        {
          "line": 4783,
          "old_api": "field_type",
          "new_api": null,
          "old_text": "item->field_type()",
          "new_text": null,
          "old_line_content": "              new (thd->mem_root) Item_null_result(item->field_type(),",
          "new_line_content": "\t    /*",
          "content_same": false
        },
        {
          "line": 4784,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "item->result_type()",
          "new_text": null,
          "old_line_content": "                                                   item->result_type());",
          "new_line_content": "\t      This is an element that is used by the GROUP BY and should be",
          "content_same": false
        },
        {
          "line": 3247,
          "old_api": "empty",
          "new_api": null,
          "old_text": "tmp_table_param.copy_funcs.empty()",
          "new_text": null,
          "old_line_content": "    tmp_table_param.copy_funcs.empty();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": "cleanup",
          "new_api": null,
          "old_text": "tmp_table_param.cleanup()",
          "new_text": null,
          "old_line_content": "    tmp_table_param.cleanup();",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 5301,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "plan_is_const()",
          "new_text": null,
          "old_line_content": "    if (!plan_is_const() &&",
          "new_line_content": "      */",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": "replace",
          "new_api": null,
          "old_text": "new_it.replace(item)",
          "new_text": null,
          "old_line_content": "\tnew_it.replace(item);\t\t\t// Replace previous",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->type == type)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(tab->type == type);",
          "new_line_content": "  ~Plan_change_watchdog()",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->select == select)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(tab->select == select);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 4289,
          "old_api": "set_quick",
          "new_api": null,
          "old_text": "select->set_quick(save_quick)",
          "new_text": null,
          "old_line_content": "      select->set_quick(save_quick);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5314,
          "old_api": "set_items_ref_array",
          "new_api": null,
          "old_text": "set_items_ref_array(items0)",
          "new_text": null,
          "old_line_content": "  set_items_ref_array(items0);",
          "new_line_content": "      skip_sort_order= true;",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->select->quick == quick)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT(tab->select->quick == quick);",
          "new_line_content": "    // changes are not allowed, we verify:",
          "content_same": false
        },
        {
          "line": 5317,
          "old_api": "setup_end_select_func",
          "new_api": null,
          "old_text": "setup_end_select_func(this, NULL)",
          "new_text": null,
          "old_line_content": "      setup_end_select_func(this, NULL);",
          "new_line_content": "  fields= curr_fields_list;",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->use_quick == use_quick)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(tab->use_quick == use_quick);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 5320,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(false)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(false);",
          "new_line_content": "  if (join_tab)",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(tab->ref.key_parts == ref_key_parts)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(tab->ref.key_parts == ref_key_parts);",
          "new_line_content": "      if (quick != NULL)",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": "cancel_pushed_idx_cond",
          "new_api": null,
          "old_text": "table->file->cancel_pushed_idx_cond()",
          "new_text": null,
          "old_line_content": "      table->file->cancel_pushed_idx_cond();",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 3284,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(!order->item[0]->with_sum_func)",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(!order->item[0]->with_sum_func); // should never happen",
          "new_line_content": "    return order;",
          "content_same": false
        },
        {
          "line": 4821,
          "old_api": "mark_as_null_row",
          "new_api": null,
          "old_text": "mark_as_null_row(table)",
          "new_text": null,
          "old_line_content": "      mark_as_null_row(table);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3285,
          "old_api": "const_expression_in_where",
          "new_api": null,
          "old_text": "const_expression_in_where(where, order->item[0])",
          "new_text": null,
          "old_line_content": "    if (!const_expression_in_where(where, order->item[0]))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": "copy_fields",
          "new_api": null,
          "old_text": "copy_fields(&tmp_table_param)",
          "new_text": null,
          "old_line_content": "  copy_fields(&tmp_table_param);",
          "new_line_content": "    TABLE *const table= (join_tab+tableno)->table;",
          "content_same": false
        },
        {
          "line": 4314,
          "old_api": "add",
          "new_api": null,
          "old_text": "trace_change_index.add(\"disabled_pushed_condition_on_old_index\", true)",
          "new_text": null,
          "old_line_content": "        trace_change_index.add(\"disabled_pushed_condition_on_old_index\", true);",
          "new_line_content": "      cancelled_ICP= true;",
          "content_same": false
        },
        {
          "line": 4315,
          "old_api": "add_utf8",
          "new_api": null,
          "old_text": "trace_change_index.add_utf8(\"index\", table->key_info[changed_key].name)",
          "new_text": null,
          "old_line_content": "      trace_change_index.add_utf8(\"index\", table->key_info[changed_key].name);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5338,
          "old_api": "set",
          "new_api": null,
          "old_text": "explain_flags.set(order->src, ESP_USING_FILESORT)",
          "new_text": null,
          "old_line_content": "  explain_flags.set(order->src, ESP_USING_FILESORT);",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": "clear",
          "new_api": null,
          "old_text": "func->clear()",
          "new_text": null,
          "old_line_content": "      func->clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4322,
          "old_api": "add_alnum",
          "new_api": null,
          "old_text": "trace_change_index.add_alnum(\"access_type\", new_type)",
          "new_text": null,
          "old_line_content": "        trace_change_index.add_alnum(\"access_type\", new_type);",
          "new_line_content": "      if (!no_changes)",
          "content_same": false
        },
        {
          "line": 5349,
          "old_api": "set_condition",
          "new_api": null,
          "old_text": "tab->set_condition(NULL, __LINE__)",
          "new_text": null,
          "old_line_content": "    tab->set_condition(NULL, __LINE__);",
          "new_line_content": "    sorted result instead of reading table through select.",
          "content_same": false
        },
        {
          "line": 4326,
          "old_api": "is_started",
          "new_api": null,
          "old_text": "trace->is_started()",
          "new_text": null,
          "old_line_content": "  else if (unlikely(trace->is_started()))",
          "new_line_content": "          \"range\" : join_type_str[tab->type];",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": "add_utf8",
          "new_api": null,
          "old_text": "trace_change_index.add_utf8(\"index\",\n                                ref_key >= 0 ?\n                                table->key_info[ref_key].name : \"unknown\")",
          "new_text": null,
          "old_line_content": "    trace_change_index.add_utf8(\"index\",",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4848,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"JOIN::change_result\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"JOIN::change_result\");",
          "new_line_content": "    TRUE    error",
          "content_same": false
        },
        {
          "line": 4338,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(can_skip_sorting)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(can_skip_sorting);",
          "new_line_content": "  if (orig_cond_saved)",
          "content_same": false
        },
        {
          "line": 4850,
          "old_api": "master_unit",
          "new_api": null,
          "old_text": "select_lex->master_unit()",
          "new_text": null,
          "old_line_content": "  if (result->prepare(fields_list, select_lex->master_unit()) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4851,
          "old_api": "prepare2",
          "new_api": null,
          "old_text": "result->prepare2()",
          "new_text": null,
          "old_line_content": "      result->prepare2())",
          "new_line_content": "bool JOIN::change_result(select_result *res)",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": "const_item",
          "new_api": null,
          "old_text": "r->const_item()",
          "new_text": null,
          "old_line_content": "  return r->const_item() &&",
          "new_line_content": "    FALSE   cannot be used",
          "content_same": false
        },
        {
          "line": 3330,
          "old_api": "Arg_comparator::can_compare_as_dates(l, r, 0)",
          "new_api": null,
          "old_text": "Arg_comparator::can_compare_as_dates(l, r, 0)",
          "new_text": null,
          "old_line_content": "     (Arg_comparator::can_compare_as_dates(l, r, 0) ||",
          "new_line_content": "static bool",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "l->result_type()",
          "new_text": null,
          "old_line_content": "      (r->result_type() == l->result_type() &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "l->result_type()",
          "new_text": null,
          "old_line_content": "       (l->result_type() != STRING_RESULT ||",
          "new_line_content": "    /* elements must be compared as dates */",
          "content_same": false
        },
        {
          "line": 4359,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "field->real_item()->type()",
          "new_text": null,
          "old_line_content": "    Item::Type real_type= field->real_item()->type();",
          "new_line_content": "  param->field_count=param->sum_func_count=param->func_count=",
          "content_same": false
        },
        {
          "line": 4366,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "field->real_item()",
          "new_text": null,
          "old_line_content": "\tItem_sum *sum_item=(Item_sum*) field->real_item();",
          "new_line_content": "      param->field_count++;",
          "content_same": false
        },
        {
          "line": 4367,
          "old_api": "depended_from",
          "new_api": null,
          "old_text": "sum_item->depended_from()",
          "new_text": null,
          "old_line_content": "        if (!sum_item->depended_from() ||",
          "new_line_content": "    else if (real_type == Item::SUM_FUNC_ITEM)",
          "content_same": false
        },
        {
          "line": 4368,
          "old_api": "depended_from",
          "new_api": null,
          "old_text": "sum_item->depended_from()",
          "new_text": null,
          "old_line_content": "            sum_item->depended_from() == select_lex)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 5392,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"test_if_cheaper_ordering\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"test_if_cheaper_ordering\");",
          "new_line_content": "                         ha_rows select_limit,",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT((i2 == NULL) ^ (f2 == NULL))",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT((i2 == NULL) ^ (f2 == NULL));",
          "new_line_content": "  or if i1 is a wrapper item around the f2 field.",
          "content_same": false
        },
        {
          "line": 3857,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"test_if_skip_sort_order\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"test_if_skip_sort_order\");",
          "new_line_content": "  int best_key= -1;",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": "LINT_INIT",
          "new_api": null,
          "old_text": "LINT_INIT(ref_key_parts)",
          "new_text": null,
          "old_line_content": "  LINT_INIT(ref_key_parts);",
          "new_line_content": "  Item *orig_cond;",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": "eq",
          "new_api": null,
          "old_text": "i1->eq(i2, 1)",
          "new_text": null,
          "old_line_content": "    return i1->eq(i2, 1);",
          "new_line_content": "static bool equal(Item *i1, Item *i2, Field *f2)",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": "get_arg_count",
          "new_api": null,
          "old_text": "sum_item->get_arg_count()",
          "new_text": null,
          "old_line_content": "          for (uint i=0 ; i < sum_item->get_arg_count() ; i++)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 3350,
          "old_api": "type",
          "new_api": null,
          "old_text": "i1->type()",
          "new_text": null,
          "old_line_content": "  else if (i1->type() == Item::FIELD_ITEM)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": "get_arg",
          "new_api": null,
          "old_text": "sum_item->get_arg(i)->real_item()->type()",
          "new_text": null,
          "old_line_content": "            if (sum_item->get_arg(i)->real_item()->type() == Item::FIELD_ITEM)",
          "new_line_content": "            param->quick_group=0;\t\t\t// UDF SUM function",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": "LINT_INIT",
          "new_api": null,
          "old_text": "LINT_INIT(orig_cond)",
          "new_text": null,
          "old_line_content": "  LINT_INIT(orig_cond);",
          "new_line_content": "  bool orig_cond_saved= false, set_up_ref_access_to_key= false;",
          "content_same": false
        },
        {
          "line": 4893,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"JOIN::make_tmp_tables_info\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"JOIN::make_tmp_tables_info\");",
          "new_line_content": "  List<Item> *curr_all_fields= &all_fields;",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(1)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(1);",
          "new_line_content": "  /* Sorting a single row can always be skipped */",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "*tmp_order->item)->real_item()",
          "new_text": null,
          "old_line_content": "    Item *item= (*tmp_order->item)->real_item();",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 3883,
          "old_api": "type",
          "new_api": null,
          "old_text": "item->type()",
          "new_text": null,
          "old_line_content": "    if (item->type() != Item::FIELD_ITEM)",
          "new_line_content": "  key_map usable_keys= *map;",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": "clear_all",
          "new_api": null,
          "old_text": "usable_keys.clear_all()",
          "new_text": null,
          "old_line_content": "      usable_keys.clear_all();",
          "new_line_content": "  for (ORDER *tmp_order=order; tmp_order ; tmp_order=tmp_order->next)",
          "content_same": false
        },
        {
          "line": 5422,
          "old_api": "keys_to_use_for_scanning",
          "new_api": null,
          "old_text": "table->file->keys_to_use_for_scanning()",
          "new_text": null,
          "old_line_content": "    keys= *table->file->keys_to_use_for_scanning();",
          "new_line_content": "    resolved with a key;  This is because filesort() is usually faster than",
          "content_same": false
        },
        {
          "line": 5423,
          "old_api": "merge",
          "new_api": null,
          "old_text": "keys.merge(table->covering_keys)",
          "new_text": null,
          "old_line_content": "    keys.merge(table->covering_keys);",
          "new_line_content": "    retrieving all rows through an index.",
          "content_same": false
        },
        {
          "line": 3376,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT((comp_item == NULL) ^ (comp_field == NULL))",
          "new_text": null,
          "old_line_content": "  DBUG_ASSERT((comp_item == NULL) ^ (comp_field == NULL));",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": "is_clear_all",
          "new_api": null,
          "old_text": "usable_keys.is_clear_all()",
          "new_text": null,
          "old_line_content": "    if (usable_keys.is_clear_all())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4917,
          "old_api": "is_using_loose_index_scan",
          "new_api": null,
          "old_text": "join_tab->is_using_loose_index_scan()",
          "new_text": null,
          "old_line_content": "  if (join_tab && join_tab->is_using_loose_index_scan())",
          "new_line_content": "    grouping in the main execution loop.",
          "content_same": false
        },
        {
          "line": 3382,
          "old_api": "type",
          "new_api": null,
          "old_text": "cond->type()",
          "new_text": null,
          "old_line_content": "  if (cond->type() == Item::COND_ITEM)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": "eq",
          "new_api": null,
          "old_text": "*a->item)->eq(*b->item,1)",
          "new_text": null,
          "old_line_content": "    if ((*a->item)->eq(*b->item,1))",
          "new_line_content": "bool",
          "content_same": false
        },
        {
          "line": 4919,
          "old_api": "is_using_agg_loose_index_scan",
          "new_api": null,
          "old_text": "join_tab->is_using_agg_loose_index_scan()",
          "new_text": null,
          "old_line_content": "      !join_tab->is_using_agg_loose_index_scan();",
          "new_line_content": "    single table queries, thus it is sufficient to test only the first",
          "content_same": false
        },
        {
          "line": 5431,
          "old_api": "merge",
          "new_api": null,
          "old_text": "keys.merge(group ? table->keys_in_use_for_group_by :\n                         table->keys_in_use_for_order_by)",
          "new_text": null,
          "old_line_content": "      keys.merge(group ? table->keys_in_use_for_group_by :",
          "new_line_content": "      We are adding here also the index specified in FORCE INDEX clause, ",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": "functype",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->functype()",
          "new_text": null,
          "old_line_content": "    bool and_level= (((Item_cond*) cond)->functype()",
          "new_line_content": "  if (const_item == NULL)",
          "content_same": false
        },
        {
          "line": 5433,
          "old_api": "intersect",
          "new_api": null,
          "old_text": "keys.intersect(usable_keys)",
          "new_text": null,
          "old_line_content": "    keys.intersect(usable_keys);",
          "new_line_content": "      This is to allow users to use index in ORDER BY.",
          "content_same": false
        },
        {
          "line": 3386,
          "old_api": "argument_list",
          "new_api": null,
          "old_text": "(Item_cond*) cond)->argument_list()",
          "new_text": null,
          "old_line_content": "    List_iterator_fast<Item> li(*((Item_cond*) cond)->argument_list());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "  ref_key= -1;",
          "content_same": false
        },
        {
          "line": 4926,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "plan_is_const()",
          "new_text": null,
          "old_line_content": "    if (plan_is_const())",
          "new_line_content": "  /* Create a tmp table if distinct or if the sort is too complicated */",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "const_expression_in_where",
          "new_api": null,
          "old_text": "const_expression_in_where(item, comp_item, comp_field,\n                                         const_item)",
          "new_text": null,
          "old_line_content": "      bool res=const_expression_in_where(item, comp_item, comp_field,",
          "new_line_content": "\t\t     == Item_func::COND_AND_FUNC);",
          "content_same": false
        },
        {
          "line": 3904,
          "old_api": "get_type",
          "new_api": null,
          "old_text": "select->quick->get_type()",
          "new_text": null,
          "old_line_content": "    int quick_type= select->quick->get_type();",
          "new_line_content": "    ref_key=\t   tab->ref.key;",
          "content_same": false
        },
        {
          "line": 4933,
          "old_api": "init_items_ref_array",
          "new_api": null,
          "old_text": "init_items_ref_array()",
          "new_text": null,
          "old_line_content": "    init_items_ref_array();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5446,
          "old_api": "scan_time",
          "new_api": null,
          "old_text": "table->file->scan_time()",
          "new_text": null,
          "old_line_content": "    read_time= table->file->scan_time();",
          "new_line_content": "    for (const JOIN_TAB *jt= tab + 1;",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "eq_cmp_result",
          "new_api": null,
          "old_text": "cond->eq_cmp_result()",
          "new_text": null,
          "old_line_content": "  else if (cond->eq_cmp_result() != Item::COND_OK)",
          "new_line_content": "      else if (!and_level)",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 4429,
          "old_api": "get_tmp_table_field",
          "new_api": null,
          "old_text": "group_item->get_tmp_table_field()",
          "new_text": null,
          "old_line_content": "    Field *field= group_item->get_tmp_table_field();",
          "new_line_content": "  if (group)",
          "content_same": false
        },
        {
          "line": 4942,
          "old_api": "create_intermediate_table",
          "new_api": null,
          "old_text": "create_intermediate_table(&join_tab[curr_tmp_table],\n                                  &all_fields, tmp_group, \n                                  group_list && simple_group)",
          "new_text": null,
          "old_line_content": "    if (create_intermediate_table(&join_tab[curr_tmp_table],",
          "new_line_content": "      tmp_group= group_list;",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": "functype",
          "new_api": null,
          "old_text": "func->functype()",
          "new_text": null,
          "old_line_content": "    if (func->functype() != Item_func::EQUAL_FUNC &&",
          "new_line_content": "    return and_level ? 0 : 1;",
          "content_same": false
        },
        {
          "line": 3406,
          "old_api": "functype",
          "new_api": null,
          "old_text": "func->functype()",
          "new_text": null,
          "old_line_content": "\tfunc->functype() != Item_func::EQ_FUNC)",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4433,
          "old_api": "type",
          "new_api": null,
          "old_text": "field->type()",
          "new_text": null,
          "old_line_content": "      if ((type= field->type()) == MYSQL_TYPE_BLOB)",
          "new_line_content": "    Item *group_item= *group->item;",
          "content_same": false
        },
        {
          "line": 4945,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(true);",
          "new_line_content": "      all_fields.elements - fields_list.elements;",
          "content_same": false
        },
        {
          "line": 5454,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->quick_keys.is_set(ref_key)",
          "new_text": null,
          "old_line_content": "    if (table->quick_keys.is_set(ref_key))",
          "new_line_content": "    Calculate the selectivity of the ref_key for REF_ACCESS. For",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": "arguments",
          "new_api": null,
          "old_text": "(Item_func*) cond)->arguments()",
          "new_text": null,
          "old_line_content": "    Item *left_item=\t((Item_func*) cond)->arguments()[0];",
          "new_line_content": "  {\t\t\t\t\t\t// boolean compare function",
          "content_same": false
        },
        {
          "line": 4949,
          "old_api": "optimize_distinct",
          "new_api": null,
          "old_text": "optimize_distinct()",
          "new_text": null,
          "old_line_content": "      optimize_distinct();",
          "new_line_content": "                                  group_list && simple_group))",
          "content_same": false
        },
        {
          "line": 3409,
          "old_api": "arguments",
          "new_api": null,
          "old_text": "(Item_func*) cond)->arguments()",
          "new_text": null,
          "old_line_content": "    Item *right_item= ((Item_func*) cond)->arguments()[1];",
          "new_line_content": "    Item_func* func= (Item_func*) cond;",
          "content_same": false
        },
        {
          "line": 3412,
          "old_api": "test_if_equality_guarantees_uniqueness (left_item, right_item)",
          "new_api": null,
          "old_text": "test_if_equality_guarantees_uniqueness (left_item, right_item)",
          "new_text": null,
          "old_line_content": "      if (test_if_equality_guarantees_uniqueness (left_item, right_item))",
          "new_line_content": "      return 0;",
          "content_same": false
        },
        {
          "line": 5461,
          "old_api": "set_if_bigger",
          "new_api": null,
          "old_text": "set_if_bigger(refkey_rows_estimate, 1)",
          "new_text": null,
          "old_line_content": "    set_if_bigger(refkey_rows_estimate, 1);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 3928,
          "old_api": "set_jt_and_sel_condition",
          "new_api": null,
          "old_text": "tab->set_jt_and_sel_condition(tab->pre_idx_push_cond, __LINE__)",
          "new_text": null,
          "old_line_content": "      tab->set_jt_and_sel_condition(tab->pre_idx_push_cond, __LINE__);",
          "new_line_content": "    exiting this function (if we have not changed index).",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": "pack_length",
          "new_api": null,
          "old_text": "field->pack_length()",
          "new_text": null,
          "old_line_content": "\tkey_length+= field->pack_length();",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 5468,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "keys.is_set(nr)",
          "new_text": null,
          "old_line_content": "    if (keys.is_set(nr) &&",
          "new_line_content": "  for (nr=0; nr < table->s->keys ; nr++)",
          "content_same": false
        },
        {
          "line": 4957,
          "old_api": "use_order",
          "new_api": null,
          "old_text": "DBUG_ASSERT(\n      !(ordered_index_usage == ordered_index_void &&\n        !plan_is_const() && \n        join_tab[const_tables].position->sj_strategy != SJ_OPT_LOOSE_SCAN &&\n        join_tab[const_tables].use_order()))",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(",
          "new_line_content": "      If there is no sorting or grouping, 'use_order'",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": "test_if_equality_guarantees_uniqueness (right_item, left_item)",
          "new_api": null,
          "old_text": "test_if_equality_guarantees_uniqueness (right_item, left_item)",
          "new_text": null,
          "old_line_content": "      if (test_if_equality_guarantees_uniqueness (right_item, left_item))",
          "new_line_content": "\treturn 1;",
          "content_same": false
        },
        {
          "line": 4447,
          "old_api": "result_type",
          "new_api": null,
          "old_text": "group_item->result_type()",
          "new_text": null,
          "old_line_content": "      switch (group_item->result_type()) {",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 4959,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "plan_is_const()",
          "new_text": null,
          "old_line_content": "        !plan_is_const() && ",
          "new_line_content": "      Exception: LooseScan strategy for semijoin requires",
          "content_same": false
        },
        {
          "line": 4961,
          "old_api": "use_order",
          "new_api": null,
          "old_text": "join_tab[const_tables].use_order()",
          "new_text": null,
          "old_line_content": "        join_tab[const_tables].use_order()));",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 5469,
          "old_api": "test_if_order_by_key",
          "new_api": null,
          "old_text": "test_if_order_by_key(order, table, nr, &used_key_parts)",
          "new_text": null,
          "old_line_content": "        (direction= test_if_order_by_key(order, table, nr, &used_key_parts)))",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": "add_alnum",
          "new_api": null,
          "old_text": "trace_skip_sort_order.add_alnum(\"clause\", clause_type)",
          "new_text": null,
          "old_line_content": "  trace_skip_sort_order.add_alnum(\"clause\", clause_type);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5476,
          "old_api": "DBUG_ASSERT (ref_key != (int) nr)",
          "new_api": null,
          "old_text": "DBUG_ASSERT (ref_key != (int) nr)",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT (ref_key != (int) nr);",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->quick_keys.is_set(best_key)",
          "new_text": null,
          "old_line_content": "        table->quick_keys.is_set(best_key) &&",
          "new_line_content": "      can_skip_sorting= false;",
          "content_same": false
        },
        {
          "line": 5478,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->covering_keys.is_set(nr)",
          "new_text": null,
          "old_line_content": "      bool is_covering= table->covering_keys.is_set(nr) ||",
          "new_line_content": "        key (where \"ordering key\" is a key that will return rows",
          "content_same": false
        },
        {
          "line": 4455,
          "old_api": "my_decimal_get_binary_size",
          "new_api": null,
          "old_text": "my_decimal_get_binary_size(group_item->max_length - \n                                                (group_item->decimals ? 1 : 0),\n                                                group_item->decimals)",
          "new_text": null,
          "old_line_content": "        key_length+= my_decimal_get_binary_size(group_item->max_length - ",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 5480,
          "old_api": "primary_key_is_clustered",
          "new_api": null,
          "old_text": "table->file->primary_key_is_clustered()",
          "new_text": null,
          "old_line_content": "                        table->file->primary_key_is_clustered());",
          "new_line_content": "      */",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "usable_keys.is_set(ref_key)",
          "new_text": null,
          "old_line_content": "    if (!usable_keys.is_set(ref_key))",
          "new_line_content": "  if (ref_key >= 0)",
          "content_same": false
        },
        {
          "line": 4466,
          "old_api": "is_temporal",
          "new_api": null,
          "old_text": "group_item->is_temporal()",
          "new_text": null,
          "old_line_content": "        if (group_item->is_temporal())",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 3954,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->covering_keys.is_set(ref_key)",
          "new_text": null,
          "old_line_content": "      if (table->covering_keys.is_set(ref_key))",
          "new_line_content": "      uint new_ref_key;",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": "intersect",
          "new_api": null,
          "old_text": "usable_keys.intersect(table->covering_keys)",
          "new_text": null,
          "old_line_content": "\tusable_keys.intersect(table->covering_keys);",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 3957,
          "old_api": "test_if_subkey",
          "new_api": null,
          "old_text": "test_if_subkey(order, tab, ref_key, ref_key_parts,\n\t\t\t\t       &usable_keys)",
          "new_text": null,
          "old_line_content": "      if ((new_ref_key= test_if_subkey(order, tab, ref_key, ref_key_parts,",
          "new_line_content": "\tkeys",
          "content_same": false
        },
        {
          "line": 4470,
          "old_api": "field_type",
          "new_api": null,
          "old_text": "group_item->field_type()",
          "new_text": null,
          "old_line_content": "        else if (group_item->field_type() == MYSQL_TYPE_BLOB)",
          "new_line_content": "        */",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "items1.is_null()",
          "new_text": null,
          "old_line_content": "    DBUG_ASSERT(items1.is_null());",
          "new_line_content": "      join_tab[curr_tmp_table].having= having;",
          "content_same": false
        },
        {
          "line": 4983,
          "old_api": "ref_ptr_array_slice",
          "new_api": null,
          "old_text": "ref_ptr_array_slice(2)",
          "new_text": null,
          "old_line_content": "    items1= ref_ptr_array_slice(2);",
          "new_line_content": "      having= NULL; // Already done",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(reverse)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(reverse);",
          "new_line_content": "      reverse= 0;                               // Index can't be used",
          "content_same": false
        },
        {
          "line": 4065,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "tab->quick_order_tested.is_set(best_key)",
          "new_text": null,
          "old_line_content": "        !tab->quick_order_tested.is_set(best_key) &&",
          "new_line_content": "      goto fix_ICP;",
          "content_same": false
        },
        {
          "line": 4990,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "        DBUG_RETURN(true);",
          "new_line_content": "        tmp_table_param.precomputed_group_by)",
          "content_same": false
        },
        {
          "line": 4994,
          "old_api": "change_refs_to_tmp_fields",
          "new_api": null,
          "old_text": "change_refs_to_tmp_fields(thd, items1,\n                                    tmp_fields_list1, tmp_all_fields1,\n                                    fields_list.elements, all_fields)",
          "new_text": null,
          "old_line_content": "      if (change_refs_to_tmp_fields(thd, items1,",
          "new_line_content": "                                   fields_list.elements, all_fields))",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": "DBUG_ASSERT",
          "new_api": null,
          "old_text": "DBUG_ASSERT(0)",
          "new_text": null,
          "old_line_content": "        DBUG_ASSERT(0);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4486,
          "old_api": "MYF",
          "new_api": null,
          "old_text": "MYF(ME_FATALERROR)",
          "new_text": null,
          "old_line_content": "        my_error(ER_OUT_OF_RESOURCES, MYF(ME_FATALERROR));",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 4997,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "        DBUG_RETURN(true);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 5509,
          "old_api": "actual_key_parts",
          "new_api": null,
          "old_text": "actual_key_parts(keyinfo)",
          "new_text": null,
          "old_line_content": "                       used_key_parts <= actual_key_parts(keyinfo) ?",
          "new_line_content": "            when using a secondary index clustered with a primary ",
          "content_same": false
        },
        {
          "line": 5511,
          "old_api": "set_if_bigger",
          "new_api": null,
          "old_text": "set_if_bigger(rec_per_key, 1)",
          "new_text": null,
          "old_line_content": "          set_if_bigger(rec_per_key, 1);",
          "new_line_content": "            See Bug #28591 for details.",
          "content_same": false
        },
        {
          "line": 5006,
          "old_api": "setup_tmptable_write_func",
          "new_api": null,
          "old_text": "setup_tmptable_write_func(&join_tab[curr_tmp_table])",
          "new_text": null,
          "old_line_content": "    setup_tmptable_write_func(&join_tab[curr_tmp_table]);",
          "new_line_content": "    // Need to set them now for correct group_fields setup, reset at the end.",
          "content_same": false
        },
        {
          "line": 3470,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"test_if_order_by_key\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"test_if_order_by_key\");",
          "new_line_content": "  key_part_end=key_part+table->key_info[idx].user_defined_key_parts;",
          "content_same": false
        },
        {
          "line": 5520,
          "old_api": "ha_rows) (select_limit*rec_per_key)",
          "new_api": null,
          "old_text": "ha_rows) (select_limit*rec_per_key)",
          "new_text": null,
          "old_line_content": "            select_limit= (ha_rows) (select_limit*rec_per_key);",
          "new_line_content": "            be included into the result set.",
          "content_same": false
        },
        {
          "line": 3474,
          "old_api": "real_item",
          "new_api": null,
          "old_text": "*order->item)->real_item()",
          "new_text": null,
          "old_line_content": "    Field *field=((Item_field*) (*order->item)->real_item())->field;",
          "new_line_content": "  my_bool on_pk_suffix= FALSE;",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": "set_bit",
          "new_api": null,
          "old_text": "new_ref_key_map.set_bit(new_ref_key)",
          "new_text": null,
          "old_line_content": "          new_ref_key_map.set_bit(new_ref_key); // only for new_ref_key.",
          "new_line_content": "            possible to avoid sorting if an index is used to access",
          "content_same": false
        },
        {
          "line": 5532,
          "old_api": "ha_rows) (select_limit < fanout ?\n                                 1 : select_limit/fanout)",
          "new_api": null,
          "old_text": "ha_rows) (select_limit < fanout ?\n                                 1 : select_limit/fanout)",
          "new_text": null,
          "old_line_content": "        select_limit= (ha_rows) (select_limit < fanout ?",
          "new_line_content": "          Usually our estimates for fanouts are too pessimistic.",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": "add_utf8_table",
          "new_api": null,
          "old_text": "trace_recest.add_utf8_table(tab->table).\n          add_utf8(\"index\", table->key_info[new_ref_key].name)",
          "new_text": null,
          "old_line_content": "          trace_recest.add_utf8_table(tab->table).",
          "new_line_content": "          key_map new_ref_key_map;  // Force the creation of quick select",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": "test_quick_select",
          "new_api": null,
          "old_text": "select->test_quick_select(tab->join->thd, \n                                        new_ref_key_map, \n                                        0,       // empty table_map\n                                        (tab->join->select_options &\n                                         OPTION_FOUND_ROWS) ?\n                                        HA_POS_ERROR :\n                                        tab->join->unit->select_limit_cnt,\n                                        false,   // don't force quick range\n                                        order->direction)",
          "new_text": null,
          "old_line_content": "          if (select->test_quick_select(tab->join->thd, ",
          "new_line_content": "          Opt_trace_object",
          "content_same": false
        },
        {
          "line": 4513,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"alloc_func_list\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"alloc_func_list\");",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": "ha_table_flags",
          "new_api": null,
          "old_text": "table->file->ha_table_flags()",
          "new_text": null,
          "old_line_content": "          (table->file->ha_table_flags() & HA_PRIMARY_KEY_IN_READ_INDEX) &&",
          "new_line_content": "        We are at the end of the key. Check if the engine has the primary",
          "content_same": false
        },
        {
          "line": 5031,
          "old_api": "test_if_subpart",
          "new_api": null,
          "old_text": "test_if_subpart(group_list, order)",
          "new_text": null,
          "old_line_content": "         (!test_if_subpart(group_list, order) || select_distinct)) ||",
          "new_line_content": "      we haven't been able to store in the temporary table yet",
          "content_same": false
        },
        {
          "line": 5034,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"info\",(\"Creating group table\"))",
          "new_text": null,
          "old_line_content": "      DBUG_PRINT(\"info\",(\"Creating group table\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5547,
          "old_api": "ha_rows) (select_limit *\n                                   (double) table_records /\n                                    refkey_rows_estimate)",
          "new_api": null,
          "old_text": "ha_rows) (select_limit *\n                                   (double) table_records /\n                                    refkey_rows_estimate)",
          "new_text": null,
          "old_line_content": "          select_limit= (ha_rows) (select_limit *",
          "new_line_content": "          <=> N > refkey_rows_estimate.",
          "content_same": false
        },
        {
          "line": 5037,
          "old_api": "count_field_types",
          "new_api": null,
          "old_text": "count_field_types(select_lex, &tmp_table_param, tmp_all_fields1,\n                        select_distinct && !group_list)",
          "new_text": null,
          "old_line_content": "      count_field_types(select_lex, &tmp_table_param, tmp_all_fields1,",
          "new_line_content": "        (select_distinct && tmp_table_param.using_indirect_summary_function))",
          "content_same": false
        },
        {
          "line": 5551,
          "old_api": "set_if_bigger",
          "new_api": null,
          "old_text": "set_if_bigger(rec_per_key, 1)",
          "new_text": null,
          "old_line_content": "        set_if_bigger(rec_per_key, 1);",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 4018,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "usable_keys.is_set(ref_key)",
          "new_text": null,
          "old_line_content": "    if (usable_keys.is_set(ref_key) &&",
          "new_line_content": "        ref_key= new_ref_key;",
          "content_same": false
        },
        {
          "line": 4019,
          "old_api": "test_if_order_by_key",
          "new_api": null,
          "old_text": "test_if_order_by_key(order,table,ref_key,\n\t\t\t\t\t       &used_key_parts)",
          "new_text": null,
          "old_line_content": "        (order_direction= test_if_order_by_key(order,table,ref_key,",
          "new_line_content": "        changed_key= new_ref_key;",
          "content_same": false
        },
        {
          "line": 5046,
          "old_api": "set",
          "new_api": null,
          "old_text": "explain_flags.set(ESC_BUFFER_RESULT, ESP_USING_TMPTABLE)",
          "new_text": null,
          "old_line_content": "        explain_flags.set(ESC_BUFFER_RESULT, ESP_USING_TMPTABLE);",
          "new_line_content": "      ",
          "content_same": false
        },
        {
          "line": 3516,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "        DBUG_RETURN(0);",
          "new_line_content": "          reverse= 1;",
          "content_same": false
        },
        {
          "line": 5564,
          "old_api": "scan_time",
          "new_api": null,
          "old_text": "table->file->scan_time()",
          "new_text": null,
          "old_line_content": "                         min(rec_per_key, table->file->scan_time());",
          "new_line_content": "          TODO. Use the formula for a disk sweep sequential access",
          "content_same": false
        },
        {
          "line": 3519,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "field->part_of_sortkey.is_set(idx)",
          "new_text": null,
          "old_line_content": "    if (key_part->field != field || !field->part_of_sortkey.is_set(idx))",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "thd->calloc(sizeof(Item_sum**) * (func_count+1) +\n\t\t\t\t           sizeof(Item_sum***) * (group_parts+1))",
          "new_text": null,
          "old_line_content": "  sum_funcs= (Item_sum**) thd->calloc(sizeof(Item_sum**) * (func_count+1) +",
          "new_line_content": "        group_parts++;",
          "content_same": false
        },
        {
          "line": 5057,
          "old_api": "is_using_loose_index_scan",
          "new_api": null,
          "old_text": "join_tab->is_using_loose_index_scan()",
          "new_text": null,
          "old_line_content": "      if (join_tab->is_using_loose_index_scan())",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "      else",
          "content_same": false
        },
        {
          "line": 4547,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(sum_funcs == 0)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(sum_funcs == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5571,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->covering_keys.is_set(ref_key)",
          "new_text": null,
          "old_line_content": "                                        table->covering_keys.is_set(ref_key)) ?",
          "new_line_content": "            (ref_key < 0 && (group || table->force_index)) ||",
          "content_same": false
        },
        {
          "line": 3013,
          "old_api": "end_read_record",
          "new_api": null,
          "old_text": "end_read_record(&read_record)",
          "new_text": null,
          "old_line_content": "  end_read_record(&read_record);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4035,
          "old_api": "test_if_cheaper_ordering",
          "new_api": null,
          "old_text": "test_if_cheaper_ordering(tab, order, table, usable_keys,\n                             ref_key, select_limit,\n                             &best_key, &best_key_direction,\n                             &select_limit, &best_key_parts,\n                             &saved_best_key_parts)",
          "new_text": null,
          "old_line_content": "    test_if_cheaper_ordering(tab, order, table, usable_keys,",
          "new_line_content": "    uint saved_best_key_parts= 0;",
          "content_same": false
        },
        {
          "line": 5064,
          "old_api": "create_intermediate_table",
          "new_api": null,
          "old_text": "create_intermediate_table(&join_tab[curr_tmp_table],\n                                    curr_all_fields, dummy, true)",
          "new_text": null,
          "old_line_content": "      if (create_intermediate_table(&join_tab[curr_tmp_table],",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3528,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(0)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(0);",
          "new_line_content": "      (key_part->key_part_flag & HA_REVERSE_SORT) ? ",
          "content_same": false
        },
        {
          "line": 5066,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "\tDBUG_RETURN(true);",
          "new_line_content": "        curr_all_fields->elements - curr_fields_list->elements;",
          "content_same": false
        },
        {
          "line": 5577,
          "old_api": "is_set",
          "new_api": null,
          "old_text": "table->quick_keys.is_set(nr)",
          "new_text": null,
          "old_line_content": "          if (table->quick_keys.is_set(nr))",
          "new_line_content": "                                        refkey_rows_estimate :",
          "content_same": false
        },
        {
          "line": 5580,
          "old_api": "min",
          "new_api": null,
          "old_text": "min(quick_records,best_records)",
          "new_text": null,
          "old_line_content": "              (select_limit <= min(quick_records,best_records) ?",
          "new_line_content": "              (is_covering && refkey_select_limit < select_limit))",
          "content_same": false
        },
        {
          "line": 5070,
          "old_api": "set",
          "new_api": null,
          "old_text": "explain_flags.set(group_list.src, ESP_USING_TMPTABLE)",
          "new_text": null,
          "old_line_content": "        explain_flags.set(group_list.src, ESP_USING_TMPTABLE);",
          "new_line_content": "                                    curr_all_fields, dummy, true))",
          "content_same": false
        },
        {
          "line": 3536,
          "old_api": "uint) (key_part - table->key_info[table->s->primary_key].key_part)",
          "new_api": null,
          "old_text": "uint) (key_part - table->key_info[table->s->primary_key].key_part)",
          "new_text": null,
          "old_line_content": "      (uint) (key_part - table->key_info[table->s->primary_key].key_part);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5074,
          "old_api": "add_sorting_to_table",
          "new_api": null,
          "old_text": "add_sorting_to_table(sort_tab, &group_list)",
          "new_text": null,
          "old_line_content": "          if (add_sorting_to_table(sort_tab, &group_list))",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 3540,
          "old_api": "index_flags",
          "new_api": null,
          "old_text": "table->file->index_flags(idx, used_key_parts_secondary - 1, 1)",
          "new_text": null,
          "old_line_content": "        (!(table->file->index_flags(idx, used_key_parts_secondary - 1, 1) &",
          "new_line_content": "    uint used_key_parts_pk=",
          "content_same": false
        },
        {
          "line": 5078,
          "old_api": "make_group_fields",
          "new_api": null,
          "old_text": "make_group_fields(this, this)",
          "new_text": null,
          "old_line_content": "        if (make_group_fields(this, this))",
          "new_line_content": "          JOIN_TAB *sort_tab= &join_tab[curr_tmp_table - 1];",
          "content_same": false
        },
        {
          "line": 3542,
          "old_api": "index_flags",
          "new_api": null,
          "old_text": "table->file->index_flags(table->s->primary_key,\n                                    used_key_parts_pk - 1, 1)",
          "new_text": null,
          "old_line_content": "         !(table->file->index_flags(table->s->primary_key,",
          "new_line_content": "    key_parts= used_key_parts_pk + used_key_parts_secondary;",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "primary_key_is_clustered",
          "new_api": null,
          "old_text": "table->file->primary_key_is_clustered()",
          "new_text": null,
          "old_line_content": "          !table->file->primary_key_is_clustered()))",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": "DBUG_ENTER",
          "new_api": null,
          "old_text": "DBUG_ENTER(\"make_sum_func_list\")",
          "new_text": null,
          "old_line_content": "  DBUG_ENTER(\"make_sum_func_list\");",
          "new_line_content": "\t\t\t      bool before_group_by, bool recompute)",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": "and_with_condition",
          "new_api": null,
          "old_text": "and_with_condition(add_cond, line)",
          "new_text": null,
          "old_line_content": "  if (and_with_condition(add_cond, line))",
          "new_line_content": "  @retval false  otherwise",
          "content_same": false
        },
        {
          "line": 5086,
          "old_api": "use_order",
          "new_api": null,
          "old_text": "DBUG_ASSERT(!(ordered_index_usage == ordered_index_void &&\n                    !plan_is_const() &&\n                    join_tab[const_tables].use_order()))",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT(!(ordered_index_usage == ordered_index_void &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(FALSE); /* We have already initialized sum_funcs. */",
          "new_line_content": "  Item_sum **func;",
          "content_same": false
        },
        {
          "line": 5087,
          "old_api": "plan_is_const",
          "new_api": null,
          "old_text": "plan_is_const()",
          "new_text": null,
          "old_line_content": "                    !plan_is_const() &&",
          "new_line_content": "      /*",
          "content_same": false
        },
        {
          "line": 5088,
          "old_api": "use_order",
          "new_api": null,
          "old_text": "join_tab[const_tables].use_order()",
          "new_text": null,
          "old_line_content": "                    join_tab[const_tables].use_order()));",
          "new_line_content": "        If there is no sorting or grouping, 'use_order'",
          "content_same": false
        },
        {
          "line": 3548,
          "old_api": "uint) (key_part - table->key_info[idx].key_part)",
          "new_api": null,
          "old_text": "uint) (key_part - table->key_info[idx].key_part)",
          "new_text": null,
          "old_line_content": "    key_parts= (uint) (key_part - table->key_info[idx].key_part);",
          "new_line_content": "                                    used_key_parts_pk - 1, 1) & HA_READ_PREV)))",
          "content_same": false
        },
        {
          "line": 3550,
          "old_api": "index_flags",
          "new_api": null,
          "old_text": "table->file->index_flags(idx, key_parts-1, 1)",
          "new_text": null,
          "old_line_content": "        !(table->file->index_flags(idx, key_parts-1, 1) & HA_READ_PREV))",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5599,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(FALSE);",
          "new_line_content": "      }      ",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": "depended_from",
          "new_api": null,
          "old_text": "(Item_sum*) item)->depended_from()",
          "new_text": null,
          "old_line_content": "        (!((Item_sum*) item)->depended_from() ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": "depended_from",
          "new_api": null,
          "old_text": "(Item_sum *)item)->depended_from()",
          "new_text": null,
          "old_line_content": "         ((Item_sum *)item)->depended_from() == select_lex))",
          "new_line_content": "  func= sum_funcs;",
          "content_same": false
        },
        {
          "line": 5094,
          "old_api": "make_sum_func_list",
          "new_api": null,
          "old_text": "make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true)",
          "new_text": null,
          "old_line_content": "        if (make_sum_func_list(*curr_all_fields, *curr_fields_list, true, true))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5095,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "          DBUG_RETURN(true);",
          "new_line_content": "      // Setup sum funcs only when necessary, otherwise we might break info",
          "content_same": false
        },
        {
          "line": 5096,
          "old_api": "is_using_agg_loose_index_scan",
          "new_api": null,
          "old_text": "prepare_sum_aggregators(sum_funcs,\n                                    !join_tab->is_using_agg_loose_index_scan())",
          "new_text": null,
          "old_line_content": "        if (prepare_sum_aggregators(sum_funcs,",
          "new_line_content": "      // for the first table",
          "content_same": false
        },
        {
          "line": 5097,
          "old_api": "is_using_agg_loose_index_scan",
          "new_api": null,
          "old_text": "join_tab->is_using_agg_loose_index_scan()",
          "new_text": null,
          "old_line_content": "                                    !join_tab->is_using_agg_loose_index_scan()))",
          "new_line_content": "      if (group_list || tmp_table_param.sum_func_count)",
          "content_same": false
        },
        {
          "line": 5098,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "          DBUG_RETURN(true);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": "rollup_make_fields",
          "new_api": null,
          "old_text": "rollup_make_fields(field_list, send_result_set_metadata, &func)",
          "new_text": null,
          "old_line_content": "    if (rollup_make_fields(field_list, send_result_set_metadata, &func))",
          "new_line_content": "      *func++= (Item_sum*) item;",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "      DBUG_RETURN(TRUE);\t\t\t// Should never happen",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5607,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(TRUE)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(TRUE);",
          "new_line_content": "  *new_key_direction= best_key_direction;",
          "content_same": false
        },
        {
          "line": 4071,
          "old_api": "add_utf8_table",
          "new_api": null,
          "old_text": "trace_recest.add_utf8_table(tab->table).\n        add_utf8(\"index\", table->key_info[best_key].name)",
          "new_text": null,
          "old_line_content": "      trace_recest.add_utf8_table(tab->table).",
          "new_line_content": "        best_key != ref_key)",
          "content_same": false
        },
        {
          "line": 5104,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "items2.is_null()",
          "new_text": null,
          "old_line_content": "      DBUG_ASSERT(items2.is_null());",
          "new_line_content": "        group_list= NULL;",
          "content_same": false
        },
        {
          "line": 4075,
          "old_api": "set_bit",
          "new_api": null,
          "old_text": "map.set_bit(best_key)",
          "new_text": null,
          "old_line_content": "      map.set_bit(best_key); // only best_key.",
          "new_line_content": "        trace_recest(trace, \"rows_estimation\");",
          "content_same": false
        },
        {
          "line": 4077,
          "old_api": "test_quick_select",
          "new_api": null,
          "old_text": "select->test_quick_select(join->thd, \n                                map, \n                                0,        // empty table_map\n                                join->select_options & OPTION_FOUND_ROWS ?\n                                HA_POS_ERROR :\n                                join->unit->select_limit_cnt,\n                                true,     // force quick range\n                                order->direction)",
          "new_text": null,
          "old_line_content": "      select->test_quick_select(join->thd, ",
          "new_line_content": "        add_utf8(\"index\", table->key_info[best_key].name);",
          "content_same": false
        },
        {
          "line": 5107,
          "old_api": "change_to_use_tmp_fields",
          "new_api": null,
          "old_text": "change_to_use_tmp_fields(thd, items2,\n                                   tmp_fields_list2, tmp_all_fields2, \n                                   fields_list.elements, tmp_all_fields1)",
          "new_text": null,
          "old_line_content": "      if (change_to_use_tmp_fields(thd, items2,",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4068,
          "old_api": "set_bit",
          "new_api": null,
          "old_text": "tab->quick_order_tested.set_bit(best_key)",
          "new_text": null,
          "old_line_content": "      tab->quick_order_tested.set_bit(best_key);",
          "new_line_content": "    if (select &&",
          "content_same": false
        },
        {
          "line": 4597,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": null,
          "old_line_content": "    DBUG_RETURN(FALSE);                         // Don't put end marker",
          "new_line_content": "  {",
          "content_same": false
        },
        {
          "line": 5110,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(true)",
          "new_text": null,
          "old_line_content": "        DBUG_RETURN(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": "DBUG_RETURN",
          "new_api": null,
          "old_text": "DBUG_RETURN(FALSE)",
          "new_text": null,
          "old_line_content": "  DBUG_RETURN(FALSE);",
          "new_line_content": "      sum_funcs_end[i]= func;",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": "DBUG_PRINT",
          "new_api": null,
          "old_text": "DBUG_PRINT(\"info\", (\"JOIN_TAB::m_condition extended. Change %p -> %p \"\n                      \"at line %u tab %p\",\n                      old_cond, m_condition, line, this))",
          "new_text": null,
          "old_line_content": "  DBUG_PRINT(\"info\", (\"JOIN_TAB::m_condition extended. Change %p -> %p \"",
          "new_line_content": "bool JOIN_TAB::and_with_condition(Item *add_cond, uint line)",
          "content_same": false
        },
        {
          "line": 5114,
          "old_api": "set_items_ref_array",
          "new_api": null,
          "old_text": "set_items_ref_array(items2)",
          "new_text": null,
          "old_line_content": "      set_items_ref_array(items2);",
          "new_line_content": "                                   fields_list.elements, tmp_all_fields1))",
          "content_same": false
        },
        {
          "line": 5118,
          "old_api": "setup_tmptable_write_func",
          "new_api": null,
          "old_text": "setup_tmptable_write_func(&join_tab[curr_tmp_table])",
          "new_text": null,
          "old_line_content": "      setup_tmptable_write_func(&join_tab[curr_tmp_table]);",
          "new_line_content": "      curr_all_fields= &tmp_all_fields2;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 51,
      "total_additions": 282,
      "total_deletions": 281,
      "total_api_changes": 614
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 614,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          3016,
          3012,
          3014
        ]
      }
    },
    "api_calls_before": 769,
    "api_calls_after": 770,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 0,
      "total_diff_lines": 17
    }
  }
}