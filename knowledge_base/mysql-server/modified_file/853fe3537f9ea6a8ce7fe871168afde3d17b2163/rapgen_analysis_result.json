{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/853fe3537f9ea6a8ce7fe871168afde3d17b2163",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/853fe3537f9ea6a8ce7fe871168afde3d17b2163/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/853fe3537f9ea6a8ce7fe871168afde3d17b2163/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/mysql-server/modified_file/853fe3537f9ea6a8ce7fe871168afde3d17b2163/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 770,
          "old_api": "dtuple_fold",
          "new_api": "ut_ad",
          "old_text": "dtuple_fold(tuple, cursor->n_fields, cursor->n_bytes, index_id)",
          "new_text": "ut_ad(btr_search_latch.writer != RW_LOCK_EX)",
          "old_line_content": "\tfold = dtuple_fold(tuple, cursor->n_fields, cursor->n_bytes, index_id);",
          "new_line_content": "\tut_ad(btr_search_latch.writer != RW_LOCK_EX);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "UNIV_LIKELY",
          "new_api": "UNIV_UNLIKELY",
          "old_text": "UNIV_LIKELY(!has_search_latch)",
          "new_text": "UNIV_UNLIKELY(!rec)",
          "old_line_content": "\tif (UNIV_LIKELY(!has_search_latch)) {",
          "new_line_content": "\tif (UNIV_UNLIKELY(!rec)) {",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "ut_ad",
          "new_api": "page_align",
          "old_text": "ut_ad(btr_search_latch.writer != RW_LOCK_EX)",
          "new_text": "page_align((rec_t*) rec)",
          "old_line_content": "\tut_ad(btr_search_latch.writer != RW_LOCK_EX);",
          "new_line_content": "\tpage = page_align((rec_t*) rec);",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "ha_search_and_get_data",
          "new_api": "page_get_space_id",
          "old_text": "ha_search_and_get_data(btr_search_sys->hash_index, fold)",
          "new_text": "page_get_space_id(page)",
          "old_line_content": "\trec = ha_search_and_get_data(btr_search_sys->hash_index, fold);",
          "new_line_content": "\t\tulint\tspace_id\t= page_get_space_id(page);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "UNIV_UNLIKELY",
          "new_api": "mutex_enter",
          "old_text": "UNIV_UNLIKELY(!rec)",
          "new_text": "mutex_enter(&buf_pool->mutex)",
          "old_line_content": "\tif (UNIV_UNLIKELY(!rec)) {",
          "new_line_content": "\t\tmutex_enter(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "page_get_page_no",
          "new_api": "buf_block_get_state",
          "old_text": "page_get_page_no(page)",
          "new_text": "buf_block_get_state(block)",
          "old_line_content": "\t\tulint\tpage_no\t\t= page_get_page_no(page);",
          "new_line_content": "\t    || UNIV_UNLIKELY(buf_block_get_state(block)",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "rw_lock_s_unlock",
          "new_api": "UNIV_LIKELY",
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": "UNIV_LIKELY(!has_search_latch)",
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t\tif (UNIV_LIKELY(!has_search_latch)) {",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "btr_cur_position",
          "new_api": "btr_page_get_index_id",
          "old_text": "btr_cur_position(index, rec, block, cursor)",
          "new_text": "btr_page_get_index_id(page)",
          "old_line_content": "\tbtr_cur_position(index, rec, block, cursor);",
          "new_line_content": "\t\t    ut_dulint_cmp(index_id, btr_page_get_index_id(page)), 0)",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "btr_search_check_guess",
          "new_api": "UNIV_LIKELY",
          "old_text": "btr_search_check_guess(cursor,\n\t\t\t\t       can_only_compare_to_cursor_rec,\n\t\t\t\t       tuple, mode, mtr)",
          "new_text": "UNIV_LIKELY(info->n_hash_potential < BTR_SEARCH_BUILD_LIMIT + 5)",
          "old_line_content": "\t    || !btr_search_check_guess(cursor,",
          "new_line_content": "\tif (UNIV_LIKELY(info->n_hash_potential < BTR_SEARCH_BUILD_LIMIT + 5)) {",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "rw_lock_own",
          "new_api": "rw_lock_s_unlock",
          "old_text": "rw_lock_own(&btr_search_latch, RW_LOCK_SHARED)",
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\tut_ad(!rw_lock_own(&btr_search_latch, RW_LOCK_SHARED));",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "UNIV_LIKELY",
          "new_api": "rw_lock_own",
          "old_text": "UNIV_LIKELY(!block->is_hashed)",
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "old_line_content": "\tif (UNIV_LIKELY(!block->is_hashed)) {",
          "new_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "page_get_n_recs",
          "new_api": "page_rec_get_next",
          "old_text": "page_get_n_recs(page)",
          "new_text": "page_rec_get_next(rec)",
          "old_line_content": "\tn_recs = page_get_n_recs(page);",
          "new_line_content": "\trec = page_rec_get_next(rec);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "btr_page_get_index_id",
          "new_api": "rec_get_offsets",
          "old_text": "btr_page_get_index_id(page)",
          "new_text": "rec_get_offsets(rec, index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "old_line_content": "\tindex_id = btr_page_get_index_id(page);",
          "new_line_content": "\t\toffsets = rec_get_offsets(rec, index, offsets,",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "ut_dulint_cmp",
          "new_api": "rec_offs_n_fields",
          "old_text": "ut_dulint_cmp(index_id, index->id)",
          "new_text": "rec_offs_n_fields(offsets)",
          "old_line_content": "\tut_a(0 == ut_dulint_cmp(index_id, index->id));",
          "new_line_content": "\t\tut_a(rec_offs_n_fields(offsets) == n_fields + (n_bytes > 0));",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "page_rec_get_next",
          "new_api": "UNIV_UNLIKELY",
          "old_text": "page_rec_get_next(rec)",
          "new_text": "UNIV_UNLIKELY(!block->is_hashed)",
          "old_line_content": "\t\trec = page_rec_get_next(rec);",
          "new_line_content": "\tif (UNIV_UNLIKELY(!block->is_hashed)) {",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "rw_lock_x_lock",
          "new_api": "UNIV_UNLIKELY",
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": "UNIV_UNLIKELY(block->curr_n_fields != n_fields)",
          "old_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\tif (UNIV_UNLIKELY(block->curr_n_fields != n_fields)",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "ut_a",
          "new_api": "mem_free",
          "old_text": "ut_a(block->index == index)",
          "new_text": "mem_free(folds)",
          "old_line_content": "\tut_a(block->index == index);",
          "new_line_content": "\t\tmem_free(folds);",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "ha_remove_all_nodes_to_page",
          "new_api": "fprintf",
          "old_text": "ha_remove_all_nodes_to_page(table, folds[i], page)",
          "new_text": "fprintf(stderr,\n\t\t\t\"  InnoDB: Corruption of adaptive hash index.\"\n\t\t\t\" After dropping\\n\"\n\t\t\t\"InnoDB: the hash index to a page of %s,\"\n\t\t\t\" still %lu hash nodes remain.\\n\",\n\t\t\tindex->name, (ulong) block->n_pointers)",
          "old_line_content": "\t\tha_remove_all_nodes_to_page(table, folds[i], page);",
          "new_line_content": "\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "fprintf",
          "new_api": "rw_lock_x_unlock",
          "old_text": "fprintf(stderr,\n\t\t\t\"  InnoDB: Corruption of adaptive hash index.\"\n\t\t\t\" After dropping\\n\"\n\t\t\t\"InnoDB: the hash index to a page of %s,\"\n\t\t\t\" still %lu hash nodes remain.\\n\",\n\t\t\tindex->name, (ulong) block->n_pointers)",
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t\tfprintf(stderr,",
          "new_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "rw_lock_x_unlock",
          "new_api": "mem_free",
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": "mem_free(folds)",
          "old_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "\tmem_free(folds);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "buf_page_get_gen",
          "new_api": "mtr_commit",
          "old_text": "buf_page_get_gen(space, zip_size, page_no, RW_S_LATCH, NULL,\n\t\t\t\tBUF_GET_IF_IN_POOL, __FILE__, __LINE__,\n\t\t\t\t&mtr)",
          "new_text": "mtr_commit(&mtr)",
          "old_line_content": "\tblock = buf_page_get_gen(space, zip_size, page_no, RW_S_LATCH, NULL,",
          "new_line_content": "\tmtr_commit(&mtr);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "rw_lock_own",
          "new_api": "rw_lock_s_unlock",
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "rw_lock_s_lock",
          "new_api": "rw_lock_s_unlock",
          "old_text": "rw_lock_s_lock(&btr_search_latch)",
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\trw_lock_s_lock(&btr_search_latch);",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "dict_index_get_n_unique_in_tree",
          "new_api": "mem_alloc",
          "old_text": "dict_index_get_n_unique_in_tree(index)",
          "new_text": "mem_alloc(n_recs * sizeof(rec_t*))",
          "old_line_content": "\tif (dict_index_get_n_unique_in_tree(index) < n_fields",
          "new_line_content": "\trecs = mem_alloc(n_recs * sizeof(rec_t*));",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "rec_fold",
          "new_api": "page_rec_get_next",
          "old_text": "rec_fold(rec, offsets, n_fields, n_bytes, index_id)",
          "new_text": "page_rec_get_next(rec)",
          "old_line_content": "\tfold = rec_fold(rec, offsets, n_fields, n_bytes, index_id);",
          "new_line_content": "\t\tnext_rec = page_rec_get_next(rec);",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "rw_lock_own",
          "new_api": "rw_lock_s_unlock",
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "ut_a",
          "new_api": "rw_lock_s_unlock",
          "old_text": "ut_a(n_fields + n_bytes > 0)",
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\t\tut_a(n_fields + n_bytes > 0);",
          "new_line_content": "\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "ut_a",
          "new_api": "mem_heap_free",
          "old_text": "ut_a(block->index == cursor->index)",
          "new_text": "mem_heap_free(heap)",
          "old_line_content": "\tut_a(block->index == cursor->index);",
          "new_line_content": "\t\tmem_heap_free(heap);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "rec_get_offsets",
          "new_api": "rw_lock_x_unlock",
          "old_text": "rec_get_offsets(rec, cursor->index, offsets_,\n\t\t\t\t\t     ULINT_UNDEFINED, &heap)",
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\tfold = rec_fold(rec, rec_get_offsets(rec, cursor->index, offsets_,",
          "new_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "rw_lock_own",
          "new_api": "rw_lock_x_lock",
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "new_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "rw_lock_x_lock",
          "new_api": "page_rec_get_next",
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": "page_rec_get_next(rec)",
          "old_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\t\t\t\t\t      block, page_rec_get_next(rec));",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "page_rec_get_next",
          "new_api": "rec_fold",
          "old_text": "page_rec_get_next(rec)",
          "new_text": "rec_fold(next_rec, offsets, n_fields,\n\t\t\t\t     n_bytes, index_id)",
          "old_line_content": "\tins_rec = page_rec_get_next(rec);",
          "new_line_content": "\t\tnext_fold = rec_fold(next_rec, offsets, n_fields,",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "rec_fold",
          "new_api": "rec_get_offsets",
          "old_text": "rec_fold(ins_rec, offsets, n_fields, n_bytes, index_id)",
          "new_text": "rec_get_offsets(rec, cursor->index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "old_line_content": "\tins_fold = rec_fold(ins_rec, offsets, n_fields, n_bytes, index_id);",
          "new_line_content": "\t\toffsets = rec_get_offsets(rec, cursor->index, offsets,",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "page_rec_is_supremum",
          "new_api": "rec_fold",
          "old_text": "page_rec_is_supremum(next_rec)",
          "new_text": "rec_fold(rec, offsets, n_fields, n_bytes, index_id)",
          "old_line_content": "\tif (!page_rec_is_supremum(next_rec)) {",
          "new_line_content": "\t\tfold = rec_fold(rec, offsets, n_fields, n_bytes, index_id);",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "rec_get_offsets",
          "new_api": "ha_insert_for_fold",
          "old_text": "rec_get_offsets(rec, cursor->index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "new_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "old_line_content": "\t\toffsets = rec_get_offsets(rec, cursor->index, offsets,",
          "new_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "ha_insert_for_fold",
          "new_api": "rw_lock_x_lock",
          "old_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "new_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "ha_insert_for_fold",
          "new_api": "rw_lock_x_lock",
          "old_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "new_line_content": "\t\t\t\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "page_rec_is_supremum",
          "new_api": "ha_insert_for_fold",
          "old_text": "page_rec_is_supremum(next_rec)",
          "new_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "old_line_content": "\tif (page_rec_is_supremum(next_rec)) {",
          "new_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "ha_insert_for_fold",
          "new_api": "rw_lock_x_lock",
          "old_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "new_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "rw_lock_x_lock",
          "new_api": "rw_lock_x_unlock",
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\t\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": "mutex_enter",
          "new_api": "os_thread_yield",
          "old_text": "mutex_enter(&buf_pool->mutex)",
          "new_text": "os_thread_yield()",
          "old_line_content": "\tmutex_enter(&buf_pool->mutex);",
          "new_line_content": "\t\t\tos_thread_yield();",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "hash_get_n_cells",
          "new_api": "mutex_enter",
          "old_text": "hash_get_n_cells(btr_search_sys->hash_index)",
          "new_text": "mutex_enter(&buf_pool->mutex)",
          "old_line_content": "\tcell_count = hash_get_n_cells(btr_search_sys->hash_index);",
          "new_line_content": "\t\t\tmutex_enter(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "mutex_exit",
          "new_api": "page_align",
          "old_text": "mutex_exit(&buf_pool->mutex)",
          "new_text": "page_align(node->data)",
          "old_line_content": "\t\t\tmutex_exit(&buf_pool->mutex);",
          "new_line_content": "\t\t\tpage = page_align(node->data);",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "os_thread_yield",
          "new_api": "page_get_page_no",
          "old_text": "os_thread_yield()",
          "new_text": "page_get_page_no(page)",
          "old_line_content": "\t\t\tos_thread_yield();",
          "new_line_content": "\t\t\t\tulint\tpage_no\t= page_get_page_no(page);",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "rw_lock_x_lock",
          "new_api": "page_get_space_id",
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": "page_get_space_id(page)",
          "old_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\t\t\t\tulint\tspace_id= page_get_space_id(page);",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "page_align",
          "new_api": "buf_block_get_state",
          "old_text": "page_align(node->data)",
          "new_text": "buf_block_get_state(block)",
          "old_line_content": "\t\t\tpage = page_align(node->data);",
          "new_line_content": "\t\t\t    || UNIV_UNLIKELY(buf_block_get_state(block)",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "btr_page_get_index_id",
          "new_api": "page_get_page_no",
          "old_text": "btr_page_get_index_id(page)",
          "new_text": "page_get_page_no(page)",
          "old_line_content": "\t\t\t\t\tbtr_page_get_index_id(page))) {",
          "new_line_content": "\t\t\t\t\t(ulong) page_get_page_no(page),",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": "ut_print_timestamp",
          "new_api": "ut_dulint_get_high",
          "old_text": "ut_print_timestamp(stderr)",
          "new_text": "ut_dulint_get_high(\n\t\t\t\t\t\tbtr_page_get_index_id(page))",
          "old_line_content": "\t\t\t\tut_print_timestamp(stderr);",
          "new_line_content": "\t\t\t\t\t(ulong) ut_dulint_get_high(",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "fprintf",
          "new_api": "ut_dulint_get_low",
          "old_text": "fprintf(stderr,\n\t\t\t\t\t\"  InnoDB: Error in an adaptive hash\"\n\t\t\t\t\t\" index pointer to page %lu\\n\"\n\t\t\t\t\t\"InnoDB: ptr mem address %p\"\n\t\t\t\t\t\" index id %lu %lu,\"\n\t\t\t\t\t\" node fold %lu, rec fold %lu\\n\",\n\t\t\t\t\t(ulong) page_get_page_no(page),\n\t\t\t\t\tnode->data,\n\t\t\t\t\t(ulong) ut_dulint_get_high(\n\t\t\t\t\t\tbtr_page_get_index_id(page)),\n\t\t\t\t\t(ulong) ut_dulint_get_low(\n\t\t\t\t\t\tbtr_page_get_index_id(page)),\n\t\t\t\t\t(ulong) node->fold,\n\t\t\t\t\t(ulong) rec_fold((rec_t*)(node->data),\n\t\t\t\t\t\t\t offsets,\n\t\t\t\t\t\t\t block->curr_n_fields,\n\t\t\t\t\t\t\t block->curr_n_bytes,\n\t\t\t\t\t\t\t btr_page_get_index_id(\n\t\t\t\t\t\t\t\t page)))",
          "new_text": "ut_dulint_get_low(\n\t\t\t\t\t\tbtr_page_get_index_id(page))",
          "old_line_content": "\t\t\t\tfprintf(stderr,",
          "new_line_content": "\t\t\t\t\t(ulong) ut_dulint_get_low(",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": "ut_dulint_get_low",
          "new_api": "fputs",
          "old_text": "ut_dulint_get_low(\n\t\t\t\t\t\tbtr_page_get_index_id(page))",
          "new_text": "fputs(\"InnoDB: Record \", stderr)",
          "old_line_content": "\t\t\t\t\t(ulong) ut_dulint_get_low(",
          "new_line_content": "\t\t\t\tfputs(\"InnoDB: Record \", stderr);",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "btr_page_get_index_id",
          "new_api": "rec_print_new",
          "old_text": "btr_page_get_index_id(page)",
          "new_text": "rec_print_new(stderr, (rec_t*)node->data,\n\t\t\t\t\t      offsets)",
          "old_line_content": "\t\t\t\t\t\tbtr_page_get_index_id(page)),",
          "new_line_content": "\t\t\t\trec_print_new(stderr, (rec_t*)node->data,",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "rec_fold",
          "new_api": "fprintf",
          "old_text": "rec_fold((rec_t*)(node->data),\n\t\t\t\t\t\t\t offsets,\n\t\t\t\t\t\t\t block->curr_n_fields,\n\t\t\t\t\t\t\t block->curr_n_bytes,\n\t\t\t\t\t\t\t btr_page_get_index_id(\n\t\t\t\t\t\t\t\t page))",
          "new_text": "fprintf(stderr, \"\\nInnoDB: on that page.\"\n\t\t\t\t\t\" Page mem address %p, is hashed %lu,\"\n\t\t\t\t\t\" n fields %lu, n bytes %lu\\n\"\n\t\t\t\t\t\"InnoDB: side %lu\\n\",\n\t\t\t\t\t(void*) page, (ulong) block->is_hashed,\n\t\t\t\t\t(ulong) block->curr_n_fields,\n\t\t\t\t\t(ulong) block->curr_n_bytes,\n\t\t\t\t\t(ulong) block->curr_left_side)",
          "old_line_content": "\t\t\t\t\t(ulong) rec_fold((rec_t*)(node->data),",
          "new_line_content": "\t\t\t\tfprintf(stderr, \"\\nInnoDB: on that page.\"",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "fprintf",
          "new_api": "buf_page_print",
          "old_text": "fprintf(stderr, \"\\nInnoDB: on that page.\"\n\t\t\t\t\t\" Page mem address %p, is hashed %lu,\"\n\t\t\t\t\t\" n fields %lu, n bytes %lu\\n\"\n\t\t\t\t\t\"InnoDB: side %lu\\n\",\n\t\t\t\t\t(void*) page, (ulong) block->is_hashed,\n\t\t\t\t\t(ulong) block->curr_n_fields,\n\t\t\t\t\t(ulong) block->curr_n_bytes,\n\t\t\t\t\t(ulong) block->curr_left_side)",
          "new_text": "buf_page_print(page, 0)",
          "old_line_content": "\t\t\t\tfprintf(stderr, \"\\nInnoDB: on that page.\"",
          "new_line_content": "\t\t\t\t\tbuf_page_print(page, 0);",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "os_thread_yield",
          "new_api": "mutex_exit",
          "old_text": "os_thread_yield()",
          "new_text": "mutex_exit(&buf_pool->mutex)",
          "old_line_content": "\t\t\tos_thread_yield();",
          "new_line_content": "\tmutex_exit(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "rw_lock_x_lock",
          "new_api": "rw_lock_x_unlock",
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "mutex_enter",
          "new_api": "UNIV_LIKELY_NULL",
          "old_text": "mutex_enter(&buf_pool->mutex)",
          "new_text": "UNIV_LIKELY_NULL(heap)",
          "old_line_content": "\t\t\tmutex_enter(&buf_pool->mutex);",
          "new_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1536,
          "old_api": null,
          "new_api": "rec_get_offsets",
          "old_text": null,
          "new_text": "rec_get_offsets(ins_rec, cursor->index, offsets,\n\t\t\t\t  ULINT_UNDEFINED, &heap)",
          "old_line_content": "",
          "new_line_content": "\toffsets = rec_get_offsets(ins_rec, cursor->index, offsets,",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "rec_fold",
          "old_text": null,
          "new_text": "rec_fold(ins_rec, offsets, n_fields, n_bytes, index_id)",
          "old_line_content": "",
          "new_line_content": "\tins_fold = rec_fold(ins_rec, offsets, n_fields, n_bytes, index_id);",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "page_rec_is_supremum",
          "old_text": null,
          "new_text": "page_rec_is_supremum(next_rec)",
          "old_line_content": "\tn_bytes = block->curr_n_bytes;",
          "new_line_content": "\tif (!page_rec_is_supremum(next_rec)) {",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "rec_get_offsets",
          "old_text": null,
          "new_text": "rec_get_offsets(next_rec, cursor->index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "old_line_content": "\tleft_side = block->curr_left_side;",
          "new_line_content": "\t\toffsets = rec_get_offsets(next_rec, cursor->index, offsets,",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "page_rec_get_next",
          "old_text": null,
          "new_text": "page_rec_get_next(rec)",
          "old_line_content": "",
          "new_line_content": "\t\trec = page_rec_get_next(rec);",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "UNIV_LIKELY_NULL",
          "old_text": null,
          "new_text": "UNIV_LIKELY_NULL(heap)",
          "old_line_content": "\t\t/* Remove all hash nodes pointing to this page from the",
          "new_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": null,
          "new_api": "mem_heap_free",
          "old_text": null,
          "new_text": "mem_heap_free(heap)",
          "old_line_content": "\t\thash chain */",
          "new_line_content": "\t\tmem_heap_free(heap);",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "page_rec_is_infimum",
          "old_text": null,
          "new_text": "page_rec_is_infimum(rec)",
          "old_line_content": "\t\t\t\t  ULINT_UNDEFINED, &heap);",
          "new_line_content": "\tif (!page_rec_is_infimum(rec)) {",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\t\tn_cached++;",
          "new_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\t\t\t\t     n_bytes, index_id);",
          "new_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(block->index == index)",
          "old_line_content": "\t}",
          "new_line_content": "\tut_a(block->index == index);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(block->curr_n_bytes != n_bytes)",
          "old_line_content": "",
          "new_line_content": "\t    || UNIV_UNLIKELY(block->curr_n_bytes != n_bytes)) {",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t}",
          "new_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "ha_insert_for_fold",
          "old_text": null,
          "new_text": "ha_insert_for_fold(table, fold, block, rec)",
          "old_line_content": "\tif (fold != ins_fold) {",
          "new_line_content": "\t\t\tha_insert_for_fold(table, fold, block, rec);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "ha_remove_all_nodes_to_page",
          "old_text": null,
          "new_text": "ha_remove_all_nodes_to_page(table, folds[i], page)",
          "old_line_content": "\t\tpage, with different parameters */",
          "new_line_content": "\t\tha_remove_all_nodes_to_page(table, folds[i], page);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "ha_insert_for_fold",
          "old_text": null,
          "new_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "old_line_content": "\t\tif (!locked) {",
          "new_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": null,
          "new_api": "page_rec_is_supremum",
          "old_text": null,
          "new_text": "page_rec_is_supremum(next_rec)",
          "old_line_content": "\t\t}",
          "new_line_content": "\tif (page_rec_is_supremum(next_rec)) {",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(block->n_pointers)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_UNLIKELY(block->n_pointers)) {",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "ut_print_timestamp",
          "old_text": null,
          "new_text": "ut_print_timestamp(stderr)",
          "old_line_content": "",
          "new_line_content": "\t\tut_print_timestamp(stderr);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "#ifdef UNIV_DEBUG",
          "new_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "btr_search_validate",
          "old_text": null,
          "new_text": "btr_search_validate()",
          "old_line_content": "\t\t/* Corruption */",
          "new_line_content": "\t\tbtr_search_validate();",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t\t\t\"InnoDB: the hash index to a page of %s,\"",
          "new_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "ha_insert_for_fold",
          "old_text": null,
          "new_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "old_line_content": "",
          "new_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "ha_insert_for_fold",
          "old_text": null,
          "new_text": "ha_insert_for_fold(table, next_fold, block, next_rec)",
          "old_line_content": "",
          "new_line_content": "\t\t\tha_insert_for_fold(table, next_fold, block, next_rec);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "buf_page_peek_if_search_hashed",
          "old_text": null,
          "new_text": "buf_page_peek_if_search_hashed(space, page_no)",
          "old_line_content": "btr_search_drop_page_hash_when_freed(",
          "new_line_content": "\tif (!buf_page_peek_if_search_hashed(space, page_no)) {",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "UNIV_LIKELY_NULL",
          "old_text": null,
          "new_text": "UNIV_LIKELY_NULL(heap)",
          "old_line_content": "\t\t\tfputs(\"Hash insert for \", stderr);",
          "new_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "mem_heap_free",
          "old_text": null,
          "new_text": "mem_heap_free(heap)",
          "old_line_content": "\t\t\tdict_index_name_print(stderr, cursor->index);",
          "new_line_content": "\t\tmem_heap_free(heap);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "mtr_start",
          "old_text": null,
          "new_text": "mtr_start(&mtr)",
          "old_line_content": "\tulint\tpage_no)\t/* in: page number */",
          "new_line_content": "\tmtr_start(&mtr);",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "buf_page_get_gen",
          "old_text": null,
          "new_text": "buf_page_get_gen(space, zip_size, page_no, RW_S_LATCH, NULL,\n\t\t\t\tBUF_GET_IF_IN_POOL, __FILE__, __LINE__,\n\t\t\t\t&mtr)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tblock = buf_page_get_gen(space, zip_size, page_no, RW_S_LATCH, NULL,",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "buf_block_dbg_add_level",
          "old_text": null,
          "new_text": "buf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH)",
          "old_line_content": "\t/* We assume that if the caller has a latch on the page, then the",
          "new_line_content": "\tbuf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "btr_search_drop_page_hash_index",
          "old_text": null,
          "new_text": "btr_search_drop_page_hash_index(block)",
          "old_line_content": "\thaving to fear a deadlock. */",
          "new_line_content": "\tbtr_search_drop_page_hash_index(block);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\tmem_heap_t*\theap\t\t= NULL;",
          "new_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&buf_pool->mutex)",
          "old_line_content": "\tulint\t\toffsets_[REC_OFFS_NORMAL_SIZE];",
          "new_line_content": "\tmutex_enter(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "hash_get_n_cells",
          "old_text": null,
          "new_text": "hash_get_n_cells(btr_search_sys->hash_index)",
          "old_line_content": "",
          "new_line_content": "\tcell_count = hash_get_n_cells(btr_search_sys->hash_index);",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&buf_pool->mutex)",
          "old_line_content": "",
          "new_line_content": "\t\t\tmutex_exit(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "",
          "new_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "hash_get_nth_cell",
          "old_text": null,
          "new_text": "hash_get_nth_cell(btr_search_sys->hash_index, i)",
          "old_line_content": "\t\t/* We release btr_search_latch every once in a while to",
          "new_line_content": "\t\tnode = hash_get_nth_cell(btr_search_sys->hash_index, i)->node;",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(index)",
          "old_line_content": "\tulint\t\tn_cached;",
          "new_line_content": "\tut_ad(index);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "buf_page_hash_get",
          "old_text": null,
          "new_text": "buf_page_hash_get(space_id, page_no)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tbuf_page_hash_get(space_id, page_no);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "buf_block_get_frame",
          "old_text": null,
          "new_text": "buf_block_get_frame(block)",
          "old_line_content": "\trec_t**\t\trecs;",
          "new_line_content": "\tpage = buf_block_get_frame(block);",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(!block)",
          "old_line_content": "\t\tfor (; node != NULL; node = node->next) {",
          "new_line_content": "\t\t\tif (UNIV_UNLIKELY(!block)",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&btr_search_latch, RW_LOCK_EX)",
          "old_line_content": "\tulint\t\toffsets_[REC_OFFS_NORMAL_SIZE];",
          "new_line_content": "\tut_ad(!rw_lock_own(&btr_search_latch, RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "old_line_content": "\tulint*\t\toffsets\t\t= offsets_;",
          "new_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "old_line_content": "\t*offsets_ = (sizeof offsets_) / sizeof *offsets_;",
          "new_line_content": "\t      || rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "rw_lock_s_lock",
          "old_text": null,
          "new_text": "rw_lock_s_lock(&btr_search_latch)",
          "old_line_content": "",
          "new_line_content": "\trw_lock_s_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "btr_search_drop_page_hash_index",
          "old_text": null,
          "new_text": "btr_search_drop_page_hash_index(block)",
          "old_line_content": "#endif /* UNIV_SYNC_DEBUG */",
          "new_line_content": "\t\tbtr_search_drop_page_hash_index(block);",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "rec_get_offsets",
          "old_text": null,
          "new_text": "rec_get_offsets((rec_t*) node->data,\n\t\t\t\t\t\t  block->index, offsets,\n\t\t\t\t\t\t  block->curr_n_fields\n\t\t\t\t\t\t  + (block->curr_n_bytes > 0),\n\t\t\t\t\t\t  &heap)",
          "old_line_content": "\t\t\t\tfirst removes the block from",
          "new_line_content": "\t\t\toffsets = rec_get_offsets((rec_t*) node->data,",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "page_get_n_recs",
          "old_text": null,
          "new_text": "page_get_n_recs(page)",
          "old_line_content": "\t\t\t\t || (block->curr_n_bytes != n_bytes)",
          "new_line_content": "\tn_recs = page_get_n_recs(page);",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "rec_fold",
          "old_text": null,
          "new_text": "rec_fold((rec_t*)(node->data),\n\t\t\t\t\toffsets,\n\t\t\t\t\tblock->curr_n_fields,\n\t\t\t\t\tblock->curr_n_bytes,\n\t\t\t\t\tbtr_page_get_index_id(page))",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t    != rec_fold((rec_t*)(node->data),",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": null,
          "new_api": "btr_page_get_index_id",
          "old_text": null,
          "new_text": "btr_page_get_index_id(page)",
          "old_line_content": "\t\t\t\t\t\t  block->index, offsets,",
          "new_line_content": "\t\t\t\t\tbtr_page_get_index_id(page))) {",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": null,
          "new_api": "ut_print_timestamp",
          "old_text": null,
          "new_text": "ut_print_timestamp(stderr)",
          "old_line_content": "\t\t\t\t\t\t  + (block->curr_n_bytes > 0),",
          "new_line_content": "\t\t\t\tut_print_timestamp(stderr);",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\n\t\t\t\t\t\"  InnoDB: Error in an adaptive hash\"\n\t\t\t\t\t\" index pointer to page %lu\\n\"\n\t\t\t\t\t\"InnoDB: ptr mem address %p\"\n\t\t\t\t\t\" index id %lu %lu,\"\n\t\t\t\t\t\" node fold %lu, rec fold %lu\\n\",\n\t\t\t\t\t(ulong) page_get_page_no(page),\n\t\t\t\t\tnode->data,\n\t\t\t\t\t(ulong) ut_dulint_get_high(\n\t\t\t\t\t\tbtr_page_get_index_id(page)),\n\t\t\t\t\t(ulong) ut_dulint_get_low(\n\t\t\t\t\t\tbtr_page_get_index_id(page)),\n\t\t\t\t\t(ulong) node->fold,\n\t\t\t\t\t(ulong) rec_fold((rec_t*)(node->data),\n\t\t\t\t\t\t\t offsets,\n\t\t\t\t\t\t\t block->curr_n_fields,\n\t\t\t\t\t\t\t block->curr_n_bytes,\n\t\t\t\t\t\t\t btr_page_get_index_id(\n\t\t\t\t\t\t\t\t page)))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tfprintf(stderr,",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "dict_index_get_n_unique_in_tree",
          "old_text": null,
          "new_text": "dict_index_get_n_unique_in_tree(index)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tif (dict_index_get_n_unique_in_tree(index) < n_fields",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "dict_index_get_n_unique_in_tree",
          "old_text": null,
          "new_text": "dict_index_get_n_unique_in_tree(index)",
          "old_line_content": "\t}",
          "new_line_content": "\t    || (dict_index_get_n_unique_in_tree(index) == n_fields",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "btr_page_get_index_id",
          "old_text": null,
          "new_text": "btr_page_get_index_id(page)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tbtr_page_get_index_id(page)),",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": null,
          "new_api": "btr_page_get_index_id",
          "old_text": null,
          "new_text": "btr_page_get_index_id(page)",
          "old_line_content": "\t\t\t\t\t\"  InnoDB: Error in an adaptive hash\"",
          "new_line_content": "\t\t\t\t\t\tbtr_page_get_index_id(page)),",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "mem_alloc",
          "old_text": null,
          "new_text": "mem_alloc(n_recs * sizeof(ulint))",
          "old_line_content": "",
          "new_line_content": "\tfolds = mem_alloc(n_recs * sizeof(ulint));",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "rec_fold",
          "old_text": null,
          "new_text": "rec_fold((rec_t*)(node->data),\n\t\t\t\t\t\t\t offsets,\n\t\t\t\t\t\t\t block->curr_n_fields,\n\t\t\t\t\t\t\t block->curr_n_bytes,\n\t\t\t\t\t\t\t btr_page_get_index_id(\n\t\t\t\t\t\t\t\t page))",
          "old_line_content": "\t\t\t\t\t\"InnoDB: ptr mem address %p\"",
          "new_line_content": "\t\t\t\t\t(ulong) rec_fold((rec_t*)(node->data),",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": null,
          "new_api": "btr_page_get_index_id",
          "old_text": null,
          "new_text": "btr_page_get_index_id(page)",
          "old_line_content": "\t}",
          "new_line_content": "\tindex_id = btr_page_get_index_id(page);",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": null,
          "new_api": "btr_page_get_index_id",
          "old_text": null,
          "new_text": "btr_page_get_index_id(\n\t\t\t\t\t\t\t\t page)",
          "old_line_content": "\t\t\t\t\tnode->data,",
          "new_line_content": "\t\t\t\t\t\t\t btr_page_get_index_id(",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": null,
          "new_api": "page_get_infimum_rec",
          "old_text": null,
          "new_text": "page_get_infimum_rec(page)",
          "old_line_content": "\t/* Calculate and cache fold values and corresponding records into",
          "new_line_content": "\trec = page_rec_get_next(page_get_infimum_rec(page));",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "rec_get_offsets",
          "old_text": null,
          "new_text": "rec_get_offsets(rec, index, offsets,\n\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "old_line_content": "",
          "new_line_content": "\toffsets = rec_get_offsets(rec, index, offsets,",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "page_rec_is_supremum",
          "old_text": null,
          "new_text": "page_rec_is_supremum(rec)",
          "old_line_content": "",
          "new_line_content": "\tif (!page_rec_is_supremum(rec)) {",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "rec_offs_n_fields",
          "old_text": null,
          "new_text": "rec_offs_n_fields(offsets)",
          "old_line_content": "\tn_cached = 0;",
          "new_line_content": "\t\tut_a(n_fields <= rec_offs_n_fields(offsets));",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "rec_offs_n_fields",
          "old_text": null,
          "new_text": "rec_offs_n_fields(offsets)",
          "old_line_content": "",
          "new_line_content": "\t\t\tut_a(n_fields < rec_offs_n_fields(offsets));",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "rec_fold",
          "old_text": null,
          "new_text": "rec_fold(rec, offsets, n_fields, n_bytes, index_id)",
          "old_line_content": "\t\t\t\t  n_fields + (n_bytes > 0), &heap);",
          "new_line_content": "\tfold = rec_fold(rec, offsets, n_fields, n_bytes, index_id);",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": null,
          "new_api": "ut_min",
          "old_text": null,
          "new_text": "ut_min(i + chunk_size - 1, cell_count - 1)",
          "old_line_content": "",
          "new_line_content": "\t\tulint end_index = ut_min(i + chunk_size - 1, cell_count - 1);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "page_rec_is_supremum",
          "old_text": null,
          "new_text": "page_rec_is_supremum(next_rec)",
          "old_line_content": "\tif (left_side) {",
          "new_line_content": "\t\tif (page_rec_is_supremum(next_rec)) {",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&buf_pool->mutex)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tmutex_exit(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(index && info && tuple && cursor && mtr)",
          "old_line_content": "\tbtr_pcur_t\tpcur;",
          "new_line_content": "\tut_ad(index && info && tuple && cursor && mtr);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad((latch_mode == BTR_SEARCH_LEAF)\n\t      || (latch_mode == BTR_MODIFY_LEAF))",
          "old_line_content": "#endif",
          "new_line_content": "\tut_ad((latch_mode == BTR_SEARCH_LEAF)",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": null,
          "new_api": "os_thread_yield",
          "old_text": null,
          "new_text": "os_thread_yield()",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tos_thread_yield();",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "",
          "new_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": null,
          "new_api": "mutex_enter",
          "old_text": null,
          "new_text": "mutex_enter(&buf_pool->mutex)",
          "old_line_content": "\tfor (i = 0; i < cell_count; i += chunk_size) {",
          "new_line_content": "\t\t\tmutex_enter(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": null,
          "new_api": "ha_validate",
          "old_text": null,
          "new_text": "ha_validate(btr_search_sys->hash_index, i, end_index)",
          "old_line_content": "\t\t/* We release btr_search_latch every once in a while to",
          "new_line_content": "\t\tif (!ha_validate(btr_search_sys->hash_index, i, end_index)) {",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(info->n_hash_potential == 0)",
          "old_line_content": "\tany latch here! */",
          "new_line_content": "\tif (UNIV_UNLIKELY(info->n_hash_potential == 0)) {",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "rec_get_offsets",
          "old_text": null,
          "new_text": "rec_get_offsets(next_rec, index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "old_line_content": "\t\t\tif (!left_side) {",
          "new_line_content": "\t\toffsets = rec_get_offsets(next_rec, index, offsets,",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "rec_fold",
          "old_text": null,
          "new_text": "rec_fold(next_rec, offsets, n_fields,\n\t\t\t\t     n_bytes, index_id)",
          "old_line_content": "\t\t\t\tfolds[n_cached] = fold;",
          "new_line_content": "\t\tnext_fold = rec_fold(next_rec, offsets, n_fields,",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "mem_heap_free",
          "old_text": null,
          "new_text": "mem_heap_free(heap)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tmem_heap_free(heap);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "dtuple_get_n_fields",
          "old_text": null,
          "new_text": "dtuple_get_n_fields(tuple)",
          "old_line_content": "\tcursor->n_bytes = info->n_bytes;",
          "new_line_content": "\tif (UNIV_UNLIKELY(dtuple_get_n_fields(tuple)",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "dtuple_fold",
          "old_text": null,
          "new_text": "dtuple_fold(tuple, cursor->n_fields, cursor->n_bytes, index_id)",
          "old_line_content": "",
          "new_line_content": "\tfold = dtuple_fold(tuple, cursor->n_fields, cursor->n_bytes, index_id);",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": null,
          "new_api": "UNIV_LIKELY",
          "old_text": null,
          "new_text": "UNIV_LIKELY(!has_search_latch)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_LIKELY(!has_search_latch)) {",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "rw_lock_s_lock",
          "old_text": null,
          "new_text": "rw_lock_s_lock(&btr_search_latch)",
          "old_line_content": "#ifdef UNIV_SEARCH_PERF_STAT",
          "new_line_content": "\t\trw_lock_s_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "btr_search_check_free_space_in_heap",
          "old_text": null,
          "new_text": "btr_search_check_free_space_in_heap()",
          "old_line_content": "\t\t\t\tfolds[n_cached] = fold;",
          "new_line_content": "\tbtr_search_check_free_space_in_heap();",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "\t\t\t\tn_cached++;",
          "new_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(btr_search_latch.reader_count > 0)",
          "old_line_content": "",
          "new_line_content": "\tut_ad(btr_search_latch.reader_count > 0);",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "ha_search_and_get_data",
          "old_text": null,
          "new_text": "ha_search_and_get_data(btr_search_sys->hash_index, fold)",
          "old_line_content": "\tcursor->flag = BTR_CUR_HASH;",
          "new_line_content": "\trec = ha_search_and_get_data(btr_search_sys->hash_index, fold);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "page_get_page_no",
          "old_text": null,
          "new_text": "page_get_page_no(page)",
          "old_line_content": "",
          "new_line_content": "\t\tulint\tpage_no\t\t= page_get_page_no(page);",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "buf_page_hash_get",
          "old_text": null,
          "new_text": "buf_page_hash_get(space_id, page_no)",
          "old_line_content": "\t\tgoto failure_unlock;",
          "new_line_content": "\t\tblock = (buf_block_t*) buf_page_hash_get(space_id, page_no);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "mutex_exit",
          "old_text": null,
          "new_text": "mutex_exit(&buf_pool->mutex)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmutex_exit(&buf_pool->mutex);",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": null,
          "new_api": "ha_insert_for_fold",
          "old_text": null,
          "new_text": "ha_insert_for_fold(table, folds[i], block, recs[i])",
          "old_line_content": "\tblock->is_hashed = TRUE;",
          "new_line_content": "\t\tha_insert_for_fold(table, folds[i], block, recs[i]);",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(!block)",
          "old_line_content": "\t{",
          "new_line_content": "\tif (UNIV_UNLIKELY(!block)",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\tblock->curr_n_bytes = n_bytes;",
          "new_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": null,
          "new_api": "mem_free",
          "old_text": null,
          "new_text": "mem_free(folds)",
          "old_line_content": "\tblock->index = index;",
          "new_line_content": "\tmem_free(folds);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "mem_free",
          "old_text": null,
          "new_text": "mem_free(recs)",
          "old_line_content": "",
          "new_line_content": "\tmem_free(recs);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "UNIV_LIKELY_NULL",
          "old_text": null,
          "new_text": "UNIV_LIKELY_NULL(heap)",
          "old_line_content": "\tfor (i = 0; i < n_cached; i++) {",
          "new_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": null,
          "new_api": "mem_heap_free",
          "old_text": null,
          "new_text": "mem_heap_free(heap)",
          "old_line_content": "",
          "new_line_content": "\t\tmem_heap_free(heap);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "UNIV_LIKELY",
          "old_text": null,
          "new_text": "UNIV_LIKELY(!has_search_latch)",
          "old_line_content": "\t\tThe function buf_LRU_search_and_free_block()",
          "new_line_content": "\tif (UNIV_LIKELY(!has_search_latch)) {",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": null,
          "new_api": "UNIV_UNLIKELY",
          "old_text": null,
          "new_text": "UNIV_UNLIKELY(\n\t\t\t    !buf_page_get_known_nowait(latch_mode, block,\n\t\t\t\t\t\t       BUF_MAKE_YOUNG,\n\t\t\t\t\t\t       __FILE__, __LINE__,\n\t\t\t\t\t\t       mtr))",
          "old_line_content": "\t\tby calling buf_LRU_block_remove_hashed_page().",
          "new_line_content": "\t\tif (UNIV_UNLIKELY(",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "buf_page_get_known_nowait",
          "old_text": null,
          "new_text": "buf_page_get_known_nowait(latch_mode, block,\n\t\t\t\t\t\t       BUF_MAKE_YOUNG,\n\t\t\t\t\t\t       __FILE__, __LINE__,\n\t\t\t\t\t\t       mtr)",
          "old_line_content": "\t\tAfter that, it invokes btr_search_drop_page_hash_index().",
          "new_line_content": "\t\t\t    !buf_page_get_known_nowait(latch_mode, block,",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": null,
          "new_api": "rw_lock_s_unlock",
          "old_text": null,
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "buf_block_dbg_add_level",
          "old_text": null,
          "new_text": "buf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH)",
          "old_line_content": "\t\t\t\t\t\t       BUF_MAKE_YOUNG,",
          "new_line_content": "\t\tbuf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH);",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "buf_block_get_state",
          "old_text": null,
          "new_text": "buf_block_get_state(block)",
          "old_line_content": "\t\t}",
          "new_line_content": "\tif (UNIV_UNLIKELY(buf_block_get_state(block)",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "old_line_content": "\t\t\t\t\trecords were copied, and the",
          "new_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "btr_leaf_page_release",
          "old_text": null,
          "new_text": "btr_leaf_page_release(block, latch_mode, mtr)",
          "old_line_content": "",
          "new_line_content": "\t\t\tbtr_leaf_page_release(block, latch_mode, mtr);",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(new_block->lock), RW_LOCK_EX)",
          "old_line_content": "\t\t\t\t\tcopied records will be deleted",
          "new_line_content": "\tut_ad(rw_lock_own(&(new_block->lock), RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(!new_block->is_hashed || new_block->index == index)",
          "old_line_content": "\tdict_index_t*\tindex)\t\t/* in: record descriptor */",
          "new_line_content": "\tut_a(!new_block->is_hashed || new_block->index == index);",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(!block->is_hashed || block->index == index)",
          "old_line_content": "{",
          "new_line_content": "\tut_a(!block->is_hashed || block->index == index);",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "rw_lock_s_lock",
          "old_text": null,
          "new_text": "rw_lock_s_lock(&btr_search_latch)",
          "old_line_content": "\tulint\tn_bytes;",
          "new_line_content": "\trw_lock_s_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "page_rec_is_user_rec",
          "old_text": null,
          "new_text": "page_rec_is_user_rec(rec)",
          "old_line_content": "\t\t\t  == BUF_BLOCK_REMOVE_HASH)) {",
          "new_line_content": "\tut_ad(page_rec_is_user_rec(rec));",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": null,
          "new_api": "btr_cur_position",
          "old_text": null,
          "new_text": "btr_cur_position(index, rec, block, cursor)",
          "old_line_content": "",
          "new_line_content": "\tbtr_cur_position(index, rec, block, cursor);",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": null,
          "new_api": "btr_search_drop_page_hash_index",
          "old_text": null,
          "new_text": "btr_search_drop_page_hash_index(block)",
          "old_line_content": "#endif /* UNIV_SYNC_DEBUG */",
          "new_line_content": "\t\tbtr_search_drop_page_hash_index(block);",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "UNIV_EXPECT",
          "old_text": null,
          "new_text": "UNIV_EXPECT(\n\t\t    ut_dulint_cmp(index_id, btr_page_get_index_id(page)), 0)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_EXPECT(",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "btr_search_check_guess",
          "old_text": null,
          "new_text": "btr_search_check_guess(cursor,\n\t\t\t\t       has_search_latch,\n\t\t\t\t       tuple, mode, mtr)",
          "old_line_content": "",
          "new_line_content": "\t    || !btr_search_check_guess(cursor,",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "UNIV_LIKELY",
          "old_text": null,
          "new_text": "UNIV_LIKELY(!has_search_latch)",
          "old_line_content": "\t/* If we only have the latch on btr_search_latch, not on the",
          "new_line_content": "\t\tif (UNIV_LIKELY(!has_search_latch)) {",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "btr_leaf_page_release",
          "old_text": null,
          "new_text": "btr_leaf_page_release(block, latch_mode, mtr)",
          "old_line_content": "\tpage, it only protects the columns of the record the cursor",
          "new_line_content": "\t\t\tbtr_leaf_page_release(block, latch_mode, mtr);",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "rw_lock_s_unlock",
          "old_text": null,
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\tif (block->is_hashed) {",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(n_fields + n_bytes > 0)",
          "old_line_content": "\t\tn_fields = block->curr_n_fields;",
          "new_line_content": "\t\tut_a(n_fields + n_bytes > 0);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "btr_search_build_page_hash_index",
          "old_text": null,
          "new_text": "btr_search_build_page_hash_index(index, new_block, n_fields,\n\t\t\t\t\t\t n_bytes, left_side)",
          "old_line_content": "\t\tleft_side = block->curr_left_side;",
          "new_line_content": "\t\tbtr_search_build_page_hash_index(index, new_block, n_fields,",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(n_fields == block->curr_n_fields)",
          "old_line_content": "\t\tnew_block->n_fields = block->curr_n_fields;",
          "new_line_content": "\t\tut_ad(n_fields == block->curr_n_fields);",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(n_bytes == block->curr_n_bytes)",
          "old_line_content": "\t\tnew_block->n_bytes = block->curr_n_bytes;",
          "new_line_content": "\t\tut_ad(n_bytes == block->curr_n_bytes);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(left_side == block->curr_left_side)",
          "old_line_content": "\t\tnew_block->left_side = left_side;",
          "new_line_content": "\t\tut_ad(left_side == block->curr_left_side);",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "ut_ad",
          "old_text": null,
          "new_text": "ut_ad(!has_search_latch)",
          "old_line_content": "\t\tinfo->n_hash_potential++;",
          "new_line_content": "\tut_ad(!has_search_latch);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "btr_leaf_page_release",
          "old_text": null,
          "new_text": "btr_leaf_page_release(block, latch_mode, mtr)",
          "old_line_content": "",
          "new_line_content": "\tbtr_leaf_page_release(block, latch_mode, mtr);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "btr_cur_search_to_nth_level",
          "old_text": null,
          "new_text": "btr_cur_search_to_nth_level(index, 0, tuple, mode, latch_mode,\n\t\t\t\t    &cursor2, 0, mtr)",
          "old_line_content": "\t/* These lines of code can be used in a debug version to check",
          "new_line_content": "\tbtr_cur_search_to_nth_level(index, 0, tuple, mode, latch_mode,",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "btr_cur_get_rec",
          "old_text": null,
          "new_text": "btr_cur_get_rec(&cursor2)",
          "old_line_content": "\tinfo->last_hash_succ = FALSE;",
          "new_line_content": "\t    && page_rec_is_supremum(btr_cur_get_rec(&cursor2))) {",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "btr_pcur_open_on_user_rec",
          "old_text": null,
          "new_text": "btr_pcur_open_on_user_rec(index, tuple, mode, latch_mode,\n\t\t\t\t\t  &pcur, mtr)",
          "old_line_content": "\t\t\t\t    &cursor2, 0, mtr);",
          "new_line_content": "\t\tbtr_pcur_open_on_user_rec(index, tuple, mode, latch_mode,",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "btr_cur_get_rec",
          "old_text": null,
          "new_text": "btr_cur_get_rec(cursor)",
          "old_line_content": "\t\t/* If mode is PAGE_CUR_GE, then the binary search",
          "new_line_content": "\t\tut_ad(btr_cur_get_rec(&cursor2) == btr_cur_get_rec(cursor));",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "btr_cur_get_rec",
          "old_text": null,
          "new_text": "btr_cur_get_rec(cursor)",
          "old_line_content": "\thash_table_t*\ttable;",
          "new_line_content": "\trec = btr_cur_get_rec(cursor);",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "btr_cur_get_block",
          "old_text": null,
          "new_text": "btr_cur_get_block(cursor)",
          "old_line_content": "\trec_t*\t\trec;",
          "new_line_content": "\tblock = btr_cur_get_block(cursor);",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "old_line_content": "\tibool\t\tfound;",
          "new_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "UNIV_LIKELY",
          "old_text": null,
          "new_text": "UNIV_LIKELY(!has_search_latch)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_LIKELY(!has_search_latch)",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "buf_block_peek_if_too_old",
          "old_text": null,
          "new_text": "buf_block_peek_if_too_old(block)",
          "old_line_content": "\t/* NOTE that it is theoretically possible that the above assertions",
          "new_line_content": "\t    && buf_block_peek_if_too_old(block)) {",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(block->index == cursor->index)",
          "old_line_content": "",
          "new_line_content": "\tut_a(block->index == cursor->index);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "buf_page_make_young",
          "old_text": null,
          "new_text": "buf_page_make_young(&block->page)",
          "old_line_content": "\tmeanwhile! Thus it might not be a bug. */",
          "new_line_content": "\t\tbuf_page_make_young(&block->page);",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(block->curr_n_fields + block->curr_n_bytes > 0)",
          "old_line_content": "#ifdef UNIV_SYNC_DEBUG",
          "new_line_content": "\tut_a(block->curr_n_fields + block->curr_n_bytes > 0);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "rec_get_offsets",
          "old_text": null,
          "new_text": "rec_get_offsets(rec, cursor->index, offsets_,\n\t\t\t\t\t     ULINT_UNDEFINED, &heap)",
          "old_line_content": "",
          "new_line_content": "\tfold = rec_fold(rec, rec_get_offsets(rec, cursor->index, offsets_,",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "UNIV_LIKELY_NULL",
          "old_text": null,
          "new_text": "UNIV_LIKELY_NULL(heap)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": null,
          "new_api": "rw_lock_x_lock",
          "old_text": null,
          "new_text": "rw_lock_x_lock(&btr_search_latch)",
          "old_line_content": "",
          "new_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "UNIV_LIKELY",
          "old_text": null,
          "new_text": "UNIV_LIKELY(!has_search_latch)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_LIKELY(!has_search_latch)) {",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": null,
          "new_api": "rw_lock_s_unlock",
          "old_text": null,
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "\t/* Increment the page get statistics though we did not really",
          "new_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": null,
          "new_api": "ha_search_and_delete_if_found",
          "old_text": null,
          "new_text": "ha_search_and_delete_if_found(table, fold, rec)",
          "old_line_content": "",
          "new_line_content": "\tfound = ha_search_and_delete_if_found(table, fold, rec);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "btr_cur_get_rec",
          "old_text": null,
          "new_text": "btr_cur_get_rec(cursor)",
          "old_line_content": "/*==================================*/",
          "new_line_content": "\trec = btr_cur_get_rec(cursor);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "btr_cur_get_block",
          "old_text": null,
          "new_text": "btr_cur_get_block(cursor)",
          "old_line_content": "\t\t\t\tplace to insert using btr_cur_search_...,",
          "new_line_content": "\tblock = btr_cur_get_block(cursor);",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "old_line_content": "{",
          "new_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(block->index == cursor->index)",
          "old_line_content": "",
          "new_line_content": "\tut_a(block->index == cursor->index);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "ha_search_and_update_if_found",
          "old_text": null,
          "new_text": "ha_search_and_update_if_found(table, cursor->fold, rec,\n\t\t\t\t\t      block, page_rec_get_next(rec))",
          "old_line_content": "",
          "new_line_content": "\t\tha_search_and_update_if_found(table, cursor->fold, rec,",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&btr_search_latch, RW_LOCK_SHARED)",
          "old_line_content": "\tdulint\t\tindex_id;",
          "new_line_content": "\tut_ad(!rw_lock_own(&btr_search_latch, RW_LOCK_SHARED));",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&btr_search_latch, RW_LOCK_EX)",
          "old_line_content": "\tulint\t\tn_cached;",
          "new_line_content": "\tut_ad(!rw_lock_own(&btr_search_latch, RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\tif ((cursor->flag == BTR_CUR_HASH)",
          "new_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": null,
          "new_api": "rw_lock_x_unlock",
          "old_text": null,
          "new_text": "rw_lock_x_unlock(&btr_search_latch)",
          "old_line_content": "\t    && (cursor->n_bytes == block->curr_n_bytes)",
          "new_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "rw_lock_s_lock",
          "old_text": null,
          "new_text": "rw_lock_s_lock(&btr_search_latch)",
          "old_line_content": "\tmem_heap_t*\theap;",
          "new_line_content": "\trw_lock_s_lock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "btr_search_update_hash_on_insert",
          "old_text": null,
          "new_text": "btr_search_update_hash_on_insert(cursor)",
          "old_line_content": "",
          "new_line_content": "\t\tbtr_search_update_hash_on_insert(cursor);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "UNIV_LIKELY",
          "old_text": null,
          "new_text": "UNIV_LIKELY(!block->is_hashed)",
          "old_line_content": "",
          "new_line_content": "\tif (UNIV_LIKELY(!block->is_hashed)) {",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "old_line_content": "",
          "new_line_content": "\t      || rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "rw_lock_s_unlock",
          "old_text": null,
          "new_text": "rw_lock_s_unlock(&btr_search_latch)",
          "old_line_content": "#endif /* UNIV_SYNC_DEBUG */",
          "new_line_content": "\trw_lock_s_unlock(&btr_search_latch);",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(n_fields + n_bytes > 0)",
          "old_line_content": "\tn_fields = block->curr_n_fields;",
          "new_line_content": "\tut_a(n_fields + n_bytes > 0);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "page_get_n_recs",
          "old_text": null,
          "new_text": "page_get_n_recs(page)",
          "old_line_content": "\tindex = block->index;",
          "new_line_content": "\tn_recs = page_get_n_recs(page);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "mem_alloc",
          "old_text": null,
          "new_text": "mem_alloc(n_recs * sizeof(ulint))",
          "old_line_content": "",
          "new_line_content": "\tfolds = mem_alloc(n_recs * sizeof(ulint));",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": null,
          "new_api": "btr_search_check_free_space_in_heap",
          "old_text": null,
          "new_text": "btr_search_check_free_space_in_heap()",
          "old_line_content": "\tulint\t\tn_bytes;",
          "new_line_content": "\tbtr_search_check_free_space_in_heap();",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "btr_cur_get_rec",
          "old_text": null,
          "new_text": "btr_cur_get_rec(cursor)",
          "old_line_content": "\tibool\t\tlocked\t\t= FALSE;",
          "new_line_content": "\trec = btr_cur_get_rec(cursor);",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "page_get_infimum_rec",
          "old_text": null,
          "new_text": "page_get_infimum_rec(page)",
          "old_line_content": "",
          "new_line_content": "\trec = page_get_infimum_rec(page);",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "btr_cur_get_block",
          "old_text": null,
          "new_text": "btr_cur_get_block(cursor)",
          "old_line_content": "\tulint\t\toffsets_[REC_OFFS_NORMAL_SIZE];",
          "new_line_content": "\tblock = btr_cur_get_block(cursor);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "btr_page_get_index_id",
          "old_text": null,
          "new_text": "btr_page_get_index_id(page)",
          "old_line_content": "\t/* Calculate and cache fold values into an array for fast deletion",
          "new_line_content": "\tindex_id = btr_page_get_index_id(page);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "rw_lock_own",
          "old_text": null,
          "new_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "old_line_content": "",
          "new_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "ut_dulint_cmp",
          "old_text": null,
          "new_text": "ut_dulint_cmp(index_id, index->id)",
          "old_line_content": "",
          "new_line_content": "\tut_a(0 == ut_dulint_cmp(index_id, index->id));",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "ut_a",
          "old_text": null,
          "new_text": "ut_a(block->index == cursor->index)",
          "old_line_content": "",
          "new_line_content": "\tut_a(block->index == cursor->index);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "page_rec_is_supremum",
          "old_text": null,
          "new_text": "page_rec_is_supremum(rec)",
          "old_line_content": "",
          "new_line_content": "\twhile (!page_rec_is_supremum(rec)) {",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "rec_fold",
          "old_text": null,
          "new_text": "rec_fold(rec, offsets, n_fields, n_bytes, index_id)",
          "old_line_content": "",
          "new_line_content": "\t\tfold = rec_fold(rec, offsets, n_fields, n_bytes, index_id);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "page_rec_get_next",
          "old_text": null,
          "new_text": "page_rec_get_next(rec)",
          "old_line_content": "\t}",
          "new_line_content": "\tins_rec = page_rec_get_next(rec);",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": null,
          "new_api": "page_rec_get_next",
          "old_text": null,
          "new_text": "page_rec_get_next(ins_rec)",
          "old_line_content": "",
          "new_line_content": "\tnext_rec = page_rec_get_next(ins_rec);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "page_rec_is_supremum",
          "new_api": null,
          "old_text": "page_rec_is_supremum(rec)",
          "new_text": null,
          "old_line_content": "\twhile (!page_rec_is_supremum(rec)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "rec_get_offsets",
          "new_api": null,
          "old_text": "rec_get_offsets(rec, index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "new_text": null,
          "old_line_content": "\t\toffsets = rec_get_offsets(rec, index, offsets,",
          "new_line_content": "\t\t/* Remove all hash nodes pointing to this page from the",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "rec_offs_n_fields",
          "new_api": null,
          "old_text": "rec_offs_n_fields(offsets)",
          "new_text": null,
          "old_line_content": "\t\tut_a(rec_offs_n_fields(offsets) == n_fields + (n_bytes > 0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "rec_fold",
          "new_api": null,
          "old_text": "rec_fold(rec, offsets, n_fields, n_bytes, index_id)",
          "new_text": null,
          "old_line_content": "\t\tfold = rec_fold(rec, offsets, n_fields, n_bytes, index_id);",
          "new_line_content": "\t\tfolds[n_cached] = fold;",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "page_rec_get_next",
          "new_api": null,
          "old_text": "page_rec_get_next(ins_rec)",
          "new_text": null,
          "old_line_content": "\tnext_rec = page_rec_get_next(ins_rec);",
          "new_line_content": "\t\t\t\t     n_bytes, index_id);",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "rec_get_offsets",
          "new_api": null,
          "old_text": "rec_get_offsets(ins_rec, cursor->index, offsets,\n\t\t\t\t  ULINT_UNDEFINED, &heap)",
          "new_text": null,
          "old_line_content": "\toffsets = rec_get_offsets(ins_rec, cursor->index, offsets,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "rec_get_offsets",
          "new_api": null,
          "old_text": "rec_get_offsets(next_rec, cursor->index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "new_text": null,
          "old_line_content": "\t\toffsets = rec_get_offsets(next_rec, cursor->index, offsets,",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "rec_fold",
          "new_api": null,
          "old_text": "rec_fold(next_rec, offsets, n_fields,\n\t\t\t\t     n_bytes, index_id)",
          "new_text": null,
          "old_line_content": "\t\tnext_fold = rec_fold(next_rec, offsets, n_fields,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "UNIV_LIKELY_NULL",
          "new_api": null,
          "old_text": "UNIV_LIKELY_NULL(heap)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "mem_heap_free",
          "new_api": null,
          "old_text": "mem_heap_free(heap)",
          "new_text": null,
          "old_line_content": "\t\tmem_heap_free(heap);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "page_rec_is_infimum",
          "new_api": null,
          "old_text": "page_rec_is_infimum(rec)",
          "new_text": null,
          "old_line_content": "\tif (!page_rec_is_infimum(rec)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "rec_fold",
          "new_api": null,
          "old_text": "rec_fold(rec, offsets, n_fields, n_bytes, index_id)",
          "new_text": null,
          "old_line_content": "\t\tfold = rec_fold(rec, offsets, n_fields, n_bytes, index_id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(!block->is_hashed)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(!block->is_hashed)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "rw_lock_x_lock",
          "new_api": null,
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\tif (fold != ins_fold) {",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(block->curr_n_fields != n_fields)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(block->curr_n_fields != n_fields)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(block->curr_n_bytes != n_bytes)",
          "new_text": null,
          "old_line_content": "\t    || UNIV_UNLIKELY(block->curr_n_bytes != n_bytes)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "rw_lock_x_lock",
          "new_api": null,
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "mem_free",
          "new_api": null,
          "old_text": "mem_free(folds)",
          "new_text": null,
          "old_line_content": "\t\tmem_free(folds);",
          "new_line_content": "\tblock->index = NULL;",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "ha_insert_for_fold",
          "new_api": null,
          "old_text": "ha_insert_for_fold(table, fold, block, rec)",
          "new_text": null,
          "old_line_content": "\t\t\tha_insert_for_fold(table, fold, block, rec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(block->n_pointers)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(block->n_pointers)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "ut_print_timestamp",
          "new_api": null,
          "old_text": "ut_print_timestamp(stderr)",
          "new_text": null,
          "old_line_content": "\t\tut_print_timestamp(stderr);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "rw_lock_x_lock",
          "new_api": null,
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\t\t\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "btr_search_validate",
          "new_api": null,
          "old_text": "btr_search_validate()",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_validate();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "Drops a page hash index when a page is freed from a fseg to the file system.",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "mem_free",
          "new_api": null,
          "old_text": "mem_free(folds)",
          "new_text": null,
          "old_line_content": "\tmem_free(folds);",
          "new_line_content": "\tulint\tspace,\t\t/* in: space id */",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "rw_lock_x_lock",
          "new_api": null,
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\t\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "\t\t\tdict_index_name_print(stderr, cursor->index);",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "ha_insert_for_fold",
          "new_api": null,
          "old_text": "ha_insert_for_fold(table, ins_fold, block, ins_rec)",
          "new_text": null,
          "old_line_content": "\t\t\tha_insert_for_fold(table, ins_fold, block, ins_rec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "ha_insert_for_fold",
          "new_api": null,
          "old_text": "ha_insert_for_fold(table, next_fold, block, next_rec)",
          "new_text": null,
          "old_line_content": "\t\t\tha_insert_for_fold(table, next_fold, block, next_rec);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "buf_page_peek_if_search_hashed",
          "new_api": null,
          "old_text": "buf_page_peek_if_search_hashed(space, page_no)",
          "new_text": null,
          "old_line_content": "\tif (!buf_page_peek_if_search_hashed(space, page_no)) {",
          "new_line_content": "\thaving to fear a deadlock. */",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "UNIV_LIKELY_NULL",
          "new_api": null,
          "old_text": "UNIV_LIKELY_NULL(heap)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": "mem_heap_free",
          "new_api": null,
          "old_text": "mem_heap_free(heap)",
          "new_text": null,
          "old_line_content": "\t\tmem_heap_free(heap);",
          "new_line_content": "ibool",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "mtr_start",
          "new_api": null,
          "old_text": "mtr_start(&mtr)",
          "new_text": null,
          "old_line_content": "\tmtr_start(&mtr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "\t\t\t\t/* out: TRUE if ok */",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "buf_block_dbg_add_level",
          "new_api": null,
          "old_text": "buf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH)",
          "new_text": null,
          "old_line_content": "\tbuf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH);",
          "new_line_content": "has a hash index with different parameters, the old hash index is removed.",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "btr_search_drop_page_hash_index",
          "new_api": null,
          "old_text": "btr_search_drop_page_hash_index(block)",
          "new_text": null,
          "old_line_content": "\tbtr_search_drop_page_hash_index(block);",
          "new_line_content": "static",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "mtr_commit",
          "new_api": null,
          "old_text": "mtr_commit(&mtr)",
          "new_text": null,
          "old_line_content": "\tmtr_commit(&mtr);",
          "new_line_content": "btr_search_build_page_hash_index(",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": "mutex_enter",
          "new_api": null,
          "old_text": "mutex_enter(&buf_pool->mutex)",
          "new_text": null,
          "old_line_content": "\t\t\tmutex_enter(&buf_pool->mutex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "hash_get_nth_cell",
          "new_api": null,
          "old_text": "hash_get_nth_cell(btr_search_sys->hash_index, i)",
          "new_text": null,
          "old_line_content": "\t\tnode = hash_get_nth_cell(btr_search_sys->hash_index, i)->node;",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "page_get_page_no",
          "new_api": null,
          "old_text": "page_get_page_no(page)",
          "new_text": null,
          "old_line_content": "\t\t\t\tulint\tpage_no\t= page_get_page_no(page);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "page_get_space_id",
          "new_api": null,
          "old_text": "page_get_space_id(page)",
          "new_text": null,
          "old_line_content": "\t\t\t\tulint\tspace_id= page_get_space_id(page);",
          "new_line_content": "\t\t\t\t/* The block is most probably being freed.",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(index)",
          "new_text": null,
          "old_line_content": "\tut_ad(index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "buf_page_hash_get",
          "new_api": null,
          "old_text": "buf_page_hash_get(space_id, page_no)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tbuf_page_hash_get(space_id, page_no);",
          "new_line_content": "\t\t\t\tbuf_pool->page_hash by calling",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "buf_block_get_frame",
          "new_api": null,
          "old_text": "buf_block_get_frame(block)",
          "new_text": null,
          "old_line_content": "\tpage = buf_block_get_frame(block);",
          "new_line_content": "\tif (block->is_hashed && ((block->curr_n_fields != n_fields)",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(!block)",
          "new_text": null,
          "old_line_content": "\t\t\tif (UNIV_UNLIKELY(!block)",
          "new_line_content": "\t\t\t\tbtr_search_drop_page_hash_index().",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "buf_block_get_state",
          "new_api": null,
          "old_text": "buf_block_get_state(block)",
          "new_text": null,
          "old_line_content": "\t\t\t    || UNIV_UNLIKELY(buf_block_get_state(block)",
          "new_line_content": "\t\t\t\tLet us pretend that the block was also removed",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&btr_search_latch, RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\tut_ad(!rw_lock_own(&btr_search_latch, RW_LOCK_EX));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\t      || rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "btr_search_drop_page_hash_index",
          "new_api": null,
          "old_text": "btr_search_drop_page_hash_index(block)",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_drop_page_hash_index(block);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "rec_get_offsets",
          "new_api": null,
          "old_text": "rec_get_offsets((rec_t*) node->data,\n\t\t\t\t\t\t  block->index, offsets,\n\t\t\t\t\t\t  block->curr_n_fields\n\t\t\t\t\t\t  + (block->curr_n_bytes > 0),\n\t\t\t\t\t\t  &heap)",
          "new_text": null,
          "old_line_content": "\t\t\toffsets = rec_get_offsets((rec_t*) node->data,",
          "new_line_content": "\t\t\t\t\tblock->curr_n_bytes,",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t/* Check that the values for hash index build are sensible */",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "page_get_n_recs",
          "new_api": null,
          "old_text": "page_get_n_recs(page)",
          "new_text": null,
          "old_line_content": "\tn_recs = page_get_n_recs(page);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "rec_fold",
          "new_api": null,
          "old_text": "rec_fold((rec_t*)(node->data),\n\t\t\t\t\toffsets,\n\t\t\t\t\tblock->curr_n_fields,\n\t\t\t\t\tblock->curr_n_bytes,\n\t\t\t\t\tbtr_page_get_index_id(page))",
          "new_text": null,
          "old_line_content": "\t\t\t    != rec_fold((rec_t*)(node->data),",
          "new_line_content": "\t\t\t\t\t\" index pointer to page %lu\\n\"",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "dict_index_get_n_unique_in_tree",
          "new_api": null,
          "old_text": "dict_index_get_n_unique_in_tree(index)",
          "new_text": null,
          "old_line_content": "\t    || (dict_index_get_n_unique_in_tree(index) == n_fields",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "page_get_page_no",
          "new_api": null,
          "old_text": "page_get_page_no(page)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(ulong) page_get_page_no(page),",
          "new_line_content": "\t\t\t\t\t\t\t block->curr_n_bytes,",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "ut_dulint_get_high",
          "new_api": null,
          "old_text": "ut_dulint_get_high(\n\t\t\t\t\t\tbtr_page_get_index_id(page))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(ulong) ut_dulint_get_high(",
          "new_line_content": "\t\t\t\t\t\t\t\t page)));",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "btr_page_get_index_id",
          "new_api": null,
          "old_text": "btr_page_get_index_id(page)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tbtr_page_get_index_id(page)),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "mem_alloc",
          "new_api": null,
          "old_text": "mem_alloc(n_recs * sizeof(ulint))",
          "new_text": null,
          "old_line_content": "\tfolds = mem_alloc(n_recs * sizeof(ulint));",
          "new_line_content": "\t\t\t\t  n_fields + (n_bytes > 0), &heap);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "mem_alloc",
          "new_api": null,
          "old_text": "mem_alloc(n_recs * sizeof(rec_t*))",
          "new_text": null,
          "old_line_content": "\trecs = mem_alloc(n_recs * sizeof(rec_t*));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "btr_page_get_index_id",
          "new_api": null,
          "old_text": "btr_page_get_index_id(page)",
          "new_text": null,
          "old_line_content": "\tindex_id = btr_page_get_index_id(page);",
          "new_line_content": "\t\tif (n_bytes > 0) {",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "btr_page_get_index_id",
          "new_api": null,
          "old_text": "btr_page_get_index_id(\n\t\t\t\t\t\t\t\t page)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t btr_page_get_index_id(",
          "new_line_content": "\t\t\t\t\t(void*) page, (ulong) block->is_hashed,",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "page_get_infimum_rec",
          "new_api": null,
          "old_text": "page_get_infimum_rec(page)",
          "new_text": null,
          "old_line_content": "\trec = page_rec_get_next(page_get_infimum_rec(page));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "fputs",
          "new_api": null,
          "old_text": "fputs(\"InnoDB: Record \", stderr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfputs(\"InnoDB: Record \", stderr);",
          "new_line_content": "\t\t\t\t\t(ulong) block->curr_left_side);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "rec_get_offsets",
          "new_api": null,
          "old_text": "rec_get_offsets(rec, index, offsets,\n\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "new_text": null,
          "old_line_content": "\toffsets = rec_get_offsets(rec, index, offsets,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "rec_print_new",
          "new_api": null,
          "old_text": "rec_print_new(stderr, (rec_t*)node->data,\n\t\t\t\t\t      offsets)",
          "new_text": null,
          "old_line_content": "\t\t\t\trec_print_new(stderr, (rec_t*)node->data,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "page_rec_is_supremum",
          "new_api": null,
          "old_text": "page_rec_is_supremum(rec)",
          "new_text": null,
          "old_line_content": "\tif (!page_rec_is_supremum(rec)) {",
          "new_line_content": "\tif (left_side) {",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "rec_offs_n_fields",
          "new_api": null,
          "old_text": "rec_offs_n_fields(offsets)",
          "new_text": null,
          "old_line_content": "\t\tut_a(n_fields <= rec_offs_n_fields(offsets));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "rec_offs_n_fields",
          "new_api": null,
          "old_text": "rec_offs_n_fields(offsets)",
          "new_text": null,
          "old_line_content": "\t\t\tut_a(n_fields < rec_offs_n_fields(offsets));",
          "new_line_content": "\t\tn_cached++;",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "buf_page_print",
          "new_api": null,
          "old_text": "buf_page_print(page, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tbuf_page_print(page, 0);",
          "new_line_content": "\t\t/* We release btr_search_latch every once in a while to",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(index && info && tuple && cursor && mtr)",
          "new_text": null,
          "old_line_content": "\tut_ad(index && info && tuple && cursor && mtr);",
          "new_line_content": "\t      || (latch_mode == BTR_MODIFY_LEAF));",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad((latch_mode == BTR_SEARCH_LEAF)\n\t      || (latch_mode == BTR_MODIFY_LEAF))",
          "new_text": null,
          "old_line_content": "\tut_ad((latch_mode == BTR_SEARCH_LEAF)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "ut_min",
          "new_api": null,
          "old_text": "ut_min(i + chunk_size - 1, cell_count - 1)",
          "new_text": null,
          "old_line_content": "\t\tulint end_index = ut_min(i + chunk_size - 1, cell_count - 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "page_rec_get_next",
          "new_api": null,
          "old_text": "page_rec_get_next(rec)",
          "new_text": null,
          "old_line_content": "\t\tnext_rec = page_rec_get_next(rec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "page_rec_is_supremum",
          "new_api": null,
          "old_text": "page_rec_is_supremum(next_rec)",
          "new_text": null,
          "old_line_content": "\t\tif (page_rec_is_supremum(next_rec)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(info->n_hash_potential == 0)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(info->n_hash_potential == 0)) {",
          "new_line_content": "\t\treturn(FALSE);",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&buf_pool->mutex)",
          "new_text": null,
          "old_line_content": "\t\t\tmutex_exit(&buf_pool->mutex);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "ha_validate",
          "new_api": null,
          "old_text": "ha_validate(btr_search_sys->hash_index, i, end_index)",
          "new_text": null,
          "old_line_content": "\t\tif (!ha_validate(btr_search_sys->hash_index, i, end_index)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "dtuple_get_n_fields",
          "new_api": null,
          "old_text": "dtuple_get_n_fields(tuple)",
          "new_text": null,
          "old_line_content": "\ttuple_n_fields = dtuple_get_n_fields(tuple);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(tuple_n_fields < cursor->n_fields)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(tuple_n_fields < cursor->n_fields)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "rec_get_offsets",
          "new_api": null,
          "old_text": "rec_get_offsets(next_rec, index, offsets,\n\t\t\t\t\t  n_fields + (n_bytes > 0), &heap)",
          "new_text": null,
          "old_line_content": "\t\toffsets = rec_get_offsets(next_rec, index, offsets,",
          "new_line_content": "\t\t\t\tfolds[n_cached] = next_fold;",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "rec_fold",
          "new_api": null,
          "old_text": "rec_fold(next_rec, offsets, n_fields,\n\t\t\t\t     n_bytes, index_id)",
          "new_text": null,
          "old_line_content": "\t\tnext_fold = rec_fold(next_rec, offsets, n_fields,",
          "new_line_content": "\t\t\t\tn_cached++;",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&buf_pool->mutex)",
          "new_text": null,
          "old_line_content": "\tmutex_exit(&buf_pool->mutex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(tuple_n_fields == cursor->n_fields)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(tuple_n_fields == cursor->n_fields)",
          "new_line_content": "\tinfo->n_hash_succ++;",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "UNIV_LIKELY_NULL",
          "new_api": null,
          "old_text": "UNIV_LIKELY_NULL(heap)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "mem_heap_free",
          "new_api": null,
          "old_text": "mem_heap_free(heap)",
          "new_text": null,
          "old_line_content": "\t\tmem_heap_free(heap);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "rw_lock_s_lock",
          "new_api": null,
          "old_text": "rw_lock_s_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_lock(&btr_search_latch);",
          "new_line_content": "\t\tgoto failure_unlock;",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "btr_search_check_free_space_in_heap",
          "new_api": null,
          "old_text": "btr_search_check_free_space_in_heap()",
          "new_text": null,
          "old_line_content": "\tbtr_search_check_free_space_in_heap();",
          "new_line_content": "\tblock->is_hashed = TRUE;",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(btr_search_latch.reader_count > 0)",
          "new_text": null,
          "old_line_content": "\tut_ad(btr_search_latch.reader_count > 0);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "rw_lock_x_lock",
          "new_api": null,
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "page_align",
          "new_api": null,
          "old_text": "page_align((rec_t*) rec)",
          "new_text": null,
          "old_line_content": "\tpage = page_align((rec_t*) rec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "page_get_space_id",
          "new_api": null,
          "old_text": "page_get_space_id(page)",
          "new_text": null,
          "old_line_content": "\t\tulint\tspace_id\t= page_get_space_id(page);",
          "new_line_content": "\t\t\t     != BUF_BLOCK_FILE_PAGE)) {",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "mutex_enter",
          "new_api": null,
          "old_text": "mutex_enter(&buf_pool->mutex)",
          "new_text": null,
          "old_line_content": "\t\tmutex_enter(&buf_pool->mutex);",
          "new_line_content": "\t\t/* The block is most probably being freed.",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "buf_page_hash_get",
          "new_api": null,
          "old_text": "buf_page_hash_get(space_id, page_no)",
          "new_text": null,
          "old_line_content": "\t\tblock = (buf_block_t*) buf_page_hash_get(space_id, page_no);",
          "new_line_content": "\t\tThe function buf_LRU_search_and_free_block()",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "mutex_exit",
          "new_api": null,
          "old_text": "mutex_exit(&buf_pool->mutex)",
          "new_text": null,
          "old_line_content": "\t\tmutex_exit(&buf_pool->mutex);",
          "new_line_content": "\t\tfirst removes the block from buf_pool->page_hash",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(!block)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_UNLIKELY(!block)",
          "new_line_content": "\t\tLet us pretend that the block was also removed from",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "buf_block_get_state",
          "new_api": null,
          "old_text": "buf_block_get_state(block)",
          "new_text": null,
          "old_line_content": "\t    || UNIV_UNLIKELY(buf_block_get_state(block)",
          "new_line_content": "\t\tthe adaptive hash index. */",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "ha_insert_for_fold",
          "new_api": null,
          "old_text": "ha_insert_for_fold(table, folds[i], block, recs[i])",
          "new_text": null,
          "old_line_content": "\t\tha_insert_for_fold(table, folds[i], block, recs[i]);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "Moves or deletes hash entries for moved records. If new_page is already hashed,",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "mem_free",
          "new_api": null,
          "old_text": "mem_free(folds)",
          "new_text": null,
          "old_line_content": "\tmem_free(folds);",
          "new_line_content": "and page is hashed, then a new hash index is built to new_page with the same",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "mem_free",
          "new_api": null,
          "old_text": "mem_free(recs)",
          "new_text": null,
          "old_line_content": "\tmem_free(recs);",
          "new_line_content": "parameters as page (this often happens when a page is split). */",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "UNIV_LIKELY_NULL",
          "new_api": null,
          "old_text": "UNIV_LIKELY_NULL(heap)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "mem_heap_free",
          "new_api": null,
          "old_text": "mem_heap_free(heap)",
          "new_text": null,
          "old_line_content": "\t\tmem_heap_free(heap);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "UNIV_LIKELY",
          "new_api": null,
          "old_text": "UNIV_LIKELY(!has_search_latch)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY(!has_search_latch)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "UNIV_UNLIKELY",
          "new_api": null,
          "old_text": "UNIV_UNLIKELY(\n\t\t\t    !buf_page_get_known_nowait(latch_mode, block,\n\t\t\t\t\t\t       BUF_MAKE_YOUNG,\n\t\t\t\t\t\t       __FILE__, __LINE__,\n\t\t\t\t\t\t       mtr))",
          "new_text": null,
          "old_line_content": "\t\tif (UNIV_UNLIKELY(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": "buf_page_get_known_nowait",
          "new_api": null,
          "old_text": "buf_page_get_known_nowait(latch_mode, block,\n\t\t\t\t\t\t       BUF_MAKE_YOUNG,\n\t\t\t\t\t\t       __FILE__, __LINE__,\n\t\t\t\t\t\t       mtr)",
          "new_text": null,
          "old_line_content": "\t\t\t    !buf_page_get_known_nowait(latch_mode, block,",
          "new_line_content": "#ifdef UNIV_SYNC_DEBUG",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "buf_block_dbg_add_level",
          "new_api": null,
          "old_text": "buf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH)",
          "new_text": null,
          "old_line_content": "\t\tbuf_block_dbg_add_level(block, SYNC_TREE_NODE_FROM_HASH);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "UNIV_LIKELY",
          "new_api": null,
          "old_text": "UNIV_LIKELY(!has_search_latch)",
          "new_text": null,
          "old_line_content": "\t\tif (UNIV_LIKELY(!has_search_latch)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "btr_leaf_page_release",
          "new_api": null,
          "old_text": "btr_leaf_page_release(block, latch_mode, mtr)",
          "new_text": null,
          "old_line_content": "\t\t\tbtr_leaf_page_release(block, latch_mode, mtr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&(new_block->lock), RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\tut_ad(rw_lock_own(&(new_block->lock), RW_LOCK_EX));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(!new_block->is_hashed || new_block->index == index)",
          "new_text": null,
          "old_line_content": "\tut_a(!new_block->is_hashed || new_block->index == index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(!block->is_hashed || block->index == index)",
          "new_text": null,
          "old_line_content": "\tut_a(!block->is_hashed || block->index == index);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "rw_lock_s_lock",
          "new_api": null,
          "old_text": "rw_lock_s_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_s_lock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "buf_block_get_state",
          "new_api": null,
          "old_text": "buf_block_get_state(block)",
          "new_text": null,
          "old_line_content": "\tut_ad(buf_block_get_state(block) == BUF_BLOCK_FILE_PAGE);",
          "new_line_content": "\trecord to determine if our guess for the cursor position is",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "page_rec_is_user_rec",
          "new_api": null,
          "old_text": "page_rec_is_user_rec(rec)",
          "new_text": null,
          "old_line_content": "\tut_ad(page_rec_is_user_rec(rec));",
          "new_line_content": "\tright. */",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t\tn_bytes = block->curr_n_bytes;",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "btr_search_drop_page_hash_index",
          "new_api": null,
          "old_text": "btr_search_drop_page_hash_index(block)",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_drop_page_hash_index(block);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "UNIV_EXPECT",
          "new_api": null,
          "old_text": "UNIV_EXPECT(\n\t\t    ut_dulint_cmp(index_id, btr_page_get_index_id(page)), 0)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_EXPECT(",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "btr_page_get_index_id",
          "new_api": null,
          "old_text": "btr_page_get_index_id(page)",
          "new_text": null,
          "old_line_content": "\t\t    ut_dulint_cmp(index_id, btr_page_get_index_id(page)), 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "UNIV_LIKELY",
          "new_api": null,
          "old_text": "UNIV_LIKELY(!has_search_latch)",
          "new_text": null,
          "old_line_content": "\t\tif (UNIV_LIKELY(!has_search_latch)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "btr_leaf_page_release",
          "new_api": null,
          "old_text": "btr_leaf_page_release(block, latch_mode, mtr)",
          "new_text": null,
          "old_line_content": "\t\t\tbtr_leaf_page_release(block, latch_mode, mtr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "UNIV_LIKELY",
          "new_api": null,
          "old_text": "UNIV_LIKELY(info->n_hash_potential < BTR_SEARCH_BUILD_LIMIT + 5)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY(info->n_hash_potential < BTR_SEARCH_BUILD_LIMIT + 5)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "btr_search_build_page_hash_index",
          "new_api": null,
          "old_text": "btr_search_build_page_hash_index(index, new_block, n_fields,\n\t\t\t\t\t\t n_bytes, left_side)",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_build_page_hash_index(index, new_block, n_fields,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(n_fields == block->curr_n_fields)",
          "new_text": null,
          "old_line_content": "\t\tut_ad(n_fields == block->curr_n_fields);",
          "new_line_content": "Updates the page hash index when a single record is deleted from a page. */",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(n_bytes == block->curr_n_bytes)",
          "new_text": null,
          "old_line_content": "\t\tut_ad(n_bytes == block->curr_n_bytes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(left_side == block->curr_left_side)",
          "new_text": null,
          "old_line_content": "\t\tut_ad(left_side == block->curr_left_side);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t\t\t\trecord to delete using btr_cur_search_...,",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "ut_ad",
          "new_api": null,
          "old_text": "ut_ad(!has_search_latch)",
          "new_text": null,
          "old_line_content": "\tut_ad(!has_search_latch);",
          "new_line_content": "\t\tin the index tree may actually take us to the supremum",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "btr_leaf_page_release",
          "new_api": null,
          "old_text": "btr_leaf_page_release(block, latch_mode, mtr)",
          "new_text": null,
          "old_line_content": "\tbtr_leaf_page_release(block, latch_mode, mtr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "btr_cur_search_to_nth_level",
          "new_api": null,
          "old_text": "btr_cur_search_to_nth_level(index, 0, tuple, mode, latch_mode,\n\t\t\t\t    &cursor2, 0, mtr)",
          "new_text": null,
          "old_line_content": "\tbtr_cur_search_to_nth_level(index, 0, tuple, mode, latch_mode,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "btr_pcur_open_on_user_rec",
          "new_api": null,
          "old_text": "btr_pcur_open_on_user_rec(index, tuple, mode, latch_mode,\n\t\t\t\t\t  &pcur, mtr)",
          "new_text": null,
          "old_line_content": "\t\tbtr_pcur_open_on_user_rec(index, tuple, mode, latch_mode,",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "btr_cur_get_rec",
          "new_api": null,
          "old_text": "btr_cur_get_rec(cursor)",
          "new_text": null,
          "old_line_content": "\t\tut_ad(btr_pcur_get_rec(&pcur) == btr_cur_get_rec(cursor));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "btr_cur_get_rec",
          "new_api": null,
          "old_text": "btr_cur_get_rec(cursor)",
          "new_text": null,
          "old_line_content": "\t\tut_ad(btr_cur_get_rec(&cursor2) == btr_cur_get_rec(cursor));",
          "new_line_content": "\tbtr_search_n_succ++;",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "btr_cur_get_rec",
          "new_api": null,
          "old_text": "btr_cur_get_rec(cursor)",
          "new_text": null,
          "old_line_content": "\trec = btr_cur_get_rec(cursor);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "btr_cur_get_block",
          "new_api": null,
          "old_text": "btr_cur_get_block(cursor)",
          "new_text": null,
          "old_line_content": "\tblock = btr_cur_get_block(cursor);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": "UNIV_LIKELY",
          "new_api": null,
          "old_text": "UNIV_LIKELY(!has_search_latch)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY(!has_search_latch)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "buf_block_peek_if_too_old",
          "new_api": null,
          "old_text": "buf_block_peek_if_too_old(block)",
          "new_text": null,
          "old_line_content": "\t    && buf_block_peek_if_too_old(block)) {",
          "new_line_content": "\treturn(TRUE);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(block->curr_n_fields + block->curr_n_bytes > 0)",
          "new_text": null,
          "old_line_content": "\tut_a(block->curr_n_fields + block->curr_n_bytes > 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "buf_page_make_young",
          "new_api": null,
          "old_text": "buf_page_make_young(&block->page)",
          "new_text": null,
          "old_line_content": "\t\tbuf_page_make_young(&block->page);",
          "new_line_content": "\t/*-------------------------------------------*/",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "UNIV_LIKELY_NULL",
          "new_api": null,
          "old_text": "UNIV_LIKELY_NULL(heap)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY_NULL(heap)) {",
          "new_line_content": "/************************************************************************",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "mem_heap_free",
          "new_api": null,
          "old_text": "mem_heap_free(heap)",
          "new_text": null,
          "old_line_content": "\t\tmem_heap_free(heap);",
          "new_line_content": "Updates the page hash index when a single record is inserted on a page. */",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "rw_lock_x_lock",
          "new_api": null,
          "old_text": "rw_lock_x_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_x_lock(&btr_search_latch);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": "UNIV_LIKELY",
          "new_api": null,
          "old_text": "UNIV_LIKELY(!has_search_latch)",
          "new_text": null,
          "old_line_content": "\tif (UNIV_LIKELY(!has_search_latch)) {",
          "new_line_content": "\t\tinfo->n_hash_succ--;",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "ha_search_and_delete_if_found",
          "new_api": null,
          "old_text": "ha_search_and_delete_if_found(table, fold, rec)",
          "new_text": null,
          "old_line_content": "\tfound = ha_search_and_delete_if_found(table, fold, rec);",
          "new_line_content": "/*==================================*/",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "\t\t\t\tplace to insert using btr_cur_search_...,",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "btr_cur_get_rec",
          "new_api": null,
          "old_text": "btr_cur_get_rec(cursor)",
          "new_text": null,
          "old_line_content": "\trec = btr_cur_get_rec(cursor);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "btr_cur_get_block",
          "new_api": null,
          "old_text": "btr_cur_get_block(cursor)",
          "new_text": null,
          "old_line_content": "\tblock = btr_cur_get_block(cursor);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(block->index == cursor->index)",
          "new_text": null,
          "old_line_content": "\tut_a(block->index == cursor->index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "ha_search_and_update_if_found",
          "new_api": null,
          "old_text": "ha_search_and_update_if_found(table, cursor->fold, rec,\n\t\t\t\t\t      block, page_rec_get_next(rec))",
          "new_text": null,
          "old_line_content": "\t\tha_search_and_update_if_found(table, cursor->fold, rec,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "page_rec_get_next",
          "new_api": null,
          "old_text": "page_rec_get_next(rec)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t      block, page_rec_get_next(rec));",
          "new_line_content": "/************************************************************************",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&btr_search_latch, RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\tut_ad(!rw_lock_own(&btr_search_latch, RW_LOCK_EX));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "rw_lock_x_unlock",
          "new_api": null,
          "old_text": "rw_lock_x_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_x_unlock(&btr_search_latch);",
          "new_line_content": "btr_search_update_hash_on_insert(",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "rw_lock_s_lock",
          "new_api": null,
          "old_text": "rw_lock_s_lock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_s_lock(&btr_search_latch);",
          "new_line_content": "\ttable = btr_search_sys->hash_index;",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "btr_search_update_hash_on_insert",
          "new_api": null,
          "old_text": "btr_search_update_hash_on_insert(cursor)",
          "new_text": null,
          "old_line_content": "\t\tbtr_search_update_hash_on_insert(cursor);",
          "new_line_content": "\tbtr_cur_t*\tcursor)\t/* in: cursor which was positioned to the",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\t\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "\t      || (block->page.buf_fix_count == 0));",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "new_text": null,
          "old_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_SHARED)",
          "new_line_content": "\treleasing btr_search_latch, as the index page might only",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\t      || rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_line_content": "\tbe s-latched! */",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "rw_lock_s_unlock",
          "new_api": null,
          "old_text": "rw_lock_s_unlock(&btr_search_latch)",
          "new_text": null,
          "old_line_content": "\trw_lock_s_unlock(&btr_search_latch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(n_fields + n_bytes > 0)",
          "new_text": null,
          "old_line_content": "\tut_a(n_fields + n_bytes > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "mem_alloc",
          "new_api": null,
          "old_text": "mem_alloc(n_recs * sizeof(ulint))",
          "new_text": null,
          "old_line_content": "\tfolds = mem_alloc(n_recs * sizeof(ulint));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "btr_search_check_free_space_in_heap",
          "new_api": null,
          "old_text": "btr_search_check_free_space_in_heap()",
          "new_text": null,
          "old_line_content": "\tbtr_search_check_free_space_in_heap();",
          "new_line_content": "\tif (!block->is_hashed) {",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "btr_cur_get_rec",
          "new_api": null,
          "old_text": "btr_cur_get_rec(cursor)",
          "new_text": null,
          "old_line_content": "\trec = btr_cur_get_rec(cursor);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "page_get_infimum_rec",
          "new_api": null,
          "old_text": "page_get_infimum_rec(page)",
          "new_text": null,
          "old_line_content": "\trec = page_get_infimum_rec(page);",
          "new_line_content": "\toffsets = NULL;",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "page_rec_get_next",
          "new_api": null,
          "old_text": "page_rec_get_next(rec)",
          "new_text": null,
          "old_line_content": "\trec = page_rec_get_next(rec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "btr_cur_get_block",
          "new_api": null,
          "old_text": "btr_cur_get_block(cursor)",
          "new_text": null,
          "old_line_content": "\tblock = btr_cur_get_block(cursor);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "rw_lock_own",
          "new_api": null,
          "old_text": "rw_lock_own(&(block->lock), RW_LOCK_EX)",
          "new_text": null,
          "old_line_content": "\tut_ad(rw_lock_own(&(block->lock), RW_LOCK_EX));",
          "new_line_content": "\tindex_id = cursor->index->id;",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "ut_a",
          "new_api": null,
          "old_text": "ut_a(block->index == cursor->index)",
          "new_text": null,
          "old_line_content": "\tut_a(block->index == cursor->index);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 56,
      "total_additions": 173,
      "total_deletions": 175,
      "total_api_changes": 404
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 16,
        "api_related_lines": 404,
        "non_api_lines": 12,
        "non_api_line_numbers": [
          845,
          855,
          751,
          753,
          755,
          756,
          757,
          758,
          823,
          760,
          730,
          732
        ]
      }
    },
    "api_calls_before": 355,
    "api_calls_after": 354,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 13,
      "total_diff_lines": 50
    }
  }
}