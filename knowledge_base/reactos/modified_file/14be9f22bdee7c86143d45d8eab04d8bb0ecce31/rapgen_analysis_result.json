{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/14be9f22bdee7c86143d45d8eab04d8bb0ecce31",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/14be9f22bdee7c86143d45d8eab04d8bb0ecce31/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/14be9f22bdee7c86143d45d8eab04d8bb0ecce31/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/14be9f22bdee7c86143d45d8eab04d8bb0ecce31/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 147,
          "old_api": "EngStretchBlt",
          "new_api": "EngFreeMem",
          "old_text": "EngStretchBlt(SourceStretchedObj, psoSource, NULL, NULL, NULL,\n                           NULL, NULL, &SourceStretchedRect, &InputRect,\n                           NULL, COLORONCOLOR)",
          "new_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "old_line_content": "        if (!EngStretchBlt(SourceStretchedObj, psoSource, NULL, NULL, NULL,",
          "new_line_content": "            EngFreeMem(SourceStretchedObj->pvBits);",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "IntEngEnter",
          "new_api": "EngUnlockSurface",
          "old_text": "IntEngEnter(&EnterLeaveSource, psoSource, &InputRect, TRUE, &Translate, &InputObj)",
          "new_text": "EngUnlockSurface(SourceStretchedObj)",
          "old_line_content": "    if (!IntEngEnter(&EnterLeaveSource, psoSource, &InputRect, TRUE, &Translate, &InputObj))",
          "new_line_content": "            EngUnlockSurface(SourceStretchedObj);",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "EngFreeMem",
          "new_api": "EngDeleteSurface",
          "old_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "new_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "old_line_content": "            EngFreeMem(SourceStretchedObj->pvBits);",
          "new_line_content": "            EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": "IntEngEnter",
          "new_api": "EngFreeMem",
          "old_text": "IntEngEnter(&EnterLeaveDest, psoDest, &OutputRect, FALSE, &Translate, &OutputObj)",
          "new_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "old_line_content": "    if (!IntEngEnter(&EnterLeaveDest, psoDest, &OutputRect, FALSE, &Translate, &OutputObj))",
          "new_line_content": "            EngFreeMem(SourceStretchedObj->pvBits);",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "EngFreeMem",
          "new_api": "EngDeleteSurface",
          "old_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "new_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "old_line_content": "            EngFreeMem(SourceStretchedObj->pvBits);",
          "new_line_content": "            EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": "ASSERT",
          "new_api": "IntEngLeave",
          "old_text": "ASSERT(FALSE)",
          "new_text": "IntEngLeave(&EnterLeaveSource)",
          "old_line_content": "            ASSERT(FALSE);",
          "new_line_content": "    IntEngLeave(&EnterLeaveSource);",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "IntEngLeave",
          "new_api": "EngFreeMem",
          "old_text": "IntEngLeave(&EnterLeaveDest)",
          "new_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "old_line_content": "    IntEngLeave(&EnterLeaveDest);",
          "new_line_content": "        EngFreeMem(SourceStretchedObj->pvBits);",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "IntEngLeave",
          "new_api": "EngUnlockSurface",
          "old_text": "IntEngLeave(&EnterLeaveSource)",
          "new_text": "EngUnlockSurface(SourceStretchedObj)",
          "old_line_content": "    IntEngLeave(&EnterLeaveSource);",
          "new_line_content": "        EngUnlockSurface(SourceStretchedObj);",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "EngFreeMem",
          "new_api": "EngDeleteSurface",
          "old_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "new_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "old_line_content": "        EngFreeMem(SourceStretchedObj->pvBits);",
          "new_line_content": "        EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "CONTAINING_RECORD",
          "new_api": "ASSERT",
          "old_text": "CONTAINING_RECORD(psoDest, SURFACE, SurfObj)",
          "new_text": "ASSERT(DestRect)",
          "old_line_content": "    psurfDest = CONTAINING_RECORD(psoDest, SURFACE, SurfObj);",
          "new_line_content": "    ASSERT(DestRect);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 256,
          "old_api": null,
          "new_api": "IntEngLeave",
          "old_text": null,
          "new_text": "IntEngLeave(&EnterLeaveDest)",
          "old_line_content": "            UNIMPLEMENTED;",
          "new_line_content": "    IntEngLeave(&EnterLeaveDest);",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "IntEngStretchBlt",
          "old_text": null,
          "new_text": "IntEngStretchBlt(SourceStretchedObj, psoSource, NULL, NULL, NULL,\n                           NULL, NULL, &SourceStretchedRect, &InputRect,\n                           NULL, COLORONCOLOR)",
          "old_line_content": "        /* FIXME: IntEngStretchBlt isn't used here atm because it results in a",
          "new_line_content": "        if (!IntEngStretchBlt(SourceStretchedObj, psoSource, NULL, NULL, NULL,",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": null,
          "new_api": "DPRINT1",
          "old_text": null,
          "new_text": "DPRINT1(\"EngStretchBlt failed!\\n\")",
          "old_line_content": "                              NULL, NULL, COLORONCOLOR))*/",
          "new_line_content": "            DPRINT1(\"EngStretchBlt failed!\\n\");",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": null,
          "new_api": "EngUnlockSurface",
          "old_text": null,
          "new_text": "EngUnlockSurface(SourceStretchedObj)",
          "old_line_content": "                           NULL, NULL, &SourceStretchedRect, &InputRect,",
          "new_line_content": "            EngUnlockSurface(SourceStretchedObj);",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "EngDeleteSurface",
          "old_text": null,
          "new_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "old_line_content": "                           NULL, COLORONCOLOR))",
          "new_line_content": "            EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(psoDest)",
          "old_line_content": "{",
          "new_line_content": "    ASSERT(psoDest);",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": null,
          "new_api": "CONTAINING_RECORD",
          "old_text": null,
          "new_text": "CONTAINING_RECORD(psoDest, SURFACE, SurfObj)",
          "old_line_content": "    BOOL ret = FALSE;",
          "new_line_content": "    psurfDest = CONTAINING_RECORD(psoDest, SURFACE, SurfObj);",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": null,
          "new_api": "IntEngEnter",
          "old_text": null,
          "new_text": "IntEngEnter(&EnterLeaveSource, psoSource, &InputRect, TRUE, &Translate, &InputObj)",
          "old_line_content": "        InputRect.right = SourceStretchedRect.right;",
          "new_line_content": "    if (!IntEngEnter(&EnterLeaveSource, psoSource, &InputRect, TRUE, &Translate, &InputObj))",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(psoSource)",
          "old_line_content": "    SURFACE *psurfSource;",
          "new_line_content": "    ASSERT(psoSource);",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": null,
          "new_api": "CONTAINING_RECORD",
          "old_text": null,
          "new_text": "CONTAINING_RECORD(psoSource, SURFACE, SurfObj)",
          "old_line_content": "",
          "new_line_content": "    psurfSource = CONTAINING_RECORD(psoSource, SURFACE, SurfObj);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "EngFreeMem",
          "old_text": null,
          "new_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "old_line_content": "    /* Now call the DIB function */",
          "new_line_content": "            EngFreeMem(SourceStretchedObj->pvBits);",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(SourceRect)",
          "old_line_content": "",
          "new_line_content": "    ASSERT(SourceRect);",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": null,
          "new_api": "IntEngEnter",
          "old_text": null,
          "new_text": "IntEngEnter(&EnterLeaveDest, psoDest, &OutputRect, FALSE, &Translate, &OutputObj)",
          "old_line_content": "    InputRect.left +=  Translate.x;",
          "new_line_content": "    if (!IntEngEnter(&EnterLeaveDest, psoDest, &OutputRect, FALSE, &Translate, &OutputObj))",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "AlphaBlend",
          "old_text": null,
          "new_text": "GDIDEVFUNCS(psoDest).AlphaBlend(\n                  psoDest, psoSource, ClipRegion, ColorTranslation,\n                  DestRect, SourceRect, BlendObj)",
          "old_line_content": "    }",
          "new_line_content": "        ret = GDIDEVFUNCS(psoDest).AlphaBlend(",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "IntEngLeave",
          "old_text": null,
          "new_text": "IntEngLeave(&EnterLeaveSource)",
          "old_line_content": "    InputRect.top +=  Translate.y;",
          "new_line_content": "        IntEngLeave(&EnterLeaveSource);",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": null,
          "new_api": "EngUnlockSurface",
          "old_text": null,
          "new_text": "EngUnlockSurface(SourceStretchedObj)",
          "old_line_content": "    {",
          "new_line_content": "            EngUnlockSurface(SourceStretchedObj);",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "EngAlphaBlend",
          "old_text": null,
          "new_text": "EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation,\n                            DestRect, SourceRect, BlendObj)",
          "old_line_content": "                  DestRect, SourceRect, BlendObj);",
          "new_line_content": "        ret = EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation,",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": null,
          "new_api": "DIB_AlphaBlend",
          "old_text": null,
          "new_text": "DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(\n                      OutputObj, InputObj, &OutputRect, &InputRect, ClipRegion, ColorTranslation, BlendObj)",
          "old_line_content": "    Ret = FALSE;",
          "new_line_content": "            Ret = DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "ProbeForRead",
          "old_text": null,
          "new_text": "ProbeForRead(upDestRect, sizeof(RECTL), 1)",
          "old_line_content": "    RECTL DestRect;",
          "new_line_content": "        ProbeForRead(upDestRect, sizeof(RECTL), 1);",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "RECTL_bIntersectRect",
          "old_text": null,
          "new_text": "RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect)",
          "old_line_content": "        case DC_RECT:",
          "new_line_content": "            if (RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect))",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "RtlCopyMemory",
          "old_text": null,
          "new_text": "RtlCopyMemory(&DestRect,upDestRect, sizeof(RECTL))",
          "old_line_content": "    RECTL SourceRect;",
          "new_line_content": "        RtlCopyMemory(&DestRect,upDestRect, sizeof(RECTL));",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "ProbeForRead",
          "old_text": null,
          "new_text": "ProbeForRead(upSourceRect, sizeof(RECTL), 1)",
          "old_line_content": "    _SEH2_TRY",
          "new_line_content": "        ProbeForRead(upSourceRect, sizeof(RECTL), 1);",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "RtlCopyMemory",
          "old_text": null,
          "new_text": "RtlCopyMemory(&SourceRect, upSourceRect, sizeof(RECTL))",
          "old_line_content": "    {",
          "new_line_content": "        RtlCopyMemory(&SourceRect, upSourceRect, sizeof(RECTL));",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "DIB_AlphaBlend",
          "old_text": null,
          "new_text": "DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(\n                          OutputObj, InputObj, &CombinedRect, &Rect, ClipRegion, ColorTranslation, BlendObj)",
          "old_line_content": "            {",
          "new_line_content": "                Ret = DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "EngAlphaBlend",
          "old_text": null,
          "new_text": "EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation, &DestRect, &SourceRect, BlendObj)",
          "old_line_content": "    {",
          "new_line_content": "    return EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation, &DestRect, &SourceRect, BlendObj);",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": null,
          "new_api": "CLIPOBJ_cEnumStart",
          "old_text": null,
          "new_text": "CLIPOBJ_cEnumStart(ClipRegion, FALSE, CT_RECTANGLES, CD_ANY, 0)",
          "old_line_content": "            }",
          "new_line_content": "            CLIPOBJ_cEnumStart(ClipRegion, FALSE, CT_RECTANGLES, CD_ANY, 0);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "CLIPOBJ_bEnum",
          "old_text": null,
          "new_text": "CLIPOBJ_bEnum(ClipRegion,(ULONG) sizeof(RectEnum),\n                                         (PVOID) &RectEnum)",
          "old_line_content": "        case DC_COMPLEX:",
          "new_line_content": "                EnumMore = CLIPOBJ_bEnum(ClipRegion,(ULONG) sizeof(RectEnum),",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": null,
          "new_api": "RECTL_bIntersectRect",
          "old_text": null,
          "new_text": "RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect)",
          "old_line_content": "                {",
          "new_line_content": "                    if (RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect))",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "DIB_AlphaBlend",
          "old_text": null,
          "new_text": "DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(\n                                  OutputObj, InputObj, &CombinedRect, &Rect, ClipRegion, ColorTranslation, BlendObj)",
          "old_line_content": "                    {",
          "new_line_content": "                        Ret = DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(FALSE)",
          "old_line_content": "            while (EnumMore);",
          "new_line_content": "            ASSERT(FALSE);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 267,
          "old_api": "EngUnlockSurface",
          "new_api": null,
          "old_text": "EngUnlockSurface(SourceStretchedObj)",
          "new_text": null,
          "old_line_content": "        EngUnlockSurface(SourceStretchedObj);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "EngDeleteSurface",
          "new_api": null,
          "old_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "new_text": null,
          "old_line_content": "        EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "DPRINT1",
          "new_api": null,
          "old_text": "DPRINT1(\"EngStretchBlt failed!\\n\")",
          "new_text": null,
          "old_line_content": "            DPRINT1(\"EngStretchBlt failed!\\n\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "EngFreeMem",
          "new_api": null,
          "old_text": "EngFreeMem(SourceStretchedObj->pvBits)",
          "new_text": null,
          "old_line_content": "            EngFreeMem(SourceStretchedObj->pvBits);",
          "new_line_content": "        InputRect.top = SourceStretchedRect.top;",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": "EngUnlockSurface",
          "new_api": null,
          "old_text": "EngUnlockSurface(SourceStretchedObj)",
          "new_text": null,
          "old_line_content": "            EngUnlockSurface(SourceStretchedObj);",
          "new_line_content": "        InputRect.bottom = SourceStretchedRect.bottom;",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "EngDeleteSurface",
          "new_api": null,
          "old_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "new_text": null,
          "old_line_content": "            EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "new_line_content": "        InputRect.left = SourceStretchedRect.left;",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(psoDest)",
          "new_text": null,
          "old_line_content": "    ASSERT(psoDest);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(psoSource)",
          "new_text": null,
          "old_line_content": "    ASSERT(psoSource);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "CONTAINING_RECORD",
          "new_api": null,
          "old_text": "CONTAINING_RECORD(psoSource, SURFACE, SurfObj)",
          "new_text": null,
          "old_line_content": "    psurfSource = CONTAINING_RECORD(psoSource, SURFACE, SurfObj);",
          "new_line_content": "    /* Check if there is anything to draw */",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(DestRect)",
          "new_text": null,
          "old_line_content": "    ASSERT(DestRect);",
          "new_line_content": "            (ClipRegion->rclBounds.left >= ClipRegion->rclBounds.right ||",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(SourceRect)",
          "new_text": null,
          "old_line_content": "    ASSERT(SourceRect);",
          "new_line_content": "             ClipRegion->rclBounds.top >= ClipRegion->rclBounds.bottom))",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": "EngUnlockSurface",
          "new_api": null,
          "old_text": "EngUnlockSurface(SourceStretchedObj)",
          "new_text": null,
          "old_line_content": "            EngUnlockSurface(SourceStretchedObj);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": "EngDeleteSurface",
          "new_api": null,
          "old_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "new_text": null,
          "old_line_content": "            EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "new_line_content": "    InputRect.right +=  Translate.x;",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "AlphaBlend",
          "new_api": null,
          "old_text": "GDIDEVFUNCS(psoDest).AlphaBlend(\n                  psoDest, psoSource, ClipRegion, ColorTranslation,\n                  DestRect, SourceRect, BlendObj)",
          "new_text": null,
          "old_line_content": "        ret = GDIDEVFUNCS(psoDest).AlphaBlend(",
          "new_line_content": "    if (! ret)",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": "IntEngLeave",
          "new_api": null,
          "old_text": "IntEngLeave(&EnterLeaveSource)",
          "new_text": null,
          "old_line_content": "        IntEngLeave(&EnterLeaveSource);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "EngUnlockSurface",
          "new_api": null,
          "old_text": "EngUnlockSurface(SourceStretchedObj)",
          "new_text": null,
          "old_line_content": "            EngUnlockSurface(SourceStretchedObj);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "EngAlphaBlend",
          "new_api": null,
          "old_text": "EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation,\n                            DestRect, SourceRect, BlendObj)",
          "new_text": null,
          "old_line_content": "        ret = EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": "EngDeleteSurface",
          "new_api": null,
          "old_text": "EngDeleteSurface((HSURF)SourceStretchedBitmap)",
          "new_text": null,
          "old_line_content": "            EngDeleteSurface((HSURF)SourceStretchedBitmap);",
          "new_line_content": "    OutputRect.right += Translate.x;",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "DIB_AlphaBlend",
          "new_api": null,
          "old_text": "DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(\n                      OutputObj, InputObj, &OutputRect, &InputRect, ClipRegion, ColorTranslation, BlendObj)",
          "new_text": null,
          "old_line_content": "            Ret = DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(",
          "new_line_content": "            ClipRect.left = ClipRegion->rclBounds.left + Translate.x;",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "ProbeForRead",
          "new_api": null,
          "old_text": "ProbeForRead(upDestRect, sizeof(RECTL), 1)",
          "new_text": null,
          "old_line_content": "        ProbeForRead(upDestRect, sizeof(RECTL), 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "RECTL_bIntersectRect",
          "new_api": null,
          "old_text": "RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect)",
          "new_text": null,
          "old_line_content": "            if (RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect))",
          "new_line_content": "                Rect.bottom = InputRect.bottom + CombinedRect.bottom - OutputRect.bottom;",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "RtlCopyMemory",
          "new_api": null,
          "old_text": "RtlCopyMemory(&DestRect,upDestRect, sizeof(RECTL))",
          "new_text": null,
          "old_line_content": "        RtlCopyMemory(&DestRect,upDestRect, sizeof(RECTL));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "ProbeForRead",
          "new_api": null,
          "old_text": "ProbeForRead(upSourceRect, sizeof(RECTL), 1)",
          "new_text": null,
          "old_line_content": "        ProbeForRead(upSourceRect, sizeof(RECTL), 1);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "RtlCopyMemory",
          "new_api": null,
          "old_text": "RtlCopyMemory(&SourceRect, upSourceRect, sizeof(RECTL))",
          "new_text": null,
          "old_line_content": "        RtlCopyMemory(&SourceRect, upSourceRect, sizeof(RECTL));",
          "new_line_content": "        _SEH2_YIELD(return FALSE);",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "DIB_AlphaBlend",
          "new_api": null,
          "old_text": "DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(\n                          OutputObj, InputObj, &CombinedRect, &Rect, ClipRegion, ColorTranslation, BlendObj)",
          "new_text": null,
          "old_line_content": "                Ret = DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(",
          "new_line_content": "        case DC_COMPLEX:",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "EngAlphaBlend",
          "new_api": null,
          "old_text": "EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation, &DestRect, &SourceRect, BlendObj)",
          "new_text": null,
          "old_line_content": "    return EngAlphaBlend(psoDest, psoSource, ClipRegion, ColorTranslation, &DestRect, &SourceRect, BlendObj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "CLIPOBJ_cEnumStart",
          "new_api": null,
          "old_text": "CLIPOBJ_cEnumStart(ClipRegion, FALSE, CT_RECTANGLES, CD_ANY, 0)",
          "new_text": null,
          "old_line_content": "            CLIPOBJ_cEnumStart(ClipRegion, FALSE, CT_RECTANGLES, CD_ANY, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "CLIPOBJ_bEnum",
          "new_api": null,
          "old_text": "CLIPOBJ_bEnum(ClipRegion,(ULONG) sizeof(RectEnum),\n                                         (PVOID) &RectEnum)",
          "new_text": null,
          "old_line_content": "                EnumMore = CLIPOBJ_bEnum(ClipRegion,(ULONG) sizeof(RectEnum),",
          "new_line_content": "                    ClipRect.left = RectEnum.arcl[i].left + Translate.x;",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": "RECTL_bIntersectRect",
          "new_api": null,
          "old_text": "RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect)",
          "new_text": null,
          "old_line_content": "                    if (RECTL_bIntersectRect(&CombinedRect, &OutputRect, &ClipRect))",
          "new_line_content": "                        Rect.bottom = InputRect.bottom + CombinedRect.bottom - OutputRect.bottom;",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "DIB_AlphaBlend",
          "new_api": null,
          "old_text": "DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(\n                                  OutputObj, InputObj, &CombinedRect, &Rect, ClipRegion, ColorTranslation, BlendObj)",
          "new_text": null,
          "old_line_content": "                        Ret = DibFunctionsForBitmapFormat[OutputObj->iBitmapFormat].DIB_AlphaBlend(",
          "new_line_content": "            while (EnumMore);",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 10,
      "total_additions": 30,
      "total_deletions": 30,
      "total_api_changes": 70
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 70,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          144,
          145,
          143
        ]
      }
    },
    "api_calls_before": 56,
    "api_calls_after": 56,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 6,
      "total_diff_lines": 19
    }
  }
}