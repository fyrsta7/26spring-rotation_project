{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/dd14b916ff76eb58be78605555fad0e9a72169ea",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/dd14b916ff76eb58be78605555fad0e9a72169ea/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/dd14b916ff76eb58be78605555fad0e9a72169ea/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/dd14b916ff76eb58be78605555fad0e9a72169ea/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 124,
          "old_api": "_strupr",
          "new_api": "strstr",
          "old_text": "_strupr(LoaderBlock->LoadOptions)",
          "new_text": "strstr(CommandLine, \"BOOTLOGO\")",
          "old_line_content": "        CommandLine = _strupr(LoaderBlock->LoadOptions);",
          "new_line_content": "        CustomLogo = strstr(CommandLine, \"BOOTLOGO\") ? TRUE: FALSE;",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": "VidInitialize",
          "new_api": "VidResetDisplay",
          "old_text": "VidInitialize(!CustomLogo)",
          "new_text": "VidResetDisplay(CustomLogo)",
          "old_line_content": "    InbvBootDriverInstalled = VidInitialize(!CustomLogo);",
          "new_line_content": "        VidResetDisplay(CustomLogo);",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "InbvAcquireLock",
          "new_api": "VidCleanUp",
          "old_text": "InbvAcquireLock()",
          "new_text": "VidCleanUp()",
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "        if (InbvDisplayState != INBV_DISPLAY_STATE_LOST) VidCleanUp();",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "RtlUnicodeStringToOemString",
          "new_api": "InbvDisplayString",
          "old_text": "RtlUnicodeStringToOemString(&OemString, DisplayString, TRUE)",
          "new_text": "InbvDisplayString(OemString.Buffer)",
          "old_line_content": "    RtlUnicodeStringToOemString(&OemString, DisplayString, TRUE);",
          "new_line_content": "    InbvDisplayString(OemString.Buffer);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "InbvDisplayString",
          "new_api": "RtlFreeOemString",
          "old_text": "InbvDisplayString(OemString.Buffer)",
          "new_text": "RtlFreeOemString(&OemString)",
          "old_line_content": "    InbvDisplayString(OemString.Buffer);",
          "new_line_content": "    RtlFreeOemString(&OemString);",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "InbvSetTextColor",
          "new_api": "InbvSolidColorFill",
          "old_text": "InbvSetTextColor(15)",
          "new_text": "InbvSolidColorFill(0, 0, 639, 479, 7)",
          "old_line_content": "            InbvSetTextColor(15);",
          "new_line_content": "            InbvSolidColorFill(0, 0, 639, 479, 7);",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "InbvSetTextColor",
          "new_api": "InbvSolidColorFill",
          "old_text": "InbvSetTextColor(14)",
          "new_text": "InbvSolidColorFill(0, 0, 639, 479, 6)",
          "old_line_content": "            InbvSetTextColor(14);",
          "new_line_content": "            InbvSolidColorFill(0, 0, 639, 479, 6);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "InbvAcquireLock",
          "new_api": "InbvGetDisplayState",
          "old_text": "InbvAcquireLock()",
          "new_text": "InbvGetDisplayState()",
          "old_line_content": "    InbvAcquireLock();",
          "new_line_content": "    if (InbvGetDisplayState() == INBV_DISPLAY_STATE_OWNED)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 128,
          "old_api": null,
          "new_api": "VidInitialize",
          "old_text": null,
          "new_text": "VidInitialize(FALSE)",
          "old_line_content": "    /* For SetupLDR, don't reset the BIOS Display -- FIXME! */",
          "new_line_content": "    InbvBootDriverInstalled = VidInitialize(FALSE);",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": null,
          "new_api": "InbvDisplayFilter",
          "old_text": null,
          "new_text": "InbvDisplayFilter(&String)",
          "old_line_content": "        /* Check if a filter is installed */",
          "new_line_content": "        if (InbvDisplayFilter) InbvDisplayFilter(&String);",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* Acquire the lock */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* Acquire the lock */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "    /* Acquire lock and check the display state */",
          "new_line_content": "    InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(Floor < Ceiling)",
          "old_line_content": "    /* Sanity checks */",
          "new_line_content": "    ASSERT(Floor < Ceiling);",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "VidDisplayString",
          "old_text": null,
          "new_text": "VidDisplayString((PUCHAR) String)",
          "old_line_content": "        /* Make sure we're installed and display the string */",
          "new_line_content": "        if (InbvBootDriverInstalled) VidDisplayString((PUCHAR) String);",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": null,
          "new_api": "FindBitmapResource",
          "old_text": null,
          "new_text": "FindBitmapResource(LoaderBlock, i)",
          "old_line_content": "            /* Do the lookup */",
          "new_line_content": "            ResourceList[i] = FindBitmapResource(LoaderBlock, i);",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": null,
          "new_api": "VidSolidColorFill",
          "old_text": null,
          "new_text": "VidSolidColorFill(Left, Top, Width, Height, (UCHAR)Color)",
          "old_line_content": "            /* Call bootvid */",
          "new_line_content": "            VidSolidColorFill(Left, Top, Width, Height, (UCHAR)Color);",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "VidSolidColorFill",
          "old_text": null,
          "new_text": "VidSolidColorFill(0, 0, 639, 479, 0)",
          "old_line_content": "        /* Clear the screen */",
          "new_line_content": "        VidSolidColorFill(0, 0, 639, 479, 0);",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": null,
          "new_api": "InbvSetProgressBarSubset",
          "old_text": null,
          "new_text": "InbvSetProgressBarSubset(0, 100)",
          "old_line_content": "        /* Set the progress bar ranges */",
          "new_line_content": "        InbvSetProgressBarSubset(0, 100);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        /* Release the lock */",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "    PltRotBarStatus = 3;",
          "new_line_content": "    InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        /* Release the lock */",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "KeGetCurrentIrql",
          "old_text": null,
          "new_text": "KeGetCurrentIrql()",
          "old_line_content": "    /* Check if we're below dispatch level */",
          "new_line_content": "    InbvOldIrql = KeGetCurrentIrql();",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": null,
          "new_api": "KeRaiseIrql",
          "old_text": null,
          "new_text": "KeRaiseIrql(DISPATCH_LEVEL, &InbvOldIrql)",
          "old_line_content": "        /* Raise IRQL to dispatch level */",
          "new_line_content": "        KeRaiseIrql(DISPATCH_LEVEL, &InbvOldIrql);",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": null,
          "new_api": "KiAcquireSpinLock",
          "old_text": null,
          "new_text": "KiAcquireSpinLock(&BootDriverLock)",
          "old_line_content": "    /* Acquire the lock */",
          "new_line_content": "    KiAcquireSpinLock(&BootDriverLock);",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "RtlUnicodeStringToOemString",
          "old_text": null,
          "new_text": "RtlUnicodeStringToOemString(&OemString, DisplayString, TRUE)",
          "old_line_content": "    /* Convert the string to OEM and display it */",
          "new_line_content": "    RtlUnicodeStringToOemString(&OemString, DisplayString, TRUE);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "            /* Acquire the lock */",
          "new_line_content": "            InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": null,
          "new_api": "KiReleaseSpinLock",
          "old_text": null,
          "new_text": "KiReleaseSpinLock(&BootDriverLock)",
          "old_line_content": "    /* Release the driver lock */",
          "new_line_content": "    KiReleaseSpinLock(&BootDriverLock);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "VidSolidColorFill",
          "old_text": null,
          "new_text": "VidSolidColorFill(Left + ProgressBarLeft,\n                              ProgressBarTop,\n                              Left + ProgressBarLeft + 7,\n                              ProgressBarTop + 7,\n                              11)",
          "old_line_content": "            /* Fill the progress bar */",
          "new_line_content": "            VidSolidColorFill(Left + ProgressBarLeft,",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": null,
          "new_api": "KeLowerIrql",
          "old_text": null,
          "new_text": "KeLowerIrql(InbvOldIrql)",
          "old_line_content": "    /* If we were below dispatch level, lower IRQL back */",
          "new_line_content": "    if (InbvOldIrql < DISPATCH_LEVEL) KeLowerIrql(InbvOldIrql);",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "            /* Release the lock */",
          "new_line_content": "            InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* Reset the progress bar */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        RotBarSelection = 0;",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* Acquire the lock */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "VidCleanUp",
          "old_text": null,
          "new_text": "VidCleanUp()",
          "old_line_content": "        /* Cleanup the screen if we own it */",
          "new_line_content": "        if (InbvDisplayState == INBV_DISPLAY_STATE_OWNED) VidCleanUp();",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* Acquire the lock and cleanup if we own the screen */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "InbvSetTextColor",
          "old_text": null,
          "new_text": "InbvSetTextColor(15)",
          "old_line_content": "            /* It's not, set workstation settings */",
          "new_line_content": "            InbvSetTextColor(15);",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        /* Release the lock */",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "InbvGetResourceAddress",
          "old_text": null,
          "new_text": "InbvGetResourceAddress(6)",
          "old_line_content": "            /* Get resources */",
          "new_line_content": "            Bitmap = InbvGetResourceAddress(6);",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        /* Release the lock */",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "VidBufferToScreenBlt",
          "old_text": null,
          "new_text": "VidBufferToScreenBlt(Buffer, X, Y, Width, Height, Delta)",
          "old_line_content": "        /* Do the blit */",
          "new_line_content": "        VidBufferToScreenBlt(Buffer, X, Y, Width, Height, Delta);",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "InbvSetTextColor",
          "old_text": null,
          "new_text": "InbvSetTextColor(14)",
          "old_line_content": "            /* Set server settings */",
          "new_line_content": "            InbvSetTextColor(14);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "InbvGetResourceAddress",
          "old_text": null,
          "new_text": "InbvGetResourceAddress(6)",
          "old_line_content": "            /* Get resources */",
          "new_line_content": "            Bitmap = InbvGetResourceAddress(6);",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": null,
          "new_api": "KeInitializeSpinLock",
          "old_text": null,
          "new_text": "KeInitializeSpinLock(&BootDriverLock)",
          "old_line_content": "    /* Initialize the lock and check the current display state */",
          "new_line_content": "    KeInitializeSpinLock(&BootDriverLock);",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "InbvResetDisplayParameters",
          "old_text": null,
          "new_text": "InbvResetDisplayParameters(80, 50)",
          "old_line_content": "        /* Call the callback */",
          "new_line_content": "        InbvResetDisplayParameters(80, 50);",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* Acquire the lock */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": null,
          "new_api": "InbvSetScrollRegion",
          "old_text": null,
          "new_text": "InbvSetScrollRegion(32, 80, 631, 400)",
          "old_line_content": "        /* Set the scrolling region */",
          "new_line_content": "        InbvSetScrollRegion(32, 80, 631, 400);",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "VidResetDisplay",
          "old_text": null,
          "new_text": "VidResetDisplay(TRUE)",
          "old_line_content": "        /* Do the reset */",
          "new_line_content": "        VidResetDisplay(TRUE);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "VidBitBlt",
          "old_text": null,
          "new_text": "VidBitBlt(Buffer, X, Y)",
          "old_line_content": "        /* Do the blit */",
          "new_line_content": "        VidBitBlt(Buffer, X, Y);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "InbvBitBlt",
          "old_text": null,
          "new_text": "InbvBitBlt(Header, 0, 419)",
          "old_line_content": "            /* BitBlt them on the screen */",
          "new_line_content": "            InbvBitBlt(Header, 0, 419);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        /* Release the lock */",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "InbvGetResourceAddress",
          "old_text": null,
          "new_text": "InbvGetResourceAddress(5)",
          "old_line_content": "        /* FIXME: TODO, display full-screen bitmap */",
          "new_line_content": "        Bitmap = InbvGetResourceAddress(5);",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "VidSetScrollRegion",
          "old_text": null,
          "new_text": "VidSetScrollRegion(Left, Top, Width, Height)",
          "old_line_content": "    /* Just call bootvid */",
          "new_line_content": "    VidSetScrollRegion(Left, Top, Width, Height);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "VidScreenToBufferBlt",
          "old_text": null,
          "new_text": "VidScreenToBufferBlt(Buffer, X, Y, Width, Height, Delta)",
          "old_line_content": "        /* Do the blit */",
          "new_line_content": "        VidScreenToBufferBlt(Buffer, X, Y, Width, Height, Delta);",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "InbvBitBlt",
          "old_text": null,
          "new_text": "InbvBitBlt(Bitmap, Left, Top)",
          "old_line_content": "                Top = (480 - BitmapInfoHeader->biHeight) / 2;",
          "new_line_content": "            InbvBitBlt(Bitmap, Left, Top);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "VidSetTextColor",
          "old_text": null,
          "new_text": "VidSetTextColor(Color)",
          "old_line_content": "    /* Update the text color */",
          "new_line_content": "    VidSetTextColor(Color);",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": null,
          "new_api": "_strupr",
          "old_text": null,
          "new_text": "_strupr(LoaderBlock->LoadOptions)",
          "old_line_content": "        /* Check if we have a custom boot logo */",
          "new_line_content": "        CommandLine = _strupr(LoaderBlock->LoadOptions);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "InbvAcquireLock",
          "old_text": null,
          "new_text": "InbvAcquireLock()",
          "old_line_content": "        /* We do, set the progress bar location */",
          "new_line_content": "        InbvAcquireLock();",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "InbvReleaseLock",
          "old_text": null,
          "new_text": "InbvReleaseLock()",
          "old_line_content": "        //InbvRotBarInit();",
          "new_line_content": "        InbvReleaseLock();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 640,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "InbvDisplayFilter",
          "new_api": null,
          "old_text": "InbvDisplayFilter(&String)",
          "new_text": null,
          "old_line_content": "        if (InbvDisplayFilter) InbvDisplayFilter(&String);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "InbvGetDisplayState",
          "new_api": null,
          "old_text": "InbvGetDisplayState()",
          "new_text": null,
          "old_line_content": "    if (InbvGetDisplayState() == INBV_DISPLAY_STATE_OWNED)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "VidDisplayString",
          "new_api": null,
          "old_text": "VidDisplayString((PUCHAR) String)",
          "new_text": null,
          "old_line_content": "        if (InbvBootDriverInstalled) VidDisplayString((PUCHAR) String);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": "FindBitmapResource",
          "new_api": null,
          "old_text": "FindBitmapResource(LoaderBlock, i)",
          "new_text": null,
          "old_line_content": "            ResourceList[i] = FindBitmapResource(LoaderBlock, i);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "VidSolidColorFill",
          "new_api": null,
          "old_text": "VidSolidColorFill(Left, Top, Width, Height, (UCHAR)Color)",
          "new_text": null,
          "old_line_content": "            VidSolidColorFill(Left, Top, Width, Height, (UCHAR)Color);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(Ceiling <= 100)",
          "new_text": null,
          "old_line_content": "    ASSERT(Ceiling <= 100);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "VidSolidColorFill",
          "new_api": null,
          "old_text": "VidSolidColorFill(0, 0, 639, 479, 0)",
          "new_text": null,
          "old_line_content": "        VidSolidColorFill(0, 0, 639, 479, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": "InbvSetProgressBarSubset",
          "new_api": null,
          "old_text": "InbvSetProgressBarSubset(0, 100)",
          "new_text": null,
          "old_line_content": "        InbvSetProgressBarSubset(0, 100);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "    InbvReleaseLock();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "KeGetCurrentIrql",
          "new_api": null,
          "old_text": "KeGetCurrentIrql()",
          "new_text": null,
          "old_line_content": "    InbvOldIrql = KeGetCurrentIrql();",
          "new_line_content": "    if (InbvOldIrql < DISPATCH_LEVEL)",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "KeRaiseIrql",
          "new_api": null,
          "old_text": "KeRaiseIrql(DISPATCH_LEVEL, &InbvOldIrql)",
          "new_text": null,
          "old_line_content": "        KeRaiseIrql(DISPATCH_LEVEL, &InbvOldIrql);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": "KiAcquireSpinLock",
          "new_api": null,
          "old_text": "KiAcquireSpinLock(&BootDriverLock)",
          "new_text": null,
          "old_line_content": "    KiAcquireSpinLock(&BootDriverLock);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "RtlFreeOemString",
          "new_api": null,
          "old_text": "RtlFreeOemString(&OemString)",
          "new_text": null,
          "old_line_content": "    RtlFreeOemString(&OemString);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "            InbvAcquireLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": "KiReleaseSpinLock",
          "new_api": null,
          "old_text": "KiReleaseSpinLock(&BootDriverLock)",
          "new_text": null,
          "old_line_content": "    KiReleaseSpinLock(&BootDriverLock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "VidSolidColorFill",
          "new_api": null,
          "old_text": "VidSolidColorFill(Left + ProgressBarLeft,\n                              ProgressBarTop,\n                              Left + ProgressBarLeft + 7,\n                              ProgressBarTop + 7,\n                              11)",
          "new_text": null,
          "old_line_content": "            VidSolidColorFill(Left + ProgressBarLeft,",
          "new_line_content": "                              ProgressBarTop,",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": "KeLowerIrql",
          "new_api": null,
          "old_text": "KeLowerIrql(InbvOldIrql)",
          "new_text": null,
          "old_line_content": "    if (InbvOldIrql < DISPATCH_LEVEL) KeLowerIrql(InbvOldIrql);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "            InbvReleaseLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "        RotBarSelection = 0;",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "VidCleanUp",
          "new_api": null,
          "old_text": "VidCleanUp()",
          "new_text": null,
          "old_line_content": "        if (InbvDisplayState == INBV_DISPLAY_STATE_OWNED) VidCleanUp();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "VidCleanUp",
          "new_api": null,
          "old_text": "VidCleanUp()",
          "new_text": null,
          "old_line_content": "        if (InbvDisplayState != INBV_DISPLAY_STATE_LOST) VidCleanUp();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "InbvSolidColorFill",
          "new_api": null,
          "old_text": "InbvSolidColorFill(0, 421, 639, 479, 1)",
          "new_text": null,
          "old_line_content": "            InbvSolidColorFill(0, 421, 639, 479, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "VidBufferToScreenBlt",
          "new_api": null,
          "old_text": "VidBufferToScreenBlt(Buffer, X, Y, Width, Height, Delta)",
          "new_text": null,
          "old_line_content": "        VidBufferToScreenBlt(Buffer, X, Y, Width, Height, Delta);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "InbvGetResourceAddress",
          "new_api": null,
          "old_text": "InbvGetResourceAddress(7)",
          "new_text": null,
          "old_line_content": "            Header = InbvGetResourceAddress(7);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "InbvSolidColorFill",
          "new_api": null,
          "old_text": "InbvSolidColorFill(0, 421, 639, 479, 1)",
          "new_text": null,
          "old_line_content": "            InbvSolidColorFill(0, 421, 639, 479, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "InbvGetResourceAddress",
          "new_api": null,
          "old_text": "InbvGetResourceAddress(15)",
          "new_text": null,
          "old_line_content": "            Header = InbvGetResourceAddress(15);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": "InbvResetDisplayParameters",
          "new_api": null,
          "old_text": "InbvResetDisplayParameters(80, 50)",
          "new_text": null,
          "old_line_content": "        InbvResetDisplayParameters(80, 50);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "InbvSetScrollRegion",
          "new_api": null,
          "old_text": "InbvSetScrollRegion(32, 80, 631, 400)",
          "new_text": null,
          "old_line_content": "        InbvSetScrollRegion(32, 80, 631, 400);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 120,
          "old_api": "KeInitializeSpinLock",
          "new_api": null,
          "old_text": "KeInitializeSpinLock(&BootDriverLock)",
          "new_text": null,
          "old_line_content": "    KeInitializeSpinLock(&BootDriverLock);",
          "new_line_content": "    if (InbvDisplayState == INBV_DISPLAY_STATE_OWNED)",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "VidResetDisplay",
          "new_api": null,
          "old_text": "VidResetDisplay(TRUE)",
          "new_text": null,
          "old_line_content": "        VidResetDisplay(TRUE);",
          "new_line_content": "        return TRUE;",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "VidBitBlt",
          "new_api": null,
          "old_text": "VidBitBlt(Buffer, X, Y)",
          "new_text": null,
          "old_line_content": "        VidBitBlt(Buffer, X, Y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "InbvReleaseLock",
          "new_api": null,
          "old_text": "InbvReleaseLock()",
          "new_text": null,
          "old_line_content": "        InbvReleaseLock();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "InbvBitBlt",
          "new_api": null,
          "old_text": "InbvBitBlt(Bitmap, 0, 0)",
          "new_text": null,
          "old_line_content": "            InbvBitBlt(Bitmap, 0, 0);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "InbvGetResourceAddress",
          "new_api": null,
          "old_text": "InbvGetResourceAddress(5)",
          "new_text": null,
          "old_line_content": "        Bitmap = InbvGetResourceAddress(5);",
          "new_line_content": "        if (Bitmap)",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "VidSetScrollRegion",
          "new_api": null,
          "old_text": "VidSetScrollRegion(Left, Top, Width, Height)",
          "new_text": null,
          "old_line_content": "    VidSetScrollRegion(Left, Top, Width, Height);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "VidScreenToBufferBlt",
          "new_api": null,
          "old_text": "VidScreenToBufferBlt(Buffer, X, Y, Width, Height, Delta)",
          "new_text": null,
          "old_line_content": "        VidScreenToBufferBlt(Buffer, X, Y, Width, Height, Delta);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "InbvBitBlt",
          "new_api": null,
          "old_text": "InbvBitBlt(Bitmap, Left, Top)",
          "new_text": null,
          "old_line_content": "            InbvBitBlt(Bitmap, Left, Top);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr(CommandLine, \"BOOTLOGO\")",
          "new_text": null,
          "old_line_content": "        CustomLogo = strstr(CommandLine, \"BOOTLOGO\") ? TRUE: FALSE;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "VidSetTextColor",
          "new_api": null,
          "old_text": "VidSetTextColor(Color)",
          "new_text": null,
          "old_line_content": "    VidSetTextColor(Color);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "InbvAcquireLock",
          "new_api": null,
          "old_text": "InbvAcquireLock()",
          "new_text": null,
          "old_line_content": "        InbvAcquireLock();",
          "new_line_content": "        RotBarSelection = TempRotBarSelection;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 8,
      "total_additions": 51,
      "total_deletions": 50,
      "total_api_changes": 109
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 109,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          129,
          130,
          131,
          133,
          114
        ]
      }
    },
    "api_calls_before": 73,
    "api_calls_after": 74,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 5,
      "total_diff_lines": 31
    }
  }
}