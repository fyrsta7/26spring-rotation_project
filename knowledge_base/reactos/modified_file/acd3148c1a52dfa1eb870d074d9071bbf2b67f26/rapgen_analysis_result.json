{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/acd3148c1a52dfa1eb870d074d9071bbf2b67f26",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/acd3148c1a52dfa1eb870d074d9071bbf2b67f26/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/acd3148c1a52dfa1eb870d074d9071bbf2b67f26/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/acd3148c1a52dfa1eb870d074d9071bbf2b67f26/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 529,
          "old_api": "va_end",
          "new_api": "CONSOLE_SetStatusTextX",
          "old_text": "va_end(ap)",
          "new_text": "CONSOLE_SetStatusTextX(x , Buffer)",
          "old_line_content": "    va_end(ap);",
          "new_line_content": "        CONSOLE_SetStatusTextX(x , Buffer);",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "FillConsoleOutputAttribute",
          "new_api": "WriteConsoleOutputCharacterA",
          "old_text": "FillConsoleOutputAttribute(StdOutput,\n                               FOREGROUND_BLUE | BACKGROUND_WHITE,\n                               Length,\n                               coPos,\n                               &Written)",
          "new_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 Text,\n                                 Length,\n                                 coPos,\n                                 &Written)",
          "old_line_content": "    FillConsoleOutputAttribute(StdOutput,",
          "new_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "FillConsoleOutputAttribute",
          "new_api": "WriteConsoleOutputCharacterA",
          "old_text": "FillConsoleOutputAttribute(StdOutput,\n                               FOREGROUND_WHITE | FOREGROUND_INTENSITY | BACKGROUND_BLUE,\n                               Length,\n                               coPos,\n                               &Written)",
          "new_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 Text,\n                                 Length,\n                                 coPos,\n                                 &Written)",
          "old_line_content": "    FillConsoleOutputAttribute(StdOutput,",
          "new_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "vsprintf",
          "new_api": "WriteConsoleOutputCharacterA",
          "old_text": "vsprintf(buffer, fmt, ap)",
          "new_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 buffer,\n                                 (ULONG)strlen(buffer),\n                                 coPos,\n                                 &Written)",
          "old_line_content": "    vsprintf(buffer, fmt, ap);",
          "new_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "vsprintf",
          "new_api": "strlen",
          "old_text": "vsprintf(buffer, fmt, ap)",
          "new_text": "strlen(buffer)",
          "old_line_content": "    vsprintf(buffer, fmt, ap);",
          "new_line_content": "    Length = (SHORT)strlen(buffer);",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "CONSOLE_SetStatusTextX",
          "new_api": "CONSOLE_SetHighlightedTextXY",
          "old_text": "CONSOLE_SetStatusTextX(coPos.X, Text)",
          "new_text": "CONSOLE_SetHighlightedTextXY(coPos.X, coPos.Y, Text)",
          "old_line_content": "        CONSOLE_SetStatusTextX(coPos.X, Text);",
          "new_line_content": "            CONSOLE_SetHighlightedTextXY(coPos.X, coPos.Y, Text);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 646,
          "old_api": null,
          "new_api": "WriteConsoleOutputCharacterA",
          "old_text": null,
          "new_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 buffer,\n                                 Length,\n                                 coPos,\n                                 &Written)",
          "old_line_content": "    coPos.Y = y;",
          "new_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "    ...)",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "vsprintf",
          "old_text": null,
          "new_text": "vsprintf(Buffer, fmt, ap)",
          "old_line_content": "{",
          "new_line_content": "    vsprintf(Buffer, fmt, ap);",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "    CHAR Buffer[128];",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(Buffer)",
          "old_line_content": "    va_list ap;",
          "new_line_content": "    Length = (ULONG)strlen(Buffer);",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "FillConsoleOutputCharacterA",
          "old_text": null,
          "new_text": "FillConsoleOutputCharacterA(StdOutput,\n                                    ' ',\n                                    len - Length,\n                                    coPos,\n                                    &Written)",
          "old_line_content": "                                 &Written);",
          "new_line_content": "        FillConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "CONSOLE_SetStatusTextX",
          "old_text": null,
          "new_text": "CONSOLE_SetStatusTextX(79 - Length , Buffer)",
          "old_line_content": "    if (Length + x <= 79)",
          "new_line_content": "        CONSOLE_SetStatusTextX(79 - Length , Buffer);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(Text)",
          "old_line_content": "    DWORD Length;",
          "new_line_content": "    Length = (ULONG)strlen(Text);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "CONSOLE_ClearStatusTextX",
          "old_text": null,
          "new_text": "CONSOLE_ClearStatusTextX(coPos.X, Length)",
          "old_line_content": "            coPos.X += 3;",
          "new_line_content": "        CONSOLE_ClearStatusTextX(coPos.X, Length);",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "FillConsoleOutputAttribute",
          "old_text": null,
          "new_text": "FillConsoleOutputAttribute(StdOutput,\n                               FOREGROUND_BLUE | BACKGROUND_WHITE,\n                               Length,\n                               coPos,\n                               &Written)",
          "old_line_content": "",
          "new_line_content": "    FillConsoleOutputAttribute(StdOutput,",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": null,
          "new_api": "CONSOLE_ClearTextXY",
          "old_text": null,
          "new_text": "CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length)",
          "old_line_content": "    if (Flags & TEXT_TYPE_STATUS)",
          "new_line_content": "        CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "CONSOLE_ClearTextXY",
          "old_text": null,
          "new_text": "CONSOLE_ClearTextXY(coPos.X, coPos.Y + 1, Length)",
          "old_line_content": "    {",
          "new_line_content": "        CONSOLE_ClearTextXY(coPos.X, coPos.Y + 1, Length);",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "CONSOLE_ClearTextXY",
          "old_text": null,
          "new_text": "CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length)",
          "old_line_content": "    {",
          "new_line_content": "        CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length);",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(Text)",
          "old_line_content": "        coPos.X = x;",
          "new_line_content": "        coPos.X = (xScreen - (SHORT)strlen(Text)) / 2;",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(Text)",
          "old_line_content": "    if (Flags & TEXT_ALIGN_CENTER)",
          "new_line_content": "        coPos.X = coPos.X - (SHORT)strlen(Text);",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(sizeof(Buffer), xScreen)",
          "old_line_content": "",
          "new_line_content": "    memset(Buffer, ' ', min(sizeof(Buffer), xScreen));",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "vsprintf",
          "old_text": null,
          "new_text": "vsprintf(&Buffer[x], fmt, args)",
          "old_line_content": "    coPos.X = 0;",
          "new_line_content": "    nLength = vsprintf(&Buffer[x], fmt, args);",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(x + nLength < sizeof(Buffer))",
          "old_line_content": "    coPos.Y = yScreen - 1;",
          "new_line_content": "    ASSERT(x + nLength < sizeof(Buffer));",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "FillConsoleOutputAttribute",
          "old_text": null,
          "new_text": "FillConsoleOutputAttribute(StdOutput,\n                               BACKGROUND_WHITE,\n                               xScreen,\n                               coPos,\n                               &Written)",
          "old_line_content": "                               coPos,",
          "new_line_content": "    FillConsoleOutputAttribute(StdOutput,",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "WriteConsoleOutputCharacterA",
          "old_text": null,
          "new_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 Buffer,\n                                 min(sizeof(Buffer), xScreen),\n                                 coPos,\n                                 &Written)",
          "old_line_content": "                                xScreen,",
          "new_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(Text)",
          "old_line_content": "    DWORD Length;",
          "new_line_content": "    Length = (ULONG)strlen(Text);",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(sizeof(Buffer), xScreen)",
          "old_line_content": "                                &Written);",
          "new_line_content": "                                 min(sizeof(Buffer), xScreen),",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "FillConsoleOutputAttribute",
          "old_text": null,
          "new_text": "FillConsoleOutputAttribute(StdOutput,\n                               FOREGROUND_WHITE | FOREGROUND_INTENSITY | BACKGROUND_BLUE,\n                               Length,\n                               coPos,\n                               &Written)",
          "old_line_content": "",
          "new_line_content": "    FillConsoleOutputAttribute(StdOutput,",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "    IN SHORT x,",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "CONSOLE_SetStatusTextXV",
          "old_text": null,
          "new_text": "CONSOLE_SetStatusTextXV(x, fmt, ap)",
          "old_line_content": "    IN LPCSTR fmt,",
          "new_line_content": "    CONSOLE_SetStatusTextXV(x, fmt, ap);",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "    ...)",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "CONSOLE_SetStatusTextX",
          "old_text": null,
          "new_text": "CONSOLE_SetStatusTextX(coPos.X, Text)",
          "old_line_content": "            coPos.X += 3;",
          "new_line_content": "        CONSOLE_SetStatusTextX(coPos.X, Text);",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "CONSOLE_SetStatusTextXV",
          "old_text": null,
          "new_text": "CONSOLE_SetStatusTextXV(0, fmt, args)",
          "old_line_content": "",
          "new_line_content": "    CONSOLE_SetStatusTextXV(0, fmt, args);",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "{",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "vsprintf",
          "old_text": null,
          "new_text": "vsprintf(buffer, fmt, ap)",
          "old_line_content": "    CHAR buffer[512];",
          "new_line_content": "    vsprintf(buffer, fmt, ap);",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "    va_list ap;",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "CONSOLE_SetUnderlinedTextXY",
          "old_text": null,
          "new_text": "CONSOLE_SetUnderlinedTextXY(coPos.X, coPos.Y, Text)",
          "old_line_content": "        if (Flags & TEXT_STYLE_HIGHLIGHT)",
          "new_line_content": "            CONSOLE_SetUnderlinedTextXY(coPos.X, coPos.Y, Text);",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "CONSOLE_SetTextXY",
          "old_text": null,
          "new_text": "CONSOLE_SetTextXY(coPos.X, coPos.Y, Text)",
          "old_line_content": "        else if (Flags & TEXT_STYLE_UNDERLINE)",
          "new_line_content": "            CONSOLE_SetTextXY(coPos.X, coPos.Y, Text);",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "CONSOLE_SetStatusText(",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(buffer)",
          "old_line_content": "",
          "new_line_content": "                                 (ULONG)strlen(buffer),",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "CONSOLE_SetStatusTextV",
          "old_text": null,
          "new_text": "CONSOLE_SetStatusTextV(fmt, ap)",
          "old_line_content": "    IN LPCSTR fmt,",
          "new_line_content": "    CONSOLE_SetStatusTextV(fmt, ap);",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "    ...)",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "FillConsoleOutputCharacterA",
          "old_text": null,
          "new_text": "FillConsoleOutputCharacterA(StdOutput,\n                                ' ',\n                                Length,\n                                coPos,\n                                &Written)",
          "old_line_content": "    COORD coPos;",
          "new_line_content": "    FillConsoleOutputCharacterA(StdOutput,",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(ap, fmt)",
          "old_line_content": "    CHAR buffer[512];",
          "new_line_content": "    va_start(ap, fmt);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "vsprintf",
          "old_text": null,
          "new_text": "vsprintf(buffer, fmt, ap)",
          "old_line_content": "    va_list ap;",
          "new_line_content": "    vsprintf(buffer, fmt, ap);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(ap)",
          "old_line_content": "    COORD coPos;",
          "new_line_content": "    va_end(ap);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 641,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "    if (Length > len - 1)",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(buffer)",
          "new_text": null,
          "old_line_content": "    Length = (SHORT)strlen(buffer);",
          "new_line_content": "                                 Length,",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "WriteConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 buffer,\n                                 Length,\n                                 coPos,\n                                 &Written)",
          "new_text": null,
          "old_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "    coPos.X += Length;",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": "    if (Length + x <= 79)",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "vsprintf",
          "new_api": null,
          "old_text": "vsprintf(Buffer, fmt, ap)",
          "new_text": null,
          "old_line_content": "    vsprintf(Buffer, fmt, ap);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(Buffer)",
          "new_text": null,
          "old_line_content": "    Length = (ULONG)strlen(Buffer);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "FillConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "FillConsoleOutputCharacterA(StdOutput,\n                                    ' ',\n                                    len - Length,\n                                    coPos,\n                                    &Written)",
          "new_text": null,
          "old_line_content": "        FillConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": "CONSOLE_SetStatusTextX",
          "new_api": null,
          "old_text": "CONSOLE_SetStatusTextX(x , Buffer)",
          "new_text": null,
          "old_line_content": "        CONSOLE_SetStatusTextX(x , Buffer);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": "CONSOLE_SetStatusTextX",
          "new_api": null,
          "old_text": "CONSOLE_SetStatusTextX(79 - Length , Buffer)",
          "new_text": null,
          "old_line_content": "        CONSOLE_SetStatusTextX(79 - Length , Buffer);",
          "new_line_content": "    IN SHORT x,",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(Text)",
          "new_text": null,
          "old_line_content": "    Length = (ULONG)strlen(Text);",
          "new_line_content": "                               &Written);",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "CONSOLE_ClearStatusTextX",
          "new_api": null,
          "old_text": "CONSOLE_ClearStatusTextX(coPos.X, Length)",
          "new_text": null,
          "old_line_content": "        CONSOLE_ClearStatusTextX(coPos.X, Length);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "CONSOLE_ClearTextXY",
          "new_api": null,
          "old_text": "CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length)",
          "new_text": null,
          "old_line_content": "        CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "CONSOLE_ClearTextXY",
          "new_api": null,
          "old_text": "CONSOLE_ClearTextXY(coPos.X, coPos.Y + 1, Length)",
          "new_text": null,
          "old_line_content": "        CONSOLE_ClearTextXY(coPos.X, coPos.Y + 1, Length);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "WriteConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 Text,\n                                 Length,\n                                 coPos,\n                                 &Written)",
          "new_text": null,
          "old_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "vsprintf",
          "new_api": null,
          "old_text": "vsprintf(Buffer, fmt, args)",
          "new_text": null,
          "old_line_content": "    vsprintf(Buffer, fmt, args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "CONSOLE_ClearTextXY",
          "new_api": null,
          "old_text": "CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length)",
          "new_text": null,
          "old_line_content": "        CONSOLE_ClearTextXY(coPos.X, coPos.Y, Length);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(Text)",
          "new_text": null,
          "old_line_content": "        coPos.X = (xScreen - (SHORT)strlen(Text)) / 2;",
          "new_line_content": "        if (Flags & TEXT_PADDING_SMALL)",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "FillConsoleOutputAttribute",
          "new_api": null,
          "old_text": "FillConsoleOutputAttribute(StdOutput,\n                               BACKGROUND_WHITE,\n                               xScreen,\n                               coPos,\n                               &Written)",
          "new_text": null,
          "old_line_content": "    FillConsoleOutputAttribute(StdOutput,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(Text)",
          "new_text": null,
          "old_line_content": "        coPos.X = coPos.X - (SHORT)strlen(Text);",
          "new_line_content": "        else if (Flags & TEXT_PADDING_MEDIUM)",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "FillConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "FillConsoleOutputCharacterA(StdOutput,\n                                ' ',\n                                xScreen,\n                                coPos,\n                                &Written)",
          "new_text": null,
          "old_line_content": "    FillConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "                               coPos,",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "WriteConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 Buffer,\n                                 (ULONG)strlen(Buffer),\n                                 coPos,\n                                 &Written)",
          "new_text": null,
          "old_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(Text)",
          "new_text": null,
          "old_line_content": "    Length = (ULONG)strlen(Text);",
          "new_line_content": "                               &Written);",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(Buffer)",
          "new_text": null,
          "old_line_content": "                                 (ULONG)strlen(Buffer),",
          "new_line_content": "__cdecl",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "WriteConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 Text,\n                                 Length,\n                                 coPos,\n                                 &Written)",
          "new_text": null,
          "old_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": "CONSOLE_SetStatusTextV(",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "CONSOLE_SetStatusTextXV",
          "new_api": null,
          "old_text": "CONSOLE_SetStatusTextXV(x, fmt, ap)",
          "new_text": null,
          "old_line_content": "    CONSOLE_SetStatusTextXV(x, fmt, ap);",
          "new_line_content": "    IN LPCSTR fmt,",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "    IN va_list args)",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "CONSOLE_SetStatusTextXV",
          "new_api": null,
          "old_text": "CONSOLE_SetStatusTextXV(0, fmt, args)",
          "new_text": null,
          "old_line_content": "    CONSOLE_SetStatusTextXV(0, fmt, args);",
          "new_line_content": "    IN LPCSTR fmt,",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "CONSOLE_SetHighlightedTextXY",
          "new_api": null,
          "old_text": "CONSOLE_SetHighlightedTextXY(coPos.X, coPos.Y, Text)",
          "new_text": null,
          "old_line_content": "            CONSOLE_SetHighlightedTextXY(coPos.X, coPos.Y, Text);",
          "new_line_content": "        else /* TEXT_STYLE_NORMAL (Default) */",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "                                 buffer,",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "CONSOLE_SetUnderlinedTextXY",
          "new_api": null,
          "old_text": "CONSOLE_SetUnderlinedTextXY(coPos.X, coPos.Y, Text)",
          "new_text": null,
          "old_line_content": "            CONSOLE_SetUnderlinedTextXY(coPos.X, coPos.Y, Text);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "CONSOLE_SetTextXY",
          "new_api": null,
          "old_text": "CONSOLE_SetTextXY(coPos.X, coPos.Y, Text)",
          "new_text": null,
          "old_line_content": "            CONSOLE_SetTextXY(coPos.X, coPos.Y, Text);",
          "new_line_content": "CONSOLE_ClearStyledText(",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "WriteConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "WriteConsoleOutputCharacterA(StdOutput,\n                                 buffer,\n                                 (ULONG)strlen(buffer),\n                                 coPos,\n                                 &Written)",
          "new_text": null,
          "old_line_content": "    WriteConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(ap, fmt)",
          "new_text": null,
          "old_line_content": "    va_start(ap, fmt);",
          "new_line_content": "VOID",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(buffer)",
          "new_text": null,
          "old_line_content": "                                 (ULONG)strlen(buffer),",
          "new_line_content": "__cdecl",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": "CONSOLE_SetStatusTextV",
          "new_api": null,
          "old_text": "CONSOLE_SetStatusTextV(fmt, ap)",
          "new_text": null,
          "old_line_content": "    CONSOLE_SetStatusTextV(fmt, ap);",
          "new_line_content": "CONSOLE_ClearStatusTextX(",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(ap)",
          "new_text": null,
          "old_line_content": "    va_end(ap);",
          "new_line_content": "    IN SHORT x,",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "FillConsoleOutputCharacterA",
          "new_api": null,
          "old_text": "FillConsoleOutputCharacterA(StdOutput,\n                                ' ',\n                                Length,\n                                coPos,\n                                &Written)",
          "new_text": null,
          "old_line_content": "    FillConsoleOutputCharacterA(StdOutput,",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 6,
      "total_additions": 41,
      "total_deletions": 40,
      "total_api_changes": 87
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 16,
        "api_related_lines": 87,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          448,
          450,
          452,
          453,
          454,
          432,
          440,
          446
        ]
      }
    },
    "api_calls_before": 85,
    "api_calls_after": 87,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 12,
      "total_diff_lines": 44
    }
  }
}