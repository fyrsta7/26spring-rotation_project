{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/13cf4c52f50692587873a0e038d1821b79342aec",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/13cf4c52f50692587873a0e038d1821b79342aec/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/13cf4c52f50692587873a0e038d1821b79342aec/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/13cf4c52f50692587873a0e038d1821b79342aec/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3664,
          "old_api": "oWatchDestFileName",
          "new_api": "UIGetString",
          "old_text": "oWatchDestFileName(DstFileName);",
          "new_text": "UIGetString(STRING_COPYING);",
          "old_line_content": "                DoWatchDestFileName(DstFileName);",
          "new_line_content": "                    s_pszCopying = MUIGetString(STRING_COPYING);",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": "etupUpdateMemoryInfo",
          "new_api": "PRINT1",
          "old_text": "etupUpdateMemoryInfo(CopyContext, FALSE);",
          "new_text": "PRINT1(\"CHECKPOINT:HALF_COPIED\\n\");",
          "old_line_content": "            SetupUpdateMemoryInfo(CopyContext, FALSE);",
          "new_line_content": "                DPRINT1(\"CHECKPOINT:HALF_COPIED\\n\");",
          "content_same": false
        },
        {
          "line": 3773,
          "old_api": "estroyProgressBar",
          "new_api": "oFileCopy",
          "old_text": "estroyProgressBar(CopyContext.ProgressBar);",
          "new_text": "oFileCopy(&USetupData, FileCopyCallback, &CopyContext);",
          "old_line_content": "    DestroyProgressBar(CopyContext.ProgressBar);",
          "new_line_content": "    DoFileCopy(&USetupData, FileCopyCallback, &CopyContext);",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": "nstallSetupInfFile",
          "new_api": "estroyProgressBar",
          "old_text": "nstallSetupInfFile(&USetupData);",
          "new_text": "estroyProgressBar(CopyContext.MemoryBars[2]);",
          "old_line_content": "    InstallSetupInfFile(&USetupData);",
          "new_line_content": "    DestroyProgressBar(CopyContext.MemoryBars[2]);",
          "content_same": false
        },
        {
          "line": 3808,
          "old_api": "UIGetString",
          "new_api": "RRAYSIZE",
          "old_text": "UIGetString(StringIDs[RegStatus]),",
          "new_text": "RRAYSIZE(StringIDs))",
          "old_line_content": "        CONSOLE_SetStatusTextV(MUIGetString(StringIDs[RegStatus]), args);",
          "new_line_content": "    if (RegStatus < ARRAYSIZE(StringIDs))",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": "SSERT",
          "new_api": "UIGetString",
          "old_text": "SSERT(SystemPartition && SystemPartition->IsPartitioned && SystemPartition->PartitionNumber != 0);",
          "new_text": "UIGetString(STRING_PLEASEWAIT))",
          "old_line_content": "    ASSERT(SystemPartition && SystemPartition->IsPartitioned && SystemPartition->PartitionNumber != 0);",
          "new_line_content": "    CONSOLE_SetStatusText(MUIGetString(STRING_PLEASEWAIT));",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": "RRAYSIZE",
          "new_api": "SSERT",
          "old_text": "RRAYSIZE(PathBuffer),",
          "new_text": "SSERT(SystemPartition && SystemPartition->IsPartitioned && SystemPartition->PartitionNumber != 0);",
          "old_line_content": "    RtlStringCchPrintfW(PathBuffer, ARRAYSIZE(PathBuffer),",
          "new_line_content": "    ASSERT(SystemPartition && SystemPartition->IsPartitioned && SystemPartition->PartitionNumber != 0);",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": "UIDisplayError",
          "new_api": "T_SUCCESS",
          "old_text": "UIDisplayError(ERROR_NO_FLOPPY, Ir, POPUP_WAIT_ENTER);",
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "                    MUIDisplayError(ERROR_NO_FLOPPY, Ir, POPUP_WAIT_ENTER);",
          "new_line_content": "            if (!NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 4140,
          "old_api": "nstallMbrBootCodeToDisk",
          "new_api": "RRAYSIZE",
          "old_text": "nstallMbrBootCodeToDisk(&USetupData.SystemRootPath,\n                                              &USetupData.SourceRootPath,\n                                              DestinationDevicePathBuffer);",
          "new_text": "RRAYSIZE(DestinationDevicePathBuffer),",
          "old_line_content": "            Status = InstallMbrBootCodeToDisk(&USetupData.SystemRootPath,",
          "new_line_content": "            RtlStringCchPrintfW(DestinationDevicePathBuffer, ARRAYSIZE(DestinationDevicePathBuffer),",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": "T_SUCCESS",
          "new_api": "nstallMbrBootCodeToDisk",
          "old_text": "T_SUCCESS(Status))",
          "new_text": "nstallMbrBootCodeToDisk(&USetupData.SystemRootPath,\n                                              &USetupData.SourceRootPath,\n                                              DestinationDevicePathBuffer);",
          "old_line_content": "            if (!NT_SUCCESS(Status))",
          "new_line_content": "            Status = InstallMbrBootCodeToDisk(&USetupData.SystemRootPath,",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "UIDisplayError",
          "new_api": "T_SUCCESS",
          "old_text": "UIDisplayError(ERROR_INSTALL_BOOTCODE, Ir, POPUP_WAIT_ENTER, L\"MBR\");",
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "                MUIDisplayError(ERROR_INSTALL_BOOTCODE, Ir, POPUP_WAIT_ENTER, L\"MBR\");",
          "new_line_content": "            if (!NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": "ax",
          "new_api": "UIGetString",
          "old_text": "ax(1, ProgressBar->Width);",
          "new_text": "UIGetString(STRING_REBOOTPROGRESSBAR),",
          "old_line_content": "    BarWidth = max(1, ProgressBar->Width);",
          "new_line_content": "                                      MUIGetString(STRING_REBOOTPROGRESSBAR),",
          "content_same": false
        },
        {
          "line": 4275,
          "old_api": "ONSOLE_Flush",
          "new_api": "rogressSetStepCount",
          "old_text": "ONSOLE_Flush();",
          "new_text": "rogressSetStepCount(ProgressBar, TimerValue);",
          "old_line_content": "    CONSOLE_Flush();",
          "new_line_content": "    ProgressSetStepCount(ProgressBar, TimerValue);",
          "content_same": false
        },
        {
          "line": 4278,
          "old_api": "ax",
          "new_api": "ONSOLE_Flush",
          "old_text": "ax(1, TimerDiv);",
          "new_text": "ONSOLE_Flush();",
          "old_line_content": "    TimerDiv = max(1, TimerDiv);",
          "new_line_content": "    CONSOLE_Flush();",
          "content_same": false
        },
        {
          "line": 4405,
          "old_api": "rogressCountdown",
          "new_api": "UIGetString",
          "old_text": "rogressCountdown(Ir, 15);",
          "new_text": "UIGetString(STRING_REBOOTCOMPUTER2))",
          "old_line_content": "    ProgressCountdown(Ir, 15);",
          "new_line_content": "    CONSOLE_SetStatusText(MUIGetString(STRING_REBOOTCOMPUTER2));",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": "tInitializeRegistry",
          "new_api": "nfSetHeap",
          "old_text": "tInitializeRegistry(CM_BOOT_FLAG_SETUP);",
          "new_text": "nfSetHeap(ProcessHeap);",
          "old_line_content": "    Status = NtInitializeRegistry(CM_BOOT_FLAG_SETUP);",
          "new_line_content": "    InfSetHeap(ProcessHeap);",
          "content_same": false
        },
        {
          "line": 4472,
          "old_api": "nitializeUserModePnpManager",
          "new_api": "PRINT1",
          "old_text": "nitializeUserModePnpManager(&USetupData.SetupInf);",
          "new_text": "PRINT1(\"NtInitializeRegistry() failed (Status 0x%08lx)\\n\", Status);",
          "old_line_content": "    Status = InitializeUserModePnpManager(&USetupData.SetupInf);",
          "new_line_content": "        DPRINT1(\"NtInitializeRegistry() failed (Status 0x%08lx)\\n\", Status);",
          "content_same": false
        },
        {
          "line": 4476,
          "old_api": "PRINT1",
          "new_api": "T_SUCCESS",
          "old_text": "PRINT1(\"The user-mode PnP manager could not initialize (Status 0x%08lx), expect unavailable devices!\\n\", Status);",
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "        DPRINT1(\"The user-mode PnP manager could not initialize (Status 0x%08lx), expect unavailable devices!\\n\", Status);",
          "new_line_content": "    if (!NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 4479,
          "old_api": "ONSOLE_Init",
          "new_api": "PRINT1",
          "old_text": "ONSOLE_Init())",
          "new_text": "PRINT1(\"The user-mode PnP manager could not initialize (Status 0x%08lx), expect unavailable devices!\\n\", Status);",
          "old_line_content": "    if (!CONSOLE_Init())",
          "new_line_content": "        DPRINT1(\"The user-mode PnP manager could not initialize (Status 0x%08lx), expect unavailable devices!\\n\", Status);",
          "content_same": false
        },
        {
          "line": 4482,
          "old_api": "UIGetString",
          "new_api": "ONSOLE_Init",
          "old_text": "UIGetString(STRING_CONSOLEFAIL2))",
          "new_text": "ONSOLE_Init())",
          "old_line_content": "        PrintString(MUIGetString(STRING_CONSOLEFAIL2));",
          "new_line_content": "    if (!CONSOLE_Init())",
          "content_same": false
        },
        {
          "line": 4499,
          "old_api": "etupStartPage",
          "new_api": "ONSOLE_Flush",
          "old_text": "etupStartPage(&Ir);",
          "new_text": "ONSOLE_Flush();",
          "old_line_content": "    Page = SetupStartPage(&Ir);",
          "new_line_content": "    CONSOLE_Flush();",
          "content_same": false
        },
        {
          "line": 4664,
          "old_api": "inishSetup",
          "new_api": "erminateUserModePnpManager",
          "old_text": "inishSetup(&USetupData);",
          "new_text": "erminateUserModePnpManager();",
          "old_line_content": "    FinishSetup(&USetupData);",
          "new_line_content": "    TerminateUserModePnpManager();",
          "content_same": false
        },
        {
          "line": 4667,
          "old_api": "ecoveryConsole",
          "new_api": "inishSetup",
          "old_text": "ecoveryConsole();",
          "new_text": "inishSetup(&USetupData);",
          "old_line_content": "        RecoveryConsole();",
          "new_line_content": "    FinishSetup(&USetupData);",
          "content_same": false
        },
        {
          "line": 4672,
          "old_api": "tlAdjustPrivilege",
          "new_api": "reeConsole",
          "old_text": "tlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, TRUE, FALSE, &Old);",
          "new_text": "reeConsole();",
          "old_line_content": "    RtlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, TRUE, FALSE, &Old);",
          "new_line_content": "    FreeConsole();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4611,
          "old_api": null,
          "new_api": "ileCopyPage",
          "old_text": null,
          "new_text": "ileCopyPage(&Ir);",
          "old_line_content": "            case REGISTRY_PAGE:",
          "new_line_content": "                Page = FileCopyPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4615,
          "old_api": null,
          "new_api": "egistryPage",
          "old_text": null,
          "new_text": "egistryPage(&Ir);",
          "old_line_content": "            /* Bootloader installation pages */",
          "new_line_content": "                Page = RegistryPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": null,
          "new_api": "ootLoaderPage",
          "old_text": null,
          "new_text": "ootLoaderPage(&Ir);",
          "old_line_content": "            case BOOT_LOADER_FLOPPY_PAGE:",
          "new_line_content": "                Page = BootLoaderPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": null,
          "new_api": "ootLoaderFloppyPage",
          "old_text": null,
          "new_text": "ootLoaderFloppyPage(&Ir);",
          "old_line_content": "            case BOOT_LOADER_INSTALLATION_PAGE:",
          "new_line_content": "                Page = BootLoaderFloppyPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4628,
          "old_api": null,
          "new_api": "ootLoaderInstallationPage",
          "old_text": null,
          "new_text": "ootLoaderInstallationPage(&Ir);",
          "old_line_content": "            /* Repair pages */",
          "new_line_content": "                Page = BootLoaderInstallationPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4121,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(BOOT_LOADER_INSTALLATION_PAGE);",
          "old_line_content": "    {",
          "new_line_content": "    MUIDisplayPage(BOOT_LOADER_INSTALLATION_PAGE);",
          "content_same": false
        },
        {
          "line": 4633,
          "old_api": null,
          "new_api": "epairIntroPage",
          "old_text": null,
          "new_text": "epairIntroPage(&Ir);",
          "old_line_content": "            case UPGRADE_REPAIR_PAGE:",
          "new_line_content": "                Page = RepairIntroPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4637,
          "old_api": null,
          "new_api": "pgradeRepairPage",
          "old_text": null,
          "new_text": "pgradeRepairPage(&Ir);",
          "old_line_content": "            case SUCCESS_PAGE:",
          "new_line_content": "                Page = UpgradeRepairPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4126,
          "old_api": null,
          "new_api": "nstallVBRToPartition",
          "old_text": null,
          "new_text": "nstallVBRToPartition(&USetupData.SystemRootPath,\n                                       &USetupData.SourceRootPath,\n                                       &USetupData.DestinationArcPath,\n                                       SystemPartition->FileSystem);",
          "old_line_content": "                                       SystemPartition->FileSystem);",
          "new_line_content": "        Status = InstallVBRToPartition(&USetupData.SystemRootPath,",
          "content_same": false
        },
        {
          "line": 4641,
          "old_api": null,
          "new_api": "uccessPage",
          "old_text": null,
          "new_text": "uccessPage(&Ir);",
          "old_line_content": "            case FLUSH_PAGE:",
          "new_line_content": "                Page = SuccessPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4130,
          "old_api": null,
          "new_api": "T_SUCCESS",
          "old_text": null,
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "                            SystemPartition->FileSystem);",
          "new_line_content": "        if (!NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 4132,
          "old_api": null,
          "new_api": "UIDisplayError",
          "old_text": null,
          "new_text": "UIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,\n                            SystemPartition->FileSystem);",
          "old_line_content": "        }",
          "new_line_content": "            MUIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,",
          "content_same": false
        },
        {
          "line": 4645,
          "old_api": null,
          "new_api": "lushPage",
          "old_text": null,
          "new_text": "lushPage(&Ir);",
          "old_line_content": "            case QUIT_PAGE:",
          "new_line_content": "                Page = FlushPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4649,
          "old_api": null,
          "new_api": "uitPage",
          "old_text": null,
          "new_text": "uitPage(&Ir);",
          "old_line_content": "            /* Virtual pages */",
          "new_line_content": "                Page = QuitPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4138,
          "old_api": null,
          "new_api": "sSuperFloppy",
          "old_text": null,
          "new_text": "sSuperFloppy(SystemPartition->DiskEntry))",
          "old_line_content": "                                L\"\\\\Device\\\\Harddisk%d\\\\Partition0\",",
          "new_line_content": "        if (!IsSuperFloppy(SystemPartition->DiskEntry))",
          "content_same": false
        },
        {
          "line": 4148,
          "old_api": null,
          "new_api": "PRINT1",
          "old_text": null,
          "new_text": "PRINT1(\"InstallMbrBootCodeToDisk() failed (Status %lx)\\n\", Status);",
          "old_line_content": "            }",
          "new_line_content": "                DPRINT1(\"InstallMbrBootCodeToDisk() failed (Status %lx)\\n\", Status);",
          "content_same": false
        },
        {
          "line": 4149,
          "old_api": null,
          "new_api": "UIDisplayError",
          "old_text": null,
          "new_text": "UIDisplayError(ERROR_INSTALL_BOOTCODE, Ir, POPUP_WAIT_ENTER, L\"MBR\");",
          "old_line_content": "        }",
          "new_line_content": "                MUIDisplayError(ERROR_INSTALL_BOOTCODE, Ir, POPUP_WAIT_ENTER, L\"MBR\");",
          "content_same": false
        },
        {
          "line": 4156,
          "old_api": null,
          "new_api": "nstallVBRToPartition",
          "old_text": null,
          "new_text": "nstallVBRToPartition(&USetupData.SystemRootPath,\n                                       &USetupData.SourceRootPath,\n                                       &USetupData.DestinationArcPath,\n                                       SystemPartition->FileSystem);",
          "old_line_content": "                                       SystemPartition->FileSystem);",
          "new_line_content": "        Status = InstallVBRToPartition(&USetupData.SystemRootPath,",
          "content_same": false
        },
        {
          "line": 4670,
          "old_api": null,
          "new_api": "ecoveryConsole",
          "old_text": null,
          "new_text": "ecoveryConsole();",
          "old_line_content": "",
          "new_line_content": "        RecoveryConsole();",
          "content_same": false
        },
        {
          "line": 4160,
          "old_api": null,
          "new_api": "T_SUCCESS",
          "old_text": null,
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "                            SystemPartition->FileSystem);",
          "new_line_content": "        if (!NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 4162,
          "old_api": null,
          "new_api": "UIDisplayError",
          "old_text": null,
          "new_text": "UIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,\n                            SystemPartition->FileSystem);",
          "old_line_content": "        }",
          "new_line_content": "            MUIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": null,
          "new_api": "tlAdjustPrivilege",
          "old_text": null,
          "new_text": "tlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, TRUE, FALSE, &Old);",
          "old_line_content": "",
          "new_line_content": "    RtlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, TRUE, FALSE, &Old);",
          "content_same": false
        },
        {
          "line": 4676,
          "old_api": null,
          "new_api": "tShutdownSystem",
          "old_text": null,
          "new_text": "tShutdownSystem(ShutdownReboot);",
          "old_line_content": "    return STATUS_SUCCESS;",
          "new_line_content": "    NtShutdownSystem(ShutdownReboot);",
          "content_same": false
        },
        {
          "line": 4677,
          "old_api": null,
          "new_api": "tlAdjustPrivilege",
          "old_text": null,
          "new_text": "tlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, Old, FALSE, &Old);",
          "old_line_content": "}",
          "new_line_content": "    RtlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, Old, FALSE, &Old);",
          "content_same": false
        },
        {
          "line": 3656,
          "old_api": null,
          "new_api": "SSERT",
          "old_text": null,
          "new_text": "SSERT(Param2 == FILEOP_COPY);",
          "old_line_content": "                /* NOTE: When extracting from CABs the Source is the CAB name */",
          "new_line_content": "                ASSERT(Param2 == FILEOP_COPY);",
          "content_same": false
        },
        {
          "line": 3659,
          "old_api": null,
          "new_api": "csrchr",
          "old_text": null,
          "new_text": "csrchr(FilePathInfo->Target, L'\\\\');",
          "old_line_content": "                else DstFileName = FilePathInfo->Target;",
          "new_line_content": "                DstFileName = wcsrchr(FilePathInfo->Target, L'\\\\');",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": null,
          "new_api": "tlNormalizeProcessParams",
          "old_text": null,
          "new_text": "tlNormalizeProcessParams(Peb->ProcessParameters);",
          "old_line_content": "",
          "new_line_content": "    RtlNormalizeProcessParams(Peb->ProcessParameters);",
          "content_same": false
        },
        {
          "line": 3665,
          "old_api": null,
          "new_api": "ONSOLE_SetStatusText",
          "old_text": null,
          "new_text": "ONSOLE_SetStatusText(s_pszCopying, DstFileName);",
          "old_line_content": "#endif",
          "new_line_content": "                CONSOLE_SetStatusText(s_pszCopying, DstFileName);",
          "content_same": false
        },
        {
          "line": 3667,
          "old_api": null,
          "new_api": "oWatchDestFileName",
          "old_text": null,
          "new_text": "oWatchDestFileName(DstFileName);",
          "old_line_content": "",
          "new_line_content": "                DoWatchDestFileName(DstFileName);",
          "content_same": false
        },
        {
          "line": 4693,
          "old_api": null,
          "new_api": "tQuerySystemTime",
          "old_text": null,
          "new_text": "tQuerySystemTime(&Time);",
          "old_line_content": "",
          "new_line_content": "    NtQuerySystemTime(&Time);",
          "content_same": false
        },
        {
          "line": 4695,
          "old_api": null,
          "new_api": "unUSetup",
          "old_text": null,
          "new_text": "unUSetup();",
          "old_line_content": "    {",
          "new_line_content": "    Status = RunUSetup();",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": null,
          "new_api": "etupUpdateMemoryInfo",
          "old_text": null,
          "new_text": "etupUpdateMemoryInfo(CopyContext, FALSE);",
          "old_line_content": "",
          "new_line_content": "            SetupUpdateMemoryInfo(CopyContext, FALSE);",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": null,
          "new_api": "T_SUCCESS",
          "old_text": null,
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "         * Avoid a bugcheck if RunUSetup() finishes too quickly by implementing",
          "new_line_content": "    if (NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 3679,
          "old_api": null,
          "new_api": "PRINT1",
          "old_text": null,
          "new_text": "PRINT1(\"An error happened while trying to copy file '%S' (error 0x%08lx), skipping it...\\n\",\n                    FilePathInfo->Target, FilePathInfo->Win32Error);",
          "old_line_content": "        }",
          "new_line_content": "            DPRINT1(\"An error happened while trying to copy file '%S' (error 0x%08lx), skipping it...\\n\",",
          "content_same": false
        },
        {
          "line": 4708,
          "old_api": null,
          "new_api": "tDelayExecution",
          "old_text": null,
          "new_text": "tDelayExecution(FALSE, &Time);",
          "old_line_content": "    {",
          "new_line_content": "        NtDelayExecution(FALSE, &Time);",
          "content_same": false
        },
        {
          "line": 4713,
          "old_api": null,
          "new_api": "tRaiseHardError",
          "old_text": null,
          "new_text": "tRaiseHardError(STATUS_SYSTEM_PROCESS_TERMINATED,\n                                  0, 0, NULL, 0, NULL);",
          "old_line_content": "",
          "new_line_content": "        Status = NtRaiseHardError(STATUS_SYSTEM_PROCESS_TERMINATED,",
          "content_same": false
        },
        {
          "line": 4717,
          "old_api": null,
          "new_api": "tCurrentProcess",
          "old_text": null,
          "new_text": "tCurrentProcess(),",
          "old_line_content": "/* EOF */",
          "new_line_content": "    NtTerminateProcess(NtCurrentProcess(), Status);",
          "content_same": false
        },
        {
          "line": 3694,
          "old_api": null,
          "new_api": "rogressNextStep",
          "old_text": null,
          "new_text": "rogressNextStep(CopyContext->ProgressBar);",
          "old_line_content": "        }",
          "new_line_content": "            ProgressNextStep(CopyContext->ProgressBar);",
          "content_same": false
        },
        {
          "line": 3695,
          "old_api": null,
          "new_api": "etupUpdateMemoryInfo",
          "old_text": null,
          "new_text": "etupUpdateMemoryInfo(CopyContext, FALSE);",
          "old_line_content": "    }",
          "new_line_content": "            SetupUpdateMemoryInfo(CopyContext, FALSE);",
          "content_same": false
        },
        {
          "line": 4217,
          "old_api": null,
          "new_api": "tlStringCchPrintfA",
          "old_text": null,
          "new_text": "tlStringCchPrintfA(Buffer, cchBufferSize,\n                            Bar->ProgressFormatText, Bar->Progress / max(1, Bar->Width) + 1);",
          "old_line_content": "        return TRUE;",
          "new_line_content": "        RtlStringCchPrintfA(Buffer, cchBufferSize,",
          "content_same": false
        },
        {
          "line": 4218,
          "old_api": null,
          "new_api": "ax",
          "old_text": null,
          "new_text": "ax(1, Bar->Width) ",
          "old_line_content": "    }",
          "new_line_content": "                            Bar->ProgressFormatText, Bar->Progress / max(1, Bar->Width) + 1);",
          "content_same": false
        },
        {
          "line": 3722,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(FILE_COPY_PAGE);",
          "old_line_content": "    CopyContext.TotalOperations = 0;",
          "new_line_content": "    MUIDisplayPage(FILE_COPY_PAGE);",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": null,
          "new_api": "reateProgressBar",
          "old_text": null,
          "new_text": "reateProgressBar(13,\n                                                26,\n                                                xScreen - 13,\n                                                yScreen - 20,\n                                                10,\n                                                24,\n                                                TRUE,\n                                                MUIGetString(STRING_SETUPCOPYINGFILES));",
          "old_line_content": "                                                yScreen - 20,",
          "new_line_content": "    CopyContext.ProgressBar = CreateProgressBar(13,",
          "content_same": false
        },
        {
          "line": 3736,
          "old_api": null,
          "new_api": "UIGetString",
          "old_text": null,
          "new_text": "UIGetString(STRING_SETUPCOPYINGFILES))",
          "old_line_content": "    MemBarWidth = (xScreen - 26) / 5;",
          "new_line_content": "                                                MUIGetString(STRING_SETUPCOPYINGFILES));",
          "content_same": false
        },
        {
          "line": 3743,
          "old_api": null,
          "new_api": "reateProgressBar",
          "old_text": null,
          "new_text": "reateProgressBar(13,\n                                                  40,\n                                                  13 + MemBarWidth,\n                                                  43,\n                                                  13,\n                                                  44,\n                                                  FALSE,\n                                                  \"Kernel Pool\");",
          "old_line_content": "                                                  43,",
          "new_line_content": "    CopyContext.MemoryBars[0] = CreateProgressBar(13,",
          "content_same": false
        },
        {
          "line": 4260,
          "old_api": null,
          "new_api": "reateProgressBarEx",
          "old_text": null,
          "new_text": "reateProgressBarEx(13,\n                                      26,\n                                      xScreen - 13,\n                                      yScreen - 20,\n                                      10,\n                                      24,\n                                      TRUE,\n                                      FOREGROUND_RED | BACKGROUND_BLUE,\n                                      0,\n                                      NULL,\n                                      MUIGetString(STRING_REBOOTPROGRESSBAR),\n                                      ProgressTimeOutStringHandler);",
          "old_line_content": "                                      yScreen - 20,",
          "new_line_content": "    ProgressBar = CreateProgressBarEx(13,",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": null,
          "new_api": "reateProgressBar",
          "old_text": null,
          "new_text": "reateProgressBar((xScreen / 2)- (MemBarWidth / 2),\n                                                  40,\n                                                  (xScreen / 2) + (MemBarWidth / 2),\n                                                  43,\n                                                  (xScreen / 2)- (MemBarWidth / 2),\n                                                  44,\n                                                  FALSE,\n                                                  \"Kernel Cache\");",
          "old_line_content": "                                                  43,",
          "new_line_content": "    CopyContext.MemoryBars[1] = CreateProgressBar((xScreen / 2)- (MemBarWidth / 2),",
          "content_same": false
        },
        {
          "line": 4273,
          "old_api": null,
          "new_api": "ax",
          "old_text": null,
          "new_text": "ax(1, ProgressBar->Width);",
          "old_line_content": "",
          "new_line_content": "    BarWidth = max(1, ProgressBar->Width);",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "reateProgressBar",
          "old_text": null,
          "new_text": "reateProgressBar(xScreen - 13 - MemBarWidth,\n                                                  40,\n                                                  xScreen - 13,\n                                                  43,\n                                                  xScreen - 13 - MemBarWidth,\n                                                  44,\n                                                  FALSE,\n                                                  \"Free Memory\");",
          "old_line_content": "                                                  43,",
          "new_line_content": "    CopyContext.MemoryBars[2] = CreateProgressBar(xScreen - 13 - MemBarWidth,",
          "content_same": false
        },
        {
          "line": 4277,
          "old_api": null,
          "new_api": "tGetTickCount",
          "old_text": null,
          "new_text": "tGetTickCount();",
          "old_line_content": "    TimerDiv = 1000 / BarWidth;",
          "new_line_content": "    StartTime = NtGetTickCount();",
          "content_same": false
        },
        {
          "line": 4281,
          "old_api": null,
          "new_api": "ax",
          "old_text": null,
          "new_text": "ax(1, TimerDiv);",
          "old_line_content": "    {",
          "new_line_content": "    TimerDiv = max(1, TimerDiv);",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": null,
          "new_api": "estroyProgressBar",
          "old_text": null,
          "new_text": "estroyProgressBar(CopyContext.MemoryBars[0]);",
          "old_line_content": "",
          "new_line_content": "    DestroyProgressBar(CopyContext.MemoryBars[0]);",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": null,
          "new_api": "estroyProgressBar",
          "old_text": null,
          "new_text": "estroyProgressBar(CopyContext.MemoryBars[1]);",
          "old_line_content": "    /* Create the $winnt$.inf file */",
          "new_line_content": "    DestroyProgressBar(CopyContext.MemoryBars[1]);",
          "content_same": false
        },
        {
          "line": 4292,
          "old_api": null,
          "new_api": "tGetTickCount",
          "old_text": null,
          "new_text": "tGetTickCount() ",
          "old_line_content": "            /* Increase StartTime by steps of 1 / ProgressBar->Width seconds */",
          "new_line_content": "        TimeElapsed = NtGetTickCount() - StartTime;",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": null,
          "new_api": "nstallSetupInfFile",
          "old_text": null,
          "new_text": "nstallSetupInfFile(&USetupData);",
          "old_line_content": "    return REGISTRY_PAGE;",
          "new_line_content": "    InstallSetupInfFile(&USetupData);",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": null,
          "new_api": "rogressSetStep",
          "old_text": null,
          "new_text": "rogressSetStep(ProgressBar, OldTimerValue - TimerValue);",
          "old_line_content": "",
          "new_line_content": "            ProgressSetStep(ProgressBar, OldTimerValue - TimerValue);",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": null,
          "new_api": "a_start",
          "old_text": null,
          "new_text": "a_start(args, RegStatus);",
          "old_line_content": "    }",
          "new_line_content": "        va_start(args, RegStatus);",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": null,
          "new_api": "UIGetString",
          "old_text": null,
          "new_text": "UIGetString(StringIDs[RegStatus]),",
          "old_line_content": "    else",
          "new_line_content": "        CONSOLE_SetStatusTextV(MUIGetString(StringIDs[RegStatus]), args);",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": null,
          "new_api": "a_end",
          "old_text": null,
          "new_text": "a_end(args);",
          "old_line_content": "    {",
          "new_line_content": "        va_end(args);",
          "content_same": false
        },
        {
          "line": 4326,
          "old_api": null,
          "new_api": "tGetTickCount",
          "old_text": null,
          "new_text": "tGetTickCount() ",
          "old_line_content": "            /* Convert the time to NT format */",
          "new_line_content": "        TimeElapsed = NtGetTickCount() - StartTime;",
          "content_same": false
        },
        {
          "line": 3816,
          "old_api": null,
          "new_api": "ONSOLE_SetStatusText",
          "old_text": null,
          "new_text": "ONSOLE_SetStatusText(\"Unknown status %d\", RegStatus);",
          "old_line_content": "",
          "new_line_content": "        CONSOLE_SetStatusText(\"Unknown status %d\", RegStatus);",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": null,
          "new_api": "tWaitForSingleObject",
          "old_text": null,
          "new_text": "tWaitForSingleObject(StdInput, FALSE, &Timeout);",
          "old_line_content": "        {",
          "new_line_content": "            Status = NtWaitForSingleObject(StdInput, FALSE, &Timeout);",
          "content_same": false
        },
        {
          "line": 4346,
          "old_api": null,
          "new_api": "PRINT1",
          "old_text": null,
          "new_text": "PRINT1(\"NtWaitForSingleObject() failed, Status 0x%08lx\\n\", Status);",
          "old_line_content": "",
          "new_line_content": "            DPRINT1(\"NtWaitForSingleObject() failed, Status 0x%08lx\\n\", Status);",
          "content_same": false
        },
        {
          "line": 4351,
          "old_api": null,
          "new_api": "ONSOLE_ConInKeyPeek",
          "old_text": null,
          "new_text": "ONSOLE_ConInKeyPeek(Ir))",
          "old_line_content": "            {",
          "new_line_content": "        while (CONSOLE_ConInKeyPeek(Ir))",
          "content_same": false
        },
        {
          "line": 3839,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(REGISTRY_PAGE);",
          "old_line_content": "                           RepairUpdateFlag,",
          "new_line_content": "    MUIDisplayPage(REGISTRY_PAGE);",
          "content_same": false
        },
        {
          "line": 3841,
          "old_api": null,
          "new_api": "pdateRegistry",
          "old_text": null,
          "new_text": "pdateRegistry(&USetupData,\n                           RepairUpdateFlag,\n                           PartitionList,\n                           InstallPartition->DriveLetter,\n                           SelectedLanguageId,\n                           RegistryStatus,\n                           &s_SubstSettings);",
          "old_line_content": "                           InstallPartition->DriveLetter,",
          "new_line_content": "    Error = UpdateRegistry(&USetupData,",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": null,
          "new_api": "UIDisplayError",
          "old_text": null,
          "new_text": "UIDisplayError(Error, Ir, POPUP_WAIT_ENTER);",
          "old_line_content": "    else",
          "new_line_content": "        MUIDisplayError(Error, Ir, POPUP_WAIT_ENTER);",
          "content_same": false
        },
        {
          "line": 4363,
          "old_api": null,
          "new_api": "estroyProgressBar",
          "old_text": null,
          "new_text": "estroyProgressBar(ProgressBar);",
          "old_line_content": "",
          "new_line_content": "    DestroyProgressBar(ProgressBar);",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "UIGetString",
          "old_text": null,
          "new_text": "UIGetString(STRING_DONE))",
          "old_line_content": "}",
          "new_line_content": "        CONSOLE_SetStatusText(MUIGetString(STRING_DONE));",
          "content_same": false
        },
        {
          "line": 4382,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(QUIT_PAGE);",
          "old_line_content": "    if (NtOsInstallsList != NULL)",
          "new_line_content": "    MUIDisplayPage(QUIT_PAGE);",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": null,
          "new_api": "estroyGenericList",
          "old_text": null,
          "new_text": "estroyGenericList(NtOsInstallsList, TRUE);",
          "old_line_content": "",
          "new_line_content": "        DestroyGenericList(NtOsInstallsList, TRUE);",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": null,
          "new_api": "estroyPartitionList",
          "old_text": null,
          "new_text": "estroyPartitionList(PartitionList);",
          "old_line_content": "",
          "new_line_content": "        DestroyPartitionList(PartitionList);",
          "content_same": false
        },
        {
          "line": 4403,
          "old_api": null,
          "new_api": "esetFileSystemList",
          "old_text": null,
          "new_text": "esetFileSystemList();",
          "old_line_content": "",
          "new_line_content": "    ResetFileSystemList();",
          "content_same": false
        },
        {
          "line": 3892,
          "old_api": null,
          "new_api": "tlFreeUnicodeString",
          "old_text": null,
          "new_text": "tlFreeUnicodeString(&USetupData.SystemRootPath);",
          "old_line_content": "            SystemPartition->DiskEntry->DiskNumber,",
          "new_line_content": "    RtlFreeUnicodeString(&USetupData.SystemRootPath);",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": null,
          "new_api": "RRAYSIZE",
          "old_text": null,
          "new_text": "RRAYSIZE(PathBuffer),",
          "old_line_content": "            SystemPartition->PartitionNumber);",
          "new_line_content": "    RtlStringCchPrintfW(PathBuffer, ARRAYSIZE(PathBuffer),",
          "content_same": false
        },
        {
          "line": 4408,
          "old_api": null,
          "new_api": "rogressCountdown",
          "old_text": null,
          "new_text": "rogressCountdown(Ir, 15);",
          "old_line_content": "",
          "new_line_content": "    ProgressCountdown(Ir, 15);",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": null,
          "new_api": "tlCreateUnicodeString",
          "old_text": null,
          "new_text": "tlCreateUnicodeString(&USetupData.SystemRootPath, PathBuffer);",
          "old_line_content": "    /* For unattended setup, skip MBR installation or install on floppy if needed */",
          "new_line_content": "    RtlCreateUnicodeString(&USetupData.SystemRootPath, PathBuffer);",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": null,
          "new_api": "PRINT1",
          "old_text": null,
          "new_text": "PRINT1(\"SystemRootPath: %wZ\\n\", &USetupData.SystemRootPath);",
          "old_line_content": "    if (IsUnattendedSetup)",
          "new_line_content": "    DPRINT1(\"SystemRootPath: %wZ\\n\", &USetupData.SystemRootPath);",
          "content_same": false
        },
        {
          "line": 4428,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(SUCCESS_PAGE);",
          "old_line_content": "        return FLUSH_PAGE;",
          "new_line_content": "    MUIDisplayPage(SUCCESS_PAGE);",
          "content_same": false
        },
        {
          "line": 3916,
          "old_api": null,
          "new_api": "sRecognizedPartition",
          "old_text": null,
          "new_text": "sRecognizedPartition(SystemPartition->PartitionType))",
          "old_line_content": "        goto Quit;",
          "new_line_content": "        !IsRecognizedPartition(SystemPartition->PartitionType))",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": null,
          "new_api": "rogressCountdown",
          "old_text": null,
          "new_text": "rogressCountdown(Ir, 15);",
          "old_line_content": "",
          "new_line_content": "    ProgressCountdown(Ir, 15);",
          "content_same": false
        },
        {
          "line": 3932,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(BOOT_LOADER_PAGE);",
          "old_line_content": "    while (TRUE)",
          "new_line_content": "    MUIDisplayPage(BOOT_LOADER_PAGE);",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "ONSOLE_InvertTextXY",
          "old_text": null,
          "new_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "old_line_content": "    {",
          "new_line_content": "    CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 3937,
          "old_api": null,
          "new_api": "ONSOLE_ConInKey",
          "old_text": null,
          "new_text": "ONSOLE_ConInKey(Ir);",
          "old_line_content": "            (Ir->Event.KeyEvent.wVirtualKeyCode == VK_DOWN))  /* DOWN */",
          "new_line_content": "        CONSOLE_ConInKey(Ir);",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(FLUSH_PAGE);",
          "old_line_content": "",
          "new_line_content": "    MUIDisplayPage(FLUSH_PAGE);",
          "content_same": false
        },
        {
          "line": 3942,
          "old_api": null,
          "new_api": "ONSOLE_NormalTextXY",
          "old_text": null,
          "new_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "old_line_content": "            if (Line < 12)",
          "new_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "ONSOLE_InvertTextXY",
          "old_text": null,
          "new_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "old_line_content": "                 (Ir->Event.KeyEvent.wVirtualKeyCode == VK_UP))  /* UP */",
          "new_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 3956,
          "old_api": null,
          "new_api": "ONSOLE_NormalTextXY",
          "old_text": null,
          "new_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "old_line_content": "            if (Line < 12)",
          "new_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 4470,
          "old_api": null,
          "new_api": "tInitializeRegistry",
          "old_text": null,
          "new_text": "tInitializeRegistry(CM_BOOT_FLAG_SETUP);",
          "old_line_content": "",
          "new_line_content": "    Status = NtInitializeRegistry(CM_BOOT_FLAG_SETUP);",
          "content_same": false
        },
        {
          "line": 4471,
          "old_api": null,
          "new_api": "T_SUCCESS",
          "old_text": null,
          "new_text": "T_SUCCESS(Status))",
          "old_line_content": "    /* Initialize the user-mode PnP manager */",
          "new_line_content": "    if (!NT_SUCCESS(Status))",
          "content_same": false
        },
        {
          "line": 4475,
          "old_api": null,
          "new_api": "nitializeUserModePnpManager",
          "old_text": null,
          "new_text": "nitializeUserModePnpManager(&USetupData.SetupInf);",
          "old_line_content": "        // PrintString(??);",
          "new_line_content": "    Status = InitializeUserModePnpManager(&USetupData.SetupInf);",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": null,
          "new_api": "ONSOLE_InvertTextXY",
          "old_text": null,
          "new_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "old_line_content": "                 (Ir->Event.KeyEvent.wVirtualKeyCode == VK_HOME))  /* HOME */",
          "new_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 3970,
          "old_api": null,
          "new_api": "ONSOLE_NormalTextXY",
          "old_text": null,
          "new_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "old_line_content": "",
          "new_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": null,
          "new_api": "UIGetString",
          "old_text": null,
          "new_text": "UIGetString(STRING_CONSOLEFAIL1))",
          "old_line_content": "",
          "new_line_content": "        PrintString(MUIGetString(STRING_CONSOLEFAIL1));",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": null,
          "new_api": "UIGetString",
          "old_text": null,
          "new_text": "UIGetString(STRING_CONSOLEFAIL2))",
          "old_line_content": "        /* We failed to initialize the video, just quit the installer */",
          "new_line_content": "        PrintString(MUIGetString(STRING_CONSOLEFAIL2));",
          "content_same": false
        },
        {
          "line": 4486,
          "old_api": null,
          "new_api": "UIGetString",
          "old_text": null,
          "new_text": "UIGetString(STRING_CONSOLEFAIL3))",
          "old_line_content": "        return STATUS_APP_INIT_FAILURE;",
          "new_line_content": "        PrintString(MUIGetString(STRING_CONSOLEFAIL3));",
          "content_same": false
        },
        {
          "line": 3974,
          "old_api": null,
          "new_api": "ONSOLE_InvertTextXY",
          "old_text": null,
          "new_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "old_line_content": "                 (Ir->Event.KeyEvent.wVirtualKeyCode == VK_END))  /* END */",
          "new_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 3979,
          "old_api": null,
          "new_api": "ONSOLE_NormalTextXY",
          "old_text": null,
          "new_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "old_line_content": "",
          "new_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 4493,
          "old_api": null,
          "new_api": "nitializeSetup",
          "old_text": null,
          "new_text": "nitializeSetup(&USetupData, 0);",
          "old_line_content": "    /* Hide the cursor and clear the screen and keyboard buffer */",
          "new_line_content": "    InitializeSetup(&USetupData, 0);",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": null,
          "new_api": "ONSOLE_InvertTextXY",
          "old_text": null,
          "new_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "old_line_content": "                 (Ir->Event.KeyEvent.wVirtualKeyCode == VK_F3))  /* F3 */",
          "new_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "content_same": false
        },
        {
          "line": 4497,
          "old_api": null,
          "new_api": "ONSOLE_SetCursorType",
          "old_text": null,
          "new_text": "ONSOLE_SetCursorType(TRUE, FALSE);",
          "old_line_content": "",
          "new_line_content": "    CONSOLE_SetCursorType(TRUE, FALSE);",
          "content_same": false
        },
        {
          "line": 4498,
          "old_api": null,
          "new_api": "ONSOLE_ClearScreen",
          "old_text": null,
          "new_text": "ONSOLE_ClearScreen();",
          "old_line_content": "    /* Global Initialization page */",
          "new_line_content": "    CONSOLE_ClearScreen();",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": null,
          "new_api": "onfirmQuit",
          "old_text": null,
          "new_text": "onfirmQuit(Ir))",
          "old_line_content": "            break;",
          "new_line_content": "            if (ConfirmQuit(Ir))",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": null,
          "new_api": "etupStartPage",
          "old_text": null,
          "new_text": "etupStartPage(&Ir);",
          "old_line_content": "    {",
          "new_line_content": "    Page = SetupStartPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4506,
          "old_api": null,
          "new_api": "ONSOLE_ClearScreen",
          "old_text": null,
          "new_text": "ONSOLE_ClearScreen();",
          "old_line_content": "        // CONSOLE_SetUnderlinedTextXY(4, 3, \" ReactOS \" KERNEL_VERSION_STR \" Setup \");",
          "new_line_content": "        CONSOLE_ClearScreen();",
          "content_same": false
        },
        {
          "line": 4507,
          "old_api": null,
          "new_api": "ONSOLE_Flush",
          "old_text": null,
          "new_text": "ONSOLE_Flush();",
          "old_line_content": "",
          "new_line_content": "        CONSOLE_Flush();",
          "content_same": false
        },
        {
          "line": 4515,
          "old_api": null,
          "new_api": "anguagePage",
          "old_text": null,
          "new_text": "anguagePage(&Ir);",
          "old_line_content": "            /* Welcome page */",
          "new_line_content": "                Page = LanguagePage(&Ir);",
          "content_same": false
        },
        {
          "line": 4520,
          "old_api": null,
          "new_api": "elcomePage",
          "old_text": null,
          "new_text": "elcomePage(&Ir);",
          "old_line_content": "            /* License page */",
          "new_line_content": "                Page = WelcomePage(&Ir);",
          "content_same": false
        },
        {
          "line": 4525,
          "old_api": null,
          "new_api": "icensePage",
          "old_text": null,
          "new_text": "icensePage(&Ir);",
          "old_line_content": "            /* Install pages */",
          "new_line_content": "                Page = LicensePage(&Ir);",
          "content_same": false
        },
        {
          "line": 4530,
          "old_api": null,
          "new_api": "nstallIntroPage",
          "old_text": null,
          "new_text": "nstallIntroPage(&Ir);",
          "old_line_content": "#if 0",
          "new_line_content": "                Page = InstallIntroPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4535,
          "old_api": null,
          "new_api": "csiControllerPage",
          "old_text": null,
          "new_text": "csiControllerPage(&Ir);",
          "old_line_content": "            case OEM_DRIVER_PAGE:",
          "new_line_content": "                Page = ScsiControllerPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4539,
          "old_api": null,
          "new_api": "emDriverPage",
          "old_text": null,
          "new_text": "emDriverPage(&Ir);",
          "old_line_content": "",
          "new_line_content": "                Page = OemDriverPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": null,
          "new_api": "eviceSettingsPage",
          "old_text": null,
          "new_text": "eviceSettingsPage(&Ir);",
          "old_line_content": "            case COMPUTER_SETTINGS_PAGE:",
          "new_line_content": "                Page = DeviceSettingsPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4548,
          "old_api": null,
          "new_api": "omputerSettingsPage",
          "old_text": null,
          "new_text": "omputerSettingsPage(&Ir);",
          "old_line_content": "            case DISPLAY_SETTINGS_PAGE:",
          "new_line_content": "                Page = ComputerSettingsPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": null,
          "new_api": "isplaySettingsPage",
          "old_text": null,
          "new_text": "isplaySettingsPage(&Ir);",
          "old_line_content": "            case KEYBOARD_SETTINGS_PAGE:",
          "new_line_content": "                Page = DisplaySettingsPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4556,
          "old_api": null,
          "new_api": "eyboardSettingsPage",
          "old_text": null,
          "new_text": "eyboardSettingsPage(&Ir);",
          "old_line_content": "            case LAYOUT_SETTINGS_PAGE:",
          "new_line_content": "                Page = KeyboardSettingsPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4560,
          "old_api": null,
          "new_api": "ayoutSettingsPage",
          "old_text": null,
          "new_text": "ayoutSettingsPage(&Ir);",
          "old_line_content": "            /* Partitioning pages */",
          "new_line_content": "                Page = LayoutSettingsPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4565,
          "old_api": null,
          "new_api": "electPartitionPage",
          "old_text": null,
          "new_text": "electPartitionPage(&Ir);",
          "old_line_content": "            case CREATE_PRIMARY_PARTITION_PAGE:",
          "new_line_content": "                Page = SelectPartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": null,
          "new_api": "reatePrimaryPartitionPage",
          "old_text": null,
          "new_text": "reatePrimaryPartitionPage(&Ir);",
          "old_line_content": "            case CREATE_EXTENDED_PARTITION_PAGE:",
          "new_line_content": "                Page = CreatePrimaryPartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": null,
          "new_api": "reateExtendedPartitionPage",
          "old_text": null,
          "new_text": "reateExtendedPartitionPage(&Ir);",
          "old_line_content": "            case CREATE_LOGICAL_PARTITION_PAGE:",
          "new_line_content": "                Page = CreateExtendedPartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4063,
          "old_api": null,
          "new_api": "UIDisplayPage",
          "old_text": null,
          "new_text": "UIDisplayPage(BOOT_LOADER_FLOPPY_PAGE);",
          "old_line_content": "",
          "new_line_content": "    MUIDisplayPage(BOOT_LOADER_FLOPPY_PAGE);",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "reateLogicalPartitionPage",
          "old_text": null,
          "new_text": "reateLogicalPartitionPage(&Ir);",
          "old_line_content": "            case CONFIRM_DELETE_SYSTEM_PARTITION_PAGE:",
          "new_line_content": "                Page = CreateLogicalPartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": null,
          "new_api": "onfirmDeleteSystemPartitionPage",
          "old_text": null,
          "new_text": "onfirmDeleteSystemPartitionPage(&Ir);",
          "old_line_content": "            case DELETE_PARTITION_PAGE:",
          "new_line_content": "                Page = ConfirmDeleteSystemPartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4069,
          "old_api": null,
          "new_api": "ONSOLE_ConInKey",
          "old_text": null,
          "new_text": "ONSOLE_ConInKey(Ir);",
          "old_line_content": "            (Ir->Event.KeyEvent.wVirtualKeyCode == VK_F3))  /* F3 */",
          "new_line_content": "        CONSOLE_ConInKey(Ir);",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": null,
          "new_api": "eletePartitionPage",
          "old_text": null,
          "new_text": "eletePartitionPage(&Ir);",
          "old_line_content": "            /* Filesystem partition operations pages */",
          "new_line_content": "                Page = DeletePartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4074,
          "old_api": null,
          "new_api": "onfirmQuit",
          "old_text": null,
          "new_text": "onfirmQuit(Ir))",
          "old_line_content": "            break;",
          "new_line_content": "            if (ConfirmQuit(Ir))",
          "content_same": false
        },
        {
          "line": 4590,
          "old_api": null,
          "new_api": "electFileSystemPage",
          "old_text": null,
          "new_text": "electFileSystemPage(&Ir);",
          "old_line_content": "            case FORMAT_PARTITION_PAGE:",
          "new_line_content": "                Page = SelectFileSystemPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": null,
          "new_api": "nstallFatBootcodeToFloppy",
          "old_text": null,
          "new_text": "nstallFatBootcodeToFloppy(&USetupData.SourceRootPath,\n                                                &USetupData.DestinationArcPath);",
          "old_line_content": "            {",
          "new_line_content": "            Status = InstallFatBootcodeToFloppy(&USetupData.SourceRootPath,",
          "content_same": false
        },
        {
          "line": 4594,
          "old_api": null,
          "new_api": "ormatPartitionPage",
          "old_text": null,
          "new_text": "ormatPartitionPage(&Ir);",
          "old_line_content": "            case CHECK_FILE_SYSTEM_PAGE:",
          "new_line_content": "                Page = FormatPartitionPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4598,
          "old_api": null,
          "new_api": "heckFileSystemPage",
          "old_text": null,
          "new_text": "heckFileSystemPage(&Ir);",
          "old_line_content": "            /* Installation pages */",
          "new_line_content": "                Page = CheckFileSystemPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": null,
          "new_api": "UIDisplayError",
          "old_text": null,
          "new_text": "UIDisplayError(ERROR_NO_FLOPPY, Ir, POPUP_WAIT_ENTER);",
          "old_line_content": "                return BOOT_LOADER_FLOPPY_PAGE;",
          "new_line_content": "                    MUIDisplayError(ERROR_NO_FLOPPY, Ir, POPUP_WAIT_ENTER);",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": null,
          "new_api": "nstallDirectoryPage",
          "old_text": null,
          "new_text": "nstallDirectoryPage(&Ir);",
          "old_line_content": "            case PREPARE_COPY_PAGE:",
          "new_line_content": "                Page = InstallDirectoryPage(&Ir);",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": null,
          "new_api": "repareCopyPage",
          "old_text": null,
          "new_text": "repareCopyPage(&Ir);",
          "old_line_content": "            case FILE_COPY_PAGE:",
          "new_line_content": "                Page = PrepareCopyPage(&Ir);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4608,
          "old_api": "ileCopyPage",
          "new_api": null,
          "old_text": "ileCopyPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = FileCopyPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4612,
          "old_api": "egistryPage",
          "new_api": null,
          "old_text": "egistryPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = RegistryPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4617,
          "old_api": "ootLoaderPage",
          "new_api": null,
          "old_text": "ootLoaderPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = BootLoaderPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4621,
          "old_api": "ootLoaderFloppyPage",
          "new_api": null,
          "old_text": "ootLoaderFloppyPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = BootLoaderFloppyPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": "ootLoaderInstallationPage",
          "new_api": null,
          "old_text": "ootLoaderInstallationPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = BootLoaderInstallationPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(BOOT_LOADER_INSTALLATION_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(BOOT_LOADER_INSTALLATION_PAGE);",
          "new_line_content": "    NTSTATUS Status;",
          "content_same": false
        },
        {
          "line": 4630,
          "old_api": "epairIntroPage",
          "new_api": null,
          "old_text": "epairIntroPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = RepairIntroPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4634,
          "old_api": "pgradeRepairPage",
          "new_api": null,
          "old_text": "pgradeRepairPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = UpgradeRepairPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4123,
          "old_api": "nstallVBRToPartition",
          "new_api": null,
          "old_text": "nstallVBRToPartition(&USetupData.SystemRootPath,\n                                       &USetupData.SourceRootPath,\n                                       &USetupData.DestinationArcPath,\n                                       SystemPartition->FileSystem);",
          "new_text": null,
          "old_line_content": "        Status = InstallVBRToPartition(&USetupData.SystemRootPath,",
          "new_line_content": "    if (USetupData.MBRInstallType == 2)",
          "content_same": false
        },
        {
          "line": 4638,
          "old_api": "uccessPage",
          "new_api": null,
          "old_text": "uccessPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = SuccessPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": "T_SUCCESS",
          "new_api": null,
          "old_text": "T_SUCCESS(Status))",
          "new_text": null,
          "old_line_content": "        if (!NT_SUCCESS(Status))",
          "new_line_content": "                                       &USetupData.SourceRootPath,",
          "content_same": false
        },
        {
          "line": 4129,
          "old_api": "UIDisplayError",
          "new_api": null,
          "old_text": "UIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,\n                            SystemPartition->FileSystem);",
          "new_text": null,
          "old_line_content": "            MUIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,",
          "new_line_content": "                                       SystemPartition->FileSystem);",
          "content_same": false
        },
        {
          "line": 4642,
          "old_api": "lushPage",
          "new_api": null,
          "old_text": "lushPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = FlushPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4646,
          "old_api": "uitPage",
          "new_api": null,
          "old_text": "uitPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = QuitPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4135,
          "old_api": "sSuperFloppy",
          "new_api": null,
          "old_text": "sSuperFloppy(SystemPartition->DiskEntry))",
          "new_text": null,
          "old_line_content": "        if (!IsSuperFloppy(SystemPartition->DiskEntry))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4137,
          "old_api": "RRAYSIZE",
          "new_api": null,
          "old_text": "RRAYSIZE(DestinationDevicePathBuffer),",
          "new_text": null,
          "old_line_content": "            RtlStringCchPrintfW(DestinationDevicePathBuffer, ARRAYSIZE(DestinationDevicePathBuffer),",
          "new_line_content": "        /* Step 2: Write the MBR if the disk containing the system partition is not a super-floppy */",
          "content_same": false
        },
        {
          "line": 4145,
          "old_api": "PRINT1",
          "new_api": null,
          "old_text": "PRINT1(\"InstallMbrBootCodeToDisk() failed (Status %lx)\\n\", Status);",
          "new_text": null,
          "old_line_content": "                DPRINT1(\"InstallMbrBootCodeToDisk() failed (Status %lx)\\n\", Status);",
          "new_line_content": "                                              DestinationDevicePathBuffer);",
          "content_same": false
        },
        {
          "line": 4661,
          "old_api": "erminateUserModePnpManager",
          "new_api": null,
          "old_text": "erminateUserModePnpManager();",
          "new_text": null,
          "old_line_content": "    TerminateUserModePnpManager();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": "nstallVBRToPartition",
          "new_api": null,
          "old_text": "nstallVBRToPartition(&USetupData.SystemRootPath,\n                                       &USetupData.SourceRootPath,\n                                       &USetupData.DestinationArcPath,\n                                       SystemPartition->FileSystem);",
          "new_text": null,
          "old_line_content": "        Status = InstallVBRToPartition(&USetupData.SystemRootPath,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4157,
          "old_api": "T_SUCCESS",
          "new_api": null,
          "old_text": "T_SUCCESS(Status))",
          "new_text": null,
          "old_line_content": "        if (!NT_SUCCESS(Status))",
          "new_line_content": "                                       &USetupData.SourceRootPath,",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": "reeConsole",
          "new_api": null,
          "old_text": "reeConsole();",
          "new_text": null,
          "old_line_content": "    FreeConsole();",
          "new_line_content": "    if (Page == RECOVERY_PAGE)",
          "content_same": false
        },
        {
          "line": 4159,
          "old_api": "UIDisplayError",
          "new_api": null,
          "old_text": "UIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,\n                            SystemPartition->FileSystem);",
          "new_text": null,
          "old_line_content": "            MUIDisplayError(ERROR_WRITE_BOOT, Ir, POPUP_WAIT_ENTER,",
          "new_line_content": "                                       SystemPartition->FileSystem);",
          "content_same": false
        },
        {
          "line": 4673,
          "old_api": "tShutdownSystem",
          "new_api": null,
          "old_text": "tShutdownSystem(ShutdownReboot);",
          "new_text": null,
          "old_line_content": "    NtShutdownSystem(ShutdownReboot);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4674,
          "old_api": "tlAdjustPrivilege",
          "new_api": null,
          "old_text": "tlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, Old, FALSE, &Old);",
          "new_text": null,
          "old_line_content": "    RtlAdjustPrivilege(SE_SHUTDOWN_PRIVILEGE, Old, FALSE, &Old);",
          "new_line_content": "    /* Reboot */",
          "content_same": false
        },
        {
          "line": 3654,
          "old_api": "SSERT",
          "new_api": null,
          "old_text": "SSERT(Param2 == FILEOP_COPY);",
          "new_text": null,
          "old_line_content": "                ASSERT(Param2 == FILEOP_COPY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3657,
          "old_api": "csrchr",
          "new_api": null,
          "old_text": "csrchr(FilePathInfo->Target, L'\\\\');",
          "new_text": null,
          "old_line_content": "                DstFileName = wcsrchr(FilePathInfo->Target, L'\\\\');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_COPYING),",
          "new_text": null,
          "old_line_content": "                CONSOLE_SetStatusText(MUIGetString(STRING_COPYING),",
          "new_line_content": "                else DstFileName = FilePathInfo->Target;",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": "tlNormalizeProcessParams",
          "new_api": null,
          "old_text": "tlNormalizeProcessParams(Peb->ProcessParameters);",
          "new_text": null,
          "old_line_content": "    RtlNormalizeProcessParams(Peb->ProcessParameters);",
          "new_line_content": "    NTSTATUS Status;",
          "content_same": false
        },
        {
          "line": 4690,
          "old_api": "tQuerySystemTime",
          "new_api": null,
          "old_text": "tQuerySystemTime(&Time);",
          "new_text": null,
          "old_line_content": "    NtQuerySystemTime(&Time);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4692,
          "old_api": "unUSetup",
          "new_api": null,
          "old_text": "unUSetup();",
          "new_text": null,
          "old_line_content": "    Status = RunUSetup();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": "etupUpdateMemoryInfo",
          "new_api": null,
          "old_text": "etupUpdateMemoryInfo(CopyContext, FALSE);",
          "new_text": null,
          "old_line_content": "            SetupUpdateMemoryInfo(CopyContext, FALSE);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4694,
          "old_api": "T_SUCCESS",
          "new_api": null,
          "old_text": "T_SUCCESS(Status))",
          "new_text": null,
          "old_line_content": "    if (NT_SUCCESS(Status))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3676,
          "old_api": "PRINT1",
          "new_api": null,
          "old_text": "PRINT1(\"An error happened while trying to copy file '%S' (error 0x%08lx), skipping it...\\n\",\n                    FilePathInfo->Target, FilePathInfo->Win32Error);",
          "new_text": null,
          "old_line_content": "            DPRINT1(\"An error happened while trying to copy file '%S' (error 0x%08lx), skipping it...\\n\",",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 4705,
          "old_api": "tDelayExecution",
          "new_api": null,
          "old_text": "tDelayExecution(FALSE, &Time);",
          "new_text": null,
          "old_line_content": "        NtDelayExecution(FALSE, &Time);",
          "new_line_content": "         * bugchecks with the code SESSION5_INITIALIZATION_FAILED.",
          "content_same": false
        },
        {
          "line": 4710,
          "old_api": "tRaiseHardError",
          "new_api": null,
          "old_text": "tRaiseHardError(STATUS_SYSTEM_PROCESS_TERMINATED,\n                                  0, 0, NULL, 0, NULL);",
          "new_text": null,
          "old_line_content": "        Status = NtRaiseHardError(STATUS_SYSTEM_PROCESS_TERMINATED,",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": "PRINT1",
          "new_api": null,
          "old_text": "PRINT1(\"CHECKPOINT:HALF_COPIED\\n\");",
          "new_text": null,
          "old_line_content": "                DPRINT1(\"CHECKPOINT:HALF_COPIED\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4714,
          "old_api": "tCurrentProcess",
          "new_api": null,
          "old_text": "tCurrentProcess(),",
          "new_text": null,
          "old_line_content": "    NtTerminateProcess(NtCurrentProcess(), Status);",
          "new_line_content": "                                  0, 0, NULL, 0, NULL);",
          "content_same": false
        },
        {
          "line": 3691,
          "old_api": "rogressNextStep",
          "new_api": null,
          "old_text": "rogressNextStep(CopyContext->ProgressBar);",
          "new_text": null,
          "old_line_content": "            ProgressNextStep(CopyContext->ProgressBar);",
          "new_line_content": "            if (CopyContext->TotalOperations >> 1 == CopyContext->CompletedOperations)",
          "content_same": false
        },
        {
          "line": 4214,
          "old_api": "tlStringCchPrintfA",
          "new_api": null,
          "old_text": "tlStringCchPrintfA(Buffer, cchBufferSize,\n                            Bar->ProgressFormatText, Bar->Progress / max(1, Bar->Width) + 1);",
          "new_text": null,
          "old_line_content": "        RtlStringCchPrintfA(Buffer, cchBufferSize,",
          "new_line_content": "    if (Bar->ProgressFormatText &&",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": "ax",
          "new_api": null,
          "old_text": "ax(1, Bar->Width) ",
          "new_text": null,
          "old_line_content": "                            Bar->ProgressFormatText, Bar->Progress / max(1, Bar->Width) + 1);",
          "new_line_content": "        (AlwaysUpdate || (Bar->Progress != OldProgress)))",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(FILE_COPY_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(FILE_COPY_PAGE);",
          "new_line_content": "    COPYCONTEXT CopyContext;",
          "content_same": false
        },
        {
          "line": 3726,
          "old_api": "reateProgressBar",
          "new_api": null,
          "old_text": "reateProgressBar(13,\n                                                26,\n                                                xScreen - 13,\n                                                yScreen - 20,\n                                                10,\n                                                24,\n                                                TRUE,\n                                                MUIGetString(STRING_SETUPCOPYINGFILES));",
          "new_text": null,
          "old_line_content": "    CopyContext.ProgressBar = CreateProgressBar(13,",
          "new_line_content": "    CopyContext.CompletedOperations = 0;",
          "content_same": false
        },
        {
          "line": 3733,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_SETUPCOPYINGFILES))",
          "new_text": null,
          "old_line_content": "                                                MUIGetString(STRING_SETUPCOPYINGFILES));",
          "new_line_content": "                                                10,",
          "content_same": false
        },
        {
          "line": 3740,
          "old_api": "reateProgressBar",
          "new_api": null,
          "old_text": "reateProgressBar(13,\n                                                  40,\n                                                  13 + MemBarWidth,\n                                                  43,\n                                                  13,\n                                                  44,\n                                                  FALSE,\n                                                  \"Kernel Pool\");",
          "new_text": null,
          "old_line_content": "    CopyContext.MemoryBars[0] = CreateProgressBar(13,",
          "new_line_content": "    MemBarWidth -= MemBarWidth % 2;  // make even",
          "content_same": false
        },
        {
          "line": 4257,
          "old_api": "reateProgressBarEx",
          "new_api": null,
          "old_text": "reateProgressBarEx(13,\n                                      26,\n                                      xScreen - 13,\n                                      yScreen - 20,\n                                      10,\n                                      24,\n                                      TRUE,\n                                      FOREGROUND_RED | BACKGROUND_BLUE,\n                                      0,\n                                      NULL,\n                                      MUIGetString(STRING_REBOOTPROGRESSBAR),\n                                      ProgressTimeOutStringHandler);",
          "new_text": null,
          "old_line_content": "    ProgressBar = CreateProgressBarEx(13,",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 3750,
          "old_api": "reateProgressBar",
          "new_api": null,
          "old_text": "reateProgressBar((xScreen / 2)- (MemBarWidth / 2),\n                                                  40,\n                                                  (xScreen / 2) + (MemBarWidth / 2),\n                                                  43,\n                                                  (xScreen / 2)- (MemBarWidth / 2),\n                                                  44,\n                                                  FALSE,\n                                                  \"Kernel Cache\");",
          "new_text": null,
          "old_line_content": "    CopyContext.MemoryBars[1] = CreateProgressBar((xScreen / 2)- (MemBarWidth / 2),",
          "new_line_content": "                                                  \"Kernel Pool\");",
          "content_same": false
        },
        {
          "line": 4267,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_REBOOTPROGRESSBAR),",
          "new_text": null,
          "old_line_content": "                                      MUIGetString(STRING_REBOOTPROGRESSBAR),",
          "new_line_content": "                                      FOREGROUND_RED | BACKGROUND_BLUE,",
          "content_same": false
        },
        {
          "line": 4272,
          "old_api": "rogressSetStepCount",
          "new_api": null,
          "old_text": "rogressSetStepCount(ProgressBar, TimerValue);",
          "new_text": null,
          "old_line_content": "    ProgressSetStepCount(ProgressBar, TimerValue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": "reateProgressBar",
          "new_api": null,
          "old_text": "reateProgressBar(xScreen - 13 - MemBarWidth,\n                                                  40,\n                                                  xScreen - 13,\n                                                  43,\n                                                  xScreen - 13 - MemBarWidth,\n                                                  44,\n                                                  FALSE,\n                                                  \"Free Memory\");",
          "new_text": null,
          "old_line_content": "    CopyContext.MemoryBars[2] = CreateProgressBar(xScreen - 13 - MemBarWidth,",
          "new_line_content": "                                                  \"Kernel Cache\");",
          "content_same": false
        },
        {
          "line": 4274,
          "old_api": "tGetTickCount",
          "new_api": null,
          "old_text": "tGetTickCount();",
          "new_text": null,
          "old_line_content": "    StartTime = NtGetTickCount();",
          "new_line_content": "    TimerValue = TimeOut * BarWidth;",
          "content_same": false
        },
        {
          "line": 3770,
          "old_api": "oFileCopy",
          "new_api": null,
          "old_text": "oFileCopy(&USetupData, FileCopyCallback, &CopyContext);",
          "new_text": null,
          "old_line_content": "    DoFileCopy(&USetupData, FileCopyCallback, &CopyContext);",
          "new_line_content": "                                                  \"Free Memory\");",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": "estroyProgressBar",
          "new_api": null,
          "old_text": "estroyProgressBar(CopyContext.MemoryBars[0]);",
          "new_text": null,
          "old_line_content": "    DestroyProgressBar(CopyContext.MemoryBars[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "estroyProgressBar",
          "new_api": null,
          "old_text": "estroyProgressBar(CopyContext.MemoryBars[1]);",
          "new_text": null,
          "old_line_content": "    DestroyProgressBar(CopyContext.MemoryBars[1]);",
          "new_line_content": "    /* If we get here, we're done, so cleanup the progress bar */",
          "content_same": false
        },
        {
          "line": 4289,
          "old_api": "tGetTickCount",
          "new_api": null,
          "old_text": "tGetTickCount() ",
          "new_text": null,
          "old_line_content": "        TimeElapsed = NtGetTickCount() - StartTime;",
          "new_line_content": "         * This allows us in particular to take account for any time",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": "rogressSetStep",
          "new_api": null,
          "old_text": "rogressSetStep(ProgressBar, OldTimerValue - TimerValue);",
          "new_text": null,
          "old_line_content": "            ProgressSetStep(ProgressBar, OldTimerValue - TimerValue);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3805,
          "old_api": "RRAYSIZE",
          "new_api": null,
          "old_text": "RRAYSIZE(StringIDs))",
          "new_text": null,
          "old_line_content": "    if (RegStatus < ARRAYSIZE(StringIDs))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3807,
          "old_api": "a_start",
          "new_api": null,
          "old_text": "a_start(args, RegStatus);",
          "new_text": null,
          "old_line_content": "        va_start(args, RegStatus);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": "a_end",
          "new_api": null,
          "old_text": "a_end(args);",
          "new_text": null,
          "old_line_content": "        va_end(args);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4323,
          "old_api": "tGetTickCount",
          "new_api": null,
          "old_text": "tGetTickCount() ",
          "new_text": null,
          "old_line_content": "        TimeElapsed = NtGetTickCount() - StartTime;",
          "new_line_content": "         */",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": "ONSOLE_SetStatusText",
          "new_api": null,
          "old_text": "ONSOLE_SetStatusText(\"Unknown status %d\", RegStatus);",
          "new_text": null,
          "old_line_content": "        CONSOLE_SetStatusText(\"Unknown status %d\", RegStatus);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": "tWaitForSingleObject",
          "new_api": null,
          "old_text": "tWaitForSingleObject(StdInput, FALSE, &Timeout);",
          "new_text": null,
          "old_line_content": "            Status = NtWaitForSingleObject(StdInput, FALSE, &Timeout);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": "PRINT1",
          "new_api": null,
          "old_text": "PRINT1(\"NtWaitForSingleObject() failed, Status 0x%08lx\\n\", Status);",
          "new_text": null,
          "old_line_content": "            DPRINT1(\"NtWaitForSingleObject() failed, Status 0x%08lx\\n\", Status);",
          "new_line_content": "        if (Status != STATUS_WAIT_0)",
          "content_same": false
        },
        {
          "line": 4348,
          "old_api": "ONSOLE_ConInKeyPeek",
          "new_api": null,
          "old_text": "ONSOLE_ConInKeyPeek(Ir))",
          "new_text": null,
          "old_line_content": "        while (CONSOLE_ConInKeyPeek(Ir))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(REGISTRY_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(REGISTRY_PAGE);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3838,
          "old_api": "pdateRegistry",
          "new_api": null,
          "old_text": "pdateRegistry(&USetupData,\n                           RepairUpdateFlag,\n                           PartitionList,\n                           InstallPartition->DriveLetter,\n                           SelectedLanguageId,\n                           RegistryStatus,\n                           &s_SubstSettings);",
          "new_text": null,
          "old_line_content": "    Error = UpdateRegistry(&USetupData,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3847,
          "old_api": "UIDisplayError",
          "new_api": null,
          "old_text": "UIDisplayError(Error, Ir, POPUP_WAIT_ENTER);",
          "new_text": null,
          "old_line_content": "        MUIDisplayError(Error, Ir, POPUP_WAIT_ENTER);",
          "new_line_content": "                           &s_SubstSettings);",
          "content_same": false
        },
        {
          "line": 4360,
          "old_api": "estroyProgressBar",
          "new_api": null,
          "old_text": "estroyProgressBar(ProgressBar);",
          "new_text": null,
          "old_line_content": "    DestroyProgressBar(ProgressBar);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_DONE))",
          "new_text": null,
          "old_line_content": "        CONSOLE_SetStatusText(MUIGetString(STRING_DONE));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4379,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(QUIT_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(QUIT_PAGE);",
          "new_line_content": "static PAGE_NUMBER",
          "content_same": false
        },
        {
          "line": 4384,
          "old_api": "estroyGenericList",
          "new_api": null,
          "old_text": "estroyGenericList(NtOsInstallsList, TRUE);",
          "new_text": null,
          "old_line_content": "        DestroyGenericList(NtOsInstallsList, TRUE);",
          "new_line_content": "    /* Destroy the NTOS installations list */",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": "estroyPartitionList",
          "new_api": null,
          "old_text": "estroyPartitionList(PartitionList);",
          "new_text": null,
          "old_line_content": "        DestroyPartitionList(PartitionList);",
          "new_line_content": "    /* Destroy the partition list */",
          "content_same": false
        },
        {
          "line": 3884,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_PLEASEWAIT))",
          "new_text": null,
          "old_line_content": "    CONSOLE_SetStatusText(MUIGetString(STRING_PLEASEWAIT));",
          "new_line_content": "    USHORT Line = 12;",
          "content_same": false
        },
        {
          "line": 4400,
          "old_api": "esetFileSystemList",
          "new_api": null,
          "old_text": "esetFileSystemList();",
          "new_text": null,
          "old_line_content": "    ResetFileSystemList();",
          "new_line_content": "    FormatState = Start;",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": "tlFreeUnicodeString",
          "new_api": null,
          "old_text": "tlFreeUnicodeString(&USetupData.SystemRootPath);",
          "new_text": null,
          "old_line_content": "    RtlFreeUnicodeString(&USetupData.SystemRootPath);",
          "new_line_content": "    /* We must have a supported system partition by now */",
          "content_same": false
        },
        {
          "line": 4402,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_REBOOTCOMPUTER2))",
          "new_text": null,
          "old_line_content": "    CONSOLE_SetStatusText(MUIGetString(STRING_REBOOTCOMPUTER2));",
          "new_line_content": "    /* Destroy the filesystem list */",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": "tlCreateUnicodeString",
          "new_api": null,
          "old_text": "tlCreateUnicodeString(&USetupData.SystemRootPath, PathBuffer);",
          "new_text": null,
          "old_line_content": "    RtlCreateUnicodeString(&USetupData.SystemRootPath, PathBuffer);",
          "new_line_content": "            L\"\\\\Device\\\\Harddisk%lu\\\\Partition%lu\\\\\",",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": "PRINT1",
          "new_api": null,
          "old_text": "PRINT1(\"SystemRootPath: %wZ\\n\", &USetupData.SystemRootPath);",
          "new_text": null,
          "old_line_content": "    DPRINT1(\"SystemRootPath: %wZ\\n\", &USetupData.SystemRootPath);",
          "new_line_content": "            SystemPartition->DiskEntry->DiskNumber,",
          "content_same": false
        },
        {
          "line": 4425,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(SUCCESS_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(SUCCESS_PAGE);",
          "new_line_content": "static PAGE_NUMBER",
          "content_same": false
        },
        {
          "line": 3913,
          "old_api": "sRecognizedPartition",
          "new_api": null,
          "old_text": "sRecognizedPartition(SystemPartition->PartitionType))",
          "new_text": null,
          "old_line_content": "        !IsRecognizedPartition(SystemPartition->PartitionType))",
          "new_line_content": "     * if the system partition is not recognized.",
          "content_same": false
        },
        {
          "line": 4431,
          "old_api": "rogressCountdown",
          "new_api": null,
          "old_text": "rogressCountdown(Ir, 15);",
          "new_text": null,
          "old_line_content": "    ProgressCountdown(Ir, 15);",
          "new_line_content": "        return FLUSH_PAGE;",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(BOOT_LOADER_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(BOOT_LOADER_PAGE);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": "ONSOLE_InvertTextXY",
          "new_api": null,
          "old_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "    CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3934,
          "old_api": "ONSOLE_ConInKey",
          "new_api": null,
          "old_text": "ONSOLE_ConInKey(Ir);",
          "new_text": null,
          "old_line_content": "        CONSOLE_ConInKey(Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(FLUSH_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(FLUSH_PAGE);",
          "new_line_content": "static PAGE_NUMBER",
          "content_same": false
        },
        {
          "line": 3939,
          "old_api": "ONSOLE_NormalTextXY",
          "new_api": null,
          "old_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_line_content": "        if ((Ir->Event.KeyEvent.uChar.AsciiChar == 0x00) &&",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": "ONSOLE_InvertTextXY",
          "new_api": null,
          "old_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_line_content": "            if (Line > 15)",
          "content_same": false
        },
        {
          "line": 4464,
          "old_api": "nfSetHeap",
          "new_api": null,
          "old_text": "nfSetHeap(ProcessHeap);",
          "new_text": null,
          "old_line_content": "    InfSetHeap(ProcessHeap);",
          "new_line_content": "    PAGE_NUMBER Page;",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": "ONSOLE_NormalTextXY",
          "new_api": null,
          "old_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_line_content": "        else if ((Ir->Event.KeyEvent.uChar.AsciiChar == 0x00) &&",
          "content_same": false
        },
        {
          "line": 4468,
          "old_api": "T_SUCCESS",
          "new_api": null,
          "old_text": "T_SUCCESS(Status))",
          "new_text": null,
          "old_line_content": "    if (!NT_SUCCESS(Status))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4469,
          "old_api": "PRINT1",
          "new_api": null,
          "old_text": "PRINT1(\"NtInitializeRegistry() failed (Status 0x%08lx)\\n\", Status);",
          "new_text": null,
          "old_line_content": "        DPRINT1(\"NtInitializeRegistry() failed (Status 0x%08lx)\\n\", Status);",
          "new_line_content": "    /* Tell the Cm this is a setup boot, and it has to behave accordingly */",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": "T_SUCCESS",
          "new_api": null,
          "old_text": "T_SUCCESS(Status))",
          "new_text": null,
          "old_line_content": "    if (!NT_SUCCESS(Status))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": "ONSOLE_InvertTextXY",
          "new_api": null,
          "old_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_line_content": "            if (Line > 15)",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": "ONSOLE_NormalTextXY",
          "new_api": null,
          "old_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_line_content": "        else if ((Ir->Event.KeyEvent.uChar.AsciiChar == 0x00) &&",
          "content_same": false
        },
        {
          "line": 4481,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_CONSOLEFAIL1))",
          "new_text": null,
          "old_line_content": "        PrintString(MUIGetString(STRING_CONSOLEFAIL1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": "UIGetString",
          "new_api": null,
          "old_text": "UIGetString(STRING_CONSOLEFAIL3))",
          "new_text": null,
          "old_line_content": "        PrintString(MUIGetString(STRING_CONSOLEFAIL3));",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3971,
          "old_api": "ONSOLE_InvertTextXY",
          "new_api": null,
          "old_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": "ONSOLE_NormalTextXY",
          "new_api": null,
          "old_text": "ONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_NormalTextXY(8, Line, 60, 1);",
          "new_line_content": "        else if ((Ir->Event.KeyEvent.uChar.AsciiChar == 0x00) &&",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": "nitializeSetup",
          "new_api": null,
          "old_text": "nitializeSetup(&USetupData, 0);",
          "new_text": null,
          "old_line_content": "    InitializeSetup(&USetupData, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3980,
          "old_api": "ONSOLE_InvertTextXY",
          "new_api": null,
          "old_text": "ONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_text": null,
          "old_line_content": "            CONSOLE_InvertTextXY(8, Line, 60, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4494,
          "old_api": "ONSOLE_SetCursorType",
          "new_api": null,
          "old_text": "ONSOLE_SetCursorType(TRUE, FALSE);",
          "new_text": null,
          "old_line_content": "    CONSOLE_SetCursorType(TRUE, FALSE);",
          "new_line_content": "    USetupData.ErrorRoutine = USetupErrorRoutine;",
          "content_same": false
        },
        {
          "line": 4495,
          "old_api": "ONSOLE_ClearScreen",
          "new_api": null,
          "old_text": "ONSOLE_ClearScreen();",
          "new_text": null,
          "old_line_content": "    CONSOLE_ClearScreen();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4496,
          "old_api": "ONSOLE_Flush",
          "new_api": null,
          "old_text": "ONSOLE_Flush();",
          "new_text": null,
          "old_line_content": "    CONSOLE_Flush();",
          "new_line_content": "    /* Hide the cursor and clear the screen and keyboard buffer */",
          "content_same": false
        },
        {
          "line": 3985,
          "old_api": "onfirmQuit",
          "new_api": null,
          "old_text": "onfirmQuit(Ir))",
          "new_text": null,
          "old_line_content": "            if (ConfirmQuit(Ir))",
          "new_line_content": "        else if ((Ir->Event.KeyEvent.uChar.AsciiChar == 0x00) &&",
          "content_same": false
        },
        {
          "line": 4503,
          "old_api": "ONSOLE_ClearScreen",
          "new_api": null,
          "old_text": "ONSOLE_ClearScreen();",
          "new_text": null,
          "old_line_content": "        CONSOLE_ClearScreen();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": "ONSOLE_Flush",
          "new_api": null,
          "old_text": "ONSOLE_Flush();",
          "new_text": null,
          "old_line_content": "        CONSOLE_Flush();",
          "new_line_content": "    while (Page != REBOOT_PAGE && Page != RECOVERY_PAGE)",
          "content_same": false
        },
        {
          "line": 4512,
          "old_api": "anguagePage",
          "new_api": null,
          "old_text": "anguagePage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = LanguagePage(&Ir);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 4517,
          "old_api": "elcomePage",
          "new_api": null,
          "old_text": "elcomePage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = WelcomePage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4522,
          "old_api": "icensePage",
          "new_api": null,
          "old_text": "icensePage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = LicensePage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": "nstallIntroPage",
          "new_api": null,
          "old_text": "nstallIntroPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = InstallIntroPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4532,
          "old_api": "csiControllerPage",
          "new_api": null,
          "old_text": "csiControllerPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = ScsiControllerPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4536,
          "old_api": "emDriverPage",
          "new_api": null,
          "old_text": "emDriverPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = OemDriverPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": "eviceSettingsPage",
          "new_api": null,
          "old_text": "eviceSettingsPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = DeviceSettingsPage(&Ir);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4545,
          "old_api": "omputerSettingsPage",
          "new_api": null,
          "old_text": "omputerSettingsPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = ComputerSettingsPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4549,
          "old_api": "isplaySettingsPage",
          "new_api": null,
          "old_text": "isplaySettingsPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = DisplaySettingsPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4553,
          "old_api": "eyboardSettingsPage",
          "new_api": null,
          "old_text": "eyboardSettingsPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = KeyboardSettingsPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": "ayoutSettingsPage",
          "new_api": null,
          "old_text": "ayoutSettingsPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = LayoutSettingsPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": "electPartitionPage",
          "new_api": null,
          "old_text": "electPartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = SelectPartitionPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": "reatePrimaryPartitionPage",
          "new_api": null,
          "old_text": "reatePrimaryPartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = CreatePrimaryPartitionPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4570,
          "old_api": "reateExtendedPartitionPage",
          "new_api": null,
          "old_text": "reateExtendedPartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = CreateExtendedPartitionPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": "UIDisplayPage",
          "new_api": null,
          "old_text": "UIDisplayPage(BOOT_LOADER_FLOPPY_PAGE);",
          "new_text": null,
          "old_line_content": "    MUIDisplayPage(BOOT_LOADER_FLOPPY_PAGE);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4574,
          "old_api": "reateLogicalPartitionPage",
          "new_api": null,
          "old_text": "reateLogicalPartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = CreateLogicalPartitionPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": "onfirmDeleteSystemPartitionPage",
          "new_api": null,
          "old_text": "onfirmDeleteSystemPartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = ConfirmDeleteSystemPartitionPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4066,
          "old_api": "ONSOLE_ConInKey",
          "new_api": null,
          "old_text": "ONSOLE_ConInKey(Ir);",
          "new_text": null,
          "old_line_content": "        CONSOLE_ConInKey(Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": "eletePartitionPage",
          "new_api": null,
          "old_text": "eletePartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = DeletePartitionPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4071,
          "old_api": "onfirmQuit",
          "new_api": null,
          "old_text": "onfirmQuit(Ir))",
          "new_text": null,
          "old_line_content": "            if (ConfirmQuit(Ir))",
          "new_line_content": "        if ((Ir->Event.KeyEvent.uChar.AsciiChar == 0x00) &&",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": "electFileSystemPage",
          "new_api": null,
          "old_text": "electFileSystemPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = SelectFileSystemPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4078,
          "old_api": "nstallFatBootcodeToFloppy",
          "new_api": null,
          "old_text": "nstallFatBootcodeToFloppy(&USetupData.SourceRootPath,\n                                                &USetupData.DestinationArcPath);",
          "new_text": null,
          "old_line_content": "            Status = InstallFatBootcodeToFloppy(&USetupData.SourceRootPath,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4591,
          "old_api": "ormatPartitionPage",
          "new_api": null,
          "old_text": "ormatPartitionPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = FormatPartitionPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4080,
          "old_api": "T_SUCCESS",
          "new_api": null,
          "old_text": "T_SUCCESS(Status))",
          "new_text": null,
          "old_line_content": "            if (!NT_SUCCESS(Status))",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 4595,
          "old_api": "heckFileSystemPage",
          "new_api": null,
          "old_text": "heckFileSystemPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = CheckFileSystemPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": "nstallDirectoryPage",
          "new_api": null,
          "old_text": "nstallDirectoryPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = InstallDirectoryPage(&Ir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": "repareCopyPage",
          "new_api": null,
          "old_text": "repareCopyPage(&Ir);",
          "new_text": null,
          "old_line_content": "                Page = PrepareCopyPage(&Ir);",
          "new_line_content": "                break;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 24,
      "total_additions": 133,
      "total_deletions": 132,
      "total_api_changes": 289
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 289,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          3653,
          3662,
          3663
        ]
      }
    },
    "api_calls_before": 761,
    "api_calls_after": 761,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 2,
      "total_diff_lines": 26
    }
  }
}