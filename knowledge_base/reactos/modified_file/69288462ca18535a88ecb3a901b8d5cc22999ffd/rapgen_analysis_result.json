{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/69288462ca18535a88ecb3a901b8d5cc22999ffd",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/69288462ca18535a88ecb3a901b8d5cc22999ffd/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/69288462ca18535a88ecb3a901b8d5cc22999ffd/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/69288462ca18535a88ecb3a901b8d5cc22999ffd/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 444,
          "old_api": "SetEvent",
          "new_api": "GetCurrentTime",
          "old_text": "SetEvent(This->hEvent)",
          "new_text": "GetCurrentTime()",
          "old_line_content": "        SetEvent(This->hEvent);",
          "new_line_content": "    lasttime = GetCurrentTime() - last_event;",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "GEN_EVENT",
          "new_api": "GetCurrentTime",
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x, hook->time, 0)",
          "new_text": "GetCurrentTime()",
          "old_line_content": "\t\tGEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x, hook->time, 0);",
          "new_line_content": "\t    last_event = GetCurrentTime();    ",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "GEN_EVENT",
          "new_api": "TRACE",
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_L_POSITION], 0x00,\n\t\t      hook->time, This->dinput->evsequence++)",
          "new_text": "TRACE(\" msg %x pt %ld %ld (W=%d)\\n\",\n          wparam, hook->pt.x, hook->pt.y, (!This->absolute) && This->need_warp )",
          "old_line_content": "\t    GEN_EVENT(This->offset_array[WINE_MOUSE_L_POSITION], 0x00,",
          "new_line_content": "    TRACE(\" msg %x pt %ld %ld (W=%d)\\n\",",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "HIWORD",
          "new_api": "GEN_EVENT",
          "old_text": "HIWORD(hook->mouseData)",
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_M_POSITION], 0x80,\n\t\t      hook->time, This->dinput->evsequence++)",
          "old_line_content": "\t    wdata = (short)HIWORD(hook->mouseData);",
          "new_line_content": "\t    GEN_EVENT(This->offset_array[WINE_MOUSE_M_POSITION], 0x80,",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "GetWindowRect",
          "new_api": "GetKeyState",
          "old_text": "GetWindowRect(This->win, &rect)",
          "new_text": "GetKeyState(VK_LBUTTON)",
          "old_line_content": "    GetWindowRect(This->win, &rect);",
          "new_line_content": "    This->m_state.rgbButtons[0] = GetKeyState(VK_LBUTTON) & 0x80;",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "SetCursorPos",
          "new_api": "GetWindowRect",
          "old_text": "SetCursorPos( This->mapped_center.x, This->mapped_center.y )",
          "new_text": "GetWindowRect(This->win, &rect)",
          "old_line_content": "      SetCursorPos( This->mapped_center.x, This->mapped_center.y );",
          "new_line_content": "    GetWindowRect(This->win, &rect);",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "LeaveCriticalSection",
          "new_api": "TRACE",
          "old_text": "LeaveCriticalSection(&(This->crit))",
          "new_text": "TRACE(\"Application discarding %ld event(s).\\n\", len)",
          "old_line_content": "\t    LeaveCriticalSection(&(This->crit));",
          "new_line_content": "\t\tTRACE(\"Application discarding %ld event(s).\\n\", len);",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "TRACE",
          "new_api": "debugstr_guid",
          "old_text": "TRACE(\" return buffersize = %d\\n\",This->queue_len)",
          "new_text": "debugstr_guid(rguid)",
          "old_line_content": "\t\tTRACE(\" return buffersize = %d\\n\",This->queue_len);",
          "new_line_content": "\t  iface, debugstr_guid(rguid), pdiph);",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": "strcpy",
          "new_api": "memset",
          "old_text": "strcpy(ddoi.tszName, \"X-Axis\")",
          "new_text": "memset(&ddoi, 0, sizeof(ddoi))",
          "old_line_content": "\tstrcpy(ddoi.tszName, \"X-Axis\");",
          "new_line_content": "    memset(&ddoi, 0, sizeof(ddoi));",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "_dump_OBJECTINSTANCEA",
          "new_api": "FIELD_OFFSET",
          "old_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "new_text": "FIELD_OFFSET(DIDEVICEOBJECTINSTANCEA, dwFFMaxForce)",
          "old_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "new_line_content": "    ddoi.dwSize = FIELD_OFFSET(DIDEVICEOBJECTINSTANCEA, dwFFMaxForce);",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "_dump_OBJECTINSTANCEA",
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE)",
          "old_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "new_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE) | DIDFT_RELAXIS;",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "lpCallback",
          "new_api": "strcpy",
          "old_text": "lpCallback(&ddoi, lpvRef)",
          "new_text": "strcpy(ddoi.tszName, \"X-Axis\")",
          "old_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "new_line_content": "\tstrcpy(ddoi.tszName, \"X-Axis\");",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "_dump_OBJECTINSTANCEA",
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE)",
          "old_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "new_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE) | DIDFT_RELAXIS;",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "lpCallback",
          "new_api": "strcpy",
          "old_text": "lpCallback(&ddoi, lpvRef)",
          "new_text": "strcpy(ddoi.tszName, \"Y-Axis\")",
          "old_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "new_line_content": "\tstrcpy(ddoi.tszName, \"Y-Axis\");",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": "_dump_OBJECTINSTANCEA",
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_L_BUTTON_INSTANCE)",
          "new_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "old_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_L_BUTTON_INSTANCE) | DIDFT_PSHBUTTON;",
          "new_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "strcpy",
          "new_api": "lpCallback",
          "old_text": "strcpy(ddoi.tszName, \"Left-Button\")",
          "new_text": "lpCallback(&ddoi, lpvRef)",
          "old_line_content": "\tstrcpy(ddoi.tszName, \"Left-Button\");",
          "new_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "lpCallback",
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": "lpCallback(&ddoi, lpvRef)",
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_L_BUTTON_INSTANCE)",
          "old_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "new_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_L_BUTTON_INSTANCE) | DIDFT_PSHBUTTON;",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "lpCallback",
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": "lpCallback(&ddoi, lpvRef)",
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_R_BUTTON_INSTANCE)",
          "old_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "new_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_R_BUTTON_INSTANCE) | DIDFT_PSHBUTTON;",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1030,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,%p,%p,%08lx)\\n\", This, lpCallback, lpvRef, dwFlags)",
          "old_line_content": "    ",
          "new_line_content": "    TRACE(\"(this=%p,%p,%p,%08lx)\\n\", This, lpCallback, lpvRef, dwFlags);",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "TRACE_ON",
          "old_text": null,
          "new_text": "TRACE_ON(dinput)",
          "old_line_content": "    /* In a mouse, we have : two relative axis and three buttons */",
          "new_line_content": "    if (TRACE_ON(dinput)) {",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"  - flags = \")",
          "old_line_content": "    if ((dwFlags == DIDFT_ALL) ||",
          "new_line_content": "\tTRACE(\"  - flags = \");",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "_dump_EnumObjects_flags",
          "old_text": null,
          "new_text": "_dump_EnumObjects_flags(dwFlags)",
          "old_line_content": "\t(dwFlags & DIDFT_AXIS)) {",
          "new_line_content": "\t_dump_EnumObjects_flags(dwFlags);",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"\\n\")",
          "old_line_content": "\t/* X axis */",
          "new_line_content": "\tTRACE(\"\\n\");",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "_dump_OBJECTINSTANCEA",
          "old_text": null,
          "new_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "old_line_content": "\t",
          "new_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "lpCallback",
          "old_text": null,
          "new_text": "lpCallback(&ddoi, lpvRef)",
          "old_line_content": "\t/* Z axis */",
          "new_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_M_POSITION], 0x00,\n\t\t      hook->time, This->dinput->evsequence++)",
          "old_line_content": "    }",
          "new_line_content": "\t    GEN_EVENT(This->offset_array[WINE_MOUSE_M_POSITION], 0x00,",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "HIWORD",
          "old_text": null,
          "new_text": "HIWORD(hook->mouseData)",
          "old_line_content": "    ",
          "new_line_content": "\t    wdata = (short)HIWORD(hook->mouseData);",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Z_POSITION], wdata,\n\t\t      hook->time, This->dinput->evsequence++)",
          "old_line_content": "  end:",
          "new_line_content": "\t    GEN_EVENT(This->offset_array[WINE_MOUSE_Z_POSITION], wdata,",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": null,
          "new_api": "_dump_OBJECTINSTANCEA",
          "old_text": null,
          "new_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "old_line_content": "    }",
          "new_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "lpCallback",
          "old_text": null,
          "new_text": "lpCallback(&ddoi, lpvRef)",
          "old_line_content": "",
          "new_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(X: %ld - Y: %ld   L: %02x M: %02x R: %02x)\\n\",\n\t  This->m_state.lX, This->m_state.lY,\n\t  This->m_state.rgbButtons[0], This->m_state.rgbButtons[2], This->m_state.rgbButtons[1])",
          "old_line_content": "    } else {",
          "new_line_content": "    TRACE(\"(X: %ld - Y: %ld   L: %02x M: %02x R: %02x)\\n\",",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": null,
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_Z_AXIS_INSTANCE)",
          "old_line_content": "\t/* Left button */",
          "new_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_Z_AXIS_INSTANCE) | DIDFT_RELAXIS;",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(ddoi.tszName, \"Z-Axis\")",
          "old_line_content": "\tddoi.dwOfs = This->offset_array[WINE_MOUSE_L_POSITION];",
          "new_line_content": "\tstrcpy(ddoi.tszName, \"Z-Axis\");",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&(This->crit))",
          "old_line_content": "}",
          "new_line_content": "    LeaveCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "CallNextHookEx",
          "old_text": null,
          "new_text": "CallNextHookEx( This->hook, code, wparam, lparam )",
          "old_line_content": "    RECT rect;",
          "new_line_content": "\tret = CallNextHookEx( This->hook, code, wparam, lparam );",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(ddoi.tszName, \"Left-Button\")",
          "old_line_content": "\t",
          "new_line_content": "\tstrcpy(ddoi.tszName, \"Left-Button\");",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "_dump_OBJECTINSTANCEA",
          "old_text": null,
          "new_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "old_line_content": "\t/* Middle button */",
          "new_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "lpCallback",
          "old_text": null,
          "new_text": "lpCallback(&ddoi, lpvRef)",
          "old_line_content": "\tddoi.dwOfs = This->offset_array[WINE_MOUSE_M_POSITION];",
          "new_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(ddoi.tszName, \"Right-Button\")",
          "old_line_content": "    }",
          "new_line_content": "\tstrcpy(ddoi.tszName, \"Right-Button\");",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "_dump_OBJECTINSTANCEA",
          "old_text": null,
          "new_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "old_line_content": "    ",
          "new_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "lpCallback",
          "old_text": null,
          "new_text": "lpCallback(&ddoi, lpvRef)",
          "old_line_content": "    return DI_OK;",
          "new_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "GetWindowRect",
          "old_text": null,
          "new_text": "GetWindowRect(This->win, &rect)",
          "old_line_content": "}",
          "new_line_content": "    GetWindowRect(This->win, &rect);",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": null,
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": null,
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_M_BUTTON_INSTANCE)",
          "old_line_content": "{",
          "new_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_M_BUTTON_INSTANCE) | DIDFT_PSHBUTTON;",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(ddoi.tszName, \"Middle-Button\")",
          "old_line_content": "    SysMouseImpl *This = (SysMouseImpl *)iface;",
          "new_line_content": "\tstrcpy(ddoi.tszName, \"Middle-Button\");",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "_dump_OBJECTINSTANCEA",
          "old_text": null,
          "new_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "old_line_content": "    ",
          "new_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "lpCallback",
          "old_text": null,
          "new_text": "lpCallback(&ddoi, lpvRef)",
          "old_line_content": "    device_enumobjects_AtoWcb_data data;",
          "new_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": null,
          "new_api": "MapWindowPoints",
          "old_text": null,
          "new_text": "MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1)",
          "old_line_content": "    RECT  rect;",
          "new_line_content": "    MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "SysMouseAImpl_EnumObjects",
          "old_text": null,
          "new_text": "SysMouseAImpl_EnumObjects((LPDIRECTINPUTDEVICE8A) This, (LPDIENUMDEVICEOBJECTSCALLBACKA) DIEnumDevicesCallbackAtoW, (LPVOID) &data, dwFlags)",
          "old_line_content": "    SysMouseImpl *This = (SysMouseImpl *)iface;",
          "new_line_content": "    return SysMouseAImpl_EnumObjects((LPDIRECTINPUTDEVICE8A) This, (LPDIENUMDEVICEOBJECTSCALLBACKA) DIEnumDevicesCallbackAtoW, (LPVOID) &data, dwFlags);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p)\\n\",This)",
          "old_line_content": "    /* Init the mouse state */",
          "new_line_content": "    TRACE(\"(this=%p)\\n\",This);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,%p)\\n\", This, pdidi)",
          "old_line_content": "}",
          "new_line_content": "    TRACE(\"(this=%p,%p)\\n\", This, pdidi);",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": null,
          "new_api": "GetCursorPos",
          "old_text": null,
          "new_text": "GetCursorPos( &point )",
          "old_line_content": "    }",
          "new_line_content": "    GetCursorPos( &point );",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "WARN",
          "old_text": null,
          "new_text": "WARN(\" dinput3 not supporte yet...\\n\")",
          "old_line_content": "{",
          "new_line_content": "        WARN(\" dinput3 not supporte yet...\\n\");",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "fill_mouse_dideviceinstanceA",
          "old_text": null,
          "new_text": "fill_mouse_dideviceinstanceA(pdidi, This->dinput->dwVersion)",
          "old_line_content": "    if (pdidi->dwSize != sizeof(DIDEVICEINSTANCEW)) {",
          "new_line_content": "    fill_mouse_dideviceinstanceA(pdidi, This->dinput->dwVersion);",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "GetKeyState",
          "old_text": null,
          "new_text": "GetKeyState(VK_RBUTTON)",
          "old_line_content": "    This->win_centerX = (rect.right  - rect.left) / 2;",
          "new_line_content": "    This->m_state.rgbButtons[1] = GetKeyState(VK_RBUTTON) & 0x80;",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "GetKeyState",
          "old_text": null,
          "new_text": "GetKeyState(VK_MBUTTON)",
          "old_line_content": "    This->win_centerY = (rect.bottom - rect.top ) / 2;",
          "new_line_content": "    This->m_state.rgbButtons[2] = GetKeyState(VK_MBUTTON) & 0x80;",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,%p)\\n\", This, pdidi)",
          "old_line_content": "}",
          "new_line_content": "    TRACE(\"(this=%p,%p)\\n\", This, pdidi);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "WARN",
          "old_text": null,
          "new_text": "WARN(\" dinput3 not supporte yet...\\n\")",
          "old_line_content": "static const IDirectInputDevice8AVtbl SysMouseAvt =",
          "new_line_content": "        WARN(\" dinput3 not supporte yet...\\n\");",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "ShowCursor",
          "old_text": null,
          "new_text": "ShowCursor(FALSE)",
          "old_line_content": "      This->mapped_center.x = This->win_centerX;",
          "new_line_content": "      ShowCursor(FALSE); /* hide cursor */",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": null,
          "new_api": "SetWindowsHookExA",
          "old_text": null,
          "new_text": "SetWindowsHookExA( WH_MOUSE_LL, dinput_mouse_hook, DINPUT_instance, 0 )",
          "old_line_content": "      This->mapped_center.y = This->win_centerY;",
          "new_line_content": "    This->hook = SetWindowsHookExA( WH_MOUSE_LL, dinput_mouse_hook, DINPUT_instance, 0 );",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "fill_mouse_dideviceinstanceW",
          "old_text": null,
          "new_text": "fill_mouse_dideviceinstanceW(pdidi, This->dinput->dwVersion)",
          "old_line_content": "    SysMouseAImpl_Release,",
          "new_line_content": "    fill_mouse_dideviceinstanceW(pdidi, This->dinput->dwVersion);",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "MapWindowPoints",
          "old_text": null,
          "new_text": "MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1)",
          "old_line_content": "    return DI_OK;",
          "new_line_content": "      MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y)",
          "old_line_content": "}",
          "new_line_content": "      TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "SetCursorPos",
          "old_text": null,
          "new_text": "SetCursorPos( This->mapped_center.x, This->mapped_center.y )",
          "old_line_content": "",
          "new_line_content": "      SetCursorPos( This->mapped_center.x, This->mapped_center.y );",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p)\\n\",This)",
          "old_line_content": "      ",
          "new_line_content": "    TRACE(\"(this=%p)\\n\",This);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "UnhookWindowsHookEx",
          "old_text": null,
          "new_text": "UnhookWindowsHookEx( This->hook )",
          "old_line_content": "    else",
          "new_line_content": "      UnhookWindowsHookEx( This->hook );",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "ShowCursor",
          "old_text": null,
          "new_text": "ShowCursor(TRUE)",
          "old_line_content": "    This->acquired = 0;",
          "new_line_content": "\tShowCursor(TRUE); /* show cursor */",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "ERR",
          "old_text": null,
          "new_text": "ERR(\"this(%p) != current_lock(%p)\\n\", This, current_lock)",
          "old_line_content": "\t",
          "new_line_content": "      ERR(\"this(%p) != current_lock(%p)\\n\", This, current_lock);",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\" warping mouse back to (%ld , %ld)\\n\", This->org_coords.x, This->org_coords.y)",
          "old_line_content": "",
          "new_line_content": "      TRACE(\" warping mouse back to (%ld , %ld)\\n\", This->org_coords.x, This->org_coords.y);",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": null,
          "new_api": "SetCursorPos",
          "old_text": null,
          "new_text": "SetCursorPos(This->org_coords.x, This->org_coords.y)",
          "old_line_content": "",
          "new_line_content": "      SetCursorPos(This->org_coords.x, This->org_coords.y);",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": null,
          "new_api": "SysMouseAImpl_Acquire",
          "old_text": null,
          "new_text": "SysMouseAImpl_Acquire(iface)",
          "old_line_content": "/******************************************************************************",
          "new_line_content": "\t                 retValue=SysMouseAImpl_Acquire(iface);\t",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "EnterCriticalSection",
          "old_text": null,
          "new_text": "EnterCriticalSection(&(This->crit))",
          "old_line_content": "\t// this fix windows bugs when ",
          "new_line_content": "    EnterCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,0x%08lx,%p):\\n\", This, len, ptr)",
          "old_line_content": "\t// some program calling on mouse poll",
          "new_line_content": "    TRACE(\"(this=%p,0x%08lx,%p):\\n\", This, len, ptr);",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(X: %ld - Y: %ld - Z: %ld  L: %02x M: %02x R: %02x)\\n\",\n\t  This->m_state.lX, This->m_state.lY, This->m_state.lZ,\n\t  This->m_state.rgbButtons[0], This->m_state.rgbButtons[2], This->m_state.rgbButtons[1])",
          "old_line_content": "\tif (poll_mouse==1) poll_mouse=0;\t\t ",
          "new_line_content": "    TRACE(\"(X: %ld - Y: %ld - Z: %ld  L: %02x M: %02x R: %02x)\\n\",",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "fill_DataFormat",
          "old_text": null,
          "new_text": "fill_DataFormat(ptr, &(This->m_state), This->wine_df)",
          "old_line_content": "\tThis->m_state.lZ = 0;",
          "new_line_content": "    fill_DataFormat(ptr, &(This->m_state), This->wine_df);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "dinput_window_check",
          "old_text": null,
          "new_text": "dinput_window_check(This)",
          "old_line_content": "\tThis->need_warp = WARP_STARTED;",
          "new_line_content": "\tdinput_window_check(This);",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y)",
          "old_line_content": "#endif",
          "new_line_content": "\tTRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "SetCursorPos",
          "old_text": null,
          "new_text": "SetCursorPos( This->mapped_center.x, This->mapped_center.y )",
          "old_line_content": "    ",
          "new_line_content": "\tSetCursorPos( This->mapped_center.x, This->mapped_center.y );",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&(This->crit))",
          "old_line_content": "\t\t\t\t\t\t  LPDIDEVICEOBJECTDATA dod,",
          "new_line_content": "    LeaveCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(%p)->(dods=%ld,dod=%p,entries=%p (%ld)%s,fl=0x%08lx%s)\\n\",This,dodsize,dod,\n\t  entries, *entries,*entries == INFINITE ? \" (INFINITE)\" : \"\",\n\t  flags, (flags & DIGDD_PEEK) ? \" (DIGDD_PEEK)\": \"\" )",
          "old_line_content": "\t// this is only need if some apps calling on getdevice data direcly",
          "new_line_content": "    TRACE(\"(%p)->(dods=%ld,dod=%p,entries=%p (%ld)%s,fl=0x%08lx%s)\\n\",This,dodsize,dod,",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "WARN",
          "old_text": null,
          "new_text": "WARN(\" application tries to get data from an unacquired device !\\n\")",
          "old_line_content": "    ",
          "new_line_content": "\tWARN(\" application tries to get data from an unacquired device !\\n\");",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "SysMouseAImpl_Acquire",
          "old_text": null,
          "new_text": "SysMouseAImpl_Acquire(iface)",
          "old_line_content": "\t*entries = len;",
          "new_line_content": "\t SysMouseAImpl_Acquire(iface);",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "EnterCriticalSection",
          "old_text": null,
          "new_text": "EnterCriticalSection(&(This->crit))",
          "old_line_content": "\t    if (len)",
          "new_line_content": "    EnterCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "ERR",
          "old_text": null,
          "new_text": "ERR(\"Wrong structure size !\\n\")",
          "old_line_content": "\twhile (len) {",
          "new_line_content": "\t    ERR(\"Wrong structure size !\\n\");",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&(This->crit))",
          "old_line_content": "\t    /* Copy the buffered data into the application queue */",
          "new_line_content": "\t    LeaveCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"Application retrieving %ld event(s):\\n\", len)",
          "old_line_content": "\t\t  (This->data_queue)->dwSequence,",
          "new_line_content": "\t    TRACE(\"Application retrieving %ld event(s):\\n\", len);",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\" - queuing Offs:%2ld Data:%5ld TS:%8ld Seq:%8ld at address %p from queue tail %4d\\n\",\n\t\t  (This->data_queue)->dwOfs,\n\t\t  (This->data_queue)->dwData,\n\t\t  (This->data_queue)->dwTimeStamp,\n\t\t  (This->data_queue)->dwSequence,\n\t\t  (char *)dod + *entries * dodsize,\n\t\t  nqtail)",
          "old_line_content": "\t    if (nqtail >= This->queue_len)",
          "new_line_content": "\t    TRACE(\" - queuing Offs:%2ld Data:%5ld TS:%8ld Seq:%8ld at address %p from queue tail %4d\\n\",",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy((char *)dod + *entries * dodsize, This->data_queue + nqtail, dodsize)",
          "old_line_content": "\tThis->queue_tail = nqtail;",
          "new_line_content": "\t    memcpy((char *)dod + *entries * dodsize, This->data_queue + nqtail, dodsize);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&(This->crit))",
          "old_line_content": "\t",
          "new_line_content": "    LeaveCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "dinput_window_check",
          "old_text": null,
          "new_text": "dinput_window_check(This)",
          "old_line_content": "\tThis->need_warp = WARP_STARTED;",
          "new_line_content": "\tdinput_window_check(This);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y)",
          "old_line_content": "#endif",
          "new_line_content": "\tTRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y);",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "SetCursorPos",
          "old_text": null,
          "new_text": "SetCursorPos( This->mapped_center.x, This->mapped_center.y )",
          "old_line_content": "    return DI_OK;",
          "new_line_content": "\tSetCursorPos( This->mapped_center.x, This->mapped_center.y );",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "debugstr_guid",
          "old_text": null,
          "new_text": "debugstr_guid(rguid)",
          "old_line_content": "\t\tThis->queue_head = 0;",
          "new_line_content": "    TRACE(\"(this=%p,%s,%p)\\n\",This,debugstr_guid(rguid),ph);",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "HIWORD",
          "old_text": null,
          "new_text": "HIWORD(rguid)",
          "old_line_content": "\t\tThis->queue_len  = pd->dwData;",
          "new_line_content": "    if (!HIWORD(rguid)) {",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "LOWORD",
          "old_text": null,
          "new_text": "LOWORD(rguid)",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\tswitch (LOWORD(rguid)) {",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"buffersize = %ld\\n\",pd->dwData)",
          "old_line_content": "\t\tThis->absolute = !(pd->dwData);",
          "new_line_content": "\t\tTRACE(\"buffersize = %ld\\n\",pd->dwData);",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "GetProcessHeap",
          "old_text": null,
          "new_text": "GetProcessHeap()",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\tThis->data_queue = HeapAlloc(GetProcessHeap(),0, pd->dwData * sizeof(DIDEVICEOBJECTDATA));",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"Using %s coordinates mode now\\n\", This->absolute ? \"absolute\" : \"relative\")",
          "old_line_content": "}",
          "new_line_content": "\t\tTRACE(\"Using %s coordinates mode now\\n\", This->absolute ? \"absolute\" : \"relative\");",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "debugstr_guid",
          "old_text": null,
          "new_text": "debugstr_guid(rguid)",
          "old_line_content": "  */",
          "new_line_content": "\t      FIXME(\"Unknown type %p (%s)\\n\",rguid,debugstr_guid(rguid));",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,%s,%p)\\n\",\n\t  iface, debugstr_guid(rguid), pdiph)",
          "old_line_content": "\t\t",
          "new_line_content": "    TRACE(\"(this=%p,%s,%p)\\n\",",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "TRACE_ON",
          "old_text": null,
          "new_text": "TRACE_ON(dinput)",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "    if (TRACE_ON(dinput))",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": null,
          "new_api": "_dump_DIPROPHEADER",
          "old_text": null,
          "new_text": "_dump_DIPROPHEADER(pdiph)",
          "old_line_content": "\t    }",
          "new_line_content": "\t_dump_DIPROPHEADER(pdiph);",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "HIWORD",
          "old_text": null,
          "new_text": "HIWORD(rguid)",
          "old_line_content": "\t    case (DWORD) DIPROP_GRANULARITY: {",
          "new_line_content": "    if (!HIWORD(rguid)) {",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "LOWORD",
          "old_text": null,
          "new_text": "LOWORD(rguid)",
          "old_line_content": "\t\tLPDIPROPDWORD pr = (LPDIPROPDWORD) pdiph;",
          "new_line_content": "\tswitch (LOWORD(rguid)) {",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\" return buffersize = %d\\n\",This->queue_len)",
          "old_line_content": "\t\t",
          "new_line_content": "\t\tTRACE(\" return buffersize = %d\\n\",This->queue_len);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "CallNextHookEx",
          "old_text": null,
          "new_text": "CallNextHookEx( This->hook, code, wparam, lparam )",
          "old_line_content": "",
          "new_line_content": "    if (code != HC_ACTION) return CallNextHookEx( This->hook, code, wparam, lparam );",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "EnterCriticalSection",
          "old_text": null,
          "new_text": "EnterCriticalSection(&(This->crit))",
          "old_line_content": "    dwCoop = This->dwCoopLevel;",
          "new_line_content": "    EnterCriticalSection(&(This->crit));",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": null,
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE)",
          "old_line_content": "\t    }",
          "new_line_content": "\t\t    ((pdiph->dwObj == (DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE) | DIDFT_RELAXIS)) ||",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "DIDFT_MAKEINSTANCE",
          "old_text": null,
          "new_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE)",
          "old_line_content": "\t      ",
          "new_line_content": "\t\t     (pdiph->dwObj == (DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE) | DIDFT_RELAXIS)))) {",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "GetCurrentTime",
          "old_text": null,
          "new_text": "GetCurrentTime()",
          "old_line_content": "\tgoto end;",
          "new_line_content": "    if (((GetCurrentTime() - last_event) < 10)",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "GetCurrentTime",
          "old_text": null,
          "new_text": "GetCurrentTime()",
          "old_line_content": "    /* Mouse moved -> send event if asked */",
          "new_line_content": "    else last_event = GetCurrentTime();",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "debugstr_guid",
          "old_text": null,
          "new_text": "debugstr_guid(rguid)",
          "old_line_content": "/******************************************************************************",
          "new_line_content": "\t      FIXME(\"Unknown type %p (%s)\\n\",rguid,debugstr_guid(rguid));",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "SetEvent",
          "old_text": null,
          "new_text": "SetEvent(This->hEvent)",
          "old_line_content": "\t    if ((This->need_warp == WARP_STARTED) &&",
          "new_line_content": "        SetEvent(This->hEvent);",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x, hook->time, 0)",
          "old_line_content": "\t    }",
          "new_line_content": "\t\tGEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x, hook->time, 0);",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y, hook->time, 0)",
          "old_line_content": "\t    /* Relative mouse input with absolute mouse event : the real fun starts here... */",
          "new_line_content": "\t\tGEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y, hook->time, 0);",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,%p)\\n\",This,hnd)",
          "old_line_content": "static HRESULT WINAPI SysMouseAImpl_GetCapabilities(",
          "new_line_content": "    TRACE(\"(this=%p,%p)\\n\",This,hnd);",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->prevX,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "old_line_content": "\t\t\t      hook->time, (This->dinput->evsequence)++);",
          "new_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->prevX,",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->prevY,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "old_line_content": "\t\t",
          "new_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->prevY,",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": null,
          "new_api": "TRACE",
          "old_text": null,
          "new_text": "TRACE(\"(this=%p,%p)\\n\",This,lpDIDevCaps)",
          "old_line_content": "\tdevcaps.dwDevType = DI8DEVTYPE_MOUSE | (DI8DEVTYPEMOUSE_TRADITIONAL << 8);",
          "new_line_content": "    TRACE(\"(this=%p,%p)\\n\",This,lpDIDevCaps);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "WARN",
          "old_text": null,
          "new_text": "WARN(\"invalid parameter\\n\")",
          "old_line_content": "    devcaps.dwAxes = 3;",
          "new_line_content": "        WARN(\"invalid parameter\\n\");",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->mapped_center.x,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "old_line_content": "\t    }",
          "new_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->mapped_center.x,",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "GEN_EVENT",
          "old_text": null,
          "new_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->mapped_center.y,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "old_line_content": "\tif (This->absolute) {",
          "new_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->mapped_center.y,",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(lpDIDevCaps, &devcaps, lpDIDevCaps->dwSize)",
          "old_line_content": "\tLPDIRECTINPUTDEVICE8A iface,",
          "new_line_content": "    memcpy(lpDIDevCaps, &devcaps, lpDIDevCaps->dwSize);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"\\n\")",
          "new_text": null,
          "old_line_content": "\tTRACE(\"\\n\");",
          "new_line_content": "\tLPVOID lpvRef,",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&ddoi, 0, sizeof(ddoi))",
          "new_text": null,
          "old_line_content": "    memset(&ddoi, 0, sizeof(ddoi));",
          "new_line_content": "    DIDEVICEOBJECTINSTANCEA ddoi;",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "FIELD_OFFSET",
          "new_api": null,
          "old_text": "FIELD_OFFSET(DIDEVICEOBJECTINSTANCEA, dwFFMaxForce)",
          "new_text": null,
          "old_line_content": "    ddoi.dwSize = FIELD_OFFSET(DIDEVICEOBJECTINSTANCEA, dwFFMaxForce);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE)",
          "new_text": null,
          "old_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE) | DIDFT_RELAXIS;",
          "new_line_content": "    /* Only the fields till dwFFMaxForce are relevant */",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "lpCallback",
          "new_api": null,
          "old_text": "lpCallback(&ddoi, lpvRef)",
          "new_text": null,
          "old_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE)",
          "new_text": null,
          "old_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE) | DIDFT_RELAXIS;",
          "new_line_content": "\tddoi.guidType = GUID_XAxis;",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(ddoi.tszName, \"Y-Axis\")",
          "new_text": null,
          "old_line_content": "\tstrcpy(ddoi.tszName, \"Y-Axis\");",
          "new_line_content": "\tddoi.dwOfs = This->offset_array[WINE_MOUSE_X_POSITION];",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Z_POSITION], wdata,\n\t\t      hook->time, This->dinput->evsequence++)",
          "new_text": null,
          "old_line_content": "\t    GEN_EVENT(This->offset_array[WINE_MOUSE_Z_POSITION], wdata,",
          "new_line_content": "\t\t      hook->time, This->dinput->evsequence++);",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(X: %ld - Y: %ld   L: %02x M: %02x R: %02x)\\n\",\n\t  This->m_state.lX, This->m_state.lY,\n\t  This->m_state.rgbButtons[0], This->m_state.rgbButtons[2], This->m_state.rgbButtons[1])",
          "new_text": null,
          "old_line_content": "    TRACE(\"(X: %ld - Y: %ld   L: %02x M: %02x R: %02x)\\n\",",
          "new_line_content": "\t    This->m_state.rgbButtons[2] = 0x00;",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_Z_AXIS_INSTANCE)",
          "new_text": null,
          "old_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_Z_AXIS_INSTANCE) | DIDFT_RELAXIS;",
          "new_line_content": "\tddoi.guidType = GUID_YAxis;",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(ddoi.tszName, \"Z-Axis\")",
          "new_text": null,
          "old_line_content": "\tstrcpy(ddoi.tszName, \"Z-Axis\");",
          "new_line_content": "\tddoi.dwOfs = This->offset_array[WINE_MOUSE_Y_POSITION];",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&(This->crit))",
          "new_text": null,
          "old_line_content": "    LeaveCriticalSection(&(This->crit));",
          "new_line_content": "\t\t      hook->time, This->dinput->evsequence++);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "CallNextHookEx",
          "new_api": null,
          "old_text": "CallNextHookEx( This->hook, code, wparam, lparam )",
          "new_text": null,
          "old_line_content": "\tret = CallNextHookEx( This->hook, code, wparam, lparam );",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "_dump_OBJECTINSTANCEA",
          "new_api": null,
          "old_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "new_text": null,
          "old_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "lpCallback",
          "new_api": null,
          "old_text": "lpCallback(&ddoi, lpvRef)",
          "new_text": null,
          "old_line_content": "\tif (lpCallback(&ddoi, lpvRef) != DIENUM_CONTINUE) return DI_OK;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_R_BUTTON_INSTANCE)",
          "new_text": null,
          "old_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_R_BUTTON_INSTANCE) | DIDFT_PSHBUTTON;",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(ddoi.tszName, \"Right-Button\")",
          "new_text": null,
          "old_line_content": "\tstrcpy(ddoi.tszName, \"Right-Button\");",
          "new_line_content": "\t/* Left button */",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "_dump_OBJECTINSTANCEA",
          "new_api": null,
          "old_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "new_text": null,
          "old_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "new_line_content": "\tddoi.dwOfs = This->offset_array[WINE_MOUSE_L_POSITION];",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "GetWindowRect",
          "new_api": null,
          "old_text": "GetWindowRect(This->win, &rect)",
          "new_text": null,
          "old_line_content": "    GetWindowRect(This->win, &rect);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_M_BUTTON_INSTANCE)",
          "new_text": null,
          "old_line_content": "\tddoi.dwType = DIDFT_MAKEINSTANCE(WINE_MOUSE_M_BUTTON_INSTANCE) | DIDFT_PSHBUTTON;",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(ddoi.tszName, \"Middle-Button\")",
          "new_text": null,
          "old_line_content": "\tstrcpy(ddoi.tszName, \"Middle-Button\");",
          "new_line_content": "\t/* Right button */",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "_dump_OBJECTINSTANCEA",
          "new_api": null,
          "old_text": "_dump_OBJECTINSTANCEA(&ddoi)",
          "new_text": null,
          "old_line_content": "\t_dump_OBJECTINSTANCEA(&ddoi);",
          "new_line_content": "\tddoi.dwOfs = This->offset_array[WINE_MOUSE_R_POSITION];",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "MapWindowPoints",
          "new_api": null,
          "old_text": "MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1)",
          "new_text": null,
          "old_line_content": "    MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1);",
          "new_line_content": "    /* make sure the window hasn't moved */",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "SysMouseAImpl_EnumObjects",
          "new_api": null,
          "old_text": "SysMouseAImpl_EnumObjects((LPDIRECTINPUTDEVICE8A) This, (LPDIENUMDEVICEOBJECTSCALLBACKA) DIEnumDevicesCallbackAtoW, (LPVOID) &data, dwFlags)",
          "new_text": null,
          "old_line_content": "    return SysMouseAImpl_EnumObjects((LPDIRECTINPUTDEVICE8A) This, (LPDIENUMDEVICEOBJECTSCALLBACKA) DIEnumDevicesCallbackAtoW, (LPVOID) &data, dwFlags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p)\\n\",This)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p)\\n\",This);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,%p)\\n\", This, pdidi)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%p)\\n\", This, pdidi);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "GetCursorPos",
          "new_api": null,
          "old_text": "GetCursorPos( &point )",
          "new_text": null,
          "old_line_content": "    GetCursorPos( &point );",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "WARN",
          "new_api": null,
          "old_text": "WARN(\" dinput3 not supporte yet...\\n\")",
          "new_text": null,
          "old_line_content": "        WARN(\" dinput3 not supporte yet...\\n\");",
          "new_line_content": "  *     GetDeviceInfo : get information about a device's identity",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "fill_mouse_dideviceinstanceA",
          "new_api": null,
          "old_text": "fill_mouse_dideviceinstanceA(pdidi, This->dinput->dwVersion)",
          "new_text": null,
          "old_line_content": "    fill_mouse_dideviceinstanceA(pdidi, This->dinput->dwVersion);",
          "new_line_content": "\tLPDIDEVICEINSTANCEA pdidi)",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "GetKeyState",
          "new_api": null,
          "old_text": "GetKeyState(VK_LBUTTON)",
          "new_text": null,
          "old_line_content": "    This->m_state.rgbButtons[0] = GetKeyState(VK_LBUTTON) & 0x80;",
          "new_line_content": "      This->m_state.lX = point.x;",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "GetKeyState",
          "new_api": null,
          "old_text": "GetKeyState(VK_RBUTTON)",
          "new_text": null,
          "old_line_content": "    This->m_state.rgbButtons[1] = GetKeyState(VK_RBUTTON) & 0x80;",
          "new_line_content": "      This->m_state.lY = point.y;",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "GetKeyState",
          "new_api": null,
          "old_text": "GetKeyState(VK_MBUTTON)",
          "new_text": null,
          "old_line_content": "    This->m_state.rgbButtons[2] = GetKeyState(VK_MBUTTON) & 0x80;",
          "new_line_content": "      This->prevX = point.x;",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,%p)\\n\", This, pdidi)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%p)\\n\", This, pdidi);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "WARN",
          "new_api": null,
          "old_text": "WARN(\" dinput3 not supporte yet...\\n\")",
          "new_text": null,
          "old_line_content": "        WARN(\" dinput3 not supporte yet...\\n\");",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "ShowCursor",
          "new_api": null,
          "old_text": "ShowCursor(FALSE)",
          "new_text": null,
          "old_line_content": "      ShowCursor(FALSE); /* hide cursor */",
          "new_line_content": "      This->m_state.lY = 0;",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "SetWindowsHookExA",
          "new_api": null,
          "old_text": "SetWindowsHookExA( WH_MOUSE_LL, dinput_mouse_hook, DINPUT_instance, 0 )",
          "new_text": null,
          "old_line_content": "    This->hook = SetWindowsHookExA( WH_MOUSE_LL, dinput_mouse_hook, DINPUT_instance, 0 );",
          "new_line_content": "      This->org_coords = point;",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "fill_mouse_dideviceinstanceW",
          "new_api": null,
          "old_text": "fill_mouse_dideviceinstanceW(pdidi, This->dinput->dwVersion)",
          "new_text": null,
          "old_line_content": "    fill_mouse_dideviceinstanceW(pdidi, This->dinput->dwVersion);",
          "new_line_content": "static HRESULT WINAPI SysMouseWImpl_GetDeviceInfo(LPDIRECTINPUTDEVICE8W iface, LPDIDEVICEINSTANCEW pdidi)",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "MapWindowPoints",
          "new_api": null,
          "old_text": "MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1)",
          "new_text": null,
          "old_line_content": "      MapWindowPoints(This->win, HWND_DESKTOP, &This->mapped_center, 1);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y)",
          "new_text": null,
          "old_line_content": "      TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y);",
          "new_line_content": "    /* Get the window dimension and find the center */",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p)\\n\",This)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p)\\n\",This);",
          "new_line_content": "    return DI_OK;",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "UnhookWindowsHookEx",
          "new_api": null,
          "old_text": "UnhookWindowsHookEx( This->hook )",
          "new_text": null,
          "old_line_content": "      UnhookWindowsHookEx( This->hook );",
          "new_line_content": "    SysMouseImpl *This = (SysMouseImpl *)iface;",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "ShowCursor",
          "new_api": null,
          "old_text": "ShowCursor(TRUE)",
          "new_text": null,
          "old_line_content": "\tShowCursor(TRUE); /* show cursor */",
          "new_line_content": "    if (0 == This->acquired) {",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "ERR",
          "new_api": null,
          "old_text": "ERR(\"this(%p) != current_lock(%p)\\n\", This, current_lock)",
          "new_text": null,
          "old_line_content": "      ERR(\"this(%p) != current_lock(%p)\\n\", This, current_lock);",
          "new_line_content": "      This->hook = 0;",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\" warping mouse back to (%ld , %ld)\\n\", This->org_coords.x, This->org_coords.y)",
          "new_text": null,
          "old_line_content": "      TRACE(\" warping mouse back to (%ld , %ld)\\n\", This->org_coords.x, This->org_coords.y);",
          "new_line_content": "    if (current_lock == (IDirectInputDevice8A*) This)",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "SetCursorPos",
          "new_api": null,
          "old_text": "SetCursorPos(This->org_coords.x, This->org_coords.y)",
          "new_text": null,
          "old_line_content": "      SetCursorPos(This->org_coords.x, This->org_coords.y);",
          "new_line_content": "      current_lock = NULL;",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "SysMouseAImpl_Acquire",
          "new_api": null,
          "old_text": "SysMouseAImpl_Acquire(iface)",
          "new_text": null,
          "old_line_content": "\t                 retValue=SysMouseAImpl_Acquire(iface);\t",
          "new_line_content": "// if you call poll then to getdevicestate",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&(This->crit))",
          "new_text": null,
          "old_line_content": "    EnterCriticalSection(&(This->crit));",
          "new_line_content": "  *   For the moment, only the \"standard\" return structure (DIMOUSESTATE) is",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,0x%08lx,%p):\\n\", This, len, ptr)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,0x%08lx,%p):\\n\", This, len, ptr);",
          "new_line_content": "  *   supported.",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(X: %ld - Y: %ld - Z: %ld  L: %02x M: %02x R: %02x)\\n\",\n\t  This->m_state.lX, This->m_state.lY, This->m_state.lZ,\n\t  This->m_state.rgbButtons[0], This->m_state.rgbButtons[2], This->m_state.rgbButtons[1])",
          "new_text": null,
          "old_line_content": "    TRACE(\"(X: %ld - Y: %ld - Z: %ld  L: %02x M: %02x R: %02x)\\n\",",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "fill_DataFormat",
          "new_api": null,
          "old_text": "fill_DataFormat(ptr, &(This->m_state), This->wine_df)",
          "new_text": null,
          "old_line_content": "    fill_DataFormat(ptr, &(This->m_state), This->wine_df);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "dinput_window_check",
          "new_api": null,
          "old_text": "dinput_window_check(This)",
          "new_text": null,
          "old_line_content": "\tdinput_window_check(This);",
          "new_line_content": "    if (This->absolute == 0) {",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y)",
          "new_text": null,
          "old_line_content": "\tTRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y);",
          "new_line_content": "\tThis->m_state.lX = 0;",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "SetCursorPos",
          "new_api": null,
          "old_text": "SetCursorPos( This->mapped_center.x, This->mapped_center.y )",
          "new_text": null,
          "old_line_content": "\tSetCursorPos( This->mapped_center.x, This->mapped_center.y );",
          "new_line_content": "\tThis->m_state.lZ = 0;",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&(This->crit))",
          "new_text": null,
          "old_line_content": "    LeaveCriticalSection(&(This->crit));",
          "new_line_content": "           mouse_set++;",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(%p)->(dods=%ld,dod=%p,entries=%p (%ld)%s,fl=0x%08lx%s)\\n\",This,dodsize,dod,\n\t  entries, *entries,*entries == INFINITE ? \" (INFINITE)\" : \"\",\n\t  flags, (flags & DIGDD_PEEK) ? \" (DIGDD_PEEK)\": \"\" )",
          "new_text": null,
          "old_line_content": "    TRACE(\"(%p)->(dods=%ld,dod=%p,entries=%p (%ld)%s,fl=0x%08lx%s)\\n\",This,dodsize,dod,",
          "new_line_content": "static HRESULT WINAPI SysMouseAImpl_GetDeviceData(LPDIRECTINPUTDEVICE8A iface,",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "WARN",
          "new_api": null,
          "old_text": "WARN(\" application tries to get data from an unacquired device !\\n\")",
          "new_text": null,
          "old_line_content": "\tWARN(\" application tries to get data from an unacquired device !\\n\");",
          "new_line_content": ") {",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "SysMouseAImpl_Acquire",
          "new_api": null,
          "old_text": "SysMouseAImpl_Acquire(iface)",
          "new_text": null,
          "old_line_content": "\t SysMouseAImpl_Acquire(iface);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&(This->crit))",
          "new_text": null,
          "old_line_content": "    EnterCriticalSection(&(This->crit));",
          "new_line_content": "\t//return DIERR_NOTACQUIRED;",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"Application discarding %ld event(s).\\n\", len)",
          "new_text": null,
          "old_line_content": "\t\tTRACE(\"Application discarding %ld event(s).\\n\", len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"Telling application that %ld event(s) are in the queue.\\n\", len)",
          "new_text": null,
          "old_line_content": "\t    TRACE(\"Telling application that %ld event(s) are in the queue.\\n\", len);",
          "new_line_content": "    if (dod == NULL) {",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "ERR",
          "new_api": null,
          "old_text": "ERR(\"Wrong structure size !\\n\")",
          "new_text": null,
          "old_line_content": "\t    ERR(\"Wrong structure size !\\n\");",
          "new_line_content": "\t    if (len)",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\" - queuing Offs:%2ld Data:%5ld TS:%8ld Seq:%8ld at address %p from queue tail %4d\\n\",\n\t\t  (This->data_queue)->dwOfs,\n\t\t  (This->data_queue)->dwData,\n\t\t  (This->data_queue)->dwTimeStamp,\n\t\t  (This->data_queue)->dwSequence,\n\t\t  (char *)dod + *entries * dodsize,\n\t\t  nqtail)",
          "new_text": null,
          "old_line_content": "\t    TRACE(\" - queuing Offs:%2ld Data:%5ld TS:%8ld Seq:%8ld at address %p from queue tail %4d\\n\",",
          "new_line_content": "\t    return DIERR_INVALIDPARAM;",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy((char *)dod + *entries * dodsize, This->data_queue + nqtail, dodsize)",
          "new_text": null,
          "old_line_content": "\t    memcpy((char *)dod + *entries * dodsize, This->data_queue + nqtail, dodsize);",
          "new_line_content": "\tnqtail = This->queue_tail;",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&(This->crit))",
          "new_text": null,
          "old_line_content": "    LeaveCriticalSection(&(This->crit));",
          "new_line_content": "\t    nqtail++;",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "dinput_window_check",
          "new_api": null,
          "old_text": "dinput_window_check(This)",
          "new_text": null,
          "old_line_content": "\tdinput_window_check(This);",
          "new_line_content": "\t    len--;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y)",
          "new_text": null,
          "old_line_content": "\tTRACE(\"Warping mouse to %ld - %ld\\n\", This->mapped_center.x, This->mapped_center.y);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "SetCursorPos",
          "new_api": null,
          "old_text": "SetCursorPos( This->mapped_center.x, This->mapped_center.y )",
          "new_text": null,
          "old_line_content": "\tSetCursorPos( This->mapped_center.x, This->mapped_center.y );",
          "new_line_content": "    if (!(flags & DIGDD_PEEK))",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": "debugstr_guid",
          "new_api": null,
          "old_text": "debugstr_guid(rguid)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%s,%p)\\n\",This,debugstr_guid(rguid),ph);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(rguid)",
          "new_text": null,
          "old_line_content": "    if (!HIWORD(rguid)) {",
          "new_line_content": "  *     SetProperty : change input device properties",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "LOWORD",
          "new_api": null,
          "old_text": "LOWORD(rguid)",
          "new_text": null,
          "old_line_content": "\tswitch (LOWORD(rguid)) {",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"buffersize = %ld\\n\",pd->dwData)",
          "new_text": null,
          "old_line_content": "\t\tTRACE(\"buffersize = %ld\\n\",pd->dwData);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "GetProcessHeap",
          "new_api": null,
          "old_text": "GetProcessHeap()",
          "new_text": null,
          "old_line_content": "\t\tThis->data_queue = HeapAlloc(GetProcessHeap(),0, pd->dwData * sizeof(DIDEVICEOBJECTDATA));",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"Using %s coordinates mode now\\n\", This->absolute ? \"absolute\" : \"relative\")",
          "new_text": null,
          "old_line_content": "\t\tTRACE(\"Using %s coordinates mode now\\n\", This->absolute ? \"absolute\" : \"relative\");",
          "new_line_content": "\t\t",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "debugstr_guid",
          "new_api": null,
          "old_text": "debugstr_guid(rguid)",
          "new_text": null,
          "old_line_content": "\t      FIXME(\"Unknown type %p (%s)\\n\",rguid,debugstr_guid(rguid));",
          "new_line_content": "\t\tThis->queue_len  = pd->dwData;",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,%s,%p)\\n\",\n\t  iface, debugstr_guid(rguid), pdiph)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%s,%p)\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "debugstr_guid",
          "new_api": null,
          "old_text": "debugstr_guid(rguid)",
          "new_text": null,
          "old_line_content": "\t  iface, debugstr_guid(rguid), pdiph);",
          "new_line_content": "/******************************************************************************",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": "TRACE_ON",
          "new_api": null,
          "old_text": "TRACE_ON(dinput)",
          "new_text": null,
          "old_line_content": "    if (TRACE_ON(dinput))",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "_dump_DIPROPHEADER",
          "new_api": null,
          "old_text": "_dump_DIPROPHEADER(pdiph)",
          "new_text": null,
          "old_line_content": "\t_dump_DIPROPHEADER(pdiph);",
          "new_line_content": "static HRESULT WINAPI SysMouseAImpl_GetProperty(LPDIRECTINPUTDEVICE8A iface,",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(rguid)",
          "new_text": null,
          "old_line_content": "    if (!HIWORD(rguid)) {",
          "new_line_content": "\t\t\t\t\t\tLPDIPROPHEADER pdiph)",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "LOWORD",
          "new_api": null,
          "old_text": "LOWORD(rguid)",
          "new_text": null,
          "old_line_content": "\tswitch (LOWORD(rguid)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE)",
          "new_text": null,
          "old_line_content": "\t\t    ((pdiph->dwObj == (DIDFT_MAKEINSTANCE(WINE_MOUSE_X_AXIS_INSTANCE) | DIDFT_RELAXIS)) ||",
          "new_line_content": "\t\t/* We'll just assume that the app asks about the Z axis */",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "DIDFT_MAKEINSTANCE",
          "new_api": null,
          "old_text": "DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE)",
          "new_text": null,
          "old_line_content": "\t\t     (pdiph->dwObj == (DIDFT_MAKEINSTANCE(WINE_MOUSE_Y_AXIS_INSTANCE) | DIDFT_RELAXIS)))) {",
          "new_line_content": "\t\tpr->dwData = WHEEL_DELTA;",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "CallNextHookEx",
          "new_api": null,
          "old_text": "CallNextHookEx( This->hook, code, wparam, lparam )",
          "new_text": null,
          "old_line_content": "    if (code != HC_ACTION) return CallNextHookEx( This->hook, code, wparam, lparam );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&(This->crit))",
          "new_text": null,
          "old_line_content": "    EnterCriticalSection(&(This->crit));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "debugstr_guid",
          "new_api": null,
          "old_text": "debugstr_guid(rguid)",
          "new_text": null,
          "old_line_content": "\t      FIXME(\"Unknown type %p (%s)\\n\",rguid,debugstr_guid(rguid));",
          "new_line_content": "\t\t       not know the range, do as if the range were",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "GetCurrentTime",
          "new_api": null,
          "old_text": "GetCurrentTime()",
          "new_text": null,
          "old_line_content": "    if (((GetCurrentTime() - last_event) < 10)",
          "new_line_content": "     */",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "GetCurrentTime",
          "new_api": null,
          "old_text": "GetCurrentTime()",
          "new_text": null,
          "old_line_content": "    else last_event = GetCurrentTime();",
          "new_line_content": "        && wparam == WM_MOUSEMOVE)",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y, hook->time, 0)",
          "new_text": null,
          "old_line_content": "\t\tGEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y, hook->time, 0);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,%p)\\n\",This,hnd)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%p)\\n\",This,hnd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->prevX,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "new_text": null,
          "old_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->prevX,",
          "new_line_content": "\t\t(hook->pt.x == This->mapped_center.x) && (hook->pt.y == This->mapped_center.y)) {",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->prevY,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "new_text": null,
          "old_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->prevY,",
          "new_line_content": "\t\tgoto end;",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,%p)\\n\",This,lpDIDevCaps)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%p)\\n\",This,lpDIDevCaps);",
          "new_line_content": "/******************************************************************************",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "WARN",
          "new_api": null,
          "old_text": "WARN(\"invalid parameter\\n\")",
          "new_text": null,
          "old_line_content": "        WARN(\"invalid parameter\\n\");",
          "new_line_content": "static HRESULT WINAPI SysMouseAImpl_GetCapabilities(",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->mapped_center.x,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "new_text": null,
          "old_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_X_POSITION], hook->pt.x - This->mapped_center.x,",
          "new_line_content": "\t\tif (hook->pt.x != This->prevX)",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->mapped_center.y,\n\t\t\t      hook->time, (This->dinput->evsequence)++)",
          "new_text": null,
          "old_line_content": "\t\t    GEN_EVENT(This->offset_array[WINE_MOUSE_Y_POSITION], hook->pt.y - This->mapped_center.y,",
          "new_line_content": "\t    } else {",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(lpDIDevCaps, &devcaps, lpDIDevCaps->dwSize)",
          "new_text": null,
          "old_line_content": "    memcpy(lpDIDevCaps, &devcaps, lpDIDevCaps->dwSize);",
          "new_line_content": "\tdevcaps.dwDevType = DIDEVTYPE_MOUSE | (DIDEVTYPEMOUSE_TRADITIONAL << 8);",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\" msg %x pt %ld %ld (W=%d)\\n\",\n          wparam, hook->pt.x, hook->pt.y, (!This->absolute) && This->need_warp )",
          "new_text": null,
          "old_line_content": "    TRACE(\" msg %x pt %ld %ld (W=%d)\\n\",",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "GEN_EVENT",
          "new_api": null,
          "old_text": "GEN_EVENT(This->offset_array[WINE_MOUSE_L_POSITION], 0x80,\n\t\t      hook->time, This->dinput->evsequence++)",
          "new_text": null,
          "old_line_content": "\t    GEN_EVENT(This->offset_array[WINE_MOUSE_L_POSITION], 0x80,",
          "new_line_content": "\t    This->m_state.lX = hook->pt.x - This->mapped_center.x;",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"(this=%p,%p,%p,%08lx)\\n\", This, lpCallback, lpvRef, dwFlags)",
          "new_text": null,
          "old_line_content": "    TRACE(\"(this=%p,%p,%p,%08lx)\\n\", This, lpCallback, lpvRef, dwFlags);",
          "new_line_content": "  */",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "TRACE_ON",
          "new_api": null,
          "old_text": "TRACE_ON(dinput)",
          "new_text": null,
          "old_line_content": "    if (TRACE_ON(dinput)) {",
          "new_line_content": "static HRESULT WINAPI SysMouseAImpl_EnumObjects(",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "TRACE",
          "new_api": null,
          "old_text": "TRACE(\"  - flags = \")",
          "new_text": null,
          "old_line_content": "\tTRACE(\"  - flags = \");",
          "new_line_content": "\tLPDIRECTINPUTDEVICE8A iface,",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "_dump_EnumObjects_flags",
          "new_api": null,
          "old_text": "_dump_EnumObjects_flags(dwFlags)",
          "new_text": null,
          "old_line_content": "\t_dump_EnumObjects_flags(dwFlags);",
          "new_line_content": "\tLPDIENUMDEVICEOBJECTSCALLBACKA lpCallback,",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 18,
      "total_additions": 104,
      "total_deletions": 102,
      "total_api_changes": 224
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 224,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          448,
          450,
          426,
          438,
          443,
          445,
          446,
          447
        ]
      }
    },
    "api_calls_before": 213,
    "api_calls_after": 215,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 0,
      "total_diff_lines": 33
    }
  }
}