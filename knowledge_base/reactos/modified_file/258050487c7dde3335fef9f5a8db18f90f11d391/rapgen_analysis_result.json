{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/258050487c7dde3335fef9f5a8db18f90f11d391",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/258050487c7dde3335fef9f5a8db18f90f11d391/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/258050487c7dde3335fef9f5a8db18f90f11d391/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/258050487c7dde3335fef9f5a8db18f90f11d391/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2134,
          "old_api": "NtUserSetCapture",
          "new_api": "RtlInitUnicodeString",
          "old_text": "NtUserSetCapture(hWnd)",
          "new_text": "RtlInitUnicodeString(&String, lpString)",
          "old_line_content": "  return(NtUserSetCapture(hWnd));",
          "new_line_content": "  RtlInitUnicodeString(&String, lpString);",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "Hook",
          "new_api": "EnterCriticalSection",
          "old_text": "Hook(FALSE, &Addresses)",
          "new_text": "EnterCriticalSection(&gcsMPH)",
          "old_line_content": "\t\tif(!Hook(FALSE, &Addresses) || !Addresses.cbSize) {",
          "new_line_content": "\tEnterCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": "NtUserCallNoParam",
          "new_api": "LeaveCriticalSection",
          "old_text": "NtUserCallNoParam(NOPARAM_ROUTINE_INIT_MESSAGE_PUMP)",
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": "\tif(NtUserCallNoParam(NOPARAM_ROUTINE_INIT_MESSAGE_PUMP)) {",
          "new_line_content": "\t\t\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": "NtUserCallNoParam",
          "new_api": "InterlockedExchange",
          "old_text": "NtUserCallNoParam(NOPARAM_ROUTINE_UNINIT_MESSAGE_PUMP)",
          "new_text": "InterlockedExchange((PLONG)&gfMessagePumpHook, 1)",
          "old_line_content": "\t\tif(NtUserCallNoParam(NOPARAM_ROUTINE_UNINIT_MESSAGE_PUMP)) {",
          "new_line_content": "\t\tInterlockedExchange((PLONG)&gfMessagePumpHook, 1);",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": "LeaveCriticalSection",
          "new_api": "EnterCriticalSection",
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": "EnterCriticalSection(&gcsMPH)",
          "old_line_content": "\t\t\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\tEnterCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": "RealGetQueueStatus",
          "new_api": "LeaveCriticalSection",
          "old_text": "RealGetQueueStatus(flags)",
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": "\treturn IsInsideMessagePumpHook() ? gmph.RealGetQueueStatus(flags) : RealGetQueueStatus(flags);",
          "new_line_content": "\t\t\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": "NtUserMsqClearWakeMask",
          "new_api": "NtUserMsqSetWakeMask",
          "old_text": "NtUserMsqClearWakeMask()",
          "new_text": "NtUserMsqSetWakeMask(dwWakeMask)",
          "old_line_content": "      NtUserMsqClearWakeMask();",
          "new_line_content": "   MessageQueueHandle = NtUserMsqSetWakeMask(dwWakeMask);",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "DeleteCriticalSection",
          "new_api": "InitializeCriticalSection",
          "old_text": "DeleteCriticalSection(&MsgConversionCrst)",
          "new_text": "InitializeCriticalSection(&DdeCrst)",
          "old_line_content": "  DeleteCriticalSection(&MsgConversionCrst);",
          "new_line_content": "  InitializeCriticalSection(&DdeCrst);",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": "DeleteCriticalSection",
          "new_api": "InitializeCriticalSection",
          "old_text": "DeleteCriticalSection(&gcsMPH)",
          "new_text": "InitializeCriticalSection(&MsgConversionCrst)",
          "old_line_content": "  DeleteCriticalSection(&gcsMPH);",
          "new_line_content": "  InitializeCriticalSection(&MsgConversionCrst);",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "MultiByteToWideChar",
          "new_api": "MAKEWPARAM",
          "old_text": "MultiByteToWideChar(CP_ACP, 0, &ch[1], 1, &wch, 1)",
          "new_text": "MAKEWPARAM(wch[0], wch[1])",
          "old_line_content": "            else MultiByteToWideChar(CP_ACP, 0, &ch[1], 1, &wch, 1);",
          "new_line_content": "            wparam = MAKEWPARAM(wch[0], wch[1]);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2436,
          "old_api": null,
          "new_api": "SetLastError",
          "old_text": null,
          "new_text": "SetLastError(ERROR_INVALID_PARAMETER)",
          "old_line_content": "",
          "new_line_content": "      SetLastError(ERROR_INVALID_PARAMETER);",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": null,
          "new_api": "pMsgWaitForMultipleObjectsEx",
          "old_text": null,
          "new_text": "USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 )",
          "old_line_content": "",
          "new_line_content": "      USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 );",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": null,
          "new_api": "NtUserGetQueueStatus",
          "old_text": null,
          "new_text": "NtUserGetQueueStatus(TRUE /*ClearChanges*/)",
          "old_line_content": " * @unimplemented",
          "new_line_content": "   ret = NtUserGetQueueStatus(TRUE /*ClearChanges*/);",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": null,
          "new_api": "map_wparam_AtoW",
          "old_text": null,
          "new_text": "map_wparam_AtoW( msg.message, msg.wParam )",
          "old_line_content": "",
          "new_line_content": "    msg.wParam = map_wparam_AtoW( msg.message, msg.wParam );",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": null,
          "new_api": "LOWORD",
          "old_text": null,
          "new_text": "LOWORD(ret)",
          "old_line_content": "BOOL STDCALL GetInputState(VOID)",
          "new_line_content": "   changed_bits = LOWORD(ret);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "HIWORD",
          "old_text": null,
          "new_text": "HIWORD(ret)",
          "old_line_content": "{",
          "new_line_content": "   wake_bits = HIWORD(ret);",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": null,
          "new_api": "IsDialogMessageW",
          "old_text": null,
          "new_text": "IsDialogMessageW( hwndDlg, &msg )",
          "old_line_content": "",
          "new_line_content": "    return IsDialogMessageW( hwndDlg, &msg );",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "MAKELONG",
          "old_text": null,
          "new_text": "MAKELONG(changed_bits & flags, wake_bits & flags)",
          "old_line_content": "   WORD  wake_bits;",
          "new_line_content": "   return MAKELONG(changed_bits & flags, wake_bits & flags);",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "SetLastError",
          "old_text": null,
          "new_text": "SetLastError(0)",
          "old_line_content": "   }",
          "new_line_content": "      SetLastError(0); /* ? */",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": null,
          "new_api": "GetProcessHeap",
          "old_text": null,
          "new_text": "GetProcessHeap()",
          "old_line_content": "",
          "new_line_content": "   RealHandles = HeapAlloc(GetProcessHeap(), 0, (nCount + 1) * sizeof(HANDLE));",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": null,
          "new_api": "NtUserMsqClearWakeMask",
          "old_text": null,
          "new_text": "NtUserMsqClearWakeMask()",
          "old_line_content": "                                     dwMilliseconds, dwFlags & MWMO_ALERTABLE);",
          "new_line_content": "      NtUserMsqClearWakeMask();",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": null,
          "new_api": "SetLastError",
          "old_text": null,
          "new_text": "SetLastError(ERROR_NOT_ENOUGH_MEMORY)",
          "old_line_content": "",
          "new_line_content": "      SetLastError(ERROR_NOT_ENOUGH_MEMORY);",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": null,
          "new_api": "NtUserTranslateMessage",
          "old_text": null,
          "new_text": "NtUserTranslateMessage((LPMSG)lpMsg, (HKL)unk)",
          "old_line_content": " */",
          "new_line_content": "            return(NtUserTranslateMessage((LPMSG)lpMsg, (HKL)unk));",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": null,
          "new_api": "pMsgWaitForMultipleObjectsEx",
          "old_text": null,
          "new_text": "USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 )",
          "old_line_content": "",
          "new_line_content": "     USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 );",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "RtlCopyMemory",
          "old_text": null,
          "new_text": "RtlCopyMemory(RealHandles, pHandles, nCount * sizeof(HANDLE))",
          "old_line_content": "   return Result;",
          "new_line_content": "   RtlCopyMemory(RealHandles, pHandles, nCount * sizeof(HANDLE));",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": null,
          "new_api": "NtUserGetQueueStatus",
          "old_text": null,
          "new_text": "NtUserGetQueueStatus(FALSE /*ClearChanges*/)",
          "old_line_content": "{",
          "new_line_content": "   ret = NtUserGetQueueStatus(FALSE /*ClearChanges*/);",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": null,
          "new_api": "WaitForMultipleObjectsEx",
          "old_text": null,
          "new_text": "WaitForMultipleObjectsEx(nCount + 1, RealHandles,\n                                     dwFlags & MWMO_WAITALL,\n                                     dwMilliseconds, dwFlags & MWMO_ALERTABLE)",
          "old_line_content": "/*",
          "new_line_content": "   Result = WaitForMultipleObjectsEx(nCount + 1, RealHandles,",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": null,
          "new_api": "HIWORD",
          "old_text": null,
          "new_text": "HIWORD(ret)",
          "old_line_content": "  MSG KMMsg, UMMsg;",
          "new_line_content": "   wake_bits = HIWORD(ret);",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": null,
          "new_api": "GetProcessHeap",
          "old_text": null,
          "new_text": "GetProcessHeap()",
          "old_line_content": "MsgWaitForMultipleObjectsEx(",
          "new_line_content": "   HeapFree(GetProcessHeap(), 0, RealHandles);",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": null,
          "new_api": "NtUserMsqClearWakeMask",
          "old_text": null,
          "new_text": "NtUserMsqClearWakeMask()",
          "old_line_content": "   DWORD nCount,",
          "new_line_content": "   NtUserMsqClearWakeMask();",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "TranslateMessageEx",
          "old_text": null,
          "new_text": "TranslateMessageEx((LPMSG)lpMsg, 0)",
          "old_line_content": "{",
          "new_line_content": "  return(TranslateMessageEx((LPMSG)lpMsg, 0));",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": null,
          "new_api": "SetLastError",
          "old_text": null,
          "new_text": "SetLastError(ERROR_INVALID_PARAMETER)",
          "old_line_content": "\t\t\treturn FALSE;",
          "new_line_content": "\t\tSetLastError(ERROR_INVALID_PARAMETER);",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "ResetMessagePumpHook",
          "old_text": null,
          "new_text": "ResetMessagePumpHook(&Addresses)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tResetMessagePumpHook(&Addresses);",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "Hook",
          "old_text": null,
          "new_text": "Hook(FALSE, &Addresses)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif(!Hook(FALSE, &Addresses) || !Addresses.cbSize) {",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "NtUserWaitMessage",
          "old_text": null,
          "new_text": "NtUserWaitMessage()",
          "old_line_content": "  UNICODE_STRING String;",
          "new_line_content": "  return NtUserWaitMessage();",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": null,
          "new_api": "RealMsgWaitForMultipleObjectsEx",
          "old_text": null,
          "new_text": "RealMsgWaitForMultipleObjectsEx(nCount, lpHandles,dwMilliseconds, dwWakeMask, dwFlags)",
          "old_line_content": "   BOOL fWaitAll,",
          "new_line_content": "   return IsInsideMessagePumpHook() ? gmph.RealMsgWaitForMultipleObjectsEx(nCount, lpHandles, dwMilliseconds, dwWakeMask, dwFlags) : RealMsgWaitForMultipleObjectsEx(nCount, lpHandles,dwMilliseconds, dwWakeMask, dwFlags);",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&gmph, &Addresses, Addresses.cbSize)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemcpy(&gmph, &Addresses, Addresses.cbSize);",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": null,
          "new_api": "NtUserCallNoParam",
          "old_text": null,
          "new_text": "NtUserCallNoParam(NOPARAM_ROUTINE_INIT_MESSAGE_PUMP)",
          "old_line_content": "",
          "new_line_content": "\tif(NtUserCallNoParam(NOPARAM_ROUTINE_INIT_MESSAGE_PUMP)) {",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": "BOOL WINAPI UnregisterMessagePumpHook(VOID)",
          "new_line_content": "\t\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": null,
          "new_api": "LPARAM) ((char *) CallbackArgs + sizeof(WINDOWPROC_CALLBACK_ARGUMENTS))",
          "old_text": null,
          "new_text": "LPARAM) ((char *) CallbackArgs + sizeof(WINDOWPROC_CALLBACK_ARGUMENTS))",
          "old_line_content": "",
          "new_line_content": "      KMMsg.lParam = (LPARAM) ((char *) CallbackArgs + sizeof(WINDOWPROC_CALLBACK_ARGUMENTS));",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": null,
          "new_api": "RtlCreateUnicodeStringFromAsciiz",
          "old_text": null,
          "new_text": "RtlCreateUnicodeStringFromAsciiz(&String, (PCSZ)lpString)",
          "old_line_content": "",
          "new_line_content": "  Result = RtlCreateUnicodeStringFromAsciiz(&String, (PCSZ)lpString);",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": null,
          "new_api": "MsgWaitForMultipleObjectsEx",
          "old_text": null,
          "new_text": "MsgWaitForMultipleObjectsEx(nCount, lpHandles, dwMilliseconds,\n                                      dwWakeMask, fWaitAll ? MWMO_WAITALL : 0)",
          "old_line_content": "",
          "new_line_content": "   return MsgWaitForMultipleObjectsEx(nCount, lpHandles, dwMilliseconds,",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": "\t\t\tif(!gcLoadMPH) {",
          "new_line_content": "\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": null,
          "new_api": "NtUserRegisterWindowMessage",
          "old_text": null,
          "new_text": "NtUserRegisterWindowMessage(&String)",
          "old_line_content": "RegisterWindowMessageW(LPCWSTR lpString)",
          "new_line_content": "  Atom = NtUserRegisterWindowMessage(&String);",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": null,
          "new_api": "RtlFreeUnicodeString",
          "old_text": null,
          "new_text": "RtlFreeUnicodeString(&String)",
          "old_line_content": "{",
          "new_line_content": "  RtlFreeUnicodeString(&String);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "NtUserCallNoParam",
          "old_text": null,
          "new_text": "NtUserCallNoParam(NOPARAM_ROUTINE_UNINIT_MESSAGE_PUMP)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif(NtUserCallNoParam(NOPARAM_ROUTINE_UNINIT_MESSAGE_PUMP)) {",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": null,
          "new_api": "PWINDOWPOS) (Params + 1)",
          "old_text": null,
          "new_text": "PWINDOWPOS) (Params + 1)",
          "old_line_content": "",
          "new_line_content": "      Params->lppos = (PWINDOWPOS) (Params + 1);",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": null,
          "new_api": "InitializeCriticalSection",
          "old_text": null,
          "new_text": "InitializeCriticalSection(&gcsMPH)",
          "old_line_content": "}",
          "new_line_content": "  InitializeCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": null,
          "new_api": "InterlockedExchange",
          "old_text": null,
          "new_text": "InterlockedExchange((PLONG)&gfMessagePumpHook, 0)",
          "old_line_content": "\treturn FALSE;",
          "new_line_content": "\t\t\t\tInterlockedExchange((PLONG)&gfMessagePumpHook, 0);",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": null,
          "new_api": "MsgiKMToUMMessage",
          "old_text": null,
          "new_text": "MsgiKMToUMMessage(&KMMsg, &UMMsg)",
          "old_line_content": "    }",
          "new_line_content": "  if (! MsgiKMToUMMessage(&KMMsg, &UMMsg))",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": null,
          "new_api": "gpfnInitMPH",
          "old_text": null,
          "new_text": "gpfnInitMPH(TRUE, NULL)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\tgpfnInitMPH(TRUE, NULL);",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": null,
          "new_api": "ResetMessagePumpHook",
          "old_text": null,
          "new_text": "ResetMessagePumpHook(&gmph)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tResetMessagePumpHook(&gmph);",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": null,
          "new_api": "DeleteCriticalSection",
          "old_text": null,
          "new_text": "DeleteCriticalSection(&DdeCrst)",
          "old_line_content": "static WPARAM",
          "new_line_content": "  DeleteCriticalSection(&DdeCrst);",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": null,
          "new_api": "IntCallWindowProcW",
          "old_text": null,
          "new_text": "IntCallWindowProcW(CallbackArgs->IsAnsiProc, CallbackArgs->Proc,\n                                            UMMsg.hwnd, UMMsg.message,\n                                            UMMsg.wParam, UMMsg.lParam)",
          "old_line_content": "",
          "new_line_content": "  CallbackArgs->Result = IntCallWindowProcW(CallbackArgs->IsAnsiProc, CallbackArgs->Proc,",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": null,
          "new_api": "DeleteCriticalSection",
          "old_text": null,
          "new_text": "DeleteCriticalSection(&MsgConversionCrst)",
          "old_line_content": "map_wparam_AtoW( UINT message, WPARAM wparam )",
          "new_line_content": "  DeleteCriticalSection(&MsgConversionCrst);",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "NtUserRegisterWindowMessage",
          "old_text": null,
          "new_text": "NtUserRegisterWindowMessage(&String)",
          "old_line_content": "}",
          "new_line_content": "  return(NtUserRegisterWindowMessage(&String));",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": null,
          "new_api": "DeleteCriticalSection",
          "old_text": null,
          "new_text": "DeleteCriticalSection(&gcsMPH)",
          "old_line_content": "{",
          "new_line_content": "  DeleteCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": null,
          "new_api": "MsgiKMToUMReply",
          "old_text": null,
          "new_text": "MsgiKMToUMReply(&KMMsg, &UMMsg, &CallbackArgs->Result)",
          "old_line_content": "BOOL STDCALL SetMessageQueue(int cMessagesMax)",
          "new_line_content": "  if (! MsgiKMToUMReply(&KMMsg, &UMMsg, &CallbackArgs->Result))",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": null,
          "new_api": "LeaveCriticalSection",
          "old_text": null,
          "new_text": "LeaveCriticalSection(&gcsMPH)",
          "old_line_content": " * @name RealMsgWaitForMultipleObjectsEx",
          "new_line_content": "\tLeaveCriticalSection(&gcsMPH);",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": null,
          "new_api": "ZwCallbackReturn",
          "old_text": null,
          "new_text": "ZwCallbackReturn(CallbackArgs, ArgumentLength, STATUS_SUCCESS)",
          "old_line_content": "}",
          "new_line_content": "  return ZwCallbackReturn(CallbackArgs, ArgumentLength, STATUS_SUCCESS);",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "RealGetQueueStatus",
          "old_text": null,
          "new_text": "RealGetQueueStatus(flags)",
          "old_line_content": " *        Number of handles in the pHandles array.",
          "new_line_content": "\treturn IsInsideMessagePumpHook() ? gmph.RealGetQueueStatus(flags) : RealGetQueueStatus(flags);",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": null,
          "new_api": "NtUserSetCapture",
          "old_text": null,
          "new_text": "NtUserSetCapture(hWnd)",
          "old_line_content": "}",
          "new_line_content": "  return(NtUserSetCapture(hWnd));",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": null,
          "new_api": "NtUserGetCapture",
          "old_text": null,
          "new_text": "NtUserGetCapture()",
          "old_line_content": "  return(TRUE);",
          "new_line_content": "  return(NtUserGetCapture());",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": null,
          "new_api": "NtUserSetCapture",
          "old_text": null,
          "new_text": "NtUserSetCapture(NULL)",
          "old_line_content": "RealGetQueueStatus(UINT flags)",
          "new_line_content": "  NtUserSetCapture(NULL);",
          "content_same": false
        },
        {
          "line": 2553,
          "old_api": null,
          "new_api": "MultiByteToWideChar",
          "old_text": null,
          "new_text": "MultiByteToWideChar(CP_ACP, 0, ch, 2, &wch, 1)",
          "old_line_content": " * @implemented",
          "new_line_content": "            if (ch[0]) MultiByteToWideChar(CP_ACP, 0, ch, 2, &wch, 1);",
          "content_same": false
        },
        {
          "line": 2554,
          "old_api": null,
          "new_api": "MultiByteToWideChar",
          "old_text": null,
          "new_text": "MultiByteToWideChar(CP_ACP, 0, &ch[1], 1, &wch, 1)",
          "old_line_content": " */",
          "new_line_content": "            else MultiByteToWideChar(CP_ACP, 0, &ch[1], 1, &wch, 1);",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": null,
          "new_api": "HIWORD",
          "old_text": null,
          "new_text": "HIWORD(wparam)",
          "old_line_content": "BOOL WINAPI",
          "new_line_content": "            wparam = MAKEWPARAM( wch, HIWORD(wparam) );",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2176,
          "old_api": "LOWORD",
          "new_api": null,
          "old_text": "LOWORD(ret)",
          "new_text": null,
          "old_line_content": "   changed_bits = LOWORD(ret);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(ret)",
          "new_text": null,
          "old_line_content": "   wake_bits = HIWORD(ret);",
          "new_line_content": "#if 0 /* wine stuff. don't know what it does... */",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": "IsDialogMessageW",
          "new_api": null,
          "old_text": "IsDialogMessageW( hwndDlg, &msg )",
          "new_text": null,
          "old_line_content": "    return IsDialogMessageW( hwndDlg, &msg );",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "MAKELONG",
          "new_api": null,
          "old_text": "MAKELONG(changed_bits & flags, wake_bits & flags)",
          "new_text": null,
          "old_line_content": "   return MAKELONG(changed_bits & flags, wake_bits & flags);",
          "new_line_content": "   /* check for pending X events */",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": "NtUserMsqSetWakeMask",
          "new_api": null,
          "old_text": "NtUserMsqSetWakeMask(dwWakeMask)",
          "new_text": null,
          "old_line_content": "   MessageQueueHandle = NtUserMsqSetWakeMask(dwWakeMask);",
          "new_line_content": "      return WAIT_FAILED;",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "SetLastError",
          "new_api": null,
          "old_text": "SetLastError(0)",
          "new_text": null,
          "old_line_content": "      SetLastError(0); /* ? */",
          "new_line_content": "/*",
          "content_same": false
        },
        {
          "line": 2444,
          "old_api": "GetProcessHeap",
          "new_api": null,
          "old_text": "GetProcessHeap()",
          "new_text": null,
          "old_line_content": "   RealHandles = HeapAlloc(GetProcessHeap(), 0, (nCount + 1) * sizeof(HANDLE));",
          "new_line_content": "   }",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "SetLastError",
          "new_api": null,
          "old_text": "SetLastError(ERROR_NOT_ENOUGH_MEMORY)",
          "new_text": null,
          "old_line_content": "      SetLastError(ERROR_NOT_ENOUGH_MEMORY);",
          "new_line_content": "   if (MessageQueueHandle == NULL)",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "pMsgWaitForMultipleObjectsEx",
          "new_api": null,
          "old_text": "USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 )",
          "new_text": null,
          "old_line_content": "     USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 );",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "RtlCopyMemory",
          "new_api": null,
          "old_text": "RtlCopyMemory(RealHandles, pHandles, nCount * sizeof(HANDLE))",
          "new_text": null,
          "old_line_content": "   RtlCopyMemory(RealHandles, pHandles, nCount * sizeof(HANDLE));",
          "new_line_content": "   }",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": "NtUserTranslateMessage",
          "new_api": null,
          "old_text": "NtUserTranslateMessage((LPMSG)lpMsg, (HKL)unk)",
          "new_text": null,
          "old_line_content": "  return(NtUserTranslateMessage((LPMSG)lpMsg, (HKL)unk));",
          "new_line_content": "    switch (lpMsg->message)",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "NtUserGetQueueStatus",
          "new_api": null,
          "old_text": "NtUserGetQueueStatus(FALSE /*ClearChanges*/)",
          "new_text": null,
          "old_line_content": "   ret = NtUserGetQueueStatus(FALSE /*ClearChanges*/);",
          "new_line_content": "   DWORD ret;",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(ret)",
          "new_text": null,
          "old_line_content": "   wake_bits = HIWORD(ret);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": "WaitForMultipleObjectsEx",
          "new_api": null,
          "old_text": "WaitForMultipleObjectsEx(nCount + 1, RealHandles,\n                                     dwFlags & MWMO_WAITALL,\n                                     dwMilliseconds, dwFlags & MWMO_ALERTABLE)",
          "new_text": null,
          "old_line_content": "   Result = WaitForMultipleObjectsEx(nCount + 1, RealHandles,",
          "new_line_content": "   if (RealHandles == NULL)",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "GetProcessHeap",
          "new_api": null,
          "old_text": "GetProcessHeap()",
          "new_text": null,
          "old_line_content": "   HeapFree(GetProcessHeap(), 0, RealHandles);",
          "new_line_content": "      return WAIT_FAILED;",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": "NtUserMsqClearWakeMask",
          "new_api": null,
          "old_text": "NtUserMsqClearWakeMask()",
          "new_text": null,
          "old_line_content": "   NtUserMsqClearWakeMask();",
          "new_line_content": "   }",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\tEnterCriticalSection(&gcsMPH);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "TranslateMessageEx",
          "new_api": null,
          "old_text": "TranslateMessageEx((LPMSG)lpMsg, 0)",
          "new_text": null,
          "old_line_content": "  return(TranslateMessageEx((LPMSG)lpMsg, 0));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": "SetLastError",
          "new_api": null,
          "old_text": "SetLastError(ERROR_INVALID_PARAMETER)",
          "new_text": null,
          "old_line_content": "\t\tSetLastError(ERROR_INVALID_PARAMETER);",
          "new_line_content": "\t//Addresses->NtUserRealInternalGetMessage = (NtUserRealInternalGetMessageProc)NtUserRealInternalGetMessage;",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\t\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\t//Addresses->NtUserRealWaitMessageEx = (NtUserRealWaitMessageExProc)NtUserRealInternalWaitMessageEx;",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "ResetMessagePumpHook",
          "new_api": null,
          "old_text": "ResetMessagePumpHook(&Addresses)",
          "new_text": null,
          "old_line_content": "\t\tResetMessagePumpHook(&Addresses);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\t\t\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\tif(!Hook) {",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "NtUserWaitMessage",
          "new_api": null,
          "old_text": "NtUserWaitMessage()",
          "new_text": null,
          "old_line_content": "  return NtUserWaitMessage();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": "RealMsgWaitForMultipleObjectsEx",
          "new_api": null,
          "old_text": "RealMsgWaitForMultipleObjectsEx(nCount, lpHandles,dwMilliseconds, dwWakeMask, dwFlags)",
          "new_text": null,
          "old_line_content": "   return IsInsideMessagePumpHook() ? gmph.RealMsgWaitForMultipleObjectsEx(nCount, lpHandles, dwMilliseconds, dwWakeMask, dwFlags) : RealMsgWaitForMultipleObjectsEx(nCount, lpHandles,dwMilliseconds, dwWakeMask, dwFlags);",
          "new_line_content": " * @implemented",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&gmph, &Addresses, Addresses.cbSize)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(&gmph, &Addresses, Addresses.cbSize);",
          "new_line_content": "\t\treturn FALSE;",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\t\t\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\t\tUSER_MESSAGE_PUMP_ADDRESSES Addresses;",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\t\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\t\t\treturn FALSE;",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": "LPARAM) ((char *) CallbackArgs + sizeof(WINDOWPROC_CALLBACK_ARGUMENTS))",
          "new_api": null,
          "old_text": "LPARAM) ((char *) CallbackArgs + sizeof(WINDOWPROC_CALLBACK_ARGUMENTS))",
          "new_text": null,
          "old_line_content": "      KMMsg.lParam = (LPARAM) ((char *) CallbackArgs + sizeof(WINDOWPROC_CALLBACK_ARGUMENTS));",
          "new_line_content": "  KMMsg.message = CallbackArgs->Msg;",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "RtlCreateUnicodeStringFromAsciiz",
          "new_api": null,
          "old_text": "RtlCreateUnicodeStringFromAsciiz(&String, (PCSZ)lpString)",
          "new_text": null,
          "old_line_content": "  Result = RtlCreateUnicodeStringFromAsciiz(&String, (PCSZ)lpString);",
          "new_line_content": "/*",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "InterlockedExchange",
          "new_api": null,
          "old_text": "InterlockedExchange((PLONG)&gfMessagePumpHook, 1)",
          "new_text": null,
          "old_line_content": "\t\tInterlockedExchange((PLONG)&gfMessagePumpHook, 1);",
          "new_line_content": "\t\tif(gpfnInitMPH != Hook) {",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\t\t\treturn FALSE;",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": "MsgWaitForMultipleObjectsEx",
          "new_api": null,
          "old_text": "MsgWaitForMultipleObjectsEx(nCount, lpHandles, dwMilliseconds,\n                                      dwWakeMask, fWaitAll ? MWMO_WAITALL : 0)",
          "new_text": null,
          "old_line_content": "   return MsgWaitForMultipleObjectsEx(nCount, lpHandles, dwMilliseconds,",
          "new_line_content": " * @implemented",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "NtUserRegisterWindowMessage",
          "new_api": null,
          "old_text": "NtUserRegisterWindowMessage(&String)",
          "new_text": null,
          "old_line_content": "  Atom = NtUserRegisterWindowMessage(&String);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": "RtlFreeUnicodeString",
          "new_api": null,
          "old_text": "RtlFreeUnicodeString(&String)",
          "new_text": null,
          "old_line_content": "  RtlFreeUnicodeString(&String);",
          "new_line_content": "  UNICODE_STRING String;",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "EnterCriticalSection",
          "new_api": null,
          "old_text": "EnterCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\tEnterCriticalSection(&gcsMPH);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": "InitializeCriticalSection",
          "new_api": null,
          "old_text": "InitializeCriticalSection(&DdeCrst)",
          "new_text": null,
          "old_line_content": "  InitializeCriticalSection(&DdeCrst);",
          "new_line_content": "   DWORD dwMilliseconds,",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": "InitializeCriticalSection",
          "new_api": null,
          "old_text": "InitializeCriticalSection(&MsgConversionCrst)",
          "new_text": null,
          "old_line_content": "  InitializeCriticalSection(&MsgConversionCrst);",
          "new_line_content": "   DWORD dwWakeMask)",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "PWINDOWPOS) (Params + 1)",
          "new_api": null,
          "old_text": "PWINDOWPOS) (Params + 1)",
          "new_text": null,
          "old_line_content": "      Params->lppos = (PWINDOWPOS) (Params + 1);",
          "new_line_content": "      if (ArgumentLength != sizeof(WINDOWPROC_CALLBACK_ARGUMENTS))",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": "InitializeCriticalSection",
          "new_api": null,
          "old_text": "InitializeCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "  InitializeCriticalSection(&gcsMPH);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": "InterlockedExchange",
          "new_api": null,
          "old_text": "InterlockedExchange((PLONG)&gfMessagePumpHook, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tInterlockedExchange((PLONG)&gfMessagePumpHook, 0);",
          "new_line_content": "\treturn TRUE;",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "MsgiKMToUMMessage",
          "new_api": null,
          "old_text": "MsgiKMToUMMessage(&KMMsg, &UMMsg)",
          "new_text": null,
          "old_line_content": "  if (! MsgiKMToUMMessage(&KMMsg, &UMMsg))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "gpfnInitMPH",
          "new_api": null,
          "old_text": "gpfnInitMPH(TRUE, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgpfnInitMPH(TRUE, NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "ResetMessagePumpHook",
          "new_api": null,
          "old_text": "ResetMessagePumpHook(&gmph)",
          "new_text": null,
          "old_line_content": "\t\t\t\tResetMessagePumpHook(&gmph);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": "DeleteCriticalSection",
          "new_api": null,
          "old_text": "DeleteCriticalSection(&DdeCrst)",
          "new_text": null,
          "old_line_content": "  DeleteCriticalSection(&DdeCrst);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "IntCallWindowProcW",
          "new_api": null,
          "old_text": "IntCallWindowProcW(CallbackArgs->IsAnsiProc, CallbackArgs->Proc,\n                                            UMMsg.hwnd, UMMsg.message,\n                                            UMMsg.wParam, UMMsg.lParam)",
          "new_text": null,
          "old_line_content": "  CallbackArgs->Result = IntCallWindowProcW(CallbackArgs->IsAnsiProc, CallbackArgs->Proc,",
          "new_line_content": "  if (WM_NCCALCSIZE == CallbackArgs->Msg && CallbackArgs->wParam)",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "RtlInitUnicodeString",
          "new_api": null,
          "old_text": "RtlInitUnicodeString(&String, lpString)",
          "new_text": null,
          "old_line_content": "  RtlInitUnicodeString(&String, lpString);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "NtUserRegisterWindowMessage",
          "new_api": null,
          "old_text": "NtUserRegisterWindowMessage(&String)",
          "new_text": null,
          "old_line_content": "  return(NtUserRegisterWindowMessage(&String));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2255,
          "old_api": "MsgiKMToUMReply",
          "new_api": null,
          "old_text": "MsgiKMToUMReply(&KMMsg, &UMMsg, &CallbackArgs->Result)",
          "new_text": null,
          "old_line_content": "  if (! MsgiKMToUMReply(&KMMsg, &UMMsg, &CallbackArgs->Result))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "LeaveCriticalSection",
          "new_api": null,
          "old_text": "LeaveCriticalSection(&gcsMPH)",
          "new_text": null,
          "old_line_content": "\tLeaveCriticalSection(&gcsMPH);",
          "new_line_content": "\t\t\tif(!gcLoadMPH) {",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": "ZwCallbackReturn",
          "new_api": null,
          "old_text": "ZwCallbackReturn(CallbackArgs, ArgumentLength, STATUS_SUCCESS)",
          "new_text": null,
          "old_line_content": "  return ZwCallbackReturn(CallbackArgs, ArgumentLength, STATUS_SUCCESS);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": "NtUserGetCapture",
          "new_api": null,
          "old_text": "NtUserGetCapture()",
          "new_text": null,
          "old_line_content": "  return(NtUserGetCapture());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": "MultiByteToWideChar",
          "new_api": null,
          "old_text": "MultiByteToWideChar(CP_ACP, 0, ch, 2, wch, 2)",
          "new_text": null,
          "old_line_content": "            MultiByteToWideChar(CP_ACP, 0, ch, 2, wch, 2);",
          "new_line_content": "    case WM_CHAR:",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": "MAKEWPARAM",
          "new_api": null,
          "old_text": "MAKEWPARAM(wch[0], wch[1])",
          "new_text": null,
          "old_line_content": "            wparam = MAKEWPARAM(wch[0], wch[1]);",
          "new_line_content": "    case WM_DEADCHAR:",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "NtUserSetCapture",
          "new_api": null,
          "old_text": "NtUserSetCapture(NULL)",
          "new_text": null,
          "old_line_content": "  NtUserSetCapture(NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(wparam)",
          "new_text": null,
          "old_line_content": "            wparam = MAKEWPARAM( wch, HIWORD(wparam) );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "SetLastError",
          "new_api": null,
          "old_text": "SetLastError(ERROR_INVALID_PARAMETER)",
          "new_text": null,
          "old_line_content": "      SetLastError(ERROR_INVALID_PARAMETER);",
          "new_line_content": "   DWORD dwMilliseconds,",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "pMsgWaitForMultipleObjectsEx",
          "new_api": null,
          "old_text": "USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 )",
          "new_text": null,
          "old_line_content": "      USER_Driver.pMsgWaitForMultipleObjectsEx( 0, NULL, 0, 0, 0 );",
          "new_line_content": "STDCALL",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": "NtUserGetQueueStatus",
          "new_api": null,
          "old_text": "NtUserGetQueueStatus(TRUE /*ClearChanges*/)",
          "new_text": null,
          "old_line_content": "   ret = NtUserGetQueueStatus(TRUE /*ClearChanges*/);",
          "new_line_content": "   DWORD ret;",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": "map_wparam_AtoW",
          "new_api": null,
          "old_text": "map_wparam_AtoW( msg.message, msg.wParam )",
          "new_text": null,
          "old_line_content": "    msg.wParam = map_wparam_AtoW( msg.message, msg.wParam );",
          "new_line_content": "    return wparam;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 10,
      "total_additions": 59,
      "total_deletions": 59,
      "total_api_changes": 128
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 128,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          2071,
          2072,
          2073,
          2074,
          2075,
          2077,
          2078,
          2079
        ]
      }
    },
    "api_calls_before": 370,
    "api_calls_after": 370,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 1,
      "total_diff_lines": 24
    }
  }
}