{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/db62b33f928a274ec8e8afc3c8c67b7c3303c09a",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/db62b33f928a274ec8e8afc3c8c67b7c3303c09a/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/db62b33f928a274ec8e8afc3c8c67b7c3303c09a/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/db62b33f928a274ec8e8afc3c8c67b7c3303c09a/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 260,
          "old_api": "URLDownloadToFileW",
          "new_api": "CreateDl",
          "old_text": "URLDownloadToFileW(NULL, AppInfo->szUrlDownload, path, 0, dl)",
          "new_text": "CreateDl(Context, &bCancelled)",
          "old_line_content": "    r = URLDownloadToFileW(NULL, AppInfo->szUrlDownload, path, 0, dl);",
          "new_line_content": "    dl = CreateDl(Context, &bCancelled);",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "IBindStatusCallback_Release",
          "new_api": "URLDownloadToFileW",
          "old_text": "IBindStatusCallback_Release(dl)",
          "new_text": "URLDownloadToFileW(NULL, AppInfo->szUrlDownload, path, 0, dl)",
          "old_line_content": "    if (dl) IBindStatusCallback_Release(dl);",
          "new_line_content": "    r = URLDownloadToFileW(NULL, AppInfo->szUrlDownload, path, 0, dl);",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "WaitForSingleObject",
          "new_api": "CloseHandle",
          "old_text": "WaitForSingleObject(pi.hProcess, INFINITE)",
          "new_text": "CloseHandle(pi.hThread)",
          "old_line_content": "    WaitForSingleObject(pi.hProcess, INFINITE);",
          "new_line_content": "    CloseHandle(pi.hThread);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": "CloseHandle",
          "new_api": "WaitForSingleObject",
          "old_text": "CloseHandle(pi.hProcess)",
          "new_text": "WaitForSingleObject(pi.hProcess, INFINITE)",
          "old_line_content": "    CloseHandle(pi.hProcess);",
          "new_line_content": "    WaitForSingleObject(pi.hProcess, INFINITE);",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": "GetDlgItem",
          "new_api": "SetWindowLongPtrW",
          "old_text": "GetDlgItem(Dlg, IDC_DOWNLOAD_PROGRESS)",
          "new_text": "SetWindowLongPtrW(Dlg, GWLP_USERDATA, 0)",
          "old_line_content": "            Item = GetDlgItem(Dlg, IDC_DOWNLOAD_PROGRESS);",
          "new_line_content": "            SetWindowLongPtrW(Dlg, GWLP_USERDATA, 0);",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "SendMessageW",
          "new_api": "MAKELPARAM",
          "old_text": "SendMessageW(Item, PBM_SETPOS, 0, 0)",
          "new_text": "MAKELPARAM(0, 100)",
          "old_line_content": "                SendMessageW(Item, PBM_SETPOS, 0, 0);",
          "new_line_content": "                SendMessageW(Item, PBM_SETRANGE, 0, MAKELPARAM(0, 100));",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "PostMessageW",
          "new_api": "SetWindowLongPtrW",
          "old_text": "PostMessageW(Dlg, WM_CLOSE, 0, 0)",
          "new_text": "SetWindowLongPtrW(Dlg, GWLP_USERDATA, 1)",
          "old_line_content": "                PostMessageW(Dlg, WM_CLOSE, 0, 0);",
          "new_line_content": "                SetWindowLongPtrW(Dlg, GWLP_USERDATA, 1);",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "EndDialog",
          "new_api": "DestroyIcon",
          "old_text": "EndDialog(Dlg, 0)",
          "new_text": "DestroyIcon(hIcon)",
          "old_line_content": "            EndDialog(Dlg, 0);",
          "new_line_content": "            if (hIcon) DestroyIcon(hIcon);",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "MAKEINTRESOURCEW",
          "new_api": "DialogBoxW",
          "old_text": "MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG)",
          "new_text": "DialogBoxW(hInst,\n               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),\n               hMainWnd,\n               DownloadDlgProc)",
          "old_line_content": "               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),",
          "new_line_content": "    DialogBoxW(hInst,",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "wcscpy",
          "new_api": "ZeroMemory",
          "old_text": "wcscpy(IntInfo.szUrlDownload, lpUrl)",
          "new_text": "ZeroMemory(&IntInfo, sizeof(APPLICATION_INFO))",
          "old_line_content": "    wcscpy(IntInfo.szUrlDownload, lpUrl);",
          "new_line_content": "    ZeroMemory(&IntInfo, sizeof(APPLICATION_INFO));",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "MAKEINTRESOURCEW",
          "new_api": "DialogBoxW",
          "old_text": "MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG)",
          "new_text": "DialogBoxW(hInst,\n               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),\n               hMainWnd,\n               DownloadDlgProc)",
          "old_line_content": "               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),",
          "new_line_content": "    DialogBoxW(hInst,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 256,
          "old_api": null,
          "new_api": "wcscat",
          "old_text": null,
          "new_text": "wcscat(path, p + 1)",
          "old_line_content": "",
          "new_line_content": "    wcscat(path, p + 1);",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": null,
          "new_api": "IBindStatusCallback_Release",
          "old_text": null,
          "new_text": "IBindStatusCallback_Release(dl)",
          "old_line_content": "    if (S_OK != r) goto end;",
          "new_line_content": "    if (dl) IBindStatusCallback_Release(dl);",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "ShowWindow",
          "old_text": null,
          "new_text": "ShowWindow(Dlg, SW_HIDE)",
          "old_line_content": "",
          "new_line_content": "    ShowWindow(Dlg, SW_HIDE);",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&si, 0, sizeof(si))",
          "old_line_content": "    si.cb = sizeof(si);",
          "new_line_content": "    memset(&si, 0, sizeof(si));",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "CreateProcessW",
          "old_text": null,
          "new_text": "CreateProcessW(path, NULL, NULL, NULL, 0, 0, NULL, NULL, &si, &pi)",
          "old_line_content": "    if (0 == r) goto end;",
          "new_line_content": "    r = CreateProcessW(path, NULL, NULL, NULL, 0, 0, NULL, NULL, &si, &pi);",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(pi.hProcess)",
          "old_line_content": "",
          "new_line_content": "    CloseHandle(pi.hProcess);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": null,
          "new_api": "DeleteFileW",
          "old_text": null,
          "new_text": "DeleteFileW(path)",
          "old_line_content": "    }",
          "new_line_content": "            DeleteFileW(path);",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "EndDialog",
          "old_text": null,
          "new_text": "EndDialog(Dlg, 0)",
          "old_line_content": "",
          "new_line_content": "    EndDialog(Dlg, 0);",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": null,
          "new_api": "MAKEINTRESOURCEW",
          "old_text": null,
          "new_text": "MAKEINTRESOURCEW(IDI_MAIN)",
          "old_line_content": "            if (hIcon)",
          "new_line_content": "            hIcon = LoadIconW(hInst, MAKEINTRESOURCEW(IDI_MAIN));",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "SendMessageW",
          "old_text": null,
          "new_text": "SendMessageW(Dlg, WM_SETICON, ICON_SMALL, (LPARAM) hIcon)",
          "old_line_content": "            }",
          "new_line_content": "                SendMessageW(Dlg, WM_SETICON, ICON_SMALL, (LPARAM) hIcon);",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "GetDlgItem",
          "old_text": null,
          "new_text": "GetDlgItem(Dlg, IDC_DOWNLOAD_PROGRESS)",
          "old_line_content": "            if (Item)",
          "new_line_content": "            Item = GetDlgItem(Dlg, IDC_DOWNLOAD_PROGRESS);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "SendMessageW",
          "old_text": null,
          "new_text": "SendMessageW(Item, PBM_SETPOS, 0, 0)",
          "old_line_content": "            }",
          "new_line_content": "                SendMessageW(Item, PBM_SETPOS, 0, 0);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "CreateThread",
          "old_text": null,
          "new_text": "CreateThread(NULL, 0, ThreadFunc, Dlg, 0, &ThreadId)",
          "old_line_content": "            if (!Thread) return FALSE;",
          "new_line_content": "            Thread = CreateThread(NULL, 0, ThreadFunc, Dlg, 0, &ThreadId);",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "CloseHandle",
          "old_text": null,
          "new_text": "CloseHandle(Thread)",
          "old_line_content": "            return TRUE;",
          "new_line_content": "            CloseHandle(Thread);",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": null,
          "new_api": "PostMessageW",
          "old_text": null,
          "new_text": "PostMessageW(Dlg, WM_CLOSE, 0, 0)",
          "old_line_content": "            }",
          "new_line_content": "                PostMessageW(Dlg, WM_CLOSE, 0, 0);",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": null,
          "new_api": "EndDialog",
          "old_text": null,
          "new_text": "EndDialog(Dlg, 0)",
          "old_line_content": "            return TRUE;",
          "new_line_content": "            EndDialog(Dlg, 0);",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": null,
          "new_api": "IS_AVAILABLE_ENUM",
          "old_text": null,
          "new_text": "IS_AVAILABLE_ENUM(SelectedEnumType)",
          "old_line_content": "        return FALSE;",
          "new_line_content": "    if (!IS_AVAILABLE_ENUM(SelectedEnumType))",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "ListViewGetlParam",
          "old_text": null,
          "new_text": "ListViewGetlParam(Index)",
          "old_line_content": "    if (!AppInfo) return FALSE;",
          "new_line_content": "    AppInfo = (PAPPLICATION_INFO) ListViewGetlParam(Index);",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "WriteLogMessage",
          "old_text": null,
          "new_text": "WriteLogMessage(EVENTLOG_SUCCESS, MSG_SUCCESS_INSTALL, AppInfo->szName)",
          "old_line_content": "",
          "new_line_content": "    WriteLogMessage(EVENTLOG_SUCCESS, MSG_SUCCESS_INSTALL, AppInfo->szName);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "MAKEINTRESOURCEW",
          "old_text": null,
          "new_text": "MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG)",
          "old_line_content": "               hMainWnd,",
          "new_line_content": "               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "wcscpy",
          "old_text": null,
          "new_text": "wcscpy(IntInfo.szUrlDownload, lpUrl)",
          "old_line_content": "",
          "new_line_content": "    wcscpy(IntInfo.szUrlDownload, lpUrl);",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "GetCurrentDirectoryW",
          "old_text": null,
          "new_text": "GetCurrentDirectoryW(MAX_PATH, path)",
          "old_line_content": "                goto end;",
          "new_line_content": "            if (!GetCurrentDirectoryW(MAX_PATH, path))",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "MAKEINTRESOURCEW",
          "old_text": null,
          "new_text": "MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG)",
          "old_line_content": "               hMainWnd,",
          "new_line_content": "               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": null,
          "new_api": "wcscpy",
          "old_text": null,
          "new_text": "wcscpy(path, SettingsInfo.szDownloadDir)",
          "old_line_content": "        }",
          "new_line_content": "            wcscpy(path, SettingsInfo.szDownloadDir);",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": null,
          "new_api": "GetFileAttributesW",
          "old_text": null,
          "new_text": "GetFileAttributesW(path)",
          "old_line_content": "    {",
          "new_line_content": "    if (GetFileAttributesW(path) == INVALID_FILE_ATTRIBUTES)",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "CreateDirectoryW",
          "old_text": null,
          "new_text": "CreateDirectoryW(path, NULL)",
          "old_line_content": "            goto end;",
          "new_line_content": "        if (!CreateDirectoryW(path, NULL))",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 259,
          "old_api": "CreateDl",
          "new_api": null,
          "old_text": "CreateDl(Context, &bCancelled)",
          "new_text": null,
          "old_line_content": "    dl = CreateDl(Context, &bCancelled);",
          "new_line_content": "    bTempfile = TRUE;",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "ShowWindow",
          "new_api": null,
          "old_text": "ShowWindow(Dlg, SW_HIDE)",
          "new_text": null,
          "old_line_content": "    ShowWindow(Dlg, SW_HIDE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&si, 0, sizeof(si))",
          "new_text": null,
          "old_line_content": "    memset(&si, 0, sizeof(si));",
          "new_line_content": "    /* run it */",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "CreateProcessW",
          "new_api": null,
          "old_text": "CreateProcessW(path, NULL, NULL, NULL, 0, 0, NULL, NULL, &si, &pi)",
          "new_text": null,
          "old_line_content": "    r = CreateProcessW(path, NULL, NULL, NULL, 0, 0, NULL, NULL, &si, &pi);",
          "new_line_content": "    si.cb = sizeof(si);",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(pi.hThread)",
          "new_text": null,
          "old_line_content": "    CloseHandle(pi.hThread);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "DeleteFileW",
          "new_api": null,
          "old_text": "DeleteFileW(path)",
          "new_text": null,
          "old_line_content": "            DeleteFileW(path);",
          "new_line_content": "        if (bCancelled || (SettingsInfo.bDelInstaller && !bCab))",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "EndDialog",
          "new_api": null,
          "old_text": "EndDialog(Dlg, 0)",
          "new_text": null,
          "old_line_content": "    EndDialog(Dlg, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "MAKEINTRESOURCEW",
          "new_api": null,
          "old_text": "MAKEINTRESOURCEW(IDI_MAIN)",
          "new_text": null,
          "old_line_content": "            hIcon = LoadIconW(hInst, MAKEINTRESOURCEW(IDI_MAIN));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "SendMessageW",
          "new_api": null,
          "old_text": "SendMessageW(Dlg, WM_SETICON, ICON_BIG, (LPARAM) hIcon)",
          "new_text": null,
          "old_line_content": "                SendMessageW(Dlg, WM_SETICON, ICON_BIG, (LPARAM) hIcon);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "SetWindowLongPtrW",
          "new_api": null,
          "old_text": "SetWindowLongPtrW(Dlg, GWLP_USERDATA, 0)",
          "new_text": null,
          "old_line_content": "            SetWindowLongPtrW(Dlg, GWLP_USERDATA, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "MAKELPARAM",
          "new_api": null,
          "old_text": "MAKELPARAM(0, 100)",
          "new_text": null,
          "old_line_content": "                SendMessageW(Item, PBM_SETRANGE, 0, MAKELPARAM(0, 100));",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "CreateThread",
          "new_api": null,
          "old_text": "CreateThread(NULL, 0, ThreadFunc, Dlg, 0, &ThreadId)",
          "new_text": null,
          "old_line_content": "            Thread = CreateThread(NULL, 0, ThreadFunc, Dlg, 0, &ThreadId);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "CloseHandle",
          "new_api": null,
          "old_text": "CloseHandle(Thread)",
          "new_text": null,
          "old_line_content": "            CloseHandle(Thread);",
          "new_line_content": "            if (!Thread) return FALSE;",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "SetWindowLongPtrW",
          "new_api": null,
          "old_text": "SetWindowLongPtrW(Dlg, GWLP_USERDATA, 1)",
          "new_text": null,
          "old_line_content": "                SetWindowLongPtrW(Dlg, GWLP_USERDATA, 1);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "DestroyIcon",
          "new_api": null,
          "old_text": "DestroyIcon(hIcon)",
          "new_text": null,
          "old_line_content": "            if (hIcon) DestroyIcon(hIcon);",
          "new_line_content": "        case WM_CLOSE:",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "IS_AVAILABLE_ENUM",
          "new_api": null,
          "old_text": "IS_AVAILABLE_ENUM(SelectedEnumType)",
          "new_text": null,
          "old_line_content": "    if (!IS_AVAILABLE_ENUM(SelectedEnumType))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "ListViewGetlParam",
          "new_api": null,
          "old_text": "ListViewGetlParam(Index)",
          "new_text": null,
          "old_line_content": "    AppInfo = (PAPPLICATION_INFO) ListViewGetlParam(Index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "WriteLogMessage",
          "new_api": null,
          "old_text": "WriteLogMessage(EVENTLOG_SUCCESS, MSG_SUCCESS_INSTALL, AppInfo->szName)",
          "new_text": null,
          "old_line_content": "    WriteLogMessage(EVENTLOG_SUCCESS, MSG_SUCCESS_INSTALL, AppInfo->szName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "DialogBoxW",
          "new_api": null,
          "old_text": "DialogBoxW(hInst,\n               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),\n               hMainWnd,\n               DownloadDlgProc)",
          "new_text": null,
          "old_line_content": "    DialogBoxW(hInst,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(AppInfo->szUrlDownload)",
          "new_text": null,
          "old_line_content": "        if (AppInfo->szUrlDownload[wcslen(AppInfo->szUrlDownload) - 4] == '.' &&",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(AppInfo->szUrlDownload)",
          "new_text": null,
          "old_line_content": "            AppInfo->szUrlDownload[wcslen(AppInfo->szUrlDownload) - 3] == 'c' &&",
          "new_line_content": "        if (AppInfo->szUrlDownload[len - 4] == '.' &&",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(AppInfo->szUrlDownload)",
          "new_text": null,
          "old_line_content": "            AppInfo->szUrlDownload[wcslen(AppInfo->szUrlDownload) - 2] == 'a' &&",
          "new_line_content": "            AppInfo->szUrlDownload[len - 3] == 'c' &&",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "wcslen",
          "new_api": null,
          "old_text": "wcslen(AppInfo->szUrlDownload)",
          "new_text": null,
          "old_line_content": "            AppInfo->szUrlDownload[wcslen(AppInfo->szUrlDownload) - 1] == 'b')",
          "new_line_content": "            AppInfo->szUrlDownload[len - 2] == 'a' &&",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "ZeroMemory",
          "new_api": null,
          "old_text": "ZeroMemory(&IntInfo, sizeof(APPLICATION_INFO))",
          "new_text": null,
          "old_line_content": "    ZeroMemory(&IntInfo, sizeof(APPLICATION_INFO));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "GetCurrentDirectoryW",
          "new_api": null,
          "old_text": "GetCurrentDirectoryW(MAX_PATH, path)",
          "new_text": null,
          "old_line_content": "            if (!GetCurrentDirectoryW(MAX_PATH, path))",
          "new_line_content": "            bCab = TRUE;",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "DialogBoxW",
          "new_api": null,
          "old_text": "DialogBoxW(hInst,\n               MAKEINTRESOURCEW(IDD_DOWNLOAD_DIALOG),\n               hMainWnd,\n               DownloadDlgProc)",
          "new_text": null,
          "old_line_content": "    DialogBoxW(hInst,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": "wcscpy",
          "new_api": null,
          "old_text": "wcscpy(path, SettingsInfo.szDownloadDir)",
          "new_text": null,
          "old_line_content": "            wcscpy(path, SettingsInfo.szDownloadDir);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": "GetFileAttributesW",
          "new_api": null,
          "old_text": "GetFileAttributesW(path)",
          "new_text": null,
          "old_line_content": "    if (GetFileAttributesW(path) == INVALID_FILE_ATTRIBUTES)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "CreateDirectoryW",
          "new_api": null,
          "old_text": "CreateDirectoryW(path, NULL)",
          "new_text": null,
          "old_line_content": "        if (!CreateDirectoryW(path, NULL))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "wcscat",
          "new_api": null,
          "old_text": "wcscat(path, L\"\\\\\")",
          "new_text": null,
          "old_line_content": "    wcscat(path, L\"\\\\\");",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 11,
      "total_additions": 26,
      "total_deletions": 30,
      "total_api_changes": 67
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 67,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          3,
          230,
          231,
          236,
          221
        ]
      }
    },
    "api_calls_before": 67,
    "api_calls_after": 63,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 7,
      "total_diff_lines": 41
    }
  }
}