{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/eff51218fbcaa3cf6abfc3a53f2834bb1a005320",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/eff51218fbcaa3cf6abfc3a53f2834bb1a005320/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/eff51218fbcaa3cf6abfc3a53f2834bb1a005320/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/reactos/modified_file/eff51218fbcaa3cf6abfc3a53f2834bb1a005320/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 536,
          "old_api": "cmd_free",
          "new_api": "MultiByteToWideChar",
          "old_text": "cmd_free(lpString)",
          "new_text": "MultiByteToWideChar(CP_ACP, 0, lpString, -1, lpBuffer, len)",
          "old_line_content": "\tcmd_free(lpString);",
          "new_line_content": "\tMultiByteToWideChar(CP_ACP, 0, lpString, -1, lpBuffer, len);",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "ConInDisable ()",
          "new_api": "RemoveBreakHandler ()",
          "old_text": "ConInDisable ()",
          "new_text": "RemoveBreakHandler ()",
          "old_line_content": "\tConInDisable ();",
          "new_line_content": "\tRemoveBreakHandler ();",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "ConInEnable ()",
          "new_api": "AddBreakHandler ()",
          "old_text": "ConInEnable ()",
          "new_text": "AddBreakHandler ()",
          "old_line_content": "\tConInEnable ();",
          "new_line_content": "\tAddBreakHandler ();",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "_T",
          "new_api": "ConInString (szIn, 10)",
          "old_text": "_T(\"\\n\")",
          "new_text": "ConInString (szIn, 10)",
          "old_line_content": "\tConOutPrintf (_T(\"\\n\"));",
          "new_line_content": "\tConInString (szIn, 10);",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "_istspace (*p)",
          "new_api": "_tcsupr (szIn)",
          "old_text": "_istspace (*p)",
          "new_text": "_tcsupr (szIn)",
          "old_line_content": "\tfor (p = szIn; _istspace (*p); p++)",
          "new_line_content": "\t_tcsupr (szIn);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "ConInDisable ()",
          "new_api": "RemoveBreakHandler ()",
          "old_text": "ConInDisable ()",
          "new_text": "RemoveBreakHandler ()",
          "old_line_content": "\tConInDisable ();",
          "new_line_content": "\tRemoveBreakHandler ();",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "new_api": "ConInKey (&ir)",
          "old_text": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "new_text": "ConInKey (&ir)",
          "old_line_content": "\t\tcKey = _totlower (ir.Event.KeyEvent.uChar.AsciiChar);",
          "new_line_content": "\t\tConInKey (&ir);",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "_tcschr (szKeys, cKey[0])",
          "new_api": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "old_text": "_tcschr (szKeys, cKey[0])",
          "new_text": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "old_line_content": "\t\tif (_tcschr (szKeys, cKey[0]) == NULL)",
          "new_line_content": "\t\tcKey = _totlower (ir.Event.KeyEvent.uChar.AsciiChar);",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "ConInEnable ()",
          "new_api": "AddBreakHandler ()",
          "old_text": "ConInEnable ()",
          "new_text": "AddBreakHandler ()",
          "old_line_content": "\tConInEnable ();",
          "new_line_content": "\tAddBreakHandler ();",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "_T",
          "new_api": "ConInString (szIn, 10)",
          "old_text": "_T(\"\\n\")",
          "new_text": "ConInString (szIn, 10)",
          "old_line_content": "\tConOutPrintf (_T(\"\\n\"));",
          "new_line_content": "\tConInString (szIn, 10);",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "_istspace (*p)",
          "new_api": "_tcsupr (szIn)",
          "old_text": "_istspace (*p)",
          "new_text": "_tcsupr (szIn)",
          "old_line_content": "\tfor (p = szIn; _istspace (*p); p++)",
          "new_line_content": "\t_tcsupr (szIn);",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "ConInDisable ()",
          "new_api": "RemoveBreakHandler ()",
          "old_text": "ConInDisable ()",
          "new_text": "RemoveBreakHandler ()",
          "old_line_content": "\tConInDisable ();",
          "new_line_content": "\tRemoveBreakHandler ();",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "new_api": "ConInKey (&ir)",
          "old_text": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "new_text": "ConInKey (&ir)",
          "old_line_content": "\t\tcKey = _totlower (ir.Event.KeyEvent.uChar.AsciiChar);",
          "new_line_content": "\t\tConInKey (&ir);",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "_tcschr (szKeys, cKey[0])",
          "new_api": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "old_text": "_tcschr (szKeys, cKey[0])",
          "new_text": "_totlower (ir.Event.KeyEvent.uChar.AsciiChar)",
          "old_line_content": "\t\tif (_tcschr (szKeys, cKey[0]) == NULL)",
          "new_line_content": "\t\tcKey = _totlower (ir.Event.KeyEvent.uChar.AsciiChar);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "ConInEnable ()",
          "new_api": "AddBreakHandler ()",
          "old_text": "ConInEnable ()",
          "new_text": "AddBreakHandler ()",
          "old_line_content": "\tConInEnable ();",
          "new_line_content": "\tAddBreakHandler ();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 514,
          "old_api": null,
          "new_api": "ReadFile",
          "old_text": null,
          "new_text": "ReadFile(hFile, lpString, nBufferLength - 1, &dwRead, NULL)",
          "old_line_content": "\twhile ((--nBufferLength >  0) &&",
          "new_line_content": "\tif (ReadFile(hFile, lpString, nBufferLength - 1, &dwRead, NULL))",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(lpString, '\\n', dwRead)",
          "old_line_content": "        lpString[len++] = ch;",
          "new_line_content": "\t\tCHAR *end = memchr(lpString, '\\n', dwRead);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "ConOutResPrintf (resID)",
          "old_text": null,
          "new_text": "ConOutResPrintf (resID)",
          "old_line_content": "",
          "new_line_content": "\t\tConOutResPrintf (resID);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "SetFilePointer",
          "old_text": null,
          "new_text": "SetFilePointer(hFile, len - dwRead, NULL, FILE_CURRENT)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tSetFilePointer(hFile, len - dwRead, NULL, FILE_CURRENT);",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "_T",
          "old_text": null,
          "new_text": "_T(\"\\n\")",
          "old_line_content": "",
          "new_line_content": "\tConOutPrintf (_T(\"\\n\"));",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "_istspace (*p)",
          "old_text": null,
          "new_text": "_istspace (*p)",
          "old_line_content": "\t\t;",
          "new_line_content": "\tfor (p = szIn; _istspace (*p); p++)",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "cmd_free",
          "old_text": null,
          "new_text": "cmd_free(lpString)",
          "old_line_content": "#endif",
          "new_line_content": "\t\tcmd_free(lpString);",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "LoadString",
          "old_text": null,
          "new_text": "LoadString( CMD_ModuleHandle, STRING_COPY_OPTION, szMsg, RC_STRING_MAX_SIZE)",
          "old_line_content": "",
          "new_line_content": "\tLoadString( CMD_ModuleHandle, STRING_COPY_OPTION, szMsg, RC_STRING_MAX_SIZE);",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "_tcsncmp",
          "old_text": null,
          "new_text": "_tcsncmp(p, &szMsg[0], 1)",
          "old_line_content": "\t\treturn PROMPT_YES;",
          "new_line_content": "\tif (_tcsncmp(p, &szMsg[0], 1) == 0)",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "_tcsncmp",
          "old_text": null,
          "new_text": "_tcsncmp(p, &szMsg[1], 1)",
          "old_line_content": "\t\treturn PROMPT_NO;",
          "new_line_content": "\telse if (_tcsncmp(p, &szMsg[1], 1) == 0)",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": null,
          "new_api": "cmd_free",
          "old_text": null,
          "new_text": "cmd_free(lpString)",
          "old_line_content": "#endif",
          "new_line_content": "\tcmd_free(lpString);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "_tcsncmp",
          "old_text": null,
          "new_text": "_tcsncmp(p, &szMsg[2], 1)",
          "old_line_content": "\t\treturn PROMPT_ALL;",
          "new_line_content": "\telse if (_tcsncmp(p, &szMsg[2], 1) == 0)",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "_T",
          "old_text": null,
          "new_text": "_T('\\03')",
          "old_line_content": "\t\treturn PROMPT_BREAK;",
          "new_line_content": "\telse if (*p == _T('\\03'))",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "ConOutResPuts",
          "old_text": null,
          "new_text": "ConOutResPuts(STRING_MISC_HELP1)",
          "old_line_content": "",
          "new_line_content": "\tConOutResPuts(STRING_MISC_HELP1);",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": null,
          "new_api": "ConInDisable ()",
          "old_text": null,
          "new_text": "ConInDisable ()",
          "old_line_content": "",
          "new_line_content": "\tConInDisable ();",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "ConInDisable ()",
          "old_text": null,
          "new_text": "ConInDisable ()",
          "old_line_content": "",
          "new_line_content": "\tConInDisable ();",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": null,
          "new_api": "ConInKey (&ir)",
          "old_text": null,
          "new_text": "ConInKey (&ir)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tConInKey (&ir);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": null,
          "new_api": "_tcschr (szKeys, cKey[0])",
          "old_text": null,
          "new_text": "_tcschr (szKeys, cKey[0])",
          "old_line_content": "\t\t\tcKey = 0;",
          "new_line_content": "\t\tif (_tcschr (szKeys, cKey[0]) == NULL)",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "ConInEnable ()",
          "old_text": null,
          "new_text": "ConInEnable ()",
          "old_line_content": "",
          "new_line_content": "\tConInEnable ();",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "_T",
          "old_text": null,
          "new_text": "_T('C')",
          "old_line_content": "\t     (ir.Event.KeyEvent.dwControlKeyState & (LEFT_CTRL_PRESSED | RIGHT_CTRL_PRESSED))))",
          "new_line_content": "\t    ((ir.Event.KeyEvent.wVirtualKeyCode == _T('C')) &&",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "ConInEnable ()",
          "old_text": null,
          "new_text": "ConInEnable ()",
          "old_line_content": "",
          "new_line_content": "\tConInEnable ();",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "_T",
          "old_text": null,
          "new_text": "_T('C')",
          "old_line_content": "\t     (ir.Event.KeyEvent.dwControlKeyState & (LEFT_CTRL_PRESSED | RIGHT_CTRL_PRESSED))))",
          "new_line_content": "\t    ((ir.Event.KeyEvent.wVirtualKeyCode == _T('C')) &&",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "ConOutResPrintf (resID)",
          "old_text": null,
          "new_text": "ConOutResPrintf (resID)",
          "old_line_content": "",
          "new_line_content": "\t\tConOutResPrintf (resID);",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": null,
          "new_api": "_T",
          "old_text": null,
          "new_text": "_T(\"\\n\")",
          "old_line_content": "",
          "new_line_content": "\tConOutPrintf (_T(\"\\n\"));",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "_istspace (*p)",
          "old_text": null,
          "new_text": "_istspace (*p)",
          "old_line_content": "\t\t;",
          "new_line_content": "\tfor (p = szIn; _istspace (*p); p++)",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": null,
          "new_api": "LoadString",
          "old_text": null,
          "new_text": "LoadString(CMD_ModuleHandle, STRING_CHOICE_OPTION, szMsg, RC_STRING_MAX_SIZE)",
          "old_line_content": "",
          "new_line_content": "\tLoadString(CMD_ModuleHandle, STRING_CHOICE_OPTION, szMsg, RC_STRING_MAX_SIZE);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "_tcsncmp",
          "old_text": null,
          "new_text": "_tcsncmp(p, &szMsg[0], 1)",
          "old_line_content": "\t\treturn PROMPT_YES;",
          "new_line_content": "\tif (_tcsncmp(p, &szMsg[0], 1) == 0)",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": null,
          "new_api": "_tcsncmp",
          "old_text": null,
          "new_text": "_tcsncmp(p, &szMsg[1], 1)",
          "old_line_content": "\t\treturn PROMPT_NO;",
          "new_line_content": "\telse if (_tcsncmp(p, &szMsg[1], 1) == 0)",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": null,
          "new_api": "_T",
          "old_text": null,
          "new_text": "_T('\\03')",
          "old_line_content": "\t\treturn PROMPT_BREAK;",
          "new_line_content": "\telse if (*p == _T('\\03'))",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": null,
          "new_api": "ConInDisable ()",
          "old_text": null,
          "new_text": "ConInDisable ()",
          "old_line_content": "",
          "new_line_content": "\tConInDisable ();",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "_tcschr (szKeys, cKey[0])",
          "old_text": null,
          "new_text": "_tcschr (szKeys, cKey[0])",
          "old_line_content": "\t\t\tcKey = 0;",
          "new_line_content": "\t\tif (_tcschr (szKeys, cKey[0]) == NULL)",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "ConInEnable ()",
          "old_text": null,
          "new_text": "ConInEnable ()",
          "old_line_content": "",
          "new_line_content": "\tConInEnable ();",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "cmd_alloc",
          "old_text": null,
          "new_text": "cmd_alloc(nBufferLength)",
          "old_line_content": "#ifdef _UNICODE",
          "new_line_content": "\tlpString = cmd_alloc(nBufferLength);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 515,
          "old_api": "ReadFile",
          "new_api": null,
          "old_text": "ReadFile(hFile, &ch, 1, &dwRead, NULL)",
          "new_text": null,
          "old_line_content": "\t\t   ReadFile(hFile, &ch, 1, &dwRead, NULL) && dwRead)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "ConOutResPrintf (resID)",
          "new_api": null,
          "old_text": "ConOutResPrintf (resID)",
          "new_text": null,
          "old_line_content": "\t\tConOutResPrintf (resID);",
          "new_line_content": "\tif (resID != 0)",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "ConInString (szIn, 10)",
          "new_api": null,
          "old_text": "ConInString (szIn, 10)",
          "new_text": null,
          "old_line_content": "\tConInString (szIn, 10);",
          "new_line_content": "\t/* preliminary fix */",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "_tcsupr (szIn)",
          "new_api": null,
          "old_text": "_tcsupr (szIn)",
          "new_text": null,
          "old_line_content": "\t_tcsupr (szIn);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "cmd_free",
          "new_api": null,
          "old_text": "cmd_free(lpString)",
          "new_text": null,
          "old_line_content": "\t\tcmd_free(lpString);",
          "new_line_content": "#ifdef _UNICODE",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "LoadString",
          "new_api": null,
          "old_text": "LoadString( CMD_ModuleHandle, STRING_COPY_OPTION, szMsg, RC_STRING_MAX_SIZE)",
          "new_text": null,
          "old_line_content": "\tLoadString( CMD_ModuleHandle, STRING_COPY_OPTION, szMsg, RC_STRING_MAX_SIZE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "_tcsncmp",
          "new_api": null,
          "old_text": "_tcsncmp(p, &szMsg[0], 1)",
          "new_text": null,
          "old_line_content": "\tif (_tcsncmp(p, &szMsg[0], 1) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "_tcsncmp",
          "new_api": null,
          "old_text": "_tcsncmp(p, &szMsg[1], 1)",
          "new_text": null,
          "old_line_content": "\telse if (_tcsncmp(p, &szMsg[1], 1) == 0)",
          "new_line_content": "\t\treturn PROMPT_YES;",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": "MultiByteToWideChar",
          "new_api": null,
          "old_text": "MultiByteToWideChar(CP_ACP, 0, lpString, -1, lpBuffer, len)",
          "new_text": null,
          "old_line_content": "\tMultiByteToWideChar(CP_ACP, 0, lpString, -1, lpBuffer, len);",
          "new_line_content": "#ifdef _UNICODE",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "_tcsncmp",
          "new_api": null,
          "old_text": "_tcsncmp(p, &szMsg[2], 1)",
          "new_text": null,
          "old_line_content": "\telse if (_tcsncmp(p, &szMsg[2], 1) == 0)",
          "new_line_content": "\t\treturn PROMPT_NO;",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "_T",
          "new_api": null,
          "old_text": "_T('\\03')",
          "new_text": null,
          "old_line_content": "\telse if (*p == _T('\\03'))",
          "new_line_content": "#if 0",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "ConOutResPuts",
          "new_api": null,
          "old_text": "ConOutResPuts(STRING_MISC_HELP1)",
          "new_text": null,
          "old_line_content": "\tConOutResPuts(STRING_MISC_HELP1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "RemoveBreakHandler ()",
          "new_api": null,
          "old_text": "RemoveBreakHandler ()",
          "new_text": null,
          "old_line_content": "\tRemoveBreakHandler ();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "RemoveBreakHandler ()",
          "new_api": null,
          "old_text": "RemoveBreakHandler ()",
          "new_text": null,
          "old_line_content": "\tRemoveBreakHandler ();",
          "new_line_content": "#if 0",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "ConInKey (&ir)",
          "new_api": null,
          "old_text": "ConInKey (&ir)",
          "new_text": null,
          "old_line_content": "\t\tConInKey (&ir);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "ConInKey (&ir)",
          "new_api": null,
          "old_text": "ConInKey (&ir)",
          "new_text": null,
          "old_line_content": "\t\tConInKey (&ir);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "AddBreakHandler ()",
          "new_api": null,
          "old_text": "AddBreakHandler ()",
          "new_text": null,
          "old_line_content": "\tAddBreakHandler ();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "_T",
          "new_api": null,
          "old_text": "_T('C')",
          "new_text": null,
          "old_line_content": "\t    ((ir.Event.KeyEvent.wVirtualKeyCode == _T('C')) &&",
          "new_line_content": "\tif ((ir.Event.KeyEvent.wVirtualKeyCode == VK_ESCAPE) ||",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "AddBreakHandler ()",
          "new_api": null,
          "old_text": "AddBreakHandler ()",
          "new_text": null,
          "old_line_content": "\tAddBreakHandler ();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "_T",
          "new_api": null,
          "old_text": "_T('C')",
          "new_text": null,
          "old_line_content": "\t    ((ir.Event.KeyEvent.wVirtualKeyCode == _T('C')) &&",
          "new_line_content": "\tif ((ir.Event.KeyEvent.wVirtualKeyCode == VK_ESCAPE) ||",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "ConOutResPrintf (resID)",
          "new_api": null,
          "old_text": "ConOutResPrintf (resID)",
          "new_text": null,
          "old_line_content": "\t\tConOutResPrintf (resID);",
          "new_line_content": "\tif (resID != 0)",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "ConInString (szIn, 10)",
          "new_api": null,
          "old_text": "ConInString (szIn, 10)",
          "new_text": null,
          "old_line_content": "\tConInString (szIn, 10);",
          "new_line_content": "\t/* preliminary fix */",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "_tcsupr (szIn)",
          "new_api": null,
          "old_text": "_tcsupr (szIn)",
          "new_text": null,
          "old_line_content": "\t_tcsupr (szIn);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "LoadString",
          "new_api": null,
          "old_text": "LoadString(CMD_ModuleHandle, STRING_CHOICE_OPTION, szMsg, RC_STRING_MAX_SIZE)",
          "new_text": null,
          "old_line_content": "\tLoadString(CMD_ModuleHandle, STRING_CHOICE_OPTION, szMsg, RC_STRING_MAX_SIZE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "_tcsncmp",
          "new_api": null,
          "old_text": "_tcsncmp(p, &szMsg[0], 1)",
          "new_text": null,
          "old_line_content": "\tif (_tcsncmp(p, &szMsg[0], 1) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "_tcsncmp",
          "new_api": null,
          "old_text": "_tcsncmp(p, &szMsg[1], 1)",
          "new_text": null,
          "old_line_content": "\telse if (_tcsncmp(p, &szMsg[1], 1) == 0)",
          "new_line_content": "\t\treturn PROMPT_YES;",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "_T",
          "new_api": null,
          "old_text": "_T('\\03')",
          "new_text": null,
          "old_line_content": "\telse if (*p == _T('\\03'))",
          "new_line_content": "#if 0",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "RemoveBreakHandler ()",
          "new_api": null,
          "old_text": "RemoveBreakHandler ()",
          "new_text": null,
          "old_line_content": "\tRemoveBreakHandler ();",
          "new_line_content": "#if 0",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "ConInKey (&ir)",
          "new_api": null,
          "old_text": "ConInKey (&ir)",
          "new_text": null,
          "old_line_content": "\t\tConInKey (&ir);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "AddBreakHandler ()",
          "new_api": null,
          "old_text": "AddBreakHandler ()",
          "new_text": null,
          "old_line_content": "\tAddBreakHandler ();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "cmd_alloc",
          "new_api": null,
          "old_text": "cmd_alloc(nBufferLength)",
          "new_text": null,
          "old_line_content": "\tlpString = cmd_alloc(nBufferLength);",
          "new_line_content": "#else",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 15,
      "total_additions": 33,
      "total_deletions": 31,
      "total_api_changes": 79
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 13,
        "api_related_lines": 79,
        "non_api_lines": 9,
        "non_api_line_numbers": [
          513,
          516,
          518,
          519,
          520,
          521,
          525,
          526,
          506
        ]
      }
    },
    "api_calls_before": 155,
    "api_calls_after": 157,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 8,
      "total_diff_lines": 41
    }
  }
}