{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/esp-idf/modified_file/e20e64ace9948189103cd36565bfe79901444c21",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/esp-idf/modified_file/e20e64ace9948189103cd36565bfe79901444c21/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/esp-idf/modified_file/e20e64ace9948189103cd36565bfe79901444c21/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/esp-idf/modified_file/e20e64ace9948189103cd36565bfe79901444c21/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 59,
          "old_api": "ST_DEFAULT",
          "new_api": "E_CAPTURE",
          "old_text": "ST_DEFAULT();\n    sd",
          "new_text": "E_CAPTURE(heap_size);\n    sd",
          "old_line_content": "    sdmmc_host_t host = SDMMC_HOST_DEFAULT();",
          "new_line_content": "    HEAP_SIZE_CAPTURE(heap_size);",
          "content_same": false
        },
        {
          "line": 60,
          "old_api": "OT_CONFIG_DEFAULT",
          "new_api": "ST_DEFAULT",
          "old_text": "OT_CONFIG_DEFAULT();\n    es",
          "new_text": "ST_DEFAULT();\n    sd",
          "old_line_content": "    sdmmc_slot_config_t slot_config = SDMMC_SLOT_CONFIG_DEFAULT();",
          "new_line_content": "    sdmmc_host_t host = SDMMC_HOST_DEFAULT();",
          "content_same": false
        },
        {
          "line": 68,
          "old_api": "fat_sdmmc_mount",
          "new_api": "Initializing card, attempt %d \", i);",
          "old_text": "fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL);\n      ",
          "new_text": "Initializing card, attempt %d \", i);\n      ",
          "old_line_content": "        esp_err_t err = esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL);",
          "new_line_content": "        printf(\"Initializing card, attempt %d \", i);",
          "content_same": false
        },
        {
          "line": 69,
          "old_api": "err=%d\\n\", err);",
          "new_api": "fat_sdmmc_mount",
          "old_text": " err=%d\\n\", err);\n      ",
          "new_text": "fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL);\n      ",
          "old_line_content": "        printf(\" err=%d\\n\", err);",
          "new_line_content": "        esp_err_t err = esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL);",
          "content_same": false
        },
        {
          "line": 70,
          "old_api": "_ERR",
          "new_api": "err=%d\\n\", err);",
          "old_text": "_ERR(ESP_FAIL, err);\n    }\n",
          "new_text": " err=%d\\n\", err);\n      ",
          "old_line_content": "        TEST_ESP_ERR(ESP_FAIL, err);",
          "new_line_content": "        printf(\" err=%d\\n\", err);",
          "content_same": false
        },
        {
          "line": 78,
          "old_api": "fs_create_file_with_text",
          "new_api": "up",
          "old_text": "fs_create_file_with_text(test_filename, fatfs_test_hello_str);\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_create_file_with_text(test_filename, fatfs_test_hello_str);",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "rdown",
          "new_api": "fs_create_file_with_text",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_create_file_with_text(test_filename, fatfs_test_hello_str);\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_create_file_with_text(test_filename, fatfs_test_hello_str);",
          "content_same": false
        },
        {
          "line": 85,
          "old_api": "fs_create_file_with_text",
          "new_api": "up",
          "old_text": "fs_create_file_with_text(test_filename, fatfs_test_hello_str);\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_create_file_with_text(test_filename, fatfs_test_hello_str);",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 86,
          "old_api": "fs_read_file",
          "new_api": "fs_create_file_with_text",
          "old_text": "fs_read_file(test_filename);\n    te",
          "new_text": "fs_create_file_with_text(test_filename, fatfs_test_hello_str);\n    te",
          "old_line_content": "    test_fatfs_read_file(test_filename);",
          "new_line_content": "    test_fatfs_create_file_with_text(test_filename, fatfs_test_hello_str);",
          "content_same": false
        },
        {
          "line": 87,
          "old_api": "rdown",
          "new_api": "fs_read_file",
          "old_text": "rdown();\n}\n\n\nTE",
          "new_text": "fs_read_file(test_filename);\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_read_file(test_filename);",
          "content_same": false
        },
        {
          "line": 94,
          "old_api": "fs_overwrite_append",
          "new_api": "up",
          "old_text": "fs_overwrite_append(test_filename);\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_overwrite_append(test_filename);",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 95,
          "old_api": "rdown",
          "new_api": "fs_overwrite_append",
          "old_text": "rdown();\n}\n\n\nTE",
          "new_text": "fs_overwrite_append(test_filename);\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_overwrite_append(test_filename);",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "fs_lseek",
          "new_api": "up",
          "old_text": "fs_lseek(\"/sdcard/seek.txt\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_lseek(\"/sdcard/seek.txt\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": "rdown",
          "new_api": "fs_lseek",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_lseek(\"/sdcard/seek.txt\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_lseek(\"/sdcard/seek.txt\");",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": "fs_stat",
          "new_api": "up",
          "old_text": "fs_stat(\"/sdcard/stat.txt\", \"/sdcard\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_stat(\"/sdcard/stat.txt\", \"/sdcard\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": "rdown",
          "new_api": "fs_stat",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_stat(\"/sdcard/stat.txt\", \"/sdcard\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_stat(\"/sdcard/stat.txt\", \"/sdcard\");",
          "content_same": false
        },
        {
          "line": 116,
          "old_api": "fs_unlink",
          "new_api": "up",
          "old_text": "fs_unlink(\"/sdcard/unlink.txt\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_unlink(\"/sdcard/unlink.txt\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": "rdown",
          "new_api": "fs_unlink",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_unlink(\"/sdcard/unlink.txt\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_unlink(\"/sdcard/unlink.txt\");",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": "fs_link_rename",
          "new_api": "up",
          "old_text": "fs_link_rename(\"/sdcard/link\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_link_rename(\"/sdcard/link\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 124,
          "old_api": "rdown",
          "new_api": "fs_link_rename",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_link_rename(\"/sdcard/link\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_link_rename(\"/sdcard/link\");",
          "content_same": false
        },
        {
          "line": 130,
          "old_api": "fs_mkdir_rmdir",
          "new_api": "up",
          "old_text": "fs_mkdir_rmdir(\"/sdcard/dir\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_mkdir_rmdir(\"/sdcard/dir\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": "rdown",
          "new_api": "fs_mkdir_rmdir",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_mkdir_rmdir(\"/sdcard/dir\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_mkdir_rmdir(\"/sdcard/dir\");",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "fs_can_opendir",
          "new_api": "up",
          "old_text": "fs_can_opendir(\"/sdcard\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_can_opendir(\"/sdcard\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": "rdown",
          "new_api": "fs_can_opendir",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_can_opendir(\"/sdcard\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_can_opendir(\"/sdcard\");",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": "fs_opendir_readdir_rewinddir",
          "new_api": "up",
          "old_text": "fs_opendir_readdir_rewinddir(\"/sdcard/dir\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_opendir_readdir_rewinddir(\"/sdcard/dir\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": "rdown",
          "new_api": "fs_opendir_readdir_rewinddir",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_opendir_readdir_rewinddir(\"/sdcard/dir\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_opendir_readdir_rewinddir(\"/sdcard/dir\");",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "fs_concurrent",
          "new_api": "up",
          "old_text": "fs_concurrent(\"/sdcard/f\");\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_concurrent(\"/sdcard/f\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "rdown",
          "new_api": "fs_concurrent",
          "old_text": "rdown();\n}\n\nsta",
          "new_text": "fs_concurrent(\"/sdcard/f\");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_concurrent(\"/sdcard/f\");",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "fat_spiflash_mount",
          "new_api": "up",
          "old_text": "fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));\n    u",
          "new_text": "up();\n    TE",
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": "ilename_sd);\n    un",
          "new_api": "fat_spiflash_mount",
          "old_text": "ilename_sd);\n    un",
          "new_text": "fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));\n    u",
          "old_line_content": "    unlink(filename_sd);",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "ilename_wl);\n    te",
          "new_api": "ilename_sd);\n    un",
          "old_text": "ilename_wl);\n    te",
          "new_text": "ilename_sd);\n    un",
          "old_line_content": "    unlink(filename_wl);",
          "new_line_content": "    unlink(filename_sd);",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": "fs_create_file_with_text",
          "new_api": "ilename_wl);\n    te",
          "old_text": "fs_create_file_with_text(filename_sd, str_sd);\n    te",
          "new_text": "ilename_wl);\n    te",
          "old_line_content": "    test_fatfs_create_file_with_text(filename_sd, str_sd);",
          "new_line_content": "    unlink(filename_wl);",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "fat_spiflash_unmount",
          "new_api": "fs_create_file_with_text",
          "old_text": "fat_spiflash_unmount(\"/spiflash\", wl_handle));\n    t",
          "new_text": "fs_create_file_with_text(filename_wl, str_wl);\n    TE",
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_unmount(\"/spiflash\", wl_handle));",
          "new_line_content": "    test_fatfs_create_file_with_text(filename_wl, str_wl);",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": "rdown",
          "new_api": "fat_spiflash_unmount",
          "old_text": "rdown();\n\n    /",
          "new_text": "fat_spiflash_unmount(\"/spiflash\", wl_handle));\n    t",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_unmount(\"/spiflash\", wl_handle));",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "lename_wl, \"r\"));\n    F",
          "new_api": "up",
          "old_text": "lename_wl, \"r\"));\n    F",
          "new_text": "up();\n    TE",
          "old_line_content": "    TEST_ASSERT_NULL(fopen(filename_wl, \"r\"));",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "lename_sd, \"r\");\n    TE",
          "new_api": "lename_wl, \"r\"));\n    F",
          "old_text": "lename_sd, \"r\");\n    TE",
          "new_text": "lename_wl, \"r\"));\n    F",
          "old_line_content": "    FILE* f = fopen(filename_sd, \"r\");",
          "new_line_content": "    TEST_ASSERT_NULL(fopen(filename_wl, \"r\"));",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": "ERT_NOT_NULL",
          "new_api": "lename_sd, \"r\");\n    TE",
          "old_text": "ERT_NOT_NULL(f);\n    ch",
          "new_text": "lename_sd, \"r\");\n    TE",
          "old_line_content": "    TEST_ASSERT_NOT_NULL(f);",
          "new_line_content": "    FILE* f = fopen(filename_sd, \"r\");",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "uf, str_sd));\n    f",
          "new_api": "f, sizeof(buf) - 1, f));\n    T",
          "old_text": "uf, str_sd));\n    f",
          "new_text": "f, sizeof(buf) - 1, f));\n    T",
          "old_line_content": "    TEST_ASSERT_EQUAL(0, strcmp(buf, str_sd));",
          "new_line_content": "    TEST_ASSERT_NOT_NULL(fgets(buf, sizeof(buf) - 1, f));",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": ");\n    te",
          "new_api": "uf, str_sd));\n    f",
          "old_text": ");\n    te",
          "new_text": "uf, str_sd));\n    f",
          "old_line_content": "    fclose(f);",
          "new_line_content": "    TEST_ASSERT_EQUAL(0, strcmp(buf, str_sd));",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "rdown",
          "new_api": ");\n    te",
          "old_text": "rdown();\n\n    /",
          "new_text": ");\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    fclose(f);",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "lename_sd, \"r\"));\n    f",
          "new_api": "fat_spiflash_mount",
          "old_text": "lename_sd, \"r\"));\n    f",
          "new_text": "fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));\n    T",
          "old_line_content": "    TEST_ASSERT_NULL(fopen(filename_sd, \"r\"));",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "lename_wl, \"r\");\n    TE",
          "new_api": "lename_sd, \"r\"));\n    f",
          "old_text": "lename_wl, \"r\");\n    TE",
          "new_text": "lename_sd, \"r\"));\n    f",
          "old_line_content": "    f = fopen(filename_wl, \"r\");",
          "new_line_content": "    TEST_ASSERT_NULL(fopen(filename_sd, \"r\"));",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "ERT_NOT_NULL",
          "new_api": "lename_wl, \"r\");\n    TE",
          "old_text": "ERT_NOT_NULL(f);\n    TE",
          "new_text": "lename_wl, \"r\");\n    TE",
          "old_line_content": "    TEST_ASSERT_NOT_NULL(f);",
          "new_line_content": "    f = fopen(filename_wl, \"r\");",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "f, sizeof(buf) - 1, f));\n    T",
          "new_api": "ERT_NOT_NULL",
          "old_text": "f, sizeof(buf) - 1, f));\n    T",
          "new_text": "ERT_NOT_NULL(f);\n    TE",
          "old_line_content": "    TEST_ASSERT_NOT_NULL(fgets(buf, sizeof(buf) - 1, f));",
          "new_line_content": "    TEST_ASSERT_NOT_NULL(f);",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "uf, str_wl));\n    f",
          "new_api": "f, sizeof(buf) - 1, f));\n    T",
          "old_text": "uf, str_wl));\n    f",
          "new_text": "f, sizeof(buf) - 1, f));\n    T",
          "old_line_content": "    TEST_ASSERT_EQUAL(0, strcmp(buf, str_wl));",
          "new_line_content": "    TEST_ASSERT_NOT_NULL(fgets(buf, sizeof(buf) - 1, f));",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": ");\n    TE",
          "new_api": "uf, str_wl));\n    f",
          "old_text": ");\n    TE",
          "new_text": "uf, str_wl));\n    f",
          "old_line_content": "    fclose(f);",
          "new_line_content": "    TEST_ASSERT_EQUAL(0, strcmp(buf, str_wl));",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": "fat_spiflash_unmount",
          "new_api": ");\n    TE",
          "old_text": "fat_spiflash_unmount(\"/spiflash\", wl_handle));\n}\n\n/*",
          "new_text": ");\n    TE",
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_unmount(\"/spiflash\", wl_handle));",
          "new_line_content": "    fclose(f);",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "fs_create_file_with_text",
          "new_api": "up",
          "old_text": "fs_create_file_with_text(test_filename_utf_8, fatfs_test_hello_str_utf);\n    te",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_create_file_with_text(test_filename_utf_8, fatfs_test_hello_str_utf);",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "fs_read_file_utf_8",
          "new_api": "fs_create_file_with_text",
          "old_text": "fs_read_file_utf_8(test_filename_utf_8);\n    te",
          "new_text": "fs_create_file_with_text(test_filename_utf_8, fatfs_test_hello_str_utf);\n    te",
          "old_line_content": "    test_fatfs_read_file_utf_8(test_filename_utf_8);",
          "new_line_content": "    test_fatfs_create_file_with_text(test_filename_utf_8, fatfs_test_hello_str_utf);",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "rdown",
          "new_api": "fs_read_file_utf_8",
          "old_text": "rdown();\n}\n\nTES",
          "new_text": "fs_read_file_utf_8(test_filename_utf_8);\n    te",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_read_file_utf_8(test_filename_utf_8);",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "fs_opendir_readdir_rewinddir_utf_8",
          "new_api": "up",
          "old_text": "fs_opendir_readdir_rewinddir_utf_8(\"/sdcard/目录\");\n    test_t",
          "new_text": "up();\n    te",
          "old_line_content": "    test_fatfs_opendir_readdir_rewinddir_utf_8(\"/sdcard/目录\");",
          "new_line_content": "    test_setup();",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "n",
          "new_api": "fs_opendir_readdir_rewinddir_utf_8",
          "old_text": "n();\n}\n#endif\n",
          "new_text": "fs_opendir_readdir_rewinddir_utf_8(\"/sdcard/目录\");\n    test_t",
          "old_line_content": "    test_teardown();",
          "new_line_content": "    test_fatfs_opendir_readdir_rewinddir_utf_8(\"/sdcard/目录\");",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 128,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) can create and remove directories\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) can create and remove directories\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) opendir, readdir, rewinddir, seekdir work as expected using UTF-8 encoded strings\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) opendir, readdir, rewinddir, seekdir work as expected using UTF-8 encoded strings\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) can opendir root directory of FS\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) can opendir root directory of FS\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "n",
          "old_text": null,
          "new_text": "n();\n}\n#endif\n",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) opendir, readdir, rewinddir, seekdir work as expected\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) opendir, readdir, rewinddir, seekdir work as expected\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) multiple tasks can use same volume\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) multiple tasks can use same volume\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nsta",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) write/read speed test\", \"[fatfs][sdcard][ignore]\")\n{\n    s",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) write/read speed test\", \"[fatfs][sdcard][ignore]\")",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": null,
          "new_api": "E_CAPTURE",
          "old_text": null,
          "new_text": "E_CAPTURE(heap_size);\n\n    c",
          "old_line_content": "",
          "new_line_content": "    HEAP_SIZE_CAPTURE(heap_size);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": ", buf_size);\n    fo",
          "old_text": null,
          "new_text": ", buf_size);\n    fo",
          "old_line_content": "    for (size_t i = 0; i < buf_size / 4; ++i) {",
          "new_line_content": "    uint32_t* buf = (uint32_t*) calloc(1, buf_size);",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": null,
          "new_api": "om",
          "old_text": null,
          "new_text": "om();\n    }\n",
          "old_line_content": "    }",
          "new_line_content": "        buf[i] = esp_random();",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "st",
          "old_text": null,
          "new_text": "st(buf, 16 * 1024, file_size, true);\n\n    s",
          "old_line_content": "",
          "new_line_content": "    speed_test(buf, 16 * 1024, file_size, true);",
          "content_same": false
        },
        {
          "line": 45,
          "old_api": null,
          "new_api": "esp_vfs_fat_sdmmc_mount",
          "old_text": null,
          "new_text": "esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL)",
          "old_line_content": "}",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL));",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": null,
          "new_api": "st",
          "old_text": null,
          "new_text": "st(buf, 16 * 1024, file_size, false);\n\n    f",
          "old_line_content": "",
          "new_line_content": "    speed_test(buf, 16 * 1024, file_size, false);",
          "content_same": false
        },
        {
          "line": 50,
          "old_api": null,
          "new_api": "esp_vfs_fat_sdmmc_unmount",
          "old_text": null,
          "new_text": "esp_vfs_fat_sdmmc_unmount()",
          "old_line_content": "}",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_unmount());",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": null,
          "new_api": ");\n\n    H",
          "old_text": null,
          "new_text": ");\n\n    H",
          "old_line_content": "",
          "new_line_content": "    free(buf);",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "E_CHECK",
          "old_text": null,
          "new_text": "E_CHECK(heap_size, 0);\n}\n\nsta",
          "old_line_content": "}",
          "new_line_content": "    HEAP_SIZE_CHECK(heap_size, 0);",
          "content_same": false
        },
        {
          "line": 56,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"Mount fails cleanly without card inserted\", \"[fatfs][ignore]\")\n{\n    s",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"Mount fails cleanly without card inserted\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": null,
          "new_api": "ST_DEFAULT",
          "old_text": null,
          "new_text": "ST_DEFAULT();\n    ho",
          "old_line_content": "    host.max_freq_khz = SDMMC_FREQ_HIGHSPEED;",
          "new_line_content": "    sdmmc_host_t host = SDMMC_HOST_DEFAULT();",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "OT_CONFIG_DEFAULT",
          "old_text": null,
          "new_text": "OT_CONFIG_DEFAULT();\n    es",
          "old_line_content": "    esp_vfs_fat_sdmmc_mount_config_t mount_config = {",
          "new_line_content": "    sdmmc_slot_config_t slot_config = SDMMC_SLOT_CONFIG_DEFAULT();",
          "content_same": false
        },
        {
          "line": 61,
          "old_api": null,
          "new_api": "OT_CONFIG_DEFAULT",
          "old_text": null,
          "new_text": "OT_CONFIG_DEFAULT();\n    es",
          "old_line_content": "    esp_vfs_fat_sdmmc_mount_config_t mount_config = {",
          "new_line_content": "    sdmmc_slot_config_t slot_config = SDMMC_SLOT_CONFIG_DEFAULT();",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "fat_sdmmc_mount",
          "old_text": null,
          "new_text": "fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL));\n\n    ",
          "old_line_content": "",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL));",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": null,
          "new_api": "fs_rw_speed",
          "old_text": null,
          "new_text": "fs_rw_speed(\"/sdcard/4mb.bin\", buf, buf_size, file_size, write);\n\n    T",
          "old_line_content": "",
          "new_line_content": "    test_fatfs_rw_speed(\"/sdcard/4mb.bin\", buf, buf_size, file_size, write);",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": null,
          "new_api": "fat_sdmmc_unmount",
          "old_text": null,
          "new_text": "fat_sdmmc_unmount());\n}\n\nTE",
          "old_line_content": "}",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_unmount());",
          "content_same": false
        },
        {
          "line": 71,
          "old_api": null,
          "new_api": "_ERR",
          "old_text": null,
          "new_text": "_ERR(ESP_FAIL, err);\n    }\n",
          "old_line_content": "    }",
          "new_line_content": "        TEST_ESP_ERR(ESP_FAIL, err);",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) mount two FAT partitions, SDMMC and WL, at the same time\", \"[fatfs][sdcard][ignore]\")\n{\n    e",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) mount two FAT partitions, SDMMC and WL, at the same time\", \"[fatfs][sdcard][ignore]\")",
          "content_same": false
        },
        {
          "line": 73,
          "old_api": null,
          "new_api": "E_CHECK",
          "old_text": null,
          "new_text": "E_CHECK(heap_size, 0);\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    HEAP_SIZE_CHECK(heap_size, 0);",
          "content_same": false
        },
        {
          "line": 76,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) can create and write file\", \"[fatfs][sdcard][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) can create and write file\", \"[fatfs][sdcard][ignore]\")",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 83,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) can read file\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) can read file\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\n\nTE",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 92,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) overwrite and append file\", \"[fatfs][sdcard][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) overwrite and append file\", \"[fatfs][sdcard][ignore]\")",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n\n    /",
          "old_line_content": "",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 96,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\n\nTE",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "ERT_NOT_NULL",
          "old_text": null,
          "new_text": "ERT_NOT_NULL(f);\n    ch",
          "old_line_content": "    char buf[64];",
          "new_line_content": "    TEST_ASSERT_NOT_NULL(f);",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) can lseek\", \"[fatfs][sdcard][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) can lseek\", \"[fatfs][sdcard][ignore]\")",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n\n    /",
          "old_line_content": "",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) stat returns correct values\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) stat returns correct values\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) unlink removes a file\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) unlink removes a file\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "fat_spiflash_unmount",
          "old_text": null,
          "new_text": "fat_spiflash_unmount(\"/spiflash\", wl_handle));\n}\n\n/*",
          "old_line_content": "}",
          "new_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_unmount(\"/spiflash\", wl_handle));",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) link copies a file, rename moves a file\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) link copies a file, rename moves a file\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "E",
          "old_text": null,
          "new_text": "E(\"(SD) can read file using UTF-8 encoded strings\", \"[fatfs][ignore]\")\n{\n    t",
          "old_line_content": "{",
          "new_line_content": "TEST_CASE(\"(SD) can read file using UTF-8 encoded strings\", \"[fatfs][ignore]\")",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": null,
          "new_api": "rdown",
          "old_text": null,
          "new_text": "rdown();\n}\n\nTES",
          "old_line_content": "}",
          "new_line_content": "    test_teardown();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 129,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) opendir, readdir, rewinddir, seekdir work as expected using UTF-8 encoded strings\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) opendir, readdir, rewinddir, seekdir work as expected using UTF-8 encoded strings\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 134,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) can opendir root directory of FS\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) can opendir root directory of FS\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) opendir, readdir, rewinddir, seekdir work as expected\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) opendir, readdir, rewinddir, seekdir work as expected\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) multiple tasks can use same volume\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) multiple tasks can use same volume\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) write/read speed test\", \"[fatfs][sdcard][ignore]\")\n{\n    s",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) write/read speed test\", \"[fatfs][sdcard][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "E_CAPTURE",
          "new_api": null,
          "old_text": "E_CAPTURE(heap_size);\n\n    c",
          "new_text": null,
          "old_line_content": "    HEAP_SIZE_CAPTURE(heap_size);",
          "new_line_content": "    size_t heap_size;",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": ", buf_size);\n    fo",
          "new_api": null,
          "old_text": ", buf_size);\n    fo",
          "new_text": null,
          "old_line_content": "    uint32_t* buf = (uint32_t*) calloc(1, buf_size);",
          "new_line_content": "    const size_t buf_size = 16 * 1024;",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "om",
          "new_api": null,
          "old_text": "om();\n    }\n",
          "new_text": null,
          "old_line_content": "        buf[i] = esp_random();",
          "new_line_content": "    for (size_t i = 0; i < buf_size / 4; ++i) {",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "st",
          "new_api": null,
          "old_text": "st(buf, 4 * 1024, file_size, true);\n    sp",
          "new_text": null,
          "old_line_content": "    speed_test(buf, 4 * 1024, file_size, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 44,
          "old_api": "esp_vfs_fat_sdmmc_mount",
          "new_api": null,
          "old_text": "esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL)",
          "new_text": null,
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL));",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": "st",
          "new_api": null,
          "old_text": "st(buf, 4 * 1024, file_size, false);\n    sp",
          "new_text": null,
          "old_line_content": "    speed_test(buf, 4 * 1024, file_size, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 49,
          "old_api": "esp_vfs_fat_sdmmc_unmount",
          "new_api": null,
          "old_text": "esp_vfs_fat_sdmmc_unmount()",
          "new_text": null,
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_unmount());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": ");\n\n    H",
          "new_api": null,
          "old_text": ");\n\n    H",
          "new_text": null,
          "old_line_content": "    free(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "E_CHECK",
          "new_api": null,
          "old_text": "E_CHECK(heap_size, 0);\n}\n\nsta",
          "new_text": null,
          "old_line_content": "    HEAP_SIZE_CHECK(heap_size, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 55,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"Mount fails cleanly without card inserted\", \"[fatfs][ignore]\")\n{\n    s",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"Mount fails cleanly without card inserted\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "ST_DEFAULT",
          "new_api": null,
          "old_text": "ST_DEFAULT();\n    ho",
          "new_text": null,
          "old_line_content": "    sdmmc_host_t host = SDMMC_HOST_DEFAULT();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 58,
          "old_api": "E_CAPTURE",
          "new_api": null,
          "old_text": "E_CAPTURE(heap_size);\n    sd",
          "new_text": null,
          "old_line_content": "    HEAP_SIZE_CAPTURE(heap_size);",
          "new_line_content": "    size_t heap_size;",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "OT_CONFIG_DEFAULT",
          "new_api": null,
          "old_text": "OT_CONFIG_DEFAULT();\n    es",
          "new_text": null,
          "old_line_content": "    sdmmc_slot_config_t slot_config = SDMMC_SLOT_CONFIG_DEFAULT();",
          "new_line_content": "    host.max_freq_khz = SDMMC_FREQ_HIGHSPEED;",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "fat_sdmmc_mount",
          "new_api": null,
          "old_text": "fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL));\n\n    ",
          "new_text": null,
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_mount(\"/sdcard\", &host, &slot_config, &mount_config, NULL));",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": "fs_rw_speed",
          "new_api": null,
          "old_text": "fs_rw_speed(\"/sdcard/4mb.bin\", buf, buf_size, file_size, write);\n\n    T",
          "new_text": null,
          "old_line_content": "    test_fatfs_rw_speed(\"/sdcard/4mb.bin\", buf, buf_size, file_size, write);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 67,
          "old_api": "Initializing card, attempt %d \", i);",
          "new_api": null,
          "old_text": "Initializing card, attempt %d \", i);\n      ",
          "new_text": null,
          "old_line_content": "        printf(\"Initializing card, attempt %d \", i);",
          "new_line_content": "    for (int i = 0; i < 3; ++i) {",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "fat_sdmmc_unmount",
          "new_api": null,
          "old_text": "fat_sdmmc_unmount());\n}\n\nTE",
          "new_text": null,
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_sdmmc_unmount());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) mount two FAT partitions, SDMMC and WL, at the same time\", \"[fatfs][sdcard][ignore]\")\n{\n    e",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) mount two FAT partitions, SDMMC and WL, at the same time\", \"[fatfs][sdcard][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 72,
          "old_api": "E_CHECK",
          "new_api": null,
          "old_text": "E_CHECK(heap_size, 0);\n}\n\nTES",
          "new_text": null,
          "old_line_content": "    HEAP_SIZE_CHECK(heap_size, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 75,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) can create and write file\", \"[fatfs][sdcard][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) can create and write file\", \"[fatfs][sdcard][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 77,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 82,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) can read file\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) can read file\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    TE",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "    wl_handle_t wl_handle = WL_INVALID_HANDLE;",
          "content_same": false
        },
        {
          "line": 91,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) overwrite and append file\", \"[fatfs][sdcard][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) overwrite and append file\", \"[fatfs][sdcard][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 93,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    TE",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "    /* Check that the file \"sd.txt\" was created on FS in SD, and has the right data */",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) can lseek\", \"[fatfs][sdcard][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) can lseek\", \"[fatfs][sdcard][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": "f, sizeof(buf) - 1, f));\n    T",
          "new_api": null,
          "old_text": "f, sizeof(buf) - 1, f));\n    T",
          "new_text": null,
          "old_line_content": "    TEST_ASSERT_NOT_NULL(fgets(buf, sizeof(buf) - 1, f));",
          "new_line_content": "    char buf[64];",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) stat returns correct values\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) stat returns correct values\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "fat_spiflash_mount",
          "new_api": null,
          "old_text": "fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));\n    T",
          "new_text": null,
          "old_line_content": "    TEST_ESP_OK(esp_vfs_fat_spiflash_mount(\"/spiflash\", NULL, &mount_config, &wl_handle));",
          "new_line_content": "    /* Check that the file \"wl.txt\" was created on FS in WL, and has the right data */",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) can read file using UTF-8 encoded strings\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) can read file using UTF-8 encoded strings\", \"[fatfs][ignore]\")",
          "new_line_content": "#if defined(CONFIG_FATFS_API_ENCODING_UTF_8) && (CONFIG_FATFS_CODEPAGE == 936)",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) unlink removes a file\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) unlink removes a file\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 120,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) link copies a file, rename moves a file\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) link copies a file, rename moves a file\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "up",
          "new_api": null,
          "old_text": "up();\n    te",
          "new_text": null,
          "old_line_content": "    test_setup();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 127,
          "old_api": "E",
          "new_api": null,
          "old_text": "E(\"(SD) can create and remove directories\", \"[fatfs][ignore]\")\n{\n    t",
          "new_text": null,
          "old_line_content": "TEST_CASE(\"(SD) can create and remove directories\", \"[fatfs][ignore]\")",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 52,
      "total_additions": 50,
      "total_deletions": 50,
      "total_api_changes": 152
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 152,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          42,
          43
        ]
      }
    },
    "api_calls_before": 123,
    "api_calls_after": 123,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}