{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/802b8a0a10c5b4610d82fe14f997ed486a812e3b",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/802b8a0a10c5b4610d82fe14f997ed486a812e3b/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/802b8a0a10c5b4610d82fe14f997ed486a812e3b/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/802b8a0a10c5b4610d82fe14f997ed486a812e3b/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 624,
          "old_api": "removeMessagesFor",
          "new_api": "manager",
          "old_text": "manager->removeMessagesFor(this, kPaintMessage)",
          "new_text": "this->manager()",
          "old_line_content": "    manager->removeMessagesFor(this, kPaintMessage);",
          "new_line_content": "    if (Manager* manager = this->manager())",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "bounds",
          "new_api": "getWindowMask",
          "old_text": "bounds()",
          "new_text": "theme()->getWindowMask(this, region)",
          "old_line_content": "    region = bounds();",
          "new_line_content": "    theme()->getWindowMask(this, region);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "rend",
          "new_api": "children",
          "old_text": "windows_list.rend()",
          "new_text": "manager->children()",
          "old_line_content": "        std::find(windows_list.rbegin(), windows_list.rend(), window);",
          "new_line_content": "      const WidgetsList& windows_list = manager->children();",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "empty",
          "new_api": "rend",
          "old_text": "windows_list.empty()",
          "new_text": "windows_list.rend()",
          "old_line_content": "      if (!windows_list.empty() &&",
          "new_line_content": "        std::find(windows_list.rbegin(), windows_list.rend(), window);",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "rend",
          "new_api": "empty",
          "old_text": "windows_list.rend()",
          "new_text": "windows_list.empty()",
          "old_line_content": "          it != windows_list.rend()) {",
          "new_line_content": "      if (!windows_list.empty() &&",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "getRegion",
          "new_api": "isVisible",
          "old_text": "child->getRegion(reg3)",
          "new_text": "child->isVisible()",
          "old_line_content": "        child->getRegion(reg3);",
          "new_line_content": "      if (child->isVisible()) {",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "hasFlags",
          "new_api": "getRegion",
          "old_text": "child->hasFlags(DECORATIVE)",
          "new_text": "child->getRegion(reg3)",
          "old_line_content": "        if (child->hasFlags(DECORATIVE)) {",
          "new_line_content": "        child->getRegion(reg3);",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "createIntersection",
          "new_api": "hasFlags",
          "old_text": "reg1.createIntersection(reg1, reg3)",
          "new_text": "child->hasFlags(DECORATIVE)",
          "old_line_content": "          reg1.createIntersection(reg1, reg3);",
          "new_line_content": "        if (child->hasFlags(DECORATIVE)) {",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "createSubtraction",
          "new_api": "createIntersection",
          "old_text": "region.createSubtraction(region, reg1)",
          "new_text": "reg1.createIntersection(reg2, reg3)",
          "old_line_content": "        region.createSubtraction(region, reg1);",
          "new_line_content": "          reg1.createIntersection(reg2, reg3);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "createIntersection",
          "new_api": "parent",
          "old_text": "region.createIntersection(\n        region, Region(p->childrenBounds()))",
          "new_text": "this->parent()",
          "old_line_content": "      region.createIntersection(",
          "new_line_content": "    Widget* p = this->parent();",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "parent",
          "new_api": "createIntersection",
          "old_text": "p->parent()",
          "new_text": "region.createIntersection(\n        region, Region(p->childrenBounds()))",
          "old_line_content": "      p = p->parent();",
          "new_line_content": "      region.createIntersection(",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "createIntersection",
          "new_api": "parent",
          "old_text": "region.createIntersection(\n        region, Region(p->bounds()))",
          "new_text": "parent()",
          "old_line_content": "      region.createIntersection(",
          "new_line_content": "    Widget* p = parent();",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "Region",
          "new_api": "childrenBounds",
          "old_text": "Region(cpos)",
          "new_text": "manager->childrenBounds()",
          "old_line_content": "    region.createIntersection(region, Region(cpos));",
          "new_line_content": "      cpos = manager->childrenBounds();",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "window",
          "new_api": "Region",
          "old_text": "manager->window()",
          "new_text": "Region(cpos)",
          "old_line_content": "    window = manager->window();",
          "new_line_content": "    region.createIntersection(region, Region(cpos));",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "textHeight",
          "new_api": "hasText",
          "old_text": "textHeight()",
          "new_text": "hasText()",
          "old_line_content": "    text_h = textHeight();",
          "new_line_content": "  if (hasText()) {",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "x2",
          "new_api": "right",
          "old_text": "bounds.x2()",
          "new_text": "border().right()",
          "old_line_content": "    box_x = (bounds.x+bounds.x2())/2 - box_w/2;",
          "new_line_content": "    box_x = bounds.x2() - box_w - border().right();",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "left",
          "new_api": "x2",
          "old_text": "border().left()",
          "new_text": "bounds.x2()",
          "old_line_content": "    box_x = bounds.x + border().left();",
          "new_line_content": "    box_x = (bounds.x+bounds.x2())/2 - box_w/2;",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "align",
          "new_api": "left",
          "old_text": "align()",
          "new_text": "border().left()",
          "old_line_content": "  if (align() & BOTTOM)",
          "new_line_content": "    box_x = bounds.x + border().left();",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "y2",
          "new_api": "bottom",
          "old_text": "bounds.y2()",
          "new_text": "border().bottom()",
          "old_line_content": "    box_y = (bounds.y+bounds.y2())/2 - box_h/2;",
          "new_line_content": "    box_y = bounds.y2() - box_h - border().bottom();",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "top",
          "new_api": "y2",
          "old_text": "border().top()",
          "new_text": "bounds.y2()",
          "old_line_content": "    box_y = bounds.y + border().top();",
          "new_line_content": "    box_y = (bounds.y+bounds.y2())/2 - box_h/2;",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "push",
          "new_api": "hasFlags",
          "old_text": "processing.push(this)",
          "new_text": "hasFlags(DIRTY)",
          "old_line_content": "    processing.push(this);",
          "new_line_content": "  if (hasFlags(DIRTY)) {",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "empty",
          "new_api": "ASSERT",
          "old_text": "processing.empty()",
          "new_text": "ASSERT(manager)",
          "old_line_content": "  while (!processing.empty()) {",
          "new_line_content": "  ASSERT(manager);",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "pop",
          "new_api": "empty",
          "old_text": "processing.pop()",
          "new_text": "processing.empty()",
          "old_line_content": "    processing.pop();",
          "new_line_content": "  while (!processing.empty()) {",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "ASSERT_VALID_WIDGET",
          "new_api": "pop",
          "old_text": "ASSERT_VALID_WIDGET(widget)",
          "new_text": "processing.pop()",
          "old_line_content": "    ASSERT_VALID_WIDGET(widget);",
          "new_line_content": "    processing.pop();",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "disableFlags",
          "new_api": "children",
          "old_text": "child->disableFlags(DIRTY)",
          "new_text": "widget->children()",
          "old_line_content": "        child->disableFlags(DIRTY);",
          "new_line_content": "    for (auto child : widget->children()) {",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "push",
          "new_api": "hasFlags",
          "old_text": "processing.push(child)",
          "new_text": "child->hasFlags(DIRTY)",
          "old_line_content": "        processing.push(child);",
          "new_line_content": "      if (child->hasFlags(DIRTY)) {",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "empty",
          "new_api": "push",
          "old_text": "processing.empty()",
          "new_text": "processing.push(this)",
          "old_line_content": "  while (!processing.empty()) {",
          "new_line_content": "  processing.push(this);",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "pop",
          "new_api": "empty",
          "old_text": "processing.pop()",
          "new_text": "processing.empty()",
          "old_line_content": "    processing.pop();",
          "new_line_content": "  while (!processing.empty()) {",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "ASSERT_VALID_WIDGET",
          "new_api": "pop",
          "old_text": "ASSERT_VALID_WIDGET(widget)",
          "new_text": "processing.pop()",
          "old_line_content": "    ASSERT_VALID_WIDGET(widget);",
          "new_line_content": "    processing.pop();",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "bounds",
          "new_api": "getInternalSurface",
          "old_text": "widget->bounds()",
          "new_text": "graphics->getInternalSurface()",
          "old_line_content": "      widget->bounds().y);",
          "new_line_content": "      graphics->getInternalSurface(),",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "font",
          "new_api": "bounds",
          "old_text": "widget->font()",
          "new_text": "widget->bounds()",
          "old_line_content": "    graphics2.setFont(widget->font());",
          "new_line_content": "      widget->bounds().x,",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "offset",
          "new_api": "begin",
          "old_text": "Rect(*it).offset(\n          -widget->bounds().x,\n          -widget->bounds().y)",
          "new_text": "region.begin()",
          "old_line_content": "      IntersectClip clip(&graphics2, Rect(*it).offset(",
          "new_line_content": "           it = region.begin(),",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "bounds",
          "new_api": "end",
          "old_text": "widget->bounds()",
          "new_text": "region.end()",
          "old_line_content": "          -widget->bounds().x,",
          "new_line_content": "           end = region.end(); it != end; ++it) {",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "bounds",
          "new_api": "offset",
          "old_text": "widget->bounds()",
          "new_text": "Rect(*it).offset(\n          -widget->bounds().x,\n          -widget->bounds().y)",
          "old_line_content": "          -widget->bounds().y));",
          "new_line_content": "      IntersectClip clip(&graphics2, Rect(*it).offset(",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "paintEvent",
          "new_api": "bounds",
          "old_text": "widget->paintEvent(&graphics2)",
          "new_text": "widget->bounds()",
          "old_line_content": "      widget->paintEvent(&graphics2);",
          "new_line_content": "          -widget->bounds().x,",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "parent",
          "new_api": "enableFlags",
          "old_text": "parent()",
          "new_text": "enableFlags(HIDDEN)",
          "old_line_content": "    if (parent()) {",
          "new_line_content": "    enableFlags(HIDDEN);",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "createIntersection",
          "new_api": "parent",
          "old_text": "rgn.createIntersection(\n        rgn,\n        gfx::Region(\n          graphics->getClipBounds().offset(\n            graphics->getInternalDeltaX(),\n            graphics->getInternalDeltaY())))",
          "new_text": "parent()",
          "old_line_content": "      rgn.createIntersection(",
          "new_line_content": "    if (parent()) {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "offset",
          "new_api": "createIntersection",
          "old_text": "gfx::Region(\n          graphics->getClipBounds().offset(\n            graphics->getInternalDeltaX(),\n            graphics->getInternalDeltaY()))",
          "new_text": "rgn.createIntersection(\n        rgn,\n        gfx::Region(\n          graphics->getClipBounds().offset(\n            graphics->getInternalDeltaX(),\n            graphics->getInternalDeltaY())))",
          "old_line_content": "        gfx::Region(",
          "new_line_content": "      rgn.createIntersection(",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "getInternalDeltaX",
          "new_api": "offset",
          "old_text": "graphics->getInternalDeltaX()",
          "new_text": "gfx::Region(\n          graphics->getClipBounds().offset(\n            graphics->getInternalDeltaX(),\n            graphics->getInternalDeltaY()))",
          "old_line_content": "            graphics->getInternalDeltaX(),",
          "new_line_content": "        gfx::Region(",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "getInternalDeltaY",
          "new_api": "offset",
          "old_text": "graphics->getInternalDeltaY()",
          "new_text": "graphics->getClipBounds().offset(\n            graphics->getInternalDeltaX(),\n            graphics->getInternalDeltaY())",
          "old_line_content": "            graphics->getInternalDeltaY())));",
          "new_line_content": "          graphics->getClipBounds().offset(",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "paint",
          "new_api": "getInternalDeltaX",
          "old_text": "parent()->paint(graphics, rgn)",
          "new_text": "graphics->getInternalDeltaX()",
          "old_line_content": "      parent()->paint(graphics, rgn);",
          "new_line_content": "            graphics->getInternalDeltaX(),",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "getDrawableRegion",
          "new_api": "isVisible",
          "old_text": "getDrawableRegion(m_updateRegion, kCutTopWindows)",
          "new_text": "isVisible()",
          "old_line_content": "    getDrawableRegion(m_updateRegion, kCutTopWindows);",
          "new_line_content": "  if (isVisible()) {",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": "mark_dirty_flag",
          "new_api": "getDrawableRegion",
          "old_text": "mark_dirty_flag(this)",
          "new_text": "getDrawableRegion(m_updateRegion, kCutTopWindows)",
          "old_line_content": "    mark_dirty_flag(this);",
          "new_line_content": "    getDrawableRegion(m_updateRegion, kCutTopWindows);",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "dispose",
          "new_api": "height",
          "old_text": "m_surface->dispose()",
          "new_text": "m_surface->height()",
          "old_line_content": "    m_surface->dispose();",
          "new_line_content": "        m_surface->width(), m_surface->height());",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "reset",
          "new_api": "isDirectToScreen",
          "old_text": "graphics.reset(new Graphics(surface, -clip.x, -clip.y),\n      DeleteGraphicsAndSurface(clip, surface))",
          "new_text": "defaultSurface->isDirectToScreen()",
          "old_line_content": "    graphics.reset(new Graphics(surface, -clip.x, -clip.y),",
          "new_line_content": "  if (m_doubleBuffered && defaultSurface->isDirectToScreen()) {",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "DeleteGraphicsAndSurface",
          "new_api": "createSurface",
          "old_text": "DeleteGraphicsAndSurface(clip, surface)",
          "new_text": "she::instance()->createSurface(clip.w, clip.h)",
          "old_line_content": "      DeleteGraphicsAndSurface(clip, surface));",
          "new_line_content": "    surface = she::instance()->createSurface(clip.w, clip.h);",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "sizeHint",
          "new_api": "onSizeHint",
          "old_text": "ev.sizeHint()",
          "new_text": "onSizeHint(ev)",
          "old_line_content": "    Size sz(ev.sizeHint());",
          "new_line_content": "    onSizeHint(ev);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "MID",
          "new_api": "sizeHint",
          "old_text": "MID(m_minSize.h, sz.h, m_maxSize.h)",
          "new_text": "ev.sizeHint()",
          "old_line_content": "    sz.h = MID(m_minSize.h, sz.h, m_maxSize.h);",
          "new_line_content": "    Size sz(ev.sizeHint());",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "sizeHint",
          "new_api": "onSizeHint",
          "old_text": "ev.sizeHint()",
          "new_text": "onSizeHint(ev)",
          "old_line_content": "    Size sz(ev.sizeHint());",
          "new_line_content": "    onSizeHint(ev);",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "MID",
          "new_api": "sizeHint",
          "old_text": "MID(m_minSize.h, sz.h, m_maxSize.h)",
          "new_text": "ev.sizeHint()",
          "old_line_content": "    sz.h = MID(m_minSize.h, sz.h, m_maxSize.h);",
          "new_line_content": "    Size sz(ev.sizeHint());",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "type",
          "new_api": "hasCapture",
          "old_text": "pick->type()",
          "new_text": "hasCapture()",
          "old_line_content": "    if (pick && pick != this && pick->type() == widget_type) {",
          "new_line_content": "  if (hasCapture()) {",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "releaseMouse",
          "new_api": "position",
          "old_text": "releaseMouse()",
          "new_text": "mouseMsg->position()",
          "old_line_content": "      releaseMouse();",
          "new_line_content": "    Widget* pick = manager()->pick(mouseMsg->position());",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "position",
          "new_api": "buttons",
          "old_text": "mouseMsg->position()",
          "new_text": "mouseMsg->buttons()",
          "old_line_content": "        mouseMsg->position());",
          "new_line_content": "        mouseMsg->buttons(),",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "addRecipient",
          "new_api": "modifiers",
          "old_text": "mouseMsg2->addRecipient(pick)",
          "new_text": "mouseMsg->modifiers()",
          "old_line_content": "      mouseMsg2->addRecipient(pick);",
          "new_line_content": "        mouseMsg->modifiers(),",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "enqueueMessage",
          "new_api": "position",
          "old_text": "manager()->enqueueMessage(mouseMsg2)",
          "new_text": "mouseMsg->position()",
          "old_line_content": "      manager()->enqueueMessage(mouseMsg2);",
          "new_line_content": "        mouseMsg->position());",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "type",
          "new_api": "ASSERT",
          "old_text": "msg->type()",
          "new_text": "ASSERT(msg != NULL)",
          "old_line_content": "  switch (msg->type()) {",
          "new_line_content": "  ASSERT(msg != NULL);",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": "rect",
          "new_api": "static_cast<const PaintMessage*>(msg)",
          "old_text": "ptmsg->rect()",
          "new_text": "static_cast<const PaintMessage*>(msg)",
          "old_line_content": "      ASSERT(ptmsg->rect().h > 0);",
          "new_line_content": "      const PaintMessage* ptmsg = static_cast<const PaintMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "sendMessage",
          "new_api": "propagateToParent",
          "old_text": "parent()->sendMessage(msg)",
          "new_text": "static_cast<KeyMessage*>(msg)->propagateToParent()",
          "old_line_content": "        return parent()->sendMessage(msg);",
          "new_line_content": "      if (static_cast<KeyMessage*>(msg)->propagateToParent() &&",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "buttons",
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": "mouseMsg->buttons()",
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "                               mouseMsg->buttons(),",
          "new_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "position",
          "new_api": "buttons",
          "old_text": "mouseMsg->position()",
          "new_text": "mouseMsg->buttons()",
          "old_line_content": "                               mouseMsg->position(),",
          "new_line_content": "                               mouseMsg->buttons(),",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "wheelDelta",
          "new_api": "modifiers",
          "old_text": "mouseMsg->wheelDelta()",
          "new_text": "mouseMsg->modifiers()",
          "old_line_content": "                               mouseMsg->wheelDelta());",
          "new_line_content": "                               mouseMsg->modifiers(),",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "sendMessage",
          "new_api": "wheelDelta",
          "old_text": "sendMessage(&mouseMsg2)",
          "new_text": "mouseMsg->wheelDelta()",
          "old_line_content": "        sendMessage(&mouseMsg2);",
          "new_line_content": "                               mouseMsg->wheelDelta());",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "set_mouse_cursor",
          "new_api": "sendMessage",
          "old_text": "set_mouse_cursor(kArrowCursor)",
          "new_text": "parent()->sendMessage(msg)",
          "old_line_content": "        set_mouse_cursor(kArrowCursor);",
          "new_line_content": "        return parent()->sendMessage(msg);",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "createUnion",
          "new_api": "bounds",
          "old_text": "reg1.createUnion(m_updateRegion, region)",
          "new_text": "bounds()",
          "old_line_content": "    reg1.createUnion(m_updateRegion, region);",
          "new_line_content": "  if (isVisible() && region.contains(bounds()) != Region::Out) {",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "createSubtraction",
          "new_api": "createIntersection",
          "old_text": "reg1.createSubtraction(region, m_updateRegion)",
          "new_text": "m_updateRegion.createIntersection(reg1, reg2)",
          "old_line_content": "    reg1.createSubtraction(region, m_updateRegion);",
          "new_line_content": "      m_updateRegion.createIntersection(reg1, reg2);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "mark_dirty_flag",
          "new_api": "createSubtraction",
          "old_text": "mark_dirty_flag(this)",
          "new_text": "reg1.createSubtraction(region, m_updateRegion)",
          "old_line_content": "    mark_dirty_flag(this);",
          "new_line_content": "    reg1.createSubtraction(region, m_updateRegion);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "setBounds",
          "new_api": "childrenBounds",
          "old_text": "child->setBounds(cpos)",
          "new_text": "childrenBounds()",
          "old_line_content": "    child->setBounds(cpos);",
          "new_line_content": "  gfx::Rect cpos = childrenBounds();",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "hasFlags",
          "new_api": "initWidget",
          "old_text": "hasFlags(INITIALIZED)",
          "new_text": "m_theme->initWidget(this)",
          "old_line_content": "    if (!hasFlags(INITIALIZED))",
          "new_line_content": "    m_theme->initWidget(this);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1029,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "m_updateRegion.clear()",
          "old_line_content": "",
          "new_line_content": "    m_updateRegion.clear();",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "mark_dirty_flag",
          "old_text": null,
          "new_text": "mark_dirty_flag(this)",
          "old_line_content": "    for (auto child : m_children)",
          "new_line_content": "    mark_dirty_flag(this);",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "child->invalidate()",
          "old_line_content": "}",
          "new_line_content": "      child->invalidate();",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "isVisible",
          "old_text": null,
          "new_text": "isVisible()",
          "old_line_content": "}",
          "new_line_content": "  if (isVisible())",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "Region",
          "old_text": null,
          "new_text": "Region(rect)",
          "old_line_content": "",
          "new_line_content": "    invalidateRegion(Region(rect));",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "onInvalidateRegion",
          "old_text": null,
          "new_text": "onInvalidateRegion(region)",
          "old_line_content": "",
          "new_line_content": "  onInvalidateRegion(region);",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "clip.origin()",
          "old_line_content": "",
          "new_line_content": "    : m_pt(clip.origin()), m_surface(surface) {",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "blitTo",
          "old_text": null,
          "new_text": "src->blitTo(dst, 0, 0, m_pt.x, m_pt.y,\n        m_surface->width(), m_surface->height())",
          "old_line_content": "    }",
          "new_line_content": "      src->blitTo(dst, 0, 0, m_pt.x, m_pt.y,",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "dispose",
          "old_text": null,
          "new_text": "m_surface->dispose()",
          "old_line_content": "  }",
          "new_line_content": "    m_surface->dispose();",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "defaultDisplay",
          "old_text": null,
          "new_text": "she::instance()->defaultDisplay()->getSurface()",
          "old_line_content": "  // In case of double-buffering, we need to create the temporary",
          "new_line_content": "  she::Surface* defaultSurface = she::instance()->defaultDisplay()->getSurface();",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "graphics.reset(new Graphics(surface, -clip.x, -clip.y),\n      DeleteGraphicsAndSurface(clip, surface))",
          "old_line_content": "  }",
          "new_line_content": "    graphics.reset(new Graphics(surface, -clip.x, -clip.y),",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "DeleteGraphicsAndSurface",
          "old_text": null,
          "new_text": "DeleteGraphicsAndSurface(clip, surface)",
          "old_line_content": "  // In other case, we can draw directly onto the screen.",
          "new_line_content": "      DeleteGraphicsAndSurface(clip, surface));",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "bounds()",
          "old_line_content": "",
          "new_line_content": "    graphics.reset(new Graphics(surface, bounds().x, bounds().y));",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "font",
          "old_text": null,
          "new_text": "font()",
          "old_line_content": "}",
          "new_line_content": "  graphics->setFont(font());",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(msg)",
          "old_line_content": "}",
          "new_line_content": "  ASSERT(msg);",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "onProcessMessage",
          "old_text": null,
          "new_text": "onProcessMessage(msg)",
          "old_line_content": "",
          "new_line_content": "  return onProcessMessage(msg);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "window()",
          "old_line_content": "}",
          "new_line_content": "  if (Window* w = window())",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "closeWindow",
          "old_text": null,
          "new_text": "w->closeWindow(this)",
          "old_line_content": "",
          "new_line_content": "    w->closeWindow(this);",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": null,
          "new_api": "onBroadcastMouseMessage",
          "old_text": null,
          "new_text": "onBroadcastMouseMessage(targets)",
          "old_line_content": "",
          "new_line_content": "  onBroadcastMouseMessage(targets);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "removeMessagesFor",
          "old_text": null,
          "new_text": "manager->removeMessagesFor(this, kPaintMessage)",
          "old_line_content": "",
          "new_line_content": "      manager->removeMessagesFor(this, kPaintMessage);",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(0, 0)",
          "old_line_content": "",
          "new_line_content": "    SizeHintEvent ev(this, Size(0, 0));",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "",
          "new_line_content": "  invalidate();",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": null,
          "new_api": "MID",
          "old_text": null,
          "new_text": "MID(m_minSize.w, sz.w, m_maxSize.w)",
          "old_line_content": "    return sz;",
          "new_line_content": "    sz.w = MID(m_minSize.w, sz.w, m_maxSize.w);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "MID",
          "old_text": null,
          "new_text": "MID(m_minSize.h, sz.h, m_maxSize.h)",
          "old_line_content": "  }",
          "new_line_content": "    sz.h = MID(m_minSize.h, sz.h, m_maxSize.h);",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "gfx::Border(0, 0, 0, 0)",
          "old_text": null,
          "new_text": "gfx::Border(0, 0, 0, 0)",
          "old_line_content": "}",
          "new_line_content": "  m_border = gfx::Border(0, 0, 0, 0);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "type()",
          "old_line_content": "  else",
          "new_line_content": "  if (type() == kWindowWidget)",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "bounds()",
          "old_line_content": "",
          "new_line_content": "    region = bounds();",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "getRegion",
          "old_text": null,
          "new_text": "getRegion(region)",
          "old_line_content": "  // Cut the top windows areas",
          "new_line_content": "  getRegion(region);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "MID",
          "old_text": null,
          "new_text": "MID(m_minSize.w, sz.w, m_maxSize.w)",
          "old_line_content": "    return sz;",
          "new_line_content": "    sz.w = MID(m_minSize.w, sz.w, m_maxSize.w);",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "MID",
          "old_text": null,
          "new_text": "MID(m_minSize.h, sz.h, m_maxSize.h)",
          "old_line_content": "  }",
          "new_line_content": "    sz.h = MID(m_minSize.h, sz.h, m_maxSize.h);",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "this->window()",
          "old_line_content": "",
          "new_line_content": "    window = this->window();",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": null,
          "new_api": "manager",
          "old_text": null,
          "new_text": "window->manager()",
          "old_line_content": "    while (manager) {",
          "new_line_content": "    manager = (window ? window->manager(): nullptr);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "windows_list.front()",
          "old_line_content": "        // Subtract the rectangles",
          "new_line_content": "          window != windows_list.front() &&",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "rend",
          "old_text": null,
          "new_text": "windows_list.rend()",
          "old_line_content": "            continue;",
          "new_line_content": "        for (++it; it != windows_list.rend(); ++it) {",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "isVisible",
          "old_text": null,
          "new_text": "*it)->isVisible()",
          "old_line_content": "",
          "new_line_content": "          if (!(*it)->isVisible())",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(fixedWidth, fixedHeight)",
          "old_line_content": "",
          "new_line_content": "  setSizeHint(Size(fixedWidth, fixedHeight));",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "getRegion",
          "old_text": null,
          "new_text": "*it)->getRegion(reg1)",
          "old_line_content": "        }",
          "new_line_content": "          (*it)->getRegion(reg1);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": null,
          "new_api": "createSubtraction",
          "old_text": null,
          "new_text": "region.createSubtraction(region, reg1)",
          "old_line_content": "      }",
          "new_line_content": "          region.createSubtraction(region, reg1);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "manager->window()",
          "old_line_content": "    }",
          "new_line_content": "      window = manager->window();",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "manager",
          "old_text": null,
          "new_text": "window->manager()",
          "old_line_content": "  }",
          "new_line_content": "      manager = (window ? window->manager(): nullptr);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "setFocus",
          "old_text": null,
          "new_text": "manager()->setFocus(this)",
          "old_line_content": "",
          "new_line_content": "  manager()->setFocus(this);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "children().empty()",
          "old_line_content": "    Region reg2(childrenBounds());",
          "new_line_content": "  if (!(flags & kUseChildArea) && !children().empty()) {",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "hasFocus",
          "old_text": null,
          "new_text": "hasFocus()",
          "old_line_content": "}",
          "new_line_content": "  if (hasFocus())",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "freeFocus",
          "old_text": null,
          "new_text": "manager()->freeFocus()",
          "old_line_content": "",
          "new_line_content": "    manager()->freeFocus();",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "children",
          "old_text": null,
          "new_text": "children()",
          "old_line_content": "        Region reg3;",
          "new_line_content": "    for (auto child : children()) {",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "bounds()",
          "old_line_content": "        }",
          "new_line_content": "          reg1 = bounds();",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "createIntersection",
          "old_text": null,
          "new_text": "reg1.createIntersection(reg1, reg3)",
          "old_line_content": "        else {",
          "new_line_content": "          reg1.createIntersection(reg1, reg3);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "getCapture",
          "old_text": null,
          "new_text": "manager()->getCapture()",
          "old_line_content": "  }",
          "new_line_content": "  if (!manager()->getCapture()) {",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "setCapture",
          "old_text": null,
          "new_text": "manager()->setCapture(this)",
          "old_line_content": "}",
          "new_line_content": "    manager()->setCapture(this);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "createSubtraction",
          "old_text": null,
          "new_text": "region.createSubtraction(region, reg1)",
          "old_line_content": "    }",
          "new_line_content": "        region.createSubtraction(region, reg1);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "getCapture",
          "old_text": null,
          "new_text": "manager()->getCapture()",
          "old_line_content": "  }",
          "new_line_content": "  if (manager()->getCapture() == this) {",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "hasFlags",
          "old_text": null,
          "new_text": "hasFlags(DECORATIVE)",
          "old_line_content": "    while (p) {",
          "new_line_content": "  if (!hasFlags(DECORATIVE)) {",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "freeCapture",
          "old_text": null,
          "new_text": "manager()->freeCapture()",
          "old_line_content": "}",
          "new_line_content": "    manager()->freeCapture();",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "childrenBounds",
          "old_text": null,
          "new_text": "p->childrenBounds()",
          "old_line_content": "    }",
          "new_line_content": "        region, Region(p->childrenBounds()));",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": null,
          "new_api": "parent",
          "old_text": null,
          "new_text": "p->parent()",
          "old_line_content": "  }",
          "new_line_content": "      p = p->parent();",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "pick->type()",
          "old_line_content": "",
          "new_line_content": "    if (pick && pick != this && pick->type() == widget_type) {",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "releaseMouse",
          "old_text": null,
          "new_text": "releaseMouse()",
          "old_line_content": "      MouseMessage* mouseMsg2 = new MouseMessage(",
          "new_line_content": "      releaseMouse();",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "createIntersection",
          "old_text": null,
          "new_text": "region.createIntersection(\n        region, Region(p->bounds()))",
          "old_line_content": "    }",
          "new_line_content": "      region.createIntersection(",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "p->bounds()",
          "old_line_content": "  }",
          "new_line_content": "        region, Region(p->bounds()));",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "addRecipient",
          "old_text": null,
          "new_text": "mouseMsg2->addRecipient(pick)",
          "old_line_content": "      return true;",
          "new_line_content": "      mouseMsg2->addRecipient(pick);",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "this->window()",
          "old_line_content": "",
          "new_line_content": "  window = this->window();",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "manager",
          "old_text": null,
          "new_text": "window->manager()",
          "old_line_content": "  while (manager) {",
          "new_line_content": "  manager = (window ? window->manager(): nullptr);",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": null,
          "new_api": "enqueueMessage",
          "old_text": null,
          "new_text": "manager()->enqueueMessage(mouseMsg2)",
          "old_line_content": "    }",
          "new_line_content": "      manager()->enqueueMessage(mouseMsg2);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "View::getView(manager)",
          "old_text": null,
          "new_text": "View::getView(manager)",
          "old_line_content": "    Rect cpos;",
          "new_line_content": "    view = View::getView(manager);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "viewportBounds",
          "old_text": null,
          "new_text": "static_cast<View*>(view)->viewportBounds()",
          "old_line_content": "    else",
          "new_line_content": "      cpos = static_cast<View*>(view)->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "hasFlags",
          "old_text": null,
          "new_text": "hasFlags(HAS_FOCUS)",
          "old_line_content": "",
          "new_line_content": "  return hasFlags(HAS_FOCUS);",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "hasFlags",
          "old_text": null,
          "new_text": "hasFlags(HAS_MOUSE)",
          "old_line_content": "",
          "new_line_content": "  return hasFlags(HAS_MOUSE);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "manager->window()",
          "old_line_content": "  }",
          "new_line_content": "    window = manager->window();",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "manager",
          "old_text": null,
          "new_text": "window->manager()",
          "old_line_content": "}",
          "new_line_content": "    manager = (window ? window->manager(): nullptr);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "get_mouse_position",
          "old_text": null,
          "new_text": "get_mouse_position()",
          "old_line_content": "",
          "new_line_content": "  return (this == pick(get_mouse_position()));",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "font",
          "old_text": null,
          "new_text": "font()",
          "old_line_content": "",
          "new_line_content": "  return Graphics::measureUIStringLength(text().c_str(), font());",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "hasFlags",
          "old_text": null,
          "new_text": "hasFlags(HAS_CAPTURE)",
          "old_line_content": "",
          "new_line_content": "  return hasFlags(HAS_CAPTURE);",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "font()->height()",
          "old_line_content": "",
          "new_line_content": "  return font()->height();",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "hasText",
          "old_text": null,
          "new_text": "hasText()",
          "old_line_content": "      if ((m_text[c] == '&') && (m_text[c+1] != '&'))",
          "new_line_content": "  if (hasText()) {",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(m_text[c+1])",
          "old_line_content": "  return 0;",
          "new_line_content": "        return tolower(m_text[c+1]);",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "msg->type()",
          "old_line_content": "    case kOpenMessage:",
          "new_line_content": "  switch (msg->type()) {",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": null,
          "new_api": "clientBounds",
          "old_text": null,
          "new_text": "clientBounds()",
          "old_line_content": "  int text_x, text_y, text_w, text_h;",
          "new_line_content": "  gfx::Rect bounds = clientBounds();",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "sendMessage",
          "old_text": null,
          "new_text": "child->sendMessage(msg)",
          "old_line_content": "",
          "new_line_content": "        child->sendMessage(msg);",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "textWidth",
          "old_text": null,
          "new_text": "textWidth()",
          "old_line_content": "  }",
          "new_line_content": "    text_w = textWidth();",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "textHeight",
          "old_text": null,
          "new_text": "textHeight()",
          "old_line_content": "  else {",
          "new_line_content": "    text_h = textHeight();",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "rect",
          "old_text": null,
          "new_text": "ptmsg->rect()",
          "old_line_content": "",
          "new_line_content": "      ASSERT(ptmsg->rect().w > 0);",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "rect",
          "old_text": null,
          "new_text": "ptmsg->rect()",
          "old_line_content": "    }",
          "new_line_content": "      GraphicsPtr graphics = getGraphics(toClient(ptmsg->rect()));",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "graphics.get()",
          "old_line_content": "",
          "new_line_content": "      return paintEvent(graphics.get());",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(icon_w, text_w)",
          "old_line_content": "    }",
          "new_line_content": "      box_w = MAX(icon_w, text_w);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(icon_h, text_h)",
          "old_line_content": "    // With the icon in the top or bottom",
          "new_line_content": "      box_h = MAX(icon_h, text_h);",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "propagateToChildren",
          "old_text": null,
          "new_text": "static_cast<KeyMessage*>(msg)->propagateToChildren()",
          "old_line_content": "        for (auto child : m_children)",
          "new_line_content": "      if (static_cast<KeyMessage*>(msg)->propagateToChildren()) {",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "sendMessage",
          "old_text": null,
          "new_text": "child->sendMessage(msg)",
          "old_line_content": "      }",
          "new_line_content": "          if (child->sendMessage(msg))",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(icon_w, text_w)",
          "old_line_content": "    }",
          "new_line_content": "      box_w = MAX(icon_w, text_w);",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "childSpacing",
          "old_text": null,
          "new_text": "childSpacing()",
          "old_line_content": "  }",
          "new_line_content": "      box_h = icon_h + (hasText() ? childSpacing(): 0) + text_h;",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "parent",
          "old_text": null,
          "new_text": "parent()",
          "old_line_content": "      }",
          "new_line_content": "          parent()) {",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "sendMessage",
          "old_text": null,
          "new_text": "parent()->sendMessage(msg)",
          "old_line_content": "      else",
          "new_line_content": "        return parent()->sendMessage(msg);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "childSpacing",
          "old_text": null,
          "new_text": "childSpacing()",
          "old_line_content": "  }",
          "new_line_content": "    box_w = icon_w + (hasText() ? childSpacing(): 0) + text_w;",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(icon_h, text_h)",
          "old_line_content": "",
          "new_line_content": "    box_h = MAX(icon_h, text_h);",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "align",
          "old_text": null,
          "new_text": "align()",
          "old_line_content": "  else",
          "new_line_content": "  else if (align() & CENTER)",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "mouseMsg->position()",
          "old_line_content": "",
          "new_line_content": "                               mouseMsg->position(),",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "align",
          "old_text": null,
          "new_text": "align()",
          "old_line_content": "  else",
          "new_line_content": "  else if (align() & MIDDLE)",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": null,
          "new_api": "sendMessage",
          "old_text": null,
          "new_text": "sendMessage(&mouseMsg2)",
          "old_line_content": "      break;",
          "new_line_content": "        sendMessage(&mouseMsg2);",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "top",
          "old_text": null,
          "new_text": "border().top()",
          "old_line_content": "  // With text",
          "new_line_content": "    box_y = bounds.y + border().top();",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": null,
          "new_api": "hasText",
          "old_text": null,
          "new_text": "hasText()",
          "old_line_content": "    if (icon_align & RIGHT) {",
          "new_line_content": "  if (hasText()) {",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "parent",
          "old_text": null,
          "new_text": "parent()",
          "old_line_content": "      else",
          "new_line_content": "      if (parent() != NULL)",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "sendMessage",
          "old_text": null,
          "new_text": "parent()->sendMessage(msg)",
          "old_line_content": "        break;",
          "new_line_content": "        return parent()->sendMessage(msg);",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": null,
          "new_api": "parent",
          "old_text": null,
          "new_text": "parent()",
          "old_line_content": "      else {",
          "new_line_content": "      if (parent())",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "set_mouse_cursor",
          "old_text": null,
          "new_text": "set_mouse_cursor(kArrowCursor)",
          "old_line_content": "      }",
          "new_line_content": "        set_mouse_cursor(kArrowCursor);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "createUnion",
          "old_text": null,
          "new_text": "reg1.createUnion(m_updateRegion, region)",
          "old_line_content": "      Region reg2;",
          "new_line_content": "    reg1.createUnion(m_updateRegion, region);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "getDrawableRegion",
          "old_text": null,
          "new_text": "getDrawableRegion(reg2, kCutTopWindows)",
          "old_line_content": "    }",
          "new_line_content": "      getDrawableRegion(reg2, kCutTopWindows);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "SETRECT",
          "old_text": null,
          "new_text": "SETRECT(text)",
          "old_line_content": "}",
          "new_line_content": "  SETRECT(text);",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "SETRECT",
          "old_text": null,
          "new_text": "SETRECT(icon)",
          "old_line_content": "",
          "new_line_content": "  SETRECT(icon);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "mark_dirty_flag",
          "old_text": null,
          "new_text": "mark_dirty_flag(this)",
          "old_line_content": "    for (auto child : m_children)",
          "new_line_content": "    mark_dirty_flag(this);",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "invalidateRegion",
          "old_text": null,
          "new_text": "child->invalidateRegion(reg1)",
          "old_line_content": "}",
          "new_line_content": "      child->invalidateRegion(reg1);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "setSizeHint",
          "old_text": null,
          "new_text": "ev.setSizeHint(m_minSize)",
          "old_line_content": "",
          "new_line_content": "  ev.setSizeHint(m_minSize);",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "disableFlags",
          "old_text": null,
          "new_text": "disableFlags(DIRTY)",
          "old_line_content": "  }",
          "new_line_content": "    disableFlags(DIRTY);",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "push",
          "old_text": null,
          "new_text": "processing.push(this)",
          "old_line_content": "",
          "new_line_content": "    processing.push(this);",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "manager",
          "old_text": null,
          "new_text": "this->manager()",
          "old_line_content": "",
          "new_line_content": "  Manager* manager = this->manager();",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "ev.bounds()",
          "old_line_content": "  // Set all the children to the same \"cpos\".",
          "new_line_content": "  setBoundsQuietly(ev.bounds());",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "processing.front()",
          "old_line_content": "",
          "new_line_content": "    Widget* widget = processing.front();",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "setBounds",
          "old_text": null,
          "new_text": "child->setBounds(cpos)",
          "old_line_content": "",
          "new_line_content": "    child->setBounds(cpos);",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "ASSERT_VALID_WIDGET",
          "old_text": null,
          "new_text": "ASSERT_VALID_WIDGET(widget)",
          "old_line_content": "    // If the widget is hidden",
          "new_line_content": "    ASSERT_VALID_WIDGET(widget);",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": null,
          "new_api": "isVisible",
          "old_text": null,
          "new_text": "widget->isVisible()",
          "old_line_content": "",
          "new_line_content": "    if (!widget->isVisible())",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "disableFlags",
          "old_text": null,
          "new_text": "child->disableFlags(DIRTY)",
          "old_line_content": "      }",
          "new_line_content": "        child->disableFlags(DIRTY);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "push",
          "old_text": null,
          "new_text": "processing.push(child)",
          "old_line_content": "    }",
          "new_line_content": "        processing.push(child);",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "isEmpty",
          "old_text": null,
          "new_text": "widget->m_updateRegion.isEmpty()",
          "old_line_content": "      {",
          "new_line_content": "    if (!widget->m_updateRegion.isEmpty()) {",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "getDrawableRegion",
          "old_text": null,
          "new_text": "widget->getDrawableRegion(drawable, kCutTopWindows)",
          "old_line_content": "      }",
          "new_line_content": "        widget->getDrawableRegion(drawable, kCutTopWindows);",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": null,
          "new_api": "hasFlags",
          "old_text": null,
          "new_text": "hasFlags(INITIALIZED)",
          "old_line_content": "  }",
          "new_line_content": "    if (!hasFlags(INITIALIZED))",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "enableFlags",
          "old_text": null,
          "new_text": "enableFlags(INITIALIZED)",
          "old_line_content": "}",
          "new_line_content": "      enableFlags(INITIALIZED);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "widget->m_updateRegion.size()",
          "old_line_content": "",
          "new_line_content": "      std::size_t c, nrects = widget->m_updateRegion.size();",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "widget->m_updateRegion.begin()",
          "old_line_content": "      // Draw the widget",
          "new_line_content": "      Region::const_iterator it = widget->m_updateRegion.begin();",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": null,
          "new_api": "setDecorativeWidgetBounds",
          "old_text": null,
          "new_text": "m_theme->setDecorativeWidgetBounds(this)",
          "old_line_content": "}",
          "new_line_content": "    m_theme->setDecorativeWidgetBounds(this);",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "addRecipient",
          "old_text": null,
          "new_text": "msg->addRecipient(widget)",
          "old_line_content": "        // Enqueue the draw message",
          "new_line_content": "        msg->addRecipient(widget);",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "enqueueMessage",
          "old_text": null,
          "new_text": "manager->enqueueMessage(msg)",
          "old_line_content": "",
          "new_line_content": "        manager->enqueueMessage(msg);",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "addInvalidRegion",
          "old_text": null,
          "new_text": "manager->addInvalidRegion(widget->m_updateRegion)",
          "old_line_content": "    }",
          "new_line_content": "      manager->addInvalidRegion(widget->m_updateRegion);",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "widget->m_updateRegion.clear()",
          "old_line_content": "  }",
          "new_line_content": "      widget->m_updateRegion.clear();",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "isEmpty",
          "old_text": null,
          "new_text": "drawRegion.isEmpty()",
          "old_line_content": "",
          "new_line_content": "  if (drawRegion.isEmpty())",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "front",
          "old_text": null,
          "new_text": "processing.front()",
          "old_line_content": "",
          "new_line_content": "    Widget* widget = processing.front();",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "",
          "new_line_content": "  invalidate();",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "ASSERT_VALID_WIDGET",
          "old_text": null,
          "new_text": "ASSERT_VALID_WIDGET(widget)",
          "old_line_content": "    // If the widget is hidden",
          "new_line_content": "    ASSERT_VALID_WIDGET(widget);",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "isVisible",
          "old_text": null,
          "new_text": "widget->isVisible()",
          "old_line_content": "",
          "new_line_content": "    if (!widget->isVisible())",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "",
          "new_line_content": "  invalidate();",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "children",
          "old_text": null,
          "new_text": "widget->children()",
          "old_line_content": "",
          "new_line_content": "    for (auto child : widget->children())",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "push",
          "old_text": null,
          "new_text": "processing.push(child)",
          "old_line_content": "    // Intersect drawRegion with widget's drawable region.",
          "new_line_content": "      processing.push(child);",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "offset",
          "old_text": null,
          "new_text": "m_updateRegion.offset(dx, dy)",
          "old_line_content": "",
          "new_line_content": "  m_updateRegion.offset(dx, dy);",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "offset",
          "old_text": null,
          "new_text": "m_bounds.offset(dx, dy)",
          "old_line_content": "  // Remove all paint messages for this widget.",
          "new_line_content": "  m_bounds.offset(dx, dy);",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": null,
          "new_api": "getDrawableRegion",
          "old_text": null,
          "new_text": "widget->getDrawableRegion(region, kCutTopWindows)",
          "old_line_content": "",
          "new_line_content": "    widget->getDrawableRegion(region, kCutTopWindows);",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "createIntersection",
          "old_text": null,
          "new_text": "region.createIntersection(region, drawRegion)",
          "old_line_content": "    Graphics graphics2(",
          "new_line_content": "    region.createIntersection(region, drawRegion);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "manager",
          "old_text": null,
          "new_text": "this->manager()",
          "old_line_content": "",
          "new_line_content": "  if (Manager* manager = this->manager())",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "removeMessagesFor",
          "old_text": null,
          "new_text": "manager->removeMessagesFor(this, kPaintMessage)",
          "old_line_content": "  for (auto child : m_children)",
          "new_line_content": "    manager->removeMessagesFor(this, kPaintMessage);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "offsetWidgets",
          "old_text": null,
          "new_text": "child->offsetWidgets(dx, dy)",
          "old_line_content": "",
          "new_line_content": "    child->offsetWidgets(dx, dy);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "widget->bounds()",
          "old_line_content": "",
          "new_line_content": "      widget->bounds().y);",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "font",
          "old_text": null,
          "new_text": "widget->font()",
          "old_line_content": "    for (Region::const_iterator",
          "new_line_content": "    graphics2.setFont(widget->font());",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "widget->bounds()",
          "old_line_content": "    }",
          "new_line_content": "          -widget->bounds().y));",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": null,
          "new_api": "paintEvent",
          "old_text": null,
          "new_text": "widget->paintEvent(&graphics2)",
          "old_line_content": "  }",
          "new_line_content": "      widget->paintEvent(&graphics2);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "isTransparent",
          "old_text": null,
          "new_text": "isTransparent()",
          "old_line_content": "    // In debug mode we can fill the area with Red so we know if the",
          "new_line_content": "  if (isTransparent()) {",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "clientBounds",
          "old_text": null,
          "new_text": "clientBounds()",
          "old_line_content": "",
          "new_line_content": "    graphics->fillRect(gfx::rgba(255, 0, 0), clientBounds());",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "getInternalDeltaY",
          "old_text": null,
          "new_text": "graphics->getInternalDeltaY()",
          "old_line_content": "    }",
          "new_line_content": "            graphics->getInternalDeltaY())));",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "paint",
          "old_text": null,
          "new_text": "parent()->paint(graphics, rgn)",
          "old_line_content": "",
          "new_line_content": "      parent()->paint(graphics, rgn);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "disableFlags",
          "old_text": null,
          "new_text": "disableFlags(HIDDEN)",
          "old_line_content": "",
          "new_line_content": "    disableFlags(HIDDEN);",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "onPaint",
          "old_text": null,
          "new_text": "onPaint(ev)",
          "old_line_content": "}",
          "new_line_content": "  onPaint(ev); // Fire onPaint event",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "isPainted",
          "old_text": null,
          "new_text": "ev.isPainted()",
          "old_line_content": "",
          "new_line_content": "  return ev.isPainted();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1026,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "isVisible()",
          "new_text": null,
          "old_line_content": "  if (isVisible()) {",
          "new_line_content": "void Widget::invalidate()",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "clear",
          "new_api": null,
          "old_text": "m_updateRegion.clear()",
          "new_text": null,
          "old_line_content": "    m_updateRegion.clear();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "child->invalidate()",
          "new_text": null,
          "old_line_content": "      child->invalidate();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "isVisible()",
          "new_text": null,
          "old_line_content": "  if (isVisible())",
          "new_line_content": "void Widget::invalidateRect(const gfx::Rect& rect)",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "Region",
          "new_api": null,
          "old_text": "Region(rect)",
          "new_text": null,
          "old_line_content": "    invalidateRegion(Region(rect));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "onInvalidateRegion",
          "new_api": null,
          "old_text": "onInvalidateRegion(region)",
          "new_text": null,
          "old_line_content": "  onInvalidateRegion(region);",
          "new_line_content": "void Widget::invalidateRegion(const Region& region)",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "origin",
          "new_api": null,
          "old_text": "clip.origin()",
          "new_text": null,
          "old_line_content": "    : m_pt(clip.origin()), m_surface(surface) {",
          "new_line_content": "public:",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "blitTo",
          "new_api": null,
          "old_text": "src->blitTo(dst, 0, 0, m_pt.x, m_pt.y,\n        m_surface->width(), m_surface->height())",
          "new_text": null,
          "old_line_content": "      src->blitTo(dst, 0, 0, m_pt.x, m_pt.y,",
          "new_line_content": "      she::ScopedSurfaceLock src(m_surface);",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "height",
          "new_api": null,
          "old_text": "m_surface->height()",
          "new_text": null,
          "old_line_content": "        m_surface->width(), m_surface->height());",
          "new_line_content": "      she::ScopedSurfaceLock dst(she::instance()->defaultDisplay()->getSurface());",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "defaultDisplay",
          "new_api": null,
          "old_text": "she::instance()->defaultDisplay()->getSurface()",
          "new_text": null,
          "old_line_content": "  she::Surface* defaultSurface = she::instance()->defaultDisplay()->getSurface();",
          "new_line_content": "  GraphicsPtr graphics;",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "isDirectToScreen",
          "new_api": null,
          "old_text": "defaultSurface->isDirectToScreen()",
          "new_text": null,
          "old_line_content": "  if (m_doubleBuffered && defaultSurface->isDirectToScreen()) {",
          "new_line_content": "  // In case of double-buffering, we need to create the temporary",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "createSurface",
          "new_api": null,
          "old_text": "she::instance()->createSurface(clip.w, clip.h)",
          "new_text": null,
          "old_line_content": "    surface = she::instance()->createSurface(clip.w, clip.h);",
          "new_line_content": "  // buffer only if the default surface is the screen.",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "bounds()",
          "new_text": null,
          "old_line_content": "    graphics.reset(new Graphics(surface, bounds().x, bounds().y));",
          "new_line_content": "  else {",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "font",
          "new_api": null,
          "old_text": "font()",
          "new_text": null,
          "old_line_content": "  graphics->setFont(font());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(msg)",
          "new_text": null,
          "old_line_content": "  ASSERT(msg);",
          "new_line_content": "bool Widget::sendMessage(Message* msg)",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "onProcessMessage",
          "new_api": null,
          "old_text": "onProcessMessage(msg)",
          "new_text": null,
          "old_line_content": "  return onProcessMessage(msg);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "window",
          "new_api": null,
          "old_text": "window()",
          "new_text": null,
          "old_line_content": "  if (Window* w = window())",
          "new_line_content": "void Widget::closeWindow()",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "closeWindow",
          "new_api": null,
          "old_text": "w->closeWindow(this)",
          "new_text": null,
          "old_line_content": "    w->closeWindow(this);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "onBroadcastMouseMessage",
          "new_api": null,
          "old_text": "onBroadcastMouseMessage(targets)",
          "new_text": null,
          "old_line_content": "  onBroadcastMouseMessage(targets);",
          "new_line_content": "void Widget::broadcastMouseMessage(WidgetsList& targets)",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "manager",
          "new_api": null,
          "old_text": "this->manager()",
          "new_text": null,
          "old_line_content": "  if (Manager* manager = this->manager())",
          "new_line_content": "    // Remove all paint messages for this widget.",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(0, 0)",
          "new_text": null,
          "old_line_content": "    SizeHintEvent ev(this, Size(0, 0));",
          "new_line_content": "    return *m_sizeHint;",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "  invalidate();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "onSizeHint",
          "new_api": null,
          "old_text": "onSizeHint(ev)",
          "new_text": null,
          "old_line_content": "    onSizeHint(ev);",
          "new_line_content": "  else {",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "MID",
          "new_api": null,
          "old_text": "MID(m_minSize.w, sz.w, m_maxSize.w)",
          "new_text": null,
          "old_line_content": "    sz.w = MID(m_minSize.w, sz.w, m_maxSize.w);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "gfx::Border(0, 0, 0, 0)",
          "new_api": null,
          "old_text": "gfx::Border(0, 0, 0, 0)",
          "new_text": null,
          "old_line_content": "  m_border = gfx::Border(0, 0, 0, 0);",
          "new_line_content": "void Widget::noBorderNoChildSpacing()",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "type",
          "new_api": null,
          "old_text": "type()",
          "new_text": null,
          "old_line_content": "  if (type() == kWindowWidget)",
          "new_line_content": "void Widget::getRegion(gfx::Region& region)",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "getWindowMask",
          "new_api": null,
          "old_text": "theme()->getWindowMask(this, region)",
          "new_text": null,
          "old_line_content": "    theme()->getWindowMask(this, region);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "onSizeHint",
          "new_api": null,
          "old_text": "onSizeHint(ev)",
          "new_text": null,
          "old_line_content": "    onSizeHint(ev);",
          "new_line_content": "  else {",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "getRegion",
          "new_api": null,
          "old_text": "getRegion(region)",
          "new_text": null,
          "old_line_content": "  getRegion(region);",
          "new_line_content": "  Widget* window, *manager, *view;",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "MID",
          "new_api": null,
          "old_text": "MID(m_minSize.w, sz.w, m_maxSize.w)",
          "new_text": null,
          "old_line_content": "    sz.w = MID(m_minSize.w, sz.w, m_maxSize.w);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "window",
          "new_api": null,
          "old_text": "this->window()",
          "new_text": null,
          "old_line_content": "    window = this->window();",
          "new_line_content": "  // Cut the top windows areas",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "manager",
          "new_api": null,
          "old_text": "window->manager()",
          "new_text": null,
          "old_line_content": "    manager = (window ? window->manager(): nullptr);",
          "new_line_content": "  if (flags & kCutTopWindows) {",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "children",
          "new_api": null,
          "old_text": "manager->children()",
          "new_text": null,
          "old_line_content": "      const WidgetsList& windows_list = manager->children();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "front",
          "new_api": null,
          "old_text": "windows_list.front()",
          "new_text": null,
          "old_line_content": "          window != windows_list.front() &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "*it)->isVisible()",
          "new_text": null,
          "old_line_content": "          if (!(*it)->isVisible())",
          "new_line_content": "        // Subtract the rectangles",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(fixedWidth, fixedHeight)",
          "new_text": null,
          "old_line_content": "  setSizeHint(Size(fixedWidth, fixedHeight));",
          "new_line_content": "void Widget::setSizeHint(int fixedWidth, int fixedHeight)",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "getRegion",
          "new_api": null,
          "old_text": "*it)->getRegion(reg1)",
          "new_text": null,
          "old_line_content": "          (*it)->getRegion(reg1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": "createSubtraction",
          "new_api": null,
          "old_text": "region.createSubtraction(region, reg1)",
          "new_text": null,
          "old_line_content": "          region.createSubtraction(region, reg1);",
          "new_line_content": "          Region reg1;",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "window",
          "new_api": null,
          "old_text": "manager->window()",
          "new_text": null,
          "old_line_content": "      window = manager->window();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "manager",
          "new_api": null,
          "old_text": "window->manager()",
          "new_text": null,
          "old_line_content": "      manager = (window ? window->manager(): nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "setFocus",
          "new_api": null,
          "old_text": "manager()->setFocus(this)",
          "new_text": null,
          "old_line_content": "  manager()->setFocus(this);",
          "new_line_content": "void Widget::requestFocus()",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "empty",
          "new_api": null,
          "old_text": "children().empty()",
          "new_text": null,
          "old_line_content": "  if (!(flags & kUseChildArea) && !children().empty()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "hasFocus",
          "new_api": null,
          "old_text": "hasFocus()",
          "new_text": null,
          "old_line_content": "  if (hasFocus())",
          "new_line_content": "void Widget::releaseFocus()",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "freeFocus",
          "new_api": null,
          "old_text": "manager()->freeFocus()",
          "new_text": null,
          "old_line_content": "    manager()->freeFocus();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "children",
          "new_api": null,
          "old_text": "children()",
          "new_text": null,
          "old_line_content": "    for (auto child : children()) {",
          "new_line_content": "    Region reg2(childrenBounds());",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "child->isVisible()",
          "new_text": null,
          "old_line_content": "      if (child->isVisible()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "bounds()",
          "new_text": null,
          "old_line_content": "          reg1 = bounds();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "getCapture",
          "new_api": null,
          "old_text": "manager()->getCapture()",
          "new_text": null,
          "old_line_content": "  if (!manager()->getCapture()) {",
          "new_line_content": "void Widget::captureMouse()",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "setCapture",
          "new_api": null,
          "old_text": "manager()->setCapture(this)",
          "new_text": null,
          "old_line_content": "    manager()->setCapture(this);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "createIntersection",
          "new_api": null,
          "old_text": "reg1.createIntersection(reg2, reg3)",
          "new_text": null,
          "old_line_content": "          reg1.createIntersection(reg2, reg3);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "getCapture",
          "new_api": null,
          "old_text": "manager()->getCapture()",
          "new_text": null,
          "old_line_content": "  if (manager()->getCapture() == this) {",
          "new_line_content": "void Widget::releaseMouse()",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "hasFlags",
          "new_api": null,
          "old_text": "hasFlags(DECORATIVE)",
          "new_text": null,
          "old_line_content": "  if (!hasFlags(DECORATIVE)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "parent",
          "new_api": null,
          "old_text": "this->parent()",
          "new_text": null,
          "old_line_content": "    Widget* p = this->parent();",
          "new_line_content": "  // Intersect with the parent area",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "freeCapture",
          "new_api": null,
          "old_text": "manager()->freeCapture()",
          "new_text": null,
          "old_line_content": "    manager()->freeCapture();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "childrenBounds",
          "new_api": null,
          "old_text": "p->childrenBounds()",
          "new_text": null,
          "old_line_content": "        region, Region(p->childrenBounds()));",
          "new_line_content": "    while (p) {",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "hasCapture",
          "new_api": null,
          "old_text": "hasCapture()",
          "new_text": null,
          "old_line_content": "  if (hasCapture()) {",
          "new_line_content": "bool Widget::offerCapture(ui::MouseMessage* mouseMsg, int widget_type)",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "position",
          "new_api": null,
          "old_text": "mouseMsg->position()",
          "new_text": null,
          "old_line_content": "    Widget* pick = manager()->pick(mouseMsg->position());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "parent",
          "new_api": null,
          "old_text": "parent()",
          "new_text": null,
          "old_line_content": "    Widget* p = parent();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "p->bounds()",
          "new_text": null,
          "old_line_content": "        region, Region(p->bounds()));",
          "new_line_content": "    if (p) {",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "buttons",
          "new_api": null,
          "old_text": "mouseMsg->buttons()",
          "new_text": null,
          "old_line_content": "        mouseMsg->buttons(),",
          "new_line_content": "      MouseMessage* mouseMsg2 = new MouseMessage(",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "modifiers",
          "new_api": null,
          "old_text": "mouseMsg->modifiers()",
          "new_text": null,
          "old_line_content": "        mouseMsg->modifiers(),",
          "new_line_content": "        kMouseDownMessage,",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "window",
          "new_api": null,
          "old_text": "this->window()",
          "new_text": null,
          "old_line_content": "  window = this->window();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "manager",
          "new_api": null,
          "old_text": "window->manager()",
          "new_text": null,
          "old_line_content": "  manager = (window ? window->manager(): nullptr);",
          "new_line_content": "  // Limit to the manager area",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "View::getView(manager)",
          "new_api": null,
          "old_text": "View::getView(manager)",
          "new_text": null,
          "old_line_content": "    view = View::getView(manager);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "static_cast<View*>(view)->viewportBounds()",
          "new_text": null,
          "old_line_content": "      cpos = static_cast<View*>(view)->viewportBounds();",
          "new_line_content": "    Rect cpos;",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "hasFlags",
          "new_api": null,
          "old_text": "hasFlags(HAS_FOCUS)",
          "new_text": null,
          "old_line_content": "  return hasFlags(HAS_FOCUS);",
          "new_line_content": "bool Widget::hasFocus()",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": "childrenBounds",
          "new_api": null,
          "old_text": "manager->childrenBounds()",
          "new_text": null,
          "old_line_content": "      cpos = manager->childrenBounds();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "hasFlags",
          "new_api": null,
          "old_text": "hasFlags(HAS_MOUSE)",
          "new_text": null,
          "old_line_content": "  return hasFlags(HAS_MOUSE);",
          "new_line_content": "bool Widget::hasMouse()",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "manager",
          "new_api": null,
          "old_text": "window->manager()",
          "new_text": null,
          "old_line_content": "    manager = (window ? window->manager(): nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "get_mouse_position",
          "new_api": null,
          "old_text": "get_mouse_position()",
          "new_text": null,
          "old_line_content": "  return (this == pick(get_mouse_position()));",
          "new_line_content": "bool Widget::hasMouseOver()",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "font",
          "new_api": null,
          "old_text": "font()",
          "new_text": null,
          "old_line_content": "  return Graphics::measureUIStringLength(text().c_str(), font());",
          "new_line_content": "int Widget::textWidth() const",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "hasFlags",
          "new_api": null,
          "old_text": "hasFlags(HAS_CAPTURE)",
          "new_text": null,
          "old_line_content": "  return hasFlags(HAS_CAPTURE);",
          "new_line_content": "bool Widget::hasCapture()",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": "height",
          "new_api": null,
          "old_text": "font()->height()",
          "new_text": null,
          "old_line_content": "  return font()->height();",
          "new_line_content": "int Widget::textHeight() const",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "hasText",
          "new_api": null,
          "old_text": "hasText()",
          "new_text": null,
          "old_line_content": "  if (hasText()) {",
          "new_line_content": "int Widget::mnemonicChar() const",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(m_text[c+1])",
          "new_text": null,
          "old_line_content": "        return tolower(m_text[c+1]);",
          "new_line_content": "    for (int c=0; m_text[c]; ++c)",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(msg != NULL)",
          "new_text": null,
          "old_line_content": "  ASSERT(msg != NULL);",
          "new_line_content": "bool Widget::onProcessMessage(Message* msg)",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "clientBounds",
          "new_api": null,
          "old_text": "clientBounds()",
          "new_text": null,
          "old_line_content": "  gfx::Rect bounds = clientBounds();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "sendMessage",
          "new_api": null,
          "old_text": "child->sendMessage(msg)",
          "new_text": null,
          "old_line_content": "        child->sendMessage(msg);",
          "new_line_content": "      // Broadcast the message to the children.",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "hasText",
          "new_api": null,
          "old_text": "hasText()",
          "new_text": null,
          "old_line_content": "  if (hasText()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "textWidth",
          "new_api": null,
          "old_text": "textWidth()",
          "new_text": null,
          "old_line_content": "    text_w = textWidth();",
          "new_line_content": "  // Size of the text",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "static_cast<const PaintMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<const PaintMessage*>(msg)",
          "new_text": null,
          "old_line_content": "      const PaintMessage* ptmsg = static_cast<const PaintMessage*>(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "rect",
          "new_api": null,
          "old_text": "ptmsg->rect()",
          "new_text": null,
          "old_line_content": "      ASSERT(ptmsg->rect().w > 0);",
          "new_line_content": "    case kPaintMessage: {",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "get",
          "new_api": null,
          "old_text": "graphics.get()",
          "new_text": null,
          "old_line_content": "      return paintEvent(graphics.get());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(icon_w, text_w)",
          "new_text": null,
          "old_line_content": "      box_w = MAX(icon_w, text_w);",
          "new_line_content": "  if (icon_align & CENTER) {   // With the icon in the center",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(icon_h, text_h)",
          "new_text": null,
          "old_line_content": "      box_h = MAX(icon_h, text_h);",
          "new_line_content": "    if (icon_align & MIDDLE) { // With the icon inside the text",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "propagateToChildren",
          "new_api": null,
          "old_text": "static_cast<KeyMessage*>(msg)->propagateToChildren()",
          "new_text": null,
          "old_line_content": "      if (static_cast<KeyMessage*>(msg)->propagateToChildren()) {",
          "new_line_content": "    case kKeyDownMessage:",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "sendMessage",
          "new_api": null,
          "old_text": "child->sendMessage(msg)",
          "new_text": null,
          "old_line_content": "          if (child->sendMessage(msg))",
          "new_line_content": "        // Broadcast the message to the children.",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(icon_w, text_w)",
          "new_text": null,
          "old_line_content": "      box_w = MAX(icon_w, text_w);",
          "new_line_content": "    // With the icon in the top or bottom",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "childSpacing",
          "new_api": null,
          "old_text": "childSpacing()",
          "new_text": null,
          "old_line_content": "      box_h = icon_h + (hasText() ? childSpacing(): 0) + text_h;",
          "new_line_content": "    else {",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "propagateToParent",
          "new_api": null,
          "old_text": "static_cast<KeyMessage*>(msg)->propagateToParent()",
          "new_text": null,
          "old_line_content": "      if (static_cast<KeyMessage*>(msg)->propagateToParent() &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "parent",
          "new_api": null,
          "old_text": "parent()",
          "new_text": null,
          "old_line_content": "          parent()) {",
          "new_line_content": "      // Propagate the message to the parent.",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "childSpacing",
          "new_api": null,
          "old_text": "childSpacing()",
          "new_text": null,
          "old_line_content": "    box_w = icon_w + (hasText() ? childSpacing(): 0) + text_w;",
          "new_line_content": "  // With the icon in left or right that doesn't care by now",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(icon_h, text_h)",
          "new_text": null,
          "old_line_content": "    box_h = MAX(icon_h, text_h);",
          "new_line_content": "  else {",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "align",
          "new_api": null,
          "old_text": "align()",
          "new_text": null,
          "old_line_content": "  if (align() & RIGHT)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "right",
          "new_api": null,
          "old_text": "border().right()",
          "new_text": null,
          "old_line_content": "    box_x = bounds.x2() - box_w - border().right();",
          "new_line_content": "  // Box position",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "new_line_content": "      // Convert double clicks into mouse down",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "modifiers",
          "new_api": null,
          "old_text": "mouseMsg->modifiers()",
          "new_text": null,
          "old_line_content": "                               mouseMsg->modifiers(),",
          "new_line_content": "        MouseMessage mouseMsg2(kMouseDownMessage,",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "bottom",
          "new_api": null,
          "old_text": "border().bottom()",
          "new_text": null,
          "old_line_content": "    box_y = bounds.y2() - box_h - border().bottom();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "hasText",
          "new_api": null,
          "old_text": "hasText()",
          "new_text": null,
          "old_line_content": "  if (hasText()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "parent",
          "new_api": null,
          "old_text": "parent()",
          "new_text": null,
          "old_line_content": "      if (parent() != NULL)",
          "new_line_content": "    case kMouseWheelMessage:",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "sendMessage",
          "new_api": null,
          "old_text": "parent()->sendMessage(msg)",
          "new_text": null,
          "old_line_content": "        return parent()->sendMessage(msg);",
          "new_line_content": "      // Propagate the message to the parent.",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "parent",
          "new_api": null,
          "old_text": "parent()",
          "new_text": null,
          "old_line_content": "      if (parent())",
          "new_line_content": "    case kSetCursorMessage:",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "sendMessage",
          "new_api": null,
          "old_text": "parent()->sendMessage(msg)",
          "new_text": null,
          "old_line_content": "        return parent()->sendMessage(msg);",
          "new_line_content": "      // Propagate the message to the parent.",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "bounds()",
          "new_text": null,
          "old_line_content": "  if (isVisible() && region.contains(bounds()) != Region::Out) {",
          "new_line_content": "void Widget::onInvalidateRegion(const Region& region)",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "getDrawableRegion",
          "new_api": null,
          "old_text": "getDrawableRegion(reg2, kCutTopWindows)",
          "new_text": null,
          "old_line_content": "      getDrawableRegion(reg2, kCutTopWindows);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "createIntersection",
          "new_api": null,
          "old_text": "m_updateRegion.createIntersection(reg1, reg2)",
          "new_text": null,
          "old_line_content": "      m_updateRegion.createIntersection(reg1, reg2);",
          "new_line_content": "      Region reg2;",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "SETRECT",
          "new_api": null,
          "old_text": "SETRECT(box)",
          "new_text": null,
          "old_line_content": "  SETRECT(box);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "SETRECT",
          "new_api": null,
          "old_text": "SETRECT(text)",
          "new_text": null,
          "old_line_content": "  SETRECT(text);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "invalidateRegion",
          "new_api": null,
          "old_text": "child->invalidateRegion(reg1)",
          "new_text": null,
          "old_line_content": "      child->invalidateRegion(reg1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "setSizeHint",
          "new_api": null,
          "old_text": "ev.setSizeHint(m_minSize)",
          "new_text": null,
          "old_line_content": "  ev.setSizeHint(m_minSize);",
          "new_line_content": "void Widget::onSizeHint(SizeHintEvent& ev)",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "hasFlags",
          "new_api": null,
          "old_text": "hasFlags(DIRTY)",
          "new_text": null,
          "old_line_content": "  if (hasFlags(DIRTY)) {",
          "new_line_content": "  Message* msg;",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "disableFlags",
          "new_api": null,
          "old_text": "disableFlags(DIRTY)",
          "new_text": null,
          "old_line_content": "    disableFlags(DIRTY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "manager",
          "new_api": null,
          "old_text": "this->manager()",
          "new_text": null,
          "old_line_content": "  Manager* manager = this->manager();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(manager)",
          "new_text": null,
          "old_line_content": "  ASSERT(manager);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "ev.bounds()",
          "new_text": null,
          "old_line_content": "  setBoundsQuietly(ev.bounds());",
          "new_line_content": "void Widget::onResize(ResizeEvent& ev)",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "front",
          "new_api": null,
          "old_text": "processing.front()",
          "new_text": null,
          "old_line_content": "    Widget* widget = processing.front();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "childrenBounds",
          "new_api": null,
          "old_text": "childrenBounds()",
          "new_text": null,
          "old_line_content": "  gfx::Rect cpos = childrenBounds();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "widget->isVisible()",
          "new_text": null,
          "old_line_content": "    if (!widget->isVisible())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "children",
          "new_api": null,
          "old_text": "widget->children()",
          "new_text": null,
          "old_line_content": "    for (auto child : widget->children()) {",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "hasFlags",
          "new_api": null,
          "old_text": "child->hasFlags(DIRTY)",
          "new_text": null,
          "old_line_content": "      if (child->hasFlags(DIRTY)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "isEmpty",
          "new_api": null,
          "old_text": "widget->m_updateRegion.isEmpty()",
          "new_text": null,
          "old_line_content": "    if (!widget->m_updateRegion.isEmpty()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "initWidget",
          "new_api": null,
          "old_text": "m_theme->initWidget(this)",
          "new_text": null,
          "old_line_content": "    m_theme->initWidget(this);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "getDrawableRegion",
          "new_api": null,
          "old_text": "widget->getDrawableRegion(drawable, kCutTopWindows)",
          "new_text": null,
          "old_line_content": "        widget->getDrawableRegion(drawable, kCutTopWindows);",
          "new_line_content": "      {",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "enableFlags",
          "new_api": null,
          "old_text": "enableFlags(INITIALIZED)",
          "new_text": null,
          "old_line_content": "      enableFlags(INITIALIZED);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "size",
          "new_api": null,
          "old_text": "widget->m_updateRegion.size()",
          "new_text": null,
          "old_line_content": "      std::size_t c, nrects = widget->m_updateRegion.size();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "begin",
          "new_api": null,
          "old_text": "widget->m_updateRegion.begin()",
          "new_text": null,
          "old_line_content": "      Region::const_iterator it = widget->m_updateRegion.begin();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "setDecorativeWidgetBounds",
          "new_api": null,
          "old_text": "m_theme->setDecorativeWidgetBounds(this)",
          "new_text": null,
          "old_line_content": "    m_theme->setDecorativeWidgetBounds(this);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "addRecipient",
          "new_api": null,
          "old_text": "msg->addRecipient(widget)",
          "new_text": null,
          "old_line_content": "        msg->addRecipient(widget);",
          "new_line_content": "        // Create the draw message",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "enqueueMessage",
          "new_api": null,
          "old_text": "manager->enqueueMessage(msg)",
          "new_text": null,
          "old_line_content": "        manager->enqueueMessage(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "addInvalidRegion",
          "new_api": null,
          "old_text": "manager->addInvalidRegion(widget->m_updateRegion)",
          "new_text": null,
          "old_line_content": "      manager->addInvalidRegion(widget->m_updateRegion);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "clear",
          "new_api": null,
          "old_text": "widget->m_updateRegion.clear()",
          "new_text": null,
          "old_line_content": "      widget->m_updateRegion.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "isEmpty",
          "new_api": null,
          "old_text": "drawRegion.isEmpty()",
          "new_text": null,
          "old_line_content": "  if (drawRegion.isEmpty())",
          "new_line_content": "void Widget::paint(Graphics* graphics, const gfx::Region& drawRegion)",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "push",
          "new_api": null,
          "old_text": "processing.push(this)",
          "new_text": null,
          "old_line_content": "  processing.push(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "front",
          "new_api": null,
          "old_text": "processing.front()",
          "new_text": null,
          "old_line_content": "    Widget* widget = processing.front();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "  invalidate();",
          "new_line_content": "void Widget::onSetText()",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "widget->isVisible()",
          "new_text": null,
          "old_line_content": "    if (!widget->isVisible())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "  invalidate();",
          "new_line_content": "void Widget::onSetBgColor()",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "children",
          "new_api": null,
          "old_text": "widget->children()",
          "new_text": null,
          "old_line_content": "    for (auto child : widget->children())",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "push",
          "new_api": null,
          "old_text": "processing.push(child)",
          "new_text": null,
          "old_line_content": "      processing.push(child);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "offset",
          "new_api": null,
          "old_text": "m_updateRegion.offset(dx, dy)",
          "new_text": null,
          "old_line_content": "  m_updateRegion.offset(dx, dy);",
          "new_line_content": "void Widget::offsetWidgets(int dx, int dy)",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "offset",
          "new_api": null,
          "old_text": "m_bounds.offset(dx, dy)",
          "new_text": null,
          "old_line_content": "  m_bounds.offset(dx, dy);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "getDrawableRegion",
          "new_api": null,
          "old_text": "widget->getDrawableRegion(region, kCutTopWindows)",
          "new_text": null,
          "old_line_content": "    widget->getDrawableRegion(region, kCutTopWindows);",
          "new_line_content": "    // Intersect drawRegion with widget's drawable region.",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "createIntersection",
          "new_api": null,
          "old_text": "region.createIntersection(region, drawRegion)",
          "new_text": null,
          "old_line_content": "    region.createIntersection(region, drawRegion);",
          "new_line_content": "    Region region;",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "manager",
          "new_api": null,
          "old_text": "this->manager()",
          "new_text": null,
          "old_line_content": "  if (Manager* manager = this->manager())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "removeMessagesFor",
          "new_api": null,
          "old_text": "manager->removeMessagesFor(this, kPaintMessage)",
          "new_text": null,
          "old_line_content": "    manager->removeMessagesFor(this, kPaintMessage);",
          "new_line_content": "  // Remove all paint messages for this widget.",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "getInternalSurface",
          "new_api": null,
          "old_text": "graphics->getInternalSurface()",
          "new_text": null,
          "old_line_content": "      graphics->getInternalSurface(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "widget->bounds()",
          "new_text": null,
          "old_line_content": "      widget->bounds().x,",
          "new_line_content": "    Graphics graphics2(",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "offsetWidgets",
          "new_api": null,
          "old_text": "child->offsetWidgets(dx, dy)",
          "new_text": null,
          "old_line_content": "    child->offsetWidgets(dx, dy);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "begin",
          "new_api": null,
          "old_text": "region.begin()",
          "new_text": null,
          "old_line_content": "           it = region.begin(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "end",
          "new_api": null,
          "old_text": "region.end()",
          "new_text": null,
          "old_line_content": "           end = region.end(); it != end; ++it) {",
          "new_line_content": "    for (Region::const_iterator",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "isTransparent",
          "new_api": null,
          "old_text": "isTransparent()",
          "new_text": null,
          "old_line_content": "  if (isTransparent()) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "clientBounds",
          "new_api": null,
          "old_text": "clientBounds()",
          "new_text": null,
          "old_line_content": "    graphics->fillRect(gfx::rgba(255, 0, 0), clientBounds());",
          "new_line_content": "    // In debug mode we can fill the area with Red so we know if the",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "enableFlags",
          "new_api": null,
          "old_text": "enableFlags(HIDDEN)",
          "new_text": null,
          "old_line_content": "    enableFlags(HIDDEN);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "offset",
          "new_api": null,
          "old_text": "graphics->getClipBounds().offset(\n            graphics->getInternalDeltaX(),\n            graphics->getInternalDeltaY())",
          "new_text": null,
          "old_line_content": "          graphics->getClipBounds().offset(",
          "new_line_content": "        rgn,",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "disableFlags",
          "new_api": null,
          "old_text": "disableFlags(HIDDEN)",
          "new_text": null,
          "old_line_content": "    disableFlags(HIDDEN);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "onPaint",
          "new_api": null,
          "old_text": "onPaint(ev)",
          "new_text": null,
          "old_line_content": "  onPaint(ev); // Fire onPaint event",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "isPainted",
          "new_api": null,
          "old_text": "ev.isPainted()",
          "new_text": null,
          "old_line_content": "  return ev.isPainted();",
          "new_line_content": "  PaintEvent ev(this, graphics);",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 68,
      "total_additions": 157,
      "total_deletions": 157,
      "total_api_changes": 382
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 382,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          620,
          621,
          622
        ]
      }
    },
    "api_calls_before": 459,
    "api_calls_after": 459,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 4,
      "total_diff_lines": 23
    }
  }
}