{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/559c040f63bf0b7d8562cbd5544c53d3d60a9884",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/559c040f63bf0b7d8562cbd5544c53d3d60a9884/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/559c040f63bf0b7d8562cbd5544c53d3d60a9884/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/aseprite/modified_file/559c040f63bf0b7d8562cbd5544c53d3d60a9884/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 855,
          "old_api": "getMaskBoundaries",
          "new_api": "selectionEdges",
          "old_text": "m_document->getMaskBoundaries()",
          "new_text": "m_docPref.show.selectionEdges()",
          "old_line_content": "  ASSERT(m_document->getMaskBoundaries());",
          "new_line_content": "      !m_docPref.show.selectionEdges())",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "gfx::rgba(255, 255, 255, 255)",
          "new_api": "getMaskBoundaries",
          "old_text": "gfx::rgba(255, 255, 255, 255)",
          "new_text": "m_document->getMaskBoundaries()",
          "old_line_content": "                            gfx::rgba(255, 255, 255, 255));",
          "new_line_content": "  for (const auto& seg : *m_document->getMaskBoundaries()) {",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "scaleX",
          "new_api": "gfx::rgba(255, 255, 255, 255)",
          "old_text": "m_proj.scaleX()",
          "new_text": "gfx::rgba(255, 255, 255, 255)",
          "old_line_content": "    if (m_proj.scaleX() >= 1.0) {",
          "new_line_content": "                            gfx::rgba(255, 255, 255, 255));",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "vertical",
          "new_api": "bounds",
          "old_text": "seg.vertical()",
          "new_text": "seg.bounds()",
          "old_line_content": "      if (!seg.open() && seg.vertical())",
          "new_line_content": "    gfx::Rect bounds = m_proj.apply(seg.bounds());",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "gfx::rgba(0, 0, 0)",
          "new_api": "vertical",
          "old_text": "gfx::rgba(0, 0, 0)",
          "new_text": "seg.vertical()",
          "old_line_content": "      g->drawHLine(gfx::rgba(0, 0, 0), x+bounds.x, y+bounds.y, bounds.w);",
          "new_line_content": "    if (seg.vertical())",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "origin",
          "new_api": "getMaskBoundaries",
          "old_text": "bounds().origin()",
          "new_text": "m_document->getMaskBoundaries()",
          "old_line_content": "    region.offset(-bounds().origin());",
          "new_line_content": "      m_document->getMaskBoundaries()) {",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "clientBounds",
          "new_api": "origin",
          "old_text": "clientBounds()",
          "new_text": "bounds().origin()",
          "old_line_content": "    GraphicsPtr g = getGraphics(clientBounds());",
          "new_line_content": "    region.offset(-bounds().origin());",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "get",
          "new_api": "clientBounds",
          "old_text": "g.get()",
          "new_text": "clientBounds()",
          "old_line_content": "      IntersectClip clip(g.get(), rc);",
          "new_line_content": "    GraphicsPtr g = getGraphics(clientBounds());",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": "Point",
          "new_api": "ABS",
          "old_text": "Point((grid.x % grid.w) - grid.w,\n                       (grid.y % grid.h) - grid.h)",
          "new_text": "ABS(grid.y)",
          "old_line_content": "  grid.setOrigin(Point((grid.x % grid.w) - grid.w,",
          "new_line_content": "  if (grid.y < 0) grid.y += (ABS(grid.y)/grid.h+1) * grid.h;",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "gfx::getg(grid_color)",
          "new_api": "color_utils::color_for_ui(color)",
          "old_text": "gfx::getg(grid_color)",
          "new_text": "color_utils::color_for_ui(color)",
          "old_line_content": "    gfx::getg(grid_color),",
          "new_line_content": "  gfx::Color grid_color = color_utils::color_for_ui(color);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "gfx::getb(grid_color)",
          "new_api": "gfx::rgba(\n    gfx::getr(grid_color),\n    gfx::getg(grid_color),\n    gfx::getb(grid_color), alpha)",
          "old_text": "gfx::getb(grid_color)",
          "new_text": "gfx::rgba(\n    gfx::getr(grid_color),\n    gfx::getg(grid_color),\n    gfx::getb(grid_color), alpha)",
          "old_line_content": "    gfx::getb(grid_color), alpha);",
          "new_line_content": "  grid_color = gfx::rgba(",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "slices",
          "new_api": "isVisible",
          "old_text": "m_sprite->slices()",
          "new_text": "isVisible()",
          "old_line_content": "  for (auto slice : m_sprite->slices()) {",
          "new_line_content": "  if (!isVisible() || !m_document)",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "doc::rgba_getb(docColor)",
          "new_api": "color",
          "old_text": "doc::rgba_getb(docColor)",
          "new_text": "slice->userData().color()",
          "old_line_content": "                                 doc::rgba_getb(docColor),",
          "new_line_content": "    doc::color_t docColor = slice->userData().color();",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "doc::rgba_geta(docColor)",
          "new_api": "doc::rgba_getr(docColor)",
          "old_text": "doc::rgba_geta(docColor)",
          "new_text": "doc::rgba_getr(docColor)",
          "old_line_content": "                                 doc::rgba_geta(docColor));",
          "new_line_content": "    gfx::Color color = gfx::rgba(doc::rgba_getr(docColor),",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "bounds",
          "new_api": "doc::rgba_getb(docColor)",
          "old_text": "key->bounds()",
          "new_text": "doc::rgba_getb(docColor)",
          "old_line_content": "      editorToScreen(key->bounds())",
          "new_line_content": "                                 doc::rgba_getb(docColor),",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "origin",
          "new_api": "doc::rgba_geta(docColor)",
          "old_text": "bounds().origin()",
          "new_text": "doc::rgba_geta(docColor)",
          "old_line_content": "               .offset(-bounds().origin());",
          "new_line_content": "                                 doc::rgba_geta(docColor));",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "hasCenter",
          "new_api": "origin",
          "old_text": "key->hasCenter()",
          "new_text": "bounds().origin()",
          "old_line_content": "    if (key->hasCenter()) {",
          "new_line_content": "               .offset(-bounds().origin());",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "origin",
          "new_api": "hasCenter",
          "old_text": "bounds().origin()",
          "new_text": "key->hasCenter()",
          "old_line_content": "        .offset(-bounds().origin());",
          "new_line_content": "    if (key->hasCenter()) {",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "gfx::getr(color)",
          "new_api": "origin",
          "old_text": "gfx::getr(color)",
          "new_text": "key->bounds().origin()",
          "old_line_content": "      auto in_color = gfx::rgba(gfx::getr(color),",
          "new_line_content": "        editorToScreen(gfx::Rect(key->center()).offset(key->bounds().origin()))",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "gfx::getg(color)",
          "new_api": "origin",
          "old_text": "gfx::getg(color)",
          "new_text": "bounds().origin()",
          "old_line_content": "                                gfx::getg(color),",
          "new_line_content": "        .offset(-bounds().origin());",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "doc::rgba_geta(docColor)",
          "new_api": "gfx::getr(color)",
          "old_text": "doc::rgba_geta(docColor)",
          "new_text": "gfx::getr(color)",
          "old_line_content": "                                doc::rgba_geta(docColor)/4);",
          "new_line_content": "      auto in_color = gfx::rgba(gfx::getr(color),",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "y2",
          "new_api": "gfx::getg(color)",
          "old_text": "out.y2()",
          "new_text": "gfx::getg(color)",
          "old_line_content": "      if (in.y > out.y && in.y < out.y2())",
          "new_line_content": "                                gfx::getg(color),",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "drawHLine",
          "new_api": "gfx::getb(color)",
          "old_text": "g->drawHLine(in_color, out.x, in.y, out.w)",
          "new_text": "gfx::getb(color)",
          "old_line_content": "        g->drawHLine(in_color, out.x, in.y, out.w);",
          "new_line_content": "                                gfx::getb(color),",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "y2",
          "new_api": "doc::rgba_geta(docColor)",
          "old_text": "out.y2()",
          "new_text": "doc::rgba_geta(docColor)",
          "old_line_content": "      if (in.y2() > out.y && in.y2() < out.y2())",
          "new_line_content": "                                doc::rgba_geta(docColor)/4);",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "x2",
          "new_api": "drawHLine",
          "old_text": "out.x2()",
          "new_text": "g->drawHLine(in_color, out.x, in.y, out.w)",
          "old_line_content": "      if (in.x > out.x && in.x < out.x2())",
          "new_line_content": "        g->drawHLine(in_color, out.x, in.y, out.w);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "drawVLine",
          "new_api": "y2",
          "old_text": "g->drawVLine(in_color, in.x, out.y, out.h)",
          "new_text": "out.y2()",
          "old_line_content": "        g->drawVLine(in_color, in.x, out.y, out.h);",
          "new_line_content": "      if (in.y2() > out.y && in.y2() < out.y2())",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "x2",
          "new_api": "y2",
          "old_text": "out.x2()",
          "new_text": "in.y2()",
          "old_line_content": "      if (in.x2() > out.x && in.x2() < out.x2())",
          "new_line_content": "        g->drawHLine(in_color, out.x, in.y2(), out.w);",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "origin",
          "new_api": "hasPivot",
          "old_text": "bounds().origin()",
          "new_text": "key->hasPivot()",
          "old_line_content": "        .offset(-bounds().origin());",
          "new_line_content": "    if (key->hasPivot()) {",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "gfx::getr(color)",
          "new_api": "origin",
          "old_text": "gfx::getr(color)",
          "new_text": "key->bounds().origin()",
          "old_line_content": "      auto in_color = gfx::rgba(gfx::getr(color),",
          "new_line_content": "        editorToScreen(gfx::Rect(key->pivot(), gfx::Size(1, 1)).offset(key->bounds().origin()))",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "gfx::getg(color)",
          "new_api": "origin",
          "old_text": "gfx::getg(color)",
          "new_text": "bounds().origin()",
          "old_line_content": "                                gfx::getg(color),",
          "new_line_content": "        .offset(-bounds().origin());",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "doc::rgba_geta(docColor)",
          "new_api": "gfx::getr(color)",
          "old_text": "doc::rgba_geta(docColor)",
          "new_text": "gfx::getr(color)",
          "old_line_content": "                                doc::rgba_geta(docColor)/4);",
          "new_line_content": "      auto in_color = gfx::rgba(gfx::getr(color),",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "drawRect",
          "new_api": "gfx::getg(color)",
          "old_text": "g->drawRect(in_color, in)",
          "new_text": "gfx::getg(color)",
          "old_line_content": "      g->drawRect(in_color, in);",
          "new_line_content": "                                gfx::getg(color),",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": "autoGuidesColor",
          "new_api": "getCelScreenBounds",
          "old_text": "drawCelBounds(\n      g, mouseCel,\n      color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor()))",
          "new_text": "getCelScreenBounds(mouseCel)",
          "old_line_content": "    drawCelBounds(",
          "new_line_content": "    scrCmpBounds = getCelScreenBounds(mouseCel);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "ABS",
          "new_api": "y2",
          "old_text": "ABS(sprX2 - sprX1)",
          "new_text": "scrCmpBounds.y2()",
          "old_line_content": "  auto text = base::convert_to<std::string>(ABS(sprX2 - sprX1)) + \"px\";",
          "new_line_content": "      g->drawVLine(color, dottedX, scrCmpBounds.y2(), scrCelBounds.y2() - scrCmpBounds.y2());",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "color_utils::blackandwhite_neg(color)",
          "new_api": "ABS",
          "old_text": "color_utils::blackandwhite_neg(color)",
          "new_text": "ABS(sprX2 - sprX1)",
          "old_line_content": "              color_utils::blackandwhite_neg(color), color,",
          "new_line_content": "  auto text = base::convert_to<std::string>(ABS(sprX2 - sprX1)) + \"px\";",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "textHeight",
          "new_api": "font",
          "old_text": "textHeight()",
          "new_text": "font()",
          "old_line_content": "              gfx::Point((scrX1+scrX2)/2-textW/2, scrY-textHeight()));",
          "new_line_content": "  const int textW = Graphics::measureUITextLength(text, font());",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "ABS",
          "new_api": "x2",
          "old_text": "ABS(sprY2 - sprY1)",
          "new_text": "scrCmpBounds.x2()",
          "old_line_content": "  auto text = base::convert_to<std::string>(ABS(sprY2 - sprY1)) + \"px\";",
          "new_line_content": "      g->drawHLine(color, scrCmpBounds.x2(), dottedY, scrCelBounds.x2() - scrCmpBounds.x2());",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "textHeight",
          "new_api": "ABS",
          "old_text": "textHeight()",
          "new_text": "ABS(sprY2 - sprY1)",
          "old_line_content": "              gfx::Point(scrX, (scrY1+scrY2)/2-textHeight()/2));",
          "new_line_content": "  auto text = base::convert_to<std::string>(ABS(sprY2 - sprY1)) + \"px\";",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "getSite",
          "new_api": "flashLayer",
          "old_text": "getSite()",
          "new_text": "Preferences::instance().experimental.flashLayer()",
          "old_line_content": "  Site site = getSite();",
          "new_line_content": "  if (!Preferences::instance().experimental.flashLayer())",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "image",
          "new_api": "getSite",
          "old_text": "site.image(&x, &y)",
          "new_text": "getSite()",
          "old_line_content": "  const Image* src_image = site.image(&x, &y);",
          "new_line_content": "  Site site = getSite();",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "bounds",
          "new_api": "removePreviewImage",
          "old_text": "m_sprite->bounds()",
          "new_text": "m_renderEngine.removePreviewImage()",
          "old_line_content": "    extraCel->create(m_sprite, m_sprite->bounds(), m_frame, 255);",
          "new_line_content": "    m_renderEngine.removePreviewImage();",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "image",
          "new_api": "setType",
          "old_text": "extraCel->image()",
          "new_text": "extraCel->setType(render::ExtraType::COMPOSITE)",
          "old_line_content": "    Image* flash_image = extraCel->image();",
          "new_line_content": "    extraCel->setType(render::ExtraType::COMPOSITE);",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "maskColor",
          "new_api": "setBlendMode",
          "old_text": "flash_image->maskColor()",
          "new_text": "extraCel->setBlendMode(BlendMode::NEG_BW)",
          "old_line_content": "    clear_image(flash_image, flash_image->maskColor());",
          "new_line_content": "    extraCel->setBlendMode(BlendMode::NEG_BW);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "extraCel",
          "new_api": "copy_image",
          "old_text": "m_document->extraCel()",
          "new_text": "copy_image(flash_image, src_image, x, y)",
          "old_line_content": "      ExtraCelRef oldExtraCel = m_document->extraCel();",
          "new_line_content": "    copy_image(flash_image, src_image, x, y);",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "height",
          "new_api": "extraCel",
          "old_text": "m_sprite->height()",
          "new_text": "m_document->extraCel()",
          "old_line_content": "                          gfx::Rect(0, 0, m_sprite->width(), m_sprite->height())));",
          "new_line_content": "      ExtraCelRef oldExtraCel = m_document->extraCel();",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "flipDisplay",
          "new_api": "setExtraCel",
          "old_text": "manager()->flipDisplay()",
          "new_text": "m_document->setExtraCel(extraCel)",
          "old_line_content": "      manager()->flipDisplay();",
          "new_line_content": "      m_document->setExtraCel(extraCel);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "setExtraCel",
          "new_api": "width",
          "old_text": "m_document->setExtraCel(oldExtraCel)",
          "new_text": "gfx::Region(\n                          gfx::Rect(0, 0, m_sprite->width(), m_sprite->height()))",
          "old_line_content": "      m_document->setExtraCel(oldExtraCel);",
          "new_line_content": "      drawSpriteClipped(gfx::Region(",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "invalidate",
          "new_api": "setExtraCel",
          "old_text": "invalidate()",
          "new_text": "m_document->setExtraCel(oldExtraCel)",
          "old_line_content": "    invalidate();",
          "new_line_content": "      m_document->setExtraCel(oldExtraCel);",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "contains",
          "new_api": "View::getView(this)",
          "old_text": "vp.contains(mousePos)",
          "new_text": "View::getView(this)",
          "old_line_content": "  if (!vp.contains(mousePos)) {",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "removeX",
          "new_api": "View::getView(this)",
          "old_text": "gfx::Point(\n    m_proj.removeX(pt.x - vp.x + scroll.x - m_padding.x),\n    m_proj.removeY(pt.y - vp.y + scroll.y - m_padding.y))",
          "new_text": "View::getView(this)",
          "old_line_content": "  return gfx::Point(",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "removeX",
          "new_api": "viewportBounds",
          "old_text": "m_proj.removeX(pt.x - vp.x + scroll.x - m_padding.x)",
          "new_text": "view->viewportBounds()",
          "old_line_content": "    m_proj.removeX(pt.x - vp.x + scroll.x - m_padding.x),",
          "new_line_content": "  Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "removeY",
          "new_api": "viewScroll",
          "old_text": "m_proj.removeY(pt.y - vp.y + scroll.y - m_padding.y)",
          "new_text": "view->viewScroll()",
          "old_line_content": "    m_proj.removeY(pt.y - vp.y + scroll.y - m_padding.y));",
          "new_line_content": "  Point scroll = view->viewScroll();",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "gfx::PointF(\n    m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x),\n    m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y))",
          "new_api": "View::getView(this)",
          "old_text": "gfx::PointF(\n    m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x),\n    m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y))",
          "new_text": "View::getView(this)",
          "old_line_content": "  return gfx::PointF(",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x)",
          "new_api": "viewportBounds",
          "old_text": "m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x)",
          "new_text": "view->viewportBounds()",
          "old_line_content": "    m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x),",
          "new_line_content": "  Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y)",
          "new_api": "viewScroll",
          "old_text": "m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y)",
          "new_text": "view->viewScroll()",
          "old_line_content": "    m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y));",
          "new_line_content": "  Point scroll = view->viewScroll();",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "applyX",
          "new_api": "View::getView(this)",
          "old_text": "Point(\n    (vp.x - scroll.x + m_padding.x + m_proj.applyX(pt.x)),\n    (vp.y - scroll.y + m_padding.y + m_proj.applyY(pt.y)))",
          "new_text": "View::getView(this)",
          "old_line_content": "  return Point(",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "applyX",
          "new_api": "viewportBounds",
          "old_text": "m_proj.applyX(pt.x)",
          "new_text": "view->viewportBounds()",
          "old_line_content": "    (vp.x - scroll.x + m_padding.x + m_proj.applyX(pt.x)),",
          "new_line_content": "  Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "applyY",
          "new_api": "viewScroll",
          "old_text": "m_proj.applyY(pt.y)",
          "new_text": "view->viewScroll()",
          "old_line_content": "    (vp.y - scroll.y + m_padding.y + m_proj.applyY(pt.y)));",
          "new_line_content": "  Point scroll = view->viewScroll();",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "PointF",
          "new_api": "View::getView(this)",
          "old_text": "PointF(\n    (vp.x - scroll.x + m_padding.x + m_proj.applyX<double>(pt.x)),\n    (vp.y - scroll.y + m_padding.y + m_proj.applyY<double>(pt.y)))",
          "new_text": "View::getView(this)",
          "old_line_content": "  return PointF(",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "m_proj.applyX<double>(pt.x)",
          "new_api": "viewportBounds",
          "old_text": "m_proj.applyX<double>(pt.x)",
          "new_text": "view->viewportBounds()",
          "old_line_content": "    (vp.x - scroll.x + m_padding.x + m_proj.applyX<double>(pt.x)),",
          "new_line_content": "  Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "m_proj.applyY<double>(pt.y)",
          "new_api": "viewScroll",
          "old_text": "m_proj.applyY<double>(pt.y)",
          "new_text": "view->viewScroll()",
          "old_line_content": "    (vp.y - scroll.y + m_padding.y + m_proj.applyY<double>(pt.y)));",
          "new_line_content": "  Point scroll = view->viewScroll();",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "Rect",
          "new_api": "ASSERT",
          "old_text": "Rect()",
          "new_text": "ASSERT(false)",
          "old_line_content": "  return Rect();",
          "new_line_content": "  ASSERT(false);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "applyX",
          "new_api": "viewportBounds",
          "old_text": "m_proj.applyX(spritePos.x)",
          "new_text": "view->viewportBounds()",
          "old_line_content": "    m_padding.x - (vp.w/2) + m_proj.applyX(1)/2 + m_proj.applyX(spritePos.x),",
          "new_line_content": "  Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "updateEditor",
          "new_api": "applyX",
          "old_text": "updateEditor()",
          "new_text": "m_proj.applyX(spritePos.x)",
          "old_line_content": "  updateEditor();",
          "new_line_content": "    m_padding.x - (vp.w/2) + m_proj.applyX(1)/2 + m_proj.applyX(spritePos.x),",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "setEditorScroll",
          "new_api": "applyY",
          "old_text": "setEditorScroll(scroll)",
          "new_text": "m_proj.applyY(spritePos.y)",
          "old_line_content": "  setEditorScroll(scroll);",
          "new_line_content": "    m_padding.y - (vp.h/2) + m_proj.applyY(1)/2 + m_proj.applyY(spritePos.y));",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "acceptQuickTool",
          "new_api": "getQuickTool",
          "old_text": "m_state->acceptQuickTool(newQuicktool)",
          "new_text": "m_customizationDelegate->getQuickTool(selectedTool)",
          "old_line_content": "    if (newQuicktool && !m_state->acceptQuickTool(newQuicktool))",
          "new_line_content": "      m_customizationDelegate->getQuickTool(selectedTool);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "newQuickToolSelectedFromEditor",
          "new_api": "acceptQuickTool",
          "old_text": "activeToolManager\n      ->newQuickToolSelectedFromEditor(newQuicktool)",
          "new_text": "m_state->acceptQuickTool(newQuicktool)",
          "old_line_content": "    activeToolManager",
          "new_line_content": "    if (newQuicktool && !m_state->acceptQuickTool(newQuicktool))",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "eraserTipProximity",
          "new_api": "activeToolManager",
          "old_text": "activeToolManager->eraserTipProximity()",
          "new_text": "App::instance()->activeToolManager()",
          "old_line_content": "    activeToolManager->eraserTipProximity();",
          "new_line_content": "  auto activeToolManager = App::instance()->activeToolManager();",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "regularTipProximity",
          "new_api": "eraserTipProximity",
          "old_text": "activeToolManager->regularTipProximity()",
          "new_text": "activeToolManager->eraserTipProximity()",
          "old_line_content": "    activeToolManager->regularTipProximity();",
          "new_line_content": "    activeToolManager->eraserTipProximity();",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "isTwoPoints",
          "new_api": "activeToolManager",
          "old_text": "controller->isTwoPoints()",
          "new_text": "App::instance()->activeToolManager()->selectedTool()->getController(0)",
          "old_line_content": "      if (controller && controller->isTwoPoints()) {",
          "new_line_content": "         App::instance()->activeToolManager()->selectedTool()->getController(0): nullptr);",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "tools::ToolLoopModifiers(modifiers)",
          "new_api": "contextBar",
          "old_text": "tools::ToolLoopModifiers(modifiers)",
          "new_text": "App::instance()->contextBar()",
          "old_line_content": "    m_toolLoopModifiers = tools::ToolLoopModifiers(modifiers);",
          "new_line_content": "  ContextBar* ctxBar = App::instance()->contextBar();",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "updateToolLoopModifiersIndicators",
          "new_api": "tools::ToolLoopModifiers(modifiers)",
          "old_text": "ctxBar->updateToolLoopModifiersIndicators(m_toolLoopModifiers)",
          "new_text": "tools::ToolLoopModifiers(modifiers)",
          "old_line_content": "    ctxBar->updateToolLoopModifiersIndicators(m_toolLoopModifiers);",
          "new_line_content": "    m_toolLoopModifiers = tools::ToolLoopModifiers(modifiers);",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "notifyToolLoopModifiersChange",
          "new_api": "updateToolLoopModifiersIndicators",
          "old_text": "drawingState->notifyToolLoopModifiersChange(this)",
          "new_text": "ctxBar->updateToolLoopModifiersIndicators(m_toolLoopModifiers)",
          "old_line_content": "      drawingState->notifyToolLoopModifiersChange(this);",
          "new_line_content": "    ctxBar->updateToolLoopModifiersIndicators(m_toolLoopModifiers);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "pickColor",
          "new_api": "screenToEditorF",
          "old_text": "picker.pickColor(site, editorPos, m_proj,\n                     ColorPicker::FromComposition)",
          "new_text": "screenToEditorF(mousePos)",
          "old_line_content": "    picker.pickColor(site, editorPos, m_proj,",
          "new_line_content": "    gfx::PointF editorPos = screenToEditorF(mousePos);",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "app::Color::fromMask()",
          "new_api": "color",
          "old_text": "app::Color::fromMask()",
          "new_text": "picker.color()",
          "old_line_content": "    return app::Color::fromMask();",
          "new_line_content": "    return picker.color();",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "hasCapture",
          "new_api": "activeToolManager",
          "old_text": "hasCapture()",
          "new_text": "App::instance()->activeToolManager()->selectedTool()",
          "old_line_content": "     (hasMouse() || hasCapture()) &&",
          "new_line_content": "  tools::Tool* tool = App::instance()->activeToolManager()->selectedTool();",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "getController",
          "new_api": "isActive",
          "old_text": "tool->getController(0)->isFreehand()",
          "new_text": "isActive()",
          "old_line_content": "     tool->getController(0)->isFreehand() &&",
          "new_line_content": "    (isActive() &&",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "getInk",
          "new_api": "hasCapture",
          "old_text": "tool->getInk(0)->isPaint()",
          "new_text": "hasCapture()",
          "old_line_content": "     tool->getInk(0)->isPaint() &&",
          "new_line_content": "     (hasMouse() || hasCapture()) &&",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "app::Document::NoLastDrawingPoint()",
          "new_api": "getInk",
          "old_text": "app::Document::NoLastDrawingPoint()",
          "new_text": "tool->getInk(0)->isPaint()",
          "old_line_content": "     document()->lastDrawingPoint() != app::Document::NoLastDrawingPoint());",
          "new_line_content": "     tool->getInk(0)->isPaint() &&",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "type",
          "new_api": "empty",
          "old_text": "msg->type()",
          "new_text": "m_deletedStates.empty()",
          "old_line_content": "  switch (msg->type()) {",
          "new_line_content": "  if (!m_deletedStates.empty())",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "timer",
          "new_api": "type",
          "old_text": "static_cast<TimerMessage*>(msg)->timer()",
          "new_text": "msg->type()",
          "old_line_content": "      if (static_cast<TimerMessage*>(msg)->timer() == &m_antsTimer) {",
          "new_line_content": "  switch (msg->type()) {",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "pointerType",
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": "mouseMsg->pointerType()",
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "new_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "activeToolManager",
          "new_api": "updateQuicktool",
          "old_text": "App::instance()->activeToolManager()\n          ->pressButton(pointer_from_msg(this, mouseMsg))",
          "new_text": "updateQuicktool()",
          "old_line_content": "        App::instance()->activeToolManager()",
          "new_line_content": "        updateQuicktool();",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "pointer_from_msg",
          "new_api": "position",
          "old_text": "pointer_from_msg(this, mouseMsg)",
          "new_text": "mouseMsg->position()",
          "old_line_content": "          ->pressButton(pointer_from_msg(this, mouseMsg));",
          "new_line_content": "        setCursor(mouseMsg->position());",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "onMouseDown",
          "new_api": "pointer_from_msg",
          "old_text": "m_state->onMouseDown(this, mouseMsg)",
          "new_text": "pointer_from_msg(this, mouseMsg)",
          "old_line_content": "        return m_state->onMouseDown(this, mouseMsg);",
          "new_line_content": "          ->pressButton(pointer_from_msg(this, mouseMsg));",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "updateAutoCelGuides",
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": "updateAutoCelGuides(msg)",
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "        updateAutoCelGuides(msg);",
          "new_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": "pointerType",
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": "mouseMsg->pointerType()",
          "old_line_content": "        return m_state->onMouseMove(this, static_cast<MouseMessage*>(msg));",
          "new_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "pointerType",
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": "mouseMsg->pointerType()",
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "new_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "updateAutoCelGuides",
          "new_api": "onMouseUp",
          "old_text": "updateAutoCelGuides(msg)",
          "new_text": "m_state->onMouseUp(this, mouseMsg)",
          "old_line_content": "        updateAutoCelGuides(msg);",
          "new_line_content": "        bool result = m_state->onMouseUp(this, mouseMsg);",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "hasCapture",
          "new_api": "pointerType",
          "old_text": "hasCapture()",
          "new_text": "mouseMsg->pointerType()",
          "old_line_content": "        if (!hasCapture()) {",
          "new_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "activeToolManager",
          "new_api": "updateAutoCelGuides",
          "old_text": "App::instance()->activeToolManager()->releaseButtons()",
          "new_text": "updateAutoCelGuides(msg)",
          "old_line_content": "          App::instance()->activeToolManager()->releaseButtons();",
          "new_line_content": "        updateAutoCelGuides(msg);",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "updateToolLoopModifiersIndicators",
          "new_api": "activeToolManager",
          "old_text": "updateToolLoopModifiersIndicators()",
          "new_text": "App::instance()->activeToolManager()->releaseButtons()",
          "old_line_content": "          updateToolLoopModifiersIndicators();",
          "new_line_content": "          App::instance()->activeToolManager()->releaseButtons();",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "pointerType",
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": "mouseMsg->pointerType()",
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "new_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": "updateAutoCelGuides",
          "new_api": "static_cast<KeyMessage*>(msg)",
          "old_text": "updateAutoCelGuides(msg)",
          "new_text": "static_cast<KeyMessage*>(msg)",
          "old_line_content": "        updateAutoCelGuides(msg);",
          "new_line_content": "        bool used = m_state->onKeyDown(this, static_cast<KeyMessage*>(msg));",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "updateQuicktool",
          "new_api": "updateToolLoopModifiersIndicators",
          "old_text": "updateQuicktool()",
          "new_text": "updateToolLoopModifiersIndicators()",
          "old_line_content": "          updateQuicktool();",
          "new_line_content": "        updateToolLoopModifiersIndicators();",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "ui::get_mouse_position()",
          "new_api": "updateAutoCelGuides",
          "old_text": "ui::get_mouse_position()",
          "new_text": "updateAutoCelGuides(msg)",
          "old_line_content": "          setCursor(ui::get_mouse_position());",
          "new_line_content": "        updateAutoCelGuides(msg);",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "updateAutoCelGuides",
          "new_api": "static_cast<KeyMessage*>(msg)",
          "old_text": "updateAutoCelGuides(msg)",
          "new_text": "static_cast<KeyMessage*>(msg)",
          "old_line_content": "        updateAutoCelGuides(msg);",
          "new_line_content": "        bool used = m_state->onKeyUp(this, static_cast<KeyMessage*>(msg));",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "updateQuicktool",
          "new_api": "updateToolLoopModifiersIndicators",
          "old_text": "updateQuicktool()",
          "new_text": "updateToolLoopModifiersIndicators()",
          "old_line_content": "          updateQuicktool();",
          "new_line_content": "        updateToolLoopModifiersIndicators();",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "ui::get_mouse_position()",
          "new_api": "updateAutoCelGuides",
          "old_text": "ui::get_mouse_position()",
          "new_text": "updateAutoCelGuides(msg)",
          "old_line_content": "          setCursor(ui::get_mouse_position());",
          "new_line_content": "        updateAutoCelGuides(msg);",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "showRenderTime",
          "new_api": "elapsed",
          "old_text": "Preferences::instance().perf.showRenderTime()",
          "new_text": "renderChrono.elapsed()",
          "old_line_content": "      if (Preferences::instance().perf.showRenderTime()) {",
          "new_line_content": "      renderElapsed = renderChrono.elapsed();",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "sprintf",
          "new_api": "View::getView(this)",
          "old_text": "sprintf(buf, \"%.3f\", renderElapsed)",
          "new_text": "View::getView(this)",
          "old_line_content": "        sprintf(buf, \"%.3f\", renderElapsed);",
          "new_line_content": "        View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "origin",
          "new_api": "viewportBounds",
          "old_text": "g->drawText(\n          buf,\n          gfx::rgba(255, 255, 255, 255),\n          gfx::rgba(0, 0, 0, 255),\n          vp.origin() - bounds().origin())",
          "new_text": "view->viewportBounds()",
          "old_line_content": "        g->drawText(",
          "new_line_content": "        gfx::Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": "gfx::rgba(255, 255, 255, 255)",
          "new_api": "sprintf",
          "old_text": "gfx::rgba(255, 255, 255, 255)",
          "new_text": "sprintf(buf, \"%.3f\", renderElapsed)",
          "old_line_content": "          gfx::rgba(255, 255, 255, 255),",
          "new_line_content": "        sprintf(buf, \"%.3f\", renderElapsed);",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "gfx::rgba(0, 0, 0, 255)",
          "new_api": "origin",
          "old_text": "gfx::rgba(0, 0, 0, 255)",
          "new_text": "g->drawText(\n          buf,\n          gfx::rgba(255, 255, 255, 255),\n          gfx::rgba(0, 0, 0, 255),\n          vp.origin() - bounds().origin())",
          "old_line_content": "          gfx::rgba(0, 0, 0, 255),",
          "new_line_content": "        g->drawText(",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "stop",
          "new_api": "start",
          "old_text": "m_antsTimer.stop()",
          "new_text": "m_antsTimer.start()",
          "old_line_content": "        m_antsTimer.stop();",
          "new_line_content": "        m_antsTimer.start();",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "showMouseCursor",
          "new_api": "onSetCursor",
          "old_text": "showMouseCursor(kArrowCursor)",
          "new_text": "m_state->onSetCursor(this, mouseScreenPos)",
          "old_line_content": "    showMouseCursor(kArrowCursor);",
          "new_line_content": "    used = m_state->onSetCursor(this, mouseScreenPos);",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "isReference",
          "new_api": "isImage",
          "old_text": "m_layer->isReference()",
          "new_text": "m_layer->isImage()",
          "old_line_content": "          !m_layer->isReference());",
          "new_line_content": "          m_layer->isImage() &&",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": "getPressedKeyAction",
          "new_api": "moveOnAddMode",
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::TranslatingSelection)",
          "new_text": "Preferences::instance().selection.moveOnAddMode()",
          "old_line_content": "      int(m_customizationDelegate->getPressedKeyAction(KeyContext::TranslatingSelection) & KeyAction::CopySelection)));",
          "new_line_content": "      Preferences::instance().selection.moveOnAddMode()) ||",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "getByFrame",
          "new_api": "isSlice",
          "old_text": "slice->getByFrame(m_frame)",
          "new_text": "ink->isSlice()",
          "old_line_content": "          auto key = slice->getByFrame(m_frame);",
          "new_line_content": "    if (ink->isSlice()) {",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": "bounds",
          "new_api": "slices",
          "old_text": "key->bounds()",
          "new_text": "m_sprite->slices()",
          "old_line_content": "            gfx::Rect bounds = editorToScreen(key->bounds());",
          "new_line_content": "        for (auto slice : m_sprite->slices()) {",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "center",
          "new_api": "getByFrame",
          "old_text": "key->center()",
          "new_text": "slice->getByFrame(m_frame)",
          "old_line_content": "            gfx::Rect center = key->center();",
          "new_line_content": "          auto key = slice->getByFrame(m_frame);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "contains",
          "new_api": "center",
          "old_text": "bounds.contains(mouseScreenPos)",
          "new_text": "key->center()",
          "old_line_content": "            if (bounds.contains(mouseScreenPos) &&",
          "new_line_content": "            gfx::Rect center = key->center();",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "setBorder",
          "new_api": "y2",
          "old_text": "hit.setBorder(border)",
          "new_text": "bounds.y2()",
          "old_line_content": "              hit.setBorder(border);",
          "new_line_content": "                (mouseScreenPos.y >= bounds.y2() ? BOTTOM: 0);",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "guiscale",
          "new_api": "offset",
          "old_text": "guiscale()",
          "new_text": "editorToScreen(\n                center.offset(key->bounds().origin()))",
          "old_line_content": "              bool horz1 = gfx::Rect(bounds.x, center.y-2*guiscale(), bounds.w, 5*guiscale()).contains(mouseScreenPos);",
          "new_line_content": "              center = editorToScreen(",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "guiscale",
          "new_api": "origin",
          "old_text": "guiscale()",
          "new_text": "key->bounds().origin()",
          "old_line_content": "              bool horz2 = gfx::Rect(bounds.x, center.y2()-2*guiscale(), bounds.w, 5*guiscale()).contains(mouseScreenPos);",
          "new_line_content": "                center.offset(key->bounds().origin()));",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": "setSlice",
          "new_api": "contains",
          "old_text": "hit.setSlice(slice)",
          "new_text": "bounds.contains(mouseScreenPos)",
          "old_line_content": "              hit.setSlice(slice);",
          "new_line_content": "            if (bounds.contains(mouseScreenPos)) {",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": "setZoom",
          "new_api": "View::getView(this)",
          "old_text": "proj.setZoom(zoom)",
          "new_text": "View::getView(this)",
          "old_line_content": "  proj.setZoom(zoom);",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "editorToScreen",
          "new_api": "screenToEditor",
          "old_text": "editorToScreen(spritePos)",
          "new_text": "screenToEditor(screenPos)",
          "old_line_content": "    gfx::Point screenPos2 = editorToScreen(spritePos);",
          "new_line_content": "  spritePos = screenToEditor(screenPos);",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": "scaleX",
          "new_api": "editorToScreen",
          "old_text": "m_proj.scaleX()",
          "new_text": "editorToScreen(spritePos)",
          "old_line_content": "      subpixelPos.x = (0.5 + screenPos.x - screenPos2.x) / m_proj.scaleX();",
          "new_line_content": "    gfx::Point screenPos2 = editorToScreen(spritePos);",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "applyY",
          "new_api": "calcExtraPadding",
          "old_text": "proj.applyY(subpixelPos.y)",
          "new_text": "calcExtraPadding(proj)",
          "old_line_content": "    padding.y - (screenPos.y-vp.y) + proj.applyY(spritePos.y+proj.removeY(1)/2) + int(proj.applyY(subpixelPos.y)));",
          "new_line_content": "  gfx::Point padding = calcExtraPadding(proj);",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": "setZoom",
          "new_api": "applyX",
          "old_text": "setZoom(zoom)",
          "new_text": "proj.applyX(subpixelPos.x)",
          "old_line_content": "  setZoom(zoom);",
          "new_line_content": "    padding.x - (screenPos.x-vp.x) + proj.applyX(spritePos.x+proj.removeX(1)/2) + int(proj.applyX(subpixelPos.x)),",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "updateEditor",
          "new_api": "setZoom",
          "old_text": "updateEditor()",
          "new_text": "setZoom(zoom)",
          "old_line_content": "    updateEditor();",
          "new_line_content": "  setZoom(zoom);",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": "flushRedraw",
          "new_api": "setEditorScroll",
          "old_text": "flushRedraw()",
          "new_text": "setEditorScroll(scrollPos)",
          "old_line_content": "  flushRedraw();",
          "new_line_content": "    setEditorScroll(scrollPos);",
          "content_same": false
        },
        {
          "line": 2049,
          "old_api": "reset",
          "new_api": "getVisibleSpriteBounds",
          "old_text": "temp_mask.reset(new Mask)",
          "new_text": "getVisibleSpriteBounds()",
          "old_line_content": "    temp_mask.reset(new Mask);",
          "new_line_content": "    gfx::Rect visibleBounds = getVisibleSpriteBounds();",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": "replace",
          "new_api": "bounds",
          "old_text": "temp_mask->replace(\n      gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,\n                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,\n                imageBounds.w, imageBounds.h))",
          "new_text": "image->bounds()",
          "old_line_content": "    temp_mask->replace(",
          "new_line_content": "    gfx::Rect imageBounds = image->bounds();",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": "sprite",
          "new_api": "selectTool",
          "old_text": "this->sprite()",
          "new_text": "ToolBar::instance()->selectTool(defaultSelectionTool)",
          "old_line_content": "  Sprite* sprite = this->sprite();",
          "new_line_content": "    ToolBar::instance()->selectTool(defaultSelectionTool);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "bounds",
          "new_api": "sprite",
          "old_text": "mask->bounds()",
          "new_text": "this->sprite()",
          "old_line_content": "  int x = mask->bounds().x;",
          "new_line_content": "  Sprite* sprite = this->sprite();",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": "getViewportBounds",
          "new_api": "bounds",
          "old_text": "getViewportBounds()",
          "new_text": "mask->bounds()",
          "old_line_content": "    const Rect visibleBounds = getViewportBounds();",
          "new_line_content": "  int x = mask->bounds().x;",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "center",
          "new_api": "bounds",
          "old_text": "mask->bounds().center()",
          "new_text": "mask->bounds()",
          "old_line_content": "    const Point maskCenter = mask->bounds().center();",
          "new_line_content": "  int y = mask->bounds().y;",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "height",
          "new_api": "width",
          "old_text": "image->height()",
          "new_text": "image->width()",
          "old_line_content": "      y = MID(0, y, sprite->height() - image->height());",
          "new_line_content": "    if (sprite->width() <= image->width() ||",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "setOrigin",
          "new_api": "hide",
          "old_text": "mask2.setOrigin(x, y)",
          "new_text": "m_brushPreview.hide()",
          "old_line_content": "  mask2.setOrigin(x, y);",
          "new_line_content": "  m_brushPreview.hide();",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "getSite",
          "new_api": "setOrigin",
          "old_text": "getSite()",
          "new_text": "mask2.setOrigin(x, y)",
          "old_line_content": "    new PixelsMovement(UIContext::instance(), getSite(),",
          "new_line_content": "  mask2.setOrigin(x, y);",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": "EditorStatePtr",
          "new_api": "getSite",
          "old_text": "EditorStatePtr(new MovingPixelsState(this, NULL, pixelsMovement, NoHandle))",
          "new_text": "getSite()",
          "old_line_content": "  setState(EditorStatePtr(new MovingPixelsState(this, NULL, pixelsMovement, NoHandle)));",
          "new_line_content": "    new PixelsMovement(UIContext::instance(), getSite(),",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "rotate",
          "new_api": "get",
          "old_text": "movingPixels->rotate(angle)",
          "new_text": "m_state.get()",
          "old_line_content": "      movingPixels->rotate(angle);",
          "new_line_content": "  if (MovingPixelsState* movingPixels = dynamic_cast<MovingPixelsState*>(m_state.get())) {",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": "get",
          "new_api": "std::fabs(angle)",
          "old_text": "m_state.get()",
          "new_text": "std::fabs(angle)",
          "old_line_content": "  else if (StandbyState* standby = dynamic_cast<StandbyState*>(m_state.get())) {",
          "new_line_content": "    if (std::fabs(angle) > 1e-5)",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": "startSelectionTransformation",
          "new_api": "rotate",
          "old_text": "standby->startSelectionTransformation(this, move, angle)",
          "new_text": "movingPixels->rotate(angle)",
          "old_line_content": "    standby->startSelectionTransformation(this, move, angle);",
          "new_line_content": "      movingPixels->rotate(angle);",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "isScrollMovement",
          "new_api": "getCurrentEditorInk",
          "old_text": "clickedInk->isScrollMovement()",
          "new_text": "getCurrentEditorInk()",
          "old_line_content": "  if (msg->middle() || clickedInk->isScrollMovement()) { // TODO msg->middle() should be customizable",
          "new_line_content": "  tools::Ink* clickedInk = getCurrentEditorInk();",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": "isZoom",
          "new_api": "getCurrentEditorInk",
          "old_text": "clickedInk->isZoom()",
          "new_text": "getCurrentEditorInk()",
          "old_line_content": "  if (clickedInk->isZoom()) {",
          "new_line_content": "  tools::Ink* clickedInk = getCurrentEditorInk();",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "EditorStatePtr",
          "new_api": "stop",
          "old_text": "EditorStatePtr(new PlayState(playOnce, playAll))",
          "new_text": "stop()",
          "old_line_content": "  setState(EditorStatePtr(new PlayState(playOnce, playAll)));",
          "new_line_content": "    stop();",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "addChild",
          "new_api": "base::convert_to<std::string>(option)",
          "old_text": "menu.addChild(item)",
          "new_text": "base::convert_to<std::string>(option)",
          "old_line_content": "    menu.addChild(item);",
          "new_line_content": "    MenuItem* item = new MenuItem(\"Speed x\" + base::convert_to<std::string>(option));",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": "addChild",
          "new_api": "playOnce",
          "old_text": "menu.addChild(item)",
          "new_text": "playOnce()",
          "old_line_content": "    menu.addChild(item);",
          "new_line_content": "        playOnce(!playOnce());",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": "addChild",
          "new_api": "playAll",
          "old_text": "menu.addChild(item)",
          "new_text": "playAll()",
          "old_line_content": "    menu.addChild(item);",
          "new_line_content": "        playAll(!playAll());",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": "rewindOnStop",
          "new_api": "connect",
          "old_text": "Preferences::instance().general.rewindOnStop(\n          !Preferences::instance().general.rewindOnStop())",
          "new_text": "item->Click.connect(\n      []() {\n        // Switch the \"rewind_on_stop\" option\n        Preferences::instance().general.rewindOnStop(\n          !Preferences::instance().general.rewindOnStop());\n      })",
          "old_line_content": "        Preferences::instance().general.rewindOnStop(",
          "new_line_content": "    item->Click.connect(",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": "addChild",
          "new_api": "rewindOnStop",
          "old_text": "menu.addChild(item)",
          "new_text": "Preferences::instance().general.rewindOnStop()",
          "old_line_content": "    menu.addChild(item);",
          "new_line_content": "          !Preferences::instance().general.rewindOnStop());",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": "ui::get_mouse_position()",
          "new_api": "addChild",
          "old_text": "ui::get_mouse_position()",
          "new_text": "menu.addChild(item)",
          "old_line_content": "  menu.showPopup(ui::get_mouse_position());",
          "new_line_content": "    menu.addChild(item);",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": "playOnce",
          "new_api": "isPlaying",
          "old_text": "playOnce()",
          "new_text": "isPlaying()",
          "old_line_content": "    play(playOnce(),",
          "new_line_content": "  if (isPlaying()) {",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "applyX",
          "new_api": "View::getView(this)",
          "old_text": "gfx::Point(\n      std::max<int>(vp.w/2, vp.w - proj.applyX(m_sprite->width())),\n      std::max<int>(vp.h/2, vp.h - proj.applyY(m_sprite->height())))",
          "new_text": "View::getView(this)",
          "old_line_content": "    return gfx::Point(",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "height",
          "new_api": "viewportBounds",
          "old_text": "m_sprite->height()",
          "new_text": "view->viewportBounds()",
          "old_line_content": "      std::max<int>(vp.h/2, vp.h - proj.applyY(m_sprite->height())));",
          "new_line_content": "    Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": "gfx::Point(0, 0)",
          "new_api": "height",
          "old_text": "gfx::Point(0, 0)",
          "new_text": "m_sprite->height()",
          "old_line_content": "    return gfx::Point(0, 0);",
          "new_line_content": "      std::max<int>(vp.h/2, vp.h - proj.applyY(m_sprite->height())));",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": "getPressedKeyAction",
          "new_api": "isCelMovement",
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool)",
          "new_text": "getCurrentEditorInk()->isCelMovement()",
          "old_line_content": "     int(m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool) & KeyAction::AutoSelectLayer));",
          "new_line_content": "    (getCurrentEditorInk()->isCelMovement() &&",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "getSite",
          "new_api": "dynamic_cast<ui::MouseMessage*>(msg)",
          "old_text": "getSite()",
          "new_text": "dynamic_cast<ui::MouseMessage*>(msg)",
          "old_line_content": "    picker.pickColor(getSite(),",
          "new_line_content": "    ui::MouseMessage* mouseMsg = dynamic_cast<ui::MouseMessage*>(msg);",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": "layer",
          "new_api": "position",
          "old_text": "picker.layer()->cel(m_frame)",
          "new_text": "mouseMsg->position()",
          "old_line_content": "    m_showGuidesThisCel = (picker.layer() ? picker.layer()->cel(m_frame):",
          "new_line_content": "                     screenToEditorF(mouseMsg ? mouseMsg->position():",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2052,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "temp_mask.reset(new Mask)",
          "old_line_content": "                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,",
          "new_line_content": "    temp_mask.reset(new Mask);",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": null,
          "new_api": "replace",
          "old_text": null,
          "new_text": "temp_mask->replace(\n      gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,\n                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,\n                imageBounds.w, imageBounds.h))",
          "old_line_content": "                imageBounds.w, imageBounds.h));",
          "new_line_content": "    temp_mask->replace(",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": null,
          "new_api": "gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,\n                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,\n                imageBounds.w, imageBounds.h)",
          "old_text": null,
          "new_text": "gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,\n                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,\n                imageBounds.w, imageBounds.h)",
          "old_line_content": "",
          "new_line_content": "      gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "temp_mask.get()",
          "old_line_content": "  // Change to a selection tool: it's necessary for PixelsMovement",
          "new_line_content": "    mask = temp_mask.get();",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": null,
          "new_api": "isSelection",
          "old_text": null,
          "new_text": "getCurrentEditorInk()->isSelection()",
          "old_line_content": "",
          "new_line_content": "  if (!getCurrentEditorInk()->isSelection()) {",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": null,
          "new_api": "toolBox",
          "old_text": null,
          "new_text": "App::instance()->toolBox()->getToolById(tools::WellKnownTools::RectangularMarquee)",
          "old_line_content": "  }",
          "new_line_content": "      App::instance()->toolBox()->getToolById(tools::WellKnownTools::RectangularMarquee);",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": null,
          "new_api": "getViewportBounds",
          "old_text": null,
          "new_text": "getViewportBounds()",
          "old_line_content": "    // If the pasted image original location center point isn't",
          "new_line_content": "    const Rect visibleBounds = getViewportBounds();",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "center",
          "old_text": null,
          "new_text": "mask->bounds().center()",
          "old_line_content": "    // visible, we center the image in the editor's visible bounds.",
          "new_line_content": "    const Point maskCenter = mask->bounds().center();",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "visibleBounds.x2()",
          "old_line_content": "    // In other case, if the center is visible, we put the pasted",
          "new_line_content": "        maskCenter.x >= visibleBounds.x2()) {",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "image->width()",
          "old_line_content": "    // image in its original location.",
          "new_line_content": "      x = visibleBounds.x + visibleBounds.w/2 - image->width()/2;",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "image->width()",
          "old_line_content": "    if (maskCenter.y < visibleBounds.y ||",
          "new_line_content": "      x = MID(visibleBounds.x-image->width(), x, visibleBounds.x+visibleBounds.w-1);",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "visibleBounds.y2()",
          "old_line_content": "    else {",
          "new_line_content": "        maskCenter.y >= visibleBounds.y2()) {",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "image->height()",
          "old_line_content": "    // Limit the image inside the sprite's bounds.",
          "new_line_content": "      y = MID(visibleBounds.y-image->height(), y, visibleBounds.y+visibleBounds.h-1);",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "image->height()",
          "old_line_content": "    }",
          "new_line_content": "        sprite->height() <= image->height()) {",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "image->width()",
          "old_line_content": "    else {",
          "new_line_content": "      x = MID(0, x, sprite->width() - image->width());",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "image->height()",
          "old_line_content": "      // Also we always limit the 1 image pixel inside the sprite's bounds.",
          "new_line_content": "      y = MID(0, y, sprite->height() - image->height());",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "sprite->width()",
          "old_line_content": "  }",
          "new_line_content": "      x = MID(-image->width()+1, x, sprite->width()-1);",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "sprite->height()",
          "old_line_content": "",
          "new_line_content": "      y = MID(-image->height()+1, y, sprite->height()-1);",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": null,
          "new_api": "EditorStatePtr",
          "old_text": null,
          "new_text": "EditorStatePtr(new MovingPixelsState(this, NULL, pixelsMovement, NoHandle))",
          "old_line_content": "void Editor::startSelectionTransformation(const gfx::Point& move, double angle)",
          "new_line_content": "  setState(EditorStatePtr(new MovingPixelsState(this, NULL, pixelsMovement, NoHandle)));",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": null,
          "new_api": "translate",
          "old_text": null,
          "new_text": "movingPixels->translate(move)",
          "old_line_content": "  }",
          "new_line_content": "    movingPixels->translate(move);",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "m_state.get()",
          "old_line_content": "}",
          "new_line_content": "  else if (StandbyState* standby = dynamic_cast<StandbyState*>(m_state.get())) {",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "startSelectionTransformation",
          "old_text": null,
          "new_text": "standby->startSelectionTransformation(this, move, angle)",
          "old_line_content": "",
          "new_line_content": "    standby->startSelectionTransformation(this, move, angle);",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": null,
          "new_api": "notifyScrollChanged",
          "old_text": null,
          "new_text": "m_observers.notifyScrollChanged(this)",
          "old_line_content": "void Editor::notifyZoomChanged()",
          "new_line_content": "  m_observers.notifyScrollChanged(this);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "notifyZoomChanged",
          "old_text": null,
          "new_text": "m_observers.notifyZoomChanged(this)",
          "old_line_content": "bool Editor::checkForScroll(ui::MouseMessage* msg)",
          "new_line_content": "  m_observers.notifyZoomChanged(this);",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": null,
          "new_api": "isScrollMovement",
          "old_text": null,
          "new_text": "clickedInk->isScrollMovement()",
          "old_line_content": "  }",
          "new_line_content": "  if (msg->middle() || clickedInk->isScrollMovement()) { // TODO msg->middle() should be customizable",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": null,
          "new_api": "startScrollingState",
          "old_text": null,
          "new_text": "startScrollingState(msg)",
          "old_line_content": "  else",
          "new_line_content": "    startScrollingState(msg);",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": null,
          "new_api": "isZoom",
          "old_text": null,
          "new_text": "clickedInk->isZoom()",
          "old_line_content": "  }",
          "new_line_content": "  if (clickedInk->isZoom()) {",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "startZoomingState",
          "old_text": null,
          "new_text": "startZoomingState(msg)",
          "old_line_content": "  else",
          "new_line_content": "    startZoomingState(msg);",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": null,
          "new_api": "setState",
          "old_text": null,
          "new_text": "setState(newState)",
          "old_line_content": "",
          "new_line_content": "  setState(newState);",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": null,
          "new_api": "onMouseDown",
          "old_text": null,
          "new_text": "newState->onMouseDown(this, msg)",
          "old_line_content": "void Editor::startZoomingState(ui::MouseMessage* msg)",
          "new_line_content": "  newState->onMouseDown(this, msg);",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": null,
          "new_api": "setState",
          "old_text": null,
          "new_text": "setState(newState)",
          "old_line_content": "",
          "new_line_content": "  setState(newState);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "onMouseDown",
          "old_text": null,
          "new_text": "newState->onMouseDown(this, msg)",
          "old_line_content": "void Editor::play(const bool playOnce,",
          "new_line_content": "  newState->onMouseDown(this, msg);",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(m_state)",
          "old_line_content": "",
          "new_line_content": "  ASSERT(m_state);",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "EditorStatePtr",
          "old_text": null,
          "new_text": "EditorStatePtr(new PlayState(playOnce, playAll))",
          "old_line_content": "void Editor::stop()",
          "new_line_content": "  setState(EditorStatePtr(new PlayState(playOnce, playAll)));",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(m_state)",
          "old_line_content": "",
          "new_line_content": "  ASSERT(m_state);",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "m_state.get()",
          "old_line_content": "    m_isPlaying = false;",
          "new_line_content": "    while (m_state && !dynamic_cast<PlayState*>(m_state.get()))",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": null,
          "new_api": "backToPreviousState",
          "old_text": null,
          "new_text": "backToPreviousState()",
          "old_line_content": "",
          "new_line_content": "      backToPreviousState();",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "m_state.get()",
          "old_line_content": "  }",
          "new_line_content": "    ASSERT(m_state && dynamic_cast<PlayState*>(m_state.get()));",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": null,
          "new_api": "backToPreviousState",
          "old_text": null,
          "new_text": "backToPreviousState()",
          "old_line_content": "",
          "new_line_content": "      backToPreviousState();",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "base::Bind<void>(&Editor::setAnimationSpeedMultiplier, this, option)",
          "old_text": null,
          "new_text": "base::Bind<void>(&Editor::setAnimationSpeedMultiplier, this, option)",
          "old_line_content": "  }",
          "new_line_content": "    item->Click.connect(base::Bind<void>(&Editor::setAnimationSpeedMultiplier, this, option));",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": null,
          "new_api": "setSelected",
          "old_text": null,
          "new_text": "item->setSelected(m_aniSpeed == option)",
          "old_line_content": "",
          "new_line_content": "    item->setSelected(m_aniSpeed == option);",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": null,
          "new_api": "addChild",
          "old_text": null,
          "new_text": "menu.addChild(new MenuSeparator)",
          "old_line_content": "  {",
          "new_line_content": "  menu.addChild(new MenuSeparator);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "connect",
          "old_text": null,
          "new_text": "item->Click.connect(\n      [&playOnce]() {\n        playOnce(!playOnce());\n      })",
          "old_line_content": "      });",
          "new_line_content": "    item->Click.connect(",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": null,
          "new_api": "playOnce",
          "old_text": null,
          "new_text": "playOnce()",
          "old_line_content": "",
          "new_line_content": "    item->setSelected(playOnce());",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": null,
          "new_api": "addChild",
          "old_text": null,
          "new_text": "menu.addChild(item)",
          "old_line_content": "  // Play all option",
          "new_line_content": "    menu.addChild(item);",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": null,
          "new_api": "connect",
          "old_text": null,
          "new_text": "item->Click.connect(\n      [&playAll]() {\n        playAll(!playAll());\n      })",
          "old_line_content": "      });",
          "new_line_content": "    item->Click.connect(",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": null,
          "new_api": "playAll",
          "old_text": null,
          "new_text": "playAll()",
          "old_line_content": "",
          "new_line_content": "    item->setSelected(playAll());",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": null,
          "new_api": "addChild",
          "old_text": null,
          "new_text": "menu.addChild(item)",
          "old_line_content": "  if (withStopBehaviorOptions) {",
          "new_line_content": "    menu.addChild(item);",
          "content_same": false
        },
        {
          "line": 2273,
          "old_api": null,
          "new_api": "rewindOnStop",
          "old_text": null,
          "new_text": "Preferences::instance().general.rewindOnStop()",
          "old_line_content": "",
          "new_line_content": "    item->setSelected(Preferences::instance().general.rewindOnStop());",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": null,
          "new_api": "ui::get_mouse_position()",
          "old_text": null,
          "new_text": "ui::get_mouse_position()",
          "old_line_content": "    // Re-play",
          "new_line_content": "  menu.showPopup(ui::get_mouse_position());",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": null,
          "new_api": "stop",
          "old_text": null,
          "new_text": "stop()",
          "old_line_content": "  }",
          "new_line_content": "    stop();",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": null,
          "new_api": "playOnce",
          "old_text": null,
          "new_text": "playOnce()",
          "old_line_content": "}",
          "new_line_content": "    play(playOnce(),",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": null,
          "new_api": "playAll",
          "old_text": null,
          "new_text": "playAll()",
          "old_line_content": "",
          "new_line_content": "         playAll());",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": null,
          "new_api": "hide",
          "old_text": null,
          "new_text": "m_brushPreview.hide()",
          "old_line_content": "",
          "new_line_content": "  m_brushPreview.hide();",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": null,
          "new_api": "ui::set_mouse_cursor(cursorType, cursor)",
          "old_text": null,
          "new_text": "ui::set_mouse_cursor(cursorType, cursor)",
          "old_line_content": "void Editor::showBrushPreview(const gfx::Point& screenPos)",
          "new_line_content": "  ui::set_mouse_cursor(cursorType, cursor);",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": null,
          "new_api": "paintingCursorType",
          "old_text": null,
          "new_text": "Preferences::instance().cursor.paintingCursorType()",
          "old_line_content": "",
          "new_line_content": "  if (Preferences::instance().cursor.paintingCursorType() !=",
          "content_same": false
        },
        {
          "line": 2308,
          "old_api": null,
          "new_api": "ui::set_mouse_cursor(kNoCursor)",
          "old_text": null,
          "new_text": "ui::set_mouse_cursor(kNoCursor)",
          "old_line_content": "}",
          "new_line_content": "    ui::set_mouse_cursor(kNoCursor);",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": null,
          "new_api": "show",
          "old_text": null,
          "new_text": "m_brushPreview.show(screenPos)",
          "old_line_content": "// static",
          "new_line_content": "  m_brushPreview.show(screenPos);",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": null,
          "new_api": "applyX",
          "old_text": null,
          "new_text": "gfx::Point(\n      std::max<int>(vp.w/2, vp.w - proj.applyX(m_sprite->width())),\n      std::max<int>(vp.h/2, vp.h - proj.applyY(m_sprite->height())))",
          "old_line_content": "  }",
          "new_line_content": "    return gfx::Point(",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "m_sprite->width()",
          "old_line_content": "  else",
          "new_line_content": "      std::max<int>(vp.w/2, vp.w - proj.applyX(m_sprite->width())),",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": null,
          "new_api": "gfx::Point(0, 0)",
          "old_text": null,
          "new_text": "gfx::Point(0, 0)",
          "old_line_content": "bool Editor::isMovingPixels() const",
          "new_line_content": "    return gfx::Point(0, 0);",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "m_state.get()",
          "old_line_content": "void Editor::dropMovingPixels()",
          "new_line_content": "  return (dynamic_cast<MovingPixelsState*>(m_state.get()) != nullptr);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "isMovingPixels",
          "old_text": null,
          "new_text": "isMovingPixels()",
          "old_line_content": "",
          "new_line_content": "  ASSERT(isMovingPixels());",
          "content_same": false
        },
        {
          "line": 2341,
          "old_api": null,
          "new_api": "backToPreviousState",
          "old_text": null,
          "new_text": "backToPreviousState()",
          "old_line_content": "void Editor::invalidateIfActive()",
          "new_line_content": "  backToPreviousState();",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": null,
          "new_api": "isActive",
          "old_text": null,
          "new_text": "isActive()",
          "old_line_content": "",
          "new_line_content": "  if (isActive())",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "bool Editor::showAutoCelGuides()",
          "new_line_content": "    invalidate();",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "autoGuides",
          "old_text": null,
          "new_text": "m_docPref.show.autoGuides()",
          "old_line_content": "}",
          "new_line_content": "     m_docPref.show.autoGuides() &&",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool)",
          "old_line_content": "void Editor::updateAutoCelGuides(ui::Message* msg)",
          "new_line_content": "     int(m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool) & KeyAction::AutoSelectLayer));",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": null,
          "new_api": "showAutoCelGuides",
          "old_text": null,
          "new_text": "showAutoCelGuides()",
          "old_line_content": "",
          "new_line_content": "  if (showAutoCelGuides() &&",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": null,
          "new_api": "requireBrushPreview",
          "old_text": null,
          "new_text": "m_state->requireBrushPreview()",
          "old_line_content": "    ColorPicker picker;",
          "new_line_content": "      m_state->requireBrushPreview()) {",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": null,
          "new_api": "getSite",
          "old_text": null,
          "new_text": "getSite()",
          "old_line_content": "                     m_proj, ColorPicker::FromComposition);",
          "new_line_content": "    picker.pickColor(getSite(),",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": null,
          "new_api": "ui::get_mouse_position()",
          "old_text": null,
          "new_text": "ui::get_mouse_position()",
          "old_line_content": "                                            nullptr);",
          "new_line_content": "                                                ui::get_mouse_position()),",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": null,
          "new_api": "layer",
          "old_text": null,
          "new_text": "picker.layer()->cel(m_frame)",
          "old_line_content": "  else {",
          "new_line_content": "    m_showGuidesThisCel = (picker.layer() ? picker.layer()->cel(m_frame):",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "} // namespace app",
          "new_line_content": "    invalidate();",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "editorToScreen",
          "old_text": null,
          "new_text": "editorToScreen(updateRect)",
          "old_line_content": "    for (const Rect& screenRect : screenRegion) {",
          "new_line_content": "    Rect spriteRectOnScreen = editorToScreen(updateRect);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "editorGraphics.get()",
          "old_line_content": "}",
          "new_line_content": "        drawSpriteUnclippedRect(editorGraphics.get(), updateRect);",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "getMaskBoundaries",
          "old_text": null,
          "new_text": "m_document->getMaskBoundaries()",
          "old_line_content": "  int y = m_padding.y;",
          "new_line_content": "  ASSERT(m_document->getMaskBoundaries());",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "gfx::rgba(0, 0, 0, 255)",
          "old_text": null,
          "new_text": "gfx::rgba(0, 0, 0, 255)",
          "old_line_content": "",
          "new_line_content": "                            gfx::rgba(0, 0, 0, 255),",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": null,
          "new_api": "scaleX",
          "old_text": null,
          "new_text": "m_proj.scaleX()",
          "old_line_content": "    }",
          "new_line_content": "    if (m_proj.scaleX() >= 1.0) {",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "vertical",
          "old_text": null,
          "new_text": "seg.vertical()",
          "old_line_content": "",
          "new_line_content": "      if (!seg.open() && seg.vertical())",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "scaleY",
          "old_text": null,
          "new_text": "m_proj.scaleY()",
          "old_line_content": "    }",
          "new_line_content": "    if (m_proj.scaleY() >= 1.0) {",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "vertical",
          "old_text": null,
          "new_text": "seg.vertical()",
          "old_line_content": "",
          "new_line_content": "      if (!seg.open() && !seg.vertical())",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "gfx::rgba(0, 0, 0)",
          "old_text": null,
          "new_text": "gfx::rgba(0, 0, 0)",
          "old_line_content": "  }",
          "new_line_content": "      g->drawVLine(gfx::rgba(0, 0, 0), x+bounds.x, y+bounds.y, bounds.h);",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "gfx::rgba(0, 0, 0)",
          "old_text": null,
          "new_text": "gfx::rgba(0, 0, 0)",
          "old_line_content": "",
          "new_line_content": "      g->drawHLine(gfx::rgba(0, 0, 0), x+bounds.x, y+bounds.y, bounds.w);",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "isVisible",
          "old_text": null,
          "new_text": "isVisible()",
          "old_line_content": "    Region region;",
          "new_line_content": "  if (isVisible() &&",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "getDrawableRegion",
          "old_text": null,
          "new_text": "getDrawableRegion(region, kCutTopWindows)",
          "old_line_content": "    HideBrushPreview hide(m_brushPreview);",
          "new_line_content": "    getDrawableRegion(region, kCutTopWindows);",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "g.get()",
          "old_line_content": "    }",
          "new_line_content": "      IntersectClip clip(g.get(), rc);",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "g.get()",
          "old_line_content": "}",
          "new_line_content": "        drawMask(g.get());",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "ABS",
          "old_text": null,
          "new_text": "ABS(grid.x)",
          "old_line_content": "  // Change the grid position to the first grid's tile",
          "new_line_content": "  if (grid.x < 0) grid.x += (ABS(grid.x)/grid.w+1) * grid.w;",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "Point",
          "old_text": null,
          "new_text": "Point((grid.x % grid.w) - grid.w,\n                       (grid.y % grid.h) - grid.h)",
          "old_line_content": "  if (grid.y < 0) grid.y += grid.h;",
          "new_line_content": "  grid.setOrigin(Point((grid.x % grid.w) - grid.w,",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "editorToScreen",
          "old_text": null,
          "new_text": "editorToScreen(grid)",
          "old_line_content": "",
          "new_line_content": "  grid = editorToScreen(grid);",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "this->bounds()",
          "old_line_content": "  while (grid.x-grid.w >= spriteBounds.x) grid.x -= grid.w;",
          "new_line_content": "  gfx::Rect bounds = this->bounds();",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "bounds.origin()",
          "old_line_content": "  while (grid.y-grid.h >= spriteBounds.y) grid.y -= grid.h;",
          "new_line_content": "  grid.offset(-bounds.origin());",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "gfx::getr(grid_color)",
          "old_text": null,
          "new_text": "gfx::getr(grid_color)",
          "old_line_content": "",
          "new_line_content": "    gfx::getr(grid_color),",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "gfx::getg(grid_color)",
          "old_text": null,
          "new_text": "gfx::getg(grid_color)",
          "old_line_content": "  // Draw horizontal lines",
          "new_line_content": "    gfx::getg(grid_color),",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "gfx::getb(grid_color)",
          "old_text": null,
          "new_text": "gfx::getb(grid_color)",
          "old_line_content": "  int x1 = spriteBounds.x;",
          "new_line_content": "    gfx::getb(grid_color), alpha);",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "drawHLine",
          "old_text": null,
          "new_text": "g->drawHLine(grid_color, x1, c, spriteBounds.w)",
          "old_line_content": "  x1 = grid.x;",
          "new_line_content": "    g->drawHLine(grid_color, x1, c, spriteBounds.w);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "drawVLine",
          "old_text": null,
          "new_text": "g->drawVLine(grid_color, c, y1, spriteBounds.h)",
          "old_line_content": "void Editor::drawSlices(ui::Graphics* g)",
          "new_line_content": "    g->drawVLine(grid_color, c, y1, spriteBounds.h);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "slices",
          "old_text": null,
          "new_text": "m_sprite->slices()",
          "old_line_content": "      continue;",
          "new_line_content": "  for (auto slice : m_sprite->slices()) {",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "getByFrame",
          "old_text": null,
          "new_text": "slice->getByFrame(m_frame)",
          "old_line_content": "",
          "new_line_content": "    auto key = slice->getByFrame(m_frame);",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "doc::rgba_getg(docColor)",
          "old_text": null,
          "new_text": "doc::rgba_getg(docColor)",
          "old_line_content": "    gfx::Rect out =",
          "new_line_content": "                                 doc::rgba_getg(docColor),",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "key->bounds()",
          "old_line_content": "    // Center slices",
          "new_line_content": "      editorToScreen(key->bounds())",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "drawVLine",
          "old_text": null,
          "new_text": "g->drawVLine(in_color, in.x, out.y, out.h)",
          "old_line_content": "    }",
          "new_line_content": "        g->drawVLine(in_color, in.x, out.y, out.h);",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "out.x2()",
          "old_line_content": "",
          "new_line_content": "      if (in.x2() > out.x && in.x2() < out.x2())",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "in.x2()",
          "old_line_content": "    // Pivot",
          "new_line_content": "        g->drawVLine(in_color, in.x2(), out.y, out.h);",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "gfx::getb(color)",
          "old_text": null,
          "new_text": "gfx::getb(color)",
          "old_line_content": "    }",
          "new_line_content": "                                gfx::getb(color),",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "doc::rgba_geta(docColor)",
          "old_text": null,
          "new_text": "doc::rgba_geta(docColor)",
          "old_line_content": "",
          "new_line_content": "                                doc::rgba_geta(docColor)/4);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "drawRect",
          "old_text": null,
          "new_text": "g->drawRect(color, out)",
          "old_line_content": "",
          "new_line_content": "    g->drawRect(color, out);",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": null,
          "new_api": "getCelScreenBounds",
          "old_text": null,
          "new_text": "getCelScreenBounds(cel)",
          "old_line_content": "void Editor::drawCelGuides(ui::Graphics* g, const Cel* cel, const Cel* mouseCel)",
          "new_line_content": "  g->drawRect(color, getCelScreenBounds(cel));",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "cel->bounds()",
          "old_line_content": "  if (mouseCel) {",
          "new_line_content": "    sprCelBounds = cel->bounds(),",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "mouseCel->bounds()",
          "old_line_content": "      g, mouseCel,",
          "new_line_content": "    sprCmpBounds = mouseCel->bounds();",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "autoGuidesColor",
          "old_text": null,
          "new_text": "drawCelBounds(\n      g, mouseCel,\n      color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor()))",
          "old_line_content": "  }",
          "new_line_content": "    drawCelBounds(",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "autoGuidesColor",
          "old_text": null,
          "new_text": "Preferences::instance().guides.autoGuidesColor()",
          "old_line_content": "  else {",
          "new_line_content": "      color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor()));",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "m_sprite->bounds()",
          "old_line_content": "",
          "new_line_content": "    sprCmpBounds = m_sprite->bounds();",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "bounds().origin()",
          "old_line_content": "  const int midX = scrCelBounds.x+scrCelBounds.w/2;",
          "new_line_content": "    scrCmpBounds = editorToScreen(sprCmpBounds).offset(gfx::Point(-bounds().origin()));",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "drawCelHGuide(g,\n                  sprCelBounds.x2(), sprCmpBounds.x,\n                  scrCelBounds.x2(), scrCmpBounds.x, midY,\n                  scrCelBounds, scrCmpBounds, scrCmpBounds.x)",
          "old_line_content": "                  scrCelBounds, scrCmpBounds, scrCmpBounds.x);",
          "new_line_content": "    drawCelHGuide(g,",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "sprCelBounds.x2()",
          "old_line_content": "  }",
          "new_line_content": "                  sprCelBounds.x2(), sprCmpBounds.x,",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "sprCmpBounds.x2()",
          "old_line_content": "  }",
          "new_line_content": "                  sprCmpBounds.x2(), sprCelBounds.x,",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "scrCmpBounds.x2()",
          "old_line_content": "  else {",
          "new_line_content": "                  scrCmpBounds.x2(), scrCelBounds.x, midY,",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "scrCmpBounds.x2()",
          "old_line_content": "    if (sprCelBounds.x != sprCmpBounds.x &&",
          "new_line_content": "                  scrCelBounds, scrCmpBounds, scrCmpBounds.x2()-1);",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "sprCelBounds.x2()",
          "old_line_content": "                    scrCmpBounds.x, scrCelBounds.x, midY,",
          "new_line_content": "        sprCelBounds.x2() != sprCmpBounds.x) {",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "drawCelHGuide",
          "old_text": null,
          "new_text": "drawCelHGuide(g,\n                    sprCmpBounds.x, sprCelBounds.x,\n                    scrCmpBounds.x, scrCelBounds.x, midY,\n                    scrCelBounds, scrCmpBounds, scrCmpBounds.x)",
          "old_line_content": "                    scrCelBounds, scrCmpBounds, scrCmpBounds.x);",
          "new_line_content": "      drawCelHGuide(g,",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "sprCelBounds.x2()",
          "old_line_content": "    }",
          "new_line_content": "                    sprCmpBounds.x2(), sprCelBounds.x2(),",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "scrCelBounds.x2()",
          "old_line_content": "  }",
          "new_line_content": "                    scrCmpBounds.x2(), scrCelBounds.x2(), midY,",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "scrCmpBounds.x2()",
          "old_line_content": "",
          "new_line_content": "                    scrCelBounds, scrCmpBounds, scrCmpBounds.x2()-1);",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "drawCelVGuide(g,\n                  sprCelBounds.y2(), sprCmpBounds.y,\n                  scrCelBounds.y2(), scrCmpBounds.y, midX,\n                  scrCelBounds, scrCmpBounds, scrCmpBounds.y)",
          "old_line_content": "                  scrCelBounds, scrCmpBounds, scrCmpBounds.y);",
          "new_line_content": "    drawCelVGuide(g,",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "sprCelBounds.y2()",
          "old_line_content": "  }",
          "new_line_content": "                  sprCelBounds.y2(), sprCmpBounds.y,",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "sprCmpBounds.y2()",
          "old_line_content": "  }",
          "new_line_content": "                  sprCmpBounds.y2(), sprCelBounds.y,",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "scrCmpBounds.y2()",
          "old_line_content": "  else {",
          "new_line_content": "                  scrCmpBounds.y2(), scrCelBounds.y, midX,",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "scrCmpBounds.y2()",
          "old_line_content": "    if (sprCelBounds.y != sprCmpBounds.y &&",
          "new_line_content": "                  scrCelBounds, scrCmpBounds, scrCmpBounds.y2()-1);",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "sprCelBounds.y2()",
          "old_line_content": "                    scrCmpBounds.y, scrCelBounds.y, midX,",
          "new_line_content": "        sprCelBounds.y2() != sprCmpBounds.y) {",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "drawCelVGuide",
          "old_text": null,
          "new_text": "drawCelVGuide(g,\n                    sprCmpBounds.y, sprCelBounds.y,\n                    scrCmpBounds.y, scrCelBounds.y, midX,\n                    scrCelBounds, scrCmpBounds, scrCmpBounds.y)",
          "old_line_content": "                    scrCelBounds, scrCmpBounds, scrCmpBounds.y);",
          "new_line_content": "      drawCelVGuide(g,",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "sprCelBounds.y2()",
          "old_line_content": "    }",
          "new_line_content": "                    sprCmpBounds.y2(), sprCelBounds.y2(),",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "scrCelBounds.y2()",
          "old_line_content": "  }",
          "new_line_content": "                    scrCmpBounds.y2(), scrCelBounds.y2(), midX,",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "scrCmpBounds.y2()",
          "old_line_content": "}",
          "new_line_content": "                    scrCelBounds, scrCmpBounds, scrCmpBounds.y2()-1);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "autoGuidesColor",
          "old_text": null,
          "new_text": "Preferences::instance().guides.autoGuidesColor()",
          "old_line_content": "  // Vertical guide to touch the horizontal line",
          "new_line_content": "  gfx::Color color = color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor());",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "drawHLine",
          "old_text": null,
          "new_text": "g->drawHLine(color, scrX1, scrY, scrX2 - scrX1)",
          "old_line_content": "  {",
          "new_line_content": "  g->drawHLine(color, scrX1, scrY, scrX2 - scrX1);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "drawVLine",
          "old_text": null,
          "new_text": "g->drawVLine(color, dottedX, scrCelBounds.y, scrCmpBounds.y - scrCelBounds.y)",
          "old_line_content": "  }",
          "new_line_content": "      g->drawVLine(color, dottedX, scrCelBounds.y, scrCmpBounds.y - scrCelBounds.y);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "y2",
          "old_text": null,
          "new_text": "scrCmpBounds.y2()",
          "old_line_content": "",
          "new_line_content": "    else if (scrY > scrCmpBounds.y2())",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "drawText",
          "old_text": null,
          "new_text": "g->drawText(text,\n              color_utils::blackandwhite_neg(color), color,\n              gfx::Point((scrX1+scrX2)/2-textW/2, scrY-textHeight()))",
          "old_line_content": "}",
          "new_line_content": "  g->drawText(text,",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "color_utils::blackandwhite_neg(color)",
          "old_text": null,
          "new_text": "color_utils::blackandwhite_neg(color)",
          "old_line_content": "",
          "new_line_content": "              color_utils::blackandwhite_neg(color), color,",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "textHeight",
          "old_text": null,
          "new_text": "textHeight()",
          "old_line_content": "void Editor::drawCelVGuide(ui::Graphics* g,",
          "new_line_content": "              gfx::Point((scrX1+scrX2)/2-textW/2, scrY-textHeight()));",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "autoGuidesColor",
          "old_text": null,
          "new_text": "Preferences::instance().guides.autoGuidesColor()",
          "old_line_content": "  // Horizontal guide to touch the vertical line",
          "new_line_content": "  gfx::Color color = color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor());",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "drawVLine",
          "old_text": null,
          "new_text": "g->drawVLine(color, scrX, scrY1, scrY2 - scrY1)",
          "old_line_content": "  {",
          "new_line_content": "  g->drawVLine(color, scrX, scrY1, scrY2 - scrY1);",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "drawHLine",
          "old_text": null,
          "new_text": "g->drawHLine(color, scrCelBounds.x, dottedY, scrCmpBounds.x - scrCelBounds.x)",
          "old_line_content": "  }",
          "new_line_content": "      g->drawHLine(color, scrCelBounds.x, dottedY, scrCmpBounds.x - scrCelBounds.x);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "scrCmpBounds.x2()",
          "old_line_content": "",
          "new_line_content": "    else if (scrX > scrCmpBounds.x2())",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "drawText",
          "old_text": null,
          "new_text": "g->drawText(text,\n              color_utils::blackandwhite_neg(color), color,\n              gfx::Point(scrX, (scrY1+scrY2)/2-textHeight()/2))",
          "old_line_content": "}",
          "new_line_content": "  g->drawText(text,",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "color_utils::blackandwhite_neg(color)",
          "old_text": null,
          "new_text": "color_utils::blackandwhite_neg(color)",
          "old_line_content": "",
          "new_line_content": "              color_utils::blackandwhite_neg(color), color,",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "textHeight",
          "old_text": null,
          "new_text": "textHeight()",
          "old_line_content": "gfx::Rect Editor::getCelScreenBounds(const Cel* cel)",
          "new_line_content": "              gfx::Point(scrX, (scrY1+scrY2)/2-textHeight()/2));",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "isReference",
          "old_text": null,
          "new_text": "m_layer->isReference()",
          "old_line_content": "  else {",
          "new_line_content": "  if (m_layer->isReference()) {",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "bounds().origin()",
          "old_line_content": "}",
          "new_line_content": "    layerEdges = editorToScreen(cel->bounds()).offset(-bounds().origin());",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "image",
          "old_text": null,
          "new_text": "site.image(&x, &y)",
          "old_line_content": "",
          "new_line_content": "  const Image* src_image = site.image(&x, &y);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "m_sprite->bounds()",
          "old_line_content": "",
          "new_line_content": "    extraCel->create(m_sprite, m_sprite->bounds(), m_frame, 255);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "image",
          "old_text": null,
          "new_text": "extraCel->image()",
          "old_line_content": "",
          "new_line_content": "    Image* flash_image = extraCel->image();",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": null,
          "new_api": "maskColor",
          "old_text": null,
          "new_text": "flash_image->maskColor()",
          "old_line_content": "    {",
          "new_line_content": "    clear_image(flash_image, flash_image->maskColor());",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "m_sprite->height()",
          "old_line_content": "    }",
          "new_line_content": "                          gfx::Rect(0, 0, m_sprite->width(), m_sprite->height())));",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "flipDisplay",
          "old_text": null,
          "new_text": "manager()->flipDisplay()",
          "old_line_content": "",
          "new_line_content": "      manager()->flipDisplay();",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "",
          "new_line_content": "    invalidate();",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "msg->position()",
          "old_line_content": "",
          "new_line_content": "  gfx::Point mousePos = msg->position();",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "autoScroll",
          "old_text": null,
          "new_text": "Preferences::instance().editor.autoScroll()",
          "old_line_content": "  // Hide the brush preview",
          "new_line_content": "  if (!Preferences::instance().editor.autoScroll())",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": null,
          "new_api": "viewportBounds",
          "old_text": null,
          "new_text": "view->viewportBounds()",
          "old_line_content": "    gfx::Point delta = (mousePos - m_oldPos);",
          "new_line_content": "  gfx::Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "contains",
          "old_text": null,
          "new_text": "vp.contains(mousePos)",
          "old_line_content": "",
          "new_line_content": "  if (!vp.contains(mousePos)) {",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "viewScroll",
          "old_text": null,
          "new_text": "view->viewScroll()",
          "old_line_content": "    }",
          "new_line_content": "    gfx::Point scroll = view->viewScroll();",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "setEditorScroll",
          "old_text": null,
          "new_text": "setEditorScroll(scroll)",
          "old_line_content": "    mousePos -= delta;",
          "new_line_content": "    setEditorScroll(scroll);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "ui::set_mouse_position(mousePos)",
          "old_text": null,
          "new_text": "ui::set_mouse_position(mousePos)",
          "old_line_content": "    m_oldPos = mousePos;",
          "new_line_content": "    ui::set_mouse_position(mousePos);",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": null,
          "new_api": "gfx::Point(\n      MID(vp.x, mousePos.x, vp.x+vp.w-1),\n      MID(vp.y, mousePos.y, vp.y+vp.h-1))",
          "old_text": null,
          "new_text": "gfx::Point(\n      MID(vp.x, mousePos.x, vp.x+vp.w-1),\n      MID(vp.y, mousePos.y, vp.y+vp.h-1))",
          "old_line_content": "  }",
          "new_line_content": "    mousePos = gfx::Point(",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "MID",
          "old_text": null,
          "new_text": "MID(vp.x, mousePos.x, vp.x+vp.w-1)",
          "old_line_content": "  else",
          "new_line_content": "      MID(vp.x, mousePos.x, vp.x+vp.w-1),",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "MID",
          "old_text": null,
          "new_text": "MID(vp.y, mousePos.y, vp.y+vp.h-1)",
          "old_line_content": "    m_oldPos = mousePos;",
          "new_line_content": "      MID(vp.y, mousePos.y, vp.y+vp.h-1));",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "activeTool",
          "old_text": null,
          "new_text": "App::instance()->activeTool()",
          "old_line_content": "tools::Ink* Editor::getCurrentEditorInk()",
          "new_line_content": "  return App::instance()->activeTool();",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "getStateInk",
          "old_text": null,
          "new_text": "m_state->getStateInk()",
          "old_line_content": "  else",
          "new_line_content": "  tools::Ink* ink = m_state->getStateInk();",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "activeToolManager",
          "old_text": null,
          "new_text": "App::instance()->activeToolManager()->activeInk()",
          "old_line_content": "bool Editor::isAutoSelectLayer() const",
          "new_line_content": "    return App::instance()->activeToolManager()->activeInk();",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "contextBar",
          "old_text": null,
          "new_text": "App::instance()->contextBar()->isAutoSelectLayer()",
          "old_line_content": "gfx::Point Editor::screenToEditor(const gfx::Point& pt)",
          "new_line_content": "  return App::instance()->contextBar()->isAutoSelectLayer();",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": null,
          "new_api": "removeX",
          "old_text": null,
          "new_text": "gfx::Point(\n    m_proj.removeX(pt.x - vp.x + scroll.x - m_padding.x),\n    m_proj.removeY(pt.y - vp.y + scroll.y - m_padding.y))",
          "old_line_content": "}",
          "new_line_content": "  return gfx::Point(",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "removeX",
          "old_text": null,
          "new_text": "m_proj.removeX(pt.x - vp.x + scroll.x - m_padding.x)",
          "old_line_content": "",
          "new_line_content": "    m_proj.removeX(pt.x - vp.x + scroll.x - m_padding.x),",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": null,
          "new_api": "removeY",
          "old_text": null,
          "new_text": "m_proj.removeY(pt.y - vp.y + scroll.y - m_padding.y)",
          "old_line_content": "gfx::PointF Editor::screenToEditorF(const gfx::Point& pt)",
          "new_line_content": "    m_proj.removeY(pt.y - vp.y + scroll.y - m_padding.y));",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "gfx::PointF(\n    m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x),\n    m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y))",
          "old_text": null,
          "new_text": "gfx::PointF(\n    m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x),\n    m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y))",
          "old_line_content": "}",
          "new_line_content": "  return gfx::PointF(",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x)",
          "old_text": null,
          "new_text": "m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x)",
          "old_line_content": "",
          "new_line_content": "    m_proj.removeX<double>(pt.x - vp.x + scroll.x - m_padding.x),",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y)",
          "old_text": null,
          "new_text": "m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y)",
          "old_line_content": "Point Editor::editorToScreen(const gfx::Point& pt)",
          "new_line_content": "    m_proj.removeY<double>(pt.y - vp.y + scroll.y - m_padding.y));",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "applyX",
          "old_text": null,
          "new_text": "Point(\n    (vp.x - scroll.x + m_padding.x + m_proj.applyX(pt.x)),\n    (vp.y - scroll.y + m_padding.y + m_proj.applyY(pt.y)))",
          "old_line_content": "}",
          "new_line_content": "  return Point(",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "applyX",
          "old_text": null,
          "new_text": "m_proj.applyX(pt.x)",
          "old_line_content": "",
          "new_line_content": "    (vp.x - scroll.x + m_padding.x + m_proj.applyX(pt.x)),",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "applyY",
          "old_text": null,
          "new_text": "m_proj.applyY(pt.y)",
          "old_line_content": "gfx::PointF Editor::editorToScreenF(const gfx::PointF& pt)",
          "new_line_content": "    (vp.y - scroll.y + m_padding.y + m_proj.applyY(pt.y)));",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "PointF",
          "old_text": null,
          "new_text": "PointF(\n    (vp.x - scroll.x + m_padding.x + m_proj.applyX<double>(pt.x)),\n    (vp.y - scroll.y + m_padding.y + m_proj.applyY<double>(pt.y)))",
          "old_line_content": "}",
          "new_line_content": "  return PointF(",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "m_proj.applyX<double>(pt.x)",
          "old_text": null,
          "new_text": "m_proj.applyX<double>(pt.x)",
          "old_line_content": "",
          "new_line_content": "    (vp.x - scroll.x + m_padding.x + m_proj.applyX<double>(pt.x)),",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "m_proj.applyY<double>(pt.y)",
          "old_text": null,
          "new_text": "m_proj.applyY<double>(pt.y)",
          "old_line_content": "Rect Editor::screenToEditor(const Rect& rc)",
          "new_line_content": "    (vp.y - scroll.y + m_padding.y + m_proj.applyY<double>(pt.y)));",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "gfx::Rect(\n    screenToEditor(rc.origin()),\n    screenToEditor(rc.point2()))",
          "old_line_content": "}",
          "new_line_content": "  return gfx::Rect(",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "rc.origin()",
          "old_line_content": "",
          "new_line_content": "    screenToEditor(rc.origin()),",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "point2",
          "old_text": null,
          "new_text": "rc.point2()",
          "old_line_content": "Rect Editor::editorToScreen(const Rect& rc)",
          "new_line_content": "    screenToEditor(rc.point2()));",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "gfx::Rect(\n    editorToScreen(rc.origin()),\n    editorToScreen(rc.point2()))",
          "old_line_content": "}",
          "new_line_content": "  return gfx::Rect(",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "rc.origin()",
          "old_line_content": "",
          "new_line_content": "    editorToScreen(rc.origin()),",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": null,
          "new_api": "point2",
          "old_text": null,
          "new_text": "rc.point2()",
          "old_line_content": "gfx::RectF Editor::editorToScreenF(const gfx::RectF& rc)",
          "new_line_content": "    editorToScreen(rc.point2()));",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "gfx::RectF(\n    editorToScreenF(rc.origin()),\n    editorToScreenF(rc.point2()))",
          "old_line_content": "}",
          "new_line_content": "  return gfx::RectF(",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "rc.origin()",
          "old_line_content": "",
          "new_line_content": "    editorToScreenF(rc.origin()),",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "point2",
          "old_text": null,
          "new_text": "rc.point2()",
          "old_line_content": "void Editor::add_observer(EditorObserver* observer)",
          "new_line_content": "    editorToScreenF(rc.point2()));",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "add_observer",
          "old_text": null,
          "new_text": "m_observers.add_observer(observer)",
          "old_line_content": "void Editor::remove_observer(EditorObserver* observer)",
          "new_line_content": "  m_observers.add_observer(observer);",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "remove_observer",
          "old_text": null,
          "new_text": "m_observers.remove_observer(observer)",
          "old_line_content": "void Editor::setCustomizationDelegate(EditorCustomizationDelegate* delegate)",
          "new_line_content": "  m_observers.remove_observer(observer);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "dispose",
          "old_text": null,
          "new_text": "m_customizationDelegate->dispose()",
          "old_line_content": "}",
          "new_line_content": "    m_customizationDelegate->dispose();",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": null,
          "new_api": "viewportBounds",
          "old_text": null,
          "new_text": "View::getView(this)->viewportBounds()",
          "old_line_content": "// Returns the visible area of the active sprite.",
          "new_line_content": "  return screenToEditor(View::getView(this)->viewportBounds());",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "m_sprite->bounds()",
          "old_line_content": "  // Aseprite versions we were using one Editor to show multiple",
          "new_line_content": "    return getViewportBounds().createIntersection(m_sprite->bounds());",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect()",
          "old_line_content": "// Changes the scroll to see the given point as the center of the editor.",
          "new_line_content": "  return Rect();",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "View::getView(this)",
          "old_text": null,
          "new_text": "View::getView(this)",
          "old_line_content": "  gfx::Point scroll(",
          "new_line_content": "  View* view = View::getView(this);",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "updateEditor",
          "old_text": null,
          "new_text": "updateEditor()",
          "old_line_content": "}",
          "new_line_content": "  updateEditor();",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "setEditorScroll",
          "old_text": null,
          "new_text": "setEditorScroll(scroll)",
          "old_line_content": "",
          "new_line_content": "  setEditorScroll(scroll);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "void Editor::updateStatusBar()",
          "new_line_content": "  invalidate();",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "hasMouse",
          "old_text": null,
          "new_text": "hasMouse()",
          "old_line_content": "  // Setup status bar using the current editor's state",
          "new_line_content": "  if (!hasMouse())",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "onUpdateStatusBar",
          "old_text": null,
          "new_text": "m_state->onUpdateStatusBar(this)",
          "old_line_content": "void Editor::updateQuicktool()",
          "new_line_content": "  m_state->onUpdateStatusBar(this);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "hasCapture",
          "old_text": null,
          "new_text": "hasCapture()",
          "old_line_content": "",
          "new_line_content": "  if (m_customizationDelegate && !hasCapture()) {",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "activeToolManager",
          "old_text": null,
          "new_text": "App::instance()->activeToolManager()",
          "old_line_content": "    // Don't change quicktools if we are in a selection tool and using",
          "new_line_content": "    auto activeToolManager = App::instance()->activeToolManager();",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "selectedTool",
          "old_text": null,
          "new_text": "activeToolManager->selectedTool()",
          "old_line_content": "    // the selection modifiers.",
          "new_line_content": "    tools::Tool* selectedTool = activeToolManager->selectedTool();",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": null,
          "new_api": "getInk",
          "old_text": null,
          "new_text": "selectedTool->getInk(0)->isSelection()",
          "old_line_content": "",
          "new_line_content": "    if (selectedTool->getInk(0)->isSelection() &&",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)",
          "old_line_content": "    tools::Tool* newQuicktool =",
          "new_line_content": "        int(m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)) != 0)",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": null,
          "new_api": "newQuickToolSelectedFromEditor",
          "old_text": null,
          "new_text": "activeToolManager\n      ->newQuickToolSelectedFromEditor(newQuicktool)",
          "old_line_content": "}",
          "new_line_content": "    activeToolManager",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "regularTipProximity",
          "old_text": null,
          "new_text": "activeToolManager->regularTipProximity()",
          "old_line_content": "",
          "new_line_content": "    activeToolManager->regularTipProximity();",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "isAutoSelectLayer",
          "old_text": null,
          "new_text": "isAutoSelectLayer()",
          "old_line_content": "",
          "new_line_content": "  const bool autoSelectLayer = isAutoSelectLayer();",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": null,
          "new_api": "hasCapture",
          "old_text": null,
          "new_text": "hasCapture()",
          "old_line_content": "                     int(tools::ToolLoopModifiers::kAddSelection) |",
          "new_line_content": "    if (hasCapture()) {",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "activeToolManager",
          "old_text": null,
          "new_text": "App::instance()->activeToolManager()->selectedTool()",
          "old_line_content": "      // Shape tools modifiers (line, curves, rectangles, etc.)",
          "new_line_content": "        (App::instance()->activeToolManager()->selectedTool() ?",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "isTwoPoints",
          "old_text": null,
          "new_text": "controller->isTwoPoints()",
          "old_line_content": "          modifiers |= int(tools::ToolLoopModifiers::kMoveOrigin);",
          "new_line_content": "      if (controller && controller->isTwoPoints()) {",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::ShapeTool)",
          "old_line_content": "        if (int(action & KeyAction::SquareAspect))",
          "new_line_content": "        action = m_customizationDelegate->getPressedKeyAction(KeyContext::ShapeTool);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "isFreehand",
          "old_text": null,
          "new_text": "controller->isFreehand()",
          "old_line_content": "          modifiers |= int(tools::ToolLoopModifiers::kSquareAspect);",
          "new_line_content": "      if (controller && controller->isFreehand()) {",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::FreehandTool)",
          "old_line_content": "      }",
          "new_line_content": "        action = m_customizationDelegate->getPressedKeyAction(KeyContext::FreehandTool);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)",
          "old_line_content": "      if (int(action & KeyAction::SubtractSelection) ||",
          "new_line_content": "      action = m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool);",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "mode",
          "old_text": null,
          "new_text": "Preferences::instance().selection.mode()",
          "old_line_content": "          // with the \"right click mode = a selection-like tool\"",
          "new_line_content": "      gen::SelectionMode mode = Preferences::instance().selection.mode();",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "activeToolManager",
          "old_text": null,
          "new_text": "App::instance()->activeToolManager()->selectedTool()",
          "old_line_content": "      }",
          "new_line_content": "           App::instance()->activeToolManager()->selectedTool() &&",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "activeToolManager",
          "old_text": null,
          "new_text": "App::instance()->activeToolManager()->selectedTool()->getInk(0)->isSelection()",
          "old_line_content": "      else if (int(action & KeyAction::AddSelection)) {",
          "new_line_content": "           App::instance()->activeToolManager()->selectedTool()->getInk(0)->isSelection())) {",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool)",
          "old_line_content": "      else",
          "new_line_content": "      action = m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool);",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "autoSelectLayer",
          "old_text": null,
          "new_text": "Preferences::instance().editor.autoSelectLayer()",
          "old_line_content": "",
          "new_line_content": "        newAutoSelectLayer = Preferences::instance().editor.autoSelectLayer();",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "m_state.get()",
          "old_line_content": "  }",
          "new_line_content": "    if (auto drawingState = dynamic_cast<DrawingState*>(m_state.get())) {",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "notifyToolLoopModifiersChange",
          "old_text": null,
          "new_text": "drawingState->notifyToolLoopModifiersChange(this)",
          "old_line_content": "",
          "new_line_content": "      drawingState->notifyToolLoopModifiersChange(this);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "updateAutoSelectLayer",
          "old_text": null,
          "new_text": "ctxBar->updateAutoSelectLayer(newAutoSelectLayer)",
          "old_line_content": "app::Color Editor::getColorByPosition(const gfx::Point& mousePos)",
          "new_line_content": "    ctxBar->updateAutoSelectLayer(newAutoSelectLayer);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": null,
          "new_api": "getSite",
          "old_text": null,
          "new_text": "getSite()",
          "old_line_content": "",
          "new_line_content": "  Site site = getSite();",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "sprite",
          "old_text": null,
          "new_text": "site.sprite()",
          "old_line_content": "    ColorPicker picker;",
          "new_line_content": "  if (site.sprite()) {",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "pickColor",
          "old_text": null,
          "new_text": "picker.pickColor(site, editorPos, m_proj,\n                     ColorPicker::FromComposition)",
          "old_line_content": "  }",
          "new_line_content": "    picker.pickColor(site, editorPos, m_proj,",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "app::Color::fromMask()",
          "old_text": null,
          "new_text": "app::Color::fromMask()",
          "old_line_content": "bool Editor::startStraightLineWithFreehandTool()",
          "new_line_content": "    return app::Color::fromMask();",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "getController",
          "old_text": null,
          "new_text": "tool->getController(0)->isFreehand()",
          "old_line_content": "      ->getPressedKeyAction(KeyContext::FreehandTool) & KeyAction::StraightLineFromLastPoint) == KeyAction::StraightLineFromLastPoint &&",
          "new_line_content": "     tool->getController(0)->isFreehand() &&",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "getCustomizationDelegate()\n      ->getPressedKeyAction(KeyContext::FreehandTool)",
          "old_line_content": "}",
          "new_line_content": "     (getCustomizationDelegate()",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "app::Document::NoLastDrawingPoint()",
          "old_text": null,
          "new_text": "app::Document::NoLastDrawingPoint()",
          "old_line_content": "//////////////////////////////////////////////////////////////////////",
          "new_line_content": "     document()->lastDrawingPoint() != app::Document::NoLastDrawingPoint());",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "m_deletedStates.clear()",
          "old_line_content": "",
          "new_line_content": "    m_deletedStates.clear();",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "timer",
          "old_text": null,
          "new_text": "static_cast<TimerMessage*>(msg)->timer()",
          "old_line_content": "",
          "new_line_content": "      if (static_cast<TimerMessage*>(msg)->timer() == &m_antsTimer) {",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "isVisible",
          "old_text": null,
          "new_text": "isVisible()",
          "old_line_content": "          // Set offset to make selection-movement effect",
          "new_line_content": "        if (isVisible() && m_sprite) {",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "drawMaskSafe",
          "old_text": null,
          "new_text": "drawMaskSafe()",
          "old_line_content": "          if (m_antsOffset < 7)",
          "new_line_content": "          drawMaskSafe();",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": null,
          "new_api": "isRunning",
          "old_text": null,
          "new_text": "m_antsTimer.isRunning()",
          "old_line_content": "      }",
          "new_line_content": "        else if (m_antsTimer.isRunning()) {",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "stop",
          "old_text": null,
          "new_text": "m_antsTimer.stop()",
          "old_line_content": "      break;",
          "new_line_content": "          m_antsTimer.stop();",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": null,
          "new_api": "updateToolLoopModifiersIndicators",
          "old_text": null,
          "new_text": "updateToolLoopModifiersIndicators()",
          "old_line_content": "",
          "new_line_content": "      updateToolLoopModifiersIndicators();",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": null,
          "new_api": "updateQuicktool",
          "old_text": null,
          "new_text": "updateQuicktool()",
          "old_line_content": "    case kMouseLeaveMessage:",
          "new_line_content": "      updateQuicktool();",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "hide",
          "old_text": null,
          "new_text": "m_brushPreview.hide()",
          "old_line_content": "",
          "new_line_content": "      m_brushPreview.hide();",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "clearText",
          "old_text": null,
          "new_text": "StatusBar::instance()->clearText()",
          "old_line_content": "    case kMouseDownMessage:",
          "new_line_content": "      StatusBar::instance()->clearText();",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "mouseMsg->position()",
          "old_line_content": "",
          "new_line_content": "        m_oldPos = mouseMsg->position();",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": null,
          "new_api": "pointerType",
          "old_text": null,
          "new_text": "mouseMsg->pointerType()",
          "old_line_content": "        // Only when we right-click with the regular \"paint bg-color",
          "new_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": null,
          "new_api": "updateAutoCelGuides",
          "old_text": null,
          "new_text": "updateAutoCelGuides(msg)",
          "old_line_content": "        // right-click mode\" we will mark indicate that the secondary",
          "new_line_content": "        updateAutoCelGuides(msg);",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "right",
          "old_text": null,
          "new_text": "mouseMsg->right()",
          "old_line_content": "",
          "new_line_content": "        if (mouseMsg->right() && !m_secondaryButton) {",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "updateToolLoopModifiersIndicators",
          "old_text": null,
          "new_text": "updateToolLoopModifiersIndicators()",
          "old_line_content": "",
          "new_line_content": "        updateToolLoopModifiersIndicators();",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "activeToolManager",
          "old_text": null,
          "new_text": "App::instance()->activeToolManager()\n          ->pressButton(pointer_from_msg(this, mouseMsg))",
          "old_line_content": "        EditorStatePtr holdState(m_state);",
          "new_line_content": "        App::instance()->activeToolManager()",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": null,
          "new_api": "onMouseDown",
          "old_text": null,
          "new_text": "m_state->onMouseDown(this, mouseMsg)",
          "old_line_content": "",
          "new_line_content": "        return m_state->onMouseDown(this, mouseMsg);",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": null,
          "new_api": "updateAutoCelGuides",
          "old_text": null,
          "new_text": "updateAutoCelGuides(msg)",
          "old_line_content": "      }",
          "new_line_content": "        updateAutoCelGuides(msg);",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": null,
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "",
          "new_line_content": "        return m_state->onMouseMove(this, static_cast<MouseMessage*>(msg));",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": null,
          "new_api": "hasCapture",
          "old_text": null,
          "new_text": "hasCapture()",
          "old_line_content": "",
          "new_line_content": "        if (!hasCapture()) {",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "updateToolLoopModifiersIndicators",
          "old_text": null,
          "new_text": "updateToolLoopModifiersIndicators()",
          "old_line_content": "        }",
          "new_line_content": "          updateToolLoopModifiersIndicators();",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": null,
          "new_api": "updateQuicktool",
          "old_text": null,
          "new_text": "updateQuicktool()",
          "old_line_content": "",
          "new_line_content": "          updateQuicktool();",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "mouseMsg->position()",
          "old_line_content": "        if (result)",
          "new_line_content": "          setCursor(mouseMsg->position());",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "pointerType",
          "old_text": null,
          "new_text": "mouseMsg->pointerType()",
          "old_line_content": "        if (used)",
          "new_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": null,
          "new_api": "onDoubleClick",
          "old_text": null,
          "new_text": "m_state->onDoubleClick(this, mouseMsg)",
          "old_line_content": "      }",
          "new_line_content": "        bool used = m_state->onDoubleClick(this, mouseMsg);",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": null,
          "new_api": "static_cast<TouchMessage*>(msg)",
          "old_text": null,
          "new_text": "static_cast<TouchMessage*>(msg)",
          "old_line_content": "",
          "new_line_content": "        return m_state->onTouchMagnify(this, static_cast<TouchMessage*>(msg));",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": null,
          "new_api": "hasMouse",
          "old_text": null,
          "new_text": "hasMouse()",
          "old_line_content": "        }",
          "new_line_content": "        if (hasMouse()) {",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": null,
          "new_api": "updateQuicktool",
          "old_text": null,
          "new_text": "updateQuicktool()",
          "old_line_content": "",
          "new_line_content": "          updateQuicktool();",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "ui::get_mouse_position()",
          "old_text": null,
          "new_text": "ui::get_mouse_position()",
          "old_line_content": "        if (used)",
          "new_line_content": "          setCursor(ui::get_mouse_position());",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "hasMouse",
          "old_text": null,
          "new_text": "hasMouse()",
          "old_line_content": "        }",
          "new_line_content": "        if (hasMouse()) {",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "updateQuicktool",
          "old_text": null,
          "new_text": "updateQuicktool()",
          "old_line_content": "",
          "new_line_content": "          updateQuicktool();",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "ui::get_mouse_position()",
          "old_text": null,
          "new_text": "ui::get_mouse_position()",
          "old_line_content": "        if (used)",
          "new_line_content": "          setCursor(ui::get_mouse_position());",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": null,
          "new_api": "clearKeyboardBuffer",
          "old_text": null,
          "new_text": "she::instance()->clearKeyboardBuffer()",
          "old_line_content": "    case kMouseWheelMessage:",
          "new_line_content": "      she::instance()->clearKeyboardBuffer();",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "hasMouse",
          "old_text": null,
          "new_text": "hasMouse()",
          "old_line_content": "          return true;",
          "new_line_content": "      if (m_sprite && hasMouse()) {",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "static_cast<MouseMessage*>(msg)",
          "old_text": null,
          "new_text": "static_cast<MouseMessage*>(msg)",
          "old_line_content": "      break;",
          "new_line_content": "        if (m_state->onMouseWheel(this, static_cast<MouseMessage*>(msg)))",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "static_cast<MouseMessage*>(msg)->position()",
          "old_line_content": "",
          "new_line_content": "      setCursor(static_cast<MouseMessage*>(msg)->position());",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": null,
          "new_api": "Widget::onProcessMessage(msg)",
          "old_text": null,
          "new_text": "Widget::onProcessMessage(msg)",
          "old_line_content": "void Editor::onSizeHint(SizeHintEvent& ev)",
          "new_line_content": "  return Widget::onProcessMessage(msg);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "calcExtraPadding",
          "old_text": null,
          "new_text": "calcExtraPadding(m_proj)",
          "old_line_content": "  }",
          "new_line_content": "    gfx::Point padding = calcExtraPadding(m_proj);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "m_sprite->width()",
          "old_line_content": "  else {",
          "new_line_content": "    sz.w = m_proj.applyX(m_sprite->width()) + padding.x*2;",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "m_sprite->height()",
          "old_line_content": "    sz.w = 4;",
          "new_line_content": "    sz.h = m_proj.applyY(m_sprite->height()) + padding.y*2;",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "setSizeHint",
          "old_text": null,
          "new_text": "ev.setSizeHint(sz)",
          "old_line_content": "void Editor::onResize(ui::ResizeEvent& ev)",
          "new_line_content": "  ev.setSizeHint(sz);",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": null,
          "new_api": "Widget::onResize(ev)",
          "old_text": null,
          "new_text": "Widget::onResize(ev)",
          "old_line_content": "",
          "new_line_content": "  Widget::onResize(ev);",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "calcExtraPadding",
          "old_text": null,
          "new_text": "calcExtraPadding(m_proj)",
          "old_line_content": "void Editor::onPaint(ui::PaintEvent& ev)",
          "new_line_content": "  m_padding = calcExtraPadding(m_proj);",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": null,
          "new_api": "graphics",
          "old_text": null,
          "new_text": "ev.graphics()",
          "old_line_content": "",
          "new_line_content": "  Graphics* g = ev.graphics();",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": null,
          "new_api": "clientBounds",
          "old_text": null,
          "new_text": "clientBounds()",
          "old_line_content": "  // Editor without sprite",
          "new_line_content": "  gfx::Rect rc = clientBounds();",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": null,
          "new_api": "theme",
          "old_text": null,
          "new_text": "this->theme()",
          "old_line_content": "  if (!m_sprite) {",
          "new_line_content": "  SkinTheme* theme = static_cast<SkinTheme*>(this->theme());",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": null,
          "new_api": "editorFace",
          "old_text": null,
          "new_text": "theme->colors.editorFace()",
          "old_line_content": "  else {",
          "new_line_content": "    g->fillRect(theme->colors.editorFace(), rc);",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "renderChrono.reset()",
          "old_line_content": "",
          "new_line_content": "      renderChrono.reset();",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "m_sprite->height()",
          "old_line_content": "      // Show performance stats (TODO show performance stats in other widget)",
          "new_line_content": "      drawSpriteUnclippedRect(g, gfx::Rect(0, 0, m_sprite->width(), m_sprite->height()));",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "showRenderTime",
          "old_text": null,
          "new_text": "Preferences::instance().perf.showRenderTime()",
          "old_line_content": "        char buf[128];",
          "new_line_content": "      if (Preferences::instance().perf.showRenderTime()) {",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "gfx::rgba(255, 255, 255, 255)",
          "old_text": null,
          "new_text": "gfx::rgba(255, 255, 255, 255)",
          "old_line_content": "      }",
          "new_line_content": "          gfx::rgba(255, 255, 255, 255),",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": null,
          "new_api": "gfx::rgba(0, 0, 0, 255)",
          "old_text": null,
          "new_text": "gfx::rgba(0, 0, 0, 255)",
          "old_line_content": "",
          "new_line_content": "          gfx::rgba(0, 0, 0, 255),",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "bounds().origin()",
          "old_line_content": "      // Draw the mask boundaries",
          "new_line_content": "          vp.origin() - bounds().origin());",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": null,
          "new_api": "getMaskBoundaries",
          "old_text": null,
          "new_text": "m_document->getMaskBoundaries()",
          "old_line_content": "      }",
          "new_line_content": "      if (m_document->getMaskBoundaries()) {",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "drawMask",
          "old_text": null,
          "new_text": "drawMask(g)",
          "old_line_content": "      else {",
          "new_line_content": "        drawMask(g);",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "stop",
          "old_text": null,
          "new_text": "m_antsTimer.stop()",
          "old_line_content": "    catch (const LockedDocumentException&) {",
          "new_line_content": "        m_antsTimer.stop();",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": null,
          "new_api": "editorFace",
          "old_text": null,
          "new_text": "theme->colors.editorFace()",
          "old_line_content": "  }",
          "new_line_content": "      g->fillRect(theme->colors.editorFace(), rc);",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": null,
          "new_api": "origin",
          "old_text": null,
          "new_text": "bounds().origin()",
          "old_line_content": "}",
          "new_line_content": "      defer_invalid_rect(g->getClipBounds().offset(bounds().origin()));",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "Widget::onInvalidateRegion(region)",
          "old_text": null,
          "new_text": "Widget::onInvalidateRegion(region)",
          "old_line_content": "",
          "new_line_content": "  Widget::onInvalidateRegion(region);",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "invalidateRegion",
          "old_text": null,
          "new_text": "m_brushPreview.invalidateRegion(region)",
          "old_line_content": "// When the current tool is changed",
          "new_line_content": "  m_brushPreview.invalidateRegion(region);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "onActiveToolChange",
          "old_text": null,
          "new_text": "m_state->onActiveToolChange(this, tool)",
          "old_line_content": "",
          "new_line_content": "  m_state->onActiveToolChange(this, tool);",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": null,
          "new_api": "updateStatusBar",
          "old_text": null,
          "new_text": "updateStatusBar()",
          "old_line_content": "void Editor::onFgColorChange()",
          "new_line_content": "  updateStatusBar();",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": null,
          "new_api": "redraw",
          "old_text": null,
          "new_text": "m_brushPreview.redraw()",
          "old_line_content": "void Editor::onContextBarBrushChange()",
          "new_line_content": "  m_brushPreview.redraw();",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": null,
          "new_api": "redraw",
          "old_text": null,
          "new_text": "m_brushPreview.redraw()",
          "old_line_content": "void Editor::onShowExtrasChange()",
          "new_line_content": "  m_brushPreview.redraw();",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "void Editor::onExposeSpritePixels(doc::DocumentEvent& ev)",
          "new_line_content": "  invalidate();",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": null,
          "new_api": "sprite",
          "old_text": null,
          "new_text": "ev.sprite()",
          "old_line_content": "",
          "new_line_content": "  if (m_state && ev.sprite() == m_sprite)",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": null,
          "new_api": "region",
          "old_text": null,
          "new_text": "ev.region()",
          "old_line_content": "void Editor::onSpritePixelRatioChanged(doc::DocumentEvent& ev)",
          "new_line_content": "    m_state->onExposeSpritePixels(ev.region());",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": null,
          "new_api": "sprite",
          "old_text": null,
          "new_text": "ev.sprite()->pixelRatio()",
          "old_line_content": "",
          "new_line_content": "  m_proj.setPixelRatio(ev.sprite()->pixelRatio());",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "invalidate",
          "old_text": null,
          "new_text": "invalidate()",
          "old_line_content": "void Editor::onBeforeRemoveLayer(DocumentEvent& ev)",
          "new_line_content": "  invalidate();",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": null,
          "new_api": "showMouseCursor",
          "old_text": null,
          "new_text": "showMouseCursor(kArrowCursor)",
          "old_line_content": "bool Editor::canDraw()",
          "new_line_content": "    showMouseCursor(kArrowCursor);",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "isVisibleHierarchy",
          "old_text": null,
          "new_text": "m_layer->isVisibleHierarchy()",
          "old_line_content": "}",
          "new_line_content": "          m_layer->isVisibleHierarchy() &&",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": null,
          "new_api": "isEditableHierarchy",
          "old_text": null,
          "new_text": "m_layer->isEditableHierarchy()",
          "old_line_content": "",
          "new_line_content": "          m_layer->isEditableHierarchy() &&",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "isReference",
          "old_text": null,
          "new_text": "m_layer->isReference()",
          "old_line_content": "bool Editor::isInsideSelection()",
          "new_line_content": "          !m_layer->isReference());",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": null,
          "new_api": "ui::get_mouse_position()",
          "old_text": null,
          "new_text": "ui::get_mouse_position()",
          "old_line_content": "    (action == KeyAction::None) &&",
          "new_line_content": "  gfx::Point spritePos = screenToEditor(ui::get_mouse_position());",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)",
          "old_line_content": "    m_document &&",
          "new_line_content": "  KeyAction action = m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool);",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "isMaskVisible",
          "old_text": null,
          "new_text": "m_document->isMaskVisible()",
          "old_line_content": "",
          "new_line_content": "    m_document->isMaskVisible() &&",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "mask",
          "old_text": null,
          "new_text": "m_document->mask()->containsPoint(spritePos.x, spritePos.y)",
          "old_line_content": "bool Editor::canStartMovingSelectionPixels()",
          "new_line_content": "    m_document->mask()->containsPoint(spritePos.x, spritePos.y);",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": null,
          "new_api": "isInsideSelection",
          "old_text": null,
          "new_text": "isInsideSelection()",
          "old_line_content": "    // instead of moving pixels).",
          "new_line_content": "    isInsideSelection() &&",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": null,
          "new_api": "getPressedKeyAction",
          "old_text": null,
          "new_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::TranslatingSelection)",
          "old_line_content": "EditorHit Editor::calcHit(const gfx::Point& mouseScreenPos)",
          "new_line_content": "      int(m_customizationDelegate->getPressedKeyAction(KeyContext::TranslatingSelection) & KeyAction::CopySelection)));",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": null,
          "new_api": "getCurrentEditorInk",
          "old_text": null,
          "new_text": "getCurrentEditorInk()",
          "old_line_content": "    // Check if we can transform slices",
          "new_line_content": "  tools::Ink* ink = getCurrentEditorInk();",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": null,
          "new_api": "slices",
          "old_text": null,
          "new_text": "m_docPref.show.slices()",
          "old_line_content": "          if (key) {",
          "new_line_content": "      if (m_docPref.show.slices()) {",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "bounds",
          "old_text": null,
          "new_text": "key->bounds()",
          "old_line_content": "            // Move bounds",
          "new_line_content": "            gfx::Rect bounds = editorToScreen(key->bounds());",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "contains",
          "old_text": null,
          "new_text": "bounds.contains(mouseScreenPos)",
          "old_line_content": "                (mouseScreenPos.x <= bounds.x ? LEFT: 0) |",
          "new_line_content": "            if (bounds.contains(mouseScreenPos) &&",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "guiscale",
          "old_text": null,
          "new_text": "guiscale()",
          "old_line_content": "                (mouseScreenPos.y <= bounds.y ? TOP: 0) |",
          "new_line_content": "                !bounds.shrink(5*guiscale()).contains(mouseScreenPos)) {",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "x2",
          "old_text": null,
          "new_text": "bounds.x2()",
          "old_line_content": "              EditorHit hit(EditorHit::SliceBounds);",
          "new_line_content": "                (mouseScreenPos.x >= bounds.x2() ? RIGHT: 0) |",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "setBorder",
          "old_text": null,
          "new_text": "hit.setBorder(border)",
          "old_line_content": "            }",
          "new_line_content": "              hit.setBorder(border);",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "setSlice",
          "old_text": null,
          "new_text": "hit.setSlice(slice)",
          "old_line_content": "",
          "new_line_content": "              hit.setSlice(slice);",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "isEmpty",
          "old_text": null,
          "new_text": "center.isEmpty()",
          "old_line_content": "",
          "new_line_content": "            if (!center.isEmpty()) {",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": null,
          "new_api": "guiscale",
          "old_text": null,
          "new_text": "guiscale()",
          "old_line_content": "",
          "new_line_content": "              bool horz2 = gfx::Rect(bounds.x, center.y2()-2*guiscale(), bounds.w, 5*guiscale()).contains(mouseScreenPos);",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "guiscale",
          "old_text": null,
          "new_text": "guiscale()",
          "old_line_content": "              if (horz1 || horz2 || vert1 || vert2) {",
          "new_line_content": "              bool vert1 = gfx::Rect(center.x-2*guiscale(), bounds.y, 5*guiscale(), bounds.h).contains(mouseScreenPos);",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": null,
          "new_api": "guiscale",
          "old_text": null,
          "new_text": "guiscale()",
          "old_line_content": "                int border =",
          "new_line_content": "              bool vert2 = gfx::Rect(center.x2()-2*guiscale(), bounds.y, 5*guiscale(), bounds.h).contains(mouseScreenPos);",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": null,
          "new_api": "setBorder",
          "old_text": null,
          "new_text": "hit.setBorder(border)",
          "old_line_content": "              }",
          "new_line_content": "                hit.setBorder(border);",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": null,
          "new_api": "setSlice",
          "old_text": null,
          "new_text": "hit.setSlice(slice)",
          "old_line_content": "            }",
          "new_line_content": "                hit.setSlice(slice);",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "setBorder",
          "old_text": null,
          "new_text": "hit.setBorder(CENTER | MIDDLE)",
          "old_line_content": "            }",
          "new_line_content": "              hit.setBorder(CENTER | MIDDLE);",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "setSlice",
          "old_text": null,
          "new_text": "hit.setSlice(slice)",
          "old_line_content": "          }",
          "new_line_content": "              hit.setSlice(slice);",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": null,
          "new_api": "EditorHit",
          "old_text": null,
          "new_text": "EditorHit(EditorHit::None)",
          "old_line_content": "void Editor::setZoomAndCenterInMouse(const Zoom& zoom,",
          "new_line_content": "  return EditorHit(EditorHit::None);",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "viewportBounds",
          "old_text": null,
          "new_text": "view->viewportBounds()",
          "old_line_content": "",
          "new_line_content": "  Rect vp = view->viewportBounds();",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": null,
          "new_api": "setZoom",
          "old_text": null,
          "new_text": "proj.setZoom(zoom)",
          "old_line_content": "  gfx::Point spritePos;",
          "new_line_content": "  proj.setZoom(zoom);",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": null,
          "new_api": "gfx::Point(vp.x + vp.w/2,\n                             vp.y + vp.h/2)",
          "old_text": null,
          "new_text": "gfx::Point(vp.x + vp.w/2,\n                             vp.y + vp.h/2)",
          "old_line_content": "    case ZoomBehavior::MOUSE:",
          "new_line_content": "      screenPos = gfx::Point(vp.x + vp.w/2,",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "scaleX",
          "old_text": null,
          "new_text": "m_proj.scaleX()",
          "old_line_content": "        if (subpixelPos.x >= 0.5-t && subpixelPos.x <= 0.5+t)",
          "new_line_content": "      subpixelPos.x = (0.5 + screenPos.x - screenPos2.x) / m_proj.scaleX();",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "scaleX",
          "old_text": null,
          "new_text": "m_proj.scaleX()",
          "old_line_content": "          subpixelPos.x = 0.5;",
          "new_line_content": "      if (proj.scaleX() > m_proj.scaleX()) {",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": null,
          "new_api": "scaleX",
          "old_text": null,
          "new_text": "proj.scaleX()",
          "old_line_content": "      }",
          "new_line_content": "        double t = 1.0 / proj.scaleX();",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "scaleY",
          "old_text": null,
          "new_text": "m_proj.scaleY()",
          "old_line_content": "        if (subpixelPos.y >= 0.5-t && subpixelPos.y <= 0.5+t)",
          "new_line_content": "      subpixelPos.y = (0.5 + screenPos.y - screenPos2.y) / m_proj.scaleY();",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": null,
          "new_api": "scaleY",
          "old_text": null,
          "new_text": "m_proj.scaleY()",
          "old_line_content": "          subpixelPos.y = 0.5;",
          "new_line_content": "      if (proj.scaleY() > m_proj.scaleY()) {",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "scaleY",
          "old_text": null,
          "new_text": "proj.scaleY()",
          "old_line_content": "      }",
          "new_line_content": "        double t = 1.0 / proj.scaleY();",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": null,
          "new_api": "applyY",
          "old_text": null,
          "new_text": "proj.applyY(subpixelPos.y)",
          "old_line_content": "",
          "new_line_content": "    padding.y - (screenPos.y-vp.y) + proj.applyY(spritePos.y+proj.removeY(1)/2) + int(proj.applyY(subpixelPos.y)));",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "viewScroll",
          "old_text": null,
          "new_text": "view->viewScroll()",
          "old_line_content": "  }",
          "new_line_content": "  if ((m_proj.zoom() != zoom) || (screenPos != view->viewScroll())) {",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": null,
          "new_api": "updateEditor",
          "old_text": null,
          "new_text": "updateEditor()",
          "old_line_content": "",
          "new_line_content": "    updateEditor();",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "flushRedraw",
          "old_text": null,
          "new_text": "flushRedraw()",
          "old_line_content": "void Editor::pasteImage(const Image* image, const Mask* mask)",
          "new_line_content": "  flushRedraw();",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(image)",
          "old_line_content": "  if (!mask) {",
          "new_line_content": "  ASSERT(image);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2051,
          "old_api": "gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,\n                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,\n                imageBounds.w, imageBounds.h)",
          "new_api": null,
          "old_text": "gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,\n                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,\n                imageBounds.w, imageBounds.h)",
          "new_text": null,
          "old_line_content": "      gfx::Rect(visibleBounds.x + visibleBounds.w/2 - imageBounds.w/2,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "get",
          "new_api": null,
          "old_text": "temp_mask.get()",
          "new_text": null,
          "old_line_content": "    mask = temp_mask.get();",
          "new_line_content": "                visibleBounds.y + visibleBounds.h/2 - imageBounds.h/2,",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "isSelection",
          "new_api": null,
          "old_text": "getCurrentEditorInk()->isSelection()",
          "new_text": null,
          "old_line_content": "  if (!getCurrentEditorInk()->isSelection()) {",
          "new_line_content": "  // which will use the extra cel for transformation preview, and is",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "toolBox",
          "new_api": null,
          "old_text": "App::instance()->toolBox()->getToolById(tools::WellKnownTools::RectangularMarquee)",
          "new_text": null,
          "old_line_content": "      App::instance()->toolBox()->getToolById(tools::WellKnownTools::RectangularMarquee);",
          "new_line_content": "  // the extra cel.",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "selectTool",
          "new_api": null,
          "old_text": "ToolBar::instance()->selectTool(defaultSelectionTool)",
          "new_text": null,
          "old_line_content": "    ToolBar::instance()->selectTool(defaultSelectionTool);",
          "new_line_content": "    tools::Tool* defaultSelectionTool =",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "mask->bounds()",
          "new_text": null,
          "old_line_content": "  int y = mask->bounds().y;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": "x2",
          "new_api": null,
          "old_text": "visibleBounds.x2()",
          "new_text": null,
          "old_line_content": "        maskCenter.x >= visibleBounds.x2()) {",
          "new_line_content": "    // If the pasted image original location center point isn't",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": "width",
          "new_api": null,
          "old_text": "image->width()",
          "new_text": null,
          "old_line_content": "      x = visibleBounds.x + visibleBounds.w/2 - image->width()/2;",
          "new_line_content": "    // visible, we center the image in the editor's visible bounds.",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "width",
          "new_api": null,
          "old_text": "image->width()",
          "new_text": null,
          "old_line_content": "      x = MID(visibleBounds.x-image->width(), x, visibleBounds.x+visibleBounds.w-1);",
          "new_line_content": "    // In other case, if the center is visible, we put the pasted",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "y2",
          "new_api": null,
          "old_text": "visibleBounds.y2()",
          "new_text": null,
          "old_line_content": "        maskCenter.y >= visibleBounds.y2()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "height",
          "new_api": null,
          "old_text": "image->height()",
          "new_text": null,
          "old_line_content": "      y = visibleBounds.y + visibleBounds.h/2 - image->height()/2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "width",
          "new_api": null,
          "old_text": "image->width()",
          "new_text": null,
          "old_line_content": "    if (sprite->width() <= image->width() ||",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": "height",
          "new_api": null,
          "old_text": "image->height()",
          "new_text": null,
          "old_line_content": "        sprite->height() <= image->height()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "width",
          "new_api": null,
          "old_text": "image->width()",
          "new_text": null,
          "old_line_content": "      x = MID(0, x, sprite->width() - image->width());",
          "new_line_content": "    // Limit the image inside the sprite's bounds.",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "width",
          "new_api": null,
          "old_text": "sprite->width()",
          "new_text": null,
          "old_line_content": "      x = MID(-image->width()+1, x, sprite->width()-1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "height",
          "new_api": null,
          "old_text": "sprite->height()",
          "new_text": null,
          "old_line_content": "      y = MID(-image->height()+1, y, sprite->height()-1);",
          "new_line_content": "    else {",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": "hide",
          "new_api": null,
          "old_text": "m_brushPreview.hide()",
          "new_text": null,
          "old_line_content": "  m_brushPreview.hide();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "get",
          "new_api": null,
          "old_text": "m_state.get()",
          "new_text": null,
          "old_line_content": "  if (MovingPixelsState* movingPixels = dynamic_cast<MovingPixelsState*>(m_state.get())) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "translate",
          "new_api": null,
          "old_text": "movingPixels->translate(move)",
          "new_text": null,
          "old_line_content": "    movingPixels->translate(move);",
          "new_line_content": "void Editor::startSelectionTransformation(const gfx::Point& move, double angle)",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "std::fabs(angle)",
          "new_api": null,
          "old_text": "std::fabs(angle)",
          "new_text": null,
          "old_line_content": "    if (std::fabs(angle) > 1e-5)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "notifyScrollChanged",
          "new_api": null,
          "old_text": "m_observers.notifyScrollChanged(this)",
          "new_text": null,
          "old_line_content": "  m_observers.notifyScrollChanged(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": "notifyZoomChanged",
          "new_api": null,
          "old_text": "m_observers.notifyZoomChanged(this)",
          "new_text": null,
          "old_line_content": "  m_observers.notifyZoomChanged(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "getCurrentEditorInk",
          "new_api": null,
          "old_text": "getCurrentEditorInk()",
          "new_text": null,
          "old_line_content": "  tools::Ink* clickedInk = getCurrentEditorInk();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "startScrollingState",
          "new_api": null,
          "old_text": "startScrollingState(msg)",
          "new_text": null,
          "old_line_content": "    startScrollingState(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": "getCurrentEditorInk",
          "new_api": null,
          "old_text": "getCurrentEditorInk()",
          "new_text": null,
          "old_line_content": "  tools::Ink* clickedInk = getCurrentEditorInk();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "startZoomingState",
          "new_api": null,
          "old_text": "startZoomingState(msg)",
          "new_text": null,
          "old_line_content": "    startZoomingState(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": "setState",
          "new_api": null,
          "old_text": "setState(newState)",
          "new_text": null,
          "old_line_content": "  setState(newState);",
          "new_line_content": "void Editor::startScrollingState(ui::MouseMessage* msg)",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "onMouseDown",
          "new_api": null,
          "old_text": "newState->onMouseDown(this, msg)",
          "new_text": null,
          "old_line_content": "  newState->onMouseDown(this, msg);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": "setState",
          "new_api": null,
          "old_text": "setState(newState)",
          "new_text": null,
          "old_line_content": "  setState(newState);",
          "new_line_content": "void Editor::startZoomingState(ui::MouseMessage* msg)",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": "onMouseDown",
          "new_api": null,
          "old_text": "newState->onMouseDown(this, msg)",
          "new_text": null,
          "old_line_content": "  newState->onMouseDown(this, msg);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(m_state)",
          "new_text": null,
          "old_line_content": "  ASSERT(m_state);",
          "new_line_content": "void Editor::play(const bool playOnce,",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "stop",
          "new_api": null,
          "old_text": "stop()",
          "new_text": null,
          "old_line_content": "    stop();",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(m_state)",
          "new_text": null,
          "old_line_content": "  ASSERT(m_state);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": "get",
          "new_api": null,
          "old_text": "m_state.get()",
          "new_text": null,
          "old_line_content": "    while (m_state && !dynamic_cast<PlayState*>(m_state.get()))",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 2209,
          "old_api": "backToPreviousState",
          "new_api": null,
          "old_text": "backToPreviousState()",
          "new_text": null,
          "old_line_content": "      backToPreviousState();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "get",
          "new_api": null,
          "old_text": "m_state.get()",
          "new_text": null,
          "old_line_content": "    ASSERT(m_state && dynamic_cast<PlayState*>(m_state.get()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "backToPreviousState",
          "new_api": null,
          "old_text": "backToPreviousState()",
          "new_text": null,
          "old_line_content": "      backToPreviousState();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": "base::convert_to<std::string>(option)",
          "new_api": null,
          "old_text": "base::convert_to<std::string>(option)",
          "new_text": null,
          "old_line_content": "    MenuItem* item = new MenuItem(\"Speed x\" + base::convert_to<std::string>(option));",
          "new_line_content": "  Menu menu;",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "base::Bind<void>(&Editor::setAnimationSpeedMultiplier, this, option)",
          "new_api": null,
          "old_text": "base::Bind<void>(&Editor::setAnimationSpeedMultiplier, this, option)",
          "new_text": null,
          "old_line_content": "    item->Click.connect(base::Bind<void>(&Editor::setAnimationSpeedMultiplier, this, option));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "setSelected",
          "new_api": null,
          "old_text": "item->setSelected(m_aniSpeed == option)",
          "new_text": null,
          "old_line_content": "    item->setSelected(m_aniSpeed == option);",
          "new_line_content": "  for (double option : options) {",
          "content_same": false
        },
        {
          "line": 2243,
          "old_api": "connect",
          "new_api": null,
          "old_text": "item->Click.connect(\n      [&playOnce]() {\n        playOnce(!playOnce());\n      })",
          "new_text": null,
          "old_line_content": "    item->Click.connect(",
          "new_line_content": "  // Play once option",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": "playOnce",
          "new_api": null,
          "old_text": "playOnce()",
          "new_text": null,
          "old_line_content": "        playOnce(!playOnce());",
          "new_line_content": "    MenuItem* item = new MenuItem(\"Play Once\");",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "playOnce",
          "new_api": null,
          "old_text": "playOnce()",
          "new_text": null,
          "old_line_content": "    item->setSelected(playOnce());",
          "new_line_content": "      [&playOnce]() {",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "connect",
          "new_api": null,
          "old_text": "item->Click.connect(\n      [&playAll]() {\n        playAll(!playAll());\n      })",
          "new_text": null,
          "old_line_content": "    item->Click.connect(",
          "new_line_content": "  // Play all option",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": "playAll",
          "new_api": null,
          "old_text": "playAll()",
          "new_text": null,
          "old_line_content": "        playAll(!playAll());",
          "new_line_content": "    MenuItem* item = new MenuItem(\"Play All Frames (Ignore Tags)\");",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": "playAll",
          "new_api": null,
          "old_text": "playAll()",
          "new_text": null,
          "old_line_content": "    item->setSelected(playAll());",
          "new_line_content": "      [&playAll]() {",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "connect",
          "new_api": null,
          "old_text": "item->Click.connect(\n      []() {\n        // Switch the \"rewind_on_stop\" option\n        Preferences::instance().general.rewindOnStop(\n          !Preferences::instance().general.rewindOnStop());\n      })",
          "new_text": null,
          "old_line_content": "    item->Click.connect(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": "rewindOnStop",
          "new_api": null,
          "old_text": "Preferences::instance().general.rewindOnStop()",
          "new_text": null,
          "old_line_content": "          !Preferences::instance().general.rewindOnStop());",
          "new_line_content": "      []() {",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": "isPlaying",
          "new_api": null,
          "old_text": "isPlaying()",
          "new_text": null,
          "old_line_content": "  if (isPlaying()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": "stop",
          "new_api": null,
          "old_text": "stop()",
          "new_text": null,
          "old_line_content": "    stop();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": "playAll",
          "new_api": null,
          "old_text": "playAll()",
          "new_text": null,
          "old_line_content": "         playAll());",
          "new_line_content": "    // Re-play",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": "hide",
          "new_api": null,
          "old_text": "m_brushPreview.hide()",
          "new_text": null,
          "old_line_content": "  m_brushPreview.hide();",
          "new_line_content": "void Editor::showMouseCursor(CursorType cursorType,",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "ui::set_mouse_cursor(cursorType, cursor)",
          "new_api": null,
          "old_text": "ui::set_mouse_cursor(cursorType, cursor)",
          "new_text": null,
          "old_line_content": "  ui::set_mouse_cursor(cursorType, cursor);",
          "new_line_content": "                             const Cursor* cursor)",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "paintingCursorType",
          "new_api": null,
          "old_text": "Preferences::instance().cursor.paintingCursorType()",
          "new_text": null,
          "old_line_content": "  if (Preferences::instance().cursor.paintingCursorType() !=",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2305,
          "old_api": "ui::set_mouse_cursor(kNoCursor)",
          "new_api": null,
          "old_text": "ui::set_mouse_cursor(kNoCursor)",
          "new_text": null,
          "old_line_content": "    ui::set_mouse_cursor(kNoCursor);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": "show",
          "new_api": null,
          "old_text": "m_brushPreview.show(screenPos)",
          "new_text": null,
          "old_line_content": "  m_brushPreview.show(screenPos);",
          "new_line_content": "      app::gen::PaintingCursorType::SIMPLE_CROSSHAIR)",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "// static",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "    Rect vp = view->viewportBounds();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": "width",
          "new_api": null,
          "old_text": "m_sprite->width()",
          "new_text": null,
          "old_line_content": "      std::max<int>(vp.w/2, vp.w - proj.applyX(m_sprite->width())),",
          "new_line_content": "  if (view) {",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": "get",
          "new_api": null,
          "old_text": "m_state.get()",
          "new_text": null,
          "old_line_content": "  return (dynamic_cast<MovingPixelsState*>(m_state.get()) != nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": "isMovingPixels",
          "new_api": null,
          "old_text": "isMovingPixels()",
          "new_text": null,
          "old_line_content": "  ASSERT(isMovingPixels());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": "backToPreviousState",
          "new_api": null,
          "old_text": "backToPreviousState()",
          "new_text": null,
          "old_line_content": "  backToPreviousState();",
          "new_line_content": "void Editor::dropMovingPixels()",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "isActive",
          "new_api": null,
          "old_text": "isActive()",
          "new_text": null,
          "old_line_content": "  if (isActive())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "    invalidate();",
          "new_line_content": "void Editor::invalidateIfActive()",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "isCelMovement",
          "new_api": null,
          "old_text": "getCurrentEditorInk()->isCelMovement()",
          "new_text": null,
          "old_line_content": "    (getCurrentEditorInk()->isCelMovement() &&",
          "new_line_content": "bool Editor::showAutoCelGuides()",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "autoGuides",
          "new_api": null,
          "old_text": "m_docPref.show.autoGuides()",
          "new_text": null,
          "old_line_content": "     m_docPref.show.autoGuides() &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": "showAutoCelGuides",
          "new_api": null,
          "old_text": "showAutoCelGuides()",
          "new_text": null,
          "old_line_content": "  if (showAutoCelGuides() &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": "requireBrushPreview",
          "new_api": null,
          "old_text": "m_state->requireBrushPreview()",
          "new_text": null,
          "old_line_content": "      m_state->requireBrushPreview()) {",
          "new_line_content": "  // Check if the user is pressing the Ctrl or Cmd key on move",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": "dynamic_cast<ui::MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "dynamic_cast<ui::MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "    ui::MouseMessage* mouseMsg = dynamic_cast<ui::MouseMessage*>(msg);",
          "new_line_content": "  // tool to show automatic guides.",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": "position",
          "new_api": null,
          "old_text": "mouseMsg->position()",
          "new_text": null,
          "old_line_content": "                     screenToEditorF(mouseMsg ? mouseMsg->position():",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "ui::get_mouse_position()",
          "new_api": null,
          "old_text": "ui::get_mouse_position()",
          "new_text": null,
          "old_line_content": "                                                ui::get_mouse_position()),",
          "new_line_content": "    ColorPicker picker;",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "    invalidate();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "get",
          "new_api": null,
          "old_text": "editorGraphics.get()",
          "new_text": null,
          "old_line_content": "        drawSpriteUnclippedRect(editorGraphics.get(), updateRect);",
          "new_line_content": "      IntersectClip clip(&screenGraphics,",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "selectionEdges",
          "new_api": null,
          "old_text": "m_docPref.show.selectionEdges()",
          "new_text": null,
          "old_line_content": "      !m_docPref.show.selectionEdges())",
          "new_line_content": "void Editor::drawMask(Graphics* g)",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "getMaskBoundaries",
          "new_api": null,
          "old_text": "m_document->getMaskBoundaries()",
          "new_text": null,
          "old_line_content": "  for (const auto& seg : *m_document->getMaskBoundaries()) {",
          "new_line_content": "  int x = m_padding.x;",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "gfx::rgba(0, 0, 0, 255)",
          "new_api": null,
          "old_text": "gfx::rgba(0, 0, 0, 255)",
          "new_text": null,
          "old_line_content": "                            gfx::rgba(0, 0, 0, 255),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "seg.bounds()",
          "new_text": null,
          "old_line_content": "    gfx::Rect bounds = m_proj.apply(seg.bounds());",
          "new_line_content": "    CheckedDrawMode checked(g, m_antsOffset,",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "scaleY",
          "new_api": null,
          "old_text": "m_proj.scaleY()",
          "new_text": null,
          "old_line_content": "    if (m_proj.scaleY() >= 1.0) {",
          "new_line_content": "        --bounds.x;",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "vertical",
          "new_api": null,
          "old_text": "seg.vertical()",
          "new_text": null,
          "old_line_content": "      if (!seg.open() && !seg.vertical())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "vertical",
          "new_api": null,
          "old_text": "seg.vertical()",
          "new_text": null,
          "old_line_content": "    if (seg.vertical())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "gfx::rgba(0, 0, 0)",
          "new_api": null,
          "old_text": "gfx::rgba(0, 0, 0)",
          "new_text": null,
          "old_line_content": "      g->drawVLine(gfx::rgba(0, 0, 0), x+bounds.x, y+bounds.y, bounds.h);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "isVisible()",
          "new_text": null,
          "old_line_content": "  if (isVisible() &&",
          "new_line_content": "  if ((m_flags & kShowMask) == 0)",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "getMaskBoundaries",
          "new_api": null,
          "old_text": "m_document->getMaskBoundaries()",
          "new_text": null,
          "old_line_content": "      m_document->getMaskBoundaries()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "getDrawableRegion",
          "new_api": null,
          "old_text": "getDrawableRegion(region, kCutTopWindows)",
          "new_text": null,
          "old_line_content": "    getDrawableRegion(region, kCutTopWindows);",
          "new_line_content": "      m_document &&",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "get",
          "new_api": null,
          "old_text": "g.get()",
          "new_text": null,
          "old_line_content": "        drawMask(g.get());",
          "new_line_content": "    for (const gfx::Rect& rc : region) {",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "ABS",
          "new_api": null,
          "old_text": "ABS(grid.x)",
          "new_text": null,
          "old_line_content": "  if (grid.x < 0) grid.x += (ABS(grid.x)/grid.w+1) * grid.w;",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "ABS",
          "new_api": null,
          "old_text": "ABS(grid.y)",
          "new_text": null,
          "old_line_content": "  if (grid.y < 0) grid.y += (ABS(grid.y)/grid.h+1) * grid.h;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "editorToScreen",
          "new_api": null,
          "old_text": "editorToScreen(grid)",
          "new_text": null,
          "old_line_content": "  grid = editorToScreen(grid);",
          "new_line_content": "  if (grid.y < 0) grid.y += grid.h;",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "this->bounds()",
          "new_text": null,
          "old_line_content": "  gfx::Rect bounds = this->bounds();",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "origin",
          "new_api": null,
          "old_text": "bounds.origin()",
          "new_text": null,
          "old_line_content": "  grid.offset(-bounds.origin());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "color_utils::color_for_ui(color)",
          "new_api": null,
          "old_text": "color_utils::color_for_ui(color)",
          "new_text": null,
          "old_line_content": "  gfx::Color grid_color = color_utils::color_for_ui(color);",
          "new_line_content": "  while (grid.y-grid.h >= spriteBounds.y) grid.y -= grid.h;",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "gfx::rgba(\n    gfx::getr(grid_color),\n    gfx::getg(grid_color),\n    gfx::getb(grid_color), alpha)",
          "new_api": null,
          "old_text": "gfx::rgba(\n    gfx::getr(grid_color),\n    gfx::getg(grid_color),\n    gfx::getb(grid_color), alpha)",
          "new_text": null,
          "old_line_content": "  grid_color = gfx::rgba(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "gfx::getr(grid_color)",
          "new_api": null,
          "old_text": "gfx::getr(grid_color)",
          "new_text": null,
          "old_line_content": "    gfx::getr(grid_color),",
          "new_line_content": "  // Get the grid's color",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "drawHLine",
          "new_api": null,
          "old_text": "g->drawHLine(grid_color, x1, c, spriteBounds.w)",
          "new_text": null,
          "old_line_content": "    g->drawHLine(grid_color, x1, c, spriteBounds.w);",
          "new_line_content": "  int y2 = spriteBounds.y + spriteBounds.h;",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "drawVLine",
          "new_api": null,
          "old_text": "g->drawVLine(grid_color, c, y1, spriteBounds.h)",
          "new_text": null,
          "old_line_content": "    g->drawVLine(grid_color, c, y1, spriteBounds.h);",
          "new_line_content": "  y1 = spriteBounds.y;",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "isVisible()",
          "new_text": null,
          "old_line_content": "  if (!isVisible() || !m_document)",
          "new_line_content": "  if ((m_flags & kShowSlices) == 0)",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "getByFrame",
          "new_api": null,
          "old_text": "slice->getByFrame(m_frame)",
          "new_text": null,
          "old_line_content": "    auto key = slice->getByFrame(m_frame);",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "color",
          "new_api": null,
          "old_text": "slice->userData().color()",
          "new_text": null,
          "old_line_content": "    doc::color_t docColor = slice->userData().color();",
          "new_line_content": "    if (!key)",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "doc::rgba_getr(docColor)",
          "new_api": null,
          "old_text": "doc::rgba_getr(docColor)",
          "new_text": null,
          "old_line_content": "    gfx::Color color = gfx::rgba(doc::rgba_getr(docColor),",
          "new_line_content": "      continue;",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "doc::rgba_getg(docColor)",
          "new_api": null,
          "old_text": "doc::rgba_getg(docColor)",
          "new_text": null,
          "old_line_content": "                                 doc::rgba_getg(docColor),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "origin",
          "new_api": null,
          "old_text": "key->bounds().origin()",
          "new_text": null,
          "old_line_content": "        editorToScreen(gfx::Rect(key->center()).offset(key->bounds().origin()))",
          "new_line_content": "    // Center slices",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "gfx::getb(color)",
          "new_api": null,
          "old_text": "gfx::getb(color)",
          "new_text": null,
          "old_line_content": "                                gfx::getb(color),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "hasPivot",
          "new_api": null,
          "old_text": "key->hasPivot()",
          "new_text": null,
          "old_line_content": "    if (key->hasPivot()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "origin",
          "new_api": null,
          "old_text": "key->bounds().origin()",
          "new_text": null,
          "old_line_content": "        editorToScreen(gfx::Rect(key->pivot(), gfx::Size(1, 1)).offset(key->bounds().origin()))",
          "new_line_content": "    // Pivot",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "gfx::getb(color)",
          "new_api": null,
          "old_text": "gfx::getb(color)",
          "new_text": null,
          "old_line_content": "                                gfx::getb(color),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1024,
          "old_api": "getCelScreenBounds",
          "new_api": null,
          "old_text": "getCelScreenBounds(cel)",
          "new_text": null,
          "old_line_content": "  g->drawRect(color, getCelScreenBounds(cel));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "cel->bounds()",
          "new_text": null,
          "old_line_content": "    sprCelBounds = cel->bounds(),",
          "new_line_content": "void Editor::drawCelGuides(ui::Graphics* g, const Cel* cel, const Cel* mouseCel)",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "getCelScreenBounds",
          "new_api": null,
          "old_text": "getCelScreenBounds(cel)",
          "new_text": null,
          "old_line_content": "    scrCelBounds = getCelScreenBounds(cel),",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "mouseCel->bounds()",
          "new_text": null,
          "old_line_content": "    sprCmpBounds = mouseCel->bounds();",
          "new_line_content": "    scrCmpBounds, sprCmpBounds;",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "autoGuidesColor",
          "new_api": null,
          "old_text": "Preferences::instance().guides.autoGuidesColor()",
          "new_text": null,
          "old_line_content": "      color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "m_sprite->bounds()",
          "new_text": null,
          "old_line_content": "    sprCmpBounds = m_sprite->bounds();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "origin",
          "new_api": null,
          "old_text": "bounds().origin()",
          "new_text": null,
          "old_line_content": "    scrCmpBounds = editorToScreen(sprCmpBounds).offset(gfx::Point(-bounds().origin()));",
          "new_line_content": "  // Use whole canvas",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "x2",
          "new_api": null,
          "old_text": "sprCelBounds.x2()",
          "new_text": null,
          "old_line_content": "  if (sprCelBounds.x2() < sprCmpBounds.x) {",
          "new_line_content": "  const int midX = scrCelBounds.x+scrCelBounds.w/2;",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "x2",
          "new_api": null,
          "old_text": "drawCelHGuide(g,\n                  sprCelBounds.x2(), sprCmpBounds.x,\n                  scrCelBounds.x2(), scrCmpBounds.x, midY,\n                  scrCelBounds, scrCmpBounds, scrCmpBounds.x)",
          "new_text": null,
          "old_line_content": "    drawCelHGuide(g,",
          "new_line_content": "  const int midY = scrCelBounds.y+scrCelBounds.h/2;",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "x2",
          "new_api": null,
          "old_text": "sprCelBounds.x2()",
          "new_text": null,
          "old_line_content": "                  sprCelBounds.x2(), sprCmpBounds.x,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "x2",
          "new_api": null,
          "old_text": "drawCelHGuide(g,\n                  sprCmpBounds.x2(), sprCelBounds.x,\n                  scrCmpBounds.x2(), scrCelBounds.x, midY,\n                  scrCelBounds, scrCmpBounds, scrCmpBounds.x2()-1)",
          "new_text": null,
          "old_line_content": "    drawCelHGuide(g,",
          "new_line_content": "                  scrCelBounds, scrCmpBounds, scrCmpBounds.x);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "x2",
          "new_api": null,
          "old_text": "sprCmpBounds.x2()",
          "new_text": null,
          "old_line_content": "                  sprCmpBounds.x2(), sprCelBounds.x,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "x2",
          "new_api": null,
          "old_text": "sprCelBounds.x2()",
          "new_text": null,
          "old_line_content": "        sprCelBounds.x2() != sprCmpBounds.x) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "drawCelHGuide",
          "new_api": null,
          "old_text": "drawCelHGuide(g,\n                    sprCmpBounds.x, sprCelBounds.x,\n                    scrCmpBounds.x, scrCelBounds.x, midY,\n                    scrCelBounds, scrCmpBounds, scrCmpBounds.x)",
          "new_text": null,
          "old_line_content": "      drawCelHGuide(g,",
          "new_line_content": "  else {",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": "x2",
          "new_api": null,
          "old_text": "sprCmpBounds.x2()",
          "new_text": null,
          "old_line_content": "    if (sprCelBounds.x != sprCmpBounds.x2() &&",
          "new_line_content": "                    scrCmpBounds.x, scrCelBounds.x, midY,",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "x2",
          "new_api": null,
          "old_text": "sprCmpBounds.x2()",
          "new_text": null,
          "old_line_content": "        sprCelBounds.x2() != sprCmpBounds.x2()) {",
          "new_line_content": "                    scrCelBounds, scrCmpBounds, scrCmpBounds.x);",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "x2",
          "new_api": null,
          "old_text": "drawCelHGuide(g,\n                    sprCmpBounds.x2(), sprCelBounds.x2(),\n                    scrCmpBounds.x2(), scrCelBounds.x2(), midY,\n                    scrCelBounds, scrCmpBounds, scrCmpBounds.x2()-1)",
          "new_text": null,
          "old_line_content": "      drawCelHGuide(g,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "y2",
          "new_api": null,
          "old_text": "sprCelBounds.y2()",
          "new_text": null,
          "old_line_content": "  if (sprCelBounds.y2() < sprCmpBounds.y) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "y2",
          "new_api": null,
          "old_text": "drawCelVGuide(g,\n                  sprCelBounds.y2(), sprCmpBounds.y,\n                  scrCelBounds.y2(), scrCmpBounds.y, midX,\n                  scrCelBounds, scrCmpBounds, scrCmpBounds.y)",
          "new_text": null,
          "old_line_content": "    drawCelVGuide(g,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "y2",
          "new_api": null,
          "old_text": "sprCelBounds.y2()",
          "new_text": null,
          "old_line_content": "                  sprCelBounds.y2(), sprCmpBounds.y,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "y2",
          "new_api": null,
          "old_text": "drawCelVGuide(g,\n                  sprCmpBounds.y2(), sprCelBounds.y,\n                  scrCmpBounds.y2(), scrCelBounds.y, midX,\n                  scrCelBounds, scrCmpBounds, scrCmpBounds.y2()-1)",
          "new_text": null,
          "old_line_content": "    drawCelVGuide(g,",
          "new_line_content": "                  scrCelBounds, scrCmpBounds, scrCmpBounds.y);",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "y2",
          "new_api": null,
          "old_text": "sprCmpBounds.y2()",
          "new_text": null,
          "old_line_content": "                  sprCmpBounds.y2(), sprCelBounds.y,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "y2",
          "new_api": null,
          "old_text": "sprCelBounds.y2()",
          "new_text": null,
          "old_line_content": "        sprCelBounds.y2() != sprCmpBounds.y) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "drawCelVGuide",
          "new_api": null,
          "old_text": "drawCelVGuide(g,\n                    sprCmpBounds.y, sprCelBounds.y,\n                    scrCmpBounds.y, scrCelBounds.y, midX,\n                    scrCelBounds, scrCmpBounds, scrCmpBounds.y)",
          "new_text": null,
          "old_line_content": "      drawCelVGuide(g,",
          "new_line_content": "  else {",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "y2",
          "new_api": null,
          "old_text": "sprCmpBounds.y2()",
          "new_text": null,
          "old_line_content": "    if (sprCelBounds.y != sprCmpBounds.y2() &&",
          "new_line_content": "                    scrCmpBounds.y, scrCelBounds.y, midX,",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "y2",
          "new_api": null,
          "old_text": "sprCmpBounds.y2()",
          "new_text": null,
          "old_line_content": "        sprCelBounds.y2() != sprCmpBounds.y2()) {",
          "new_line_content": "                    scrCelBounds, scrCmpBounds, scrCmpBounds.y);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "y2",
          "new_api": null,
          "old_text": "drawCelVGuide(g,\n                    sprCmpBounds.y2(), sprCelBounds.y2(),\n                    scrCmpBounds.y2(), scrCelBounds.y2(), midX,\n                    scrCelBounds, scrCmpBounds, scrCmpBounds.y2()-1)",
          "new_text": null,
          "old_line_content": "      drawCelVGuide(g,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "autoGuidesColor",
          "new_api": null,
          "old_text": "Preferences::instance().guides.autoGuidesColor()",
          "new_text": null,
          "old_line_content": "  gfx::Color color = color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor());",
          "new_line_content": "                           const gfx::Rect& scrCelBounds, const gfx::Rect& scrCmpBounds,",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "drawHLine",
          "new_api": null,
          "old_text": "g->drawHLine(color, scrX1, scrY, scrX2 - scrX1)",
          "new_text": null,
          "old_line_content": "  g->drawHLine(color, scrX1, scrY, scrX2 - scrX1);",
          "new_line_content": "                           const int dottedX)",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "drawVLine",
          "new_api": null,
          "old_text": "g->drawVLine(color, dottedX, scrCelBounds.y, scrCmpBounds.y - scrCelBounds.y)",
          "new_text": null,
          "old_line_content": "      g->drawVLine(color, dottedX, scrCelBounds.y, scrCmpBounds.y - scrCelBounds.y);",
          "new_line_content": "    CheckedDrawMode checked(g, 0, color, gfx::ColorNone);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "y2",
          "new_api": null,
          "old_text": "scrCmpBounds.y2()",
          "new_text": null,
          "old_line_content": "    else if (scrY > scrCmpBounds.y2())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "y2",
          "new_api": null,
          "old_text": "scrCmpBounds.y2()",
          "new_text": null,
          "old_line_content": "      g->drawVLine(color, dottedX, scrCmpBounds.y2(), scrCelBounds.y2() - scrCmpBounds.y2());",
          "new_line_content": "    if (scrY < scrCmpBounds.y)",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "font",
          "new_api": null,
          "old_text": "font()",
          "new_text": null,
          "old_line_content": "  const int textW = Graphics::measureUITextLength(text, font());",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "drawText",
          "new_api": null,
          "old_text": "g->drawText(text,\n              color_utils::blackandwhite_neg(color), color,\n              gfx::Point((scrX1+scrX2)/2-textW/2, scrY-textHeight()))",
          "new_text": null,
          "old_line_content": "  g->drawText(text,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "autoGuidesColor",
          "new_api": null,
          "old_text": "Preferences::instance().guides.autoGuidesColor()",
          "new_text": null,
          "old_line_content": "  gfx::Color color = color_utils::color_for_ui(Preferences::instance().guides.autoGuidesColor());",
          "new_line_content": "                           const gfx::Rect& scrCelBounds, const gfx::Rect& scrCmpBounds,",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "drawVLine",
          "new_api": null,
          "old_text": "g->drawVLine(color, scrX, scrY1, scrY2 - scrY1)",
          "new_text": null,
          "old_line_content": "  g->drawVLine(color, scrX, scrY1, scrY2 - scrY1);",
          "new_line_content": "                           const int dottedY)",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "drawHLine",
          "new_api": null,
          "old_text": "g->drawHLine(color, scrCelBounds.x, dottedY, scrCmpBounds.x - scrCelBounds.x)",
          "new_text": null,
          "old_line_content": "      g->drawHLine(color, scrCelBounds.x, dottedY, scrCmpBounds.x - scrCelBounds.x);",
          "new_line_content": "    CheckedDrawMode checked(g, 0, color, gfx::ColorNone);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "x2",
          "new_api": null,
          "old_text": "scrCmpBounds.x2()",
          "new_text": null,
          "old_line_content": "    else if (scrX > scrCmpBounds.x2())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "x2",
          "new_api": null,
          "old_text": "scrCmpBounds.x2()",
          "new_text": null,
          "old_line_content": "      g->drawHLine(color, scrCmpBounds.x2(), dottedY, scrCelBounds.x2() - scrCmpBounds.x2());",
          "new_line_content": "    if (scrX < scrCmpBounds.x)",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "drawText",
          "new_api": null,
          "old_text": "g->drawText(text,\n              color_utils::blackandwhite_neg(color), color,\n              gfx::Point(scrX, (scrY1+scrY2)/2-textHeight()/2))",
          "new_text": null,
          "old_line_content": "  g->drawText(text,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "color_utils::blackandwhite_neg(color)",
          "new_api": null,
          "old_text": "color_utils::blackandwhite_neg(color)",
          "new_text": null,
          "old_line_content": "              color_utils::blackandwhite_neg(color), color,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "isReference",
          "new_api": null,
          "old_text": "m_layer->isReference()",
          "new_text": null,
          "old_line_content": "  if (m_layer->isReference()) {",
          "new_line_content": "gfx::Rect Editor::getCelScreenBounds(const Cel* cel)",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "origin",
          "new_api": null,
          "old_text": "bounds().origin()",
          "new_text": null,
          "old_line_content": "    layerEdges = editorToScreenF(cel->boundsF()).offset(gfx::PointF(-bounds().origin()));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "flashLayer",
          "new_api": null,
          "old_text": "Preferences::instance().experimental.flashLayer()",
          "new_text": null,
          "old_line_content": "  if (!Preferences::instance().experimental.flashLayer())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "removePreviewImage",
          "new_api": null,
          "old_text": "m_renderEngine.removePreviewImage()",
          "new_text": null,
          "old_line_content": "    m_renderEngine.removePreviewImage();",
          "new_line_content": "  int x, y;",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "setType",
          "new_api": null,
          "old_text": "extraCel->setType(render::ExtraType::COMPOSITE)",
          "new_text": null,
          "old_line_content": "    extraCel->setType(render::ExtraType::COMPOSITE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "setBlendMode",
          "new_api": null,
          "old_text": "extraCel->setBlendMode(BlendMode::NEG_BW)",
          "new_text": null,
          "old_line_content": "    extraCel->setBlendMode(BlendMode::NEG_BW);",
          "new_line_content": "    ExtraCelRef extraCel(new ExtraCel);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "copy_image",
          "new_api": null,
          "old_text": "copy_image(flash_image, src_image, x, y)",
          "new_text": null,
          "old_line_content": "    copy_image(flash_image, src_image, x, y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "setExtraCel",
          "new_api": null,
          "old_text": "m_document->setExtraCel(extraCel)",
          "new_text": null,
          "old_line_content": "      m_document->setExtraCel(extraCel);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "width",
          "new_api": null,
          "old_text": "gfx::Region(\n                          gfx::Rect(0, 0, m_sprite->width(), m_sprite->height()))",
          "new_text": null,
          "old_line_content": "      drawSpriteClipped(gfx::Region(",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "position",
          "new_api": null,
          "old_text": "msg->position()",
          "new_text": null,
          "old_line_content": "  gfx::Point mousePos = msg->position();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "autoScroll",
          "new_api": null,
          "old_text": "Preferences::instance().editor.autoScroll()",
          "new_text": null,
          "old_line_content": "  if (!Preferences::instance().editor.autoScroll())",
          "new_line_content": "gfx::Point Editor::autoScroll(MouseMessage* msg, AutoScroll dir)",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  gfx::Rect vp = view->viewportBounds();",
          "new_line_content": "  // Hide the brush preview",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "viewScroll",
          "new_api": null,
          "old_text": "view->viewScroll()",
          "new_text": null,
          "old_line_content": "    gfx::Point scroll = view->viewScroll();",
          "new_line_content": "      delta.y = 0;",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "setEditorScroll",
          "new_api": null,
          "old_text": "setEditorScroll(scroll)",
          "new_text": null,
          "old_line_content": "    setEditorScroll(scroll);",
          "new_line_content": "    else {",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "ui::set_mouse_position(mousePos)",
          "new_api": null,
          "old_text": "ui::set_mouse_position(mousePos)",
          "new_text": null,
          "old_line_content": "    ui::set_mouse_position(mousePos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "gfx::Point(\n      MID(vp.x, mousePos.x, vp.x+vp.w-1),\n      MID(vp.y, mousePos.y, vp.y+vp.h-1))",
          "new_api": null,
          "old_text": "gfx::Point(\n      MID(vp.x, mousePos.x, vp.x+vp.w-1),\n      MID(vp.y, mousePos.y, vp.y+vp.h-1))",
          "new_text": null,
          "old_line_content": "    mousePos = gfx::Point(",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": "MID",
          "new_api": null,
          "old_text": "MID(vp.x, mousePos.x, vp.x+vp.w-1)",
          "new_text": null,
          "old_line_content": "      MID(vp.x, mousePos.x, vp.x+vp.w-1),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "MID",
          "new_api": null,
          "old_text": "MID(vp.y, mousePos.y, vp.y+vp.h-1)",
          "new_text": null,
          "old_line_content": "      MID(vp.y, mousePos.y, vp.y+vp.h-1));",
          "new_line_content": "    m_oldPos = mousePos;",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "activeTool",
          "new_api": null,
          "old_text": "App::instance()->activeTool()",
          "new_text": null,
          "old_line_content": "  return App::instance()->activeTool();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "getStateInk",
          "new_api": null,
          "old_text": "m_state->getStateInk()",
          "new_text": null,
          "old_line_content": "  tools::Ink* ink = m_state->getStateInk();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()->activeInk()",
          "new_text": null,
          "old_line_content": "    return App::instance()->activeToolManager()->activeInk();",
          "new_line_content": "  if (ink)",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "contextBar",
          "new_api": null,
          "old_text": "App::instance()->contextBar()->isAutoSelectLayer()",
          "new_text": null,
          "old_line_content": "  return App::instance()->contextBar()->isAutoSelectLayer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  Rect vp = view->viewportBounds();",
          "new_line_content": "gfx::Point Editor::screenToEditor(const gfx::Point& pt)",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "viewScroll",
          "new_api": null,
          "old_text": "view->viewScroll()",
          "new_text": null,
          "old_line_content": "  Point scroll = view->viewScroll();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  Rect vp = view->viewportBounds();",
          "new_line_content": "gfx::PointF Editor::screenToEditorF(const gfx::Point& pt)",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "viewScroll",
          "new_api": null,
          "old_text": "view->viewScroll()",
          "new_text": null,
          "old_line_content": "  Point scroll = view->viewScroll();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  Rect vp = view->viewportBounds();",
          "new_line_content": "Point Editor::editorToScreen(const gfx::Point& pt)",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "viewScroll",
          "new_api": null,
          "old_text": "view->viewScroll()",
          "new_text": null,
          "old_line_content": "  Point scroll = view->viewScroll();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  Rect vp = view->viewportBounds();",
          "new_line_content": "gfx::PointF Editor::editorToScreenF(const gfx::PointF& pt)",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "viewScroll",
          "new_api": null,
          "old_text": "view->viewScroll()",
          "new_text": null,
          "old_line_content": "  Point scroll = view->viewScroll();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "origin",
          "new_api": null,
          "old_text": "gfx::Rect(\n    screenToEditor(rc.origin()),\n    screenToEditor(rc.point2()))",
          "new_text": null,
          "old_line_content": "  return gfx::Rect(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "origin",
          "new_api": null,
          "old_text": "rc.origin()",
          "new_text": null,
          "old_line_content": "    screenToEditor(rc.origin()),",
          "new_line_content": "Rect Editor::screenToEditor(const Rect& rc)",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "point2",
          "new_api": null,
          "old_text": "rc.point2()",
          "new_text": null,
          "old_line_content": "    screenToEditor(rc.point2()));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "origin",
          "new_api": null,
          "old_text": "gfx::Rect(\n    editorToScreen(rc.origin()),\n    editorToScreen(rc.point2()))",
          "new_text": null,
          "old_line_content": "  return gfx::Rect(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "origin",
          "new_api": null,
          "old_text": "rc.origin()",
          "new_text": null,
          "old_line_content": "    editorToScreen(rc.origin()),",
          "new_line_content": "Rect Editor::editorToScreen(const Rect& rc)",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "point2",
          "new_api": null,
          "old_text": "rc.point2()",
          "new_text": null,
          "old_line_content": "    editorToScreen(rc.point2()));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "origin",
          "new_api": null,
          "old_text": "gfx::RectF(\n    editorToScreenF(rc.origin()),\n    editorToScreenF(rc.point2()))",
          "new_text": null,
          "old_line_content": "  return gfx::RectF(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": "origin",
          "new_api": null,
          "old_text": "rc.origin()",
          "new_text": null,
          "old_line_content": "    editorToScreenF(rc.origin()),",
          "new_line_content": "gfx::RectF Editor::editorToScreenF(const gfx::RectF& rc)",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "point2",
          "new_api": null,
          "old_text": "rc.point2()",
          "new_text": null,
          "old_line_content": "    editorToScreenF(rc.point2()));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "add_observer",
          "new_api": null,
          "old_text": "m_observers.add_observer(observer)",
          "new_text": null,
          "old_line_content": "  m_observers.add_observer(observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "remove_observer",
          "new_api": null,
          "old_text": "m_observers.remove_observer(observer)",
          "new_text": null,
          "old_line_content": "  m_observers.remove_observer(observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "dispose",
          "new_api": null,
          "old_text": "m_customizationDelegate->dispose()",
          "new_text": null,
          "old_line_content": "    m_customizationDelegate->dispose();",
          "new_line_content": "void Editor::setCustomizationDelegate(EditorCustomizationDelegate* delegate)",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "View::getView(this)->viewportBounds()",
          "new_text": null,
          "old_line_content": "  return screenToEditor(View::getView(this)->viewportBounds());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "m_sprite->bounds()",
          "new_text": null,
          "old_line_content": "    return getViewportBounds().createIntersection(m_sprite->bounds());",
          "new_line_content": "Rect Editor::getVisibleSpriteBounds()",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(false)",
          "new_text": null,
          "old_line_content": "  ASSERT(false);",
          "new_line_content": "  // Aseprite versions we were using one Editor to show multiple",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "void Editor::centerInSpritePoint(const gfx::Point& spritePos)",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  Rect vp = view->viewportBounds();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "applyY",
          "new_api": null,
          "old_text": "m_proj.applyY(spritePos.y)",
          "new_text": null,
          "old_line_content": "    m_padding.y - (vp.h/2) + m_proj.applyY(1)/2 + m_proj.applyY(spritePos.y));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "  invalidate();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "hasMouse",
          "new_api": null,
          "old_text": "hasMouse()",
          "new_text": null,
          "old_line_content": "  if (!hasMouse())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "onUpdateStatusBar",
          "new_api": null,
          "old_text": "m_state->onUpdateStatusBar(this)",
          "new_text": null,
          "old_line_content": "  m_state->onUpdateStatusBar(this);",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "hasCapture",
          "new_api": null,
          "old_text": "hasCapture()",
          "new_text": null,
          "old_line_content": "  if (m_customizationDelegate && !hasCapture()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()",
          "new_text": null,
          "old_line_content": "    auto activeToolManager = App::instance()->activeToolManager();",
          "new_line_content": "void Editor::updateQuicktool()",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "selectedTool",
          "new_api": null,
          "old_text": "activeToolManager->selectedTool()",
          "new_text": null,
          "old_line_content": "    tools::Tool* selectedTool = activeToolManager->selectedTool();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "getInk",
          "new_api": null,
          "old_text": "selectedTool->getInk(0)->isSelection()",
          "new_text": null,
          "old_line_content": "    if (selectedTool->getInk(0)->isSelection() &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)",
          "new_text": null,
          "old_line_content": "        int(m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)) != 0)",
          "new_line_content": "    // Don't change quicktools if we are in a selection tool and using",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "getQuickTool",
          "new_api": null,
          "old_text": "m_customizationDelegate->getQuickTool(selectedTool)",
          "new_text": null,
          "old_line_content": "      m_customizationDelegate->getQuickTool(selectedTool);",
          "new_line_content": "      return;",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()",
          "new_text": null,
          "old_line_content": "  auto activeToolManager = App::instance()->activeToolManager();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "isAutoSelectLayer",
          "new_api": null,
          "old_text": "isAutoSelectLayer()",
          "new_text": null,
          "old_line_content": "  const bool autoSelectLayer = isAutoSelectLayer();",
          "new_line_content": "void Editor::updateToolLoopModifiersIndicators()",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "hasCapture",
          "new_api": null,
          "old_text": "hasCapture()",
          "new_text": null,
          "old_line_content": "    if (hasCapture()) {",
          "new_line_content": "    // When the mouse is captured, is when we are scrolling, or",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()->selectedTool()",
          "new_text": null,
          "old_line_content": "        (App::instance()->activeToolManager()->selectedTool() ?",
          "new_line_content": "                     int(tools::ToolLoopModifiers::kSubtractSelection)));",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()->selectedTool()->getController(0)",
          "new_text": null,
          "old_line_content": "         App::instance()->activeToolManager()->selectedTool()->getController(0): nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::ShapeTool)",
          "new_text": null,
          "old_line_content": "        action = m_customizationDelegate->getPressedKeyAction(KeyContext::ShapeTool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "isFreehand",
          "new_api": null,
          "old_text": "controller->isFreehand()",
          "new_text": null,
          "old_line_content": "      if (controller && controller->isFreehand()) {",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::FreehandTool)",
          "new_text": null,
          "old_line_content": "        action = m_customizationDelegate->getPressedKeyAction(KeyContext::FreehandTool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)",
          "new_text": null,
          "old_line_content": "      action = m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "mode",
          "new_api": null,
          "old_text": "Preferences::instance().selection.mode()",
          "new_text": null,
          "old_line_content": "      gen::SelectionMode mode = Preferences::instance().selection.mode();",
          "new_line_content": "      // We update the selection mode only if we're not selecting.",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()->selectedTool()",
          "new_text": null,
          "old_line_content": "           App::instance()->activeToolManager()->selectedTool() &&",
          "new_line_content": "          // Don't use \"subtract\" mode if the selection was activated",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()->selectedTool()->getInk(0)->isSelection()",
          "new_text": null,
          "old_line_content": "           App::instance()->activeToolManager()->selectedTool()->getInk(0)->isSelection())) {",
          "new_line_content": "          // with the \"right click mode = a selection-like tool\"",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool)",
          "new_text": null,
          "old_line_content": "      action = m_customizationDelegate->getPressedKeyAction(KeyContext::MoveTool);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "autoSelectLayer",
          "new_api": null,
          "old_text": "Preferences::instance().editor.autoSelectLayer()",
          "new_text": null,
          "old_line_content": "        newAutoSelectLayer = Preferences::instance().editor.autoSelectLayer();",
          "new_line_content": "      if (int(action & KeyAction::AutoSelectLayer))",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "contextBar",
          "new_api": null,
          "old_text": "App::instance()->contextBar()",
          "new_text": null,
          "old_line_content": "  ContextBar* ctxBar = App::instance()->contextBar();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "get",
          "new_api": null,
          "old_text": "m_state.get()",
          "new_text": null,
          "old_line_content": "    if (auto drawingState = dynamic_cast<DrawingState*>(m_state.get())) {",
          "new_line_content": "    // TODO the contextbar should be a observer of the current editor",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "updateAutoSelectLayer",
          "new_api": null,
          "old_text": "ctxBar->updateAutoSelectLayer(newAutoSelectLayer)",
          "new_text": null,
          "old_line_content": "    ctxBar->updateAutoSelectLayer(newAutoSelectLayer);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "getSite",
          "new_api": null,
          "old_text": "getSite()",
          "new_text": null,
          "old_line_content": "  Site site = getSite();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "sprite",
          "new_api": null,
          "old_text": "site.sprite()",
          "new_text": null,
          "old_line_content": "  if (site.sprite()) {",
          "new_line_content": "app::Color Editor::getColorByPosition(const gfx::Point& mousePos)",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "screenToEditorF",
          "new_api": null,
          "old_text": "screenToEditorF(mousePos)",
          "new_text": null,
          "old_line_content": "    gfx::PointF editorPos = screenToEditorF(mousePos);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "color",
          "new_api": null,
          "old_text": "picker.color()",
          "new_text": null,
          "old_line_content": "    return picker.color();",
          "new_line_content": "    ColorPicker picker;",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "activeToolManager",
          "new_api": null,
          "old_text": "App::instance()->activeToolManager()->selectedTool()",
          "new_text": null,
          "old_line_content": "  tools::Tool* tool = App::instance()->activeToolManager()->selectedTool();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": "isActive",
          "new_api": null,
          "old_text": "isActive()",
          "new_text": null,
          "old_line_content": "    (isActive() &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "getCustomizationDelegate()\n      ->getPressedKeyAction(KeyContext::FreehandTool)",
          "new_text": null,
          "old_line_content": "     (getCustomizationDelegate()",
          "new_line_content": "     tool &&",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "empty",
          "new_api": null,
          "old_text": "m_deletedStates.empty()",
          "new_text": null,
          "old_line_content": "  if (!m_deletedStates.empty())",
          "new_line_content": "bool Editor::onProcessMessage(Message* msg)",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "clear",
          "new_api": null,
          "old_text": "m_deletedStates.clear()",
          "new_text": null,
          "old_line_content": "    m_deletedStates.clear();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "isVisible",
          "new_api": null,
          "old_text": "isVisible()",
          "new_text": null,
          "old_line_content": "        if (isVisible() && m_sprite) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "drawMaskSafe",
          "new_api": null,
          "old_text": "drawMaskSafe()",
          "new_text": null,
          "old_line_content": "          drawMaskSafe();",
          "new_line_content": "    case kTimerMessage:",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "isRunning",
          "new_api": null,
          "old_text": "m_antsTimer.isRunning()",
          "new_text": null,
          "old_line_content": "        else if (m_antsTimer.isRunning()) {",
          "new_line_content": "          else",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "stop",
          "new_api": null,
          "old_text": "m_antsTimer.stop()",
          "new_text": null,
          "old_line_content": "          m_antsTimer.stop();",
          "new_line_content": "            m_antsOffset = 0;",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "updateToolLoopModifiersIndicators",
          "new_api": null,
          "old_text": "updateToolLoopModifiersIndicators()",
          "new_text": null,
          "old_line_content": "      updateToolLoopModifiersIndicators();",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "updateQuicktool",
          "new_api": null,
          "old_text": "updateQuicktool()",
          "new_text": null,
          "old_line_content": "      updateQuicktool();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "hide",
          "new_api": null,
          "old_text": "m_brushPreview.hide()",
          "new_text": null,
          "old_line_content": "      m_brushPreview.hide();",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "clearText",
          "new_api": null,
          "old_text": "StatusBar::instance()->clearText()",
          "new_text": null,
          "old_line_content": "      StatusBar::instance()->clearText();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "position",
          "new_api": null,
          "old_text": "mouseMsg->position()",
          "new_text": null,
          "old_line_content": "        m_oldPos = mouseMsg->position();",
          "new_line_content": "      if (m_sprite) {",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "updateAutoCelGuides",
          "new_api": null,
          "old_text": "updateAutoCelGuides(msg)",
          "new_text": null,
          "old_line_content": "        updateAutoCelGuides(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "right",
          "new_api": null,
          "old_text": "mouseMsg->right()",
          "new_text": null,
          "old_line_content": "        if (mouseMsg->right() && !m_secondaryButton) {",
          "new_line_content": "        // Only when we right-click with the regular \"paint bg-color",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "updateToolLoopModifiersIndicators",
          "new_api": null,
          "old_text": "updateToolLoopModifiersIndicators()",
          "new_text": null,
          "old_line_content": "        updateToolLoopModifiersIndicators();",
          "new_line_content": "          m_secondaryButton = true;",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "updateQuicktool",
          "new_api": null,
          "old_text": "updateQuicktool()",
          "new_text": null,
          "old_line_content": "        updateQuicktool();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "position",
          "new_api": null,
          "old_text": "mouseMsg->position()",
          "new_text": null,
          "old_line_content": "        setCursor(mouseMsg->position());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "new_line_content": "    case kMouseMoveMessage:",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "pointerType",
          "new_api": null,
          "old_text": "mouseMsg->pointerType()",
          "new_text": null,
          "old_line_content": "        updateToolByTipProximity(mouseMsg->pointerType());",
          "new_line_content": "        EditorStatePtr holdState(m_state);",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "new_line_content": "    case kMouseUpMessage:",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "onMouseUp",
          "new_api": null,
          "old_text": "m_state->onMouseUp(this, mouseMsg)",
          "new_text": null,
          "old_line_content": "        bool result = m_state->onMouseUp(this, mouseMsg);",
          "new_line_content": "      if (m_sprite) {",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "updateQuicktool",
          "new_api": null,
          "old_text": "updateQuicktool()",
          "new_text": null,
          "old_line_content": "          updateQuicktool();",
          "new_line_content": "          m_secondaryButton = false;",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "position",
          "new_api": null,
          "old_text": "mouseMsg->position()",
          "new_text": null,
          "old_line_content": "          setCursor(mouseMsg->position());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        MouseMessage* mouseMsg = static_cast<MouseMessage*>(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "onDoubleClick",
          "new_api": null,
          "old_text": "m_state->onDoubleClick(this, mouseMsg)",
          "new_text": null,
          "old_line_content": "        bool used = m_state->onDoubleClick(this, mouseMsg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "static_cast<TouchMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<TouchMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        return m_state->onTouchMagnify(this, static_cast<TouchMessage*>(msg));",
          "new_line_content": "    case kTouchMagnifyMessage:",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "static_cast<KeyMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<KeyMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        bool used = m_state->onKeyDown(this, static_cast<KeyMessage*>(msg));",
          "new_line_content": "    case kKeyDownMessage:",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "updateToolLoopModifiersIndicators",
          "new_api": null,
          "old_text": "updateToolLoopModifiersIndicators()",
          "new_text": null,
          "old_line_content": "        updateToolLoopModifiersIndicators();",
          "new_line_content": "        EditorStatePtr holdState(m_state);",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "hasMouse",
          "new_api": null,
          "old_text": "hasMouse()",
          "new_text": null,
          "old_line_content": "        if (hasMouse()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "static_cast<KeyMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<KeyMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        bool used = m_state->onKeyUp(this, static_cast<KeyMessage*>(msg));",
          "new_line_content": "    case kKeyUpMessage:",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "updateToolLoopModifiersIndicators",
          "new_api": null,
          "old_text": "updateToolLoopModifiersIndicators()",
          "new_text": null,
          "old_line_content": "        updateToolLoopModifiersIndicators();",
          "new_line_content": "        EditorStatePtr holdState(m_state);",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "hasMouse",
          "new_api": null,
          "old_text": "hasMouse()",
          "new_text": null,
          "old_line_content": "        if (hasMouse()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "clearKeyboardBuffer",
          "new_api": null,
          "old_text": "she::instance()->clearKeyboardBuffer()",
          "new_text": null,
          "old_line_content": "      she::instance()->clearKeyboardBuffer();",
          "new_line_content": "    case kFocusLeaveMessage:",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "hasMouse",
          "new_api": null,
          "old_text": "hasMouse()",
          "new_text": null,
          "old_line_content": "      if (m_sprite && hasMouse()) {",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "static_cast<MouseMessage*>(msg)",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)",
          "new_text": null,
          "old_line_content": "        if (m_state->onMouseWheel(this, static_cast<MouseMessage*>(msg)))",
          "new_line_content": "    case kMouseWheelMessage:",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "position",
          "new_api": null,
          "old_text": "static_cast<MouseMessage*>(msg)->position()",
          "new_text": null,
          "old_line_content": "      setCursor(static_cast<MouseMessage*>(msg)->position());",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "Widget::onProcessMessage(msg)",
          "new_api": null,
          "old_text": "Widget::onProcessMessage(msg)",
          "new_text": null,
          "old_line_content": "  return Widget::onProcessMessage(msg);",
          "new_line_content": "      return true;",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "calcExtraPadding",
          "new_api": null,
          "old_text": "calcExtraPadding(m_proj)",
          "new_text": null,
          "old_line_content": "    gfx::Point padding = calcExtraPadding(m_proj);",
          "new_line_content": "  gfx::Size sz(0, 0);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "width",
          "new_api": null,
          "old_text": "m_sprite->width()",
          "new_text": null,
          "old_line_content": "    sz.w = m_proj.applyX(m_sprite->width()) + padding.x*2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "height",
          "new_api": null,
          "old_text": "m_sprite->height()",
          "new_text": null,
          "old_line_content": "    sz.h = m_proj.applyY(m_sprite->height()) + padding.y*2;",
          "new_line_content": "  if (m_sprite) {",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": "setSizeHint",
          "new_api": null,
          "old_text": "ev.setSizeHint(sz)",
          "new_text": null,
          "old_line_content": "  ev.setSizeHint(sz);",
          "new_line_content": "    sz.w = 4;",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "Widget::onResize(ev)",
          "new_api": null,
          "old_text": "Widget::onResize(ev)",
          "new_text": null,
          "old_line_content": "  Widget::onResize(ev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "calcExtraPadding",
          "new_api": null,
          "old_text": "calcExtraPadding(m_proj)",
          "new_text": null,
          "old_line_content": "  m_padding = calcExtraPadding(m_proj);",
          "new_line_content": "void Editor::onResize(ui::ResizeEvent& ev)",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "graphics",
          "new_api": null,
          "old_text": "ev.graphics()",
          "new_text": null,
          "old_line_content": "  Graphics* g = ev.graphics();",
          "new_line_content": "void Editor::onPaint(ui::PaintEvent& ev)",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "clientBounds",
          "new_api": null,
          "old_text": "clientBounds()",
          "new_text": null,
          "old_line_content": "  gfx::Rect rc = clientBounds();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "theme",
          "new_api": null,
          "old_text": "this->theme()",
          "new_text": null,
          "old_line_content": "  SkinTheme* theme = static_cast<SkinTheme*>(this->theme());",
          "new_line_content": "  HideBrushPreview hide(m_brushPreview);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": "editorFace",
          "new_api": null,
          "old_text": "theme->colors.editorFace()",
          "new_text": null,
          "old_line_content": "    g->fillRect(theme->colors.editorFace(), rc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "reset",
          "new_api": null,
          "old_text": "renderChrono.reset()",
          "new_text": null,
          "old_line_content": "      renderChrono.reset();",
          "new_line_content": "      DocumentReader documentReader(m_document, 250);",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "height",
          "new_api": null,
          "old_text": "m_sprite->height()",
          "new_text": null,
          "old_line_content": "      drawSpriteUnclippedRect(g, gfx::Rect(0, 0, m_sprite->width(), m_sprite->height()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "elapsed",
          "new_api": null,
          "old_text": "renderChrono.elapsed()",
          "new_text": null,
          "old_line_content": "      renderElapsed = renderChrono.elapsed();",
          "new_line_content": "      // Draw the sprite in the editor",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "        View* view = View::getView(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "        gfx::Rect vp = view->viewportBounds();",
          "new_line_content": "      // Show performance stats (TODO show performance stats in other widget)",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "origin",
          "new_api": null,
          "old_text": "bounds().origin()",
          "new_text": null,
          "old_line_content": "          vp.origin() - bounds().origin());",
          "new_line_content": "          buf,",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": "getMaskBoundaries",
          "new_api": null,
          "old_text": "m_document->getMaskBoundaries()",
          "new_text": null,
          "old_line_content": "      if (m_document->getMaskBoundaries()) {",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": "drawMask",
          "new_api": null,
          "old_text": "drawMask(g)",
          "new_text": null,
          "old_line_content": "        drawMask(g);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": "start",
          "new_api": null,
          "old_text": "m_antsTimer.start()",
          "new_text": null,
          "old_line_content": "        m_antsTimer.start();",
          "new_line_content": "      // Draw the mask boundaries",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "editorFace",
          "new_api": null,
          "old_text": "theme->colors.editorFace()",
          "new_text": null,
          "old_line_content": "      g->fillRect(theme->colors.editorFace(), rc);",
          "new_line_content": "    catch (const LockedDocumentException&) {",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "origin",
          "new_api": null,
          "old_text": "bounds().origin()",
          "new_text": null,
          "old_line_content": "      defer_invalid_rect(g->getClipBounds().offset(bounds().origin()));",
          "new_line_content": "      // The sprite is locked to be read, so we can draw an opaque",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "Widget::onInvalidateRegion(region)",
          "new_api": null,
          "old_text": "Widget::onInvalidateRegion(region)",
          "new_text": null,
          "old_line_content": "  Widget::onInvalidateRegion(region);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": "invalidateRegion",
          "new_api": null,
          "old_text": "m_brushPreview.invalidateRegion(region)",
          "new_text": null,
          "old_line_content": "  m_brushPreview.invalidateRegion(region);",
          "new_line_content": "void Editor::onInvalidateRegion(const gfx::Region& region)",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": "onActiveToolChange",
          "new_api": null,
          "old_text": "m_state->onActiveToolChange(this, tool)",
          "new_text": null,
          "old_line_content": "  m_state->onActiveToolChange(this, tool);",
          "new_line_content": "// When the current tool is changed",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "updateStatusBar",
          "new_api": null,
          "old_text": "updateStatusBar()",
          "new_text": null,
          "old_line_content": "  updateStatusBar();",
          "new_line_content": "void Editor::onActiveToolChange(tools::Tool* tool)",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": "redraw",
          "new_api": null,
          "old_text": "m_brushPreview.redraw()",
          "new_text": null,
          "old_line_content": "  m_brushPreview.redraw();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "redraw",
          "new_api": null,
          "old_text": "m_brushPreview.redraw()",
          "new_text": null,
          "old_line_content": "  m_brushPreview.redraw();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "  invalidate();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "sprite",
          "new_api": null,
          "old_text": "ev.sprite()",
          "new_text": null,
          "old_line_content": "  if (m_state && ev.sprite() == m_sprite)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "region",
          "new_api": null,
          "old_text": "ev.region()",
          "new_text": null,
          "old_line_content": "    m_state->onExposeSpritePixels(ev.region());",
          "new_line_content": "void Editor::onExposeSpritePixels(doc::DocumentEvent& ev)",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "sprite",
          "new_api": null,
          "old_text": "ev.sprite()->pixelRatio()",
          "new_text": null,
          "old_line_content": "  m_proj.setPixelRatio(ev.sprite()->pixelRatio());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "invalidate",
          "new_api": null,
          "old_text": "invalidate()",
          "new_text": null,
          "old_line_content": "  invalidate();",
          "new_line_content": "void Editor::onSpritePixelRatioChanged(doc::DocumentEvent& ev)",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "onSetCursor",
          "new_api": null,
          "old_text": "m_state->onSetCursor(this, mouseScreenPos)",
          "new_text": null,
          "old_line_content": "    used = m_state->onSetCursor(this, mouseScreenPos);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": "isImage",
          "new_api": null,
          "old_text": "m_layer->isImage()",
          "new_text": null,
          "old_line_content": "          m_layer->isImage() &&",
          "new_line_content": "bool Editor::canDraw()",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "isVisibleHierarchy",
          "new_api": null,
          "old_text": "m_layer->isVisibleHierarchy()",
          "new_text": null,
          "old_line_content": "          m_layer->isVisibleHierarchy() &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "isEditableHierarchy",
          "new_api": null,
          "old_text": "m_layer->isEditableHierarchy()",
          "new_text": null,
          "old_line_content": "          m_layer->isEditableHierarchy() &&",
          "new_line_content": "  return (m_layer != NULL &&",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": "ui::get_mouse_position()",
          "new_api": null,
          "old_text": "ui::get_mouse_position()",
          "new_text": null,
          "old_line_content": "  gfx::Point spritePos = screenToEditor(ui::get_mouse_position());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": "getPressedKeyAction",
          "new_api": null,
          "old_text": "m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool)",
          "new_text": null,
          "old_line_content": "  KeyAction action = m_customizationDelegate->getPressedKeyAction(KeyContext::SelectionTool);",
          "new_line_content": "bool Editor::isInsideSelection()",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": "isMaskVisible",
          "new_api": null,
          "old_text": "m_document->isMaskVisible()",
          "new_text": null,
          "old_line_content": "    m_document->isMaskVisible() &&",
          "new_line_content": "  return",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "mask",
          "new_api": null,
          "old_text": "m_document->mask()->containsPoint(spritePos.x, spritePos.y)",
          "new_text": null,
          "old_line_content": "    m_document->mask()->containsPoint(spritePos.x, spritePos.y);",
          "new_line_content": "    (action == KeyAction::None) &&",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": "isInsideSelection",
          "new_api": null,
          "old_text": "isInsideSelection()",
          "new_text": null,
          "old_line_content": "    isInsideSelection() &&",
          "new_line_content": "bool Editor::canStartMovingSelectionPixels()",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "moveOnAddMode",
          "new_api": null,
          "old_text": "Preferences::instance().selection.moveOnAddMode()",
          "new_text": null,
          "old_line_content": "      Preferences::instance().selection.moveOnAddMode()) ||",
          "new_line_content": "    ((int(m_toolLoopModifiers) & int(tools::ToolLoopModifiers::kReplaceSelection)) ||",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "getCurrentEditorInk",
          "new_api": null,
          "old_text": "getCurrentEditorInk()",
          "new_text": null,
          "old_line_content": "  tools::Ink* ink = getCurrentEditorInk();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "isSlice",
          "new_api": null,
          "old_text": "ink->isSlice()",
          "new_text": null,
          "old_line_content": "    if (ink->isSlice()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "slices",
          "new_api": null,
          "old_text": "m_docPref.show.slices()",
          "new_text": null,
          "old_line_content": "      if (m_docPref.show.slices()) {",
          "new_line_content": "  if (ink) {",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "slices",
          "new_api": null,
          "old_text": "m_sprite->slices()",
          "new_text": null,
          "old_line_content": "        for (auto slice : m_sprite->slices()) {",
          "new_line_content": "    // Check if we can transform slices",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "guiscale",
          "new_api": null,
          "old_text": "guiscale()",
          "new_text": null,
          "old_line_content": "                !bounds.shrink(5*guiscale()).contains(mouseScreenPos)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "x2",
          "new_api": null,
          "old_text": "bounds.x2()",
          "new_text": null,
          "old_line_content": "                (mouseScreenPos.x >= bounds.x2() ? RIGHT: 0) |",
          "new_line_content": "              int border =",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "y2",
          "new_api": null,
          "old_text": "bounds.y2()",
          "new_text": null,
          "old_line_content": "                (mouseScreenPos.y >= bounds.y2() ? BOTTOM: 0);",
          "new_line_content": "                (mouseScreenPos.x <= bounds.x ? LEFT: 0) |",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "setSlice",
          "new_api": null,
          "old_text": "hit.setSlice(slice)",
          "new_text": null,
          "old_line_content": "              hit.setSlice(slice);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "isEmpty",
          "new_api": null,
          "old_text": "center.isEmpty()",
          "new_text": null,
          "old_line_content": "            if (!center.isEmpty()) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": "offset",
          "new_api": null,
          "old_text": "editorToScreen(\n                center.offset(key->bounds().origin()))",
          "new_text": null,
          "old_line_content": "              center = editorToScreen(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "origin",
          "new_api": null,
          "old_text": "key->bounds().origin()",
          "new_text": null,
          "old_line_content": "                center.offset(key->bounds().origin()));",
          "new_line_content": "            // Move center",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "guiscale",
          "new_api": null,
          "old_text": "guiscale()",
          "new_text": null,
          "old_line_content": "              bool vert1 = gfx::Rect(center.x-2*guiscale(), bounds.y, 5*guiscale(), bounds.h).contains(mouseScreenPos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "setBorder",
          "new_api": null,
          "old_text": "hit.setBorder(border)",
          "new_text": null,
          "old_line_content": "                hit.setBorder(border);",
          "new_line_content": "                  (vert1 ? LEFT: 0) |",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": "setSlice",
          "new_api": null,
          "old_text": "hit.setSlice(slice)",
          "new_text": null,
          "old_line_content": "                hit.setSlice(slice);",
          "new_line_content": "                  (vert2 ? RIGHT: 0);",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": "contains",
          "new_api": null,
          "old_text": "bounds.contains(mouseScreenPos)",
          "new_text": null,
          "old_line_content": "            if (bounds.contains(mouseScreenPos)) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": "setBorder",
          "new_api": null,
          "old_text": "hit.setBorder(CENTER | MIDDLE)",
          "new_text": null,
          "old_line_content": "              hit.setBorder(CENTER | MIDDLE);",
          "new_line_content": "            // Move all the slice",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "EditorHit",
          "new_api": null,
          "old_text": "EditorHit(EditorHit::None)",
          "new_text": null,
          "old_line_content": "  return EditorHit(EditorHit::None);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "View::getView(this)",
          "new_api": null,
          "old_text": "View::getView(this)",
          "new_text": null,
          "old_line_content": "  View* view = View::getView(this);",
          "new_line_content": "                                     ZoomBehavior zoomBehavior)",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "viewportBounds",
          "new_api": null,
          "old_text": "view->viewportBounds()",
          "new_text": null,
          "old_line_content": "  Rect vp = view->viewportBounds();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "gfx::Point(vp.x + vp.w/2,\n                             vp.y + vp.h/2)",
          "new_api": null,
          "old_text": "gfx::Point(vp.x + vp.w/2,\n                             vp.y + vp.h/2)",
          "new_text": null,
          "old_line_content": "      screenPos = gfx::Point(vp.x + vp.w/2,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "screenToEditor",
          "new_api": null,
          "old_text": "screenToEditor(screenPos)",
          "new_text": null,
          "old_line_content": "  spritePos = screenToEditor(screenPos);",
          "new_line_content": "      screenPos = mousePos;",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "scaleX",
          "new_api": null,
          "old_text": "m_proj.scaleX()",
          "new_text": null,
          "old_line_content": "    if (m_proj.scaleX() > 1.0) {",
          "new_line_content": "  if (zoomBehavior == ZoomBehavior::MOUSE) {",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "scaleX",
          "new_api": null,
          "old_text": "m_proj.scaleX()",
          "new_text": null,
          "old_line_content": "      if (proj.scaleX() > m_proj.scaleX()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "scaleY",
          "new_api": null,
          "old_text": "m_proj.scaleY()",
          "new_text": null,
          "old_line_content": "    if (m_proj.scaleY() > 1.0) {",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "scaleY",
          "new_api": null,
          "old_text": "m_proj.scaleY()",
          "new_text": null,
          "old_line_content": "      subpixelPos.y = (0.5 + screenPos.y - screenPos2.y) / m_proj.scaleY();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": "scaleY",
          "new_api": null,
          "old_text": "m_proj.scaleY()",
          "new_text": null,
          "old_line_content": "      if (proj.scaleY() > m_proj.scaleY()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "calcExtraPadding",
          "new_api": null,
          "old_text": "calcExtraPadding(proj)",
          "new_text": null,
          "old_line_content": "  gfx::Point padding = calcExtraPadding(proj);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "applyX",
          "new_api": null,
          "old_text": "proj.applyX(subpixelPos.x)",
          "new_text": null,
          "old_line_content": "    padding.x - (screenPos.x-vp.x) + proj.applyX(spritePos.x+proj.removeX(1)/2) + int(proj.applyX(subpixelPos.x)),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "viewScroll",
          "new_api": null,
          "old_text": "view->viewScroll()",
          "new_text": null,
          "old_line_content": "  if ((m_proj.zoom() != zoom) || (screenPos != view->viewScroll())) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "setEditorScroll",
          "new_api": null,
          "old_text": "setEditorScroll(scrollPos)",
          "new_text": null,
          "old_line_content": "    setEditorScroll(scrollPos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(image)",
          "new_text": null,
          "old_line_content": "  ASSERT(image);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "getVisibleSpriteBounds",
          "new_api": null,
          "old_text": "getVisibleSpriteBounds()",
          "new_text": null,
          "old_line_content": "    gfx::Rect visibleBounds = getVisibleSpriteBounds();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "bounds",
          "new_api": null,
          "old_text": "image->bounds()",
          "new_text": null,
          "old_line_content": "    gfx::Rect imageBounds = image->bounds();",
          "new_line_content": "  base::UniquePtr<Mask> temp_mask;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 152,
      "total_additions": 345,
      "total_deletions": 344,
      "total_api_changes": 841
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 841,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          835,
          838
        ]
      }
    },
    "api_calls_before": 1123,
    "api_calls_after": 1124,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 1,
      "total_diff_lines": 18
    }
  }
}