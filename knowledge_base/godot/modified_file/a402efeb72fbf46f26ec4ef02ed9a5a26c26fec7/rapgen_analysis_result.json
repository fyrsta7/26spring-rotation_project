{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/a402efeb72fbf46f26ec4ef02ed9a5a26c26fec7",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/a402efeb72fbf46f26ec4ef02ed9a5a26c26fec7/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/a402efeb72fbf46f26ec4ef02ed9a5a26c26fec7/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/a402efeb72fbf46f26ec4ef02ed9a5a26c26fec7/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2011,
          "old_api": "write",
          "new_api": "resize",
          "old_text": "img.write()",
          "new_text": "img.resize(ls * 3)",
          "old_line_content": "\t\t\t\tPoolVector<uint8_t>::Write w = img.write();",
          "new_line_content": "\t\t\timg.resize(ls * 3);",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": "CLAMP",
          "new_api": "write",
          "old_text": "CLAMP(lightmap_ptr[i].light.x * 255, 0, 255)",
          "new_text": "img.write()",
          "old_line_content": "\t\t\t\t\tw[i * 3 + 0] = CLAMP(lightmap_ptr[i].light.x * 255, 0, 255);",
          "new_line_content": "\t\t\t\tPoolVector<uint8_t>::Write w = img.write();",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "get_name",
          "new_api": "create",
          "old_text": "p_mesh->get_name()",
          "new_text": "image->create(width, height, false, Image::FORMAT_RGB8, img)",
          "old_line_content": "\t\t\tString name = p_mesh->get_name();",
          "new_line_content": "\t\t\timage->create(width, height, false, Image::FORMAT_RGB8, img);",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": "get_instance_id",
          "new_api": "get_name",
          "old_text": "p_mesh->get_instance_id()",
          "new_text": "p_mesh->get_name()",
          "old_line_content": "\t\t\t\tname = \"Mesh\" + itos(p_mesh->get_instance_id());",
          "new_line_content": "\t\t\tString name = p_mesh->get_name();",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "save_png",
          "new_api": "get_instance_id",
          "old_text": "image->save_png(name + \".png\")",
          "new_text": "p_mesh->get_instance_id()",
          "old_line_content": "\t\t\timage->save_png(name + \".png\");",
          "new_line_content": "\t\t\t\tname = \"Mesh\" + itos(p_mesh->get_instance_id());",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": "affine_inverse",
          "new_api": "Vector3",
          "old_text": "to_bounds.affine_inverse()",
          "new_text": "Vector3(axis_cell_size[longest_axis], axis_cell_size[longest_axis], axis_cell_size[longest_axis])",
          "old_line_content": "\tto_cell_space = to_grid * to_bounds.affine_inverse();",
          "new_line_content": "\tto_grid.basis.scale(Vector3(axis_cell_size[longest_axis], axis_cell_size[longest_axis], axis_cell_size[longest_axis]));",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "ptr",
          "new_api": "write",
          "old_text": "w.ptr()",
          "new_text": "data.write()",
          "old_line_content": "\t\tuint32_t *w32 = (uint32_t *)w.ptr();",
          "new_line_content": "\t\tPoolVector<int>::Write w = data.write();",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "normalize",
          "new_api": "length",
          "old_text": "e.normalize()",
          "new_text": "e.length()",
          "old_line_content": "\t\t\t\t\te.normalize();",
          "new_line_content": "\t\t\t\tfloat l = e.length();",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": "set_transform_format",
          "new_api": "instance",
          "old_text": "mm->set_transform_format(MultiMesh::TRANSFORM_3D)",
          "new_text": "mm.instance()",
          "old_line_content": "\tmm->set_transform_format(MultiMesh::TRANSFORM_3D);",
          "new_line_content": "\tmm.instance();",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "itos",
          "new_api": "set_transform_format",
          "old_text": "itos(leaf_voxel_count)",
          "new_text": "mm->set_transform_format(MultiMesh::TRANSFORM_3D)",
          "old_line_content": "\tprint_line(\"leaf voxels: \" + itos(leaf_voxel_count));",
          "new_line_content": "\tmm->set_transform_format(MultiMesh::TRANSFORM_3D);",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": "set_instance_count",
          "new_api": "set_color_format",
          "old_text": "mm->set_instance_count(leaf_voxel_count)",
          "new_text": "mm->set_color_format(MultiMesh::COLOR_8BIT)",
          "old_line_content": "\tmm->set_instance_count(leaf_voxel_count);",
          "new_line_content": "\tmm->set_color_format(MultiMesh::COLOR_8BIT);",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": "set_flag",
          "new_api": "instance",
          "old_text": "fsm->set_flag(SpatialMaterial::FLAG_ALBEDO_FROM_VERTEX_COLOR, true)",
          "new_text": "fsm.instance()",
          "old_line_content": "\t\tfsm->set_flag(SpatialMaterial::FLAG_ALBEDO_FROM_VERTEX_COLOR, true);",
          "new_line_content": "\t\tfsm.instance();",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "Color",
          "new_api": "set_flag",
          "old_text": "Color(1, 1, 1, 1)",
          "new_text": "fsm->set_flag(SpatialMaterial::FLAG_ALBEDO_FROM_VERTEX_COLOR, true)",
          "old_line_content": "\t\tfsm->set_albedo(Color(1, 1, 1, 1));",
          "new_line_content": "\t\tfsm->set_flag(SpatialMaterial::FLAG_ALBEDO_FROM_VERTEX_COLOR, true);",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": "surface_set_material",
          "new_api": "Color",
          "old_text": "mesh->surface_set_material(0, fsm)",
          "new_text": "Color(1, 1, 1, 1)",
          "old_line_content": "\t\tmesh->surface_set_material(0, fsm);",
          "new_line_content": "\t\tfsm->set_albedo(Color(1, 1, 1, 1));",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": "write",
          "new_api": "resize",
          "old_text": "ret.write()",
          "new_text": "ret.resize(ret_bytes)",
          "old_line_content": "\t\tPoolVector<uint8_t>::Write w = ret.write();",
          "new_line_content": "\tret.resize(ret_bytes);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2048,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "material_cache.clear()",
          "old_line_content": "\t//find out the actual real bounds, power of 2, which gets the highest subdivision",
          "new_line_content": "\tmaterial_cache.clear();",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "set_instance_transform",
          "old_text": null,
          "new_text": "p_multimesh->set_instance_transform(idx, xform)",
          "old_line_content": "\t\tif (p_mode == DEBUG_ALBEDO) {",
          "new_line_content": "\t\tp_multimesh->set_instance_transform(idx, xform);",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": null,
          "new_api": "Color",
          "old_text": null,
          "new_text": "Color(bake_cells[p_idx].albedo[0], bake_cells[p_idx].albedo[1], bake_cells[p_idx].albedo[2])",
          "old_line_content": "\t\t\tfor (int i = 0; i < 6; i++) {",
          "new_line_content": "\t\t\tcol = Color(bake_cells[p_idx].albedo[0], bake_cells[p_idx].albedo[1], bake_cells[p_idx].albedo[2]);",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": null,
          "new_api": "get_longest_axis_index",
          "old_text": null,
          "new_text": "po2_bounds.get_longest_axis_index()",
          "old_line_content": "\tleaf_voxel_count = 0;",
          "new_line_content": "\tint longest_axis = po2_bounds.get_longest_axis_index();",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": null,
          "new_api": "_find_cell_at_pos",
          "old_text": null,
          "new_text": "_find_cell_at_pos(cells, ofs_x, ofs_y, ofs_z)",
          "old_line_content": "\t\t\t\t\t\tif (cell == CHILD_EMPTY)",
          "new_line_content": "\t\t\t\t\t\tuint32_t cell = _find_cell_at_pos(cells, ofs_x, ofs_y, ofs_z);",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(p_subdiv, cell_subdiv)",
          "old_line_content": "\tVector<uint32_t> remap;",
          "new_line_content": "\tp_subdiv = MIN(p_subdiv, cell_subdiv); // use the smaller one",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": null,
          "new_api": "dot",
          "old_text": null,
          "new_text": "pixel->normal.dot(aniso_normal[l])",
          "old_line_content": "\t\t\t\t\t\t\t\ts = 0;",
          "new_line_content": "\t\t\t\t\t\t\tfloat s = pixel->normal.dot(aniso_normal[l]);",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "bake_cells.size()",
          "old_line_content": "\tVector<uint32_t> demap;",
          "new_line_content": "\tint bc = bake_cells.size();",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": null,
          "new_api": "set_instance_color",
          "old_text": null,
          "new_text": "p_multimesh->set_instance_color(idx, col)",
          "old_line_content": "\t\tidx++;",
          "new_line_content": "\t\tp_multimesh->set_instance_color(idx, col);",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "remap.resize(bc)",
          "old_line_content": "",
          "new_line_content": "\tremap.resize(bc);",
          "content_same": false
        },
        {
          "line": 2328,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "demap.push_back(i)",
          "old_line_content": "\t\tremap[i] = c;",
          "new_line_content": "\t\t\tdemap.push_back(i);",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3(po2_bounds.size[longest_axis], po2_bounds.size[longest_axis], po2_bounds.size[longest_axis])",
          "old_line_content": "",
          "new_line_content": "\tto_bounds.basis.scale(Vector3(po2_bounds.size[longest_axis], po2_bounds.size[longest_axis], po2_bounds.size[longest_axis]));",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "octree.resize(new_size)",
          "old_line_content": "\tfor (int i = 0; i < new_size; i++) {",
          "new_line_content": "\toctree.resize(new_size);",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "affine_inverse",
          "old_text": null,
          "new_text": "to_bounds.affine_inverse()",
          "old_line_content": "\tcell_size = po2_bounds.size[longest_axis] / axis_cell_size[longest_axis];",
          "new_line_content": "\tto_cell_space = to_grid * to_bounds.affine_inverse();",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3()",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (lightmap_ptr[i * width + j].normal != Vector3()) {",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "_fixup_plot",
          "old_text": null,
          "new_text": "_fixup_plot(0, 0)",
          "old_line_content": "",
          "new_line_content": "\t_fixup_plot(0, 0);",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": null,
          "new_api": "_debug_mesh",
          "old_text": null,
          "new_text": "_debug_mesh(bake_cells[p_idx].childs[i], p_level + 1, aabb, p_multimesh, idx, p_mode)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t_debug_mesh(bake_cells[p_idx].childs[i], p_level + 1, aabb, p_multimesh, idx, p_mode);",
          "content_same": false
        },
        {
          "line": 2342,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(l * 1024, 0, 65535)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\toctree[i].light[j][k] = CLAMP(l * 1024, 0, 65535); //give two more bits to octree",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "bake_cells.size()",
          "old_line_content": "\t{",
          "new_line_content": "\tdata.resize(16 + (8 + 1 + 1 + 1 + 1) * bake_cells.size()); //4 for header, rest for rest.",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "bake_light.size()",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND_V(p_mode == DEBUG_LIGHT && bake_light.size() == 0, mm);",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "octree.size()",
          "old_line_content": "\t{",
          "new_line_content": "\tint ret_bytes = octree.size() * sizeof(VoxelLightBakerOctree);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "w.ptr()",
          "old_line_content": "\t\tw32[0] = 0; //version",
          "new_line_content": "\t\tuint32_t *w32 = (uint32_t *)w.ptr();",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(leaf_voxel_count)",
          "old_line_content": "",
          "new_line_content": "\tprint_line(\"leaf voxels: \" + itos(leaf_voxel_count));",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": null,
          "new_api": "set_instance_count",
          "old_text": null,
          "new_text": "mm->set_instance_count(leaf_voxel_count)",
          "old_line_content": "\tRef<ArrayMesh> mesh;",
          "new_line_content": "\tmm->set_instance_count(leaf_voxel_count);",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": null,
          "new_api": "write",
          "old_text": null,
          "new_text": "ret.write()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tPoolVector<uint8_t>::Write w = ret.write();",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": null,
          "new_api": "instance",
          "old_text": null,
          "new_text": "mesh.instance()",
          "old_line_content": "\t{",
          "new_line_content": "\tmesh.instance();",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "octree.ptr()",
          "old_line_content": "",
          "new_line_content": "\t\tcopymem(w.ptr(), octree.ptr(), ret_bytes);",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\tif (lightmap_ptr[y * width + x].normal == Vector3())",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "bake_cells.size()",
          "old_line_content": "",
          "new_line_content": "\t\tw32[5] = bake_cells.size();",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "arr.resize(Mesh::ARRAY_MAX)",
          "old_line_content": "\t\tPoolVector<Vector3> vertices;",
          "new_line_content": "\t\tarr.resize(Mesh::ARRAY_MAX);",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "Vector2(i - y, j - x).length()",
          "old_line_content": "\t\t\t\t\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\t\t\tfloat dist = Vector2(i - y, j - x).length();",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "bake_cells.resize(1)",
          "old_line_content": "",
          "new_line_content": "\tbake_cells.resize(1);",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "bake_cells.size()",
          "old_line_content": "\t\t\tfor (int j = 0; j < 8; j++) {",
          "new_line_content": "\t\tfor (int i = 0; i < bake_cells.size(); i++) {",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(bake_cells[i].albedo[1] * 255.0, 0, 255)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\trgba |= uint32_t(CLAMP(bake_cells[i].albedo[1] * 255.0, 0, 255)) << 8;",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(bake_cells[i].albedo[2] * 255.0, 0, 255)",
          "old_line_content": "\t\t\t\tw32[ofs++] = rgba;",
          "new_line_content": "\t\t\t\trgba |= uint32_t(CLAMP(bake_cells[i].albedo[2] * 255.0, 0, 255)) << 0;",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": null,
          "new_api": "write",
          "old_text": null,
          "new_text": "r_lightmap.light.write()",
          "old_line_content": "\t\t\t\tw[i * 3 + 0] = lightmap[i].light.x;",
          "new_line_content": "\t\t\tPoolVector<float>::Write w = r_lightmap.light.write();",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "lightmap.size()",
          "old_line_content": "\t\t\t\tw[i * 3 + 1] = lightmap[i].light.y;",
          "new_line_content": "\t\t\tfor (int i = 0; i < lightmap.size(); i++) {",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": null,
          "new_api": "normalize",
          "old_text": null,
          "new_text": "e.normalize()",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\te.normalize();",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(l / 8.0, 0, 1.0)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tl = CLAMP(l / 8.0, 0, 1.0);",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(e[2] * 255, 0, 255)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tem |= uint32_t(CLAMP(e[2] * 255, 0, 255)) << 8;",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(l * 255, 0, 255)",
          "old_line_content": "\t\t\t\tw32[ofs++] = em;",
          "new_line_content": "\t\t\t\tem |= uint32_t(CLAMP(l * 255, 0, 255));",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "lightmap.size()",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tint ls = lightmap.size();",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": null,
          "new_api": "ADD_VTX",
          "old_text": null,
          "new_text": "ADD_VTX(1)",
          "old_line_content": "\t\t\t//tri 2",
          "new_line_content": "\t\t\tADD_VTX(1);",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(lightmap_ptr[i].light.y * 255, 0, 255)",
          "old_line_content": "\t\t\t\t\t//w[i * 3 + 0] = CLAMP(lightmap_ptr[i].normal.x * 255, 0, 255);",
          "new_line_content": "\t\t\t\t\tw[i * 3 + 1] = CLAMP(lightmap_ptr[i].light.y * 255, 0, 255);",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(lightmap_ptr[i].light.z * 255, 0, 255)",
          "old_line_content": "\t\t\t\t\t//w[i * 3 + 1] = CLAMP(lightmap_ptr[i].normal.y * 255, 0, 255);",
          "new_line_content": "\t\t\t\t\tw[i * 3 + 2] = CLAMP(lightmap_ptr[i].light.z * 255, 0, 255);",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3(0.5, 0.5, 0.5)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tn = n * Vector3(0.5, 0.5, 0.5) + Vector3(0.5, 0.5, 0.5);",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": null,
          "new_api": "ADD_VTX",
          "old_text": null,
          "new_text": "ADD_VTX(3)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tADD_VTX(3);",
          "content_same": false
        },
        {
          "line": 2275,
          "old_api": null,
          "new_api": "ADD_VTX",
          "old_text": null,
          "new_text": "ADD_VTX(0)",
          "old_line_content": "",
          "new_line_content": "\t\t\tADD_VTX(0);",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(n.y * 255.0, 0, 255)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tnorm |= uint32_t(CLAMP(n.y * 255.0, 0, 255)) << 8;",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(n.z * 255.0, 0, 255)",
          "old_line_content": "\t\t\t\tw32[ofs++] = norm;",
          "new_line_content": "\t\t\t\tnorm |= uint32_t(CLAMP(n.z * 255.0, 0, 255)) << 0;",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": null,
          "new_api": "add_surface_from_arrays",
          "old_text": null,
          "new_text": "mesh->add_surface_from_arrays(Mesh::PRIMITIVE_TRIANGLES, arr)",
          "old_line_content": "",
          "new_line_content": "\t\tmesh->add_surface_from_arrays(Mesh::PRIMITIVE_TRIANGLES, arr);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tif (pixel->pos == Vector3())",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "instance",
          "old_text": null,
          "new_text": "image.instance()",
          "old_line_content": "",
          "new_line_content": "\t\t\timage.instance();",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "CLAMP",
          "old_text": null,
          "new_text": "CLAMP(uint32_t(bake_cells[i].alpha * 65535.0), 0, 65535)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tuint16_t alpha = CLAMP(uint32_t(bake_cells[i].alpha * 65535.0), 0, 65535);",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": null,
          "new_api": "set_flag",
          "old_text": null,
          "new_text": "fsm->set_flag(SpatialMaterial::FLAG_UNSHADED, true)",
          "old_line_content": "",
          "new_line_content": "\t\tfsm->set_flag(SpatialMaterial::FLAG_UNSHADED, true);",
          "content_same": false
        },
        {
          "line": 2291,
          "old_api": null,
          "new_api": "surface_set_material",
          "old_text": null,
          "new_text": "mesh->surface_set_material(0, fsm)",
          "old_line_content": "",
          "new_line_content": "\t\tmesh->surface_set_material(0, fsm);",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "save_png",
          "old_text": null,
          "new_text": "image->save_png(name + \".png\")",
          "old_line_content": "#endif",
          "new_line_content": "\t\t\timage->save_png(name + \".png\");",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": null,
          "new_api": "set_mesh",
          "old_text": null,
          "new_text": "mm->set_mesh(mesh)",
          "old_line_content": "\tint idx = 0;",
          "new_line_content": "\tmm->set_mesh(mesh);",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": null,
          "new_api": "_debug_mesh",
          "old_text": null,
          "new_text": "_debug_mesh(0, 0, po2_bounds, mm, idx, p_mode)",
          "old_line_content": "\treturn mm;",
          "new_line_content": "\t_debug_mesh(0, 0, po2_bounds, mm, idx, p_mode);",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "scale",
          "old_text": null,
          "new_text": "xform.basis.scale(p_aabb.size * 0.5)",
          "old_line_content": "\t\tColor col;",
          "new_line_content": "\t\txform.basis.scale(p_aabb.size * 0.5);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2177,
          "old_api": "Color",
          "new_api": null,
          "old_text": "Color(bake_cells[p_idx].albedo[0], bake_cells[p_idx].albedo[1], bake_cells[p_idx].albedo[2])",
          "new_text": null,
          "old_line_content": "\t\t\tcol = Color(bake_cells[p_idx].albedo[0], bake_cells[p_idx].albedo[1], bake_cells[p_idx].albedo[2]);",
          "new_line_content": "\t\tColor col;",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": "get_longest_axis_index",
          "new_api": null,
          "old_text": "po2_bounds.get_longest_axis_index()",
          "new_text": null,
          "old_line_content": "\tint longest_axis = po2_bounds.get_longest_axis_index();",
          "new_line_content": "\t//find out the actual real bounds, power of 2, which gets the highest subdivision",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "_find_cell_at_pos",
          "new_api": null,
          "old_text": "_find_cell_at_pos(cells, ofs_x, ofs_y, ofs_z)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tuint32_t cell = _find_cell_at_pos(cells, ofs_x, ofs_y, ofs_z);",
          "new_line_content": "\t\t\t\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2313,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(p_subdiv, cell_subdiv)",
          "new_text": null,
          "old_line_content": "\tp_subdiv = MIN(p_subdiv, cell_subdiv); // use the smaller one",
          "new_line_content": "PoolVector<uint8_t> VoxelLightBaker::create_capture_octree(int p_subdiv) {",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "dot",
          "new_api": null,
          "old_text": "pixel->normal.dot(aniso_normal[l])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tfloat s = pixel->normal.dot(aniso_normal[l]);",
          "new_line_content": "\t\t\t\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "size",
          "new_api": null,
          "old_text": "bake_cells.size()",
          "new_text": null,
          "old_line_content": "\tint bc = bake_cells.size();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "set_instance_color",
          "new_api": null,
          "old_text": "p_multimesh->set_instance_color(idx, col)",
          "new_text": null,
          "old_line_content": "\t\tp_multimesh->set_instance_color(idx, col);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": "resize",
          "new_api": null,
          "old_text": "remap.resize(bc)",
          "new_text": null,
          "old_line_content": "\tremap.resize(bc);",
          "new_line_content": "\tVector<uint32_t> remap;",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "demap.push_back(i)",
          "new_text": null,
          "old_line_content": "\t\t\tdemap.push_back(i);",
          "new_line_content": "\t\t\tc = new_size;",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3(po2_bounds.size[longest_axis], po2_bounds.size[longest_axis], po2_bounds.size[longest_axis])",
          "new_text": null,
          "old_line_content": "\tto_bounds.basis.scale(Vector3(po2_bounds.size[longest_axis], po2_bounds.size[longest_axis], po2_bounds.size[longest_axis]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3(axis_cell_size[longest_axis], axis_cell_size[longest_axis], axis_cell_size[longest_axis])",
          "new_text": null,
          "old_line_content": "\tto_grid.basis.scale(Vector3(axis_cell_size[longest_axis], axis_cell_size[longest_axis], axis_cell_size[longest_axis]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": "resize",
          "new_api": null,
          "old_text": "octree.resize(new_size)",
          "new_text": null,
          "old_line_content": "\toctree.resize(new_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (lightmap_ptr[i * width + j].normal != Vector3()) {",
          "new_line_content": "\t\t\tfor (int i = 0; i < height; i++) {",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "_fixup_plot",
          "new_api": null,
          "old_text": "_fixup_plot(0, 0)",
          "new_text": null,
          "old_line_content": "\t_fixup_plot(0, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": "_debug_mesh",
          "new_api": null,
          "old_text": "_debug_mesh(bake_cells[p_idx].childs[i], p_level + 1, aabb, p_multimesh, idx, p_mode)",
          "new_text": null,
          "old_line_content": "\t\t\t_debug_mesh(bake_cells[p_idx].childs[i], p_level + 1, aabb, p_multimesh, idx, p_mode);",
          "new_line_content": "\t\t\t\taabb.position.z += aabb.size.z;",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(l * 1024, 0, 65535)",
          "new_text": null,
          "old_line_content": "\t\t\t\toctree[i].light[j][k] = CLAMP(l * 1024, 0, 65535); //give two more bits to octree",
          "new_line_content": "\t\t\t\tfloat l = bake_light[demap[i]].accum[j][k]; //add anisotropic light",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "size",
          "new_api": null,
          "old_text": "bake_cells.size()",
          "new_text": null,
          "old_line_content": "\tdata.resize(16 + (8 + 1 + 1 + 1 + 1) * bake_cells.size()); //4 for header, rest for rest.",
          "new_line_content": "\tPoolVector<int> data;",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": "size",
          "new_api": null,
          "old_text": "bake_light.size()",
          "new_text": null,
          "old_line_content": "\tERR_FAIL_COND_V(p_mode == DEBUG_LIGHT && bake_light.size() == 0, mm);",
          "new_line_content": "\tRef<MultiMesh> mm;",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": "instance",
          "new_api": null,
          "old_text": "mm.instance()",
          "new_text": null,
          "old_line_content": "\tmm.instance();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "write",
          "new_api": null,
          "old_text": "data.write()",
          "new_text": null,
          "old_line_content": "\t\tPoolVector<int>::Write w = data.write();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "set_color_format",
          "new_api": null,
          "old_text": "mm->set_color_format(MultiMesh::COLOR_8BIT)",
          "new_text": null,
          "old_line_content": "\tmm->set_color_format(MultiMesh::COLOR_8BIT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "size",
          "new_api": null,
          "old_text": "octree.size()",
          "new_text": null,
          "old_line_content": "\tint ret_bytes = octree.size() * sizeof(VoxelLightBakerOctree);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "resize",
          "new_api": null,
          "old_text": "ret.resize(ret_bytes)",
          "new_text": null,
          "old_line_content": "\tret.resize(ret_bytes);",
          "new_line_content": "\tPoolVector<uint8_t> ret;",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "octree.ptr()",
          "new_text": null,
          "old_line_content": "\t\tcopymem(w.ptr(), octree.ptr(), ret_bytes);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tif (lightmap_ptr[y * width + x].normal == Vector3())",
          "new_line_content": "\t\t\t\t\t\t\tif (y < 0 || y >= height)",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": "instance",
          "new_api": null,
          "old_text": "mesh.instance()",
          "new_text": null,
          "old_line_content": "\tmesh.instance();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "length",
          "new_api": null,
          "old_text": "Vector2(i - y, j - x).length()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tfloat dist = Vector2(i - y, j - x).length();",
          "new_line_content": "\t\t\t\t\t\t\t\tcontinue; //also ensures that blitted stuff is not reused",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "resize",
          "new_api": null,
          "old_text": "bake_cells.resize(1)",
          "new_text": null,
          "old_line_content": "\tbake_cells.resize(1);",
          "new_line_content": "\toriginal_bounds = p_bounds;",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "size",
          "new_api": null,
          "old_text": "bake_cells.size()",
          "new_text": null,
          "old_line_content": "\t\tw32[5] = bake_cells.size();",
          "new_line_content": "\t\tw32[3] = axis_cell_size[1];",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "resize",
          "new_api": null,
          "old_text": "arr.resize(Mesh::ARRAY_MAX)",
          "new_text": null,
          "old_line_content": "\t\tarr.resize(Mesh::ARRAY_MAX);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "clear",
          "new_api": null,
          "old_text": "material_cache.clear()",
          "new_text": null,
          "old_line_content": "\tmaterial_cache.clear();",
          "new_line_content": "\tcell_subdiv = p_subdiv;",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "size",
          "new_api": null,
          "old_text": "bake_cells.size()",
          "new_text": null,
          "old_line_content": "\t\tfor (int i = 0; i < bake_cells.size(); i++) {",
          "new_line_content": "\t\tint ofs = 16;",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(bake_cells[i].albedo[0] * 255.0, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\tuint32_t rgba = uint32_t(CLAMP(bake_cells[i].albedo[0] * 255.0, 0, 255)) << 16;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(bake_cells[i].albedo[1] * 255.0, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\trgba |= uint32_t(CLAMP(bake_cells[i].albedo[1] * 255.0, 0, 255)) << 8;",
          "new_line_content": "\t\t\t{ //albedo",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "size",
          "new_api": null,
          "old_text": "lightmap.size()",
          "new_text": null,
          "old_line_content": "\t\t\tr_lightmap.light.resize(lightmap.size() * 3);",
          "new_line_content": "\t\t\tr_lightmap.width = width;",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "write",
          "new_api": null,
          "old_text": "r_lightmap.light.write()",
          "new_text": null,
          "old_line_content": "\t\t\tPoolVector<float>::Write w = r_lightmap.light.write();",
          "new_line_content": "\t\t\tr_lightmap.height = height;",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "length",
          "new_api": null,
          "old_text": "e.length()",
          "new_text": null,
          "old_line_content": "\t\t\t\tfloat l = e.length();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(l / 8.0, 0, 1.0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tl = CLAMP(l / 8.0, 0, 1.0);",
          "new_line_content": "\t\t\t\tif (l > 0) {",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(e[0] * 255, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\tuint32_t em = uint32_t(CLAMP(e[0] * 255, 0, 255)) << 24;",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(e[1] * 255, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\tem |= uint32_t(CLAMP(e[1] * 255, 0, 255)) << 16;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "size",
          "new_api": null,
          "old_text": "lightmap.size()",
          "new_text": null,
          "old_line_content": "\t\t\tint ls = lightmap.size();",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "resize",
          "new_api": null,
          "old_text": "img.resize(ls * 3)",
          "new_text": null,
          "old_line_content": "\t\t\timg.resize(ls * 3);",
          "new_line_content": "\t\t\tPoolVector<uint8_t> img;",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": "ADD_VTX",
          "new_api": null,
          "old_text": "ADD_VTX(0)",
          "new_text": null,
          "old_line_content": "\t\t\tADD_VTX(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": "ADD_VTX",
          "new_api": null,
          "old_text": "ADD_VTX(1)",
          "new_text": null,
          "old_line_content": "\t\t\tADD_VTX(1);",
          "new_line_content": "\t\t\t//tri 1",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(lightmap_ptr[i].light.y * 255, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tw[i * 3 + 1] = CLAMP(lightmap_ptr[i].light.y * 255, 0, 255);",
          "new_line_content": "\t\t\t\tfor (int i = 0; i < ls; i++) {",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3(0.5, 0.5, 0.5)",
          "new_text": null,
          "old_line_content": "\t\t\t\tn = n * Vector3(0.5, 0.5, 0.5) + Vector3(0.5, 0.5, 0.5);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": "ADD_VTX",
          "new_api": null,
          "old_text": "ADD_VTX(3)",
          "new_text": null,
          "old_line_content": "\t\t\tADD_VTX(3);",
          "new_line_content": "\t\t\t//tri 2",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(n.x * 255.0, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\tnorm |= uint32_t(CLAMP(n.x * 255.0, 0, 255)) << 16;",
          "new_line_content": "\t\t\t\tuint32_t norm = 0;",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(n.y * 255.0, 0, 255)",
          "new_text": null,
          "old_line_content": "\t\t\t\tnorm |= uint32_t(CLAMP(n.y * 255.0, 0, 255)) << 8;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (pixel->pos == Vector3())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": "add_surface_from_arrays",
          "new_api": null,
          "old_text": "mesh->add_surface_from_arrays(Mesh::PRIMITIVE_TRIANGLES, arr)",
          "new_text": null,
          "old_line_content": "\t\tmesh->add_surface_from_arrays(Mesh::PRIMITIVE_TRIANGLES, arr);",
          "new_line_content": "\t\tarr[Mesh::ARRAY_VERTEX] = vertices;",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "instance",
          "new_api": null,
          "old_text": "image.instance()",
          "new_text": null,
          "old_line_content": "\t\t\timage.instance();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "CLAMP",
          "new_api": null,
          "old_text": "CLAMP(uint32_t(bake_cells[i].alpha * 65535.0), 0, 65535)",
          "new_text": null,
          "old_line_content": "\t\t\t\tuint16_t alpha = CLAMP(uint32_t(bake_cells[i].alpha * 65535.0), 0, 65535);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "instance",
          "new_api": null,
          "old_text": "fsm.instance()",
          "new_text": null,
          "old_line_content": "\t\tfsm.instance();",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": "set_flag",
          "new_api": null,
          "old_text": "fsm->set_flag(SpatialMaterial::FLAG_SRGB_VERTEX_COLOR, true)",
          "new_text": null,
          "old_line_content": "\t\tfsm->set_flag(SpatialMaterial::FLAG_SRGB_VERTEX_COLOR, true);",
          "new_line_content": "\t\tRef<SpatialMaterial> fsm;",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "create",
          "new_api": null,
          "old_text": "image->create(width, height, false, Image::FORMAT_RGB8, img)",
          "new_text": null,
          "old_line_content": "\t\t\timage->create(width, height, false, Image::FORMAT_RGB8, img);",
          "new_line_content": "\t\t\tRef<Image> image;",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": "set_mesh",
          "new_api": null,
          "old_text": "mm->set_mesh(mesh)",
          "new_text": null,
          "old_line_content": "\tmm->set_mesh(mesh);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": "_debug_mesh",
          "new_api": null,
          "old_text": "_debug_mesh(0, 0, po2_bounds, mm, idx, p_mode)",
          "new_text": null,
          "old_line_content": "\t_debug_mesh(0, 0, po2_bounds, mm, idx, p_mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "scale",
          "new_api": null,
          "old_text": "xform.basis.scale(p_aabb.size * 0.5)",
          "new_text": null,
          "old_line_content": "\t\txform.basis.scale(p_aabb.size * 0.5);",
          "new_line_content": "\t\tTransform xform;",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": "set_instance_transform",
          "new_api": null,
          "old_text": "p_multimesh->set_instance_transform(idx, xform)",
          "new_text": null,
          "old_line_content": "\t\tp_multimesh->set_instance_transform(idx, xform);",
          "new_line_content": "\t\txform.origin = center;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 15,
      "total_additions": 60,
      "total_deletions": 60,
      "total_api_changes": 135
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 135,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          1888,
          1784,
          1881,
          1882,
          1883,
          1886
        ]
      }
    },
    "api_calls_before": 518,
    "api_calls_after": 518,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 3,
      "total_diff_lines": 31
    }
  }
}