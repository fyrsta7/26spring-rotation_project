{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/565f9c0448cabfffbca76003143893a9f5afc3dc",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/565f9c0448cabfffbca76003143893a9f5afc3dc/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/565f9c0448cabfffbca76003143893a9f5afc3dc/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/godot/modified_file/565f9c0448cabfffbca76003143893a9f5afc3dc/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2257,
          "old_api": "push_back",
          "new_api": "voxel_gi_get_sdf_texture",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->voxel_gi_get_sdf_texture(probe)",
          "old_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(storage->voxel_gi_get_sdf_texture(probe));",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "push_back",
          "new_api": "sampler_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "old_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "uniforms.push_back(u)",
          "new_text": "dynamic_maps.size()",
          "old_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\t\t\t\tu.ids.push_back(dynamic_maps[dynamic_maps.size() - 1].texture);",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "uniforms.push_back(u)",
          "new_text": "dynamic_maps.size()",
          "old_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\t\t\t\tu.ids.push_back(dynamic_maps[dynamic_maps.size() - 1].depth);",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "push_back",
          "new_api": "voxel_gi_get_sdf_texture",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->voxel_gi_get_sdf_texture(probe)",
          "old_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\t\t\t\tu.ids.push_back(storage->voxel_gi_get_sdf_texture(probe));",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "push_back",
          "new_api": "sampler_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "old_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\t\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "affine_inverse",
          "new_api": "voxel_gi_get_to_cell_xform",
          "old_text": "to_cell.affine_inverse()",
          "new_text": "storage->voxel_gi_get_to_cell_xform(probe)",
          "old_line_content": "\t\t\tTransform3D to_probe_xform = (transform * to_cell.affine_inverse()).affine_inverse();",
          "new_line_content": "\t\t\tTransform3D to_cell = storage->voxel_gi_get_to_cell_xform(probe);",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": "light_directional_is_sky_only",
          "new_api": "light_get_type",
          "old_text": "storage->light_directional_is_sky_only(light)",
          "new_text": "storage->light_get_type(light)",
          "old_line_content": "\t\t\t\tif (l.type == RS::LIGHT_DIRECTIONAL && storage->light_directional_is_sky_only(light)) {",
          "new_line_content": "\t\t\t\tl.type = storage->light_get_type(light);",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": "to_linear",
          "new_api": "light_get_param",
          "old_text": "storage->light_get_color(light).to_linear()",
          "new_text": "storage->light_get_param(light, RS::LIGHT_PARAM_RANGE)",
          "old_line_content": "\t\t\t\tColor color = storage->light_get_color(light).to_linear();",
          "new_line_content": "\t\t\t\tl.radius = to_cell.basis.xform(Vector3(storage->light_get_param(light, RS::LIGHT_PARAM_RANGE), 0, 0)).length();",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": "get_axis",
          "new_api": "xform",
          "old_text": "xform.basis.get_axis(2)",
          "new_text": "to_probe_xform.xform(xform.origin)",
          "old_line_content": "\t\t\t\tVector3 dir = to_probe_xform.basis.xform(-xform.basis.get_axis(2)).normalized();",
          "new_line_content": "\t\t\t\tVector3 pos = to_probe_xform.xform(xform.origin);",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": "voxel_gi_get_dynamic_range",
          "new_api": "voxel_gi_get_propagation",
          "old_text": "storage->voxel_gi_get_dynamic_range(probe)",
          "new_text": "storage->voxel_gi_get_propagation(probe)",
          "old_line_content": "\t\t\tpush_constant.dynamic_range = storage->voxel_gi_get_dynamic_range(probe);",
          "new_line_content": "\t\t\tpush_constant.propagation = storage->voxel_gi_get_propagation(probe);",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": "compute_list_set_push_constant",
          "new_api": "MIN",
          "old_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant))",
          "new_text": "MIN(wg_todo, wg_limit_x)",
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant));",
          "new_line_content": "\t\t\t\t\t\t\tint wg_count = MIN(wg_todo, wg_limit_x);",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "compute_list_dispatch",
          "new_api": "compute_list_set_push_constant",
          "old_text": "RD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1)",
          "new_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant))",
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1);",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant));",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "compute_list_bind_uniform_set",
          "new_api": "size",
          "old_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].write_uniform_set, 0)",
          "new_text": "mipmaps.size()",
          "old_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].write_uniform_set, 0);",
          "new_line_content": "\t\t\t\tfor (int i = 0; i < mipmaps.size(); i++) {",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "compute_list_set_push_constant",
          "new_api": "MIN",
          "old_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant))",
          "new_text": "MIN(wg_todo, wg_limit_x)",
          "old_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant));",
          "new_line_content": "\t\t\t\t\t\tint wg_count = MIN(wg_todo, wg_limit_x);",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "compute_list_dispatch",
          "new_api": "compute_list_set_push_constant",
          "old_text": "RD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1)",
          "new_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant))",
          "old_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1);",
          "new_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIPushConstant));",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": "voxel_gi_get_octree_size",
          "new_api": "size",
          "old_text": "storage->voxel_gi_get_octree_size(probe)",
          "new_text": "dynamic_maps.size()",
          "old_line_content": "\t\tVector3i octree_size = storage->voxel_gi_get_octree_size(probe);",
          "new_line_content": "\tif (p_dynamic_objects.size() && dynamic_maps.size()) {",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "MAX",
          "new_api": "voxel_gi_get_octree_size",
          "old_text": "MAX(octree_size.x, octree_size.y)",
          "new_text": "storage->voxel_gi_get_octree_size(probe)",
          "old_line_content": "\t\tint multiplier = dynamic_maps[0].size / MAX(MAX(octree_size.x, octree_size.y), octree_size.z);",
          "new_line_content": "\t\tVector3i octree_size = storage->voxel_gi_get_octree_size(probe);",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "affine_inverse",
          "new_api": "voxel_gi_get_to_cell_xform",
          "old_text": "to_cell.affine_inverse()",
          "new_text": "storage->voxel_gi_get_to_cell_xform(probe)",
          "old_line_content": "\t\tTransform3D to_world_xform = transform * to_cell.affine_inverse();",
          "new_line_content": "\t\tTransform3D to_cell = oversample_scale * storage->voxel_gi_get_to_cell_xform(probe);",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": "MIN",
          "new_api": "MAX",
          "old_text": "MIN(end[j], octree_size[j] * multiplier)",
          "new_text": "MAX(begin[j], 0)",
          "old_line_content": "\t\t\t\tend[j] = MIN(end[j], octree_size[j] * multiplier);",
          "new_line_content": "\t\t\t\tbegin[j] = MAX(begin[j], 0);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "dot",
          "new_api": "get_axis",
          "old_text": "Vector3(0, 1, 2).dot(x_dir)",
          "new_text": "xform.basis.get_axis(0).abs()",
          "old_line_content": "\t\t\t\tint x_axis = int(Vector3(0, 1, 2).dot(x_dir));",
          "new_line_content": "\t\t\t\tVector3 x_dir = xform.basis.get_axis(0).abs();",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "get_axis",
          "new_api": "dot",
          "old_text": "xform.basis.get_axis(1).abs()",
          "new_text": "Vector3(0, 1, 2).dot(x_dir)",
          "old_line_content": "\t\t\t\tVector3 y_dir = xform.basis.get_axis(1).abs();",
          "new_line_content": "\t\t\t\tint x_axis = int(Vector3(0, 1, 2).dot(x_dir));",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": "dot",
          "new_api": "get_axis",
          "old_text": "Vector3(0, 1, 2).dot(y_dir)",
          "new_text": "xform.basis.get_axis(1).abs()",
          "old_line_content": "\t\t\t\tint y_axis = int(Vector3(0, 1, 2).dot(y_dir));",
          "new_line_content": "\t\t\t\tVector3 y_dir = xform.basis.get_axis(1).abs();",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": "get_axis",
          "new_api": "dot",
          "old_text": "xform.basis.get_axis(2)",
          "new_text": "Vector3(0, 1, 2).dot(y_dir)",
          "old_line_content": "\t\t\t\tVector3 z_dir = -xform.basis.get_axis(2);",
          "new_line_content": "\t\t\t\tint y_axis = int(Vector3(0, 1, 2).dot(y_dir));",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "abs",
          "new_api": "get_axis",
          "old_text": "z_dir.abs()",
          "new_text": "xform.basis.get_axis(2)",
          "old_line_content": "\t\t\t\tint z_axis = int(Vector3(0, 1, 2).dot(z_dir.abs()));",
          "new_line_content": "\t\t\t\tVector3 z_dir = -xform.basis.get_axis(2);",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "p_scene_render->cull_argument.push_back(nullptr)",
          "new_text": "p_scene_render->cull_argument.size()",
          "old_line_content": "\t\t\t\t\tp_scene_render->cull_argument.push_back(nullptr);",
          "new_line_content": "\t\t\t\tif (p_scene_render->cull_argument.size() == 0) {",
          "content_same": false
        },
        {
          "line": 2641,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": "compute_list_begin",
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING])",
          "new_text": "RD::get_singleton()->compute_list_begin()",
          "old_line_content": "\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING]);",
          "new_line_content": "\t\t\t\tRD::ComputeListID compute_list = RD::get_singleton()->compute_list_begin();",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": "compute_list_bind_uniform_set",
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[0].uniform_set, 0)",
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING])",
          "old_line_content": "\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[0].uniform_set, 0);",
          "new_line_content": "\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING]);",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "compute_list_set_push_constant",
          "new_api": "compute_list_bind_uniform_set",
          "old_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant))",
          "new_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[0].uniform_set, 0)",
          "old_line_content": "\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant));",
          "new_line_content": "\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[0].uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 2644,
          "old_api": "compute_list_dispatch",
          "new_api": "compute_list_set_push_constant",
          "old_text": "RD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1)",
          "new_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant))",
          "old_line_content": "\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1);",
          "new_line_content": "\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant));",
          "content_same": false
        },
        {
          "line": 2699,
          "old_api": "size",
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": "dynamic_maps.size()",
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE])",
          "old_line_content": "\t\t\t\t\t} else if (k < dynamic_maps.size() - 1) {",
          "new_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE]);",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": "size",
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE_PLOT])",
          "new_text": "dynamic_maps.size()",
          "old_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE_PLOT]);",
          "new_line_content": "\t\t\t\t\t} else if (k < dynamic_maps.size() - 1) {",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": "compute_list_set_push_constant",
          "new_api": "compute_list_bind_uniform_set",
          "old_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant))",
          "new_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[k].uniform_set, 0)",
          "old_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant));",
          "new_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[k].uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "compute_list_dispatch",
          "new_api": "compute_list_set_push_constant",
          "old_text": "RD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1)",
          "new_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant))",
          "old_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1);",
          "new_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(VoxelGIDynamicPushConstant));",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": "free",
          "new_api": "is_valid",
          "old_text": "RD::get_singleton()->free(gi->voxel_gi_debug_uniform_set)",
          "new_text": "gi->voxel_gi_debug_uniform_set.is_valid()",
          "old_line_content": "\t\tRD::get_singleton()->free(gi->voxel_gi_debug_uniform_set);",
          "new_line_content": "\tif (gi->voxel_gi_debug_uniform_set.is_valid()) {",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": "push_back",
          "new_api": "voxel_gi_get_data_buffer",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->voxel_gi_get_data_buffer(probe)",
          "old_line_content": "\t\tuniforms.push_back(u);",
          "new_line_content": "\t\tu.ids.push_back(storage->voxel_gi_get_data_buffer(probe));",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "push_back",
          "new_api": "sampler_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_NEAREST, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "old_line_content": "\t\tuniforms.push_back(u);",
          "new_line_content": "\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_NEAREST, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": "draw_list_bind_uniform_set",
          "new_api": "framebuffer_get_format",
          "old_text": "RD::get_singleton()->draw_list_bind_uniform_set(p_draw_list, gi->voxel_gi_debug_uniform_set, 0)",
          "new_text": "RD::get_singleton()->framebuffer_get_format(p_framebuffer)",
          "old_line_content": "\tRD::get_singleton()->draw_list_bind_uniform_set(p_draw_list, gi->voxel_gi_debug_uniform_set, 0);",
          "new_line_content": "\t\t\tgi->voxel_gi_debug_shader_version_pipelines[voxel_gi_debug_pipeline].get_render_pipeline(RD::INVALID_ID, RD::get_singleton()->framebuffer_get_format(p_framebuffer)));",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": "draw_list_set_push_constant",
          "new_api": "draw_list_bind_uniform_set",
          "old_text": "RD::get_singleton()->draw_list_set_push_constant(p_draw_list, &push_constant, sizeof(VoxelGIDebugPushConstant))",
          "new_text": "RD::get_singleton()->draw_list_bind_uniform_set(p_draw_list, gi->voxel_gi_debug_uniform_set, 0)",
          "old_line_content": "\tRD::get_singleton()->draw_list_set_push_constant(p_draw_list, &push_constant, sizeof(VoxelGIDebugPushConstant));",
          "new_line_content": "\tRD::get_singleton()->draw_list_bind_uniform_set(p_draw_list, gi->voxel_gi_debug_uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "draw_list_draw",
          "new_api": "draw_list_set_push_constant",
          "old_text": "RD::get_singleton()->draw_list_draw(p_draw_list, false, cell_count, 36)",
          "new_text": "RD::get_singleton()->draw_list_set_push_constant(p_draw_list, &push_constant, sizeof(VoxelGIDebugPushConstant))",
          "old_line_content": "\tRD::get_singleton()->draw_list_draw(p_draw_list, false, cell_count, 36);",
          "new_line_content": "\tRD::get_singleton()->draw_list_set_push_constant(p_draw_list, &push_constant, sizeof(VoxelGIDebugPushConstant));",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": "uniform_buffer_create",
          "new_api": "memnew_arr",
          "old_text": "RD::get_singleton()->uniform_buffer_create(voxel_gi_max_lights * sizeof(VoxelGILight))",
          "new_text": "memnew_arr(VoxelGILight, voxel_gi_max_lights)",
          "old_line_content": "\t\tvoxel_gi_lights_uniform = RD::get_singleton()->uniform_buffer_create(voxel_gi_max_lights * sizeof(VoxelGILight));",
          "new_line_content": "\t\tvoxel_gi_lights = memnew_arr(VoxelGILight, voxel_gi_max_lights);",
          "content_same": false
        },
        {
          "line": 2817,
          "old_api": "GLOBAL_GET",
          "new_api": "uniform_buffer_create",
          "old_text": "GLOBAL_GET(\"rendering/global_illumination/voxel_gi/quality\")",
          "new_text": "RD::get_singleton()->uniform_buffer_create(voxel_gi_max_lights * sizeof(VoxelGILight))",
          "old_line_content": "\t\tvoxel_gi_quality = RS::VoxelGIQuality(CLAMP(int(GLOBAL_GET(\"rendering/global_illumination/voxel_gi/quality\")), 0, 1));",
          "new_line_content": "\t\tvoxel_gi_lights_uniform = RD::get_singleton()->uniform_buffer_create(voxel_gi_max_lights * sizeof(VoxelGILight));",
          "content_same": false
        },
        {
          "line": 2832,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "voxel_gi_shader.version_create()",
          "new_text": "voxel_gi_shader.initialize(versions, defines)",
          "old_line_content": "\t\tvoxel_gi_lighting_shader_version = voxel_gi_shader.version_create();",
          "new_line_content": "\t\tvoxel_gi_shader.initialize(versions, defines);",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": "compute_pipeline_create",
          "new_api": "version_get_shader",
          "old_text": "RD::get_singleton()->compute_pipeline_create(voxel_gi_lighting_shader_version_shaders[i])",
          "new_text": "voxel_gi_shader.version_get_shader(voxel_gi_lighting_shader_version, i)",
          "old_line_content": "\t\t\tvoxel_gi_lighting_shader_version_pipelines[i] = RD::get_singleton()->compute_pipeline_create(voxel_gi_lighting_shader_version_shaders[i]);",
          "new_line_content": "\t\t\tvoxel_gi_lighting_shader_version_shaders[i] = voxel_gi_shader.version_get_shader(voxel_gi_lighting_shader_version, i);",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "voxel_gi_debug_shader.version_create()",
          "new_text": "voxel_gi_debug_shader.initialize(versions, defines)",
          "old_line_content": "\t\tvoxel_gi_debug_shader_version = voxel_gi_debug_shader.version_create();",
          "new_line_content": "\t\tvoxel_gi_debug_shader.initialize(versions, defines);",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": "itos",
          "new_api": "push_back",
          "old_text": "itos(SDFGI::CASCADE_SIZE / SDFGI::PROBE_DIVISOR)",
          "new_text": "preprocess_modes.push_back(\"\\n#define MODE_STORE\\n\")",
          "old_line_content": "\t\tString defines = \"\\n#define OCCLUSION_SIZE \" + itos(SDFGI::CASCADE_SIZE / SDFGI::PROBE_DIVISOR) + \"\\n\";",
          "new_line_content": "\t\tpreprocess_modes.push_back(\"\\n#define MODE_STORE\\n\");",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": "initialize",
          "new_api": "itos",
          "old_text": "sdfgi_shader.preprocess.initialize(preprocess_modes, defines)",
          "new_text": "itos(SDFGI::CASCADE_SIZE / SDFGI::PROBE_DIVISOR)",
          "old_line_content": "\t\tsdfgi_shader.preprocess.initialize(preprocess_modes, defines);",
          "new_line_content": "\t\tString defines = \"\\n#define OCCLUSION_SIZE \" + itos(SDFGI::CASCADE_SIZE / SDFGI::PROBE_DIVISOR) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "sdfgi_shader.preprocess.version_create()",
          "new_text": "sdfgi_shader.preprocess.initialize(preprocess_modes, defines)",
          "old_line_content": "\t\tsdfgi_shader.preprocess_shader = sdfgi_shader.preprocess.version_create();",
          "new_line_content": "\t\tsdfgi_shader.preprocess.initialize(preprocess_modes, defines);",
          "content_same": false
        },
        {
          "line": 2891,
          "old_api": "initialize",
          "new_api": "push_back",
          "old_text": "sdfgi_shader.direct_light.initialize(direct_light_modes, defines)",
          "new_text": "direct_light_modes.push_back(\"\\n#define MODE_PROCESS_DYNAMIC\\n\")",
          "old_line_content": "\t\tsdfgi_shader.direct_light.initialize(direct_light_modes, defines);",
          "new_line_content": "\t\tdirect_light_modes.push_back(\"\\n#define MODE_PROCESS_DYNAMIC\\n\");",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "sdfgi_shader.direct_light.version_create()",
          "new_text": "sdfgi_shader.direct_light.initialize(direct_light_modes, defines)",
          "old_line_content": "\t\tsdfgi_shader.direct_light_shader = sdfgi_shader.direct_light.version_create();",
          "new_line_content": "\t\tsdfgi_shader.direct_light.initialize(direct_light_modes, defines);",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "initialize",
          "new_api": "push_back",
          "old_text": "sdfgi_shader.integrate.initialize(integrate_modes, defines)",
          "new_text": "integrate_modes.push_back(\"\\n#define MODE_SCROLL_STORE\\n\")",
          "old_line_content": "\t\tsdfgi_shader.integrate.initialize(integrate_modes, defines);",
          "new_line_content": "\t\tintegrate_modes.push_back(\"\\n#define MODE_SCROLL_STORE\\n\");",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "sdfgi_shader.integrate.version_create()",
          "new_text": "sdfgi_shader.integrate.initialize(integrate_modes, defines)",
          "old_line_content": "\t\tsdfgi_shader.integrate_shader = sdfgi_shader.integrate.version_create();",
          "new_line_content": "\t\tsdfgi_shader.integrate.initialize(integrate_modes, defines);",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": "push_back",
          "new_api": "texture_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_CUBEMAP_WHITE)",
          "old_line_content": "\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_CUBEMAP_WHITE));",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": "push_back",
          "new_api": "sampler_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "old_line_content": "\t\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "shader.version_create()",
          "new_text": "shader.initialize(gi_modes, defines)",
          "old_line_content": "\t\tshader_version = shader.version_create();",
          "new_line_content": "\t\tshader.initialize(gi_modes, defines);",
          "content_same": false
        },
        {
          "line": 2964,
          "old_api": "initialize",
          "new_api": "push_back",
          "old_text": "sdfgi_shader.debug.initialize(debug_modes, defines)",
          "new_text": "debug_modes.push_back(\"\")",
          "old_line_content": "\t\tsdfgi_shader.debug.initialize(debug_modes, defines);",
          "new_line_content": "\t\tdebug_modes.push_back(\"\");",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "sdfgi_shader.debug.version_create()",
          "new_text": "sdfgi_shader.debug.initialize(debug_modes, defines)",
          "old_line_content": "\t\tsdfgi_shader.debug_shader = sdfgi_shader.debug.version_create();",
          "new_line_content": "\t\tsdfgi_shader.debug.initialize(debug_modes, defines);",
          "content_same": false
        },
        {
          "line": 2966,
          "old_api": "version_get_shader",
          "new_api": "version_create",
          "old_text": "sdfgi_shader.debug.version_get_shader(sdfgi_shader.debug_shader, 0)",
          "new_text": "sdfgi_shader.debug.version_create()",
          "old_line_content": "\t\tsdfgi_shader.debug_shader_version = sdfgi_shader.debug.version_get_shader(sdfgi_shader.debug_shader, 0);",
          "new_line_content": "\t\tsdfgi_shader.debug_shader = sdfgi_shader.debug.version_create();",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": "compute_pipeline_create",
          "new_api": "version_get_shader",
          "old_text": "RD::get_singleton()->compute_pipeline_create(sdfgi_shader.debug_shader_version)",
          "new_text": "sdfgi_shader.debug.version_get_shader(sdfgi_shader.debug_shader, 0)",
          "old_line_content": "\t\tsdfgi_shader.debug_pipeline = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.debug_shader_version);",
          "new_line_content": "\t\tsdfgi_shader.debug_shader_version = sdfgi_shader.debug.version_get_shader(sdfgi_shader.debug_shader, 0);",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": "version_create",
          "new_api": "initialize",
          "old_text": "sdfgi_shader.debug_probes.version_create()",
          "new_text": "sdfgi_shader.debug_probes.initialize(versions, defines)",
          "old_line_content": "\t\tsdfgi_shader.debug_probes_shader = sdfgi_shader.debug_probes.version_create();",
          "new_line_content": "\t\tsdfgi_shader.debug_probes.initialize(versions, defines);",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": "RD::PipelineColorBlendState::create_disabled()",
          "new_api": "version_get_shader",
          "old_text": "RD::PipelineColorBlendState::create_disabled()",
          "new_text": "sdfgi_shader.debug_probes.version_get_shader(sdfgi_shader.debug_probes_shader, i)",
          "old_line_content": "\t\t\t\tsdfgi_shader.debug_probes_pipeline[i].setup(debug_probes_shader_version, RD::RENDER_PRIMITIVE_TRIANGLE_STRIPS, rs, RD::PipelineMultisampleState(), ds, RD::PipelineColorBlendState::create_disabled(), 0);",
          "new_line_content": "\t\t\t\tRID debug_probes_shader_version = sdfgi_shader.debug_probes.version_get_shader(sdfgi_shader.debug_probes_shader, i);",
          "content_same": false
        },
        {
          "line": 2993,
          "old_api": "GLOBAL_GET",
          "new_api": "uniform_buffer_create",
          "old_text": "GLOBAL_GET(\"rendering/global_illumination/gi/use_half_resolution\")",
          "new_text": "RD::get_singleton()->uniform_buffer_create(sizeof(VoxelGIData) * MAX_VOXEL_GI_INSTANCES)",
          "old_line_content": "\thalf_resolution = GLOBAL_GET(\"rendering/global_illumination/gi/use_half_resolution\");",
          "new_line_content": "\tdefault_voxel_gi_buffer = RD::get_singleton()->uniform_buffer_create(sizeof(VoxelGIData) * MAX_VOXEL_GI_INSTANCES);",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": "ERR_FAIL_COND",
          "new_api": "get_or_null",
          "old_text": "ERR_FAIL_COND(rb == nullptr)",
          "new_text": "p_scene_render->render_buffers_owner.get_or_null(p_render_buffers)",
          "old_line_content": "\tERR_FAIL_COND(rb == nullptr);",
          "new_line_content": "\tRendererSceneRenderRD::RenderBuffers *rb = p_scene_render->render_buffers_owner.get_or_null(p_render_buffers);",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": "get_probe_instance",
          "new_api": "size",
          "old_text": "get_probe_instance(p_voxel_gi_instances[i])",
          "new_text": "p_voxel_gi_instances.size()",
          "old_line_content": "\t\t\tVoxelGIInstance *gipi = get_probe_instance(p_voxel_gi_instances[i]);",
          "new_line_content": "\t\tif (i < (int)p_voxel_gi_instances.size()) {",
          "content_same": false
        },
        {
          "line": 3076,
          "old_api": "voxel_gi_get_bias",
          "new_api": "voxel_gi_get_energy",
          "old_text": "storage->voxel_gi_get_bias(base_probe)",
          "new_text": "storage->voxel_gi_get_energy(base_probe)",
          "old_line_content": "\t\t\t\tgipd.bias = storage->voxel_gi_get_bias(base_probe);",
          "new_line_content": "\t\t\t\tgipd.dynamic_range = storage->voxel_gi_get_dynamic_range(base_probe) * storage->voxel_gi_get_energy(base_probe);",
          "content_same": false
        },
        {
          "line": 3077,
          "old_api": "voxel_gi_get_normal_bias",
          "new_api": "voxel_gi_get_bias",
          "old_text": "storage->voxel_gi_get_normal_bias(base_probe)",
          "new_text": "storage->voxel_gi_get_bias(base_probe)",
          "old_line_content": "\t\t\t\tgipd.normal_bias = storage->voxel_gi_get_normal_bias(base_probe);",
          "new_line_content": "\t\t\t\tgipd.bias = storage->voxel_gi_get_bias(base_probe);",
          "content_same": false
        },
        {
          "line": 3078,
          "old_api": "voxel_gi_is_interior",
          "new_api": "voxel_gi_get_normal_bias",
          "old_text": "storage->voxel_gi_is_interior(base_probe)",
          "new_text": "storage->voxel_gi_get_normal_bias(base_probe)",
          "old_line_content": "\t\t\t\tgipd.blend_ambient = !storage->voxel_gi_is_interior(base_probe);",
          "new_line_content": "\t\t\t\tgipd.normal_bias = storage->voxel_gi_get_normal_bias(base_probe);",
          "content_same": false
        },
        {
          "line": 3079,
          "old_api": "size",
          "new_api": "voxel_gi_is_interior",
          "old_text": "gipi->mipmaps.size()",
          "new_text": "storage->voxel_gi_is_interior(base_probe)",
          "old_line_content": "\t\t\t\tgipd.mipmaps = gipi->mipmaps.size();",
          "new_line_content": "\t\t\t\tgipd.blend_ambient = !storage->voxel_gi_is_interior(base_probe);",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": "texture_rd_get_default",
          "new_api": "RID",
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "new_text": "RID()",
          "old_line_content": "\t\t\ttexture = storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE);",
          "new_line_content": "\t\tif (texture == RID()) {",
          "content_same": false
        },
        {
          "line": 3097,
          "old_api": "free",
          "new_api": "uniform_set_is_valid",
          "old_text": "RD::get_singleton()->free(rb->gi.uniform_set)",
          "new_text": "RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)",
          "old_line_content": "\t\t\tRD::get_singleton()->free(rb->gi.uniform_set);",
          "new_line_content": "\t\tif (RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)) {",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": "free",
          "new_api": "uniform_set_is_valid",
          "old_text": "RD::get_singleton()->free(rb->volumetric_fog->fog_uniform_set)",
          "new_text": "RD::get_singleton()->uniform_set_is_valid(rb->volumetric_fog->fog_uniform_set)",
          "old_line_content": "\t\t\t\tRD::get_singleton()->free(rb->volumetric_fog->fog_uniform_set);",
          "new_line_content": "\t\t\tif (RD::get_singleton()->uniform_set_is_valid(rb->volumetric_fog->fog_uniform_set)) {",
          "content_same": false
        },
        {
          "line": 3113,
          "old_api": "draw_command_begin_label",
          "new_api": "size",
          "old_text": "RD::get_singleton()->draw_command_begin_label(\"VoxelGIs Setup\")",
          "new_text": "p_voxel_gi_instances.size()",
          "old_line_content": "\t\tRD::get_singleton()->draw_command_begin_label(\"VoxelGIs Setup\");",
          "new_line_content": "\tif (p_voxel_gi_instances.size() > 0) {",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": "ERR_FAIL_COND",
          "new_api": "get_or_null",
          "old_text": "ERR_FAIL_COND(rb == nullptr)",
          "new_text": "p_scene_render->render_buffers_owner.get_or_null(p_render_buffers)",
          "old_line_content": "\tERR_FAIL_COND(rb == nullptr);",
          "new_line_content": "\tRendererSceneRenderRD::RenderBuffers *rb = p_scene_render->render_buffers_owner.get_or_null(p_render_buffers);",
          "content_same": false
        },
        {
          "line": 3128,
          "old_api": "is_valid",
          "new_api": "is_null",
          "old_text": "rb->ambient_buffer.is_valid()",
          "new_text": "rb->ambient_buffer.is_null()",
          "old_line_content": "\t\tif (rb->ambient_buffer.is_valid()) {",
          "new_line_content": "\tif (rb->ambient_buffer.is_null() || rb->gi.using_half_size_gi != half_resolution) {",
          "content_same": false
        },
        {
          "line": 3129,
          "old_api": "free",
          "new_api": "is_valid",
          "old_text": "RD::get_singleton()->free(rb->ambient_buffer)",
          "new_text": "rb->ambient_buffer.is_valid()",
          "old_line_content": "\t\t\tRD::get_singleton()->free(rb->ambient_buffer);",
          "new_line_content": "\t\tif (rb->ambient_buffer.is_valid()) {",
          "content_same": false
        },
        {
          "line": 3152,
          "old_api": "get_z_far",
          "new_api": "get_z_near",
          "old_text": "p_projection.get_z_far()",
          "new_text": "p_projection.get_z_near()",
          "old_line_content": "\tpush_constant.z_far = p_projection.get_z_far();",
          "new_line_content": "\tpush_constant.z_near = p_projection.get_z_near();",
          "content_same": false
        },
        {
          "line": 3153,
          "old_api": "is_orthogonal",
          "new_api": "get_z_far",
          "old_text": "p_projection.is_orthogonal()",
          "new_text": "p_projection.get_z_far()",
          "old_line_content": "\tpush_constant.orthogonal = p_projection.is_orthogonal();",
          "new_line_content": "\tpush_constant.z_far = p_projection.get_z_far();",
          "content_same": false
        },
        {
          "line": 3185,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "u.ids.push_back(rb->sdfgi->cascades[j].sdf_tex)",
          "new_text": "rb->sdfgi->cascades.size()",
          "old_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].sdf_tex);",
          "new_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "u.ids.push_back(rb->sdfgi->cascades[j].light_tex)",
          "new_text": "rb->sdfgi->cascades.size()",
          "old_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].light_tex);",
          "new_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "content_same": false
        },
        {
          "line": 3211,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "u.ids.push_back(rb->sdfgi->cascades[j].light_aniso_0_tex)",
          "new_text": "rb->sdfgi->cascades.size()",
          "old_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].light_aniso_0_tex);",
          "new_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "content_same": false
        },
        {
          "line": 3224,
          "old_api": "push_back",
          "new_api": "size",
          "old_text": "u.ids.push_back(rb->sdfgi->cascades[j].light_aniso_1_tex)",
          "new_text": "rb->sdfgi->cascades.size()",
          "old_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].light_aniso_1_tex);",
          "new_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "content_same": false
        },
        {
          "line": 3247,
          "old_api": "push_back",
          "new_api": "sampler_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "content_same": false
        },
        {
          "line": 3254,
          "old_api": "push_back",
          "new_api": "sampler_rd_get_default",
          "old_text": "uniforms.push_back(u)",
          "new_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "content_same": false
        },
        {
          "line": 3303,
          "old_api": "push_back",
          "new_api": "texture_rd_get_default",
          "old_text": "u.ids.push_back(buffer)",
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_BLACK)",
          "old_line_content": "\t\t\tu.ids.push_back(buffer);",
          "new_line_content": "\t\t\tRID buffer = p_voxel_gi_buffer.is_valid() ? p_voxel_gi_buffer : storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_BLACK);",
          "content_same": false
        },
        {
          "line": 3342,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": "compute_list_begin",
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, pipelines[mode])",
          "new_text": "RD::get_singleton()->compute_list_begin(true)",
          "old_line_content": "\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, pipelines[mode]);",
          "new_line_content": "\tRD::ComputeListID compute_list = RD::get_singleton()->compute_list_begin(true);",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": "compute_list_bind_uniform_set",
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, rb->gi.uniform_set, 0)",
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, pipelines[mode])",
          "old_line_content": "\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, rb->gi.uniform_set, 0);",
          "new_line_content": "\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, pipelines[mode]);",
          "content_same": false
        },
        {
          "line": 3344,
          "old_api": "compute_list_set_push_constant",
          "new_api": "compute_list_bind_uniform_set",
          "old_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(PushConstant))",
          "new_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, rb->gi.uniform_set, 0)",
          "old_line_content": "\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(PushConstant));",
          "new_line_content": "\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, rb->gi.uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 3367,
          "old_api": "ERR_FAIL_COND",
          "new_api": "get_probe_instance",
          "old_text": "ERR_FAIL_COND(!voxel_gi)",
          "new_text": "get_probe_instance(p_probe)",
          "old_line_content": "\tERR_FAIL_COND(!voxel_gi);",
          "new_line_content": "\tVoxelGIInstance *voxel_gi = get_probe_instance(p_probe);",
          "content_same": false
        },
        {
          "line": 3374,
          "old_api": "ERR_FAIL_COND_V",
          "new_api": "get_probe_instance",
          "old_text": "ERR_FAIL_COND_V(!voxel_gi, false)",
          "new_text": "get_probe_instance(p_probe)",
          "old_line_content": "\tERR_FAIL_COND_V(!voxel_gi, false);",
          "new_line_content": "\tVoxelGIInstance *voxel_gi = get_probe_instance(p_probe);",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "ERR_FAIL_COND",
          "new_api": "get_probe_instance",
          "old_text": "ERR_FAIL_COND(!voxel_gi)",
          "new_text": "get_probe_instance(p_probe)",
          "old_line_content": "\tERR_FAIL_COND(!voxel_gi);",
          "new_line_content": "\tVoxelGIInstance *voxel_gi = get_probe_instance(p_probe);",
          "content_same": false
        },
        {
          "line": 3388,
          "old_api": "ERR_FAIL_COND",
          "new_api": "get_or_null",
          "old_text": "ERR_FAIL_COND(!voxel_gi)",
          "new_text": "voxel_gi_instance_owner.get_or_null(p_voxel_gi)",
          "old_line_content": "\tERR_FAIL_COND(!voxel_gi);",
          "new_line_content": "\tVoxelGIInstance *voxel_gi = voxel_gi_instance_owner.get_or_null(p_voxel_gi);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2565,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3(0, 0, -1)",
          "old_line_content": "\t\t\t\t};",
          "new_line_content": "\t\t\t\t\tVector3(0, 0, -1),",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "gipi->mipmaps.size()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tgipd.mipmaps = gipi->mipmaps.size();",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3(0, 1, 0)",
          "old_line_content": "\t\t\t\t};",
          "new_line_content": "\t\t\t\t\tVector3(0, 1, 0),",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\ttexture = storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE);",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": null,
          "new_api": "get_center",
          "old_text": null,
          "new_text": "aabb.get_center()",
          "old_line_content": "\t\t\t\tTransform3D xform;",
          "new_line_content": "\t\t\t\tVector3 center = aabb.get_center();",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": null,
          "new_api": "set_look_at",
          "old_text": null,
          "new_text": "xform.set_look_at(center - aabb.size * 0.5 * render_dir, center, up_dir)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\txform.set_look_at(center - aabb.size * 0.5 * render_dir, center, up_dir);",
          "content_same": false
        },
        {
          "line": 3098,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "RD::get_singleton()->free(rb->gi.uniform_set)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRD::get_singleton()->free(rb->gi.uniform_set);",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "z_dir.abs()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tint z_axis = int(Vector3(0, 1, 2).dot(z_dir.abs()));",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": null,
          "new_api": "RID",
          "old_text": null,
          "new_text": "RID()",
          "old_line_content": "\t\tif (rb->volumetric_fog) {",
          "new_line_content": "\t\trb->gi.uniform_set = RID();",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": null,
          "new_api": "get_axis",
          "old_text": null,
          "new_text": "xform.basis.get_axis(2)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tbool z_flip = bool(Vector3(1, 1, 1).dot(xform.basis.get_axis(2)) > 0);",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "RD::get_singleton()->free(rb->volumetric_fog->process_uniform_set2)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRD::get_singleton()->free(rb->volumetric_fog->process_uniform_set2);",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": null,
          "new_api": "set_orthogonal",
          "old_text": null,
          "new_text": "cm.set_orthogonal(-rect.size.width / 2, rect.size.width / 2, -rect.size.height / 2, rect.size.height / 2, 0.0001, aabb.size[z_axis])",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tcm.set_orthogonal(-rect.size.width / 2, rect.size.width / 2, -rect.size.height / 2, rect.size.height / 2, 0.0001, aabb.size[z_axis]);",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": null,
          "new_api": "RID",
          "old_text": null,
          "new_text": "RID()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\trb->volumetric_fog->process_uniform_set2 = RID();",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "p_scene_render->cull_argument.push_back(nullptr)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tp_scene_render->cull_argument.push_back(nullptr);",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": null,
          "new_api": "draw_command_begin_label",
          "old_text": null,
          "new_text": "RD::get_singleton()->draw_command_begin_label(\"VoxelGIs Setup\")",
          "old_line_content": "",
          "new_line_content": "\t\tRD::get_singleton()->draw_command_begin_label(\"VoxelGIs Setup\");",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": null,
          "new_api": "Vector2i",
          "old_text": null,
          "new_text": "Vector2i()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tp_scene_render->_render_material(to_world_xform * xform, cm, true, p_scene_render->cull_argument, dynamic_maps[0].fb, Rect2i(Vector2i(), rect.size));",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "p_voxel_gi_instances.size()",
          "old_line_content": "",
          "new_line_content": "\t\tRD::get_singleton()->buffer_update(voxel_gi_buffer, 0, sizeof(VoxelGIData) * MIN((uint64_t)MAX_VOXEL_GI_INSTANCES, p_voxel_gi_instances.size()), voxel_gi_data, RD::BARRIER_MASK_COMPUTE);",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&push_constant, 0, sizeof(VoxelGIDynamicPushConstant))",
          "old_line_content": "\t\t\t\tpush_constant.limits[0] = octree_size.x;",
          "new_line_content": "\t\t\t\tmemset(&push_constant, 0, sizeof(VoxelGIDynamicPushConstant));",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": null,
          "new_api": "draw_command_end_label",
          "old_text": null,
          "new_text": "RD::get_singleton()->draw_command_end_label()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRD::get_singleton()->draw_command_end_label();",
          "content_same": false
        },
        {
          "line": 2610,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "p_light_instances.size()",
          "old_line_content": "\t\t\t\tpush_constant.x_dir[0] = x_dir[0];",
          "new_line_content": "\t\t\t\tpush_constant.light_count = p_light_instances.size();",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": null,
          "new_api": "draw_command_begin_label",
          "old_text": null,
          "new_text": "RD::get_singleton()->draw_command_begin_label(\"GI Render\")",
          "old_line_content": "",
          "new_line_content": "\tRD::get_singleton()->draw_command_begin_label(\"GI Render\");",
          "content_same": false
        },
        {
          "line": 3126,
          "old_api": null,
          "new_api": "ERR_FAIL_COND",
          "old_text": null,
          "new_text": "ERR_FAIL_COND(rb == nullptr)",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND(rb == nullptr);",
          "content_same": false
        },
        {
          "line": 3131,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "RD::get_singleton()->free(rb->reflection_buffer)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRD::get_singleton()->free(rb->reflection_buffer);",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": null,
          "new_api": "voxel_gi_get_dynamic_range",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_dynamic_range(probe)",
          "old_line_content": "\t\t\t\tpush_constant.flip_x = x_flip;",
          "new_line_content": "\t\t\t\tpush_constant.dynamic_range = storage->voxel_gi_get_dynamic_range(probe);",
          "content_same": false
        },
        {
          "line": 3144,
          "old_api": null,
          "new_api": "RD::TextureView()",
          "old_text": null,
          "new_text": "RD::TextureView()",
          "old_line_content": "\t\trb->gi.using_half_size_gi = half_resolution;",
          "new_line_content": "\t\trb->ambient_buffer = RD::get_singleton()->texture_create(tf, RD::TextureView());",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "voxel_gi_get_propagation",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_propagation(probe)",
          "old_line_content": "\t\t\t\tpush_constant.pad[0] = 0;",
          "new_line_content": "\t\t\t\tpush_constant.propagation = storage->voxel_gi_get_propagation(probe);",
          "content_same": false
        },
        {
          "line": 3154,
          "old_api": null,
          "new_api": "is_orthogonal",
          "old_text": null,
          "new_text": "p_projection.is_orthogonal()",
          "old_line_content": "\tpush_constant.proj_info[0] = -2.0f / (rb->internal_width * p_projection.matrix[0][0]);",
          "new_line_content": "\tpush_constant.orthogonal = p_projection.is_orthogonal();",
          "content_same": false
        },
        {
          "line": 2645,
          "old_api": null,
          "new_api": "compute_list_dispatch",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1)",
          "old_line_content": "\t\t\t\t//print_line(\"rect: \" + itos(i) + \": \" + rect);",
          "new_line_content": "\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1);",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "p_voxel_gi_instances.size()",
          "old_line_content": "\tpush_constant.high_quality_vct = voxel_gi_quality == RS::VOXEL_GI_QUALITY_HIGH;",
          "new_line_content": "\tpush_constant.max_voxel_gi_instances = MIN((uint64_t)MAX_VOXEL_GI_INSTANCES, p_voxel_gi_instances.size());",
          "content_same": false
        },
        {
          "line": 2648,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "dynamic_maps.size()",
          "old_line_content": "\t\t\t\t\t// enlarge the rect if needed so all pixels fit when downscaled,",
          "new_line_content": "\t\t\t\tfor (int k = 1; k < dynamic_maps.size(); k++) {",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(1, rect.size.x >> 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\trect.size.x = MAX(1, rect.size.x >> 1);",
          "content_same": false
        },
        {
          "line": 3178,
          "old_api": null,
          "new_api": "uniform_set_is_valid",
          "old_text": null,
          "new_text": "RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)",
          "old_line_content": "\t\tVector<RD::Uniform> uniforms;",
          "new_line_content": "\tif (rb->gi.uniform_set.is_null() || !RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)) {",
          "content_same": false
        },
        {
          "line": 3186,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->sdfgi->cascades[j].sdf_tex)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].sdf_tex);",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(1, rect.size.y >> 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\trect.size.y = MAX(1, rect.size.y >> 1);",
          "content_same": false
        },
        {
          "line": 3191,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(1, push_constant.limits[l] >> 1)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tpush_constant.limits[l] = MAX(1, push_constant.limits[l] >> 1);",
          "content_same": false
        },
        {
          "line": 3199,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->sdfgi->cascades[j].light_tex)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].light_tex);",
          "content_same": false
        },
        {
          "line": 3201,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": null,
          "new_api": "compute_list_add_barrier",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_add_barrier(compute_list)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_add_barrier(compute_list);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "texture_is_format_supported_for_usage",
          "old_text": null,
          "new_text": "RD::get_singleton()->texture_is_format_supported_for_usage(RD::DATA_FORMAT_D16_UNORM, RD::TEXTURE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT)",
          "old_line_content": "\t\t\t\t\t\tdtf.usage_bits = RD::TEXTURE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT;",
          "new_line_content": "\t\t\t\t\t\tdtf.format = RD::get_singleton()->texture_is_format_supported_for_usage(RD::DATA_FORMAT_D16_UNORM, RD::TEXTURE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT) ? RD::DATA_FORMAT_D16_UNORM : RD::DATA_FORMAT_X8_D24_UNORM_PACK32;",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->sdfgi->cascades[j].light_aniso_0_tex)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].light_aniso_0_tex);",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "RD::TextureView()",
          "old_text": null,
          "new_text": "RD::TextureView()",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tdmap.fb_depth = RD::get_singleton()->texture_create(dtf, RD::TextureView());",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": null,
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE_PLOT])",
          "old_line_content": "\t\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE_PLOT]);",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": null,
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_PLOT])",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_PLOT]);",
          "content_same": false
        },
        {
          "line": 3214,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "content_same": false
        },
        {
          "line": 3217,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": null,
          "new_api": "compute_list_dispatch",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, (rect.size.x - 1) / 8 + 1, (rect.size.y - 1) / 8 + 1, 1);",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": null,
          "new_api": "RD::TextureView()",
          "old_text": null,
          "new_text": "RD::TextureView()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tdmap.depth = RD::get_singleton()->texture_create(dtf, RD::TextureView());",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "dynamic_maps.size()",
          "old_line_content": "\t\t\t\t\t\tdtf.format = RD::DATA_FORMAT_R8G8B8A8_UNORM;",
          "new_line_content": "\t\t\t\t\tif (dynamic_maps.size() == 0) {",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": null,
          "new_api": "compute_list_end",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_end()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRD::get_singleton()->compute_list_end();",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->sdfgi->cascades[j].light_aniso_1_tex)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(rb->sdfgi->cascades[j].light_aniso_1_tex);",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": null,
          "new_api": "RD::TextureView()",
          "old_text": null,
          "new_text": "RD::TextureView()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tdmap.orm = RD::get_singleton()->texture_create(dtf, RD::TextureView());",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": null,
          "new_api": "voxel_gi_get_version",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_version(probe)",
          "old_line_content": "}",
          "new_line_content": "\tlast_probe_version = storage->voxel_gi_get_version(probe);",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mipmaps.size()",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tif (mipmaps.size() == 0) {",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "fb.push_back(dmap.fb_depth)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tfb.push_back(dmap.fb_depth);",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": null,
          "new_api": "framebuffer_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->framebuffer_create(fb)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tdmap.fb = RD::get_singleton()->framebuffer_create(fb);",
          "content_same": false
        },
        {
          "line": 2725,
          "old_api": null,
          "new_api": "affine_inverse",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_to_cell_xform(probe).affine_inverse()",
          "old_line_content": "",
          "new_line_content": "\tCameraMatrix cam_transform = (p_camera_with_transform * CameraMatrix(transform)) * CameraMatrix(storage->voxel_gi_get_to_cell_xform(probe).affine_inverse());",
          "content_same": false
        },
        {
          "line": 3237,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->sdfgi->occlusion_texture)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tu.ids.push_back(rb->sdfgi->occlusion_texture);",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": null,
          "new_api": "voxel_gi_get_octree_size",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_octree_size(probe)",
          "old_line_content": "",
          "new_line_content": "\tVector3i octree_size = storage->voxel_gi_get_octree_size(probe);",
          "content_same": false
        },
        {
          "line": 3239,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": null,
          "new_api": "voxel_gi_get_dynamic_range",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_dynamic_range(probe)",
          "old_line_content": "\tpush_constant.cell_offset = mipmaps[level].cell_offset;",
          "new_line_content": "\tpush_constant.dynamic_range = storage->voxel_gi_get_dynamic_range(probe);",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "RD::get_singleton()->free(gi->voxel_gi_debug_uniform_set)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRD::get_singleton()->free(gi->voxel_gi_debug_uniform_set);",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3263,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->sdfgi->lightprobe_texture)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tu.ids.push_back(rb->sdfgi->lightprobe_texture);",
          "content_same": false
        },
        {
          "line": 3281,
          "old_api": null,
          "new_api": "texture_rd_get_default",
          "old_text": null,
          "new_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_2D_ARRAY_WHITE)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_2D_ARRAY_WHITE));",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3283,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3290,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": null,
          "new_api": "uniform_set_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_debug_shader_version_shaders[0], 0)",
          "old_line_content": "",
          "new_line_content": "\tgi->voxel_gi_debug_uniform_set = RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_debug_shader_version_shaders[0], 0);",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3297,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": null,
          "new_api": "get_render_pipeline",
          "old_text": null,
          "new_text": "RD::get_singleton()->draw_list_bind_render_pipeline(\n\t\t\tp_draw_list,\n\t\t\tgi->voxel_gi_debug_shader_version_pipelines[voxel_gi_debug_pipeline].get_render_pipeline(RD::INVALID_ID, RD::get_singleton()->framebuffer_get_format(p_framebuffer)))",
          "old_line_content": "\t\t\tp_draw_list,",
          "new_line_content": "\tRD::get_singleton()->draw_list_bind_render_pipeline(",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": null,
          "new_api": "draw_list_draw",
          "old_text": null,
          "new_text": "RD::get_singleton()->draw_list_draw(p_draw_list, false, cell_count, 36)",
          "old_line_content": "}",
          "new_line_content": "\tRD::get_singleton()->draw_list_draw(p_draw_list, false, cell_count, 36);",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": null,
          "new_api": "uniform_set_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_lighting_shader_version_shaders[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING], 0)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tdmap.uniform_set = RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_lighting_shader_version_shaders[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING], 0);",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mipmaps.size()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tbool write = dmap.mipmap < (mipmaps.size() - 1);",
          "content_same": false
        },
        {
          "line": 3312,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": null,
          "new_api": "GLOBAL_GET",
          "old_text": null,
          "new_text": "GLOBAL_GET(\"rendering/global_illumination/sdfgi/frames_to_update_lights\")",
          "old_line_content": "}",
          "new_line_content": "\tsdfgi_frames_to_update_light = RS::EnvironmentSDFGIFramesToUpdateLight(CLAMP(int32_t(GLOBAL_GET(\"rendering/global_illumination/sdfgi/frames_to_update_lights\")), 0, int32_t(RS::ENV_SDFGI_UPDATE_LIGHT_MAX - 1)));",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3326,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "u.ids.push_back(rb->gi.voxel_gi_textures[i])",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tu.ids.push_back(rb->gi.voxel_gi_textures[i]);",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": null,
          "new_api": "GLOBAL_GET",
          "old_text": null,
          "new_text": "GLOBAL_GET(\"rendering/global_illumination/voxel_gi/quality\")",
          "old_line_content": "",
          "new_line_content": "\t\tvoxel_gi_quality = RS::VoxelGIQuality(CLAMP(int(GLOBAL_GET(\"rendering/global_illumination/voxel_gi/quality\")), 0, 1));",
          "content_same": false
        },
        {
          "line": 3331,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "shader.version_get_shader(shader_version, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\trb->gi.uniform_set = RD::get_singleton()->uniform_set_create(uniforms, shader.version_get_shader(shader_version, 0), 0);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(voxel_gi_max_lights)",
          "old_line_content": "",
          "new_line_content": "\t\tString defines = \"\\n#define MAX_LIGHTS \" + itos(voxel_gi_max_lights) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "versions.push_back(\"\\n#define MODE_DYNAMIC\\n#define MODE_DYNAMIC_SHRINK\\n#define MODE_DYNAMIC_SHRINK_PLOT\\n#define MODE_DYNAMIC_SHRINK_WRITE\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tversions.push_back(\"\\n#define MODE_DYNAMIC\\n#define MODE_DYNAMIC_SHRINK\\n#define MODE_DYNAMIC_SHRINK_PLOT\\n#define MODE_DYNAMIC_SHRINK_WRITE\\n\");",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "voxel_gi_shader.version_create()",
          "old_line_content": "\t\tfor (int i = 0; i < VOXEL_GI_SHADER_VERSION_MAX; i++) {",
          "new_line_content": "\t\tvoxel_gi_lighting_shader_version = voxel_gi_shader.version_create();",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": null,
          "new_api": "compute_list_set_push_constant",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(PushConstant))",
          "old_line_content": "",
          "new_line_content": "\tRD::get_singleton()->compute_list_set_push_constant(compute_list, &push_constant, sizeof(PushConstant));",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": null,
          "new_api": "compute_pipeline_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_pipeline_create(voxel_gi_lighting_shader_version_shaders[i])",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tvoxel_gi_lighting_shader_version_pipelines[i] = RD::get_singleton()->compute_pipeline_create(voxel_gi_lighting_shader_version_shaders[i]);",
          "content_same": false
        },
        {
          "line": 3348,
          "old_api": null,
          "new_api": "compute_list_dispatch_threads",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width >> 1, rb->internal_height >> 1, 1)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tRD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width >> 1, rb->internal_height >> 1, 1);",
          "content_same": false
        },
        {
          "line": 3350,
          "old_api": null,
          "new_api": "compute_list_dispatch_threads",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width, rb->internal_height, 1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width, rb->internal_height, 1);",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": null,
          "new_api": "draw_command_end_label",
          "old_text": null,
          "new_text": "RD::get_singleton()->draw_command_end_label()",
          "old_line_content": "}",
          "new_line_content": "\tRD::get_singleton()->draw_command_end_label();",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2846,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "versions.push_back(\"\\n#define MODE_DEBUG_LIGHT\\n#define MODE_DEBUG_LIGHT_FULL\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tversions.push_back(\"\\n#define MODE_DEBUG_LIGHT\\n#define MODE_DEBUG_LIGHT_FULL\\n\");",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "voxel_gi_debug_shader.version_create()",
          "old_line_content": "\t\tfor (int i = 0; i < VOXEL_GI_DEBUG_MAX; i++) {",
          "new_line_content": "\t\tvoxel_gi_debug_shader_version = voxel_gi_debug_shader.version_create();",
          "content_same": false
        },
        {
          "line": 3362,
          "old_api": null,
          "new_api": "make_rid",
          "old_text": null,
          "new_text": "voxel_gi_instance_owner.make_rid(voxel_gi)",
          "old_line_content": "\treturn rid;",
          "new_line_content": "\tRID rid = voxel_gi_instance_owner.make_rid(voxel_gi);",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "voxel_gi_debug_shader.version_get_shader(voxel_gi_debug_shader_version, i)",
          "old_line_content": "",
          "new_line_content": "\t\t\tvoxel_gi_debug_shader_version_shaders[i] = voxel_gi_debug_shader.version_get_shader(voxel_gi_debug_shader_version, i);",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": null,
          "new_api": "ERR_FAIL_COND",
          "old_text": null,
          "new_text": "ERR_FAIL_COND(!voxel_gi)",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND(!voxel_gi);",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": null,
          "new_api": "uniform_set_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->uniform_set_create(\n\t\t\t\t\t\t\t\tuniforms,\n\t\t\t\t\t\t\t\tgi->voxel_gi_lighting_shader_version_shaders[(write && plot) ? VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE_PLOT : (write ? VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE : VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_PLOT)],\n\t\t\t\t\t\t\t\t0)",
          "old_line_content": "\t\t\t\t\t\t\t\tuniforms,",
          "new_line_content": "\t\t\t\t\t\tdmap.uniform_set = RD::get_singleton()->uniform_set_create(",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": null,
          "new_api": "RD::PipelineColorBlendState::create_disabled()",
          "old_text": null,
          "new_text": "RD::PipelineColorBlendState::create_disabled()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tvoxel_gi_debug_shader_version_pipelines[i].setup(voxel_gi_debug_shader_version_shaders[i], RD::RENDER_PRIMITIVE_TRIANGLES, rs, RD::PipelineMultisampleState(), ds, RD::PipelineColorBlendState::create_disabled(), 0);",
          "content_same": false
        },
        {
          "line": 3375,
          "old_api": null,
          "new_api": "ERR_FAIL_COND_V",
          "old_text": null,
          "new_text": "ERR_FAIL_COND_V(!voxel_gi, false)",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND_V(!voxel_gi, false);",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dynamic_maps.push_back(dmap)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tdynamic_maps.push_back(dmap);",
          "content_same": false
        },
        {
          "line": 3377,
          "old_api": null,
          "new_api": "voxel_gi_get_version",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_version(voxel_gi->probe)",
          "old_line_content": "}",
          "new_line_content": "\treturn voxel_gi->last_probe_version != storage->voxel_gi_get_version(voxel_gi->probe);",
          "content_same": false
        },
        {
          "line": 3382,
          "old_api": null,
          "new_api": "ERR_FAIL_COND",
          "old_text": null,
          "new_text": "ERR_FAIL_COND(!voxel_gi)",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND(!voxel_gi);",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "voxel_gi->update(p_update_light_instances, p_light_instances, p_dynamic_objects, p_scene_render)",
          "old_line_content": "}",
          "new_line_content": "\tvoxel_gi->update(p_update_light_instances, p_light_instances, p_dynamic_objects, p_scene_render);",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "_base_uniforms_changed",
          "old_text": null,
          "new_text": "p_scene_render->_base_uniforms_changed()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tp_scene_render->_base_uniforms_changed();",
          "content_same": false
        },
        {
          "line": 3389,
          "old_api": null,
          "new_api": "ERR_FAIL_COND",
          "old_text": null,
          "new_text": "ERR_FAIL_COND(!voxel_gi)",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND(!voxel_gi);",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "sdfgi_shader.preprocess.version_create()",
          "old_line_content": "\t\tfor (int i = 0; i < SDFGIShader::PRE_PROCESS_MAX; i++) {",
          "new_line_content": "\t\tsdfgi_shader.preprocess_shader = sdfgi_shader.preprocess.version_create();",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mipmaps.size()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRD::get_singleton()->texture_clear(texture, Color(0, 0, 0, 0), 0, mipmaps.size(), 0, 1);",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "sdfgi_shader.preprocess.version_get_shader(sdfgi_shader.preprocess_shader, i)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tsdfgi_shader.preprocess_pipeline[i] = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.preprocess.version_get_shader(sdfgi_shader.preprocess_shader, i));",
          "content_same": false
        },
        {
          "line": 3391,
          "old_api": null,
          "new_api": "debug",
          "old_text": null,
          "new_text": "voxel_gi->debug(p_draw_list, p_framebuffer, p_camera_with_transform, p_lighting, p_emission, p_alpha)",
          "old_line_content": "}",
          "new_line_content": "\tvoxel_gi->debug(p_draw_list, p_framebuffer, p_camera_with_transform, p_lighting, p_emission, p_alpha);",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "p_light_instances.size()",
          "old_line_content": "",
          "new_line_content": "\t\tlight_count = MIN(gi->voxel_gi_max_lights, (uint32_t)p_light_instances.size());",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "old_line_content": "",
          "new_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": null,
          "new_api": "affine_inverse",
          "old_text": null,
          "new_text": "to_cell.affine_inverse()",
          "old_line_content": "\t\t\t//update lights",
          "new_line_content": "\t\t\tTransform3D to_probe_xform = (transform * to_cell.affine_inverse()).affine_inverse();",
          "content_same": false
        },
        {
          "line": 2893,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "sdfgi_shader.direct_light.version_create()",
          "old_line_content": "\t\tfor (int i = 0; i < SDFGIShader::DIRECT_LIGHT_MODE_MAX; i++) {",
          "new_line_content": "\t\tsdfgi_shader.direct_light_shader = sdfgi_shader.direct_light.version_create();",
          "content_same": false
        },
        {
          "line": 2895,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "sdfgi_shader.direct_light.version_get_shader(sdfgi_shader.direct_light_shader, i)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tsdfgi_shader.direct_light_pipeline[i] = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.direct_light.version_get_shader(sdfgi_shader.direct_light_shader, i));",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": null,
          "new_api": "light_instance_get_base_light",
          "old_text": null,
          "new_text": "p_scene_render->light_instance_get_base_light(light_instance)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRID light = p_scene_render->light_instance_get_base_light(light_instance);",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": null,
          "new_api": "light_directional_is_sky_only",
          "old_text": null,
          "new_text": "storage->light_directional_is_sky_only(light)",
          "old_line_content": "\t\t\t\t\tlight_count--;",
          "new_line_content": "\t\t\t\tif (l.type == RS::LIGHT_DIRECTIONAL && storage->light_directional_is_sky_only(light)) {",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(SDFGI::SH_SIZE)",
          "old_line_content": "\t\tif (p_sky->sky_use_cubemap_array) {",
          "new_line_content": "\t\tdefines += \"\\n#define SH_SIZE \" + itos(SDFGI::SH_SIZE) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "to_linear",
          "old_text": null,
          "new_text": "storage->light_get_color(light).to_linear()",
          "old_line_content": "\t\t\t\tl.color[0] = color.r;",
          "new_line_content": "\t\t\t\tColor color = storage->light_get_color(light).to_linear();",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": null,
          "new_api": "light_get_param",
          "old_text": null,
          "new_text": "storage->light_get_param(light, RS::LIGHT_PARAM_SPOT_ATTENUATION)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tl.inv_spot_attenuation = 1.0f / storage->light_get_param(light, RS::LIGHT_PARAM_SPOT_ATTENUATION);",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "sdfgi_shader.integrate.version_create()",
          "old_line_content": "",
          "new_line_content": "\t\tsdfgi_shader.integrate_shader = sdfgi_shader.integrate.version_create();",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": null,
          "new_api": "light_instance_get_base_transform",
          "old_text": null,
          "new_text": "p_scene_render->light_instance_get_base_transform(light_instance)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tTransform3D xform = p_scene_render->light_instance_get_base_transform(light_instance);",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, i)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tsdfgi_shader.integrate_pipeline[i] = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, i));",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": null,
          "new_api": "get_axis",
          "old_text": null,
          "new_text": "xform.basis.get_axis(2)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tVector3 dir = to_probe_xform.basis.xform(-xform.basis.get_axis(2)).normalized();",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": null,
          "new_api": "light_has_shadow",
          "old_text": null,
          "new_text": "storage->light_has_shadow(light)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tl.has_shadow = storage->light_has_shadow(light);",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": null,
          "new_api": "buffer_update",
          "old_text": null,
          "new_text": "RD::get_singleton()->buffer_update(gi->voxel_gi_lights_uniform, 0, sizeof(VoxelGILight) * light_count, gi->voxel_gi_lights)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRD::get_singleton()->buffer_update(gi->voxel_gi_lights_uniform, 0, sizeof(VoxelGILight) * light_count, gi->voxel_gi_lights);",
          "content_same": false
        },
        {
          "line": 2934,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "uniforms.push_back(u)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tuniforms.push_back(u);",
          "content_same": false
        },
        {
          "line": 2423,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "p_dynamic_objects.size()",
          "old_line_content": "\t\t// PROCESS MIPMAPS",
          "new_line_content": "\tif (has_dynamic_object_data || p_update_light_instances || p_dynamic_objects.size()) {",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mipmaps.size()",
          "old_line_content": "\t\t\t//can update mipmaps",
          "new_line_content": "\t\tif (mipmaps.size()) {",
          "content_same": false
        },
        {
          "line": 2937,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, 0)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tsdfgi_shader.integrate_default_sky_uniform_set = RD::get_singleton()->uniform_set_create(uniforms, sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, 0), 1);",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": null,
          "new_api": "voxel_gi_get_octree_size",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_octree_size(probe)",
          "old_line_content": "",
          "new_line_content": "\t\t\tVector3i probe_size = storage->voxel_gi_get_octree_size(probe);",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "old_line_content": "\t\tVector<String> gi_modes;",
          "new_line_content": "\t\tString defines = \"\\n#define SDFGI_OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mipmaps.size()",
          "old_line_content": "\t\t\tpush_constant.emission_scale = 1.0;",
          "new_line_content": "\t\t\tpush_constant.stack_size = mipmaps.size();",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": null,
          "new_api": "voxel_gi_get_dynamic_range",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_dynamic_range(probe)",
          "old_line_content": "\t\t\tpush_constant.light_count = light_count;",
          "new_line_content": "\t\t\tpush_constant.dynamic_range = storage->voxel_gi_get_dynamic_range(probe);",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "gi_modes.push_back(\"\\n#define MODE_HALF_RES\\n#define USE_SDFGI\\n\\n#define USE_VOXEL_GI_INSTANCES\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tgi_modes.push_back(\"\\n#define MODE_HALF_RES\\n#define USE_SDFGI\\n\\n#define USE_VOXEL_GI_INSTANCES\\n\");",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "shader.version_create()",
          "old_line_content": "\t\tfor (int i = 0; i < MODE_MAX; i++) {",
          "new_line_content": "\t\tshader_version = shader.version_create();",
          "content_same": false
        },
        {
          "line": 2956,
          "old_api": null,
          "new_api": "version_get_shader",
          "old_text": null,
          "new_text": "shader.version_get_shader(shader_version, i)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tpipelines[i] = RD::get_singleton()->compute_pipeline_create(shader.version_get_shader(shader_version, i));",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": null,
          "new_api": "compute_list_begin",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_begin()",
          "old_line_content": "",
          "new_line_content": "\t\t\tRD::ComputeListID compute_list = RD::get_singleton()->compute_list_begin();",
          "content_same": false
        },
        {
          "line": 2959,
          "old_api": null,
          "new_api": "uniform_buffer_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->uniform_buffer_create(sizeof(SDFGIData))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsdfgi_ubo = RD::get_singleton()->uniform_buffer_create(sizeof(SDFGIData));",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "voxel_gi_is_using_two_bounces",
          "old_text": null,
          "new_text": "storage->voxel_gi_is_using_two_bounces(probe)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tpasses = storage->voxel_gi_is_using_two_bounces(probe) ? 2 : 1;",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "old_line_content": "\t\tVector<String> debug_modes;",
          "new_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "limit_get",
          "old_text": null,
          "new_text": "RD::get_singleton()->limit_get(RD::LIMIT_MAX_COMPUTE_WORKGROUP_COUNT_X)",
          "old_line_content": "",
          "new_line_content": "\t\t\tint wg_limit_x = RD::get_singleton()->limit_get(RD::LIMIT_MAX_COMPUTE_WORKGROUP_COUNT_X);",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": null,
          "new_api": "compute_pipeline_create",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_pipeline_create(sdfgi_shader.debug_shader_version)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsdfgi_shader.debug_pipeline = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.debug_shader_version);",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mipmaps.size()",
          "old_line_content": "\t\t\t\t\t\tif (i == 0) {",
          "new_line_content": "\t\t\t\t\tfor (int i = 0; i < mipmaps.size(); i++) {",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": null,
          "new_api": "itos",
          "old_text": null,
          "new_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "old_line_content": "",
          "new_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[pass == 0 ? VOXEL_GI_SHADER_VERSION_COMPUTE_LIGHT : VOXEL_GI_SHADER_VERSION_COMPUTE_SECOND_BOUNCE])",
          "old_line_content": "\t\t\t\t\t\t} else if (i == 1) {",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[pass == 0 ? VOXEL_GI_SHADER_VERSION_COMPUTE_LIGHT : VOXEL_GI_SHADER_VERSION_COMPUTE_SECOND_BOUNCE]);",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": null,
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_COMPUTE_MIPMAP])",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_COMPUTE_MIPMAP]);",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "versions.push_back(\"\\n#define MODE_VISIBILITY\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\tversions.push_back(\"\\n#define MODE_VISIBILITY\\n\");",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": null,
          "new_api": "version_create",
          "old_text": null,
          "new_text": "sdfgi_shader.debug_probes.version_create()",
          "old_line_content": "",
          "new_line_content": "\t\tsdfgi_shader.debug_probes_shader = sdfgi_shader.debug_probes.version_create();",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": null,
          "new_api": "compute_list_add_barrier",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_add_barrier(compute_list)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_add_barrier(compute_list); //wait til previous step is done",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": null,
          "new_api": "compute_list_bind_uniform_set",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].uniform_set, 0)",
          "old_line_content": "\t\t\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": null,
          "new_api": "compute_list_bind_uniform_set",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].second_bounce_uniform_set, 0)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].second_bounce_uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": null,
          "new_api": "RD::PipelineColorBlendState::create_disabled()",
          "old_text": null,
          "new_text": "RD::PipelineColorBlendState::create_disabled()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tsdfgi_shader.debug_probes_pipeline[i].setup(debug_probes_shader_version, RD::RENDER_PRIMITIVE_TRIANGLE_STRIPS, rs, RD::PipelineMultisampleState(), ds, RD::PipelineColorBlendState::create_disabled(), 0);",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": null,
          "new_api": "compute_list_dispatch",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1)",
          "old_line_content": "\t\t\t\t\t\t\twg_todo -= wg_count;",
          "new_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1);",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": null,
          "new_api": "GLOBAL_GET",
          "old_text": null,
          "new_text": "GLOBAL_GET(\"rendering/global_illumination/gi/use_half_resolution\")",
          "old_line_content": "}",
          "new_line_content": "\thalf_resolution = GLOBAL_GET(\"rendering/global_illumination/gi/use_half_resolution\");",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": null,
          "new_api": "compute_list_add_barrier",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_add_barrier(compute_list)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_add_barrier(compute_list); //wait til previous step is done",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "RD::get_singleton()->free(sdfgi_ubo)",
          "old_line_content": "",
          "new_line_content": "\tRD::get_singleton()->free(sdfgi_ubo);",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": null,
          "new_api": "compute_list_bind_compute_pipeline",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_WRITE_TEXTURE])",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_WRITE_TEXTURE]);",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": null,
          "new_api": "compute_list_bind_uniform_set",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].write_uniform_set, 0)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].write_uniform_set, 0);",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": null,
          "new_api": "version_free",
          "old_text": null,
          "new_text": "sdfgi_shader.preprocess.version_free(sdfgi_shader.preprocess_shader)",
          "old_line_content": "",
          "new_line_content": "\tsdfgi_shader.preprocess.version_free(sdfgi_shader.preprocess_shader);",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": null,
          "new_api": "memdelete_arr",
          "old_text": null,
          "new_text": "memdelete_arr(voxel_gi_lights)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemdelete_arr(voxel_gi_lights);",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": null,
          "new_api": "compute_list_dispatch",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1)",
          "old_line_content": "\t\t\t\t\t\twg_todo -= wg_count;",
          "new_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_dispatch(compute_list, wg_count, 1, 1);",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": null,
          "new_api": "memnew",
          "old_text": null,
          "new_text": "memnew(SDFGI)",
          "old_line_content": "",
          "new_line_content": "\tSDFGI *sdfgi = memnew(SDFGI);",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "sdfgi->create(p_env, p_world_position, p_requested_history_size, this)",
          "old_line_content": "",
          "new_line_content": "\tsdfgi->create(p_env, p_world_position, p_requested_history_size, this);",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "compute_list_end",
          "old_text": null,
          "new_text": "RD::get_singleton()->compute_list_end()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRD::get_singleton()->compute_list_end();",
          "content_same": false
        },
        {
          "line": 3029,
          "old_api": null,
          "new_api": "ERR_FAIL_COND",
          "old_text": null,
          "new_text": "ERR_FAIL_COND(rb == nullptr)",
          "old_line_content": "",
          "new_line_content": "\tERR_FAIL_COND(rb == nullptr);",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(octree_size.x, octree_size.y)",
          "old_line_content": "",
          "new_line_content": "\t\tint multiplier = dynamic_maps[0].size / MAX(MAX(octree_size.x, octree_size.y), octree_size.z);",
          "content_same": false
        },
        {
          "line": 3031,
          "old_api": null,
          "new_api": "render_buffers_get_voxel_gi_buffer",
          "old_text": null,
          "new_text": "p_scene_render->render_buffers_get_voxel_gi_buffer(p_render_buffers)",
          "old_line_content": "",
          "new_line_content": "\tRID voxel_gi_buffer = p_scene_render->render_buffers_get_voxel_gi_buffer(p_render_buffers);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": null,
          "new_api": "Vector3",
          "old_text": null,
          "new_text": "Vector3(multiplier, multiplier, multiplier)",
          "old_line_content": "",
          "new_line_content": "\t\toversample_scale.basis.scale(Vector3(multiplier, multiplier, multiplier));",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": null,
          "new_api": "affine_inverse",
          "old_text": null,
          "new_text": "to_world_xform.affine_inverse()",
          "old_line_content": "",
          "new_line_content": "\t\tTransform3D to_probe_xform = to_world_xform.affine_inverse();",
          "content_same": false
        },
        {
          "line": 2530,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "p_dynamic_objects.size()",
          "old_line_content": "\t\t\tRendererSceneRender::GeometryInstance *instance = p_dynamic_objects[i];",
          "new_line_content": "\t\tfor (int i = 0; i < (int)p_dynamic_objects.size(); i++) {",
          "content_same": false
        },
        {
          "line": 3043,
          "old_api": null,
          "new_api": "get_probe_instance",
          "old_text": null,
          "new_text": "get_probe_instance(p_voxel_gi_instances[i])",
          "old_line_content": "",
          "new_line_content": "\t\t\tVoxelGIInstance *gipi = get_probe_instance(p_voxel_gi_instances[i]);",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "geometry_instance_get_aabb",
          "old_text": null,
          "new_text": "p_scene_render->geometry_instance_get_aabb(instance)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAABB aabb = (to_probe_xform * p_scene_render->geometry_instance_get_transform(instance)).xform(p_scene_render->geometry_instance_get_aabb(instance));",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": null,
          "new_api": "Vector3i",
          "old_text": null,
          "new_text": "Vector3i(1, 1, 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tVector3i end = aabb.position + aabb.size + Vector3i(1, 1, 1);",
          "content_same": false
        },
        {
          "line": 3051,
          "old_api": null,
          "new_api": "affine_inverse",
          "old_text": null,
          "new_text": "gipi->transform.affine_inverse()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tTransform3D to_cell = storage->voxel_gi_get_to_cell_xform(gipi->probe) * gipi->transform.affine_inverse() * to_camera;",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(end[j], octree_size[j] * multiplier)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tend[j] = MIN(end[j], octree_size[j] * multiplier);",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": null,
          "new_api": "voxel_gi_get_octree_size",
          "old_text": null,
          "new_text": "storage->voxel_gi_get_octree_size(base_probe)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tVector3 bounds = storage->voxel_gi_get_octree_size(base_probe);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3075,
          "old_api": "voxel_gi_get_energy",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_energy(base_probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgipd.dynamic_range = storage->voxel_gi_get_dynamic_range(base_probe) * storage->voxel_gi_get_energy(base_probe);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3(0, 1, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tVector3(0, 1, 0),",
          "new_line_content": "\t\t\t\tstatic const Vector3 render_up[6] = {",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": "RID",
          "new_api": null,
          "old_text": "RID()",
          "new_text": null,
          "old_line_content": "\t\tif (texture == RID()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": "get_center",
          "new_api": null,
          "old_text": "aabb.get_center()",
          "new_text": null,
          "old_line_content": "\t\t\t\tVector3 center = aabb.get_center();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": "set_look_at",
          "new_api": null,
          "old_text": "xform.set_look_at(center - aabb.size * 0.5 * render_dir, center, up_dir)",
          "new_text": null,
          "old_line_content": "\t\t\t\txform.set_look_at(center - aabb.size * 0.5 * render_dir, center, up_dir);",
          "new_line_content": "\t\t\t\tTransform3D xform;",
          "content_same": false
        },
        {
          "line": 2582,
          "old_api": "get_axis",
          "new_api": null,
          "old_text": "xform.basis.get_axis(0).abs()",
          "new_text": null,
          "old_line_content": "\t\t\t\tVector3 x_dir = xform.basis.get_axis(0).abs();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": "uniform_set_is_valid",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)",
          "new_text": null,
          "old_line_content": "\t\tif (RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)) {",
          "new_line_content": "\tif (voxel_gi_instances_changed) {",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": "RID",
          "new_api": null,
          "old_text": "RID()",
          "new_text": null,
          "old_line_content": "\t\trb->gi.uniform_set = RID();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3101,
          "old_api": "uniform_set_is_valid",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_set_is_valid(rb->volumetric_fog->fog_uniform_set)",
          "new_text": null,
          "old_line_content": "\t\t\tif (RD::get_singleton()->uniform_set_is_valid(rb->volumetric_fog->fog_uniform_set)) {",
          "new_line_content": "\t\tif (rb->volumetric_fog) {",
          "content_same": false
        },
        {
          "line": 2590,
          "old_api": "get_axis",
          "new_api": null,
          "old_text": "xform.basis.get_axis(0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tbool x_flip = bool(Vector3(1, 1, 1).dot(xform.basis.get_axis(0)) < 0);",
          "new_line_content": "\t\t\t\tRect2i rect(aabb.position[x_axis], aabb.position[y_axis], aabb.size[x_axis], aabb.size[y_axis]);",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": "RID",
          "new_api": null,
          "old_text": "RID()",
          "new_text": null,
          "old_line_content": "\t\t\trb->volumetric_fog->fog_uniform_set = RID();",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "set_orthogonal",
          "new_api": null,
          "old_text": "cm.set_orthogonal(-rect.size.width / 2, rect.size.width / 2, -rect.size.height / 2, rect.size.height / 2, 0.0001, aabb.size[z_axis])",
          "new_text": null,
          "old_line_content": "\t\t\t\tcm.set_orthogonal(-rect.size.width / 2, rect.size.width / 2, -rect.size.height / 2, rect.size.height / 2, 0.0001, aabb.size[z_axis]);",
          "new_line_content": "\t\t\t\tCameraMatrix cm;",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_scene_render->cull_argument.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (p_scene_render->cull_argument.size() == 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3112,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_voxel_gi_instances.size()",
          "new_text": null,
          "old_line_content": "\tif (p_voxel_gi_instances.size() > 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": "Vector2i",
          "new_api": null,
          "old_text": "Vector2i()",
          "new_text": null,
          "old_line_content": "\t\t\t\tp_scene_render->_render_material(to_world_xform * xform, cm, true, p_scene_render->cull_argument, dynamic_maps[0].fb, Rect2i(Vector2i(), rect.size));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3115,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_voxel_gi_instances.size()",
          "new_text": null,
          "old_line_content": "\t\tRD::get_singleton()->buffer_update(voxel_gi_buffer, 0, sizeof(VoxelGIData) * MIN((uint64_t)MAX_VOXEL_GI_INSTANCES, p_voxel_gi_instances.size()), voxel_gi_data, RD::BARRIER_MASK_COMPUTE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&push_constant, 0, sizeof(VoxelGIDynamicPushConstant))",
          "new_text": null,
          "old_line_content": "\t\t\t\tmemset(&push_constant, 0, sizeof(VoxelGIDynamicPushConstant));",
          "new_line_content": "\t\t\t\tVoxelGIDynamicPushConstant push_constant;",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": "draw_command_end_label",
          "new_api": null,
          "old_text": "RD::get_singleton()->draw_command_end_label()",
          "new_text": null,
          "old_line_content": "\t\tRD::get_singleton()->draw_command_end_label();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_light_instances.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tpush_constant.light_count = p_light_instances.size();",
          "new_line_content": "\t\t\t\tpush_constant.limits[2] = octree_size.z;",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": "draw_command_begin_label",
          "new_api": null,
          "old_text": "RD::get_singleton()->draw_command_begin_label(\"GI Render\")",
          "new_text": null,
          "old_line_content": "\tRD::get_singleton()->draw_command_begin_label(\"GI Render\");",
          "new_line_content": "void RendererSceneGIRD::process_gi(RID p_render_buffers, RID p_normal_roughness_buffer, RID p_voxel_gi_buffer, RID p_environment, const CameraMatrix &p_projection, const Transform3D &p_transform, const PagedArray<RID> &p_voxel_gi_instances, RendererSceneRenderRD *p_scene_render) {",
          "content_same": false
        },
        {
          "line": 3124,
          "old_api": "get_or_null",
          "new_api": null,
          "old_text": "p_scene_render->render_buffers_owner.get_or_null(p_render_buffers)",
          "new_text": null,
          "old_line_content": "\tRendererSceneRenderRD::RenderBuffers *rb = p_scene_render->render_buffers_owner.get_or_null(p_render_buffers);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3127,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "rb->ambient_buffer.is_null()",
          "new_text": null,
          "old_line_content": "\tif (rb->ambient_buffer.is_null() || rb->gi.using_half_size_gi != half_resolution) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": "voxel_gi_get_dynamic_range",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_dynamic_range(probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpush_constant.dynamic_range = storage->voxel_gi_get_dynamic_range(probe);",
          "new_line_content": "\t\t\t\tpush_constant.pos_multiplier = float(1.0) / multiplier;",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": "RD::TextureView()",
          "new_api": null,
          "old_text": "RD::TextureView()",
          "new_text": null,
          "old_line_content": "\t\trb->reflection_buffer = RD::get_singleton()->texture_create(tf, RD::TextureView());",
          "new_line_content": "\t\ttf.usage_bits = RD::TEXTURE_USAGE_SAMPLING_BIT | RD::TEXTURE_USAGE_STORAGE_BIT;",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": "voxel_gi_get_propagation",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_propagation(probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpush_constant.propagation = storage->voxel_gi_get_propagation(probe);",
          "new_line_content": "\t\t\t\tpush_constant.on_mipmap = false;",
          "content_same": false
        },
        {
          "line": 3151,
          "old_api": "get_z_near",
          "new_api": null,
          "old_text": "p_projection.get_z_near()",
          "new_text": null,
          "old_line_content": "\tpush_constant.z_near = p_projection.get_z_near();",
          "new_line_content": "\tpush_constant.screen_size[1] = rb->internal_height;",
          "content_same": false
        },
        {
          "line": 2640,
          "old_api": "compute_list_begin",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_begin()",
          "new_text": null,
          "old_line_content": "\t\t\t\tRD::ComputeListID compute_list = RD::get_singleton()->compute_list_begin();",
          "new_line_content": "\t\t\t\t//process lighting",
          "content_same": false
        },
        {
          "line": 3158,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_voxel_gi_instances.size()",
          "new_text": null,
          "old_line_content": "\tpush_constant.max_voxel_gi_instances = MIN((uint64_t)MAX_VOXEL_GI_INSTANCES, p_voxel_gi_instances.size());",
          "new_line_content": "\tpush_constant.proj_info[3] = (1.0f + p_projection.matrix[1][2]) / p_projection.matrix[1][1];",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": "size",
          "new_api": null,
          "old_text": "dynamic_maps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tfor (int k = 1; k < dynamic_maps.size(); k++) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(1, rect.size.x >> 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\trect.size.x = MAX(1, rect.size.x >> 1);",
          "new_line_content": "\t\t\t\t\trect.position.x >>= 1;",
          "content_same": false
        },
        {
          "line": 3177,
          "old_api": "uniform_set_is_valid",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)",
          "new_text": null,
          "old_line_content": "\tif (rb->gi.uniform_set.is_null() || !RD::get_singleton()->uniform_set_is_valid(rb->gi.uniform_set)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": "size",
          "new_api": null,
          "old_text": "rb->sdfgi->cascades.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "new_line_content": "\t\t\tfor (uint32_t j = 0; j < SDFGI::MAX_CASCADES; j++) {",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(1, rect.size.y >> 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\trect.size.y = MAX(1, rect.size.y >> 1);",
          "new_line_content": "\t\t\t\t\trect.position.y >>= 1;",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2682,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(1, push_constant.limits[l] >> 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tpush_constant.limits[l] = MAX(1, push_constant.limits[l] >> 1);",
          "new_line_content": "\t\t\t\t\t\tfor (int l = 0; l < 3; l++) {",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": "size",
          "new_api": null,
          "old_text": "rb->sdfgi->cascades.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "new_line_content": "\t\t\tfor (uint32_t j = 0; j < SDFGI::MAX_CASCADES; j++) {",
          "content_same": false
        },
        {
          "line": 3200,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": "compute_list_add_barrier",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_add_barrier(compute_list)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_add_barrier(compute_list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "texture_is_format_supported_for_usage",
          "new_api": null,
          "old_text": "RD::get_singleton()->texture_is_format_supported_for_usage(RD::DATA_FORMAT_D32_SFLOAT, RD::TEXTURE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdtf.format = RD::get_singleton()->texture_is_format_supported_for_usage(RD::DATA_FORMAT_D32_SFLOAT, RD::TEXTURE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT) ? RD::DATA_FORMAT_D32_SFLOAT : RD::DATA_FORMAT_X8_D24_UNORM_PACK32;",
          "new_line_content": "\t\t\t\t\t\t// Use 16-bit depth when supported to improve performance.",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE]);",
          "new_line_content": "\t\t\t\t\tif (dynamic_maps[k].mipmap < 0) {",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "RD::TextureView()",
          "new_api": null,
          "old_text": "RD::TextureView()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdmap.fb_depth = RD::get_singleton()->texture_create(dtf, RD::TextureView());",
          "new_line_content": "\t\t\t\t\t\tdtf.usage_bits = RD::TEXTURE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT;",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": "size",
          "new_api": null,
          "old_text": "rb->sdfgi->cascades.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "new_line_content": "\t\t\tfor (uint32_t j = 0; j < SDFGI::MAX_CASCADES; j++) {",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_PLOT])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_PLOT]);",
          "new_line_content": "\t\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 3213,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "compute_list_bind_uniform_set",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[k].uniform_set, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, dynamic_maps[k].uniform_set, 0);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3216,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "RD::TextureView()",
          "new_api": null,
          "old_text": "RD::TextureView()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdmap.depth = RD::get_singleton()->texture_create(dtf, RD::TextureView());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": "size",
          "new_api": null,
          "old_text": "dynamic_maps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (dynamic_maps.size() == 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "compute_list_end",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_end()",
          "new_text": null,
          "old_line_content": "\t\t\t\tRD::get_singleton()->compute_list_end();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": "size",
          "new_api": null,
          "old_text": "rb->sdfgi->cascades.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (rb->sdfgi && j < rb->sdfgi->cascades.size()) {",
          "new_line_content": "\t\t\tfor (uint32_t j = 0; j < SDFGI::MAX_CASCADES; j++) {",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "RD::TextureView()",
          "new_api": null,
          "old_text": "RD::TextureView()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdmap.albedo = RD::get_singleton()->texture_create(dtf, RD::TextureView());",
          "new_line_content": "\t\t\t\t\t\tdtf.usage_bits = RD::TEXTURE_USAGE_STORAGE_BIT | RD::TEXTURE_USAGE_COLOR_ATTACHMENT_BIT;",
          "content_same": false
        },
        {
          "line": 3226,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "voxel_gi_get_version",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_version(probe)",
          "new_text": null,
          "old_line_content": "\tlast_probe_version = storage->voxel_gi_get_version(probe);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "fb.push_back(dmap.albedo)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tfb.push_back(dmap.albedo);",
          "new_line_content": "\t\t\t\t\t\tVector<RID> fb;",
          "content_same": false
        },
        {
          "line": 3229,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\tif (mipmaps.size() == 0) {",
          "new_line_content": "void RendererSceneGIRD::VoxelGIInstance::debug(RD::DrawListID p_draw_list, RID p_framebuffer, const CameraMatrix &p_camera_with_transform, bool p_lighting, bool p_emission, float p_alpha) {",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": "framebuffer_create",
          "new_api": null,
          "old_text": "RD::get_singleton()->framebuffer_create(fb)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdmap.fb = RD::get_singleton()->framebuffer_create(fb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": "affine_inverse",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_to_cell_xform(probe).affine_inverse()",
          "new_text": null,
          "old_line_content": "\tCameraMatrix cam_transform = (p_camera_with_transform * CameraMatrix(transform)) * CameraMatrix(storage->voxel_gi_get_to_cell_xform(probe).affine_inverse());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->sdfgi->occlusion_texture)",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(rb->sdfgi->occlusion_texture);",
          "new_line_content": "\t\t\tif (rb->sdfgi) {",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": "voxel_gi_get_octree_size",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_octree_size(probe)",
          "new_text": null,
          "old_line_content": "\tVector3i octree_size = storage->voxel_gi_get_octree_size(probe);",
          "new_line_content": "\tint level = 0;",
          "content_same": false
        },
        {
          "line": 3238,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_3D_WHITE));",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 3240,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": "voxel_gi_get_dynamic_range",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_dynamic_range(probe)",
          "new_text": null,
          "old_line_content": "\tpush_constant.dynamic_range = storage->voxel_gi_get_dynamic_range(probe);",
          "new_line_content": "\tpush_constant.alpha = p_alpha;",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(gi->voxel_gi_lights_uniform)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(gi->voxel_gi_lights_uniform);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 3;",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": "sampler_rd_get_default",
          "new_api": null,
          "old_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "new_line_content": "\t\t\tu.binding = 6;",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.albedo)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.albedo);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 5;",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": "sampler_rd_get_default",
          "new_api": null,
          "old_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "new_line_content": "\t\t\tu.binding = 7;",
          "content_same": false
        },
        {
          "line": 2746,
          "old_api": "is_valid",
          "new_api": null,
          "old_text": "gi->voxel_gi_debug_uniform_set.is_valid()",
          "new_text": null,
          "old_line_content": "\tif (gi->voxel_gi_debug_uniform_set.is_valid()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.normal)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.normal);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 6;",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->ambient_buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(rb->ambient_buffer);",
          "new_line_content": "\t\t\tu.binding = 9;",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.orm)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.orm);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 7;",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "voxel_gi_get_data_buffer",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_data_buffer(probe)",
          "new_text": null,
          "old_line_content": "\t\tu.ids.push_back(storage->voxel_gi_get_data_buffer(probe));",
          "new_line_content": "\t\tu.binding = 1;",
          "content_same": false
        },
        {
          "line": 3269,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->reflection_buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(rb->reflection_buffer);",
          "new_line_content": "\t\t\tu.binding = 10;",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.fb_depth)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.fb_depth);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 8;",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(texture)",
          "new_text": null,
          "old_line_content": "\t\tu.ids.push_back(texture);",
          "new_line_content": "\t\tu.binding = 2;",
          "content_same": false
        },
        {
          "line": 3278,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->sdfgi->lightprobe_texture)",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(rb->sdfgi->lightprobe_texture);",
          "new_line_content": "\t\t\tif (rb->sdfgi) {",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": "voxel_gi_get_sdf_texture",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_sdf_texture(probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(storage->voxel_gi_get_sdf_texture(probe));",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 9;",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": "sampler_rd_get_default",
          "new_api": null,
          "old_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_NEAREST, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "new_text": null,
          "old_line_content": "\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_NEAREST, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "new_line_content": "\t\tu.binding = 3;",
          "content_same": false
        },
        {
          "line": 3280,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_2D_ARRAY_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_2D_ARRAY_WHITE));",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 3282,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": "sampler_rd_get_default",
          "new_api": null,
          "old_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 10;",
          "content_same": false
        },
        {
          "line": 3288,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->depth_texture)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(rb->depth_texture);",
          "new_line_content": "\t\t\tu.binding = 12;",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "uniform_set_create",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_debug_shader_version_shaders[0], 0)",
          "new_text": null,
          "old_line_content": "\tgi->voxel_gi_debug_uniform_set = RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_debug_shader_version_shaders[0], 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.texture)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.texture);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 11;",
          "content_same": false
        },
        {
          "line": 3295,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(p_normal_roughness_buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(p_normal_roughness_buffer);",
          "new_line_content": "\t\t\tu.binding = 13;",
          "content_same": false
        },
        {
          "line": 2787,
          "old_api": "get_render_pipeline",
          "new_api": null,
          "old_text": "RD::get_singleton()->draw_list_bind_render_pipeline(\n\t\t\tp_draw_list,\n\t\t\tgi->voxel_gi_debug_shader_version_pipelines[voxel_gi_debug_pipeline].get_render_pipeline(RD::INVALID_ID, RD::get_singleton()->framebuffer_get_format(p_framebuffer)))",
          "new_text": null,
          "old_line_content": "\tRD::get_singleton()->draw_list_bind_render_pipeline(",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.depth)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.depth);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 12;",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": "framebuffer_get_format",
          "new_api": null,
          "old_text": "RD::get_singleton()->framebuffer_get_format(p_framebuffer)",
          "new_text": null,
          "old_line_content": "\t\t\tgi->voxel_gi_debug_shader_version_pipelines[voxel_gi_debug_pipeline].get_render_pipeline(RD::INVALID_ID, RD::get_singleton()->framebuffer_get_format(p_framebuffer)));",
          "new_line_content": "\t\t\tp_draw_list,",
          "content_same": false
        },
        {
          "line": 3302,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_BLACK)",
          "new_text": null,
          "old_line_content": "\t\t\tRID buffer = p_voxel_gi_buffer.is_valid() ? p_voxel_gi_buffer : storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_BLACK);",
          "new_line_content": "\t\t\tu.binding = 14;",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": "uniform_set_create",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_lighting_shader_version_shaders[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING], 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tdmap.uniform_set = RD::get_singleton()->uniform_set_create(uniforms, gi->voxel_gi_lighting_shader_version_shaders[VOXEL_GI_SHADER_VERSION_DYNAMIC_OBJECT_LIGHTING], 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tbool write = dmap.mipmap < (mipmaps.size() - 1);",
          "new_line_content": "\t\t\t\t\t\tbool plot = dmap.mipmap >= 0;",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(sdfgi_ubo)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(sdfgi_ubo);",
          "new_line_content": "\t\t\tu.binding = 15;",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "GLOBAL_GET",
          "new_api": null,
          "old_text": "GLOBAL_GET(\"rendering/global_illumination/sdfgi/probe_ray_count\")",
          "new_text": null,
          "old_line_content": "\tsdfgi_ray_count = RS::EnvironmentSDFGIRayCount(CLAMP(int32_t(GLOBAL_GET(\"rendering/global_illumination/sdfgi/probe_ray_count\")), 0, int32_t(RS::ENV_SDFGI_RAY_COUNT_MAX - 1)));",
          "new_line_content": "RendererSceneGIRD::RendererSceneGIRD() {",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": "size",
          "new_api": null,
          "old_text": "dynamic_maps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tu.ids.push_back(dynamic_maps[dynamic_maps.size() - 1].texture);",
          "new_line_content": "\t\t\t\t\t\t\tu.binding = 5;",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->gi.voxel_gi_buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tu.ids.push_back(rb->gi.voxel_gi_buffer);",
          "new_line_content": "\t\t\tu.binding = 16;",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "size",
          "new_api": null,
          "old_text": "dynamic_maps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tu.ids.push_back(dynamic_maps[dynamic_maps.size() - 1].depth);",
          "new_line_content": "\t\t\t\t\t\t\tu.binding = 6;",
          "content_same": false
        },
        {
          "line": 3325,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(rb->gi.voxel_gi_textures[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(rb->gi.voxel_gi_textures[i]);",
          "new_line_content": "\t\t\tfor (int i = 0; i < MAX_VOXEL_GI_INSTANCES; i++) {",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": "memnew_arr",
          "new_api": null,
          "old_text": "memnew_arr(VoxelGILight, voxel_gi_max_lights)",
          "new_text": null,
          "old_line_content": "\t\tvoxel_gi_lights = memnew_arr(VoxelGILight, voxel_gi_max_lights);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "uniforms.push_back(u)",
          "new_text": null,
          "old_line_content": "\t\t\tuniforms.push_back(u);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3330,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "shader.version_get_shader(shader_version, 0)",
          "new_text": null,
          "old_line_content": "\t\trb->gi.uniform_set = RD::get_singleton()->uniform_set_create(uniforms, shader.version_get_shader(shader_version, 0), 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": "itos",
          "new_api": null,
          "old_text": "itos(voxel_gi_max_lights)",
          "new_text": null,
          "old_line_content": "\t\tString defines = \"\\n#define MAX_LIGHTS \" + itos(voxel_gi_max_lights) + \"\\n\";",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.texture)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.texture);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 7;",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "versions.push_back(\"\\n#define MODE_COMPUTE_LIGHT\\n\")",
          "new_text": null,
          "old_line_content": "\t\tversions.push_back(\"\\n#define MODE_COMPUTE_LIGHT\\n\");",
          "new_line_content": "\t\tVector<String> versions;",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(dmap.depth)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(dmap.depth);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 8;",
          "content_same": false
        },
        {
          "line": 3341,
          "old_api": "compute_list_begin",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_begin(true)",
          "new_text": null,
          "old_line_content": "\tRD::ComputeListID compute_list = RD::get_singleton()->compute_list_begin(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": "initialize",
          "new_api": null,
          "old_text": "voxel_gi_shader.initialize(versions, defines)",
          "new_text": null,
          "old_line_content": "\t\tvoxel_gi_shader.initialize(versions, defines);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "voxel_gi_shader.version_get_shader(voxel_gi_lighting_shader_version, i)",
          "new_text": null,
          "old_line_content": "\t\t\tvoxel_gi_lighting_shader_version_shaders[i] = voxel_gi_shader.version_get_shader(voxel_gi_lighting_shader_version, i);",
          "new_line_content": "\t\tfor (int i = 0; i < VOXEL_GI_SHADER_VERSION_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 3347,
          "old_api": "compute_list_dispatch_threads",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width >> 1, rb->internal_height >> 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tRD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width >> 1, rb->internal_height >> 1, 1);",
          "new_line_content": "\tif (rb->gi.using_half_size_gi) {",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": "voxel_gi_get_sdf_texture",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_sdf_texture(probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tu.ids.push_back(storage->voxel_gi_get_sdf_texture(probe));",
          "new_line_content": "\t\t\t\t\t\t\tu.binding = 9;",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": "compute_list_dispatch_threads",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width, rb->internal_height, 1)",
          "new_text": null,
          "old_line_content": "\t\tRD::get_singleton()->compute_list_dispatch_threads(compute_list, rb->internal_width, rb->internal_height, 1);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 3353,
          "old_api": "draw_command_end_label",
          "new_api": null,
          "old_text": "RD::get_singleton()->draw_command_end_label()",
          "new_text": null,
          "old_line_content": "\tRD::get_singleton()->draw_command_end_label();",
          "new_line_content": "\t//RD::get_singleton()->compute_list_end(RD::BARRIER_MASK_NO_BARRIER); //no barriers, let other compute, raster and transfer happen at the same time",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "versions.push_back(\"\\n#define MODE_DEBUG_COLOR\\n\")",
          "new_text": null,
          "old_line_content": "\t\tversions.push_back(\"\\n#define MODE_DEBUG_COLOR\\n\");",
          "new_line_content": "\t\tVector<String> versions;",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": "sampler_rd_get_default",
          "new_api": null,
          "old_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "new_line_content": "\t\t\t\t\t\t\tu.binding = 10;",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": "initialize",
          "new_api": null,
          "old_text": "voxel_gi_debug_shader.initialize(versions, defines)",
          "new_text": null,
          "old_line_content": "\t\tvoxel_gi_debug_shader.initialize(versions, defines);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3361,
          "old_api": "make_rid",
          "new_api": null,
          "old_text": "voxel_gi_instance_owner.make_rid(voxel_gi)",
          "new_text": null,
          "old_line_content": "\tRID rid = voxel_gi_instance_owner.make_rid(voxel_gi);",
          "new_line_content": "\tvoxel_gi.probe = p_base;",
          "content_same": false
        },
        {
          "line": 2850,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "voxel_gi_debug_shader.version_get_shader(voxel_gi_debug_shader_version, i)",
          "new_text": null,
          "old_line_content": "\t\t\tvoxel_gi_debug_shader_version_shaders[i] = voxel_gi_debug_shader.version_get_shader(voxel_gi_debug_shader_version, i);",
          "new_line_content": "\t\tfor (int i = 0; i < VOXEL_GI_DEBUG_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 2341,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "u.ids.push_back(mipmaps[dmap.mipmap].texture)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tu.ids.push_back(mipmaps[dmap.mipmap].texture);",
          "new_line_content": "\t\t\t\t\t\t\t\tu.binding = 11;",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": "get_probe_instance",
          "new_api": null,
          "old_text": "get_probe_instance(p_probe)",
          "new_text": null,
          "old_line_content": "\tVoxelGIInstance *voxel_gi = get_probe_instance(p_probe);",
          "new_line_content": "void RendererSceneGIRD::voxel_gi_instance_set_transform_to_data(RID p_probe, const Transform3D &p_xform) {",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "uniform_set_create",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_set_create(\n\t\t\t\t\t\t\t\tuniforms,\n\t\t\t\t\t\t\t\tgi->voxel_gi_lighting_shader_version_shaders[(write && plot) ? VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE_PLOT : (write ? VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_WRITE : VOXEL_GI_SHADER_VERSION_DYNAMIC_SHRINK_PLOT)],\n\t\t\t\t\t\t\t\t0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdmap.uniform_set = RD::get_singleton()->uniform_set_create(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2859,
          "old_api": "RD::PipelineColorBlendState::create_disabled()",
          "new_api": null,
          "old_text": "RD::PipelineColorBlendState::create_disabled()",
          "new_text": null,
          "old_line_content": "\t\t\tvoxel_gi_debug_shader_version_pipelines[i].setup(voxel_gi_debug_shader_version_shaders[i], RD::RENDER_PRIMITIVE_TRIANGLES, rs, RD::PipelineMultisampleState(), ds, RD::PipelineColorBlendState::create_disabled(), 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3373,
          "old_api": "get_probe_instance",
          "new_api": null,
          "old_text": "get_probe_instance(p_probe)",
          "new_text": null,
          "old_line_content": "\tVoxelGIInstance *voxel_gi = get_probe_instance(p_probe);",
          "new_line_content": "bool RendererSceneGIRD::voxel_gi_needs_update(RID p_probe) const {",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dynamic_maps.push_back(dmap)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdynamic_maps.push_back(dmap);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3376,
          "old_api": "voxel_gi_get_version",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_version(voxel_gi->probe)",
          "new_text": null,
          "old_line_content": "\treturn voxel_gi->last_probe_version != storage->voxel_gi_get_version(voxel_gi->probe);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "preprocess_modes.push_back(\"\\n#define MODE_SCROLL\\n\")",
          "new_text": null,
          "old_line_content": "\t\tpreprocess_modes.push_back(\"\\n#define MODE_SCROLL\\n\");",
          "new_line_content": "\t\tVector<String> preprocess_modes;",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": "get_probe_instance",
          "new_api": null,
          "old_text": "get_probe_instance(p_probe)",
          "new_text": null,
          "old_line_content": "\tVoxelGIInstance *voxel_gi = get_probe_instance(p_probe);",
          "new_line_content": "void RendererSceneGIRD::voxel_gi_update(RID p_probe, bool p_update_light_instances, const Vector<RID> &p_light_instances, const PagedArray<RendererSceneRender::GeometryInstance *> &p_dynamic_objects, RendererSceneRenderRD *p_scene_render) {",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": "update",
          "new_api": null,
          "old_text": "voxel_gi->update(p_update_light_instances, p_light_instances, p_dynamic_objects, p_scene_render)",
          "new_text": null,
          "old_line_content": "\tvoxel_gi->update(p_update_light_instances, p_light_instances, p_dynamic_objects, p_scene_render);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2360,
          "old_api": "_base_uniforms_changed",
          "new_api": null,
          "old_text": "p_scene_render->_base_uniforms_changed()",
          "new_text": null,
          "old_line_content": "\t\tp_scene_render->_base_uniforms_changed();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3387,
          "old_api": "get_or_null",
          "new_api": null,
          "old_text": "voxel_gi_instance_owner.get_or_null(p_voxel_gi)",
          "new_text": null,
          "old_line_content": "\tVoxelGIInstance *voxel_gi = voxel_gi_instance_owner.get_or_null(p_voxel_gi);",
          "new_line_content": "void RendererSceneGIRD::debug_voxel_gi(RID p_voxel_gi, RD::DrawListID p_draw_list, RID p_framebuffer, const CameraMatrix &p_camera_with_transform, bool p_lighting, bool p_emission, float p_alpha) {",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "debug",
          "new_api": null,
          "old_text": "voxel_gi->debug(p_draw_list, p_framebuffer, p_camera_with_transform, p_lighting, p_emission, p_alpha)",
          "new_text": null,
          "old_line_content": "\tvoxel_gi->debug(p_draw_list, p_framebuffer, p_camera_with_transform, p_lighting, p_emission, p_alpha);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\t\tRD::get_singleton()->texture_clear(texture, Color(0, 0, 0, 0), 0, mipmaps.size(), 0, 1);",
          "new_line_content": "\t\t//if it has dynamic object data, it needs to be cleared",
          "content_same": false
        },
        {
          "line": 2880,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "sdfgi_shader.preprocess.version_get_shader(sdfgi_shader.preprocess_shader, i)",
          "new_text": null,
          "old_line_content": "\t\t\tsdfgi_shader.preprocess_pipeline[i] = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.preprocess.version_get_shader(sdfgi_shader.preprocess_shader, i));",
          "new_line_content": "\t\tfor (int i = 0; i < SDFGIShader::PRE_PROCESS_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_dynamic_objects.size()",
          "new_text": null,
          "old_line_content": "\tif (p_update_light_instances || p_dynamic_objects.size() > 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": "itos",
          "new_api": null,
          "old_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "new_text": null,
          "old_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "new_line_content": "\t\t//calculate tables",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "voxel_gi_get_to_cell_xform",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_to_cell_xform(probe)",
          "new_text": null,
          "old_line_content": "\t\t\tTransform3D to_cell = storage->voxel_gi_get_to_cell_xform(probe);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2889,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "direct_light_modes.push_back(\"\\n#define MODE_PROCESS_STATIC\\n\")",
          "new_text": null,
          "old_line_content": "\t\tdirect_light_modes.push_back(\"\\n#define MODE_PROCESS_STATIC\\n\");",
          "new_line_content": "\t\tVector<String> direct_light_modes;",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "sdfgi_shader.direct_light.version_get_shader(sdfgi_shader.direct_light_shader, i)",
          "new_text": null,
          "old_line_content": "\t\t\tsdfgi_shader.direct_light_pipeline[i] = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.direct_light.version_get_shader(sdfgi_shader.direct_light_shader, i));",
          "new_line_content": "\t\tfor (int i = 0; i < SDFGIShader::DIRECT_LIGHT_MODE_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "light_instance_get_base_light",
          "new_api": null,
          "old_text": "p_scene_render->light_instance_get_base_light(light_instance)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRID light = p_scene_render->light_instance_get_base_light(light_instance);",
          "new_line_content": "\t\t\t\tRID light_instance = p_light_instances[i];",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "light_get_type",
          "new_api": null,
          "old_text": "storage->light_get_type(light)",
          "new_text": null,
          "old_line_content": "\t\t\t\tl.type = storage->light_get_type(light);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": "itos",
          "new_api": null,
          "old_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "new_text": null,
          "old_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "new_line_content": "\t\t//calculate tables",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "light_get_param",
          "new_api": null,
          "old_text": "storage->light_get_param(light, RS::LIGHT_PARAM_ATTENUATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\tl.attenuation = storage->light_get_param(light, RS::LIGHT_PARAM_ATTENUATION);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "integrate_modes.push_back(\"\\n#define MODE_PROCESS\\n\")",
          "new_text": null,
          "old_line_content": "\t\tintegrate_modes.push_back(\"\\n#define MODE_PROCESS\\n\");",
          "new_line_content": "\t\tVector<String> integrate_modes;",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "light_get_param",
          "new_api": null,
          "old_text": "storage->light_get_param(light, RS::LIGHT_PARAM_SPOT_ANGLE)",
          "new_text": null,
          "old_line_content": "\t\t\t\tl.cos_spot_angle = Math::cos(Math::deg2rad(storage->light_get_param(light, RS::LIGHT_PARAM_SPOT_ANGLE)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": "light_instance_get_base_transform",
          "new_api": null,
          "old_text": "p_scene_render->light_instance_get_base_transform(light_instance)",
          "new_text": null,
          "old_line_content": "\t\t\t\tTransform3D xform = p_scene_render->light_instance_get_base_transform(light_instance);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, i)",
          "new_text": null,
          "old_line_content": "\t\t\tsdfgi_shader.integrate_pipeline[i] = RD::get_singleton()->compute_pipeline_create(sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, i));",
          "new_line_content": "\t\tfor (int i = 0; i < SDFGIShader::INTEGRATE_MODE_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": "xform",
          "new_api": null,
          "old_text": "to_probe_xform.xform(xform.origin)",
          "new_text": null,
          "old_line_content": "\t\t\t\tVector3 pos = to_probe_xform.xform(xform.origin);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": "texture_rd_get_default",
          "new_api": null,
          "old_text": "storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_CUBEMAP_WHITE)",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(storage->texture_rd_get_default(RendererStorageRD::DEFAULT_RD_TEXTURE_CUBEMAP_WHITE));",
          "new_line_content": "\t\t\t\tu.binding = 0;",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": "light_has_shadow",
          "new_api": null,
          "old_text": "storage->light_has_shadow(light)",
          "new_text": null,
          "old_line_content": "\t\t\t\tl.has_shadow = storage->light_has_shadow(light);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "buffer_update",
          "new_api": null,
          "old_text": "RD::get_singleton()->buffer_update(gi->voxel_gi_lights_uniform, 0, sizeof(VoxelGILight) * light_count, gi->voxel_gi_lights)",
          "new_text": null,
          "old_line_content": "\t\t\tRD::get_singleton()->buffer_update(gi->voxel_gi_lights_uniform, 0, sizeof(VoxelGILight) * light_count, gi->voxel_gi_lights);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": "sampler_rd_get_default",
          "new_api": null,
          "old_text": "storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED)",
          "new_text": null,
          "old_line_content": "\t\t\t\tu.ids.push_back(storage->sampler_rd_get_default(RS::CANVAS_ITEM_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS, RS::CANVAS_ITEM_TEXTURE_REPEAT_DISABLED));",
          "new_line_content": "\t\t\t\tu.binding = 1;",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_dynamic_objects.size()",
          "new_text": null,
          "old_line_content": "\tif (has_dynamic_object_data || p_update_light_instances || p_dynamic_objects.size()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2424,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\t\tif (mipmaps.size()) {",
          "new_line_content": "\t\t// PROCESS MIPMAPS",
          "content_same": false
        },
        {
          "line": 2936,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tsdfgi_shader.integrate_default_sky_uniform_set = RD::get_singleton()->uniform_set_create(uniforms, sdfgi_shader.integrate.version_get_shader(sdfgi_shader.integrate_shader, 0), 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": "voxel_gi_get_octree_size",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_octree_size(probe)",
          "new_text": null,
          "old_line_content": "\t\t\tVector3i probe_size = storage->voxel_gi_get_octree_size(probe);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": "itos",
          "new_api": null,
          "old_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "new_text": null,
          "old_line_content": "\t\tString defines = \"\\n#define SDFGI_OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "new_line_content": "\t\t//calculate tables",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "gi_modes.push_back(\"\\n#define USE_VOXEL_GI_INSTANCES\\n\")",
          "new_text": null,
          "old_line_content": "\t\tgi_modes.push_back(\"\\n#define USE_VOXEL_GI_INSTANCES\\n\");",
          "new_line_content": "\t\tVector<String> gi_modes;",
          "content_same": false
        },
        {
          "line": 2434,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\t\t\tpush_constant.stack_size = mipmaps.size();",
          "new_line_content": "\t\t\tpush_constant.limits[2] = probe_size.z;",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "voxel_gi_get_propagation",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_propagation(probe)",
          "new_text": null,
          "old_line_content": "\t\t\tpush_constant.propagation = storage->voxel_gi_get_propagation(probe);",
          "new_line_content": "\t\t\tpush_constant.emission_scale = 1.0;",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": "initialize",
          "new_api": null,
          "old_text": "shader.initialize(gi_modes, defines)",
          "new_text": null,
          "old_line_content": "\t\tshader.initialize(gi_modes, defines);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "shader.version_get_shader(shader_version, i)",
          "new_text": null,
          "old_line_content": "\t\t\tpipelines[i] = RD::get_singleton()->compute_pipeline_create(shader.version_get_shader(shader_version, i));",
          "new_line_content": "\t\tfor (int i = 0; i < MODE_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": "compute_list_begin",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_begin()",
          "new_text": null,
          "old_line_content": "\t\t\tRD::ComputeListID compute_list = RD::get_singleton()->compute_list_begin();",
          "new_line_content": "\t*/",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": "uniform_buffer_create",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_buffer_create(sizeof(SDFGIData))",
          "new_text": null,
          "old_line_content": "\t\tsdfgi_ubo = RD::get_singleton()->uniform_buffer_create(sizeof(SDFGIData));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": "voxel_gi_is_using_two_bounces",
          "new_api": null,
          "old_text": "storage->voxel_gi_is_using_two_bounces(probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpasses = storage->voxel_gi_is_using_two_bounces(probe) ? 2 : 1;",
          "new_line_content": "\t\t\tif (p_update_light_instances) {",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": "itos",
          "new_api": null,
          "old_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "new_text": null,
          "old_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "debug_modes.push_back(\"\")",
          "new_text": null,
          "old_line_content": "\t\tdebug_modes.push_back(\"\");",
          "new_line_content": "\t\tVector<String> debug_modes;",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "limit_get",
          "new_api": null,
          "old_text": "RD::get_singleton()->limit_get(RD::LIMIT_MAX_COMPUTE_WORKGROUP_COUNT_X)",
          "new_text": null,
          "old_line_content": "\t\t\tint wg_limit_x = RD::get_singleton()->limit_get(RD::LIMIT_MAX_COMPUTE_WORKGROUP_COUNT_X);",
          "new_line_content": "\t\t\tint wg_size = 64;",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tfor (int i = 0; i < mipmaps.size(); i++) {",
          "new_line_content": "\t\t\t\tif (p_update_light_instances) {",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": "itos",
          "new_api": null,
          "old_text": "itos(SDFGI::LIGHTPROBE_OCT_SIZE)",
          "new_text": null,
          "old_line_content": "\t\tString defines = \"\\n#define OCT_SIZE \" + itos(SDFGI::LIGHTPROBE_OCT_SIZE) + \"\\n\";",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[pass == 0 ? VOXEL_GI_SHADER_VERSION_COMPUTE_LIGHT : VOXEL_GI_SHADER_VERSION_COMPUTE_SECOND_BOUNCE])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[pass == 0 ? VOXEL_GI_SHADER_VERSION_COMPUTE_LIGHT : VOXEL_GI_SHADER_VERSION_COMPUTE_SECOND_BOUNCE]);",
          "new_line_content": "\t\t\t\t\t\tif (i == 0) {",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "versions.push_back(\"\\n#define MODE_PROBES\\n\")",
          "new_text": null,
          "old_line_content": "\t\tversions.push_back(\"\\n#define MODE_PROBES\\n\");",
          "new_line_content": "\t\tVector<String> versions;",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_COMPUTE_MIPMAP])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_COMPUTE_MIPMAP]);",
          "new_line_content": "\t\t\t\t\t\t} else if (i == 1) {",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": "initialize",
          "new_api": null,
          "old_text": "sdfgi_shader.debug_probes.initialize(versions, defines)",
          "new_text": null,
          "old_line_content": "\t\tsdfgi_shader.debug_probes.initialize(versions, defines);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "compute_list_add_barrier",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_add_barrier(compute_list)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_add_barrier(compute_list); //wait til previous step is done",
          "new_line_content": "\t\t\t\t\t\tif (pass == 1 || i > 0) {",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "compute_list_bind_uniform_set",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].uniform_set, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].uniform_set, 0);",
          "new_line_content": "\t\t\t\t\t\tif (pass == 0 || i > 0) {",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": "compute_list_bind_uniform_set",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].second_bounce_uniform_set, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tRD::get_singleton()->compute_list_bind_uniform_set(compute_list, mipmaps[i].second_bounce_uniform_set, 0);",
          "new_line_content": "\t\t\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "version_get_shader",
          "new_api": null,
          "old_text": "sdfgi_shader.debug_probes.version_get_shader(sdfgi_shader.debug_probes_shader, i)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRID debug_probes_shader_version = sdfgi_shader.debug_probes.version_get_shader(sdfgi_shader.debug_probes_shader, i);",
          "new_line_content": "\t\t\tfor (int i = 0; i < SDFGIShader::PROBE_DEBUG_MAX; i++) {",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(wg_todo, wg_limit_x)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tint wg_count = MIN(wg_todo, wg_limit_x);",
          "new_line_content": "\t\t\t\t\t\twhile (wg_todo) {",
          "content_same": false
        },
        {
          "line": 2992,
          "old_api": "uniform_buffer_create",
          "new_api": null,
          "old_text": "RD::get_singleton()->uniform_buffer_create(sizeof(VoxelGIData) * MAX_VOXEL_GI_INSTANCES)",
          "new_text": null,
          "old_line_content": "\tdefault_voxel_gi_buffer = RD::get_singleton()->uniform_buffer_create(sizeof(VoxelGIData) * MAX_VOXEL_GI_INSTANCES);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": "free",
          "new_api": null,
          "old_text": "RD::get_singleton()->free(default_voxel_gi_buffer)",
          "new_text": null,
          "old_line_content": "\tRD::get_singleton()->free(default_voxel_gi_buffer);",
          "new_line_content": "void RendererSceneGIRD::free() {",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": "compute_list_add_barrier",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_add_barrier(compute_list)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tRD::get_singleton()->compute_list_add_barrier(compute_list); //wait til previous step is done",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": "version_free",
          "new_api": null,
          "old_text": "voxel_gi_debug_shader.version_free(voxel_gi_debug_shader_version)",
          "new_text": null,
          "old_line_content": "\tvoxel_gi_debug_shader.version_free(voxel_gi_debug_shader_version);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": "compute_list_bind_compute_pipeline",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_WRITE_TEXTURE])",
          "new_text": null,
          "old_line_content": "\t\t\t\tRD::get_singleton()->compute_list_bind_compute_pipeline(compute_list, gi->voxel_gi_lighting_shader_version_pipelines[VOXEL_GI_SHADER_VERSION_WRITE_TEXTURE]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2492,
          "old_api": "size",
          "new_api": null,
          "old_text": "mipmaps.size()",
          "new_text": null,
          "old_line_content": "\t\t\t\tfor (int i = 0; i < mipmaps.size(); i++) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": "memdelete_arr",
          "new_api": null,
          "old_text": "memdelete_arr(voxel_gi_lights)",
          "new_text": null,
          "old_line_content": "\t\tmemdelete_arr(voxel_gi_lights);",
          "new_line_content": "\tif (voxel_gi_lights) {",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(wg_todo, wg_limit_x)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tint wg_count = MIN(wg_todo, wg_limit_x);",
          "new_line_content": "\t\t\t\t\twhile (wg_todo) {",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "memnew",
          "new_api": null,
          "old_text": "memnew(SDFGI)",
          "new_text": null,
          "old_line_content": "\tSDFGI *sdfgi = memnew(SDFGI);",
          "new_line_content": "RendererSceneGIRD::SDFGI *RendererSceneGIRD::create_sdfgi(RendererSceneEnvironmentRD *p_env, const Vector3 &p_world_position, uint32_t p_requested_history_size) {",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": "create",
          "new_api": null,
          "old_text": "sdfgi->create(p_env, p_world_position, p_requested_history_size, this)",
          "new_text": null,
          "old_line_content": "\tsdfgi->create(p_env, p_world_position, p_requested_history_size, this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": "compute_list_end",
          "new_api": null,
          "old_text": "RD::get_singleton()->compute_list_end()",
          "new_text": null,
          "old_line_content": "\t\t\tRD::get_singleton()->compute_list_end();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "size",
          "new_api": null,
          "old_text": "dynamic_maps.size()",
          "new_text": null,
          "old_line_content": "\tif (p_dynamic_objects.size() && dynamic_maps.size()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3027,
          "old_api": "get_or_null",
          "new_api": null,
          "old_text": "p_scene_render->render_buffers_owner.get_or_null(p_render_buffers)",
          "new_text": null,
          "old_line_content": "\tRendererSceneRenderRD::RenderBuffers *rb = p_scene_render->render_buffers_owner.get_or_null(p_render_buffers);",
          "new_line_content": "\t// feels a little dirty to use our container this way but....",
          "content_same": false
        },
        {
          "line": 3030,
          "old_api": "render_buffers_get_voxel_gi_buffer",
          "new_api": null,
          "old_text": "p_scene_render->render_buffers_get_voxel_gi_buffer(p_render_buffers)",
          "new_text": null,
          "old_line_content": "\tRID voxel_gi_buffer = p_scene_render->render_buffers_get_voxel_gi_buffer(p_render_buffers);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3(multiplier, multiplier, multiplier)",
          "new_text": null,
          "old_line_content": "\t\toversample_scale.basis.scale(Vector3(multiplier, multiplier, multiplier));",
          "new_line_content": "\t\tTransform3D oversample_scale;",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "voxel_gi_get_to_cell_xform",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_to_cell_xform(probe)",
          "new_text": null,
          "old_line_content": "\t\tTransform3D to_cell = oversample_scale * storage->voxel_gi_get_to_cell_xform(probe);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_dynamic_objects.size()",
          "new_text": null,
          "old_line_content": "\t\tfor (int i = 0; i < (int)p_dynamic_objects.size(); i++) {",
          "new_line_content": "\t\t//this could probably be better parallelized in compute..",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": "size",
          "new_api": null,
          "old_text": "p_voxel_gi_instances.size()",
          "new_text": null,
          "old_line_content": "\t\tif (i < (int)p_voxel_gi_instances.size()) {",
          "new_line_content": "\t\tRID texture;",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": "geometry_instance_get_aabb",
          "new_api": null,
          "old_text": "p_scene_render->geometry_instance_get_aabb(instance)",
          "new_text": null,
          "old_line_content": "\t\t\tAABB aabb = (to_probe_xform * p_scene_render->geometry_instance_get_transform(instance)).xform(p_scene_render->geometry_instance_get_aabb(instance));",
          "new_line_content": "\t\t\t//transform aabb to voxel_gi",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "Vector3i",
          "new_api": null,
          "old_text": "Vector3i(1, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tVector3i begin = aabb.position - Vector3i(1, 1, 1);",
          "new_line_content": "\t\t\t//also extend margin a bit just in case",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": "affine_inverse",
          "new_api": null,
          "old_text": "gipi->transform.affine_inverse()",
          "new_text": null,
          "old_line_content": "\t\t\t\tTransform3D to_cell = storage->voxel_gi_get_to_cell_xform(gipi->probe) * gipi->transform.affine_inverse() * to_camera;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(begin[j], 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tbegin[j] = MAX(begin[j], 0);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "voxel_gi_get_octree_size",
          "new_api": null,
          "old_text": "storage->voxel_gi_get_octree_size(base_probe)",
          "new_text": null,
          "old_line_content": "\t\t\t\tVector3 bounds = storage->voxel_gi_get_octree_size(base_probe);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": "Vector3",
          "new_api": null,
          "old_text": "Vector3(1, 0, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tVector3(1, 0, 0),",
          "new_line_content": "\t\t\t\tstatic const Vector3 render_z[6] = {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 91,
      "total_additions": 202,
      "total_deletions": 202,
      "total_api_changes": 495
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 495,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          2185
        ]
      }
    },
    "api_calls_before": 1467,
    "api_calls_after": 1467,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 2,
      "total_diff_lines": 17
    }
  }
}