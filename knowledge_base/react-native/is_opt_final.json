[
    {
        "repository_name": "react-native",
        "hash": "00266693b38aa4b055dc6f0fdba7d12a08e23d7e",
        "author": "David Vacca",
        "date": "2019-10-31T17:21:14-07:00",
        "message": "Avoid copying vector in mounting layer of Fabric\n\nSummary:\neasy diff to avoid the constant copy of a vector when calling the method Binding.createRemoveAndDeleteMultiMountItem. Since we are not modifing the vector inside the method createRemoveAndDeleteMultiMountItem it's not necessary to copy it.\n\nChangelog: Improve performance in mounting of Fabric views\n\nReviewed By: JoshuaGross\n\nDifferential Revision: D18250376\n\nfbshipit-source-id: c984214a8148bab521cec51d42ba54a4b73e3e67",
        "modified_files_count": 1,
        "modified_files": [
            "ReactAndroid/src/main/java/com/facebook/react/fabric/jni/Binding.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/00266693b38aa4b055dc6f0fdba7d12a08e23d7e",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "Environment::current"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "292268ea3fa429cd1a1245b6239e0a85b59da02a",
        "author": "Tomek Zawadzki",
        "date": "2023-01-03T03:07:13-08:00",
        "message": "Eliminate double call of `shadowNodeFromValue` in `dispatchCommand` (#35695)\n\nSummary:\nThis PR slightly improves the implementation of `dispatchCommand` method of `UIManagerBinding` to use existing variable `shadowNode` instead of calling `shadowNodeFromValue` again.\n\n## Changelog\n\n[INTERNAL] [CHANGED] - Eliminated double call of `shadowNodeFromValue` in `dispatchCommand`\n\nPull Request resolved: https://github.com/facebook/react-native/pull/35695\n\nTest Plan: Launch RNTester with Fabric enabled and check if `scrollTo` or some other command works properly.\n\nReviewed By: christophpurrer\n\nDifferential Revision: D42233216\n\nPulled By: robhogan\n\nfbshipit-source-id: db152206060ff599962f47c43fda8ea797f2a8cb",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/react/renderer/uimanager/UIManagerBinding.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/292268ea3fa429cd1a1245b6239e0a85b59da02a",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "UIManagerBinding::get"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "340013548784a4e1634e38e56550a792cc81dcc2",
        "author": "Valentin Shergin",
        "date": "2020-02-26T22:08:17-08:00",
        "message": "Fabric: Using `traitCast` in `layoutMetricsFromShadowNode`\n\nSummary:\nWe use this function in Diffing, and Diffing is one of the hottest pieces of Fabric. Removing `dynamic_cast` here should improve perf. See the previous diff for more details.\n\nChangelog: [Internal] Fabric-specific internal change.\n\nReviewed By: sammy-SC\n\nDifferential Revision: D20052023\n\nfbshipit-source-id: d6427ebf076d7f8244f0aeaf16407efa2368957e",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/fabric/mounting/ShadowView.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/340013548784a4e1634e38e56550a792cc81dcc2",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "layoutMetricsFromShadowNode"
        ],
        "added_lines": 5,
        "deleted_lines": 5,
        "total_changed_lines": 10,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "3f98c8e4c2c8f40b81c1a90aa65c1bdc9327faed",
        "author": "NikoAri",
        "date": "2022-04-13T16:26:55-07:00",
        "message": "Avoid full copy of large folly::dynamic objects by switching to std::move semantics (#33621)\n\nSummary:\nProblem:\nCurrent creation of ModuleConfig does a full copy of folly::dynamic object, which for large objects can cause 1000's of memory allocations, and thus increasing app's memory footprint and speed.\n\nFix:\nUse std::move semantics to avoid copy of folly::dynamic, thus avoiding memory allocations.\n\n## Changelog\n\n[General] [Fixed] - Avoid full copy of large folly::dynamic objects by switching to std::move semantics\n\nPull Request resolved: https://github.com/facebook/react-native/pull/33621\n\nTest Plan:\nCompiled React Native for Windows\nConsumed into Microsoft Excel App\nTested functionality through Microsoft Office Excel App\nViewed Memory Allocations in Debugger\n\nReviewed By: cortinico\n\nDifferential Revision: D35599759\n\nPulled By: RSNara\n\nfbshipit-source-id: 095a961422cca4655590d2283f6955472f1f0410",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/cxxreact/ModuleRegistry.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/3f98c8e4c2c8f40b81c1a90aa65c1bdc9327faed",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ModuleRegistry::getConfig"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "521011d4cc713dfce97dc8872fd0f5171e587b5d",
        "author": "Christoph Purrer",
        "date": "2022-08-04T16:19:17-07:00",
        "message": "Avoid full copy of large folly::dynamic objects in JSIExecutor#defaultTimeoutInvoker [RFC]\n\nSummary:\nCurrent creation of the errorProcessor lambda does a full copy of folly::dynamic object, which for large objects can cause 1000's of memory allocations, and thus increasing app's memory footprint and speed.\n\nChangelog:\n[General][Fixed] - Avoid full copy of large folly::dynamic objects in JSIExecutor#defaultTimeoutInvoker\n\nReviewed By: sammy-SC\n\nDifferential Revision: D38368392\n\nfbshipit-source-id: 88579a7069891828cf6dae130c4964db6b494565",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/jsiexecutor/jsireact/JSIExecutor.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/521011d4cc713dfce97dc8872fd0f5171e587b5d",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "JSIExecutor::callFunction"
        ],
        "added_lines": 1,
        "deleted_lines": 2,
        "total_changed_lines": 3,
        "net_line_change": -1,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "5290047d09c0a41c85a1d47a638877c226d9c191",
        "author": "maschad",
        "date": "2020-03-15T22:54:10-07:00",
        "message": "Make Lambda function called in NativeModule mutable to improve performance (#28297)\n\nSummary:\nFixes https://github.com/facebook/react-native/issues/28271\nAs explained by mmallet-youilabs , if the parameters passed to the `move` function are too expensive, this can have an impact on performance. Thus making these parameters captured by value mutable, the parameters are not movable.\n\n## Changelog\n\n[iOS] [Fixed] - Message\nPull Request resolved: https://github.com/facebook/react-native/pull/28297\n\nTest Plan: Steps to reproduce (and expected results) are not applicable (unless running with a profiler).\n\nDifferential Revision: D20464278\n\nPulled By: shergin\n\nfbshipit-source-id: 846a8bc6c61cb4aa21fbd96b419c3775190a2c84",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/cxxreact/CxxNativeModule.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/5290047d09c0a41c85a1d47a638877c226d9c191",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "CxxNativeModule::invoke"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "668ce510bddcb5719e28652ce09d4be7c9708a27",
        "author": "Samuel Susla",
        "date": "2021-09-09T11:57:24-07:00",
        "message": "Avoid copy in LayoutAnimationDriver\n\nSummary:\nchangelog: [internal]\n\nAvoid unnecessary copy of `ShadowViewMutation` and `ShadowView`.\n\nReviewed By: RSNara\n\nDifferential Revision: D30756214\n\nfbshipit-source-id: 39c44dd60582e6c111986df482613212e25739d7",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/react/renderer/animations/LayoutAnimationDriver.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/668ce510bddcb5719e28652ce09d4be7c9708a27",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "LayoutAnimationDriver::animationMutationsForFrame"
        ],
        "added_lines": 3,
        "deleted_lines": 10,
        "total_changed_lines": 13,
        "net_line_change": -7,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "6dd4195d2d4baca1a348f1c82d0f892b5cb3f500",
        "author": "Ruslan Shestopalyuk",
        "date": "2024-12-30T12:38:48-08:00",
        "message": "Avoid calling fmod twice in roundLayoutResultsToPixelGrid (#48404)\n\nSummary:\nX-link: https://github.com/facebook/litho/pull/1036\n\nX-link: https://github.com/facebook/yoga/pull/1775\n\nPull Request resolved: https://github.com/facebook/react-native/pull/48404\n\n## Changelog:\n[Internal] -\n\nThis popped up when profiling some heavy UI performance, calling `fmod` operation in Yoga's `roundLayoutResultsToPixelGrid` in `PixelGrid.cpp` can be expensive, furthermore it turns out that some of the calls were redundant.\n\nThis replaces the duplicate calls to fmod with an equivalent single round operation, which for e.g. clang compiler on Windows brings the code in question from ~50 instructions (including 4 call instructions to the fmod function) down to ~30 instructions (without any external calls), and the layout operation being **~1% more efficient** for the particular benchmark I was looking into.\n\nReviewed By: christophpurrer\n\nDifferential Revision: D67689065\n\nfbshipit-source-id: 2a074a1cb81bd7f7a3c414050b9ddda2ba90180f",
        "modified_files_count": 1,
        "modified_files": [
            "packages/react-native/ReactCommon/yoga/yoga/algorithm/PixelGrid.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/6dd4195d2d4baca1a348f1c82d0f892b5cb3f500",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "roundLayoutResultsToPixelGrid"
        ],
        "added_lines": 9,
        "deleted_lines": 6,
        "total_changed_lines": 15,
        "net_line_change": 3,
        "modified_code_blocks": 5,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "8d0b5af1fc13928c024663f10b0257e816bd6696",
        "author": "Tomek Zawadzki",
        "date": "2023-02-28T01:28:26-08:00",
        "message": "Run commit hooks before layout calculation (#36216)\n\nSummary:\nI've noticed that `UIManagerCommitHooks` are applied after calling `layoutIfNeeded`, meaning that if a commit hook makes some changes to the tree, it needs to calculate the layout again, effectively making the first calculation redundant.\n\nThis PR swaps the order of these two operations and moves `shadowTreeWillCommit` call before `layoutIfNeeded`. Thanks to this change, commit hooks don't need to manually trigger layout calculations as well as can potentially operate on unsealed nodes which can make it more efficient in some cases.\n\nFinally, this PR eliminates a crash on `emitLayoutEvents(affectedLayoutableNodes);` when commit hook actually modifies the tree and thus de-allocates old shadow nodes.\n\ncc sammy-SC\n\n## Changelog\n\n[GENERAL] [CHANGED] - Run commit hooks before layout calculation\n\nPull Request resolved: https://github.com/facebook/react-native/pull/36216\n\nTest Plan: The only `UIManagerCommitHook` I could find in the OSS repo is [`TimelineController`](https://github.com/facebook/react-native/blob/8bd3edec88148d0ab1f225d2119435681fbbba33/ReactCommon/react/renderer/timeline/TimelineController.h#L26).\n\nReviewed By: cipolleschi\n\nDifferential Revision: D43569407\n\nPulled By: sammy-SC\n\nfbshipit-source-id: 9ab1de0954cac2eb00346be7af8c9b3572bd2c88",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/react/renderer/mounting/ShadowTree.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/8d0b5af1fc13928c024663f10b0257e816bd6696",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ShadowTree::tryCommit"
        ],
        "added_lines": 4,
        "deleted_lines": 3,
        "total_changed_lines": 7,
        "net_line_change": 1,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "8da5924b57206f10a5d67a61ebfe4b82984edcc8",
        "author": "Samuel Susla",
        "date": "2024-09-16T09:16:56-07:00",
        "message": "add std::move when adding task to taskQueue (#46511)\n\nSummary:\nPull Request resolved: https://github.com/facebook/react-native/pull/46511\n\nchangelog: [internal]\n\ntask is not used after this line of code. Let's avoid copy shared_ptr's copy constructor.\n\nReviewed By: rubennorte\n\nDifferential Revision: D62751612\n\nfbshipit-source-id: 92b0da44972b200870ef66f3a8482fbde55052ac",
        "modified_files_count": 1,
        "modified_files": [
            "packages/react-native/ReactCommon/react/renderer/runtimescheduler/RuntimeScheduler_Modern.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/8da5924b57206f10a5d67a61ebfe4b82984edcc8",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "RuntimeScheduler_Modern::scheduleTask"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "92f8fd22e2c45f6b8e714a8c50819fc1c7f8568b",
        "author": "David Vacca",
        "date": "2019-05-24T11:30:30-07:00",
        "message": "Optimize the update of state during first render of a View\n\nSummary: This is an optimization to avoid transfering updateState instructions twice during the frist render of a view (same a props)\n\nReviewed By: shergin\n\nDifferential Revision: D15476041\n\nfbshipit-source-id: 8a62035dbbb63c93f86a2f8d217986a325cb1805",
        "modified_files_count": 1,
        "modified_files": [
            "ReactAndroid/src/main/java/com/facebook/react/fabric/jni/Binding.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/92f8fd22e2c45f6b8e714a8c50819fc1c7f8568b",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "Binding::schedulerDidFinishTransaction"
        ],
        "added_lines": 6,
        "deleted_lines": 6,
        "total_changed_lines": 12,
        "net_line_change": 0,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "9b97c09612050420557f2eca8391999e2fea1ca0",
        "author": "Pieter De Baets",
        "date": "2021-09-17T07:25:54-07:00",
        "message": "Short-circuit evaluation of formsView\n\nSummary:\nChangelog: [Internal]\n\nSmall optimization, we can avoid evaluating some properties if `formsStackingContext` is already set, because the end-result is always true.\n\nReviewed By: sammy-SC\n\nDifferential Revision: D30990925\n\nfbshipit-source-id: 08f500aa4b75446a6c644e8821f84dbfccbfebb6",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/react/renderer/components/view/ViewShadowNode.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/9b97c09612050420557f2eca8391999e2fea1ca0",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ViewShadowNode::initialize"
        ],
        "added_lines": 2,
        "deleted_lines": 3,
        "total_changed_lines": 5,
        "net_line_change": -1,
        "modified_code_blocks": 2,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "cf94a9ea9599ff1325fb31ba34c3ab913f2bf964",
        "author": "David Aurelio",
        "date": "2015-12-15T05:47:31-08:00",
        "message": "Avoid copying the JS bundle unnecessarily\n\nSummary:\npublic\nWhen forwarding the unbundle code to the bridge, we\u2019re passing the code by value.\nThis changes the affected method to take it by reference.\n\nReviewed By: astreet\n\nDifferential Revision: D2759569\n\nfb-gh-sync-id: 508d4f4d56bcbdd5a7df5610cf9040121f8878ef",
        "modified_files_count": 1,
        "modified_files": [
            "ReactAndroid/src/main/jni/react/jni/OnLoad.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/cf94a9ea9599ff1325fb31ba34c3ab913f2bf964",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "executeApplicationScript"
        ],
        "added_lines": 2,
        "deleted_lines": 2,
        "total_changed_lines": 4,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "d31c0c9109374ee917d9917d74b54b0d47197e32",
        "author": "Pieter De Baets",
        "date": "2022-02-22T03:23:12-08:00",
        "message": "Avoid string copy in RawPropsKey comparison\n\nSummary:\nSmall performance improvement since we don't need to copy the char * into a string just for the sake of comparison.\n\nChangelog: [Internal]\n\nReviewed By: sammy-SC\n\nDifferential Revision: D34351387\n\nfbshipit-source-id: 10163164f6e95ab0737e8f865c37d8f0c3500662",
        "modified_files_count": 1,
        "modified_files": [
            "ReactCommon/react/renderer/core/RawPropsKey.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/d31c0c9109374ee917d9917d74b54b0d47197e32",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "areFieldsEqual"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "react-native",
        "hash": "e02ca334b17a8abbdc51bc38fa0e517a9e7d1969",
        "author": "Pieter De Baets",
        "date": "2024-07-16T04:38:45-07:00",
        "message": "Skip getProperty calls for unreferenced props in RawPropsParser (#45456)\n\nSummary:\nPull Request resolved: https://github.com/facebook/react-native/pull/45456\n\nSmall perf improvement when using enableCppPropsIteratorSetter\n\nChangelog: [Internal]\n\nReviewed By: sammy-SC, mdvacca\n\nDifferential Revision: D59699469\n\nfbshipit-source-id: d65a5e26faf218d0b79c9ac691007310b6db4182",
        "modified_files_count": 1,
        "modified_files": [
            "packages/react-native/ReactCommon/react/renderer/core/RawPropsParser.cpp"
        ],
        "github_commit_url": "https://github.com/facebook/react-native/commit/e02ca334b17a8abbdc51bc38fa0e517a9e7d1969",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "RawPropsParser::preparse"
        ],
        "added_lines": 2,
        "deleted_lines": 3,
        "total_changed_lines": 5,
        "net_line_change": -1,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    }
]