{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/curl/modified_file/01c2b397aa58a8727f3b12ca0808dc602fc4901e",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/curl/modified_file/01c2b397aa58a8727f3b12ca0808dc602fc4901e/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/curl/modified_file/01c2b397aa58a8727f3b12ca0808dc602fc4901e/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/curl/modified_file/01c2b397aa58a8727f3b12ca0808dc602fc4901e/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1362,
          "old_api": "Curl_posttransfer",
          "new_api": "Curl_done",
          "old_text": "Curl_posttransfer(easy->easy_handle)",
          "new_text": "Curl_done(&easy->easy_conn, easy->result, FALSE)",
          "old_line_content": "        Curl_posttransfer(easy->easy_handle);",
          "new_line_content": "        Curl_done(&easy->easy_conn, easy->result, FALSE);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(param, void *)",
          "old_line_content": "  case CURLMOPT_TIMERDATA:",
          "new_line_content": "    multi->timer_userp = va_arg(param, void *);",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(param, long)",
          "old_line_content": "  case CURLMOPT_MAXCONNECTS:",
          "new_line_content": "    multi->maxconnects = va_arg(param, long);",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(sizeof(struct Curl_message))",
          "old_line_content": "    /* now add a node to the Curl_message linked list with this info */",
          "new_line_content": "    msg = malloc(sizeof(struct Curl_message));",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_COMPLETED)",
          "old_line_content": "",
          "new_line_content": "        multistate(easy, CURLM_STATE_COMPLETED);",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(param)",
          "old_line_content": "  }",
          "new_line_content": "  va_end(param);",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": null,
          "new_api": "multi_socket",
          "old_text": null,
          "new_text": "multi_socket((struct Curl_multi *)multi_handle, FALSE, s,\n                                  0, running_handles)",
          "old_line_content": "{",
          "new_line_content": "  CURLMcode result = multi_socket((struct Curl_multi *)multi_handle, FALSE, s,",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": null,
          "new_api": "update_timer",
          "old_text": null,
          "new_text": "update_timer((struct Curl_multi *)multi_handle)",
          "old_line_content": "  if(CURLM_OK >= result)",
          "new_line_content": "    update_timer((struct Curl_multi *)multi_handle);",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": null,
          "new_api": "multi_socket",
          "old_text": null,
          "new_text": "multi_socket((struct Curl_multi *)multi_handle, FALSE, s,\n                                  ev_bitmask, running_handles)",
          "old_line_content": "{",
          "new_line_content": "  CURLMcode result = multi_socket((struct Curl_multi *)multi_handle, FALSE, s,",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "GOOD_MULTI_HANDLE",
          "old_text": null,
          "new_text": "GOOD_MULTI_HANDLE(multi)",
          "old_line_content": "",
          "new_line_content": "  if(!GOOD_MULTI_HANDLE(multi))",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": null,
          "new_api": "update_timer",
          "old_text": null,
          "new_text": "update_timer((struct Curl_multi *)multi_handle)",
          "old_line_content": "  if(CURLM_OK >= result)",
          "new_line_content": "    update_timer((struct Curl_multi *)multi_handle);",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": null,
          "new_api": "multi_socket",
          "old_text": null,
          "new_text": "multi_socket((struct Curl_multi *)multi_handle,\n                                  TRUE, CURL_SOCKET_BAD, 0, running_handles)",
          "old_line_content": "{",
          "new_line_content": "  CURLMcode result = multi_socket((struct Curl_multi *)multi_handle,",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "Curl_wildcard_init",
          "old_text": null,
          "new_text": "Curl_wildcard_init(wc)",
          "old_line_content": "      if(!wc->filelist) {",
          "new_line_content": "        CURLcode ret = Curl_wildcard_init(wc); /* init wildcard structures */",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "update_timer",
          "old_text": null,
          "new_text": "update_timer((struct Curl_multi *)multi_handle)",
          "old_line_content": "  if(CURLM_OK >= result)",
          "new_line_content": "    update_timer((struct Curl_multi *)multi_handle);",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "multi_runsingle",
          "old_text": null,
          "new_text": "multi_runsingle(multi, easy)",
          "old_line_content": "    do",
          "new_line_content": "      result = multi_runsingle(multi, easy);",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "Curl_tvnow",
          "old_text": null,
          "new_text": "Curl_tvnow()",
          "old_line_content": "    /* we have a tree of expire times */",
          "new_line_content": "    struct timeval now = Curl_tvnow();",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "Curl_wildcard_dtor",
          "old_text": null,
          "new_text": "Curl_wildcard_dtor(wc)",
          "old_line_content": "      if(wc->state == CURLWC_DONE || result)",
          "new_line_content": "        Curl_wildcard_dtor(wc);",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": null,
          "new_api": "Curl_splay",
          "old_text": null,
          "new_text": "Curl_splay(tv_zero, multi->timetree)",
          "old_line_content": "    /* splay the lowest to the bottom */",
          "new_line_content": "    multi->timetree = Curl_splay(tv_zero, multi->timetree);",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": null,
          "new_api": "Curl_splaycomparekeys",
          "old_text": null,
          "new_text": "Curl_splaycomparekeys(multi->timetree->key, now)",
          "old_line_content": "",
          "new_line_content": "    if(Curl_splaycomparekeys(multi->timetree->key, now) > 0) {",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "curlx_tvdiff",
          "old_text": null,
          "new_text": "curlx_tvdiff(multi->timetree->key, now)",
          "old_line_content": "      /* some time left before expiration */",
          "new_line_content": "      *timeout_ms = curlx_tvdiff(multi->timetree->key, now);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": null,
          "new_api": "Curl_tvnow",
          "old_text": null,
          "new_text": "Curl_tvnow()",
          "old_line_content": "  do {",
          "new_line_content": "    struct timeval now = Curl_tvnow();",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "Curl_splaygetbest",
          "old_text": null,
          "new_text": "Curl_splaygetbest(now, multi->timetree, &t)",
          "old_line_content": "",
          "new_line_content": "    multi->timetree = Curl_splaygetbest(now, multi->timetree, &t);",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "GOOD_MULTI_HANDLE",
          "old_text": null,
          "new_text": "GOOD_MULTI_HANDLE(multi)",
          "old_line_content": "  /* First, make some basic checks that the CURLM handle is a good handle */",
          "new_line_content": "  if(!GOOD_MULTI_HANDLE(multi))",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "update_timer",
          "old_text": null,
          "new_text": "update_timer(multi)",
          "old_line_content": "  if( CURLM_OK >= returncode )",
          "new_line_content": "    update_timer(multi);",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": null,
          "new_api": "multi_timeout",
          "old_text": null,
          "new_text": "multi_timeout(multi, timeout_ms)",
          "old_line_content": "",
          "new_line_content": "  return multi_timeout(multi, timeout_ms);",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": null,
          "new_api": "curl_multi_remove_handle",
          "old_text": null,
          "new_text": "curl_multi_remove_handle(multi_handle, easy_handle)",
          "old_line_content": "{",
          "new_line_content": "  curl_multi_remove_handle(multi_handle, easy_handle);",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "multi_timeout",
          "old_text": null,
          "new_text": "multi_timeout(multi, &timeout_ms)",
          "old_line_content": "    return 0;",
          "new_line_content": "  if( multi_timeout(multi, &timeout_ms) != CURLM_OK )",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "GOOD_MULTI_HANDLE",
          "old_text": null,
          "new_text": "GOOD_MULTI_HANDLE(multi)",
          "old_line_content": "",
          "new_line_content": "  if(GOOD_MULTI_HANDLE(multi)) {",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "Curl_splaycomparekeys",
          "old_text": null,
          "new_text": "Curl_splaycomparekeys(multi->timetree->key, multi->timer_lastcall)",
          "old_line_content": "   * avoid calling the callback again. */",
          "new_line_content": "  if(Curl_splaycomparekeys(multi->timetree->key, multi->timer_lastcall) == 0)",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "Curl_hash_destroy",
          "old_text": null,
          "new_text": "Curl_hash_destroy(multi->hostcache)",
          "old_line_content": "    multi->type = 0; /* not good anymore */",
          "new_line_content": "    Curl_hash_destroy(multi->hostcache);",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": null,
          "new_api": "timer_cb",
          "old_text": null,
          "new_text": "multi->timer_cb((CURLM*)multi, timeout_ms, multi->timer_userp)",
          "old_line_content": "",
          "new_line_content": "  return multi->timer_cb((CURLM*)multi, timeout_ms, multi->timer_userp);",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "Curl_disconnect",
          "old_text": null,
          "new_text": "Curl_disconnect(multi->connc->connects[i])",
          "old_line_content": "         multi->connc->connects[i]->protocol & PROT_CLOSEACTION) {",
          "new_line_content": "        Curl_disconnect(multi->connc->connects[i]);",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "Curl_isPipeliningEnabled",
          "old_text": null,
          "new_text": "Curl_isPipeliningEnabled(handle)",
          "old_line_content": "",
          "new_line_content": "  if(!Curl_isPipeliningEnabled(handle) ||",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": null,
          "new_api": "Curl_close",
          "old_text": null,
          "new_text": "Curl_close(cl->easy_handle)",
          "old_line_content": "           for this easy handle */",
          "new_line_content": "        Curl_close(cl->easy_handle);",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(cl)",
          "old_line_content": "      n = cl->next;",
          "new_line_content": "      free(cl);",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": null,
          "new_api": "Curl_addHandleToPipeline",
          "old_text": null,
          "new_text": "Curl_addHandleToPipeline(handle, pipeline)",
          "old_line_content": "",
          "new_line_content": "  return Curl_addHandleToPipeline(handle, pipeline);",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "Curl_rm_connc",
          "old_text": null,
          "new_text": "Curl_rm_connc(multi->connc)",
          "old_line_content": "",
          "new_line_content": "    Curl_rm_connc(multi->connc);",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": null,
          "new_api": "Curl_llist_move",
          "old_text": null,
          "new_text": "Curl_llist_move(conn->pend_pipe, curr,\n                      conn->send_pipe, conn->send_pipe->tail)",
          "old_line_content": "    while(pipeLen < maxPipeLen && curr) {",
          "new_line_content": "      Curl_llist_move(conn->pend_pipe, curr,",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "Curl_pgrsTime",
          "old_text": null,
          "new_text": "Curl_pgrsTime(curr->ptr, TIMER_PRETRANSFER)",
          "old_line_content": "                      conn->send_pipe, conn->send_pipe->tail);",
          "new_line_content": "      Curl_pgrsTime(curr->ptr, TIMER_PRETRANSFER);",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": null,
          "new_api": "Curl_easy_addmulti",
          "old_text": null,
          "new_text": "Curl_easy_addmulti(easy->easy_handle, NULL)",
          "old_line_content": "",
          "new_line_content": "      Curl_easy_addmulti(easy->easy_handle, NULL); /* clear the association */",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(easy->msg)",
          "old_line_content": "      if(easy->msg)",
          "new_line_content": "        free(easy->msg);",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": null,
          "new_api": "Curl_tvnow",
          "old_text": null,
          "new_text": "Curl_tvnow()",
          "old_line_content": "  if (result) {",
          "new_line_content": "    conn->now = Curl_tvnow();",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(multi)",
          "old_line_content": "",
          "new_line_content": "    free(multi);",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": null,
          "new_api": "infof",
          "old_text": null,
          "new_text": "infof(conn->data, \"%p is at send pipe head!\\n\",\n            conn->send_pipe->head->ptr)",
          "old_line_content": "      conn->writechannel_inuse = FALSE; /* not in use yet */",
          "new_line_content": "      infof(conn->data, \"%p is at send pipe head!\\n\",",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "Curl_expire",
          "old_text": null,
          "new_text": "Curl_expire(conn->send_pipe->head->ptr, 1)",
          "old_line_content": "            conn->send_pipe->head->ptr);",
          "new_line_content": "      Curl_expire(conn->send_pipe->head->ptr, 1);",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "GOOD_MULTI_HANDLE",
          "old_text": null,
          "new_text": "GOOD_MULTI_HANDLE(multi)",
          "old_line_content": "",
          "new_line_content": "  if(GOOD_MULTI_HANDLE(multi)) {",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": null,
          "new_api": "Curl_llist_move",
          "old_text": null,
          "new_text": "Curl_llist_move(conn->send_pipe, curr,\n                      conn->recv_pipe, conn->recv_pipe->tail)",
          "old_line_content": "    if(curr->ptr == handle) {",
          "new_line_content": "      Curl_llist_move(conn->send_pipe, curr,",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": null,
          "new_api": "infof",
          "old_text": null,
          "new_text": "infof(conn->data, \"%p is at send pipe head B!\\n\",\n              conn->send_pipe->head->ptr)",
          "old_line_content": "        conn->writechannel_inuse = FALSE; /* not used now */",
          "new_line_content": "        infof(conn->data, \"%p is at send pipe head B!\\n\",",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": null,
          "new_api": "Curl_expire",
          "old_text": null,
          "new_text": "Curl_expire(conn->send_pipe->head->ptr, 1)",
          "old_line_content": "              conn->send_pipe->head->ptr);",
          "new_line_content": "        Curl_expire(conn->send_pipe->head->ptr, 1);",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "Curl_llist_move",
          "old_text": null,
          "new_text": "Curl_llist_move(conn->recv_pipe, curr,\n                      conn->done_pipe, conn->done_pipe->tail)",
          "old_line_content": "    if(curr->ptr == handle) {",
          "new_line_content": "      Curl_llist_move(conn->recv_pipe, curr,",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "multi_getsock",
          "old_text": null,
          "new_text": "multi_getsock(easy, socks, MAX_SOCKSPEREASYHANDLE)",
          "old_line_content": "     supervise and for what actions */",
          "new_line_content": "  curraction = multi_getsock(easy, socks, MAX_SOCKSPEREASYHANDLE);",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "GETSOCK_WRITESOCK",
          "old_text": null,
          "new_text": "GETSOCK_WRITESOCK(i)",
          "old_line_content": "  for(i=0; (i< MAX_SOCKSPEREASYHANDLE) &&",
          "new_line_content": "        (curraction & (GETSOCK_READSOCK(i) | GETSOCK_WRITESOCK(i)));",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": null,
          "new_api": "Curl_hash_pick",
          "old_text": null,
          "new_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "old_line_content": "    /* get it from the hash */",
          "new_line_content": "    entry = Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": null,
          "new_api": "GETSOCK_READSOCK",
          "old_text": null,
          "new_text": "GETSOCK_READSOCK(i)",
          "old_line_content": "",
          "new_line_content": "    if(curraction & GETSOCK_READSOCK(i))",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": null,
          "new_api": "GETSOCK_WRITESOCK",
          "old_text": null,
          "new_text": "GETSOCK_WRITESOCK(i)",
          "old_line_content": "      action |= CURL_POLL_IN;",
          "new_line_content": "    if(curraction & GETSOCK_WRITESOCK(i))",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "sh_addentry",
          "old_text": null,
          "new_text": "sh_addentry(multi->sockhash, s, easy->easy_handle)",
          "old_line_content": "      /* this is a socket we didn't have before, add it! */",
          "new_line_content": "      entry = sh_addentry(multi->sockhash, s, easy->easy_handle);",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": null,
          "new_api": "Curl_splayremovebyaddr",
          "old_text": null,
          "new_text": "Curl_splayremovebyaddr(multi->timetree,\n                                  &data->state.timenode,\n                                  &multi->timetree)",
          "old_line_content": "         the splay tree */",
          "new_line_content": "      rc = Curl_splayremovebyaddr(multi->timetree,",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "socket_cb",
          "old_text": null,
          "new_text": "multi->socket_cb(easy->easy_handle,\n                     s,\n                     action,\n                     multi->socket_userp,\n                     entry->socketp)",
          "old_line_content": "    /* we know (entry != NULL) at this point, see the logic above */",
          "new_line_content": "    multi->socket_cb(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": null,
          "new_api": "infof",
          "old_text": null,
          "new_text": "infof(data, \"Internal error clearing splay node = %d\\n\", rc)",
          "old_line_content": "      if(rc)",
          "new_line_content": "        infof(data, \"Internal error clearing splay node = %d\\n\", rc);",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": null,
          "new_api": "Curl_tvnow",
          "old_text": null,
          "new_text": "Curl_tvnow()",
          "old_line_content": "",
          "new_line_content": "    set = Curl_tvnow();",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": null,
          "new_api": "curlx_tvdiff",
          "old_text": null,
          "new_text": "curlx_tvdiff(set, *nowp)",
          "old_line_content": "         is. */",
          "new_line_content": "      long diff = curlx_tvdiff(set, *nowp);",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "Curl_hash_pick",
          "old_text": null,
          "new_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "old_line_content": "",
          "new_line_content": "      entry = Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_PERFORM)",
          "old_line_content": "        )",
          "new_line_content": "        multistate(easy, CURLM_STATE_PERFORM);",
          "content_same": false
        },
        {
          "line": 2342,
          "old_api": null,
          "new_api": "Curl_splayremovebyaddr",
          "old_text": null,
          "new_text": "Curl_splayremovebyaddr(multi->timetree,\n                                  &data->state.timenode,\n                                  &multi->timetree)",
          "old_line_content": "         the splay tree first and then re-add the new value */",
          "new_line_content": "      rc = Curl_splayremovebyaddr(multi->timetree,",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": null,
          "new_api": "infof",
          "old_text": null,
          "new_text": "infof(data, \"Internal error removing splay node = %d\\n\", rc)",
          "old_line_content": "      if(rc)",
          "new_line_content": "        infof(data, \"Internal error removing splay node = %d\\n\", rc);",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": null,
          "new_api": "infof",
          "old_text": null,
          "new_text": "infof(data, \"Expire at %ld / %ld (%ldms) %p\\n\",\n          (long)nowp->tv_sec, (long)nowp->tv_usec, milli, data)",
          "old_line_content": "#if 0",
          "new_line_content": "    infof(data, \"Expire at %ld / %ld (%ldms) %p\\n\",",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "Curl_splayinsert",
          "old_text": null,
          "new_text": "Curl_splayinsert(*nowp,\n                                       multi->timetree,\n                                       &data->state.timenode)",
          "old_line_content": "    data->state.timenode.payload = data;",
          "new_line_content": "    multi->timetree = Curl_splayinsert(*nowp,",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_TOOFAST )",
          "old_line_content": "         * the speed limit again. */",
          "new_line_content": "        multistate(easy, CURLM_STATE_TOOFAST );",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "isHandleAtHead",
          "old_text": null,
          "new_text": "isHandleAtHead(easy->easy_handle, easy_conn->recv_pipe)",
          "old_line_content": "            if (entry->easy == easy->easy_handle) {",
          "new_line_content": "              if (isHandleAtHead(easy->easy_handle, easy_conn->recv_pipe))",
          "content_same": false
        },
        {
          "line": 2360,
          "old_api": null,
          "new_api": "Curl_splayprint",
          "old_text": null,
          "new_text": "Curl_splayprint(multi->timetree, 0, TRUE)",
          "old_line_content": "#if 0",
          "new_line_content": "  Curl_splayprint(multi->timetree, 0, TRUE);",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "Curl_readwrite",
          "old_text": null,
          "new_text": "Curl_readwrite(easy->easy_conn, &done)",
          "old_line_content": "      /* read/write data if it is ready to do so */",
          "new_line_content": "      easy->result = Curl_readwrite(easy->easy_conn, &done);",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": null,
          "new_api": "isHandleAtHead",
          "old_text": null,
          "new_text": "isHandleAtHead(easy->easy_handle, easy_conn->send_pipe)",
          "old_line_content": "            if (entry->easy == easy->easy_handle) {",
          "new_line_content": "              if (isHandleAtHead(easy->easy_handle, easy_conn->send_pipe))",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": null,
          "new_api": "Curl_hash_pick",
          "old_text": null,
          "new_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(curl_socket_t))",
          "old_line_content": "  if(s != CURL_SOCKET_BAD)",
          "new_line_content": "    there = Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(curl_socket_t));",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "Curl_posttransfer",
          "old_text": null,
          "new_text": "Curl_posttransfer(easy->easy_handle)",
          "old_line_content": "",
          "new_line_content": "        Curl_posttransfer(easy->easy_handle);",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": null,
          "new_api": "socket_cb",
          "old_text": null,
          "new_text": "multi->socket_cb(easy->easy_handle,\n                         s,\n                         CURL_POLL_REMOVE,\n                         multi->socket_userp,\n                         entry ? entry->socketp : NULL)",
          "old_line_content": "      if (remove_sock_from_hash) {",
          "new_line_content": "        multi->socket_cb(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "Curl_retry_request",
          "old_text": null,
          "new_text": "Curl_retry_request(easy->easy_conn, &newurl)",
          "old_line_content": "",
          "new_line_content": "        easy->result = Curl_retry_request(easy->easy_conn, &newurl);",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": null,
          "new_api": "sh_delentry",
          "old_text": null,
          "new_text": "sh_delentry(multi->sockhash, s)",
          "old_line_content": "                         entry ? entry->socketp : NULL);",
          "new_line_content": "        sh_delentry(multi->sockhash, s);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "Curl_posttransfer",
          "old_text": null,
          "new_text": "Curl_posttransfer(easy->easy_handle)",
          "old_line_content": "        /* call this even if the readwrite function returned error */",
          "new_line_content": "        Curl_posttransfer(easy->easy_handle);",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(easy->sockets, socks, num*sizeof(curl_socket_t))",
          "old_line_content": "",
          "new_line_content": "  memcpy(easy->sockets, socks, num*sizeof(curl_socket_t));",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "moveHandleFromRecvToDonePipeline",
          "old_text": null,
          "new_text": "moveHandleFromRecvToDonePipeline(easy->easy_handle,\n                                         easy->easy_conn)",
          "old_line_content": "        /* we're no longer receving */",
          "new_line_content": "        moveHandleFromRecvToDonePipeline(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "Curl_expire",
          "old_text": null,
          "new_text": "Curl_expire(easy->easy_conn->recv_pipe->head->ptr, 1)",
          "old_line_content": "        if(easy->easy_conn->recv_pipe->head)",
          "new_line_content": "          Curl_expire(easy->easy_conn->recv_pipe->head->ptr, 1);",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": null,
          "new_api": "checkPendPipeline",
          "old_text": null,
          "new_text": "checkPendPipeline(easy->easy_conn)",
          "old_line_content": "        /* Check if we can move pending requests to send pipe */",
          "new_line_content": "        checkPendPipeline(easy->easy_conn);",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": null,
          "new_api": "add_closure",
          "old_text": null,
          "new_text": "add_closure(multi, data)",
          "old_line_content": "           thus we leave it around for now */",
          "new_line_content": "        if(add_closure(multi, data) == CURLM_OK)",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": null,
          "new_api": "Curl_disconnect",
          "old_text": null,
          "new_text": "Curl_disconnect(conn)",
          "old_line_content": "          /* out of memory - so much for graceful shutdown */",
          "new_line_content": "          Curl_disconnect(conn);",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": null,
          "new_api": "curl_multi_perform",
          "old_text": null,
          "new_text": "curl_multi_perform(multi, running_handles)",
          "old_line_content": "    /* *perform() deals with running_handles on its own */",
          "new_line_content": "    result = curl_multi_perform(multi, running_handles);",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "Curl_done",
          "old_text": null,
          "new_text": "Curl_done(&easy->easy_conn, CURLE_OK, FALSE)",
          "old_line_content": "            follow = FOLLOW_RETRY;",
          "new_line_content": "          easy->result = Curl_done(&easy->easy_conn, CURLE_OK, FALSE);",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": null,
          "new_api": "singlesocket",
          "old_text": null,
          "new_text": "singlesocket(multi, easyp)",
          "old_line_content": "    while(easyp != &multi->easy) {",
          "new_line_content": "      singlesocket(multi, easyp);",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "Curl_follow",
          "old_text": null,
          "new_text": "Curl_follow(easy->easy_handle, newurl, follow)",
          "old_line_content": "          if(easy->result == CURLE_OK)",
          "new_line_content": "            easy->result = Curl_follow(easy->easy_handle, newurl, follow);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_CONNECT)",
          "old_line_content": "          if(CURLE_OK == easy->result) {",
          "new_line_content": "            multistate(easy, CURLM_STATE_CONNECT);",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(newurl)",
          "old_line_content": "               failure */",
          "new_line_content": "            free(newurl);",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": null,
          "new_api": "Curl_hash_pick",
          "old_text": null,
          "new_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "old_line_content": "    struct Curl_sh_entry *entry =",
          "new_line_content": "      Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "Curl_follow",
          "old_text": null,
          "new_text": "Curl_follow(easy->easy_handle, newurl, FOLLOW_FAKE)",
          "old_line_content": "            easy->easy_handle->req.location = NULL;",
          "new_line_content": "            easy->result = Curl_follow(easy->easy_handle, newurl, FOLLOW_FAKE);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(newurl)",
          "old_line_content": "            if (easy->result)",
          "new_line_content": "              free(newurl);",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_DONE)",
          "old_line_content": "",
          "new_line_content": "          multistate(easy, CURLM_STATE_DONE);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "Curl_removeHandleFromPipeline",
          "old_text": null,
          "new_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                      easy->easy_conn->recv_pipe)",
          "old_line_content": "           should be on one of these lists, depending upon how we got here. */",
          "new_line_content": "        Curl_removeHandleFromPipeline(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": null,
          "new_api": "Curl_removeHandleFromPipeline",
          "old_text": null,
          "new_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                      easy->easy_conn->done_pipe)",
          "old_line_content": "                                      easy->easy_conn->recv_pipe);",
          "new_line_content": "        Curl_removeHandleFromPipeline(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": null,
          "new_api": "infof",
          "old_text": null,
          "new_text": "infof(data, \"Delayed kill of easy handle %p\\n\", cl->easy_handle)",
          "old_line_content": "      if(cl->easy_handle->state.closed) {",
          "new_line_content": "        infof(data, \"Delayed kill of easy handle %p\\n\", cl->easy_handle);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "checkPendPipeline",
          "old_text": null,
          "new_text": "checkPendPipeline(easy->easy_conn)",
          "old_line_content": "        /* Check if we can move pending requests to send pipe */",
          "new_line_content": "        checkPendPipeline(easy->easy_conn);",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": null,
          "new_api": "Curl_close",
          "old_text": null,
          "new_text": "Curl_close(cl->easy_handle)",
          "old_line_content": "           for this easy handle */",
          "new_line_content": "        Curl_close(cl->easy_handle);",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "multi_runsingle",
          "old_text": null,
          "new_text": "multi_runsingle(multi, data->set.one_easy)",
          "old_line_content": "      do",
          "new_line_content": "        result = multi_runsingle(multi, data->set.one_easy);",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(cl)",
          "old_line_content": "        multi->closure = n;",
          "new_line_content": "      free(cl);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "Curl_done",
          "old_text": null,
          "new_text": "Curl_done(&easy->easy_conn, CURLE_OK, FALSE)",
          "old_line_content": "        /* post-transfer command */",
          "new_line_content": "        easy->result = Curl_done(&easy->easy_conn, CURLE_OK, FALSE);",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "singlesocket",
          "old_text": null,
          "new_text": "singlesocket(multi, data->set.one_easy)",
          "old_line_content": "           last */",
          "new_line_content": "        singlesocket(multi, data->set.one_easy);",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc(1, sizeof(struct closure))",
          "old_line_content": "  if (add) {",
          "new_line_content": "    cl = calloc(1, sizeof(struct closure));",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_INIT)",
          "old_line_content": "          result = CURLM_CALL_MULTI_PERFORM;",
          "new_line_content": "          multistate(easy, CURLM_STATE_INIT);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "multistate",
          "old_text": null,
          "new_text": "multistate(easy, CURLM_STATE_COMPLETED)",
          "old_line_content": "         it doesn't matter what the Curl_done() returned! */",
          "new_line_content": "      multistate(easy, CURLM_STATE_COMPLETED);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "multi_runsingle",
          "old_text": null,
          "new_text": "multi_runsingle(multi, data->set.one_easy)",
          "old_line_content": "      do",
          "new_line_content": "        result = multi_runsingle(multi, data->set.one_easy);",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"* Multi status: %d handles, %d alive\\n\",\n          multi->num_easy, multi->num_alive)",
          "old_line_content": "  int i;",
          "new_line_content": "  fprintf(stderr, \"* Multi status: %d handles, %d alive\\n\",",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "singlesocket",
          "old_text": null,
          "new_text": "singlesocket(multi, data->set.one_easy)",
          "old_line_content": "           last */",
          "new_line_content": "        singlesocket(multi, data->set.one_easy);",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"handle %p, state %s, %d sockets\\n\",\n              (void *)easy->easy_handle,\n              statename[easy->state], easy->numsocks)",
          "old_line_content": "      /* only display handles that are not completed */",
          "new_line_content": "      fprintf(stderr, \"handle %p, state %s, %d sockets\\n\",",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": null,
          "new_api": "Curl_tvnow",
          "old_text": null,
          "new_text": "Curl_tvnow()",
          "old_line_content": "",
          "new_line_content": "    now = Curl_tvnow();",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": null,
          "new_api": "Curl_hash_pick",
          "old_text": null,
          "new_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "old_line_content": "        struct Curl_sh_entry *entry =",
          "new_line_content": "          Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%d \", (int)s)",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"%d \", (int)s);",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": null,
          "new_api": "Curl_splaygetbest",
          "old_text": null,
          "new_text": "Curl_splaygetbest(now, multi->timetree, &t)",
          "old_line_content": "",
          "new_line_content": "    multi->timetree = Curl_splaygetbest(now, multi->timetree, &t);",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"INTERNAL CONFUSION\\n\")",
          "old_line_content": "        if(!entry) {",
          "new_line_content": "          fprintf(stderr, \"INTERNAL CONFUSION\\n\");",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"[%s %s] \",\n                entry->action&CURL_POLL_IN?\"RECVING\":\"\",\n                entry->action&CURL_POLL_OUT?\"SENDING\":\"\")",
          "old_line_content": "        }",
          "new_line_content": "        fprintf(stderr, \"[%s %s] \",",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\n\")",
          "old_line_content": "      if(easy->numsocks)",
          "new_line_content": "        fprintf(stderr, \"\\n\");",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "Curl_removeHandleFromPipeline",
          "old_text": null,
          "new_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                        easy->easy_conn->send_pipe)",
          "old_line_content": "          easy->easy_conn->readchannel_inuse = FALSE;",
          "new_line_content": "          Curl_removeHandleFromPipeline(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": null,
          "new_api": "Curl_removeHandleFromPipeline",
          "old_text": null,
          "new_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                        easy->easy_conn->recv_pipe)",
          "old_line_content": "                                        easy->easy_conn->send_pipe);",
          "new_line_content": "          Curl_removeHandleFromPipeline(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": null,
          "new_api": "Curl_removeHandleFromPipeline",
          "old_text": null,
          "new_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                        easy->easy_conn->done_pipe)",
          "old_line_content": "                                        easy->easy_conn->recv_pipe);",
          "new_line_content": "          Curl_removeHandleFromPipeline(easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "checkPendPipeline",
          "old_text": null,
          "new_text": "checkPendPipeline(easy->easy_conn)",
          "old_line_content": "          /* Check if we can move pending requests to send pipe */",
          "new_line_content": "          checkPendPipeline(easy->easy_conn);",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": null,
          "new_api": "GOOD_MULTI_HANDLE",
          "old_text": null,
          "new_text": "GOOD_MULTI_HANDLE(multi)",
          "old_line_content": "",
          "new_line_content": "  if(!GOOD_MULTI_HANDLE(multi))",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "Curl_disconnect",
          "old_text": null,
          "new_text": "Curl_disconnect(easy->easy_conn)",
          "old_line_content": "        if(disconnect_conn) {",
          "new_line_content": "          Curl_disconnect(easy->easy_conn); /* disconnect properly */",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(param, option)",
          "old_line_content": "",
          "new_line_content": "  va_start(param, option);",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(param, curl_socket_callback)",
          "old_line_content": "  case CURLMOPT_SOCKETFUNCTION:",
          "new_line_content": "    multi->socket_cb = va_arg(param, curl_socket_callback);",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(param, void *)",
          "old_line_content": "  case CURLMOPT_SOCKETDATA:",
          "new_line_content": "    multi->socket_userp = va_arg(param, void *);",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "Curl_pgrsUpdate",
          "old_text": null,
          "new_text": "Curl_pgrsUpdate(easy->easy_conn)",
          "old_line_content": "      }",
          "new_line_content": "      else if(Curl_pgrsUpdate(easy->easy_conn))",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(param, long)",
          "old_line_content": "  case CURLMOPT_PIPELINING:",
          "new_line_content": "    multi->pipelining_enabled = (bool)(0 != va_arg(param, long));",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(param, curl_multi_timer_callback)",
          "old_line_content": "  case CURLMOPT_TIMERFUNCTION:",
          "new_line_content": "    multi->timer_cb = va_arg(param, curl_multi_timer_callback);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2050,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(param, void *)",
          "new_text": null,
          "old_line_content": "    multi->timer_userp = va_arg(param, void *);",
          "new_line_content": "    break;",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(param, long)",
          "new_text": null,
          "old_line_content": "    multi->maxconnects = va_arg(param, long);",
          "new_line_content": "    break;",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(sizeof(struct Curl_message))",
          "new_text": null,
          "old_line_content": "    msg = malloc(sizeof(struct Curl_message));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(param)",
          "new_text": null,
          "old_line_content": "  va_end(param);",
          "new_line_content": "  return res;",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_COMPLETED)",
          "new_text": null,
          "old_line_content": "        multistate(easy, CURLM_STATE_COMPLETED);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": "multi_socket",
          "new_api": null,
          "old_text": "multi_socket((struct Curl_multi *)multi_handle, FALSE, s,\n                                  0, running_handles)",
          "new_text": null,
          "old_line_content": "  CURLMcode result = multi_socket((struct Curl_multi *)multi_handle, FALSE, s,",
          "new_line_content": "                                  0, running_handles);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "update_timer",
          "new_api": null,
          "old_text": "update_timer((struct Curl_multi *)multi_handle)",
          "new_text": null,
          "old_line_content": "    update_timer((struct Curl_multi *)multi_handle);",
          "new_line_content": "  return result;",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "Curl_pgrsUpdate",
          "new_api": null,
          "old_text": "Curl_pgrsUpdate(easy->easy_conn)",
          "new_text": null,
          "old_line_content": "        Curl_pgrsUpdate(easy->easy_conn);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "multi_socket",
          "new_api": null,
          "old_text": "multi_socket((struct Curl_multi *)multi_handle, FALSE, s,\n                                  ev_bitmask, running_handles)",
          "new_text": null,
          "old_line_content": "  CURLMcode result = multi_socket((struct Curl_multi *)multi_handle, FALSE, s,",
          "new_line_content": "                                  ev_bitmask, running_handles);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": "GOOD_MULTI_HANDLE",
          "new_api": null,
          "old_text": "GOOD_MULTI_HANDLE(multi)",
          "new_text": null,
          "old_line_content": "  if(!GOOD_MULTI_HANDLE(multi))",
          "new_line_content": "    return CURLM_BAD_HANDLE;",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": "update_timer",
          "new_api": null,
          "old_text": "update_timer((struct Curl_multi *)multi_handle)",
          "new_text": null,
          "old_line_content": "    update_timer((struct Curl_multi *)multi_handle);",
          "new_line_content": "  return result;",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": "multi_socket",
          "new_api": null,
          "old_text": "multi_socket((struct Curl_multi *)multi_handle,\n                                  TRUE, CURL_SOCKET_BAD, 0, running_handles)",
          "new_text": null,
          "old_line_content": "  CURLMcode result = multi_socket((struct Curl_multi *)multi_handle,",
          "new_line_content": "                                  TRUE, CURL_SOCKET_BAD, 0, running_handles);",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "Curl_wildcard_init",
          "new_api": null,
          "old_text": "Curl_wildcard_init(wc)",
          "new_text": null,
          "old_line_content": "        CURLcode ret = Curl_wildcard_init(wc); /* init wildcard structures */",
          "new_line_content": "        if(ret)",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "update_timer",
          "new_api": null,
          "old_text": "update_timer((struct Curl_multi *)multi_handle)",
          "new_text": null,
          "old_line_content": "    update_timer((struct Curl_multi *)multi_handle);",
          "new_line_content": "  return result;",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "multi_runsingle",
          "new_api": null,
          "old_text": "multi_runsingle(multi, easy)",
          "new_text": null,
          "old_line_content": "      result = multi_runsingle(multi, easy);",
          "new_line_content": "    while (CURLM_CALL_MULTI_PERFORM == result);",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": "Curl_tvnow",
          "new_api": null,
          "old_text": "Curl_tvnow()",
          "new_text": null,
          "old_line_content": "    struct timeval now = Curl_tvnow();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "Curl_wildcard_dtor",
          "new_api": null,
          "old_text": "Curl_wildcard_dtor(wc)",
          "new_text": null,
          "old_line_content": "        Curl_wildcard_dtor(wc);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "Curl_splay",
          "new_api": null,
          "old_text": "Curl_splay(tv_zero, multi->timetree)",
          "new_text": null,
          "old_line_content": "    multi->timetree = Curl_splay(tv_zero, multi->timetree);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": "Curl_splaycomparekeys",
          "new_api": null,
          "old_text": "Curl_splaycomparekeys(multi->timetree->key, now)",
          "new_text": null,
          "old_line_content": "    if(Curl_splaycomparekeys(multi->timetree->key, now) > 0) {",
          "new_line_content": "      /* some time left before expiration */",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "curlx_tvdiff",
          "new_api": null,
          "old_text": "curlx_tvdiff(multi->timetree->key, now)",
          "new_text": null,
          "old_line_content": "      *timeout_ms = curlx_tvdiff(multi->timetree->key, now);",
          "new_line_content": "      if(!*timeout_ms)",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "Curl_tvnow",
          "new_api": null,
          "old_text": "Curl_tvnow()",
          "new_text": null,
          "old_line_content": "    struct timeval now = Curl_tvnow();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "Curl_splaygetbest",
          "new_api": null,
          "old_text": "Curl_splaygetbest(now, multi->timetree, &t)",
          "new_text": null,
          "old_line_content": "    multi->timetree = Curl_splaygetbest(now, multi->timetree, &t);",
          "new_line_content": "    if(t) {",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": "GOOD_MULTI_HANDLE",
          "new_api": null,
          "old_text": "GOOD_MULTI_HANDLE(multi)",
          "new_text": null,
          "old_line_content": "  if(!GOOD_MULTI_HANDLE(multi))",
          "new_line_content": "    return CURLM_BAD_HANDLE;",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "update_timer",
          "new_api": null,
          "old_text": "update_timer(multi)",
          "new_text": null,
          "old_line_content": "    update_timer(multi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "multi_timeout",
          "new_api": null,
          "old_text": "multi_timeout(multi, timeout_ms)",
          "new_text": null,
          "old_line_content": "  return multi_timeout(multi, timeout_ms);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "curl_multi_remove_handle",
          "new_api": null,
          "old_text": "curl_multi_remove_handle(multi_handle, easy_handle)",
          "new_text": null,
          "old_line_content": "  curl_multi_remove_handle(multi_handle, easy_handle);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "multi_timeout",
          "new_api": null,
          "old_text": "multi_timeout(multi, &timeout_ms)",
          "new_text": null,
          "old_line_content": "  if( multi_timeout(multi, &timeout_ms) != CURLM_OK )",
          "new_line_content": "    return -1;",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "GOOD_MULTI_HANDLE",
          "new_api": null,
          "old_text": "GOOD_MULTI_HANDLE(multi)",
          "new_text": null,
          "old_line_content": "  if(GOOD_MULTI_HANDLE(multi)) {",
          "new_line_content": "    multi->type = 0; /* not good anymore */",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": "Curl_splaycomparekeys",
          "new_api": null,
          "old_text": "Curl_splaycomparekeys(multi->timetree->key, multi->timer_lastcall)",
          "new_text": null,
          "old_line_content": "  if(Curl_splaycomparekeys(multi->timetree->key, multi->timer_lastcall) == 0)",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "Curl_hash_destroy",
          "new_api": null,
          "old_text": "Curl_hash_destroy(multi->sockhash)",
          "new_text": null,
          "old_line_content": "    Curl_hash_destroy(multi->sockhash);",
          "new_line_content": "    multi->hostcache = NULL;",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "timer_cb",
          "new_api": null,
          "old_text": "multi->timer_cb((CURLM*)multi, timeout_ms, multi->timer_userp)",
          "new_text": null,
          "old_line_content": "  return multi->timer_cb((CURLM*)multi, timeout_ms, multi->timer_userp);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "Curl_disconnect",
          "new_api": null,
          "old_text": "Curl_disconnect(multi->connc->connects[i])",
          "new_text": null,
          "old_line_content": "        Curl_disconnect(multi->connc->connects[i]);",
          "new_line_content": "        multi->connc->connects[i] = NULL;",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": "Curl_isPipeliningEnabled",
          "new_api": null,
          "old_text": "Curl_isPipeliningEnabled(handle)",
          "new_text": null,
          "old_line_content": "  if(!Curl_isPipeliningEnabled(handle) ||",
          "new_line_content": "     pipeLen == 0)",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": "Curl_close",
          "new_api": null,
          "old_text": "Curl_close(cl->easy_handle)",
          "new_text": null,
          "old_line_content": "        Curl_close(cl->easy_handle);",
          "new_line_content": "      n = cl->next;",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(cl)",
          "new_text": null,
          "old_line_content": "      free(cl);",
          "new_line_content": "      cl= n;",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "Curl_addHandleToPipeline",
          "new_api": null,
          "old_text": "Curl_addHandleToPipeline(handle, pipeline)",
          "new_text": null,
          "old_line_content": "  return Curl_addHandleToPipeline(handle, pipeline);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "Curl_rm_connc",
          "new_api": null,
          "old_text": "Curl_rm_connc(multi->connc)",
          "new_text": null,
          "old_line_content": "    Curl_rm_connc(multi->connc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": "Curl_llist_move",
          "new_api": null,
          "old_text": "Curl_llist_move(conn->pend_pipe, curr,\n                      conn->send_pipe, conn->send_pipe->tail)",
          "new_text": null,
          "old_line_content": "      Curl_llist_move(conn->pend_pipe, curr,",
          "new_line_content": "                      conn->send_pipe, conn->send_pipe->tail);",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": "Curl_pgrsTime",
          "new_api": null,
          "old_text": "Curl_pgrsTime(curr->ptr, TIMER_PRETRANSFER)",
          "new_text": null,
          "old_line_content": "      Curl_pgrsTime(curr->ptr, TIMER_PRETRANSFER);",
          "new_line_content": "      ++result; /* count how many handles we moved */",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "Curl_easy_addmulti",
          "new_api": null,
          "old_text": "Curl_easy_addmulti(easy->easy_handle, NULL)",
          "new_text": null,
          "old_line_content": "      Curl_easy_addmulti(easy->easy_handle, NULL); /* clear the association */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(easy)",
          "new_text": null,
          "old_line_content": "      free(easy);",
          "new_line_content": "      easy = nexteasy;",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "Curl_tvnow",
          "new_api": null,
          "old_text": "Curl_tvnow()",
          "new_text": null,
          "old_line_content": "    conn->now = Curl_tvnow();",
          "new_line_content": "    /* something moved, check for a new send pipeline leader */",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(multi)",
          "new_text": null,
          "old_line_content": "    free(multi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": "infof",
          "new_api": null,
          "old_text": "infof(conn->data, \"%p is at send pipe head!\\n\",\n            conn->send_pipe->head->ptr)",
          "new_text": null,
          "old_line_content": "      infof(conn->data, \"%p is at send pipe head!\\n\",",
          "new_line_content": "            conn->send_pipe->head->ptr);",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": "Curl_expire",
          "new_api": null,
          "old_text": "Curl_expire(conn->send_pipe->head->ptr, 1)",
          "new_text": null,
          "old_line_content": "      Curl_expire(conn->send_pipe->head->ptr, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "GOOD_MULTI_HANDLE",
          "new_api": null,
          "old_text": "GOOD_MULTI_HANDLE(multi)",
          "new_text": null,
          "old_line_content": "  if(GOOD_MULTI_HANDLE(multi)) {",
          "new_line_content": "    struct Curl_one_easy *easy;",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "Curl_llist_move",
          "new_api": null,
          "old_text": "Curl_llist_move(conn->send_pipe, curr,\n                      conn->recv_pipe, conn->recv_pipe->tail)",
          "new_text": null,
          "old_line_content": "      Curl_llist_move(conn->send_pipe, curr,",
          "new_line_content": "                      conn->recv_pipe, conn->recv_pipe->tail);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": "infof",
          "new_api": null,
          "old_text": "infof(conn->data, \"%p is at send pipe head B!\\n\",\n              conn->send_pipe->head->ptr)",
          "new_text": null,
          "old_line_content": "        infof(conn->data, \"%p is at send pipe head B!\\n\",",
          "new_line_content": "              conn->send_pipe->head->ptr);",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": "Curl_expire",
          "new_api": null,
          "old_text": "Curl_expire(conn->send_pipe->head->ptr, 1)",
          "new_text": null,
          "old_line_content": "        Curl_expire(conn->send_pipe->head->ptr, 1);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "Curl_llist_move",
          "new_api": null,
          "old_text": "Curl_llist_move(conn->recv_pipe, curr,\n                      conn->done_pipe, conn->done_pipe->tail)",
          "new_text": null,
          "old_line_content": "      Curl_llist_move(conn->recv_pipe, curr,",
          "new_line_content": "                      conn->done_pipe, conn->done_pipe->tail);",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "multi_getsock",
          "new_api": null,
          "old_text": "multi_getsock(easy, socks, MAX_SOCKSPEREASYHANDLE)",
          "new_text": null,
          "old_line_content": "  curraction = multi_getsock(easy, socks, MAX_SOCKSPEREASYHANDLE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "GETSOCK_WRITESOCK",
          "new_api": null,
          "old_text": "GETSOCK_WRITESOCK(i)",
          "new_text": null,
          "old_line_content": "        (curraction & (GETSOCK_READSOCK(i) | GETSOCK_WRITESOCK(i)));",
          "new_line_content": "      i++) {",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "Curl_hash_pick",
          "new_api": null,
          "old_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "new_text": null,
          "old_line_content": "    entry = Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "GETSOCK_READSOCK",
          "new_api": null,
          "old_text": "GETSOCK_READSOCK(i)",
          "new_text": null,
          "old_line_content": "    if(curraction & GETSOCK_READSOCK(i))",
          "new_line_content": "      action |= CURL_POLL_IN;",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": "GETSOCK_WRITESOCK",
          "new_api": null,
          "old_text": "GETSOCK_WRITESOCK(i)",
          "new_text": null,
          "old_line_content": "    if(curraction & GETSOCK_WRITESOCK(i))",
          "new_line_content": "      action |= CURL_POLL_OUT;",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "sh_addentry",
          "new_api": null,
          "old_text": "sh_addentry(multi->sockhash, s, easy->easy_handle)",
          "new_text": null,
          "old_line_content": "      entry = sh_addentry(multi->sockhash, s, easy->easy_handle);",
          "new_line_content": "      if(!entry)",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": "Curl_splayremovebyaddr",
          "new_api": null,
          "old_text": "Curl_splayremovebyaddr(multi->timetree,\n                                  &data->state.timenode,\n                                  &multi->timetree)",
          "new_text": null,
          "old_line_content": "      rc = Curl_splayremovebyaddr(multi->timetree,",
          "new_line_content": "                                  &data->state.timenode,",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "socket_cb",
          "new_api": null,
          "old_text": "multi->socket_cb(easy->easy_handle,\n                     s,\n                     action,\n                     multi->socket_userp,\n                     entry->socketp)",
          "new_text": null,
          "old_line_content": "    multi->socket_cb(easy->easy_handle,",
          "new_line_content": "                     s,",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": "infof",
          "new_api": null,
          "old_text": "infof(data, \"Expire cleared\\n\")",
          "new_text": null,
          "old_line_content": "      infof(data, \"Expire cleared\\n\");",
          "new_line_content": "      nowp->tv_sec = 0;",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": "Curl_tvnow",
          "new_api": null,
          "old_text": "Curl_tvnow()",
          "new_text": null,
          "old_line_content": "    set = Curl_tvnow();",
          "new_line_content": "    set.tv_sec += milli/1000;",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "Curl_pgrsUpdate",
          "new_api": null,
          "old_text": "Curl_pgrsUpdate(easy->easy_conn)",
          "new_text": null,
          "old_line_content": "      Curl_pgrsUpdate(easy->easy_conn);",
          "new_line_content": "      if( ( ( easy->easy_handle->set.max_send_speed == 0 ) ||",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "curlx_tvdiff",
          "new_api": null,
          "old_text": "curlx_tvdiff(set, *nowp)",
          "new_text": null,
          "old_line_content": "      long diff = curlx_tvdiff(set, *nowp);",
          "new_line_content": "      if(diff > 0)",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "Curl_hash_pick",
          "new_api": null,
          "old_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "new_text": null,
          "old_line_content": "      entry = Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "new_line_content": "      if(entry) {",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_PERFORM)",
          "new_text": null,
          "old_line_content": "        multistate(easy, CURLM_STATE_PERFORM);",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "Curl_splayremovebyaddr",
          "new_api": null,
          "old_text": "Curl_splayremovebyaddr(multi->timetree,\n                                  &data->state.timenode,\n                                  &multi->timetree)",
          "new_text": null,
          "old_line_content": "      rc = Curl_splayremovebyaddr(multi->timetree,",
          "new_line_content": "                                  &data->state.timenode,",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "infof",
          "new_api": null,
          "old_text": "infof(data, \"Internal error removing splay node = %d\\n\", rc)",
          "new_text": null,
          "old_line_content": "        infof(data, \"Internal error removing splay node = %d\\n\", rc);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "infof",
          "new_api": null,
          "old_text": "infof(data, \"Expire at %ld / %ld (%ldms) %p\\n\",\n          (long)nowp->tv_sec, (long)nowp->tv_usec, milli, data)",
          "new_text": null,
          "old_line_content": "    infof(data, \"Expire at %ld / %ld (%ldms) %p\\n\",",
          "new_line_content": "          (long)nowp->tv_sec, (long)nowp->tv_usec, milli, data);",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": "Curl_splayinsert",
          "new_api": null,
          "old_text": "Curl_splayinsert(*nowp,\n                                       multi->timetree,\n                                       &data->state.timenode)",
          "new_text": null,
          "old_line_content": "    multi->timetree = Curl_splayinsert(*nowp,",
          "new_line_content": "                                       multi->timetree,",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_TOOFAST )",
          "new_text": null,
          "old_line_content": "        multistate(easy, CURLM_STATE_TOOFAST );",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": "isHandleAtHead",
          "new_api": null,
          "old_text": "isHandleAtHead(easy->easy_handle, easy_conn->recv_pipe)",
          "new_text": null,
          "old_line_content": "              if (isHandleAtHead(easy->easy_handle, easy_conn->recv_pipe))",
          "new_line_content": "                entry->easy = easy_conn->recv_pipe->head->next->ptr;",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "Curl_splayprint",
          "new_api": null,
          "old_text": "Curl_splayprint(multi->timetree, 0, TRUE)",
          "new_text": null,
          "old_line_content": "  Curl_splayprint(multi->timetree, 0, TRUE);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "Curl_readwrite",
          "new_api": null,
          "old_text": "Curl_readwrite(easy->easy_conn, &done)",
          "new_text": null,
          "old_line_content": "      easy->result = Curl_readwrite(easy->easy_conn, &done);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": "isHandleAtHead",
          "new_api": null,
          "old_text": "isHandleAtHead(easy->easy_handle, easy_conn->send_pipe)",
          "new_text": null,
          "old_line_content": "              if (isHandleAtHead(easy->easy_handle, easy_conn->send_pipe))",
          "new_line_content": "                entry->easy = easy_conn->send_pipe->head->next->ptr;",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": "Curl_hash_pick",
          "new_api": null,
          "old_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(curl_socket_t))",
          "new_text": null,
          "old_line_content": "    there = Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(curl_socket_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "Curl_done",
          "new_api": null,
          "old_text": "Curl_done(&easy->easy_conn, easy->result, FALSE)",
          "new_text": null,
          "old_line_content": "        Curl_done(&easy->easy_conn, easy->result, FALSE);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "socket_cb",
          "new_api": null,
          "old_text": "multi->socket_cb(easy->easy_handle,\n                         s,\n                         CURL_POLL_REMOVE,\n                         multi->socket_userp,\n                         entry ? entry->socketp : NULL)",
          "new_text": null,
          "old_line_content": "        multi->socket_cb(easy->easy_handle,",
          "new_line_content": "                         s,",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "Curl_retry_request",
          "new_api": null,
          "old_text": "Curl_retry_request(easy->easy_conn, &newurl)",
          "new_text": null,
          "old_line_content": "        easy->result = Curl_retry_request(easy->easy_conn, &newurl);",
          "new_line_content": "        if(!easy->result)",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "sh_delentry",
          "new_api": null,
          "old_text": "sh_delentry(multi->sockhash, s)",
          "new_text": null,
          "old_line_content": "        sh_delentry(multi->sockhash, s);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "Curl_posttransfer",
          "new_api": null,
          "old_text": "Curl_posttransfer(easy->easy_handle)",
          "new_text": null,
          "old_line_content": "        Curl_posttransfer(easy->easy_handle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(easy->sockets, socks, num*sizeof(curl_socket_t))",
          "new_text": null,
          "old_line_content": "  memcpy(easy->sockets, socks, num*sizeof(curl_socket_t));",
          "new_line_content": "  easy->numsocks = num;",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "moveHandleFromRecvToDonePipeline",
          "new_api": null,
          "old_text": "moveHandleFromRecvToDonePipeline(easy->easy_handle,\n                                         easy->easy_conn)",
          "new_text": null,
          "old_line_content": "        moveHandleFromRecvToDonePipeline(easy->easy_handle,",
          "new_line_content": "                                         easy->easy_conn);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "Curl_expire",
          "new_api": null,
          "old_text": "Curl_expire(easy->easy_conn->recv_pipe->head->ptr, 1)",
          "new_text": null,
          "old_line_content": "          Curl_expire(easy->easy_conn->recv_pipe->head->ptr, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "checkPendPipeline",
          "new_api": null,
          "old_text": "checkPendPipeline(easy->easy_conn)",
          "new_text": null,
          "old_line_content": "        checkPendPipeline(easy->easy_conn);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "add_closure",
          "new_api": null,
          "old_text": "add_closure(multi, data)",
          "new_text": null,
          "old_line_content": "        if(add_closure(multi, data) == CURLM_OK)",
          "new_line_content": "          data->state.shared_conn = multi;",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "Curl_disconnect",
          "new_api": null,
          "old_text": "Curl_disconnect(conn)",
          "new_text": null,
          "old_line_content": "          Curl_disconnect(conn);",
          "new_line_content": "          multi->connc->connects[i] = NULL;",
          "content_same": false
        },
        {
          "line": 1906,
          "old_api": "curl_multi_perform",
          "new_api": null,
          "old_text": "curl_multi_perform(multi, running_handles)",
          "new_text": null,
          "old_line_content": "    result = curl_multi_perform(multi, running_handles);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "Curl_done",
          "new_api": null,
          "old_text": "Curl_done(&easy->easy_conn, CURLE_OK, FALSE)",
          "new_text": null,
          "old_line_content": "          easy->result = Curl_done(&easy->easy_conn, CURLE_OK, FALSE);",
          "new_line_content": "          if(easy->result == CURLE_OK)",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "singlesocket",
          "new_api": null,
          "old_text": "singlesocket(multi, easyp)",
          "new_text": null,
          "old_line_content": "      singlesocket(multi, easyp);",
          "new_line_content": "      easyp = easyp->next;",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "Curl_follow",
          "new_api": null,
          "old_text": "Curl_follow(easy->easy_handle, newurl, follow)",
          "new_text": null,
          "old_line_content": "            easy->result = Curl_follow(easy->easy_handle, newurl, follow);",
          "new_line_content": "          if(CURLE_OK == easy->result) {",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_CONNECT)",
          "new_text": null,
          "old_line_content": "            multistate(easy, CURLM_STATE_CONNECT);",
          "new_line_content": "            result = CURLM_CALL_MULTI_PERFORM;",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(newurl)",
          "new_text": null,
          "old_line_content": "            free(newurl);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "Curl_hash_pick",
          "new_api": null,
          "old_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "new_text": null,
          "old_line_content": "      Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "Curl_follow",
          "new_api": null,
          "old_text": "Curl_follow(easy->easy_handle, newurl, FOLLOW_FAKE)",
          "new_text": null,
          "old_line_content": "            easy->result = Curl_follow(easy->easy_handle, newurl, FOLLOW_FAKE);",
          "new_line_content": "            if (easy->result)",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(newurl)",
          "new_text": null,
          "old_line_content": "              free(newurl);",
          "new_line_content": "          }",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_DONE)",
          "new_text": null,
          "old_line_content": "          multistate(easy, CURLM_STATE_DONE);",
          "new_line_content": "          result = CURLM_CALL_MULTI_PERFORM;",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "Curl_removeHandleFromPipeline",
          "new_api": null,
          "old_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                      easy->easy_conn->recv_pipe)",
          "new_text": null,
          "old_line_content": "        Curl_removeHandleFromPipeline(easy->easy_handle,",
          "new_line_content": "                                      easy->easy_conn->recv_pipe);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "Curl_removeHandleFromPipeline",
          "new_api": null,
          "old_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                      easy->easy_conn->done_pipe)",
          "new_text": null,
          "old_line_content": "        Curl_removeHandleFromPipeline(easy->easy_handle,",
          "new_line_content": "                                      easy->easy_conn->done_pipe);",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "infof",
          "new_api": null,
          "old_text": "infof(data, \"Delayed kill of easy handle %p\\n\", cl->easy_handle)",
          "new_text": null,
          "old_line_content": "        infof(data, \"Delayed kill of easy handle %p\\n\", cl->easy_handle);",
          "new_line_content": "        /* close handle only if curl_easy_cleanup() already has been called",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "checkPendPipeline",
          "new_api": null,
          "old_text": "checkPendPipeline(easy->easy_conn)",
          "new_text": null,
          "old_line_content": "        checkPendPipeline(easy->easy_conn);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": "Curl_close",
          "new_api": null,
          "old_text": "Curl_close(cl->easy_handle)",
          "new_text": null,
          "old_line_content": "        Curl_close(cl->easy_handle);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "multi_runsingle",
          "new_api": null,
          "old_text": "multi_runsingle(multi, data->set.one_easy)",
          "new_text": null,
          "old_line_content": "        result = multi_runsingle(multi, data->set.one_easy);",
          "new_line_content": "      while (CURLM_CALL_MULTI_PERFORM == result);",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(cl)",
          "new_text": null,
          "old_line_content": "      free(cl);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "Curl_done",
          "new_api": null,
          "old_text": "Curl_done(&easy->easy_conn, CURLE_OK, FALSE)",
          "new_text": null,
          "old_line_content": "        easy->result = Curl_done(&easy->easy_conn, CURLE_OK, FALSE);",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": "singlesocket",
          "new_api": null,
          "old_text": "singlesocket(multi, data->set.one_easy)",
          "new_text": null,
          "old_line_content": "        singlesocket(multi, data->set.one_easy);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(1, sizeof(struct closure))",
          "new_text": null,
          "old_line_content": "    cl = calloc(1, sizeof(struct closure));",
          "new_line_content": "    if(!cl)",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_INIT)",
          "new_text": null,
          "old_line_content": "          multistate(easy, CURLM_STATE_INIT);",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "multistate",
          "new_api": null,
          "old_text": "multistate(easy, CURLM_STATE_COMPLETED)",
          "new_text": null,
          "old_line_content": "      multistate(easy, CURLM_STATE_COMPLETED);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": "multi_runsingle",
          "new_api": null,
          "old_text": "multi_runsingle(multi, data->set.one_easy)",
          "new_text": null,
          "old_line_content": "        result = multi_runsingle(multi, data->set.one_easy);",
          "new_line_content": "      while (CURLM_CALL_MULTI_PERFORM == result);",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"* Multi status: %d handles, %d alive\\n\",\n          multi->num_easy, multi->num_alive)",
          "new_text": null,
          "old_line_content": "  fprintf(stderr, \"* Multi status: %d handles, %d alive\\n\",",
          "new_line_content": "          multi->num_easy, multi->num_alive);",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "singlesocket",
          "new_api": null,
          "old_text": "singlesocket(multi, data->set.one_easy)",
          "new_text": null,
          "old_line_content": "        singlesocket(multi, data->set.one_easy);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"handle %p, state %s, %d sockets\\n\",\n              (void *)easy->easy_handle,\n              statename[easy->state], easy->numsocks)",
          "new_text": null,
          "old_line_content": "      fprintf(stderr, \"handle %p, state %s, %d sockets\\n\",",
          "new_line_content": "              (void *)easy->easy_handle,",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "Curl_tvnow",
          "new_api": null,
          "old_text": "Curl_tvnow()",
          "new_text": null,
          "old_line_content": "    now = Curl_tvnow();",
          "new_line_content": "    now.tv_usec += 40000; /* compensate for bad precision timers */",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": "Curl_hash_pick",
          "new_api": null,
          "old_text": "Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s))",
          "new_text": null,
          "old_line_content": "          Curl_hash_pick(multi->sockhash, (char *)&s, sizeof(s));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"%d \", (int)s)",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"%d \", (int)s);",
          "new_line_content": "        if(!entry) {",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "Curl_splaygetbest",
          "new_api": null,
          "old_text": "Curl_splaygetbest(now, multi->timetree, &t)",
          "new_text": null,
          "old_line_content": "    multi->timetree = Curl_splaygetbest(now, multi->timetree, &t);",
          "new_line_content": "    if(t) {",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"INTERNAL CONFUSION\\n\")",
          "new_text": null,
          "old_line_content": "          fprintf(stderr, \"INTERNAL CONFUSION\\n\");",
          "new_line_content": "          continue;",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"[%s %s] \",\n                entry->action&CURL_POLL_IN?\"RECVING\":\"\",\n                entry->action&CURL_POLL_OUT?\"SENDING\":\"\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"[%s %s] \",",
          "new_line_content": "                entry->action&CURL_POLL_IN?\"RECVING\":\"\",",
          "content_same": false
        },
        {
          "line": 2526,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "Curl_removeHandleFromPipeline",
          "new_api": null,
          "old_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                        easy->easy_conn->send_pipe)",
          "new_text": null,
          "old_line_content": "          Curl_removeHandleFromPipeline(easy->easy_handle,",
          "new_line_content": "                                        easy->easy_conn->send_pipe);",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "Curl_removeHandleFromPipeline",
          "new_api": null,
          "old_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                        easy->easy_conn->recv_pipe)",
          "new_text": null,
          "old_line_content": "          Curl_removeHandleFromPipeline(easy->easy_handle,",
          "new_line_content": "                                        easy->easy_conn->recv_pipe);",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "Curl_removeHandleFromPipeline",
          "new_api": null,
          "old_text": "Curl_removeHandleFromPipeline(easy->easy_handle,\n                                        easy->easy_conn->done_pipe)",
          "new_text": null,
          "old_line_content": "          Curl_removeHandleFromPipeline(easy->easy_handle,",
          "new_line_content": "                                        easy->easy_conn->done_pipe);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "checkPendPipeline",
          "new_api": null,
          "old_text": "checkPendPipeline(easy->easy_conn)",
          "new_text": null,
          "old_line_content": "          checkPendPipeline(easy->easy_conn);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": "GOOD_MULTI_HANDLE",
          "new_api": null,
          "old_text": "GOOD_MULTI_HANDLE(multi)",
          "new_text": null,
          "old_line_content": "  if(!GOOD_MULTI_HANDLE(multi))",
          "new_line_content": "    return CURLM_BAD_HANDLE;",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "Curl_disconnect",
          "new_api": null,
          "old_text": "Curl_disconnect(easy->easy_conn)",
          "new_text": null,
          "old_line_content": "          Curl_disconnect(easy->easy_conn); /* disconnect properly */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(param, option)",
          "new_text": null,
          "old_line_content": "  va_start(param, option);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(param, curl_socket_callback)",
          "new_text": null,
          "old_line_content": "    multi->socket_cb = va_arg(param, curl_socket_callback);",
          "new_line_content": "    break;",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(param, void *)",
          "new_text": null,
          "old_line_content": "    multi->socket_userp = va_arg(param, void *);",
          "new_line_content": "    break;",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(param, long)",
          "new_text": null,
          "old_line_content": "    multi->pipelining_enabled = (bool)(0 != va_arg(param, long));",
          "new_line_content": "    break;",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg(param, curl_multi_timer_callback)",
          "new_text": null,
          "old_line_content": "    multi->timer_cb = va_arg(param, curl_multi_timer_callback);",
          "new_line_content": "    break;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 1,
      "total_additions": 128,
      "total_deletions": 129,
      "total_api_changes": 258
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 258,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          1531
        ]
      }
    },
    "api_calls_before": 261,
    "api_calls_after": 260,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 3,
      "total_diff_lines": 24
    }
  }
}