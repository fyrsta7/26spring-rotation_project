{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/b40287aaef3c13da55ae4f5b80e34fe59eb629d4",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/b40287aaef3c13da55ae4f5b80e34fe59eb629d4/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/b40287aaef3c13da55ae4f5b80e34fe59eb629d4/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/b40287aaef3c13da55ae4f5b80e34fe59eb629d4/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 684,
          "old_api": "FSE_peakSymbol",
          "new_api": "BIT_reloadDStream",
          "old_text": "FSE_peakSymbol(&(seqState->stateOffb))",
          "new_text": "BIT_reloadDStream(&(seqState->DStream))",
          "old_line_content": "        U32 offsetCode = FSE_peakSymbol(&(seqState->stateOffb));   /* <= maxOff, by table construction */",
          "new_line_content": "        if (MEM_32bits()) BIT_reloadDStream(&(seqState->DStream));",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": "BIT_readBits",
          "new_api": "FSE_decodeSymbol",
          "old_text": "BIT_readBits(&(seqState->DStream), nbBits)",
          "new_text": "FSE_decodeSymbol(&(seqState->stateOffb), &(seqState->DStream))",
          "old_line_content": "        offset = offsetPrefix[offsetCode] + BIT_readBits(&(seqState->DStream), nbBits);",
          "new_line_content": "        FSE_decodeSymbol(&(seqState->stateOffb), &(seqState->DStream));    /* update */",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "ERROR",
          "new_api": "ZSTD_wildcopy",
          "old_text": "ERROR(dstSize_tooSmall)",
          "new_text": "ZSTD_wildcopy(op, *litPtr, sequence.litLength)",
          "old_line_content": "    if (oMatchEnd > oend) return ERROR(dstSize_tooSmall);   /* overwrite beyond dst buffer */",
          "new_line_content": "    ZSTD_wildcopy(op, *litPtr, sequence.litLength);   /* note : oLitEnd <= oend-8 : no risk of overwrite beyond oend */",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "BIT_initDStream",
          "new_api": "FSE_initDState",
          "old_text": "BIT_initDStream(&(seqState.DStream), ip, iend-ip)",
          "new_text": "FSE_initDState(&(seqState.stateML), &(seqState.DStream), DTableML)",
          "old_line_content": "        errorCode = BIT_initDStream(&(seqState.DStream), ip, iend-ip);",
          "new_line_content": "        FSE_initDState(&(seqState.stateML), &(seqState.DStream), DTableML);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "FSE_initDState",
          "new_api": "BIT_reloadDStream",
          "old_text": "FSE_initDState(&(seqState.stateLL), &(seqState.DStream), DTableLL)",
          "new_text": "BIT_reloadDStream(&(seqState.DStream))",
          "old_line_content": "        FSE_initDState(&(seqState.stateLL), &(seqState.DStream), DTableLL);",
          "new_line_content": "        for ( ; (BIT_reloadDStream(&(seqState.DStream)) <= BIT_DStream_completed) && nbSeq ; ) {",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "BIT_reloadDStream",
          "new_api": "ZSTD_execSequence",
          "old_text": "BIT_reloadDStream(&(seqState.DStream))",
          "new_text": "ZSTD_execSequence(op, oend, sequence, &litPtr, litLimit_8, base, vBase, dictEnd)",
          "old_line_content": "        for ( ; (BIT_reloadDStream(&(seqState.DStream)) <= BIT_DStream_completed) && nbSeq ; ) {",
          "new_line_content": "            oneSeqSize = ZSTD_execSequence(op, oend, sequence, &litPtr, litLimit_8, base, vBase, dictEnd);",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "ZSTD_LOG_BLOCK",
          "new_api": "ZSTD_isError",
          "old_text": "ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBlock_internal searchLength=%d\\n\", dctx->base, dctx->params.searchLength)",
          "new_text": "ZSTD_isError(litCSize)",
          "old_line_content": "    ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBlock_internal searchLength=%d\\n\", dctx->base, dctx->params.searchLength);",
          "new_line_content": "    if (ZSTD_isError(litCSize)) return litCSize;",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "ZSTD_isError",
          "new_api": "ZSTD_decompressSequences",
          "old_text": "ZSTD_isError(litCSize)",
          "new_text": "ZSTD_decompressSequences(dctx, dst, dstCapacity, ip, srcSize)",
          "old_line_content": "    if (ZSTD_isError(litCSize)) return litCSize;",
          "new_line_content": "    return ZSTD_decompressSequences(dctx, dst, dstCapacity, ip, srcSize);",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "ERROR",
          "new_api": "ZSTD_isLegacy",
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": "ZSTD_isLegacy(magicNumber)",
          "old_line_content": "        if (srcSize < ZSTD_frameHeaderSize_min+ZSTD_blockHeaderSize) return ERROR(srcSize_wrong);",
          "new_line_content": "            if (ZSTD_isLegacy(magicNumber))",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "ZSTD_isLegacy",
          "new_api": "ZSTD_frameHeaderSize",
          "old_text": "ZSTD_isLegacy(magicNumber)",
          "new_text": "ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min)",
          "old_line_content": "            if (ZSTD_isLegacy(magicNumber))",
          "new_line_content": "        frameHeaderSize = ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min);",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "ZSTD_decompressLegacy",
          "new_api": "ZSTD_isError",
          "old_text": "ZSTD_decompressLegacy(dst, maxDstSize, src, srcSize, magicNumber)",
          "new_text": "ZSTD_isError(frameHeaderSize)",
          "old_line_content": "                return ZSTD_decompressLegacy(dst, maxDstSize, src, srcSize, magicNumber);",
          "new_line_content": "        if (ZSTD_isError(frameHeaderSize)) return frameHeaderSize;",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "ZSTD_frameHeaderSize",
          "new_api": "ZSTD_isError",
          "old_text": "ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min)",
          "new_text": "ZSTD_isError(errorCode)",
          "old_line_content": "        frameHeaderSize = ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min);",
          "new_line_content": "        if (ZSTD_isError(errorCode)) return errorCode;",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "ZSTD_isError",
          "new_api": "ERROR",
          "old_text": "ZSTD_isError(cBlockSize)",
          "new_text": "ERROR(srcSize_wrong)",
          "old_line_content": "        if (ZSTD_isError(cBlockSize)) return cBlockSize;",
          "new_line_content": "        if (cBlockSize > remainingSize) return ERROR(srcSize_wrong);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "ERROR",
          "new_api": "ZSTD_isError",
          "old_text": "ERROR(GENERIC)",
          "new_text": "ZSTD_isError(decodedSize)",
          "old_line_content": "            return ERROR(GENERIC);   /* impossible */",
          "new_line_content": "        if (ZSTD_isError(decodedSize)) return decodedSize;",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "ZSTD_freeDCtx",
          "new_api": "ZSTD_decompressDCtx",
          "old_text": "ZSTD_freeDCtx(dctx)",
          "new_text": "ZSTD_decompressDCtx(&dctx, dst, maxDstSize, src, srcSize)",
          "old_line_content": "    ZSTD_freeDCtx(dctx);",
          "new_line_content": "    return ZSTD_decompressDCtx(&dctx, dst, maxDstSize, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "ERROR",
          "new_api": "FSE_readNCount",
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": "FSE_readNCount(offcodeNCount, &offcodeMaxValue, &offcodeLog, dict, dictSize)",
          "old_line_content": "    if (HUF_isError(hSize)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    offcodeHeaderSize = FSE_readNCount(offcodeNCount, &offcodeMaxValue, &offcodeLog, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "ERROR",
          "new_api": "FSE_readNCount",
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": "FSE_readNCount(matchlengthNCount, &matchlengthMaxValue, &matchlengthLog, dict, dictSize)",
          "old_line_content": "    if (FSE_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    matchlengthHeaderSize = FSE_readNCount(matchlengthNCount, &matchlengthMaxValue, &matchlengthLog, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "ERROR",
          "new_api": "FSE_readNCount",
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": "FSE_readNCount(litlengthNCount, &litlengthMaxValue, &litlengthLog, dict, dictSize)",
          "old_line_content": "    if (FSE_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    litlengthHeaderSize = FSE_readNCount(litlengthNCount, &litlengthMaxValue, &litlengthLog, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "ZSTD_decompressBegin",
          "new_api": "ZSTD_decompress_insertDictionary",
          "old_text": "ZSTD_decompressBegin(dctx)",
          "new_text": "ZSTD_decompress_insertDictionary(dctx, dict, dictSize)",
          "old_line_content": "    errorCode = ZSTD_decompressBegin(dctx);",
          "new_line_content": "        errorCode = ZSTD_decompress_insertDictionary(dctx, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "ZSTD_isError",
          "new_api": "ERROR",
          "old_text": "ZSTD_isError(errorCode)",
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "    if (ZSTD_isError(errorCode)) return errorCode;",
          "new_line_content": "        if (ZSTD_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1043,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(srcSize_wrong)",
          "old_line_content": "",
          "new_line_content": "    if (srcSize != dctx->expected) return ERROR(srcSize_wrong);",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": null,
          "new_api": "ZSTD_checkContinuity",
          "old_text": null,
          "new_text": "ZSTD_checkContinuity(dctx, dst)",
          "old_line_content": "size_t ZSTD_decompressContinue(ZSTD_DCtx* dctx, void* dst, size_t maxDstSize, const void* src, size_t srcSize)",
          "new_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(srcSize_wrong)",
          "old_line_content": "    {",
          "new_line_content": "            if (srcSize != ZSTD_frameHeaderSize_min) return ERROR(srcSize_wrong);   /* impossible */",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "ZSTD_frameHeaderSize",
          "old_text": null,
          "new_text": "ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min)",
          "old_line_content": "    case ZSTDds_getFrameHeaderSize :",
          "new_line_content": "            dctx->headerSize = ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min);",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(dctx->headerSize)",
          "old_line_content": "        {",
          "new_line_content": "            if (ZSTD_isError(dctx->headerSize)) return dctx->headerSize;",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dctx->headerBuffer, src, ZSTD_frameHeaderSize_min)",
          "old_line_content": "            /* get frame header size */",
          "new_line_content": "            memcpy(dctx->headerBuffer, src, ZSTD_frameHeaderSize_min);",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dctx->headerBuffer + ZSTD_frameHeaderSize_min, src, dctx->expected)",
          "old_line_content": "    case ZSTDds_decodeFrameHeader:",
          "new_line_content": "            memcpy(dctx->headerBuffer + ZSTD_frameHeaderSize_min, src, dctx->expected);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "ZSTD_decodeFrameHeader",
          "old_text": null,
          "new_text": "ZSTD_decodeFrameHeader(dctx, dctx->headerBuffer, dctx->headerSize)",
          "old_line_content": "        {",
          "new_line_content": "            result = ZSTD_decodeFrameHeader(dctx, dctx->headerBuffer, dctx->headerSize);",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(result)",
          "old_line_content": "            /* get frame header */",
          "new_line_content": "            if (ZSTD_isError(result)) return result;",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "ZSTD_getcBlockSize",
          "old_text": null,
          "new_text": "ZSTD_getcBlockSize(src, ZSTD_blockHeaderSize, &bp)",
          "old_line_content": "    case ZSTDds_decodeBlockHeader:",
          "new_line_content": "            size_t blockSize = ZSTD_getcBlockSize(src, ZSTD_blockHeaderSize, &bp);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(blockSize)",
          "old_line_content": "        {",
          "new_line_content": "            if (ZSTD_isError(blockSize)) return blockSize;",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "ZSTD_decompressBlock_internal",
          "old_text": null,
          "new_text": "ZSTD_decompressBlock_internal(dctx, dst, maxDstSize, src, srcSize)",
          "old_line_content": "            size_t rSize;",
          "new_line_content": "                rSize = ZSTD_decompressBlock_internal(dctx, dst, maxDstSize, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "ZSTD_copyRawBlock",
          "old_text": null,
          "new_text": "ZSTD_copyRawBlock(dst, maxDstSize, src, srcSize)",
          "old_line_content": "            case bt_compressed:",
          "new_line_content": "                rSize = ZSTD_copyRawBlock(dst, maxDstSize, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(GENERIC)",
          "old_line_content": "            case bt_raw :",
          "new_line_content": "                return ERROR(GENERIC);   /* not yet handled */",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(GENERIC)",
          "old_line_content": "            case bt_end :   /* should never happen (filtered at phase 1) */",
          "new_line_content": "                return ERROR(GENERIC);   /* impossible */",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(GENERIC)",
          "old_line_content": "            dctx->previousDstEnd = (char*)dst + rSize;",
          "new_line_content": "        return ERROR(GENERIC);   /* impossible */",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "HUF_readDTableX4",
          "old_text": null,
          "new_text": "HUF_readDTableX4(dctx->hufTableX4, dict, dictSize)",
          "old_line_content": "    unsigned matchlengthMaxValue = MaxML, matchlengthLog = MLFSELog;",
          "new_line_content": "    hSize = HUF_readDTableX4(dctx->hufTableX4, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "    short litlengthNCount[MaxLL+1];",
          "new_line_content": "    if (HUF_isError(hSize)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "    dict = (const char*)dict + hSize;",
          "new_line_content": "    if (FSE_isError(offcodeHeaderSize)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "FSE_buildDTable",
          "old_text": null,
          "new_text": "FSE_buildDTable(dctx->OffTable, offcodeNCount, offcodeMaxValue, offcodeLog)",
          "old_line_content": "    dictSize -= hSize;",
          "new_line_content": "    errorCode = FSE_buildDTable(dctx->OffTable, offcodeNCount, offcodeMaxValue, offcodeLog);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "",
          "new_line_content": "    if (FSE_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "    dict = (const char*)dict + offcodeHeaderSize;",
          "new_line_content": "    if (FSE_isError(matchlengthHeaderSize)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": null,
          "new_api": "FSE_buildDTable",
          "old_text": null,
          "new_text": "FSE_buildDTable(dctx->MLTable, matchlengthNCount, matchlengthMaxValue, matchlengthLog)",
          "old_line_content": "    dictSize -= offcodeHeaderSize;",
          "new_line_content": "    errorCode = FSE_buildDTable(dctx->MLTable, matchlengthNCount, matchlengthMaxValue, matchlengthLog);",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "",
          "new_line_content": "    if (FSE_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "    dict = (const char*)dict + matchlengthHeaderSize;",
          "new_line_content": "    if (FSE_isError(litlengthHeaderSize)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "FSE_buildDTable",
          "old_text": null,
          "new_text": "FSE_buildDTable(dctx->LLTable, litlengthNCount, litlengthMaxValue, litlengthLog)",
          "old_line_content": "    dictSize -= matchlengthHeaderSize;",
          "new_line_content": "    errorCode = FSE_buildDTable(dctx->LLTable, litlengthNCount, litlengthMaxValue, litlengthLog);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "",
          "new_line_content": "    if (FSE_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "MEM_readLE32",
          "old_text": null,
          "new_text": "MEM_readLE32(dict)",
          "old_line_content": "",
          "new_line_content": "    U32 magic = MEM_readLE32(dict);",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": null,
          "new_api": "FSE_peakSymbol",
          "old_text": null,
          "new_text": "FSE_peakSymbol(&(seqState->stateLL))",
          "old_line_content": "    const BYTE* const de = seqState->dumpsEnd;",
          "new_line_content": "    litLength = FSE_peakSymbol(&(seqState->stateLL));",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "ZSTD_refDictContent",
          "old_text": null,
          "new_text": "ZSTD_refDictContent(dctx, dict, dictSize)",
          "old_line_content": "    size_t eSize;",
          "new_line_content": "        ZSTD_refDictContent(dctx, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "MEM_readLE32",
          "old_text": null,
          "new_text": "MEM_readLE32(dumps)",
          "old_line_content": "    if (litLength == MaxLL) {",
          "new_line_content": "            litLength = MEM_readLE32(dumps) & 0xFFFFFF;  /* no risk : dumps is always followed by seq tables > 1 byte */",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "U16)(litLength)",
          "old_text": null,
          "new_text": "U16)(litLength)",
          "old_line_content": "        if (add < 255) litLength += add;",
          "new_line_content": "            else litLength = (U16)(litLength)>>1, dumps += 2;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "ZSTD_loadEntropy",
          "old_text": null,
          "new_text": "ZSTD_loadEntropy(dctx, dict, dictSize)",
          "old_line_content": "    }",
          "new_line_content": "    eSize = ZSTD_loadEntropy(dctx, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dictionary_corrupted)",
          "old_line_content": "    /* load entropy tables */",
          "new_line_content": "    if (ZSTD_isError(eSize)) return ERROR(dictionary_corrupted);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "ZSTD_refDictContent",
          "old_text": null,
          "new_text": "ZSTD_refDictContent(dctx, dict, dictSize)",
          "old_line_content": "",
          "new_line_content": "    ZSTD_refDictContent(dctx, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "FSE_peakSymbol",
          "old_text": null,
          "new_text": "FSE_peakSymbol(&(seqState->stateOffb))",
          "old_line_content": "        static const U32 offsetPrefix[MaxOff+1] = {",
          "new_line_content": "        U32 offsetCode = FSE_peakSymbol(&(seqState->stateOffb));   /* <= maxOff, by table construction */",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "BIT_readBits",
          "old_text": null,
          "new_text": "BIT_readBits(&(seqState->DStream), nbBits)",
          "old_line_content": "                0x80000, 0x100000, 0x200000, 0x400000, 0x800000, 0x1000000, 0x2000000, 0x4000000, /*fake*/ 1, 1, 1, 1 };",
          "new_line_content": "        offset = offsetPrefix[offsetCode] + BIT_readBits(&(seqState->DStream), nbBits);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "ZSTD_decompressBegin",
          "old_text": null,
          "new_text": "ZSTD_decompressBegin(dctx)",
          "old_line_content": "",
          "new_line_content": "    errorCode = ZSTD_decompressBegin(dctx);",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(errorCode)",
          "old_line_content": "size_t ZSTD_decompressBegin_usingDict(ZSTD_DCtx* dctx, const void* dict, size_t dictSize)",
          "new_line_content": "    if (ZSTD_isError(errorCode)) return errorCode;",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "BIT_reloadDStream",
          "old_text": null,
          "new_text": "BIT_reloadDStream(&(seqState->DStream))",
          "old_line_content": "    }",
          "new_line_content": "    if (MEM_32bits()) BIT_reloadDStream(&(seqState->DStream));",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": null,
          "new_api": "MEM_readLE32",
          "old_text": null,
          "new_text": "MEM_readLE32(dumps)",
          "old_line_content": "    if (matchLength == MaxML) {",
          "new_line_content": "            matchLength = MEM_readLE32(dumps) & 0xFFFFFF;  /* no pb : dumps is always followed by seq tables > 1 byte */",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "U16)(matchLength)",
          "old_text": null,
          "new_text": "U16)(matchLength)",
          "old_line_content": "        if (add < 255) matchLength += add;",
          "new_line_content": "            else matchLength = (U16)(matchLength)>>1, dumps += 2;",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"pos %6u : %3u literals & match %3u bytes at distance %6u \\n\",\n           (U32)(totalDecoded), (U32)litLength, (U32)matchLength, (U32)offset)",
          "old_line_content": "",
          "new_line_content": "        printf(\"pos %6u : %3u literals & match %3u bytes at distance %6u \\n\",",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": null,
          "new_api": "U32)(totalDecoded)",
          "old_text": null,
          "new_text": "U32)(totalDecoded)",
          "old_line_content": "#if 0   /* debug */",
          "new_line_content": "           (U32)(totalDecoded), (U32)litLength, (U32)matchLength, (U32)offset);",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dstSize_tooSmall)",
          "old_line_content": "    const BYTE* const litEnd = *litPtr + sequence.litLength;",
          "new_line_content": "    if (oLitEnd > oend_8) return ERROR(dstSize_tooSmall);   /* last match must start at a minimum distance of 8 from oend */",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dstSize_tooSmall)",
          "old_line_content": "    const BYTE* match = oLitEnd - sequence.offset;",
          "new_line_content": "    if (oMatchEnd > oend) return ERROR(dstSize_tooSmall);   /* overwrite beyond dst buffer */",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(corruption_detected)",
          "old_line_content": "",
          "new_line_content": "    if (litEnd > litLimit_8) return ERROR(corruption_detected);   /* risk read beyond lit buffer */",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(corruption_detected)",
          "old_line_content": "    /* copy Match */",
          "new_line_content": "            return ERROR(corruption_detected);",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(oLitEnd, match, sequence.matchLength)",
          "old_line_content": "        if (sequence.offset > (size_t)(oLitEnd - vBase))",
          "new_line_content": "            memmove(oLitEnd, match, sequence.matchLength);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(oLitEnd, match, length1)",
          "old_line_content": "        }",
          "new_line_content": "            memmove(oLitEnd, match, length1);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "ZSTD_copy4",
          "old_text": null,
          "new_text": "ZSTD_copy4(op+4, match)",
          "old_line_content": "        op[1] = match[1];",
          "new_line_content": "        ZSTD_copy4(op+4, match);",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": null,
          "new_api": "ZSTD_copy8",
          "old_text": null,
          "new_text": "ZSTD_copy8(op, match)",
          "old_line_content": "        match += dec32table[sequence.offset];",
          "new_line_content": "        ZSTD_copy8(op, match);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "ZSTD_wildcopy",
          "old_text": null,
          "new_text": "ZSTD_wildcopy(op, match, oend_8 - op)",
          "old_line_content": "    op += 8; match += 8;",
          "new_line_content": "            ZSTD_wildcopy(op, match, oend_8 - op);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "ZSTD_wildcopy",
          "old_text": null,
          "new_text": "ZSTD_wildcopy(op, match, sequence.matchLength-8)",
          "old_line_content": "        }",
          "new_line_content": "        ZSTD_wildcopy(op, match, sequence.matchLength-8);   /* works even if matchLength < 8 */",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "ZSTD_decodeSeqHeaders",
          "old_text": null,
          "new_text": "ZSTD_decodeSeqHeaders(&nbSeq, &dumps, &dumpsLength,\n                                      DTableLL, DTableML, DTableOffb,\n                                      ip, seqSize)",
          "old_line_content": "    const BYTE* const dictEnd = (const BYTE*) (dctx->dictEnd);",
          "new_line_content": "    errorCode = ZSTD_decodeSeqHeaders(&nbSeq, &dumps, &dumpsLength,",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(errorCode)",
          "old_line_content": "    /* Build Decoding Tables */",
          "new_line_content": "    if (ZSTD_isError(errorCode)) return errorCode;",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&sequence, 0, sizeof(sequence))",
          "old_line_content": "    if (nbSeq) {",
          "new_line_content": "        memset(&sequence, 0, sizeof(sequence));",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "BIT_initDStream",
          "old_text": null,
          "new_text": "BIT_initDStream(&(seqState.DStream), ip, iend-ip)",
          "old_line_content": "        sequence.offset = REPCODE_STARTVALUE;",
          "new_line_content": "        errorCode = BIT_initDStream(&(seqState.DStream), ip, iend-ip);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(corruption_detected)",
          "old_line_content": "        seqState.dumps = dumps;",
          "new_line_content": "        if (ERR_isError(errorCode)) return ERROR(corruption_detected);",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "FSE_initDState",
          "old_text": null,
          "new_text": "FSE_initDState(&(seqState.stateLL), &(seqState.DStream), DTableLL)",
          "old_line_content": "        seqState.dumpsEnd = dumps + dumpsLength;",
          "new_line_content": "        FSE_initDState(&(seqState.stateLL), &(seqState.DStream), DTableLL);",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "FSE_initDState",
          "old_text": null,
          "new_text": "FSE_initDState(&(seqState.stateOffb), &(seqState.DStream), DTableOffb)",
          "old_line_content": "        seqState.prevOffset = REPCODE_STARTVALUE;",
          "new_line_content": "        FSE_initDState(&(seqState.stateOffb), &(seqState.DStream), DTableOffb);",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": null,
          "new_api": "ZSTD_decodeSequence",
          "old_text": null,
          "new_text": "ZSTD_decodeSequence(&sequence, &seqState, mls)",
          "old_line_content": "",
          "new_line_content": "            ZSTD_decodeSequence(&sequence, &seqState, mls);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(oneSeqSize)",
          "old_line_content": "            size_t oneSeqSize;",
          "new_line_content": "            if (ZSTD_isError(oneSeqSize))",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(corruption_detected)",
          "old_line_content": "            op += oneSeqSize;",
          "new_line_content": "        if (nbSeq) return ERROR(corruption_detected);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(corruption_detected)",
          "old_line_content": "",
          "new_line_content": "        if (litPtr > litEnd) return ERROR(corruption_detected);   /* too many literals already used */",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(dstSize_tooSmall)",
          "old_line_content": "    /* last literal segment */",
          "new_line_content": "        if (op+lastLLSize > oend) return ERROR(dstSize_tooSmall);",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(op, litPtr, lastLLSize)",
          "old_line_content": "    {",
          "new_line_content": "        memcpy(op, litPtr, lastLLSize);",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(srcSize_wrong)",
          "old_line_content": "{   /* blockType == blockCompressed */",
          "new_line_content": "    if (srcSize >= ZSTD_BLOCKSIZE_MAX) return ERROR(srcSize_wrong);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "ZSTD_LOG_BLOCK",
          "old_text": null,
          "new_text": "ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBlock_internal searchLength=%d\\n\", dctx->base, dctx->params.searchLength)",
          "old_line_content": "    size_t litCSize;",
          "new_line_content": "    ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBlock_internal searchLength=%d\\n\", dctx->base, dctx->params.searchLength);",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "ZSTD_decodeLiteralsBlock",
          "old_text": null,
          "new_text": "ZSTD_decodeLiteralsBlock(dctx, src, srcSize)",
          "old_line_content": "",
          "new_line_content": "    litCSize = ZSTD_decodeLiteralsBlock(dctx, src, srcSize);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "ZSTD_checkContinuity",
          "old_text": null,
          "new_text": "ZSTD_checkContinuity(dctx, dst)",
          "old_line_content": "size_t ZSTD_decompressBlock(ZSTD_DCtx* dctx,",
          "new_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": null,
          "new_api": "ZSTD_decompressBlock_internal",
          "old_text": null,
          "new_text": "ZSTD_decompressBlock_internal(dctx, dst, dstCapacity, src, srcSize)",
          "old_line_content": "                            void* dst, size_t dstCapacity,",
          "new_line_content": "    return ZSTD_decompressBlock_internal(dctx, dst, dstCapacity, src, srcSize);",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(srcSize_wrong)",
          "old_line_content": "",
          "new_line_content": "        if (srcSize < ZSTD_frameHeaderSize_min+ZSTD_blockHeaderSize) return ERROR(srcSize_wrong);",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "MEM_readLE32",
          "old_text": null,
          "new_text": "MEM_readLE32(src)",
          "old_line_content": "        size_t frameHeaderSize, errorCode;",
          "new_line_content": "            const U32 magicNumber = MEM_readLE32(src);",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": null,
          "new_api": "ZSTD_decompressLegacy",
          "old_text": null,
          "new_text": "ZSTD_decompressLegacy(dst, maxDstSize, src, srcSize, magicNumber)",
          "old_line_content": "#if defined(ZSTD_LEGACY_SUPPORT) && (ZSTD_LEGACY_SUPPORT==1)",
          "new_line_content": "                return ZSTD_decompressLegacy(dst, maxDstSize, src, srcSize, magicNumber);",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(srcSize_wrong)",
          "old_line_content": "        }",
          "new_line_content": "        if (srcSize < frameHeaderSize+ZSTD_blockHeaderSize) return ERROR(srcSize_wrong);",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": null,
          "new_api": "ZSTD_decodeFrameHeader",
          "old_text": null,
          "new_text": "ZSTD_decodeFrameHeader(dctx, src, frameHeaderSize)",
          "old_line_content": "#endif",
          "new_line_content": "        errorCode = ZSTD_decodeFrameHeader(dctx, src, frameHeaderSize);",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": null,
          "new_api": "ZSTD_getcBlockSize",
          "old_text": null,
          "new_text": "ZSTD_getcBlockSize(ip, iend-ip, &blockProperties)",
          "old_line_content": "    /* Loop on each block */",
          "new_line_content": "        size_t cBlockSize = ZSTD_getcBlockSize(ip, iend-ip, &blockProperties);",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "ZSTD_isError",
          "old_text": null,
          "new_text": "ZSTD_isError(cBlockSize)",
          "old_line_content": "    while (1)",
          "new_line_content": "        if (ZSTD_isError(cBlockSize)) return cBlockSize;",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": null,
          "new_api": "ZSTD_decompressBlock_internal",
          "old_text": null,
          "new_text": "ZSTD_decompressBlock_internal(dctx, op, oend-op, ip, cBlockSize)",
          "old_line_content": "",
          "new_line_content": "            decodedSize = ZSTD_decompressBlock_internal(dctx, op, oend-op, ip, cBlockSize);",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "ZSTD_copyRawBlock",
          "old_text": null,
          "new_text": "ZSTD_copyRawBlock(op, oend-op, ip, cBlockSize)",
          "old_line_content": "        case bt_compressed:",
          "new_line_content": "            decodedSize = ZSTD_copyRawBlock(op, oend-op, ip, cBlockSize);",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(GENERIC)",
          "old_line_content": "        case bt_raw :",
          "new_line_content": "            return ERROR(GENERIC);   /* not yet supported */",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(GENERIC)",
          "old_line_content": "            /* end of frame */",
          "new_line_content": "            return ERROR(GENERIC);   /* impossible */",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": null,
          "new_api": "ZSTD_copyDCtx",
          "old_text": null,
          "new_text": "ZSTD_copyDCtx(dctx, refDCtx)",
          "old_line_content": "size_t ZSTD_decompress_usingPreparedDCtx(ZSTD_DCtx* dctx, const ZSTD_DCtx* refDCtx,",
          "new_line_content": "    ZSTD_copyDCtx(dctx, refDCtx);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "ZSTD_checkContinuity",
          "old_text": null,
          "new_text": "ZSTD_checkContinuity(dctx, dst)",
          "old_line_content": "                                         void* dst, size_t maxDstSize,",
          "new_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "ZSTD_decompressFrame",
          "old_text": null,
          "new_text": "ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize)",
          "old_line_content": "                                   const void* src, size_t srcSize)",
          "new_line_content": "    return ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "ZSTD_decompressBegin_usingDict",
          "old_text": null,
          "new_text": "ZSTD_decompressBegin_usingDict(dctx, dict, dictSize)",
          "old_line_content": "                                 void* dst, size_t maxDstSize,",
          "new_line_content": "    ZSTD_decompressBegin_usingDict(dctx, dict, dictSize);",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "ZSTD_LOG_BLOCK",
          "old_text": null,
          "new_text": "ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBegin_usingDict searchLength=%d\\n\", dctx->base, dctx->params.searchLength)",
          "old_line_content": "                                 const void* src, size_t srcSize,",
          "new_line_content": "    ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBegin_usingDict searchLength=%d\\n\", dctx->base, dctx->params.searchLength);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "ZSTD_checkContinuity",
          "old_text": null,
          "new_text": "ZSTD_checkContinuity(dctx, dst)",
          "old_line_content": "                                 const void* dict, size_t dictSize)",
          "new_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "ZSTD_decompressFrame",
          "old_text": null,
          "new_text": "ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize)",
          "old_line_content": "{",
          "new_line_content": "    return ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "ZSTD_decompress_usingDict",
          "old_text": null,
          "new_text": "ZSTD_decompress_usingDict(dctx, dst, maxDstSize, src, srcSize, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "    return ZSTD_decompress_usingDict(dctx, dst, maxDstSize, src, srcSize, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "ZSTD_createDCtx",
          "old_text": null,
          "new_text": "ZSTD_createDCtx()",
          "old_line_content": "size_t ZSTD_decompress(void* dst, size_t maxDstSize, const void* src, size_t srcSize)",
          "new_line_content": "    ZSTD_DCtx* dctx = ZSTD_createDCtx();",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "ERROR",
          "old_text": null,
          "new_text": "ERROR(memory_allocation)",
          "old_line_content": "{",
          "new_line_content": "    if (dctx==NULL) return ERROR(memory_allocation);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "ZSTD_decompressDCtx",
          "old_text": null,
          "new_text": "ZSTD_decompressDCtx(dctx, dst, maxDstSize, src, srcSize)",
          "old_line_content": "#if defined(ZSTD_HEAPMODE) && (ZSTD_HEAPMODE==1)",
          "new_line_content": "    regenSize = ZSTD_decompressDCtx(dctx, dst, maxDstSize, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": null,
          "new_api": "ZSTD_freeDCtx",
          "old_text": null,
          "new_text": "ZSTD_freeDCtx(dctx)",
          "old_line_content": "    size_t regenSize;",
          "new_line_content": "    ZSTD_freeDCtx(dctx);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "ZSTD_createDCtx",
          "new_api": null,
          "old_text": "ZSTD_createDCtx()",
          "new_text": null,
          "old_line_content": "    ZSTD_DCtx* dctx = ZSTD_createDCtx();",
          "new_line_content": "    return regenSize;",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(memory_allocation)",
          "new_text": null,
          "old_line_content": "    if (dctx==NULL) return ERROR(memory_allocation);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "ZSTD_decompressDCtx",
          "new_api": null,
          "old_text": "ZSTD_decompressDCtx(dctx, dst, maxDstSize, src, srcSize)",
          "new_text": null,
          "old_line_content": "    regenSize = ZSTD_decompressDCtx(dctx, dst, maxDstSize, src, srcSize);",
          "new_line_content": "    ZSTD_DCtx dctx;",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "ZSTD_decompressDCtx",
          "new_api": null,
          "old_text": "ZSTD_decompressDCtx(&dctx, dst, maxDstSize, src, srcSize)",
          "new_text": null,
          "old_line_content": "    return ZSTD_decompressDCtx(&dctx, dst, maxDstSize, src, srcSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": null,
          "old_line_content": "    if (srcSize != dctx->expected) return ERROR(srcSize_wrong);",
          "new_line_content": "    switch (dctx->stage)",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "ZSTD_checkContinuity",
          "new_api": null,
          "old_text": "ZSTD_checkContinuity(dctx, dst)",
          "new_text": null,
          "old_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": null,
          "old_line_content": "            if (srcSize != ZSTD_frameHeaderSize_min) return ERROR(srcSize_wrong);   /* impossible */",
          "new_line_content": "            if (dctx->headerSize > ZSTD_frameHeaderSize_min) {",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "ZSTD_frameHeaderSize",
          "new_api": null,
          "old_text": "ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min)",
          "new_text": null,
          "old_line_content": "            dctx->headerSize = ZSTD_frameHeaderSize(src, ZSTD_frameHeaderSize_min);",
          "new_line_content": "                dctx->expected = dctx->headerSize - ZSTD_frameHeaderSize_min;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(dctx->headerSize)",
          "new_text": null,
          "old_line_content": "            if (ZSTD_isError(dctx->headerSize)) return dctx->headerSize;",
          "new_line_content": "                dctx->stage = ZSTDds_decodeFrameHeader;",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dctx->headerBuffer, src, ZSTD_frameHeaderSize_min)",
          "new_text": null,
          "old_line_content": "            memcpy(dctx->headerBuffer, src, ZSTD_frameHeaderSize_min);",
          "new_line_content": "                return 0;",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dctx->headerBuffer + ZSTD_frameHeaderSize_min, src, dctx->expected)",
          "new_text": null,
          "old_line_content": "            memcpy(dctx->headerBuffer + ZSTD_frameHeaderSize_min, src, dctx->expected);",
          "new_line_content": "            dctx->stage = ZSTDds_decodeBlockHeader;",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "ZSTD_decodeFrameHeader",
          "new_api": null,
          "old_text": "ZSTD_decodeFrameHeader(dctx, dctx->headerBuffer, dctx->headerSize)",
          "new_text": null,
          "old_line_content": "            result = ZSTD_decodeFrameHeader(dctx, dctx->headerBuffer, dctx->headerSize);",
          "new_line_content": "            return 0;",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(result)",
          "new_text": null,
          "old_line_content": "            if (ZSTD_isError(result)) return result;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": "ZSTD_getcBlockSize",
          "new_api": null,
          "old_text": "ZSTD_getcBlockSize(src, ZSTD_blockHeaderSize, &bp)",
          "new_text": null,
          "old_line_content": "            size_t blockSize = ZSTD_getcBlockSize(src, ZSTD_blockHeaderSize, &bp);",
          "new_line_content": "                dctx->stage = ZSTDds_getFrameHeaderSize;",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(blockSize)",
          "new_text": null,
          "old_line_content": "            if (ZSTD_isError(blockSize)) return blockSize;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "ZSTD_decompressBlock_internal",
          "new_api": null,
          "old_text": "ZSTD_decompressBlock_internal(dctx, dst, maxDstSize, src, srcSize)",
          "new_text": null,
          "old_line_content": "                rSize = ZSTD_decompressBlock_internal(dctx, dst, maxDstSize, src, srcSize);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "ZSTD_copyRawBlock",
          "new_api": null,
          "old_text": "ZSTD_copyRawBlock(dst, maxDstSize, src, srcSize)",
          "new_text": null,
          "old_line_content": "                rSize = ZSTD_copyRawBlock(dst, maxDstSize, src, srcSize);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(GENERIC)",
          "new_text": null,
          "old_line_content": "                return ERROR(GENERIC);   /* not yet handled */",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(GENERIC)",
          "new_text": null,
          "old_line_content": "                return ERROR(GENERIC);   /* impossible */",
          "new_line_content": "            dctx->previousDstEnd = (char*)dst + rSize;",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(GENERIC)",
          "new_text": null,
          "old_line_content": "        return ERROR(GENERIC);   /* impossible */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "HUF_readDTableX4",
          "new_api": null,
          "old_text": "HUF_readDTableX4(dctx->hufTableX4, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    hSize = HUF_readDTableX4(dctx->hufTableX4, dict, dictSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "FSE_readNCount",
          "new_api": null,
          "old_text": "FSE_readNCount(offcodeNCount, &offcodeMaxValue, &offcodeLog, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    offcodeHeaderSize = FSE_readNCount(offcodeNCount, &offcodeMaxValue, &offcodeLog, dict, dictSize);",
          "new_line_content": "    dict = (const char*)dict + offcodeHeaderSize;",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": null,
          "old_line_content": "    if (FSE_isError(offcodeHeaderSize)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    dictSize -= offcodeHeaderSize;",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "FSE_buildDTable",
          "new_api": null,
          "old_text": "FSE_buildDTable(dctx->OffTable, offcodeNCount, offcodeMaxValue, offcodeLog)",
          "new_text": null,
          "old_line_content": "    errorCode = FSE_buildDTable(dctx->OffTable, offcodeNCount, offcodeMaxValue, offcodeLog);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "FSE_readNCount",
          "new_api": null,
          "old_text": "FSE_readNCount(matchlengthNCount, &matchlengthMaxValue, &matchlengthLog, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    matchlengthHeaderSize = FSE_readNCount(matchlengthNCount, &matchlengthMaxValue, &matchlengthLog, dict, dictSize);",
          "new_line_content": "    dict = (const char*)dict + matchlengthHeaderSize;",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": null,
          "old_line_content": "    if (FSE_isError(matchlengthHeaderSize)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    dictSize -= matchlengthHeaderSize;",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "FSE_buildDTable",
          "new_api": null,
          "old_text": "FSE_buildDTable(dctx->MLTable, matchlengthNCount, matchlengthMaxValue, matchlengthLog)",
          "new_text": null,
          "old_line_content": "    errorCode = FSE_buildDTable(dctx->MLTable, matchlengthNCount, matchlengthMaxValue, matchlengthLog);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "FSE_readNCount",
          "new_api": null,
          "old_text": "FSE_readNCount(litlengthNCount, &litlengthMaxValue, &litlengthLog, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    litlengthHeaderSize = FSE_readNCount(litlengthNCount, &litlengthMaxValue, &litlengthLog, dict, dictSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": null,
          "old_line_content": "    if (FSE_isError(litlengthHeaderSize)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    dctx->flagStaticTables = 1;",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "FSE_buildDTable",
          "new_api": null,
          "old_text": "FSE_buildDTable(dctx->LLTable, litlengthNCount, litlengthMaxValue, litlengthLog)",
          "new_text": null,
          "old_line_content": "    errorCode = FSE_buildDTable(dctx->LLTable, litlengthNCount, litlengthMaxValue, litlengthLog);",
          "new_line_content": "    return hSize + offcodeHeaderSize + matchlengthHeaderSize + litlengthHeaderSize;",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": null,
          "old_line_content": "    if (FSE_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "MEM_readLE32",
          "new_api": null,
          "old_text": "MEM_readLE32(dict)",
          "new_text": null,
          "old_line_content": "    U32 magic = MEM_readLE32(dict);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "FSE_peakSymbol",
          "new_api": null,
          "old_text": "FSE_peakSymbol(&(seqState->stateLL))",
          "new_text": null,
          "old_line_content": "    litLength = FSE_peakSymbol(&(seqState->stateLL));",
          "new_line_content": "        if (add < 255) litLength += add;",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "ZSTD_refDictContent",
          "new_api": null,
          "old_text": "ZSTD_refDictContent(dctx, dict, dictSize)",
          "new_text": null,
          "old_line_content": "        ZSTD_refDictContent(dctx, dict, dictSize);",
          "new_line_content": "    dict = (const char*)dict + 4;",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "MEM_readLE32",
          "new_api": null,
          "old_text": "MEM_readLE32(dumps)",
          "new_text": null,
          "old_line_content": "            litLength = MEM_readLE32(dumps) & 0xFFFFFF;  /* no risk : dumps is always followed by seq tables > 1 byte */",
          "new_line_content": "        if (dumps >= de) dumps = de-1;   /* late correction, to avoid read overflow (data is now corrupted anyway) */",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "U16)(litLength)",
          "new_api": null,
          "old_text": "U16)(litLength)",
          "new_text": null,
          "old_line_content": "            else litLength = (U16)(litLength)>>1, dumps += 2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "ZSTD_loadEntropy",
          "new_api": null,
          "old_text": "ZSTD_loadEntropy(dctx, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    eSize = ZSTD_loadEntropy(dctx, dict, dictSize);",
          "new_line_content": "    dict = (const char*)dict + eSize;",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": null,
          "old_line_content": "    if (ZSTD_isError(eSize)) return ERROR(dictionary_corrupted);",
          "new_line_content": "    dictSize -= eSize;",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "ZSTD_refDictContent",
          "new_api": null,
          "old_text": "ZSTD_refDictContent(dctx, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    ZSTD_refDictContent(dctx, dict, dictSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "BIT_reloadDStream",
          "new_api": null,
          "old_text": "BIT_reloadDStream(&(seqState->DStream))",
          "new_text": null,
          "old_line_content": "        if (MEM_32bits()) BIT_reloadDStream(&(seqState->DStream));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "ZSTD_decompress_insertDictionary",
          "new_api": null,
          "old_text": "ZSTD_decompress_insertDictionary(dctx, dict, dictSize)",
          "new_text": null,
          "old_line_content": "        errorCode = ZSTD_decompress_insertDictionary(dctx, dict, dictSize);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dictionary_corrupted)",
          "new_text": null,
          "old_line_content": "        if (ZSTD_isError(errorCode)) return ERROR(dictionary_corrupted);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "BIT_reloadDStream",
          "new_api": null,
          "old_text": "BIT_reloadDStream(&(seqState->DStream))",
          "new_text": null,
          "old_line_content": "    if (MEM_32bits()) BIT_reloadDStream(&(seqState->DStream));",
          "new_line_content": "    if (matchLength == MaxML) {",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "FSE_decodeSymbol",
          "new_api": null,
          "old_text": "FSE_decodeSymbol(&(seqState->stateML), &(seqState->DStream))",
          "new_text": null,
          "old_line_content": "    matchLength = FSE_decodeSymbol(&(seqState->stateML), &(seqState->DStream));",
          "new_line_content": "        else {",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "MEM_readLE32",
          "new_api": null,
          "old_text": "MEM_readLE32(dumps)",
          "new_text": null,
          "old_line_content": "            matchLength = MEM_readLE32(dumps) & 0xFFFFFF;  /* no pb : dumps is always followed by seq tables > 1 byte */",
          "new_line_content": "        if (dumps >= de) dumps = de-1;   /* late correction, to avoid read overflow (data is now corrupted anyway) */",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "U16)(matchLength)",
          "new_api": null,
          "old_text": "U16)(matchLength)",
          "new_text": null,
          "old_line_content": "            else matchLength = (U16)(matchLength)>>1, dumps += 2;",
          "new_line_content": "    matchLength += mls;",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"pos %6u : %3u literals & match %3u bytes at distance %6u \\n\",\n           (U32)(totalDecoded), (U32)litLength, (U32)matchLength, (U32)offset)",
          "new_text": null,
          "old_line_content": "        printf(\"pos %6u : %3u literals & match %3u bytes at distance %6u \\n\",",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "U32)(totalDecoded)",
          "new_api": null,
          "old_text": "U32)(totalDecoded)",
          "new_text": null,
          "old_line_content": "           (U32)(totalDecoded), (U32)litLength, (U32)matchLength, (U32)offset);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dstSize_tooSmall)",
          "new_text": null,
          "old_line_content": "    if (oLitEnd > oend_8) return ERROR(dstSize_tooSmall);   /* last match must start at a minimum distance of 8 from oend */",
          "new_line_content": "    /* copy Literals */",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(corruption_detected)",
          "new_text": null,
          "old_line_content": "    if (litEnd > litLimit_8) return ERROR(corruption_detected);   /* risk read beyond lit buffer */",
          "new_line_content": "    op = oLitEnd;",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "ZSTD_wildcopy",
          "new_api": null,
          "old_text": "ZSTD_wildcopy(op, *litPtr, sequence.litLength)",
          "new_text": null,
          "old_line_content": "    ZSTD_wildcopy(op, *litPtr, sequence.litLength);   /* note : oLitEnd <= oend-8 : no risk of overwrite beyond oend */",
          "new_line_content": "    /* copy Match */",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(corruption_detected)",
          "new_text": null,
          "old_line_content": "            return ERROR(corruption_detected);",
          "new_line_content": "            return sequenceLength;",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(oLitEnd, match, sequence.matchLength)",
          "new_text": null,
          "old_line_content": "            memmove(oLitEnd, match, sequence.matchLength);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(oLitEnd, match, length1)",
          "new_text": null,
          "old_line_content": "            memmove(oLitEnd, match, length1);",
          "new_line_content": "    }   }",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "ZSTD_copy4",
          "new_api": null,
          "old_text": "ZSTD_copy4(op+4, match)",
          "new_text": null,
          "old_line_content": "        ZSTD_copy4(op+4, match);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "ZSTD_copy8",
          "new_api": null,
          "old_text": "ZSTD_copy8(op, match)",
          "new_text": null,
          "old_line_content": "        ZSTD_copy8(op, match);",
          "new_line_content": "    if (oMatchEnd > oend-(16-3)) { // 3 = MINMATCH",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "ZSTD_wildcopy",
          "new_api": null,
          "old_text": "ZSTD_wildcopy(op, match, oend_8 - op)",
          "new_text": null,
          "old_line_content": "            ZSTD_wildcopy(op, match, oend_8 - op);",
          "new_line_content": "        while (op < oMatchEnd)",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "ZSTD_wildcopy",
          "new_api": null,
          "old_text": "ZSTD_wildcopy(op, match, sequence.matchLength-8)",
          "new_text": null,
          "old_line_content": "        ZSTD_wildcopy(op, match, sequence.matchLength-8);   /* works even if matchLength < 8 */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "ZSTD_decodeSeqHeaders",
          "new_api": null,
          "old_text": "ZSTD_decodeSeqHeaders(&nbSeq, &dumps, &dumpsLength,\n                                      DTableLL, DTableML, DTableOffb,\n                                      ip, seqSize)",
          "new_text": null,
          "old_line_content": "    errorCode = ZSTD_decodeSeqHeaders(&nbSeq, &dumps, &dumpsLength,",
          "new_line_content": "    ip += errorCode;",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(errorCode)",
          "new_text": null,
          "old_line_content": "    if (ZSTD_isError(errorCode)) return errorCode;",
          "new_line_content": "    if (nbSeq) {",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&sequence, 0, sizeof(sequence))",
          "new_text": null,
          "old_line_content": "        memset(&sequence, 0, sizeof(sequence));",
          "new_line_content": "        seqState.prevOffset = REPCODE_STARTVALUE;",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(corruption_detected)",
          "new_text": null,
          "old_line_content": "        if (ERR_isError(errorCode)) return ERROR(corruption_detected);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "FSE_initDState",
          "new_api": null,
          "old_text": "FSE_initDState(&(seqState.stateOffb), &(seqState.DStream), DTableOffb)",
          "new_text": null,
          "old_line_content": "        FSE_initDState(&(seqState.stateOffb), &(seqState.DStream), DTableOffb);",
          "new_line_content": "            size_t oneSeqSize;",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "FSE_initDState",
          "new_api": null,
          "old_text": "FSE_initDState(&(seqState.stateML), &(seqState.DStream), DTableML)",
          "new_text": null,
          "old_line_content": "        FSE_initDState(&(seqState.stateML), &(seqState.DStream), DTableML);",
          "new_line_content": "            nbSeq--;",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "ZSTD_decodeSequence",
          "new_api": null,
          "old_text": "ZSTD_decodeSequence(&sequence, &seqState, mls)",
          "new_text": null,
          "old_line_content": "            ZSTD_decodeSequence(&sequence, &seqState, mls);",
          "new_line_content": "            op += oneSeqSize;",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "ZSTD_execSequence",
          "new_api": null,
          "old_text": "ZSTD_execSequence(op, oend, sequence, &litPtr, litLimit_8, base, vBase, dictEnd)",
          "new_text": null,
          "old_line_content": "            oneSeqSize = ZSTD_execSequence(op, oend, sequence, &litPtr, litLimit_8, base, vBase, dictEnd);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(oneSeqSize)",
          "new_text": null,
          "old_line_content": "            if (ZSTD_isError(oneSeqSize))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(corruption_detected)",
          "new_text": null,
          "old_line_content": "        if (nbSeq) return ERROR(corruption_detected);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(corruption_detected)",
          "new_text": null,
          "old_line_content": "        if (litPtr > litEnd) return ERROR(corruption_detected);   /* too many literals already used */",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(dstSize_tooSmall)",
          "new_text": null,
          "old_line_content": "        if (op+lastLLSize > oend) return ERROR(dstSize_tooSmall);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(op, litPtr, lastLLSize)",
          "new_text": null,
          "old_line_content": "        memcpy(op, litPtr, lastLLSize);",
          "new_line_content": "    return op-ostart;",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": null,
          "old_line_content": "    if (srcSize >= ZSTD_BLOCKSIZE_MAX) return ERROR(srcSize_wrong);",
          "new_line_content": "    /* Decode literals sub-block */",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "ZSTD_decodeLiteralsBlock",
          "new_api": null,
          "old_text": "ZSTD_decodeLiteralsBlock(dctx, src, srcSize)",
          "new_text": null,
          "old_line_content": "    litCSize = ZSTD_decodeLiteralsBlock(dctx, src, srcSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "ZSTD_decompressSequences",
          "new_api": null,
          "old_text": "ZSTD_decompressSequences(dctx, dst, dstCapacity, ip, srcSize)",
          "new_text": null,
          "old_line_content": "    return ZSTD_decompressSequences(dctx, dst, dstCapacity, ip, srcSize);",
          "new_line_content": "size_t ZSTD_decompressBlock(ZSTD_DCtx* dctx,",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "ZSTD_checkContinuity",
          "new_api": null,
          "old_text": "ZSTD_checkContinuity(dctx, dst)",
          "new_text": null,
          "old_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": "ZSTD_decompressBlock_internal",
          "new_api": null,
          "old_text": "ZSTD_decompressBlock_internal(dctx, dst, dstCapacity, src, srcSize)",
          "new_text": null,
          "old_line_content": "    return ZSTD_decompressBlock_internal(dctx, dst, dstCapacity, src, srcSize);",
          "new_line_content": "/*! ZSTD_decompress_continueDCtx() :",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "MEM_readLE32",
          "new_api": null,
          "old_text": "MEM_readLE32(src)",
          "new_text": null,
          "old_line_content": "            const U32 magicNumber = MEM_readLE32(src);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(frameHeaderSize)",
          "new_text": null,
          "old_line_content": "        if (ZSTD_isError(frameHeaderSize)) return frameHeaderSize;",
          "new_line_content": "        ip += frameHeaderSize; remainingSize -= frameHeaderSize;",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": null,
          "old_line_content": "        if (srcSize < frameHeaderSize+ZSTD_blockHeaderSize) return ERROR(srcSize_wrong);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "ZSTD_decodeFrameHeader",
          "new_api": null,
          "old_text": "ZSTD_decodeFrameHeader(dctx, src, frameHeaderSize)",
          "new_text": null,
          "old_line_content": "        errorCode = ZSTD_decodeFrameHeader(dctx, src, frameHeaderSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(errorCode)",
          "new_text": null,
          "old_line_content": "        if (ZSTD_isError(errorCode)) return errorCode;",
          "new_line_content": "    /* Loop on each block */",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "ZSTD_getcBlockSize",
          "new_api": null,
          "old_text": "ZSTD_getcBlockSize(ip, iend-ip, &blockProperties)",
          "new_text": null,
          "old_line_content": "        size_t cBlockSize = ZSTD_getcBlockSize(ip, iend-ip, &blockProperties);",
          "new_line_content": "        remainingSize -= ZSTD_blockHeaderSize;",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": null,
          "old_line_content": "        if (cBlockSize > remainingSize) return ERROR(srcSize_wrong);",
          "new_line_content": "        case bt_compressed:",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "ZSTD_decompressBlock_internal",
          "new_api": null,
          "old_text": "ZSTD_decompressBlock_internal(dctx, op, oend-op, ip, cBlockSize)",
          "new_text": null,
          "old_line_content": "            decodedSize = ZSTD_decompressBlock_internal(dctx, op, oend-op, ip, cBlockSize);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "ZSTD_copyRawBlock",
          "new_api": null,
          "old_text": "ZSTD_copyRawBlock(op, oend-op, ip, cBlockSize)",
          "new_text": null,
          "old_line_content": "            decodedSize = ZSTD_copyRawBlock(op, oend-op, ip, cBlockSize);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": "ERROR",
          "new_api": null,
          "old_text": "ERROR(srcSize_wrong)",
          "new_text": null,
          "old_line_content": "            if (remainingSize) return ERROR(srcSize_wrong);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(decodedSize)",
          "new_text": null,
          "old_line_content": "        if (ZSTD_isError(decodedSize)) return decodedSize;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "ZSTD_copyDCtx",
          "new_api": null,
          "old_text": "ZSTD_copyDCtx(dctx, refDCtx)",
          "new_text": null,
          "old_line_content": "    ZSTD_copyDCtx(dctx, refDCtx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "ZSTD_checkContinuity",
          "new_api": null,
          "old_text": "ZSTD_checkContinuity(dctx, dst)",
          "new_text": null,
          "old_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": "ZSTD_decompressFrame",
          "new_api": null,
          "old_text": "ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize)",
          "new_text": null,
          "old_line_content": "    return ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize);",
          "new_line_content": "size_t ZSTD_decompress_usingDict(ZSTD_DCtx* dctx,",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "ZSTD_decompressBegin_usingDict",
          "new_api": null,
          "old_text": "ZSTD_decompressBegin_usingDict(dctx, dict, dictSize)",
          "new_text": null,
          "old_line_content": "    ZSTD_decompressBegin_usingDict(dctx, dict, dictSize);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "ZSTD_LOG_BLOCK",
          "new_api": null,
          "old_text": "ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBegin_usingDict searchLength=%d\\n\", dctx->base, dctx->params.searchLength)",
          "new_text": null,
          "old_line_content": "    ZSTD_LOG_BLOCK(\"%p: ZSTD_decompressBegin_usingDict searchLength=%d\\n\", dctx->base, dctx->params.searchLength);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "ZSTD_checkContinuity",
          "new_api": null,
          "old_text": "ZSTD_checkContinuity(dctx, dst)",
          "new_text": null,
          "old_line_content": "    ZSTD_checkContinuity(dctx, dst);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "ZSTD_decompressFrame",
          "new_api": null,
          "old_text": "ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize)",
          "new_text": null,
          "old_line_content": "    return ZSTD_decompressFrame(dctx, dst, maxDstSize, src, srcSize);",
          "new_line_content": "size_t ZSTD_decompressDCtx(ZSTD_DCtx* dctx, void* dst, size_t maxDstSize, const void* src, size_t srcSize)",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "ZSTD_decompress_usingDict",
          "new_api": null,
          "old_text": "ZSTD_decompress_usingDict(dctx, dst, maxDstSize, src, srcSize, NULL, 0)",
          "new_text": null,
          "old_line_content": "    return ZSTD_decompress_usingDict(dctx, dst, maxDstSize, src, srcSize, NULL, 0);",
          "new_line_content": "size_t ZSTD_decompress(void* dst, size_t maxDstSize, const void* src, size_t srcSize)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 20,
      "total_additions": 95,
      "total_deletions": 95,
      "total_api_changes": 210
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 210,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          685,
          657,
          658,
          659,
          660,
          689,
          666
        ]
      }
    },
    "api_calls_before": 200,
    "api_calls_after": 200,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 6,
      "total_diff_lines": 32
    }
  }
}