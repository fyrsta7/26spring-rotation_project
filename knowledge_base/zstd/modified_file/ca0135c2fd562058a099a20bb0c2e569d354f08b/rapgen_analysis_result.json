{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/ca0135c2fd562058a099a20bb0c2e569d354f08b",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/ca0135c2fd562058a099a20bb0c2e569d354f08b/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/ca0135c2fd562058a099a20bb0c2e569d354f08b/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/ca0135c2fd562058a099a20bb0c2e569d354f08b/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 261,
          "old_api": "WEIGHT",
          "new_api": "assert",
          "old_text": "WEIGHT(optPtr->litFreq[literals[u]], optLevel)",
          "new_text": "assert(optPtr->litSumBasePrice >= BITCOST_MULTIPLIER)",
          "old_line_content": "            U32 litPrice = optPtr->litSumBasePrice - WEIGHT(optPtr->litFreq[literals[u]], optLevel);",
          "new_line_content": "        assert(optPtr->litSumBasePrice >= BITCOST_MULTIPLIER);",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "WEIGHT",
          "new_api": "ZSTD_MLcode",
          "old_text": "WEIGHT(optPtr->matchLengthFreq[mlCode], optLevel)",
          "new_text": "ZSTD_MLcode(mlBase)",
          "old_line_content": "        price += (ML_bits[mlCode] * BITCOST_MULTIPLIER) + (optPtr->matchLengthSumBasePrice - WEIGHT(optPtr->matchLengthFreq[mlCode], optLevel));",
          "new_line_content": "    {   U32 const mlCode = ZSTD_MLcode(mlBase);",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "assert",
          "new_api": "STORED_TO_OFFBASE",
          "old_text": "assert(offCode <= MaxOff)",
          "new_text": "STORED_TO_OFFBASE(offsetCode)",
          "old_line_content": "        assert(offCode <= MaxOff);",
          "new_line_content": "    {   U32 const offCode = ZSTD_highbit32(STORED_TO_OFFBASE(offsetCode));",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "MEM_isLittleEndian",
          "new_api": "MEM_read32",
          "old_text": "MEM_isLittleEndian()",
          "new_text": "MEM_read32(memPtr)",
          "old_line_content": "    case 3 : if (MEM_isLittleEndian())",
          "new_line_content": "    case 4 : return MEM_read32(memPtr);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "MEM_read32",
          "new_api": "MEM_isLittleEndian",
          "old_text": "MEM_read32(memPtr)",
          "new_text": "MEM_isLittleEndian()",
          "old_line_content": "                return MEM_read32(memPtr)<<8;",
          "new_line_content": "    case 3 : if (MEM_isLittleEndian())",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "ZSTD_hash3Ptr",
          "new_api": "U32)(ip - base)",
          "old_text": "ZSTD_hash3Ptr(ip, hashLog3)",
          "new_text": "U32)(ip - base)",
          "old_line_content": "    size_t const hash3 = ZSTD_hash3Ptr(ip, hashLog3);",
          "new_line_content": "    U32 const target = (U32)(ip - base);",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "assert",
          "new_api": "ZSTD_hash3Ptr",
          "old_text": "assert(hashLog3 > 0)",
          "new_text": "ZSTD_hash3Ptr(ip, hashLog3)",
          "old_line_content": "    assert(hashLog3 > 0);",
          "new_line_content": "    size_t const hash3 = ZSTD_hash3Ptr(ip, hashLog3);",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "assert",
          "new_api": "MIN",
          "old_text": "assert(matchIndex < curr)",
          "new_text": "MIN(commonLengthSmaller, commonLengthLarger)",
          "old_line_content": "        assert(matchIndex < curr);",
          "new_line_content": "        size_t matchLength = MIN(commonLengthSmaller, commonLengthLarger);   /* guaranteed minimum nb of common bytes */",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "assert",
          "new_api": "U32)(bestLength - 384)",
          "old_text": "assert(matchEndIdx > curr + 8)",
          "new_text": "U32)(bestLength - 384)",
          "old_line_content": "        assert(matchEndIdx > curr + 8);",
          "new_line_content": "        if (bestLength > 384) positions = MIN(192, (U32)(bestLength - 384));   /* speed optimization */",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "MAX",
          "new_api": "assert",
          "old_text": "MAX(positions, matchEndIdx - (curr + 8))",
          "new_text": "assert(matchEndIdx > curr + 8)",
          "old_line_content": "        return MAX(positions, matchEndIdx - (curr + 8));",
          "new_line_content": "        assert(matchEndIdx > curr + 8);",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "U32)(idx + forward)",
          "new_api": "ZSTD_insertBt1",
          "old_text": "U32)(idx + forward)",
          "new_text": "ZSTD_insertBt1(ms, base+idx, iend, target, mls, dictMode == ZSTD_extDict)",
          "old_line_content": "        assert(idx < (U32)(idx + forward));",
          "new_line_content": "        U32 const forward = ZSTD_insertBt1(ms, base+idx, iend, target, mls, dictMode == ZSTD_extDict);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "ZSTD_count",
          "new_api": "ZSTD_readMINMATCH",
          "old_text": "ZSTD_count(ip+minMatch, ip+minMatch-repOffset, iLimit)",
          "new_text": "ZSTD_readMINMATCH(ip - repOffset, minMatch)",
          "old_line_content": "                    repLen = (U32)ZSTD_count(ip+minMatch, ip+minMatch-repOffset, iLimit) + minMatch;",
          "new_line_content": "                if ((repIndex >= windowLow) & (ZSTD_readMINMATCH(ip, minMatch) == ZSTD_readMINMATCH(ip - repOffset, minMatch))) {",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "ZSTD_readMINMATCH",
          "new_api": "U32)((dictLimit-1) - repIndex)",
          "old_text": "ZSTD_readMINMATCH(repMatch, minMatch)",
          "new_text": "U32)((dictLimit-1) - repIndex)",
          "old_line_content": "                  && (ZSTD_readMINMATCH(ip, minMatch) == ZSTD_readMINMATCH(repMatch, minMatch)) ) {",
          "new_line_content": "                     & (((U32)((dictLimit-1) - repIndex) >= 3) ) /* intentional overflow : do not test positions overlapping 2 memory segments */)",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "ZSTD_count_2segments",
          "new_api": "ZSTD_readMINMATCH",
          "old_text": "ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dictEnd, prefixStart)",
          "new_text": "ZSTD_readMINMATCH(repMatch, minMatch)",
          "old_line_content": "                    repLen = (U32)ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dictEnd, prefixStart) + minMatch;",
          "new_line_content": "                  && (ZSTD_readMINMATCH(ip, minMatch) == ZSTD_readMINMATCH(repMatch, minMatch)) ) {",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "ZSTD_readMINMATCH",
          "new_api": "U32)((dictLimit-1) - repIndex)",
          "old_text": "ZSTD_readMINMATCH(repMatch, minMatch)",
          "new_text": "U32)((dictLimit-1) - repIndex)",
          "old_line_content": "                  && (ZSTD_readMINMATCH(ip, minMatch) == ZSTD_readMINMATCH(repMatch, minMatch)) ) {",
          "new_line_content": "                     & ((U32)((dictLimit-1) - repIndex) >= 3) ) /* intentional overflow : do not test positions overlapping 2 memory segments */",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "ZSTD_count_2segments",
          "new_api": "ZSTD_readMINMATCH",
          "old_text": "ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dmsEnd, prefixStart)",
          "new_text": "ZSTD_readMINMATCH(repMatch, minMatch)",
          "old_line_content": "                    repLen = (U32)ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dmsEnd, prefixStart) + minMatch;",
          "new_line_content": "                  && (ZSTD_readMINMATCH(ip, minMatch) == ZSTD_readMINMATCH(repMatch, minMatch)) ) {",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "STORE_OFFSET",
          "new_api": "assert",
          "old_text": "STORE_OFFSET(curr - matchIndex3)",
          "new_text": "assert(mnum==0)",
          "old_line_content": "                matches[0].off = STORE_OFFSET(curr - matchIndex3);",
          "new_line_content": "                assert(mnum==0);  /* no prior solution */",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "assert",
          "new_api": "MIN",
          "old_text": "assert(curr > matchIndex)",
          "new_text": "MIN(commonLengthSmaller, commonLengthLarger)",
          "old_line_content": "        assert(curr > matchIndex);",
          "new_line_content": "        size_t matchLength = MIN(commonLengthSmaller, commonLengthLarger);   /* guaranteed minimum nb of common bytes */",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "ZSTD_count",
          "new_api": "memcmp",
          "old_text": "ZSTD_count(ip+matchLength, match+matchLength, iLimit)",
          "new_text": "memcmp(match, ip, matchLength)",
          "old_line_content": "            matchLength += ZSTD_count(ip+matchLength, match+matchLength, iLimit);",
          "new_line_content": "            if (matchIndex >= dictLimit) assert(memcmp(match, ip, matchLength) == 0);  /* ensure early section of match is equal as expected */",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "ZSTD_count_2segments",
          "new_api": "memcmp",
          "old_text": "ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dictEnd, prefixStart)",
          "new_text": "memcmp(match, ip, matchLength)",
          "old_line_content": "            matchLength += ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dictEnd, prefixStart);",
          "new_line_content": "            assert(memcmp(match, ip, matchLength) == 0);  /* ensure early section of match is equal as expected */",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "STORE_OFFSET",
          "new_api": "DEBUGLOG",
          "old_text": "STORE_OFFSET(curr - matchIndex)",
          "new_text": "DEBUGLOG(8, \"found match of length %u at distance %u (offCode=%u)\",\n                    (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex))",
          "old_line_content": "                    (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex));",
          "new_line_content": "            DEBUGLOG(8, \"found match of length %u at distance %u (offCode=%u)\",",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "assert",
          "new_api": "STORE_OFFSET",
          "old_text": "assert(matchEndIdx > matchIndex)",
          "new_text": "STORE_OFFSET(curr - matchIndex)",
          "old_line_content": "            assert(matchEndIdx > matchIndex);",
          "new_line_content": "                    (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex));",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "STORE_OFFSET",
          "new_api": "DEBUGLOG",
          "old_text": "STORE_OFFSET(curr - matchIndex)",
          "new_text": "DEBUGLOG(8, \"found dms match of length %u at distance %u (offCode=%u)\",\n                        (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex))",
          "old_line_content": "                        (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex));",
          "new_line_content": "                DEBUGLOG(8, \"found dms match of length %u at distance %u (offCode=%u)\",",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "DEBUGLOG",
          "new_api": "BOUNDED",
          "old_text": "DEBUGLOG(8, \"ZSTD_BtGetAllMatches(dictMode=%d, mls=%u)\", (int)dictMode, mls)",
          "new_text": "BOUNDED(3, ms->cParams.minMatch, 6)",
          "old_line_content": "    DEBUGLOG(8, \"ZSTD_BtGetAllMatches(dictMode=%d, mls=%u)\", (int)dictMode, mls);",
          "new_line_content": "    assert(BOUNDED(3, ms->cParams.minMatch, 6) == mls);",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "ZSTD_insertBtAndGetAllMatches",
          "new_api": "ZSTD_updateTree_internal",
          "old_text": "ZSTD_insertBtAndGetAllMatches(matches, ms, nextToUpdate3, ip, iHighLimit, dictMode, rep, ll0, lengthToBeat, mls)",
          "new_text": "ZSTD_updateTree_internal(ms, ip, iHighLimit, mls, dictMode)",
          "old_line_content": "    return ZSTD_insertBtAndGetAllMatches(matches, ms, nextToUpdate3, ip, iHighLimit, dictMode, rep, ll0, lengthToBeat, mls);",
          "new_line_content": "    ZSTD_updateTree_internal(ms, ip, iHighLimit, mls, dictMode);",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "assert",
          "new_api": "BOUNDED",
          "old_text": "assert((U32)dictMode < 3)",
          "new_text": "BOUNDED(3, ms->cParams.minMatch, 6)",
          "old_line_content": "    assert((U32)dictMode < 3);",
          "new_line_content": "    U32 const mls = BOUNDED(3, ms->cParams.minMatch, 6);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "DEBUGLOG",
          "new_api": "STORE_OFFSET",
          "old_text": "DEBUGLOG(6, \"ZSTD_optLdm_maybeAddMatch(): Adding ldm candidate match (offCode: %u matchLength %u) at block position=%u\",\n                 candidateOffCode, candidateMatchLength, currPosInBlock)",
          "new_text": "STORE_OFFSET(optLdm->offset)",
          "old_line_content": "        DEBUGLOG(6, \"ZSTD_optLdm_maybeAddMatch(): Adding ldm candidate match (offCode: %u matchLength %u) at block position=%u\",",
          "new_line_content": "        U32 const candidateOffCode = STORE_OFFSET(optLdm->offset);",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "U32)(ip - base)",
          "new_api": "DEBUGLOG",
          "old_text": "U32)(ip - base)",
          "new_text": "DEBUGLOG(5, \"ZSTD_compressBlock_opt_generic: current=%u, prefix=%u, nextToUpdate=%u\",\n                (U32)(ip - base), ms->window.dictLimit, ms->nextToUpdate)",
          "old_line_content": "                (U32)(ip - base), ms->window.dictLimit, ms->nextToUpdate);",
          "new_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_opt_generic: current=%u, prefix=%u, nextToUpdate=%u\",",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "assert",
          "new_api": "U32)(ip - base)",
          "old_text": "assert(optLevel <= 2)",
          "new_text": "U32)(ip - base)",
          "old_line_content": "    assert(optLevel <= 2);",
          "new_line_content": "                (U32)(ip - base), ms->window.dictLimit, ms->nextToUpdate);",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "ZSTD_rescaleFreqs",
          "new_api": "assert",
          "old_text": "ZSTD_rescaleFreqs(optStatePtr, (const BYTE*)src, srcSize, optLevel)",
          "new_text": "assert(optLevel <= 2)",
          "old_line_content": "    ZSTD_rescaleFreqs(optStatePtr, (const BYTE*)src, srcSize, optLevel);",
          "new_line_content": "    assert(optLevel <= 2);",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "ZSTD_optLdm_processMatchCandidate",
          "new_api": "getAllMatches",
          "old_text": "ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,\n                                              (U32)(ip-istart), (U32)(iend - ip))",
          "new_text": "getAllMatches(matches, ms, &nextToUpdate3, ip, iend, rep, ll0, minMatch)",
          "old_line_content": "            ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,",
          "new_line_content": "            U32 nbMatches = getAllMatches(matches, ms, &nextToUpdate3, ip, iend, rep, ll0, minMatch);",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "U32)(iend - ip)",
          "new_api": "ZSTD_optLdm_processMatchCandidate",
          "old_text": "U32)(iend - ip)",
          "new_text": "ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,\n                                              (U32)(ip-istart), (U32)(iend - ip))",
          "old_line_content": "                                              (U32)(ip-istart), (U32)(iend - ip));",
          "new_line_content": "            ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "U32)(ip-prefixStart)",
          "new_api": "DEBUGLOG",
          "old_text": "U32)(ip-prefixStart)",
          "new_text": "DEBUGLOG(6, \"found %u matches of maxLength=%u and maxOffCode=%u at cPos=%u => start new series\",\n                            nbMatches, maxML, maxOffcode, (U32)(ip-prefixStart))",
          "old_line_content": "                            nbMatches, maxML, maxOffcode, (U32)(ip-prefixStart));",
          "new_line_content": "                DEBUGLOG(6, \"found %u matches of maxLength=%u and maxOffCode=%u at cPos=%u => start new series\",",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "ZSTD_litLengthPrice",
          "new_api": "assert",
          "old_text": "ZSTD_litLengthPrice(0, optStatePtr, optLevel)",
          "new_text": "assert(opt[0].price >= 0)",
          "old_line_content": "            {   U32 const literalsPrice = (U32)opt[0].price + ZSTD_litLengthPrice(0, optStatePtr, optLevel);",
          "new_line_content": "            assert(opt[0].price >= 0);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "ZSTD_fCost",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_fCost(sequencePrice)",
          "new_text": "DEBUGLOG(7, \"rPos:%u => set initial price : %.2f\",\n                                    pos, ZSTD_fCost(sequencePrice))",
          "old_line_content": "                                    pos, ZSTD_fCost(sequencePrice));",
          "new_line_content": "                        DEBUGLOG(7, \"rPos:%u => set initial price : %.2f\",",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "DEBUGLOG",
          "new_api": "assert",
          "old_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u\", inr-istart, cur)",
          "new_text": "assert(cur < ZSTD_OPT_NUM)",
          "old_line_content": "            DEBUGLOG(7, \"cPos:%zi==rPos:%u\", inr-istart, cur)",
          "new_line_content": "            assert(cur < ZSTD_OPT_NUM);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "ZSTD_litLengthPrice",
          "new_api": "ZSTD_rawLiteralsCost",
          "old_text": "ZSTD_litLengthPrice(litlen, optStatePtr, optLevel)",
          "new_text": "ZSTD_rawLiteralsCost(ip+cur-1, 1, optStatePtr, optLevel)",
          "old_line_content": "                                + (int)ZSTD_litLengthPrice(litlen, optStatePtr, optLevel)",
          "new_line_content": "                                + (int)ZSTD_rawLiteralsCost(ip+cur-1, 1, optStatePtr, optLevel)",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "assert",
          "new_api": "ZSTD_litLengthPrice",
          "old_text": "assert(price < 1000000000)",
          "new_text": "ZSTD_litLengthPrice(litlen-1, optStatePtr, optLevel)",
          "old_line_content": "                assert(price < 1000000000); /* overflow check */",
          "new_line_content": "                                - (int)ZSTD_litLengthPrice(litlen-1, optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "ZSTD_fCost",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_fCost(opt[cur].price)",
          "new_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u : better price (%.2f<=%.2f) using literal (ll==%u) (hist:%u,%u,%u)\",\n                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price), litlen,\n                                opt[cur-1].rep[0], opt[cur-1].rep[1], opt[cur-1].rep[2])",
          "old_line_content": "                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price), litlen,",
          "new_line_content": "                    DEBUGLOG(7, \"cPos:%zi==rPos:%u : better price (%.2f<=%.2f) using literal (ll==%u) (hist:%u,%u,%u)\",",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "ZSTD_fCost",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_fCost(opt[cur].price)",
          "new_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u : literal would cost more (%.2f>%.2f) (hist:%u,%u,%u)\",\n                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price),\n                                opt[cur].rep[0], opt[cur].rep[1], opt[cur].rep[2])",
          "old_line_content": "                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price),",
          "new_line_content": "                    DEBUGLOG(7, \"cPos:%zi==rPos:%u : literal would cost more (%.2f>%.2f) (hist:%u,%u,%u)\",",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "assert",
          "new_api": "ZSTD_STATIC_ASSERT",
          "old_text": "assert(cur >= opt[cur].mlen)",
          "new_text": "ZSTD_STATIC_ASSERT(sizeof(opt[cur].rep) == sizeof(repcodes_t))",
          "old_line_content": "            assert(cur >= opt[cur].mlen);",
          "new_line_content": "            ZSTD_STATIC_ASSERT(sizeof(opt[cur].rep) == sizeof(repcodes_t));",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "ZSTD_memcpy",
          "new_api": "ZSTD_newRep",
          "old_text": "ZSTD_memcpy(opt[cur].rep, &newReps, sizeof(repcodes_t))",
          "new_text": "ZSTD_newRep(opt[prev].rep, opt[cur].off, opt[cur].litlen==0)",
          "old_line_content": "                ZSTD_memcpy(opt[cur].rep, &newReps, sizeof(repcodes_t));",
          "new_line_content": "                repcodes_t const newReps = ZSTD_newRep(opt[prev].rep, opt[cur].off, opt[cur].litlen==0);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "getAllMatches",
          "new_api": "ZSTD_litLengthPrice",
          "old_text": "getAllMatches(matches, ms, &nextToUpdate3, inr, iend, opt[cur].rep, ll0, minMatch)",
          "new_text": "ZSTD_litLengthPrice(0, optStatePtr, optLevel)",
          "old_line_content": "                U32 nbMatches = getAllMatches(matches, ms, &nextToUpdate3, inr, iend, opt[cur].rep, ll0, minMatch);",
          "new_line_content": "                U32 const basePrice = previousPrice + ZSTD_litLengthPrice(0, optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "U32)(iend-inr)",
          "new_api": "ZSTD_optLdm_processMatchCandidate",
          "old_text": "U32)(iend-inr)",
          "new_text": "ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,\n                                                  (U32)(inr-istart), (U32)(iend-inr))",
          "old_line_content": "                                                  (U32)(inr-istart), (U32)(iend-inr));",
          "new_line_content": "                ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "ZSTD_fCost",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_fCost(opt[pos].price)",
          "new_text": "DEBUGLOG(7, \"rPos:%u (ml=%2u) => new better price (%.2f<%.2f)\",\n                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price))",
          "old_line_content": "                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price));",
          "new_line_content": "                            DEBUGLOG(7, \"rPos:%u (ml=%2u) => new better price (%.2f<%.2f)\",",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "ZSTD_fCost",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_fCost(opt[pos].price)",
          "new_text": "DEBUGLOG(7, \"rPos:%u (ml=%2u) => new price is worse (%.2f>=%.2f)\",\n                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price))",
          "old_line_content": "                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price));",
          "new_line_content": "                            DEBUGLOG(7, \"rPos:%u (ml=%2u) => new price is worse (%.2f>=%.2f)\",",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "assert",
          "new_api": "ZSTD_totalLen",
          "old_text": "assert(cur < ZSTD_OPT_NUM)",
          "new_text": "ZSTD_totalLen(lastSequence)",
          "old_line_content": "        assert(cur < ZSTD_OPT_NUM);  /* control overflow*/",
          "new_line_content": "        cur = last_pos > ZSTD_totalLen(lastSequence) ? last_pos - ZSTD_totalLen(lastSequence) : 0;  /* single sequence, and it starts before `ip` */",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "ZSTD_memcpy",
          "new_api": "ZSTD_newRep",
          "old_text": "ZSTD_memcpy(rep, &reps, sizeof(reps))",
          "new_text": "ZSTD_newRep(opt[cur].rep, lastSequence.off, lastSequence.litlen==0)",
          "old_line_content": "            ZSTD_memcpy(rep, &reps, sizeof(reps));",
          "new_line_content": "            repcodes_t const reps = ZSTD_newRep(opt[cur].rep, lastSequence.off, lastSequence.litlen==0);",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "DEBUGLOG",
          "new_api": "assert",
          "old_text": "DEBUGLOG(6, \"last sequence copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",\n                        storeEnd, lastSequence.litlen, lastSequence.mlen, lastSequence.off)",
          "new_text": "assert(storeEnd < ZSTD_OPT_NUM)",
          "old_line_content": "            DEBUGLOG(6, \"last sequence copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",",
          "new_line_content": "            assert(storeEnd < ZSTD_OPT_NUM);",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "ZSTD_updateStats",
          "new_api": "assert",
          "old_text": "ZSTD_updateStats(optStatePtr, llen, anchor, offCode, mlen)",
          "new_text": "assert(anchor + llen <= iend)",
          "old_line_content": "                    ZSTD_updateStats(optStatePtr, llen, anchor, offCode, mlen);",
          "new_line_content": "                    assert(anchor + llen <= iend);",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "ZSTD_storeSeq",
          "new_api": "ZSTD_updateStats",
          "old_text": "ZSTD_storeSeq(seqStore, llen, anchor, iend, offCode, mlen)",
          "new_text": "ZSTD_updateStats(optStatePtr, llen, anchor, offCode, mlen)",
          "old_line_content": "                    ZSTD_storeSeq(seqStore, llen, anchor, iend, offCode, mlen);",
          "new_line_content": "                    ZSTD_updateStats(optStatePtr, llen, anchor, offCode, mlen);",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "ZSTD_compressBlock_opt0",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_noDict)",
          "new_text": "DEBUGLOG(5, \"ZSTD_compressBlock_btopt\")",
          "old_line_content": "    return ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_noDict);",
          "new_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_btopt\");",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "assert",
          "new_api": "DEBUGLOG",
          "old_text": "assert(ms->opt.litLengthSum == 0)",
          "new_text": "DEBUGLOG(4, \"ZSTD_initStats_ultra (srcSize=%zu)\", srcSize)",
          "old_line_content": "    assert(ms->opt.litLengthSum == 0);    /* first block */",
          "new_line_content": "    DEBUGLOG(4, \"ZSTD_initStats_ultra (srcSize=%zu)\", srcSize);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "ZSTD_compressBlock_opt2",
          "new_api": "DEBUGLOG",
          "old_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict)",
          "new_text": "DEBUGLOG(5, \"ZSTD_compressBlock_btultra (srcSize=%zu)\", srcSize)",
          "old_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict);",
          "new_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_btultra (srcSize=%zu)\", srcSize);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "DEBUGLOG",
          "new_api": "U32)((const BYTE*)src - ms->window.base)",
          "old_text": "DEBUGLOG(5, \"ZSTD_compressBlock_btultra2 (srcSize=%zu)\", srcSize)",
          "new_text": "U32)((const BYTE*)src - ms->window.base)",
          "old_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_btultra2 (srcSize=%zu)\", srcSize);",
          "new_line_content": "    U32 const curr = (U32)((const BYTE*)src - ms->window.base);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1032,
          "old_api": null,
          "new_api": "RAWLOG",
          "old_text": null,
          "new_text": "RAWLOG(2, \"%4i,\", table[enb])",
          "old_line_content": "    }",
          "new_line_content": "        RAWLOG(2, \"%4i,\", table[enb]);",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "RAWLOG",
          "old_text": null,
          "new_text": "RAWLOG(2, \" \\n\")",
          "old_line_content": "}",
          "new_line_content": "    RAWLOG(2, \" \\n\");",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(positions, matchEndIdx - (curr + 8))",
          "old_line_content": "    }",
          "new_line_content": "        return MAX(positions, matchEndIdx - (curr + 8));",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "U32)(ip - base)",
          "old_text": null,
          "new_text": "U32)(ip - base)",
          "old_line_content": "    U32 idx = ms->nextToUpdate;",
          "new_line_content": "    U32 const target = (U32)(ip - base);",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"ZSTD_updateTree_internal, from %u to %u  (dictMode:%u)\",\n                idx, target, dictMode)",
          "old_line_content": "                idx, target, dictMode);",
          "new_line_content": "    DEBUGLOG(6, \"ZSTD_updateTree_internal, from %u to %u  (dictMode:%u)\",",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": null,
          "new_api": "ZSTD_selectBtGetAllMatches",
          "old_text": null,
          "new_text": "ZSTD_selectBtGetAllMatches(ms, dictMode)",
          "old_line_content": "",
          "new_line_content": "    ZSTD_getAllMatchesFn getAllMatches = ZSTD_selectBtGetAllMatches(ms, dictMode);",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "U32)(idx + forward)",
          "old_text": null,
          "new_text": "U32)(idx + forward)",
          "old_line_content": "        idx += forward;",
          "new_line_content": "        assert(idx < (U32)(idx + forward));",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(cParams->targetLength, ZSTD_OPT_NUM -1)",
          "old_line_content": "    U32 const minMatch = (cParams->minMatch == 3) ? 3 : 4;",
          "new_line_content": "    U32 const sufficient_len = MIN(cParams->targetLength, ZSTD_OPT_NUM -1);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "U32)(-1)",
          "old_text": null,
          "new_text": "U32)(-1)",
          "old_line_content": "    ms->nextToUpdate = target;",
          "new_line_content": "    assert((size_t)(iend - base) <= (size_t)(U32)(-1));",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "ZSTD_updateTree_internal",
          "old_text": null,
          "new_text": "ZSTD_updateTree_internal(ms, ip, iend, ms->cParams.minMatch, ZSTD_noDict)",
          "old_line_content": "}",
          "new_line_content": "    ZSTD_updateTree_internal(ms, ip, iend, ms->cParams.minMatch, ZSTD_noDict);",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "U32)(iend-ip)",
          "old_text": null,
          "new_text": "U32)(iend-ip)",
          "old_line_content": "",
          "new_line_content": "    ZSTD_opt_getNextMatchAndUpdateSeqStore(&optLdm, (U32)(ip-istart), (U32)(iend-ip));",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "ZSTD_rescaleFreqs",
          "old_text": null,
          "new_text": "ZSTD_rescaleFreqs(optStatePtr, (const BYTE*)src, srcSize, optLevel)",
          "old_line_content": "    ip += (ip==prefixStart);",
          "new_line_content": "    ZSTD_rescaleFreqs(optStatePtr, (const BYTE*)src, srcSize, optLevel);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(cParams->targetLength, ZSTD_OPT_NUM -1)",
          "old_line_content": "    const BYTE* const base = ms->window.base;",
          "new_line_content": "    U32 const sufficient_len = MIN(cParams->targetLength, ZSTD_OPT_NUM -1);",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "U32)(ip - anchor)",
          "old_text": null,
          "new_text": "U32)(ip - anchor)",
          "old_line_content": "            U32 const ll0 = !litlen;",
          "new_line_content": "        {   U32 const litlen = (U32)(ip - anchor);",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": null,
          "new_api": "U32)(ip-base)",
          "old_text": null,
          "new_text": "U32)(ip-base)",
          "old_line_content": "    U32 const hashLog = cParams->hashLog;",
          "new_line_content": "    U32 const curr = (U32)(ip-base);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "ZSTD_hashPtr",
          "old_text": null,
          "new_text": "ZSTD_hashPtr(ip, hashLog, mls)",
          "old_line_content": "    U32 matchIndex  = hashTable[h];",
          "new_line_content": "    size_t const h  = ZSTD_hashPtr(ip, hashLog, mls);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "U32)(iend - ip)",
          "old_text": null,
          "new_text": "U32)(iend - ip)",
          "old_line_content": "            if (!nbMatches) { ip++; continue; }",
          "new_line_content": "                                              (U32)(ip-istart), (U32)(iend - ip));",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "ZSTD_getLowestMatchIndex",
          "old_text": null,
          "new_text": "ZSTD_getLowestMatchIndex(ms, curr, cParams->windowLog)",
          "old_line_content": "    U32 const matchLow = windowLow ? windowLow : 1;",
          "new_line_content": "    U32 const windowLow = ZSTD_getLowestMatchIndex(ms, curr, cParams->windowLog);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "ZSTD_litLengthPrice",
          "old_text": null,
          "new_text": "ZSTD_litLengthPrice(litlen, optStatePtr, optLevel)",
          "old_line_content": "",
          "new_line_content": "            opt[0].price = (int)ZSTD_litLengthPrice(litlen, optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "U32)(ip-prefixStart)",
          "old_text": null,
          "new_text": "U32)(ip-prefixStart)",
          "old_line_content": "",
          "new_line_content": "                            nbMatches, maxML, maxOffcode, (U32)(ip-prefixStart));",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"large match (%u>%u), immediate encoding\",\n                                maxML, sufficient_len)",
          "old_line_content": "                                maxML, sufficient_len);",
          "new_line_content": "                    DEBUGLOG(6, \"large match (%u>%u), immediate encoding\",",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": null,
          "new_api": "U32)(dmsEnd - dmsBase)",
          "old_text": null,
          "new_text": "U32)(dmsEnd - dmsBase)",
          "old_line_content": "    U32         const dmsLowLimit   = dictMode == ZSTD_dictMatchState ? dms->window.lowLimit : 0;",
          "new_line_content": "    U32         const dmsHighLimit  = dictMode == ZSTD_dictMatchState ? (U32)(dmsEnd - dmsBase) : 0;",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": null,
          "new_api": "ZSTD_totalLen",
          "old_text": null,
          "new_text": "ZSTD_totalLen(lastSequence)",
          "old_line_content": "                    goto _shortestPath;",
          "new_line_content": "                    last_pos = ZSTD_totalLen(lastSequence);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "ZSTD_litLengthPrice",
          "old_text": null,
          "new_text": "ZSTD_litLengthPrice(0, optStatePtr, optLevel)",
          "old_line_content": "                U32 pos;",
          "new_line_content": "            {   U32 const literalsPrice = (U32)opt[0].price + ZSTD_litLengthPrice(0, optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(8, \"ZSTD_insertBtAndGetAllMatches: current=%u\", curr)",
          "old_line_content": "",
          "new_line_content": "    DEBUGLOG(8, \"ZSTD_insertBtAndGetAllMatches: current=%u\", curr);",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ll0 <= 1)",
          "old_line_content": "    {   U32 const lastR = ZSTD_REP_NUM + ll0;",
          "new_line_content": "    assert(ll0 <= 1);   /* necessarily 1 or 0 */",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": null,
          "new_api": "ZSTD_getMatchPrice",
          "old_text": null,
          "new_text": "ZSTD_getMatchPrice(offcode, pos, optStatePtr, optLevel)",
          "old_line_content": "                        U32 const sequencePrice = literalsPrice + matchPrice;",
          "new_line_content": "                        U32 const matchPrice = ZSTD_getMatchPrice(offcode, pos, optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(curr >= dictLimit)",
          "old_line_content": "            if (repOffset-1 /* intentional overflow, discards 0 and -1 */ < curr-dictLimit) {  /* equivalent to `curr > repIndex >= dictLimit` */",
          "new_line_content": "            assert(curr >= dictLimit);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "ZSTD_fCost",
          "old_text": null,
          "new_text": "ZSTD_fCost(sequencePrice)",
          "old_line_content": "                        opt[pos].mlen = pos;",
          "new_line_content": "                                    pos, ZSTD_fCost(sequencePrice));",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": null,
          "new_api": "ZSTD_count",
          "old_text": null,
          "new_text": "ZSTD_count(ip+minMatch, ip+minMatch-repOffset, iLimit)",
          "old_line_content": "                }",
          "new_line_content": "                    repLen = (U32)ZSTD_count(ip+minMatch, ip+minMatch-repOffset, iLimit) + minMatch;",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(curr >= windowLow)",
          "old_line_content": "                if ( dictMode == ZSTD_extDict",
          "new_line_content": "                assert(curr >= windowLow);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u\", inr-istart, cur)",
          "old_line_content": "",
          "new_line_content": "            DEBUGLOG(7, \"cPos:%zi==rPos:%u\", inr-istart, cur)",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "ZSTD_count_2segments",
          "old_text": null,
          "new_text": "ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dictEnd, prefixStart)",
          "old_line_content": "                }",
          "new_line_content": "                    repLen = (U32)ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dictEnd, prefixStart) + minMatch;",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "ZSTD_count_2segments",
          "old_text": null,
          "new_text": "ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dmsEnd, prefixStart)",
          "old_line_content": "            }   }",
          "new_line_content": "                    repLen = (U32)ZSTD_count_2segments(ip+minMatch, repMatch+minMatch, iLimit, dmsEnd, prefixStart) + minMatch;",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(price < 1000000000)",
          "old_line_content": "                if (price <= opt[cur].price) {",
          "new_line_content": "                assert(price < 1000000000); /* overflow check */",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(8, \"found repCode %u (ll0:%u, offset:%u) of length %u\",\n                            repCode, ll0, repOffset, repLen)",
          "old_line_content": "                            repCode, ll0, repOffset, repLen);",
          "new_line_content": "                DEBUGLOG(8, \"found repCode %u (ll0:%u, offset:%u) of length %u\",",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "ZSTD_fCost",
          "old_text": null,
          "new_text": "ZSTD_fCost(opt[cur].price)",
          "old_line_content": "                                opt[cur-1].rep[0], opt[cur-1].rep[1], opt[cur-1].rep[2]);",
          "new_line_content": "                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price), litlen,",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "STORE_REPCODE",
          "old_text": null,
          "new_text": "STORE_REPCODE(repCode - ll0 + 1)",
          "old_line_content": "                matches[mnum].len = (U32)repLen;",
          "new_line_content": "                matches[mnum].off = STORE_REPCODE(repCode - ll0 + 1);  /* expect value between 1 and 3 */",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "ZSTD_fCost",
          "old_text": null,
          "new_text": "ZSTD_fCost(opt[cur].price)",
          "old_line_content": "                                opt[cur].rep[0], opt[cur].rep[1], opt[cur].rep[2]);",
          "new_line_content": "                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price),",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "ZSTD_insertAndFindFirstIndexHash3",
          "old_text": null,
          "new_text": "ZSTD_insertAndFindFirstIndexHash3(ms, nextToUpdate3, ip)",
          "old_line_content": "        if ((matchIndex3 >= matchLow)",
          "new_line_content": "        U32 const matchIndex3 = ZSTD_insertAndFindFirstIndexHash3(ms, nextToUpdate3, ip);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "ZSTD_count",
          "old_text": null,
          "new_text": "ZSTD_count(ip, match, iLimit)",
          "old_line_content": "            } else {",
          "new_line_content": "                mlen = ZSTD_count(ip, match, iLimit);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(cur >= opt[cur].mlen)",
          "old_line_content": "            if (opt[cur].mlen != 0) {",
          "new_line_content": "            assert(cur >= opt[cur].mlen);",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "ZSTD_count_2segments",
          "old_text": null,
          "new_text": "ZSTD_count_2segments(ip, match, iLimit, dictEnd, prefixStart)",
          "old_line_content": "            }",
          "new_line_content": "                mlen = ZSTD_count_2segments(ip, match, iLimit, dictEnd, prefixStart);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "ZSTD_memcpy",
          "old_text": null,
          "new_text": "ZSTD_memcpy(opt[cur].rep, &newReps, sizeof(repcodes_t))",
          "old_line_content": "            } else {",
          "new_line_content": "                ZSTD_memcpy(opt[cur].rep, &newReps, sizeof(repcodes_t));",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "ZSTD_memcpy",
          "old_text": null,
          "new_text": "ZSTD_memcpy(opt[cur].rep, opt[cur - 1].rep, sizeof(repcodes_t))",
          "old_line_content": "            }",
          "new_line_content": "                ZSTD_memcpy(opt[cur].rep, opt[cur - 1].rep, sizeof(repcodes_t));",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(8, \"found small match with hlog3, of length %u\",\n                            (U32)mlen)",
          "old_line_content": "                            (U32)mlen);",
          "new_line_content": "                DEBUGLOG(8, \"found small match with hlog3, of length %u\",",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "STORE_OFFSET",
          "old_text": null,
          "new_text": "STORE_OFFSET(curr - matchIndex3)",
          "old_line_content": "                matches[0].len = (U32)mlen;",
          "new_line_content": "                matches[0].off = STORE_OFFSET(curr - matchIndex3);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(7, \"move to next rPos:%u : price is <=\", cur+1)",
          "old_line_content": "                continue;  /* skip unpromising positions; about ~+6% speed, -0.01 ratio */",
          "new_line_content": "                DEBUGLOG(7, \"move to next rPos:%u : price is <=\", cur+1);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(opt[cur].price >= 0)",
          "old_line_content": "            {   U32 const ll0 = (opt[cur].mlen != 0);",
          "new_line_content": "            assert(opt[cur].price >= 0);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "getAllMatches",
          "old_text": null,
          "new_text": "getAllMatches(matches, ms, &nextToUpdate3, inr, iend, opt[cur].rep, ll0, minMatch)",
          "old_line_content": "                U32 matchNb;",
          "new_line_content": "                U32 nbMatches = getAllMatches(matches, ms, &nextToUpdate3, inr, iend, opt[cur].rep, ll0, minMatch);",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "U32)(iend-inr)",
          "old_text": null,
          "new_text": "U32)(iend-inr)",
          "old_line_content": "",
          "new_line_content": "                                                  (U32)(inr-istart), (U32)(iend-inr));",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(curr > matchIndex)",
          "old_line_content": "",
          "new_line_content": "        assert(curr > matchIndex);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(7, \"rPos:%u : no match found\", cur)",
          "old_line_content": "                    continue;",
          "new_line_content": "                    DEBUGLOG(7, \"rPos:%u : no match found\", cur);",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(matchIndex+matchLength >= dictLimit)",
          "old_line_content": "            match = base + matchIndex;",
          "new_line_content": "            assert(matchIndex+matchLength >= dictLimit);  /* ensure the condition is correct when !extDict */",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "ZSTD_count",
          "old_text": null,
          "new_text": "ZSTD_count(ip+matchLength, match+matchLength, iLimit)",
          "old_line_content": "        } else {",
          "new_line_content": "            matchLength += ZSTD_count(ip+matchLength, match+matchLength, iLimit);",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u, found %u matches, of maxLength=%u\",\n                                inr-istart, cur, nbMatches, maxML)",
          "old_line_content": "                                inr-istart, cur, nbMatches, maxML);",
          "new_line_content": "                    DEBUGLOG(7, \"cPos:%zi==rPos:%u, found %u matches, of maxLength=%u\",",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "ZSTD_count_2segments",
          "old_text": null,
          "new_text": "ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dictEnd, prefixStart)",
          "old_line_content": "            if (matchIndex+matchLength >= dictLimit)",
          "new_line_content": "            matchLength += ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dictEnd, prefixStart);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "ZSTD_totalLen",
          "old_text": null,
          "new_text": "ZSTD_totalLen(lastSequence)",
          "old_line_content": "                        if (cur > ZSTD_OPT_NUM) cur = 0;   /* underflow => first match */",
          "new_line_content": "                        last_pos = cur + ZSTD_totalLen(lastSequence);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(matchEndIdx > matchIndex)",
          "old_line_content": "            if (matchLength > matchEndIdx - matchIndex)",
          "new_line_content": "            assert(matchEndIdx > matchIndex);",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": null,
          "new_api": "STORE_OFFSET",
          "old_text": null,
          "new_text": "STORE_OFFSET(curr - matchIndex)",
          "old_line_content": "            matches[mnum].len = (U32)matchLength;",
          "new_line_content": "            matches[mnum].off = STORE_OFFSET(curr - matchIndex);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(7, \"testing match %u => offCode=%4u, mlen=%2u, llen=%2u\",\n                                matchNb, matches[matchNb].off, lastML, litlen)",
          "old_line_content": "                                matchNb, matches[matchNb].off, lastML, litlen);",
          "new_line_content": "                    DEBUGLOG(7, \"testing match %u => offCode=%4u, mlen=%2u, llen=%2u\",",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "ZSTD_getMatchPrice",
          "old_text": null,
          "new_text": "ZSTD_getMatchPrice(offset, mlen, optStatePtr, optLevel)",
          "old_line_content": "",
          "new_line_content": "                        int const price = (int)basePrice + (int)ZSTD_getMatchPrice(offset, mlen, optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "ZSTD_fCost",
          "old_text": null,
          "new_text": "ZSTD_fCost(opt[pos].price)",
          "old_line_content": "                            while (last_pos < pos) { opt[last_pos+1].price = ZSTD_MAX_PRICE; last_pos++; }   /* fill empty positions */",
          "new_line_content": "                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price));",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "ZSTD_fCost",
          "old_text": null,
          "new_text": "ZSTD_fCost(opt[pos].price)",
          "old_line_content": "                            if (optLevel==0) break;  /* early update abort; gets ~+10% speed for about -0.01 ratio loss */",
          "new_line_content": "                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price));",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(nbCompares <= (1U << ZSTD_SEARCHLOG_MAX))",
          "old_line_content": "    if (dictMode == ZSTD_dictMatchState && nbCompares) {",
          "new_line_content": "    assert(nbCompares <= (1U << ZSTD_SEARCHLOG_MAX)); /* Check we haven't underflowed. */",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "ZSTD_hashPtr",
          "old_text": null,
          "new_text": "ZSTD_hashPtr(ip, dmsHashLog, mls)",
          "old_line_content": "        U32 dictMatchIndex = dms->hashTable[dmsH];",
          "new_line_content": "        size_t const dmsH = ZSTD_hashPtr(ip, dmsHashLog, mls);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(cur < ZSTD_OPT_NUM)",
          "old_line_content": "",
          "new_line_content": "        assert(cur < ZSTD_OPT_NUM);  /* control overflow*/",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(commonLengthSmaller, commonLengthLarger)",
          "old_line_content": "            const BYTE* match = dmsBase + dictMatchIndex;",
          "new_line_content": "            size_t matchLength = MIN(commonLengthSmaller, commonLengthLarger);   /* guaranteed minimum nb of common bytes */",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(opt[0].mlen == 0)",
          "old_line_content": "",
          "new_line_content": "        assert(opt[0].mlen == 0);",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": null,
          "new_api": "ZSTD_count_2segments",
          "old_text": null,
          "new_text": "ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dmsEnd, prefixStart)",
          "old_line_content": "            if (dictMatchIndex+matchLength >= dmsHighLimit)",
          "new_line_content": "            matchLength += ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dmsEnd, prefixStart);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "ZSTD_memcpy",
          "old_text": null,
          "new_text": "ZSTD_memcpy(rep, &reps, sizeof(reps))",
          "old_line_content": "        } else {",
          "new_line_content": "            ZSTD_memcpy(rep, &reps, sizeof(reps));",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "STORE_OFFSET",
          "old_text": null,
          "new_text": "STORE_OFFSET(curr - matchIndex)",
          "old_line_content": "                if (matchLength > matchEndIdx - matchIndex)",
          "new_line_content": "                        (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex));",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "ZSTD_memcpy",
          "old_text": null,
          "new_text": "ZSTD_memcpy(rep, opt[cur].rep, sizeof(repcodes_t))",
          "old_line_content": "        }",
          "new_line_content": "            ZSTD_memcpy(rep, opt[cur].rep, sizeof(repcodes_t));",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "STORE_OFFSET",
          "old_text": null,
          "new_text": "STORE_OFFSET(curr - matchIndex)",
          "old_line_content": "                matches[mnum].len = (U32)matchLength;",
          "new_line_content": "                matches[mnum].off = STORE_OFFSET(curr - matchIndex);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"start reverse traversal (last_pos:%u, cur:%u)\",\n                        last_pos, cur)",
          "old_line_content": "                        last_pos, cur); (void)last_pos;",
          "new_line_content": "            DEBUGLOG(6, \"start reverse traversal (last_pos:%u, cur:%u)\",",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"last sequence copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",\n                        storeEnd, lastSequence.litlen, lastSequence.mlen, lastSequence.off)",
          "old_line_content": "                        storeEnd, lastSequence.litlen, lastSequence.mlen, lastSequence.off);",
          "new_line_content": "            DEBUGLOG(6, \"last sequence copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "WEIGHT",
          "old_text": null,
          "new_text": "WEIGHT(optPtr->litFreq[literals[u]], optLevel)",
          "old_line_content": "            if (litPrice < BITCOST_MULTIPLIER) litPrice = BITCOST_MULTIPLIER;",
          "new_line_content": "            U32 litPrice = WEIGHT(optPtr->litFreq[literals[u]], optLevel);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "UNLIKELY",
          "old_text": null,
          "new_text": "UNLIKELY(litPrice > litPriceMax)",
          "old_line_content": "            price += litPrice;",
          "new_line_content": "            if (UNLIKELY(litPrice > litPriceMax)) litPrice = litPriceMax;",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "ZSTD_totalLen",
          "old_text": null,
          "new_text": "ZSTD_totalLen(opt[seqPos])",
          "old_line_content": "                storeStart--;",
          "new_line_content": "                U32 const backDist = ZSTD_totalLen(opt[seqPos]);",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"sequence from rPos=%u copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",\n                            seqPos, storeStart, opt[seqPos].litlen, opt[seqPos].mlen, opt[seqPos].off)",
          "old_line_content": "                            seqPos, storeStart, opt[seqPos].litlen, opt[seqPos].mlen, opt[seqPos].off);",
          "new_line_content": "                DEBUGLOG(6, \"sequence from rPos=%u copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(matchEndIdx > curr+8)",
          "old_line_content": "    ms->nextToUpdate = matchEndIdx - 8;  /* skip repetitive patterns */",
          "new_line_content": "    assert(matchEndIdx > curr+8);",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"sending selected sequences into seqStore\")",
          "old_line_content": "            {   U32 storePos;",
          "new_line_content": "            DEBUGLOG(6, \"sending selected sequences into seqStore\")",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(litLength <= ZSTD_BLOCKSIZE_MAX)",
          "old_line_content": "    if (optPtr->priceType == zop_predef)",
          "new_line_content": "    assert(litLength <= ZSTD_BLOCKSIZE_MAX);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": null,
          "new_api": "WEIGHT",
          "old_text": null,
          "new_text": "WEIGHT(litLength, optLevel)",
          "old_line_content": "    /* We can't compute the litLength price for sizes >= ZSTD_BLOCKSIZE_MAX",
          "new_line_content": "        return WEIGHT(litLength, optLevel);",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"considering seq starting at %zi, llen=%u, mlen=%u\",\n                                anchor - istart, (unsigned)llen, (unsigned)mlen)",
          "old_line_content": "                                anchor - istart, (unsigned)llen, (unsigned)mlen);",
          "new_line_content": "                    DEBUGLOG(6, \"considering seq starting at %zi, llen=%u, mlen=%u\",",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "ZSTD_litLengthPrice",
          "old_text": null,
          "new_text": "ZSTD_litLengthPrice(ZSTD_BLOCKSIZE_MAX - 1, optPtr, optLevel)",
          "old_line_content": "",
          "new_line_content": "        return BITCOST_MULTIPLIER + ZSTD_litLengthPrice(ZSTD_BLOCKSIZE_MAX - 1, optPtr, optLevel);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(storePos == storeEnd)",
          "old_line_content": "                        ip = anchor + llen;     /* last \"sequence\" is a bunch of literals => don't progress anchor */",
          "new_line_content": "                        assert(storePos == storeEnd);   /* must be last sequence */",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": null,
          "new_api": "ZSTD_LLcode",
          "old_text": null,
          "new_text": "ZSTD_LLcode(litLength)",
          "old_line_content": "        return (LL_bits[llCode] * BITCOST_MULTIPLIER)",
          "new_line_content": "    {   U32 const llCode = ZSTD_LLcode(litLength);",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": null,
          "new_api": "WEIGHT",
          "old_text": null,
          "new_text": "WEIGHT(optPtr->litLengthFreq[llCode], optLevel)",
          "old_line_content": "    }",
          "new_line_content": "             - WEIGHT(optPtr->litLengthFreq[llCode], optLevel);",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "ZSTD_storeSeq",
          "old_text": null,
          "new_text": "ZSTD_storeSeq(seqStore, llen, anchor, iend, offCode, mlen)",
          "old_line_content": "                    anchor += advance;",
          "new_line_content": "                    ZSTD_storeSeq(seqStore, llen, anchor, iend, offCode, mlen);",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "ZSTD_setBasePrices",
          "old_text": null,
          "new_text": "ZSTD_setBasePrices(optStatePtr, optLevel)",
          "old_line_content": "        }",
          "new_line_content": "            ZSTD_setBasePrices(optStatePtr, optLevel);",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(8, \"ZSTD_BtGetAllMatches(dictMode=%d, mls=%u)\", (int)dictMode, mls)",
          "old_line_content": "    if (ip < ms->window.base + ms->nextToUpdate)",
          "new_line_content": "    DEBUGLOG(8, \"ZSTD_BtGetAllMatches(dictMode=%d, mls=%u)\", (int)dictMode, mls);",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "ZSTD_insertBtAndGetAllMatches",
          "old_text": null,
          "new_text": "ZSTD_insertBtAndGetAllMatches(matches, ms, nextToUpdate3, ip, iHighLimit, dictMode, rep, ll0, lengthToBeat, mls)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_insertBtAndGetAllMatches(matches, ms, nextToUpdate3, ip, iHighLimit, dictMode, rep, ll0, lengthToBeat, mls);",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "STORED_TO_OFFBASE",
          "old_text": null,
          "new_text": "STORED_TO_OFFBASE(offcode)",
          "old_line_content": "    U32 const mlBase = matchLength - MINMATCH;",
          "new_line_content": "    U32 const offCode = ZSTD_highbit32(STORED_TO_OFFBASE(offcode));",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt_generic",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 0 /* optLevel */, dictMode)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 0 /* optLevel */, dictMode);",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(matchLength >= MINMATCH)",
          "old_line_content": "",
          "new_line_content": "    assert(matchLength >= MINMATCH);",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": null,
          "new_api": "WEIGHT",
          "old_text": null,
          "new_text": "WEIGHT(mlBase, optLevel)",
          "old_line_content": "",
          "new_line_content": "        return WEIGHT(mlBase, optLevel) + ((16 + offCode) * BITCOST_MULTIPLIER);",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt_generic",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 2 /* optLevel */, dictMode)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 2 /* optLevel */, dictMode);",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "WEIGHT",
          "old_text": null,
          "new_text": "WEIGHT(optPtr->offCodeFreq[offCode], optLevel)",
          "old_line_content": "    if ((optLevel<2) /*static*/ && offCode >= 20)",
          "new_line_content": "    price = (offCode * BITCOST_MULTIPLIER) + (optPtr->offCodeSumBasePrice - WEIGHT(optPtr->offCodeFreq[offCode], optLevel));",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "WEIGHT",
          "old_text": null,
          "new_text": "WEIGHT(optPtr->matchLengthFreq[mlCode], optLevel)",
          "old_line_content": "    }",
          "new_line_content": "        price += (ML_bits[mlCode] * BITCOST_MULTIPLIER) + (optPtr->matchLengthSumBasePrice - WEIGHT(optPtr->matchLengthFreq[mlCode], optLevel));",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt0",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_noDict)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_noDict);",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(8, \"ZSTD_getMatchPrice(ml:%u) = %u\", matchLength, price)",
          "old_line_content": "    return price;",
          "new_line_content": "    DEBUGLOG(8, \"ZSTD_getMatchPrice(ml:%u) = %u\", matchLength, price);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "GEN_ZSTD_BT_GET_ALL_MATCHES",
          "old_text": null,
          "new_text": "GEN_ZSTD_BT_GET_ALL_MATCHES(dictMatchState)",
          "old_line_content": "",
          "new_line_content": "GEN_ZSTD_BT_GET_ALL_MATCHES(dictMatchState)",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": null,
          "new_api": "ZSTD_compressedLiterals",
          "old_text": null,
          "new_text": "ZSTD_compressedLiterals(optPtr)",
          "old_line_content": "        U32 u;",
          "new_line_content": "    if (ZSTD_compressedLiterals(optPtr)) {",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "ZSTD_memcpy",
          "old_text": null,
          "new_text": "ZSTD_memcpy(tmpRep, rep, sizeof(tmpRep))",
          "old_line_content": "",
          "new_line_content": "    ZSTD_memcpy(tmpRep, rep, sizeof(tmpRep));",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "ZSTD_LLcode",
          "old_text": null,
          "new_text": "ZSTD_LLcode(litLength)",
          "old_line_content": "        optPtr->litLengthFreq[llCode]++;",
          "new_line_content": "    {   U32 const llCode = ZSTD_LLcode(litLength);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ms->window.dictLimit - ms->nextToUpdate <= 1)",
          "old_line_content": "",
          "new_line_content": "    assert(ms->window.dictLimit - ms->nextToUpdate <= 1);  /* no prefix (note: intentional overflow, defined as 2-complement) */",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "ZSTD_BT_GET_ALL_MATCHES_ARRAY",
          "old_text": null,
          "new_text": "ZSTD_BT_GET_ALL_MATCHES_ARRAY(dictMatchState)",
          "old_line_content": "    };",
          "new_line_content": "        ZSTD_BT_GET_ALL_MATCHES_ARRAY(dictMatchState)",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt2",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt2(ms, seqStore, tmpRep, src, srcSize, ZSTD_noDict)",
          "old_line_content": "",
          "new_line_content": "    ZSTD_compressBlock_opt2(ms, seqStore, tmpRep, src, srcSize, ZSTD_noDict);   /* generate stats into ms->opt*/",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": null,
          "new_api": "ZSTD_resetSeqStore",
          "old_text": null,
          "new_text": "ZSTD_resetSeqStore(seqStore)",
          "old_line_content": "    ms->window.base -= srcSize;",
          "new_line_content": "    ZSTD_resetSeqStore(seqStore);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(offCode <= MaxOff)",
          "old_line_content": "        optPtr->offCodeFreq[offCode]++;",
          "new_line_content": "        assert(offCode <= MaxOff);",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(mls - 3 < 4)",
          "old_line_content": "    return getAllMatchesFns[(int)dictMode][mls - 3];",
          "new_line_content": "    assert(mls - 3 < 4);",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "ZSTD_MLcode",
          "old_text": null,
          "new_text": "ZSTD_MLcode(mlBase)",
          "old_line_content": "        optPtr->matchLengthFreq[mlCode]++;",
          "new_line_content": "        U32 const mlCode = ZSTD_MLcode(mlBase);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt2",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(5, \"ZSTD_compressBlock_btultra2 (srcSize=%zu)\", srcSize)",
          "old_line_content": "",
          "new_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_btultra2 (srcSize=%zu)\", srcSize);",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "U32)(rawSeqStore->posInSequence + nbBytes)",
          "old_text": null,
          "new_text": "U32)(rawSeqStore->posInSequence + nbBytes)",
          "old_line_content": "    while (currPos && rawSeqStore->pos < rawSeqStore->size) {",
          "new_line_content": "    U32 currPos = (U32)(rawSeqStore->posInSequence + nbBytes);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "MEM_read32",
          "old_text": null,
          "new_text": "MEM_read32(memPtr)",
          "old_line_content": "             else",
          "new_line_content": "                return MEM_read32(memPtr)<<8;",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "MEM_read32",
          "old_text": null,
          "new_text": "MEM_read32(memPtr)",
          "old_line_content": "    }",
          "new_line_content": "                return MEM_read32(memPtr)>>8;",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(srcSize <= ZSTD_BLOCKSIZE_MAX)",
          "old_line_content": "    if ( (ms->opt.litLengthSum==0)   /* first block */",
          "new_line_content": "    assert(srcSize <= ZSTD_BLOCKSIZE_MAX);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "ZSTD_initStats_ultra",
          "old_text": null,
          "new_text": "ZSTD_initStats_ultra(ms, seqStore, rep, src, srcSize)",
          "old_line_content": "    }",
          "new_line_content": "        ZSTD_initStats_ultra(ms, seqStore, rep, src, srcSize);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt2",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(hashLog3 > 0)",
          "old_line_content": "",
          "new_line_content": "    assert(hashLog3 > 0);",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": "ZSTD_hash3Ptr",
          "old_text": null,
          "new_text": "ZSTD_hash3Ptr(base+idx, hashLog3)",
          "old_line_content": "        idx++;",
          "new_line_content": "        hashTable3[ZSTD_hash3Ptr(base+idx, hashLog3)] = idx;",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt0",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState);",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt2",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState);",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(optLdm->seqStore.posInSequence <= currSeq.litLength + currSeq.matchLength)",
          "old_line_content": "    currBlockEndPos = currPosInBlock + blockBytesRemaining;",
          "new_line_content": "    assert(optLdm->seqStore.posInSequence <= currSeq.litLength + currSeq.matchLength);",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt0",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_extDict)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_extDict);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "ZSTD_compressBlock_opt2",
          "old_text": null,
          "new_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_extDict)",
          "old_line_content": "}",
          "new_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_extDict);",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "ZSTD_hashPtr",
          "old_text": null,
          "new_text": "ZSTD_hashPtr(ip, hashLog, mls)",
          "old_line_content": "    U32*   const bt = ms->chainTable;",
          "new_line_content": "    size_t const h  = ZSTD_hashPtr(ip, hashLog, mls);",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": null,
          "new_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "old_text": null,
          "new_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, blockBytesRemaining)",
          "old_line_content": "        return;",
          "new_line_content": "        ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, blockBytesRemaining);",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": null,
          "new_api": "U32)(ip-base)",
          "old_text": null,
          "new_text": "U32)(ip-base)",
          "old_line_content": "    const U32 btLow = btMask >= curr ? 0 : curr - btMask;",
          "new_line_content": "    const U32 curr = (U32)(ip-base);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "old_text": null,
          "new_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, currBlockEndPos - currPosInBlock)",
          "old_line_content": "    } else {",
          "new_line_content": "        ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, currBlockEndPos - currPosInBlock);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "old_text": null,
          "new_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, literalsBytesRemaining + matchBytesRemaining)",
          "old_line_content": "    }",
          "new_line_content": "        ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, literalsBytesRemaining + matchBytesRemaining);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "ZSTD_getLowestMatchIndex",
          "old_text": null,
          "new_text": "ZSTD_getLowestMatchIndex(ms, target, cParams->windowLog)",
          "old_line_content": "    U32 matchEndIdx = curr+8+1;",
          "new_line_content": "    U32 const windowLow = ZSTD_getLowestMatchIndex(ms, target, cParams->windowLog);",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(8, \"ZSTD_insertBt1 (%u)\", curr)",
          "old_line_content": "",
          "new_line_content": "    DEBUGLOG(8, \"ZSTD_insertBt1 (%u)\", curr);",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ip <= iend-8)",
          "old_line_content": "    hashTable[h] = curr;   /* Update Hash Table */",
          "new_line_content": "    assert(ip <= iend-8);   /* required for h calculation */",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(windowLow > 0)",
          "old_line_content": "    for (; nbCompares && (matchIndex >= windowLow); --nbCompares) {",
          "new_line_content": "    assert(windowLow > 0);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(matchIndex < curr)",
          "old_line_content": "",
          "new_line_content": "        assert(matchIndex < curr);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "DEBUGLOG",
          "old_text": null,
          "new_text": "DEBUGLOG(6, \"ZSTD_optLdm_maybeAddMatch(): Adding ldm candidate match (offCode: %u matchLength %u) at block position=%u\",\n                 candidateOffCode, candidateMatchLength, currPosInBlock)",
          "old_line_content": "                 candidateOffCode, candidateMatchLength, currPosInBlock);",
          "new_line_content": "        DEBUGLOG(6, \"ZSTD_optLdm_maybeAddMatch(): Adding ldm candidate match (offCode: %u matchLength %u) at block position=%u\",",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(matchIndex+matchLength >= dictLimit)",
          "old_line_content": "            match = base + matchIndex;",
          "new_line_content": "            assert(matchIndex+matchLength >= dictLimit);   /* might be wrong if actually extDict */",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "ZSTD_count",
          "old_text": null,
          "new_text": "ZSTD_count(ip+matchLength, match+matchLength, iend)",
          "old_line_content": "        } else {",
          "new_line_content": "            matchLength += ZSTD_count(ip+matchLength, match+matchLength, iend);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "ZSTD_count_2segments",
          "old_text": null,
          "new_text": "ZSTD_count_2segments(ip+matchLength, match+matchLength, iend, dictEnd, prefixStart)",
          "old_line_content": "            if (matchIndex+matchLength >= dictLimit)",
          "new_line_content": "            matchLength += ZSTD_count_2segments(ip+matchLength, match+matchLength, iend, dictEnd, prefixStart);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "old_text": null,
          "new_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, posOvershoot)",
          "old_line_content": "        }",
          "new_line_content": "            ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, posOvershoot);",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "ZSTD_opt_getNextMatchAndUpdateSeqStore",
          "old_text": null,
          "new_text": "ZSTD_opt_getNextMatchAndUpdateSeqStore(optLdm, currPosInBlock, remainingBytes)",
          "old_line_content": "    }",
          "new_line_content": "        ZSTD_opt_getNextMatchAndUpdateSeqStore(optLdm, currPosInBlock, remainingBytes);",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "ZSTD_optLdm_maybeAddMatch",
          "old_text": null,
          "new_text": "ZSTD_optLdm_maybeAddMatch(matches, nbMatches, optLdm, currPosInBlock)",
          "old_line_content": "}",
          "new_line_content": "    ZSTD_optLdm_maybeAddMatch(matches, nbMatches, optLdm, currPosInBlock);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1031,
          "old_api": "RAWLOG",
          "new_api": null,
          "old_text": "RAWLOG(2, \"%4i,\", table[enb])",
          "new_text": null,
          "old_line_content": "        RAWLOG(2, \"%4i,\", table[enb]);",
          "new_line_content": "        /* RAWLOG(2, \"%3i:%3i,  \", enb, table[enb]); */",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": "RAWLOG",
          "new_api": null,
          "old_text": "RAWLOG(2, \" \\n\")",
          "new_text": null,
          "old_line_content": "    RAWLOG(2, \" \\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "U32)(bestLength - 384)",
          "new_api": null,
          "old_text": "U32)(bestLength - 384)",
          "new_text": null,
          "old_line_content": "        if (bestLength > 384) positions = MIN(192, (U32)(bestLength - 384));   /* speed optimization */",
          "new_line_content": "    {   U32 positions = 0;",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "U32)(ip - base)",
          "new_api": null,
          "old_text": "U32)(ip - base)",
          "new_text": null,
          "old_line_content": "    U32 const target = (U32)(ip - base);",
          "new_line_content": "    const BYTE* const base = ms->window.base;",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"ZSTD_updateTree_internal, from %u to %u  (dictMode:%u)\",\n                idx, target, dictMode)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(6, \"ZSTD_updateTree_internal, from %u to %u  (dictMode:%u)\",",
          "new_line_content": "    U32 idx = ms->nextToUpdate;",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "ZSTD_insertBt1",
          "new_api": null,
          "old_text": "ZSTD_insertBt1(ms, base+idx, iend, target, mls, dictMode == ZSTD_extDict)",
          "new_text": null,
          "old_line_content": "        U32 const forward = ZSTD_insertBt1(ms, base+idx, iend, target, mls, dictMode == ZSTD_extDict);",
          "new_line_content": "    while(idx < target) {",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "ZSTD_selectBtGetAllMatches",
          "new_api": null,
          "old_text": "ZSTD_selectBtGetAllMatches(ms, dictMode)",
          "new_text": null,
          "old_line_content": "    ZSTD_getAllMatchesFn getAllMatches = ZSTD_selectBtGetAllMatches(ms, dictMode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(cParams->targetLength, ZSTD_OPT_NUM -1)",
          "new_text": null,
          "old_line_content": "    U32 const sufficient_len = MIN(cParams->targetLength, ZSTD_OPT_NUM -1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "U32)(-1)",
          "new_api": null,
          "old_text": "U32)(-1)",
          "new_text": null,
          "old_line_content": "    assert((size_t)(ip - base) <= (size_t)(U32)(-1));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "ZSTD_updateTree_internal",
          "new_api": null,
          "old_text": "ZSTD_updateTree_internal(ms, ip, iend, ms->cParams.minMatch, ZSTD_noDict)",
          "new_text": null,
          "old_line_content": "    ZSTD_updateTree_internal(ms, ip, iend, ms->cParams.minMatch, ZSTD_noDict);",
          "new_line_content": "void ZSTD_updateTree(ZSTD_matchState_t* ms, const BYTE* ip, const BYTE* iend) {",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "U32)(iend-ip)",
          "new_api": null,
          "old_text": "U32)(iend-ip)",
          "new_text": null,
          "old_line_content": "    ZSTD_opt_getNextMatchAndUpdateSeqStore(&optLdm, (U32)(ip-istart), (U32)(iend-ip));",
          "new_line_content": "    optLdm.endPosInBlock = optLdm.startPosInBlock = optLdm.offset = 0;",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(5, \"ZSTD_compressBlock_opt_generic: current=%u, prefix=%u, nextToUpdate=%u\",\n                (U32)(ip - base), ms->window.dictLimit, ms->nextToUpdate)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_opt_generic: current=%u, prefix=%u, nextToUpdate=%u\",",
          "new_line_content": "    /* init */",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(cParams->targetLength, ZSTD_OPT_NUM -1)",
          "new_text": null,
          "old_line_content": "    U32 const sufficient_len = MIN(cParams->targetLength, ZSTD_OPT_NUM -1);",
          "new_line_content": "    const ZSTD_compressionParameters* const cParams = &ms->cParams;",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "U32)(ip - anchor)",
          "new_api": null,
          "old_text": "U32)(ip - anchor)",
          "new_text": null,
          "old_line_content": "        {   U32 const litlen = (U32)(ip - anchor);",
          "new_line_content": "        /* find first match */",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "U32)(ip-base)",
          "new_api": null,
          "old_text": "U32)(ip-base)",
          "new_text": null,
          "old_line_content": "    U32 const curr = (U32)(ip-base);",
          "new_line_content": "    const BYTE* const base = ms->window.base;",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "getAllMatches",
          "new_api": null,
          "old_text": "getAllMatches(matches, ms, &nextToUpdate3, ip, iend, rep, ll0, minMatch)",
          "new_text": null,
          "old_line_content": "            U32 nbMatches = getAllMatches(matches, ms, &nextToUpdate3, ip, iend, rep, ll0, minMatch);",
          "new_line_content": "            U32 const ll0 = !litlen;",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "ZSTD_hashPtr",
          "new_api": null,
          "old_text": "ZSTD_hashPtr(ip, hashLog, mls)",
          "new_text": null,
          "old_line_content": "    size_t const h  = ZSTD_hashPtr(ip, hashLog, mls);",
          "new_line_content": "    U32* const hashTable = ms->hashTable;",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "ZSTD_getLowestMatchIndex",
          "new_api": null,
          "old_text": "ZSTD_getLowestMatchIndex(ms, curr, cParams->windowLog)",
          "new_text": null,
          "old_line_content": "    U32 const windowLow = ZSTD_getLowestMatchIndex(ms, curr, cParams->windowLog);",
          "new_line_content": "    U32 const btLow = (btMask >= curr) ? 0 : curr - btMask;",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "ZSTD_litLengthPrice",
          "new_api": null,
          "old_text": "ZSTD_litLengthPrice(litlen, optStatePtr, optLevel)",
          "new_text": null,
          "old_line_content": "            opt[0].price = (int)ZSTD_litLengthPrice(litlen, optStatePtr, optLevel);",
          "new_line_content": "             */",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"found %u matches of maxLength=%u and maxOffCode=%u at cPos=%u => start new series\",\n                            nbMatches, maxML, maxOffcode, (U32)(ip-prefixStart))",
          "new_text": null,
          "old_line_content": "                DEBUGLOG(6, \"found %u matches of maxLength=%u and maxOffCode=%u at cPos=%u => start new series\",",
          "new_line_content": "                U32 const maxOffcode = matches[nbMatches-1].off;",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"large match (%u>%u), immediate encoding\",\n                                maxML, sufficient_len)",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(6, \"large match (%u>%u), immediate encoding\",",
          "new_line_content": "                    lastSequence.off = maxOffcode;",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "U32)(dmsEnd - dmsBase)",
          "new_api": null,
          "old_text": "U32)(dmsEnd - dmsBase)",
          "new_text": null,
          "old_line_content": "    U32         const dmsHighLimit  = dictMode == ZSTD_dictMatchState ? (U32)(dmsEnd - dmsBase) : 0;",
          "new_line_content": "    const BYTE* const dmsEnd        = dictMode == ZSTD_dictMatchState ? dms->window.nextSrc : NULL;",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "ZSTD_totalLen",
          "new_api": null,
          "old_text": "ZSTD_totalLen(lastSequence)",
          "new_text": null,
          "old_line_content": "                    last_pos = ZSTD_totalLen(lastSequence);",
          "new_line_content": "                    cur = 0;",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(opt[0].price >= 0)",
          "new_text": null,
          "old_line_content": "            assert(opt[0].price >= 0);",
          "new_line_content": "            /* set prices for first matches starting position == 0 */",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"ZSTD_insertBtAndGetAllMatches: current=%u\", curr)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(8, \"ZSTD_insertBtAndGetAllMatches: current=%u\", curr);",
          "new_line_content": "    size_t bestLength = lengthToBeat-1;",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ll0 <= 1)",
          "new_text": null,
          "old_line_content": "    assert(ll0 <= 1);   /* necessarily 1 or 0 */",
          "new_line_content": "    /* check repCode */",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "ZSTD_getMatchPrice",
          "new_api": null,
          "old_text": "ZSTD_getMatchPrice(offcode, pos, optStatePtr, optLevel)",
          "new_text": null,
          "old_line_content": "                        U32 const matchPrice = ZSTD_getMatchPrice(offcode, pos, optStatePtr, optLevel);",
          "new_line_content": "                    for ( ; pos <= end ; pos++ ) {",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(curr >= dictLimit)",
          "new_text": null,
          "old_line_content": "            assert(curr >= dictLimit);",
          "new_line_content": "            U32 repLen = 0;",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"rPos:%u => set initial price : %.2f\",\n                                    pos, ZSTD_fCost(sequencePrice))",
          "new_text": null,
          "old_line_content": "                        DEBUGLOG(7, \"rPos:%u => set initial price : %.2f\",",
          "new_line_content": "                        U32 const sequencePrice = literalsPrice + matchPrice;",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": "ZSTD_readMINMATCH",
          "new_api": null,
          "old_text": "ZSTD_readMINMATCH(ip - repOffset, minMatch)",
          "new_text": null,
          "old_line_content": "                if ((repIndex >= windowLow) & (ZSTD_readMINMATCH(ip, minMatch) == ZSTD_readMINMATCH(ip - repOffset, minMatch))) {",
          "new_line_content": "                 */",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(curr >= windowLow)",
          "new_text": null,
          "old_line_content": "                assert(curr >= windowLow);",
          "new_line_content": "                                             dictBase + repIndex;",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(cur < ZSTD_OPT_NUM)",
          "new_text": null,
          "old_line_content": "            assert(cur < ZSTD_OPT_NUM);",
          "new_line_content": "            const BYTE* const inr = ip + cur;",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "U32)((dictLimit-1) - repIndex)",
          "new_api": null,
          "old_text": "U32)((dictLimit-1) - repIndex)",
          "new_text": null,
          "old_line_content": "                     & (((U32)((dictLimit-1) - repIndex) >= 3) ) /* intentional overflow : do not test positions overlapping 2 memory segments */)",
          "new_line_content": "                  && ( ((repOffset-1) /*intentional overflow*/ < curr - windowLow)  /* equivalent to `curr > repIndex >= windowLow` */",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "U32)((dictLimit-1) - repIndex)",
          "new_api": null,
          "old_text": "U32)((dictLimit-1) - repIndex)",
          "new_text": null,
          "old_line_content": "                     & ((U32)((dictLimit-1) - repIndex) >= 3) ) /* intentional overflow : do not test positions overlapping 2 memory segments */",
          "new_line_content": "                  && ( ((repOffset-1) /*intentional overflow*/ < curr - (dmsLowLimit + dmsIndexDelta))  /* equivalent to `curr > repIndex >= dmsLowLimit` */",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "ZSTD_rawLiteralsCost",
          "new_api": null,
          "old_text": "ZSTD_rawLiteralsCost(ip+cur-1, 1, optStatePtr, optLevel)",
          "new_text": null,
          "old_line_content": "                                + (int)ZSTD_rawLiteralsCost(ip+cur-1, 1, optStatePtr, optLevel)",
          "new_line_content": "                int const price = opt[cur-1].price",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u : better price (%.2f<=%.2f) using literal (ll==%u) (hist:%u,%u,%u)\",\n                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price), litlen,\n                                opt[cur-1].rep[0], opt[cur-1].rep[1], opt[cur-1].rep[2])",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(7, \"cPos:%zi==rPos:%u : better price (%.2f<=%.2f) using literal (ll==%u) (hist:%u,%u,%u)\",",
          "new_line_content": "                if (price <= opt[cur].price) {",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"found repCode %u (ll0:%u, offset:%u) of length %u\",\n                            repCode, ll0, repOffset, repLen)",
          "new_text": null,
          "old_line_content": "                DEBUGLOG(8, \"found repCode %u (ll0:%u, offset:%u) of length %u\",",
          "new_line_content": "            if (repLen > bestLength) {",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "STORE_REPCODE",
          "new_api": null,
          "old_text": "STORE_REPCODE(repCode - ll0 + 1)",
          "new_text": null,
          "old_line_content": "                matches[mnum].off = STORE_REPCODE(repCode - ll0 + 1);  /* expect value between 1 and 3 */",
          "new_line_content": "                bestLength = repLen;",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u : literal would cost more (%.2f>%.2f) (hist:%u,%u,%u)\",\n                                inr-istart, cur, ZSTD_fCost(price), ZSTD_fCost(opt[cur].price),\n                                opt[cur].rep[0], opt[cur].rep[1], opt[cur].rep[2])",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(7, \"cPos:%zi==rPos:%u : literal would cost more (%.2f>%.2f) (hist:%u,%u,%u)\",",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "ZSTD_insertAndFindFirstIndexHash3",
          "new_api": null,
          "old_text": "ZSTD_insertAndFindFirstIndexHash3(ms, nextToUpdate3, ip)",
          "new_text": null,
          "old_line_content": "        U32 const matchIndex3 = ZSTD_insertAndFindFirstIndexHash3(ms, nextToUpdate3, ip);",
          "new_line_content": "    if ((mls == 3) /*static*/ && (bestLength < mls)) {",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "ZSTD_STATIC_ASSERT",
          "new_api": null,
          "old_text": "ZSTD_STATIC_ASSERT(sizeof(opt[cur].rep) == sizeof(repcodes_t))",
          "new_text": null,
          "old_line_content": "            ZSTD_STATIC_ASSERT(sizeof(opt[cur].rep) == sizeof(repcodes_t));",
          "new_line_content": "             */",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "ZSTD_count",
          "new_api": null,
          "old_text": "ZSTD_count(ip, match, iLimit)",
          "new_text": null,
          "old_line_content": "                mlen = ZSTD_count(ip, match, iLimit);",
          "new_line_content": "                const BYTE* const match = base + matchIndex3;",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": "ZSTD_count_2segments",
          "new_api": null,
          "old_text": "ZSTD_count_2segments(ip, match, iLimit, dictEnd, prefixStart)",
          "new_text": null,
          "old_line_content": "                mlen = ZSTD_count_2segments(ip, match, iLimit, dictEnd, prefixStart);",
          "new_line_content": "                const BYTE* const match = dictBase + matchIndex3;",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "ZSTD_newRep",
          "new_api": null,
          "old_text": "ZSTD_newRep(opt[prev].rep, opt[cur].off, opt[cur].litlen==0)",
          "new_text": null,
          "old_line_content": "                repcodes_t const newReps = ZSTD_newRep(opt[prev].rep, opt[cur].off, opt[cur].litlen==0);",
          "new_line_content": "                U32 const prev = cur - opt[cur].mlen;",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "ZSTD_memcpy",
          "new_api": null,
          "old_text": "ZSTD_memcpy(opt[cur].rep, opt[cur - 1].rep, sizeof(repcodes_t))",
          "new_text": null,
          "old_line_content": "                ZSTD_memcpy(opt[cur].rep, opt[cur - 1].rep, sizeof(repcodes_t));",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"found small match with hlog3, of length %u\",\n                            (U32)mlen)",
          "new_text": null,
          "old_line_content": "                DEBUGLOG(8, \"found small match with hlog3, of length %u\",",
          "new_line_content": "            if (mlen >= mls /* == 3 > bestLength */) {",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(curr > matchIndex3)",
          "new_text": null,
          "old_line_content": "                assert(curr > matchIndex3);",
          "new_line_content": "                bestLength = mlen;",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"move to next rPos:%u : price is <=\", cur+1)",
          "new_text": null,
          "old_line_content": "                DEBUGLOG(7, \"move to next rPos:%u : price is <=\", cur+1);",
          "new_line_content": "              && (opt[cur+1].price <= opt[cur].price + (BITCOST_MULTIPLIER/2)) ) {",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(opt[cur].price >= 0)",
          "new_text": null,
          "old_line_content": "            assert(opt[cur].price >= 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "ZSTD_litLengthPrice",
          "new_api": null,
          "old_text": "ZSTD_litLengthPrice(0, optStatePtr, optLevel)",
          "new_text": null,
          "old_line_content": "                U32 const basePrice = previousPrice + ZSTD_litLengthPrice(0, optStatePtr, optLevel);",
          "new_line_content": "                U32 const previousPrice = (U32)opt[cur].price;",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "ZSTD_optLdm_processMatchCandidate",
          "new_api": null,
          "old_text": "ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,\n                                                  (U32)(inr-istart), (U32)(iend-inr))",
          "new_text": null,
          "old_line_content": "                ZSTD_optLdm_processMatchCandidate(&optLdm, matches, &nbMatches,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(commonLengthSmaller, commonLengthLarger)",
          "new_text": null,
          "old_line_content": "        size_t matchLength = MIN(commonLengthSmaller, commonLengthLarger);   /* guaranteed minimum nb of common bytes */",
          "new_line_content": "        const BYTE* match;",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"rPos:%u : no match found\", cur)",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(7, \"rPos:%u : no match found\", cur);",
          "new_line_content": "                if (!nbMatches) {",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(matchIndex+matchLength >= dictLimit)",
          "new_text": null,
          "old_line_content": "            assert(matchIndex+matchLength >= dictLimit);  /* ensure the condition is correct when !extDict */",
          "new_line_content": "        if ((dictMode == ZSTD_noDict) || (dictMode == ZSTD_dictMatchState) || (matchIndex+matchLength >= dictLimit)) {",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(match, ip, matchLength)",
          "new_text": null,
          "old_line_content": "            if (matchIndex >= dictLimit) assert(memcmp(match, ip, matchLength) == 0);  /* ensure early section of match is equal as expected */",
          "new_line_content": "            match = base + matchIndex;",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"cPos:%zi==rPos:%u, found %u matches, of maxLength=%u\",\n                                inr-istart, cur, nbMatches, maxML)",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(7, \"cPos:%zi==rPos:%u, found %u matches, of maxLength=%u\",",
          "new_line_content": "                {   U32 const maxML = matches[nbMatches-1].len;",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(match, ip, matchLength)",
          "new_text": null,
          "old_line_content": "            assert(memcmp(match, ip, matchLength) == 0);  /* ensure early section of match is equal as expected */",
          "new_line_content": "            match = dictBase + matchIndex;",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"found match of length %u at distance %u (offCode=%u)\",\n                    (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex))",
          "new_text": null,
          "old_line_content": "            DEBUGLOG(8, \"found match of length %u at distance %u (offCode=%u)\",",
          "new_line_content": "        if (matchLength > bestLength) {",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "ZSTD_totalLen",
          "new_api": null,
          "old_text": "ZSTD_totalLen(lastSequence)",
          "new_text": null,
          "old_line_content": "                        last_pos = cur + ZSTD_totalLen(lastSequence);",
          "new_line_content": "                        cur -= (opt[cur].mlen==0) ? opt[cur].litlen : 0;  /* last sequence is actually only literals, fix cur to last match - note : may underflow, in which case, it's first sequence, and it's okay */",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "STORE_OFFSET",
          "new_api": null,
          "old_text": "STORE_OFFSET(curr - matchIndex)",
          "new_text": null,
          "old_line_content": "            matches[mnum].off = STORE_OFFSET(curr - matchIndex);",
          "new_line_content": "            bestLength = matchLength;",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"testing match %u => offCode=%4u, mlen=%2u, llen=%2u\",\n                                matchNb, matches[matchNb].off, lastML, litlen)",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(7, \"testing match %u => offCode=%4u, mlen=%2u, llen=%2u\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "ZSTD_getMatchPrice",
          "new_api": null,
          "old_text": "ZSTD_getMatchPrice(offset, mlen, optStatePtr, optLevel)",
          "new_text": null,
          "old_line_content": "                        int const price = (int)basePrice + (int)ZSTD_getMatchPrice(offset, mlen, optStatePtr, optLevel);",
          "new_line_content": "                        U32 const pos = cur + mlen;",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"rPos:%u (ml=%2u) => new better price (%.2f<%.2f)\",\n                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price))",
          "new_text": null,
          "old_line_content": "                            DEBUGLOG(7, \"rPos:%u (ml=%2u) => new better price (%.2f<%.2f)\",",
          "new_line_content": "                        if ((pos > last_pos) || (price < opt[pos].price)) {",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(7, \"rPos:%u (ml=%2u) => new price is worse (%.2f>=%.2f)\",\n                                        pos, mlen, ZSTD_fCost(price), ZSTD_fCost(opt[pos].price))",
          "new_text": null,
          "old_line_content": "                            DEBUGLOG(7, \"rPos:%u (ml=%2u) => new price is worse (%.2f>=%.2f)\",",
          "new_line_content": "                        } else {",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(nbCompares <= (1U << ZSTD_SEARCHLOG_MAX))",
          "new_text": null,
          "old_line_content": "    assert(nbCompares <= (1U << ZSTD_SEARCHLOG_MAX)); /* Check we haven't underflowed. */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "ZSTD_hashPtr",
          "new_api": null,
          "old_text": "ZSTD_hashPtr(ip, dmsHashLog, mls)",
          "new_text": null,
          "old_line_content": "        size_t const dmsH = ZSTD_hashPtr(ip, dmsHashLog, mls);",
          "new_line_content": "    if (dictMode == ZSTD_dictMatchState && nbCompares) {",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "ZSTD_totalLen",
          "new_api": null,
          "old_text": "ZSTD_totalLen(lastSequence)",
          "new_text": null,
          "old_line_content": "        cur = last_pos > ZSTD_totalLen(lastSequence) ? last_pos - ZSTD_totalLen(lastSequence) : 0;  /* single sequence, and it starts before `ip` */",
          "new_line_content": "        lastSequence = opt[last_pos];",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(commonLengthSmaller, commonLengthLarger)",
          "new_text": null,
          "old_line_content": "            size_t matchLength = MIN(commonLengthSmaller, commonLengthLarger);   /* guaranteed minimum nb of common bytes */",
          "new_line_content": "            const U32* const nextPtr = dmsBt + 2*(dictMatchIndex & dmsBtMask);",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(opt[0].mlen == 0)",
          "new_text": null,
          "old_line_content": "        assert(opt[0].mlen == 0);",
          "new_line_content": "_shortestPath:   /* cur, last_pos, best_mlen, best_off have to be set */",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "ZSTD_count_2segments",
          "new_api": null,
          "old_text": "ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dmsEnd, prefixStart)",
          "new_text": null,
          "old_line_content": "            matchLength += ZSTD_count_2segments(ip+matchLength, match+matchLength, iLimit, dmsEnd, prefixStart);",
          "new_line_content": "            const BYTE* match = dmsBase + dictMatchIndex;",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "ZSTD_newRep",
          "new_api": null,
          "old_text": "ZSTD_newRep(opt[cur].rep, lastSequence.off, lastSequence.litlen==0)",
          "new_text": null,
          "old_line_content": "            repcodes_t const reps = ZSTD_newRep(opt[cur].rep, lastSequence.off, lastSequence.litlen==0);",
          "new_line_content": "        if (lastSequence.mlen != 0) {",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"found dms match of length %u at distance %u (offCode=%u)\",\n                        (U32)matchLength, curr - matchIndex, STORE_OFFSET(curr - matchIndex))",
          "new_text": null,
          "old_line_content": "                DEBUGLOG(8, \"found dms match of length %u at distance %u (offCode=%u)\",",
          "new_line_content": "                matchIndex = dictMatchIndex + dmsIndexDelta;",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "ZSTD_memcpy",
          "new_api": null,
          "old_text": "ZSTD_memcpy(rep, opt[cur].rep, sizeof(repcodes_t))",
          "new_text": null,
          "old_line_content": "            ZSTD_memcpy(rep, opt[cur].rep, sizeof(repcodes_t));",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "STORE_OFFSET",
          "new_api": null,
          "old_text": "STORE_OFFSET(curr - matchIndex)",
          "new_text": null,
          "old_line_content": "                matches[mnum].off = STORE_OFFSET(curr - matchIndex);",
          "new_line_content": "                bestLength = matchLength;",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"start reverse traversal (last_pos:%u, cur:%u)\",\n                        last_pos, cur)",
          "new_text": null,
          "old_line_content": "            DEBUGLOG(6, \"start reverse traversal (last_pos:%u, cur:%u)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(storeEnd < ZSTD_OPT_NUM)",
          "new_text": null,
          "old_line_content": "            assert(storeEnd < ZSTD_OPT_NUM);",
          "new_line_content": "                        last_pos, cur); (void)last_pos;",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "WEIGHT",
          "new_api": null,
          "old_text": "WEIGHT(optPtr->litFreq[literals[u]], optLevel)",
          "new_text": null,
          "old_line_content": "            assert(WEIGHT(optPtr->litFreq[literals[u]], optLevel) <= optPtr->litSumBasePrice);   /* literal cost should never be negative */",
          "new_line_content": "        for (u=0; u < litLength; u++) {",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "ZSTD_totalLen",
          "new_api": null,
          "old_text": "ZSTD_totalLen(opt[seqPos])",
          "new_text": null,
          "old_line_content": "                U32 const backDist = ZSTD_totalLen(opt[seqPos]);",
          "new_line_content": "            while (seqPos > 0) {",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"sequence from rPos=%u copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",\n                            seqPos, storeStart, opt[seqPos].litlen, opt[seqPos].mlen, opt[seqPos].off)",
          "new_text": null,
          "old_line_content": "                DEBUGLOG(6, \"sequence from rPos=%u copied into pos=%u (llen=%u,mlen=%u,ofc=%u)\",",
          "new_line_content": "                storeStart--;",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(matchEndIdx > curr+8)",
          "new_text": null,
          "old_line_content": "    assert(matchEndIdx > curr+8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"sending selected sequences into seqStore\")",
          "new_text": null,
          "old_line_content": "            DEBUGLOG(6, \"sending selected sequences into seqStore\")",
          "new_line_content": "            /* save sequences */",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(litLength <= ZSTD_BLOCKSIZE_MAX)",
          "new_text": null,
          "old_line_content": "    assert(litLength <= ZSTD_BLOCKSIZE_MAX);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "WEIGHT",
          "new_api": null,
          "old_text": "WEIGHT(litLength, optLevel)",
          "new_text": null,
          "old_line_content": "        return WEIGHT(litLength, optLevel);",
          "new_line_content": "    if (optPtr->priceType == zop_predef)",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(6, \"considering seq starting at %zi, llen=%u, mlen=%u\",\n                                anchor - istart, (unsigned)llen, (unsigned)mlen)",
          "new_text": null,
          "old_line_content": "                    DEBUGLOG(6, \"considering seq starting at %zi, llen=%u, mlen=%u\",",
          "new_line_content": "                    U32 const advance = llen + mlen;",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "ZSTD_litLengthPrice",
          "new_api": null,
          "old_text": "ZSTD_litLengthPrice(ZSTD_BLOCKSIZE_MAX - 1, optPtr, optLevel)",
          "new_text": null,
          "old_line_content": "        return BITCOST_MULTIPLIER + ZSTD_litLengthPrice(ZSTD_BLOCKSIZE_MAX - 1, optPtr, optLevel);",
          "new_line_content": "    if (litLength == ZSTD_BLOCKSIZE_MAX)",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(storePos == storeEnd)",
          "new_text": null,
          "old_line_content": "                        assert(storePos == storeEnd);   /* must be last sequence */",
          "new_line_content": "                    if (mlen==0) {  /* only literals => must be last \"sequence\", actually starting a new stream of sequences */",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "ZSTD_LLcode",
          "new_api": null,
          "old_text": "ZSTD_LLcode(litLength)",
          "new_text": null,
          "old_line_content": "    {   U32 const llCode = ZSTD_LLcode(litLength);",
          "new_line_content": "    /* dynamic statistics */",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(anchor + llen <= iend)",
          "new_text": null,
          "old_line_content": "                    assert(anchor + llen <= iend);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": "WEIGHT",
          "new_api": null,
          "old_text": "WEIGHT(optPtr->litLengthFreq[llCode], optLevel)",
          "new_text": null,
          "old_line_content": "             - WEIGHT(optPtr->litLengthFreq[llCode], optLevel);",
          "new_line_content": "             + optPtr->litLengthSumBasePrice",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "ZSTD_setBasePrices",
          "new_api": null,
          "old_text": "ZSTD_setBasePrices(optStatePtr, optLevel)",
          "new_text": null,
          "old_line_content": "            ZSTD_setBasePrices(optStatePtr, optLevel);",
          "new_line_content": "            }   }",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "BOUNDED",
          "new_api": null,
          "old_text": "BOUNDED(3, ms->cParams.minMatch, 6)",
          "new_text": null,
          "old_line_content": "    assert(BOUNDED(3, ms->cParams.minMatch, 6) == mls);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "ZSTD_updateTree_internal",
          "new_api": null,
          "old_text": "ZSTD_updateTree_internal(ms, ip, iHighLimit, mls, dictMode)",
          "new_text": null,
          "old_line_content": "    ZSTD_updateTree_internal(ms, ip, iHighLimit, mls, dictMode);",
          "new_line_content": "        return 0;   /* skipped area */",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "STORED_TO_OFFBASE",
          "new_api": null,
          "old_text": "STORED_TO_OFFBASE(offcode)",
          "new_text": null,
          "old_line_content": "    U32 const offCode = ZSTD_highbit32(STORED_TO_OFFBASE(offcode));",
          "new_line_content": "    U32 price;",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "ZSTD_compressBlock_opt_generic",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 0 /* optLevel */, dictMode)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 0 /* optLevel */, dictMode);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(matchLength >= MINMATCH)",
          "new_text": null,
          "old_line_content": "    assert(matchLength >= MINMATCH);",
          "new_line_content": "    U32 const mlBase = matchLength - MINMATCH;",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "WEIGHT",
          "new_api": null,
          "old_text": "WEIGHT(mlBase, optLevel)",
          "new_text": null,
          "old_line_content": "        return WEIGHT(mlBase, optLevel) + ((16 + offCode) * BITCOST_MULTIPLIER);",
          "new_line_content": "    if (optPtr->priceType == zop_predef)  /* fixed scheme, do not use statistics */",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "ZSTD_compressBlock_opt_generic",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 2 /* optLevel */, dictMode)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt_generic(ms, seqStore, rep, src, srcSize, 2 /* optLevel */, dictMode);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "WEIGHT",
          "new_api": null,
          "old_text": "WEIGHT(optPtr->offCodeFreq[offCode], optLevel)",
          "new_text": null,
          "old_line_content": "    price = (offCode * BITCOST_MULTIPLIER) + (optPtr->offCodeSumBasePrice - WEIGHT(optPtr->offCodeFreq[offCode], optLevel));",
          "new_line_content": "    /* dynamic statistics */",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "ZSTD_MLcode",
          "new_api": null,
          "old_text": "ZSTD_MLcode(mlBase)",
          "new_text": null,
          "old_line_content": "    {   U32 const mlCode = ZSTD_MLcode(mlBase);",
          "new_line_content": "    /* match Length */",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(5, \"ZSTD_compressBlock_btopt\")",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_btopt\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"ZSTD_getMatchPrice(ml:%u) = %u\", matchLength, price)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(8, \"ZSTD_getMatchPrice(ml:%u) = %u\", matchLength, price);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "GEN_ZSTD_BT_GET_ALL_MATCHES",
          "new_api": null,
          "old_text": "GEN_ZSTD_BT_GET_ALL_MATCHES(noDict)",
          "new_text": null,
          "old_line_content": "GEN_ZSTD_BT_GET_ALL_MATCHES(noDict)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "ZSTD_compressedLiterals",
          "new_api": null,
          "old_text": "ZSTD_compressedLiterals(optPtr)",
          "new_text": null,
          "old_line_content": "    if (ZSTD_compressedLiterals(optPtr)) {",
          "new_line_content": "    /* literals */",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "ZSTD_memcpy",
          "new_api": null,
          "old_text": "ZSTD_memcpy(tmpRep, rep, sizeof(tmpRep))",
          "new_text": null,
          "old_line_content": "    ZSTD_memcpy(tmpRep, rep, sizeof(tmpRep));",
          "new_line_content": "    U32 tmpRep[ZSTD_REP_NUM];  /* updated rep codes will sink here */",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(4, \"ZSTD_initStats_ultra (srcSize=%zu)\", srcSize)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(4, \"ZSTD_initStats_ultra (srcSize=%zu)\", srcSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "ZSTD_LLcode",
          "new_api": null,
          "old_text": "ZSTD_LLcode(litLength)",
          "new_text": null,
          "old_line_content": "    {   U32 const llCode = ZSTD_LLcode(litLength);",
          "new_line_content": "    /* literal Length */",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "ZSTD_BT_GET_ALL_MATCHES_ARRAY",
          "new_api": null,
          "old_text": "ZSTD_BT_GET_ALL_MATCHES_ARRAY(noDict)",
          "new_text": null,
          "old_line_content": "        ZSTD_BT_GET_ALL_MATCHES_ARRAY(noDict),",
          "new_line_content": "    ZSTD_getAllMatchesFn const getAllMatchesFns[3][4] = {",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "ZSTD_compressBlock_opt2",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt2(ms, seqStore, tmpRep, src, srcSize, ZSTD_noDict)",
          "new_text": null,
          "old_line_content": "    ZSTD_compressBlock_opt2(ms, seqStore, tmpRep, src, srcSize, ZSTD_noDict);   /* generate stats into ms->opt*/",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "BOUNDED",
          "new_api": null,
          "old_text": "BOUNDED(3, ms->cParams.minMatch, 6)",
          "new_text": null,
          "old_line_content": "    U32 const mls = BOUNDED(3, ms->cParams.minMatch, 6);",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "STORED_TO_OFFBASE",
          "new_api": null,
          "old_text": "STORED_TO_OFFBASE(offsetCode)",
          "new_text": null,
          "old_line_content": "    {   U32 const offCode = ZSTD_highbit32(STORED_TO_OFFBASE(offsetCode));",
          "new_line_content": "    /* offset code : expected to follow storeSeq() numeric representation */",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "ZSTD_resetSeqStore",
          "new_api": null,
          "old_text": "ZSTD_resetSeqStore(seqStore)",
          "new_text": null,
          "old_line_content": "    ZSTD_resetSeqStore(seqStore);",
          "new_line_content": "    /* invalidate first scan from history */",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "ZSTD_MLcode",
          "new_api": null,
          "old_text": "ZSTD_MLcode(mlBase)",
          "new_text": null,
          "old_line_content": "        U32 const mlCode = ZSTD_MLcode(mlBase);",
          "new_line_content": "    {   U32 const mlBase = matchLength - MINMATCH;",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(5, \"ZSTD_compressBlock_btultra (srcSize=%zu)\", srcSize)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(5, \"ZSTD_compressBlock_btultra (srcSize=%zu)\", srcSize);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "U32)((const BYTE*)src - ms->window.base)",
          "new_api": null,
          "old_text": "U32)((const BYTE*)src - ms->window.base)",
          "new_text": null,
          "old_line_content": "    U32 const curr = (U32)((const BYTE*)src - ms->window.base);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "MEM_read32",
          "new_api": null,
          "old_text": "MEM_read32(memPtr)",
          "new_text": null,
          "old_line_content": "    case 4 : return MEM_read32(memPtr);",
          "new_line_content": "    default :",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "U32)(rawSeqStore->posInSequence + nbBytes)",
          "new_api": null,
          "old_text": "U32)(rawSeqStore->posInSequence + nbBytes)",
          "new_text": null,
          "old_line_content": "    U32 currPos = (U32)(rawSeqStore->posInSequence + nbBytes);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "MEM_read32",
          "new_api": null,
          "old_text": "MEM_read32(memPtr)",
          "new_text": null,
          "old_line_content": "                return MEM_read32(memPtr)>>8;",
          "new_line_content": "             else",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(srcSize <= ZSTD_BLOCKSIZE_MAX)",
          "new_text": null,
          "old_line_content": "    assert(srcSize <= ZSTD_BLOCKSIZE_MAX);",
          "new_line_content": "     * the cost is 2x cpu time on first block. */",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "ZSTD_initStats_ultra",
          "new_api": null,
          "old_text": "ZSTD_initStats_ultra(ms, seqStore, rep, src, srcSize)",
          "new_text": null,
          "old_line_content": "        ZSTD_initStats_ultra(ms, seqStore, rep, src, srcSize);",
          "new_line_content": "      ) {",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "ZSTD_compressBlock_opt2",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_noDict);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "U32)(ip - base)",
          "new_api": null,
          "old_text": "U32)(ip - base)",
          "new_text": null,
          "old_line_content": "    U32 const target = (U32)(ip - base);",
          "new_line_content": "    U32 idx = *nextToUpdate3;",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "ZSTD_hash3Ptr",
          "new_api": null,
          "old_text": "ZSTD_hash3Ptr(base+idx, hashLog3)",
          "new_text": null,
          "old_line_content": "        hashTable3[ZSTD_hash3Ptr(base+idx, hashLog3)] = idx;",
          "new_line_content": "    while(idx < target) {",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "ZSTD_compressBlock_opt0",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "ZSTD_compressBlock_opt2",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_dictMatchState);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(optLdm->seqStore.posInSequence <= currSeq.litLength + currSeq.matchLength)",
          "new_text": null,
          "old_line_content": "    assert(optLdm->seqStore.posInSequence <= currSeq.litLength + currSeq.matchLength);",
          "new_line_content": "    currSeq = optLdm->seqStore.seq[optLdm->seqStore.pos];",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "ZSTD_compressBlock_opt0",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_extDict)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt0(ms, seqStore, rep, src, srcSize, ZSTD_extDict);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "ZSTD_compressBlock_opt2",
          "new_api": null,
          "old_text": "ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_extDict)",
          "new_text": null,
          "old_line_content": "    return ZSTD_compressBlock_opt2(ms, seqStore, rep, src, srcSize, ZSTD_extDict);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "ZSTD_hashPtr",
          "new_api": null,
          "old_text": "ZSTD_hashPtr(ip, hashLog, mls)",
          "new_text": null,
          "old_line_content": "    size_t const h  = ZSTD_hashPtr(ip, hashLog, mls);",
          "new_line_content": "    U32    const hashLog = cParams->hashLog;",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "new_api": null,
          "old_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, blockBytesRemaining)",
          "new_text": null,
          "old_line_content": "        ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, blockBytesRemaining);",
          "new_line_content": "        optLdm->endPosInBlock = UINT_MAX;",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "U32)(ip-base)",
          "new_api": null,
          "old_text": "U32)(ip-base)",
          "new_text": null,
          "old_line_content": "    const U32 curr = (U32)(ip-base);",
          "new_line_content": "    const BYTE* match;",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "new_api": null,
          "old_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, currBlockEndPos - currPosInBlock)",
          "new_text": null,
          "old_line_content": "        ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, currBlockEndPos - currPosInBlock);",
          "new_line_content": "        optLdm->endPosInBlock = currBlockEndPos;",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "new_api": null,
          "old_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, literalsBytesRemaining + matchBytesRemaining)",
          "new_text": null,
          "old_line_content": "        ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, literalsBytesRemaining + matchBytesRemaining);",
          "new_line_content": "        /* Consume nb of bytes equal to size of sequence left */",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "ZSTD_getLowestMatchIndex",
          "new_api": null,
          "old_text": "ZSTD_getLowestMatchIndex(ms, target, cParams->windowLog)",
          "new_text": null,
          "old_line_content": "    U32 const windowLow = ZSTD_getLowestMatchIndex(ms, target, cParams->windowLog);",
          "new_line_content": "     */",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "DEBUGLOG",
          "new_api": null,
          "old_text": "DEBUGLOG(8, \"ZSTD_insertBt1 (%u)\", curr)",
          "new_text": null,
          "old_line_content": "    DEBUGLOG(8, \"ZSTD_insertBt1 (%u)\", curr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(curr <= target)",
          "new_text": null,
          "old_line_content": "    assert(curr <= target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(windowLow > 0)",
          "new_text": null,
          "old_line_content": "    assert(windowLow > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(commonLengthSmaller, commonLengthLarger)",
          "new_text": null,
          "old_line_content": "        size_t matchLength = MIN(commonLengthSmaller, commonLengthLarger);   /* guaranteed minimum nb of common bytes */",
          "new_line_content": "        U32* const nextPtr = bt + 2*(matchIndex & btMask);",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "STORE_OFFSET",
          "new_api": null,
          "old_text": "STORE_OFFSET(optLdm->offset)",
          "new_text": null,
          "old_line_content": "        U32 const candidateOffCode = STORE_OFFSET(optLdm->offset);",
          "new_line_content": "    if (*nbMatches == 0 || ((candidateMatchLength > matches[*nbMatches-1].len) && *nbMatches < ZSTD_OPT_NUM)) {",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(matchIndex+matchLength >= dictLimit)",
          "new_text": null,
          "old_line_content": "            assert(matchIndex+matchLength >= dictLimit);   /* might be wrong if actually extDict */",
          "new_line_content": "        if (!extDict || (matchIndex+matchLength >= dictLimit)) {",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "ZSTD_count",
          "new_api": null,
          "old_text": "ZSTD_count(ip+matchLength, match+matchLength, iend)",
          "new_text": null,
          "old_line_content": "            matchLength += ZSTD_count(ip+matchLength, match+matchLength, iend);",
          "new_line_content": "            match = base + matchIndex;",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "ZSTD_count_2segments",
          "new_api": null,
          "old_text": "ZSTD_count_2segments(ip+matchLength, match+matchLength, iend, dictEnd, prefixStart)",
          "new_text": null,
          "old_line_content": "            matchLength += ZSTD_count_2segments(ip+matchLength, match+matchLength, iend, dictEnd, prefixStart);",
          "new_line_content": "            match = dictBase + matchIndex;",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "ZSTD_optLdm_skipRawSeqStoreBytes",
          "new_api": null,
          "old_text": "ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, posOvershoot)",
          "new_text": null,
          "old_line_content": "            ZSTD_optLdm_skipRawSeqStoreBytes(&optLdm->seqStore, posOvershoot);",
          "new_line_content": "            U32 const posOvershoot = currPosInBlock - optLdm->endPosInBlock;",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "ZSTD_opt_getNextMatchAndUpdateSeqStore",
          "new_api": null,
          "old_text": "ZSTD_opt_getNextMatchAndUpdateSeqStore(optLdm, currPosInBlock, remainingBytes)",
          "new_text": null,
          "old_line_content": "        ZSTD_opt_getNextMatchAndUpdateSeqStore(optLdm, currPosInBlock, remainingBytes);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "ZSTD_optLdm_maybeAddMatch",
          "new_api": null,
          "old_text": "ZSTD_optLdm_maybeAddMatch(matches, nbMatches, optLdm, currPosInBlock)",
          "new_text": null,
          "old_line_content": "    ZSTD_optLdm_maybeAddMatch(matches, nbMatches, optLdm, currPosInBlock);",
          "new_line_content": "    }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 55,
      "total_additions": 145,
      "total_deletions": 144,
      "total_api_changes": 344
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 344,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          265,
          258,
          259
        ]
      }
    },
    "api_calls_before": 277,
    "api_calls_after": 277,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 5,
      "total_diff_lines": 25
    }
  }
}