{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/df5013b4632eda82a0cc745969ca305ac55dfe36",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/df5013b4632eda82a0cc745969ca305ac55dfe36/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/df5013b4632eda82a0cc745969ca305ac55dfe36/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/zstd/modified_file/df5013b4632eda82a0cc745969ca305ac55dfe36/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 748,
          "old_api": "EXM_THROW",
          "new_api": "assert",
          "old_text": "EXM_THROW(32, \"Dictionary %s must be a regular file.\", fileName)",
          "new_text": "assert(bufferPtr != NULL)",
          "old_line_content": "        EXM_THROW(32, \"Dictionary %s must be a regular file.\", fileName);",
          "new_line_content": "    assert(bufferPtr != NULL);",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "strerror",
          "new_api": "UTIL_stat",
          "old_text": "strerror(errno)",
          "new_text": "UTIL_stat(fileName, &statbuf)",
          "old_line_content": "        EXM_THROW(33, \"Couldn't open dictionary %s: %s\", fileName, strerror(errno));",
          "new_line_content": "    if (!UTIL_stat(fileName, &statbuf)) {",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "malloc",
          "new_api": "strerror",
          "old_text": "malloc((size_t)fileSize)",
          "new_text": "strerror(errno)",
          "old_line_content": "    *bufferPtr = malloc((size_t)fileSize);",
          "new_line_content": "        EXM_THROW(33, \"Couldn't open dictionary %s: %s\", fileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "strcmp",
          "new_api": "strrchr",
          "old_text": "strcmp(prevElem, filenameTableSorted[u])",
          "new_text": "strrchr(filenameTable[u], PATH_SEP)",
          "old_line_content": "        if (strcmp(prevElem, filenameTableSorted[u]) == 0) {",
          "new_line_content": "        filename = strrchr(filenameTable[u], PATH_SEP);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "strlen",
          "new_api": "extractFilename",
          "old_text": "strlen(outDirName)",
          "new_text": "extractFilename(path, separator)",
          "old_line_content": "    if (outDirName[strlen(outDirName)-1] == separator) {",
          "new_line_content": "    filenameStart = extractFilename(path, separator);",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "UTIL_requireUserConfirmation",
          "new_api": "strcmp",
          "old_text": "UTIL_requireUserConfirmation(\"This is a destructive operation. Proceed? (y/n): \", \"Aborting...\", \"yY\", fCtx->hasStdinInput)",
          "new_text": "strcmp(outFileName, stdoutmark)",
          "old_line_content": "                    error = g_display_prefs.displayLevel > displayLevelCutoff && UTIL_requireUserConfirmation(\"This is a destructive operation. Proceed? (y/n): \", \"Aborting...\", \"yY\", fCtx->hasStdinInput);",
          "new_line_content": "            if (!strcmp(outFileName, stdoutmark)) {",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "ZSTD_getCParams",
          "new_api": "assert",
          "old_text": "ZSTD_getCParams(cLevel, (size_t)maxSrcFileSize, (size_t)dictSize)",
          "new_text": "assert(hashLog > 1)",
          "old_line_content": "    ZSTD_compressionParameters const cParams = ZSTD_getCParams(cLevel, (size_t)maxSrcFileSize, (size_t)dictSize);",
          "new_line_content": "    assert(hashLog > 1);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "DISPLAYLEVEL",
          "new_api": "ZSTD_getCParams",
          "old_text": "DISPLAYLEVEL(1, \"[Optimal parser notes] Consider the following to improve patch size at the cost of speed:\\n\")",
          "new_text": "ZSTD_getCParams(cLevel, (size_t)maxSrcFileSize, (size_t)dictSize)",
          "old_line_content": "        DISPLAYLEVEL(1, \"[Optimal parser notes] Consider the following to improve patch size at the cost of speed:\\n\");",
          "new_line_content": "    ZSTD_compressionParameters const cParams = ZSTD_getCParams(cLevel, (size_t)maxSrcFileSize, (size_t)dictSize);",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": "DISPLAYLEVEL",
          "new_api": "FIO_adjustMemLimitForPatchFromMode",
          "old_text": "DISPLAYLEVEL(1, \"- Use --single-thread mode in the zstd cli\\n\")",
          "new_text": "FIO_adjustMemLimitForPatchFromMode(prefs, dictSize, maxSrcFileSize)",
          "old_line_content": "        DISPLAYLEVEL(1, \"- Use --single-thread mode in the zstd cli\\n\");",
          "new_line_content": "    FIO_adjustMemLimitForPatchFromMode(prefs, dictSize, maxSrcFileSize);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "DISPLAYLEVEL",
          "new_api": "MIN",
          "old_text": "DISPLAYLEVEL(1, \"Also consider playing around with searchLog and hashLog\\n\")",
          "new_text": "MIN(ZSTD_WINDOWLOG_MAX, fileWindowLog)",
          "old_line_content": "        DISPLAYLEVEL(1, \"Also consider playing around with searchLog and hashLog\\n\");",
          "new_line_content": "    comprParams->windowLog = MAX(ZSTD_WINDOWLOG_MIN, MIN(ZSTD_WINDOWLOG_MAX, fileWindowLog));",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "memset",
          "new_api": "DISPLAYLEVEL",
          "old_text": "memset(&ress, 0, sizeof(ress))",
          "new_text": "DISPLAYLEVEL(1, \"- Use --single-thread mode in the zstd cli\\n\")",
          "old_line_content": "    memset(&ress, 0, sizeof(ress));",
          "new_line_content": "        DISPLAYLEVEL(1, \"- Use --single-thread mode in the zstd cli\\n\");",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "ZSTD_createCCtx",
          "new_api": "DISPLAYLEVEL",
          "old_text": "ZSTD_createCCtx()",
          "new_text": "DISPLAYLEVEL(1, \"Also consider playing around with searchLog and hashLog\\n\")",
          "old_line_content": "    ress.cctx = ZSTD_createCCtx();",
          "new_line_content": "        DISPLAYLEVEL(1, \"Also consider playing around with searchLog and hashLog\\n\");",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "malloc",
          "new_api": "strerror",
          "old_text": "malloc(ress.dstBufferSize)",
          "new_text": "strerror(errno)",
          "old_line_content": "    ress.dstBuffer = malloc(ress.dstBufferSize);",
          "new_line_content": "                    strerror(errno));",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "FIO_createDictBuffer",
          "new_api": "ZSTD_CStreamInSize",
          "old_text": "FIO_createDictBuffer(&ress.dictBuffer, dictFileName, prefs)",
          "new_text": "ZSTD_CStreamInSize()",
          "old_line_content": "    ress.dictBufferSize = FIO_createDictBuffer(&ress.dictBuffer, dictFileName, prefs);   /* works with dictFileName==NULL */",
          "new_line_content": "    ress.srcBufferSize = ZSTD_CStreamInSize();",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "EXM_THROW",
          "new_api": "ZSTD_CStreamOutSize",
          "old_text": "EXM_THROW(31, \"allocation error : not enough memory\")",
          "new_text": "ZSTD_CStreamOutSize()",
          "old_line_content": "        EXM_THROW(31, \"allocation error : not enough memory\");",
          "new_line_content": "    ress.dstBufferSize = ZSTD_CStreamOutSize();",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": "EXM_THROW",
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_dictIDFlag, prefs->dictIDFlag)",
          "new_text": "EXM_THROW(31, \"allocation error : not enough memory\")",
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_dictIDFlag, prefs->dictIDFlag) );",
          "new_line_content": "        EXM_THROW(31, \"allocation error : not enough memory\");",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "DISPLAYLEVEL",
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": "DISPLAYLEVEL(5,\"set nb workers = %u \\n\", prefs->nbWorkers)",
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_windowLog, (int)comprParams.windowLog)",
          "old_line_content": "    DISPLAYLEVEL(5,\"set nb workers = %u \\n\", prefs->nbWorkers);",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_windowLog, (int)comprParams.windowLog) );",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "DISPLAYLEVEL",
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": "DISPLAYLEVEL(3,\"set overlapLog = %u \\n\", prefs->overlapLog)",
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_minMatch, (int)comprParams.minMatch)",
          "old_line_content": "        DISPLAYLEVEL(3,\"set overlapLog = %u \\n\", prefs->overlapLog);",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_minMatch, (int)comprParams.minMatch) );",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "ZSTD_CCtx_refPrefix",
          "new_api": "DISPLAYLEVEL",
          "old_text": "ZSTD_CCtx_refPrefix(ress.cctx, ress.dictBuffer, ress.dictBufferSize)",
          "new_text": "DISPLAYLEVEL(5,\"set nb workers = %u \\n\", prefs->nbWorkers)",
          "old_line_content": "        CHECK( ZSTD_CCtx_refPrefix(ress.cctx, ress.dictBuffer, ress.dictBufferSize) );",
          "new_line_content": "    DISPLAYLEVEL(5,\"set nb workers = %u \\n\", prefs->nbWorkers);",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "ZSTD_CCtx_loadDictionary",
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": "ZSTD_CCtx_loadDictionary(ress.cctx, ress.dictBuffer, ress.dictBufferSize)",
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_jobSize, prefs->blockSize)",
          "old_line_content": "        CHECK( ZSTD_CCtx_loadDictionary(ress.cctx, ress.dictBuffer, ress.dictBufferSize) );",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_jobSize, prefs->blockSize) );",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": "free",
          "new_api": "ZSTD_CCtx_refPrefix",
          "old_text": "free(ress->dstBuffer)",
          "new_text": "ZSTD_CCtx_refPrefix(ress.cctx, ress.dictBuffer, ress.dictBufferSize)",
          "old_line_content": "    free(ress->dstBuffer);",
          "new_line_content": "        CHECK( ZSTD_CCtx_refPrefix(ress.cctx, ress.dictBuffer, ress.dictBufferSize) );",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "ZSTD_freeCStream",
          "new_api": "ZSTD_CCtx_loadDictionary",
          "old_text": "ZSTD_freeCStream(ress->cctx)",
          "new_text": "ZSTD_CCtx_loadDictionary(ress.cctx, ress.dictBuffer, ress.dictBufferSize)",
          "old_line_content": "    ZSTD_freeCStream(ress->cctx);   /* never fails */",
          "new_line_content": "        CHECK( ZSTD_CCtx_loadDictionary(ress.cctx, ress.dictBuffer, ress.dictBufferSize) );",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "fread",
          "new_api": "EXM_THROW",
          "old_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile)",
          "new_text": "EXM_THROW(71, \"zstd: %s: deflateInit2 error %d \\n\", srcFileName, ret)",
          "old_line_content": "            size_t const inSize = fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile);",
          "new_line_content": "            EXM_THROW(71, \"zstd: %s: deflateInit2 error %d \\n\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "fwrite",
          "new_api": "fread",
          "old_text": "fwrite(ress->dstBuffer, 1, cSize, ress->dstFile)",
          "new_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile)",
          "old_line_content": "                if (fwrite(ress->dstBuffer, 1, cSize, ress->dstFile) != cSize)",
          "new_line_content": "            size_t const inSize = fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "DISPLAYUPDATE",
          "new_api": "fwrite",
          "old_text": "DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%% \",\n                            (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),\n                            (double)outFileSize/inFileSize*100)",
          "new_text": "fwrite(ress->dstBuffer, 1, cSize, ress->dstFile)",
          "old_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%% \",",
          "new_line_content": "                if (fwrite(ress->dstBuffer, 1, cSize, ress->dstFile) != cSize)",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "EXM_THROW",
          "new_api": "deflate",
          "old_text": "EXM_THROW(77, \"zstd: %s: deflate error %d \\n\", srcFileName, ret)",
          "new_text": "deflate(&strm, Z_FINISH)",
          "old_line_content": "            EXM_THROW(77, \"zstd: %s: deflate error %d \\n\", srcFileName, ret);",
          "new_line_content": "        int const ret = deflate(&strm, Z_FINISH);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "deflateEnd",
          "new_api": "fwrite",
          "old_text": "deflateEnd(&strm)",
          "new_text": "fwrite(ress->dstBuffer, 1, cSize, ress->dstFile)",
          "old_line_content": "    {   int const ret = deflateEnd(&strm);",
          "new_line_content": "                if (fwrite(ress->dstBuffer, 1, cSize, ress->dstFile) != cSize)",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": "LZ4F_compressUpdate",
          "new_api": "LZ4F_getErrorName",
          "old_text": "LZ4F_compressUpdate(ctx,\n                                        ress->dstBuffer, ress->dstBufferSize,\n                                        ress->srcBuffer, readSize, NULL)",
          "new_text": "LZ4F_getErrorName(headerSize)",
          "old_line_content": "            size_t const outSize = LZ4F_compressUpdate(ctx,",
          "new_line_content": "                            LZ4F_getErrorName(headerSize));",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "LZ4F_isError",
          "new_api": "strerror",
          "old_text": "LZ4F_isError(headerSize)",
          "new_text": "strerror(errno)",
          "old_line_content": "        if (LZ4F_isError(headerSize))",
          "new_line_content": "                    EXM_THROW(36, \"Write error : %s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "fwrite",
          "new_api": "fread",
          "old_text": "fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile)",
          "new_text": "fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile)",
          "old_line_content": "        {   size_t const sizeCheck = fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile);",
          "new_line_content": "            readSize  = fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "strerror",
          "new_api": "EXM_THROW",
          "old_text": "strerror(errno)",
          "new_text": "EXM_THROW(37, \"Error reading %s \", srcFileName)",
          "old_line_content": "                            strerror(errno));",
          "new_line_content": "        if (ferror(ress->srcFile)) EXM_THROW(37, \"Error reading %s \", srcFileName);",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "LZ4F_freeCompressionContext",
          "new_api": "LZ4F_getErrorName",
          "old_text": "LZ4F_freeCompressionContext(ctx)",
          "new_text": "LZ4F_getErrorName(headerSize)",
          "old_line_content": "    LZ4F_freeCompressionContext(ctx);",
          "new_line_content": "                        srcFileName, LZ4F_getErrorName(headerSize));",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "ZSTD_CCtx_setPledgedSrcSize",
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": "ZSTD_CCtx_setPledgedSrcSize(ress.cctx, prefs->streamSrcSize)",
          "new_text": "UTIL_makeHumanReadableSize(fileSize)",
          "old_line_content": "      CHECK( ZSTD_CCtx_setPledgedSrcSize(ress.cctx, prefs->streamSrcSize) );",
          "new_line_content": "    UTIL_HumanReadableSize_t const file_hrs = UTIL_makeHumanReadableSize(fileSize);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "MIN",
          "new_api": "ZSTD_CCtx_setPledgedSrcSize",
          "old_text": "MIN(1ULL << windowLog, pledgedSrcSize)",
          "new_text": "ZSTD_CCtx_setPledgedSrcSize(ress.cctx, prefs->streamSrcSize)",
          "old_line_content": "        windowSize = UTIL_makeHumanReadableSize(MAX(1ULL, MIN(1ULL << windowLog, pledgedSrcSize)));",
          "new_line_content": "      CHECK( ZSTD_CCtx_setPledgedSrcSize(ress.cctx, prefs->streamSrcSize) );",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "DISPLAYLEVEL",
          "new_api": "MIN",
          "old_text": "DISPLAYLEVEL(6, \"fread %u bytes from source \\n\", (unsigned)inSize)",
          "new_text": "MIN(1ULL << windowLog, pledgedSrcSize)",
          "old_line_content": "        DISPLAYLEVEL(6, \"fread %u bytes from source \\n\", (unsigned)inSize);",
          "new_line_content": "        windowSize = UTIL_makeHumanReadableSize(MAX(1ULL, MIN(1ULL << windowLog, pledgedSrcSize)));",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "fwrite",
          "new_api": "ZSTD_compressStream2",
          "old_text": "fwrite(ress.dstBuffer, 1, outBuff.pos, dstFile)",
          "new_text": "ZSTD_compressStream2(ress.cctx, &outBuff, &inBuff, directive)",
          "old_line_content": "                size_t const sizeCheck = fwrite(ress.dstBuffer, 1, outBuff.pos, dstFile);",
          "new_line_content": "            CHECK_V(stillToFlush, ZSTD_compressStream2(ress.cctx, &outBuff, &inBuff, directive));",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "READY_FOR_UPDATE",
          "new_api": "DISPLAYLEVEL",
          "old_text": "READY_FOR_UPDATE()",
          "new_text": "DISPLAYLEVEL(6, \"ZSTD_compress_generic(end:%u) => input pos(%u)<=(%u)size ; output generated %u bytes \\n\",\n                            (unsigned)directive, (unsigned)inBuff.pos, (unsigned)inBuff.size, (unsigned)outBuff.pos)",
          "old_line_content": "            if (READY_FOR_UPDATE()) {",
          "new_line_content": "            DISPLAYLEVEL(6, \"ZSTD_compress_generic(end:%u) => input pos(%u)<=(%u)size ; output generated %u bytes \\n\",",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": "fwrite",
          "old_text": "UTIL_makeHumanReadableSize(zfp.ingested - zfp.consumed)",
          "new_text": "fwrite(ress.dstBuffer, 1, outBuff.pos, dstFile)",
          "old_line_content": "                UTIL_HumanReadableSize_t const buffered_hrs = UTIL_makeHumanReadableSize(zfp.ingested - zfp.consumed);",
          "new_line_content": "                size_t const sizeCheck = fwrite(ress.dstBuffer, 1, outBuff.pos, dstFile);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": "EXM_THROW",
          "old_text": "UTIL_makeHumanReadableSize(zfp.produced)",
          "new_text": "EXM_THROW(25, \"Write error : %s (cannot write compressed block)\",\n                                    strerror(errno))",
          "old_line_content": "                UTIL_HumanReadableSize_t const produced_hrs = UTIL_makeHumanReadableSize(zfp.produced);",
          "new_line_content": "                    EXM_THROW(25, \"Write error : %s (cannot write compressed block)\",",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "DISPLAYLEVEL",
          "new_api": "strlen",
          "old_text": "DISPLAYLEVEL(1, \"Read:%6.*f%4s \", consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix)",
          "new_text": "strlen(srcFileName)",
          "old_line_content": "                    DISPLAYLEVEL(1, \"Read:%6.*f%4s \", consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix);",
          "new_line_content": "                        size_t srcFileNameSize = strlen(srcFileName);",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "DELAY_NEXT_UPDATE",
          "new_api": "DISPLAYLEVEL",
          "old_text": "DELAY_NEXT_UPDATE()",
          "new_text": "DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: ...%s \",\n                                        fCtx->currFileIdx+1, fCtx->nbFilesTotal, truncatedSrcFileName)",
          "old_line_content": "                    DELAY_NEXT_UPDATE();",
          "new_line_content": "                            DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: ...%s \",",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "assert",
          "new_api": "DELAY_NEXT_UPDATE",
          "old_text": "assert(zfp.produced >= previous_zfp_update.produced)",
          "new_text": "DELAY_NEXT_UPDATE()",
          "old_line_content": "                        assert(zfp.produced >= previous_zfp_update.produced);",
          "new_line_content": "                    DELAY_NEXT_UPDATE();",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "ferror",
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": "ferror(srcFile)",
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel)",
          "old_line_content": "    if (ferror(srcFile)) {",
          "new_line_content": "                            ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel);",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "FIO_compressZstdFrame",
          "new_api": "UTIL_getTime",
          "old_text": "FIO_compressZstdFrame(fCtx, prefs, &ress, srcFileName, fileSize, compressionLevel, &readsize)",
          "new_text": "UTIL_getTime()",
          "old_line_content": "            compressedfilesize = FIO_compressZstdFrame(fCtx, prefs, &ress, srcFileName, fileSize, compressionLevel, &readsize);",
          "new_line_content": "    UTIL_time_t const timeStart = UTIL_getTime();",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "FIO_compressGzFrame",
          "new_api": "DISPLAYLEVEL",
          "old_text": "FIO_compressGzFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize)",
          "new_text": "DISPLAYLEVEL(5, \"%s: %llu bytes \\n\", srcFileName, (unsigned long long)fileSize)",
          "old_line_content": "            compressedfilesize = FIO_compressGzFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize);",
          "new_line_content": "    DISPLAYLEVEL(5, \"%s: %llu bytes \\n\", srcFileName, (unsigned long long)fileSize);",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "FIO_compressLzmaFrame",
          "new_api": "FIO_compressGzFrame",
          "old_text": "FIO_compressLzmaFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize, prefs->compressionType==FIO_lzmaCompression)",
          "new_text": "FIO_compressGzFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize)",
          "old_line_content": "            compressedfilesize = FIO_compressLzmaFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize, prefs->compressionType==FIO_lzmaCompression);",
          "new_line_content": "            compressedfilesize = FIO_compressGzFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize);",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "DISPLAYLEVEL",
          "new_api": "assert",
          "old_text": "DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: opening dst: %s \\n\", dstFileName)",
          "new_text": "assert(ress.srcFile != NULL)",
          "old_line_content": "        DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: opening dst: %s \\n\", dstFileName);",
          "new_line_content": "    assert(ress.srcFile != NULL);",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "DISPLAYLEVEL",
          "new_api": "addHandler",
          "old_text": "DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: closing dst: %s \\n\", dstFileName)",
          "new_text": "addHandler(dstFileName)",
          "old_line_content": "        DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: closing dst: %s \\n\", dstFileName);",
          "new_line_content": "        addHandler(dstFileName);",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "strcmp",
          "new_api": "clearHandler",
          "old_text": "strcmp(dstFileName, stdoutmark)",
          "new_text": "clearHandler()",
          "old_line_content": "          && strcmp(dstFileName, stdoutmark)  /* special case : don't remove() stdout */",
          "new_line_content": "        clearHandler();",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "FIO_removeFile",
          "new_api": "DISPLAYLEVEL",
          "old_text": "FIO_removeFile(dstFileName)",
          "new_text": "DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: closing dst: %s \\n\", dstFileName)",
          "old_line_content": "            FIO_removeFile(dstFileName); /* remove compression artefact; note don't do anything special if remove() fails */",
          "new_line_content": "        DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: closing dst: %s \\n\", dstFileName);",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": "clearHandler",
          "new_api": "FIO_compressFilename_dstFile",
          "old_text": "clearHandler()",
          "new_text": "FIO_compressFilename_dstFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "old_line_content": "        clearHandler();",
          "new_line_content": "    result = FIO_compressFilename_dstFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "strerror",
          "new_api": "fclose",
          "old_text": "strerror(errno)",
          "new_text": "fclose(ress.srcFile)",
          "old_line_content": "            EXM_THROW(1, \"zstd: %s: %s\", srcFileName, strerror(errno));",
          "new_line_content": "    fclose(ress.srcFile);",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "DISPLAY",
          "new_api": "INDEX",
          "old_text": "DISPLAY(\" --size-hint=%d\", prefs->srcSizeHint)",
          "new_text": "INDEX(sparseOptions, prefs->sparseFileSupport)",
          "old_line_content": "        DISPLAY(\" --size-hint=%d\", prefs->srcSizeHint);",
          "new_line_content": "    DISPLAY(\"%s\", INDEX(sparseOptions, prefs->sparseFileSupport));",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "DISPLAY",
          "new_api": "INDEX",
          "old_text": "DISPLAY(\" --target-compressed-block-size=%u\", (unsigned) prefs->targetCBlockSize)",
          "new_text": "INDEX(checkSumOptions, prefs->checksumFlag)",
          "old_line_content": "        DISPLAY(\" --target-compressed-block-size=%u\", (unsigned) prefs->targetCBlockSize);",
          "new_line_content": "    DISPLAY(\"%s\", INDEX(checkSumOptions, prefs->checksumFlag));",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "INDEX",
          "new_api": "DISPLAY",
          "old_text": "INDEX(compressLiteralsOptions, prefs->literalCompressionMode)",
          "new_text": "DISPLAY(\" --block-size=%d\", prefs->blockSize)",
          "old_line_content": "    DISPLAY(\"%s\", INDEX(compressLiteralsOptions, prefs->literalCompressionMode));",
          "new_line_content": "    DISPLAY(\" --block-size=%d\", prefs->blockSize);",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "DISPLAY",
          "new_api": "INDEX",
          "old_text": "DISPLAY(\"%s\", prefs->excludeCompressedFiles ? \" --exclude-compressed\" : \"\")",
          "new_text": "INDEX(rowMatchFinderOptions, prefs->useRowMatchFinder)",
          "old_line_content": "    DISPLAY(\"%s\", prefs->excludeCompressedFiles ? \" --exclude-compressed\" : \"\");",
          "new_line_content": "    DISPLAY(\"%s\", INDEX(rowMatchFinderOptions, prefs->useRowMatchFinder));",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "UTIL_getFileSize",
          "new_api": "DISPLAY",
          "old_text": "UTIL_getFileSize(srcFileName)",
          "new_text": "DISPLAY(\"%s\", prefs->excludeCompressedFiles ? \" --exclude-compressed\" : \"\")",
          "old_line_content": "    cRess_t const ress = FIO_createCResources(prefs, dictFileName, UTIL_getFileSize(srcFileName), compressionLevel, comprParams);",
          "new_line_content": "    DISPLAY(\"%s\", prefs->excludeCompressedFiles ? \" --exclude-compressed\" : \"\");",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "FIO_compressFilename_srcFile",
          "new_api": "DISPLAY",
          "old_text": "FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "new_text": "DISPLAY(\" --%scontent-size\", prefs->contentSize ? \"\" : \"no-\")",
          "old_line_content": "    int const result = FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "new_line_content": "    DISPLAY(\" --%scontent-size\", prefs->contentSize ? \"\" : \"no-\");",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "malloc",
          "new_api": "strlen",
          "old_text": "malloc(dfnbCapacity)",
          "new_text": "strlen(suffix)",
          "old_line_content": "        dstFileNameBuffer = (char*)malloc(dfnbCapacity);",
          "new_line_content": "    size_t const srcSuffixLen = strlen(suffix);",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "strerror",
          "new_api": "FIO_createFilename_fromOutDir",
          "old_text": "strerror(errno)",
          "new_text": "FIO_createFilename_fromOutDir(srcFileName, outDirName, srcSuffixLen)",
          "old_line_content": "            EXM_THROW(30, \"zstd: %s\", strerror(errno));",
          "new_line_content": "        outDirFilename = FIO_createFilename_fromOutDir(srcFileName, outDirName, srcSuffixLen);",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "memcpy",
          "new_api": "malloc",
          "old_text": "memcpy(dstFileNameBuffer, srcFileName, sfnSize)",
          "new_text": "malloc(dfnbCapacity)",
          "old_line_content": "        memcpy(dstFileNameBuffer, srcFileName, sfnSize);",
          "new_line_content": "        dstFileNameBuffer = (char*)malloc(dfnbCapacity);",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "memcpy",
          "new_api": "strerror",
          "old_text": "memcpy(dstFileNameBuffer+sfnSize, suffix, srcSuffixLen+1 /* Include terminating null */)",
          "new_text": "strerror(errno)",
          "old_line_content": "    memcpy(dstFileNameBuffer+sfnSize, suffix, srcSuffixLen+1 /* Include terminating null */);",
          "new_line_content": "            EXM_THROW(30, \"zstd: %s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": "UTIL_getFileSize",
          "new_api": "memcpy",
          "old_text": "UTIL_getFileSize(inFileNames[i])",
          "new_text": "memcpy(dstFileNameBuffer, srcFileName, sfnSize)",
          "old_line_content": "        fileSize = UTIL_getFileSize(inFileNames[i]);",
          "new_line_content": "        memcpy(dstFileNameBuffer, srcFileName, sfnSize);",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "FIO_openDstFile",
          "new_api": "FIO_createCResources",
          "old_text": "FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS)",
          "new_text": "FIO_createCResources(prefs, dictFileName,\n        FIO_getLargestFileSize(inFileNamesTable, (unsigned)fCtx->nbFilesTotal),\n        compressionLevel, comprParams)",
          "old_line_content": "        ress.dstFile = FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS);",
          "new_line_content": "    cRess_t ress = FIO_createCResources(prefs, dictFileName,",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "FIO_compressFilename_srcFile",
          "new_api": "assert",
          "old_text": "FIO_compressFilename_srcFile(fCtx, prefs, ress, outFileName, inFileNamesTable[fCtx->currFileIdx], compressionLevel)",
          "new_text": "assert(outFileName != NULL || suffix != NULL)",
          "old_line_content": "                status = FIO_compressFilename_srcFile(fCtx, prefs, ress, outFileName, inFileNamesTable[fCtx->currFileIdx], compressionLevel);",
          "new_line_content": "    assert(outFileName != NULL || suffix != NULL);",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "strerror",
          "new_api": "FIO_openDstFile",
          "old_text": "strerror(errno)",
          "new_text": "FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS)",
          "old_line_content": "                            strerror(errno), outFileName);",
          "new_line_content": "        ress.dstFile = FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS);",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "UTIL_mirrorSourceFilesDirectories",
          "new_api": "FIO_compressFilename_srcFile",
          "old_text": "UTIL_mirrorSourceFilesDirectories(inFileNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName)",
          "new_text": "FIO_compressFilename_srcFile(fCtx, prefs, ress, outFileName, inFileNamesTable[fCtx->currFileIdx], compressionLevel)",
          "old_line_content": "            UTIL_mirrorSourceFilesDirectories(inFileNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName);",
          "new_line_content": "                status = FIO_compressFilename_srcFile(fCtx, prefs, ress, outFileName, inFileNamesTable[fCtx->currFileIdx], compressionLevel);",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "UTIL_createMirroredDestDirName",
          "new_api": "strerror",
          "old_text": "UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName)",
          "new_text": "strerror(errno)",
          "old_line_content": "                char* validMirroredDirName = UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName);",
          "new_line_content": "                            strerror(errno), outFileName);",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "DISPLAYLEVEL",
          "new_api": "UTIL_mirrorSourceFilesDirectories",
          "old_text": "DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot compress '%s' into '%s' \\n\", srcFileName, outMirroredRootDirName)",
          "new_text": "UTIL_mirrorSourceFilesDirectories(inFileNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName)",
          "old_line_content": "                    DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot compress '%s' into '%s' \\n\", srcFileName, outMirroredRootDirName);",
          "new_line_content": "            UTIL_mirrorSourceFilesDirectories(inFileNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": "FIO_compressFilename_srcFile",
          "old_text": "UTIL_makeHumanReadableSize((U64) fCtx->totalBytesOutput)",
          "new_text": "FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "old_line_content": "        UTIL_HumanReadableSize_t hr_osize = UTIL_makeHumanReadableSize((U64) fCtx->totalBytesOutput);",
          "new_line_content": "            status = FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "FIO_freeCResources",
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": "FIO_freeCResources(&ress)",
          "new_text": "UTIL_makeHumanReadableSize((U64) fCtx->totalBytesInput)",
          "old_line_content": "    FIO_freeCResources(&ress);",
          "new_line_content": "        UTIL_HumanReadableSize_t hr_isize = UTIL_makeHumanReadableSize((U64) fCtx->totalBytesInput);",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "ZSTD_DStreamOutSize",
          "new_api": "UTIL_getFileSize",
          "old_text": "ZSTD_DStreamOutSize()",
          "new_text": "UTIL_getFileSize(dictFileName)",
          "old_line_content": "    ress.dstBufferSize = ZSTD_DStreamOutSize();",
          "new_line_content": "        FIO_adjustMemLimitForPatchFromMode(prefs, UTIL_getFileSize(dictFileName), 0 /* just use the dict size */);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "EXM_THROW",
          "new_api": "ZSTD_createDStream",
          "old_text": "EXM_THROW(61, \"Allocation error : not enough memory\")",
          "new_text": "ZSTD_createDStream()",
          "old_line_content": "        EXM_THROW(61, \"Allocation error : not enough memory\");",
          "new_line_content": "    ress.dctx = ZSTD_createDStream();",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "FIO_createDictBuffer",
          "new_api": "ZSTD_DCtx_setParameter",
          "old_text": "FIO_createDictBuffer(&dictBuffer, dictFileName, prefs)",
          "new_text": "ZSTD_DCtx_setParameter(ress.dctx, ZSTD_d_forceIgnoreChecksum, !prefs->checksumFlag)",
          "old_line_content": "        size_t const dictBufferSize = FIO_createDictBuffer(&dictBuffer, dictFileName, prefs);",
          "new_line_content": "    CHECK( ZSTD_DCtx_setParameter(ress.dctx, ZSTD_d_forceIgnoreChecksum, !prefs->checksumFlag));",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "free",
          "new_api": "ZSTD_DStreamInSize",
          "old_text": "free(dictBuffer)",
          "new_text": "ZSTD_DStreamInSize()",
          "old_line_content": "        free(dictBuffer);",
          "new_line_content": "    ress.srcBufferSize = ZSTD_DStreamInSize();",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "free",
          "new_api": "FIO_createDictBuffer",
          "old_text": "free(ress.srcBuffer)",
          "new_text": "FIO_createDictBuffer(&dictBuffer, dictFileName, prefs)",
          "old_line_content": "    free(ress.srcBuffer);",
          "new_line_content": "        size_t const dictBufferSize = FIO_createDictBuffer(&dictBuffer, dictFileName, prefs);",
          "content_same": false
        },
        {
          "line": 2048,
          "old_api": "free",
          "new_api": "ZSTD_initDStream_usingDict",
          "old_text": "free(ress.dstBuffer)",
          "new_text": "ZSTD_initDStream_usingDict(ress.dctx, dictBuffer, dictBufferSize)",
          "old_line_content": "    free(ress.dstBuffer);",
          "new_line_content": "        CHECK( ZSTD_initDStream_usingDict(ress.dctx, dictBuffer, dictBufferSize) );",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "assert",
          "new_api": "strerror",
          "old_text": "assert(restEnd > restStart && restEnd < restStart + sizeof(size_t))",
          "new_text": "strerror(errno)",
          "old_line_content": "            assert(restEnd > restStart && restEnd < restStart + sizeof(size_t));",
          "new_line_content": "                            strerror(errno));",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "assert",
          "new_api": "EXM_THROW",
          "old_text": "assert(storedSkips == 0)",
          "new_text": "EXM_THROW(95, \"Write error : cannot write end of decoded block : %s\",\n                        strerror(errno))",
          "old_line_content": "    if (prefs->testMode) assert(storedSkips == 0);",
          "new_line_content": "                    EXM_THROW(95, \"Write error : cannot write end of decoded block : %s\",",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": "strerror",
          "new_api": "fwrite",
          "old_text": "strerror(errno)",
          "new_text": "fwrite(buffer, 1, alreadyLoaded, foutput)",
          "old_line_content": "        DISPLAYLEVEL(1, \"Pass-through read error : %s\\n\", strerror(errno));",
          "new_line_content": "    {   size_t const sizeCheck = fwrite(buffer, 1, alreadyLoaded, foutput);",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "DISPLAYLEVEL",
          "new_api": "FIO_highbit64",
          "old_text": "DISPLAYLEVEL(1, \"%s : Window log larger than ZSTD_WINDOWLOG_MAX=%u; not supported \\n\",\n                    srcFileName, ZSTD_WINDOWLOG_MAX)",
          "new_text": "FIO_highbit64(windowSize)",
          "old_line_content": "    DISPLAYLEVEL(1, \"%s : Window log larger than ZSTD_WINDOWLOG_MAX=%u; not supported \\n\",",
          "new_line_content": "        unsigned const windowLog = FIO_highbit64(windowSize) + ((windowSize & (windowSize - 1)) != 0);",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "fread",
          "new_api": "strlen",
          "old_text": "fread(startPosition, 1, toRead, finput)",
          "new_text": "strlen(srcFileName)",
          "old_line_content": "            ress->srcBufferLoaded += fread(startPosition, 1, toRead, finput);",
          "new_line_content": "    {   size_t const srcFileLength = strlen(srcFileName);",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "DISPLAYLEVEL",
          "new_api": "fread",
          "old_text": "DISPLAYLEVEL(1, \"%s : Decoding error (36) : %s \\n\",\n                            srcFileName, ZSTD_getErrorName(readSizeHint))",
          "new_text": "fread(startPosition, 1, toRead, finput)",
          "old_line_content": "            DISPLAYLEVEL(1, \"%s : Decoding error (36) : %s \\n\",",
          "new_line_content": "            ress->srcBufferLoaded += fread(startPosition, 1, toRead, finput);",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": "FIO_fwriteSparse",
          "new_api": "ZSTD_decompressStream",
          "old_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, outBuff.pos, prefs, storedSkips)",
          "new_text": "ZSTD_decompressStream(ress->dctx, &outBuff, &inBuff)",
          "old_line_content": "        storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, outBuff.pos, prefs, storedSkips);",
          "new_line_content": "        size_t const readSizeHint = ZSTD_decompressStream(ress->dctx, &outBuff, &inBuff);",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": "strlen",
          "new_api": "ZSTD_isError",
          "old_text": "strlen(srcFileName)",
          "new_text": "ZSTD_isError(readSizeHint)",
          "old_line_content": "            size_t srcFileNameSize = strlen(srcFileName);",
          "new_line_content": "        if (ZSTD_isError(readSizeHint)) {",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "DISPLAYUPDATE",
          "new_api": "FIO_zstdErrorHelp",
          "old_text": "DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: ...%s : %.*f%s...    \",\n                                fCtx->currFileIdx+1, fCtx->nbFilesTotal, truncatedSrcFileName, hrs.precision, hrs.value, hrs.suffix)",
          "new_text": "FIO_zstdErrorHelp(prefs, ress, readSizeHint, srcFileName)",
          "old_line_content": "                DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: ...%s : %.*f%s...    \",",
          "new_line_content": "            FIO_zstdErrorHelp(prefs, ress, readSizeHint, srcFileName);",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "fread",
          "new_api": "memmove",
          "old_text": "fread(startPosition, 1, toRead, finput)",
          "new_text": "memmove(ress->srcBuffer, (char*)ress->srcBuffer + inBuff.pos, inBuff.size - inBuff.pos)",
          "old_line_content": "                size_t const readSize = fread(startPosition, 1, toRead, finput);",
          "new_line_content": "            memmove(ress->srcBuffer, (char*)ress->srcBuffer + inBuff.pos, inBuff.size - inBuff.pos);",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": "fread",
          "new_api": "inflateInit2",
          "old_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile)",
          "new_text": "inflateInit2(&strm, 15 /* maxWindowLogSize */ + 16 /* gzip only */)",
          "old_line_content": "            ress->srcBufferLoaded = fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile);",
          "new_line_content": "    if (inflateInit2(&strm, 15 /* maxWindowLogSize */ + 16 /* gzip only */) != Z_OK)",
          "content_same": false
        },
        {
          "line": 2342,
          "old_api": "DISPLAYLEVEL",
          "new_api": "fread",
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: inflate error %d \\n\", srcFileName, ret)",
          "new_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile)",
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: inflate error %d \\n\", srcFileName, ret);",
          "new_line_content": "            ress->srcBufferLoaded = fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile);",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "FIO_fwriteSparse",
          "new_api": "inflate",
          "old_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips)",
          "new_text": "inflate(&strm, flush)",
          "old_line_content": "                storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips);",
          "new_line_content": "        ret = inflate(&strm, flush);",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": "lzma_end",
          "new_api": "FIO_fwriteSparse",
          "old_text": "lzma_end(&strm)",
          "new_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips)",
          "old_line_content": "    lzma_end(&strm);",
          "new_line_content": "                storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips);",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": "DISPLAYLEVEL",
          "new_api": "LZ4F_isError",
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: lz4 header error : %s \\n\",\n                            srcFileName, LZ4F_getErrorName(nextToLoad))",
          "new_text": "LZ4F_isError(errorCode)",
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: lz4 header error : %s \\n\",",
          "new_line_content": "    if (LZ4F_isError(errorCode)) {",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "LZ4F_getErrorName",
          "new_api": "DISPLAYLEVEL",
          "old_text": "LZ4F_getErrorName(nextToLoad)",
          "new_text": "DISPLAYLEVEL(1, \"zstd: failed to create lz4 decompression context \\n\")",
          "old_line_content": "                            srcFileName, LZ4F_getErrorName(nextToLoad));",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: failed to create lz4 decompression context \\n\");",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": "FIO_fwriteSparse",
          "new_api": "LZ4F_decompress",
          "old_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decodedBytes, prefs, storedSkips)",
          "new_text": "LZ4F_decompress(dCtx, ress->dstBuffer, &decodedBytes, (char*)(ress->srcBuffer)+pos, &remaining, NULL)",
          "old_line_content": "                storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decodedBytes, prefs, storedSkips);",
          "new_line_content": "            nextToLoad = LZ4F_decompress(dCtx, ress->dstBuffer, &decodedBytes, (char*)(ress->srcBuffer)+pos, &remaining, NULL);",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": "DISPLAYLEVEL",
          "old_text": "UTIL_makeHumanReadableSize(filesize)",
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: lz4 decompression error : %s \\n\",\n                                srcFileName, LZ4F_getErrorName(nextToLoad))",
          "old_line_content": "                hrs = UTIL_makeHumanReadableSize(filesize);",
          "new_line_content": "                DISPLAYLEVEL(1, \"zstd: %s: lz4 decompression error : %s \\n\",",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": "DISPLAYUPDATE",
          "new_api": "LZ4F_getErrorName",
          "old_text": "DISPLAYUPDATE(2, \"\\rDecompressed : %.*f%s  \", hrs.precision, hrs.value, hrs.suffix)",
          "new_text": "LZ4F_getErrorName(nextToLoad)",
          "old_line_content": "                DISPLAYUPDATE(2, \"\\rDecompressed : %.*f%s  \", hrs.precision, hrs.value, hrs.suffix);",
          "new_line_content": "                                srcFileName, LZ4F_getErrorName(nextToLoad));",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": "DISPLAYLEVEL",
          "new_api": "FIO_fwriteSparse",
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: read error \\n\", srcFileName)",
          "new_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decodedBytes, prefs, storedSkips)",
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: read error \\n\", srcFileName);",
          "new_line_content": "                storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decodedBytes, prefs, storedSkips);",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": "FIO_fwriteSparseEnd",
          "new_api": "DISPLAYLEVEL",
          "old_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: read error \\n\", srcFileName)",
          "old_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: read error \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": "DISPLAYLEVEL",
          "new_api": "fread",
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: unknown header \\n\", srcFileName)",
          "new_text": "fread((char*)ress.srcBuffer + ress.srcBufferLoaded,\n                                          (size_t)1, toRead - ress.srcBufferLoaded, srcFile)",
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: unknown header \\n\", srcFileName);",
          "new_line_content": "            ress.srcBufferLoaded += fread((char*)ress.srcBuffer + ress.srcBufferLoaded,",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": "FIO_decompressZstdFrame",
          "new_api": "DISPLAYLEVEL",
          "old_text": "FIO_decompressZstdFrame(fCtx, &ress, srcFile, prefs, srcFileName, filesize)",
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: unexpected end of file \\n\", srcFileName)",
          "old_line_content": "            unsigned long long const frameSize = FIO_decompressZstdFrame(fCtx, &ress, srcFile, prefs, srcFileName, filesize);",
          "new_line_content": "                DISPLAYLEVEL(1, \"zstd: %s: unexpected end of file \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "DISPLAYLEVEL",
          "new_api": "FIO_passThrough",
          "old_text": "DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\")",
          "new_text": "FIO_passThrough(prefs,\n                                   ress.dstFile, srcFile,\n                                   ress.srcBuffer, ress.srcBufferSize,\n                                   ress.srcBufferLoaded)",
          "old_line_content": "    DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\");",
          "new_line_content": "            return FIO_passThrough(prefs,",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": "FIO_removeFile",
          "new_api": "strerror",
          "old_text": "FIO_removeFile(dstFileName)",
          "new_text": "strerror(errno)",
          "old_line_content": "            FIO_removeFile(dstFileName);  /* remove decompression artefact; note: don't do anything special if remove() fails */",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", dstFileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": "fclose",
          "new_api": "DISPLAYLEVEL",
          "old_text": "fclose(srcFile)",
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName)",
          "old_line_content": "    if (fclose(srcFile)) {",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": "FIO_removeFile",
          "new_api": "fclose",
          "old_text": "FIO_removeFile(srcFileName)",
          "new_text": "fclose(srcFile)",
          "old_line_content": "        if (FIO_removeFile(srcFileName)) {",
          "new_line_content": "    if (fclose(srcFile)) {",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": "EXM_THROW",
          "new_api": "FIO_createFilename_fromOutDir",
          "old_text": "EXM_THROW(74, \"%s : not enough memory for dstFileName\",\n                      strerror(errno))",
          "new_text": "FIO_createFilename_fromOutDir(srcFileName, outDirName, 0)",
          "old_line_content": "            EXM_THROW(74, \"%s : not enough memory for dstFileName\",",
          "new_line_content": "        outDirFilename = FIO_createFilename_fromOutDir(srcFileName, outDirName, 0);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": "strerror",
          "new_api": "strlen",
          "old_text": "strerror(errno)",
          "new_text": "strlen(outDirFilename)",
          "old_line_content": "                      strerror(errno));",
          "new_line_content": "        sfnSize = strlen(outDirFilename);",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": "free",
          "new_api": "malloc",
          "old_text": "free(outDirFilename)",
          "new_text": "malloc(dfnbCapacity)",
          "old_line_content": "        free(outDirFilename);",
          "new_line_content": "        dstFileNameBuffer = (char*)malloc(dfnbCapacity);",
          "content_same": false
        },
        {
          "line": 2846,
          "old_api": "memcpy",
          "new_api": "EXM_THROW",
          "old_text": "memcpy(dstFileNameBuffer, srcFileName, dstFileNameEndPos)",
          "new_text": "EXM_THROW(74, \"%s : not enough memory for dstFileName\",\n                      strerror(errno))",
          "old_line_content": "        memcpy(dstFileNameBuffer, srcFileName, dstFileNameEndPos);",
          "new_line_content": "            EXM_THROW(74, \"%s : not enough memory for dstFileName\",",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": "strcpy",
          "new_api": "assert",
          "old_text": "strcpy(dstFileNameBuffer + dstFileNameEndPos, dstSuffix)",
          "new_text": "assert(dstFileNameBuffer != NULL)",
          "old_line_content": "    strcpy(dstFileNameBuffer + dstFileNameEndPos, dstSuffix);",
          "new_line_content": "    assert(dstFileNameBuffer != NULL);",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "UTIL_createMirroredDestDirName",
          "new_api": "fclose",
          "old_text": "UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName)",
          "new_text": "fclose(ress.dstFile)",
          "old_line_content": "                char* validMirroredDirName = UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName);",
          "new_line_content": "        if ((!prefs->testMode) && (fclose(ress.dstFile)))",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "FIO_determineDstName",
          "new_api": "strerror",
          "old_text": "FIO_determineDstName(srcFileName, validMirroredDirName)",
          "new_text": "strerror(errno)",
          "old_line_content": "                    dstFileName = FIO_determineDstName(srcFileName, validMirroredDirName);",
          "new_line_content": "                        strerror(errno));",
          "content_same": false
        },
        {
          "line": 2899,
          "old_api": "DISPLAYLEVEL",
          "new_api": "UTIL_mirrorSourceFilesDirectories",
          "old_text": "DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot decompress '%s' into '%s'\\n\", srcFileName, outMirroredRootDirName)",
          "new_text": "UTIL_mirrorSourceFilesDirectories(srcNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName)",
          "old_line_content": "                    DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot decompress '%s' into '%s'\\n\", srcFileName, outMirroredRootDirName);",
          "new_line_content": "            UTIL_mirrorSourceFilesDirectories(srcNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName);",
          "content_same": false
        },
        {
          "line": 2905,
          "old_api": "FIO_decompressSrcFile",
          "new_api": "UTIL_createMirroredDestDirName",
          "old_text": "FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName)",
          "new_text": "UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName)",
          "old_line_content": "            status = FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName);",
          "new_line_content": "                char* validMirroredDirName = UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName);",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": "FIO_checkFilenameCollisions",
          "new_api": "DISPLAYLEVEL",
          "old_text": "FIO_checkFilenameCollisions(srcNamesTable , (unsigned)fCtx->nbFilesTotal)",
          "new_text": "DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot decompress '%s' into '%s'\\n\", srcFileName, outMirroredRootDirName)",
          "old_line_content": "            FIO_checkFilenameCollisions(srcNamesTable , (unsigned)fCtx->nbFilesTotal);",
          "new_line_content": "                    DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot decompress '%s' into '%s'\\n\", srcFileName, outMirroredRootDirName);",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": "FIO_freeDResources",
          "new_api": "FIO_decompressSrcFile",
          "old_text": "FIO_freeDResources(ress)",
          "new_text": "FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName)",
          "old_line_content": "    FIO_freeDResources(ress);",
          "new_line_content": "            status = FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName);",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": "MEM_readLE32",
          "new_api": "LONG_TELL",
          "old_text": "MEM_readLE32(headerBuffer)",
          "new_text": "LONG_TELL(srcFile)",
          "old_line_content": "        {   U32 const magicNumber = MEM_readLE32(headerBuffer);",
          "new_line_content": "                unsigned long long file_position = (unsigned long long) LONG_TELL(srcFile);",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": "ZSTD_getFrameHeader",
          "new_api": "MEM_readLE32",
          "old_text": "ZSTD_getFrameHeader(&header, headerBuffer, numBytesRead)",
          "new_text": "MEM_readLE32(headerBuffer)",
          "old_line_content": "                ERROR_IF(ZSTD_getFrameHeader(&header, headerBuffer, numBytesRead) != 0,",
          "new_line_content": "        {   U32 const magicNumber = MEM_readLE32(headerBuffer);",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": "ZSTD_frameHeaderSize",
          "new_api": "ZSTD_getFrameContentSize",
          "old_text": "ZSTD_frameHeaderSize(headerBuffer, numBytesRead)",
          "new_text": "ZSTD_getFrameContentSize(headerBuffer, numBytesRead)",
          "old_line_content": "                {   size_t const headerSize = ZSTD_frameHeaderSize(headerBuffer, numBytesRead);",
          "new_line_content": "                U64 const frameContentSize = ZSTD_getFrameContentSize(headerBuffer, numBytesRead);",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": "MEM_readLE24",
          "new_api": "ZSTD_isError",
          "old_text": "MEM_readLE24(blockHeaderBuffer)",
          "new_text": "ZSTD_isError(headerSize)",
          "old_line_content": "                        {   U32 const blockHeader = MEM_readLE24(blockHeaderBuffer);",
          "new_line_content": "                    ERROR_IF(ZSTD_isError(headerSize), info_frame_error, \"Error: could not determine frame header size\");",
          "content_same": false
        },
        {
          "line": 3076,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": "UTIL_isRegularFile",
          "old_text": "UTIL_makeHumanReadableSize(info->decompressedSize)",
          "new_text": "UTIL_isRegularFile(srcFileName)",
          "old_line_content": "    UTIL_HumanReadableSize_t const decompressed_hrs = UTIL_makeHumanReadableSize(info->decompressedSize);",
          "new_line_content": "    ERROR_IF(!UTIL_isRegularFile(srcFileName),",
          "content_same": false
        },
        {
          "line": 3150,
          "old_api": "DISPLAYOUT",
          "new_api": "DISPLAYLEVEL",
          "old_text": "DISPLAYOUT(\"File \\\"%s\\\" is truncated \\n\", inFileName)",
          "new_text": "DISPLAYLEVEL(1, \"Error while parsing \\\"%s\\\" \\n\", inFileName)",
          "old_line_content": "                DISPLAYOUT(\"File \\\"%s\\\" is truncated \\n\", inFileName);",
          "new_line_content": "                DISPLAYLEVEL(1, \"Error while parsing \\\"%s\\\" \\n\", inFileName);",
          "content_same": false
        },
        {
          "line": 3158,
          "old_api": "displayInfo",
          "new_api": "DISPLAYOUT",
          "old_text": "displayInfo(inFileName, &info, displayLevel)",
          "new_text": "DISPLAYOUT(\"\\n\")",
          "old_line_content": "        displayInfo(inFileName, &info, displayLevel);",
          "new_line_content": "                if (displayLevel > 2) DISPLAYOUT(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3170,
          "old_api": "strcmp (filenameTable[u], stdinmark)",
          "new_api": "FIO_addFInfo",
          "old_text": "strcmp (filenameTable[u], stdinmark)",
          "new_text": "FIO_addFInfo(*total, info)",
          "old_line_content": "            ERROR_IF(!strcmp (filenameTable[u], stdinmark),",
          "new_line_content": "        *total = FIO_addFInfo(*total, info);",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": "memset",
          "new_api": "DISPLAYLEVEL",
          "old_text": "memset(&total, 0, sizeof(total))",
          "new_text": "DISPLAYLEVEL(1, \"zstd: --list does not support reading from standard input \\n\")",
          "old_line_content": "        memset(&total, 0, sizeof(total));",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: --list does not support reading from standard input \\n\");",
          "content_same": false
        },
        {
          "line": 3207,
          "old_api": "DISPLAYOUT",
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %u files\\n\",\n                        total.numSkippableFrames + total.numActualFrames,\n                        total.numSkippableFrames,\n                        compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                        decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,\n                        ratio, checkString, (unsigned)total.nbFiles)",
          "new_text": "UTIL_makeHumanReadableSize(total.decompressedSize)",
          "old_line_content": "                DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %u files\\n\",",
          "new_line_content": "            UTIL_HumanReadableSize_t const decompressed_hrs = UTIL_makeHumanReadableSize(total.decompressedSize);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(dictBuffer)",
          "old_line_content": "}",
          "new_line_content": "        free(dictBuffer);",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": null,
          "new_api": "ZSTD_freeDStream",
          "old_text": null,
          "new_text": "ZSTD_freeDStream(ress.dctx)",
          "old_line_content": "                 const void* buffer, size_t bufferSize,",
          "new_line_content": "    CHECK( ZSTD_freeDStream(ress.dctx) );",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ress.srcBuffer)",
          "old_line_content": "                 const FIO_prefs_t* const prefs,",
          "new_line_content": "    free(ress.srcBuffer);",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ress.dstBuffer)",
          "old_line_content": "                 unsigned storedSkips)",
          "new_line_content": "    free(ress.dstBuffer);",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(buffer, 1, bufferSize, file)",
          "old_line_content": "        storedSkips -= 1 GB;",
          "new_line_content": "        size_t const sizeCheck = fwrite(buffer, 1, bufferSize, file);",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(70, \"Write error : cannot write decoded block : %s\",\n                            strerror(errno))",
          "old_line_content": "",
          "new_line_content": "            EXM_THROW(70, \"Write error : cannot write decoded block : %s\",",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    while (ptrT < bufferTEnd) {",
          "new_line_content": "                            strerror(errno));",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "LONG_SEEK",
          "old_text": null,
          "new_text": "LONG_SEEK(file, 1 GB, SEEK_CUR)",
          "old_line_content": "        bufferSizeT -= seg0SizeT;",
          "new_line_content": "        if (LONG_SEEK(file, 1 GB, SEEK_CUR) != 0)",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(91, \"1 GB skip error (sparse file support)\")",
          "old_line_content": "",
          "new_line_content": "            EXM_THROW(91, \"1 GB skip error (sparse file support)\");",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": null,
          "new_api": "LONG_SEEK",
          "old_text": null,
          "new_text": "LONG_SEEK(file, storedSkips, SEEK_CUR)",
          "old_line_content": "    {   static size_t const maskT = sizeof(size_t)-1;",
          "new_line_content": "            if (LONG_SEEK(file, storedSkips, SEEK_CUR) != 0)",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(92, \"Sparse skip error ; try --no-sparse\")",
          "old_line_content": "        if (bufferSize & maskT) {",
          "new_line_content": "                EXM_THROW(92, \"Sparse skip error ; try --no-sparse\");",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(ptrT + nb0T, sizeof(size_t), nbNon0ST, file)",
          "old_line_content": "            const char* restPtr = restStart;",
          "new_line_content": "            if (fwrite(ptrT + nb0T, sizeof(size_t), nbNon0ST, file) != nbNon0ST)",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(93, \"Write error : cannot write decoded block : %s\",\n                            strerror(errno))",
          "old_line_content": "            const char* const restEnd = (const char*)buffer + bufferSize;",
          "new_line_content": "                EXM_THROW(93, \"Write error : cannot write decoded block : %s\",",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(restEnd > restStart && restEnd < restStart + sizeof(size_t))",
          "old_line_content": "                storedSkips = 0;",
          "new_line_content": "            assert(restEnd > restStart && restEnd < restStart + sizeof(size_t));",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": null,
          "new_api": "LONG_SEEK",
          "old_text": null,
          "new_text": "LONG_SEEK(file, storedSkips, SEEK_CUR)",
          "old_line_content": "static void",
          "new_line_content": "                if (LONG_SEEK(file, storedSkips, SEEK_CUR) != 0)",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(92, \"Sparse skip error ; try --no-sparse\")",
          "old_line_content": "FIO_fwriteSparseEnd(const FIO_prefs_t* const prefs, FILE* file, unsigned storedSkips)",
          "new_line_content": "                    EXM_THROW(92, \"Sparse skip error ; try --no-sparse\");",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(restPtr, 1, restSize, file)",
          "old_line_content": "{",
          "new_line_content": "                if (fwrite(restPtr, 1, restSize, file) != restSize)",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    if (storedSkips>0) {",
          "new_line_content": "                        strerror(errno));",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(storedSkips == 0)",
          "old_line_content": "    }   }",
          "new_line_content": "    if (prefs->testMode) assert(storedSkips == 0);",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(prefs->sparseFileSupport > 0)",
          "old_line_content": "",
          "new_line_content": "        assert(prefs->sparseFileSupport > 0);  /* storedSkips>0 implies sparse support is enabled */",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "LONG_SEEK",
          "old_text": null,
          "new_text": "LONG_SEEK(file, storedSkips-1, SEEK_CUR)",
          "old_line_content": "/** FIO_passThrough() : just copy input into output, for compatibility with gzip -df mode",
          "new_line_content": "        if (LONG_SEEK(file, storedSkips-1, SEEK_CUR) != 0)",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(69, \"Final skip error (sparse file support)\")",
          "old_line_content": "    @return : 0 (no error) */",
          "new_line_content": "            EXM_THROW(69, \"Final skip error (sparse file support)\");",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(lastZeroByte, 1, 1, file)",
          "old_line_content": "                           size_t alreadyLoaded)",
          "new_line_content": "            if (fwrite(lastZeroByte, 1, 1, file) != 1)",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "{",
          "new_line_content": "                EXM_THROW(69, \"Write error : cannot write last zero : %s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(64 KB, bufferSize)",
          "old_line_content": "    do {",
          "new_line_content": "    size_t const blockSize = MIN(64 KB, bufferSize);",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    }",
          "new_line_content": "            DISPLAYLEVEL(1, \"Pass-through write error : %s\\n\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(buffer, 1, blockSize, finput)",
          "old_line_content": "}",
          "new_line_content": "        readFromInput = fread(buffer, 1, blockSize, finput);",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "FIO_fwriteSparse",
          "old_text": null,
          "new_text": "FIO_fwriteSparse(foutput, buffer, readFromInput, prefs, storedSkips)",
          "old_line_content": "",
          "new_line_content": "        storedSkips = FIO_fwriteSparse(foutput, buffer, readFromInput, prefs, storedSkips);",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": null,
          "new_api": "ferror",
          "old_text": null,
          "new_text": "ferror(finput)",
          "old_line_content": " * detailed error message when requested window size is too large */",
          "new_line_content": "    if (ferror(finput)) {",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "static void",
          "new_line_content": "        DISPLAYLEVEL(1, \"Pass-through read error : %s\\n\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": null,
          "new_api": "feof",
          "old_text": null,
          "new_text": "feof(finput)",
          "old_line_content": "                  size_t err, const char* srcFileName)",
          "new_line_content": "    assert(feof(finput));",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "FIO_fwriteSparseEnd",
          "old_text": null,
          "new_text": "FIO_fwriteSparseEnd(prefs, foutput, storedSkips)",
          "old_line_content": "    ZSTD_frameHeader header;",
          "new_line_content": "    FIO_fwriteSparseEnd(prefs, foutput, storedSkips);",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": null,
          "new_api": "ZSTD_getErrorCode",
          "old_text": null,
          "new_text": "ZSTD_getErrorCode(err)",
          "old_line_content": "        if (windowLog <= ZSTD_WINDOWLOG_MAX) {",
          "new_line_content": "    if (ZSTD_getErrorCode(err) != ZSTD_error_frameParameter_windowTooLarge)",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": null,
          "new_api": "ZSTD_getFrameHeader",
          "old_text": null,
          "new_text": "ZSTD_getFrameHeader(&header, ress->srcBuffer, ress->srcBufferLoaded)",
          "old_line_content": "                            srcFileName, windowLog, windowMB);",
          "new_line_content": "    err = ZSTD_getFrameHeader(&header, ress->srcBuffer, ress->srcBufferLoaded);",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(prefs->memLimit > 0)",
          "old_line_content": "                    srcFileName, ZSTD_WINDOWLOG_MAX);",
          "new_line_content": "        assert(prefs->memLimit > 0);",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"%s : Window size larger than maximum : %llu > %u \\n\",\n                        srcFileName, windowSize, prefs->memLimit)",
          "old_line_content": "}",
          "new_line_content": "        DISPLAYLEVEL(1, \"%s : Window size larger than maximum : %llu > %u \\n\",",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "U64)(1ULL << 52)",
          "old_text": null,
          "new_text": "U64)(1ULL << 52)",
          "old_line_content": " */",
          "new_line_content": "            assert(windowSize < (U64)(1ULL << 52));   /* ensure now overflow for windowMB */",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"%s : Use --long=%u or --memory=%uMB \\n\",\n                            srcFileName, windowLog, windowMB)",
          "old_line_content": "#define FIO_ERROR_FRAME_DECODING   ((unsigned long long)(-2))",
          "new_line_content": "            DISPLAYLEVEL(1, \"%s : Use --long=%u or --memory=%uMB \\n\",",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"%s : Window log larger than ZSTD_WINDOWLOG_MAX=%u; not supported \\n\",\n                    srcFileName, ZSTD_WINDOWLOG_MAX)",
          "old_line_content": "                        const char* srcFileName,",
          "new_line_content": "    DISPLAYLEVEL(1, \"%s : Window log larger than ZSTD_WINDOWLOG_MAX=%u; not supported \\n\",",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": null,
          "new_api": "ZSTD_DCtx_reset",
          "old_text": null,
          "new_text": "ZSTD_DCtx_reset(ress->dctx, ZSTD_reset_session_only)",
          "old_line_content": "    while (1) {",
          "new_line_content": "    ZSTD_DCtx_reset(ress->dctx, ZSTD_reset_session_only);",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(alreadyDecoded+frameSize)",
          "old_line_content": "        if (fCtx->nbFilesTotal > 1) {",
          "new_line_content": "        UTIL_HumanReadableSize_t const hrs = UTIL_makeHumanReadableSize(alreadyDecoded+frameSize);",
          "content_same": false
        },
        {
          "line": 2262,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"%s : Decoding error (36) : %s \\n\",\n                            srcFileName, ZSTD_getErrorName(readSizeHint))",
          "old_line_content": "            if (srcFileNameSize > 18) {",
          "new_line_content": "            DISPLAYLEVEL(1, \"%s : Decoding error (36) : %s \\n\",",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": null,
          "new_api": "ZSTD_getErrorName",
          "old_text": null,
          "new_text": "ZSTD_getErrorName(readSizeHint)",
          "old_line_content": "                const char* truncatedSrcFileName = srcFileName + srcFileNameSize - 15;",
          "new_line_content": "                            srcFileName, ZSTD_getErrorName(readSizeHint));",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": null,
          "new_api": "FIO_fwriteSparse",
          "old_text": null,
          "new_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, outBuff.pos, prefs, storedSkips)",
          "old_line_content": "            }",
          "new_line_content": "        storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, outBuff.pos, prefs, storedSkips);",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(srcFileName)",
          "old_line_content": "                            srcFileName, hrs.precision, hrs.value, hrs.suffix);",
          "new_line_content": "            size_t srcFileNameSize = strlen(srcFileName);",
          "content_same": false
        },
        {
          "line": 2275,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: ...%s : %.*f%s...    \",\n                                fCtx->currFileIdx+1, fCtx->nbFilesTotal, truncatedSrcFileName, hrs.precision, hrs.value, hrs.suffix)",
          "old_line_content": "        if (inBuff.pos > 0) {",
          "new_line_content": "                DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: ...%s : %.*f%s...    \",",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: %s : %.*f%s...    \",\n                            fCtx->currFileIdx+1, fCtx->nbFilesTotal, srcFileName, hrs.precision, hrs.value, hrs.suffix)",
          "old_line_content": "        }",
          "new_line_content": "                DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: %s : %.*f%s...    \",",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(displayLevel, \"\\r%-20.20s : %.*f%s...     \",\n                            srcFileName, hrs.precision, hrs.value, hrs.suffix)",
          "old_line_content": "        /* Fill input buffer */",
          "new_line_content": "            DISPLAYUPDATE(displayLevel, \"\\r%-20.20s : %.*f%s...     \",",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(readSizeHint, ress->srcBufferSize)",
          "old_line_content": "    }   }   }",
          "new_line_content": "        {   size_t const toDecode = MIN(readSizeHint, ress->srcBufferSize);  /* support large skippable frames */",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(startPosition, 1, toRead, finput)",
          "old_line_content": "    return frameSize;",
          "new_line_content": "                size_t const readSize = fread(startPosition, 1, toRead, finput);",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"%s : Read error (39) : premature end \\n\",\n                                    srcFileName)",
          "old_line_content": "",
          "new_line_content": "                    DISPLAYLEVEL(1, \"%s : Read error (39) : premature end \\n\",",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": null,
          "new_api": "FIO_fwriteSparseEnd",
          "old_text": null,
          "new_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "old_line_content": "{",
          "new_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: premature gz end \\n\", srcFileName)",
          "old_line_content": "                strm.next_out = (Bytef*)ress->dstBuffer;",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: premature gz end \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: inflate error %d \\n\", srcFileName, ret)",
          "old_line_content": "        if (ret == Z_STREAM_END) break;",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: inflate error %d \\n\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": null,
          "new_api": "FIO_fwriteSparse",
          "old_text": null,
          "new_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips)",
          "old_line_content": "    ress->srcBufferLoaded = strm.avail_in;",
          "new_line_content": "                storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips);",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(ress->srcBuffer, strm.next_in, strm.avail_in)",
          "old_line_content": "",
          "new_line_content": "        memmove(ress->srcBuffer, strm.next_in, strm.avail_in);",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": null,
          "new_api": "inflateEnd",
          "old_text": null,
          "new_text": "inflateEnd(&strm)",
          "old_line_content": "#ifdef ZSTD_LZMADECOMPRESS",
          "new_line_content": "    if ( (inflateEnd(&strm) != Z_OK)  /* release resources ; error detected */",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: inflateEnd error \\n\", srcFileName)",
          "old_line_content": "FIO_decompressLzmaFrame(dRess_t* ress, FILE* srcFile,",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: inflateEnd error \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": null,
          "new_api": "FIO_fwriteSparseEnd",
          "old_text": null,
          "new_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "old_line_content": "{",
          "new_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "lzma_alone_decoder",
          "old_text": null,
          "new_text": "lzma_alone_decoder(&strm, UINT64_MAX)",
          "old_line_content": "",
          "new_line_content": "        initRet = lzma_alone_decoder(&strm, UINT64_MAX); /* LZMA */",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "lzma_stream_decoder",
          "old_text": null,
          "new_text": "lzma_stream_decoder(&strm, UINT64_MAX, 0)",
          "old_line_content": "    strm.avail_out = ress->dstBufferSize;",
          "new_line_content": "        initRet = lzma_stream_decoder(&strm, UINT64_MAX, 0); /* XZ */",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: %s error %d \\n\",\n                        plain_lzma ? \"lzma_alone_decoder\" : \"lzma_stream_decoder\",\n                        srcFileName, initRet)",
          "old_line_content": "    for ( ; ; ) {",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: %s error %d \\n\",",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile)",
          "old_line_content": "        if (ret != LZMA_OK && ret != LZMA_STREAM_END) {",
          "new_line_content": "            ress->srcBufferLoaded = fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile);",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "lzma_code",
          "old_text": null,
          "new_text": "lzma_code(&strm, action)",
          "old_line_content": "        {   size_t const decompBytes = ress->dstBufferSize - strm.avail_out;",
          "new_line_content": "        ret = lzma_code(&strm, action);",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: premature lzma end \\n\", srcFileName)",
          "old_line_content": "                outFileSize += decompBytes;",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: premature lzma end \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: lzma_code decoding error %d \\n\",\n                            srcFileName, ret)",
          "old_line_content": "        if (ret == LZMA_STREAM_END) break;",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: lzma_code decoding error %d \\n\",",
          "content_same": false
        },
        {
          "line": 2444,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(ress->srcBuffer, strm.next_in, strm.avail_in)",
          "old_line_content": "                       const FIO_prefs_t* const prefs,",
          "new_line_content": "        memmove(ress->srcBuffer, strm.next_in, strm.avail_in);",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": null,
          "new_api": "lzma_end",
          "old_text": null,
          "new_text": "lzma_end(&strm)",
          "old_line_content": "{",
          "new_line_content": "    lzma_end(&strm);",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": null,
          "new_api": "FIO_fwriteSparseEnd",
          "old_text": null,
          "new_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "old_line_content": "    unsigned long long filesize = 0;",
          "new_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "LZ4F_createDecompressionContext",
          "old_text": null,
          "new_text": "LZ4F_createDecompressionContext(&dCtx, LZ4F_VERSION)",
          "old_line_content": "        size_t outSize= 0;",
          "new_line_content": "    LZ4F_errorCode_t const errorCode = LZ4F_createDecompressionContext(&dCtx, LZ4F_VERSION);",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": null,
          "new_api": "MEM_writeLE32",
          "old_text": null,
          "new_text": "MEM_writeLE32(ress->srcBuffer, LZ4_MAGICNUMBER)",
          "old_line_content": "        size_t readSize;",
          "new_line_content": "        MEM_writeLE32(ress->srcBuffer, LZ4_MAGICNUMBER);",
          "content_same": false
        },
        {
          "line": 2474,
          "old_api": null,
          "new_api": "LZ4F_decompress",
          "old_text": null,
          "new_text": "LZ4F_decompress(dCtx, ress->dstBuffer, &outSize, ress->srcBuffer, &inSize, NULL)",
          "old_line_content": "        size_t pos = 0;",
          "new_line_content": "        nextToLoad = LZ4F_decompress(dCtx, ress->dstBuffer, &outSize, ress->srcBuffer, &inSize, NULL);",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": null,
          "new_api": "LZ4F_isError",
          "old_text": null,
          "new_text": "LZ4F_isError(nextToLoad)",
          "old_line_content": "        size_t decodedBytes = ress->dstBufferSize;",
          "new_line_content": "        if (LZ4F_isError(nextToLoad)) {",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: lz4 header error : %s \\n\",\n                            srcFileName, LZ4F_getErrorName(nextToLoad))",
          "old_line_content": "",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: lz4 header error : %s \\n\",",
          "content_same": false
        },
        {
          "line": 2477,
          "old_api": null,
          "new_api": "LZ4F_getErrorName",
          "old_text": null,
          "new_text": "LZ4F_getErrorName(nextToLoad)",
          "old_line_content": "        /* Read input */",
          "new_line_content": "                            srcFileName, LZ4F_getErrorName(nextToLoad));",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": null,
          "new_api": "LZ4F_freeDecompressionContext",
          "old_text": null,
          "new_text": "LZ4F_freeDecompressionContext(dCtx)",
          "old_line_content": "        if (nextToLoad > ress->srcBufferSize) nextToLoad = ress->srcBufferSize;",
          "new_line_content": "            LZ4F_freeDecompressionContext(dCtx);",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(ress->srcBuffer, 1, nextToLoad, srcFile)",
          "old_line_content": "                decodingError = 1; nextToLoad = 0; break;",
          "new_line_content": "        readSize = fread(ress->srcBuffer, 1, nextToLoad, srcFile);",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": null,
          "new_api": "LZ4F_isError",
          "old_text": null,
          "new_text": "LZ4F_isError(nextToLoad)",
          "old_line_content": "                filesize += decodedBytes;",
          "new_line_content": "            if (LZ4F_isError(nextToLoad)) {",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(filesize)",
          "old_line_content": "    }",
          "new_line_content": "                hrs = UTIL_makeHumanReadableSize(filesize);",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(2, \"\\rDecompressed : %.*f%s  \", hrs.precision, hrs.value, hrs.suffix)",
          "old_line_content": "",
          "new_line_content": "                DISPLAYUPDATE(2, \"\\rDecompressed : %.*f%s  \", hrs.precision, hrs.value, hrs.suffix);",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": null,
          "new_api": "ferror",
          "old_text": null,
          "new_text": "ferror(srcFile)",
          "old_line_content": "    ress->srcBufferLoaded = 0; /* LZ4F will reach exact frame boundary */",
          "new_line_content": "    if (ferror(srcFile)) {",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: unfinished lz4 stream \\n\", srcFileName)",
          "old_line_content": "",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: unfinished lz4 stream \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": null,
          "new_api": "LZ4F_freeDecompressionContext",
          "old_text": null,
          "new_text": "LZ4F_freeDecompressionContext(dCtx)",
          "old_line_content": " *  Find and decode frames inside srcFile",
          "new_line_content": "    LZ4F_freeDecompressionContext(dCtx);",
          "content_same": false
        },
        {
          "line": 2530,
          "old_api": null,
          "new_api": "FIO_fwriteSparseEnd",
          "old_text": null,
          "new_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "old_line_content": " * @return : 0 : OK",
          "new_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(srcFile != NULL)",
          "old_line_content": "            if (readSomething==0) {  /* srcFile is empty (which is invalid) */",
          "new_line_content": "    assert(srcFile != NULL);",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: unknown header \\n\", srcFileName)",
          "old_line_content": "            filesize += frameSize;",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: unknown header \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": null,
          "new_api": "ZSTD_isFrame",
          "old_text": null,
          "new_text": "ZSTD_isFrame(buf, ress.srcBufferLoaded)",
          "old_line_content": "            return 1;",
          "new_line_content": "        if (ZSTD_isFrame(buf, ress.srcBufferLoaded)) {",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": null,
          "new_api": "FIO_decompressZstdFrame",
          "old_text": null,
          "new_text": "FIO_decompressZstdFrame(fCtx, &ress, srcFile, prefs, srcFileName, filesize)",
          "old_line_content": "#endif",
          "new_line_content": "            unsigned long long const frameSize = FIO_decompressZstdFrame(fCtx, &ress, srcFile, prefs, srcFileName, filesize);",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": null,
          "new_api": "FIO_decompressGzFrame",
          "old_text": null,
          "new_text": "FIO_decompressGzFrame(&ress, srcFile, prefs, srcFileName)",
          "old_line_content": "            if (frameSize == FIO_ERROR_FRAME_DECODING) return 1;",
          "new_line_content": "            unsigned long long const frameSize = FIO_decompressGzFrame(&ress, srcFile, prefs, srcFileName);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: gzip file cannot be uncompressed (zstd compiled without HAVE_ZLIB) -- ignored \\n\", srcFileName)",
          "old_line_content": "            return 1;",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: gzip file cannot be uncompressed (zstd compiled without HAVE_ZLIB) -- ignored \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": null,
          "new_api": "FIO_decompressLzmaFrame",
          "old_text": null,
          "new_text": "FIO_decompressLzmaFrame(&ress, srcFile, prefs, srcFileName, buf[0] != 0xFD)",
          "old_line_content": "            filesize += frameSize;",
          "new_line_content": "            unsigned long long const frameSize = FIO_decompressLzmaFrame(&ress, srcFile, prefs, srcFileName, buf[0] != 0xFD);",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: xz/lzma file cannot be uncompressed (zstd compiled without HAVE_LZMA) -- ignored \\n\", srcFileName)",
          "old_line_content": "#endif",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: xz/lzma file cannot be uncompressed (zstd compiled without HAVE_LZMA) -- ignored \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": null,
          "new_api": "MEM_readLE32",
          "old_text": null,
          "new_text": "MEM_readLE32(buf)",
          "old_line_content": "                                   ress.dstFile, srcFile,",
          "new_line_content": "        } else if (MEM_readLE32(buf) == LZ4_MAGICNUMBER) {",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "FIO_decompressLz4Frame",
          "old_text": null,
          "new_text": "FIO_decompressLz4Frame(&ress, srcFile, prefs, srcFileName)",
          "old_line_content": "                                   ress.srcBufferLoaded);",
          "new_line_content": "            unsigned long long const frameSize = FIO_decompressLz4Frame(&ress, srcFile, prefs, srcFileName);",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s: lz4 file cannot be uncompressed (zstd compiled without HAVE_LZ4) -- ignored \\n\", srcFileName)",
          "old_line_content": "    }   }  /* for each frame */",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: lz4 file cannot be uncompressed (zstd compiled without HAVE_LZ4) -- ignored \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": null,
          "new_api": "strcmp (dstFileName, stdoutmark)",
          "old_text": null,
          "new_text": "strcmp (dstFileName, stdoutmark)",
          "old_line_content": "    fCtx->totalBytesOutput += (size_t)filesize;",
          "new_line_content": "        } else if ((prefs->overwrite) && !strcmp (dstFileName, stdoutmark)) {  /* pass-through mode */",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\")",
          "old_line_content": "/** FIO_decompressDstFile() :",
          "new_line_content": "    DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\");",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"\\r%-20s: %llu bytes \\n\", srcFileName, filesize)",
          "old_line_content": "              1 : operation aborted",
          "new_line_content": "        DISPLAYLEVEL(1, \"\\r%-20s: %llu bytes \\n\", srcFileName, filesize);",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(srcFileName, stdinmark)",
          "old_line_content": "",
          "new_line_content": "        if ( strcmp(srcFileName, stdinmark)   /* special case : don't transfer permissions from stdin */",
          "content_same": false
        },
        {
          "line": 2648,
          "old_api": null,
          "new_api": "UTIL_stat",
          "old_text": null,
          "new_text": "UTIL_stat(srcFileName, &statbuf)",
          "old_line_content": "        /* Must only be added after FIO_openDstFile() succeeds.",
          "new_line_content": "          && UTIL_stat(srcFileName, &statbuf)",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": null,
          "new_api": "UTIL_isRegularFileStat",
          "old_text": null,
          "new_text": "UTIL_isRegularFileStat(&statbuf)",
          "old_line_content": "         * Otherwise we may delete the destination file if it already exists,",
          "new_line_content": "          && UTIL_isRegularFileStat(&statbuf) ) {",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": null,
          "new_api": "FIO_openDstFile",
          "old_text": null,
          "new_text": "FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions)",
          "old_line_content": "",
          "new_line_content": "        ress.dstFile = FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions);",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": null,
          "new_api": "addHandler",
          "old_text": null,
          "new_text": "addHandler(dstFileName)",
          "old_line_content": "            result = 1;",
          "new_line_content": "        addHandler(dstFileName);",
          "content_same": false
        },
        {
          "line": 2666,
          "old_api": null,
          "new_api": "FIO_decompressFrames",
          "old_text": null,
          "new_text": "FIO_decompressFrames(fCtx, ress, srcFile, prefs, dstFileName, srcFileName)",
          "old_line_content": "        if (transferMTime) {",
          "new_line_content": "    result = FIO_decompressFrames(fCtx, ress, srcFile, prefs, dstFileName, srcFileName);",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": null,
          "new_api": "clearHandler",
          "old_text": null,
          "new_text": "clearHandler()",
          "old_line_content": "        if ( (result != 0)  /* operation failure */",
          "new_line_content": "        clearHandler();",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(dstFile)",
          "old_line_content": "          ) {",
          "new_line_content": "        if (fclose(dstFile)) {",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": null,
          "new_api": "UTIL_utime",
          "old_text": null,
          "new_text": "UTIL_utime(dstFileName, &statbuf)",
          "old_line_content": "}",
          "new_line_content": "            UTIL_utime(dstFileName, &statbuf);",
          "content_same": false
        },
        {
          "line": 2682,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(dstFileName, stdoutmark)",
          "old_line_content": "    Open `srcFileName`, transfer control to decompressDstFile()",
          "new_line_content": "          && strcmp(dstFileName, stdoutmark)  /* special case : don't remove() stdout */",
          "content_same": false
        },
        {
          "line": 2684,
          "old_api": null,
          "new_api": "FIO_removeFile",
          "old_text": null,
          "new_text": "FIO_removeFile(dstFileName)",
          "old_line_content": "              1 : error",
          "new_line_content": "            FIO_removeFile(dstFileName);  /* remove decompression artefact; note: don't do anything special if remove() fails */",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": null,
          "new_api": "UTIL_isDirectory",
          "old_text": null,
          "new_text": "UTIL_isDirectory(srcFileName)",
          "old_line_content": "    /* Close file */",
          "new_line_content": "    if (UTIL_isDirectory(srcFileName)) {",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": null,
          "new_api": "FIO_openSrcFile",
          "old_text": null,
          "new_text": "FIO_openSrcFile(prefs, srcFileName)",
          "old_line_content": "    if ( prefs->removeSrcFile  /* --rm */",
          "new_line_content": "    srcFile = FIO_openSrcFile(prefs, srcFileName);",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": null,
          "new_api": "FIO_decompressDstFile",
          "old_text": null,
          "new_text": "FIO_decompressDstFile(fCtx, prefs, ress, srcFile, dstFileName, srcFileName)",
          "old_line_content": "         * delete both the source and destination files.",
          "new_line_content": "    result = FIO_decompressDstFile(fCtx, prefs, ress, srcFile, dstFileName, srcFileName);",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "            /* failed to remove src file */",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", srcFileName, strerror(errno));  /* error should not happen */",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(srcFileName, stdinmark)",
          "old_line_content": "}",
          "new_line_content": "      && strcmp(srcFileName, stdinmark) ) /* not stdin */ {",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": null,
          "new_api": "clearHandler",
          "old_text": null,
          "new_text": "clearHandler()",
          "old_line_content": "int FIO_decompressFilename(FIO_ctx_t* const fCtx, FIO_prefs_t* const prefs,",
          "new_line_content": "        clearHandler();",
          "content_same": false
        },
        {
          "line": 2725,
          "old_api": null,
          "new_api": "FIO_removeFile",
          "old_text": null,
          "new_text": "FIO_removeFile(srcFileName)",
          "old_line_content": "                           const char* dstFileName, const char* srcFileName,",
          "new_line_content": "        if (FIO_removeFile(srcFileName)) {",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "{",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", srcFileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": null,
          "new_api": "FIO_createDResources",
          "old_text": null,
          "new_text": "FIO_createDResources(prefs, dictFileName)",
          "old_line_content": "#ifndef ZSTD_NODECOMPRESS",
          "new_line_content": "    dRess_t const ress = FIO_createDResources(prefs, dictFileName);",
          "content_same": false
        },
        {
          "line": 2741,
          "old_api": null,
          "new_api": "FIO_decompressSrcFile",
          "old_text": null,
          "new_text": "FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName)",
          "old_line_content": "#endif",
          "new_line_content": "    int const decodingError = FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName);",
          "content_same": false
        },
        {
          "line": 2743,
          "old_api": null,
          "new_api": "FIO_freeDResources",
          "old_text": null,
          "new_text": "FIO_freeDResources(ress)",
          "old_line_content": "    GZ_EXTENSION,",
          "new_line_content": "    FIO_freeDResources(ress);",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "setvbuf",
          "old_text": null,
          "new_text": "setvbuf(f, NULL, _IOFBF, 1 MB)",
          "old_line_content": " */",
          "new_line_content": "        if(setvbuf(f, NULL, _IOFBF, 1 MB))",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"Warning: setvbuf failed for %s\\n\", dstFileName)",
          "old_line_content": "static size_t FIO_createDictBuffer(void** bufferPtr, const char* fileName, FIO_prefs_t* const prefs)",
          "new_line_content": "            DISPLAYLEVEL(2, \"Warning: setvbuf failed for %s\\n\", dstFileName);",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(srcFileName)",
          "old_line_content": "    }",
          "new_line_content": "    size_t sfnSize = strlen(srcFileName);",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(srcFileName, '.')",
          "old_line_content": "    {",
          "new_line_content": "    const char* const srcSuffix = strrchr(srcFileName, '.');",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(4,\"Loading %s as dictionary \\n\", fileName)",
          "old_line_content": "",
          "new_line_content": "    DISPLAYLEVEL(4,\"Loading %s as dictionary \\n\", fileName);",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1,\n            \"zstd: %s: unknown suffix (%s expected). \"\n            \"Can't derive the output file name. \"\n            \"Specify it with -o dstFileName. Ignoring.\\n\",\n            srcFileName, suffixListStr)",
          "old_line_content": "        for (matchedSuffixPtr = suffixList; *matchedSuffixPtr != NULL; matchedSuffixPtr++) {",
          "new_line_content": "        DISPLAYLEVEL(1,",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    }",
          "new_line_content": "        EXM_THROW(31, \"Stat failed on dictionary file %s: %s\", fileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "UTIL_isRegularFileStat",
          "old_text": null,
          "new_text": "UTIL_isRegularFileStat(&statbuf)",
          "old_line_content": "    {",
          "new_line_content": "    if (!UTIL_isRegularFileStat(&statbuf)) {",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(32, \"Dictionary %s must be a regular file.\", fileName)",
          "old_line_content": "        size_t const dictSizeMax = prefs->patchFromMode ? prefs->memLimit : DICTSIZE_MAX;",
          "new_line_content": "        EXM_THROW(32, \"Dictionary %s must be a regular file.\", fileName);",
          "content_same": false
        },
        {
          "line": 2808,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(srcSuffix)",
          "old_line_content": "        if (sfnSize <= srcSuffixLen || *matchedSuffixPtr == NULL) {",
          "new_line_content": "    srcSuffixLen = strlen(srcSuffix);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(fileName, \"rb\")",
          "old_line_content": "                            fileName,  (unsigned)dictSizeMax);   /* avoid extreme cases */",
          "new_line_content": "    fileHandle = fopen(fileName, \"rb\");",
          "content_same": false
        },
        {
          "line": 2813,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(*matchedSuffixPtr, srcSuffix)",
          "old_line_content": "                srcFileName, suffixListStr);",
          "new_line_content": "            if (!strcmp(*matchedSuffixPtr, srcSuffix)) {",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": null,
          "new_api": "UTIL_getFileSizeStat",
          "old_text": null,
          "new_text": "UTIL_getFileSizeStat(&statbuf)",
          "old_line_content": "        if (readSize != fileSize) {",
          "new_line_content": "    fileSize = UTIL_getFileSizeStat(&statbuf);",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(34, \"Dictionary file %s is too large (> %u bytes)\",\n                            fileName,  (unsigned)dictSizeMax)",
          "old_line_content": "    }",
          "new_line_content": "            EXM_THROW(34, \"Dictionary file %s is too large (> %u bytes)\",",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1,\n                \"zstd: %s: unknown suffix (%s expected). \"\n                \"Can't derive the output file name. \"\n                \"Specify it with -o dstFileName. Ignoring.\\n\",\n                srcFileName, suffixListStr)",
          "old_line_content": "        }",
          "new_line_content": "            DISPLAYLEVEL(1,",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc((size_t)fileSize)",
          "old_line_content": "",
          "new_line_content": "    *bufferPtr = malloc((size_t)fileSize);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "",
          "new_line_content": "    if (*bufferPtr==NULL) EXM_THROW(34, \"%s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(*bufferPtr, 1, (size_t)fileSize, fileHandle)",
          "old_line_content": "",
          "new_line_content": "    {   size_t const readSize = fread(*bufferPtr, 1, (size_t)fileSize, fileHandle);",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(35, \"Error reading dictionary file %s : %s\",\n                    fileName, strerror(errno))",
          "old_line_content": " * Checks for and warns if there are any files that would have the same output path",
          "new_line_content": "            EXM_THROW(35, \"Error reading dictionary file %s : %s\",",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": " */",
          "new_line_content": "                    fileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(dstSuffix)",
          "old_line_content": "        /* allocate enough space to write dstFilename into it */",
          "new_line_content": "            dstSuffixLen = strlen(dstSuffix);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(fileHandle)",
          "old_line_content": "    unsigned u;",
          "new_line_content": "    fclose(fileHandle);",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(outDirFilename != NULL)",
          "old_line_content": "    }",
          "new_line_content": "        assert(outDirFilename != NULL);",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(dstFileNameBuffer)",
          "old_line_content": "    if (outDirFilename) {",
          "new_line_content": "        free(dstFileNameBuffer);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(sizeof(char*) * nbFiles)",
          "old_line_content": "            filenameTableSorted[u] = filename+1;",
          "new_line_content": "    filenameTableSorted = (const char**) malloc(sizeof(char*) * nbFiles);",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\"Unable to malloc new str array, not checking for name collisions\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        DISPLAY(\"Unable to malloc new str array, not checking for name collisions\\n\");",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    }",
          "new_line_content": "                      strerror(errno));",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dstFileNameBuffer, outDirFilename, dstFileNameEndPos)",
          "old_line_content": "    /* note : dstFileNameBuffer memory is not going to be free */",
          "new_line_content": "        memcpy(dstFileNameBuffer, outDirFilename, dstFileNameEndPos);",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(outDirFilename)",
          "old_line_content": "}",
          "new_line_content": "        free(outDirFilename);",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dstFileNameBuffer, srcFileName, dstFileNameEndPos)",
          "old_line_content": "int",
          "new_line_content": "        memcpy(dstFileNameBuffer, srcFileName, dstFileNameEndPos);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort((void*)filenameTableSorted, nbFiles, sizeof(char*), UTIL_compareStr)",
          "old_line_content": "}",
          "new_line_content": "    qsort((void*)filenameTableSorted, nbFiles, sizeof(char*), UTIL_compareStr);",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(dstFileNameBuffer + dstFileNameEndPos, dstSuffix)",
          "old_line_content": "                                const char* outDirName, const char* outFileName,",
          "new_line_content": "    strcpy(dstFileNameBuffer + dstFileNameEndPos, dstSuffix);",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(prevElem, filenameTableSorted[u])",
          "old_line_content": "extractFilename(const char* path, char separator)",
          "new_line_content": "        if (strcmp(prevElem, filenameTableSorted[u]) == 0) {",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\"WARNING: Two files have same filename: %s\\n\", prevElem)",
          "old_line_content": "{",
          "new_line_content": "            DISPLAY(\"WARNING: Two files have same filename: %s\\n\", prevElem);",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free((void*)filenameTableSorted)",
          "old_line_content": "",
          "new_line_content": "    free((void*)filenameTableSorted);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(path, separator)",
          "old_line_content": "FIO_createFilename_fromOutDir(const char* path, const char* outDirName, const size_t suffixLen)",
          "new_line_content": "    const char* search = strrchr(path, separator);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "FIO_createDResources",
          "old_text": null,
          "new_text": "FIO_createDResources(prefs, dictFileName)",
          "old_line_content": "        for (; fCtx->currFileIdx < fCtx->nbFilesTotal; fCtx->currFileIdx++) {",
          "new_line_content": "    dRess_t ress = FIO_createDResources(prefs, dictFileName);",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": null,
          "new_api": "FIO_removeMultiFilesWarning",
          "old_text": null,
          "new_text": "FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)",
          "old_line_content": "            error |= status;",
          "new_line_content": "        if (FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)) {",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": null,
          "new_api": "FIO_freeDResources",
          "old_text": null,
          "new_text": "FIO_freeDResources(ress)",
          "old_line_content": "        }",
          "new_line_content": "            FIO_freeDResources(ress);",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": null,
          "new_api": "FIO_openDstFile",
          "old_text": null,
          "new_text": "FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS)",
          "old_line_content": "    } else {",
          "new_line_content": "            ress.dstFile = FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS);",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(19, \"cannot open %s\", outFileName)",
          "old_line_content": "        if (outMirroredRootDirName)",
          "new_line_content": "            if (ress.dstFile == 0) EXM_THROW(19, \"cannot open %s\", outFileName);",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": null,
          "new_api": "FIO_decompressSrcFile",
          "old_text": null,
          "new_text": "FIO_decompressSrcFile(fCtx, prefs, ress, outFileName, srcNamesTable[fCtx->currFileIdx])",
          "old_line_content": "        for (; fCtx->currFileIdx < fCtx->nbFilesTotal; fCtx->currFileIdx++) {   /* create dstFileName */",
          "new_line_content": "            status = FIO_decompressSrcFile(fCtx, prefs, ress, outFileName, srcNamesTable[fCtx->currFileIdx]);",
          "content_same": false
        },
        {
          "line": 2895,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(72, \"Write error : %s : cannot properly close output file\",\n                        strerror(errno))",
          "old_line_content": "                if (validMirroredDirName) {",
          "new_line_content": "            EXM_THROW(72, \"Write error : %s : cannot properly close output file\",",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "extractFilename",
          "old_text": null,
          "new_text": "extractFilename(filenameStart, '/')",
          "old_line_content": "    } else {",
          "new_line_content": "    filenameStart = extractFilename(filenameStart, '/');  /* sometimes, '/' separator is also used on Windows (mingw+msys2) */",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(filenameStart)",
          "old_line_content": "    }",
          "new_line_content": "    result = (char*) calloc(1, strlen(outDirName) + 1 + strlen(filenameStart) + suffixLen + 1);",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    return result;",
          "new_line_content": "        EXM_THROW(30, \"zstd: FIO_createFilename_fromOutDir: %s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": null,
          "new_api": "FIO_determineDstName",
          "old_text": null,
          "new_text": "FIO_determineDstName(srcFileName, validMirroredDirName)",
          "old_line_content": "            error |= status;",
          "new_line_content": "                    dstFileName = FIO_determineDstName(srcFileName, validMirroredDirName);",
          "content_same": false
        },
        {
          "line": 2908,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(validMirroredDirName)",
          "old_line_content": "        }",
          "new_line_content": "                    free(validMirroredDirName);",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(outDirName)",
          "old_line_content": "/* FIO_highbit64() :",
          "new_line_content": "    memcpy(result, outDirName, strlen(outDirName));",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(outDirName)",
          "old_line_content": " * gives position of highest bit.",
          "new_line_content": "    if (outDirName[strlen(outDirName)-1] == separator) {",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(filenameStart)",
          "old_line_content": " * note : only works for v > 0 !",
          "new_line_content": "        memcpy(result + strlen(outDirName), filenameStart, strlen(filenameStart));",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(outDirName)",
          "old_line_content": "static unsigned FIO_highbit64(unsigned long long v)",
          "new_line_content": "        memcpy(result + strlen(outDirName), &separator, 1);",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(filenameStart)",
          "old_line_content": "{",
          "new_line_content": "        memcpy(result + strlen(outDirName) + 1, filenameStart, strlen(filenameStart));",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": null,
          "new_api": "FIO_determineDstName",
          "old_text": null,
          "new_text": "FIO_determineDstName(srcFileName, outDirName)",
          "old_line_content": "    if (fCtx->nbFilesProcessed >= 1  && fCtx->nbFilesTotal > 1 && fCtx->totalBytesOutput != 0)",
          "new_line_content": "                dstFileName = FIO_determineDstName(srcFileName, outDirName);",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": null,
          "new_api": "FIO_checkFilenameCollisions",
          "old_text": null,
          "new_text": "FIO_checkFilenameCollisions(srcNamesTable , (unsigned)fCtx->nbFilesTotal)",
          "old_line_content": " *  .zst file info (--list command)",
          "new_line_content": "            FIO_checkFilenameCollisions(srcNamesTable , (unsigned)fCtx->nbFilesTotal);",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"%d files decompressed : %6zu bytes total \\n\", fCtx->nbFilesProcessed, fCtx->totalBytesOutput)",
          "old_line_content": "    U64 decompressedSize;",
          "new_line_content": "        DISPLAYLEVEL(2, \"%d files decompressed : %6zu bytes total \\n\", fCtx->nbFilesProcessed, fCtx->totalBytesOutput);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(v != 0)",
          "old_line_content": "    unsigned const maxWindowSize = (1U << ZSTD_WINDOWLOG_MAX);",
          "new_line_content": "    assert(v != 0);",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": null,
          "new_api": "FIO_freeDResources",
          "old_text": null,
          "new_text": "FIO_freeDResources(ress)",
          "old_line_content": "    U64 windowSize;",
          "new_line_content": "    FIO_freeDResources(ress);",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "MAX",
          "old_text": null,
          "new_text": "MAX(dictSize, maxSrcFileSize)",
          "old_line_content": " * Returns 1 if the console should abort, 0 if console should proceed.",
          "new_line_content": "    unsigned long long maxSize = MAX(prefs->memLimit, MAX(dictSize, maxSrcFileSize));",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(42, \"Using --patch-from with stdin requires --stream-size\")",
          "old_line_content": " * If -f is specified, or there is just 1 file, zstd will always proceed as usual.",
          "new_line_content": "        EXM_THROW(42, \"Using --patch-from with stdin requires --stream-size\");",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(maxSize != UTIL_FILESIZE_UNKNOWN)",
          "old_line_content": " * If --rm is specified, there will be a prompt asking for user confirmation.",
          "new_line_content": "    assert(maxSize != UTIL_FILESIZE_UNKNOWN);",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(42, \"Can't handle files larger than %u GB\\n\", maxWindowSize/(1 GB))",
          "old_line_content": " *         If -q is specified with --rm, zstd will abort pre-emptively",
          "new_line_content": "        EXM_THROW(42, \"Can't handle files larger than %u GB\\n\", maxWindowSize/(1 GB));",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "FIO_setMemLimit",
          "old_text": null,
          "new_text": "FIO_setMemLimit(prefs, (unsigned)maxSize)",
          "old_line_content": " *         If neither flag is specified, zstd will prompt the user for confirmation to proceed.",
          "new_line_content": "    FIO_setMemLimit(prefs, (unsigned)maxSize);",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: Aborting... not deleting files and processing into dst: %s\\n\", outFileName)",
          "old_line_content": "                if (fCtx->hasStdoutOutput) {",
          "new_line_content": "                DISPLAYLEVEL(1, \"zstd: Aborting... not deleting files and processing into dst: %s\\n\", outFileName);",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(headerBuffer, 1, sizeof(headerBuffer), srcFile)",
          "old_line_content": "                  file_size);",
          "new_line_content": "        size_t const numBytesRead = fread(headerBuffer, 1, sizeof(headerBuffer), srcFile);",
          "content_same": false
        },
        {
          "line": 2969,
          "old_api": null,
          "new_api": "ZSTD_FRAMEHEADERSIZE_MIN",
          "old_text": null,
          "new_text": "ZSTD_FRAMEHEADERSIZE_MIN(ZSTD_f_zstd1)",
          "old_line_content": "                break;  /* correct end of file => success */",
          "new_line_content": "        if (numBytesRead < ZSTD_FRAMEHEADERSIZE_MIN(ZSTD_f_zstd1)) {",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into stdout. \\n\")",
          "old_line_content": "                }",
          "new_line_content": "                DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into stdout. \\n\");",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": null,
          "new_api": "feof",
          "old_text": null,
          "new_text": "feof(srcFile)",
          "old_line_content": "            }",
          "new_line_content": "            if ( feof(srcFile)",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into a single output file: %s \\n\", outFileName)",
          "old_line_content": "        }",
          "new_line_content": "                DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into a single output file: %s \\n\", outFileName);",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"The concatenated output CANNOT regenerate the original directory tree. \\n\")",
          "old_line_content": "    return error;",
          "new_line_content": "            DISPLAYLEVEL(2, \"The concatenated output CANNOT regenerate the original directory tree. \\n\")",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": null,
          "new_api": "ERROR_IF",
          "old_text": null,
          "new_text": "ERROR_IF(file_position != file_size, info_truncated_input,\n                  \"Error: seeked to position %llu, which is beyond file size of %llu\\n\",\n                  file_position,\n                  file_size)",
          "old_line_content": "            if (magicNumber == ZSTD_MAGICNUMBER) {",
          "new_line_content": "                ERROR_IF(file_position != file_size, info_truncated_input,",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"Aborting. Use -f if you really want to delete the files and output to stdout\\n\")",
          "old_line_content": "#ifndef ZSTD_NOCOMPRESS",
          "new_line_content": "                    DISPLAYLEVEL(1, \"Aborting. Use -f if you really want to delete the files and output to stdout\\n\");",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "UTIL_requireUserConfirmation",
          "old_text": null,
          "new_text": "UTIL_requireUserConfirmation(\"This is a destructive operation. Proceed? (y/n): \", \"Aborting...\", \"yY\", fCtx->hasStdinInput)",
          "old_line_content": " *  Compression",
          "new_line_content": "                    error = g_display_prefs.displayLevel > displayLevelCutoff && UTIL_requireUserConfirmation(\"This is a destructive operation. Proceed? (y/n): \", \"Aborting...\", \"yY\", fCtx->hasStdinInput);",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": null,
          "new_api": "feof",
          "old_text": null,
          "new_text": "feof(srcFile)",
          "old_line_content": "                } else {",
          "new_line_content": "            ERROR_IF(feof(srcFile), info_not_zstd, \"Error: reached end of file with incomplete frame\");",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": null,
          "new_api": "ERROR_IF",
          "old_text": null,
          "new_text": "ERROR_IF(1, info_frame_error, \"Error: did not reach end of file but ran out of frames\")",
          "old_line_content": "                    info->decompressedSize += frameContentSize;",
          "new_line_content": "            ERROR_IF(1, info_frame_error, \"Error: did not reach end of file but ran out of frames\");",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": null,
          "new_api": "ZSTD_getFrameHeader",
          "old_text": null,
          "new_text": "ZSTD_getFrameHeader(&header, headerBuffer, numBytesRead)",
          "old_line_content": "                {   int lastBlock = 0;",
          "new_line_content": "                ERROR_IF(ZSTD_getFrameHeader(&header, headerBuffer, numBytesRead) != 0,",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": null,
          "new_api": "ZSTD_frameHeaderSize",
          "old_text": null,
          "new_text": "ZSTD_frameHeaderSize(headerBuffer, numBytesRead)",
          "old_line_content": "                                info_frame_error, \"Error while reading block header\");",
          "new_line_content": "                {   size_t const headerSize = ZSTD_frameHeaderSize(headerBuffer, numBytesRead);",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(srcFile, ((long)headerSize)-((long)numBytesRead), SEEK_CUR)",
          "old_line_content": "                            U32 const blockTypeID = (blockHeader >> 1) & 3;",
          "new_line_content": "                    ERROR_IF(fseek(srcFile, ((long)headerSize)-((long)numBytesRead), SEEK_CUR) != 0,",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(blockHeaderBuffer, 1, 3, srcFile)",
          "old_line_content": "                        }",
          "new_line_content": "                        ERROR_IF(fread(blockHeaderBuffer, 1, 3, srcFile) != 3,",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": null,
          "new_api": "MEM_readLE24",
          "old_text": null,
          "new_text": "MEM_readLE24(blockHeaderBuffer)",
          "old_line_content": "                }",
          "new_line_content": "                        {   U32 const blockHeader = MEM_readLE24(blockHeaderBuffer);",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": null,
          "new_api": "ERROR_IF",
          "old_text": null,
          "new_text": "ERROR_IF(isWrongBlock, info_frame_error, \"Error: unsupported block type\")",
          "old_line_content": "                    if (contentChecksumFlag) {",
          "new_line_content": "                            ERROR_IF(isWrongBlock, info_frame_error, \"Error: unsupported block type\");",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "FIO_highbit64",
          "old_text": null,
          "new_text": "FIO_highbit64(maxSrcFileSize)",
          "old_line_content": "    if (cParams.strategy >= ZSTD_btopt) {",
          "new_line_content": "    unsigned const fileWindowLog = FIO_highbit64(maxSrcFileSize) + 1;",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "ZSTD_cycleLog",
          "old_text": null,
          "new_text": "ZSTD_cycleLog(cParams.chainLog, cParams.strategy)",
          "old_line_content": "    }",
          "new_line_content": "    if (fileWindowLog > ZSTD_cycleLog(cParams.chainLog, cParams.strategy)) {",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"long mode automatically triggered\\n\")",
          "old_line_content": "",
          "new_line_content": "            DISPLAYLEVEL(1, \"long mode automatically triggered\\n\");",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "FIO_setLdmFlag",
          "old_text": null,
          "new_text": "FIO_setLdmFlag(prefs, 1)",
          "old_line_content": "static cRess_t FIO_createCResources(FIO_prefs_t* const prefs,",
          "new_line_content": "        FIO_setLdmFlag(prefs, 1);",
          "content_same": false
        },
        {
          "line": 3030,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(srcFile, 4, SEEK_CUR)",
          "old_line_content": "                info->numSkippableFrames++;",
          "new_line_content": "                        ERROR_IF(fseek(srcFile, 4, SEEK_CUR) != 0,",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"[Optimal parser notes] Consider the following to improve patch size at the cost of speed:\\n\")",
          "old_line_content": "    cRess_t ress;",
          "new_line_content": "        DISPLAYLEVEL(1, \"[Optimal parser notes] Consider the following to improve patch size at the cost of speed:\\n\");",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"- Set a larger targetLength (eg. --zstd=targetLength=4096)\\n\")",
          "old_line_content": "",
          "new_line_content": "        DISPLAYLEVEL(1, \"- Set a larger targetLength (eg. --zstd=targetLength=4096)\\n\");",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": null,
          "new_api": "MEM_readLE32",
          "old_text": null,
          "new_text": "MEM_readLE32(headerBuffer + 4)",
          "old_line_content": "    }  /* end analyzing frames */",
          "new_line_content": "                U32 const frameSize = MEM_readLE32(headerBuffer + 4);",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": null,
          "new_api": "LONG_SEEK",
          "old_text": null,
          "new_text": "LONG_SEEK(srcFile, seek, SEEK_CUR)",
          "old_line_content": "}",
          "new_line_content": "                ERROR_IF(LONG_SEEK(srcFile, seek, SEEK_CUR) != 0,",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&ress, 0, sizeof(ress))",
          "old_line_content": "    /* need to update memLimit before calling createDictBuffer",
          "new_line_content": "    memset(&ress, 0, sizeof(ress));",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"FIO_createCResources \\n\")",
          "old_line_content": "    if (prefs->patchFromMode) {",
          "new_line_content": "    DISPLAYLEVEL(6, \"FIO_createCResources \\n\");",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "ZSTD_createCCtx",
          "old_text": null,
          "new_text": "ZSTD_createCCtx()",
          "old_line_content": "        unsigned long long const ssSize = (unsigned long long)prefs->streamSrcSize;",
          "new_line_content": "    ress.cctx = ZSTD_createCCtx();",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(30, \"allocation error (%s): can't create ZSTD_CCtx\",\n                    strerror(errno))",
          "old_line_content": "    }",
          "new_line_content": "        EXM_THROW(30, \"allocation error (%s): can't create ZSTD_CCtx\",",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ress.srcBufferSize)",
          "old_line_content": "    if (!ress.srcBuffer || !ress.dstBuffer)",
          "new_line_content": "    ress.srcBuffer = malloc(ress.srcBufferSize);",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": null,
          "new_api": "FIO_openSrcFile",
          "old_text": null,
          "new_text": "FIO_openSrcFile(NULL, inFileName)",
          "old_line_content": "",
          "new_line_content": "    FILE* const srcFile = FIO_openSrcFile(NULL, inFileName);",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": null,
          "new_api": "ERROR_IF",
          "old_text": null,
          "new_text": "ERROR_IF(srcFile == NULL, info_file_error, \"Error: could not open source file %s\", inFileName)",
          "old_line_content": "/** getFileInfo() :",
          "new_line_content": "    ERROR_IF(srcFile == NULL, info_file_error, \"Error: could not open source file %s\", inFileName);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "UTIL_getFileSize",
          "old_text": null,
          "new_text": "UTIL_getFileSize(dictFileName)",
          "old_line_content": "",
          "new_line_content": "        FIO_adjustParamsForPatchFromMode(prefs, &comprParams, UTIL_getFileSize(dictFileName), ssSize > 0 ? ssSize : maxSrcFileSize, cLevel);",
          "content_same": false
        },
        {
          "line": 3060,
          "old_api": null,
          "new_api": "UTIL_getFileSize",
          "old_text": null,
          "new_text": "UTIL_getFileSize(inFileName)",
          "old_line_content": " * @return : InfoError status",
          "new_line_content": "    info->compressedSize = UTIL_getFileSize(inFileName);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ress.dstBufferSize)",
          "old_line_content": "        comprParams.windowLog = ADAPT_WINDOWLOG_DEFAULT;",
          "new_line_content": "    ress.dstBuffer = malloc(ress.dstBufferSize);",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(srcFile)",
          "old_line_content": "getFileInfo(fileInfo_t* info, const char* srcFileName)",
          "new_line_content": "    fclose(srcFile);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "FIO_createDictBuffer",
          "old_text": null,
          "new_text": "FIO_createDictBuffer(&ress.dictBuffer, dictFileName, prefs)",
          "old_line_content": "",
          "new_line_content": "    ress.dictBufferSize = FIO_createDictBuffer(&ress.dictBuffer, dictFileName, prefs);   /* works with dictFileName==NULL */",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": null,
          "new_api": "FIO_analyzeFrames",
          "old_text": null,
          "new_text": "FIO_analyzeFrames(info, srcFile)",
          "old_line_content": " */",
          "new_line_content": "    status = FIO_analyzeFrames(info, srcFile);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(32, \"allocation error : can't create dictBuffer\")",
          "old_line_content": "    /* max compressed block size */",
          "new_line_content": "        EXM_THROW(32, \"allocation error : can't create dictBuffer\");",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_checksumFlag, prefs->checksumFlag)",
          "old_line_content": "    if (prefs->ldmBucketSizeLog != FIO_LDM_PARAM_NOTSET) {",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_checksumFlag, prefs->checksumFlag) );",
          "content_same": false
        },
        {
          "line": 3078,
          "old_api": null,
          "new_api": "getFileInfo_fileConfirmed",
          "old_text": null,
          "new_text": "getFileInfo_fileConfirmed(info, srcFileName)",
          "old_line_content": "    const char* const checkString = (info->usesCheck ? \"XXH64\" : \"None\");",
          "new_line_content": "    return getFileInfo_fileConfirmed(info, srcFileName);",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, cLevel)",
          "old_line_content": "    }",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, cLevel) );",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(info->windowSize)",
          "old_line_content": "                    decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,",
          "new_line_content": "    UTIL_HumanReadableSize_t const window_hrs = UTIL_makeHumanReadableSize(info->windowSize);",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(info->compressedSize)",
          "old_line_content": "                    ratio, checkString, inFileName);",
          "new_line_content": "    UTIL_HumanReadableSize_t const compressed_hrs = UTIL_makeHumanReadableSize(info->compressedSize);",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(info->decompressedSize)",
          "old_line_content": "        } else {",
          "new_line_content": "    UTIL_HumanReadableSize_t const decompressed_hrs = UTIL_makeHumanReadableSize(info->decompressedSize);",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %s\\n\",\n                    info->numSkippableFrames + info->numActualFrames,\n                    info->numSkippableFrames,\n                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                    decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,\n                    ratio, checkString, inFileName)",
          "old_line_content": "                    checkString, inFileName);",
          "new_line_content": "            DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %s\\n\",",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_useRowMatchFinder, prefs->useRowMatchFinder)",
          "old_line_content": "    /* multi-threading */",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_useRowMatchFinder, prefs->useRowMatchFinder));",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_searchLog, (int)comprParams.searchLog)",
          "old_line_content": "    if (prefs->overlapLog != FIO_OVERLAP_LOG_NOTSET) {",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_searchLog, (int)comprParams.searchLog) );",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_strategy, (int)comprParams.strategy)",
          "old_line_content": "    }",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_strategy, (int)comprParams.strategy) );",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_enableDedicatedDictSearch, 1)",
          "old_line_content": "#endif",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_enableDedicatedDictSearch, 1) );",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"# Zstandard Frames: %d\\n\", info->numActualFrames)",
          "old_line_content": "                    decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,",
          "new_line_content": "        DISPLAYOUT(\"# Zstandard Frames: %d\\n\", info->numActualFrames);",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_nbWorkers, prefs->nbWorkers)",
          "old_line_content": "    } else {",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_nbWorkers, prefs->nbWorkers) );",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"Window Size: %.*f%s (%llu B)\\n\",\n                   window_hrs.precision, window_hrs.value, window_hrs.suffix,\n                   (unsigned long long)info->windowSize)",
          "old_line_content": "        }",
          "new_line_content": "        DISPLAYOUT(\"Window Size: %.*f%s (%llu B)\\n\",",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(3,\"set overlapLog = %u \\n\", prefs->overlapLog)",
          "old_line_content": "",
          "new_line_content": "        DISPLAYLEVEL(3,\"set overlapLog = %u \\n\", prefs->overlapLog);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_overlapLog, prefs->overlapLog)",
          "old_line_content": "    return ress;",
          "new_line_content": "        CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_overlapLog, prefs->overlapLog) );",
          "content_same": false
        },
        {
          "line": 3113,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"Compressed Size: %.*f%s (%llu B)\\n\",\n                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                    (unsigned long long)info->compressedSize)",
          "old_line_content": "    }",
          "new_line_content": "        DISPLAYOUT(\"Compressed Size: %.*f%s (%llu B)\\n\",",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_rsyncable, prefs->rsyncable)",
          "old_line_content": "",
          "new_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_rsyncable, prefs->rsyncable) );",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"Decompressed Size: %.*f%s (%llu B)\\n\",\n                    decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,\n                    (unsigned long long)info->decompressedSize)",
          "old_line_content": "{",
          "new_line_content": "            DISPLAYOUT(\"Decompressed Size: %.*f%s (%llu B)\\n\",",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"Ratio: %.4f\\n\", ratio)",
          "old_line_content": "    total.numActualFrames = fi1.numActualFrames + fi2.numActualFrames;",
          "new_line_content": "            DISPLAYOUT(\"Ratio: %.4f\\n\", ratio);",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"Check: %s\\n\", checkString)",
          "old_line_content": "    total.compressedSize = fi1.compressedSize + fi2.compressedSize;",
          "new_line_content": "        DISPLAYOUT(\"Check: %s\\n\", checkString);",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"\\n\")",
          "old_line_content": "    total.decompressedSize = fi1.decompressedSize + fi2.decompressedSize;",
          "new_line_content": "        DISPLAYOUT(\"\\n\");",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ress->srcBuffer)",
          "old_line_content": "                    int compressionLevel, U64* readsize)",
          "new_line_content": "    free(ress->srcBuffer);",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ress->dstBuffer)",
          "old_line_content": "{",
          "new_line_content": "    free(ress->dstBuffer);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(ress->dictBuffer)",
          "old_line_content": "    unsigned long long inFileSize = 0, outFileSize = 0;",
          "new_line_content": "    free(ress->dictBuffer);",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "ZSTD_freeCStream",
          "old_text": null,
          "new_text": "ZSTD_freeCStream(ress->cctx)",
          "old_line_content": "    z_stream strm;",
          "new_line_content": "    ZSTD_freeCStream(ress->cctx);   /* never fails */",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&total, 0, sizeof(total))",
          "old_line_content": "static int",
          "new_line_content": "    memset(&total, 0, sizeof(total));",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&info, 0, sizeof(info))",
          "old_line_content": "            case info_file_error:",
          "new_line_content": "    memset(&info, 0, sizeof(info));",
          "content_same": false
        },
        {
          "line": 3146,
          "old_api": null,
          "new_api": "getFileInfo",
          "old_text": null,
          "new_text": "getFileInfo(&info, inFileName)",
          "old_line_content": "                /* error occurred while opening the file */",
          "new_line_content": "    {   InfoError const error = getFileInfo(&info, inFileName);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "deflateInit2",
          "old_text": null,
          "new_text": "deflateInit2(&strm, compressionLevel, Z_DEFLATED,\n                        15 /* maxWindowLogSize */ + 16 /* gzip only */,\n                        8, Z_DEFAULT_STRATEGY)",
          "old_line_content": "",
          "new_line_content": "    {   int const ret = deflateInit2(&strm, compressionLevel, Z_DEFLATED,",
          "content_same": false
        },
        {
          "line": 3153,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"File \\\"%s\\\" not compressed by zstd \\n\", inFileName)",
          "old_line_content": "            case info_success:",
          "new_line_content": "                DISPLAYOUT(\"File \\\"%s\\\" not compressed by zstd \\n\", inFileName);",
          "content_same": false
        },
        {
          "line": 3154,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"\\n\")",
          "old_line_content": "            default:",
          "new_line_content": "                if (displayLevel > 2) DISPLAYOUT(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3161,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"File \\\"%s\\\" is truncated \\n\", inFileName)",
          "old_line_content": "        return (int)error;",
          "new_line_content": "                DISPLAYOUT(\"File \\\"%s\\\" is truncated \\n\", inFileName);",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"\\n\")",
          "old_line_content": "    }",
          "new_line_content": "                if (displayLevel > 2) DISPLAYOUT(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3169,
          "old_api": null,
          "new_api": "displayInfo",
          "old_text": null,
          "new_text": "displayInfo(inFileName, &info, displayLevel)",
          "old_line_content": "        for (u=0; u<numFiles;u++) {",
          "new_line_content": "        displayInfo(inFileName, &info, displayLevel);",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(error == info_success || error == info_frame_error)",
          "old_line_content": "                    1, \"zstd: --list does not support reading from standard input\");",
          "new_line_content": "        assert(error == info_success || error == info_frame_error);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "deflate",
          "old_text": null,
          "new_text": "deflate(&strm, Z_NO_FLUSH)",
          "old_line_content": "        if (srcFileSize == UTIL_FILESIZE_UNKNOWN) {",
          "new_line_content": "        ret = deflate(&strm, Z_NO_FLUSH);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(72, \"zstd: %s: deflate error %d \\n\", srcFileName, ret)",
          "old_line_content": "                            (unsigned)(inFileSize>>20),",
          "new_line_content": "            EXM_THROW(72, \"zstd: %s: deflate error %d \\n\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "                            (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),",
          "new_line_content": "                    EXM_THROW(73, \"Write error : cannot write to output file : %s \", strerror(errno));",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": null,
          "new_api": "strcmp (filenameTable[u], stdinmark)",
          "old_text": null,
          "new_text": "strcmp (filenameTable[u], stdinmark)",
          "old_line_content": "",
          "new_line_content": "            ERROR_IF(!strcmp (filenameTable[u], stdinmark),",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%% \",\n                            (unsigned)(inFileSize>>20),\n                            (double)outFileSize/inFileSize*100)",
          "old_line_content": "        {   size_t const cSize = ress->dstBufferSize - strm.avail_out;",
          "new_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%% \",",
          "content_same": false
        },
        {
          "line": 3186,
          "old_api": null,
          "new_api": "IS_CONSOLE",
          "old_text": null,
          "new_text": "IS_CONSOLE(stdin)",
          "old_line_content": "        fileInfo_t total;",
          "new_line_content": "        if (!IS_CONSOLE(stdin)) {",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%% \",\n                            (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),\n                            (double)outFileSize/inFileSize*100)",
          "old_line_content": "                outFileSize += cSize;",
          "new_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%% \",",
          "content_same": false
        },
        {
          "line": 3189,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"No files given \\n\")",
          "old_line_content": "        /* --list each file, and check for any error */",
          "new_line_content": "        DISPLAYLEVEL(1, \"No files given \\n\");",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"Frames  Skips  Compressed  Uncompressed  Ratio  Check  Filename\\n\")",
          "old_line_content": "        if (numFiles > 1 && displayLevel <= 2) {   /* display total */",
          "new_line_content": "        DISPLAYOUT(\"Frames  Skips  Compressed  Uncompressed  Ratio  Check  Filename\\n\");",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "        if (ret != Z_OK) {",
          "new_line_content": "                    EXM_THROW(75, \"Write error : %s \", strerror(errno));",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&total, 0, sizeof(total))",
          "old_line_content": "            const char* const checkString = (total.usesCheck ? \"XXH64\" : \"\");",
          "new_line_content": "        memset(&total, 0, sizeof(total));",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": null,
          "new_api": "FIO_listFile",
          "old_text": null,
          "new_text": "FIO_listFile(&total, filenameTable[u], displayLevel)",
          "old_line_content": "                        total.numSkippableFrames,",
          "new_line_content": "                error |= FIO_listFile(&total, filenameTable[u], displayLevel);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(77, \"zstd: %s: deflate error %d \\n\", srcFileName, ret)",
          "old_line_content": "",
          "new_line_content": "            EXM_THROW(77, \"zstd: %s: deflate error %d \\n\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 3206,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(total.compressedSize)",
          "old_line_content": "            } else {",
          "new_line_content": "            UTIL_HumanReadableSize_t const compressed_hrs = UTIL_makeHumanReadableSize(total.compressedSize);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "deflateEnd",
          "old_text": null,
          "new_text": "deflateEnd(&strm)",
          "old_line_content": "static unsigned long long",
          "new_line_content": "    {   int const ret = deflateEnd(&strm);",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(79, \"zstd: %s: deflateEnd error %d \\n\", srcFileName, ret)",
          "old_line_content": "                      const char* srcFileName, U64 const srcFileSize,",
          "new_line_content": "            EXM_THROW(79, \"zstd: %s: deflateEnd error %d \\n\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"----------------------------------------------------------------- \\n\")",
          "old_line_content": "                        compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,",
          "new_line_content": "            DISPLAYOUT(\"----------------------------------------------------------------- \\n\");",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s                       %5s  %u files\\n\",\n                        total.numSkippableFrames + total.numActualFrames,\n                        total.numSkippableFrames,\n                        compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                        checkString, (unsigned)total.nbFiles)",
          "old_line_content": "                        ratio, checkString, (unsigned)total.nbFiles);",
          "new_line_content": "                DISPLAYOUT(\"%6d  %5d  %6.*f%4s                       %5s  %u files\\n\",",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": null,
          "new_api": "DISPLAYOUT",
          "old_text": null,
          "new_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %u files\\n\",\n                        total.numSkippableFrames + total.numActualFrames,\n                        total.numSkippableFrames,\n                        compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                        decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,\n                        ratio, checkString, (unsigned)total.nbFiles)",
          "old_line_content": "",
          "new_line_content": "                DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %u files\\n\",",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "lzma_lzma_preset",
          "old_text": null,
          "new_text": "lzma_lzma_preset(&opt_lzma, compressionLevel)",
          "old_line_content": "    strm.next_in = 0;",
          "new_line_content": "        if (lzma_lzma_preset(&opt_lzma, compressionLevel))",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(81, \"zstd: %s: lzma_lzma_preset error\", srcFileName)",
          "old_line_content": "    strm.avail_in = 0;",
          "new_line_content": "            EXM_THROW(81, \"zstd: %s: lzma_lzma_preset error\", srcFileName);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "lzma_alone_encoder",
          "old_text": null,
          "new_text": "lzma_alone_encoder(&strm, &opt_lzma)",
          "old_line_content": "    strm.next_out = (BYTE*)ress->dstBuffer;",
          "new_line_content": "        ret = lzma_alone_encoder(&strm, &opt_lzma); /* LZMA */",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(82, \"zstd: %s: lzma_alone_encoder error %d\", srcFileName, ret)",
          "old_line_content": "",
          "new_line_content": "            EXM_THROW(82, \"zstd: %s: lzma_alone_encoder error %d\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "lzma_easy_encoder",
          "old_text": null,
          "new_text": "lzma_easy_encoder(&strm, compressionLevel, LZMA_CHECK_CRC64)",
          "old_line_content": "        if (strm.avail_in == 0) {",
          "new_line_content": "        ret = lzma_easy_encoder(&strm, compressionLevel, LZMA_CHECK_CRC64); /* XZ */",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(83, \"zstd: %s: lzma_easy_encoder error %d\", srcFileName, ret)",
          "old_line_content": "            if (inSize == 0) action = LZMA_FINISH;",
          "new_line_content": "            EXM_THROW(83, \"zstd: %s: lzma_easy_encoder error %d\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile)",
          "old_line_content": "        {   size_t const compBytes = ress->dstBufferSize - strm.avail_out;",
          "new_line_content": "            size_t const inSize = fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "lzma_code",
          "old_text": null,
          "new_text": "lzma_code(&strm, action)",
          "old_line_content": "        }   }",
          "new_line_content": "        ret = lzma_code(&strm, action);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(84, \"zstd: %s: lzma_code encoding error %d\", srcFileName, ret)",
          "old_line_content": "                            (unsigned)(inFileSize>>20),",
          "new_line_content": "            EXM_THROW(84, \"zstd: %s: lzma_code encoding error %d\", srcFileName, ret);",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(ress->dstBuffer, 1, compBytes, ress->dstFile)",
          "old_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%%\",",
          "new_line_content": "                if (fwrite(ress->dstBuffer, 1, compBytes, ress->dstFile) != compBytes)",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "                            (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),",
          "new_line_content": "                    EXM_THROW(85, \"Write error : %s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",\n                            (unsigned)(inFileSize>>20),\n                            (double)outFileSize/inFileSize*100)",
          "old_line_content": "    *readsize = inFileSize;",
          "new_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "lzma_end",
          "old_text": null,
          "new_text": "lzma_end(&strm)",
          "old_line_content": "#define LZ4F_max64KB max64KB",
          "new_line_content": "    lzma_end(&strm);",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "FIO_LZ4_GetBlockSize_FromBlockId",
          "old_text": null,
          "new_text": "FIO_LZ4_GetBlockSize_FromBlockId(LZ4F_max64KB)",
          "old_line_content": "",
          "new_line_content": "    const size_t blockSize = FIO_LZ4_GetBlockSize_FromBlockId(LZ4F_max64KB);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "LZ4F_createCompressionContext",
          "old_text": null,
          "new_text": "LZ4F_createCompressionContext(&ctx, LZ4F_VERSION)",
          "old_line_content": "    prefs.frameInfo.blockSizeID = LZ4F_max64KB;",
          "new_line_content": "    LZ4F_errorCode_t const errorCode = LZ4F_createCompressionContext(&ctx, LZ4F_VERSION);",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "LZ4F_isError",
          "old_text": null,
          "new_text": "LZ4F_isError(errorCode)",
          "old_line_content": "    prefs.frameInfo.contentChecksumFlag = (contentChecksum_t)checksumFlag;",
          "new_line_content": "    if (LZ4F_isError(errorCode))",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(31, \"zstd: failed to create lz4 compression context\")",
          "old_line_content": "#if LZ4_VERSION_NUMBER >= 10600",
          "new_line_content": "        EXM_THROW(31, \"zstd: failed to create lz4 compression context\");",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&prefs, 0, sizeof(prefs))",
          "old_line_content": "#endif",
          "new_line_content": "    memset(&prefs, 0, sizeof(prefs));",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(blockSize <= ress->srcBufferSize)",
          "old_line_content": "",
          "new_line_content": "    assert(blockSize <= ress->srcBufferSize);",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": null,
          "new_api": "LZ4F_compressBound",
          "old_text": null,
          "new_text": "LZ4F_compressBound(blockSize, &prefs)",
          "old_line_content": "",
          "new_line_content": "    assert(LZ4F_compressBound(blockSize, &prefs) <= ress->dstBufferSize);",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "LZ4F_compressBegin",
          "old_text": null,
          "new_text": "LZ4F_compressBegin(ctx, ress->dstBuffer, ress->dstBufferSize, &prefs)",
          "old_line_content": "",
          "new_line_content": "        size_t headerSize = LZ4F_compressBegin(ctx, ress->dstBuffer, ress->dstBufferSize, &prefs);",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": null,
          "new_api": "LZ4F_isError",
          "old_text": null,
          "new_text": "LZ4F_isError(headerSize)",
          "old_line_content": "        /* Main Loop */",
          "new_line_content": "        if (LZ4F_isError(headerSize))",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(33, \"File header generation failed : %s\",\n                            LZ4F_getErrorName(headerSize))",
          "old_line_content": "        while (readSize>0) {",
          "new_line_content": "            EXM_THROW(33, \"File header generation failed : %s\",",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile)",
          "old_line_content": "                                        ress->dstBuffer, ress->dstBufferSize,",
          "new_line_content": "        if (fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile) != headerSize)",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "                                        ress->srcBuffer, readSize, NULL);",
          "new_line_content": "            EXM_THROW(34, \"Write error : %s (cannot write header)\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile)",
          "old_line_content": "            outFileSize += outSize;",
          "new_line_content": "        readSize  = fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile);",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "LZ4F_compressUpdate",
          "old_text": null,
          "new_text": "LZ4F_compressUpdate(ctx,\n                                        ress->dstBuffer, ress->dstBufferSize,\n                                        ress->srcBuffer, readSize, NULL)",
          "old_line_content": "            } else {",
          "new_line_content": "            size_t const outSize = LZ4F_compressUpdate(ctx,",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "LZ4F_isError",
          "old_text": null,
          "new_text": "LZ4F_isError(outSize)",
          "old_line_content": "                                (double)outFileSize/inFileSize*100);",
          "new_line_content": "            if (LZ4F_isError(outSize))",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(35, \"zstd: %s: lz4 compression failed : %s\",\n                            srcFileName, LZ4F_getErrorName(outSize))",
          "old_line_content": "            }",
          "new_line_content": "                EXM_THROW(35, \"zstd: %s: lz4 compression failed : %s\",",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": null,
          "new_api": "LZ4F_getErrorName",
          "old_text": null,
          "new_text": "LZ4F_getErrorName(outSize)",
          "old_line_content": "",
          "new_line_content": "                            srcFileName, LZ4F_getErrorName(outSize));",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",\n                                (unsigned)(inFileSize>>20),\n                                (double)outFileSize/inFileSize*100)",
          "old_line_content": "                if (sizeCheck != outSize)",
          "new_line_content": "                DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%%\",\n                                (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),\n                                (double)outFileSize/inFileSize*100)",
          "old_line_content": "            /* Read next block */",
          "new_line_content": "                DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%%\",",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(ress->dstBuffer, 1, outSize, ress->dstFile)",
          "old_line_content": "        /* End of Stream mark */",
          "new_line_content": "            {   size_t const sizeCheck = fwrite(ress->dstBuffer, 1, outSize, ress->dstFile);",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "LZ4F_compressEnd",
          "old_text": null,
          "new_text": "LZ4F_compressEnd(ctx, ress->dstBuffer, ress->dstBufferSize, NULL)",
          "old_line_content": "    }",
          "new_line_content": "        headerSize = LZ4F_compressEnd(ctx, ress->dstBuffer, ress->dstBufferSize, NULL);",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "LZ4F_isError",
          "old_text": null,
          "new_text": "LZ4F_isError(headerSize)",
          "old_line_content": "",
          "new_line_content": "        if (LZ4F_isError(headerSize))",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(38, \"zstd: %s: lz4 end of file generation failed : %s\",\n                        srcFileName, LZ4F_getErrorName(headerSize))",
          "old_line_content": "    *readsize = inFileSize;",
          "new_line_content": "            EXM_THROW(38, \"zstd: %s: lz4 end of file generation failed : %s\",",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile)",
          "old_line_content": "    return outFileSize;",
          "new_line_content": "        {   size_t const sizeCheck = fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(39, \"Write error : %s (cannot write end of stream)\",\n                            strerror(errno))",
          "old_line_content": "#endif",
          "new_line_content": "                EXM_THROW(39, \"Write error : %s (cannot write end of stream)\",",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "",
          "new_line_content": "                            strerror(errno));",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "LZ4F_freeCompressionContext",
          "old_text": null,
          "new_text": "LZ4F_freeCompressionContext(ctx)",
          "old_line_content": "                      const char* srcFileName, U64 fileSize,",
          "new_line_content": "    LZ4F_freeCompressionContext(ctx);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"compression using zstd format \\n\")",
          "old_line_content": "",
          "new_line_content": "    DISPLAYLEVEL(6, \"compression using zstd format \\n\");",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setPledgedSrcSize",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setPledgedSrcSize(ress.cctx, fileSize)",
          "old_line_content": "        if (windowLog == 0) {",
          "new_line_content": "        CHECK(ZSTD_CCtx_setPledgedSrcSize(ress.cctx, fileSize));",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "ZSTD_CCtx_getParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_getParameter(ress.cctx, ZSTD_c_windowLog, &windowLog)",
          "old_line_content": "    do {",
          "new_line_content": "        CHECK(ZSTD_CCtx_getParameter(ress.cctx, ZSTD_c_windowLog, &windowLog));",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "ZSTD_getCParams",
          "old_text": null,
          "new_text": "ZSTD_getCParams(compressionLevel, fileSize, 0)",
          "old_line_content": "        /* Fill input Buffer */",
          "new_line_content": "            const ZSTD_compressionParameters cParams = ZSTD_getCParams(compressionLevel, fileSize, 0);",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(4, \"Decompression will require %.*f%s of memory\\n\", windowSize.precision, windowSize.value, windowSize.suffix)",
          "old_line_content": "        *readsize += inSize;",
          "new_line_content": "        DISPLAYLEVEL(4, \"Decompression will require %.*f%s of memory\\n\", windowSize.precision, windowSize.value, windowSize.suffix);",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(ress.srcBuffer, (size_t)1, ress.srcBufferSize, srcFile)",
          "old_line_content": "",
          "new_line_content": "        size_t const inSize = fread(ress.srcBuffer, (size_t)1, ress.srcBufferSize, srcFile);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"fread %u bytes from source \\n\", (unsigned)inSize)",
          "old_line_content": "            ZSTD_outBuffer outBuff = { ress.dstBuffer, ress.dstBufferSize, 0 };",
          "new_line_content": "        DISPLAYLEVEL(6, \"fread %u bytes from source \\n\", (unsigned)inSize);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "ZSTD_toFlushNow",
          "old_text": null,
          "new_text": "ZSTD_toFlushNow(ress.cctx)",
          "old_line_content": "            if (outBuff.pos) {",
          "new_line_content": "            size_t const toFlushNow = ZSTD_toFlushNow(ress.cctx);",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "",
          "new_line_content": "                                    strerror(errno));",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "READY_FOR_UPDATE",
          "old_text": null,
          "new_text": "READY_FOR_UPDATE()",
          "old_line_content": "                                buffered_hrs.precision, buffered_hrs.value, buffered_hrs.suffix,",
          "new_line_content": "            if (READY_FOR_UPDATE()) {",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "ZSTD_getFrameProgression",
          "old_text": null,
          "new_text": "ZSTD_getFrameProgression(ress.cctx)",
          "old_line_content": "                                consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix,",
          "new_line_content": "                ZSTD_frameProgression const zfp = ZSTD_getFrameProgression(ress.cctx);",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(zfp.ingested - zfp.consumed)",
          "old_line_content": "                                cShare );",
          "new_line_content": "                UTIL_HumanReadableSize_t const buffered_hrs = UTIL_makeHumanReadableSize(zfp.ingested - zfp.consumed);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(zfp.consumed)",
          "old_line_content": "                } else if (g_display_prefs.displayLevel >= 2 || g_display_prefs.progressSetting == FIO_ps_always) {",
          "new_line_content": "                UTIL_HumanReadableSize_t const consumed_hrs = UTIL_makeHumanReadableSize(zfp.consumed);",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize(zfp.produced)",
          "old_line_content": "                    /* Require level 2 or forcibly displayed progress counter for summarized updates */",
          "new_line_content": "                UTIL_HumanReadableSize_t const produced_hrs = UTIL_makeHumanReadableSize(zfp.produced);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "DISPLAYUPDATE",
          "old_text": null,
          "new_text": "DISPLAYUPDATE(3, \"\\r(L%i) Buffered :%6.*f%4s - Consumed :%6.*f%4s - Compressed :%6.*f%4s => %.2f%% \",\n                                compressionLevel,\n                                buffered_hrs.precision, buffered_hrs.value, buffered_hrs.suffix,\n                                consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix,\n                                produced_hrs.precision, produced_hrs.value, produced_hrs.suffix,\n                                cShare )",
          "old_line_content": "                        /* Ensure that the string we print is roughly the same size each time */",
          "new_line_content": "                    DISPLAYUPDATE(3, \"\\r(L%i) Buffered :%6.*f%4s - Consumed :%6.*f%4s - Compressed :%6.*f%4s => %.2f%% \",",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"\\r%79s\\r\", \"\")",
          "old_line_content": "                        }",
          "new_line_content": "                    DISPLAYLEVEL(1, \"\\r%79s\\r\", \"\");    /* Clear out the current displayed line */",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: %*s \",\n                                        fCtx->currFileIdx+1, fCtx->nbFilesTotal, (int)(18-srcFileNameSize), srcFileName)",
          "old_line_content": "                /* adaptive mode : statistics measurement and speed correction */",
          "new_line_content": "                            DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: %*s \",",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"Read:%6.*f%4s \", consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix)",
          "old_line_content": "                    if (zfp.currentJobID > 1) {  /* only possible if nbWorkers >= 1 */",
          "new_line_content": "                    DISPLAYLEVEL(1, \"Read:%6.*f%4s \", consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix);",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"/%6.*f%4s\", file_hrs.precision, file_hrs.value, file_hrs.suffix)",
          "old_line_content": "                        unsigned long long newlyProduced = zfp.produced - previous_zfp_update.produced;",
          "new_line_content": "                        DISPLAYLEVEL(2, \"/%6.*f%4s\", file_hrs.precision, file_hrs.value, file_hrs.suffix);",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \" ==> %2.f%%\", cShare)",
          "old_line_content": "                        unsigned long long newlyFlushed = zfp.flushed - previous_zfp_update.flushed;",
          "new_line_content": "                    DISPLAYLEVEL(1, \" ==> %2.f%%\", cShare);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(zfp.produced >= previous_zfp_update.produced)",
          "old_line_content": "                            speedChange = slower;",
          "new_line_content": "                        assert(zfp.produced >= previous_zfp_update.produced);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(prefs->nbWorkers >= 1)",
          "old_line_content": "                        }",
          "new_line_content": "                        assert(prefs->nbWorkers >= 1);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"all buffers full : compression stopped => slow down \\n\")",
          "old_line_content": "                        }",
          "new_line_content": "                            DISPLAYLEVEL(6, \"all buffers full : compression stopped => slow down \\n\")",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"compression faster than flush (%llu > %llu), and flushed was never slowed down by lack of production => slow down \\n\", newlyProduced, newlyFlushed)",
          "old_line_content": "                        if (zfp.currentJobID > (unsigned)(prefs->nbWorkers+1)) {   /* warm up period, to fill all workers */",
          "new_line_content": "                            DISPLAYLEVEL(6, \"compression faster than flush (%llu > %llu), and flushed was never slowed down by lack of production => slow down \\n\", newlyProduced, newlyFlushed);",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"compression level adaptation check \\n\")",
          "old_line_content": "                                unsigned long long newlyFlushed  = zfp.flushed  - previous_zfp_correction.flushed;",
          "new_line_content": "                        DISPLAYLEVEL(6, \"compression level adaptation check \\n\")",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"input is never blocked => input is slower than ingestion \\n\")",
          "old_line_content": "                                                (unsigned)newlyIngested, (unsigned)newlyConsumed,",
          "new_line_content": "                                DISPLAYLEVEL(6, \"input is never blocked => input is slower than ingestion \\n\");",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(inputPresented > 0)",
          "old_line_content": "                                    speedChange = faster;",
          "new_line_content": "                                assert(inputPresented > 0);",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"input blocked %u/%u(%.2f) - ingested:%u vs %u:consumed - flushed:%u vs %u:produced \\n\",\n                                                inputBlocked, inputPresented, (double)inputBlocked/inputPresented*100,\n                                                (unsigned)newlyIngested, (unsigned)newlyConsumed,\n                                                (unsigned)newlyFlushed, (unsigned)newlyProduced)",
          "old_line_content": "                                }",
          "new_line_content": "                                DISPLAYLEVEL(6, \"input blocked %u/%u(%.2f) - ingested:%u vs %u:consumed - flushed:%u vs %u:produced \\n\",",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"recommend faster as in(%llu) >= (%llu)comp(%llu) <= out(%llu) \\n\",\n                                                    newlyIngested, newlyConsumed, newlyProduced, newlyFlushed)",
          "old_line_content": "                            compressionLevel ++;",
          "new_line_content": "                                    DISPLAYLEVEL(6, \"recommend faster as in(%llu) >= (%llu)comp(%llu) <= out(%llu) \\n\",",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"slower speed , higher compression \\n\")",
          "old_line_content": "                            compressionLevel -= (compressionLevel == 0);   /* skip 0 */",
          "new_line_content": "                            DISPLAYLEVEL(6, \"slower speed , higher compression \\n\")",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "ZSTD_maxCLevel",
          "old_text": null,
          "new_text": "ZSTD_maxCLevel()",
          "old_line_content": "                        }",
          "new_line_content": "                            if (compressionLevel > ZSTD_maxCLevel()) compressionLevel = ZSTD_maxCLevel();",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "ZSTD_CCtx_setParameter",
          "old_text": null,
          "new_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel)",
          "old_line_content": "                        lastJobID = zfp.currentJobID;",
          "new_line_content": "                            ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel);",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"faster speed , lighter compression \\n\")",
          "old_line_content": "            }  /* if (READY_FOR_UPDATE()) */",
          "new_line_content": "                            DISPLAYLEVEL(6, \"faster speed , lighter compression \\n\")",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "ferror",
          "old_text": null,
          "new_text": "ferror(srcFile)",
          "old_line_content": "/*! FIO_compressFilename_internal() :",
          "new_line_content": "    if (ferror(srcFile)) {",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(26, \"Read error : I/O error\")",
          "old_line_content": " *  same as FIO_compressFilename_extRess(), with `ress.desFile` already opened.",
          "new_line_content": "        EXM_THROW(26, \"Read error : I/O error\");",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(27, \"Read error : Incomplete read : %llu / %llu B\",\n                (unsigned long long)*readsize, (unsigned long long)fileSize)",
          "old_line_content": " */",
          "new_line_content": "        EXM_THROW(27, \"Read error : Incomplete read : %llu / %llu B\",",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "clock",
          "old_text": null,
          "new_text": "clock()",
          "old_line_content": "            break;",
          "new_line_content": "    clock_t const cpuStart = clock();",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "UTIL_getFileSize",
          "old_text": null,
          "new_text": "UTIL_getFileSize(srcFileName)",
          "old_line_content": "#ifdef ZSTD_GZCOMPRESS",
          "new_line_content": "    U64 const fileSize = UTIL_getFileSize(srcFileName);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "FIO_compressZstdFrame",
          "old_text": null,
          "new_text": "FIO_compressZstdFrame(fCtx, prefs, &ress, srcFileName, fileSize, compressionLevel, &readsize)",
          "old_line_content": "            break;",
          "new_line_content": "            compressedfilesize = FIO_compressZstdFrame(fCtx, prefs, &ress, srcFileName, fileSize, compressionLevel, &readsize);",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "FIO_compressLzmaFrame",
          "old_text": null,
          "new_text": "FIO_compressLzmaFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize, prefs->compressionType==FIO_lzmaCompression)",
          "old_line_content": "#else",
          "new_line_content": "            compressedfilesize = FIO_compressLzmaFrame(&ress, srcFileName, fileSize, compressionLevel, &readsize, prefs->compressionType==FIO_lzmaCompression);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(20, \"zstd: %s: file cannot be compressed as xz/lzma (zstd compiled without ZSTD_LZMACOMPRESS) -- ignored \\n\",\n                            srcFileName)",
          "old_line_content": "                            srcFileName);",
          "new_line_content": "            EXM_THROW(20, \"zstd: %s: file cannot be compressed as xz/lzma (zstd compiled without ZSTD_LZMACOMPRESS) -- ignored \\n\",",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "FIO_compressLz4Frame",
          "old_text": null,
          "new_text": "FIO_compressLz4Frame(&ress, srcFileName, fileSize, compressionLevel, prefs->checksumFlag, &readsize)",
          "old_line_content": "    fCtx->totalBytesOutput += (size_t)compressedfilesize;",
          "new_line_content": "            compressedfilesize = FIO_compressLz4Frame(&ress, srcFileName, fileSize, compressionLevel, prefs->checksumFlag, &readsize);",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(20, \"zstd: %s: file cannot be compressed as lz4 (zstd compiled without ZSTD_LZ4COMPRESS) -- ignored \\n\",\n                            srcFileName)",
          "old_line_content": "        !fCtx->hasStdoutOutput &&",
          "new_line_content": "            EXM_THROW(20, \"zstd: %s: file cannot be compressed as lz4 (zstd compiled without ZSTD_LZ4COMPRESS) -- ignored \\n\",",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\")",
          "old_line_content": "                dstFileName);",
          "new_line_content": "    DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\");",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize((U64) readsize)",
          "old_line_content": "                (double)compressedfilesize / (double)readsize * 100,",
          "new_line_content": "        UTIL_HumanReadableSize_t hr_isize = UTIL_makeHumanReadableSize((U64) readsize);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize((U64) compressedfilesize)",
          "old_line_content": "                hr_isize.precision, hr_isize.value, hr_isize.suffix,",
          "new_line_content": "        UTIL_HumanReadableSize_t hr_osize = UTIL_makeHumanReadableSize((U64) compressedfilesize);",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2,\"%-20s :  (%6.*f%4s => %6.*f%4s, %s) \\n\",\n                srcFileName,\n                hr_isize.precision, hr_isize.value, hr_isize.suffix,\n                hr_osize.precision, hr_osize.value, hr_osize.suffix,\n                dstFileName)",
          "old_line_content": "                dstFileName);",
          "new_line_content": "            DISPLAYLEVEL(2,\"%-20s :  (%6.*f%4s => %6.*f%4s, %s) \\n\",",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2,\"%-20s :%6.2f%%   (%6.*f%4s => %6.*f%4s, %s) \\n\",\n                srcFileName,\n                (double)compressedfilesize / (double)readsize * 100,\n                hr_isize.precision, hr_isize.value, hr_isize.suffix,\n                hr_osize.precision, hr_osize.value, hr_osize.suffix,\n                dstFileName)",
          "old_line_content": "        double const cpuLoad_s = (double)(cpuEnd - cpuStart) / CLOCKS_PER_SEC;",
          "new_line_content": "            DISPLAYLEVEL(2,\"%-20s :%6.2f%%   (%6.*f%4s => %6.*f%4s, %s) \\n\",",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": null,
          "new_api": "clock",
          "old_text": null,
          "new_text": "clock()",
          "old_line_content": "",
          "new_line_content": "    {   clock_t const cpuEnd = clock();",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": null,
          "new_api": "UTIL_clockSpanNano",
          "old_text": null,
          "new_text": "UTIL_clockSpanNano(timeStart)",
          "old_line_content": " *  open dstFileName, or pass-through if ress.dstFile != NULL,",
          "new_line_content": "        U64 const timeLength_ns = UTIL_clockSpanNano(timeStart);",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(4, \"%-20s : Completed in %.2f sec  (cpu load : %.0f%%)\\n\",\n                        srcFileName, timeLength_s, cpuLoad_pct)",
          "old_line_content": " *  note : ress.srcFile must be != NULL,",
          "new_line_content": "        DISPLAYLEVEL(4, \"%-20s : Completed in %.2f sec  (cpu load : %.0f%%)\\n\",",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": null,
          "new_api": "strcmp (srcFileName, stdinmark)",
          "old_text": null,
          "new_text": "strcmp (srcFileName, stdinmark)",
          "old_line_content": "        /* Must only be added after FIO_openDstFile() succeeds.",
          "new_line_content": "        if ( strcmp (srcFileName, stdinmark)",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": null,
          "new_api": "UTIL_stat",
          "old_text": null,
          "new_text": "UTIL_stat(srcFileName, &statbuf)",
          "old_line_content": "         * Otherwise we may delete the destination file if it already exists,",
          "new_line_content": "          && UTIL_stat(srcFileName, &statbuf)",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "UTIL_isRegularFileStat",
          "old_text": null,
          "new_text": "UTIL_isRegularFileStat(&statbuf)",
          "old_line_content": "         * and the user presses Ctrl-C when asked if they wish to overwrite.",
          "new_line_content": "          && UTIL_isRegularFileStat(&statbuf) ) {",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: opening dst: %s \\n\", dstFileName)",
          "old_line_content": "",
          "new_line_content": "        DISPLAYLEVEL(6, \"FIO_compressFilename_dstFile: opening dst: %s \\n\", dstFileName);",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "FIO_openDstFile",
          "old_text": null,
          "new_text": "FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions)",
          "old_line_content": "    if (closeDstFile) {",
          "new_line_content": "        ress.dstFile = FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions);",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": null,
          "new_api": "FIO_compressFilename_internal",
          "old_text": null,
          "new_text": "FIO_compressFilename_internal(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "old_line_content": "            result=1;",
          "new_line_content": "    result = FIO_compressFilename_internal(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(dstFile)",
          "old_line_content": "        }",
          "new_line_content": "        if (fclose(dstFile)) { /* error closing dstFile */",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    }",
          "new_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", dstFileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "UTIL_utime",
          "old_text": null,
          "new_text": "UTIL_utime(dstFileName, &statbuf)",
          "old_line_content": "",
          "new_line_content": "            UTIL_utime(dstFileName, &statbuf);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(dstFileName, stdoutmark)",
          "old_line_content": "*/",
          "new_line_content": "          && strcmp(dstFileName, stdoutmark)  /* special case : don't remove() stdout */",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": null,
          "new_api": "FIO_removeFile",
          "old_text": null,
          "new_text": "FIO_removeFile(dstFileName)",
          "old_line_content": "    ZSTD_EXTENSION,",
          "new_line_content": "            FIO_removeFile(dstFileName); /* remove compression artefact; note don't do anything special if remove() fails */",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(6, \"FIO_compressFilename_srcFile: %s \\n\", srcFileName)",
          "old_line_content": "        return 1;",
          "new_line_content": "    DISPLAYLEVEL(6, \"FIO_compressFilename_srcFile: %s \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "UTIL_isDirectory",
          "old_text": null,
          "new_text": "UTIL_isDirectory(srcFileName)",
          "old_line_content": "    /* Check if \"srcFile\" is compressed. Only done if --exclude-compressed flag is used",
          "new_line_content": "    if (UTIL_isDirectory(srcFileName)) {",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName)",
          "old_line_content": "    * YES => ZSTD will skip compression of the file and will return 0.",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "UTIL_isSameFile",
          "old_text": null,
          "new_text": "UTIL_isSameFile(srcFileName, ress.dictFileName)",
          "old_line_content": "        return 0;",
          "new_line_content": "    if (ress.dictFileName != NULL && UTIL_isSameFile(srcFileName, ress.dictFileName)) {",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(1, \"zstd: cannot use %s as an input file and dictionary \\n\", srcFileName)",
          "old_line_content": "    }",
          "new_line_content": "        DISPLAYLEVEL(1, \"zstd: cannot use %s as an input file and dictionary \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "UTIL_isCompressedFile",
          "old_text": null,
          "new_text": "UTIL_isCompressedFile(srcFileName, compressedFileExtensions)",
          "old_line_content": "    ress.srcFile = NULL;",
          "new_line_content": "    if (prefs->excludeCompressedFiles == 1 && UTIL_isCompressedFile(srcFileName, compressedFileExtensions)) {",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(4, \"File is already compressed : %s \\n\", srcFileName)",
          "old_line_content": "    if ( prefs->removeSrcFile   /* --rm */",
          "new_line_content": "        DISPLAYLEVEL(4, \"File is already compressed : %s \\n\", srcFileName);",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": null,
          "new_api": "FIO_openSrcFile",
          "old_text": null,
          "new_text": "FIO_openSrcFile(prefs, srcFileName)",
          "old_line_content": "        /* We must clear the handler, since after this point calling it would",
          "new_line_content": "    ress.srcFile = FIO_openSrcFile(prefs, srcFileName);",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(srcFileName, stdinmark)",
          "old_line_content": "",
          "new_line_content": "      && strcmp(srcFileName, stdinmark)   /* exception : don't erase stdin */",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": null,
          "new_api": "clearHandler",
          "old_text": null,
          "new_text": "clearHandler()",
          "old_line_content": "    return options[index];",
          "new_line_content": "        clearHandler();",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": null,
          "new_api": "FIO_removeFile",
          "old_text": null,
          "new_text": "FIO_removeFile(srcFileName)",
          "old_line_content": "}",
          "new_line_content": "        if (FIO_removeFile(srcFileName))",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "",
          "new_line_content": "            EXM_THROW(1, \"zstd: %s: %s\", srcFileName, strerror(errno));",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(index < length)",
          "old_line_content": "    static const char* sparseOptions[3] = {\" --no-sparse\", \"\", \" --sparse\"};",
          "new_line_content": "    assert(index < length);",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(g_display_prefs.displayLevel >= 4)",
          "old_line_content": "    if (prefs->streamSrcSize)",
          "new_line_content": "    assert(g_display_prefs.displayLevel >= 4);",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\"--format=%s\", formatOptions[prefs->compressionType])",
          "old_line_content": "    if (prefs->srcSizeHint)",
          "new_line_content": "    DISPLAY(\"--format=%s\", formatOptions[prefs->compressionType]);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\"%s\", prefs->dictIDFlag ? \"\" : \" --no-dictID\")",
          "old_line_content": "    if (prefs->targetCBlockSize)",
          "new_line_content": "    DISPLAY(\"%s\", prefs->dictIDFlag ? \"\" : \" --no-dictID\");",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\" --stream-size=%u\", (unsigned) prefs->streamSrcSize)",
          "old_line_content": "}",
          "new_line_content": "        DISPLAY(\" --stream-size=%u\", (unsigned) prefs->streamSrcSize);",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\" --size-hint=%d\", prefs->srcSizeHint)",
          "old_line_content": "#undef INDEX",
          "new_line_content": "        DISPLAY(\" --size-hint=%d\", prefs->srcSizeHint);",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\" --target-compressed-block-size=%u\", (unsigned) prefs->targetCBlockSize)",
          "old_line_content": "int FIO_compressFilename(FIO_ctx_t* const fCtx, FIO_prefs_t* const prefs, const char* dstFileName,",
          "new_line_content": "        DISPLAY(\" --target-compressed-block-size=%u\", (unsigned) prefs->targetCBlockSize);",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": null,
          "new_api": "INDEX",
          "old_text": null,
          "new_text": "INDEX(compressLiteralsOptions, prefs->literalCompressionMode)",
          "old_line_content": "                         const char* srcFileName, const char* dictFileName,",
          "new_line_content": "    DISPLAY(\"%s\", INDEX(compressLiteralsOptions, prefs->literalCompressionMode));",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\" --memory=%u\", prefs->memLimit ? prefs->memLimit : 128 MB)",
          "old_line_content": "                         int compressionLevel, ZSTD_compressionParameters comprParams)",
          "new_line_content": "    DISPLAY(\" --memory=%u\", prefs->memLimit ? prefs->memLimit : 128 MB);",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\" --threads=%d\", prefs->nbWorkers)",
          "old_line_content": "{",
          "new_line_content": "    DISPLAY(\" --threads=%d\", prefs->nbWorkers);",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": null,
          "new_api": "DISPLAY",
          "old_text": null,
          "new_text": "DISPLAY(\"\\n\")",
          "old_line_content": "",
          "new_line_content": "    DISPLAY(\"\\n\");",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": null,
          "new_api": "UTIL_getFileSize",
          "old_text": null,
          "new_text": "UTIL_getFileSize(srcFileName)",
          "old_line_content": " * @return a pointer to it.",
          "new_line_content": "    cRess_t const ress = FIO_createCResources(prefs, dictFileName, UTIL_getFileSize(srcFileName), compressionLevel, comprParams);",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": null,
          "new_api": "FIO_compressFilename_srcFile",
          "old_text": null,
          "new_text": "FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "old_line_content": " * This function never returns an error (it may abort() in case of pb)",
          "new_line_content": "    int const result = FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": null,
          "new_api": "FIO_freeCResources",
          "old_text": null,
          "new_text": "FIO_freeCResources(&ress)",
          "old_line_content": "{",
          "new_line_content": "    FIO_freeCResources(&ress);",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(srcFileName)",
          "old_line_content": "        dfnbCapacity = sfnSize + srcSuffixLen + 30;",
          "new_line_content": "    size_t sfnSize = strlen(srcFileName);",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(outDirFilename)",
          "old_line_content": "        }",
          "new_line_content": "        sfnSize = strlen(outDirFilename);",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(outDirFilename != NULL)",
          "old_line_content": "    }",
          "new_line_content": "        assert(outDirFilename != NULL);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(dstFileNameBuffer != NULL)",
          "old_line_content": "",
          "new_line_content": "    assert(dstFileNameBuffer != NULL);",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dstFileNameBuffer, outDirFilename, sfnSize)",
          "old_line_content": "    size_t i;",
          "new_line_content": "        memcpy(dstFileNameBuffer, outDirFilename, sfnSize);",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(outDirFilename)",
          "old_line_content": "    unsigned long long fileSize, maxFileSize = 0;",
          "new_line_content": "        free(outDirFilename);",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dstFileNameBuffer+sfnSize, suffix, srcSuffixLen+1 /* Include terminating null */)",
          "old_line_content": "    }",
          "new_line_content": "    memcpy(dstFileNameBuffer+sfnSize, suffix, srcSuffixLen+1 /* Include terminating null */);",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": null,
          "new_api": "UTIL_getFileSize",
          "old_text": null,
          "new_text": "UTIL_getFileSize(inFileNames[i])",
          "old_line_content": " */",
          "new_line_content": "        fileSize = UTIL_getFileSize(inFileNames[i]);",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "FIO_getLargestFileSize",
          "old_text": null,
          "new_text": "FIO_getLargestFileSize(inFileNamesTable, (unsigned)fCtx->nbFilesTotal)",
          "old_line_content": "        if (ress.dstFile == NULL) {  /* could not open outFileName */",
          "new_line_content": "        FIO_getLargestFileSize(inFileNamesTable, (unsigned)fCtx->nbFilesTotal),",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "FIO_removeMultiFilesWarning",
          "old_text": null,
          "new_text": "FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)",
          "old_line_content": "                error |= status;",
          "new_line_content": "        if (FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)) {",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": null,
          "new_api": "FIO_freeCResources",
          "old_text": null,
          "new_text": "FIO_freeCResources(&ress)",
          "old_line_content": "            }",
          "new_line_content": "            FIO_freeCResources(&ress);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(ress.dstFile)",
          "old_line_content": "            const char* dstFileName = NULL;",
          "new_line_content": "            if (fclose(ress.dstFile))",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(29, \"Write error (%s) : cannot properly close %s\",\n                            strerror(errno), outFileName)",
          "old_line_content": "            if (outMirroredRootDirName) {",
          "new_line_content": "                EXM_THROW(29, \"Write error (%s) : cannot properly close %s\",",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": null,
          "new_api": "UTIL_createMirroredDestDirName",
          "old_text": null,
          "new_text": "UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName)",
          "old_line_content": "            }",
          "new_line_content": "                char* validMirroredDirName = UTIL_createMirroredDestDirName(srcFileName, outMirroredRootDirName);",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "FIO_determineCompressedName",
          "old_text": null,
          "new_text": "FIO_determineCompressedName(srcFileName, validMirroredDirName, suffix)",
          "old_line_content": "            if (!status) fCtx->nbFilesProcessed++;",
          "new_line_content": "                    dstFileName = FIO_determineCompressedName(srcFileName, validMirroredDirName, suffix);",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(validMirroredDirName)",
          "old_line_content": "            error |= status;",
          "new_line_content": "                    free(validMirroredDirName);",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot compress '%s' into '%s' \\n\", srcFileName, outMirroredRootDirName)",
          "old_line_content": "",
          "new_line_content": "                    DISPLAYLEVEL(2, \"zstd: --output-dir-mirror cannot compress '%s' into '%s' \\n\", srcFileName, outMirroredRootDirName);",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "FIO_determineCompressedName",
          "old_text": null,
          "new_text": "FIO_determineCompressedName(srcFileName, outDirName, suffix)",
          "old_line_content": "    if (fCtx->nbFilesProcessed >= 1 && fCtx->nbFilesTotal > 1 && fCtx->totalBytesInput != 0) {",
          "new_line_content": "                dstFileName = FIO_determineCompressedName(srcFileName, outDirName, suffix);  /* cannot fail */",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "FIO_checkFilenameCollisions",
          "old_text": null,
          "new_text": "FIO_checkFilenameCollisions(inFileNamesTable , (unsigned)fCtx->nbFilesTotal)",
          "old_line_content": "                        hr_isize.precision, hr_isize.value, hr_isize.suffix,",
          "new_line_content": "            FIO_checkFilenameCollisions(inFileNamesTable , (unsigned)fCtx->nbFilesTotal);",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "UTIL_makeHumanReadableSize",
          "old_text": null,
          "new_text": "UTIL_makeHumanReadableSize((U64) fCtx->totalBytesOutput)",
          "old_line_content": "    return error;",
          "new_line_content": "        UTIL_HumanReadableSize_t hr_osize = UTIL_makeHumanReadableSize((U64) fCtx->totalBytesOutput);",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\")",
          "old_line_content": "",
          "new_line_content": "        DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\");",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "DISPLAYLEVEL",
          "old_text": null,
          "new_text": "DISPLAYLEVEL(2, \"%3d files compressed :%.2f%%   (%6.*f%4s => %6.*f%4s)\\n\",\n                        fCtx->nbFilesProcessed,\n                        (double)fCtx->totalBytesOutput/((double)fCtx->totalBytesInput)*100,\n                        hr_isize.precision, hr_isize.value, hr_isize.suffix,\n                        hr_osize.precision, hr_osize.value, hr_osize.suffix)",
          "old_line_content": "#endif /* #ifndef ZSTD_NOCOMPRESS */",
          "new_line_content": "        DISPLAYLEVEL(2, \"%3d files compressed :%.2f%%   (%6.*f%4s => %6.*f%4s)\\n\",",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "FIO_freeCResources",
          "old_text": null,
          "new_text": "FIO_freeCResources(&ress)",
          "old_line_content": " *  Decompression",
          "new_line_content": "    FIO_freeCResources(&ress);",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&ress, 0, sizeof(ress))",
          "old_line_content": "",
          "new_line_content": "    memset(&ress, 0, sizeof(ress));",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "    /* dictionary */",
          "new_line_content": "        EXM_THROW(60, \"Error: %s : can't create ZSTD_DStream\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "ZSTD_DCtx_setMaxWindowSize",
          "old_text": null,
          "new_text": "ZSTD_DCtx_setMaxWindowSize(ress.dctx, prefs->memLimit)",
          "old_line_content": "    {   void* dictBuffer;",
          "new_line_content": "    CHECK( ZSTD_DCtx_setMaxWindowSize(ress.dctx, prefs->memLimit) );",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ress.srcBufferSize)",
          "old_line_content": "    }",
          "new_line_content": "    ress.srcBuffer = malloc(ress.srcBufferSize);",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "ZSTD_DStreamOutSize",
          "old_text": null,
          "new_text": "ZSTD_DStreamOutSize()",
          "old_line_content": "",
          "new_line_content": "    ress.dstBufferSize = ZSTD_DStreamOutSize();",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ress.dstBufferSize)",
          "old_line_content": "    return ress;",
          "new_line_content": "    ress.dstBuffer = malloc(ress.dstBufferSize);",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "EXM_THROW",
          "old_text": null,
          "new_text": "EXM_THROW(61, \"Allocation error : not enough memory\")",
          "old_line_content": "",
          "new_line_content": "        EXM_THROW(61, \"Allocation error : not enough memory\");",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2070,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(buffer, 1, bufferSize, file)",
          "new_text": null,
          "old_line_content": "        size_t const sizeCheck = fwrite(buffer, 1, bufferSize, file);",
          "new_line_content": "                 unsigned storedSkips)",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(70, \"Write error : cannot write decoded block : %s\",\n                            strerror(errno))",
          "new_text": null,
          "old_line_content": "            EXM_THROW(70, \"Write error : cannot write decoded block : %s\",",
          "new_line_content": "    const size_t* const bufferT = (const size_t*)buffer;   /* Buffer is supposed malloc'ed, hence aligned on size_t */",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                            strerror(errno));",
          "new_line_content": "    size_t bufferSizeT = bufferSize / sizeof(size_t);",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "LONG_SEEK",
          "new_api": null,
          "old_text": "LONG_SEEK(file, 1 GB, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "        if (LONG_SEEK(file, 1 GB, SEEK_CUR) != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(91, \"1 GB skip error (sparse file support)\")",
          "new_text": null,
          "old_line_content": "            EXM_THROW(91, \"1 GB skip error (sparse file support)\");",
          "new_line_content": "    if (!prefs->sparseFileSupport) {  /* normal write */",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "LONG_SEEK",
          "new_api": null,
          "old_text": "LONG_SEEK(file, storedSkips, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "            if (LONG_SEEK(file, storedSkips, SEEK_CUR) != 0)",
          "new_line_content": "        size_t seg0SizeT = segmentSizeT;",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(92, \"Sparse skip error ; try --no-sparse\")",
          "new_text": null,
          "old_line_content": "                EXM_THROW(92, \"Sparse skip error ; try --no-sparse\");",
          "new_line_content": "        if (seg0SizeT > bufferSizeT) seg0SizeT = bufferSizeT;",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(ptrT + nb0T, sizeof(size_t), nbNon0ST, file)",
          "new_text": null,
          "old_line_content": "            if (fwrite(ptrT + nb0T, sizeof(size_t), nbNon0ST, file) != nbNon0ST)",
          "new_line_content": "        /* count leading zeroes */",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(93, \"Write error : cannot write decoded block : %s\",\n                            strerror(errno))",
          "new_text": null,
          "old_line_content": "                EXM_THROW(93, \"Write error : cannot write decoded block : %s\",",
          "new_line_content": "        for (nb0T=0; (nb0T < seg0SizeT) && (ptrT[nb0T] == 0); nb0T++) ;",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                            strerror(errno));",
          "new_line_content": "        storedSkips += (unsigned)(nb0T * sizeof(size_t));",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": "LONG_SEEK",
          "new_api": null,
          "old_text": "LONG_SEEK(file, storedSkips, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "                if (LONG_SEEK(file, storedSkips, SEEK_CUR) != 0)",
          "new_line_content": "        if (bufferSize & maskT) {",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(92, \"Sparse skip error ; try --no-sparse\")",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(92, \"Sparse skip error ; try --no-sparse\");",
          "new_line_content": "            /* size not multiple of sizeof(size_t) : implies end of block */",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(restPtr, 1, restSize, file)",
          "new_text": null,
          "old_line_content": "                if (fwrite(restPtr, 1, restSize, file) != restSize)",
          "new_line_content": "            const char* const restStart = (const char*)bufferTEnd;",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(95, \"Write error : cannot write end of decoded block : %s\",\n                        strerror(errno))",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(95, \"Write error : cannot write end of decoded block : %s\",",
          "new_line_content": "            const char* restPtr = restStart;",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                        strerror(errno));",
          "new_line_content": "            const char* const restEnd = (const char*)buffer + bufferSize;",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(prefs->sparseFileSupport > 0)",
          "new_text": null,
          "old_line_content": "        assert(prefs->sparseFileSupport > 0);  /* storedSkips>0 implies sparse support is enabled */",
          "new_line_content": "                storedSkips = 0;",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "LONG_SEEK",
          "new_api": null,
          "old_text": "LONG_SEEK(file, storedSkips-1, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "        if (LONG_SEEK(file, storedSkips-1, SEEK_CUR) != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(69, \"Final skip error (sparse file support)\")",
          "new_text": null,
          "old_line_content": "            EXM_THROW(69, \"Final skip error (sparse file support)\");",
          "new_line_content": "    return storedSkips;",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(lastZeroByte, 1, 1, file)",
          "new_text": null,
          "old_line_content": "            if (fwrite(lastZeroByte, 1, 1, file) != 1)",
          "new_line_content": "FIO_fwriteSparseEnd(const FIO_prefs_t* const prefs, FILE* file, unsigned storedSkips)",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                EXM_THROW(69, \"Write error : cannot write last zero : %s\", strerror(errno));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(64 KB, bufferSize)",
          "new_text": null,
          "old_line_content": "    size_t const blockSize = MIN(64 KB, bufferSize);",
          "new_line_content": "    }   }",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(buffer, 1, alreadyLoaded, foutput)",
          "new_text": null,
          "old_line_content": "    {   size_t const sizeCheck = fwrite(buffer, 1, alreadyLoaded, foutput);",
          "new_line_content": "    @return : 0 (no error) */",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"Pass-through write error : %s\\n\", strerror(errno));",
          "new_line_content": "                           FILE* foutput, FILE* finput,",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(buffer, 1, blockSize, finput)",
          "new_text": null,
          "old_line_content": "        readFromInput = fread(buffer, 1, blockSize, finput);",
          "new_line_content": "    size_t readFromInput;",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "FIO_fwriteSparse",
          "new_api": null,
          "old_text": "FIO_fwriteSparse(foutput, buffer, readFromInput, prefs, storedSkips)",
          "new_text": null,
          "old_line_content": "        storedSkips = FIO_fwriteSparse(foutput, buffer, readFromInput, prefs, storedSkips);",
          "new_line_content": "    unsigned storedSkips = 0;",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "ferror",
          "new_api": null,
          "old_text": "ferror(finput)",
          "new_text": null,
          "old_line_content": "    if (ferror(finput)) {",
          "new_line_content": "    /* assumption : ress->srcBufferLoaded bytes already loaded and stored within buffer */",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(finput)",
          "new_text": null,
          "old_line_content": "    assert(feof(finput));",
          "new_line_content": "            return 1;",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "FIO_fwriteSparseEnd",
          "new_api": null,
          "old_text": "FIO_fwriteSparseEnd(prefs, foutput, storedSkips)",
          "new_text": null,
          "old_line_content": "    FIO_fwriteSparseEnd(prefs, foutput, storedSkips);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": "ZSTD_getErrorCode",
          "new_api": null,
          "old_text": "ZSTD_getErrorCode(err)",
          "new_text": null,
          "old_line_content": "    if (ZSTD_getErrorCode(err) != ZSTD_error_frameParameter_windowTooLarge)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": "ZSTD_getFrameHeader",
          "new_api": null,
          "old_text": "ZSTD_getFrameHeader(&header, ress->srcBuffer, ress->srcBufferLoaded)",
          "new_text": null,
          "old_line_content": "    err = ZSTD_getFrameHeader(&header, ress->srcBuffer, ress->srcBufferLoaded);",
          "new_line_content": "FIO_zstdErrorHelp(const FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "FIO_highbit64",
          "new_api": null,
          "old_text": "FIO_highbit64(windowSize)",
          "new_text": null,
          "old_line_content": "        unsigned const windowLog = FIO_highbit64(windowSize) + ((windowSize & (windowSize - 1)) != 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(prefs->memLimit > 0)",
          "new_text": null,
          "old_line_content": "        assert(prefs->memLimit > 0);",
          "new_line_content": "    ZSTD_frameHeader header;",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"%s : Window size larger than maximum : %llu > %u \\n\",\n                        srcFileName, windowSize, prefs->memLimit)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"%s : Window size larger than maximum : %llu > %u \\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": "U64)(1ULL << 52)",
          "new_api": null,
          "old_text": "U64)(1ULL << 52)",
          "new_text": null,
          "old_line_content": "            assert(windowSize < (U64)(1ULL << 52));   /* ensure now overflow for windowMB */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"%s : Use --long=%u or --memory=%uMB \\n\",\n                            srcFileName, windowLog, windowMB)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"%s : Use --long=%u or --memory=%uMB \\n\",",
          "new_line_content": "    /* Try to decode the frame header */",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srcFileName)",
          "new_text": null,
          "old_line_content": "    {   size_t const srcFileLength = strlen(srcFileName);",
          "new_line_content": "#define FIO_ERROR_FRAME_DECODING   ((unsigned long long)(-2))",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "ZSTD_DCtx_reset",
          "new_api": null,
          "old_text": "ZSTD_DCtx_reset(ress->dctx, ZSTD_reset_session_only)",
          "new_text": null,
          "old_line_content": "    ZSTD_DCtx_reset(ress->dctx, ZSTD_reset_session_only);",
          "new_line_content": "                        const char* srcFileName,",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "ZSTD_decompressStream",
          "new_api": null,
          "old_text": "ZSTD_decompressStream(ress->dctx, &outBuff, &inBuff)",
          "new_text": null,
          "old_line_content": "        size_t const readSizeHint = ZSTD_decompressStream(ress->dctx, &outBuff, &inBuff);",
          "new_line_content": "    {   size_t const toDecode = ZSTD_FRAMEHEADERSIZE_MAX;",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(alreadyDecoded+frameSize)",
          "new_text": null,
          "old_line_content": "        UTIL_HumanReadableSize_t const hrs = UTIL_makeHumanReadableSize(alreadyDecoded+frameSize);",
          "new_line_content": "            size_t const toRead = toDecode - ress->srcBufferLoaded;",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(readSizeHint)",
          "new_text": null,
          "old_line_content": "        if (ZSTD_isError(readSizeHint)) {",
          "new_line_content": "            void* const startPosition = (char*)ress->srcBuffer + ress->srcBufferLoaded;",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "ZSTD_getErrorName",
          "new_api": null,
          "old_text": "ZSTD_getErrorName(readSizeHint)",
          "new_text": null,
          "old_line_content": "                            srcFileName, ZSTD_getErrorName(readSizeHint));",
          "new_line_content": "    }   }",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": "FIO_zstdErrorHelp",
          "new_api": null,
          "old_text": "FIO_zstdErrorHelp(prefs, ress, readSizeHint, srcFileName)",
          "new_text": null,
          "old_line_content": "            FIO_zstdErrorHelp(prefs, ress, readSizeHint, srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: %s : %.*f%s...    \",\n                            fCtx->currFileIdx+1, fCtx->nbFilesTotal, srcFileName, hrs.precision, hrs.value, hrs.suffix)",
          "new_text": null,
          "old_line_content": "                DISPLAYUPDATE(displayLevel, \"\\rDecompress: %2u/%2u files. Current: %s : %.*f%s...    \",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(displayLevel, \"\\r%-20.20s : %.*f%s...     \",\n                            srcFileName, hrs.precision, hrs.value, hrs.suffix)",
          "new_text": null,
          "old_line_content": "            DISPLAYUPDATE(displayLevel, \"\\r%-20.20s : %.*f%s...     \",",
          "new_line_content": "        if (fCtx->nbFilesTotal > 1) {",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(ress->srcBuffer, (char*)ress->srcBuffer + inBuff.pos, inBuff.size - inBuff.pos)",
          "new_text": null,
          "old_line_content": "            memmove(ress->srcBuffer, (char*)ress->srcBuffer + inBuff.pos, inBuff.size - inBuff.pos);",
          "new_line_content": "                                fCtx->currFileIdx+1, fCtx->nbFilesTotal, truncatedSrcFileName, hrs.precision, hrs.value, hrs.suffix);",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(readSizeHint, ress->srcBufferSize)",
          "new_text": null,
          "old_line_content": "        {   size_t const toDecode = MIN(readSizeHint, ress->srcBufferSize);  /* support large skippable frames */",
          "new_line_content": "                            srcFileName, hrs.precision, hrs.value, hrs.suffix);",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"%s : Read error (39) : premature end \\n\",\n                                    srcFileName)",
          "new_text": null,
          "old_line_content": "                    DISPLAYLEVEL(1, \"%s : Read error (39) : premature end \\n\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2296,
          "old_api": "FIO_fwriteSparseEnd",
          "new_api": null,
          "old_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "new_text": null,
          "old_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "new_line_content": "                size_t const toRead = toDecode - ress->srcBufferLoaded;   /* > 0 */",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": "inflateInit2",
          "new_api": null,
          "old_text": "inflateInit2(&strm, 15 /* maxWindowLogSize */ + 16 /* gzip only */)",
          "new_text": null,
          "old_line_content": "    if (inflateInit2(&strm, 15 /* maxWindowLogSize */ + 16 /* gzip only */) != Z_OK)",
          "new_line_content": "    z_stream strm;",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "inflate",
          "new_api": null,
          "old_text": "inflate(&strm, flush)",
          "new_text": null,
          "old_line_content": "        ret = inflate(&strm, flush);",
          "new_line_content": "    strm.avail_in = (uInt)ress->srcBufferLoaded;",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: premature gz end \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: premature gz end \\n\", srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(ress->srcBuffer, strm.next_in, strm.avail_in)",
          "new_text": null,
          "old_line_content": "        memmove(ress->srcBuffer, strm.next_in, strm.avail_in);",
          "new_line_content": "            if (decompBytes) {",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": "inflateEnd",
          "new_api": null,
          "old_text": "inflateEnd(&strm)",
          "new_text": null,
          "old_line_content": "    if ( (inflateEnd(&strm) != Z_OK)  /* release resources ; error detected */",
          "new_line_content": "                outFileSize += decompBytes;",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: inflateEnd error \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: inflateEnd error \\n\", srcFileName);",
          "new_line_content": "                strm.avail_out = (uInt)ress->dstBufferSize;",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": "FIO_fwriteSparseEnd",
          "new_api": null,
          "old_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "new_text": null,
          "old_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "new_line_content": "        if (ret == Z_STREAM_END) break;",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": "lzma_alone_decoder",
          "new_api": null,
          "old_text": "lzma_alone_decoder(&strm, UINT64_MAX)",
          "new_text": null,
          "old_line_content": "        initRet = lzma_alone_decoder(&strm, UINT64_MAX); /* LZMA */",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "lzma_stream_decoder",
          "new_api": null,
          "old_text": "lzma_stream_decoder(&strm, UINT64_MAX, 0)",
          "new_text": null,
          "old_line_content": "        initRet = lzma_stream_decoder(&strm, UINT64_MAX, 0); /* XZ */",
          "new_line_content": "    lzma_stream strm = LZMA_STREAM_INIT;",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: %s error %d \\n\",\n                        plain_lzma ? \"lzma_alone_decoder\" : \"lzma_stream_decoder\",\n                        srcFileName, initRet)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: %s error %d \\n\",",
          "new_line_content": "    unsigned storedSkips = 0;",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile)",
          "new_text": null,
          "old_line_content": "            ress->srcBufferLoaded = fread(ress->srcBuffer, 1, ress->srcBufferSize, srcFile);",
          "new_line_content": "        return FIO_ERROR_FRAME_DECODING;",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": "lzma_code",
          "new_api": null,
          "old_text": "lzma_code(&strm, action)",
          "new_text": null,
          "old_line_content": "        ret = lzma_code(&strm, action);",
          "new_line_content": "    strm.next_in = (BYTE const*)ress->srcBuffer;",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: premature lzma end \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: premature lzma end \\n\", srcFileName);",
          "new_line_content": "    for ( ; ; ) {",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: lzma_code decoding error %d \\n\",\n                            srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: lzma_code decoding error %d \\n\",",
          "new_line_content": "            if (ress->srcBufferLoaded == 0) action = LZMA_FINISH;",
          "content_same": false
        },
        {
          "line": 2424,
          "old_api": "FIO_fwriteSparse",
          "new_api": null,
          "old_text": "FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips)",
          "new_text": null,
          "old_line_content": "                storedSkips = FIO_fwriteSparse(ress->dstFile, ress->dstBuffer, decompBytes, prefs, storedSkips);",
          "new_line_content": "        if (ret == LZMA_BUF_ERROR) {",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(ress->srcBuffer, strm.next_in, strm.avail_in)",
          "new_text": null,
          "old_line_content": "        memmove(ress->srcBuffer, strm.next_in, strm.avail_in);",
          "new_line_content": "        {   size_t const decompBytes = ress->dstBufferSize - strm.avail_out;",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "FIO_fwriteSparseEnd",
          "new_api": null,
          "old_text": "FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips)",
          "new_text": null,
          "old_line_content": "    FIO_fwriteSparseEnd(prefs, ress->dstFile, storedSkips);",
          "new_line_content": "                outFileSize += decompBytes;",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "LZ4F_createDecompressionContext",
          "new_api": null,
          "old_text": "LZ4F_createDecompressionContext(&dCtx, LZ4F_VERSION)",
          "new_text": null,
          "old_line_content": "    LZ4F_errorCode_t const errorCode = LZ4F_createDecompressionContext(&dCtx, LZ4F_VERSION);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "LZ4F_isError",
          "new_api": null,
          "old_text": "LZ4F_isError(errorCode)",
          "new_text": null,
          "old_line_content": "    if (LZ4F_isError(errorCode)) {",
          "new_line_content": "FIO_decompressLz4Frame(dRess_t* ress, FILE* srcFile,",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: failed to create lz4 decompression context \\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: failed to create lz4 decompression context \\n\");",
          "new_line_content": "                       const FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "MEM_writeLE32",
          "new_api": null,
          "old_text": "MEM_writeLE32(ress->srcBuffer, LZ4_MAGICNUMBER)",
          "new_text": null,
          "old_line_content": "        MEM_writeLE32(ress->srcBuffer, LZ4_MAGICNUMBER);",
          "new_line_content": "    int decodingError = 0;",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "LZ4F_decompress",
          "new_api": null,
          "old_text": "LZ4F_decompress(dCtx, ress->dstBuffer, &outSize, ress->srcBuffer, &inSize, NULL)",
          "new_text": null,
          "old_line_content": "        nextToLoad = LZ4F_decompress(dCtx, ress->dstBuffer, &outSize, ress->srcBuffer, &inSize, NULL);",
          "new_line_content": "    unsigned storedSkips = 0;",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "LZ4F_isError",
          "new_api": null,
          "old_text": "LZ4F_isError(nextToLoad)",
          "new_text": null,
          "old_line_content": "        if (LZ4F_isError(nextToLoad)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": "LZ4F_freeDecompressionContext",
          "new_api": null,
          "old_text": "LZ4F_freeDecompressionContext(dCtx)",
          "new_text": null,
          "old_line_content": "            LZ4F_freeDecompressionContext(dCtx);",
          "new_line_content": "        return FIO_ERROR_FRAME_DECODING;",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(ress->srcBuffer, 1, nextToLoad, srcFile)",
          "new_text": null,
          "old_line_content": "        readSize = fread(ress->srcBuffer, 1, nextToLoad, srcFile);",
          "new_line_content": "            return FIO_ERROR_FRAME_DECODING;",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": "LZ4F_decompress",
          "new_api": null,
          "old_text": "LZ4F_decompress(dCtx, ress->dstBuffer, &decodedBytes, (char*)(ress->srcBuffer)+pos, &remaining, NULL)",
          "new_text": null,
          "old_line_content": "            nextToLoad = LZ4F_decompress(dCtx, ress->dstBuffer, &decodedBytes, (char*)(ress->srcBuffer)+pos, &remaining, NULL);",
          "new_line_content": "        size_t decodedBytes = ress->dstBufferSize;",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": "LZ4F_isError",
          "new_api": null,
          "old_text": "LZ4F_isError(nextToLoad)",
          "new_text": null,
          "old_line_content": "            if (LZ4F_isError(nextToLoad)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: lz4 decompression error : %s \\n\",\n                                srcFileName, LZ4F_getErrorName(nextToLoad))",
          "new_text": null,
          "old_line_content": "                DISPLAYLEVEL(1, \"zstd: %s: lz4 decompression error : %s \\n\",",
          "new_line_content": "        /* Read input */",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": "LZ4F_getErrorName",
          "new_api": null,
          "old_text": "LZ4F_getErrorName(nextToLoad)",
          "new_text": null,
          "old_line_content": "                                srcFileName, LZ4F_getErrorName(nextToLoad));",
          "new_line_content": "        if (nextToLoad > ress->srcBufferSize) nextToLoad = ress->srcBufferSize;",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "ferror",
          "new_api": null,
          "old_text": "ferror(srcFile)",
          "new_text": null,
          "old_line_content": "    if (ferror(srcFile)) {",
          "new_line_content": "                UTIL_HumanReadableSize_t hrs;",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: unfinished lz4 stream \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: unfinished lz4 stream \\n\", srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "LZ4F_freeDecompressionContext",
          "new_api": null,
          "old_text": "LZ4F_freeDecompressionContext(dCtx)",
          "new_text": null,
          "old_line_content": "    LZ4F_freeDecompressionContext(dCtx);",
          "new_line_content": "    /* can be out because readSize == 0, which could be an fread() error */",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(srcFile != NULL)",
          "new_text": null,
          "old_line_content": "    assert(srcFile != NULL);",
          "new_line_content": " *  srcFile presumed opened and valid",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread((char*)ress.srcBuffer + ress.srcBufferLoaded,\n                                          (size_t)1, toRead - ress.srcBufferLoaded, srcFile)",
          "new_text": null,
          "old_line_content": "            ress.srcBufferLoaded += fread((char*)ress.srcBuffer + ress.srcBufferLoaded,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: unexpected end of file \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "                DISPLAYLEVEL(1, \"zstd: %s: unexpected end of file \\n\", srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": "ZSTD_isFrame",
          "new_api": null,
          "old_text": "ZSTD_isFrame(buf, ress.srcBufferLoaded)",
          "new_text": null,
          "old_line_content": "        if (ZSTD_isFrame(buf, ress.srcBufferLoaded)) {",
          "new_line_content": "            if (readSomething==0) {  /* srcFile is empty (which is invalid) */",
          "content_same": false
        },
        {
          "line": 2568,
          "old_api": "FIO_decompressGzFrame",
          "new_api": null,
          "old_text": "FIO_decompressGzFrame(&ress, srcFile, prefs, srcFileName)",
          "new_text": null,
          "old_line_content": "            unsigned long long const frameSize = FIO_decompressGzFrame(&ress, srcFile, prefs, srcFileName);",
          "new_line_content": "        readSomething = 1;   /* there is at least 1 byte in srcFile */",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: gzip file cannot be uncompressed (zstd compiled without HAVE_ZLIB) -- ignored \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: gzip file cannot be uncompressed (zstd compiled without HAVE_ZLIB) -- ignored \\n\", srcFileName);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": "FIO_decompressLzmaFrame",
          "new_api": null,
          "old_text": "FIO_decompressLzmaFrame(&ress, srcFile, prefs, srcFileName, buf[0] != 0xFD)",
          "new_text": null,
          "old_line_content": "            unsigned long long const frameSize = FIO_decompressLzmaFrame(&ress, srcFile, prefs, srcFileName, buf[0] != 0xFD);",
          "new_line_content": "#ifdef ZSTD_GZDECOMPRESS",
          "content_same": false
        },
        {
          "line": 2582,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: xz/lzma file cannot be uncompressed (zstd compiled without HAVE_LZMA) -- ignored \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: xz/lzma file cannot be uncompressed (zstd compiled without HAVE_LZMA) -- ignored \\n\", srcFileName);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": "MEM_readLE32",
          "new_api": null,
          "old_text": "MEM_readLE32(buf)",
          "new_text": null,
          "old_line_content": "        } else if (MEM_readLE32(buf) == LZ4_MAGICNUMBER) {",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "FIO_decompressLz4Frame",
          "new_api": null,
          "old_text": "FIO_decompressLz4Frame(&ress, srcFile, prefs, srcFileName)",
          "new_text": null,
          "old_line_content": "            unsigned long long const frameSize = FIO_decompressLz4Frame(&ress, srcFile, prefs, srcFileName);",
          "new_line_content": "                || (buf[0] == 0x5D && buf[1] == 0x00)) { /* lzma header (no magic number) */",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: lz4 file cannot be uncompressed (zstd compiled without HAVE_LZ4) -- ignored \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: lz4 file cannot be uncompressed (zstd compiled without HAVE_LZ4) -- ignored \\n\", srcFileName);",
          "new_line_content": "            filesize += frameSize;",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": "strcmp (dstFileName, stdoutmark)",
          "new_api": null,
          "old_text": "strcmp (dstFileName, stdoutmark)",
          "new_text": null,
          "old_line_content": "        } else if ((prefs->overwrite) && !strcmp (dstFileName, stdoutmark)) {  /* pass-through mode */",
          "new_line_content": "            return 1;",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "FIO_passThrough",
          "new_api": null,
          "old_text": "FIO_passThrough(prefs,\n                                   ress.dstFile, srcFile,\n                                   ress.srcBuffer, ress.srcBufferSize,\n                                   ress.srcBufferLoaded)",
          "new_text": null,
          "old_line_content": "            return FIO_passThrough(prefs,",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s: unsupported format \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: unsupported format \\n\", srcFileName);",
          "new_line_content": "            filesize += frameSize;",
          "content_same": false
        },
        {
          "line": 2636,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(srcFileName, stdinmark)",
          "new_text": null,
          "old_line_content": "        if ( strcmp(srcFileName, stdinmark)   /* special case : don't transfer permissions from stdin */",
          "new_line_content": "                                 FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": "UTIL_stat",
          "new_api": null,
          "old_text": "UTIL_stat(srcFileName, &statbuf)",
          "new_text": null,
          "old_line_content": "          && UTIL_stat(srcFileName, &statbuf)",
          "new_line_content": "                                 dRess_t ress, FILE* srcFile,",
          "content_same": false
        },
        {
          "line": 2638,
          "old_api": "UTIL_isRegularFileStat",
          "new_api": null,
          "old_text": "UTIL_isRegularFileStat(&statbuf)",
          "new_text": null,
          "old_line_content": "          && UTIL_isRegularFileStat(&statbuf) ) {",
          "new_line_content": "                                 const char* dstFileName, const char* srcFileName)",
          "content_same": false
        },
        {
          "line": 2645,
          "old_api": "FIO_openDstFile",
          "new_api": null,
          "old_text": "FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions)",
          "new_text": null,
          "old_line_content": "        ress.dstFile = FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions);",
          "new_line_content": "    if ((ress.dstFile == NULL) && (prefs->testMode==0)) {",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "addHandler",
          "new_api": null,
          "old_text": "addHandler(dstFileName)",
          "new_text": null,
          "old_line_content": "        addHandler(dstFileName);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": "FIO_decompressFrames",
          "new_api": null,
          "old_text": "FIO_decompressFrames(fCtx, ress, srcFile, prefs, dstFileName, srcFileName)",
          "new_text": null,
          "old_line_content": "    result = FIO_decompressFrames(fCtx, ress, srcFile, prefs, dstFileName, srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "clearHandler",
          "new_api": null,
          "old_text": "clearHandler()",
          "new_text": null,
          "old_line_content": "        clearHandler();",
          "new_line_content": "        /* Must only be added after FIO_openDstFile() succeeds.",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(dstFile)",
          "new_text": null,
          "old_line_content": "        if (fclose(dstFile)) {",
          "new_line_content": "         * and the user presses Ctrl-C when asked if they wish to overwrite.",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", dstFileName, strerror(errno));",
          "new_line_content": "         */",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": "UTIL_utime",
          "new_api": null,
          "old_text": "UTIL_utime(dstFileName, &statbuf)",
          "new_text": null,
          "old_line_content": "            UTIL_utime(dstFileName, &statbuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2671,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(dstFileName, stdoutmark)",
          "new_text": null,
          "old_line_content": "          && strcmp(dstFileName, stdoutmark)  /* special case : don't remove() stdout */",
          "new_line_content": "        ress.dstFile = NULL;",
          "content_same": false
        },
        {
          "line": 2691,
          "old_api": "UTIL_isDirectory",
          "new_api": null,
          "old_text": "UTIL_isDirectory(srcFileName)",
          "new_text": null,
          "old_line_content": "    if (UTIL_isDirectory(srcFileName)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName);",
          "new_line_content": "/** FIO_decompressSrcFile() :",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": "FIO_openSrcFile",
          "new_api": null,
          "old_text": "FIO_openSrcFile(prefs, srcFileName)",
          "new_text": null,
          "old_line_content": "    srcFile = FIO_openSrcFile(prefs, srcFileName);",
          "new_line_content": "*/",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": "FIO_decompressDstFile",
          "new_api": null,
          "old_text": "FIO_decompressDstFile(fCtx, prefs, ress, srcFile, dstFileName, srcFileName)",
          "new_text": null,
          "old_line_content": "    result = FIO_decompressDstFile(fCtx, prefs, ress, srcFile, dstFileName, srcFileName);",
          "new_line_content": "    int result;",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", srcFileName, strerror(errno));  /* error should not happen */",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(srcFileName, stdinmark)",
          "new_text": null,
          "old_line_content": "      && strcmp(srcFileName, stdinmark) ) /* not stdin */ {",
          "new_line_content": "    ress.srcBufferLoaded = 0;",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "clearHandler",
          "new_api": null,
          "old_text": "clearHandler()",
          "new_text": null,
          "old_line_content": "        clearHandler();",
          "new_line_content": "    /* Close file */",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", srcFileName, strerror(errno));",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": "FIO_createDResources",
          "new_api": null,
          "old_text": "FIO_createDResources(prefs, dictFileName)",
          "new_text": null,
          "old_line_content": "    dRess_t const ress = FIO_createDResources(prefs, dictFileName);",
          "new_line_content": "            return 1;",
          "content_same": false
        },
        {
          "line": 2730,
          "old_api": "FIO_decompressSrcFile",
          "new_api": null,
          "old_text": "FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName)",
          "new_text": null,
          "old_line_content": "    int const decodingError = FIO_decompressSrcFile(fCtx, prefs, ress, dstFileName, srcFileName);",
          "new_line_content": "    return result;",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": "FIO_freeDResources",
          "new_api": null,
          "old_text": "FIO_freeDResources(ress)",
          "new_text": null,
          "old_line_content": "    FIO_freeDResources(ress);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(bufferPtr != NULL)",
          "new_text": null,
          "old_line_content": "    assert(bufferPtr != NULL);",
          "new_line_content": " *  creates a buffer, pointed by `*bufferPtr`,",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srcFileName)",
          "new_text": null,
          "old_line_content": "    size_t sfnSize = strlen(srcFileName);",
          "new_line_content": " * @return == NULL if there is an error */",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(srcFileName, '.')",
          "new_text": null,
          "old_line_content": "    const char* const srcSuffix = strrchr(srcFileName, '.');",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(4,\"Loading %s as dictionary \\n\", fileName)",
          "new_text": null,
          "old_line_content": "    DISPLAYLEVEL(4,\"Loading %s as dictionary \\n\", fileName);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1,\n            \"zstd: %s: unknown suffix (%s expected). \"\n            \"Can't derive the output file name. \"\n            \"Specify it with -o dstFileName. Ignoring.\\n\",\n            srcFileName, suffixListStr)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1,",
          "new_line_content": "    static char* dstFileNameBuffer = NULL;   /* using static allocation : this function cannot be multi-threaded */",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "UTIL_stat",
          "new_api": null,
          "old_text": "UTIL_stat(fileName, &statbuf)",
          "new_text": null,
          "old_line_content": "    if (!UTIL_stat(fileName, &statbuf)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "        EXM_THROW(31, \"Stat failed on dictionary file %s: %s\", fileName, strerror(errno));",
          "new_line_content": "    FILE* fileHandle;",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "UTIL_isRegularFileStat",
          "new_api": null,
          "old_text": "UTIL_isRegularFileStat(&statbuf)",
          "new_text": null,
          "old_line_content": "    if (!UTIL_isRegularFileStat(&statbuf)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srcSuffix)",
          "new_text": null,
          "old_line_content": "    srcSuffixLen = strlen(srcSuffix);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(fileName, \"rb\")",
          "new_text": null,
          "old_line_content": "    fileHandle = fopen(fileName, \"rb\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(*matchedSuffixPtr, srcSuffix)",
          "new_text": null,
          "old_line_content": "            if (!strcmp(*matchedSuffixPtr, srcSuffix)) {",
          "new_line_content": "            \"zstd: %s: unknown suffix (%s expected). \"",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "UTIL_getFileSizeStat",
          "new_api": null,
          "old_text": "UTIL_getFileSizeStat(&statbuf)",
          "new_text": null,
          "old_line_content": "    fileSize = UTIL_getFileSizeStat(&statbuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(34, \"Dictionary file %s is too large (> %u bytes)\",\n                            fileName,  (unsigned)dictSizeMax)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(34, \"Dictionary file %s is too large (> %u bytes)\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2809,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1,\n                \"zstd: %s: unknown suffix (%s expected). \"\n                \"Can't derive the output file name. \"\n                \"Specify it with -o dstFileName. Ignoring.\\n\",\n                srcFileName, suffixListStr)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "    if (*bufferPtr==NULL) EXM_THROW(34, \"%s\", strerror(errno));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(*bufferPtr, 1, (size_t)fileSize, fileHandle)",
          "new_text": null,
          "old_line_content": "    {   size_t const readSize = fread(*bufferPtr, 1, (size_t)fileSize, fileHandle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(35, \"Error reading dictionary file %s : %s\",\n                    fileName, strerror(errno))",
          "new_text": null,
          "old_line_content": "            EXM_THROW(35, \"Error reading dictionary file %s : %s\",",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                    fileName, strerror(errno));",
          "new_line_content": "        size_t const dictSizeMax = prefs->patchFromMode ? prefs->memLimit : DICTSIZE_MAX;",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(dstSuffix)",
          "new_text": null,
          "old_line_content": "            dstSuffixLen = strlen(dstSuffix);",
          "new_line_content": "        if (sfnSize <= srcSuffixLen || *matchedSuffixPtr == NULL) {",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(fileHandle)",
          "new_text": null,
          "old_line_content": "    fclose(fileHandle);",
          "new_line_content": "                            fileName,  (unsigned)dictSizeMax);   /* avoid extreme cases */",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": "FIO_createFilename_fromOutDir",
          "new_api": null,
          "old_text": "FIO_createFilename_fromOutDir(srcFileName, outDirName, 0)",
          "new_text": null,
          "old_line_content": "        outDirFilename = FIO_createFilename_fromOutDir(srcFileName, outDirName, 0);",
          "new_line_content": "                srcFileName, suffixListStr);",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(outDirFilename)",
          "new_text": null,
          "old_line_content": "        sfnSize = strlen(outDirFilename);",
          "new_line_content": "            return NULL;",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(outDirFilename != NULL)",
          "new_text": null,
          "old_line_content": "        assert(outDirFilename != NULL);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(dstFileNameBuffer)",
          "new_text": null,
          "old_line_content": "        free(dstFileNameBuffer);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(dfnbCapacity)",
          "new_text": null,
          "old_line_content": "        dstFileNameBuffer = (char*)malloc(dfnbCapacity);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(sizeof(char*) * nbFiles)",
          "new_text": null,
          "old_line_content": "    filenameTableSorted = (const char**) malloc(sizeof(char*) * nbFiles);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\"Unable to malloc new str array, not checking for name collisions\\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAY(\"Unable to malloc new str array, not checking for name collisions\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(dstFileNameBuffer != NULL)",
          "new_text": null,
          "old_line_content": "    assert(dstFileNameBuffer != NULL);",
          "new_line_content": "    if (dfnbCapacity+srcSuffixLen <= sfnSize+1+dstSuffixLen) {",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(filenameTable[u], PATH_SEP)",
          "new_text": null,
          "old_line_content": "        filename = strrchr(filenameTable[u], PATH_SEP);",
          "new_line_content": "int FIO_checkFilenameCollisions(const char** filenameTable, unsigned nbFiles) {",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dstFileNameBuffer, outDirFilename, dstFileNameEndPos)",
          "new_text": null,
          "old_line_content": "        memcpy(dstFileNameBuffer, outDirFilename, dstFileNameEndPos);",
          "new_line_content": "        dfnbCapacity = sfnSize + 20;",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "qsort",
          "new_api": null,
          "old_text": "qsort((void*)filenameTableSorted, nbFiles, sizeof(char*), UTIL_compareStr)",
          "new_text": null,
          "old_line_content": "    qsort((void*)filenameTableSorted, nbFiles, sizeof(char*), UTIL_compareStr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\"WARNING: Two files have same filename: %s\\n\", prevElem)",
          "new_text": null,
          "old_line_content": "            DISPLAY(\"WARNING: Two files have same filename: %s\\n\", prevElem);",
          "new_line_content": "        if (filename == NULL) {",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "free",
          "new_api": null,
          "old_text": "free((void*)filenameTableSorted)",
          "new_text": null,
          "old_line_content": "    free((void*)filenameTableSorted);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(path, separator)",
          "new_text": null,
          "old_line_content": "    const char* search = strrchr(path, separator);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": "FIO_createDResources",
          "new_api": null,
          "old_text": "FIO_createDResources(prefs, dictFileName)",
          "new_text": null,
          "old_line_content": "    dRess_t ress = FIO_createDResources(prefs, dictFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "FIO_removeMultiFilesWarning",
          "new_api": null,
          "old_text": "FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)",
          "new_text": null,
          "old_line_content": "        if (FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)) {",
          "new_line_content": "                                FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": "FIO_freeDResources",
          "new_api": null,
          "old_text": "FIO_freeDResources(ress)",
          "new_text": null,
          "old_line_content": "            FIO_freeDResources(ress);",
          "new_line_content": "                                const char** srcNamesTable,",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": "FIO_openDstFile",
          "new_api": null,
          "old_text": "FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS)",
          "new_text": null,
          "old_line_content": "            ress.dstFile = FIO_openDstFile(fCtx, prefs, NULL, outFileName, DEFAULT_FILE_PERMISSIONS);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(19, \"cannot open %s\", outFileName)",
          "new_text": null,
          "old_line_content": "            if (ress.dstFile == 0) EXM_THROW(19, \"cannot open %s\", outFileName);",
          "new_line_content": "    int status;",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "FIO_decompressSrcFile",
          "new_api": null,
          "old_text": "FIO_decompressSrcFile(fCtx, prefs, ress, outFileName, srcNamesTable[fCtx->currFileIdx])",
          "new_text": null,
          "old_line_content": "            status = FIO_decompressSrcFile(fCtx, prefs, ress, outFileName, srcNamesTable[fCtx->currFileIdx]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(ress.dstFile)",
          "new_text": null,
          "old_line_content": "        if ((!prefs->testMode) && (fclose(ress.dstFile)))",
          "new_line_content": "            return 1;",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(72, \"Write error : %s : cannot properly close output file\",\n                        strerror(errno))",
          "new_text": null,
          "old_line_content": "            EXM_THROW(72, \"Write error : %s : cannot properly close output file\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2885,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                        strerror(errno));",
          "new_line_content": "        if (!prefs->testMode) {",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "extractFilename",
          "new_api": null,
          "old_text": "extractFilename(path, separator)",
          "new_text": null,
          "old_line_content": "    filenameStart = extractFilename(path, separator);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2888,
          "old_api": "UTIL_mirrorSourceFilesDirectories",
          "new_api": null,
          "old_text": "UTIL_mirrorSourceFilesDirectories(srcNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName)",
          "new_text": null,
          "old_line_content": "            UTIL_mirrorSourceFilesDirectories(srcNamesTable, (unsigned)fCtx->nbFilesTotal, outMirroredRootDirName);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "extractFilename",
          "new_api": null,
          "old_text": "extractFilename(filenameStart, '/')",
          "new_text": null,
          "old_line_content": "    filenameStart = extractFilename(filenameStart, '/');  /* sometimes, '/' separator is also used on Windows (mingw+msys2) */",
          "new_line_content": "    char separator;",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(filenameStart)",
          "new_text": null,
          "old_line_content": "    result = (char*) calloc(1, strlen(outDirName) + 1 + strlen(filenameStart) + suffixLen + 1);",
          "new_line_content": "#if defined(_MSC_VER) || defined(__MINGW32__) || defined (__MSVCRT__) /* windows support */",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "        EXM_THROW(30, \"zstd: FIO_createFilename_fromOutDir: %s\", strerror(errno));",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 2897,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(validMirroredDirName)",
          "new_text": null,
          "old_line_content": "                    free(validMirroredDirName);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(outDirName)",
          "new_text": null,
          "old_line_content": "    memcpy(result, outDirName, strlen(outDirName));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(filenameStart)",
          "new_text": null,
          "old_line_content": "        memcpy(result + strlen(outDirName), filenameStart, strlen(filenameStart));",
          "new_line_content": "#if defined(_MSC_VER) || defined(__MINGW32__) || defined (__MSVCRT__) /* windows support */",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(outDirName)",
          "new_text": null,
          "old_line_content": "        memcpy(result + strlen(outDirName), &separator, 1);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(filenameStart)",
          "new_text": null,
          "old_line_content": "        memcpy(result + strlen(outDirName) + 1, filenameStart, strlen(filenameStart));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": "FIO_determineDstName",
          "new_api": null,
          "old_text": "FIO_determineDstName(srcFileName, outDirName)",
          "new_text": null,
          "old_line_content": "                dstFileName = FIO_determineDstName(srcFileName, outDirName);",
          "new_line_content": "            const char* const srcFileName = srcNamesTable[fCtx->currFileIdx];",
          "content_same": false
        },
        {
          "line": 2914,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"%d files decompressed : %6zu bytes total \\n\", fCtx->nbFilesProcessed, fCtx->totalBytesOutput)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(2, \"%d files decompressed : %6zu bytes total \\n\", fCtx->nbFilesProcessed, fCtx->totalBytesOutput);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(v != 0)",
          "new_text": null,
          "old_line_content": "    assert(v != 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "MAX",
          "new_api": null,
          "old_text": "MAX(dictSize, maxSrcFileSize)",
          "new_text": null,
          "old_line_content": "    unsigned long long maxSize = MAX(prefs->memLimit, MAX(dictSize, maxSrcFileSize));",
          "new_line_content": "    unsigned count = 0;",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(42, \"Using --patch-from with stdin requires --stream-size\")",
          "new_text": null,
          "old_line_content": "        EXM_THROW(42, \"Using --patch-from with stdin requires --stream-size\");",
          "new_line_content": "    while (v) { v >>= 1; count++; }",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(maxSize != UTIL_FILESIZE_UNKNOWN)",
          "new_text": null,
          "old_line_content": "    assert(maxSize != UTIL_FILESIZE_UNKNOWN);",
          "new_line_content": "    return count;",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(42, \"Can't handle files larger than %u GB\\n\", maxWindowSize/(1 GB))",
          "new_text": null,
          "old_line_content": "        EXM_THROW(42, \"Can't handle files larger than %u GB\\n\", maxWindowSize/(1 GB));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "FIO_setMemLimit",
          "new_api": null,
          "old_text": "FIO_setMemLimit(prefs, (unsigned)maxSize)",
          "new_text": null,
          "old_line_content": "    FIO_setMemLimit(prefs, (unsigned)maxSize);",
          "new_line_content": "static void FIO_adjustMemLimitForPatchFromMode(FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: Aborting... not deleting files and processing into dst: %s\\n\", outFileName)",
          "new_text": null,
          "old_line_content": "                DISPLAYLEVEL(1, \"zstd: Aborting... not deleting files and processing into dst: %s\\n\", outFileName);",
          "new_line_content": " *         If -q is specified with --rm, zstd will abort pre-emptively",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(headerBuffer, 1, sizeof(headerBuffer), srcFile)",
          "new_text": null,
          "old_line_content": "        size_t const numBytesRead = fread(headerBuffer, 1, sizeof(headerBuffer), srcFile);",
          "new_line_content": "        DISPLAYLEVEL(1, \" \\n\");        \\",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(outFileName, stdoutmark)",
          "new_text": null,
          "old_line_content": "            if (!strcmp(outFileName, stdoutmark)) {",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into stdout. \\n\")",
          "new_text": null,
          "old_line_content": "                DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into stdout. \\n\");",
          "new_line_content": "static int FIO_removeMultiFilesWarning(FIO_ctx_t* const fCtx, const FIO_prefs_t* const prefs, const char* outFileName, int displayLevelCutoff)",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": "ZSTD_FRAMEHEADERSIZE_MIN",
          "new_api": null,
          "old_text": "ZSTD_FRAMEHEADERSIZE_MIN(ZSTD_f_zstd1)",
          "new_text": null,
          "old_line_content": "        if (numBytesRead < ZSTD_FRAMEHEADERSIZE_MIN(ZSTD_f_zstd1)) {",
          "new_line_content": "        return n;                      \\",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into a single output file: %s \\n\", outFileName)",
          "new_text": null,
          "old_line_content": "                DISPLAYLEVEL(2, \"zstd: WARNING: all input files will be processed and concatenated into a single output file: %s \\n\", outFileName);",
          "new_line_content": "    int error = 0;",
          "content_same": false
        },
        {
          "line": 2959,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(srcFile)",
          "new_text": null,
          "old_line_content": "            if ( feof(srcFile)",
          "new_line_content": "    }                                  \\",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"The concatenated output CANNOT regenerate the original directory tree. \\n\")",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(2, \"The concatenated output CANNOT regenerate the original directory tree. \\n\")",
          "new_line_content": "        if (g_display_prefs.displayLevel <= displayLevelCutoff) {",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "LONG_TELL",
          "new_api": null,
          "old_text": "LONG_TELL(srcFile)",
          "new_text": null,
          "old_line_content": "                unsigned long long file_position = (unsigned long long) LONG_TELL(srcFile);",
          "new_line_content": "FIO_analyzeFrames(fileInfo_t* info, FILE* const srcFile)",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": "ERROR_IF",
          "new_api": null,
          "old_text": "ERROR_IF(file_position != file_size, info_truncated_input,\n                  \"Error: seeked to position %llu, which is beyond file size of %llu\\n\",\n                  file_position,\n                  file_size)",
          "new_text": null,
          "old_line_content": "                ERROR_IF(file_position != file_size, info_truncated_input,",
          "new_line_content": "    /* begin analyzing frame */",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"Aborting. Use -f if you really want to delete the files and output to stdout\\n\")",
          "new_text": null,
          "old_line_content": "                    DISPLAYLEVEL(1, \"Aborting. Use -f if you really want to delete the files and output to stdout\\n\");",
          "new_line_content": "                error =  1;",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(srcFile)",
          "new_text": null,
          "old_line_content": "            ERROR_IF(feof(srcFile), info_not_zstd, \"Error: reached end of file with incomplete frame\");",
          "new_line_content": "              && (numBytesRead == 0)",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": "ERROR_IF",
          "new_api": null,
          "old_text": "ERROR_IF(1, info_frame_error, \"Error: did not reach end of file but ran out of frames\")",
          "new_text": null,
          "old_line_content": "            ERROR_IF(1, info_frame_error, \"Error: did not reach end of file but ran out of frames\");",
          "new_line_content": "              && (info->compressedSize > 0)",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": "ZSTD_getFrameContentSize",
          "new_api": null,
          "old_text": "ZSTD_getFrameContentSize(headerBuffer, numBytesRead)",
          "new_text": null,
          "old_line_content": "                U64 const frameContentSize = ZSTD_getFrameContentSize(headerBuffer, numBytesRead);",
          "new_line_content": "                  file_position,",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": "ZSTD_isError",
          "new_api": null,
          "old_text": "ZSTD_isError(headerSize)",
          "new_text": null,
          "old_line_content": "                    ERROR_IF(ZSTD_isError(headerSize), info_frame_error, \"Error: could not determine frame header size\");",
          "new_line_content": "                if ( frameContentSize == ZSTD_CONTENTSIZE_ERROR",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(srcFile, ((long)headerSize)-((long)numBytesRead), SEEK_CUR)",
          "new_text": null,
          "old_line_content": "                    ERROR_IF(fseek(srcFile, ((long)headerSize)-((long)numBytesRead), SEEK_CUR) != 0,",
          "new_line_content": "                  || frameContentSize == ZSTD_CONTENTSIZE_UNKNOWN ) {",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(blockHeaderBuffer, 1, 3, srcFile)",
          "new_text": null,
          "old_line_content": "                        ERROR_IF(fread(blockHeaderBuffer, 1, 3, srcFile) != 3,",
          "new_line_content": "                /* move to the end of the frame header */",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(hashLog > 1)",
          "new_text": null,
          "old_line_content": "    assert(hashLog > 1);",
          "new_line_content": "    void* dictBuffer;",
          "content_same": false
        },
        {
          "line": 3006,
          "old_api": "ERROR_IF",
          "new_api": null,
          "old_text": "ERROR_IF(isWrongBlock, info_frame_error, \"Error: unsupported block type\")",
          "new_text": null,
          "old_line_content": "                            ERROR_IF(isWrongBlock, info_frame_error, \"Error: unsupported block type\");",
          "new_line_content": "                /* skip all blocks in the frame */",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(srcFile, blockSize, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "                            ERROR_IF(fseek(srcFile, blockSize, SEEK_CUR) != 0,",
          "new_line_content": "                    do {",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "FIO_highbit64",
          "new_api": null,
          "old_text": "FIO_highbit64(maxSrcFileSize)",
          "new_text": null,
          "old_line_content": "    unsigned const fileWindowLog = FIO_highbit64(maxSrcFileSize) + 1;",
          "new_line_content": "    U32 const btScale = ((U32)strat >= (U32)ZSTD_btlazy2);",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "FIO_adjustMemLimitForPatchFromMode",
          "new_api": null,
          "old_text": "FIO_adjustMemLimitForPatchFromMode(prefs, dictSize, maxSrcFileSize)",
          "new_text": null,
          "old_line_content": "    FIO_adjustMemLimitForPatchFromMode(prefs, dictSize, maxSrcFileSize);",
          "new_line_content": "    return hashLog - btScale;",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"Max window log exceeded by file (compression ratio will suffer)\\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"Max window log exceeded by file (compression ratio will suffer)\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(ZSTD_WINDOWLOG_MAX, fileWindowLog)",
          "new_text": null,
          "old_line_content": "    comprParams->windowLog = MAX(ZSTD_WINDOWLOG_MIN, MIN(ZSTD_WINDOWLOG_MAX, fileWindowLog));",
          "new_line_content": "static void FIO_adjustParamsForPatchFromMode(FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "ZSTD_cycleLog",
          "new_api": null,
          "old_text": "ZSTD_cycleLog(cParams.chainLog, cParams.strategy)",
          "new_text": null,
          "old_line_content": "    if (fileWindowLog > ZSTD_cycleLog(cParams.chainLog, cParams.strategy)) {",
          "new_line_content": "                                    ZSTD_compressionParameters* comprParams,",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"long mode automatically triggered\\n\")",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"long mode automatically triggered\\n\");",
          "new_line_content": "                                    unsigned long long const maxSrcFileSize,",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "FIO_setLdmFlag",
          "new_api": null,
          "old_text": "FIO_setLdmFlag(prefs, 1)",
          "new_text": null,
          "old_line_content": "        FIO_setLdmFlag(prefs, 1);",
          "new_line_content": "                                    int cLevel)",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"- Set a larger targetLength (eg. --zstd=targetLength=4096)\\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"- Set a larger targetLength (eg. --zstd=targetLength=4096)\\n\");",
          "new_line_content": "    if (fileWindowLog > ZSTD_WINDOWLOG_MAX)",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": "MEM_readLE32",
          "new_api": null,
          "old_text": "MEM_readLE32(headerBuffer + 4)",
          "new_text": null,
          "old_line_content": "                U32 const frameSize = MEM_readLE32(headerBuffer + 4);",
          "new_line_content": "                {   BYTE const frameHeaderDescriptor = headerBuffer[4];",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": "LONG_SEEK",
          "new_api": null,
          "old_text": "LONG_SEEK(srcFile, seek, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "                ERROR_IF(LONG_SEEK(srcFile, seek, SEEK_CUR) != 0,",
          "new_line_content": "                    if (contentChecksumFlag) {",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(30, \"allocation error (%s): can't create ZSTD_CCtx\",\n                    strerror(errno))",
          "new_text": null,
          "old_line_content": "        EXM_THROW(30, \"allocation error (%s): can't create ZSTD_CCtx\",",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                    strerror(errno));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "ZSTD_CStreamInSize",
          "new_api": null,
          "old_text": "ZSTD_CStreamInSize()",
          "new_text": null,
          "old_line_content": "    ress.srcBufferSize = ZSTD_CStreamInSize();",
          "new_line_content": "static cRess_t FIO_createCResources(FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ress.srcBufferSize)",
          "new_text": null,
          "old_line_content": "    ress.srcBuffer = malloc(ress.srcBufferSize);",
          "new_line_content": "                                    const char* dictFileName, unsigned long long const maxSrcFileSize,",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "ZSTD_CStreamOutSize",
          "new_api": null,
          "old_text": "ZSTD_CStreamOutSize()",
          "new_text": null,
          "old_line_content": "    ress.dstBufferSize = ZSTD_CStreamOutSize();",
          "new_line_content": "                                    int cLevel, ZSTD_compressionParameters comprParams) {",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": "FIO_openSrcFile",
          "new_api": null,
          "old_text": "FIO_openSrcFile(NULL, inFileName)",
          "new_text": null,
          "old_line_content": "    FILE* const srcFile = FIO_openSrcFile(NULL, inFileName);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": "ERROR_IF",
          "new_api": null,
          "old_text": "ERROR_IF(srcFile == NULL, info_file_error, \"Error: could not open source file %s\", inFileName)",
          "new_text": null,
          "old_line_content": "    ERROR_IF(srcFile == NULL, info_file_error, \"Error: could not open source file %s\", inFileName);",
          "new_line_content": "        }  /* magic number analysis */",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "UTIL_getFileSize",
          "new_api": null,
          "old_text": "UTIL_getFileSize(dictFileName)",
          "new_text": null,
          "old_line_content": "        FIO_adjustParamsForPatchFromMode(prefs, &comprParams, UTIL_getFileSize(dictFileName), ssSize > 0 ? ssSize : maxSrcFileSize, cLevel);",
          "new_line_content": "    if (ress.cctx == NULL)",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": "UTIL_getFileSize",
          "new_api": null,
          "old_text": "UTIL_getFileSize(inFileName)",
          "new_text": null,
          "old_line_content": "    info->compressedSize = UTIL_getFileSize(inFileName);",
          "new_line_content": "    return info_success;",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": "FIO_analyzeFrames",
          "new_api": null,
          "old_text": "FIO_analyzeFrames(info, srcFile)",
          "new_text": null,
          "old_line_content": "    status = FIO_analyzeFrames(info, srcFile);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(srcFile)",
          "new_text": null,
          "old_line_content": "    fclose(srcFile);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(32, \"allocation error : can't create dictBuffer\")",
          "new_text": null,
          "old_line_content": "        EXM_THROW(32, \"allocation error : can't create dictBuffer\");",
          "new_line_content": "    if (prefs->patchFromMode) {",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_contentSizeFlag, prefs->contentSize)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_contentSizeFlag, prefs->contentSize) );  /* always enable content size when available (note: supposed to be default) */",
          "new_line_content": "    if (!ress.srcBuffer || !ress.dstBuffer)",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": "UTIL_isRegularFile",
          "new_api": null,
          "old_text": "UTIL_isRegularFile(srcFileName)",
          "new_text": null,
          "old_line_content": "    ERROR_IF(!UTIL_isRegularFile(srcFileName),",
          "new_line_content": "    return status;",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_checksumFlag, prefs->checksumFlag)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_checksumFlag, prefs->checksumFlag) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": "getFileInfo_fileConfirmed",
          "new_api": null,
          "old_text": "getFileInfo_fileConfirmed(info, srcFileName)",
          "new_text": null,
          "old_line_content": "    return getFileInfo_fileConfirmed(info, srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, cLevel)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, cLevel) );",
          "new_line_content": "    if (dictFileName && (ress.dictBuffer==NULL))",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_targetCBlockSize, (int)prefs->targetCBlockSize)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_targetCBlockSize, (int)prefs->targetCBlockSize) );",
          "new_line_content": "    ress.dictFileName = dictFileName;",
          "content_same": false
        },
        {
          "line": 1024,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_srcSizeHint, (int)prefs->srcSizeHint)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_srcSizeHint, (int)prefs->srcSizeHint) );",
          "new_line_content": "    if (prefs->adaptiveMode && !prefs->ldmFlag && !comprParams.windowLog)",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_enableLongDistanceMatching, prefs->ldmFlag)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_enableLongDistanceMatching, prefs->ldmFlag) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3074,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(info->windowSize)",
          "new_text": null,
          "old_line_content": "    UTIL_HumanReadableSize_t const window_hrs = UTIL_makeHumanReadableSize(info->windowSize);",
          "new_line_content": "getFileInfo(fileInfo_t* info, const char* srcFileName)",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(info->compressedSize)",
          "new_text": null,
          "old_line_content": "    UTIL_HumanReadableSize_t const compressed_hrs = UTIL_makeHumanReadableSize(info->compressedSize);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_ldmBucketSizeLog, prefs->ldmBucketSizeLog)",
          "new_text": null,
          "old_line_content": "        CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_ldmBucketSizeLog, prefs->ldmBucketSizeLog) );",
          "new_line_content": "    /* compression level */",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %s\\n\",\n                    info->numSkippableFrames + info->numActualFrames,\n                    info->numSkippableFrames,\n                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                    decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,\n                    ratio, checkString, inFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYOUT(\"%6d  %5d  %6.*f%4s  %8.*f%4s  %5.3f  %5s  %s\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_searchLog, (int)comprParams.searchLog)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_searchLog, (int)comprParams.searchLog) );",
          "new_line_content": "    if (prefs->ldmBucketSizeLog != FIO_LDM_PARAM_NOTSET) {",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s                       %5s  %s\\n\",\n                    info->numSkippableFrames + info->numActualFrames,\n                    info->numSkippableFrames,\n                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                    checkString, inFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYOUT(\"%6d  %5d  %6.*f%4s                       %5s  %s\\n\",",
          "new_line_content": "    double const ratio = (info->compressedSize == 0) ? 0 : ((double)info->decompressedSize)/(double)info->compressedSize;",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_targetLength, (int)comprParams.targetLength)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_targetLength, (int)comprParams.targetLength) );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_strategy, (int)comprParams.strategy)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_strategy, (int)comprParams.strategy) );",
          "new_line_content": "    if (prefs->ldmHashRateLog != FIO_LDM_PARAM_NOTSET) {",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_enableDedicatedDictSearch, 1)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_enableDedicatedDictSearch, 1) );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"%s \\n\", inFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYOUT(\"%s \\n\", inFileName);",
          "new_line_content": "                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"# Zstandard Frames: %d\\n\", info->numActualFrames)",
          "new_text": null,
          "old_line_content": "        DISPLAYOUT(\"# Zstandard Frames: %d\\n\", info->numActualFrames);",
          "new_line_content": "                    decompressed_hrs.precision, decompressed_hrs.value, decompressed_hrs.suffix,",
          "content_same": false
        },
        {
          "line": 3098,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"# Skippable Frames: %d\\n\", info->numSkippableFrames)",
          "new_text": null,
          "old_line_content": "            DISPLAYOUT(\"# Skippable Frames: %d\\n\", info->numSkippableFrames);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"Compressed Size: %.*f%s (%llu B)\\n\",\n                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                    (unsigned long long)info->compressedSize)",
          "new_text": null,
          "old_line_content": "        DISPLAYOUT(\"Compressed Size: %.*f%s (%llu B)\\n\",",
          "new_line_content": "                    compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"Check: %s\\n\", checkString)",
          "new_text": null,
          "old_line_content": "        DISPLAYOUT(\"Check: %s\\n\", checkString);",
          "new_line_content": "                   window_hrs.precision, window_hrs.value, window_hrs.suffix,",
          "content_same": false
        },
        {
          "line": 3112,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"\\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAYOUT(\"\\n\");",
          "new_line_content": "                   (unsigned long long)info->windowSize);",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(ress->srcBuffer)",
          "new_text": null,
          "old_line_content": "    free(ress->srcBuffer);",
          "new_line_content": "    if (prefs->patchFromMode) {",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(ress->dictBuffer)",
          "new_text": null,
          "old_line_content": "    free(ress->dictBuffer);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&total, 0, sizeof(total))",
          "new_text": null,
          "old_line_content": "    memset(&total, 0, sizeof(total));",
          "new_line_content": "                    (unsigned long long)info->decompressedSize);",
          "content_same": false
        },
        {
          "line": 3134,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&info, 0, sizeof(info))",
          "new_text": null,
          "old_line_content": "    memset(&info, 0, sizeof(info));",
          "new_line_content": "    total.decompressedSize = fi1.decompressedSize + fi2.decompressedSize;",
          "content_same": false
        },
        {
          "line": 3135,
          "old_api": "getFileInfo",
          "new_api": null,
          "old_text": "getFileInfo(&info, inFileName)",
          "new_text": null,
          "old_line_content": "    {   InfoError const error = getFileInfo(&info, inFileName);",
          "new_line_content": "    total.decompUnavailable = fi1.decompUnavailable | fi2.decompUnavailable;",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"Error while parsing \\\"%s\\\" \\n\", inFileName)",
          "new_text": null,
          "old_line_content": "                DISPLAYLEVEL(1, \"Error while parsing \\\"%s\\\" \\n\", inFileName);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "deflateInit2",
          "new_api": null,
          "old_text": "deflateInit2(&strm, compressionLevel, Z_DEFLATED,\n                        15 /* maxWindowLogSize */ + 16 /* gzip only */,\n                        8, Z_DEFAULT_STRATEGY)",
          "new_text": null,
          "old_line_content": "    {   int const ret = deflateInit2(&strm, compressionLevel, Z_DEFLATED,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"File \\\"%s\\\" not compressed by zstd \\n\", inFileName)",
          "new_text": null,
          "old_line_content": "                DISPLAYOUT(\"File \\\"%s\\\" not compressed by zstd \\n\", inFileName);",
          "new_line_content": "FIO_listFile(fileInfo_t* total, const char* inFileName, int displayLevel)",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"\\n\")",
          "new_text": null,
          "old_line_content": "                if (displayLevel > 2) DISPLAYOUT(\"\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(71, \"zstd: %s: deflateInit2 error %d \\n\", srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(71, \"zstd: %s: deflateInit2 error %d \\n\", srcFileName, ret);",
          "new_line_content": "    if (compressionLevel > Z_BEST_COMPRESSION)",
          "content_same": false
        },
        {
          "line": 3147,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"\\n\")",
          "new_text": null,
          "old_line_content": "                if (displayLevel > 2) DISPLAYOUT(\"\\n\");",
          "new_line_content": "        switch (error) {",
          "content_same": false
        },
        {
          "line": 3151,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"\\n\")",
          "new_text": null,
          "old_line_content": "                if (displayLevel > 2) DISPLAYOUT(\"\\n\");",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": "FIO_addFInfo",
          "new_api": null,
          "old_text": "FIO_addFInfo(*total, info)",
          "new_text": null,
          "old_line_content": "        *total = FIO_addFInfo(*total, info);",
          "new_line_content": "                return 1;",
          "content_same": false
        },
        {
          "line": 3160,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(error == info_success || error == info_frame_error)",
          "new_text": null,
          "old_line_content": "        assert(error == info_success || error == info_frame_error);",
          "new_line_content": "            case info_truncated_input:",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "deflate",
          "new_api": null,
          "old_text": "deflate(&strm, Z_NO_FLUSH)",
          "new_text": null,
          "old_line_content": "        ret = deflate(&strm, Z_NO_FLUSH);",
          "new_line_content": "    strm.avail_out = (uInt)ress->dstBufferSize;",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(72, \"zstd: %s: deflate error %d \\n\", srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(72, \"zstd: %s: deflate error %d \\n\", srcFileName, ret);",
          "new_line_content": "    while (1) {",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(73, \"Write error : cannot write to output file : %s \", strerror(errno));",
          "new_line_content": "            if (inSize == 0) break;",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%% \",\n                            (unsigned)(inFileSize>>20),\n                            (double)outFileSize/inFileSize*100)",
          "new_text": null,
          "old_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%% \",",
          "new_line_content": "        if (ret != Z_OK)",
          "content_same": false
        },
        {
          "line": 3175,
          "old_api": "IS_CONSOLE",
          "new_api": null,
          "old_text": "IS_CONSOLE(stdin)",
          "new_text": null,
          "old_line_content": "        if (!IS_CONSOLE(stdin)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3176,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: --list does not support reading from standard input \\n\")",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: --list does not support reading from standard input \\n\");",
          "new_line_content": "int FIO_listMultipleFiles(unsigned numFiles, const char** filenameTable, int displayLevel)",
          "content_same": false
        },
        {
          "line": 3178,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"No files given \\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"No files given \\n\");",
          "new_line_content": "    /* ensure no specified input is stdin (needs fseek() capability) */",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "deflate",
          "new_api": null,
          "old_text": "deflate(&strm, Z_FINISH)",
          "new_text": null,
          "old_line_content": "        int const ret = deflate(&strm, Z_FINISH);",
          "new_line_content": "        if (srcFileSize == UTIL_FILESIZE_UNKNOWN) {",
          "content_same": false
        },
        {
          "line": 3183,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"Frames  Skips  Compressed  Uncompressed  Ratio  Check  Filename\\n\")",
          "new_text": null,
          "old_line_content": "        DISPLAYOUT(\"Frames  Skips  Compressed  Uncompressed  Ratio  Check  Filename\\n\");",
          "new_line_content": "    }   }",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(ress->dstBuffer, 1, cSize, ress->dstFile)",
          "new_text": null,
          "old_line_content": "                if (fwrite(ress->dstBuffer, 1, cSize, ress->dstFile) != cSize)",
          "new_line_content": "                            (double)outFileSize/inFileSize*100)",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(75, \"Write error : %s \", strerror(errno));",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 3192,
          "old_api": "FIO_listFile",
          "new_api": null,
          "old_text": "FIO_listFile(&total, filenameTable[u], displayLevel)",
          "new_text": null,
          "old_line_content": "                error |= FIO_listFile(&total, filenameTable[u], displayLevel);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3195,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(total.compressedSize)",
          "new_text": null,
          "old_line_content": "            UTIL_HumanReadableSize_t const compressed_hrs = UTIL_makeHumanReadableSize(total.compressedSize);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3196,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(total.decompressedSize)",
          "new_text": null,
          "old_line_content": "            UTIL_HumanReadableSize_t const decompressed_hrs = UTIL_makeHumanReadableSize(total.decompressedSize);",
          "new_line_content": "    {   int error = 0;",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(79, \"zstd: %s: deflateEnd error %d \\n\", srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(79, \"zstd: %s: deflateEnd error %d \\n\", srcFileName, ret);",
          "new_line_content": "                outFileSize += cSize;",
          "content_same": false
        },
        {
          "line": 3199,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"----------------------------------------------------------------- \\n\")",
          "new_text": null,
          "old_line_content": "            DISPLAYOUT(\"----------------------------------------------------------------- \\n\");",
          "new_line_content": "        total.usesCheck = 1;",
          "content_same": false
        },
        {
          "line": 3201,
          "old_api": "DISPLAYOUT",
          "new_api": null,
          "old_text": "DISPLAYOUT(\"%6d  %5d  %6.*f%4s                       %5s  %u files\\n\",\n                        total.numSkippableFrames + total.numActualFrames,\n                        total.numSkippableFrames,\n                        compressed_hrs.precision, compressed_hrs.value, compressed_hrs.suffix,\n                        checkString, (unsigned)total.nbFiles)",
          "new_text": null,
          "old_line_content": "                DISPLAYOUT(\"%6d  %5d  %6.*f%4s                       %5s  %u files\\n\",",
          "new_line_content": "        {   unsigned u;",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "lzma_lzma_preset",
          "new_api": null,
          "old_text": "lzma_lzma_preset(&opt_lzma, compressionLevel)",
          "new_text": null,
          "old_line_content": "        if (lzma_lzma_preset(&opt_lzma, compressionLevel))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(81, \"zstd: %s: lzma_lzma_preset error\", srcFileName)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(81, \"zstd: %s: lzma_lzma_preset error\", srcFileName);",
          "new_line_content": "    unsigned long long inFileSize = 0, outFileSize = 0;",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "lzma_alone_encoder",
          "new_api": null,
          "old_text": "lzma_alone_encoder(&strm, &opt_lzma)",
          "new_text": null,
          "old_line_content": "        ret = lzma_alone_encoder(&strm, &opt_lzma); /* LZMA */",
          "new_line_content": "    lzma_stream strm = LZMA_STREAM_INIT;",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(82, \"zstd: %s: lzma_alone_encoder error %d\", srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(82, \"zstd: %s: lzma_alone_encoder error %d\", srcFileName, ret);",
          "new_line_content": "    lzma_ret ret;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "lzma_easy_encoder",
          "new_api": null,
          "old_text": "lzma_easy_encoder(&strm, compressionLevel, LZMA_CHECK_CRC64)",
          "new_text": null,
          "old_line_content": "        ret = lzma_easy_encoder(&strm, compressionLevel, LZMA_CHECK_CRC64); /* XZ */",
          "new_line_content": "    if (compressionLevel < 0) compressionLevel = 0;",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(83, \"zstd: %s: lzma_easy_encoder error %d\", srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(83, \"zstd: %s: lzma_easy_encoder error %d\", srcFileName, ret);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile)",
          "new_text": null,
          "old_line_content": "            size_t const inSize = fread(ress->srcBuffer, 1, ress->srcBufferSize, ress->srcFile);",
          "new_line_content": "        if (ret != LZMA_OK)",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "lzma_code",
          "new_api": null,
          "old_text": "lzma_code(&strm, action)",
          "new_text": null,
          "old_line_content": "        ret = lzma_code(&strm, action);",
          "new_line_content": "    strm.avail_out = ress->dstBufferSize;",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(84, \"zstd: %s: lzma_code encoding error %d\", srcFileName, ret)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(84, \"zstd: %s: lzma_code encoding error %d\", srcFileName, ret);",
          "new_line_content": "        if (strm.avail_in == 0) {",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(ress->dstBuffer, 1, compBytes, ress->dstFile)",
          "new_text": null,
          "old_line_content": "                if (fwrite(ress->dstBuffer, 1, compBytes, ress->dstFile) != compBytes)",
          "new_line_content": "            inFileSize += inSize;",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(85, \"Write error : %s\", strerror(errno));",
          "new_line_content": "            strm.next_in = (BYTE const*)ress->srcBuffer;",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",\n                            (unsigned)(inFileSize>>20),\n                            (double)outFileSize/inFileSize*100)",
          "new_text": null,
          "old_line_content": "            DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",",
          "new_line_content": "        if (ret != LZMA_OK && ret != LZMA_STREAM_END)",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "lzma_end",
          "new_api": null,
          "old_text": "lzma_end(&strm)",
          "new_text": null,
          "old_line_content": "    lzma_end(&strm);",
          "new_line_content": "        if (srcFileSize == UTIL_FILESIZE_UNKNOWN)",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "FIO_LZ4_GetBlockSize_FromBlockId",
          "new_api": null,
          "old_text": "FIO_LZ4_GetBlockSize_FromBlockId(LZ4F_max64KB)",
          "new_text": null,
          "old_line_content": "    const size_t blockSize = FIO_LZ4_GetBlockSize_FromBlockId(LZ4F_max64KB);",
          "new_line_content": "#define LZ4F_max64KB max64KB",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "LZ4F_createCompressionContext",
          "new_api": null,
          "old_text": "LZ4F_createCompressionContext(&ctx, LZ4F_VERSION)",
          "new_text": null,
          "old_line_content": "    LZ4F_errorCode_t const errorCode = LZ4F_createCompressionContext(&ctx, LZ4F_VERSION);",
          "new_line_content": "FIO_compressLz4Frame(cRess_t* ress,",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "LZ4F_isError",
          "new_api": null,
          "old_text": "LZ4F_isError(errorCode)",
          "new_text": null,
          "old_line_content": "    if (LZ4F_isError(errorCode))",
          "new_line_content": "                     const char* srcFileName, U64 const srcFileSize,",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(31, \"zstd: failed to create lz4 compression context\")",
          "new_text": null,
          "old_line_content": "        EXM_THROW(31, \"zstd: failed to create lz4 compression context\");",
          "new_line_content": "                     int compressionLevel, int checksumFlag,",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&prefs, 0, sizeof(prefs))",
          "new_text": null,
          "old_line_content": "    memset(&prefs, 0, sizeof(prefs));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(blockSize <= ress->srcBufferSize)",
          "new_text": null,
          "old_line_content": "    assert(blockSize <= ress->srcBufferSize);",
          "new_line_content": "    unsigned long long inFileSize = 0, outFileSize = 0;",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "LZ4F_compressBound",
          "new_api": null,
          "old_text": "LZ4F_compressBound(blockSize, &prefs)",
          "new_text": null,
          "old_line_content": "    assert(LZ4F_compressBound(blockSize, &prefs) <= ress->dstBufferSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "LZ4F_compressBegin",
          "new_api": null,
          "old_text": "LZ4F_compressBegin(ctx, ress->dstBuffer, ress->dstBufferSize, &prefs)",
          "new_text": null,
          "old_line_content": "        size_t headerSize = LZ4F_compressBegin(ctx, ress->dstBuffer, ress->dstBufferSize, &prefs);",
          "new_line_content": "    prefs.compressionLevel = compressionLevel;",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "LZ4F_isError",
          "new_api": null,
          "old_text": "LZ4F_isError(headerSize)",
          "new_text": null,
          "old_line_content": "        if (LZ4F_isError(headerSize))",
          "new_line_content": "    prefs.frameInfo.blockMode = LZ4F_blockLinked;",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(33, \"File header generation failed : %s\",\n                            LZ4F_getErrorName(headerSize))",
          "new_text": null,
          "old_line_content": "            EXM_THROW(33, \"File header generation failed : %s\",",
          "new_line_content": "    prefs.frameInfo.blockSizeID = LZ4F_max64KB;",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "LZ4F_getErrorName",
          "new_api": null,
          "old_text": "LZ4F_getErrorName(headerSize)",
          "new_text": null,
          "old_line_content": "                            LZ4F_getErrorName(headerSize));",
          "new_line_content": "    prefs.frameInfo.contentChecksumFlag = (contentChecksum_t)checksumFlag;",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile)",
          "new_text": null,
          "old_line_content": "        if (fwrite(ress->dstBuffer, 1, headerSize, ress->dstFile) != headerSize)",
          "new_line_content": "#if LZ4_VERSION_NUMBER >= 10600",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(34, \"Write error : %s (cannot write header)\", strerror(errno));",
          "new_line_content": "    prefs.frameInfo.contentSize = (srcFileSize==UTIL_FILESIZE_UNKNOWN) ? 0 : srcFileSize;",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile)",
          "new_text": null,
          "old_line_content": "        readSize  = fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "LZ4F_isError",
          "new_api": null,
          "old_text": "LZ4F_isError(outSize)",
          "new_text": null,
          "old_line_content": "            if (LZ4F_isError(outSize))",
          "new_line_content": "        outFileSize += headerSize;",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(35, \"zstd: %s: lz4 compression failed : %s\",\n                            srcFileName, LZ4F_getErrorName(outSize))",
          "new_text": null,
          "old_line_content": "                EXM_THROW(35, \"zstd: %s: lz4 compression failed : %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "LZ4F_getErrorName",
          "new_api": null,
          "old_text": "LZ4F_getErrorName(outSize)",
          "new_text": null,
          "old_line_content": "                            srcFileName, LZ4F_getErrorName(outSize));",
          "new_line_content": "        /* Read first block */",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",\n                                (unsigned)(inFileSize>>20),\n                                (double)outFileSize/inFileSize*100)",
          "new_text": null,
          "old_line_content": "                DISPLAYUPDATE(2, \"\\rRead : %u MB ==> %.2f%%\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%%\",\n                                (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),\n                                (double)outFileSize/inFileSize*100)",
          "new_text": null,
          "old_line_content": "                DISPLAYUPDATE(2, \"\\rRead : %u / %u MB ==> %.2f%%\",",
          "new_line_content": "                                        ress->dstBuffer, ress->dstBufferSize,",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(ress->dstBuffer, 1, outSize, ress->dstFile)",
          "new_text": null,
          "old_line_content": "            {   size_t const sizeCheck = fwrite(ress->dstBuffer, 1, outSize, ress->dstFile);",
          "new_line_content": "            if (srcFileSize == UTIL_FILESIZE_UNKNOWN) {",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(36, \"Write error : %s\", strerror(errno));",
          "new_line_content": "                                (unsigned)(inFileSize>>20),",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile)",
          "new_text": null,
          "old_line_content": "            readSize  = fread(ress->srcBuffer, (size_t)1, (size_t)blockSize, ress->srcFile);",
          "new_line_content": "                                (unsigned)(inFileSize>>20), (unsigned)(srcFileSize>>20),",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(37, \"Error reading %s \", srcFileName)",
          "new_text": null,
          "old_line_content": "        if (ferror(ress->srcFile)) EXM_THROW(37, \"Error reading %s \", srcFileName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "LZ4F_compressEnd",
          "new_api": null,
          "old_text": "LZ4F_compressEnd(ctx, ress->dstBuffer, ress->dstBufferSize, NULL)",
          "new_text": null,
          "old_line_content": "        headerSize = LZ4F_compressEnd(ctx, ress->dstBuffer, ress->dstBufferSize, NULL);",
          "new_line_content": "                if (sizeCheck != outSize)",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(38, \"zstd: %s: lz4 end of file generation failed : %s\",\n                        srcFileName, LZ4F_getErrorName(headerSize))",
          "new_text": null,
          "old_line_content": "            EXM_THROW(38, \"zstd: %s: lz4 end of file generation failed : %s\",",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "LZ4F_getErrorName",
          "new_api": null,
          "old_text": "LZ4F_getErrorName(headerSize)",
          "new_text": null,
          "old_line_content": "                        srcFileName, LZ4F_getErrorName(headerSize));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(39, \"Write error : %s (cannot write end of stream)\",\n                            strerror(errno))",
          "new_text": null,
          "old_line_content": "                EXM_THROW(39, \"Write error : %s (cannot write end of stream)\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(fileSize)",
          "new_text": null,
          "old_line_content": "    UTIL_HumanReadableSize_t const file_hrs = UTIL_makeHumanReadableSize(fileSize);",
          "new_line_content": "    U64 pledgedSrcSize = ZSTD_CONTENTSIZE_UNKNOWN;",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"compression using zstd format \\n\")",
          "new_text": null,
          "old_line_content": "    DISPLAYLEVEL(6, \"compression using zstd format \\n\");",
          "new_line_content": "    /* stats */",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "ZSTD_CCtx_setPledgedSrcSize",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setPledgedSrcSize(ress.cctx, fileSize)",
          "new_text": null,
          "old_line_content": "        CHECK(ZSTD_CCtx_setPledgedSrcSize(ress.cctx, fileSize));",
          "new_line_content": "    unsigned flushWaiting = 0;",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "ZSTD_CCtx_getParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_getParameter(ress.cctx, ZSTD_c_windowLog, &windowLog)",
          "new_text": null,
          "old_line_content": "        CHECK(ZSTD_CCtx_getParameter(ress.cctx, ZSTD_c_windowLog, &windowLog));",
          "new_line_content": "        pledgedSrcSize = fileSize;",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "ZSTD_getCParams",
          "new_api": null,
          "old_text": "ZSTD_getCParams(compressionLevel, fileSize, 0)",
          "new_text": null,
          "old_line_content": "            const ZSTD_compressionParameters cParams = ZSTD_getCParams(compressionLevel, fileSize, 0);",
          "new_line_content": "    } else if (prefs->streamSrcSize > 0) {",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(4, \"Decompression will require %.*f%s of memory\\n\", windowSize.precision, windowSize.value, windowSize.suffix)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(4, \"Decompression will require %.*f%s of memory\\n\", windowSize.precision, windowSize.value, windowSize.suffix);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(ress.srcBuffer, (size_t)1, ress.srcBufferSize, srcFile)",
          "new_text": null,
          "old_line_content": "        size_t const inSize = fread(ress.srcBuffer, (size_t)1, ress.srcBufferSize, srcFile);",
          "new_line_content": "            windowLog = cParams.windowLog;",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "ZSTD_toFlushNow",
          "new_api": null,
          "old_text": "ZSTD_toFlushNow(ress.cctx)",
          "new_text": null,
          "old_line_content": "            size_t const toFlushNow = ZSTD_toFlushNow(ress.cctx);",
          "new_line_content": "        *readsize += inSize;",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "ZSTD_compressStream2",
          "new_api": null,
          "old_text": "ZSTD_compressStream2(ress.cctx, &outBuff, &inBuff, directive)",
          "new_text": null,
          "old_line_content": "            CHECK_V(stillToFlush, ZSTD_compressStream2(ress.cctx, &outBuff, &inBuff, directive));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"ZSTD_compress_generic(end:%u) => input pos(%u)<=(%u)size ; output generated %u bytes \\n\",\n                            (unsigned)directive, (unsigned)inBuff.pos, (unsigned)inBuff.size, (unsigned)outBuff.pos)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(6, \"ZSTD_compress_generic(end:%u) => input pos(%u)<=(%u)size ; output generated %u bytes \\n\",",
          "new_line_content": "            size_t const oldIPos = inBuff.pos;",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(25, \"Write error : %s (cannot write compressed block)\",\n                                    strerror(errno))",
          "new_text": null,
          "old_line_content": "                    EXM_THROW(25, \"Write error : %s (cannot write compressed block)\",",
          "new_line_content": "            /* count stats */",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "                                    strerror(errno));",
          "new_line_content": "            inputPresented++;",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "ZSTD_getFrameProgression",
          "new_api": null,
          "old_text": "ZSTD_getFrameProgression(ress.cctx)",
          "new_text": null,
          "old_line_content": "                ZSTD_frameProgression const zfp = ZSTD_getFrameProgression(ress.cctx);",
          "new_line_content": "                            (unsigned)directive, (unsigned)inBuff.pos, (unsigned)inBuff.size, (unsigned)outBuff.pos);",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize(zfp.consumed)",
          "new_text": null,
          "old_line_content": "                UTIL_HumanReadableSize_t const consumed_hrs = UTIL_makeHumanReadableSize(zfp.consumed);",
          "new_line_content": "                if (sizeCheck != outBuff.pos)",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "DISPLAYUPDATE",
          "new_api": null,
          "old_text": "DISPLAYUPDATE(3, \"\\r(L%i) Buffered :%6.*f%4s - Consumed :%6.*f%4s - Compressed :%6.*f%4s => %.2f%% \",\n                                compressionLevel,\n                                buffered_hrs.precision, buffered_hrs.value, buffered_hrs.suffix,\n                                consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix,\n                                produced_hrs.precision, produced_hrs.value, produced_hrs.suffix,\n                                cShare )",
          "new_text": null,
          "old_line_content": "                    DISPLAYUPDATE(3, \"\\r(L%i) Buffered :%6.*f%4s - Consumed :%6.*f%4s - Compressed :%6.*f%4s => %.2f%% \",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"\\r%79s\\r\", \"\")",
          "new_text": null,
          "old_line_content": "                    DISPLAYLEVEL(1, \"\\r%79s\\r\", \"\");    /* Clear out the current displayed line */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srcFileName)",
          "new_text": null,
          "old_line_content": "                        size_t srcFileNameSize = strlen(srcFileName);",
          "new_line_content": "                if (g_display_prefs.displayLevel >= 3) {",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: ...%s \",\n                                        fCtx->currFileIdx+1, fCtx->nbFilesTotal, truncatedSrcFileName)",
          "new_text": null,
          "old_line_content": "                            DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: ...%s \",",
          "new_line_content": "                                consumed_hrs.precision, consumed_hrs.value, consumed_hrs.suffix,",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: %*s \",\n                                        fCtx->currFileIdx+1, fCtx->nbFilesTotal, (int)(18-srcFileNameSize), srcFileName)",
          "new_text": null,
          "old_line_content": "                            DISPLAYLEVEL(1, \"Compress: %u/%u files. Current: %*s \",",
          "new_line_content": "                } else if (g_display_prefs.displayLevel >= 2 || g_display_prefs.progressSetting == FIO_ps_always) {",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"/%6.*f%4s\", file_hrs.precision, file_hrs.value, file_hrs.suffix)",
          "new_text": null,
          "old_line_content": "                        DISPLAYLEVEL(2, \"/%6.*f%4s\", file_hrs.precision, file_hrs.value, file_hrs.suffix);",
          "new_line_content": "                        if (srcFileNameSize > 18) {",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \" ==> %2.f%%\", cShare)",
          "new_text": null,
          "old_line_content": "                    DISPLAYLEVEL(1, \" ==> %2.f%%\", cShare);",
          "new_line_content": "                            const char* truncatedSrcFileName = srcFileName + srcFileNameSize - 15;",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(prefs->nbWorkers >= 1)",
          "new_text": null,
          "old_line_content": "                        assert(prefs->nbWorkers >= 1);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"all buffers full : compression stopped => slow down \\n\")",
          "new_text": null,
          "old_line_content": "                            DISPLAYLEVEL(6, \"all buffers full : compression stopped => slow down \\n\")",
          "new_line_content": "                        unsigned long long newlyFlushed = zfp.flushed - previous_zfp_update.flushed;",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"compression faster than flush (%llu > %llu), and flushed was never slowed down by lack of production => slow down \\n\", newlyProduced, newlyFlushed)",
          "new_text": null,
          "old_line_content": "                            DISPLAYLEVEL(6, \"compression faster than flush (%llu > %llu), and flushed was never slowed down by lack of production => slow down \\n\", newlyProduced, newlyFlushed);",
          "new_line_content": "                          && (zfp.nbActiveWorkers == 0)                       /* confirmed : no compression ongoing */",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"compression level adaptation check \\n\")",
          "new_text": null,
          "old_line_content": "                        DISPLAYLEVEL(6, \"compression level adaptation check \\n\")",
          "new_line_content": "                        if ( (newlyProduced > (newlyFlushed * 9 / 8))   /* compression produces more data than output can flush (though production can be spiky, due to work unit : (N==4)*block sizes) */",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"input is never blocked => input is slower than ingestion \\n\")",
          "new_text": null,
          "old_line_content": "                                DISPLAYLEVEL(6, \"input is never blocked => input is slower than ingestion \\n\");",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(inputPresented > 0)",
          "new_text": null,
          "old_line_content": "                                assert(inputPresented > 0);",
          "new_line_content": "                        /* check input speed */",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"input blocked %u/%u(%.2f) - ingested:%u vs %u:consumed - flushed:%u vs %u:produced \\n\",\n                                                inputBlocked, inputPresented, (double)inputBlocked/inputPresented*100,\n                                                (unsigned)newlyIngested, (unsigned)newlyConsumed,\n                                                (unsigned)newlyFlushed, (unsigned)newlyProduced)",
          "new_text": null,
          "old_line_content": "                                DISPLAYLEVEL(6, \"input blocked %u/%u(%.2f) - ingested:%u vs %u:consumed - flushed:%u vs %u:produced \\n\",",
          "new_line_content": "                        if (zfp.currentJobID > (unsigned)(prefs->nbWorkers+1)) {   /* warm up period, to fill all workers */",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"recommend faster as in(%llu) >= (%llu)comp(%llu) <= out(%llu) \\n\",\n                                                    newlyIngested, newlyConsumed, newlyProduced, newlyFlushed)",
          "new_text": null,
          "old_line_content": "                                    DISPLAYLEVEL(6, \"recommend faster as in(%llu) >= (%llu)comp(%llu) <= out(%llu) \\n\",",
          "new_line_content": "                                unsigned long long newlyFlushed  = zfp.flushed  - previous_zfp_correction.flushed;",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"slower speed , higher compression \\n\")",
          "new_text": null,
          "old_line_content": "                            DISPLAYLEVEL(6, \"slower speed , higher compression \\n\")",
          "new_line_content": "                                ) {",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "ZSTD_maxCLevel",
          "new_api": null,
          "old_text": "ZSTD_maxCLevel()",
          "new_text": null,
          "old_line_content": "                            if (compressionLevel > ZSTD_maxCLevel()) compressionLevel = ZSTD_maxCLevel();",
          "new_line_content": "                                                    newlyIngested, newlyConsumed, newlyProduced, newlyFlushed);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel)",
          "new_text": null,
          "old_line_content": "                            ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel);",
          "new_line_content": "                            }",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"faster speed , lighter compression \\n\")",
          "new_text": null,
          "old_line_content": "                            DISPLAYLEVEL(6, \"faster speed , lighter compression \\n\")",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "ZSTD_CCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel)",
          "new_text": null,
          "old_line_content": "                            ZSTD_CCtx_setParameter(ress.cctx, ZSTD_c_compressionLevel, compressionLevel);",
          "new_line_content": "                            compressionLevel ++;",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(26, \"Read error : I/O error\")",
          "new_text": null,
          "old_line_content": "        EXM_THROW(26, \"Read error : I/O error\");",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(27, \"Read error : Incomplete read : %llu / %llu B\",\n                (unsigned long long)*readsize, (unsigned long long)fileSize)",
          "new_text": null,
          "old_line_content": "        EXM_THROW(27, \"Read error : Incomplete read : %llu / %llu B\",",
          "new_line_content": "                        lastJobID = zfp.currentJobID;",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "UTIL_getTime",
          "new_api": null,
          "old_text": "UTIL_getTime()",
          "new_text": null,
          "old_line_content": "    UTIL_time_t const timeStart = UTIL_getTime();",
          "new_line_content": " *  same as FIO_compressFilename_extRess(), with `ress.desFile` already opened.",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "clock",
          "new_api": null,
          "old_text": "clock()",
          "new_text": null,
          "old_line_content": "    clock_t const cpuStart = clock();",
          "new_line_content": " *  @return : 0 : compression completed correctly,",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "UTIL_getFileSize",
          "new_api": null,
          "old_text": "UTIL_getFileSize(srcFileName)",
          "new_text": null,
          "old_line_content": "    U64 const fileSize = UTIL_getFileSize(srcFileName);",
          "new_line_content": "static int",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(5, \"%s: %llu bytes \\n\", srcFileName, (unsigned long long)fileSize)",
          "new_text": null,
          "old_line_content": "    DISPLAYLEVEL(5, \"%s: %llu bytes \\n\", srcFileName, (unsigned long long)fileSize);",
          "new_line_content": "FIO_compressFilename_internal(FIO_ctx_t* const fCtx,",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(20, \"zstd: %s: file cannot be compressed as gzip (zstd compiled without ZSTD_GZCOMPRESS) -- ignored \\n\",\n                            srcFileName)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(20, \"zstd: %s: file cannot be compressed as gzip (zstd compiled without ZSTD_GZCOMPRESS) -- ignored \\n\",",
          "new_line_content": "    switch (prefs->compressionType) {",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "FIO_compressLz4Frame",
          "new_api": null,
          "old_text": "FIO_compressLz4Frame(&ress, srcFileName, fileSize, compressionLevel, prefs->checksumFlag, &readsize)",
          "new_text": null,
          "old_line_content": "            compressedfilesize = FIO_compressLz4Frame(&ress, srcFileName, fileSize, compressionLevel, prefs->checksumFlag, &readsize);",
          "new_line_content": "#ifdef ZSTD_LZMACOMPRESS",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(20, \"zstd: %s: file cannot be compressed as lz4 (zstd compiled without ZSTD_LZ4COMPRESS) -- ignored \\n\",\n                            srcFileName)",
          "new_text": null,
          "old_line_content": "            EXM_THROW(20, \"zstd: %s: file cannot be compressed as lz4 (zstd compiled without ZSTD_LZ4COMPRESS) -- ignored \\n\",",
          "new_line_content": "            (void)compressionLevel;",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\")",
          "new_text": null,
          "old_line_content": "    DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\");",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize((U64) readsize)",
          "new_text": null,
          "old_line_content": "        UTIL_HumanReadableSize_t hr_isize = UTIL_makeHumanReadableSize((U64) readsize);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize((U64) compressedfilesize)",
          "new_text": null,
          "old_line_content": "        UTIL_HumanReadableSize_t hr_osize = UTIL_makeHumanReadableSize((U64) compressedfilesize);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2,\"%-20s :  (%6.*f%4s => %6.*f%4s, %s) \\n\",\n                srcFileName,\n                hr_isize.precision, hr_isize.value, hr_isize.suffix,\n                hr_osize.precision, hr_osize.value, hr_osize.suffix,\n                dstFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(2,\"%-20s :  (%6.*f%4s => %6.*f%4s, %s) \\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2,\"%-20s :%6.2f%%   (%6.*f%4s => %6.*f%4s, %s) \\n\",\n                srcFileName,\n                (double)compressedfilesize / (double)readsize * 100,\n                hr_isize.precision, hr_isize.value, hr_isize.suffix,\n                hr_osize.precision, hr_osize.value, hr_osize.suffix,\n                dstFileName)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(2,\"%-20s :%6.2f%%   (%6.*f%4s => %6.*f%4s, %s) \\n\",",
          "new_line_content": "        !fCtx->hasStdoutOutput &&",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "clock",
          "new_api": null,
          "old_text": "clock()",
          "new_text": null,
          "old_line_content": "    {   clock_t const cpuEnd = clock();",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "UTIL_clockSpanNano",
          "new_api": null,
          "old_text": "UTIL_clockSpanNano(timeStart)",
          "new_text": null,
          "old_line_content": "        U64 const timeLength_ns = UTIL_clockSpanNano(timeStart);",
          "new_line_content": "                srcFileName,",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(4, \"%-20s : Completed in %.2f sec  (cpu load : %.0f%%)\\n\",\n                        srcFileName, timeLength_s, cpuLoad_pct)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(4, \"%-20s : Completed in %.2f sec  (cpu load : %.0f%%)\\n\",",
          "new_line_content": "                hr_osize.precision, hr_osize.value, hr_osize.suffix,",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ress.srcFile != NULL)",
          "new_text": null,
          "old_line_content": "    assert(ress.srcFile != NULL);",
          "new_line_content": "static int FIO_compressFilename_dstFile(FIO_ctx_t* const fCtx,",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "strcmp (srcFileName, stdinmark)",
          "new_api": null,
          "old_text": "strcmp (srcFileName, stdinmark)",
          "new_text": null,
          "old_line_content": "        if ( strcmp (srcFileName, stdinmark)",
          "new_line_content": "                                        const char* dstFileName,",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "UTIL_stat",
          "new_api": null,
          "old_text": "UTIL_stat(srcFileName, &statbuf)",
          "new_text": null,
          "old_line_content": "          && UTIL_stat(srcFileName, &statbuf)",
          "new_line_content": "                                        const char* srcFileName,",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "UTIL_isRegularFileStat",
          "new_api": null,
          "old_text": "UTIL_isRegularFileStat(&statbuf)",
          "new_text": null,
          "old_line_content": "          && UTIL_isRegularFileStat(&statbuf) ) {",
          "new_line_content": "                                        int compressionLevel)",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "FIO_openDstFile",
          "new_api": null,
          "old_text": "FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions)",
          "new_text": null,
          "old_line_content": "        ress.dstFile = FIO_openDstFile(fCtx, prefs, srcFileName, dstFileName, dstFilePermissions);",
          "new_line_content": "    if (ress.dstFile == NULL) {",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "addHandler",
          "new_api": null,
          "old_text": "addHandler(dstFileName)",
          "new_text": null,
          "old_line_content": "        addHandler(dstFileName);",
          "new_line_content": "            transferMTime = 1;",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "FIO_compressFilename_internal",
          "new_api": null,
          "old_text": "FIO_compressFilename_internal(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "new_text": null,
          "old_line_content": "    result = FIO_compressFilename_internal(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "new_line_content": "        closeDstFile = 1;",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "clearHandler",
          "new_api": null,
          "old_text": "clearHandler()",
          "new_text": null,
          "old_line_content": "        clearHandler();",
          "new_line_content": "         * and the user presses Ctrl-C when asked if they wish to overwrite.",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(dstFile)",
          "new_text": null,
          "old_line_content": "        if (fclose(dstFile)) { /* error closing dstFile */",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "            DISPLAYLEVEL(1, \"zstd: %s: %s \\n\", dstFileName, strerror(errno));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "UTIL_utime",
          "new_api": null,
          "old_text": "UTIL_utime(dstFileName, &statbuf)",
          "new_text": null,
          "old_line_content": "            UTIL_utime(dstFileName, &statbuf);",
          "new_line_content": "        FILE* const dstFile = ress.dstFile;",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(6, \"FIO_compressFilename_srcFile: %s \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "    DISPLAYLEVEL(6, \"FIO_compressFilename_srcFile: %s \\n\", srcFileName);",
          "new_line_content": " *            1 : missing or pb opening srcFileName",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "UTIL_isDirectory",
          "new_api": null,
          "old_text": "UTIL_isDirectory(srcFileName)",
          "new_text": null,
          "old_line_content": "    if (UTIL_isDirectory(srcFileName)) {",
          "new_line_content": "FIO_compressFilename_srcFile(FIO_ctx_t* const fCtx,",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: %s is a directory -- ignored \\n\", srcFileName);",
          "new_line_content": "                             FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "UTIL_isSameFile",
          "new_api": null,
          "old_text": "UTIL_isSameFile(srcFileName, ress.dictFileName)",
          "new_text": null,
          "old_line_content": "    if (ress.dictFileName != NULL && UTIL_isSameFile(srcFileName, ress.dictFileName)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(1, \"zstd: cannot use %s as an input file and dictionary \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(1, \"zstd: cannot use %s as an input file and dictionary \\n\", srcFileName);",
          "new_line_content": "    int result;",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "UTIL_isCompressedFile",
          "new_api": null,
          "old_text": "UTIL_isCompressedFile(srcFileName, compressedFileExtensions)",
          "new_text": null,
          "old_line_content": "    if (prefs->excludeCompressedFiles == 1 && UTIL_isCompressedFile(srcFileName, compressedFileExtensions)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(4, \"File is already compressed : %s \\n\", srcFileName)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(4, \"File is already compressed : %s \\n\", srcFileName);",
          "new_line_content": "    /* ensure src is not the same as dict (if present) */",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "FIO_openSrcFile",
          "new_api": null,
          "old_text": "FIO_openSrcFile(prefs, srcFileName)",
          "new_text": null,
          "old_line_content": "    ress.srcFile = FIO_openSrcFile(prefs, srcFileName);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "FIO_compressFilename_dstFile",
          "new_api": null,
          "old_text": "FIO_compressFilename_dstFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "new_text": null,
          "old_line_content": "    result = FIO_compressFilename_dstFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "new_line_content": "    * YES => ZSTD will skip compression of the file and will return 0.",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(ress.srcFile)",
          "new_text": null,
          "old_line_content": "    fclose(ress.srcFile);",
          "new_line_content": "    */",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(srcFileName, stdinmark)",
          "new_text": null,
          "old_line_content": "      && strcmp(srcFileName, stdinmark)   /* exception : don't erase stdin */",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "FIO_removeFile",
          "new_api": null,
          "old_text": "FIO_removeFile(srcFileName)",
          "new_text": null,
          "old_line_content": "        if (FIO_removeFile(srcFileName))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(index < length)",
          "new_text": null,
          "old_line_content": "    assert(index < length);",
          "new_line_content": "        /* We must clear the handler, since after this point calling it would",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(g_display_prefs.displayLevel >= 4)",
          "new_text": null,
          "old_line_content": "    assert(g_display_prefs.displayLevel >= 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\"--format=%s\", formatOptions[prefs->compressionType])",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"--format=%s\", formatOptions[prefs->compressionType]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": "INDEX",
          "new_api": null,
          "old_text": "INDEX(sparseOptions, prefs->sparseFileSupport)",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"%s\", INDEX(sparseOptions, prefs->sparseFileSupport));",
          "new_line_content": "void FIO_displayCompressionParameters(const FIO_prefs_t* prefs) {",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\"%s\", prefs->dictIDFlag ? \"\" : \" --no-dictID\")",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"%s\", prefs->dictIDFlag ? \"\" : \" --no-dictID\");",
          "new_line_content": "    static const char* formatOptions[5] = {ZSTD_EXTENSION, GZ_EXTENSION, XZ_EXTENSION,",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "INDEX",
          "new_api": null,
          "old_text": "INDEX(checkSumOptions, prefs->checksumFlag)",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"%s\", INDEX(checkSumOptions, prefs->checksumFlag));",
          "new_line_content": "                                           LZMA_EXTENSION, LZ4_EXTENSION};",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\" --block-size=%d\", prefs->blockSize)",
          "new_text": null,
          "old_line_content": "    DISPLAY(\" --block-size=%d\", prefs->blockSize);",
          "new_line_content": "    static const char* sparseOptions[3] = {\" --no-sparse\", \"\", \" --sparse\"};",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\" --adapt=min=%d,max=%d\", prefs->minAdaptLevel, prefs->maxAdaptLevel)",
          "new_text": null,
          "old_line_content": "        DISPLAY(\" --adapt=min=%d,max=%d\", prefs->minAdaptLevel, prefs->maxAdaptLevel);",
          "new_line_content": "    static const char* rowMatchFinderOptions[3] = {\"\", \" --no-row-match-finder\", \" --row-match-finder\"};",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "INDEX",
          "new_api": null,
          "old_text": "INDEX(rowMatchFinderOptions, prefs->useRowMatchFinder)",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"%s\", INDEX(rowMatchFinderOptions, prefs->useRowMatchFinder));",
          "new_line_content": "    static const char* compressLiteralsOptions[3] = {\"\", \" --compress-literals\", \" --no-compress-literals\"};",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\"%s\", prefs->rsyncable ? \" --rsyncable\" : \"\")",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"%s\", prefs->rsyncable ? \" --rsyncable\" : \"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\" --stream-size=%u\", (unsigned) prefs->streamSrcSize)",
          "new_text": null,
          "old_line_content": "        DISPLAY(\" --stream-size=%u\", (unsigned) prefs->streamSrcSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\" --memory=%u\", prefs->memLimit ? prefs->memLimit : 128 MB)",
          "new_text": null,
          "old_line_content": "    DISPLAY(\" --memory=%u\", prefs->memLimit ? prefs->memLimit : 128 MB);",
          "new_line_content": "    if (prefs->adaptiveMode)",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "DISPLAY",
          "new_api": null,
          "old_text": "DISPLAY(\"\\n\")",
          "new_text": null,
          "old_line_content": "    DISPLAY(\"\\n\");",
          "new_line_content": "    if (prefs->streamSrcSize)",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "FIO_freeCResources",
          "new_api": null,
          "old_text": "FIO_freeCResources(&ress)",
          "new_text": null,
          "old_line_content": "    FIO_freeCResources(&ress);",
          "new_line_content": "#undef INDEX",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srcFileName)",
          "new_text": null,
          "old_line_content": "    size_t sfnSize = strlen(srcFileName);",
          "new_line_content": "/* FIO_determineCompressedName() :",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(suffix)",
          "new_text": null,
          "old_line_content": "    size_t const srcSuffixLen = strlen(suffix);",
          "new_line_content": " * create a destination filename for compressed srcFileName.",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "FIO_createFilename_fromOutDir",
          "new_api": null,
          "old_text": "FIO_createFilename_fromOutDir(srcFileName, outDirName, srcSuffixLen)",
          "new_text": null,
          "old_line_content": "        outDirFilename = FIO_createFilename_fromOutDir(srcFileName, outDirName, srcSuffixLen);",
          "new_line_content": " * This function never returns an error (it may abort() in case of pb)",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(outDirFilename)",
          "new_text": null,
          "old_line_content": "        sfnSize = strlen(outDirFilename);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(outDirFilename != NULL)",
          "new_text": null,
          "old_line_content": "        assert(outDirFilename != NULL);",
          "new_line_content": "static const char*",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(dstFileNameBuffer)",
          "new_text": null,
          "old_line_content": "        free(dstFileNameBuffer);",
          "new_line_content": "    char* outDirFilename = NULL;",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(dstFileNameBuffer != NULL)",
          "new_text": null,
          "old_line_content": "    assert(dstFileNameBuffer != NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dstFileNameBuffer, outDirFilename, sfnSize)",
          "new_text": null,
          "old_line_content": "        memcpy(dstFileNameBuffer, outDirFilename, sfnSize);",
          "new_line_content": "        /* resize buffer for dstName */",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": "FIO_createCResources",
          "new_api": null,
          "old_text": "FIO_createCResources(prefs, dictFileName,\n        FIO_getLargestFileSize(inFileNamesTable, (unsigned)fCtx->nbFilesTotal),\n        compressionLevel, comprParams)",
          "new_text": null,
          "old_line_content": "    cRess_t ress = FIO_createCResources(prefs, dictFileName,",
          "new_line_content": "int FIO_compressMultipleFilenames(FIO_ctx_t* const fCtx,",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "FIO_getLargestFileSize",
          "new_api": null,
          "old_text": "FIO_getLargestFileSize(inFileNamesTable, (unsigned)fCtx->nbFilesTotal)",
          "new_text": null,
          "old_line_content": "        FIO_getLargestFileSize(inFileNamesTable, (unsigned)fCtx->nbFilesTotal),",
          "new_line_content": "                                  FIO_prefs_t* const prefs,",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(outFileName != NULL || suffix != NULL)",
          "new_text": null,
          "old_line_content": "    assert(outFileName != NULL || suffix != NULL);",
          "new_line_content": "                                  const char* outFileName, const char* suffix,",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "FIO_removeMultiFilesWarning",
          "new_api": null,
          "old_text": "FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)",
          "new_text": null,
          "old_line_content": "        if (FIO_removeMultiFilesWarning(fCtx, prefs, outFileName, 1 /* displayLevelCutoff */)) {",
          "new_line_content": "                                  ZSTD_compressionParameters comprParams)",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "FIO_freeCResources",
          "new_api": null,
          "old_text": "FIO_freeCResources(&ress)",
          "new_text": null,
          "old_line_content": "            FIO_freeCResources(&ress);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(ress.dstFile)",
          "new_text": null,
          "old_line_content": "            if (fclose(ress.dstFile))",
          "new_line_content": "            return 1;",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "EXM_THROW",
          "new_api": null,
          "old_text": "EXM_THROW(29, \"Write error (%s) : cannot properly close %s\",\n                            strerror(errno), outFileName)",
          "new_text": null,
          "old_line_content": "                EXM_THROW(29, \"Write error (%s) : cannot properly close %s\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "FIO_determineCompressedName",
          "new_api": null,
          "old_text": "FIO_determineCompressedName(srcFileName, validMirroredDirName, suffix)",
          "new_text": null,
          "old_line_content": "                    dstFileName = FIO_determineCompressedName(srcFileName, validMirroredDirName, suffix);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(validMirroredDirName)",
          "new_text": null,
          "old_line_content": "                    free(validMirroredDirName);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": "FIO_determineCompressedName",
          "new_api": null,
          "old_text": "FIO_determineCompressedName(srcFileName, outDirName, suffix)",
          "new_text": null,
          "old_line_content": "                dstFileName = FIO_determineCompressedName(srcFileName, outDirName, suffix);  /* cannot fail */",
          "new_line_content": "            if (outMirroredRootDirName) {",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": "FIO_compressFilename_srcFile",
          "new_api": null,
          "old_text": "FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel)",
          "new_text": null,
          "old_line_content": "            status = FIO_compressFilename_srcFile(fCtx, prefs, ress, dstFileName, srcFileName, compressionLevel);",
          "new_line_content": "                if (validMirroredDirName) {",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": "FIO_checkFilenameCollisions",
          "new_api": null,
          "old_text": "FIO_checkFilenameCollisions(inFileNamesTable , (unsigned)fCtx->nbFilesTotal)",
          "new_text": null,
          "old_line_content": "            FIO_checkFilenameCollisions(inFileNamesTable , (unsigned)fCtx->nbFilesTotal);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "UTIL_makeHumanReadableSize",
          "new_api": null,
          "old_text": "UTIL_makeHumanReadableSize((U64) fCtx->totalBytesInput)",
          "new_text": null,
          "old_line_content": "        UTIL_HumanReadableSize_t hr_isize = UTIL_makeHumanReadableSize((U64) fCtx->totalBytesInput);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\")",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(2, \"\\r%79s\\r\", \"\");",
          "new_line_content": "            error |= status;",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "DISPLAYLEVEL",
          "new_api": null,
          "old_text": "DISPLAYLEVEL(2, \"%3d files compressed :%.2f%%   (%6.*f%4s => %6.*f%4s)\\n\",\n                        fCtx->nbFilesProcessed,\n                        (double)fCtx->totalBytesOutput/((double)fCtx->totalBytesInput)*100,\n                        hr_isize.precision, hr_isize.value, hr_isize.suffix,\n                        hr_osize.precision, hr_osize.value, hr_osize.suffix)",
          "new_text": null,
          "old_line_content": "        DISPLAYLEVEL(2, \"%3d files compressed :%.2f%%   (%6.*f%4s => %6.*f%4s)\\n\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&ress, 0, sizeof(ress))",
          "new_text": null,
          "old_line_content": "    memset(&ress, 0, sizeof(ress));",
          "new_line_content": "    size_t srcBufferSize;",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": "UTIL_getFileSize",
          "new_api": null,
          "old_text": "UTIL_getFileSize(dictFileName)",
          "new_text": null,
          "old_line_content": "        FIO_adjustMemLimitForPatchFromMode(prefs, UTIL_getFileSize(dictFileName), 0 /* just use the dict size */);",
          "new_line_content": "    size_t dstBufferSize;",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "ZSTD_createDStream",
          "new_api": null,
          "old_text": "ZSTD_createDStream()",
          "new_text": null,
          "old_line_content": "    ress.dctx = ZSTD_createDStream();",
          "new_line_content": "} dRess_t;",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "        EXM_THROW(60, \"Error: %s : can't create ZSTD_DStream\", strerror(errno));",
          "new_line_content": "static dRess_t FIO_createDResources(FIO_prefs_t* const prefs, const char* dictFileName)",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "ZSTD_DCtx_setMaxWindowSize",
          "new_api": null,
          "old_text": "ZSTD_DCtx_setMaxWindowSize(ress.dctx, prefs->memLimit)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_DCtx_setMaxWindowSize(ress.dctx, prefs->memLimit) );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "ZSTD_DCtx_setParameter",
          "new_api": null,
          "old_text": "ZSTD_DCtx_setParameter(ress.dctx, ZSTD_d_forceIgnoreChecksum, !prefs->checksumFlag)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_DCtx_setParameter(ress.dctx, ZSTD_d_forceIgnoreChecksum, !prefs->checksumFlag));",
          "new_line_content": "    dRess_t ress;",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "ZSTD_DStreamInSize",
          "new_api": null,
          "old_text": "ZSTD_DStreamInSize()",
          "new_text": null,
          "old_line_content": "    ress.srcBufferSize = ZSTD_DStreamInSize();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ress.srcBufferSize)",
          "new_text": null,
          "old_line_content": "    ress.srcBuffer = malloc(ress.srcBufferSize);",
          "new_line_content": "    if (prefs->patchFromMode)",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ress.dstBufferSize)",
          "new_text": null,
          "old_line_content": "    ress.dstBuffer = malloc(ress.dstBufferSize);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": "ZSTD_initDStream_usingDict",
          "new_api": null,
          "old_text": "ZSTD_initDStream_usingDict(ress.dctx, dictBuffer, dictBufferSize)",
          "new_text": null,
          "old_line_content": "        CHECK( ZSTD_initDStream_usingDict(ress.dctx, dictBuffer, dictBufferSize) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "ZSTD_freeDStream",
          "new_api": null,
          "old_text": "ZSTD_freeDStream(ress.dctx)",
          "new_text": null,
          "old_line_content": "    CHECK( ZSTD_freeDStream(ress.dctx) );",
          "new_line_content": "    {   void* dictBuffer;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 125,
      "total_additions": 437,
      "total_deletions": 435,
      "total_api_changes": 997
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 997,
        "non_api_lines": 9,
        "non_api_line_numbers": [
          721,
          722,
          723,
          724,
          725,
          726,
          727,
          728,
          729
        ]
      }
    },
    "api_calls_before": 756,
    "api_calls_after": 758,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 0,
      "total_diff_lines": 23
    }
  }
}