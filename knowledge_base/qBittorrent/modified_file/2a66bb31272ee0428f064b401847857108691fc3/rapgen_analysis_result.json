{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/qBittorrent/modified_file/2a66bb31272ee0428f064b401847857108691fc3",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/qBittorrent/modified_file/2a66bb31272ee0428f064b401847857108691fc3/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/qBittorrent/modified_file/2a66bb31272ee0428f064b401847857108691fc3/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/qBittorrent/modified_file/2a66bb31272ee0428f064b401847857108691fc3/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 268,
          "old_api": "tr",
          "new_api": "isRemoteChocked",
          "old_text": "tr(\"Interested(local) and Choked(peer)\")",
          "new_text": "isRemoteChocked()",
          "old_line_content": "                + tr(\"Interested(local) and Choked(peer)\") + '\\n');",
          "new_line_content": "        if (isRemoteChocked()) {",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "tr",
          "new_api": "isChocked",
          "old_text": "tr(\"interested(peer) and choked(local)\")",
          "new_text": "isChocked()",
          "old_line_content": "                + tr(\"interested(peer) and choked(local)\") + '\\n');",
          "new_line_content": "        if (isChocked()) {",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "tr",
          "new_api": "isInteresting",
          "old_text": "tr(\"not interested(local) and unchoked(peer)\")",
          "new_text": "isInteresting()",
          "old_line_content": "            + tr(\"not interested(local) and unchoked(peer)\") + '\\n');",
          "new_line_content": "    if (!isRemoteChocked() && !isInteresting()) {",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "tr",
          "new_api": "isRemoteInterested",
          "old_text": "tr(\"not interested(peer) and unchoked(local)\")",
          "new_text": "isRemoteInterested()",
          "old_line_content": "            + tr(\"not interested(peer) and unchoked(local)\") + '\\n');",
          "new_line_content": "    if (!isChocked() && !isRemoteInterested()) {",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "trimmed",
          "new_api": "tr",
          "old_text": "m_flags.trimmed()",
          "new_text": "tr(\"peer from LSD\")",
          "old_line_content": "    m_flags = m_flags.trimmed();",
          "new_line_content": "        m_flagsDescription += (\"L = \" + tr(\"peer from LSD\") + '\\n');",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 256,
          "old_api": null,
          "new_api": "static_cast<qreal>(remoteHaves)",
          "old_text": null,
          "new_text": "static_cast<qreal>(remoteHaves)",
          "old_line_content": "qreal PeerInfo::relevance() const",
          "new_line_content": "        m_relevance = static_cast<qreal>(remoteHaves) / localMissing;",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "isInteresting",
          "old_text": null,
          "new_text": "isInteresting()",
          "old_line_content": "            m_flags += \"d \";",
          "new_line_content": "    if (isInteresting()) {",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"Interested(local) and Choked(peer)\")",
          "old_line_content": "            // D = Currently downloading (interested and not choked)",
          "new_line_content": "                + tr(\"Interested(local) and Choked(peer)\") + '\\n');",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"interested(local) and unchoked(peer)\")",
          "old_line_content": "",
          "new_line_content": "                + tr(\"interested(local) and unchoked(peer)\") + '\\n');",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "isRemoteInterested",
          "old_text": null,
          "new_text": "isRemoteInterested()",
          "old_line_content": "            m_flags += \"u \";",
          "new_line_content": "    if (isRemoteInterested()) {",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"interested(peer) and choked(local)\")",
          "old_line_content": "            // U = Currently uploading (interested and not choked)",
          "new_line_content": "                + tr(\"interested(peer) and choked(local)\") + '\\n');",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"interested(peer) and unchoked(local)\")",
          "old_line_content": "",
          "new_line_content": "                + tr(\"interested(peer) and unchoked(local)\") + '\\n');",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "optimisticUnchoke",
          "old_text": null,
          "new_text": "optimisticUnchoke()",
          "old_line_content": "    }",
          "new_line_content": "    if (optimisticUnchoke()) {",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"optimistic unchoke\")",
          "old_line_content": "    // S = Peer is snubbed",
          "new_line_content": "        m_flagsDescription += (\"O = \" + tr(\"optimistic unchoke\") + '\\n');",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": null,
          "new_api": "isSnubbed",
          "old_text": null,
          "new_text": "isSnubbed()",
          "old_line_content": "    }",
          "new_line_content": "    if (isSnubbed()) {",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"peer snubbed\")",
          "old_line_content": "    // I = Peer is an incoming connection",
          "new_line_content": "        m_flagsDescription += (\"S = \" + tr(\"peer snubbed\") + '\\n');",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "QString::fromStdString(m_nativeInfo.client)",
          "old_text": null,
          "new_text": "QString::fromStdString(m_nativeInfo.client)",
          "old_line_content": "qreal PeerInfo::progress() const",
          "new_line_content": "    return QString::fromStdString(m_nativeInfo.client);",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": null,
          "new_api": "isLocalConnection",
          "old_text": null,
          "new_text": "isLocalConnection()",
          "old_line_content": "    }",
          "new_line_content": "    if (!isLocalConnection()) {",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"incoming connection\")",
          "old_line_content": "    // K = Peer is unchoking your client, but your client is not interested",
          "new_line_content": "        m_flagsDescription += (\"I = \" + tr(\"incoming connection\") + '\\n');",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"not interested(local) and unchoked(peer)\")",
          "old_line_content": "    // ? = Your client unchoked the peer but the peer is not interested",
          "new_line_content": "            + tr(\"not interested(local) and unchoked(peer)\") + '\\n');",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"not interested(peer) and unchoked(local)\")",
          "old_line_content": "    // X = Peer was included in peerlists obtained through Peer Exchange (PEX)",
          "new_line_content": "            + tr(\"not interested(peer) and unchoked(local)\") + '\\n');",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "fromPeX",
          "old_text": null,
          "new_text": "fromPeX()",
          "old_line_content": "    }",
          "new_line_content": "    if (fromPeX()) {",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"peer from PEX\")",
          "old_line_content": "    // H = Peer was obtained through DHT",
          "new_line_content": "        m_flagsDescription += (\"X = \" + tr(\"peer from PEX\") + '\\n');",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": null,
          "new_api": "fromDHT",
          "old_text": null,
          "new_text": "fromDHT()",
          "old_line_content": "    }",
          "new_line_content": "    if (fromDHT()) {",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"peer from DHT\")",
          "old_line_content": "    // E = Peer is using Protocol Encryption (all traffic)",
          "new_line_content": "        m_flagsDescription += (\"H = \" + tr(\"peer from DHT\") + '\\n');",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "m_nativeInfo.pieces.size()",
          "old_line_content": "    for (const bool bit : m_nativeInfo.pieces)",
          "new_line_content": "    QBitArray result(m_nativeInfo.pieces.size());",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "isRC4Encrypted",
          "old_text": null,
          "new_text": "isRC4Encrypted()",
          "old_line_content": "    }",
          "new_line_content": "    if (isRC4Encrypted()) {",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": null,
          "new_api": "setBit",
          "old_text": null,
          "new_text": "result.setBit(i++, bit)",
          "old_line_content": "}",
          "new_line_content": "        result.setBit(i++, bit);",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"encrypted traffic\")",
          "old_line_content": "    // e = Peer is using Protocol Encryption (handshake)",
          "new_line_content": "        m_flagsDescription += (\"E = \" + tr(\"encrypted traffic\")  + '\\n');",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "isPlaintextEncrypted",
          "old_text": null,
          "new_text": "isPlaintextEncrypted()",
          "old_line_content": "    }",
          "new_line_content": "    if (isPlaintextEncrypted()) {",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr(\"encrypted handshake\")",
          "old_line_content": "    // P = Peer is using uTorrent uTP",
          "new_line_content": "        m_flagsDescription += (\"e = \" + tr(\"encrypted handshake\") + '\\n');",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": null,
          "new_api": "QString::fromUtf8(C_UTP)",
          "old_text": null,
          "new_text": "QString::fromUtf8(C_UTP)",
          "old_line_content": "    switch (m_nativeInfo.connection_type) {",
          "new_line_content": "        return QString::fromUtf8(C_UTP);",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": null,
          "new_api": "useUTPSocket",
          "old_text": null,
          "new_text": "useUTPSocket()",
          "old_line_content": "    }",
          "new_line_content": "    if (useUTPSocket()) {",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": null,
          "new_api": "QString::fromUtf8(C_UTP)",
          "old_text": null,
          "new_text": "QString::fromUtf8(C_UTP)",
          "old_line_content": "    // L = Peer is local",
          "new_line_content": "        m_flagsDescription += (\"P = \" + QString::fromUtf8(C_UTP) + '\\n');",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "fromLSD",
          "old_text": null,
          "new_text": "fromLSD()",
          "old_line_content": "    }",
          "new_line_content": "    if (fromLSD()) {",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": null,
          "new_api": "trimmed",
          "old_text": null,
          "new_text": "m_flags.trimmed()",
          "old_line_content": "",
          "new_line_content": "    m_flags = m_flags.trimmed();",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "trimmed",
          "old_text": null,
          "new_text": "m_flagsDescription.trimmed()",
          "old_line_content": "QString PeerInfo::flags() const",
          "new_line_content": "    m_flagsDescription = m_flagsDescription.trimmed();",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "pieces",
          "old_text": null,
          "new_text": "torrent->pieces()",
          "old_line_content": "    int localMissing = 0;",
          "new_line_content": "    const QBitArray allPieces = torrent->pieces();",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "pieces",
          "old_text": null,
          "new_text": "pieces()",
          "old_line_content": "    int remoteHaves = 0;",
          "new_line_content": "    const QBitArray peerPieces = pieces();",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "allPieces.size()",
          "old_line_content": "            if (peerPieces[i])",
          "new_line_content": "    for (int i = 0; i < allPieces.size(); ++i) {",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": null,
          "new_api": "static_cast<int>(m_nativeInfo.downloading_piece_index)",
          "old_text": null,
          "new_text": "static_cast<int>(m_nativeInfo.downloading_piece_index)",
          "old_line_content": "",
          "new_line_content": "    return static_cast<int>(m_nativeInfo.downloading_piece_index);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 263,
          "old_api": "isInteresting",
          "new_api": null,
          "old_text": "isInteresting()",
          "new_text": null,
          "old_line_content": "    if (isInteresting()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "isRemoteChocked",
          "new_api": null,
          "old_text": "isRemoteChocked()",
          "new_text": null,
          "old_line_content": "        if (isRemoteChocked()) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"interested(local) and unchoked(peer)\")",
          "new_text": null,
          "old_line_content": "                + tr(\"interested(local) and unchoked(peer)\") + '\\n');",
          "new_line_content": "            // D = Currently downloading (interested and not choked)",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "isRemoteInterested",
          "new_api": null,
          "old_text": "isRemoteInterested()",
          "new_text": null,
          "old_line_content": "    if (isRemoteInterested()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "isChocked",
          "new_api": null,
          "old_text": "isChocked()",
          "new_text": null,
          "old_line_content": "        if (isChocked()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"interested(peer) and unchoked(local)\")",
          "new_text": null,
          "old_line_content": "                + tr(\"interested(peer) and unchoked(local)\") + '\\n');",
          "new_line_content": "            // U = Currently uploading (interested and not choked)",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "optimisticUnchoke",
          "new_api": null,
          "old_text": "optimisticUnchoke()",
          "new_text": null,
          "old_line_content": "    if (optimisticUnchoke()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"optimistic unchoke\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"O = \" + tr(\"optimistic unchoke\") + '\\n');",
          "new_line_content": "    // O = Optimistic unchoke",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "address",
          "new_api": null,
          "old_text": "m_nativeInfo.ip.address().to_string()",
          "new_text": null,
          "old_line_content": "    return {QHostAddress(QString::fromStdString(m_nativeInfo.ip.address().to_string()))",
          "new_line_content": "    // fast path for platforms which boost.asio internal struct maps to `sockaddr`",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "isSnubbed",
          "new_api": null,
          "old_text": "isSnubbed()",
          "new_text": null,
          "old_line_content": "    if (isSnubbed()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"peer snubbed\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"S = \" + tr(\"peer snubbed\") + '\\n');",
          "new_line_content": "    // S = Peer is snubbed",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": "QString::fromStdString(m_nativeInfo.client)",
          "new_api": null,
          "old_text": "QString::fromStdString(m_nativeInfo.client)",
          "new_text": null,
          "old_line_content": "    return QString::fromStdString(m_nativeInfo.client);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "isLocalConnection",
          "new_api": null,
          "old_text": "isLocalConnection()",
          "new_text": null,
          "old_line_content": "    if (!isLocalConnection()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"incoming connection\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"I = \" + tr(\"incoming connection\") + '\\n');",
          "new_line_content": "    // I = Peer is an incoming connection",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "isInteresting",
          "new_api": null,
          "old_text": "isInteresting()",
          "new_text": null,
          "old_line_content": "    if (!isRemoteChocked() && !isInteresting()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "isRemoteInterested",
          "new_api": null,
          "old_text": "isRemoteInterested()",
          "new_text": null,
          "old_line_content": "    if (!isChocked() && !isRemoteInterested()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "fromPeX",
          "new_api": null,
          "old_text": "fromPeX()",
          "new_text": null,
          "old_line_content": "    if (fromPeX()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"peer from PEX\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"X = \" + tr(\"peer from PEX\") + '\\n');",
          "new_line_content": "    // X = Peer was included in peerlists obtained through Peer Exchange (PEX)",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "fromDHT",
          "new_api": null,
          "old_text": "fromDHT()",
          "new_text": null,
          "old_line_content": "    if (fromDHT()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"peer from DHT\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"H = \" + tr(\"peer from DHT\") + '\\n');",
          "new_line_content": "    // H = Peer was obtained through DHT",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "size",
          "new_api": null,
          "old_text": "m_nativeInfo.pieces.size()",
          "new_text": null,
          "old_line_content": "    QBitArray result(m_nativeInfo.pieces.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "isRC4Encrypted",
          "new_api": null,
          "old_text": "isRC4Encrypted()",
          "new_text": null,
          "old_line_content": "    if (isRC4Encrypted()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": "setBit",
          "new_api": null,
          "old_text": "result.setBit(i++, bit)",
          "new_text": null,
          "old_line_content": "        result.setBit(i++, bit);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"encrypted traffic\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"E = \" + tr(\"encrypted traffic\")  + '\\n');",
          "new_line_content": "    // E = Peer is using Protocol Encryption (all traffic)",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "isPlaintextEncrypted",
          "new_api": null,
          "old_text": "isPlaintextEncrypted()",
          "new_text": null,
          "old_line_content": "    if (isPlaintextEncrypted()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"encrypted handshake\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"e = \" + tr(\"encrypted handshake\") + '\\n');",
          "new_line_content": "    // e = Peer is using Protocol Encryption (handshake)",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "QString::fromUtf8(C_UTP)",
          "new_api": null,
          "old_text": "QString::fromUtf8(C_UTP)",
          "new_text": null,
          "old_line_content": "        return QString::fromUtf8(C_UTP);",
          "new_line_content": "QString PeerInfo::connectionType() const",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "useUTPSocket",
          "new_api": null,
          "old_text": "useUTPSocket()",
          "new_text": null,
          "old_line_content": "    if (useUTPSocket()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "QString::fromUtf8(C_UTP)",
          "new_api": null,
          "old_text": "QString::fromUtf8(C_UTP)",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"P = \" + QString::fromUtf8(C_UTP) + '\\n');",
          "new_line_content": "    // P = Peer is using uTorrent uTP",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "fromLSD",
          "new_api": null,
          "old_text": "fromLSD()",
          "new_text": null,
          "old_line_content": "    if (fromLSD()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(\"peer from LSD\")",
          "new_text": null,
          "old_line_content": "        m_flagsDescription += (\"L = \" + tr(\"peer from LSD\") + '\\n');",
          "new_line_content": "    // L = Peer is local",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "trimmed",
          "new_api": null,
          "old_text": "m_flagsDescription.trimmed()",
          "new_text": null,
          "old_line_content": "    m_flagsDescription = m_flagsDescription.trimmed();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "pieces",
          "new_api": null,
          "old_text": "torrent->pieces()",
          "new_text": null,
          "old_line_content": "    const QBitArray allPieces = torrent->pieces();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "pieces",
          "new_api": null,
          "old_text": "pieces()",
          "new_text": null,
          "old_line_content": "    const QBitArray peerPieces = pieces();",
          "new_line_content": "void PeerInfo::calcRelevance(const TorrentHandle *torrent)",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": "size",
          "new_api": null,
          "old_text": "allPieces.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 0; i < allPieces.size(); ++i) {",
          "new_line_content": "    int localMissing = 0;",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "static_cast<int>(m_nativeInfo.downloading_piece_index)",
          "new_api": null,
          "old_text": "static_cast<int>(m_nativeInfo.downloading_piece_index)",
          "new_text": null,
          "old_line_content": "    return static_cast<int>(m_nativeInfo.downloading_piece_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "static_cast<qreal>(remoteHaves)",
          "new_api": null,
          "old_text": "static_cast<qreal>(remoteHaves)",
          "new_text": null,
          "old_line_content": "        m_relevance = static_cast<qreal>(remoteHaves) / localMissing;",
          "new_line_content": "    if (localMissing == 0)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 5,
      "total_additions": 36,
      "total_deletions": 37,
      "total_api_changes": 78
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 78,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          172,
          173,
          174,
          175
        ]
      }
    },
    "api_calls_before": 76,
    "api_calls_after": 74,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 2,
      "total_diff_lines": 19
    }
  }
}