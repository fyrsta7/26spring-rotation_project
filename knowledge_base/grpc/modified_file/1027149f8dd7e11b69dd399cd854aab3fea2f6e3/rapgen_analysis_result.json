{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/grpc/modified_file/1027149f8dd7e11b69dd399cd854aab3fea2f6e3",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/grpc/modified_file/1027149f8dd7e11b69dd399cd854aab3fea2f6e3/before.cc",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/grpc/modified_file/1027149f8dd7e11b69dd399cd854aab3fea2f6e3/after.cc",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/grpc/modified_file/1027149f8dd7e11b69dd399cd854aab3fea2f6e3/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1082,
          "old_api": "set_write_state",
          "new_api": "GPR_UNREACHABLE_CODE",
          "old_text": "set_write_state(t, GRPC_CHTTP2_WRITE_STATE_IDLE, \"finish writing\")",
          "new_text": "GPR_UNREACHABLE_CODE(break)",
          "old_line_content": "      set_write_state(t, GRPC_CHTTP2_WRITE_STATE_IDLE, \"finish writing\");",
          "new_line_content": "      GPR_UNREACHABLE_CODE(break);",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "GPR_TIMER_MARK",
          "new_api": "set_write_state",
          "old_text": "GPR_TIMER_MARK(\"state=writing_stale_no_poller\", 0)",
          "new_text": "set_write_state(t, GRPC_CHTTP2_WRITE_STATE_IDLE, \"finish writing\")",
          "old_line_content": "      GPR_TIMER_MARK(\"state=writing_stale_no_poller\", 0);",
          "new_line_content": "      set_write_state(t, GRPC_CHTTP2_WRITE_STATE_IDLE, \"finish writing\");",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": "GPR_TIMER_MARK",
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"writing\")",
          "new_text": "GPR_TIMER_MARK(\"state=writing_stale_no_poller\", 0)",
          "old_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"writing\");",
          "new_line_content": "      GPR_TIMER_MARK(\"state=writing_stale_no_poller\", 0);",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": "set_write_state",
          "old_text": "GRPC_CLOSURE_RUN(\n          GRPC_CLOSURE_INIT(&t->write_action_begin_locked,\n                            write_action_begin_locked, t,\n                            grpc_combiner_finally_scheduler(t->combiner)),\n          GRPC_ERROR_NONE)",
          "new_text": "set_write_state(t, GRPC_CHTTP2_WRITE_STATE_WRITING, \"continue writing\")",
          "old_line_content": "      GRPC_CLOSURE_RUN(",
          "new_line_content": "      set_write_state(t, GRPC_CHTTP2_WRITE_STATE_WRITING, \"continue writing\");",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "GPR_CLAMP",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "GPR_CLAMP(value, sp->min_value, sp->max_value)",
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "  uint32_t use_value = GPR_CLAMP(value, sp->min_value, sp->max_value);",
          "new_line_content": "  grpc_chttp2_end_write(t, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": "gpr_log",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "gpr_log(GPR_INFO, \"Requested parameter %s clamped from %d to %d\", sp->name,\n            value, use_value)",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"writing\")",
          "old_line_content": "    gpr_log(GPR_INFO, \"Requested parameter %s clamped from %d to %d\", sp->name,",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"writing\");",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "GPR_UNLIKELY",
          "new_api": "static_cast<intptr_t>(goaway_error)",
          "old_text": "GPR_UNLIKELY(t->is_client &&\n                   goaway_error == GRPC_HTTP2_ENHANCE_YOUR_CALM &&\n                   grpc_slice_str_cmp(goaway_text, \"too_many_pings\") == 0)",
          "new_text": "static_cast<intptr_t>(goaway_error)",
          "old_line_content": "  if (GPR_UNLIKELY(t->is_client &&",
          "new_line_content": "          GRPC_ERROR_INT_HTTP2_ERROR, static_cast<intptr_t>(goaway_error)),",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "static_cast<double>(t->keepalive_time)",
          "old_text": "GRPC_ERROR_REF(t->goaway_error)",
          "new_text": "static_cast<double>(t->keepalive_time)",
          "old_line_content": "                         GRPC_ERROR_REF(t->goaway_error), \"got_goaway\");",
          "new_line_content": "    double current_keepalive_time_ms = static_cast<double>(t->keepalive_time);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "grpc_chttp2_list_pop_waiting_for_concurrency",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)",
          "new_text": "GRPC_ERROR_REF(t->goaway_error)",
          "old_line_content": "         grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)) {",
          "new_line_content": "                         GRPC_ERROR_REF(t->goaway_error), \"got_goaway\");",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "connectivity_state_set",
          "new_api": "grpc_chttp2_list_pop_waiting_for_concurrency",
          "old_text": "connectivity_state_set(\n          t, GRPC_CHANNEL_TRANSIENT_FAILURE,\n          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),\n          \"no_more_stream_ids\")",
          "new_text": "grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)",
          "old_line_content": "      connectivity_state_set(",
          "new_line_content": "         grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)) {",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "gpr_log",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\")",
          "new_text": "gpr_log(\n        GPR_INFO, \"HTTP:%s: Allocating new grpc_chttp2_stream %p to id %d\",\n        t->is_client ? \"CLI\" : \"SVR\", s, t->next_stream_id)",
          "old_line_content": "          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),",
          "new_line_content": "    GRPC_CHTTP2_IF_TRACING(gpr_log(",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "grpc_chttp2_stream_map_add",
          "new_api": "GPR_ASSERT",
          "old_text": "grpc_chttp2_stream_map_add(&t->stream_map, s->id, s)",
          "new_text": "GPR_ASSERT(s->id == 0)",
          "old_line_content": "    grpc_chttp2_stream_map_add(&t->stream_map, s->id, s);",
          "new_line_content": "    GPR_ASSERT(s->id == 0);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "grpc_chttp2_list_pop_waiting_for_concurrency",
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": "grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)",
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\")",
          "old_line_content": "         grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)) {",
          "new_line_content": "          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "grpc_chttp2_stream_map_add",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\")",
          "new_text": "grpc_chttp2_stream_map_add(&t->stream_map, s->id, s)",
          "old_line_content": "            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),",
          "new_line_content": "    grpc_chttp2_stream_map_add(&t->stream_map, s->id, s);",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "static_cast<int>(closure->next_data.scratch /\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "static_cast<int>(closure->next_data.scratch /\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "        static_cast<int>(closure->next_data.scratch /",
          "new_line_content": "    GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "write_state_name",
          "new_api": "enabled",
          "old_text": "write_state_name(t->write_state)",
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "        desc, errstr, write_state_name(t->write_state));",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "grpc_error_add_child",
          "new_api": "write_state_name",
          "old_text": "grpc_error_add_child(closure->error_data.error, error)",
          "new_text": "write_state_name(t->write_state)",
          "old_line_content": "        grpc_error_add_child(closure->error_data.error, error);",
          "new_line_content": "        desc, errstr, write_state_name(t->write_state));",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": "grpc_mdelem_eq",
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_SEND_MESSAGE)",
          "new_text": "grpc_mdelem_eq(batch->idx.named.grpc_status->md,\n                           GRPC_MDELEM_GRPC_STATUS_0)",
          "old_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_SEND_MESSAGE);",
          "new_line_content": "    return !grpc_mdelem_eq(batch->idx.named.grpc_status->md,",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "length",
          "new_api": "maybe_become_writable_due_to_send_msg",
          "old_text": "s->fetching_send_message->length()",
          "new_text": "maybe_become_writable_due_to_send_msg(t, s)",
          "old_line_content": "    if (s->fetched_send_message_length == s->fetching_send_message->length()) {",
          "new_line_content": "  maybe_become_writable_due_to_send_msg(t, s);",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": "static_cast<grpc_chttp2_stream*>(gs)",
          "old_text": "grpc_chttp2_cancel_stream(t, s, error)",
          "new_text": "static_cast<grpc_chttp2_stream*>(gs)",
          "old_line_content": "    grpc_chttp2_cancel_stream(t, s, error);",
          "new_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(gs);",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "GRPC_MDKEY",
          "new_api": "reset",
          "old_text": "GRPC_MDKEY(md->md)",
          "new_text": "s->fetching_send_message.reset()",
          "old_line_content": "    char* key = grpc_slice_to_c_string(GRPC_MDKEY(md->md));",
          "new_line_content": "    s->fetching_send_message.reset();",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "GRPC_MDVALUE",
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": "GRPC_MDVALUE(md->md)",
          "new_text": "grpc_chttp2_cancel_stream(t, s, error)",
          "old_line_content": "    char* value = grpc_slice_to_c_string(GRPC_MDVALUE(md->md));",
          "new_line_content": "    grpc_chttp2_cancel_stream(t, s, error);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": "GRPC_MDKEY",
          "old_text": "GPR_TIMER_SCOPE(\"perform_stream_op_locked\", 0)",
          "new_text": "GRPC_MDKEY(md->md)",
          "old_line_content": "  GPR_TIMER_SCOPE(\"perform_stream_op_locked\", 0);",
          "new_line_content": "    char* key = grpc_slice_to_c_string(GRPC_MDKEY(md->md));",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "static_cast<grpc_chttp2_stream*>(op->handler_private.extra_arg)",
          "new_api": "gpr_free",
          "old_text": "static_cast<grpc_chttp2_stream*>(op->handler_private.extra_arg)",
          "new_text": "gpr_free(value)",
          "old_line_content": "      static_cast<grpc_chttp2_stream*>(op->handler_private.extra_arg);",
          "new_line_content": "    gpr_free(value);",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "grpc_transport_stream_op_batch_string",
          "new_api": "static_cast<grpc_transport_stream_op_batch*>(stream_op)",
          "old_text": "grpc_transport_stream_op_batch_string(op)",
          "new_text": "static_cast<grpc_transport_stream_op_batch*>(stream_op)",
          "old_line_content": "    char* str = grpc_transport_stream_op_batch_string(op);",
          "new_line_content": "      static_cast<grpc_transport_stream_op_batch*>(stream_op);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": "GRPC_CLOSURE_INIT",
          "old_text": "grpc_chttp2_cancel_stream(t, s, op_payload->cancel_stream.cancel_error)",
          "new_text": "GRPC_CLOSURE_INIT(&op->handler_private.closure, do_nothing,\n                                    nullptr, grpc_schedule_on_exec_ctx)",
          "old_line_content": "    grpc_chttp2_cancel_stream(t, s, op_payload->cancel_stream.cancel_error);",
          "new_line_content": "    on_complete = GRPC_CLOSURE_INIT(&op->handler_private.closure, do_nothing,",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "grpc_metadata_batch_size",
          "new_api": "GRPC_MDVALUE",
          "old_text": "grpc_metadata_batch_size(s->send_initial_metadata)",
          "new_text": "GRPC_MDVALUE(\n                op_payload->send_initial_metadata.send_initial_metadata->idx\n                    .named.content_encoding->md)",
          "old_line_content": "        grpc_metadata_batch_size(s->send_initial_metadata);",
          "new_line_content": "            GRPC_MDVALUE(",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "grpc_error_set_int",
          "new_api": "grpc_metadata_batch_size",
          "old_text": "grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit))",
          "new_text": "grpc_metadata_batch_size(s->send_initial_metadata)",
          "old_line_content": "              grpc_error_set_int(",
          "new_line_content": "        grpc_metadata_batch_size(s->send_initial_metadata);",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "static_cast<intptr_t>(metadata_size)",
          "new_api": "GPR_MIN",
          "old_text": "static_cast<intptr_t>(metadata_size)",
          "new_text": "GPR_MIN(s->deadline, s->send_initial_metadata->deadline)",
          "old_line_content": "                                     static_cast<intptr_t>(metadata_size)),",
          "new_line_content": "      s->deadline = GPR_MIN(s->deadline, s->send_initial_metadata->deadline);",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "contains_non_ok_status",
          "new_api": "grpc_error_set_int",
          "old_text": "contains_non_ok_status(s->send_initial_metadata)",
          "new_text": "grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED)",
          "old_line_content": "      if (contains_non_ok_status(s->send_initial_metadata)) {",
          "new_line_content": "          grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "GPR_ASSERT",
          "new_api": "static_cast<intptr_t>(metadata_size)",
          "old_text": "GPR_ASSERT(s->id == 0)",
          "new_text": "static_cast<intptr_t>(metadata_size)",
          "old_line_content": "            GPR_ASSERT(s->id == 0);",
          "new_line_content": "                                     static_cast<intptr_t>(metadata_size)),",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "maybe_start_some_streams",
          "new_api": "static_cast<intptr_t>(metadata_peer_limit)",
          "old_text": "maybe_start_some_streams(t)",
          "new_text": "static_cast<intptr_t>(metadata_peer_limit)",
          "old_line_content": "            maybe_start_some_streams(t);",
          "new_line_content": "                  static_cast<intptr_t>(metadata_peer_limit)),",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "GPR_ASSERT",
          "new_api": "grpc_chttp2_list_add_waiting_for_concurrency",
          "old_text": "GPR_ASSERT(s->id != 0)",
          "new_text": "grpc_chttp2_list_add_waiting_for_concurrency(t, s)",
          "old_line_content": "          GPR_ASSERT(s->id != 0);",
          "new_line_content": "            grpc_chttp2_list_add_waiting_for_concurrency(t, s);",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "grpc_chttp2_mark_stream_writable",
          "new_api": "maybe_start_some_streams",
          "old_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "new_text": "maybe_start_some_streams(t)",
          "old_line_content": "          grpc_chttp2_mark_stream_writable(t, s);",
          "new_line_content": "            maybe_start_some_streams(t);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "flags",
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": "op->payload->send_message.send_message->flags()",
          "new_text": "grpc_chttp2_cancel_stream(\n                t, s,\n                grpc_error_set_int(\n                    GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                        \"Transport closed\", &t->closed_with_error, 1),\n                    GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE))",
          "old_line_content": "                (op->payload->send_message.send_message->flags() &",
          "new_line_content": "            grpc_chttp2_cancel_stream(",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": "grpc_error_set_int",
          "old_text": "grpc_chttp2_initiate_write(\n                t, GRPC_CHTTP2_INITIATE_WRITE_SEND_INITIAL_METADATA)",
          "new_text": "grpc_error_set_int(\n                    GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                        \"Transport closed\", &t->closed_with_error, 1),\n                    GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "old_line_content": "            grpc_chttp2_initiate_write(",
          "new_line_content": "                grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": "GPR_ASSERT",
          "old_text": "grpc_chttp2_complete_closure_step(\n            t, s, &s->send_initial_metadata_finished,\n            GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                \"Attempt to send initial metadata after stream was closed\",\n                &s->write_closed_error, 1),\n            \"send_initial_metadata_finished\")",
          "new_text": "GPR_ASSERT(s->id != 0)",
          "old_line_content": "        grpc_chttp2_complete_closure_step(",
          "new_line_content": "          GPR_ASSERT(s->id != 0);",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "add_closure_barrier",
          "new_api": "gpr_atm_rel_store",
          "old_text": "add_closure_barrier(op->on_complete)",
          "new_text": "gpr_atm_rel_store(op_payload->send_initial_metadata.peer_string,\n                        (gpr_atm)t->peer_string)",
          "old_line_content": "    s->fetching_send_message_finished = add_closure_barrier(op->on_complete);",
          "new_line_content": "      gpr_atm_rel_store(op_payload->send_initial_metadata.peer_string,",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": "length",
          "old_text": "grpc_chttp2_complete_closure_step(\n          t, s, &s->fetching_send_message_finished,\n          t->is_client && s->received_trailing_metadata\n              ? GRPC_ERROR_NONE\n              : GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                    \"Attempt to send message after stream was closed\",\n                    &s->write_closed_error, 1),\n          \"fetching_send_message_finished\")",
          "new_text": "GRPC_STATS_INC_HTTP2_SEND_MESSAGE_SIZE(\n        op->payload->send_message.send_message->length())",
          "old_line_content": "      grpc_chttp2_complete_closure_step(",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_SEND_MESSAGE_SIZE(",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "grpc_slice_buffer_tiny_add",
          "new_api": "reset",
          "old_text": "grpc_slice_buffer_tiny_add(\n          &s->flow_controlled_buffer, GRPC_HEADER_SIZE_IN_BYTES)",
          "new_text": "op->payload->send_message.send_message.reset()",
          "old_line_content": "      uint8_t* frame_hdr = grpc_slice_buffer_tiny_add(",
          "new_line_content": "      op->payload->send_message.send_message.reset();",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "static_cast<uint8_t>(len >> 24)",
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": "static_cast<uint8_t>(len >> 24)",
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                    \"Attempt to send message after stream was closed\",\n                    &s->write_closed_error, 1)",
          "old_line_content": "      frame_hdr[1] = static_cast<uint8_t>(len >> 24);",
          "new_line_content": "              : GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "std::move(op_payload->send_message.send_message)",
          "new_api": "GPR_ASSERT",
          "old_text": "std::move(op_payload->send_message.send_message)",
          "new_text": "GPR_ASSERT(s->fetching_send_message == nullptr)",
          "old_line_content": "          std::move(op_payload->send_message.send_message);",
          "new_line_content": "      GPR_ASSERT(s->fetching_send_message == nullptr);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "static_cast<int64_t>(len)",
          "new_api": "length",
          "old_text": "static_cast<int64_t>(len)",
          "new_text": "op_payload->send_message.send_message->length()",
          "old_line_content": "          static_cast<int64_t>(len);",
          "new_line_content": "      size_t len = op_payload->send_message.send_message->length();",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "contains_non_ok_status",
          "new_api": "grpc_error_set_int",
          "old_text": "contains_non_ok_status(s->send_trailing_metadata)",
          "new_text": "grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED)",
          "old_line_content": "      if (contains_non_ok_status(s->send_trailing_metadata)) {",
          "new_line_content": "          grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": "grpc_metadata_batch_is_empty",
          "old_text": "grpc_chttp2_initiate_write(\n            t, GRPC_CHTTP2_INITIATE_WRITE_SEND_TRAILING_METADATA)",
          "new_text": "grpc_metadata_batch_is_empty(\n                op->payload->send_trailing_metadata.send_trailing_metadata)",
          "old_line_content": "        grpc_chttp2_initiate_write(",
          "new_line_content": "            grpc_metadata_batch_is_empty(",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "grpc_chttp2_maybe_complete_recv_initial_metadata",
          "new_api": "GPR_ASSERT",
          "old_text": "grpc_chttp2_maybe_complete_recv_initial_metadata(t, s)",
          "new_text": "GPR_ASSERT(s->recv_initial_metadata_ready == nullptr)",
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_initial_metadata(t, s);",
          "new_line_content": "    GPR_ASSERT(s->recv_initial_metadata_ready == nullptr);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "GPR_ASSERT",
          "new_api": "IncomingByteStreamUpdate",
          "old_text": "GPR_ASSERT(s->recv_trailing_metadata_finished == nullptr)",
          "new_text": "s->flow_control->IncomingByteStreamUpdate(GRPC_HEADER_SIZE_IN_BYTES,\n                                                  before - after)",
          "old_line_content": "    GPR_ASSERT(s->recv_trailing_metadata_finished == nullptr);",
          "new_line_content": "        s->flow_control->IncomingByteStreamUpdate(GRPC_HEADER_SIZE_IN_BYTES,",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": "GPR_ASSERT",
          "old_text": "grpc_chttp2_complete_closure_step(t, s, &on_complete, GRPC_ERROR_NONE,\n                                    \"op->on_complete\")",
          "new_text": "GPR_ASSERT(s->collecting_stats == nullptr)",
          "old_line_content": "  grpc_chttp2_complete_closure_step(t, s, &on_complete, GRPC_ERROR_NONE,",
          "new_line_content": "    GPR_ASSERT(s->collecting_stats == nullptr);",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "old_text": "GPR_TIMER_SCOPE(\"perform_stream_op\", 0)",
          "new_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "old_line_content": "  GPR_TIMER_SCOPE(\"perform_stream_op\", 0);",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "GPR_ASSERT",
          "new_api": "reinterpret_cast<grpc_chttp2_stream*>(gs)",
          "old_text": "GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE)",
          "new_text": "reinterpret_cast<grpc_chttp2_stream*>(gs)",
          "old_line_content": "      GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE);",
          "new_line_content": "  grpc_chttp2_stream* s = reinterpret_cast<grpc_chttp2_stream*>(gs);",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "gpr_log",
          "new_api": "GPR_ASSERT",
          "old_text": "gpr_log(GPR_INFO, \"perform_stream_op[s=%p]: %s\", s, str)",
          "new_text": "GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE)",
          "old_line_content": "    gpr_log(GPR_INFO, \"perform_stream_op[s=%p]: %s\", s, str);",
          "new_line_content": "      GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE);",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "GRPC_CLOSURE_INIT",
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": "GRPC_CLOSURE_INIT(&op->handler_private.closure, perform_stream_op_locked,\n                        op, grpc_combiner_scheduler(t->combiner))",
          "old_line_content": "    grpc_closure_list_fail_all(&pq->lists[j], GRPC_ERROR_REF(error));",
          "new_line_content": "      GRPC_CLOSURE_INIT(&op->handler_private.closure, perform_stream_op_locked,",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "GRPC_CLOSURE_LIST_SCHED",
          "new_api": "grpc_combiner_scheduler",
          "old_text": "GRPC_CLOSURE_LIST_SCHED(&pq->lists[j])",
          "new_text": "grpc_combiner_scheduler(t->combiner)",
          "old_line_content": "    GRPC_CLOSURE_LIST_SCHED(&pq->lists[j]);",
          "new_line_content": "                        op, grpc_combiner_scheduler(t->combiner)),",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "GPR_ASSERT",
          "old_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "new_text": "GPR_ASSERT(error != GRPC_ERROR_NONE)",
          "old_line_content": "    GRPC_CLOSURE_SCHED(on_initiate, GRPC_ERROR_REF(t->closed_with_error));",
          "new_line_content": "  GPR_ASSERT(error != GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "grpc_closure_list_append",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE], on_initiate,\n                           GRPC_ERROR_NONE)",
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE], on_initiate,",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": "grpc_closure_list_append",
          "old_text": "GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked,\n                     GRPC_ERROR_REF(t->closed_with_error))",
          "new_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT], on_ack,\n                           GRPC_ERROR_NONE)",
          "old_line_content": "    GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked,",
          "new_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT], on_ack,",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": "grpc_closure_list_append",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE],\n                           &t->start_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "new_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "old_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE],",
          "new_line_content": "                     GRPC_ERROR_REF(t->closed_with_error));",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_api": "grpc_closure_list_append",
          "old_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT],\n                             &t->finish_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "new_line_content": "    grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT],",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "grpc_endpoint_get_peer",
          "new_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_text": "grpc_endpoint_get_peer(t->ep)",
          "new_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_line_content": "    char* from = grpc_endpoint_get_peer(t->ep);",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "GRPC_CLOSURE_LIST_SCHED",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "GRPC_CLOSURE_LIST_SCHED(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT])",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"retry_initiate_ping_locked\")",
          "old_line_content": "  GRPC_CLOSURE_LIST_SCHED(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT]);",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"retry_initiate_ping_locked\");",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "gpr_log",
          "new_api": "gpr_free",
          "old_text": "gpr_log(GPR_INFO, \"%s: Sending goaway err=%s\", t->peer_string,\n          grpc_error_string(error))",
          "new_text": "gpr_free(from)",
          "old_line_content": "  gpr_log(GPR_INFO, \"%s: Sending goaway err=%s\", t->peer_string,",
          "new_line_content": "    gpr_free(from);",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": "grpc_error_get_status",
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": "grpc_error_get_status(error, GRPC_MILLIS_INF_FUTURE, nullptr, &slice,\n                        &http_error, nullptr)",
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CONTINUE_PINGS)",
          "old_line_content": "  grpc_error_get_status(error, GRPC_MILLIS_INF_FUTURE, nullptr, &slice,",
          "new_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CONTINUE_PINGS);",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": "gpr_log",
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": "gpr_log(GPR_INFO, \"%s: Sending goaway err=%s\", t->peer_string,\n          grpc_error_string(error))",
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "  gpr_log(GPR_INFO, \"%s: Sending goaway err=%s\", t->peer_string,",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "grpc_error_set_int",
          "new_api": "grpc_chttp2_goaway_append",
          "old_text": "grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM)",
          "new_text": "grpc_chttp2_goaway_append(t->last_new_stream_id,\n                            static_cast<uint32_t>(http_error),\n                            grpc_slice_ref_internal(slice), &t->qbuf)",
          "old_line_content": "                grpc_error_set_int(",
          "new_line_content": "  grpc_chttp2_goaway_append(t->last_new_stream_id,",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "static_cast<uint32_t>(http_error)",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\")",
          "new_text": "static_cast<uint32_t>(http_error)",
          "old_line_content": "                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\"),",
          "new_line_content": "                            static_cast<uint32_t>(http_error),",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "close_transport_locked",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "close_transport_locked(\n        t, grpc_error_set_int(\n               GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\"),\n               GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE))",
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "    close_transport_locked(",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": "static_cast<grpc_chttp2_transport*>(op->handler_private.extra_arg)",
          "new_api": "close_transport_locked",
          "old_text": "static_cast<grpc_chttp2_transport*>(op->handler_private.extra_arg)",
          "new_text": "close_transport_locked(\n        t, grpc_error_set_int(\n               GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\"),\n               GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE))",
          "old_line_content": "      static_cast<grpc_chttp2_transport*>(op->handler_private.extra_arg);",
          "new_line_content": "    close_transport_locked(",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": "close_transport_locked",
          "new_api": "send_ping_locked",
          "old_text": "close_transport_locked(t, op->disconnect_with_error)",
          "new_text": "send_ping_locked(t, op->send_ping.on_initiate, op->send_ping.on_ack)",
          "old_line_content": "    close_transport_locked(t, op->disconnect_with_error);",
          "new_line_content": "    send_ping_locked(t, op->send_ping.on_initiate, op->send_ping.on_ack);",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": "grpc_connectivity_state_notify_on_state_change",
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"transport_op\")",
          "new_text": "grpc_connectivity_state_notify_on_state_change(\n        &t->channel_callback.state_tracker, op->connectivity_state,\n        op->on_connectivity_state_change)",
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"transport_op\");",
          "new_line_content": "    grpc_connectivity_state_notify_on_state_change(",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": "grpc_transport_op_string",
          "new_api": "close_transport_locked",
          "old_text": "grpc_transport_op_string(op)",
          "new_text": "close_transport_locked(t, op->disconnect_with_error)",
          "old_line_content": "    char* msg = grpc_transport_op_string(op);",
          "new_line_content": "    close_transport_locked(t, op->disconnect_with_error);",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"transport_op\")",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"transport_op\")",
          "old_line_content": "  GRPC_CHTTP2_REF_TRANSPORT(t, \"transport_op\");",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"transport_op\");",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "grpc_stream_compression_context_create",
          "new_api": "grpc_slice_buffer_swap",
          "old_text": "grpc_stream_compression_context_create(\n                    s->stream_decompression_method)",
          "new_text": "grpc_slice_buffer_swap(&s->unprocessed_incoming_frames_buffer,\n                                 &s->frame_storage)",
          "old_line_content": "                grpc_stream_compression_context_create(",
          "new_line_content": "          grpc_slice_buffer_swap(&s->unprocessed_incoming_frames_buffer,",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": "grpc_stream_compression_context_destroy",
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": "grpc_stream_compression_context_destroy(\n                  s->stream_decompression_ctx)",
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                \"Stream decompression error.\")",
          "old_line_content": "              grpc_stream_compression_context_destroy(",
          "new_line_content": "            error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "grpc_chttp2_maybe_complete_recv_message",
          "new_api": "null_then_run_closure",
          "old_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "new_text": "null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE)",
          "old_line_content": "  grpc_chttp2_maybe_complete_recv_message(t, s);",
          "new_line_content": "      null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "null_then_run_closure",
          "new_api": "grpc_stream_compression_context_destroy",
          "old_text": "null_then_run_closure(&s->recv_trailing_metadata_finished,\n                            GRPC_ERROR_NONE)",
          "new_text": "grpc_stream_compression_context_destroy(s->stream_decompression_ctx)",
          "old_line_content": "      null_then_run_closure(&s->recv_trailing_metadata_finished,",
          "new_line_content": "          grpc_stream_compression_context_destroy(s->stream_decompression_ctx);",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": "grpc_chttp2_stream_map_delete",
          "new_api": "grpc_chttp2_incoming_metadata_buffer_publish",
          "old_text": "grpc_chttp2_stream_map_delete(&t->stream_map, id)",
          "new_text": "grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[1],\n                                                   s->recv_trailing_metadata)",
          "old_line_content": "      grpc_chttp2_stream_map_delete(&t->stream_map, id));",
          "new_line_content": "      grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[1],",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "static_cast<grpc_chttp2_stream*>(\n      grpc_chttp2_stream_map_delete(&t->stream_map, id))",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "new_text": "static_cast<grpc_chttp2_stream*>(\n      grpc_chttp2_stream_map_delete(&t->stream_map, id))",
          "old_line_content": "        error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "new_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "PublishError",
          "new_api": "GPR_ASSERT",
          "old_text": "bs->PublishError(error)",
          "new_text": "GPR_ASSERT(s)",
          "old_line_content": "      bs->PublishError(error);",
          "new_line_content": "  GPR_ASSERT(s);",
          "content_same": false
        },
        {
          "line": 2051,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "old_line_content": "  if (grpc_chttp2_stream_map_size(&t->stream_map) == 0) {",
          "new_line_content": "        error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": "close_transport_locked",
          "new_api": "Unref",
          "old_text": "close_transport_locked(\n          t, GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                 \"Last stream closed after sending GOAWAY\", &error, 1))",
          "new_text": "bs->Unref()",
          "old_line_content": "      close_transport_locked(",
          "new_line_content": "      bs->Unref();",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": "post_benign_reclaimer",
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": "post_benign_reclaimer(t)",
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "    post_benign_reclaimer(t);",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "maybe_start_some_streams",
          "new_api": "close_transport_locked",
          "old_text": "maybe_start_some_streams(t)",
          "new_text": "close_transport_locked(\n          t, GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                 \"Last stream closed after sending GOAWAY\", &error, 1))",
          "old_line_content": "  maybe_start_some_streams(t);",
          "new_line_content": "      close_transport_locked(",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": "grpc_error_has_clear_grpc_status",
          "new_api": "GRPC_CHTTP2_STREAM_UNREF",
          "old_text": "grpc_error_has_clear_grpc_status(due_to_error)",
          "new_text": "GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2_writing:remove_stream\")",
          "old_line_content": "      grpc_error_has_clear_grpc_status(due_to_error)) {",
          "new_line_content": "    GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2_writing:remove_stream\");",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "grpc_chttp2_rst_stream_create",
          "new_api": "close_from_api",
          "old_text": "grpc_chttp2_rst_stream_create(\n              s->id, static_cast<uint32_t>(http_error), &s->stats.outgoing)",
          "new_text": "close_from_api(t, s, due_to_error)",
          "old_line_content": "          grpc_chttp2_rst_stream_create(",
          "new_line_content": "    close_from_api(t, s, due_to_error);",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "grpc_mdelem_create",
          "new_api": "GRPC_LOG_IF_ERROR",
          "old_text": "grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr)",
          "new_text": "GRPC_LOG_IF_ERROR(\"add_status\",\n                      grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n                          &s->metadata_buffer[1],\n                          grpc_mdelem_from_slices(\n                              GRPC_MDSTR_GRPC_STATUS,\n                              grpc_slice_from_copied_string(status_string))))",
          "old_line_content": "              grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr)));",
          "new_line_content": "    GRPC_LOG_IF_ERROR(\"add_status\",",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "new_api": "grpc_mdelem_from_slices",
          "old_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "new_text": "grpc_mdelem_from_slices(\n                              GRPC_MDSTR_GRPC_STATUS,\n                              grpc_slice_from_copied_string(status_string))",
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "new_line_content": "                          grpc_mdelem_from_slices(",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": "GRPC_SLICE_IS_EMPTY",
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": "GRPC_SLICE_IS_EMPTY(slice)",
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "    if (!GRPC_SLICE_IS_EMPTY(slice)) {",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": "removal_error",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "removal_error(error, s, \"Pending writes failed due to stream closure\")",
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "      removal_error(error, s, \"Pending writes failed due to stream closure\");",
          "new_line_content": "    grpc_chttp2_complete_closure_step(t, s, &cb->closure, GRPC_ERROR_REF(error),",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "reset",
          "new_api": "removal_error",
          "old_text": "s->fetching_send_message.reset()",
          "new_text": "removal_error(error, s, \"Pending writes failed due to stream closure\")",
          "old_line_content": "  s->fetching_send_message.reset();",
          "new_line_content": "      removal_error(error, s, \"Pending writes failed due to stream closure\");",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": "grpc_chttp2_complete_closure_step(t, s, &s->send_initial_metadata_finished,\n                                    GRPC_ERROR_REF(error),\n                                    \"send_initial_metadata_finished\")",
          "old_line_content": "                                    GRPC_ERROR_REF(error),",
          "new_line_content": "  grpc_chttp2_complete_closure_step(t, s, &s->send_initial_metadata_finished,",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "new_line_content": "                                    GRPC_ERROR_REF(error),",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "    s->write_closed_error = GRPC_ERROR_REF(error);",
          "new_line_content": "    GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "GRPC_CHTTP2_VARINT_LENGTH",
          "new_api": "static_cast<uint8_t>('0' + grpc_status)",
          "old_text": "GRPC_CHTTP2_VARINT_LENGTH((uint32_t)msg_len, 1)",
          "new_text": "static_cast<uint8_t>('0' + grpc_status)",
          "old_line_content": "  uint32_t msg_len_len = GRPC_CHTTP2_VARINT_LENGTH((uint32_t)msg_len, 1);",
          "new_line_content": "    *p++ = static_cast<uint8_t>('0' + grpc_status);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": "static_cast<uint8_t>(s->id >> 24)",
          "new_api": "GRPC_SLICE_END_PTR",
          "old_text": "static_cast<uint8_t>(s->id >> 24)",
          "new_text": "GRPC_SLICE_END_PTR(message_pfx)",
          "old_line_content": "  *p++ = static_cast<uint8_t>(s->id >> 24);",
          "new_line_content": "  GPR_ASSERT(p == GRPC_SLICE_END_PTR(message_pfx));",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": "static_cast<uint8_t>(s->id >> 16)",
          "new_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(message_pfx)",
          "old_text": "static_cast<uint8_t>(s->id >> 16)",
          "new_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(message_pfx)",
          "old_line_content": "  *p++ = static_cast<uint8_t>(s->id >> 16);",
          "new_line_content": "  len += static_cast<uint32_t> GRPC_SLICE_LENGTH(message_pfx);",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "static_cast<uint8_t>(s->id >> 8)",
          "new_api": "static_cast<uint32_t>(msg_len)",
          "old_text": "static_cast<uint8_t>(s->id >> 8)",
          "new_text": "static_cast<uint32_t>(msg_len)",
          "old_line_content": "  *p++ = static_cast<uint8_t>(s->id >> 8);",
          "new_line_content": "  len += static_cast<uint32_t>(msg_len);",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "GRPC_SLICE_END_PTR",
          "new_api": "GRPC_SLICE_MALLOC",
          "old_text": "GRPC_SLICE_END_PTR(hdr)",
          "new_text": "GRPC_SLICE_MALLOC(9)",
          "old_line_content": "  GPR_ASSERT(p == GRPC_SLICE_END_PTR(hdr));",
          "new_line_content": "  hdr = GRPC_SLICE_MALLOC(9);",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": "grpc_slice_buffer_add",
          "new_api": "static_cast<uint8_t>(len >> 16)",
          "old_text": "grpc_slice_buffer_add(&t->qbuf, hdr)",
          "new_text": "static_cast<uint8_t>(len >> 16)",
          "old_line_content": "  grpc_slice_buffer_add(&t->qbuf, hdr);",
          "new_line_content": "  *p++ = static_cast<uint8_t>(len >> 16);",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": "grpc_slice_buffer_add",
          "new_api": "static_cast<uint8_t>(len)",
          "old_text": "grpc_slice_buffer_add(&t->qbuf, http_status_hdr)",
          "new_text": "static_cast<uint8_t>(len)",
          "old_line_content": "    grpc_slice_buffer_add(&t->qbuf, http_status_hdr);",
          "new_line_content": "  *p++ = static_cast<uint8_t>(len);",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "grpc_slice_buffer_add",
          "new_api": "static_cast<uint8_t>(s->id >> 24)",
          "old_text": "grpc_slice_buffer_add(&t->qbuf, status_hdr)",
          "new_text": "static_cast<uint8_t>(s->id >> 24)",
          "old_line_content": "  grpc_slice_buffer_add(&t->qbuf, status_hdr);",
          "new_line_content": "  *p++ = static_cast<uint8_t>(s->id >> 24);",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "grpc_slice_buffer_add",
          "new_api": "static_cast<uint8_t>(s->id >> 16)",
          "old_text": "grpc_slice_buffer_add(&t->qbuf, message_pfx)",
          "new_text": "static_cast<uint8_t>(s->id >> 16)",
          "old_line_content": "  grpc_slice_buffer_add(&t->qbuf, message_pfx);",
          "new_line_content": "  *p++ = static_cast<uint8_t>(s->id >> 16);",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": "grpc_slice_ref_internal",
          "new_api": "static_cast<uint8_t>(s->id >> 8)",
          "old_text": "grpc_slice_ref_internal(slice)",
          "new_text": "static_cast<uint8_t>(s->id >> 8)",
          "old_line_content": "  grpc_slice_buffer_add(&t->qbuf, grpc_slice_ref_internal(slice));",
          "new_line_content": "  *p++ = static_cast<uint8_t>(s->id >> 8);",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": "grpc_slice_buffer_add",
          "new_api": "static_cast<uint8_t>(s->id)",
          "old_text": "grpc_slice_buffer_add(\n      &t->qbuf, grpc_chttp2_rst_stream_create(s->id, GRPC_HTTP2_NO_ERROR,\n                                              &s->stats.outgoing))",
          "new_text": "static_cast<uint8_t>(s->id)",
          "old_line_content": "  grpc_slice_buffer_add(",
          "new_line_content": "  *p++ = static_cast<uint8_t>(s->id);",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": "grpc_chttp2_rst_stream_create",
          "new_api": "GRPC_SLICE_END_PTR",
          "old_text": "grpc_chttp2_rst_stream_create(s->id, GRPC_HTTP2_NO_ERROR,\n                                              &s->stats.outgoing)",
          "new_text": "GRPC_SLICE_END_PTR(hdr)",
          "old_line_content": "      &t->qbuf, grpc_chttp2_rst_stream_create(s->id, GRPC_HTTP2_NO_ERROR,",
          "new_line_content": "  GPR_ASSERT(p == GRPC_SLICE_END_PTR(hdr));",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": "grpc_slice_buffer_add",
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CLOSE_FROM_API)",
          "new_text": "grpc_slice_buffer_add(&t->qbuf, http_status_hdr)",
          "old_line_content": "  grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CLOSE_FROM_API);",
          "new_line_content": "    grpc_slice_buffer_add(&t->qbuf, http_status_hdr);",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": "static_cast<grpc_chttp2_stream*>(stream)",
          "new_api": "grpc_chttp2_mark_stream_closed",
          "old_text": "static_cast<grpc_chttp2_stream*>(stream)",
          "new_text": "grpc_chttp2_mark_stream_closed(t, s, 1, 1, error)",
          "old_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(stream);",
          "new_line_content": "  grpc_chttp2_mark_stream_closed(t, s, 1, 1, error);",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": "GRPC_ERROR_REF(args->error)",
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CLOSE_FROM_API)",
          "old_line_content": "  grpc_chttp2_cancel_stream(args->t, s, GRPC_ERROR_REF(args->error));",
          "new_line_content": "  grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CLOSE_FROM_API);",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "send_stream_update",
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": "action.send_stream_update()",
          "new_text": "grpc_chttp2_initiate_write(t, reason)",
          "old_line_content": "  WithUrgency(t, action.send_stream_update(),",
          "new_line_content": "      grpc_chttp2_initiate_write(t, reason);",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "send_transport_update",
          "new_api": "action",
          "old_text": "action.send_transport_update()",
          "new_text": "action()",
          "old_line_content": "  WithUrgency(t, action.send_transport_update(),",
          "new_line_content": "      action();",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "send_max_frame_size_update",
          "new_api": "send_stream_update",
          "old_text": "action.send_max_frame_size_update()",
          "new_text": "action.send_stream_update()",
          "old_line_content": "  WithUrgency(t, action.send_max_frame_size_update(),",
          "new_line_content": "  WithUrgency(t, action.send_stream_update(),",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "max_frame_size",
          "new_api": "grpc_chttp2_mark_stream_writable",
          "old_text": "queue_setting_update(t, GRPC_CHTTP2_SETTINGS_MAX_FRAME_SIZE,\n                                     action.max_frame_size())",
          "new_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "old_line_content": "                queue_setting_update(t, GRPC_CHTTP2_SETTINGS_MAX_FRAME_SIZE,",
          "new_line_content": "              [t, s]() { grpc_chttp2_mark_stream_writable(t, s); });",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": "max_frame_size",
          "new_api": "send_transport_update",
          "old_text": "action.max_frame_size()",
          "new_text": "action.send_transport_update()",
          "old_line_content": "                                     action.max_frame_size());",
          "new_line_content": "  WithUrgency(t, action.send_transport_update(),",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": "grpc_http_parser_init",
          "new_api": "max_frame_size",
          "old_text": "grpc_http_parser_init(&parser, GRPC_HTTP_RESPONSE, &response)",
          "new_text": "action.max_frame_size()",
          "old_line_content": "  grpc_http_parser_init(&parser, GRPC_HTTP_RESPONSE, &response);",
          "new_line_content": "                                     action.max_frame_size());",
          "content_same": false
        },
        {
          "line": 2477,
          "old_api": "grpc_error_set_int",
          "new_api": "memset",
          "old_text": "grpc_error_set_int(\n        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                               \"Trying to connect an http1.x server\"),\n                           GRPC_ERROR_INT_HTTP_STATUS, response.status),\n        GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "new_text": "memset(&response, 0, sizeof(response))",
          "old_line_content": "    error = grpc_error_set_int(",
          "new_line_content": "  memset(&response, 0, sizeof(response));",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": "try_http_parsing",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "try_http_parsing(t)",
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "      errors[2] = try_http_parsing(t);",
          "new_line_content": "    grpc_error* errors[3] = {GRPC_ERROR_REF(error), GRPC_ERROR_NONE,",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "GPR_ARRAY_SIZE",
          "new_api": "bdp_estimator",
          "old_text": "GPR_ARRAY_SIZE(errors)",
          "new_text": "t->flow_control->bdp_estimator()",
          "old_line_content": "          \"Failed parsing HTTP/2\", errors, GPR_ARRAY_SIZE(errors));",
          "new_line_content": "      grpc_core::BdpEstimator* bdp_est = t->flow_control->bdp_estimator();",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "GPR_ARRAY_SIZE",
          "new_api": "AddIncomingBytes",
          "old_text": "GPR_ARRAY_SIZE(errors)",
          "new_text": "bdp_est->AddIncomingBytes(\n            static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i]))",
          "old_line_content": "    for (i = 0; i < GPR_ARRAY_SIZE(errors); i++) {",
          "new_line_content": "        bdp_est->AddIncomingBytes(",
          "content_same": false
        },
        {
          "line": 2526,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": "static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i])",
          "old_text": "GRPC_ERROR_UNREF(errors[i])",
          "new_text": "static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i])",
          "old_line_content": "      GRPC_ERROR_UNREF(errors[i]);",
          "new_line_content": "            static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i]));",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": "grpc_chttp2_list_pop_stalled_by_stream",
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": "grpc_chttp2_list_pop_stalled_by_stream(t, &s)",
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n          \"Failed parsing HTTP/2\", errors, GPR_ARRAY_SIZE(errors))",
          "old_line_content": "        while (grpc_chttp2_list_pop_stalled_by_stream(t, &s)) {",
          "new_line_content": "      error = GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": "grpc_chttp2_mark_stream_writable",
          "new_api": "GPR_ARRAY_SIZE",
          "old_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "new_text": "GPR_ARRAY_SIZE(errors)",
          "old_line_content": "          grpc_chttp2_mark_stream_writable(t, s);",
          "new_line_content": "          \"Failed parsing HTTP/2\", errors, GPR_ARRAY_SIZE(errors));",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n        \"Transport closed\", &t->closed_with_error, 1)",
          "new_text": "grpc_chttp2_initiate_write(\n              t, GRPC_CHTTP2_INITIATE_WRITE_FLOW_CONTROL_UNSTALLED_BY_SETTING)",
          "old_line_content": "    error = GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "          grpc_chttp2_initiate_write(",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": "grpc_timer_cancel",
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"reading_action\")",
          "new_text": "grpc_timer_cancel(&t->keepalive_ping_timer)",
          "old_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"reading_action\");",
          "new_line_content": "      grpc_timer_cancel(&t->keepalive_ping_timer);",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&t->read_buffer)",
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "  grpc_slice_buffer_reset_and_unref_internal(&t->read_buffer);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "bdp_estimator",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "t->flow_control->bdp_estimator()->SchedulePing()",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keep_reading\")",
          "old_line_content": "  t->flow_control->bdp_estimator()->SchedulePing();",
          "new_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keep_reading\");",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "grpc_timer_cancel",
          "new_api": "send_ping_locked",
          "old_text": "grpc_timer_cancel(&t->keepalive_ping_timer)",
          "new_text": "send_ping_locked(t, &t->start_bdp_ping_locked, &t->finish_bdp_ping_locked)",
          "old_line_content": "    grpc_timer_cancel(&t->keepalive_ping_timer);",
          "new_line_content": "  send_ping_locked(t, &t->start_bdp_ping_locked, &t->finish_bdp_ping_locked);",
          "content_same": false
        },
        {
          "line": 2601,
          "old_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_api": "gpr_log",
          "old_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_text": "gpr_log(GPR_INFO, \"%s: Start BDP ping err=%s\", t->peer_string,\n            grpc_error_string(error))",
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "new_line_content": "    gpr_log(GPR_INFO, \"%s: Start BDP ping err=%s\", t->peer_string,",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": "enabled",
          "new_api": "grpc_error_string",
          "old_text": "grpc_http_trace.enabled()",
          "new_text": "grpc_error_string(error)",
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "            grpc_error_string(error));",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": "GPR_ASSERT",
          "new_api": "enabled",
          "old_text": "GPR_ASSERT(!t->have_next_bdp_ping_timer)",
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "  GPR_ASSERT(!t->have_next_bdp_ping_timer);",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "grpc_timer_init",
          "new_api": "grpc_error_string",
          "old_text": "grpc_timer_init(&t->next_bdp_ping_timer, next_ping,\n                  &t->next_bdp_ping_timer_expired_locked)",
          "new_text": "grpc_error_string(error)",
          "old_line_content": "  grpc_timer_init(&t->next_bdp_ping_timer, next_ping,",
          "new_line_content": "            grpc_error_string(error));",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": "GPR_ASSERT",
          "new_api": "bdp_estimator",
          "old_text": "GPR_ASSERT(t->have_next_bdp_ping_timer)",
          "new_text": "t->flow_control->bdp_estimator()->CompletePing()",
          "old_line_content": "  GPR_ASSERT(t->have_next_bdp_ping_timer);",
          "new_line_content": "  grpc_millis next_ping = t->flow_control->bdp_estimator()->CompletePing();",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": "GPR_ASSERT",
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\")",
          "new_text": "GPR_ASSERT(!t->have_next_bdp_ping_timer)",
          "old_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\");",
          "new_line_content": "  GPR_ASSERT(!t->have_next_bdp_ping_timer);",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": "strcmp",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "strcmp(args->args[i].key, GRPC_ARG_KEEPALIVE_TIME_MS)",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\")",
          "old_line_content": "      if (0 == strcmp(args->args[i].key, GRPC_ARG_KEEPALIVE_TIME_MS)) {",
          "new_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\");",
          "content_same": false
        },
        {
          "line": 2669,
          "old_api": "strcmp",
          "new_api": "grpc_channel_arg_get_integer",
          "old_text": "strcmp(args->args[i].key, GRPC_ARG_HTTP2_MAX_PING_STRIKES)",
          "new_text": "grpc_channel_arg_get_integer(\n            &args->args[i],\n            {is_client ? g_default_client_keepalive_permit_without_calls\n                       : g_default_server_keepalive_timeout_ms,\n             0, 1})",
          "old_line_content": "                 strcmp(args->args[i].key, GRPC_ARG_HTTP2_MAX_PING_STRIKES)) {",
          "new_line_content": "        const bool value = static_cast<uint32_t>(grpc_channel_arg_get_integer(",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": "strcmp",
          "new_api": "grpc_channel_arg_get_integer",
          "old_text": "strcmp(\n                     args->args[i].key,\n                     GRPC_ARG_HTTP2_MIN_RECV_PING_INTERVAL_WITHOUT_DATA_MS)",
          "new_text": "grpc_channel_arg_get_integer(\n            &args->args[i], {g_default_max_pings_without_data, 0, INT_MAX})",
          "old_line_content": "                 strcmp(",
          "new_line_content": "        g_default_max_pings_without_data = grpc_channel_arg_get_integer(",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_KEEPALIVE_PING)",
          "new_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_line_content": "      grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_KEEPALIVE_PING);",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "content_same": false
        },
        {
          "line": 2718,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": "grpc_timer_init_unset",
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\")",
          "new_text": "grpc_timer_init_unset(&t->keepalive_watchdog_timer)",
          "old_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\");",
          "new_line_content": "      grpc_timer_init_unset(&t->keepalive_watchdog_timer);",
          "content_same": false
        },
        {
          "line": 2719,
          "old_api": "Now",
          "new_api": "send_keepalive_ping_locked",
          "old_text": "grpc_timer_init(&t->keepalive_ping_timer,\n                    grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,\n                    &t->init_keepalive_ping_locked)",
          "new_text": "send_keepalive_ping_locked(t)",
          "old_line_content": "    grpc_timer_init(&t->keepalive_ping_timer,",
          "new_line_content": "      send_keepalive_ping_locked(t);",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": "Now",
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": "grpc_core::ExecCtx::Get()->Now()",
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_KEEPALIVE_PING)",
          "old_line_content": "                    grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,",
          "new_line_content": "      grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_KEEPALIVE_PING);",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": "Now",
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"init keepalive ping\")",
          "new_text": "grpc_timer_init(&t->keepalive_ping_timer,\n                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,\n                      &t->init_keepalive_ping_locked)",
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"init keepalive ping\");",
          "new_line_content": "      grpc_timer_init(&t->keepalive_ping_timer,",
          "content_same": false
        },
        {
          "line": 2734,
          "old_api": "enabled",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "grpc_http_trace.enabled()",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"init keepalive ping\")",
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"init keepalive ping\");",
          "content_same": false
        },
        {
          "line": 2738,
          "old_api": "Now",
          "new_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_text": "grpc_timer_init(&t->keepalive_watchdog_timer,\n                  grpc_core::ExecCtx::Get()->Now() + t->keepalive_timeout,\n                  &t->keepalive_watchdog_fired_locked)",
          "new_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_line_content": "  grpc_timer_init(&t->keepalive_watchdog_timer,",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "gpr_log",
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": "gpr_log(GPR_INFO, \"%s: Finish keepalive ping\", t->peer_string)",
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive watchdog\")",
          "old_line_content": "        gpr_log(GPR_INFO, \"%s: Finish keepalive ping\", t->peer_string);",
          "new_line_content": "  GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive watchdog\");",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": "enabled",
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive ping end\")",
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive ping end\");",
          "new_line_content": "      if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_api": "grpc_timer_cancel",
          "old_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_text": "grpc_timer_cancel(&t->keepalive_watchdog_timer)",
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "new_line_content": "      grpc_timer_cancel(&t->keepalive_watchdog_timer);",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": "gpr_log",
          "new_api": "Now",
          "old_text": "gpr_log(GPR_ERROR, \"%s: Keepalive watchdog fired. Closing transport.\",\n              t->peer_string)",
          "new_text": "grpc_core::ExecCtx::Get()->Now()",
          "old_line_content": "      gpr_log(GPR_ERROR, \"%s: Keepalive watchdog fired. Closing transport.\",",
          "new_line_content": "                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                    \"keepalive watchdog timeout\")",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive ping end\")",
          "old_line_content": "          t, grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive ping end\");",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "grpc_connectivity_state_set",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "grpc_connectivity_state_set(&t->channel_callback.state_tracker, state, error,\n                              reason)",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive watchdog\")",
          "old_line_content": "  grpc_connectivity_state_set(&t->channel_callback.state_tracker, state, error,",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive watchdog\");",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_api": "gpr_log",
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_text": "gpr_log(GPR_INFO, \"set connectivity_state=%d\", state)",
          "old_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "new_line_content": "  GRPC_CHTTP2_IF_TRACING(gpr_log(GPR_INFO, \"set connectivity_state=%d\", state));",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": "grpc_endpoint_add_to_pollset",
          "new_api": "grpc_connectivity_state_set",
          "old_text": "grpc_endpoint_add_to_pollset(t->ep, pollset)",
          "new_text": "grpc_connectivity_state_set(&t->channel_callback.state_tracker, state, error,\n                              reason)",
          "old_line_content": "  grpc_endpoint_add_to_pollset(t->ep, pollset);",
          "new_line_content": "  grpc_connectivity_state_set(&t->channel_callback.state_tracker, state, error,",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": "grpc_chttp2_maybe_complete_recv_message",
          "new_api": "grpc_endpoint_add_to_pollset_set",
          "old_text": "grpc_chttp2_maybe_complete_recv_message(s->t, s)",
          "new_text": "grpc_endpoint_add_to_pollset_set(t->ep, pollset_set)",
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_message(s->t, s);",
          "new_line_content": "  grpc_endpoint_add_to_pollset_set(t->ep, pollset_set);",
          "content_same": false
        },
        {
          "line": 2829,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "static_cast<grpc_chttp2_stream*>(arg)",
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": "static_cast<grpc_chttp2_stream*>(arg)",
          "old_line_content": "    grpc_chttp2_cancel_stream(s->t, s, GRPC_ERROR_REF(error));",
          "new_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(arg);",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": "grpc_chttp2_maybe_complete_recv_message",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "new_text": "GRPC_ERROR_UNREF(stream->byte_stream_error)",
          "old_line_content": "  grpc_chttp2_maybe_complete_recv_message(t, s);",
          "new_line_content": "  GRPC_ERROR_UNREF(stream->byte_stream_error);",
          "content_same": false
        },
        {
          "line": 2861,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "old_text": "GRPC_CLOSURE_SCHED(\n      GRPC_CLOSURE_INIT(&destroy_action_,\n                        &Chttp2IncomingByteStream::OrphanLocked, this,\n                        grpc_combiner_scheduler(transport_->combiner)),\n      GRPC_ERROR_NONE)",
          "new_text": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "old_line_content": "  GRPC_CLOSURE_SCHED(",
          "new_line_content": "  Chttp2IncomingByteStream* bs = static_cast<Chttp2IncomingByteStream*>(arg);",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "grpc_combiner_scheduler",
          "new_api": "Unref",
          "old_text": "grpc_combiner_scheduler(transport_->combiner)",
          "new_text": "bs->Unref()",
          "old_line_content": "                        grpc_combiner_scheduler(transport_->combiner)),",
          "new_line_content": "  bs->Unref();",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": "IncomingByteStreamUpdate",
          "new_api": "grpc_combiner_scheduler",
          "old_text": "s->flow_control->IncomingByteStreamUpdate(bs->next_action_.max_size_hint,\n                                              cur_length)",
          "new_text": "grpc_combiner_scheduler(transport_->combiner)",
          "old_line_content": "    s->flow_control->IncomingByteStreamUpdate(bs->next_action_.max_size_hint,",
          "new_line_content": "                        grpc_combiner_scheduler(transport_->combiner)),",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": "grpc_slice_buffer_swap",
          "new_api": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "old_text": "grpc_slice_buffer_swap(&s->frame_storage,\n                           &s->unprocessed_incoming_frames_buffer)",
          "new_text": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "old_line_content": "    grpc_slice_buffer_swap(&s->frame_storage,",
          "new_line_content": "  Chttp2IncomingByteStream* bs = static_cast<Chttp2IncomingByteStream*>(arg);",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": "IncomingByteStreamUpdate",
          "old_text": "GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,\n                       GRPC_ERROR_REF(s->byte_stream_error))",
          "new_text": "s->flow_control->IncomingByteStreamUpdate(bs->next_action_.max_size_hint,\n                                              cur_length)",
          "old_line_content": "    GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,",
          "new_line_content": "    s->flow_control->IncomingByteStreamUpdate(bs->next_action_.max_size_hint,",
          "content_same": false
        },
        {
          "line": 2895,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "new_text": "GRPC_CLOSURE_SCHED(bs->next_action_.on_complete, GRPC_ERROR_NONE)",
          "old_line_content": "          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "new_line_content": "    GRPC_CLOSURE_SCHED(bs->next_action_.on_complete, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 2897,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": "GRPC_ERROR_REF(s->byte_stream_error)",
          "new_text": "GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,\n                       GRPC_ERROR_REF(s->byte_stream_error))",
          "old_line_content": "                         GRPC_ERROR_REF(s->byte_stream_error));",
          "new_line_content": "    GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": "grpc_stream_compression_context_create",
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": "grpc_stream_compression_context_create(\n        stream_->stream_decompression_method)",
          "new_text": "GRPC_CLOSURE_SCHED(\n        GRPC_CLOSURE_INIT(&next_action_.closure,\n                          &Chttp2IncomingByteStream::NextLocked, this,\n                          grpc_combiner_scheduler(transport_->combiner)),\n        GRPC_ERROR_NONE)",
          "old_line_content": "    stream_->stream_decompression_ctx = grpc_stream_compression_context_create(",
          "new_line_content": "    GRPC_CLOSURE_SCHED(",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": "MaybeCreateStreamDecompressionCtx",
          "new_api": "grpc_stream_compression_context_create",
          "old_text": "MaybeCreateStreamDecompressionCtx()",
          "new_text": "grpc_stream_compression_context_create(\n        stream_->stream_decompression_method)",
          "old_line_content": "      MaybeCreateStreamDecompressionCtx();",
          "new_line_content": "    stream_->stream_decompression_ctx = grpc_stream_compression_context_create(",
          "content_same": false
        },
        {
          "line": 2949,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream decompression error.\")",
          "new_text": "GPR_TIMER_SCOPE(\"incoming_byte_stream_pull\", 0)",
          "old_line_content": "            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream decompression error.\");",
          "new_line_content": "  GPR_TIMER_SCOPE(\"incoming_byte_stream_pull\", 0);",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "GRPC_ERROR_REF",
          "new_api": "grpc_empty_slice",
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": "grpc_empty_slice()",
          "old_line_content": "    GRPC_CLOSURE_SCHED(&stream_->reset_byte_stream, GRPC_ERROR_REF(error));",
          "new_line_content": "        *slice = grpc_empty_slice();",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": "GRPC_ERROR_UNREF(stream_->byte_stream_error)",
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "old_line_content": "  GRPC_ERROR_UNREF(stream_->byte_stream_error);",
          "new_line_content": "    error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "content_same": false
        },
        {
          "line": 2992,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "GRPC_ERROR_REF",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many bytes in stream\")",
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "        GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many bytes in stream\");",
          "new_line_content": "  GRPC_CLOSURE_SCHED(stream_->on_next, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": "grpc_slice_unref_internal",
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": "grpc_slice_unref_internal(slice)",
          "new_text": "GRPC_ERROR_UNREF(stream_->byte_stream_error)",
          "old_line_content": "    grpc_slice_unref_internal(slice);",
          "new_line_content": "  GRPC_ERROR_UNREF(stream_->byte_stream_error);",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": "Finished",
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": "Finished(error, true /* reset_on_error */)",
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "old_line_content": "  GRPC_ERROR_UNREF(Finished(error, true /* reset_on_error */));",
          "new_line_content": "      error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "content_same": false
        },
        {
          "line": 3053,
          "old_api": "enabled",
          "new_api": "grpc_endpoint_get_resource_user",
          "old_text": "grpc_resource_quota_trace.enabled()",
          "new_text": "grpc_endpoint_get_resource_user(t->ep)",
          "old_line_content": "    if (grpc_resource_quota_trace.enabled()) {",
          "new_line_content": "    grpc_resource_user_post_reclaimer(grpc_endpoint_get_resource_user(t->ep),",
          "content_same": false
        },
        {
          "line": 3059,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\")",
          "new_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_line_content": "                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "enabled",
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": "grpc_resource_quota_trace.enabled()",
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "  } else if (error == GRPC_ERROR_NONE && grpc_resource_quota_trace.enabled()) {",
          "new_line_content": "      grpc_chttp2_stream_map_size(&t->stream_map) == 0) {",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": "gpr_log",
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": "gpr_log(GPR_INFO, \"HTTP2: %s - send goaway to free memory\",\n              t->peer_string)",
          "old_line_content": "            t->peer_string, grpc_chttp2_stream_map_size(&t->stream_map));",
          "new_line_content": "      gpr_log(GPR_INFO, \"HTTP2: %s - send goaway to free memory\",",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "grpc_resource_user_finish_reclamation",
          "new_api": "grpc_error_set_int",
          "old_text": "grpc_resource_user_finish_reclamation(\n        grpc_endpoint_get_resource_user(t->ep))",
          "new_text": "grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM)",
          "old_line_content": "    grpc_resource_user_finish_reclamation(",
          "new_line_content": "                grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": "grpc_endpoint_get_resource_user",
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": "grpc_endpoint_get_resource_user(t->ep)",
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\")",
          "old_line_content": "        grpc_endpoint_get_resource_user(t->ep));",
          "new_line_content": "                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),",
          "content_same": false
        },
        {
          "line": 3072,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": "enabled",
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"benign_reclaimer\")",
          "new_text": "grpc_resource_quota_trace.enabled()",
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"benign_reclaimer\");",
          "new_line_content": "  } else if (error == GRPC_ERROR_NONE && grpc_resource_quota_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 3076,
          "old_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "new_line_content": "            t->peer_string, grpc_chttp2_stream_map_size(&t->stream_map));",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": "static_cast<grpc_chttp2_stream*>(\n        grpc_chttp2_stream_map_rand(&t->stream_map))",
          "new_api": "grpc_resource_user_finish_reclamation",
          "old_text": "static_cast<grpc_chttp2_stream*>(\n        grpc_chttp2_stream_map_rand(&t->stream_map))",
          "new_text": "grpc_resource_user_finish_reclamation(\n        grpc_endpoint_get_resource_user(t->ep))",
          "old_line_content": "    grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(",
          "new_line_content": "    grpc_resource_user_finish_reclamation(",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "grpc_chttp2_stream_map_rand",
          "new_api": "grpc_endpoint_get_resource_user",
          "old_text": "grpc_chttp2_stream_map_rand(&t->stream_map)",
          "new_text": "grpc_endpoint_get_resource_user(t->ep)",
          "old_line_content": "        grpc_chttp2_stream_map_rand(&t->stream_map));",
          "new_line_content": "        grpc_endpoint_get_resource_user(t->ep));",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "gpr_log",
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": "gpr_log(GPR_INFO, \"HTTP2: %s - abandon stream id %d\", t->peer_string,\n              s->id)",
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"benign_reclaimer\")",
          "old_line_content": "      gpr_log(GPR_INFO, \"HTTP2: %s - abandon stream id %d\", t->peer_string,",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"benign_reclaimer\");",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\")",
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),",
          "new_line_content": "  size_t n = grpc_chttp2_stream_map_size(&t->stream_map);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2053,
          "old_api": null,
          "new_api": "PublishError",
          "old_text": null,
          "new_text": "bs->PublishError(error)",
          "old_line_content": "    if (t->sent_goaway_state == GRPC_CHTTP2_GOAWAY_SENT) {",
          "new_line_content": "      bs->PublishError(error);",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(s->byte_stream_error)",
          "old_line_content": "    }",
          "new_line_content": "      GRPC_ERROR_UNREF(s->byte_stream_error);",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "  }",
          "new_line_content": "      s->byte_stream_error = GRPC_ERROR_REF(error);",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "",
          "new_line_content": "  if (grpc_chttp2_stream_map_size(&t->stream_map) == 0) {",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                 \"Last stream closed after sending GOAWAY\", &error, 1)",
          "old_line_content": "}",
          "new_line_content": "          t, GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "grpc_chttp2_list_remove_writable_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_list_remove_writable_stream(t, s)",
          "old_line_content": "  if (!t->is_client && !s->sent_trailing_metadata &&",
          "new_line_content": "  if (grpc_chttp2_list_remove_writable_stream(t, s)) {",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "  }",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": null,
          "new_api": "maybe_start_some_streams",
          "old_text": null,
          "new_text": "maybe_start_some_streams(t)",
          "old_line_content": "  if (!s->read_closed || !s->write_closed) {",
          "new_line_content": "  maybe_start_some_streams(t);",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": null,
          "new_api": "grpc_error_has_clear_grpc_status",
          "old_text": null,
          "new_text": "grpc_error_has_clear_grpc_status(due_to_error)",
          "old_line_content": "          &t->qbuf,",
          "new_line_content": "      grpc_error_has_clear_grpc_status(due_to_error)) {",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "grpc_error_get_status",
          "old_text": null,
          "new_text": "grpc_error_get_status(due_to_error, s->deadline, nullptr, nullptr,\n                            &http_error, nullptr)",
          "old_line_content": "  }",
          "new_line_content": "      grpc_error_get_status(due_to_error, s->deadline, nullptr, nullptr,",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(\n          &t->qbuf,\n          grpc_chttp2_rst_stream_create(\n              s->id, static_cast<uint32_t>(http_error), &s->stats.outgoing))",
          "old_line_content": "}",
          "new_line_content": "      grpc_slice_buffer_add(",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "grpc_chttp2_rst_stream_create",
          "old_text": null,
          "new_text": "grpc_chttp2_rst_stream_create(\n              s->id, static_cast<uint32_t>(http_error), &s->stats.outgoing)",
          "old_line_content": "void grpc_chttp2_fake_status(grpc_chttp2_transport* t, grpc_chttp2_stream* s,",
          "new_line_content": "          grpc_chttp2_rst_stream_create(",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": null,
          "new_api": "static_cast<uint32_t>(http_error)",
          "old_text": null,
          "new_text": "static_cast<uint32_t>(http_error)",
          "old_line_content": "                             grpc_error* error) {",
          "new_line_content": "              s->id, static_cast<uint32_t>(http_error), &s->stats.outgoing));",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RST_STREAM)",
          "old_line_content": "  grpc_status_code status;",
          "new_line_content": "      grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RST_STREAM);",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "grpc_chttp2_mark_stream_closed",
          "old_text": null,
          "new_text": "grpc_chttp2_mark_stream_closed(t, s, 1, 1, due_to_error)",
          "old_line_content": "  /* stream_global->recv_trailing_metadata_finished gives us a",
          "new_line_content": "  grpc_chttp2_mark_stream_closed(t, s, 1, 1, due_to_error);",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "grpc_error_get_status",
          "old_text": null,
          "new_text": "grpc_error_get_status(error, s->deadline, &status, &slice, nullptr, nullptr)",
          "old_line_content": "      s->recv_trailing_metadata_finished != nullptr) {",
          "new_line_content": "  grpc_error_get_status(error, s->deadline, &status, &slice, nullptr, nullptr);",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": null,
          "new_api": "gpr_ltoa",
          "old_text": null,
          "new_text": "gpr_ltoa(status, status_string)",
          "old_line_content": "              &s->metadata_buffer[1],",
          "new_line_content": "    gpr_ltoa(status, status_string);",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": null,
          "new_api": "grpc_chttp2_incoming_metadata_buffer_replace_or_add",
          "old_text": null,
          "new_text": "grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n                          &s->metadata_buffer[1],\n                          grpc_mdelem_from_slices(\n                              GRPC_MDSTR_GRPC_STATUS,\n                              grpc_slice_from_copied_string(status_string)))",
          "old_line_content": "    }",
          "new_line_content": "                      grpc_chttp2_incoming_metadata_buffer_replace_or_add(",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "grpc_slice_from_copied_string",
          "old_text": null,
          "new_text": "grpc_slice_from_copied_string(status_string)",
          "old_line_content": "",
          "new_line_content": "                              grpc_slice_from_copied_string(status_string))));",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": null,
          "new_api": "GRPC_LOG_IF_ERROR",
          "old_text": null,
          "new_text": "GRPC_LOG_IF_ERROR(\n          \"add_status_message\",\n          grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n              &s->metadata_buffer[1],\n              grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr)))",
          "old_line_content": "}",
          "new_line_content": "      GRPC_LOG_IF_ERROR(",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "grpc_chttp2_incoming_metadata_buffer_replace_or_add",
          "old_text": null,
          "new_text": "grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n              &s->metadata_buffer[1],\n              grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr))",
          "old_line_content": "static void add_error(grpc_error* error, grpc_error** refs, size_t* nrefs) {",
          "new_line_content": "          grpc_chttp2_incoming_metadata_buffer_replace_or_add(",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": null,
          "new_api": "grpc_mdelem_create",
          "old_text": null,
          "new_text": "grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr)",
          "old_line_content": "  for (size_t i = 0; i < *nrefs; i++) {",
          "new_line_content": "              grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr)));",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "old_line_content": "    }",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "  ++*nrefs;",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": null,
          "new_api": "add_error",
          "old_text": null,
          "new_text": "add_error(s->read_closed_error, refs, &nrefs)",
          "old_line_content": "",
          "new_line_content": "  add_error(s->read_closed_error, refs, &nrefs);",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": null,
          "new_api": "add_error",
          "old_text": null,
          "new_text": "add_error(s->write_closed_error, refs, &nrefs)",
          "old_line_content": "static void flush_write_list(grpc_chttp2_transport* t, grpc_chttp2_stream* s,",
          "new_line_content": "  add_error(s->write_closed_error, refs, &nrefs);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "add_error",
          "old_text": null,
          "new_text": "add_error(extra_error, refs, &nrefs)",
          "old_line_content": "                             grpc_chttp2_write_cb** list, grpc_error* error) {",
          "new_line_content": "  add_error(extra_error, refs, &nrefs);",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(master_error_msg,\n                                                             refs, nrefs)",
          "old_line_content": "    *list = cb->next;",
          "new_line_content": "    error = GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(master_error_msg,",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(extra_error)",
          "old_line_content": "    cb->next = t->write_cb_pool;",
          "new_line_content": "  GRPC_ERROR_UNREF(extra_error);",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "                                    \"fetching_send_message_finished\");",
          "new_line_content": "                                    GRPC_ERROR_REF(error),",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(t, s, &s->send_trailing_metadata_finished,\n                                    GRPC_ERROR_REF(error),\n                                    \"send_trailing_metadata_finished\")",
          "old_line_content": "",
          "new_line_content": "  grpc_chttp2_complete_closure_step(t, s, &s->send_trailing_metadata_finished,",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "void grpc_chttp2_mark_stream_closed(grpc_chttp2_transport* t,",
          "new_line_content": "                                    GRPC_ERROR_REF(error),",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "s->fetching_send_message.reset()",
          "old_line_content": "  if (s->read_closed && s->write_closed) {",
          "new_line_content": "  s->fetching_send_message.reset();",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(t, s, &s->fetching_send_message_finished,\n                                    GRPC_ERROR_REF(error),\n                                    \"fetching_send_message_finished\")",
          "old_line_content": "    /* already closed */",
          "new_line_content": "  grpc_chttp2_complete_closure_step(t, s, &s->fetching_send_message_finished,",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "    return;",
          "new_line_content": "  flush_write_list(t, s, &s->on_write_finished_cbs, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "flush_write_list",
          "old_text": null,
          "new_text": "flush_write_list(t, s, &s->on_flow_controlled_cbs, error)",
          "old_line_content": "  }",
          "new_line_content": "  flush_write_list(t, s, &s->on_flow_controlled_cbs, error);",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "old_line_content": "  if (close_writes && !s->write_closed) {",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "    grpc_error* overall_error =",
          "new_line_content": "    s->read_closed_error = GRPC_ERROR_REF(error);",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "      /* Purge streams waiting on concurrency still waiting for id assignment */",
          "new_line_content": "    s->write_closed_error = GRPC_ERROR_REF(error);",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "    }",
          "new_line_content": "    grpc_chttp2_fail_pending_writes(t, s, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "  if (closed_read) {",
          "new_line_content": "        removal_error(GRPC_ERROR_REF(error), s, \"Stream removed\");",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(overall_error)",
          "old_line_content": "      if (s->published_metadata[i] == GRPC_METADATA_NOT_PUBLISHED) {",
          "new_line_content": "      remove_stream(t, s->id, GRPC_ERROR_REF(overall_error));",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": null,
          "new_api": "grpc_chttp2_list_remove_waiting_for_concurrency",
          "old_text": null,
          "new_text": "grpc_chttp2_list_remove_waiting_for_concurrency(t, s)",
          "old_line_content": "    }",
          "new_line_content": "      grpc_chttp2_list_remove_waiting_for_concurrency(t, s);",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": null,
          "new_api": "grpc_chttp2_fake_status",
          "old_text": null,
          "new_text": "grpc_chttp2_fake_status(t, s, overall_error)",
          "old_line_content": "  }",
          "new_line_content": "      grpc_chttp2_fake_status(t, s, overall_error);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_initial_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_initial_metadata(t, s)",
          "old_line_content": "                           grpc_error* error) {",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_initial_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_message",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "old_line_content": "  grpc_slice hdr;",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_message(t, s);",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "old_line_content": "  grpc_slice content_type_hdr;",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_STREAM_UNREF",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2\")",
          "old_line_content": "  grpc_slice message_pfx;",
          "new_line_content": "    GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2\");",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "  uint32_t len = 0;",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "grpc_error_get_status",
          "old_text": null,
          "new_text": "grpc_error_get_status(error, s->deadline, &grpc_status, &slice, nullptr,\n                        nullptr)",
          "old_line_content": "  if (!s->sent_initial_metadata) {",
          "new_line_content": "  grpc_error_get_status(error, s->deadline, &grpc_status, &slice, nullptr,",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(grpc_status >= 0 && (int)grpc_status < 100)",
          "old_line_content": "    *p++ = 0x00;",
          "new_line_content": "  GPR_ASSERT(grpc_status >= 0 && (int)grpc_status < 100);",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": null,
          "new_api": "GRPC_SLICE_MALLOC",
          "old_text": null,
          "new_text": "GRPC_SLICE_MALLOC(13)",
          "old_line_content": "    *p++ = 3;",
          "new_line_content": "    http_status_hdr = GRPC_SLICE_MALLOC(13);",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": null,
          "new_api": "GRPC_SLICE_START_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_START_PTR(http_status_hdr)",
          "old_line_content": "    *p++ = '2';",
          "new_line_content": "    p = GRPC_SLICE_START_PTR(http_status_hdr);",
          "content_same": false
        },
        {
          "line": 2294,
          "old_api": null,
          "new_api": "GRPC_SLICE_END_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_END_PTR(http_status_hdr)",
          "old_line_content": "    *p++ = 'e';",
          "new_line_content": "    GPR_ASSERT(p == GRPC_SLICE_END_PTR(http_status_hdr));",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": null,
          "new_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(http_status_hdr)",
          "old_text": null,
          "new_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(http_status_hdr)",
          "old_line_content": "    *p++ = 'n';",
          "new_line_content": "    len += static_cast<uint32_t> GRPC_SLICE_LENGTH(http_status_hdr);",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": null,
          "new_api": "GRPC_SLICE_MALLOC",
          "old_text": null,
          "new_text": "GRPC_SLICE_MALLOC(31)",
          "old_line_content": "    *p++ = '-';",
          "new_line_content": "    content_type_hdr = GRPC_SLICE_MALLOC(31);",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": null,
          "new_api": "GRPC_SLICE_START_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_START_PTR(content_type_hdr)",
          "old_line_content": "    *p++ = 't';",
          "new_line_content": "    p = GRPC_SLICE_START_PTR(content_type_hdr);",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": null,
          "new_api": "GRPC_SLICE_END_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_END_PTR(content_type_hdr)",
          "old_line_content": "  *p++ = 'c';",
          "new_line_content": "    GPR_ASSERT(p == GRPC_SLICE_END_PTR(content_type_hdr));",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": null,
          "new_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(content_type_hdr)",
          "old_text": null,
          "new_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(content_type_hdr)",
          "old_line_content": "  *p++ = '-';",
          "new_line_content": "    len += static_cast<uint32_t> GRPC_SLICE_LENGTH(content_type_hdr);",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": null,
          "new_api": "GRPC_SLICE_MALLOC",
          "old_text": null,
          "new_text": "GRPC_SLICE_MALLOC(15 + (grpc_status >= 10))",
          "old_line_content": "  *p++ = 'a';",
          "new_line_content": "  status_hdr = GRPC_SLICE_MALLOC(15 + (grpc_status >= 10));",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": null,
          "new_api": "GRPC_SLICE_START_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_START_PTR(status_hdr)",
          "old_line_content": "  *p++ = 't';",
          "new_line_content": "  p = GRPC_SLICE_START_PTR(status_hdr);",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "static_cast<uint8_t>('0' + (grpc_status / 10))",
          "old_text": null,
          "new_text": "static_cast<uint8_t>('0' + (grpc_status / 10))",
          "old_line_content": "  *p++ = 0x00; /* literal header, not indexed */",
          "new_line_content": "    *p++ = static_cast<uint8_t>('0' + (grpc_status / 10));",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "static_cast<uint8_t>('0' + (grpc_status % 10))",
          "old_text": null,
          "new_text": "static_cast<uint8_t>('0' + (grpc_status % 10))",
          "old_line_content": "  *p++ = 12;   /* len(grpc-message) */",
          "new_line_content": "    *p++ = static_cast<uint8_t>('0' + (grpc_status % 10));",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": null,
          "new_api": "GRPC_SLICE_END_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_END_PTR(status_hdr)",
          "old_line_content": "  *p++ = 'r';",
          "new_line_content": "  GPR_ASSERT(p == GRPC_SLICE_END_PTR(status_hdr));",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": null,
          "new_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(status_hdr)",
          "old_text": null,
          "new_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(status_hdr)",
          "old_line_content": "  *p++ = 'p';",
          "new_line_content": "  len += static_cast<uint32_t> GRPC_SLICE_LENGTH(status_hdr);",
          "content_same": false
        },
        {
          "line": 2360,
          "old_api": null,
          "new_api": "GRPC_SLICE_LENGTH",
          "old_text": null,
          "new_text": "GRPC_SLICE_LENGTH(slice)",
          "old_line_content": "  *p++ = '-';",
          "new_line_content": "  size_t msg_len = GRPC_SLICE_LENGTH(slice);",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(msg_len <= UINT32_MAX)",
          "old_line_content": "  *p++ = 'm';",
          "new_line_content": "  GPR_ASSERT(msg_len <= UINT32_MAX);",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_VARINT_LENGTH",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_VARINT_LENGTH((uint32_t)msg_len, 1)",
          "old_line_content": "  *p++ = 'e';",
          "new_line_content": "  uint32_t msg_len_len = GRPC_CHTTP2_VARINT_LENGTH((uint32_t)msg_len, 1);",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": null,
          "new_api": "GRPC_SLICE_MALLOC",
          "old_text": null,
          "new_text": "GRPC_SLICE_MALLOC(14 + msg_len_len)",
          "old_line_content": "  *p++ = 's';",
          "new_line_content": "  message_pfx = GRPC_SLICE_MALLOC(14 + msg_len_len);",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": null,
          "new_api": "GRPC_SLICE_START_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_START_PTR(message_pfx)",
          "old_line_content": "  *p++ = 's';",
          "new_line_content": "  p = GRPC_SLICE_START_PTR(message_pfx);",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_WRITE_VARINT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_WRITE_VARINT((uint32_t)msg_len, 1, 0, p, (uint32_t)msg_len_len)",
          "old_line_content": "  *p++ = GRPC_CHTTP2_FRAME_HEADER;",
          "new_line_content": "  GRPC_CHTTP2_WRITE_VARINT((uint32_t)msg_len, 1, 0, p, (uint32_t)msg_len_len);",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": null,
          "new_api": "GRPC_SLICE_START_PTR",
          "old_text": null,
          "new_text": "GRPC_SLICE_START_PTR(hdr)",
          "old_line_content": "",
          "new_line_content": "  p = GRPC_SLICE_START_PTR(hdr);",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": null,
          "new_api": "static_cast<uint8_t>(len >> 8)",
          "old_text": null,
          "new_text": "static_cast<uint8_t>(len >> 8)",
          "old_line_content": "  if (!s->sent_initial_metadata) {",
          "new_line_content": "  *p++ = static_cast<uint8_t>(len >> 8);",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(&t->qbuf, hdr)",
          "old_line_content": "",
          "new_line_content": "  grpc_slice_buffer_add(&t->qbuf, hdr);",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(&t->qbuf, content_type_hdr)",
          "old_line_content": "}",
          "new_line_content": "    grpc_slice_buffer_add(&t->qbuf, content_type_hdr);",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(&t->qbuf, status_hdr)",
          "old_line_content": "typedef struct {",
          "new_line_content": "  grpc_slice_buffer_add(&t->qbuf, status_hdr);",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(&t->qbuf, message_pfx)",
          "old_line_content": "  grpc_error* error;",
          "new_line_content": "  grpc_slice_buffer_add(&t->qbuf, message_pfx);",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": null,
          "new_api": "grpc_slice_ref_internal",
          "old_text": null,
          "new_text": "grpc_slice_ref_internal(slice)",
          "old_line_content": "  grpc_chttp2_transport* t;",
          "new_line_content": "  grpc_slice_buffer_add(&t->qbuf, grpc_slice_ref_internal(slice));",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(\n      &t->qbuf, grpc_chttp2_rst_stream_create(s->id, GRPC_HTTP2_NO_ERROR,\n                                              &s->stats.outgoing))",
          "old_line_content": "} cancel_stream_cb_args;",
          "new_line_content": "  grpc_slice_buffer_add(",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": null,
          "new_api": "grpc_chttp2_rst_stream_create",
          "old_text": null,
          "new_text": "grpc_chttp2_rst_stream_create(s->id, GRPC_HTTP2_NO_ERROR,\n                                              &s->stats.outgoing)",
          "old_line_content": "",
          "new_line_content": "      &t->qbuf, grpc_chttp2_rst_stream_create(s->id, GRPC_HTTP2_NO_ERROR,",
          "content_same": false
        },
        {
          "line": 2420,
          "old_api": null,
          "new_api": "static_cast<cancel_stream_cb_args*>(user_data)",
          "old_text": null,
          "new_text": "static_cast<cancel_stream_cb_args*>(user_data)",
          "old_line_content": "/*******************************************************************************",
          "new_line_content": "  cancel_stream_cb_args* args = static_cast<cancel_stream_cb_args*>(user_data);",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_stream*>(stream)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_stream*>(stream)",
          "old_line_content": " * INPUT PROCESSING - PARSING",
          "new_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(stream);",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(args->error)",
          "old_line_content": " */",
          "new_line_content": "  grpc_chttp2_cancel_stream(args->t, s, GRPC_ERROR_REF(args->error));",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_for_each",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_for_each(&t->stream_map, cancel_stream_cb, &args)",
          "old_line_content": "                        grpc_chttp2_initiate_write_reason reason, F action) {",
          "new_line_content": "  grpc_chttp2_stream_map_for_each(&t->stream_map, cancel_stream_cb, &args);",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "  switch (urgency) {",
          "new_line_content": "  GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "send_initial_window_update",
          "old_text": null,
          "new_text": "action.send_initial_window_update()",
          "old_line_content": "}",
          "new_line_content": "  WithUrgency(t, action.send_initial_window_update(),",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "initial_window_size",
          "old_text": null,
          "new_text": "queue_setting_update(t,\n                                     GRPC_CHTTP2_SETTINGS_INITIAL_WINDOW_SIZE,\n                                     action.initial_window_size())",
          "old_line_content": "static grpc_error* try_http_parsing(grpc_chttp2_transport* t) {",
          "new_line_content": "                queue_setting_update(t,",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": null,
          "new_api": "initial_window_size",
          "old_text": null,
          "new_text": "action.initial_window_size()",
          "old_line_content": "  size_t i = 0;",
          "new_line_content": "                                     action.initial_window_size());",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": null,
          "new_api": "send_max_frame_size_update",
          "old_text": null,
          "new_text": "action.send_max_frame_size_update()",
          "old_line_content": "  grpc_http_response response;",
          "new_line_content": "  WithUrgency(t, action.send_max_frame_size_update(),",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": null,
          "new_api": "max_frame_size",
          "old_text": null,
          "new_text": "queue_setting_update(t, GRPC_CHTTP2_SETTINGS_MAX_FRAME_SIZE,\n                                     action.max_frame_size())",
          "old_line_content": "",
          "new_line_content": "                queue_setting_update(t, GRPC_CHTTP2_SETTINGS_MAX_FRAME_SIZE,",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": null,
          "new_api": "grpc_http_parser_init",
          "old_text": null,
          "new_text": "grpc_http_parser_init(&parser, GRPC_HTTP_RESPONSE, &response)",
          "old_line_content": "                               \"Trying to connect an http1.x server\"),",
          "new_line_content": "  grpc_http_parser_init(&parser, GRPC_HTTP_RESPONSE, &response);",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": null,
          "new_api": "grpc_http_parser_parse",
          "old_text": null,
          "new_text": "grpc_http_parser_parse(&parser, t->read_buffer.slices[i], nullptr)",
          "old_line_content": "",
          "new_line_content": "        grpc_http_parser_parse(&parser, t->read_buffer.slices[i], nullptr);",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": null,
          "new_api": "grpc_http_parser_eof",
          "old_text": null,
          "new_text": "grpc_http_parser_eof(&parser)",
          "old_line_content": "  return error;",
          "new_line_content": "      (parse_error = grpc_http_parser_eof(&parser)) == GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                               \"Trying to connect an http1.x server\"),\n                           GRPC_ERROR_INT_HTTP_STATUS, response.status),\n        GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "old_line_content": "}",
          "new_line_content": "    error = grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                               \"Trying to connect an http1.x server\")",
          "old_line_content": "",
          "new_line_content": "        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(parse_error)",
          "old_line_content": "",
          "new_line_content": "  GRPC_ERROR_UNREF(parse_error);",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": null,
          "new_api": "grpc_http_parser_destroy",
          "old_text": null,
          "new_text": "grpc_http_parser_destroy(&parser)",
          "old_line_content": "",
          "new_line_content": "  grpc_http_parser_destroy(&parser);",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": null,
          "new_api": "grpc_http_response_destroy",
          "old_text": null,
          "new_text": "grpc_http_response_destroy(&response)",
          "old_line_content": "  grpc_error* err = error;",
          "new_line_content": "  grpc_http_response_destroy(&response);",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"reading_action_locked\", 0)",
          "old_line_content": "                             t->write_state);",
          "new_line_content": "  GPR_TIMER_SCOPE(\"reading_action_locked\", 0);",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_line_content": "  GPR_SWAP(grpc_error*, err, error);",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "  if (t->closed_with_error == GRPC_ERROR_NONE) {",
          "new_line_content": "  GRPC_ERROR_REF(error);",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                                 \"Endpoint read failed\", &err, 1)",
          "old_line_content": "                             GRPC_ERROR_NONE};",
          "new_line_content": "    err = grpc_error_set_int(GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(err)",
          "old_line_content": "      }",
          "new_line_content": "  GRPC_ERROR_UNREF(err);",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"reading_action.parse\", 0)",
          "old_line_content": "    }",
          "new_line_content": "    GPR_TIMER_SCOPE(\"reading_action.parse\", 0);",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": null,
          "new_api": "grpc_chttp2_perform_read",
          "old_text": null,
          "new_text": "grpc_chttp2_perform_read(t, t->read_buffer.slices[i])",
          "old_line_content": "",
          "new_line_content": "      errors[1] = grpc_chttp2_perform_read(t, t->read_buffer.slices[i]);",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": null,
          "new_api": "try_http_parsing",
          "old_text": null,
          "new_text": "try_http_parsing(t)",
          "old_line_content": "      if (t->initial_window_update > 0) {",
          "new_line_content": "      errors[2] = try_http_parsing(t);",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "        grpc_chttp2_stream* s;",
          "new_line_content": "      GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": null,
          "new_api": "GPR_ARRAY_SIZE",
          "old_text": null,
          "new_text": "GPR_ARRAY_SIZE(errors)",
          "old_line_content": "              t, GRPC_CHTTP2_INITIATE_WRITE_FLOW_CONTROL_UNSTALLED_BY_SETTING);",
          "new_line_content": "    for (i = 0; i < GPR_ARRAY_SIZE(errors); i++) {",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(errors[i])",
          "old_line_content": "        }",
          "new_line_content": "      GRPC_ERROR_UNREF(errors[i]);",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"post_parse_locked\", 0)",
          "old_line_content": "    }",
          "new_line_content": "    GPR_TIMER_SCOPE(\"post_parse_locked\", 0);",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": null,
          "new_api": "grpc_chttp2_list_pop_stalled_by_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_list_pop_stalled_by_stream(t, &s)",
          "old_line_content": "  bool keep_reading = false;",
          "new_line_content": "        while (grpc_chttp2_list_pop_stalled_by_stream(t, &s)) {",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": null,
          "new_api": "grpc_chttp2_mark_stream_writable",
          "old_text": null,
          "new_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "old_line_content": "  if (error == GRPC_ERROR_NONE && t->closed_with_error != GRPC_ERROR_NONE) {",
          "new_line_content": "          grpc_chttp2_mark_stream_writable(t, s);",
          "content_same": false
        },
        {
          "line": 2554,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"post_reading_action_locked\", 0)",
          "old_line_content": "    }",
          "new_line_content": "  GPR_TIMER_SCOPE(\"post_reading_action_locked\", 0);",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n        \"Transport closed\", &t->closed_with_error, 1)",
          "old_line_content": "    t->endpoint_reading = 0;",
          "new_line_content": "    error = GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(t->goaway_error)",
          "old_line_content": "    }",
          "new_line_content": "      error = grpc_error_add_child(error, GRPC_ERROR_REF(t->goaway_error));",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "",
          "new_line_content": "    close_transport_locked(t, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 2571,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"keep_reading\")",
          "old_line_content": "                                      nullptr);",
          "new_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"keep_reading\");",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": null,
          "new_api": "grpc_endpoint_read",
          "old_text": null,
          "new_text": "grpc_endpoint_read(t->ep, &t->read_buffer, &t->read_action_locked)",
          "old_line_content": "// t is reffed prior to calling the first time, and once the callback chain",
          "new_line_content": "    grpc_endpoint_read(t->ep, &t->read_buffer, &t->read_action_locked);",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": null,
          "new_api": "MakeAction",
          "old_text": null,
          "new_text": "t->flow_control->MakeAction()",
          "old_line_content": "// that kicks off finishes, it's unreffed",
          "new_line_content": "    grpc_chttp2_act_on_flowctl_action(t->flow_control->MakeAction(), t,",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"reading_action\")",
          "old_line_content": "}",
          "new_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"reading_action\");",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": null,
          "new_api": "bdp_estimator",
          "old_text": null,
          "new_text": "t->flow_control->bdp_estimator()->SchedulePing()",
          "old_line_content": "  if (t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_WAITING) {",
          "new_line_content": "  t->flow_control->bdp_estimator()->SchedulePing();",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_line_content": "",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "static void finish_bdp_ping_locked(void* tp, grpc_error* error) {",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": null,
          "new_api": "grpc_timer_cancel",
          "old_text": null,
          "new_text": "grpc_timer_cancel(&t->keepalive_ping_timer)",
          "old_line_content": "  if (error != GRPC_ERROR_NONE) {",
          "new_line_content": "    grpc_timer_cancel(&t->keepalive_ping_timer);",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": null,
          "new_api": "bdp_estimator",
          "old_text": null,
          "new_text": "t->flow_control->bdp_estimator()->StartPing()",
          "old_line_content": "    return;",
          "new_line_content": "  t->flow_control->bdp_estimator()->StartPing();",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_line_content": "                                    nullptr);",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"%s: Complete BDP ping err=%s\", t->peer_string,\n            grpc_error_string(error))",
          "old_line_content": "  t->have_next_bdp_ping_timer = true;",
          "new_line_content": "    gpr_log(GPR_INFO, \"%s: Complete BDP ping err=%s\", t->peer_string,",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\")",
          "old_line_content": "",
          "new_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\");",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": null,
          "new_api": "PeriodicUpdate",
          "old_text": null,
          "new_text": "t->flow_control->PeriodicUpdate()",
          "old_line_content": "  t->have_next_bdp_ping_timer = false;",
          "new_line_content": "  grpc_chttp2_act_on_flowctl_action(t->flow_control->PeriodicUpdate(), t,",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": null,
          "new_api": "grpc_timer_init",
          "old_text": null,
          "new_text": "grpc_timer_init(&t->next_bdp_ping_timer, next_ping,\n                  &t->next_bdp_ping_timer_expired_locked)",
          "old_line_content": "  }",
          "new_line_content": "  grpc_timer_init(&t->next_bdp_ping_timer, next_ping,",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "old_line_content": "                                               bool is_client) {",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(t->have_next_bdp_ping_timer)",
          "old_line_content": "  size_t i;",
          "new_line_content": "  GPR_ASSERT(t->have_next_bdp_ping_timer);",
          "content_same": false
        },
        {
          "line": 2638,
          "old_api": null,
          "new_api": "schedule_bdp_ping_locked",
          "old_text": null,
          "new_text": "schedule_bdp_ping_locked(t)",
          "old_line_content": "                                       : g_default_server_keepalive_time_ms,",
          "new_line_content": "  schedule_bdp_ping_locked(t);",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(args->args[i].key, GRPC_ARG_KEEPALIVE_TIMEOUT_MS)",
          "old_line_content": "                             GRPC_ARG_KEEPALIVE_PERMIT_WITHOUT_CALLS)) {",
          "new_line_content": "                 strcmp(args->args[i].key, GRPC_ARG_KEEPALIVE_TIMEOUT_MS)) {",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(args->args[i].key,\n                             GRPC_ARG_KEEPALIVE_PERMIT_WITHOUT_CALLS)",
          "old_line_content": "        }",
          "new_line_content": "      } else if (0 == strcmp(args->args[i].key,",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(args->args[i].key, GRPC_ARG_HTTP2_MAX_PING_STRIKES)",
          "old_line_content": "        g_default_min_sent_ping_interval_without_data_ms =",
          "new_line_content": "                 strcmp(args->args[i].key, GRPC_ARG_HTTP2_MAX_PING_STRIKES)) {",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(args->args[i].key,\n                             GRPC_ARG_HTTP2_MAX_PINGS_WITHOUT_DATA)",
          "old_line_content": "                {g_default_min_sent_ping_interval_without_data_ms, 0, INT_MAX});",
          "new_line_content": "      } else if (0 == strcmp(args->args[i].key,",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\n                     args->args[i].key,\n                     GRPC_ARG_HTTP2_MIN_SENT_PING_INTERVAL_WITHOUT_DATA_MS)",
          "old_line_content": "        g_default_min_recv_ping_interval_without_data_ms =",
          "new_line_content": "                 strcmp(",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": null,
          "new_api": "grpc_channel_arg_get_integer",
          "old_text": null,
          "new_text": "grpc_channel_arg_get_integer(\n                &args->args[i],\n                {g_default_min_sent_ping_interval_without_data_ms, 0, INT_MAX})",
          "old_line_content": "      }",
          "new_line_content": "            grpc_channel_arg_get_integer(",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(\n                     args->args[i].key,\n                     GRPC_ARG_HTTP2_MIN_RECV_PING_INTERVAL_WITHOUT_DATA_MS)",
          "old_line_content": "",
          "new_line_content": "                 strcmp(",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": null,
          "new_api": "grpc_channel_arg_get_integer",
          "old_text": null,
          "new_text": "grpc_channel_arg_get_integer(\n                &args->args[i],\n                {g_default_min_recv_ping_interval_without_data_ms, 0, INT_MAX})",
          "old_line_content": "  if (t->destroying || t->closed_with_error != GRPC_ERROR_NONE) {",
          "new_line_content": "            grpc_channel_arg_get_integer(",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_WAITING)",
          "old_line_content": "    } else {",
          "new_line_content": "  GPR_ASSERT(t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_WAITING);",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "    }",
          "new_line_content": "        grpc_chttp2_stream_map_size(&t->stream_map) > 0) {",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive ping end\")",
          "old_line_content": "    /* The keepalive ping timer may be cancelled by bdp */",
          "new_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive ping end\");",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\")",
          "old_line_content": "  }",
          "new_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\");",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": null,
          "new_api": "Now",
          "old_text": null,
          "new_text": "grpc_core::ExecCtx::Get()->Now()",
          "old_line_content": "}",
          "new_line_content": "                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,",
          "content_same": false
        },
        {
          "line": 2729,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\")",
          "old_line_content": "    return;",
          "new_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\");",
          "content_same": false
        },
        {
          "line": 2730,
          "old_api": null,
          "new_api": "Now",
          "old_text": null,
          "new_text": "grpc_timer_init(&t->keepalive_ping_timer,\n                    grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,\n                    &t->init_keepalive_ping_locked)",
          "old_line_content": "  }",
          "new_line_content": "    grpc_timer_init(&t->keepalive_ping_timer,",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": null,
          "new_api": "Now",
          "old_text": null,
          "new_text": "grpc_core::ExecCtx::Get()->Now()",
          "old_line_content": "  if (t->channelz_socket != nullptr) {",
          "new_line_content": "                    grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,",
          "content_same": false
        },
        {
          "line": 2743,
          "old_api": null,
          "new_api": "RecordKeepaliveSent",
          "old_text": null,
          "new_text": "t->channelz_socket->RecordKeepaliveSent()",
          "old_line_content": "static void finish_keepalive_ping_locked(void* arg, grpc_error* error) {",
          "new_line_content": "    t->channelz_socket->RecordKeepaliveSent();",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "  if (t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_PINGING) {",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 2746,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"%s: Start keepalive ping\", t->peer_string)",
          "old_line_content": "    if (error == GRPC_ERROR_NONE) {",
          "new_line_content": "    gpr_log(GPR_INFO, \"%s: Start keepalive ping\", t->peer_string);",
          "content_same": false
        },
        {
          "line": 2749,
          "old_api": null,
          "new_api": "Now",
          "old_text": null,
          "new_text": "grpc_timer_init(&t->keepalive_watchdog_timer,\n                  grpc_core::ExecCtx::Get()->Now() + t->keepalive_timeout,\n                  &t->keepalive_watchdog_fired_locked)",
          "old_line_content": "      }",
          "new_line_content": "  grpc_timer_init(&t->keepalive_watchdog_timer,",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": null,
          "new_api": "Now",
          "old_text": null,
          "new_text": "grpc_core::ExecCtx::Get()->Now()",
          "old_line_content": "      t->keepalive_state = GRPC_CHTTP2_KEEPALIVE_STATE_WAITING;",
          "new_line_content": "                  grpc_core::ExecCtx::Get()->Now() + t->keepalive_timeout,",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_line_content": "                      &t->init_keepalive_ping_locked);",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "content_same": false
        },
        {
          "line": 2759,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"%s: Finish keepalive ping\", t->peer_string)",
          "old_line_content": "}",
          "new_line_content": "        gpr_log(GPR_INFO, \"%s: Finish keepalive ping\", t->peer_string);",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\")",
          "old_line_content": "  if (t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_PINGING) {",
          "new_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\");",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": null,
          "new_api": "Now",
          "old_text": null,
          "new_text": "grpc_timer_init(&t->keepalive_ping_timer,\n                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,\n                      &t->init_keepalive_ping_locked)",
          "old_line_content": "    if (error == GRPC_ERROR_NONE) {",
          "new_line_content": "      grpc_timer_init(&t->keepalive_ping_timer,",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_line_content": "    }",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_ERROR, \"%s: Keepalive watchdog fired. Closing transport.\",\n              t->peer_string)",
          "old_line_content": "     * finish_keepalive_ping_locked. */",
          "new_line_content": "      gpr_log(GPR_ERROR, \"%s: Keepalive watchdog fired. Closing transport.\",",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": null,
          "new_api": "close_transport_locked",
          "old_text": null,
          "new_text": "close_transport_locked(\n          t, grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                    \"keepalive watchdog timeout\"),\n                                GRPC_ERROR_INT_GRPC_STATUS,\n                                GRPC_STATUS_UNAVAILABLE))",
          "old_line_content": "              t->keepalive_state, GRPC_CHTTP2_KEEPALIVE_STATE_PINGING);",
          "new_line_content": "      close_transport_locked(",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                    \"keepalive watchdog timeout\")",
          "old_line_content": "    }",
          "new_line_content": "          t, grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": null,
          "new_api": "GPR_UNLIKELY",
          "old_text": null,
          "new_text": "GPR_UNLIKELY(error != GRPC_ERROR_CANCELLED)",
          "old_line_content": "",
          "new_line_content": "    if (GPR_UNLIKELY(error != GRPC_ERROR_CANCELLED)) {",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_ERROR, \"keepalive_ping_end state error: %d (expect: %d)\",\n              t->keepalive_state, GRPC_CHTTP2_KEEPALIVE_STATE_PINGING)",
          "old_line_content": "static void connectivity_state_set(grpc_chttp2_transport* t,",
          "new_line_content": "      gpr_log(GPR_ERROR, \"keepalive_ping_end state error: %d (expect: %d)\",",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_line_content": " * BYTE STREAM",
          "new_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": null,
          "new_api": "grpc_endpoint_add_to_pollset",
          "old_text": null,
          "new_text": "grpc_endpoint_add_to_pollset(t->ep, pollset)",
          "old_line_content": " */",
          "new_line_content": "  grpc_endpoint_add_to_pollset(t->ep, pollset);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_line_content": "  if (error == GRPC_ERROR_NONE) {",
          "new_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "content_same": false
        },
        {
          "line": 2832,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_message",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_message(s->t, s)",
          "old_line_content": "}",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_message(s->t, s);",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(s->t, s)",
          "old_line_content": "",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(s->t, s);",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(error != GRPC_ERROR_NONE)",
          "old_line_content": "",
          "new_line_content": "    GPR_ASSERT(error != GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "Chttp2IncomingByteStream::Chttp2IncomingByteStream(",
          "new_line_content": "    GRPC_CLOSURE_SCHED(s->on_next, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(s->byte_stream_error)",
          "old_line_content": "    uint32_t frame_size, uint32_t flags)",
          "new_line_content": "    GRPC_ERROR_UNREF(s->byte_stream_error);",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "      transport_(transport),",
          "new_line_content": "    grpc_chttp2_cancel_stream(s->t, s, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "      stream_(stream),",
          "new_line_content": "    s->byte_stream_error = GRPC_ERROR_REF(error);",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_message",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "old_line_content": "}",
          "new_line_content": "  grpc_chttp2_maybe_complete_recv_message(t, s);",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "old_line_content": "",
          "new_line_content": "  grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"incoming_byte_stream_destroy\", 0)",
          "old_line_content": "  grpc_chttp2_transport* t = bs->transport_;",
          "new_line_content": "  GPR_TIMER_SCOPE(\"incoming_byte_stream_destroy\", 0);",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_SCHED(\n      GRPC_CLOSURE_INIT(&destroy_action_,\n                        &Chttp2IncomingByteStream::OrphanLocked, this,\n                        grpc_combiner_scheduler(transport_->combiner)),\n      GRPC_ERROR_NONE)",
          "old_line_content": "  grpc_chttp2_stream* s = bs->stream_;",
          "new_line_content": "  GRPC_CLOSURE_SCHED(",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_INIT",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_INIT(&destroy_action_,\n                        &Chttp2IncomingByteStream::OrphanLocked, this,\n                        grpc_combiner_scheduler(transport_->combiner))",
          "old_line_content": "  size_t cur_length = s->frame_storage.length;",
          "new_line_content": "      GRPC_CLOSURE_INIT(&destroy_action_,",
          "content_same": false
        },
        {
          "line": 2888,
          "old_api": null,
          "new_api": "MakeAction",
          "old_text": null,
          "new_text": "s->flow_control->MakeAction()",
          "old_line_content": "    if (s->data_parser.parsing_frame != nullptr) {",
          "new_line_content": "    grpc_chttp2_act_on_flowctl_action(s->flow_control->MakeAction(), t, s);",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->unprocessed_incoming_frames_buffer.length == 0)",
          "old_line_content": "      s->data_parser.parsing_frame = nullptr;",
          "new_line_content": "  GPR_ASSERT(s->unprocessed_incoming_frames_buffer.length == 0);",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": null,
          "new_api": "grpc_slice_buffer_swap",
          "old_text": null,
          "new_text": "grpc_slice_buffer_swap(&s->frame_storage,\n                           &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "  } else if (s->read_closed) {",
          "new_line_content": "    grpc_slice_buffer_swap(&s->frame_storage,",
          "content_same": false
        },
        {
          "line": 2898,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(s->byte_stream_error)",
          "old_line_content": "      if (s->data_parser.parsing_frame != nullptr) {",
          "new_line_content": "                       GRPC_ERROR_REF(s->byte_stream_error));",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": null,
          "new_api": "Unref",
          "old_text": null,
          "new_text": "s->data_parser.parsing_frame->Unref()",
          "old_line_content": "        s->data_parser.parsing_frame = nullptr;",
          "new_line_content": "      s->data_parser.parsing_frame->Unref();",
          "content_same": false
        },
        {
          "line": 2906,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "old_line_content": "  } else {",
          "new_line_content": "          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,\n                         GRPC_ERROR_REF(s->byte_stream_error))",
          "old_line_content": "    s->on_next = bs->next_action_.on_complete;",
          "new_line_content": "      GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,",
          "content_same": false
        },
        {
          "line": 2908,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(s->byte_stream_error)",
          "old_line_content": "  }",
          "new_line_content": "                         GRPC_ERROR_REF(s->byte_stream_error));",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": null,
          "new_api": "Unref",
          "old_text": null,
          "new_text": "s->data_parser.parsing_frame->Unref()",
          "old_line_content": "}",
          "new_line_content": "        s->data_parser.parsing_frame->Unref();",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(false)",
          "old_line_content": "  if (stream_->unprocessed_incoming_frames_buffer.length > 0) {",
          "new_line_content": "      GPR_ASSERT(false);",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": null,
          "new_api": "Unref",
          "old_text": null,
          "new_text": "bs->Unref()",
          "old_line_content": "    next_action_.on_complete = on_complete;",
          "new_line_content": "  bs->Unref();",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"incoming_byte_stream_next\", 0)",
          "old_line_content": "        GRPC_ERROR_NONE);",
          "new_line_content": "  GPR_TIMER_SCOPE(\"incoming_byte_stream_next\", 0);",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": null,
          "new_api": "Ref",
          "old_text": null,
          "new_text": "Ref()",
          "old_line_content": "",
          "new_line_content": "    Ref();",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_INIT",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_INIT(&next_action_.closure,\n                          &Chttp2IncomingByteStream::NextLocked, this,\n                          grpc_combiner_scheduler(transport_->combiner))",
          "old_line_content": "        stream_->stream_decompression_method);",
          "new_line_content": "        GRPC_CLOSURE_INIT(&next_action_.closure,",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": null,
          "new_api": "grpc_combiner_scheduler",
          "old_text": null,
          "new_text": "grpc_combiner_scheduler(transport_->combiner)",
          "old_line_content": "}",
          "new_line_content": "                          grpc_combiner_scheduler(transport_->combiner)),",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "MaybeCreateStreamDecompressionCtx",
          "old_text": null,
          "new_text": "MaybeCreateStreamDecompressionCtx()",
          "old_line_content": "                             &stream_->decompressed_data_buffer);",
          "new_line_content": "      MaybeCreateStreamDecompressionCtx();",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": null,
          "new_api": "grpc_stream_decompress",
          "old_text": null,
          "new_text": "grpc_stream_decompress(stream_->stream_decompression_ctx,\n                                  &stream_->unprocessed_incoming_frames_buffer,\n                                  &stream_->decompressed_data_buffer, nullptr,\n                                  MAX_SIZE_T, &end_of_context)",
          "old_line_content": "      stream_->unprocessed_incoming_frames_decompressed = true;",
          "new_line_content": "      if (!grpc_stream_decompress(stream_->stream_decompression_ctx,",
          "content_same": false
        },
        {
          "line": 2960,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream decompression error.\")",
          "old_line_content": "      }",
          "new_line_content": "            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream decompression error.\");",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(stream_->unprocessed_incoming_frames_buffer.length == 0)",
          "old_line_content": "      }",
          "new_line_content": "      GPR_ASSERT(stream_->unprocessed_incoming_frames_buffer.length == 0);",
          "content_same": false
        },
        {
          "line": 2964,
          "old_api": null,
          "new_api": "grpc_slice_buffer_swap",
          "old_text": null,
          "new_text": "grpc_slice_buffer_swap(&stream_->unprocessed_incoming_frames_buffer,\n                             &stream_->decompressed_data_buffer)",
          "old_line_content": "    }",
          "new_line_content": "      grpc_slice_buffer_swap(&stream_->unprocessed_incoming_frames_buffer,",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": null,
          "new_api": "grpc_stream_compression_context_destroy",
          "old_text": null,
          "new_text": "grpc_stream_compression_context_destroy(\n            stream_->stream_decompression_ctx)",
          "old_line_content": "    if (error != GRPC_ERROR_NONE) {",
          "new_line_content": "        grpc_stream_compression_context_destroy(",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": null,
          "new_api": "grpc_deframe_unprocessed_incoming_frames",
          "old_text": null,
          "new_text": "grpc_deframe_unprocessed_incoming_frames(\n        &stream_->data_parser, stream_,\n        &stream_->unprocessed_incoming_frames_buffer, slice, nullptr)",
          "old_line_content": "  return GRPC_ERROR_NONE;",
          "new_line_content": "    error = grpc_deframe_unprocessed_incoming_frames(",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(error != GRPC_ERROR_NONE)",
          "old_line_content": "    grpc_error* error =",
          "new_line_content": "  GPR_ASSERT(error != GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "    return error;",
          "new_line_content": "  stream_->byte_stream_error = GRPC_ERROR_REF(error);",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "  } else {",
          "new_line_content": "  grpc_chttp2_cancel_stream(transport_, stream_, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": null,
          "new_api": "GRPC_SLICE_LENGTH",
          "old_text": null,
          "new_text": "GRPC_SLICE_LENGTH(slice)",
          "old_line_content": "    return GRPC_ERROR_NONE;",
          "new_line_content": "  if (remaining_bytes_ < GRPC_SLICE_LENGTH(slice)) {",
          "content_same": false
        },
        {
          "line": 3003,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many bytes in stream\")",
          "old_line_content": "}",
          "new_line_content": "        GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many bytes in stream\");",
          "content_same": false
        },
        {
          "line": 3004,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "",
          "new_line_content": "    GRPC_CLOSURE_SCHED(&stream_->reset_byte_stream, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 3005,
          "old_api": null,
          "new_api": "grpc_slice_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_unref_internal(slice)",
          "old_line_content": "grpc_error* Chttp2IncomingByteStream::Finished(grpc_error* error,",
          "new_line_content": "    grpc_slice_unref_internal(slice);",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": null,
          "new_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(slice)",
          "old_text": null,
          "new_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(slice)",
          "old_line_content": "    if (remaining_bytes_ != 0) {",
          "new_line_content": "    remaining_bytes_ -= static_cast<uint32_t> GRPC_SLICE_LENGTH(slice);",
          "content_same": false
        },
        {
          "line": 3024,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "",
          "new_line_content": "    GRPC_CLOSURE_SCHED(&stream_->reset_byte_stream, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": null,
          "new_api": "Unref",
          "old_text": null,
          "new_text": "Unref()",
          "old_line_content": " * RESOURCE QUOTAS",
          "new_line_content": "  Unref();",
          "content_same": false
        },
        {
          "line": 3031,
          "old_api": null,
          "new_api": "Finished",
          "old_text": null,
          "new_text": "Finished(error, true /* reset_on_error */)",
          "old_line_content": "    t->benign_reclaimer_registered = true;",
          "new_line_content": "  GRPC_ERROR_UNREF(Finished(error, true /* reset_on_error */));",
          "content_same": false
        },
        {
          "line": 3043,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"benign_reclaimer\")",
          "old_line_content": "                                      true, &t->destructive_reclaimer_locked);",
          "new_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"benign_reclaimer\");",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": null,
          "new_api": "grpc_endpoint_get_resource_user",
          "old_text": null,
          "new_text": "grpc_endpoint_get_resource_user(t->ep)",
          "old_line_content": "  }",
          "new_line_content": "    grpc_resource_user_post_reclaimer(grpc_endpoint_get_resource_user(t->ep),",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"destructive_reclaimer\")",
          "old_line_content": "     * disconnect cleanly */",
          "new_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"destructive_reclaimer\");",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_resource_quota_trace.enabled()",
          "old_line_content": "            \" streams\",",
          "new_line_content": "    if (grpc_resource_quota_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": null,
          "new_api": "send_goaway",
          "old_text": null,
          "new_text": "send_goaway(t,\n                grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM))",
          "old_line_content": "  if (error != GRPC_ERROR_CANCELLED) {",
          "new_line_content": "    send_goaway(t,",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO,\n            \"HTTP2: %s - skip benign reclamation, there are still %\" PRIdPTR\n            \" streams\",\n            t->peer_string, grpc_chttp2_stream_map_size(&t->stream_map))",
          "old_line_content": "}",
          "new_line_content": "    gpr_log(GPR_INFO,",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "old_line_content": "        t, s,",
          "new_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "content_same": false
        },
        {
          "line": 3091,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_stream*>(\n        grpc_chttp2_stream_map_rand(&t->stream_map))",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_stream*>(\n        grpc_chttp2_stream_map_rand(&t->stream_map))",
          "old_line_content": "    if (n > 1) {",
          "new_line_content": "    grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_rand",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_rand(&t->stream_map)",
          "old_line_content": "      /* Since we cancel one stream per destructive reclamation, if",
          "new_line_content": "        grpc_chttp2_stream_map_rand(&t->stream_map));",
          "content_same": false
        },
        {
          "line": 3093,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_resource_quota_trace.enabled()",
          "old_line_content": "         there are more streams left, we can immediately post a new",
          "new_line_content": "    if (grpc_resource_quota_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"HTTP2: %s - abandon stream id %d\", t->peer_string,\n              s->id)",
          "old_line_content": "         reclaimer in case the resource quota needs to free more",
          "new_line_content": "      gpr_log(GPR_INFO, \"HTTP2: %s - abandon stream id %d\", t->peer_string,",
          "content_same": false
        },
        {
          "line": 3097,
          "old_api": null,
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_cancel_stream(\n        t, s,\n        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),\n                           GRPC_ERROR_INT_HTTP2_ERROR,\n                           GRPC_HTTP2_ENHANCE_YOUR_CALM))",
          "old_line_content": "    }",
          "new_line_content": "    grpc_chttp2_cancel_stream(",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\")",
          "old_line_content": "  if (error != GRPC_ERROR_CANCELLED) {",
          "new_line_content": "        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": null,
          "new_api": "post_destructive_reclaimer",
          "old_text": null,
          "new_text": "post_destructive_reclaimer(t)",
          "old_line_content": " * MONITORING",
          "new_line_content": "      post_destructive_reclaimer(t);",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": null,
          "new_api": "grpc_resource_user_finish_reclamation",
          "old_text": null,
          "new_text": "grpc_resource_user_finish_reclamation(\n        grpc_endpoint_get_resource_user(t->ep))",
          "old_line_content": "    grpc_chttp2_initiate_write_reason reason) {",
          "new_line_content": "    grpc_resource_user_finish_reclamation(",
          "content_same": false
        },
        {
          "line": 3112,
          "old_api": null,
          "new_api": "grpc_endpoint_get_resource_user",
          "old_text": null,
          "new_text": "grpc_endpoint_get_resource_user(t->ep)",
          "old_line_content": "  switch (reason) {",
          "new_line_content": "        grpc_endpoint_get_resource_user(t->ep));",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"destructive_reclaimer\")",
          "old_line_content": "      return \"INITIAL_WRITE\";",
          "new_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"destructive_reclaimer\");",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "  }",
          "new_line_content": "    close_transport_locked(t, GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "    }",
          "new_line_content": "    if (grpc_chttp2_stream_map_size(&t->stream_map) == 0) {",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "close_transport_locked",
          "old_text": null,
          "new_text": "close_transport_locked(\n          t, GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"goaway sent\"))",
          "old_line_content": "  }",
          "new_line_content": "      close_transport_locked(",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"goaway sent\")",
          "old_line_content": "",
          "new_line_content": "          t, GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"goaway sent\"));",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "GPR_TIMER_MARK",
          "old_text": null,
          "new_text": "GPR_TIMER_MARK(\"state=writing\", 0)",
          "old_line_content": "    case GRPC_CHTTP2_WRITE_STATE_WRITING_WITH_MORE:",
          "new_line_content": "      GPR_TIMER_MARK(\"state=writing\", 0);",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"writing\")",
          "old_line_content": "                            write_action_begin_locked, t,",
          "new_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"writing\");",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_LIST_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_LIST_SCHED(&t->run_after_write)",
          "old_line_content": "",
          "new_line_content": "        GRPC_CLOSURE_LIST_SCHED(&t->run_after_write);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(\n          GRPC_CLOSURE_INIT(&t->write_action_begin_locked,\n                            write_action_begin_locked, t,\n                            grpc_combiner_finally_scheduler(t->combiner)),\n          GRPC_ERROR_NONE)",
          "old_line_content": "}",
          "new_line_content": "      GRPC_CLOSURE_RUN(",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_INIT",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_INIT(&t->write_action_begin_locked,\n                            write_action_begin_locked, t,\n                            grpc_combiner_finally_scheduler(t->combiner))",
          "old_line_content": "",
          "new_line_content": "          GRPC_CLOSURE_INIT(&t->write_action_begin_locked,",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "grpc_combiner_finally_scheduler",
          "old_text": null,
          "new_text": "grpc_combiner_finally_scheduler(t->combiner)",
          "old_line_content": "// If the change needs to occur immediately, manually initiate a write.",
          "new_line_content": "                            grpc_combiner_finally_scheduler(t->combiner)),",
          "content_same": false
        },
        {
          "line": 3165,
          "old_api": null,
          "new_api": "GPR_UNREACHABLE_CODE",
          "old_text": null,
          "new_text": "GPR_UNREACHABLE_CODE(return \"unknown\")",
          "old_line_content": "                                             set_pollset_set,",
          "new_line_content": "  GPR_UNREACHABLE_CODE(return \"unknown\");",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "GPR_CLAMP",
          "old_text": null,
          "new_text": "GPR_CLAMP(value, sp->min_value, sp->max_value)",
          "old_line_content": "void grpc_chttp2_add_incoming_goaway(grpc_chttp2_transport* t,",
          "new_line_content": "  uint32_t use_value = GPR_CLAMP(value, sp->min_value, sp->max_value);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"Requested parameter %s clamped from %d to %d\", sp->name,\n            value, use_value)",
          "old_line_content": "                                     grpc_slice goaway_text) {",
          "new_line_content": "    gpr_log(GPR_INFO, \"Requested parameter %s clamped from %d to %d\", sp->name,",
          "content_same": false
        },
        {
          "line": 3169,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(t)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(t)",
          "old_line_content": "                                             destroy_transport,",
          "new_line_content": "  return (reinterpret_cast<grpc_chttp2_transport*>(t))->ep;",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(t->goaway_error)",
          "old_line_content": "",
          "new_line_content": "    GRPC_ERROR_UNREF(t->goaway_error);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "grpc_error_set_str",
          "old_text": null,
          "new_text": "grpc_error_set_str(\n      grpc_error_set_int(\n          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\"),\n          GRPC_ERROR_INT_HTTP2_ERROR, static_cast<intptr_t>(goaway_error)),\n      GRPC_ERROR_STR_RAW_BYTES, goaway_text)",
          "old_line_content": "   * data equal to \"too_many_pings\", it should log the occurrence at a log level",
          "new_line_content": "  t->goaway_error = grpc_error_set_str(",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\"),\n          GRPC_ERROR_INT_HTTP2_ERROR, static_cast<intptr_t>(goaway_error))",
          "old_line_content": "   * that is enabled by default and double the configured KEEPALIVE_TIME used",
          "new_line_content": "      grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\")",
          "old_line_content": "   * for new connections on that channel. */",
          "new_line_content": "          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\"),",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "old_line_content": "",
          "new_line_content": "      reinterpret_cast<grpc_chttp2_transport*>(transport);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"%s: Got goaway [%d] err=%s\", t->peer_string, goaway_error,\n          grpc_error_string(t->goaway_error))",
          "old_line_content": "            \"Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug \"",
          "new_line_content": "  gpr_log(GPR_INFO, \"%s: Got goaway [%d] err=%s\", t->peer_string, goaway_error,",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "grpc_error_string",
          "old_text": null,
          "new_text": "grpc_error_string(t->goaway_error)",
          "old_line_content": "            \"data equal to \\\"too_many_pings\\\"\");",
          "new_line_content": "          grpc_error_string(t->goaway_error));",
          "content_same": false
        },
        {
          "line": 3195,
          "old_api": null,
          "new_api": "grpc_core::New<grpc_chttp2_transport>(channel_args, ep, is_client,\n                                                 resource_user)",
          "old_text": null,
          "new_text": "grpc_core::New<grpc_chttp2_transport>(channel_args, ep, is_client,\n                                                 resource_user)",
          "old_line_content": "      t, \"reading_action\"); /* matches unref inside reading_action */",
          "new_line_content": "  auto t = grpc_core::New<grpc_chttp2_transport>(channel_args, ep, is_client,",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "GPR_UNLIKELY",
          "old_text": null,
          "new_text": "GPR_UNLIKELY(t->is_client &&\n                   goaway_error == GRPC_HTTP2_ENHANCE_YOUR_CALM &&\n                   grpc_slice_str_cmp(goaway_text, \"too_many_pings\") == 0)",
          "old_line_content": "                                       KEEPALIVE_TIME_BACKOFF_MULTIPLIER);",
          "new_line_content": "  if (GPR_UNLIKELY(t->is_client &&",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "grpc_slice_str_cmp",
          "old_text": null,
          "new_text": "grpc_slice_str_cmp(goaway_text, \"too_many_pings\")",
          "old_line_content": "",
          "new_line_content": "                   grpc_slice_str_cmp(goaway_text, \"too_many_pings\") == 0)) {",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_ERROR,\n            \"Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug \"\n            \"data equal to \\\"too_many_pings\\\"\")",
          "old_line_content": "  /* lie: use transient failure from the transport to indicate goaway has been",
          "new_line_content": "    gpr_log(GPR_ERROR,",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "old_line_content": "",
          "new_line_content": "      reinterpret_cast<grpc_chttp2_transport*>(transport);",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(\n      t, \"reading_action\")",
          "old_line_content": "",
          "new_line_content": "  GRPC_CHTTP2_REF_TRANSPORT(",
          "content_same": false
        },
        {
          "line": 3208,
          "old_api": null,
          "new_api": "grpc_slice_buffer_move_into",
          "old_text": null,
          "new_text": "grpc_slice_buffer_move_into(read_buffer, &t->read_buffer)",
          "old_line_content": "",
          "new_line_content": "    grpc_slice_buffer_move_into(read_buffer, &t->read_buffer);",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "static_cast<grpc_millis>(current_keepalive_time_ms *\n                                       KEEPALIVE_TIME_BACKOFF_MULTIPLIER)",
          "old_text": null,
          "new_text": "static_cast<grpc_millis>(current_keepalive_time_ms *\n                                       KEEPALIVE_TIME_BACKOFF_MULTIPLIER)",
          "old_line_content": "  grpc_chttp2_stream* s;",
          "new_line_content": "            : static_cast<grpc_millis>(current_keepalive_time_ms *",
          "content_same": false
        },
        {
          "line": 3209,
          "old_api": null,
          "new_api": "gpr_free",
          "old_text": null,
          "new_text": "gpr_free(read_buffer)",
          "old_line_content": "",
          "new_line_content": "    gpr_free(read_buffer);",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_SCHED(&t->read_action_locked, GRPC_ERROR_NONE)",
          "old_line_content": "",
          "new_line_content": "  GRPC_CLOSURE_SCHED(&t->read_action_locked, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "connectivity_state_set",
          "old_text": null,
          "new_text": "connectivity_state_set(t, GRPC_CHANNEL_TRANSIENT_FAILURE,\n                         GRPC_ERROR_REF(t->goaway_error), \"got_goaway\")",
          "old_line_content": "                        [GRPC_CHTTP2_SETTINGS_MAX_CONCURRENT_STREAMS] &&",
          "new_line_content": "  connectivity_state_set(t, GRPC_CHANNEL_TRANSIENT_FAILURE,",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_size",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "old_line_content": "    t->next_stream_id += 2;",
          "new_line_content": "         grpc_chttp2_stream_map_size(&t->stream_map) <",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "connectivity_state_set",
          "old_text": null,
          "new_text": "connectivity_state_set(\n          t, GRPC_CHANNEL_TRANSIENT_FAILURE,\n          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),\n          \"no_more_stream_ids\")",
          "old_line_content": "  /* cancel out streams that will never be started */",
          "new_line_content": "      connectivity_state_set(",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": null,
          "new_api": "post_destructive_reclaimer",
          "old_text": null,
          "new_text": "post_destructive_reclaimer(t)",
          "old_line_content": "            GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE));",
          "new_line_content": "    post_destructive_reclaimer(t);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "grpc_chttp2_mark_stream_writable",
          "old_text": null,
          "new_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "old_line_content": "  }",
          "new_line_content": "    grpc_chttp2_mark_stream_writable(t, s);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_START_NEW_STREAM)",
          "old_line_content": "}",
          "new_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_START_NEW_STREAM);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "grpc_chttp2_list_pop_waiting_for_concurrency",
          "old_text": null,
          "new_text": "grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)",
          "old_line_content": "   scheduled */",
          "new_line_content": "         grpc_chttp2_list_pop_waiting_for_concurrency(t, &s)) {",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_cancel_stream(\n        t, s,\n        grpc_error_set_int(\n            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),\n            GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE))",
          "old_line_content": "#define CLOSURE_BARRIER_MAY_COVER_WRITE (1 << 0)",
          "new_line_content": "    grpc_chttp2_cancel_stream(",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),\n            GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "old_line_content": "   bits being used for flags defined above) */",
          "new_line_content": "        grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\")",
          "old_line_content": "#define CLOSURE_BARRIER_FIRST_REF_BIT (1 << 16)",
          "new_line_content": "            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(c, error)",
          "old_line_content": "    return;",
          "new_line_content": "  GRPC_CLOSURE_RUN(c, error);",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": null,
          "new_api": "grpc_error_string",
          "old_text": null,
          "new_text": "grpc_error_string(error)",
          "old_line_content": "  }",
          "new_line_content": "    const char* errstr = grpc_error_string(error);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(\n        GPR_INFO,\n        \"complete_closure_step: t=%p %p refs=%d flags=0x%04x desc=%s err=%s \"\n        \"write_state=%s\",\n        t, closure,\n        static_cast<int>(closure->next_data.scratch /\n                         CLOSURE_BARRIER_FIRST_REF_BIT),\n        static_cast<int>(closure->next_data.scratch %\n                         CLOSURE_BARRIER_FIRST_REF_BIT),\n        desc, errstr, write_state_name(t->write_state))",
          "old_line_content": "  if (error != GRPC_ERROR_NONE) {",
          "new_line_content": "    gpr_log(",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": null,
          "new_api": "static_cast<int>(closure->next_data.scratch /\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "old_text": null,
          "new_text": "static_cast<int>(closure->next_data.scratch /\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "old_line_content": "          closure->error_data.error, GRPC_ERROR_STR_TARGET_ADDRESS,",
          "new_line_content": "        static_cast<int>(closure->next_data.scratch /",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "static_cast<int>(closure->next_data.scratch %\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "old_text": null,
          "new_text": "static_cast<int>(closure->next_data.scratch %\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "old_line_content": "    }",
          "new_line_content": "        static_cast<int>(closure->next_data.scratch %",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n          \"Error in HTTP transport completing operation\")",
          "old_line_content": "        !(closure->next_data.scratch & CLOSURE_BARRIER_MAY_COVER_WRITE)) {",
          "new_line_content": "      closure->error_data.error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "grpc_error_set_str",
          "old_text": null,
          "new_text": "grpc_error_set_str(\n          closure->error_data.error, GRPC_ERROR_STR_TARGET_ADDRESS,\n          grpc_slice_from_copied_string(t->peer_string))",
          "old_line_content": "    } else {",
          "new_line_content": "      closure->error_data.error = grpc_error_set_str(",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "grpc_slice_from_copied_string",
          "old_text": null,
          "new_text": "grpc_slice_from_copied_string(t->peer_string)",
          "old_line_content": "                               closure->error_data.error);",
          "new_line_content": "          grpc_slice_from_copied_string(t->peer_string));",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "grpc_error_add_child",
          "old_text": null,
          "new_text": "grpc_error_add_child(closure->error_data.error, error)",
          "old_line_content": "}",
          "new_line_content": "        grpc_error_add_child(closure->error_data.error, error);",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(closure, closure->error_data.error)",
          "old_line_content": "                           GRPC_MDELEM_GRPC_STATUS_0);",
          "new_line_content": "      GRPC_CLOSURE_RUN(closure, closure->error_data.error);",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "grpc_closure_list_append",
          "old_text": null,
          "new_text": "grpc_closure_list_append(&t->run_after_write, closure,\n                               closure->error_data.error)",
          "old_line_content": "  return false;",
          "new_line_content": "      grpc_closure_list_append(&t->run_after_write, closure,",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": null,
          "new_api": "grpc_chttp2_mark_stream_writable",
          "old_text": null,
          "new_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "old_line_content": "}",
          "new_line_content": "    grpc_chttp2_mark_stream_writable(t, s);",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_SEND_MESSAGE)",
          "old_line_content": "",
          "new_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_SEND_MESSAGE);",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": null,
          "new_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(s->fetching_slice)",
          "old_text": null,
          "new_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(s->fetching_slice)",
          "old_line_content": "      return;  /* early out */",
          "new_line_content": "      static_cast<uint32_t> GRPC_SLICE_LENGTH(s->fetching_slice);",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "grpc_slice_buffer_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_add(&s->flow_controlled_buffer, s->fetching_slice)",
          "old_line_content": "    }",
          "new_line_content": "  grpc_slice_buffer_add(&s->flow_controlled_buffer, s->fetching_slice);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "        if (cb == nullptr) {",
          "new_line_content": "      abort(); /* TODO(ctiller): what cleanup here? */",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "s->fetching_send_message->length()",
          "old_line_content": "          t->write_cb_pool = cb->next;",
          "new_line_content": "    if (s->fetched_send_message_length == s->fetching_send_message->length()) {",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(\n            t, s, &s->fetching_send_message_finished, GRPC_ERROR_NONE,\n            \"fetching_send_message_finished\")",
          "old_line_content": "        cb->closure = s->fetching_send_message_finished;",
          "new_line_content": "        grpc_chttp2_complete_closure_step(",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "gpr_malloc",
          "old_text": null,
          "new_text": "gpr_malloc(sizeof(*cb))",
          "old_line_content": "        cb->next = *list;",
          "new_line_content": "          cb = static_cast<grpc_chttp2_write_cb*>(gpr_malloc(sizeof(*cb)));",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "flags",
          "old_text": null,
          "new_text": "s->fetching_send_message->flags()",
          "old_line_content": "      if (error != GRPC_ERROR_NONE) {",
          "new_line_content": "            s->fetching_send_message->flags() & GRPC_WRITE_THROUGH",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "s->fetching_send_message.reset()",
          "old_line_content": "    }",
          "new_line_content": "      s->fetching_send_message.reset();",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "Next",
          "old_text": null,
          "new_text": "s->fetching_send_message->Next(UINT32_MAX,\n                                              &s->complete_fetch_locked)",
          "old_line_content": "}",
          "new_line_content": "    } else if (s->fetching_send_message->Next(UINT32_MAX,",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "Pull",
          "old_text": null,
          "new_text": "s->fetching_send_message->Pull(&s->fetching_slice)",
          "old_line_content": "static void complete_fetch_locked(void* gs, grpc_error* error) {",
          "new_line_content": "      grpc_error* error = s->fetching_send_message->Pull(&s->fetching_slice);",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "s->fetching_send_message.reset()",
          "old_line_content": "  grpc_chttp2_transport* t = s->t;",
          "new_line_content": "        s->fetching_send_message.reset();",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_cancel_stream(t, s, error)",
          "old_line_content": "  if (error == GRPC_ERROR_NONE) {",
          "new_line_content": "        grpc_chttp2_cancel_stream(t, s, error);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "add_fetched_slice_locked",
          "old_text": null,
          "new_text": "add_fetched_slice_locked(t, s)",
          "old_line_content": "    if (error == GRPC_ERROR_NONE) {",
          "new_line_content": "        add_fetched_slice_locked(t, s);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "Pull",
          "old_text": null,
          "new_text": "s->fetching_send_message->Pull(&s->fetching_slice)",
          "old_line_content": "",
          "new_line_content": "    error = s->fetching_send_message->Pull(&s->fetching_slice);",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "add_fetched_slice_locked",
          "old_text": null,
          "new_text": "add_fetched_slice_locked(t, s)",
          "old_line_content": "",
          "new_line_content": "      add_fetched_slice_locked(t, s);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "continue_fetching_send_locked",
          "old_text": null,
          "new_text": "continue_fetching_send_locked(t, s)",
          "old_line_content": "static void log_metadata(const grpc_metadata_batch* md_batch, uint32_t id,",
          "new_line_content": "      continue_fetching_send_locked(t, s);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "GRPC_MDVALUE",
          "old_text": null,
          "new_text": "GRPC_MDVALUE(md->md)",
          "old_line_content": "",
          "new_line_content": "    char* value = grpc_slice_to_c_string(GRPC_MDVALUE(md->md));",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"HTTP:%d:%s:%s: %s: %s\", id, is_initial ? \"HDR\" : \"TRL\",\n            is_client ? \"CLI\" : \"SVR\", key, value)",
          "old_line_content": "  grpc_transport_stream_op_batch* op =",
          "new_line_content": "    gpr_log(GPR_INFO, \"HTTP:%d:%s:%s: %s: %s\", id, is_initial ? \"HDR\" : \"TRL\",",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "gpr_free",
          "old_text": null,
          "new_text": "gpr_free(key)",
          "old_line_content": "  grpc_chttp2_stream* s =",
          "new_line_content": "    gpr_free(key);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"perform_stream_op_locked\", 0)",
          "old_line_content": "  s->context = op->payload->context;",
          "new_line_content": "  GPR_TIMER_SCOPE(\"perform_stream_op_locked\", 0);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_stream*>(op->handler_private.extra_arg)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_stream*>(op->handler_private.extra_arg)",
          "old_line_content": "            op->on_complete);",
          "new_line_content": "      static_cast<grpc_chttp2_stream*>(op->handler_private.extra_arg);",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_BATCHES",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_BATCHES()",
          "old_line_content": "                   s->id, t->is_client, true);",
          "new_line_content": "  GRPC_STATS_INC_HTTP2_OP_BATCHES();",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "                   s->id, t->is_client, false);",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "grpc_transport_stream_op_batch_string",
          "old_text": null,
          "new_text": "grpc_transport_stream_op_batch_string(op)",
          "old_line_content": "    }",
          "new_line_content": "    char* str = grpc_transport_stream_op_batch_string(op);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"perform_stream_op_locked: %s; on_complete = %p\", str,\n            op->on_complete)",
          "old_line_content": "  }",
          "new_line_content": "    gpr_log(GPR_INFO, \"perform_stream_op_locked: %s; on_complete = %p\", str,",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "gpr_free",
          "old_text": null,
          "new_text": "gpr_free(str)",
          "old_line_content": "  grpc_closure* on_complete = op->on_complete;",
          "new_line_content": "    gpr_free(str);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "log_metadata",
          "old_text": null,
          "new_text": "log_metadata(op_payload->send_initial_metadata.send_initial_metadata,\n                   s->id, t->is_client, true)",
          "old_line_content": "  // closure itself to do the barrier calculation (i.e., to ensure that",
          "new_line_content": "      log_metadata(op_payload->send_initial_metadata.send_initial_metadata,",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": null,
          "new_api": "log_metadata",
          "old_text": null,
          "new_text": "log_metadata(op_payload->send_trailing_metadata.send_trailing_metadata,\n                   s->id, t->is_client, false)",
          "old_line_content": "  if (on_complete == nullptr) {",
          "new_line_content": "      log_metadata(op_payload->send_trailing_metadata.send_trailing_metadata,",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_CANCEL",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_CANCEL()",
          "old_line_content": "",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_CANCEL();",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_cancel_stream(t, s, op_payload->cancel_stream.cancel_error)",
          "old_line_content": "    /* Identify stream compression */",
          "new_line_content": "    grpc_chttp2_cancel_stream(t, s, op_payload->cancel_stream.cancel_error);",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "RecordStreamStartedFromLocal",
          "old_text": null,
          "new_text": "t->channelz_socket->RecordStreamStartedFromLocal()",
          "old_line_content": "                op_payload->send_initial_metadata.send_initial_metadata->idx",
          "new_line_content": "      t->channelz_socket->RecordStreamStartedFromLocal();",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_SEND_INITIAL_METADATA",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_SEND_INITIAL_METADATA()",
          "old_line_content": "            true, &s->stream_compression_method) == 0) {",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_SEND_INITIAL_METADATA();",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->send_initial_metadata_finished == nullptr)",
          "old_line_content": "      s->stream_compression_method = GRPC_STREAM_COMPRESSION_IDENTITY_COMPRESS;",
          "new_line_content": "    GPR_ASSERT(s->send_initial_metadata_finished == nullptr);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "grpc_stream_compression_method_parse",
          "old_text": null,
          "new_text": "grpc_stream_compression_method_parse(\n            GRPC_MDVALUE(\n                op_payload->send_initial_metadata.send_initial_metadata->idx\n                    .named.content_encoding->md),\n            true, &s->stream_compression_method)",
          "old_line_content": "    const size_t metadata_size =",
          "new_line_content": "        grpc_stream_compression_method_parse(",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "add_closure_barrier",
          "old_text": null,
          "new_text": "add_closure_barrier(on_complete)",
          "old_line_content": "    if (metadata_size > metadata_peer_limit) {",
          "new_line_content": "    s->send_initial_metadata_finished = add_closure_barrier(on_complete);",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_cancel_stream(\n          t, s,\n          grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED))",
          "old_line_content": "              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED));",
          "new_line_content": "      grpc_chttp2_cancel_stream(",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit))",
          "old_line_content": "        s->seen_error = true;",
          "new_line_content": "              grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\")",
          "old_line_content": "      }",
          "new_line_content": "                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "contains_non_ok_status",
          "old_text": null,
          "new_text": "contains_non_ok_status(s->send_initial_metadata)",
          "old_line_content": "                t, s,",
          "new_line_content": "      if (contains_non_ok_status(s->send_initial_metadata)) {",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->id == 0)",
          "old_line_content": "        } else {",
          "new_line_content": "            GPR_ASSERT(s->id == 0);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                        \"Transport closed\", &t->closed_with_error, 1)",
          "old_line_content": "                t, GRPC_CHTTP2_INITIATE_WRITE_SEND_INITIAL_METADATA);",
          "new_line_content": "                    GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "grpc_chttp2_mark_stream_writable",
          "old_text": null,
          "new_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "old_line_content": "            t, s, &s->send_initial_metadata_finished,",
          "new_line_content": "          grpc_chttp2_mark_stream_writable(t, s);",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "flags",
          "old_text": null,
          "new_text": "op->payload->send_message.send_message->flags()",
          "old_line_content": "                \"Attempt to send initial metadata after stream was closed\",",
          "new_line_content": "                (op->payload->send_message.send_message->flags() &",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(\n                t, GRPC_CHTTP2_INITIATE_WRITE_SEND_INITIAL_METADATA)",
          "old_line_content": "            \"send_initial_metadata_finished\");",
          "new_line_content": "            grpc_chttp2_initiate_write(",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(\n            t, s, &s->send_initial_metadata_finished,\n            GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                \"Attempt to send initial metadata after stream was closed\",\n                &s->write_closed_error, 1),\n            \"send_initial_metadata_finished\")",
          "old_line_content": "    }",
          "new_line_content": "        grpc_chttp2_complete_closure_step(",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                \"Attempt to send initial metadata after stream was closed\",\n                &s->write_closed_error, 1)",
          "old_line_content": "",
          "new_line_content": "            GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_SEND_MESSAGE",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_SEND_MESSAGE()",
          "old_line_content": "      // starting recv_trailing_metadata.",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_SEND_MESSAGE();",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "op->payload->send_message.send_message->length()",
          "old_line_content": "          t, s, &s->fetching_send_message_finished,",
          "new_line_content": "        op->payload->send_message.send_message->length());",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "add_closure_barrier",
          "old_text": null,
          "new_text": "add_closure_barrier(op->on_complete)",
          "old_line_content": "              ? GRPC_ERROR_NONE",
          "new_line_content": "    s->fetching_send_message_finished = add_closure_barrier(op->on_complete);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(\n          t, s, &s->fetching_send_message_finished,\n          t->is_client && s->received_trailing_metadata\n              ? GRPC_ERROR_NONE\n              : GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                    \"Attempt to send message after stream was closed\",\n                    &s->write_closed_error, 1),\n          \"fetching_send_message_finished\")",
          "old_line_content": "          &s->flow_controlled_buffer, GRPC_HEADER_SIZE_IN_BYTES);",
          "new_line_content": "      grpc_chttp2_complete_closure_step(",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "grpc_slice_buffer_tiny_add",
          "old_text": null,
          "new_text": "grpc_slice_buffer_tiny_add(\n          &s->flow_controlled_buffer, GRPC_HEADER_SIZE_IN_BYTES)",
          "old_line_content": "      s->fetched_send_message_length = 0;",
          "new_line_content": "      uint8_t* frame_hdr = grpc_slice_buffer_tiny_add(",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "flags",
          "old_text": null,
          "new_text": "op_payload->send_message.send_message->flags()",
          "old_line_content": "          s->flow_controlled_bytes_written +",
          "new_line_content": "      uint32_t flags = op_payload->send_message.send_message->flags();",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "static_cast<uint8_t>(len >> 24)",
          "old_text": null,
          "new_text": "static_cast<uint8_t>(len >> 24)",
          "old_line_content": "      if (flags & GRPC_WRITE_BUFFER_HINT) {",
          "new_line_content": "      frame_hdr[1] = static_cast<uint8_t>(len >> 24);",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "static_cast<uint8_t>(len >> 16)",
          "old_text": null,
          "new_text": "static_cast<uint8_t>(len >> 16)",
          "old_line_content": "        s->next_message_end_offset -= t->write_buffer_size;",
          "new_line_content": "      frame_hdr[2] = static_cast<uint8_t>(len >> 16);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "static_cast<uint8_t>(len >> 8)",
          "old_text": null,
          "new_text": "static_cast<uint8_t>(len >> 8)",
          "old_line_content": "        s->write_buffering = true;",
          "new_line_content": "      frame_hdr[3] = static_cast<uint8_t>(len >> 8);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "static_cast<uint8_t>(len)",
          "old_text": null,
          "new_text": "static_cast<uint8_t>(len)",
          "old_line_content": "      } else {",
          "new_line_content": "      frame_hdr[4] = static_cast<uint8_t>(len);",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "std::move(op_payload->send_message.send_message)",
          "old_text": null,
          "new_text": "std::move(op_payload->send_message.send_message)",
          "old_line_content": "      }",
          "new_line_content": "          std::move(op_payload->send_message.send_message);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "static_cast<int64_t>(s->flow_controlled_buffer.length)",
          "old_text": null,
          "new_text": "static_cast<int64_t>(s->flow_controlled_buffer.length)",
          "old_line_content": "  }",
          "new_line_content": "          static_cast<int64_t>(s->flow_controlled_buffer.length) +",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": null,
          "new_api": "static_cast<int64_t>(len)",
          "old_text": null,
          "new_text": "static_cast<int64_t>(len)",
          "old_line_content": "",
          "new_line_content": "          static_cast<int64_t>(len);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "continue_fetching_send_locked",
          "old_text": null,
          "new_text": "continue_fetching_send_locked(t, s)",
          "old_line_content": "        op_payload->send_trailing_metadata.send_trailing_metadata;",
          "new_line_content": "      continue_fetching_send_locked(t, s);",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": null,
          "new_api": "maybe_become_writable_due_to_send_msg",
          "old_text": null,
          "new_text": "maybe_become_writable_due_to_send_msg(t, s)",
          "old_line_content": "    s->write_buffering = false;",
          "new_line_content": "      maybe_become_writable_due_to_send_msg(t, s);",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_SEND_TRAILING_METADATA",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_SEND_TRAILING_METADATA()",
          "old_line_content": "                   [GRPC_CHTTP2_SETTINGS_MAX_HEADER_LIST_SIZE];",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_SEND_TRAILING_METADATA();",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->send_trailing_metadata_finished == nullptr)",
          "old_line_content": "    if (metadata_size > metadata_peer_limit) {",
          "new_line_content": "    GPR_ASSERT(s->send_trailing_metadata_finished == nullptr);",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": null,
          "new_api": "add_closure_barrier",
          "old_text": null,
          "new_text": "add_closure_barrier(on_complete)",
          "old_line_content": "          t, s,",
          "new_line_content": "    s->send_trailing_metadata_finished = add_closure_barrier(on_complete);",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": null,
          "new_api": "grpc_metadata_batch_size",
          "old_text": null,
          "new_text": "grpc_metadata_batch_size(s->send_trailing_metadata)",
          "old_line_content": "                                         \"exceeds peer limit\"),",
          "new_line_content": "        grpc_metadata_batch_size(s->send_trailing_metadata);",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "grpc_chttp2_cancel_stream",
          "old_text": null,
          "new_text": "grpc_chttp2_cancel_stream(\n          t, s,\n          grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED))",
          "old_line_content": "              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED));",
          "new_line_content": "      grpc_chttp2_cancel_stream(",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit))",
          "old_line_content": "        s->seen_error = true;",
          "new_line_content": "              grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\")",
          "old_line_content": "      }",
          "new_line_content": "                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "static_cast<intptr_t>(metadata_size)",
          "old_text": null,
          "new_text": "static_cast<intptr_t>(metadata_size)",
          "old_line_content": "            t, s, &s->send_trailing_metadata_finished,",
          "new_line_content": "                                     static_cast<intptr_t>(metadata_size)),",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "static_cast<intptr_t>(metadata_peer_limit)",
          "old_text": null,
          "new_text": "static_cast<intptr_t>(metadata_peer_limit)",
          "old_line_content": "                op->payload->send_trailing_metadata.send_trailing_metadata)",
          "new_line_content": "                  static_cast<intptr_t>(metadata_peer_limit)),",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "contains_non_ok_status",
          "old_text": null,
          "new_text": "contains_non_ok_status(s->send_trailing_metadata)",
          "old_line_content": "                      \"Attempt to send trailing metadata after \"",
          "new_line_content": "      if (contains_non_ok_status(s->send_trailing_metadata)) {",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(\n            t, s, &s->send_trailing_metadata_finished,\n            grpc_metadata_batch_is_empty(\n                op->payload->send_trailing_metadata.send_trailing_metadata)\n                ? GRPC_ERROR_NONE\n                : GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                      \"Attempt to send trailing metadata after \"\n                      \"stream was closed\"),\n            \"send_trailing_metadata_finished\")",
          "old_line_content": "           bytes before going writable */",
          "new_line_content": "        grpc_chttp2_complete_closure_step(",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                      \"Attempt to send trailing metadata after \"\n                      \"stream was closed\")",
          "old_line_content": "    }",
          "new_line_content": "                : GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "grpc_chttp2_mark_stream_writable",
          "old_text": null,
          "new_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "old_line_content": "        op_payload->recv_initial_metadata.recv_initial_metadata_ready;",
          "new_line_content": "        grpc_chttp2_mark_stream_writable(t, s);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(\n            t, GRPC_CHTTP2_INITIATE_WRITE_SEND_TRAILING_METADATA)",
          "old_line_content": "    s->recv_initial_metadata =",
          "new_line_content": "        grpc_chttp2_initiate_write(",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_RECV_INITIAL_METADATA",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_RECV_INITIAL_METADATA()",
          "old_line_content": "    }",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_RECV_INITIAL_METADATA();",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": null,
          "new_api": "gpr_atm_rel_store",
          "old_text": null,
          "new_text": "gpr_atm_rel_store(op_payload->recv_initial_metadata.peer_string,\n                        (gpr_atm)t->peer_string)",
          "old_line_content": "    s->recv_message_ready = op_payload->recv_message.recv_message_ready;",
          "new_line_content": "      gpr_atm_rel_store(op_payload->recv_initial_metadata.peer_string,",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_initial_metadata",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_initial_metadata(t, s)",
          "old_line_content": "      if (!s->read_closed) {",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_initial_metadata(t, s);",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_RECV_MESSAGE",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_RECV_MESSAGE()",
          "old_line_content": "    }",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_RECV_MESSAGE();",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->recv_message_ready == nullptr)",
          "old_line_content": "    if (s->id != 0) {",
          "new_line_content": "    GPR_ASSERT(s->recv_message_ready == nullptr);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(!s->pending_byte_stream)",
          "old_line_content": "      if (!s->read_closed && s->frame_storage.length == 0) {",
          "new_line_content": "    GPR_ASSERT(!s->pending_byte_stream);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_message",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "old_line_content": "",
          "new_line_content": "    grpc_chttp2_maybe_complete_recv_message(t, s);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "MakeAction",
          "old_text": null,
          "new_text": "s->flow_control->MakeAction()",
          "old_line_content": "        op_payload->recv_trailing_metadata.recv_trailing_metadata_ready;",
          "new_line_content": "        grpc_chttp2_act_on_flowctl_action(s->flow_control->MakeAction(), t, s);",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "GRPC_STATS_INC_HTTP2_OP_RECV_TRAILING_METADATA",
          "old_text": null,
          "new_text": "GRPC_STATS_INC_HTTP2_OP_RECV_TRAILING_METADATA()",
          "old_line_content": "",
          "new_line_content": "    GRPC_STATS_INC_HTTP2_OP_RECV_TRAILING_METADATA();",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->recv_trailing_metadata_finished == nullptr)",
          "old_line_content": "",
          "new_line_content": "    GPR_ASSERT(s->recv_trailing_metadata_finished == nullptr);",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": null,
          "new_api": "grpc_chttp2_complete_closure_step",
          "old_text": null,
          "new_text": "grpc_chttp2_complete_closure_step(t, s, &on_complete, GRPC_ERROR_NONE,\n                                    \"op->on_complete\")",
          "old_line_content": "",
          "new_line_content": "  grpc_chttp2_complete_closure_step(t, s, &on_complete, GRPC_ERROR_NONE,",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_STREAM_UNREF",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_STREAM_UNREF(s, \"perform_stream_op\")",
          "old_line_content": "      grpc_millis deadline =",
          "new_line_content": "  GRPC_CHTTP2_STREAM_UNREF(s, \"perform_stream_op\");",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "GPR_TIMER_SCOPE",
          "old_text": null,
          "new_text": "GPR_TIMER_SCOPE(\"perform_stream_op\", 0)",
          "old_line_content": "      grpc_millis deadline =",
          "new_line_content": "  GPR_TIMER_SCOPE(\"perform_stream_op\", 0);",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_line_content": "          op->payload->send_trailing_metadata.send_trailing_metadata->deadline;",
          "new_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE)",
          "old_line_content": "  op->handler_private.extra_arg = gs;",
          "new_line_content": "      GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE);",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "      GRPC_ERROR_NONE);",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "grpc_transport_stream_op_batch_string",
          "old_text": null,
          "new_text": "grpc_transport_stream_op_batch_string(op)",
          "old_line_content": "}",
          "new_line_content": "    char* str = grpc_transport_stream_op_batch_string(op);",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"perform_stream_op[s=%p]: %s\", s, str)",
          "old_line_content": "",
          "new_line_content": "    gpr_log(GPR_INFO, \"perform_stream_op[s=%p]: %s\", s, str);",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "gpr_free",
          "old_text": null,
          "new_text": "gpr_free(str)",
          "old_line_content": "static void cancel_pings(grpc_chttp2_transport* t, grpc_error* error) {",
          "new_line_content": "    gpr_free(str);",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_STREAM_REF",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_STREAM_REF(s, \"perform_stream_op\")",
          "old_line_content": "  grpc_chttp2_ping_queue* pq = &t->ping_queue;",
          "new_line_content": "  GRPC_CHTTP2_STREAM_REF(s, \"perform_stream_op\");",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_SCHED(\n      GRPC_CLOSURE_INIT(&op->handler_private.closure, perform_stream_op_locked,\n                        op, grpc_combiner_scheduler(t->combiner)),\n      GRPC_ERROR_NONE)",
          "old_line_content": "  for (size_t j = 0; j < GRPC_CHTTP2_PCL_COUNT; j++) {",
          "new_line_content": "  GRPC_CLOSURE_SCHED(",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(error)",
          "old_line_content": "    return;",
          "new_line_content": "    grpc_closure_list_fail_all(&pq->lists[j], GRPC_ERROR_REF(error));",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_LIST_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_LIST_SCHED(&pq->lists[j])",
          "old_line_content": "  }",
          "new_line_content": "    GRPC_CLOSURE_LIST_SCHED(&pq->lists[j]);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "old_line_content": "/*",
          "new_line_content": "    GRPC_CLOSURE_SCHED(on_initiate, GRPC_ERROR_REF(t->closed_with_error));",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "old_line_content": " * Specialized form of send_ping_locked for keepalive ping. If there is already",
          "new_line_content": "    GRPC_CLOSURE_SCHED(on_ack, GRPC_ERROR_REF(t->closed_with_error));",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": null,
          "new_api": "grpc_closure_list_append",
          "old_text": null,
          "new_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE], on_initiate,\n                           GRPC_ERROR_NONE)",
          "old_line_content": "static void send_keepalive_ping_locked(grpc_chttp2_transport* t) {",
          "new_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE], on_initiate,",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked,\n                     GRPC_ERROR_REF(t->closed_with_error))",
          "old_line_content": "                             &t->finish_keepalive_ping_locked, GRPC_ERROR_NONE);",
          "new_line_content": "    GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked,",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "GRPC_ERROR_REF",
          "old_text": null,
          "new_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "old_line_content": "    return;",
          "new_line_content": "                     GRPC_ERROR_REF(t->closed_with_error));",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(&t->finish_keepalive_ping_locked,\n                     GRPC_ERROR_REF(t->closed_with_error))",
          "old_line_content": "  }",
          "new_line_content": "    GRPC_CLOSURE_RUN(&t->finish_keepalive_ping_locked,",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "grpc_closure_list_empty",
          "old_text": null,
          "new_text": "grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_INFLIGHT])",
          "old_line_content": "}",
          "new_line_content": "  if (!grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_INFLIGHT])) {",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "old_line_content": "static void retry_initiate_ping_locked(void* tp, grpc_error* error) {",
          "new_line_content": "    GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "grpc_closure_list_append",
          "old_text": null,
          "new_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE],\n                           &t->start_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "old_line_content": "  }",
          "new_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INITIATE],",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "grpc_closure_list_append",
          "old_text": null,
          "new_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT],\n                           &t->finish_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "old_line_content": "}",
          "new_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT],",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RETRY_SEND_PING)",
          "old_line_content": "    return;",
          "new_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RETRY_SEND_PING);",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "grpc_endpoint_get_peer",
          "old_text": null,
          "new_text": "grpc_endpoint_get_peer(t->ep)",
          "old_line_content": "static void send_goaway(grpc_chttp2_transport* t, grpc_error* error) {",
          "new_line_content": "    char* from = grpc_endpoint_get_peer(t->ep);",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_DEBUG, \"Unknown ping response from %s: %\" PRIx64, from, id)",
          "old_line_content": "  /* We want to log this irrespective of whether http tracing is enabled */",
          "new_line_content": "    gpr_log(GPR_DEBUG, \"Unknown ping response from %s: %\" PRIx64, from, id);",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_LIST_SCHED",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_LIST_SCHED(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT])",
          "old_line_content": "  grpc_http2_error_code http_error;",
          "new_line_content": "  GRPC_CLOSURE_LIST_SCHED(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT]);",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "grpc_closure_list_empty",
          "old_text": null,
          "new_text": "grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_NEXT])",
          "old_line_content": "  grpc_slice slice;",
          "new_line_content": "  if (!grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_NEXT])) {",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "grpc_error_string",
          "old_text": null,
          "new_text": "grpc_error_string(error)",
          "old_line_content": "}",
          "new_line_content": "          grpc_error_string(error));",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "grpc_error_get_status",
          "old_text": null,
          "new_text": "grpc_error_get_status(error, GRPC_MILLIS_INF_FUTURE, nullptr, &slice,\n                        &http_error, nullptr)",
          "old_line_content": "      t->ping_policy.max_ping_strikes != 0) {",
          "new_line_content": "  grpc_error_get_status(error, GRPC_MILLIS_INF_FUTURE, nullptr, &slice,",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "grpc_slice_ref_internal",
          "old_text": null,
          "new_text": "grpc_slice_ref_internal(slice)",
          "old_line_content": "                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM));",
          "new_line_content": "                            grpc_slice_ref_internal(slice), &t->qbuf);",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_GOAWAY_SENT)",
          "old_line_content": "    /*The transport will be closed after the write is done */",
          "new_line_content": "  grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_GOAWAY_SENT);",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": null,
          "new_api": "send_goaway",
          "old_text": null,
          "new_text": "send_goaway(t,\n                grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM))",
          "old_line_content": "",
          "new_line_content": "    send_goaway(t,",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM)",
          "old_line_content": "static void perform_transport_op_locked(void* stream_op,",
          "new_line_content": "                grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\")",
          "old_line_content": "                                        grpc_error* error_ignored) {",
          "new_line_content": "                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\"),",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": null,
          "new_api": "grpc_error_set_int",
          "old_text": null,
          "new_text": "grpc_error_set_int(\n               GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\"),\n               GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "old_line_content": "",
          "new_line_content": "        t, grpc_error_set_int(",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": null,
          "new_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "old_text": null,
          "new_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\")",
          "old_line_content": "  if (op->goaway_error) {",
          "new_line_content": "               GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\"),",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "static_cast<grpc_transport_op*>(stream_op)",
          "old_text": null,
          "new_text": "static_cast<grpc_transport_op*>(stream_op)",
          "old_line_content": "        op->set_accept_stream_user_data;",
          "new_line_content": "  grpc_transport_op* op = static_cast<grpc_transport_op*>(stream_op);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "static_cast<grpc_chttp2_transport*>(op->handler_private.extra_arg)",
          "old_text": null,
          "new_text": "static_cast<grpc_chttp2_transport*>(op->handler_private.extra_arg)",
          "old_line_content": "",
          "new_line_content": "      static_cast<grpc_chttp2_transport*>(op->handler_private.extra_arg);",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "send_goaway",
          "old_text": null,
          "new_text": "send_goaway(t, op->goaway_error)",
          "old_line_content": "  }",
          "new_line_content": "    send_goaway(t, op->goaway_error);",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "grpc_endpoint_add_to_pollset",
          "old_text": null,
          "new_text": "grpc_endpoint_add_to_pollset(t->ep, op->bind_pollset)",
          "old_line_content": "",
          "new_line_content": "    grpc_endpoint_add_to_pollset(t->ep, op->bind_pollset);",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "grpc_endpoint_add_to_pollset_set",
          "old_text": null,
          "new_text": "grpc_endpoint_add_to_pollset_set(t->ep, op->bind_pollset_set)",
          "old_line_content": "        op->on_connectivity_state_change);",
          "new_line_content": "    grpc_endpoint_add_to_pollset_set(t->ep, op->bind_pollset_set);",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": null,
          "new_api": "grpc_chttp2_initiate_write",
          "old_text": null,
          "new_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_APPLICATION_PING)",
          "old_line_content": "  }",
          "new_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_APPLICATION_PING);",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_RUN",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_RUN(op->on_consumed, GRPC_ERROR_NONE)",
          "old_line_content": "  }",
          "new_line_content": "  GRPC_CLOSURE_RUN(op->on_consumed, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": null,
          "new_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_text": null,
          "new_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "old_line_content": "                     GRPC_ERROR_NONE);",
          "new_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "enabled",
          "old_text": null,
          "new_text": "grpc_http_trace.enabled()",
          "old_line_content": "}",
          "new_line_content": "  if (grpc_http_trace.enabled()) {",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "grpc_transport_op_string",
          "old_text": null,
          "new_text": "grpc_transport_op_string(op)",
          "old_line_content": "",
          "new_line_content": "    char* msg = grpc_transport_op_string(op);",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "gpr_log",
          "old_text": null,
          "new_text": "gpr_log(GPR_INFO, \"perform_transport_op[t=%p]: %s\", t, msg)",
          "old_line_content": "/*******************************************************************************",
          "new_line_content": "    gpr_log(GPR_INFO, \"perform_transport_op[t=%p]: %s\", t, msg);",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "gpr_free",
          "old_text": null,
          "new_text": "gpr_free(msg)",
          "old_line_content": " * INPUT PROCESSING - GENERAL",
          "new_line_content": "    gpr_free(msg);",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": null,
          "new_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "old_text": null,
          "new_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"transport_op\")",
          "old_line_content": "void grpc_chttp2_maybe_complete_recv_initial_metadata(grpc_chttp2_transport* t,",
          "new_line_content": "  GRPC_CHTTP2_REF_TRANSPORT(t, \"transport_op\");",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": null,
          "new_api": "GRPC_CLOSURE_INIT",
          "old_text": null,
          "new_text": "GRPC_CLOSURE_INIT(&op->handler_private.closure,\n                                       perform_transport_op_locked, op,\n                                       grpc_combiner_scheduler(t->combiner))",
          "old_line_content": "                                                      grpc_chttp2_stream* s) {",
          "new_line_content": "  GRPC_CLOSURE_SCHED(GRPC_CLOSURE_INIT(&op->handler_private.closure,",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": null,
          "new_api": "grpc_combiner_scheduler",
          "old_text": null,
          "new_text": "grpc_combiner_scheduler(t->combiner)",
          "old_line_content": "      s->published_metadata[0] != GRPC_METADATA_NOT_PUBLISHED) {",
          "new_line_content": "                                       grpc_combiner_scheduler(t->combiner)),",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "old_line_content": "",
          "new_line_content": "      grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "                                             grpc_chttp2_stream* s) {",
          "new_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "grpc_chttp2_incoming_metadata_buffer_publish",
          "old_text": null,
          "new_text": "grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[0],\n                                                 s->recv_initial_metadata)",
          "old_line_content": "    if (s->final_metadata_requested && s->seen_error) {",
          "new_line_content": "    grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[0],",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": null,
          "new_api": "null_then_run_closure",
          "old_text": null,
          "new_text": "null_then_run_closure(&s->recv_initial_metadata_ready, GRPC_ERROR_NONE)",
          "old_line_content": "      if (!s->pending_byte_stream) {",
          "new_line_content": "    null_then_run_closure(&s->recv_initial_metadata_ready, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "old_line_content": "                                 &s->frame_storage);",
          "new_line_content": "      grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "        }",
          "new_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": null,
          "new_api": "GPR_ASSERT",
          "old_text": null,
          "new_text": "GPR_ASSERT(s->decompressed_data_buffer.length == 0)",
          "old_line_content": "                  GRPC_HEADER_SIZE_IN_BYTES - s->decompressed_header_bytes,",
          "new_line_content": "          GPR_ASSERT(s->decompressed_data_buffer.length == 0);",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": null,
          "new_api": "grpc_stream_compression_context_create",
          "old_text": null,
          "new_text": "grpc_stream_compression_context_create(\n                    s->stream_decompression_method)",
          "old_line_content": "                &s->unprocessed_incoming_frames_buffer);",
          "new_line_content": "                grpc_stream_compression_context_create(",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "grpc_stream_decompress",
          "old_text": null,
          "new_text": "grpc_stream_decompress(\n                  s->stream_decompression_ctx,\n                  &s->unprocessed_incoming_frames_buffer,\n                  &s->decompressed_data_buffer, nullptr,\n                  GRPC_HEADER_SIZE_IN_BYTES - s->decompressed_header_bytes,\n                  &end_of_context)",
          "old_line_content": "          } else {",
          "new_line_content": "          if (!grpc_stream_decompress(",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "old_line_content": "                &s->data_parser, s, &s->decompressed_data_buffer, nullptr,",
          "new_line_content": "            grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(\n                &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "                s->recv_message);",
          "new_line_content": "            grpc_slice_buffer_reset_and_unref_internal(",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "grpc_deframe_unprocessed_incoming_frames",
          "old_text": null,
          "new_text": "grpc_deframe_unprocessed_incoming_frames(\n                &s->data_parser, s, &s->decompressed_data_buffer, nullptr,\n                s->recv_message)",
          "old_line_content": "              &s->data_parser, s, &s->unprocessed_incoming_frames_buffer,",
          "new_line_content": "            error = grpc_deframe_unprocessed_incoming_frames(",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "grpc_stream_compression_context_destroy",
          "old_text": null,
          "new_text": "grpc_stream_compression_context_destroy(\n                  s->stream_decompression_ctx)",
          "old_line_content": "          s->seen_error = true;",
          "new_line_content": "              grpc_stream_compression_context_destroy(",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "grpc_deframe_unprocessed_incoming_frames",
          "old_text": null,
          "new_text": "grpc_deframe_unprocessed_incoming_frames(\n              &s->data_parser, s, &s->unprocessed_incoming_frames_buffer,\n              nullptr, s->recv_message)",
          "old_line_content": "          break;",
          "new_line_content": "          error = grpc_deframe_unprocessed_incoming_frames(",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "old_line_content": "    s->unprocessed_incoming_frames_buffer_cached_length =",
          "new_line_content": "          grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(\n              &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "        s->unprocessed_incoming_frames_buffer.length;",
          "new_line_content": "          grpc_slice_buffer_reset_and_unref_internal(",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": null,
          "new_api": "null_then_run_closure",
          "old_text": null,
          "new_text": "null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE)",
          "old_line_content": "    if (s->seen_error || !t->is_client) {",
          "new_line_content": "      null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": null,
          "new_api": "GRPC_ERROR_UNREF",
          "old_text": null,
          "new_text": "GRPC_ERROR_UNREF(error)",
          "old_line_content": "      if (!s->pending_byte_stream) {",
          "new_line_content": "    GRPC_ERROR_UNREF(error);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "grpc_chttp2_maybe_complete_recv_message",
          "old_text": null,
          "new_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "old_line_content": "                        s->unprocessed_incoming_frames_buffer.length > 0;",
          "new_line_content": "  grpc_chttp2_maybe_complete_recv_message(t, s);",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "old_line_content": "       * maybe decompress the next 5 bytes in the stream. */",
          "new_line_content": "      grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "      if (!s->stream_decompression_ctx) {",
          "new_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "grpc_stream_compression_context_create",
          "old_text": null,
          "new_text": "grpc_stream_compression_context_create(\n            s->stream_decompression_method)",
          "old_line_content": "      } else {",
          "new_line_content": "        s->stream_decompression_ctx = grpc_stream_compression_context_create(",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": null,
          "new_api": "grpc_stream_decompress",
          "old_text": null,
          "new_text": "grpc_stream_decompress(\n              s->stream_decompression_ctx, &s->frame_storage,\n              &s->unprocessed_incoming_frames_buffer, nullptr,\n              GRPC_HEADER_SIZE_IN_BYTES, &end_of_context)",
          "old_line_content": "          pending_data = true;",
          "new_line_content": "      if (!grpc_stream_decompress(",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "old_line_content": "          s->stream_decompression_ctx = nullptr;",
          "new_line_content": "        grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": null,
          "new_api": "grpc_slice_buffer_reset_and_unref_internal",
          "old_text": null,
          "new_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "old_line_content": "        }",
          "new_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "grpc_transport_move_stats",
          "old_text": null,
          "new_text": "grpc_transport_move_stats(&s->stats, s->collecting_stats)",
          "old_line_content": "                          grpc_error* error) {",
          "new_line_content": "      grpc_transport_move_stats(&s->stats, s->collecting_stats);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": null,
          "new_api": "null_then_run_closure",
          "old_text": null,
          "new_text": "null_then_run_closure(&s->recv_trailing_metadata_finished,\n                            GRPC_ERROR_NONE)",
          "old_line_content": "  if (t->incoming_stream == s) {",
          "new_line_content": "      null_then_run_closure(&s->recv_trailing_metadata_finished,",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": null,
          "new_api": "grpc_chttp2_stream_map_delete",
          "old_text": null,
          "new_text": "grpc_chttp2_stream_map_delete(&t->stream_map, id)",
          "old_line_content": "      }",
          "new_line_content": "      grpc_chttp2_stream_map_delete(&t->stream_map, id));",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": null,
          "new_api": "grpc_chttp2_parsing_become_skip_parser",
          "old_text": null,
          "new_text": "grpc_chttp2_parsing_become_skip_parser(t)",
          "old_line_content": "    } else {",
          "new_line_content": "    grpc_chttp2_parsing_become_skip_parser(t);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2052,
          "old_api": "post_benign_reclaimer",
          "new_api": null,
          "old_text": "post_benign_reclaimer(t)",
          "new_text": null,
          "old_line_content": "    post_benign_reclaimer(t);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                 \"Last stream closed after sending GOAWAY\", &error, 1)",
          "new_text": null,
          "old_line_content": "          t, GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "      s->data_parser.parsing_frame = nullptr;",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "grpc_chttp2_list_remove_writable_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_list_remove_writable_stream(t, s)",
          "new_text": null,
          "old_line_content": "  if (grpc_chttp2_list_remove_writable_stream(t, s)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": "GRPC_CHTTP2_STREAM_UNREF",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2_writing:remove_stream\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2_writing:remove_stream\");",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "close_from_api",
          "new_api": null,
          "old_text": "close_from_api(t, s, due_to_error)",
          "new_text": null,
          "old_line_content": "    close_from_api(t, s, due_to_error);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "grpc_error_get_status",
          "new_api": null,
          "old_text": "grpc_error_get_status(due_to_error, s->deadline, nullptr, nullptr,\n                            &http_error, nullptr)",
          "new_text": null,
          "old_line_content": "      grpc_error_get_status(due_to_error, s->deadline, nullptr, nullptr,",
          "new_line_content": "void grpc_chttp2_cancel_stream(grpc_chttp2_transport* t, grpc_chttp2_stream* s,",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": "grpc_slice_buffer_add",
          "new_api": null,
          "old_text": "grpc_slice_buffer_add(\n          &t->qbuf,\n          grpc_chttp2_rst_stream_create(\n              s->id, static_cast<uint32_t>(http_error), &s->stats.outgoing))",
          "new_text": null,
          "old_line_content": "      grpc_slice_buffer_add(",
          "new_line_content": "  if (!t->is_client && !s->sent_trailing_metadata &&",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "static_cast<uint32_t>(http_error)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(http_error)",
          "new_text": null,
          "old_line_content": "              s->id, static_cast<uint32_t>(http_error), &s->stats.outgoing));",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RST_STREAM)",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RST_STREAM);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "grpc_chttp2_mark_stream_closed",
          "new_api": null,
          "old_text": "grpc_chttp2_mark_stream_closed(t, s, 1, 1, due_to_error)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_mark_stream_closed(t, s, 1, 1, due_to_error);",
          "new_line_content": "                            &http_error, nullptr);",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "grpc_error_get_status",
          "new_api": null,
          "old_text": "grpc_error_get_status(error, s->deadline, &status, &slice, nullptr, nullptr)",
          "new_text": null,
          "old_line_content": "  grpc_error_get_status(error, s->deadline, &status, &slice, nullptr, nullptr);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": "gpr_ltoa",
          "new_api": null,
          "old_text": "gpr_ltoa(status, status_string)",
          "new_text": null,
          "old_line_content": "    gpr_ltoa(status, status_string);",
          "new_line_content": "    s->seen_error = true;",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": "GRPC_LOG_IF_ERROR",
          "new_api": null,
          "old_text": "GRPC_LOG_IF_ERROR(\"add_status\",\n                      grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n                          &s->metadata_buffer[1],\n                          grpc_mdelem_from_slices(\n                              GRPC_MDSTR_GRPC_STATUS,\n                              grpc_slice_from_copied_string(status_string))))",
          "new_text": null,
          "old_line_content": "    GRPC_LOG_IF_ERROR(\"add_status\",",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": "grpc_chttp2_incoming_metadata_buffer_replace_or_add",
          "new_api": null,
          "old_text": "grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n                          &s->metadata_buffer[1],\n                          grpc_mdelem_from_slices(\n                              GRPC_MDSTR_GRPC_STATUS,\n                              grpc_slice_from_copied_string(status_string)))",
          "new_text": null,
          "old_line_content": "                      grpc_chttp2_incoming_metadata_buffer_replace_or_add(",
          "new_line_content": "  /* stream_global->recv_trailing_metadata_finished gives us a",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "grpc_mdelem_from_slices",
          "new_api": null,
          "old_text": "grpc_mdelem_from_slices(\n                              GRPC_MDSTR_GRPC_STATUS,\n                              grpc_slice_from_copied_string(status_string))",
          "new_text": null,
          "old_line_content": "                          grpc_mdelem_from_slices(",
          "new_line_content": "     but something more important has become available to signal",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": "grpc_slice_from_copied_string",
          "new_api": null,
          "old_text": "grpc_slice_from_copied_string(status_string)",
          "new_text": null,
          "old_line_content": "                              grpc_slice_from_copied_string(status_string))));",
          "new_line_content": "     what we want - which is safe because we haven't told anyone",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": "GRPC_SLICE_IS_EMPTY",
          "new_api": null,
          "old_text": "GRPC_SLICE_IS_EMPTY(slice)",
          "new_text": null,
          "old_line_content": "    if (!GRPC_SLICE_IS_EMPTY(slice)) {",
          "new_line_content": "     about the metadata yet */",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "GRPC_LOG_IF_ERROR",
          "new_api": null,
          "old_text": "GRPC_LOG_IF_ERROR(\n          \"add_status_message\",\n          grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n              &s->metadata_buffer[1],\n              grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr)))",
          "new_text": null,
          "old_line_content": "      GRPC_LOG_IF_ERROR(",
          "new_line_content": "  if (s->published_metadata[1] == GRPC_METADATA_NOT_PUBLISHED ||",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "grpc_chttp2_incoming_metadata_buffer_replace_or_add",
          "new_api": null,
          "old_text": "grpc_chttp2_incoming_metadata_buffer_replace_or_add(\n              &s->metadata_buffer[1],\n              grpc_mdelem_create(GRPC_MDSTR_GRPC_MESSAGE, slice, nullptr))",
          "new_text": null,
          "old_line_content": "          grpc_chttp2_incoming_metadata_buffer_replace_or_add(",
          "new_line_content": "    char status_string[GPR_LTOA_MIN_BUFSIZE];",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "add_error",
          "new_api": null,
          "old_text": "add_error(s->read_closed_error, refs, &nrefs)",
          "new_text": null,
          "old_line_content": "  add_error(s->read_closed_error, refs, &nrefs);",
          "new_line_content": "      return;",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "add_error",
          "new_api": null,
          "old_text": "add_error(s->write_closed_error, refs, &nrefs)",
          "new_text": null,
          "old_line_content": "  add_error(s->write_closed_error, refs, &nrefs);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "add_error",
          "new_api": null,
          "old_text": "add_error(extra_error, refs, &nrefs)",
          "new_text": null,
          "old_line_content": "  add_error(extra_error, refs, &nrefs);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(master_error_msg,\n                                                             refs, nrefs)",
          "new_text": null,
          "old_line_content": "    error = GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(master_error_msg,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(extra_error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(extra_error);",
          "new_line_content": "                                 const char* master_error_msg) {",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_complete_closure_step(t, s, &cb->closure, GRPC_ERROR_REF(error),",
          "new_line_content": "                                                             refs, nrefs);",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": null,
          "old_text": "grpc_chttp2_complete_closure_step(t, s, &s->send_initial_metadata_finished,\n                                    GRPC_ERROR_REF(error),\n                                    \"send_initial_metadata_finished\")",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_complete_closure_step(t, s, &s->send_initial_metadata_finished,",
          "new_line_content": "    cb->next = t->write_cb_pool;",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "                                    GRPC_ERROR_REF(error),",
          "new_line_content": "    t->write_cb_pool = cb;",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": null,
          "old_text": "grpc_chttp2_complete_closure_step(t, s, &s->send_trailing_metadata_finished,\n                                    GRPC_ERROR_REF(error),\n                                    \"send_trailing_metadata_finished\")",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_complete_closure_step(t, s, &s->send_trailing_metadata_finished,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "                                    GRPC_ERROR_REF(error),",
          "new_line_content": "void grpc_chttp2_fail_pending_writes(grpc_chttp2_transport* t,",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": null,
          "old_text": "grpc_chttp2_complete_closure_step(t, s, &s->fetching_send_message_finished,\n                                    GRPC_ERROR_REF(error),\n                                    \"fetching_send_message_finished\")",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_complete_closure_step(t, s, &s->fetching_send_message_finished,",
          "new_line_content": "  s->send_initial_metadata = nullptr;",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "  flush_write_list(t, s, &s->on_write_finished_cbs, GRPC_ERROR_REF(error));",
          "new_line_content": "                                    \"send_initial_metadata_finished\");",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": "flush_write_list",
          "new_api": null,
          "old_text": "flush_write_list(t, s, &s->on_flow_controlled_cbs, error)",
          "new_text": null,
          "old_line_content": "  flush_write_list(t, s, &s->on_flow_controlled_cbs, error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "    GRPC_ERROR_UNREF(error);",
          "new_line_content": "                                    \"fetching_send_message_finished\");",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    s->read_closed_error = GRPC_ERROR_REF(error);",
          "new_line_content": "                                    grpc_chttp2_stream* s, int close_reads,",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_fail_pending_writes(t, s, GRPC_ERROR_REF(error));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "        removal_error(GRPC_ERROR_REF(error), s, \"Stream removed\");",
          "new_line_content": "    s->read_closed = true;",
          "content_same": false
        },
        {
          "line": 2220,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(overall_error)",
          "new_text": null,
          "old_line_content": "      remove_stream(t, s->id, GRPC_ERROR_REF(overall_error));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": "grpc_chttp2_list_remove_waiting_for_concurrency",
          "new_api": null,
          "old_text": "grpc_chttp2_list_remove_waiting_for_concurrency(t, s)",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_list_remove_waiting_for_concurrency(t, s);",
          "new_line_content": "    s->write_closed = true;",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "grpc_chttp2_fake_status",
          "new_api": null,
          "old_text": "grpc_chttp2_fake_status(t, s, overall_error)",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_fake_status(t, s, overall_error);",
          "new_line_content": "  if (s->read_closed && s->write_closed) {",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "grpc_chttp2_maybe_complete_recv_initial_metadata",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_initial_metadata(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_initial_metadata(t, s);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": "grpc_chttp2_maybe_complete_recv_message",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_message(t, s);",
          "new_line_content": "    if (overall_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "GRPC_CHTTP2_STREAM_UNREF",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_STREAM_UNREF(s, \"chttp2\");",
          "new_line_content": "  if (closed_read) {",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "      if (s->published_metadata[i] == GRPC_METADATA_NOT_PUBLISHED) {",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": "grpc_error_get_status",
          "new_api": null,
          "old_text": "grpc_error_get_status(error, s->deadline, &grpc_status, &slice, nullptr,\n                        nullptr)",
          "new_text": null,
          "old_line_content": "  grpc_error_get_status(error, s->deadline, &grpc_status, &slice, nullptr,",
          "new_line_content": "static void close_from_api(grpc_chttp2_transport* t, grpc_chttp2_stream* s,",
          "content_same": false
        },
        {
          "line": 2259,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(grpc_status >= 0 && (int)grpc_status < 100)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(grpc_status >= 0 && (int)grpc_status < 100);",
          "new_line_content": "  grpc_slice status_hdr;",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": "GRPC_SLICE_MALLOC",
          "new_api": null,
          "old_text": "GRPC_SLICE_MALLOC(13)",
          "new_text": null,
          "old_line_content": "    http_status_hdr = GRPC_SLICE_MALLOC(13);",
          "new_line_content": "                        nullptr);",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "GRPC_SLICE_START_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_START_PTR(http_status_hdr)",
          "new_text": null,
          "old_line_content": "    p = GRPC_SLICE_START_PTR(http_status_hdr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "GRPC_SLICE_END_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_END_PTR(http_status_hdr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(p == GRPC_SLICE_END_PTR(http_status_hdr));",
          "new_line_content": "    *p++ = ':';",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(http_status_hdr)",
          "new_api": null,
          "old_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(http_status_hdr)",
          "new_text": null,
          "old_line_content": "    len += static_cast<uint32_t> GRPC_SLICE_LENGTH(http_status_hdr);",
          "new_line_content": "    *p++ = 's';",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "GRPC_SLICE_MALLOC",
          "new_api": null,
          "old_text": "GRPC_SLICE_MALLOC(31)",
          "new_text": null,
          "old_line_content": "    content_type_hdr = GRPC_SLICE_MALLOC(31);",
          "new_line_content": "    *p++ = 'a';",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "GRPC_SLICE_START_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_START_PTR(content_type_hdr)",
          "new_text": null,
          "old_line_content": "    p = GRPC_SLICE_START_PTR(content_type_hdr);",
          "new_line_content": "    *p++ = 't';",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "GRPC_SLICE_END_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_END_PTR(content_type_hdr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(p == GRPC_SLICE_END_PTR(content_type_hdr));",
          "new_line_content": "    *p++ = 'c';",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(content_type_hdr)",
          "new_api": null,
          "old_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(content_type_hdr)",
          "new_text": null,
          "old_line_content": "    len += static_cast<uint32_t> GRPC_SLICE_LENGTH(content_type_hdr);",
          "new_line_content": "    *p++ = 'a';",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": "GRPC_SLICE_MALLOC",
          "new_api": null,
          "old_text": "GRPC_SLICE_MALLOC(15 + (grpc_status >= 10))",
          "new_text": null,
          "old_line_content": "  status_hdr = GRPC_SLICE_MALLOC(15 + (grpc_status >= 10));",
          "new_line_content": "    *p++ = 'o';",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "GRPC_SLICE_START_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_START_PTR(status_hdr)",
          "new_text": null,
          "old_line_content": "  p = GRPC_SLICE_START_PTR(status_hdr);",
          "new_line_content": "    *p++ = 'n';",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": "static_cast<uint8_t>('0' + grpc_status)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>('0' + grpc_status)",
          "new_text": null,
          "old_line_content": "    *p++ = static_cast<uint8_t>('0' + grpc_status);",
          "new_line_content": "  *p++ = 'p';",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "static_cast<uint8_t>('0' + (grpc_status / 10))",
          "new_api": null,
          "old_text": "static_cast<uint8_t>('0' + (grpc_status / 10))",
          "new_text": null,
          "old_line_content": "    *p++ = static_cast<uint8_t>('0' + (grpc_status / 10));",
          "new_line_content": "  *p++ = 's';",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "static_cast<uint8_t>('0' + (grpc_status % 10))",
          "new_api": null,
          "old_text": "static_cast<uint8_t>('0' + (grpc_status % 10))",
          "new_text": null,
          "old_line_content": "    *p++ = static_cast<uint8_t>('0' + (grpc_status % 10));",
          "new_line_content": "  *p++ = 't';",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "GRPC_SLICE_END_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_END_PTR(status_hdr)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(p == GRPC_SLICE_END_PTR(status_hdr));",
          "new_line_content": "  *p++ = 't';",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(status_hdr)",
          "new_api": null,
          "old_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(status_hdr)",
          "new_text": null,
          "old_line_content": "  len += static_cast<uint32_t> GRPC_SLICE_LENGTH(status_hdr);",
          "new_line_content": "  *p++ = 'u';",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "GRPC_SLICE_LENGTH",
          "new_api": null,
          "old_text": "GRPC_SLICE_LENGTH(slice)",
          "new_text": null,
          "old_line_content": "  size_t msg_len = GRPC_SLICE_LENGTH(slice);",
          "new_line_content": "  if (grpc_status < 10) {",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(msg_len <= UINT32_MAX)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(msg_len <= UINT32_MAX);",
          "new_line_content": "    *p++ = 1;",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "GRPC_SLICE_MALLOC",
          "new_api": null,
          "old_text": "GRPC_SLICE_MALLOC(14 + msg_len_len)",
          "new_text": null,
          "old_line_content": "  message_pfx = GRPC_SLICE_MALLOC(14 + msg_len_len);",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": "GRPC_SLICE_START_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_START_PTR(message_pfx)",
          "new_text": null,
          "old_line_content": "  p = GRPC_SLICE_START_PTR(message_pfx);",
          "new_line_content": "    *p++ = 2;",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": "GRPC_CHTTP2_WRITE_VARINT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_WRITE_VARINT((uint32_t)msg_len, 1, 0, p, (uint32_t)msg_len_len)",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_WRITE_VARINT((uint32_t)msg_len, 1, 0, p, (uint32_t)msg_len_len);",
          "new_line_content": "  *p++ = 'r';",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": "GRPC_SLICE_END_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_END_PTR(message_pfx)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(p == GRPC_SLICE_END_PTR(message_pfx));",
          "new_line_content": "  *p++ = 'c';",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(message_pfx)",
          "new_api": null,
          "old_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(message_pfx)",
          "new_text": null,
          "old_line_content": "  len += static_cast<uint32_t> GRPC_SLICE_LENGTH(message_pfx);",
          "new_line_content": "  *p++ = '-';",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": "static_cast<uint32_t>(msg_len)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(msg_len)",
          "new_text": null,
          "old_line_content": "  len += static_cast<uint32_t>(msg_len);",
          "new_line_content": "  *p++ = 'm';",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": "GRPC_SLICE_MALLOC",
          "new_api": null,
          "old_text": "GRPC_SLICE_MALLOC(9)",
          "new_text": null,
          "old_line_content": "  hdr = GRPC_SLICE_MALLOC(9);",
          "new_line_content": "  *p++ = 's';",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "GRPC_SLICE_START_PTR",
          "new_api": null,
          "old_text": "GRPC_SLICE_START_PTR(hdr)",
          "new_text": null,
          "old_line_content": "  p = GRPC_SLICE_START_PTR(hdr);",
          "new_line_content": "  *p++ = 's';",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "static_cast<uint8_t>(len >> 16)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(len >> 16)",
          "new_text": null,
          "old_line_content": "  *p++ = static_cast<uint8_t>(len >> 16);",
          "new_line_content": "  *p++ = 'a';",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "static_cast<uint8_t>(len >> 8)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(len >> 8)",
          "new_text": null,
          "old_line_content": "  *p++ = static_cast<uint8_t>(len >> 8);",
          "new_line_content": "  *p++ = 'g';",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "static_cast<uint8_t>(len)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(len)",
          "new_text": null,
          "old_line_content": "  *p++ = static_cast<uint8_t>(len);",
          "new_line_content": "  *p++ = 'e';",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "static_cast<uint8_t>(s->id)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(s->id)",
          "new_text": null,
          "old_line_content": "  *p++ = static_cast<uint8_t>(s->id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": "grpc_slice_buffer_add",
          "new_api": null,
          "old_text": "grpc_slice_buffer_add(&t->qbuf, content_type_hdr)",
          "new_text": null,
          "old_line_content": "    grpc_slice_buffer_add(&t->qbuf, content_type_hdr);",
          "new_line_content": "  *p++ = GRPC_CHTTP2_FRAME_HEADER;",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "grpc_chttp2_mark_stream_closed",
          "new_api": null,
          "old_text": "grpc_chttp2_mark_stream_closed(t, s, 1, 1, error)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_mark_stream_closed(t, s, 1, 1, error);",
          "new_line_content": "  if (!s->sent_initial_metadata) {",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": "static_cast<cancel_stream_cb_args*>(user_data)",
          "new_api": null,
          "old_text": "static_cast<cancel_stream_cb_args*>(user_data)",
          "new_text": null,
          "old_line_content": "  cancel_stream_cb_args* args = static_cast<cancel_stream_cb_args*>(user_data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "grpc_chttp2_stream_map_for_each",
          "new_api": null,
          "old_text": "grpc_chttp2_stream_map_for_each(&t->stream_map, cancel_stream_cb, &args)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_stream_map_for_each(&t->stream_map, cancel_stream_cb, &args);",
          "new_line_content": "  grpc_chttp2_transport* t;",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "} cancel_stream_cb_args;",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, reason)",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_initiate_write(t, reason);",
          "new_line_content": " * INPUT PROCESSING - PARSING",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": "action",
          "new_api": null,
          "old_text": "action()",
          "new_text": null,
          "old_line_content": "      action();",
          "new_line_content": "template <class F>",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": "grpc_chttp2_mark_stream_writable",
          "new_api": null,
          "old_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "new_text": null,
          "old_line_content": "              [t, s]() { grpc_chttp2_mark_stream_writable(t, s); });",
          "new_line_content": "    case grpc_core::chttp2::FlowControlAction::Urgency::QUEUE_UPDATE:",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "send_initial_window_update",
          "new_api": null,
          "old_text": "action.send_initial_window_update()",
          "new_text": null,
          "old_line_content": "  WithUrgency(t, action.send_initial_window_update(),",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "initial_window_size",
          "new_api": null,
          "old_text": "queue_setting_update(t,\n                                     GRPC_CHTTP2_SETTINGS_INITIAL_WINDOW_SIZE,\n                                     action.initial_window_size())",
          "new_text": null,
          "old_line_content": "                queue_setting_update(t,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "initial_window_size",
          "new_api": null,
          "old_text": "action.initial_window_size()",
          "new_text": null,
          "old_line_content": "                                     action.initial_window_size());",
          "new_line_content": "    const grpc_core::chttp2::FlowControlAction& action,",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&response, 0, sizeof(response))",
          "new_text": null,
          "old_line_content": "  memset(&response, 0, sizeof(response));",
          "new_line_content": "              GRPC_CHTTP2_INITIATE_WRITE_SEND_SETTINGS, [t, &action]() {",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": "grpc_http_parser_parse",
          "new_api": null,
          "old_text": "grpc_http_parser_parse(&parser, t->read_buffer.slices[i], nullptr)",
          "new_text": null,
          "old_line_content": "        grpc_http_parser_parse(&parser, t->read_buffer.slices[i], nullptr);",
          "new_line_content": "  grpc_http_parser parser;",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": "grpc_http_parser_eof",
          "new_api": null,
          "old_text": "grpc_http_parser_eof(&parser)",
          "new_text": null,
          "old_line_content": "      (parse_error = grpc_http_parser_eof(&parser)) == GRPC_ERROR_NONE) {",
          "new_line_content": "  grpc_http_response response;",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                               \"Trying to connect an http1.x server\")",
          "new_text": null,
          "old_line_content": "        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(parse_error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(parse_error);",
          "new_line_content": "    parse_error =",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": "grpc_http_parser_destroy",
          "new_api": null,
          "old_text": "grpc_http_parser_destroy(&parser)",
          "new_text": null,
          "old_line_content": "  grpc_http_parser_destroy(&parser);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": "grpc_http_response_destroy",
          "new_api": null,
          "old_text": "grpc_http_response_destroy(&response)",
          "new_text": null,
          "old_line_content": "  grpc_http_response_destroy(&response);",
          "new_line_content": "  if (parse_error == GRPC_ERROR_NONE &&",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"reading_action_locked\", 0)",
          "new_text": null,
          "old_line_content": "  GPR_TIMER_SCOPE(\"reading_action_locked\", 0);",
          "new_line_content": "                           GRPC_ERROR_INT_HTTP_STATUS, response.status),",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2495,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_REF(error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                                 \"Endpoint read failed\", &err, 1)",
          "new_text": null,
          "old_line_content": "    err = grpc_error_set_int(GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2505,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(err)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(err);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"reading_action.parse\", 0)",
          "new_text": null,
          "old_line_content": "    GPR_TIMER_SCOPE(\"reading_action.parse\", 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    grpc_error* errors[3] = {GRPC_ERROR_REF(error), GRPC_ERROR_NONE,",
          "new_line_content": "  if (err != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2512,
          "old_api": "bdp_estimator",
          "new_api": null,
          "old_text": "t->flow_control->bdp_estimator()",
          "new_text": null,
          "old_line_content": "      grpc_core::BdpEstimator* bdp_est = t->flow_control->bdp_estimator();",
          "new_line_content": "                             GRPC_ERROR_INT_OCCURRED_DURING_WRITE,",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": "AddIncomingBytes",
          "new_api": null,
          "old_text": "bdp_est->AddIncomingBytes(\n            static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i]))",
          "new_text": null,
          "old_line_content": "        bdp_est->AddIncomingBytes(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i])",
          "new_api": null,
          "old_text": "static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i])",
          "new_text": null,
          "old_line_content": "            static_cast<int64_t> GRPC_SLICE_LENGTH(t->read_buffer.slices[i]));",
          "new_line_content": "  GPR_SWAP(grpc_error*, err, error);",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "grpc_chttp2_perform_read",
          "new_api": null,
          "old_text": "grpc_chttp2_perform_read(t, t->read_buffer.slices[i])",
          "new_text": null,
          "old_line_content": "      errors[1] = grpc_chttp2_perform_read(t, t->read_buffer.slices[i]);",
          "new_line_content": "  if (t->closed_with_error == GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "      GRPC_ERROR_UNREF(error);",
          "new_line_content": "                             GRPC_ERROR_NONE};",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n          \"Failed parsing HTTP/2\", errors, GPR_ARRAY_SIZE(errors))",
          "new_text": null,
          "old_line_content": "      error = GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "    for (; i < t->read_buffer.count && errors[1] == GRPC_ERROR_NONE; i++) {",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"post_parse_locked\", 0)",
          "new_text": null,
          "old_line_content": "    GPR_TIMER_SCOPE(\"post_parse_locked\", 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(\n              t, GRPC_CHTTP2_INITIATE_WRITE_FLOW_CONTROL_UNSTALLED_BY_SETTING)",
          "new_text": null,
          "old_line_content": "          grpc_chttp2_initiate_write(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"post_reading_action_locked\", 0)",
          "new_text": null,
          "old_line_content": "  GPR_TIMER_SCOPE(\"post_reading_action_locked\", 0);",
          "new_line_content": "        grpc_chttp2_stream* s;",
          "content_same": false
        },
        {
          "line": 2553,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(t->goaway_error)",
          "new_text": null,
          "old_line_content": "      error = grpc_error_add_child(error, GRPC_ERROR_REF(t->goaway_error));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    close_transport_locked(t, GRPC_ERROR_REF(error));",
          "new_line_content": "  if (error == GRPC_ERROR_NONE && t->closed_with_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"keep_reading\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"keep_reading\");",
          "new_line_content": "  if (error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": "grpc_timer_cancel",
          "new_api": null,
          "old_text": "grpc_timer_cancel(&t->keepalive_ping_timer)",
          "new_text": null,
          "old_line_content": "      grpc_timer_cancel(&t->keepalive_ping_timer);",
          "new_line_content": "    if (t->goaway_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&t->read_buffer)",
          "new_text": null,
          "old_line_content": "  grpc_slice_buffer_reset_and_unref_internal(&t->read_buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": "grpc_endpoint_read",
          "new_api": null,
          "old_text": "grpc_endpoint_read(t->ep, &t->read_buffer, &t->read_action_locked)",
          "new_text": null,
          "old_line_content": "    grpc_endpoint_read(t->ep, &t->read_buffer, &t->read_action_locked);",
          "new_line_content": "  } else if (t->closed_with_error == GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": "MakeAction",
          "new_api": null,
          "old_text": "t->flow_control->MakeAction()",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_act_on_flowctl_action(t->flow_control->MakeAction(), t,",
          "new_line_content": "    keep_reading = true;",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keep_reading\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keep_reading\");",
          "new_line_content": "    /* Since we have read a byte, reset the keepalive timer */",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "send_ping_locked",
          "new_api": null,
          "old_text": "send_ping_locked(t, &t->start_bdp_ping_locked, &t->finish_bdp_ping_locked)",
          "new_text": null,
          "old_line_content": "  send_ping_locked(t, &t->start_bdp_ping_locked, &t->finish_bdp_ping_locked);",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_http_trace.enabled()",
          "new_text": null,
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2590,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"%s: Start BDP ping err=%s\", t->peer_string,\n            grpc_error_string(error))",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO, \"%s: Start BDP ping err=%s\", t->peer_string,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "grpc_error_string",
          "new_api": null,
          "old_text": "grpc_error_string(error)",
          "new_text": null,
          "old_line_content": "            grpc_error_string(error));",
          "new_line_content": "// t is reffed prior to calling the first time, and once the callback chain",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": "bdp_estimator",
          "new_api": null,
          "old_text": "t->flow_control->bdp_estimator()->StartPing()",
          "new_text": null,
          "old_line_content": "  t->flow_control->bdp_estimator()->StartPing();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"%s: Complete BDP ping err=%s\", t->peer_string,\n            grpc_error_string(error))",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO, \"%s: Complete BDP ping err=%s\", t->peer_string,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": "grpc_error_string",
          "new_api": null,
          "old_text": "grpc_error_string(error)",
          "new_text": null,
          "old_line_content": "            grpc_error_string(error));",
          "new_line_content": "  /* Reset the keepalive ping timer */",
          "content_same": false
        },
        {
          "line": 2607,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_UNREF_TRANSPORT(t, \"bdp_ping\");",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2610,
          "old_api": "bdp_estimator",
          "new_api": null,
          "old_text": "t->flow_control->bdp_estimator()->CompletePing()",
          "new_text": null,
          "old_line_content": "  grpc_millis next_ping = t->flow_control->bdp_estimator()->CompletePing();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": "PeriodicUpdate",
          "new_api": null,
          "old_text": "t->flow_control->PeriodicUpdate()",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_act_on_flowctl_action(t->flow_control->PeriodicUpdate(), t,",
          "new_line_content": "static void finish_bdp_ping_locked(void* tp, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_transport*>(tp)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(tp);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2627,
          "old_api": "schedule_bdp_ping_locked",
          "new_api": null,
          "old_text": "schedule_bdp_ping_locked(t)",
          "new_text": null,
          "old_line_content": "  schedule_bdp_ping_locked(t);",
          "new_line_content": "                  &t->next_bdp_ping_timer_expired_locked);",
          "content_same": false
        },
        {
          "line": 2636,
          "old_api": "grpc_channel_arg_get_integer",
          "new_api": null,
          "old_text": "grpc_channel_arg_get_integer(\n            &args->args[i], {is_client ? g_default_client_keepalive_time_ms\n                                       : g_default_server_keepalive_time_ms,\n                             1, INT_MAX})",
          "new_text": null,
          "old_line_content": "        const int value = grpc_channel_arg_get_integer(",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(args->args[i].key,\n                             GRPC_ARG_KEEPALIVE_PERMIT_WITHOUT_CALLS)",
          "new_text": null,
          "old_line_content": "      } else if (0 == strcmp(args->args[i].key,",
          "new_line_content": "      } else if (0 ==",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": "grpc_channel_arg_get_integer",
          "new_api": null,
          "old_text": "grpc_channel_arg_get_integer(\n            &args->args[i], {g_default_max_ping_strikes, 0, INT_MAX})",
          "new_text": null,
          "old_line_content": "        g_default_max_ping_strikes = grpc_channel_arg_get_integer(",
          "new_line_content": "            &args->args[i],",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(args->args[i].key,\n                             GRPC_ARG_HTTP2_MAX_PINGS_WITHOUT_DATA)",
          "new_text": null,
          "old_line_content": "      } else if (0 == strcmp(args->args[i].key,",
          "new_line_content": "                       : g_default_server_keepalive_timeout_ms,",
          "content_same": false
        },
        {
          "line": 2674,
          "old_api": "grpc_channel_arg_get_integer",
          "new_api": null,
          "old_text": "grpc_channel_arg_get_integer(\n            &args->args[i], {g_default_max_pings_without_data, 0, INT_MAX})",
          "new_text": null,
          "old_line_content": "        g_default_max_pings_without_data = grpc_channel_arg_get_integer(",
          "new_line_content": "        if (is_client) {",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(\n                     args->args[i].key,\n                     GRPC_ARG_HTTP2_MIN_SENT_PING_INTERVAL_WITHOUT_DATA_MS)",
          "new_text": null,
          "old_line_content": "                 strcmp(",
          "new_line_content": "          g_default_server_keepalive_permit_without_calls = value;",
          "content_same": false
        },
        {
          "line": 2689,
          "old_api": "grpc_channel_arg_get_integer",
          "new_api": null,
          "old_text": "grpc_channel_arg_get_integer(\n                &args->args[i],\n                {g_default_min_recv_ping_interval_without_data_ms, 0, INT_MAX})",
          "new_text": null,
          "old_line_content": "            grpc_channel_arg_get_integer(",
          "new_line_content": "                     args->args[i].key,",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "new_line_content": "                     GRPC_ARG_HTTP2_MIN_RECV_PING_INTERVAL_WITHOUT_DATA_MS)) {",
          "content_same": false
        },
        {
          "line": 2699,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_WAITING)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(t->keepalive_state == GRPC_CHTTP2_KEEPALIVE_STATE_WAITING);",
          "new_line_content": "        g_default_min_recv_ping_interval_without_data_ms =",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": null,
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": null,
          "old_line_content": "        grpc_chttp2_stream_map_size(&t->stream_map) > 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive ping end\")",
          "new_text": null,
          "old_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive ping end\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": "grpc_timer_init_unset",
          "new_api": null,
          "old_text": "grpc_timer_init_unset(&t->keepalive_watchdog_timer)",
          "new_text": null,
          "old_line_content": "      grpc_timer_init_unset(&t->keepalive_watchdog_timer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": "send_keepalive_ping_locked",
          "new_api": null,
          "old_text": "send_keepalive_ping_locked(t)",
          "new_text": null,
          "old_line_content": "      send_keepalive_ping_locked(t);",
          "new_line_content": "static void init_keepalive_ping_locked(void* arg, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\")",
          "new_text": null,
          "old_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\");",
          "new_line_content": "  if (t->destroying || t->closed_with_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2712,
          "old_api": "Now",
          "new_api": null,
          "old_text": "grpc_timer_init(&t->keepalive_ping_timer,\n                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,\n                      &t->init_keepalive_ping_locked)",
          "new_text": null,
          "old_line_content": "      grpc_timer_init(&t->keepalive_ping_timer,",
          "new_line_content": "    t->keepalive_state = GRPC_CHTTP2_KEEPALIVE_STATE_DYING;",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "Now",
          "new_api": null,
          "old_text": "grpc_core::ExecCtx::Get()->Now()",
          "new_text": null,
          "old_line_content": "                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,",
          "new_line_content": "  } else if (error == GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "new_line_content": "  } else if (error == GRPC_ERROR_CANCELLED) {",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": "RecordKeepaliveSent",
          "new_api": null,
          "old_text": "t->channelz_socket->RecordKeepaliveSent()",
          "new_text": null,
          "old_line_content": "    t->channelz_socket->RecordKeepaliveSent();",
          "new_line_content": "                    &t->init_keepalive_ping_locked);",
          "content_same": false
        },
        {
          "line": 2735,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"%s: Start keepalive ping\", t->peer_string)",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO, \"%s: Start keepalive ping\", t->peer_string);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2737,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive watchdog\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_REF_TRANSPORT(t, \"keepalive watchdog\");",
          "new_line_content": "static void start_keepalive_ping_locked(void* arg, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": "Now",
          "new_api": null,
          "old_text": "grpc_core::ExecCtx::Get()->Now()",
          "new_text": null,
          "old_line_content": "                  grpc_core::ExecCtx::Get()->Now() + t->keepalive_timeout,",
          "new_line_content": "  if (error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_http_trace.enabled()",
          "new_text": null,
          "old_line_content": "      if (grpc_http_trace.enabled()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "grpc_timer_cancel",
          "new_api": null,
          "old_text": "grpc_timer_cancel(&t->keepalive_watchdog_timer)",
          "new_text": null,
          "old_line_content": "      grpc_timer_cancel(&t->keepalive_watchdog_timer);",
          "new_line_content": "                  &t->keepalive_watchdog_fired_locked);",
          "content_same": false
        },
        {
          "line": 2752,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\")",
          "new_text": null,
          "old_line_content": "      GRPC_CHTTP2_REF_TRANSPORT(t, \"init keepalive ping\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "Now",
          "new_api": null,
          "old_text": "grpc_timer_init(&t->keepalive_ping_timer,\n                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,\n                      &t->init_keepalive_ping_locked)",
          "new_text": null,
          "old_line_content": "      grpc_timer_init(&t->keepalive_ping_timer,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "Now",
          "new_api": null,
          "old_text": "grpc_core::ExecCtx::Get()->Now()",
          "new_text": null,
          "old_line_content": "                      grpc_core::ExecCtx::Get()->Now() + t->keepalive_time,",
          "new_line_content": "static void finish_keepalive_ping_locked(void* arg, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": "close_transport_locked",
          "new_api": null,
          "old_text": "close_transport_locked(\n          t, grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                    \"keepalive watchdog timeout\"),\n                                GRPC_ERROR_INT_GRPC_STATUS,\n                                GRPC_STATUS_UNAVAILABLE))",
          "new_text": null,
          "old_line_content": "      close_transport_locked(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": "GPR_UNLIKELY",
          "new_api": null,
          "old_text": "GPR_UNLIKELY(error != GRPC_ERROR_CANCELLED)",
          "new_text": null,
          "old_line_content": "    if (GPR_UNLIKELY(error != GRPC_ERROR_CANCELLED)) {",
          "new_line_content": "              t->peer_string);",
          "content_same": false
        },
        {
          "line": 2778,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_ERROR, \"keepalive_ping_end state error: %d (expect: %d)\",\n              t->keepalive_state, GRPC_CHTTP2_KEEPALIVE_STATE_PINGING)",
          "new_text": null,
          "old_line_content": "      gpr_log(GPR_ERROR, \"keepalive_ping_end state error: %d (expect: %d)\",",
          "new_line_content": "      t->keepalive_state = GRPC_CHTTP2_KEEPALIVE_STATE_DYING;",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive watchdog\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"keepalive watchdog\");",
          "new_line_content": "                                GRPC_ERROR_INT_GRPC_STATUS,",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"set connectivity_state=%d\", state)",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_IF_TRACING(gpr_log(GPR_INFO, \"set connectivity_state=%d\", state));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2809,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "new_line_content": " * POLLSET STUFF",
          "content_same": false
        },
        {
          "line": 2810,
          "old_api": "grpc_endpoint_add_to_pollset_set",
          "new_api": null,
          "old_text": "grpc_endpoint_add_to_pollset_set(t->ep, pollset_set)",
          "new_text": null,
          "old_line_content": "  grpc_endpoint_add_to_pollset_set(t->ep, pollset_set);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "static_cast<grpc_chttp2_stream*>(arg)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_stream*>(arg)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(arg);",
          "new_line_content": "static void set_pollset_set(grpc_transport* gt, grpc_stream* gs,",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(s->t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(s->t, s);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(error != GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(error != GRPC_ERROR_NONE);",
          "new_line_content": "/*******************************************************************************",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_SCHED(s->on_next, GRPC_ERROR_REF(error));",
          "new_line_content": " * BYTE STREAM",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(s->byte_stream_error)",
          "new_text": null,
          "old_line_content": "    GRPC_ERROR_UNREF(s->byte_stream_error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    s->byte_stream_error = GRPC_ERROR_REF(error);",
          "new_line_content": "  s->pending_byte_stream = false;",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(stream->byte_stream_error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(stream->byte_stream_error);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2850,
          "old_api": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "new_api": null,
          "old_text": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "new_text": null,
          "old_line_content": "  Chttp2IncomingByteStream* bs = static_cast<Chttp2IncomingByteStream*>(arg);",
          "new_line_content": "    : ByteStream(frame_size, flags),",
          "content_same": false
        },
        {
          "line": 2853,
          "old_api": "Unref",
          "new_api": null,
          "old_text": "bs->Unref()",
          "new_text": null,
          "old_line_content": "  bs->Unref();",
          "new_line_content": "      refs_(2),",
          "content_same": false
        },
        {
          "line": 2856,
          "old_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "new_line_content": "  stream->byte_stream_error = GRPC_ERROR_NONE;",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"incoming_byte_stream_destroy\", 0)",
          "new_text": null,
          "old_line_content": "  GPR_TIMER_SCOPE(\"incoming_byte_stream_destroy\", 0);",
          "new_line_content": "                                            grpc_error* error_ignored) {",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": "GRPC_CLOSURE_INIT",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_INIT(&destroy_action_,\n                        &Chttp2IncomingByteStream::OrphanLocked, this,\n                        grpc_combiner_scheduler(transport_->combiner))",
          "new_text": null,
          "old_line_content": "      GRPC_CLOSURE_INIT(&destroy_action_,",
          "new_line_content": "  grpc_chttp2_stream* s = bs->stream_;",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "new_api": null,
          "old_text": "static_cast<Chttp2IncomingByteStream*>(arg)",
          "new_text": null,
          "old_line_content": "  Chttp2IncomingByteStream* bs = static_cast<Chttp2IncomingByteStream*>(arg);",
          "new_line_content": "void Chttp2IncomingByteStream::Orphan() {",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": "MakeAction",
          "new_api": null,
          "old_text": "s->flow_control->MakeAction()",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_act_on_flowctl_action(s->flow_control->MakeAction(), t, s);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->unprocessed_incoming_frames_buffer.length == 0)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(s->unprocessed_incoming_frames_buffer.length == 0);",
          "new_line_content": "void Chttp2IncomingByteStream::NextLocked(void* arg,",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_SCHED(bs->next_action_.on_complete, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_SCHED(bs->next_action_.on_complete, GRPC_ERROR_NONE);",
          "new_line_content": "  size_t cur_length = s->frame_storage.length;",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(s->byte_stream_error)",
          "new_text": null,
          "old_line_content": "                       GRPC_ERROR_REF(s->byte_stream_error));",
          "new_line_content": "                                              cur_length);",
          "content_same": false
        },
        {
          "line": 2889,
          "old_api": "Unref",
          "new_api": null,
          "old_text": "s->data_parser.parsing_frame->Unref()",
          "new_text": null,
          "old_line_content": "      s->data_parser.parsing_frame->Unref();",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,\n                         GRPC_ERROR_REF(s->byte_stream_error))",
          "new_text": null,
          "old_line_content": "      GRPC_CLOSURE_SCHED(bs->next_action_.on_complete,",
          "new_line_content": "  } else if (s->byte_stream_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 2899,
          "old_api": "Unref",
          "new_api": null,
          "old_text": "s->data_parser.parsing_frame->Unref()",
          "new_text": null,
          "old_line_content": "        s->data_parser.parsing_frame->Unref();",
          "new_line_content": "    if (s->data_parser.parsing_frame != nullptr) {",
          "content_same": false
        },
        {
          "line": 2904,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(false)",
          "new_text": null,
          "old_line_content": "      GPR_ASSERT(false);",
          "new_line_content": "    if (bs->remaining_bytes_ != 0) {",
          "content_same": false
        },
        {
          "line": 2909,
          "old_api": "Unref",
          "new_api": null,
          "old_text": "bs->Unref()",
          "new_text": null,
          "old_line_content": "  bs->Unref();",
          "new_line_content": "      if (s->data_parser.parsing_frame != nullptr) {",
          "content_same": false
        },
        {
          "line": 2914,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"incoming_byte_stream_next\", 0)",
          "new_text": null,
          "old_line_content": "  GPR_TIMER_SCOPE(\"incoming_byte_stream_next\", 0);",
          "new_line_content": "      /* Should never reach here. */",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "Ref",
          "new_api": null,
          "old_text": "Ref()",
          "new_text": null,
          "old_line_content": "    Ref();",
          "new_line_content": "    s->on_next = bs->next_action_.on_complete;",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_SCHED(\n        GRPC_CLOSURE_INIT(&next_action_.closure,\n                          &Chttp2IncomingByteStream::NextLocked, this,\n                          grpc_combiner_scheduler(transport_->combiner)),\n        GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_SCHED(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": "GRPC_CLOSURE_INIT",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_INIT(&next_action_.closure,\n                          &Chttp2IncomingByteStream::NextLocked, this,\n                          grpc_combiner_scheduler(transport_->combiner))",
          "new_text": null,
          "old_line_content": "        GRPC_CLOSURE_INIT(&next_action_.closure,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": "grpc_combiner_scheduler",
          "new_api": null,
          "old_text": "grpc_combiner_scheduler(transport_->combiner)",
          "new_text": null,
          "old_line_content": "                          grpc_combiner_scheduler(transport_->combiner)),",
          "new_line_content": "                                    grpc_closure* on_complete) {",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": "GPR_TIMER_SCOPE",
          "new_api": null,
          "old_text": "GPR_TIMER_SCOPE(\"incoming_byte_stream_pull\", 0)",
          "new_text": null,
          "old_line_content": "  GPR_TIMER_SCOPE(\"incoming_byte_stream_pull\", 0);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": "grpc_stream_decompress",
          "new_api": null,
          "old_text": "grpc_stream_decompress(stream_->stream_decompression_ctx,\n                                  &stream_->unprocessed_incoming_frames_buffer,\n                                  &stream_->decompressed_data_buffer, nullptr,\n                                  MAX_SIZE_T, &end_of_context)",
          "new_text": null,
          "old_line_content": "      if (!grpc_stream_decompress(stream_->stream_decompression_ctx,",
          "new_line_content": "        stream_->stream_decompression_method);",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(stream_->unprocessed_incoming_frames_buffer.length == 0)",
          "new_text": null,
          "old_line_content": "      GPR_ASSERT(stream_->unprocessed_incoming_frames_buffer.length == 0);",
          "new_line_content": "    if (!stream_->unprocessed_incoming_frames_decompressed) {",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": "grpc_slice_buffer_swap",
          "new_api": null,
          "old_text": "grpc_slice_buffer_swap(&stream_->unprocessed_incoming_frames_buffer,\n                             &stream_->decompressed_data_buffer)",
          "new_text": null,
          "old_line_content": "      grpc_slice_buffer_swap(&stream_->unprocessed_incoming_frames_buffer,",
          "new_line_content": "      bool end_of_context;",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "grpc_stream_compression_context_destroy",
          "new_api": null,
          "old_text": "grpc_stream_compression_context_destroy(\n            stream_->stream_decompression_ctx)",
          "new_text": null,
          "old_line_content": "        grpc_stream_compression_context_destroy(",
          "new_line_content": "                                  &stream_->decompressed_data_buffer, nullptr,",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": "grpc_empty_slice",
          "new_api": null,
          "old_text": "grpc_empty_slice()",
          "new_text": null,
          "old_line_content": "        *slice = grpc_empty_slice();",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": "grpc_deframe_unprocessed_incoming_frames",
          "new_api": null,
          "old_text": "grpc_deframe_unprocessed_incoming_frames(\n        &stream_->data_parser, stream_,\n        &stream_->unprocessed_incoming_frames_buffer, slice, nullptr)",
          "new_text": null,
          "old_line_content": "    error = grpc_deframe_unprocessed_incoming_frames(",
          "new_line_content": "                             &stream_->decompressed_data_buffer);",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "new_text": null,
          "old_line_content": "    error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "new_line_content": "      if (stream_->unprocessed_incoming_frames_buffer.length == 0) {",
          "content_same": false
        },
        {
          "line": 2980,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(error != GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(error != GRPC_ERROR_NONE);",
          "new_line_content": "      return error;",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "  GRPC_CLOSURE_SCHED(stream_->on_next, GRPC_ERROR_REF(error));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_cancel_stream(transport_, stream_, GRPC_ERROR_REF(error));",
          "new_line_content": "    return error;",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": "GRPC_SLICE_LENGTH",
          "new_api": null,
          "old_text": "GRPC_SLICE_LENGTH(slice)",
          "new_text": null,
          "old_line_content": "  if (remaining_bytes_ < GRPC_SLICE_LENGTH(slice)) {",
          "new_line_content": "void Chttp2IncomingByteStream::PublishError(grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 2993,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_SCHED(&stream_->reset_byte_stream, GRPC_ERROR_REF(error));",
          "new_line_content": "  stream_->on_next = nullptr;",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(slice)",
          "new_api": null,
          "old_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(slice)",
          "new_text": null,
          "old_line_content": "    remaining_bytes_ -= static_cast<uint32_t> GRPC_SLICE_LENGTH(slice);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\")",
          "new_text": null,
          "old_line_content": "      error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Truncated message\");",
          "new_line_content": "    if (slice_out != nullptr) {",
          "content_same": false
        },
        {
          "line": 3013,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_SCHED(&stream_->reset_byte_stream, GRPC_ERROR_REF(error));",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3015,
          "old_api": "Unref",
          "new_api": null,
          "old_text": "Unref()",
          "new_text": null,
          "old_line_content": "  Unref();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"benign_reclaimer\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"benign_reclaimer\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": "grpc_endpoint_get_resource_user",
          "new_api": null,
          "old_text": "grpc_endpoint_get_resource_user(t->ep)",
          "new_text": null,
          "old_line_content": "    grpc_resource_user_post_reclaimer(grpc_endpoint_get_resource_user(t->ep),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(t, \"destructive_reclaimer\")",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_REF_TRANSPORT(t, \"destructive_reclaimer\");",
          "new_line_content": "  if (!t->benign_reclaimer_registered) {",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": "grpc_endpoint_get_resource_user",
          "new_api": null,
          "old_text": "grpc_endpoint_get_resource_user(t->ep)",
          "new_text": null,
          "old_line_content": "    grpc_resource_user_post_reclaimer(grpc_endpoint_get_resource_user(t->ep),",
          "new_line_content": "    t->benign_reclaimer_registered = true;",
          "content_same": false
        },
        {
          "line": 3048,
          "old_api": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_transport*>(arg)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = static_cast<grpc_chttp2_transport*>(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": null,
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_stream_map_size(&t->stream_map) == 0) {",
          "new_line_content": "  if (!t->destructive_reclaimer_registered) {",
          "content_same": false
        },
        {
          "line": 3054,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"HTTP2: %s - send goaway to free memory\",\n              t->peer_string)",
          "new_text": null,
          "old_line_content": "      gpr_log(GPR_INFO, \"HTTP2: %s - send goaway to free memory\",",
          "new_line_content": "                                      true, &t->destructive_reclaimer_locked);",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": "send_goaway",
          "new_api": null,
          "old_text": "send_goaway(t,\n                grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM))",
          "new_text": null,
          "old_line_content": "    send_goaway(t,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM)",
          "new_text": null,
          "old_line_content": "                grpc_error_set_int(",
          "new_line_content": "static void benign_reclaimer_locked(void* arg, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 3062,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO,\n            \"HTTP2: %s - skip benign reclamation, there are still %\" PRIdPTR\n            \" streams\",\n            t->peer_string, grpc_chttp2_stream_map_size(&t->stream_map))",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO,",
          "new_line_content": "    /* Channel with no active streams: send a goaway to try and make it",
          "content_same": false
        },
        {
          "line": 3077,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": null,
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": null,
          "old_line_content": "  size_t n = grpc_chttp2_stream_map_size(&t->stream_map);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_resource_quota_trace.enabled()",
          "new_text": null,
          "old_line_content": "    if (grpc_resource_quota_trace.enabled()) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_cancel_stream(\n        t, s,\n        grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Buffers full\"),\n                           GRPC_ERROR_INT_HTTP2_ERROR,\n                           GRPC_HTTP2_ENHANCE_YOUR_CALM))",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_cancel_stream(",
          "new_line_content": "static void destructive_reclaimer_locked(void* arg, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": "post_destructive_reclaimer",
          "new_api": null,
          "old_text": "post_destructive_reclaimer(t)",
          "new_text": null,
          "old_line_content": "      post_destructive_reclaimer(t);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": "grpc_resource_user_finish_reclamation",
          "new_api": null,
          "old_text": "grpc_resource_user_finish_reclamation(\n        grpc_endpoint_get_resource_user(t->ep))",
          "new_text": null,
          "old_line_content": "    grpc_resource_user_finish_reclamation(",
          "new_line_content": "                           GRPC_ERROR_INT_HTTP2_ERROR,",
          "content_same": false
        },
        {
          "line": 3101,
          "old_api": "grpc_endpoint_get_resource_user",
          "new_api": null,
          "old_text": "grpc_endpoint_get_resource_user(t->ep)",
          "new_text": null,
          "old_line_content": "        grpc_endpoint_get_resource_user(t->ep));",
          "new_line_content": "                           GRPC_HTTP2_ENHANCE_YOUR_CALM));",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"destructive_reclaimer\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"destructive_reclaimer\");",
          "new_line_content": "      /* Since we cancel one stream per destructive reclamation, if",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "    close_transport_locked(t, GRPC_ERROR_REF(error));",
          "new_line_content": "  if (error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": null,
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": null,
          "old_line_content": "    if (grpc_chttp2_stream_map_size(&t->stream_map) == 0) {",
          "new_line_content": "  if (t->sent_goaway_state == GRPC_CHTTP2_GOAWAY_SEND_SCHEDULED) {",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": "close_transport_locked",
          "new_api": null,
          "old_text": "close_transport_locked(\n          t, GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"goaway sent\"))",
          "new_text": null,
          "old_line_content": "      close_transport_locked(",
          "new_line_content": "    t->sent_goaway_state = GRPC_CHTTP2_GOAWAY_SENT;",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"goaway sent\")",
          "new_text": null,
          "old_line_content": "          t, GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"goaway sent\"));",
          "new_line_content": "    closed = true;",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "GPR_UNREACHABLE_CODE",
          "new_api": null,
          "old_text": "GPR_UNREACHABLE_CODE(break)",
          "new_text": null,
          "old_line_content": "      GPR_UNREACHABLE_CODE(break);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "GPR_TIMER_MARK",
          "new_api": null,
          "old_text": "GPR_TIMER_MARK(\"state=writing\", 0)",
          "new_text": null,
          "old_line_content": "      GPR_TIMER_MARK(\"state=writing\", 0);",
          "new_line_content": "    case GRPC_CHTTP2_WRITE_STATE_IDLE:",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "set_write_state",
          "new_api": null,
          "old_text": "set_write_state(t, GRPC_CHTTP2_WRITE_STATE_WRITING, \"continue writing\")",
          "new_text": null,
          "old_line_content": "      set_write_state(t, GRPC_CHTTP2_WRITE_STATE_WRITING, \"continue writing\");",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "GRPC_CLOSURE_INIT",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_INIT(&t->write_action_begin_locked,\n                            write_action_begin_locked, t,\n                            grpc_combiner_finally_scheduler(t->combiner))",
          "new_text": null,
          "old_line_content": "          GRPC_CLOSURE_INIT(&t->write_action_begin_locked,",
          "new_line_content": "      t->is_first_write_in_batch = false;",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "grpc_combiner_finally_scheduler",
          "new_api": null,
          "old_text": "grpc_combiner_finally_scheduler(t->combiner)",
          "new_text": null,
          "old_line_content": "                            grpc_combiner_finally_scheduler(t->combiner)),",
          "new_line_content": "      // If the transport is closed, we will retry writing on the endpoint",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_end_write(t, GRPC_ERROR_REF(error));",
          "new_line_content": "      if (!closed) {",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"writing\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"writing\");",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3154,
          "old_api": "GPR_UNREACHABLE_CODE",
          "new_api": null,
          "old_text": "GPR_UNREACHABLE_CODE(return \"unknown\")",
          "new_text": null,
          "old_line_content": "  GPR_UNREACHABLE_CODE(return \"unknown\");",
          "new_line_content": "    case GRPC_CHTTP2_INITIATE_WRITE_APPLICATION_PING:",
          "content_same": false
        },
        {
          "line": 3158,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(t)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(t)",
          "new_text": null,
          "old_line_content": "  return (reinterpret_cast<grpc_chttp2_transport*>(t))->ep;",
          "new_line_content": "    case GRPC_CHTTP2_INITIATE_WRITE_TRANSPORT_FLOW_CONTROL_UNSTALLED:",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(t->goaway_error)",
          "new_text": null,
          "old_line_content": "    GRPC_ERROR_UNREF(t->goaway_error);",
          "new_line_content": "  if (use_value != t->settings[GRPC_LOCAL_SETTINGS][id]) {",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "grpc_error_set_str",
          "new_api": null,
          "old_text": "grpc_error_set_str(\n      grpc_error_set_int(\n          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\"),\n          GRPC_ERROR_INT_HTTP2_ERROR, static_cast<intptr_t>(goaway_error)),\n      GRPC_ERROR_STR_RAW_BYTES, goaway_text)",
          "new_text": null,
          "old_line_content": "  t->goaway_error = grpc_error_set_str(",
          "new_line_content": "    t->dirtied_local_settings = 1;",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\"),\n          GRPC_ERROR_INT_HTTP2_ERROR, static_cast<intptr_t>(goaway_error))",
          "new_text": null,
          "old_line_content": "      grpc_error_set_int(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\")",
          "new_text": null,
          "old_line_content": "          GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"GOAWAY received\"),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "static_cast<intptr_t>(goaway_error)",
          "new_api": null,
          "old_text": "static_cast<intptr_t>(goaway_error)",
          "new_text": null,
          "old_line_content": "          GRPC_ERROR_INT_HTTP2_ERROR, static_cast<intptr_t>(goaway_error)),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3177,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "new_text": null,
          "old_line_content": "      reinterpret_cast<grpc_chttp2_transport*>(transport);",
          "new_line_content": "                                             perform_stream_op,",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"%s: Got goaway [%d] err=%s\", t->peer_string, goaway_error,\n          grpc_error_string(t->goaway_error))",
          "new_text": null,
          "old_line_content": "  gpr_log(GPR_INFO, \"%s: Got goaway [%d] err=%s\", t->peer_string, goaway_error,",
          "new_line_content": "  // Discard the error from a previous goaway frame (if any)",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "grpc_error_string",
          "new_api": null,
          "old_text": "grpc_error_string(t->goaway_error)",
          "new_text": null,
          "old_line_content": "          grpc_error_string(t->goaway_error));",
          "new_line_content": "  if (t->goaway_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": "grpc_core::New<grpc_chttp2_transport>(channel_args, ep, is_client,\n                                                 resource_user)",
          "new_api": null,
          "old_text": "grpc_core::New<grpc_chttp2_transport>(channel_args, ep, is_client,\n                                                 resource_user)",
          "new_text": null,
          "old_line_content": "  auto t = grpc_core::New<grpc_chttp2_transport>(channel_args, ep, is_client,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "grpc_slice_str_cmp",
          "new_api": null,
          "old_text": "grpc_slice_str_cmp(goaway_text, \"too_many_pings\")",
          "new_text": null,
          "old_line_content": "                   grpc_slice_str_cmp(goaway_text, \"too_many_pings\") == 0)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_ERROR,\n            \"Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug \"\n            \"data equal to \\\"too_many_pings\\\"\")",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_ERROR,",
          "new_line_content": "  /* We want to log this irrespective of whether http tracing is enabled */",
          "content_same": false
        },
        {
          "line": 3193,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(transport)",
          "new_text": null,
          "old_line_content": "      reinterpret_cast<grpc_chttp2_transport*>(transport);",
          "new_line_content": "    const grpc_channel_args* channel_args, grpc_endpoint* ep, bool is_client,",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "static_cast<double>(t->keepalive_time)",
          "new_api": null,
          "old_text": "static_cast<double>(t->keepalive_time)",
          "new_text": null,
          "old_line_content": "    double current_keepalive_time_ms = static_cast<double>(t->keepalive_time);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": "GRPC_CHTTP2_REF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_REF_TRANSPORT(\n      t, \"reading_action\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_REF_TRANSPORT(",
          "new_line_content": "    grpc_resource_user* resource_user) {",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": "grpc_slice_buffer_move_into",
          "new_api": null,
          "old_text": "grpc_slice_buffer_move_into(read_buffer, &t->read_buffer)",
          "new_text": null,
          "old_line_content": "    grpc_slice_buffer_move_into(read_buffer, &t->read_buffer);",
          "new_line_content": "  return &t->base;",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "static_cast<grpc_millis>(current_keepalive_time_ms *\n                                       KEEPALIVE_TIME_BACKOFF_MULTIPLIER)",
          "new_api": null,
          "old_text": "static_cast<grpc_millis>(current_keepalive_time_ms *\n                                       KEEPALIVE_TIME_BACKOFF_MULTIPLIER)",
          "new_text": null,
          "old_line_content": "            : static_cast<grpc_millis>(current_keepalive_time_ms *",
          "new_line_content": "   * for new connections on that channel. */",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(read_buffer)",
          "new_text": null,
          "old_line_content": "    gpr_free(read_buffer);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3201,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_SCHED(&t->read_action_locked, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  GRPC_CLOSURE_SCHED(&t->read_action_locked, GRPC_ERROR_NONE);",
          "new_line_content": "    grpc_transport* transport, grpc_slice_buffer* read_buffer,",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "connectivity_state_set",
          "new_api": null,
          "old_text": "connectivity_state_set(t, GRPC_CHANNEL_TRANSIENT_FAILURE,\n                         GRPC_ERROR_REF(t->goaway_error), \"got_goaway\")",
          "new_text": null,
          "old_line_content": "  connectivity_state_set(t, GRPC_CHANNEL_TRANSIENT_FAILURE,",
          "new_line_content": "            \"data equal to \\\"too_many_pings\\\"\");",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "grpc_chttp2_stream_map_size",
          "new_api": null,
          "old_text": "grpc_chttp2_stream_map_size(&t->stream_map)",
          "new_text": null,
          "old_line_content": "         grpc_chttp2_stream_map_size(&t->stream_map) <",
          "new_line_content": "  /* lie: use transient failure from the transport to indicate goaway has been",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(\n        GPR_INFO, \"HTTP:%s: Allocating new grpc_chttp2_stream %p to id %d\",\n        t->is_client ? \"CLI\" : \"SVR\", s, t->next_stream_id)",
          "new_text": null,
          "old_line_content": "    GRPC_CHTTP2_IF_TRACING(gpr_log(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->id == 0)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(s->id == 0);",
          "new_line_content": "   * concurrency */",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "post_destructive_reclaimer",
          "new_api": null,
          "old_text": "post_destructive_reclaimer(t)",
          "new_text": null,
          "old_line_content": "    post_destructive_reclaimer(t);",
          "new_line_content": "    s->id = t->next_stream_id;",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "grpc_chttp2_mark_stream_writable",
          "new_api": null,
          "old_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_mark_stream_writable(t, s);",
          "new_line_content": "    t->next_stream_id += 2;",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_START_NEW_STREAM)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_START_NEW_STREAM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_cancel_stream(\n        t, s,\n        grpc_error_set_int(\n            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),\n            GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE))",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_cancel_stream(",
          "new_line_content": "          \"no_more_stream_ids\");",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n            GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Stream IDs exhausted\"),\n            GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "new_text": null,
          "old_line_content": "        grpc_error_set_int(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_RUN(c, error)",
          "new_text": null,
          "old_line_content": "  GRPC_CLOSURE_RUN(c, error);",
          "new_line_content": "   bits being used for flags defined above) */",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "    GRPC_ERROR_UNREF(error);",
          "new_line_content": "  *closure = nullptr;",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_http_trace.enabled()",
          "new_text": null,
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "void grpc_chttp2_complete_closure_step(grpc_chttp2_transport* t,",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "grpc_error_string",
          "new_api": null,
          "old_text": "grpc_error_string(error)",
          "new_text": null,
          "old_line_content": "    const char* errstr = grpc_error_string(error);",
          "new_line_content": "                                       grpc_chttp2_stream* s,",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(\n        GPR_INFO,\n        \"complete_closure_step: t=%p %p refs=%d flags=0x%04x desc=%s err=%s \"\n        \"write_state=%s\",\n        t, closure,\n        static_cast<int>(closure->next_data.scratch /\n                         CLOSURE_BARRIER_FIRST_REF_BIT),\n        static_cast<int>(closure->next_data.scratch %\n                         CLOSURE_BARRIER_FIRST_REF_BIT),\n        desc, errstr, write_state_name(t->write_state))",
          "new_text": null,
          "old_line_content": "    gpr_log(",
          "new_line_content": "                                       grpc_closure** pclosure,",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "static_cast<int>(closure->next_data.scratch %\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "new_api": null,
          "old_text": "static_cast<int>(closure->next_data.scratch %\n                         CLOSURE_BARRIER_FIRST_REF_BIT)",
          "new_text": null,
          "old_line_content": "        static_cast<int>(closure->next_data.scratch %",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n          \"Error in HTTP transport completing operation\")",
          "new_text": null,
          "old_line_content": "      closure->error_data.error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "        \"complete_closure_step: t=%p %p refs=%d flags=0x%04x desc=%s err=%s \"",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "grpc_error_set_str",
          "new_api": null,
          "old_text": "grpc_error_set_str(\n          closure->error_data.error, GRPC_ERROR_STR_TARGET_ADDRESS,\n          grpc_slice_from_copied_string(t->peer_string))",
          "new_text": null,
          "old_line_content": "      closure->error_data.error = grpc_error_set_str(",
          "new_line_content": "        t, closure,",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "grpc_slice_from_copied_string",
          "new_api": null,
          "old_text": "grpc_slice_from_copied_string(t->peer_string)",
          "new_text": null,
          "old_line_content": "          grpc_slice_from_copied_string(t->peer_string));",
          "new_line_content": "                         CLOSURE_BARRIER_FIRST_REF_BIT),",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_RUN(closure, closure->error_data.error)",
          "new_text": null,
          "old_line_content": "      GRPC_CLOSURE_RUN(closure, closure->error_data.error);",
          "new_line_content": "          \"Error in HTTP transport completing operation\");",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "grpc_closure_list_append",
          "new_api": null,
          "old_text": "grpc_closure_list_append(&t->run_after_write, closure,\n                               closure->error_data.error)",
          "new_text": null,
          "old_line_content": "      grpc_closure_list_append(&t->run_after_write, closure,",
          "new_line_content": "          closure->error_data.error, GRPC_ERROR_STR_TARGET_ADDRESS,",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "grpc_mdelem_eq",
          "new_api": null,
          "old_text": "grpc_mdelem_eq(batch->idx.named.grpc_status->md,\n                           GRPC_MDELEM_GRPC_STATUS_0)",
          "new_text": null,
          "old_line_content": "    return !grpc_mdelem_eq(batch->idx.named.grpc_status->md,",
          "new_line_content": "        !(closure->next_data.scratch & CLOSURE_BARRIER_MAY_COVER_WRITE)) {",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "grpc_chttp2_mark_stream_writable",
          "new_api": null,
          "old_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_mark_stream_writable(t, s);",
          "new_line_content": "  if (batch->idx.named.grpc_status != nullptr) {",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "static_cast<uint32_t> GRPC_SLICE_LENGTH(s->fetching_slice)",
          "new_api": null,
          "old_text": "static_cast<uint32_t> GRPC_SLICE_LENGTH(s->fetching_slice)",
          "new_text": null,
          "old_line_content": "      static_cast<uint32_t> GRPC_SLICE_LENGTH(s->fetching_slice);",
          "new_line_content": "                                                  grpc_chttp2_stream* s) {",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "grpc_slice_buffer_add",
          "new_api": null,
          "old_text": "grpc_slice_buffer_add(&s->flow_controlled_buffer, s->fetching_slice)",
          "new_text": null,
          "old_line_content": "  grpc_slice_buffer_add(&s->flow_controlled_buffer, s->fetching_slice);",
          "new_line_content": "  if (s->id != 0 && (!s->write_buffering ||",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "maybe_become_writable_due_to_send_msg",
          "new_api": null,
          "old_text": "maybe_become_writable_due_to_send_msg(t, s)",
          "new_text": null,
          "old_line_content": "  maybe_become_writable_due_to_send_msg(t, s);",
          "new_line_content": "                     s->flow_controlled_buffer.length > t->write_buffer_size)) {",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "      abort(); /* TODO(ctiller): what cleanup here? */",
          "new_line_content": "  s->fetched_send_message_length +=",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": null,
          "old_text": "grpc_chttp2_complete_closure_step(\n            t, s, &s->fetching_send_message_finished, GRPC_ERROR_NONE,\n            \"fetching_send_message_finished\")",
          "new_text": null,
          "old_line_content": "        grpc_chttp2_complete_closure_step(",
          "new_line_content": "static void continue_fetching_send_locked(grpc_chttp2_transport* t,",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "gpr_malloc",
          "new_api": null,
          "old_text": "gpr_malloc(sizeof(*cb))",
          "new_text": null,
          "old_line_content": "          cb = static_cast<grpc_chttp2_write_cb*>(gpr_malloc(sizeof(*cb)));",
          "new_line_content": "      return;  /* early out */",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "flags",
          "new_api": null,
          "old_text": "s->fetching_send_message->flags()",
          "new_text": null,
          "old_line_content": "            s->fetching_send_message->flags() & GRPC_WRITE_THROUGH",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "reset",
          "new_api": null,
          "old_text": "s->fetching_send_message.reset()",
          "new_text": null,
          "old_line_content": "      s->fetching_send_message.reset();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "Next",
          "new_api": null,
          "old_text": "s->fetching_send_message->Next(UINT32_MAX,\n                                              &s->complete_fetch_locked)",
          "new_text": null,
          "old_line_content": "    } else if (s->fetching_send_message->Next(UINT32_MAX,",
          "new_line_content": "        cb->closure = s->fetching_send_message_finished;",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "Pull",
          "new_api": null,
          "old_text": "s->fetching_send_message->Pull(&s->fetching_slice)",
          "new_text": null,
          "old_line_content": "      grpc_error* error = s->fetching_send_message->Pull(&s->fetching_slice);",
          "new_line_content": "        grpc_chttp2_write_cb** list =",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "reset",
          "new_api": null,
          "old_text": "s->fetching_send_message.reset()",
          "new_text": null,
          "old_line_content": "        s->fetching_send_message.reset();",
          "new_line_content": "                ? &s->on_write_finished_cbs",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_cancel_stream(t, s, error)",
          "new_text": null,
          "old_line_content": "        grpc_chttp2_cancel_stream(t, s, error);",
          "new_line_content": "                : &s->on_flow_controlled_cbs;",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "add_fetched_slice_locked",
          "new_api": null,
          "old_text": "add_fetched_slice_locked(t, s)",
          "new_text": null,
          "old_line_content": "        add_fetched_slice_locked(t, s);",
          "new_line_content": "        *list = cb;",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "static_cast<grpc_chttp2_stream*>(gs)",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_stream*>(gs)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(gs);",
          "new_line_content": "      if (error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "Pull",
          "new_api": null,
          "old_text": "s->fetching_send_message->Pull(&s->fetching_slice)",
          "new_text": null,
          "old_line_content": "    error = s->fetching_send_message->Pull(&s->fetching_slice);",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "add_fetched_slice_locked",
          "new_api": null,
          "old_text": "add_fetched_slice_locked(t, s)",
          "new_text": null,
          "old_line_content": "      add_fetched_slice_locked(t, s);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "continue_fetching_send_locked",
          "new_api": null,
          "old_text": "continue_fetching_send_locked(t, s)",
          "new_text": null,
          "old_line_content": "      continue_fetching_send_locked(t, s);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "reset",
          "new_api": null,
          "old_text": "s->fetching_send_message.reset()",
          "new_text": null,
          "old_line_content": "    s->fetching_send_message.reset();",
          "new_line_content": "static void complete_fetch_locked(void* gs, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"HTTP:%d:%s:%s: %s: %s\", id, is_initial ? \"HDR\" : \"TRL\",\n            is_client ? \"CLI\" : \"SVR\", key, value)",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO, \"HTTP:%d:%s:%s: %s: %s\", id, is_initial ? \"HDR\" : \"TRL\",",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(key)",
          "new_text": null,
          "old_line_content": "    gpr_free(key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(value)",
          "new_text": null,
          "old_line_content": "    gpr_free(value);",
          "new_line_content": "static void do_nothing(void* arg, grpc_error* error) {}",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": "static_cast<grpc_transport_stream_op_batch*>(stream_op)",
          "new_api": null,
          "old_text": "static_cast<grpc_transport_stream_op_batch*>(stream_op)",
          "new_text": null,
          "old_line_content": "      static_cast<grpc_transport_stream_op_batch*>(stream_op);",
          "new_line_content": "            is_client ? \"CLI\" : \"SVR\", key, value);",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_BATCHES",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_BATCHES()",
          "new_text": null,
          "old_line_content": "  GRPC_STATS_INC_HTTP2_OP_BATCHES();",
          "new_line_content": "static void perform_stream_op_locked(void* stream_op,",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_http_trace.enabled()",
          "new_text": null,
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "  grpc_transport_stream_op_batch* op =",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"perform_stream_op_locked: %s; on_complete = %p\", str,\n            op->on_complete)",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO, \"perform_stream_op_locked: %s; on_complete = %p\", str,",
          "new_line_content": "  grpc_chttp2_stream* s =",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(str)",
          "new_text": null,
          "old_line_content": "    gpr_free(str);",
          "new_line_content": "  grpc_transport_stream_op_batch_payload* op_payload = op->payload;",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "log_metadata",
          "new_api": null,
          "old_text": "log_metadata(op_payload->send_initial_metadata.send_initial_metadata,\n                   s->id, t->is_client, true)",
          "new_text": null,
          "old_line_content": "      log_metadata(op_payload->send_initial_metadata.send_initial_metadata,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "log_metadata",
          "new_api": null,
          "old_text": "log_metadata(op_payload->send_trailing_metadata.send_trailing_metadata,\n                   s->id, t->is_client, false)",
          "new_text": null,
          "old_line_content": "      log_metadata(op_payload->send_trailing_metadata.send_trailing_metadata,",
          "new_line_content": "  s->traced = op->is_traced;",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "GRPC_CLOSURE_INIT",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_INIT(&op->handler_private.closure, do_nothing,\n                                    nullptr, grpc_schedule_on_exec_ctx)",
          "new_text": null,
          "old_line_content": "    on_complete = GRPC_CLOSURE_INIT(&op->handler_private.closure, do_nothing,",
          "new_line_content": "                   s->id, t->is_client, false);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_CANCEL",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_CANCEL()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_CANCEL();",
          "new_line_content": "  if (on_complete == nullptr) {",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "RecordStreamStartedFromLocal",
          "new_api": null,
          "old_text": "t->channelz_socket->RecordStreamStartedFromLocal()",
          "new_text": null,
          "old_line_content": "      t->channelz_socket->RecordStreamStartedFromLocal();",
          "new_line_content": "     dropped at the end of this function */",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_SEND_INITIAL_METADATA",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_SEND_INITIAL_METADATA()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_SEND_INITIAL_METADATA();",
          "new_line_content": "  on_complete->error_data.error = GRPC_ERROR_NONE;",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->send_initial_metadata_finished == nullptr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(s->send_initial_metadata_finished == nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "grpc_stream_compression_method_parse",
          "new_api": null,
          "old_text": "grpc_stream_compression_method_parse(\n            GRPC_MDVALUE(\n                op_payload->send_initial_metadata.send_initial_metadata->idx\n                    .named.content_encoding->md),\n            true, &s->stream_compression_method)",
          "new_text": null,
          "old_line_content": "        grpc_stream_compression_method_parse(",
          "new_line_content": "  if (op->send_initial_metadata) {",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "GRPC_MDVALUE",
          "new_api": null,
          "old_text": "GRPC_MDVALUE(\n                op_payload->send_initial_metadata.send_initial_metadata->idx\n                    .named.content_encoding->md)",
          "new_text": null,
          "old_line_content": "            GRPC_MDVALUE(",
          "new_line_content": "    if (t->is_client && t->channelz_socket != nullptr) {",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "add_closure_barrier",
          "new_api": null,
          "old_text": "add_closure_barrier(on_complete)",
          "new_text": null,
          "old_line_content": "    s->send_initial_metadata_finished = add_closure_barrier(on_complete);",
          "new_line_content": "    /* Identify stream compression */",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "GPR_MIN",
          "new_api": null,
          "old_text": "GPR_MIN(s->deadline, s->send_initial_metadata->deadline)",
          "new_text": null,
          "old_line_content": "      s->deadline = GPR_MIN(s->deadline, s->send_initial_metadata->deadline);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_cancel_stream(\n          t, s,\n          grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED))",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_cancel_stream(",
          "new_line_content": "    s->send_initial_metadata =",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED)",
          "new_text": null,
          "old_line_content": "          grpc_error_set_int(",
          "new_line_content": "    const size_t metadata_size =",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent initial metadata size \"\n                                         \"exceeds peer limit\")",
          "new_text": null,
          "old_line_content": "                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "    const size_t metadata_peer_limit =",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "static_cast<intptr_t>(metadata_peer_limit)",
          "new_api": null,
          "old_text": "static_cast<intptr_t>(metadata_peer_limit)",
          "new_text": null,
          "old_line_content": "                  static_cast<intptr_t>(metadata_peer_limit)),",
          "new_line_content": "    if (metadata_size > metadata_peer_limit) {",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "grpc_chttp2_list_add_waiting_for_concurrency",
          "new_api": null,
          "old_text": "grpc_chttp2_list_add_waiting_for_concurrency(t, s)",
          "new_text": null,
          "old_line_content": "            grpc_chttp2_list_add_waiting_for_concurrency(t, s);",
          "new_line_content": "                  GRPC_ERROR_INT_LIMIT,",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_cancel_stream(\n                t, s,\n                grpc_error_set_int(\n                    GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                        \"Transport closed\", &t->closed_with_error, 1),\n                    GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE))",
          "new_text": null,
          "old_line_content": "            grpc_chttp2_cancel_stream(",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n                    GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                        \"Transport closed\", &t->closed_with_error, 1),\n                    GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "new_text": null,
          "old_line_content": "                grpc_error_set_int(",
          "new_line_content": "        s->seen_error = true;",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                        \"Transport closed\", &t->closed_with_error, 1)",
          "new_text": null,
          "old_line_content": "                    GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                \"Attempt to send initial metadata after stream was closed\",\n                &s->write_closed_error, 1)",
          "new_text": null,
          "old_line_content": "            GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "          if (!(op->send_message &&",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "gpr_atm_rel_store",
          "new_api": null,
          "old_text": "gpr_atm_rel_store(op_payload->send_initial_metadata.peer_string,\n                        (gpr_atm)t->peer_string)",
          "new_text": null,
          "old_line_content": "      gpr_atm_rel_store(op_payload->send_initial_metadata.peer_string,",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_SEND_MESSAGE",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_SEND_MESSAGE()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_SEND_MESSAGE();",
          "new_line_content": "                &s->write_closed_error, 1),",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "length",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_SEND_MESSAGE_SIZE(\n        op->payload->send_message.send_message->length())",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_SEND_MESSAGE_SIZE(",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "length",
          "new_api": null,
          "old_text": "op->payload->send_message.send_message->length()",
          "new_text": null,
          "old_line_content": "        op->payload->send_message.send_message->length());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "reset",
          "new_api": null,
          "old_text": "op->payload->send_message.send_message.reset()",
          "new_text": null,
          "old_line_content": "      op->payload->send_message.send_message.reset();",
          "new_line_content": "    t->num_messages_in_next_write++;",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(\n                    \"Attempt to send message after stream was closed\",\n                    &s->write_closed_error, 1)",
          "new_text": null,
          "old_line_content": "              : GRPC_ERROR_CREATE_REFERENCING_FROM_STATIC_STRING(",
          "new_line_content": "    if (s->write_closed) {",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->fetching_send_message == nullptr)",
          "new_text": null,
          "old_line_content": "      GPR_ASSERT(s->fetching_send_message == nullptr);",
          "new_line_content": "      // starting recv_trailing_metadata.",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "flags",
          "new_api": null,
          "old_text": "op_payload->send_message.send_message->flags()",
          "new_text": null,
          "old_line_content": "      uint32_t flags = op_payload->send_message.send_message->flags();",
          "new_line_content": "          t, s, &s->fetching_send_message_finished,",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "length",
          "new_api": null,
          "old_text": "op_payload->send_message.send_message->length()",
          "new_text": null,
          "old_line_content": "      size_t len = op_payload->send_message.send_message->length();",
          "new_line_content": "              ? GRPC_ERROR_NONE",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "static_cast<uint8_t>(len >> 16)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(len >> 16)",
          "new_text": null,
          "old_line_content": "      frame_hdr[2] = static_cast<uint8_t>(len >> 16);",
          "new_line_content": "                    \"Attempt to send message after stream was closed\",",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": "static_cast<uint8_t>(len >> 8)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(len >> 8)",
          "new_text": null,
          "old_line_content": "      frame_hdr[3] = static_cast<uint8_t>(len >> 8);",
          "new_line_content": "                    &s->write_closed_error, 1),",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": "static_cast<uint8_t>(len)",
          "new_api": null,
          "old_text": "static_cast<uint8_t>(len)",
          "new_text": null,
          "old_line_content": "      frame_hdr[4] = static_cast<uint8_t>(len);",
          "new_line_content": "          \"fetching_send_message_finished\");",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "static_cast<int64_t>(s->flow_controlled_buffer.length)",
          "new_api": null,
          "old_text": "static_cast<int64_t>(s->flow_controlled_buffer.length)",
          "new_text": null,
          "old_line_content": "          static_cast<int64_t>(s->flow_controlled_buffer.length) +",
          "new_line_content": "      frame_hdr[0] = (flags & GRPC_WRITE_INTERNAL_COMPRESS) != 0;",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "continue_fetching_send_locked",
          "new_api": null,
          "old_text": "continue_fetching_send_locked(t, s)",
          "new_text": null,
          "old_line_content": "      continue_fetching_send_locked(t, s);",
          "new_line_content": "      s->fetched_send_message_length = 0;",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "maybe_become_writable_due_to_send_msg",
          "new_api": null,
          "old_text": "maybe_become_writable_due_to_send_msg(t, s)",
          "new_text": null,
          "old_line_content": "      maybe_become_writable_due_to_send_msg(t, s);",
          "new_line_content": "      s->next_message_end_offset =",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_SEND_TRAILING_METADATA",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_SEND_TRAILING_METADATA()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_SEND_TRAILING_METADATA();",
          "new_line_content": "        s->next_message_end_offset -= t->write_buffer_size;",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->send_trailing_metadata_finished == nullptr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(s->send_trailing_metadata_finished == nullptr);",
          "new_line_content": "        s->write_buffering = true;",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "add_closure_barrier",
          "new_api": null,
          "old_text": "add_closure_barrier(on_complete)",
          "new_text": null,
          "old_line_content": "    s->send_trailing_metadata_finished = add_closure_barrier(on_complete);",
          "new_line_content": "        s->write_buffering = false;",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "grpc_metadata_batch_size",
          "new_api": null,
          "old_text": "grpc_metadata_batch_size(s->send_trailing_metadata)",
          "new_text": null,
          "old_line_content": "        grpc_metadata_batch_size(s->send_trailing_metadata);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "grpc_chttp2_cancel_stream",
          "new_api": null,
          "old_text": "grpc_chttp2_cancel_stream(\n          t, s,\n          grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED))",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_cancel_stream(",
          "new_line_content": "    on_complete->next_data.scratch |= CLOSURE_BARRIER_MAY_COVER_WRITE;",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n              grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit)),\n              GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_RESOURCE_EXHAUSTED)",
          "new_text": null,
          "old_line_content": "          grpc_error_set_int(",
          "new_line_content": "    s->send_trailing_metadata =",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\"),\n                                     GRPC_ERROR_INT_SIZE,\n                                     static_cast<intptr_t>(metadata_size)),\n                  GRPC_ERROR_INT_LIMIT,\n                  static_cast<intptr_t>(metadata_peer_limit))",
          "new_text": null,
          "old_line_content": "              grpc_error_set_int(",
          "new_line_content": "        op_payload->send_trailing_metadata.send_trailing_metadata;",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                                         \"to-be-sent trailing metadata size \"\n                                         \"exceeds peer limit\")",
          "new_text": null,
          "old_line_content": "                  grpc_error_set_int(GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "    s->write_buffering = false;",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "static_cast<intptr_t>(metadata_size)",
          "new_api": null,
          "old_text": "static_cast<intptr_t>(metadata_size)",
          "new_text": null,
          "old_line_content": "                                     static_cast<intptr_t>(metadata_size)),",
          "new_line_content": "        t->settings[GRPC_PEER_SETTINGS]",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "static_cast<intptr_t>(metadata_peer_limit)",
          "new_api": null,
          "old_text": "static_cast<intptr_t>(metadata_peer_limit)",
          "new_text": null,
          "old_line_content": "                  static_cast<intptr_t>(metadata_peer_limit)),",
          "new_line_content": "    if (metadata_size > metadata_peer_limit) {",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": "grpc_chttp2_complete_closure_step",
          "new_api": null,
          "old_text": "grpc_chttp2_complete_closure_step(\n            t, s, &s->send_trailing_metadata_finished,\n            grpc_metadata_batch_is_empty(\n                op->payload->send_trailing_metadata.send_trailing_metadata)\n                ? GRPC_ERROR_NONE\n                : GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                      \"Attempt to send trailing metadata after \"\n                      \"stream was closed\"),\n            \"send_trailing_metadata_finished\")",
          "new_text": null,
          "old_line_content": "        grpc_chttp2_complete_closure_step(",
          "new_line_content": "                                     GRPC_ERROR_INT_SIZE,",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "grpc_metadata_batch_is_empty",
          "new_api": null,
          "old_text": "grpc_metadata_batch_is_empty(\n                op->payload->send_trailing_metadata.send_trailing_metadata)",
          "new_text": null,
          "old_line_content": "            grpc_metadata_batch_is_empty(",
          "new_line_content": "                  GRPC_ERROR_INT_LIMIT,",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                      \"Attempt to send trailing metadata after \"\n                      \"stream was closed\")",
          "new_text": null,
          "old_line_content": "                : GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "grpc_chttp2_mark_stream_writable",
          "new_api": null,
          "old_text": "grpc_chttp2_mark_stream_writable(t, s)",
          "new_text": null,
          "old_line_content": "        grpc_chttp2_mark_stream_writable(t, s);",
          "new_line_content": "            t, s, &s->send_trailing_metadata_finished,",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_RECV_INITIAL_METADATA",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_RECV_INITIAL_METADATA()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_RECV_INITIAL_METADATA();",
          "new_line_content": "      } else if (s->id != 0) {",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->recv_initial_metadata_ready == nullptr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(s->recv_initial_metadata_ready == nullptr);",
          "new_line_content": "        /* TODO(ctiller): check if there's flow control for any outstanding",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "gpr_atm_rel_store",
          "new_api": null,
          "old_text": "gpr_atm_rel_store(op_payload->recv_initial_metadata.peer_string,\n                        (gpr_atm)t->peer_string)",
          "new_text": null,
          "old_line_content": "      gpr_atm_rel_store(op_payload->recv_initial_metadata.peer_string,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_RECV_MESSAGE",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_RECV_MESSAGE()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_RECV_MESSAGE();",
          "new_line_content": "        op_payload->recv_initial_metadata.recv_initial_metadata;",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->recv_message_ready == nullptr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(s->recv_message_ready == nullptr);",
          "new_line_content": "        op_payload->recv_initial_metadata.trailing_metadata_available;",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(!s->pending_byte_stream)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(!s->pending_byte_stream);",
          "new_line_content": "    if (op_payload->recv_initial_metadata.peer_string != nullptr) {",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": "grpc_chttp2_maybe_complete_recv_message",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_message(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_message(t, s);",
          "new_line_content": "    size_t before = 0;",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "IncomingByteStreamUpdate",
          "new_api": null,
          "old_text": "s->flow_control->IncomingByteStreamUpdate(GRPC_HEADER_SIZE_IN_BYTES,\n                                                  before - after)",
          "new_text": null,
          "old_line_content": "        s->flow_control->IncomingByteStreamUpdate(GRPC_HEADER_SIZE_IN_BYTES,",
          "new_line_content": "    if (s->id != 0) {",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "MakeAction",
          "new_api": null,
          "old_text": "s->flow_control->MakeAction()",
          "new_text": null,
          "old_line_content": "        grpc_chttp2_act_on_flowctl_action(s->flow_control->MakeAction(), t, s);",
          "new_line_content": "        before = s->frame_storage.length +",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "GRPC_STATS_INC_HTTP2_OP_RECV_TRAILING_METADATA",
          "new_api": null,
          "old_text": "GRPC_STATS_INC_HTTP2_OP_RECV_TRAILING_METADATA()",
          "new_text": null,
          "old_line_content": "    GRPC_STATS_INC_HTTP2_OP_RECV_TRAILING_METADATA();",
          "new_line_content": "      if (!s->read_closed && s->frame_storage.length == 0) {",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->collecting_stats == nullptr)",
          "new_text": null,
          "old_line_content": "    GPR_ASSERT(s->collecting_stats == nullptr);",
          "new_line_content": "        size_t after = s->frame_storage.length +",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "grpc_chttp2_maybe_complete_recv_trailing_metadata",
          "new_api": null,
          "old_text": "grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_maybe_complete_recv_trailing_metadata(t, s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": "GRPC_CHTTP2_STREAM_UNREF",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_STREAM_UNREF(s, \"perform_stream_op\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_STREAM_UNREF(s, \"perform_stream_op\");",
          "new_line_content": "    s->recv_trailing_metadata_finished =",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "reinterpret_cast<grpc_chttp2_stream*>(gs)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_stream*>(gs)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_stream* s = reinterpret_cast<grpc_chttp2_stream*>(gs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE)",
          "new_text": null,
          "old_line_content": "      GPR_ASSERT(deadline == GRPC_MILLIS_INF_FUTURE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_http_trace.enabled()",
          "new_text": null,
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "      grpc_millis deadline =",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "grpc_transport_stream_op_batch_string",
          "new_api": null,
          "old_text": "grpc_transport_stream_op_batch_string(op)",
          "new_text": null,
          "old_line_content": "    char* str = grpc_transport_stream_op_batch_string(op);",
          "new_line_content": "          op->payload->send_initial_metadata.send_initial_metadata->deadline;",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(str)",
          "new_text": null,
          "old_line_content": "    gpr_free(str);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "GRPC_CHTTP2_STREAM_REF",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_STREAM_REF(s, \"perform_stream_op\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_STREAM_REF(s, \"perform_stream_op\");",
          "new_line_content": "          op->payload->send_trailing_metadata.send_trailing_metadata->deadline;",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "GRPC_CLOSURE_SCHED",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_SCHED(\n      GRPC_CLOSURE_INIT(&op->handler_private.closure, perform_stream_op_locked,\n                        op, grpc_combiner_scheduler(t->combiner)),\n      GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  GRPC_CLOSURE_SCHED(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "GRPC_CLOSURE_INIT",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_INIT(&op->handler_private.closure, perform_stream_op_locked,\n                        op, grpc_combiner_scheduler(t->combiner))",
          "new_text": null,
          "old_line_content": "      GRPC_CLOSURE_INIT(&op->handler_private.closure, perform_stream_op_locked,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "grpc_combiner_scheduler",
          "new_api": null,
          "old_text": "grpc_combiner_scheduler(t->combiner)",
          "new_text": null,
          "old_line_content": "                        op, grpc_combiner_scheduler(t->combiner)),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(error != GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(error != GRPC_ERROR_NONE);",
          "new_line_content": "  op->handler_private.extra_arg = gs;",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "  GRPC_ERROR_UNREF(error);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_SCHED(on_ack, GRPC_ERROR_REF(t->closed_with_error));",
          "new_line_content": "  for (size_t j = 0; j < GRPC_CHTTP2_PCL_COUNT; j++) {",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "grpc_closure_list_append",
          "new_api": null,
          "old_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT], on_ack,\n                           GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT], on_ack,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "new_text": null,
          "old_line_content": "                     GRPC_ERROR_REF(t->closed_with_error));",
          "new_line_content": "                           GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_RUN(&t->finish_keepalive_ping_locked,\n                     GRPC_ERROR_REF(t->closed_with_error))",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_RUN(&t->finish_keepalive_ping_locked,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(t->closed_with_error)",
          "new_text": null,
          "old_line_content": "                     GRPC_ERROR_REF(t->closed_with_error));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": "grpc_closure_list_empty",
          "new_api": null,
          "old_text": "grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_INFLIGHT])",
          "new_text": null,
          "old_line_content": "  if (!grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_INFLIGHT])) {",
          "new_line_content": " * instead of waiting for that ping to complete and then starting a new ping.",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "    GRPC_CLOSURE_RUN(&t->start_keepalive_ping_locked, GRPC_ERROR_NONE);",
          "new_line_content": "static void send_keepalive_ping_locked(grpc_chttp2_transport* t) {",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": "grpc_closure_list_append",
          "new_api": null,
          "old_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT],\n                             &t->finish_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "    grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_INFLIGHT],",
          "new_line_content": "  if (t->closed_with_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "grpc_closure_list_append",
          "new_api": null,
          "old_text": "grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT],\n                           &t->finish_keepalive_ping_locked, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  grpc_closure_list_append(&pq->lists[GRPC_CHTTP2_PCL_NEXT],",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RETRY_SEND_PING)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_RETRY_SEND_PING);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "GRPC_CHTTP2_UNREF_TRANSPORT",
          "new_api": null,
          "old_text": "GRPC_CHTTP2_UNREF_TRANSPORT(t, \"retry_initiate_ping_locked\")",
          "new_text": null,
          "old_line_content": "  GRPC_CHTTP2_UNREF_TRANSPORT(t, \"retry_initiate_ping_locked\");",
          "new_line_content": "                           &t->start_keepalive_ping_locked, GRPC_ERROR_NONE);",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_DEBUG, \"Unknown ping response from %s: %\" PRIx64, from, id)",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_DEBUG, \"Unknown ping response from %s: %\" PRIx64, from, id);",
          "new_line_content": "  t->ping_state.is_delayed_ping_timer_set = false;",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(from)",
          "new_text": null,
          "old_line_content": "    gpr_free(from);",
          "new_line_content": "  if (error == GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "grpc_closure_list_empty",
          "new_api": null,
          "old_text": "grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_NEXT])",
          "new_text": null,
          "old_line_content": "  if (!grpc_closure_list_empty(pq->lists[GRPC_CHTTP2_PCL_NEXT])) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CONTINUE_PINGS)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_CONTINUE_PINGS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "grpc_error_string",
          "new_api": null,
          "old_text": "grpc_error_string(error)",
          "new_text": null,
          "old_line_content": "          grpc_error_string(error));",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": "grpc_chttp2_goaway_append",
          "new_api": null,
          "old_text": "grpc_chttp2_goaway_append(t->last_new_stream_id,\n                            static_cast<uint32_t>(http_error),\n                            grpc_slice_ref_internal(slice), &t->qbuf)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_goaway_append(t->last_new_stream_id,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": "static_cast<uint32_t>(http_error)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(http_error)",
          "new_text": null,
          "old_line_content": "                            static_cast<uint32_t>(http_error),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": "grpc_slice_ref_internal",
          "new_api": null,
          "old_text": "grpc_slice_ref_internal(slice)",
          "new_text": null,
          "old_line_content": "                            grpc_slice_ref_internal(slice), &t->qbuf);",
          "new_line_content": "static void send_goaway(grpc_chttp2_transport* t, grpc_error* error) {",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_GOAWAY_SENT)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_GOAWAY_SENT);",
          "new_line_content": "  /* We want to log this irrespective of whether http tracing is enabled */",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": "send_goaway",
          "new_api": null,
          "old_text": "send_goaway(t,\n                grpc_error_set_int(\n                    GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"too_many_pings\"),\n                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM))",
          "new_text": null,
          "old_line_content": "    send_goaway(t,",
          "new_line_content": "                        &http_error, nullptr);",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "grpc_error_set_int",
          "new_api": null,
          "old_text": "grpc_error_set_int(\n               GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\"),\n               GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE)",
          "new_text": null,
          "old_line_content": "        t, grpc_error_set_int(",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\")",
          "new_text": null,
          "old_line_content": "               GRPC_ERROR_CREATE_FROM_STATIC_STRING(\"Too many pings\"),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "static_cast<grpc_transport_op*>(stream_op)",
          "new_api": null,
          "old_text": "static_cast<grpc_transport_op*>(stream_op)",
          "new_text": null,
          "old_line_content": "  grpc_transport_op* op = static_cast<grpc_transport_op*>(stream_op);",
          "new_line_content": "                    GRPC_ERROR_INT_HTTP2_ERROR, GRPC_HTTP2_ENHANCE_YOUR_CALM));",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "send_goaway",
          "new_api": null,
          "old_text": "send_goaway(t, op->goaway_error)",
          "new_text": null,
          "old_line_content": "    send_goaway(t, op->goaway_error);",
          "new_line_content": "               GRPC_ERROR_INT_GRPC_STATUS, GRPC_STATUS_UNAVAILABLE));",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "grpc_endpoint_add_to_pollset",
          "new_api": null,
          "old_text": "grpc_endpoint_add_to_pollset(t->ep, op->bind_pollset)",
          "new_text": null,
          "old_line_content": "    grpc_endpoint_add_to_pollset(t->ep, op->bind_pollset);",
          "new_line_content": "  if (op->goaway_error) {",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "grpc_endpoint_add_to_pollset_set",
          "new_api": null,
          "old_text": "grpc_endpoint_add_to_pollset_set(t->ep, op->bind_pollset_set)",
          "new_text": null,
          "old_line_content": "    grpc_endpoint_add_to_pollset_set(t->ep, op->bind_pollset_set);",
          "new_line_content": "  if (op->set_accept_stream) {",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "send_ping_locked",
          "new_api": null,
          "old_text": "send_ping_locked(t, op->send_ping.on_initiate, op->send_ping.on_ack)",
          "new_text": null,
          "old_line_content": "    send_ping_locked(t, op->send_ping.on_initiate, op->send_ping.on_ack);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "grpc_chttp2_initiate_write",
          "new_api": null,
          "old_text": "grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_APPLICATION_PING)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_initiate_write(t, GRPC_CHTTP2_INITIATE_WRITE_APPLICATION_PING);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": "grpc_connectivity_state_notify_on_state_change",
          "new_api": null,
          "old_text": "grpc_connectivity_state_notify_on_state_change(\n        &t->channel_callback.state_tracker, op->connectivity_state,\n        op->on_connectivity_state_change)",
          "new_text": null,
          "old_line_content": "    grpc_connectivity_state_notify_on_state_change(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "GRPC_CLOSURE_RUN",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_RUN(op->on_consumed, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "  GRPC_CLOSURE_RUN(op->on_consumed, GRPC_ERROR_NONE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_api": null,
          "old_text": "reinterpret_cast<grpc_chttp2_transport*>(gt)",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_transport* t = reinterpret_cast<grpc_chttp2_transport*>(gt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "enabled",
          "new_api": null,
          "old_text": "grpc_http_trace.enabled()",
          "new_text": null,
          "old_line_content": "  if (grpc_http_trace.enabled()) {",
          "new_line_content": "  if (op->disconnect_with_error != GRPC_ERROR_NONE) {",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "gpr_log",
          "new_api": null,
          "old_text": "gpr_log(GPR_INFO, \"perform_transport_op[t=%p]: %s\", t, msg)",
          "new_text": null,
          "old_line_content": "    gpr_log(GPR_INFO, \"perform_transport_op[t=%p]: %s\", t, msg);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "gpr_free",
          "new_api": null,
          "old_text": "gpr_free(msg)",
          "new_text": null,
          "old_line_content": "    gpr_free(msg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "GRPC_CLOSURE_INIT",
          "new_api": null,
          "old_text": "GRPC_CLOSURE_INIT(&op->handler_private.closure,\n                                       perform_transport_op_locked, op,\n                                       grpc_combiner_scheduler(t->combiner))",
          "new_text": null,
          "old_line_content": "  GRPC_CLOSURE_SCHED(GRPC_CLOSURE_INIT(&op->handler_private.closure,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "grpc_combiner_scheduler",
          "new_api": null,
          "old_text": "grpc_combiner_scheduler(t->combiner)",
          "new_text": null,
          "old_line_content": "                                       grpc_combiner_scheduler(t->combiner)),",
          "new_line_content": "static void perform_transport_op(grpc_transport* gt, grpc_transport_op* op) {",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "new_text": null,
          "old_line_content": "      grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "new_text": null,
          "old_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "new_line_content": "/*******************************************************************************",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "grpc_chttp2_incoming_metadata_buffer_publish",
          "new_api": null,
          "old_text": "grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[0],\n                                                 s->recv_initial_metadata)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[0],",
          "new_line_content": "void grpc_chttp2_maybe_complete_recv_initial_metadata(grpc_chttp2_transport* t,",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "null_then_run_closure",
          "new_api": null,
          "old_text": "null_then_run_closure(&s->recv_initial_metadata_ready, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "    null_then_run_closure(&s->recv_initial_metadata_ready, GRPC_ERROR_NONE);",
          "new_line_content": "  if (s->recv_initial_metadata_ready != nullptr &&",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "new_text": null,
          "old_line_content": "      grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "new_line_content": "                                                 s->recv_initial_metadata);",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "new_text": null,
          "old_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "grpc_slice_buffer_swap",
          "new_api": null,
          "old_text": "grpc_slice_buffer_swap(&s->unprocessed_incoming_frames_buffer,\n                                 &s->frame_storage)",
          "new_text": null,
          "old_line_content": "          grpc_slice_buffer_swap(&s->unprocessed_incoming_frames_buffer,",
          "new_line_content": "    if (s->final_metadata_requested && s->seen_error) {",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s->decompressed_data_buffer.length == 0)",
          "new_text": null,
          "old_line_content": "          GPR_ASSERT(s->decompressed_data_buffer.length == 0);",
          "new_line_content": "    if (!s->pending_byte_stream) {",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "grpc_stream_decompress",
          "new_api": null,
          "old_text": "grpc_stream_decompress(\n                  s->stream_decompression_ctx,\n                  &s->unprocessed_incoming_frames_buffer,\n                  &s->decompressed_data_buffer, nullptr,\n                  GRPC_HEADER_SIZE_IN_BYTES - s->decompressed_header_bytes,\n                  &end_of_context)",
          "new_text": null,
          "old_line_content": "          if (!grpc_stream_decompress(",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "new_text": null,
          "old_line_content": "            grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "new_line_content": "          if (!s->stream_decompression_ctx) {",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(\n                &s->unprocessed_incoming_frames_buffer)",
          "new_text": null,
          "old_line_content": "            grpc_slice_buffer_reset_and_unref_internal(",
          "new_line_content": "            s->stream_decompression_ctx =",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "GRPC_ERROR_CREATE_FROM_STATIC_STRING",
          "new_api": null,
          "old_text": "GRPC_ERROR_CREATE_FROM_STATIC_STRING(\n                \"Stream decompression error.\")",
          "new_text": null,
          "old_line_content": "            error = GRPC_ERROR_CREATE_FROM_STATIC_STRING(",
          "new_line_content": "                    s->stream_decompression_method);",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "grpc_deframe_unprocessed_incoming_frames",
          "new_api": null,
          "old_text": "grpc_deframe_unprocessed_incoming_frames(\n                &s->data_parser, s, &s->decompressed_data_buffer, nullptr,\n                s->recv_message)",
          "new_text": null,
          "old_line_content": "            error = grpc_deframe_unprocessed_incoming_frames(",
          "new_line_content": "                  &end_of_context)) {",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "grpc_deframe_unprocessed_incoming_frames",
          "new_api": null,
          "old_text": "grpc_deframe_unprocessed_incoming_frames(\n              &s->data_parser, s, &s->unprocessed_incoming_frames_buffer,\n              nullptr, s->recv_message)",
          "new_text": null,
          "old_line_content": "          error = grpc_deframe_unprocessed_incoming_frames(",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "new_text": null,
          "old_line_content": "          grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "new_line_content": "                  s->stream_decompression_ctx);",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(\n              &s->unprocessed_incoming_frames_buffer)",
          "new_text": null,
          "old_line_content": "          grpc_slice_buffer_reset_and_unref_internal(",
          "new_line_content": "              s->stream_decompression_ctx = nullptr;",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "null_then_run_closure",
          "new_api": null,
          "old_text": "null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "      null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE);",
          "new_line_content": "          break;",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "null_then_run_closure",
          "new_api": null,
          "old_text": "null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE)",
          "new_text": null,
          "old_line_content": "      null_then_run_closure(&s->recv_message_ready, GRPC_ERROR_NONE);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(error)",
          "new_text": null,
          "old_line_content": "    GRPC_ERROR_UNREF(error);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "new_text": null,
          "old_line_content": "      grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "new_text": null,
          "old_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "grpc_stream_compression_context_create",
          "new_api": null,
          "old_text": "grpc_stream_compression_context_create(\n            s->stream_decompression_method)",
          "new_text": null,
          "old_line_content": "        s->stream_decompression_ctx = grpc_stream_compression_context_create(",
          "new_line_content": "            &s->unprocessed_incoming_frames_buffer);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "grpc_stream_decompress",
          "new_api": null,
          "old_text": "grpc_stream_decompress(\n              s->stream_decompression_ctx, &s->frame_storage,\n              &s->unprocessed_incoming_frames_buffer, nullptr,\n              GRPC_HEADER_SIZE_IN_BYTES, &end_of_context)",
          "new_text": null,
          "old_line_content": "      if (!grpc_stream_decompress(",
          "new_line_content": "    bool pending_data = s->pending_byte_stream ||",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage)",
          "new_text": null,
          "old_line_content": "        grpc_slice_buffer_reset_and_unref_internal(&s->frame_storage);",
          "new_line_content": "      /* Maybe some SYNC_FLUSH data is left in frame_storage. Consume them and",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "grpc_slice_buffer_reset_and_unref_internal",
          "new_api": null,
          "old_text": "grpc_slice_buffer_reset_and_unref_internal(\n            &s->unprocessed_incoming_frames_buffer)",
          "new_text": null,
          "old_line_content": "        grpc_slice_buffer_reset_and_unref_internal(",
          "new_line_content": "       * maybe decompress the next 5 bytes in the stream. */",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": "grpc_stream_compression_context_destroy",
          "new_api": null,
          "old_text": "grpc_stream_compression_context_destroy(s->stream_decompression_ctx)",
          "new_text": null,
          "old_line_content": "          grpc_stream_compression_context_destroy(s->stream_decompression_ctx);",
          "new_line_content": "              GRPC_HEADER_SIZE_IN_BYTES, &end_of_context)) {",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": "grpc_transport_move_stats",
          "new_api": null,
          "old_text": "grpc_transport_move_stats(&s->stats, s->collecting_stats)",
          "new_text": null,
          "old_line_content": "      grpc_transport_move_stats(&s->stats, s->collecting_stats);",
          "new_line_content": "          s->unprocessed_incoming_frames_decompressed = true;",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "grpc_chttp2_incoming_metadata_buffer_publish",
          "new_api": null,
          "old_text": "grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[1],\n                                                   s->recv_trailing_metadata)",
          "new_text": null,
          "old_line_content": "      grpc_chttp2_incoming_metadata_buffer_publish(&s->metadata_buffer[1],",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "static_cast<grpc_chttp2_stream*>(\n      grpc_chttp2_stream_map_delete(&t->stream_map, id))",
          "new_api": null,
          "old_text": "static_cast<grpc_chttp2_stream*>(\n      grpc_chttp2_stream_map_delete(&t->stream_map, id))",
          "new_text": null,
          "old_line_content": "  grpc_chttp2_stream* s = static_cast<grpc_chttp2_stream*>(",
          "new_line_content": "      s->collecting_stats = nullptr;",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": "GPR_ASSERT",
          "new_api": null,
          "old_text": "GPR_ASSERT(s)",
          "new_text": null,
          "old_line_content": "  GPR_ASSERT(s);",
          "new_line_content": "                                                   s->recv_trailing_metadata);",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "grpc_chttp2_parsing_become_skip_parser",
          "new_api": null,
          "old_text": "grpc_chttp2_parsing_become_skip_parser(t)",
          "new_text": null,
          "old_line_content": "    grpc_chttp2_parsing_become_skip_parser(t);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": "Unref",
          "new_api": null,
          "old_text": "bs->Unref()",
          "new_text": null,
          "old_line_content": "      bs->Unref();",
          "new_line_content": "  if (t->incoming_stream == s) {",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "GRPC_ERROR_UNREF",
          "new_api": null,
          "old_text": "GRPC_ERROR_UNREF(s->byte_stream_error)",
          "new_text": null,
          "old_line_content": "      GRPC_ERROR_UNREF(s->byte_stream_error);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "GRPC_ERROR_REF",
          "new_api": null,
          "old_text": "GRPC_ERROR_REF(error)",
          "new_text": null,
          "old_line_content": "      s->byte_stream_error = GRPC_ERROR_REF(error);",
          "new_line_content": "  if (s->pending_byte_stream) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 180,
      "total_additions": 450,
      "total_deletions": 449,
      "total_api_changes": 1079
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 1079,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          1093,
          1094,
          1095,
          1096,
          1065,
          1068
        ]
      }
    },
    "api_calls_before": 998,
    "api_calls_after": 999,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 0,
      "total_diff_lines": 36
    }
  }
}