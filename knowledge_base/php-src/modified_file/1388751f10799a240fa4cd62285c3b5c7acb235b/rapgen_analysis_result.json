{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/1388751f10799a240fa4cd62285c3b5c7acb235b",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/1388751f10799a240fa4cd62285c3b5c7acb235b/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/1388751f10799a240fa4cd62285c3b5c7acb235b/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/1388751f10799a240fa4cd62285c3b5c7acb235b/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2346,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s\", (char **)&string.val, &string.len, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "MBSTRG",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|ls\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &offset, &enc_name, &enc_name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": "mbfl_strpos",
          "new_api": "php_error_docref",
          "old_text": "mbfl_strpos(&haystack, &needle, offset, reverse)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "old_line_content": "\tn = mbfl_strpos(&haystack, &needle, offset, reverse);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|zs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &zoffset, &enc_name, &enc_name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "php_mb_stripos",
          "new_api": "php_error_docref",
          "old_text": "php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "old_line_content": "\tn = php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "content_same": false
        },
        {
          "line": 2553,
          "old_api": "php_mb_stripos",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tn = php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|ls\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &offset, &from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &enc_name, &enc_name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "mbfl_strpos",
          "new_api": "php_error_docref",
          "old_text": "mbfl_strpos(&haystack, &needle, 0, 0)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "old_line_content": "\tn = mbfl_strpos(&haystack, &needle, 0, 0);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "mbfl_substr",
          "new_api": "mbfl_strpos",
          "old_text": "mbfl_substr(&haystack, &result, 0, n)",
          "new_text": "mbfl_strpos(&haystack, &needle, 0, 0)",
          "old_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "new_line_content": "\tn = mbfl_strpos(&haystack, &needle, 0, 0);",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, 0, n)",
          "old_line_content": "\t\t\t\tefree(ret->val);",
          "new_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, n, len)",
          "old_line_content": "\t\t\t\tefree(ret->val);",
          "new_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &enc_name, &enc_name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": "mbfl_substr",
          "new_api": "mbfl_strpos",
          "old_text": "mbfl_substr(&haystack, &result, 0, n)",
          "new_text": "mbfl_strpos(&haystack, &needle, 0, 1)",
          "old_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "new_line_content": "\tn = mbfl_strpos(&haystack, &needle, 0, 1);",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, 0, n)",
          "old_line_content": "\t\t\t\tefree(ret->val);",
          "new_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "content_same": false
        },
        {
          "line": 2668,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, n, len)",
          "old_line_content": "\t\t\t\tefree(ret->val);",
          "new_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "content_same": false
        },
        {
          "line": 2694,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": "php_mb_stripos",
          "new_api": "php_error_docref",
          "old_text": "php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "old_line_content": "\tn = php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": "mbfl_strlen",
          "new_api": "mbfl_is_error",
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\tmblen = mbfl_strlen(&haystack);",
          "new_line_content": "\tif (mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, 0, n)",
          "old_line_content": "\t\t\tefree(ret->val);",
          "new_line_content": "\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, n, len)",
          "old_line_content": "\t\t\tefree(ret->val);",
          "new_line_content": "\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "mbfl_strlen",
          "new_api": "mbfl_is_error",
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\tmblen = mbfl_strlen(&haystack);",
          "new_line_content": "\tif (mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, 0, n)",
          "old_line_content": "\t\t\tefree(ret->val);",
          "new_line_content": "\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "efree",
          "new_api": "mbfl_substr",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_substr(&haystack, &result, n, len)",
          "old_line_content": "\t\t\tefree(ret->val);",
          "new_line_content": "\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|s\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &enc_name, &enc_name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": "mbfl_substr_count",
          "new_api": "php_error_docref",
          "old_text": "mbfl_substr_count(&haystack, &needle)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Empty substring\")",
          "old_line_content": "\tn = mbfl_substr_count(&haystack, &needle);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty substring\");",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": "mbfl_string_init",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "mbfl_string_init(&string)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sl|l!s\", &str, &str_len, &from, &len, &len_is_null, &encoding, &encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sl|l!s\", (char **)&string.val, &string.len, &from, &len, &len_is_null, &encoding, &encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": "MBSTRG",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "MBSTRG(language)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s\", (char **)&string.val, &string.len, &enc_name, &enc_name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3005,
          "old_api": "mbfl_string_init",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "mbfl_string_init(&string)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sll|ss\", &str, &str_len, &from, &width, &trimmarker, &trimmarker_len, &encoding, &encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": "php_mb_get_encoding",
          "new_api": "mbfl_string_init",
          "old_text": "php_mb_get_encoding(encoding)",
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tstring.encoding = marker.encoding = php_mb_get_encoding(encoding);",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": "MBSTRG",
          "new_api": "php_error_docref",
          "old_text": "MBSTRG(current_filter_illegal_mode)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to create character encoding converter\")",
          "old_line_content": "\tmbfl_buffer_converter_illegal_mode(convd, MBSTRG(current_filter_illegal_mode));",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create character encoding converter\");",
          "content_same": false
        },
        {
          "line": 3112,
          "old_api": "php_mb_is_no_encoding_utf8",
          "new_api": "MBSTRG",
          "old_text": "php_mb_is_no_encoding_utf8(string.encoding->no_encoding)",
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\tif (php_mb_is_no_encoding_utf8(string.encoding->no_encoding)) {",
          "new_line_content": "\t\tmbfl_buffer_converter_illegal_substchar(convd, MBSTRG(current_filter_illegal_substchar));",
          "content_same": false
        },
        {
          "line": 3113,
          "old_api": "MBSTRG",
          "new_api": "php_mb_is_no_encoding_unicode",
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": "php_mb_is_no_encoding_unicode(string.encoding->no_encoding)",
          "old_line_content": "\t\t\tif (MBSTRG(current_filter_illegal_substchar) > 0xd7ff &&",
          "new_line_content": "\t} else if (php_mb_is_no_encoding_unicode(string.encoding->no_encoding)",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": "mbfl_buffer_converter_illegal_substchar",
          "new_api": "php_mb_is_no_encoding_utf8",
          "old_text": "mbfl_buffer_converter_illegal_substchar(convd, 0x3f)",
          "new_text": "php_mb_is_no_encoding_utf8(string.encoding->no_encoding)",
          "old_line_content": "\t\t\t\tmbfl_buffer_converter_illegal_substchar(convd, 0x3f);",
          "new_line_content": "\t\tif (php_mb_is_no_encoding_utf8(string.encoding->no_encoding)) {",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": "mbfl_buffer_converter_illegal_substchar",
          "new_api": "MBSTRG",
          "old_text": "mbfl_buffer_converter_illegal_substchar(convd,\n\t\t\t\t\tMBSTRG(current_filter_illegal_substchar))",
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t\t\tmbfl_buffer_converter_illegal_substchar(convd,",
          "new_line_content": "\t\t\t\t0xe000 > MBSTRG(current_filter_illegal_substchar)",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": "mbfl_buffer_converter_feed_result",
          "new_api": "mbfl_buffer_converter_illegal_substchar",
          "old_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "new_text": "mbfl_buffer_converter_illegal_substchar(convd, 0x3f)",
          "old_line_content": "\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "new_line_content": "\t\tmbfl_buffer_converter_illegal_substchar(convd, 0x3f);",
          "content_same": false
        },
        {
          "line": 3163,
          "old_api": "MBSTRG",
          "new_api": "php_error_docref",
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", _to_encoding)",
          "old_line_content": "\t\tto_encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", _to_encoding);",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": "strlen",
          "new_api": "MBSTRG",
          "old_text": "strlen(_from_encodings)",
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\tphp_mb_parse_encoding_list(_from_encodings, strlen(_from_encodings), &list, &size, 0);",
          "new_line_content": "\tfrom_encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 3193,
          "old_api": "php_mb_convert_encoding_ex",
          "new_api": "efree",
          "old_text": "php_mb_convert_encoding_ex(input, length, to_encoding, from_encoding, output_len)",
          "new_text": "efree((void *)list)",
          "old_line_content": "\treturn php_mb_convert_encoding_ex(input, length, to_encoding, from_encoding, output_len);",
          "new_line_content": "\t\t\tefree((void *)list);",
          "content_same": false
        },
        {
          "line": 3216,
          "old_api": "zend_hash_num_elements",
          "new_api": "php_error_docref",
          "old_text": "zend_hash_num_elements(input)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Cannot convert recursively referenced values\")",
          "old_line_content": "\tzend_hash_init(output, zend_hash_num_elements(input), NULL, ZVAL_PTR_DTOR, 0);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Cannot convert recursively referenced values\");",
          "content_same": false
        },
        {
          "line": 3220,
          "old_api": "ZSTR_LEN",
          "new_api": "zend_hash_num_elements",
          "old_text": "ZSTR_LEN(key)",
          "new_text": "zend_hash_num_elements(input)",
          "old_line_content": "\t\t\tckey = php_mb_convert_encoding(ZSTR_VAL(key), ZSTR_LEN(key), _to_encoding, _from_encodings, &ckey_len);",
          "new_line_content": "\tzend_hash_init(output, zend_hash_num_elements(input), NULL, ZVAL_PTR_DTOR, 0);",
          "content_same": false
        },
        {
          "line": 3224,
          "old_api": "ZEND_ASSERT",
          "new_api": "ZSTR_LEN",
          "old_text": "ZEND_ASSERT(entry)",
          "new_text": "ZSTR_LEN(key)",
          "old_line_content": "\t\tZEND_ASSERT(entry);",
          "new_line_content": "\t\t\tckey = php_mb_convert_encoding(ZSTR_VAL(key), ZSTR_LEN(key), _to_encoding, _from_encodings, &ckey_len);",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": "Z_TYPE_P",
          "new_api": "zend_string_init",
          "old_text": "Z_TYPE_P(entry)",
          "new_text": "zend_string_init(ckey, ckey_len, 0)",
          "old_line_content": "\t\tswitch(Z_TYPE_P(entry)) {",
          "new_line_content": "\t\t\tkey_tmp = zend_string_init(ckey, ckey_len, 0);",
          "content_same": false
        },
        {
          "line": 3228,
          "old_api": "ZVAL_STRINGL",
          "new_api": "ZEND_ASSERT",
          "old_text": "ZVAL_STRINGL(&entry_tmp, cval, cval_len)",
          "new_text": "ZEND_ASSERT(entry)",
          "old_line_content": "\t\t\t\tZVAL_STRINGL(&entry_tmp, cval, cval_len);",
          "new_line_content": "\t\tZEND_ASSERT(entry);",
          "content_same": false
        },
        {
          "line": 3229,
          "old_api": "efree",
          "new_api": "Z_TYPE_P",
          "old_text": "efree(cval)",
          "new_text": "Z_TYPE_P(entry)",
          "old_line_content": "\t\t\t\tefree(cval);",
          "new_line_content": "\t\tswitch(Z_TYPE_P(entry)) {",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": "zend_hash_add",
          "new_api": "php_error_docref",
          "old_text": "zend_hash_add(output, key_tmp, &entry_tmp)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Object is not supported\")",
          "old_line_content": "\t\t\tzend_hash_add(output, key_tmp, &entry_tmp);",
          "new_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Object is not supported\");",
          "content_same": false
        },
        {
          "line": 3259,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "zend_hash_add",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "zend_hash_add(output, key_tmp, &entry_tmp)",
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\tzend_hash_add(output, key_tmp, &entry_tmp);",
          "content_same": false
        },
        {
          "line": 3285,
          "old_api": "Z_TYPE_P",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "Z_TYPE_P(input)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tif (Z_TYPE_P(input) != IS_STRING && Z_TYPE_P(input) != IS_ARRAY) {",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"zs|z\", &input, &arg_new, &new_len, &arg_old) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3290,
          "old_api": "Z_TYPE_P",
          "new_api": "convert_to_string",
          "old_text": "Z_TYPE_P(arg_old)",
          "new_text": "convert_to_string(input)",
          "old_line_content": "\t\tswitch (Z_TYPE_P(arg_old)) {",
          "new_line_content": "\t\tconvert_to_string(input);",
          "content_same": false
        },
        {
          "line": 3301,
          "old_api": "Z_STRVAL_P",
          "new_api": "convert_to_string_ex",
          "old_text": "Z_STRVAL_P(hash_entry)",
          "new_text": "convert_to_string_ex(hash_entry)",
          "old_line_content": "\t\t\t\t\t\tn = strlen(Z_STRVAL_P(hash_entry));",
          "new_line_content": "\t\t\t\t\tconvert_to_string_ex(hash_entry);",
          "content_same": false
        },
        {
          "line": 3304,
          "old_api": "Z_STRLEN_P",
          "new_api": "strlen",
          "old_text": "Z_STRLEN_P(hash_entry)",
          "new_text": "strlen(_from_encodings)",
          "old_line_content": "\t\t\t\t\t\tmemcpy(_from_encodings + l + 1, Z_STRVAL_P(hash_entry), Z_STRLEN_P(hash_entry) + 1);",
          "new_line_content": "\t\t\t\t\t\tl = strlen(_from_encodings);",
          "content_same": false
        },
        {
          "line": 3306,
          "old_api": "Z_STRVAL_P",
          "new_api": "erealloc",
          "old_text": "Z_STRVAL_P(hash_entry)",
          "new_text": "erealloc(_from_encodings, l+n+2)",
          "old_line_content": "\t\t\t\t\t\t_from_encodings = estrdup(Z_STRVAL_P(hash_entry));",
          "new_line_content": "\t\t\t\t\t\t_from_encodings = erealloc(_from_encodings, l+n+2);",
          "content_same": false
        },
        {
          "line": 3308,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "Z_STRLEN_P",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "Z_STRLEN_P(hash_entry)",
          "old_line_content": "\t\t\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\t\t\t\tmemcpy(_from_encodings + l + 1, Z_STRVAL_P(hash_entry), Z_STRLEN_P(hash_entry) + 1);",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": "strlen",
          "new_api": "Z_STRVAL_P",
          "old_text": "strlen(_from_encodings)",
          "new_text": "Z_STRVAL_P(hash_entry)",
          "old_line_content": "\t\t\t\tif (_from_encodings != NULL && !strlen(_from_encodings)) {",
          "new_line_content": "\t\t\t\t\t\t_from_encodings = estrdup(Z_STRVAL_P(hash_entry));",
          "content_same": false
        },
        {
          "line": 3329,
          "old_api": "efree",
          "new_api": "Z_STRLEN_P",
          "old_text": "efree(ret)",
          "new_text": "Z_STRLEN_P(input)",
          "old_line_content": "\t\t\tefree(ret);",
          "new_line_content": "\t\tret = php_mb_convert_encoding(Z_STRVAL_P(input), Z_STRLEN_P(input), arg_new, _from_encodings, &size);",
          "content_same": false
        },
        {
          "line": 3338,
          "old_api": "HASH_OF",
          "new_api": "efree",
          "old_text": "HASH_OF(input)",
          "new_text": "efree(s_free)",
          "old_line_content": "\t\ttmp = php_mb_convert_encoding_recursive(HASH_OF(input), arg_new, _from_encodings);",
          "new_line_content": "\t\t\tefree(s_free);",
          "content_same": false
        },
        {
          "line": 3373,
          "old_api": "RETVAL_STRINGL",
          "new_api": "php_unicode_convert_case",
          "old_text": "RETVAL_STRINGL(newstr, ret_len)",
          "new_text": "php_unicode_convert_case(case_mode, str, str_len, &ret_len, enc)",
          "old_line_content": "\t\tRETVAL_STRINGL(newstr, ret_len);",
          "new_line_content": "\tnewstr = php_unicode_convert_case(case_mode, str, str_len, &ret_len, enc);",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": "RETVAL_STRINGL",
          "new_api": "php_unicode_convert_case",
          "old_text": "RETVAL_STRINGL(newstr, ret_len)",
          "new_text": "php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, str, str_len, &ret_len, enc)",
          "old_line_content": "\t\tRETVAL_STRINGL(newstr, ret_len);",
          "new_line_content": "\tnewstr = php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, str, str_len, &ret_len, enc);",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": "RETVAL_STRINGL",
          "new_api": "php_unicode_convert_case",
          "old_text": "RETVAL_STRINGL(newstr, ret_len)",
          "new_text": "php_unicode_convert_case(PHP_UNICODE_CASE_LOWER, str, str_len, &ret_len, enc)",
          "old_line_content": "\t\tRETVAL_STRINGL(newstr, ret_len);",
          "new_line_content": "\tnewstr = php_unicode_convert_case(PHP_UNICODE_CASE_LOWER, str, str_len, &ret_len, enc);",
          "content_same": false
        },
        {
          "line": 3473,
          "old_api": "efree",
          "new_api": "Z_TYPE_P",
          "old_text": "efree(list)",
          "new_text": "Z_TYPE_P(encoding_list)",
          "old_line_content": "\t\t\t\t\tefree(list);",
          "new_line_content": "\t\tswitch (Z_TYPE_P(encoding_list)) {",
          "content_same": false
        },
        {
          "line": 3495,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": "php_error_docref",
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Illegal argument\")",
          "old_line_content": "\tif (ZEND_NUM_ARGS() < 3) {",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Illegal argument\");",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": "mbfl_string_init",
          "new_api": "MBSTRG",
          "old_text": "mbfl_string_init(&string)",
          "new_text": "MBSTRG(current_detect_order_list)",
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\t\telist = MBSTRG(current_detect_order_list);",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "mbfl_identify_encoding",
          "new_api": "mbfl_string_init",
          "old_text": "mbfl_identify_encoding(&string, elist, size, strict)",
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tret = mbfl_identify_encoding(&string, elist, size, strict);",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3536,
          "old_api": "array_init",
          "new_api": "zend_parse_parameters_none",
          "old_text": "array_init(return_value)",
          "new_text": "zend_parse_parameters_none()",
          "old_line_content": "\tarray_init(return_value);",
          "new_line_content": "\tif (zend_parse_parameters_none() == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3540,
          "old_api": "add_next_index_string",
          "new_api": "array_init",
          "old_text": "add_next_index_string(return_value, (char *) encoding->name)",
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\tadd_next_index_string(return_value, (char *) encoding->name);",
          "new_line_content": "\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": "mbfl_name2encoding",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "mbfl_name2encoding(name)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tencoding = mbfl_name2encoding(name);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s\", &name, &name_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3563,
          "old_api": "array_init",
          "new_api": "php_error_docref",
          "old_text": "array_init(return_value)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", name)",
          "old_line_content": "\tarray_init(return_value);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", name);",
          "content_same": false
        },
        {
          "line": 3567,
          "old_api": "add_next_index_string",
          "new_api": "array_init",
          "old_text": "add_next_index_string(return_value, (char *)*alias)",
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\t\tadd_next_index_string(return_value, (char *)*alias);",
          "new_line_content": "\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 3591,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": "mbfl_string_init",
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|sssl\", (char **)&string.val, &string.len, &charset_name, &charset_name_len, &trans_enc_name, &trans_enc_name_len, &linefeed, &linefeed_len, &indent) == FAILURE) {",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3605,
          "old_api": "MBSTRG",
          "new_api": "php_error_docref",
          "old_text": "MBSTRG(language)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", charset_name)",
          "old_line_content": "\t\tconst mbfl_language *lang = mbfl_no2language(MBSTRG(language));",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", charset_name);",
          "content_same": false
        },
        {
          "line": 3624,
          "old_api": "RETVAL_STRINGL",
          "new_api": "mbfl_string_init",
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": "mbfl_string_init(&result)",
          "old_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);\t/* the string is already strdup()'ed */",
          "new_line_content": "\tmbfl_string_init(&result);",
          "content_same": false
        },
        {
          "line": 3625,
          "old_api": "efree",
          "new_api": "mbfl_mime_header_encode",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_mime_header_encode(&string, &result, charset, transenc, linefeed, indent)",
          "old_line_content": "\t\tefree(ret->val);",
          "new_line_content": "\tret = mbfl_mime_header_encode(&string, &result, charset, transenc, linefeed, indent);",
          "content_same": false
        },
        {
          "line": 3643,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": "mbfl_string_init",
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s\", (char **)&string.val, &string_len) == FAILURE) {",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3647,
          "old_api": "ZEND_SIZE_T_UINT_OVFL",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "ZEND_SIZE_T_UINT_OVFL(string_len)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tif (ZEND_SIZE_T_UINT_OVFL(string_len)) {",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s\", (char **)&string.val, &string_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3658,
          "old_api": "RETVAL_STRINGL",
          "new_api": "mbfl_string_init",
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": "mbfl_string_init(&result)",
          "old_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);\t/* the string is already strdup()'ed */",
          "new_line_content": "\tmbfl_string_init(&result);",
          "content_same": false
        },
        {
          "line": 3659,
          "old_api": "efree",
          "new_api": "MBSTRG",
          "old_text": "efree(ret->val)",
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\tefree(ret->val);",
          "new_line_content": "\tret = mbfl_mime_header_decode(&string, &result, MBSTRG(current_internal_encoding));",
          "content_same": false
        },
        {
          "line": 3759,
          "old_api": "efree",
          "new_api": "mbfl_ja_jp_hantozen",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_ja_jp_hantozen(&string, &result, opt)",
          "old_line_content": "\t\tefree(ret->val);",
          "new_line_content": "\tret = mbfl_ja_jp_hantozen(&string, &result, opt);",
          "content_same": false
        },
        {
          "line": 3802,
          "old_api": "MBSTRG",
          "new_api": "mbfl_string_init",
          "old_text": "MBSTRG(language)",
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": "Z_STRLEN_P",
          "new_api": "php_mb_parse_encoding_array",
          "old_text": "Z_STRLEN_P(zfrom_enc)",
          "new_text": "php_mb_parse_encoding_array(zfrom_enc, &elist, &elistsz, 0)",
          "old_line_content": "\t\t\tphp_mb_parse_encoding_list(Z_STRVAL_P(zfrom_enc), Z_STRLEN_P(zfrom_enc), &elist, &elistsz, 0);",
          "new_line_content": "\t\t\tphp_mb_parse_encoding_array(zfrom_enc, &elist, &elistsz, 0);",
          "content_same": false
        },
        {
          "line": 3838,
          "old_api": "zend_hash_internal_pointer_reset",
          "new_api": "SEPARATE_ZVAL_NOREF",
          "old_text": "zend_hash_internal_pointer_reset(target_hash)",
          "new_text": "SEPARATE_ZVAL_NOREF(var)",
          "old_line_content": "\t\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "new_line_content": "\t\t\t\t\tSEPARATE_ZVAL_NOREF(var);",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": "Z_REFCOUNTED_P",
          "new_api": "Z_TYPE_P",
          "old_text": "Z_REFCOUNTED_P(var)",
          "new_text": "Z_TYPE_P(var)",
          "old_line_content": "\t\t\t\t\t\t\tif (Z_REFCOUNTED_P(var)) {",
          "new_line_content": "\t\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": "ZVAL_DEREF",
          "new_api": "zend_hash_move_forward",
          "old_text": "ZVAL_DEREF(hash_entry)",
          "new_text": "zend_hash_move_forward(target_hash)",
          "old_line_content": "\t\t\t\t\t\t\tZVAL_DEREF(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\tzend_hash_move_forward(target_hash);",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": "erealloc",
          "new_api": "ZVAL_DEREF",
          "old_text": "erealloc(stack, sizeof(zval) * stack_max)",
          "new_text": "ZVAL_DEREF(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t\tptmp = erealloc(stack, sizeof(zval) * stack_max);",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_DEREF(hash_entry);",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": "Z_STRVAL_P",
          "new_api": "zend_hash_internal_pointer_reset",
          "old_text": "Z_STRVAL_P(hash_entry)",
          "new_text": "zend_hash_internal_pointer_reset(target_hash)",
          "old_line_content": "\t\t\t\t\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": "Z_REFCOUNTED_P",
          "new_api": "mbfl_encoding_detector_delete",
          "old_text": "Z_REFCOUNTED_P(var)",
          "new_text": "mbfl_encoding_detector_delete(identd)",
          "old_line_content": "\t\t\t\tif (Z_REFCOUNTED_P(var)) {",
          "new_line_content": "\t\t\tmbfl_encoding_detector_delete(identd);",
          "content_same": false
        },
        {
          "line": 3904,
          "old_api": "efree",
          "new_api": "HASH_OF",
          "old_text": "efree(stack)",
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\tefree(stack);",
          "new_line_content": "\t\t\t\t\t\tHASH_OF(var)->u.v.nApplyCount--;",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": "php_error_docref",
          "new_api": "efree",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\")",
          "new_text": "efree(stack)",
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\");",
          "new_line_content": "\t\t\tefree(stack);",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": "MBSTRG",
          "new_api": "php_error_docref",
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to create converter\")",
          "old_line_content": "\t\tmbfl_buffer_converter_illegal_substchar(convd, MBSTRG(current_filter_illegal_substchar));",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create converter\");",
          "content_same": false
        },
        {
          "line": 3947,
          "old_api": "zend_hash_internal_pointer_reset",
          "new_api": "SEPARATE_ZVAL_NOREF",
          "old_text": "zend_hash_internal_pointer_reset(target_hash)",
          "new_text": "SEPARATE_ZVAL_NOREF(var)",
          "old_line_content": "\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "new_line_content": "\t\t\t\tSEPARATE_ZVAL_NOREF(var);",
          "content_same": false
        },
        {
          "line": 3958,
          "old_api": "zend_hash_move_forward",
          "new_api": "Z_TYPE_P",
          "old_text": "zend_hash_move_forward(target_hash)",
          "new_text": "Z_TYPE_P(var)",
          "old_line_content": "\t\t\t\t\t\tzend_hash_move_forward(target_hash);",
          "new_line_content": "\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 3959,
          "old_api": "Z_TYPE_P",
          "new_api": "HASH_OF",
          "old_text": "Z_TYPE_P(hash_entry_ptr)",
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t\t\t\tif (Z_TYPE_P(hash_entry_ptr) == IS_INDIRECT) {",
          "new_line_content": "\t\t\t\ttarget_hash = HASH_OF(var);",
          "content_same": false
        },
        {
          "line": 3963,
          "old_api": "ZVAL_DEREF",
          "new_api": "Z_TYPE_P",
          "old_text": "ZVAL_DEREF(hash_entry)",
          "new_text": "Z_TYPE_P(hash_entry_ptr)",
          "old_line_content": "\t\t\t\t\t\tZVAL_DEREF(hash_entry);",
          "new_line_content": "\t\t\t\t\t\tif (Z_TYPE_P(hash_entry_ptr) == IS_INDIRECT) {",
          "content_same": false
        },
        {
          "line": 3964,
          "old_api": "Z_TYPE_P",
          "new_api": "Z_INDIRECT_P",
          "old_text": "Z_TYPE_P(hash_entry)",
          "new_text": "Z_INDIRECT_P(hash_entry_ptr)",
          "old_line_content": "\t\t\t\t\t\tif (Z_TYPE_P(hash_entry) == IS_ARRAY || Z_TYPE_P(hash_entry) == IS_OBJECT) {",
          "new_line_content": "\t\t\t\t\t\t\thash_entry_ptr = Z_INDIRECT_P(hash_entry_ptr);",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": "HASH_OF",
          "new_api": "ZVAL_DEREF",
          "old_text": "HASH_OF(hash_entry)",
          "new_text": "ZVAL_DEREF(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t--(HASH_OF(hash_entry)->u.v.nApplyCount);",
          "new_line_content": "\t\t\t\t\t\tZVAL_DEREF(hash_entry);",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": "HASH_OF",
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": "HASH_OF(var)",
          "new_text": "ZVAL_COPY_VALUE(&stack[stack_level], var)",
          "old_line_content": "\t\t\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_COPY_VALUE(&stack[stack_level], var);",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": "Z_STRVAL_P",
          "new_api": "zend_hash_internal_pointer_reset",
          "old_text": "Z_STRVAL_P(hash_entry)",
          "new_text": "zend_hash_internal_pointer_reset(target_hash)",
          "old_line_content": "\t\t\t\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "content_same": false
        },
        {
          "line": 3991,
          "old_api": "zval_ptr_dtor",
          "new_api": "Z_STRVAL_P",
          "old_text": "zval_ptr_dtor(hash_entry_ptr)",
          "new_text": "Z_STRVAL_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\tzval_ptr_dtor(hash_entry_ptr);",
          "new_line_content": "\t\t\t\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(hash_entry);",
          "content_same": false
        },
        {
          "line": 3993,
          "old_api": "ZVAL_STRINGL",
          "new_api": "mbfl_buffer_converter_feed_result",
          "old_text": "ZVAL_STRINGL(hash_entry_ptr, (char *)ret->val, ret->len)",
          "new_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "old_line_content": "\t\t\t\t\t\t\t\tZVAL_STRINGL(hash_entry_ptr, (char *)ret->val, ret->len);",
          "new_line_content": "\t\t\t\t\t\t\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "content_same": false
        },
        {
          "line": 4004,
          "old_api": "zval_ptr_dtor",
          "new_api": "Z_STRVAL_P",
          "old_text": "zval_ptr_dtor(var)",
          "new_text": "Z_STRVAL_P(var)",
          "old_line_content": "\t\t\t\t\tzval_ptr_dtor(var);",
          "new_line_content": "\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(var);",
          "content_same": false
        },
        {
          "line": 4006,
          "old_api": "ZVAL_STRINGL",
          "new_api": "mbfl_buffer_converter_feed_result",
          "old_text": "ZVAL_STRINGL(var, (char *)ret->val, ret->len)",
          "new_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "old_line_content": "\t\t\t\t\tZVAL_STRINGL(var, (char *)ret->val, ret->len);",
          "new_line_content": "\t\t\t\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "content_same": false
        },
        {
          "line": 4018,
          "old_api": "Z_REFCOUNTED_P",
          "new_api": "mbfl_buffer_converter_delete",
          "old_text": "Z_REFCOUNTED_P(var)",
          "new_text": "mbfl_buffer_converter_delete(convd)",
          "old_line_content": "\t\t\t\tif (Z_REFCOUNTED_P(var)) {",
          "new_line_content": "\t\tmbfl_buffer_converter_delete(convd);",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": "efree",
          "new_api": "HASH_OF",
          "old_text": "efree(stack)",
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\tefree(stack);",
          "new_line_content": "\t\t\t\t\t\tHASH_OF(var)->u.v.nApplyCount--;",
          "content_same": false
        },
        {
          "line": 4032,
          "old_api": "RETURN_STRING",
          "new_api": "efree",
          "old_text": "RETURN_STRING(from_encoding->name)",
          "new_text": "efree(stack)",
          "old_line_content": "\t\tRETURN_STRING(from_encoding->name);",
          "new_line_content": "\t\tefree(stack);",
          "content_same": false
        },
        {
          "line": 4056,
          "old_api": "mbfl_string_init",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "mbfl_string_init(&string)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sz|sb\", &str, &str_len, &zconvmap, &encoding, &encoding_len, &is_hex) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": "safe_emalloc",
          "new_api": "Z_TYPE_P",
          "old_text": "safe_emalloc(i, sizeof(int), 0)",
          "new_text": "Z_TYPE_P(zconvmap)",
          "old_line_content": "\t\t\tconvmap = (int *)safe_emalloc(i, sizeof(int), 0);",
          "new_line_content": "\tif (Z_TYPE_P(zconvmap) == IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": "convert_to_long_ex",
          "new_api": "safe_emalloc",
          "old_text": "convert_to_long_ex(hash_entry)",
          "new_text": "safe_emalloc(i, sizeof(int), 0)",
          "old_line_content": "\t\t\t\tconvert_to_long_ex(hash_entry);",
          "new_line_content": "\t\t\tconvmap = (int *)safe_emalloc(i, sizeof(int), 0);",
          "content_same": false
        },
        {
          "line": 4100,
          "old_api": "efree",
          "new_api": "mbfl_html_numeric_entity",
          "old_text": "efree(ret->val)",
          "new_text": "mbfl_html_numeric_entity(&string, &result, convmap, mapsize, type)",
          "old_line_content": "\t\tefree(ret->val);",
          "new_line_content": "\tret = mbfl_html_numeric_entity(&string, &result, convmap, mapsize, type);",
          "content_same": false
        },
        {
          "line": 4257,
          "old_api": "zend_string_release",
          "new_api": "ZVAL_STR",
          "old_text": "zend_string_release(fld_name)",
          "new_text": "ZVAL_STR(&val, fld_val)",
          "old_line_content": "\t\t\t\t\t\t\t\tzend_string_release(fld_name);",
          "new_line_content": "\t\t\t\t\t\t\t\tZVAL_STR(&val, fld_val);",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": "zend_string_release",
          "new_api": "ZVAL_STR",
          "old_text": "zend_string_release(fld_name)",
          "new_text": "ZVAL_STR(&val, fld_val)",
          "old_line_content": "\t\t\tzend_string_release(fld_name);",
          "new_line_content": "\t\t\tZVAL_STR(&val, fld_val);",
          "content_same": false
        },
        {
          "line": 4359,
          "old_api": "mbfl_no2encoding",
          "new_api": "MBSTRG",
          "old_text": "mbfl_no2encoding(lang->mail_body_encoding)",
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\tbody_enc = mbfl_no2encoding(lang->mail_body_encoding);",
          "new_line_content": "\tlang = mbfl_no2language(MBSTRG(language));",
          "content_same": false
        },
        {
          "line": 4362,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": "mbfl_no2encoding",
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": "mbfl_no2encoding(lang->mail_header_encoding)",
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sss|zS\", &to, &to_len, &subject, &subject_len, &message, &message_len, &headers, &extra_cmd) == FAILURE) {",
          "new_line_content": "\t\thead_enc = mbfl_no2encoding(lang->mail_header_encoding);",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": "Z_TYPE_P",
          "new_api": "MAIL_ASCIIZ_CHECK_MBSTRING",
          "old_text": "Z_TYPE_P(headers)",
          "new_text": "MAIL_ASCIIZ_CHECK_MBSTRING(to, to_len)",
          "old_line_content": "\t\tswitch(Z_TYPE_P(headers)) {",
          "new_line_content": "\tMAIL_ASCIIZ_CHECK_MBSTRING(to, to_len);",
          "content_same": false
        },
        {
          "line": 4373,
          "old_api": "Z_STRLEN_P",
          "new_api": "MAIL_ASCIIZ_CHECK_MBSTRING",
          "old_text": "Z_STRLEN_P(headers)",
          "new_text": "MAIL_ASCIIZ_CHECK_MBSTRING(message, message_len)",
          "old_line_content": "\t\t\t\ttmp_headers = zend_string_init(Z_STRVAL_P(headers), Z_STRLEN_P(headers), 0);",
          "new_line_content": "\tMAIL_ASCIIZ_CHECK_MBSTRING(message, message_len);",
          "content_same": false
        },
        {
          "line": 4375,
          "old_api": "php_trim",
          "new_api": "Z_TYPE_P",
          "old_text": "php_trim(tmp_headers, NULL, 0, 2)",
          "new_text": "Z_TYPE_P(headers)",
          "old_line_content": "\t\t\t\tstr_headers = php_trim(tmp_headers, NULL, 0, 2);",
          "new_line_content": "\t\tswitch(Z_TYPE_P(headers)) {",
          "content_same": false
        },
        {
          "line": 4379,
          "old_api": "php_mail_build_headers",
          "new_api": "php_trim",
          "old_text": "php_mail_build_headers(headers)",
          "new_text": "php_trim(tmp_headers, NULL, 0, 2)",
          "old_line_content": "\t\t\t\tstr_headers = php_mail_build_headers(headers);",
          "new_line_content": "\t\t\t\tstr_headers = php_trim(tmp_headers, NULL, 0, 2);",
          "content_same": false
        },
        {
          "line": 4421,
          "old_api": "php_error_docref",
          "new_api": "mbfl_name2encoding",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unsupported charset \\\"%s\\\" - will be regarded as ascii\", charset)",
          "new_text": "mbfl_name2encoding(charset)",
          "old_line_content": "\t\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported charset \\\"%s\\\" - will be regarded as ascii\", charset);",
          "new_line_content": "\t\t\t\t\t\t\t_tran_cs = mbfl_name2encoding(charset);",
          "content_same": false
        },
        {
          "line": 4436,
          "old_api": "Z_STRVAL_P",
          "new_api": "zend_hash_str_find",
          "old_text": "Z_STRVAL_P(s)",
          "new_text": "zend_hash_str_find(&ht_headers, \"CONTENT-TRANSFER-ENCODING\", sizeof(\"CONTENT-TRANSFER-ENCODING\") - 1)",
          "old_line_content": "\t\t_body_enc = mbfl_name2encoding(Z_STRVAL_P(s));",
          "new_line_content": "\tif ((s = zend_hash_str_find(&ht_headers, \"CONTENT-TRANSFER-ENCODING\", sizeof(\"CONTENT-TRANSFER-ENCODING\") - 1))) {",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": "ZSTR_LEN",
          "old_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "new_text": "ZSTR_LEN(str_headers)",
          "old_line_content": "\t\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "new_line_content": "\t\tn = ZSTR_LEN(str_headers);",
          "content_same": false
        },
        {
          "line": 4546,
          "old_api": "zend_hash_str_exists",
          "new_api": "mbfl_memory_device_strncat",
          "old_text": "zend_hash_str_exists(&ht_headers, \"MIME-VERSION\", sizeof(\"MIME-VERSION\") - 1)",
          "new_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "old_line_content": "\tif (!zend_hash_str_exists(&ht_headers, \"MIME-VERSION\", sizeof(\"MIME-VERSION\") - 1)) {",
          "new_line_content": "\t\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": "mbfl_no2preferred_mime_name",
          "new_api": "mbfl_memory_device_strncat",
          "old_text": "mbfl_no2preferred_mime_name(body_enc->no_encoding)",
          "new_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "old_line_content": "\t\tp = (char *)mbfl_no2preferred_mime_name(body_enc->no_encoding);",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "content_same": false
        },
        {
          "line": 4567,
          "old_api": "mbfl_memory_device_strcat",
          "new_api": "mbfl_no2preferred_mime_name",
          "old_text": "mbfl_memory_device_strcat(&device, p)",
          "new_text": "mbfl_no2preferred_mime_name(body_enc->no_encoding)",
          "old_line_content": "\t\tmbfl_memory_device_strcat(&device, p);",
          "new_line_content": "\t\tp = (char *)mbfl_no2preferred_mime_name(body_enc->no_encoding);",
          "content_same": false
        },
        {
          "line": 4571,
          "old_api": "mbfl_memory_device_unput",
          "new_api": "mbfl_memory_device_strcat",
          "old_text": "mbfl_memory_device_unput(&device)",
          "new_text": "mbfl_memory_device_strcat(&device, p)",
          "old_line_content": "\tmbfl_memory_device_unput(&device);",
          "new_line_content": "\t\tmbfl_memory_device_strcat(&device, p);",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": "mbfl_memory_device_output",
          "new_api": "mbfl_memory_device_strncat",
          "old_text": "mbfl_memory_device_output('\\0', &device)",
          "new_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "old_line_content": "\tmbfl_memory_device_output('\\0', &device);",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": "php_escape_shell_cmd",
          "new_api": "mbfl_memory_device_output",
          "old_text": "php_escape_shell_cmd(force_extra_parameters)",
          "new_text": "mbfl_memory_device_output('\\0', &device)",
          "old_line_content": "\t\textra_cmd = php_escape_shell_cmd(force_extra_parameters);",
          "new_line_content": "\tmbfl_memory_device_output('\\0', &device);",
          "content_same": false
        },
        {
          "line": 4592,
          "old_api": "efree",
          "new_api": "zend_string_release",
          "old_text": "efree(to_r)",
          "new_text": "zend_string_release(extra_cmd)",
          "old_line_content": "\t\tefree(to_r);",
          "new_line_content": "\t\tzend_string_release(extra_cmd);",
          "content_same": false
        },
        {
          "line": 4632,
          "old_api": "strcasecmp",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "strcasecmp(\"all\", typ)",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tif (!typ || !strcasecmp(\"all\", typ)) {",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"|s\", &typ, &typ_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4637,
          "old_api": "MBSTRG",
          "new_api": "array_init",
          "old_text": "MBSTRG(http_input_identify)",
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\tif (MBSTRG(http_input_identify)) {",
          "new_line_content": "\t\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 4644,
          "old_api": "add_assoc_string",
          "new_api": "MBSTRG",
          "old_text": "add_assoc_string(return_value, \"http_output_conv_mimetypes\", name)",
          "new_text": "MBSTRG(current_http_output_encoding)",
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"http_output_conv_mimetypes\", name);",
          "new_line_content": "\t\tif (MBSTRG(current_http_output_encoding)) {",
          "content_same": false
        },
        {
          "line": 4647,
          "old_api": "MBSTRG",
          "new_api": "zend_ini_string",
          "old_text": "MBSTRG(func_overload)",
          "new_text": "zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)",
          "old_line_content": "\t\tif (MBSTRG(func_overload)){",
          "new_line_content": "\t\tif ((name = (char *)zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)) != NULL) {",
          "content_same": false
        },
        {
          "line": 4656,
          "old_api": "add_assoc_zval",
          "new_api": "add_assoc_string",
          "old_text": "add_assoc_zval(return_value, \"func_overload_list\", &row1)",
          "new_text": "add_assoc_string(&row1, over_func->orig_func, over_func->ovld_func)",
          "old_line_content": "\t\t\tadd_assoc_zval(return_value, \"func_overload_list\", &row1);",
          "new_line_content": "\t\t\t\t\tadd_assoc_string(&row1, over_func->orig_func, over_func->ovld_func);",
          "content_same": false
        },
        {
          "line": 4665,
          "old_api": "add_assoc_string",
          "new_api": "mbfl_no_encoding2name",
          "old_text": "add_assoc_string(return_value, \"mail_header_encoding\", name)",
          "new_text": "mbfl_no_encoding2name(lang->mail_charset)",
          "old_line_content": "\t\t\t\tadd_assoc_string(return_value, \"mail_header_encoding\", name);",
          "new_line_content": "\t\t\tif ((name = (char *)mbfl_no_encoding2name(lang->mail_charset)) != NULL) {",
          "content_same": false
        },
        {
          "line": 4668,
          "old_api": "add_assoc_string",
          "new_api": "mbfl_no_encoding2name",
          "old_text": "add_assoc_string(return_value, \"mail_body_encoding\", name)",
          "new_text": "mbfl_no_encoding2name(lang->mail_header_encoding)",
          "old_line_content": "\t\t\t\tadd_assoc_string(return_value, \"mail_body_encoding\", name);",
          "new_line_content": "\t\t\tif ((name = (char *)mbfl_no_encoding2name(lang->mail_header_encoding)) != NULL) {",
          "content_same": false
        },
        {
          "line": 4671,
          "old_api": "MBSTRG",
          "new_api": "mbfl_no_encoding2name",
          "old_text": "MBSTRG(illegalchars)",
          "new_text": "mbfl_no_encoding2name(lang->mail_body_encoding)",
          "old_line_content": "\t\tadd_assoc_long(return_value, \"illegal_chars\", MBSTRG(illegalchars));",
          "new_line_content": "\t\t\tif ((name = (char *)mbfl_no_encoding2name(lang->mail_body_encoding)) != NULL) {",
          "content_same": false
        },
        {
          "line": 4672,
          "old_api": "MBSTRG",
          "new_api": "add_assoc_string",
          "old_text": "MBSTRG(encoding_translation)",
          "new_text": "add_assoc_string(return_value, \"mail_body_encoding\", name)",
          "old_line_content": "\t\tif (MBSTRG(encoding_translation)) {",
          "new_line_content": "\t\t\t\tadd_assoc_string(return_value, \"mail_body_encoding\", name);",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": "add_assoc_string",
          "new_api": "MBSTRG",
          "old_text": "add_assoc_string(return_value, \"encoding_translation\", \"Off\")",
          "new_text": "MBSTRG(illegalchars)",
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"encoding_translation\", \"Off\");",
          "new_line_content": "\t\tadd_assoc_long(return_value, \"illegal_chars\", MBSTRG(illegalchars));",
          "content_same": false
        },
        {
          "line": 4677,
          "old_api": "MBSTRG",
          "new_api": "add_assoc_string",
          "old_text": "MBSTRG(language)",
          "new_text": "add_assoc_string(return_value, \"encoding_translation\", \"On\")",
          "old_line_content": "\t\tif ((name = (char *)mbfl_no_language2name(MBSTRG(language))) != NULL) {",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"encoding_translation\", \"On\");",
          "content_same": false
        },
        {
          "line": 4684,
          "old_api": "array_init",
          "new_api": "MBSTRG",
          "old_text": "array_init(&row2)",
          "new_text": "MBSTRG(current_detect_order_list_size)",
          "old_line_content": "\t\t\tarray_init(&row2);",
          "new_line_content": "\t\tn = MBSTRG(current_detect_order_list_size);",
          "content_same": false
        },
        {
          "line": 4693,
          "old_api": "MBSTRG",
          "new_api": "add_assoc_zval",
          "old_text": "MBSTRG(current_filter_illegal_mode)",
          "new_text": "add_assoc_zval(return_value, \"detect_order\", &row2)",
          "old_line_content": "\t\t} else if (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_LONG) {",
          "new_line_content": "\t\t\tadd_assoc_zval(return_value, \"detect_order\", &row2);",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "MBSTRG",
          "new_api": "add_assoc_string",
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": "add_assoc_string(return_value, \"substitute_character\", \"long\")",
          "old_line_content": "\t\t\tadd_assoc_long(return_value, \"substitute_character\", MBSTRG(current_filter_illegal_substchar));",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"substitute_character\", \"long\");",
          "content_same": false
        },
        {
          "line": 4700,
          "old_api": "MBSTRG",
          "new_api": "add_assoc_string",
          "old_text": "MBSTRG(strict_detection)",
          "new_text": "add_assoc_string(return_value, \"substitute_character\", \"entity\")",
          "old_line_content": "\t\tif (MBSTRG(strict_detection)) {",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"substitute_character\", \"entity\");",
          "content_same": false
        },
        {
          "line": 4705,
          "old_api": "strcasecmp",
          "new_api": "add_assoc_string",
          "old_text": "strcasecmp(\"internal_encoding\", typ)",
          "new_text": "add_assoc_string(return_value, \"strict_detection\", \"On\")",
          "old_line_content": "\t} else if (!strcasecmp(\"internal_encoding\", typ)) {",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"strict_detection\", \"On\");",
          "content_same": false
        },
        {
          "line": 4707,
          "old_api": "MBSTRG",
          "new_api": "add_assoc_string",
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": "add_assoc_string(return_value, \"strict_detection\", \"Off\")",
          "old_line_content": "\t\t\tRETVAL_STRING((char *)MBSTRG(current_internal_encoding)->name);",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"strict_detection\", \"Off\");",
          "content_same": false
        },
        {
          "line": 4718,
          "old_api": "zend_ini_string",
          "new_api": "MBSTRG",
          "old_text": "zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)",
          "new_text": "MBSTRG(current_http_output_encoding)",
          "old_line_content": "\t\tif ((name = (char *)zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)) != NULL) {",
          "new_line_content": "\t\tif (MBSTRG(current_http_output_encoding)) {",
          "content_same": false
        },
        {
          "line": 4719,
          "old_api": "RETVAL_STRING",
          "new_api": "MBSTRG",
          "old_text": "RETVAL_STRING(name)",
          "new_text": "MBSTRG(current_http_output_encoding)",
          "old_line_content": "\t\t\tRETVAL_STRING(name);",
          "new_line_content": "\t\t\tRETVAL_STRING((char *)MBSTRG(current_http_output_encoding)->name);",
          "content_same": false
        },
        {
          "line": 4722,
          "old_api": "MBSTRG",
          "new_api": "zend_ini_string",
          "old_text": "MBSTRG(func_overload)",
          "new_text": "zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)",
          "old_line_content": " \t\tRETVAL_LONG(MBSTRG(func_overload));",
          "new_line_content": "\t\tif ((name = (char *)zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)) != NULL) {",
          "content_same": false
        },
        {
          "line": 4723,
          "old_api": "strcasecmp",
          "new_api": "RETVAL_STRING",
          "old_text": "strcasecmp(\"func_overload_list\", typ)",
          "new_text": "RETVAL_STRING(name)",
          "old_line_content": "\t} else if (!strcasecmp(\"func_overload_list\", typ)) {",
          "new_line_content": "\t\t\tRETVAL_STRING(name);",
          "content_same": false
        },
        {
          "line": 4726,
          "old_api": "array_init",
          "new_api": "MBSTRG",
          "old_text": "array_init(return_value)",
          "new_text": "MBSTRG(func_overload)",
          "old_line_content": "\t\t\t\tarray_init(return_value);",
          "new_line_content": " \t\tRETVAL_LONG(MBSTRG(func_overload));",
          "content_same": false
        },
        {
          "line": 4749,
          "old_api": "MBSTRG",
          "new_api": "mbfl_no_encoding2name",
          "old_text": "MBSTRG(illegalchars)",
          "new_text": "mbfl_no_encoding2name(lang->mail_body_encoding)",
          "old_line_content": "\t\tRETVAL_LONG(MBSTRG(illegalchars));",
          "new_line_content": "\t\tif (lang != NULL && (name = (char *)mbfl_no_encoding2name(lang->mail_body_encoding)) != NULL) {",
          "content_same": false
        },
        {
          "line": 4750,
          "old_api": "strcasecmp",
          "new_api": "RETVAL_STRING",
          "old_text": "strcasecmp(\"encoding_translation\", typ)",
          "new_text": "RETVAL_STRING(name)",
          "old_line_content": "\t} else if (!strcasecmp(\"encoding_translation\", typ)) {",
          "new_line_content": "\t\t\tRETVAL_STRING(name);",
          "content_same": false
        },
        {
          "line": 4752,
          "old_api": "RETVAL_STRING",
          "new_api": "strcasecmp",
          "old_text": "RETVAL_STRING(\"On\")",
          "new_text": "strcasecmp(\"illegal_chars\", typ)",
          "old_line_content": "\t\t\tRETVAL_STRING(\"On\");",
          "new_line_content": "\t} else if (!strcasecmp(\"illegal_chars\", typ)) {",
          "content_same": false
        },
        {
          "line": 4754,
          "old_api": "RETVAL_STRING",
          "new_api": "strcasecmp",
          "old_text": "RETVAL_STRING(\"Off\")",
          "new_text": "strcasecmp(\"encoding_translation\", typ)",
          "old_line_content": "\t\t\tRETVAL_STRING(\"Off\");",
          "new_line_content": "\t} else if (!strcasecmp(\"encoding_translation\", typ)) {",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": "strcasecmp",
          "new_api": "RETVAL_STRING",
          "old_text": "strcasecmp(\"language\", typ)",
          "new_text": "RETVAL_STRING(\"On\")",
          "old_line_content": "\t} else if (!strcasecmp(\"language\", typ)) {",
          "new_line_content": "\t\t\tRETVAL_STRING(\"On\");",
          "content_same": false
        },
        {
          "line": 4762,
          "old_api": "MBSTRG",
          "new_api": "RETVAL_STRING",
          "old_text": "MBSTRG(current_detect_order_list)",
          "new_text": "RETVAL_STRING(name)",
          "old_line_content": "\t\tentry = MBSTRG(current_detect_order_list);",
          "new_line_content": "\t\t\tRETVAL_STRING(name);",
          "content_same": false
        },
        {
          "line": 4765,
          "old_api": "array_init",
          "new_api": "MBSTRG",
          "old_text": "array_init(return_value)",
          "new_text": "MBSTRG(current_detect_order_list_size)",
          "old_line_content": "\t\t\tarray_init(return_value);",
          "new_line_content": "\t\tn = MBSTRG(current_detect_order_list_size);",
          "content_same": false
        },
        {
          "line": 4771,
          "old_api": "strcasecmp",
          "new_api": "add_next_index_string",
          "old_text": "strcasecmp(\"substitute_character\", typ)",
          "new_text": "add_next_index_string(return_value, (*entry)->name)",
          "old_line_content": "\t} else if (!strcasecmp(\"substitute_character\", typ)) {",
          "new_line_content": "\t\t\t\tadd_next_index_string(return_value, (*entry)->name);",
          "content_same": false
        },
        {
          "line": 4775,
          "old_api": "RETVAL_STRING",
          "new_api": "strcasecmp",
          "old_text": "RETVAL_STRING(\"long\")",
          "new_text": "strcasecmp(\"substitute_character\", typ)",
          "old_line_content": "\t\t\tRETVAL_STRING(\"long\");",
          "new_line_content": "\t} else if (!strcasecmp(\"substitute_character\", typ)) {",
          "content_same": false
        },
        {
          "line": 4779,
          "old_api": "MBSTRG",
          "new_api": "RETVAL_STRING",
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": "RETVAL_STRING(\"long\")",
          "old_line_content": "\t\t\tRETVAL_LONG(MBSTRG(current_filter_illegal_substchar));",
          "new_line_content": "\t\t\tRETVAL_STRING(\"long\");",
          "content_same": false
        },
        {
          "line": 4781,
          "old_api": "strcasecmp",
          "new_api": "RETVAL_STRING",
          "old_text": "strcasecmp(\"strict_detection\", typ)",
          "new_text": "RETVAL_STRING(\"entity\")",
          "old_line_content": "\t} else if (!strcasecmp(\"strict_detection\", typ)) {",
          "new_line_content": "\t\t\tRETVAL_STRING(\"entity\");",
          "content_same": false
        },
        {
          "line": 4783,
          "old_api": "RETVAL_STRING",
          "new_api": "MBSTRG",
          "old_text": "RETVAL_STRING(\"On\")",
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t\tRETVAL_STRING(\"On\");",
          "new_line_content": "\t\t\tRETVAL_LONG(MBSTRG(current_filter_illegal_substchar));",
          "content_same": false
        },
        {
          "line": 4785,
          "old_api": "RETVAL_STRING",
          "new_api": "strcasecmp",
          "old_text": "RETVAL_STRING(\"Off\")",
          "new_text": "strcasecmp(\"strict_detection\", typ)",
          "old_line_content": "\t\t\tRETVAL_STRING(\"Off\");",
          "new_line_content": "\t} else if (!strcasecmp(\"strict_detection\", typ)) {",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": "mbfl_buffer_converter_illegal_mode",
          "new_api": "mbfl_buffer_converter_new",
          "old_text": "mbfl_buffer_converter_illegal_mode(convd, MBFL_OUTPUTFILTER_ILLEGAL_MODE_NONE)",
          "new_text": "mbfl_buffer_converter_new(encoding, encoding, 0)",
          "old_line_content": "\tmbfl_buffer_converter_illegal_mode(convd, MBFL_OUTPUTFILTER_ILLEGAL_MODE_NONE);",
          "new_line_content": "\tconvd = mbfl_buffer_converter_new(encoding, encoding, 0);",
          "content_same": false
        },
        {
          "line": 4823,
          "old_api": "memcmp",
          "new_api": "mbfl_buffer_converter_feed_result",
          "old_text": "memcmp(string.val, result.val, string.len)",
          "new_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "old_line_content": "\t\tif (illegalchars == 0 && string.len == result.len && memcmp(string.val, result.val, string.len) == 0) {",
          "new_line_content": "\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": "mbfl_string_clear",
          "new_api": "mbfl_buffer_illegalchars",
          "old_text": "mbfl_string_clear(&result)",
          "new_text": "mbfl_buffer_illegalchars(convd)",
          "old_line_content": "\t\t\tmbfl_string_clear(&result);",
          "new_line_content": "\tillegalchars = mbfl_buffer_illegalchars(convd);",
          "content_same": false
        },
        {
          "line": 4827,
          "old_api": "mbfl_string_clear",
          "new_api": "memcmp",
          "old_text": "mbfl_string_clear(&result)",
          "new_text": "memcmp(string.val, result.val, string.len)",
          "old_line_content": "\t\tmbfl_string_clear(&result);",
          "new_line_content": "\t\tif (illegalchars == 0 && string.len == result.len && memcmp(string.val, result.val, string.len) == 0) {",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": "mbfl_name2encoding",
          "new_api": "MBSTRG",
          "old_text": "mbfl_name2encoding(enc)",
          "new_text": "MBSTRG(illegalchars)",
          "old_line_content": "\t\tencoding = mbfl_name2encoding(enc);",
          "new_line_content": "\t\treturn MBSTRG(illegalchars) == 0;",
          "content_same": false
        },
        {
          "line": 4856,
          "old_api": "php_mb_check_encoding_impl",
          "new_api": "php_error_docref",
          "old_text": "php_mb_check_encoding_impl(convd, input, length, encoding)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to create converter\")",
          "old_line_content": "\tif (php_mb_check_encoding_impl(convd, input, length, encoding)) {",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create converter\");",
          "content_same": false
        },
        {
          "line": 4860,
          "old_api": "mbfl_buffer_converter_delete",
          "new_api": "php_mb_check_encoding_impl",
          "old_text": "mbfl_buffer_converter_delete(convd)",
          "new_text": "php_mb_check_encoding_impl(convd, input, length, encoding)",
          "old_line_content": "\tmbfl_buffer_converter_delete(convd);",
          "new_line_content": "\tif (php_mb_check_encoding_impl(convd, input, length, encoding)) {",
          "content_same": false
        },
        {
          "line": 4897,
          "old_api": "ZVAL_DEREF",
          "new_api": "php_error_docref",
          "old_text": "ZVAL_DEREF(entry)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Cannot not handle circular references\")",
          "old_line_content": "\t\tZVAL_DEREF(entry);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Cannot not handle circular references\");",
          "content_same": false
        },
        {
          "line": 5012,
          "old_api": "php_mb_is_unsupported_no_encoding",
          "new_api": "efree",
          "old_text": "php_mb_is_unsupported_no_encoding(no_enc)",
          "new_text": "efree(ret)",
          "old_line_content": "\t} else if (php_mb_is_unsupported_no_encoding(no_enc)) {",
          "new_line_content": "\t\tefree(ret);",
          "content_same": false
        },
        {
          "line": 5017,
          "old_api": "php_mb_convert_encoding_ex",
          "new_api": "php_error_docref",
          "old_text": "php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name)",
          "old_line_content": "\tret = php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name);",
          "content_same": false
        },
        {
          "line": 5060,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 5093,
          "old_api": "MBSTRG",
          "new_api": "php_mb_is_no_encoding_utf8",
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": "php_mb_is_no_encoding_utf8(no_enc)",
          "old_line_content": "\t\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "new_line_content": "\tif (php_mb_is_no_encoding_utf8(no_enc)) {",
          "content_same": false
        },
        {
          "line": 5143,
          "old_api": "MBSTRG",
          "new_api": "php_mb_is_no_encoding_unicode",
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": "php_mb_is_no_encoding_unicode(no_enc)",
          "old_line_content": "\t\t\tif (php_mb_is_no_encoding_unicode(MBSTRG(current_internal_encoding)->no_encoding)) {",
          "new_line_content": "\t} else if (php_mb_is_no_encoding_unicode(no_enc)) {",
          "content_same": false
        },
        {
          "line": 5233,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 5269,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 5312,
          "old_api": "MBSTRG",
          "new_api": "mbfl_no2encoding",
          "old_text": "MBSTRG(current_detect_order_list_size)",
          "new_text": "mbfl_no2encoding(src[i])",
          "old_line_content": "\tMBSTRG(current_detect_order_list_size) = nentries;",
          "new_line_content": "\t\t\tentry[i] = mbfl_no2encoding(src[i]);",
          "content_same": false
        },
        {
          "line": 5413,
          "old_api": "MBSTRG",
          "new_api": "mbfl_string_init",
          "old_text": "MBSTRG(language)",
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\tneedle.no_language = MBSTRG(language);",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 5464,
          "old_api": "efree",
          "new_api": "mbfl_strpos",
          "old_text": "efree(haystack.val)",
          "new_text": "mbfl_strpos(&haystack, &needle, offset, mode)",
          "old_line_content": "\t\tefree(haystack.val);",
          "new_line_content": "\t\tn = mbfl_strpos(&haystack, &needle, offset, mode);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4103,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree((void *)convmap)",
          "old_line_content": "/* {{{ proto string mb_encode_numericentity(string string, array convmap [, string encoding [, bool is_hex]])",
          "new_line_content": "\tefree((void *)convmap);",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": null,
          "new_api": "php_mb_numericentity_exec",
          "old_text": null,
          "new_text": "php_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0)",
          "old_line_content": "/* {{{ proto string mb_decode_numericentity(string string, array convmap [, string encoding])",
          "new_line_content": "\tphp_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "content_same": false
        },
        {
          "line": 4124,
          "old_api": null,
          "new_api": "php_mb_numericentity_exec",
          "old_text": null,
          "new_text": "php_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1)",
          "old_line_content": "",
          "new_line_content": "\tphp_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "content_same": false
        },
        {
          "line": 4183,
          "old_api": null,
          "new_api": "zend_string_init",
          "old_text": null,
          "new_text": "zend_string_init(token, token_pos, 0)",
          "old_line_content": "\t\t\t\t\ttoken_pos++;",
          "new_line_content": "\t\t\t\t\t\tfld_name = zend_string_init(token, token_pos, 0);",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": null,
          "new_api": "zend_string_init",
          "old_text": null,
          "new_text": "zend_string_init(token, token_pos, 0)",
          "old_line_content": "\t\t\t\t\t\t\t\tzval val;",
          "new_line_content": "\t\t\t\t\t\t\t\tfld_val = zend_string_init(token, token_pos, 0);",
          "content_same": false
        },
        {
          "line": 4256,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(fld_name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t\tphp_strtoupper(ZSTR_VAL(fld_name), ZSTR_LEN(fld_name));",
          "content_same": false
        },
        {
          "line": 4259,
          "old_api": null,
          "new_api": "zend_hash_update",
          "old_text": null,
          "new_text": "zend_hash_update(ht, fld_name, &val)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t\tzend_hash_update(ht, fld_name, &val);",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(fld_name)",
          "old_line_content": "\t\t\t\t\t\t\ttoken = (char*)ps;",
          "new_line_content": "\t\t\t\t\t\t\t\tzend_string_release(fld_name);",
          "content_same": false
        },
        {
          "line": 4298,
          "old_api": null,
          "new_api": "zend_string_init",
          "old_text": null,
          "new_text": "zend_string_init(token, token_pos, 0)",
          "old_line_content": "\t\t\t/* FIXME: some locale free implementation is",
          "new_line_content": "\t\t\tfld_val = zend_string_init(token, token_pos, 0);",
          "content_same": false
        },
        {
          "line": 4304,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(fld_name)",
          "old_line_content": "",
          "new_line_content": "\t\t\tphp_strtoupper(ZSTR_VAL(fld_name), ZSTR_LEN(fld_name));",
          "content_same": false
        },
        {
          "line": 4307,
          "old_api": null,
          "new_api": "zend_hash_update",
          "old_text": null,
          "new_text": "zend_hash_update(ht, fld_name, &val)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tzend_hash_update(ht, fld_name, &val);",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(fld_name)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tzend_string_release(fld_name);",
          "content_same": false
        },
        {
          "line": 4329,
          "old_api": null,
          "new_api": "INI_STR",
          "old_text": null,
          "new_text": "INI_STR(\"mail.force_extra_parameters\")",
          "old_line_content": "\t} suppressed_hdrs = { 0, 0 };",
          "new_line_content": "\tchar *force_extra_parameters = INI_STR(\"mail.force_extra_parameters\");",
          "content_same": false
        },
        {
          "line": 4351,
          "old_api": null,
          "new_api": "mbfl_memory_device_init",
          "old_text": null,
          "new_text": "mbfl_memory_device_init(&device, 0, 0)",
          "old_line_content": "\t/* character-set, transfer-encoding */",
          "new_line_content": "\tmbfl_memory_device_init(&device, 0, 0);",
          "content_same": false
        },
        {
          "line": 4352,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&orig_str)",
          "old_line_content": "\ttran_cs = &mbfl_encoding_utf8;",
          "new_line_content": "\tmbfl_string_init(&orig_str);",
          "content_same": false
        },
        {
          "line": 4353,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&conv_str)",
          "old_line_content": "\thead_enc = &mbfl_encoding_base64;",
          "new_line_content": "\tmbfl_string_init(&conv_str);",
          "content_same": false
        },
        {
          "line": 4361,
          "old_api": null,
          "new_api": "mbfl_no2encoding",
          "old_text": null,
          "new_text": "mbfl_no2encoding(lang->mail_charset)",
          "old_line_content": "",
          "new_line_content": "\t\ttran_cs = mbfl_no2encoding(lang->mail_charset);",
          "content_same": false
        },
        {
          "line": 4363,
          "old_api": null,
          "new_api": "mbfl_no2encoding",
          "old_text": null,
          "new_text": "mbfl_no2encoding(lang->mail_body_encoding)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tbody_enc = mbfl_no2encoding(lang->mail_body_encoding);",
          "content_same": false
        },
        {
          "line": 4366,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t/* ASCIIZ check */",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sss|zS\", &to, &to_len, &subject, &subject_len, &message, &message_len, &headers, &extra_cmd) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": null,
          "new_api": "MAIL_ASCIIZ_CHECK_MBSTRING",
          "old_text": null,
          "new_text": "MAIL_ASCIIZ_CHECK_MBSTRING(subject, subject_len)",
          "old_line_content": "\t\t\tcase IS_STRING:",
          "new_line_content": "\tMAIL_ASCIIZ_CHECK_MBSTRING(subject, subject_len);",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(headers)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\ttmp_headers = zend_string_init(Z_STRVAL_P(headers), Z_STRLEN_P(headers), 0);",
          "content_same": false
        },
        {
          "line": 4378,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(tmp_headers)",
          "old_line_content": "\t\t\tcase IS_ARRAY:",
          "new_line_content": "\t\t\t\tMAIL_ASCIIZ_CHECK_MBSTRING(ZSTR_VAL(tmp_headers), ZSTR_LEN(tmp_headers));",
          "content_same": false
        },
        {
          "line": 4380,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(tmp_headers)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tzend_string_release(tmp_headers);",
          "content_same": false
        },
        {
          "line": 4383,
          "old_api": null,
          "new_api": "php_mail_build_headers",
          "old_text": null,
          "new_text": "php_mail_build_headers(headers)",
          "old_line_content": "\t\t\t\tRETURN_FALSE;",
          "new_line_content": "\t\t\t\tstr_headers = php_mail_build_headers(headers);",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"headers parameter must be string or array\")",
          "old_line_content": "\tif (extra_cmd) {",
          "new_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"headers parameter must be string or array\");",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(extra_cmd)",
          "old_line_content": "",
          "new_line_content": "\t\tMAIL_ASCIIZ_CHECK_MBSTRING(ZSTR_VAL(extra_cmd), ZSTR_LEN(extra_cmd));",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": null,
          "new_api": "zend_hash_init",
          "old_text": null,
          "new_text": "zend_hash_init(&ht_headers, 0, NULL, ZVAL_PTR_DTOR, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tzend_hash_init(&ht_headers, 0, NULL, ZVAL_PTR_DTOR, 0);",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(str, str_len)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tZ_PARAM_STRING(str, str_len)",
          "content_same": false
        },
        {
          "line": 4397,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(str_headers)",
          "old_line_content": "\t\tchar *tmp;",
          "new_line_content": "\t\t_php_mbstr_parse_mail_headers(&ht_headers, ZSTR_VAL(str_headers), ZSTR_LEN(str_headers));",
          "content_same": false
        },
        {
          "line": 4400,
          "old_api": null,
          "new_api": "zend_hash_str_find",
          "old_text": null,
          "new_text": "zend_hash_str_find(&ht_headers, \"CONTENT-TYPE\", sizeof(\"CONTENT-TYPE\") - 1)",
          "old_line_content": "",
          "new_line_content": "\tif ((s = zend_hash_str_find(&ht_headers, \"CONTENT-TYPE\", sizeof(\"CONTENT-TYPE\") - 1))) {",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\tstring.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 4405,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(s)",
          "old_line_content": "\t\t\t/* skipping the padded spaces */",
          "new_line_content": "\t\tZEND_ASSERT(Z_TYPE_P(s) == IS_STRING);",
          "content_same": false
        },
        {
          "line": 4406,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(s)",
          "old_line_content": "\t\t\tdo {",
          "new_line_content": "\t\tp = strchr(Z_STRVAL_P(s), ';');",
          "content_same": false
        },
        {
          "line": 2360,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&string)",
          "old_line_content": "\t\tRETVAL_FALSE;",
          "new_line_content": "\tn = mbfl_strlen(&string);",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 4416,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(param_name, \"charset\")",
          "old_line_content": "\t\t\t\t\t\tif (charset != NULL) {",
          "new_line_content": "\t\t\t\t\tif (strcasecmp(param_name, \"charset\") == 0) {",
          "content_same": false
        },
        {
          "line": 4419,
          "old_api": null,
          "new_api": "php_strtok_r",
          "old_text": null,
          "new_text": "php_strtok_r(NULL, \"= \\\"\", &tmp)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tcharset = php_strtok_r(NULL, \"= \\\"\", &tmp);",
          "content_same": false
        },
        {
          "line": 4425,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unsupported charset \\\"%s\\\" - will be regarded as ascii\", charset)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported charset \\\"%s\\\" - will be regarded as ascii\", charset);",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(s)",
          "old_line_content": "\t\t\tcase mbfl_no_encoding_7bit:",
          "new_line_content": "\t\tZEND_ASSERT(Z_TYPE_P(s) == IS_STRING);",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": "\tif (offset < 0 || offset > slen) {",
          "new_line_content": "\tslen = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(s)",
          "old_line_content": "\t\t\tcase mbfl_no_encoding_8bit:",
          "new_line_content": "\t\t_body_enc = mbfl_name2encoding(Z_STRVAL_P(s));",
          "content_same": false
        },
        {
          "line": 4449,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(s)",
          "old_line_content": "\t\tsuppressed_hdrs.cnt_trans_enc = 1;",
          "new_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported transfer encoding \\\"%s\\\" - will be regarded as 8bit\", Z_STRVAL_P(s));",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": null,
          "new_api": "mbfl_strpos",
          "old_text": null,
          "new_text": "mbfl_strpos(&haystack, &needle, offset, reverse)",
          "old_line_content": "\t\tswitch (-n) {",
          "new_line_content": "\tn = mbfl_strpos(&haystack, &needle, offset, reverse);",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t\tcase 1:",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 4459,
          "old_api": null,
          "new_api": "estrndup",
          "old_text": null,
          "new_text": "estrndup(to, to_len)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\tto_r = estrndup(to, to_len);",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Needle has not positive length\")",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Needle has not positive length\");",
          "content_same": false
        },
        {
          "line": 4461,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace((unsigned char) to_r[to_len - 1])",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tif (!isspace((unsigned char) to_r[to_len - 1])) {",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding or conversion error\")",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding or conversion error\");",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_NOTICE, \"Argument is empty\")",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_NOTICE, \"Argument is empty\");",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": null,
          "new_api": "iscntrl",
          "old_text": null,
          "new_text": "iscntrl((unsigned char) to_r[i])",
          "old_line_content": "\t\t\t\t * SKIP_LONG_HEADER_SEP_MBSTRING to skip over them.",
          "new_line_content": "\t\t\tif (iscntrl((unsigned char) to_r[i])) {",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown error in mb_strpos\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown error in mb_strpos\");",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": null,
          "new_api": "SKIP_LONG_HEADER_SEP_MBSTRING",
          "old_text": null,
          "new_text": "SKIP_LONG_HEADER_SEP_MBSTRING(to_r, i)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tSKIP_LONG_HEADER_SEP_MBSTRING(to_r, i);",
          "content_same": false
        },
        {
          "line": 4481,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Missing To: field\")",
          "old_line_content": "\t/* Subject: */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Missing To: field\");",
          "content_same": false
        },
        {
          "line": 4487,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\tif (orig_str.encoding->no_encoding == mbfl_no_encoding_invalid",
          "new_line_content": "\t\torig_str.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\torig_str.encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 4493,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\t\tsubject_buf = subject = (char *)pstr->val;",
          "new_line_content": "\t\t\torig_str.encoding = mbfl_identify_encoding(&orig_str, MBSTRG(current_detect_order_list), MBSTRG(current_detect_order_list_size), MBSTRG(strict_detection));",
          "content_same": false
        },
        {
          "line": 4495,
          "old_api": null,
          "new_api": "mbfl_mime_header_encode",
          "old_text": null,
          "new_text": "mbfl_mime_header_encode(&orig_str, &conv_str, tran_cs, head_enc, \"\\n\", sizeof(\"Subject: [PHP-jp nnnnnnnn]\"))",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tpstr = mbfl_mime_header_encode(&orig_str, &conv_str, tran_cs, head_enc, \"\\n\", sizeof(\"Subject: [PHP-jp nnnnnnnn]\"));",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 4500,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Missing Subject: field\")",
          "old_line_content": "\t/* message body */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Missing Subject: field\");",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(zoffset)",
          "old_line_content": "",
          "new_line_content": "\t\tif (Z_TYPE_P(zoffset) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(zoffset)",
          "old_line_content": "\t\t\tif (enc_name2 != NULL) {",
          "new_line_content": "\t\t\tenc_name2     = Z_STRVAL_P(zoffset);",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(zoffset)",
          "old_line_content": "\t\t\t\tswitch (*enc_name2) {",
          "new_line_content": "\t\t\tenc_name_len2 = Z_STRLEN_P(zoffset);",
          "content_same": false
        },
        {
          "line": 4506,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "",
          "new_line_content": "\t\torig_str.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 4513,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\torig_str.encoding = mbfl_identify_encoding(&orig_str, MBSTRG(current_detect_order_list), MBSTRG(current_detect_order_list_size), MBSTRG(strict_detection));",
          "content_same": false
        },
        {
          "line": 4520,
          "old_api": null,
          "new_api": "mbfl_convert_encoding",
          "old_text": null,
          "new_text": "mbfl_convert_encoding(&orig_str, &tmpstr, tran_cs)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (mbfl_convert_encoding(&orig_str, &tmpstr, tran_cs) != NULL) {",
          "content_same": false
        },
        {
          "line": 4522,
          "old_api": null,
          "new_api": "mbfl_convert_encoding",
          "old_text": null,
          "new_text": "mbfl_convert_encoding(&tmpstr, &conv_str, body_enc)",
          "old_line_content": "\t\tif (pstr != NULL) {",
          "new_line_content": "\t\t\t\tpstr = mbfl_convert_encoding(&tmpstr, &conv_str, body_enc);",
          "content_same": false
        },
        {
          "line": 4523,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(tmpstr.val)",
          "old_line_content": "\t\t\tmessage_buf = message = (char *)pstr->val;",
          "new_line_content": "\t\t\t\tefree(tmpstr.val);",
          "content_same": false
        },
        {
          "line": 4531,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Empty message body\")",
          "old_line_content": "\t/* other headers */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty message body\");",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": null,
          "new_api": "convert_to_long_ex",
          "old_text": null,
          "new_text": "convert_to_long_ex(zoffset)",
          "old_line_content": "\t\t\t\tenc_name_len = enc_name_len2;",
          "new_line_content": "\t\t\t\tconvert_to_long_ex(zoffset);",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": null,
          "new_api": "Z_LVAL_P",
          "old_text": null,
          "new_text": "Z_LVAL_P(zoffset)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\toffset   = Z_LVAL_P(zoffset);",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": null,
          "new_api": "convert_to_long_ex",
          "old_text": null,
          "new_text": "convert_to_long_ex(zoffset)",
          "old_line_content": "",
          "new_line_content": "\t\t\tconvert_to_long_ex(zoffset);",
          "content_same": false
        },
        {
          "line": 2492,
          "old_api": null,
          "new_api": "Z_LVAL_P",
          "old_text": null,
          "new_text": "Z_LVAL_P(zoffset)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\toffset = Z_LVAL_P(zoffset);",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(str_headers)",
          "old_line_content": "\t\tif (n > 0 && p[n - 1] != '\\n') {",
          "new_line_content": "\t\tp = ZSTR_VAL(str_headers);",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": null,
          "new_api": "mbfl_memory_device_strncat",
          "old_text": null,
          "new_text": "mbfl_memory_device_strncat(&device, p, n)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&device, p, n);",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(str_headers)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tzend_string_release(str_headers);",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": "\t\t\tRETURN_FALSE;",
          "new_line_content": "\t\tsize_t haystack_char_len = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\");",
          "content_same": false
        },
        {
          "line": 4550,
          "old_api": null,
          "new_api": "zend_hash_str_exists",
          "old_text": null,
          "new_text": "zend_hash_str_exists(&ht_headers, \"MIME-VERSION\", sizeof(\"MIME-VERSION\") - 1)",
          "old_line_content": "",
          "new_line_content": "\tif (!zend_hash_str_exists(&ht_headers, \"MIME-VERSION\", sizeof(\"MIME-VERSION\") - 1)) {",
          "content_same": false
        },
        {
          "line": 4551,
          "old_api": null,
          "new_api": "mbfl_memory_device_strncat",
          "old_text": null,
          "new_text": "mbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER1, sizeof(PHP_MBSTR_MAIL_MIME_HEADER1) - 1)",
          "old_line_content": "\tif (!suppressed_hdrs.cnt_type) {",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER1, sizeof(PHP_MBSTR_MAIL_MIME_HEADER1) - 1);",
          "content_same": false
        },
        {
          "line": 2505,
          "old_api": null,
          "new_api": "mbfl_strpos",
          "old_text": null,
          "new_text": "mbfl_strpos(&haystack, &needle, offset, 1)",
          "old_line_content": "\t\tRETVAL_FALSE;",
          "new_line_content": "\tn = mbfl_strpos(&haystack, &needle, offset, 1);",
          "content_same": false
        },
        {
          "line": 2506,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 4558,
          "old_api": null,
          "new_api": "mbfl_no2preferred_mime_name",
          "old_text": null,
          "new_text": "mbfl_no2preferred_mime_name(tran_cs->no_encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tp = (char *)mbfl_no2preferred_mime_name(tran_cs->no_encoding);",
          "content_same": false
        },
        {
          "line": 4560,
          "old_api": null,
          "new_api": "mbfl_memory_device_strncat",
          "old_text": null,
          "new_text": "mbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER3, sizeof(PHP_MBSTR_MAIL_MIME_HEADER3) - 1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tmbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER3, sizeof(PHP_MBSTR_MAIL_MIME_HEADER3) - 1);",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": null,
          "new_api": "mbfl_memory_device_strcat",
          "old_text": null,
          "new_text": "mbfl_memory_device_strcat(&device, p)",
          "old_line_content": "\tif (!suppressed_hdrs.cnt_trans_enc) {",
          "new_line_content": "\t\t\tmbfl_memory_device_strcat(&device, p);",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": null,
          "new_api": "mbfl_memory_device_strncat",
          "old_text": null,
          "new_text": "mbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER4, sizeof(PHP_MBSTR_MAIL_MIME_HEADER4) - 1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER4, sizeof(PHP_MBSTR_MAIL_MIME_HEADER4) - 1);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tconst char *from_encoding = MBSTRG(current_internal_encoding)->mime_name;",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tif (needle.len == 0) {",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|ls\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &offset, &from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": null,
          "new_api": "mbfl_memory_device_unput",
          "old_text": null,
          "new_text": "mbfl_memory_device_unput(&device)",
          "old_line_content": "\tif (force_extra_parameters) {",
          "new_line_content": "\tmbfl_memory_device_unput(&device);",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen((char *)device.buffer)",
          "old_line_content": "\t} else if (extra_cmd) {",
          "new_line_content": "\tstr_headers = zend_string_init((char *)device.buffer, strlen((char *)device.buffer), 0);",
          "content_same": false
        },
        {
          "line": 4580,
          "old_api": null,
          "new_api": "php_escape_shell_cmd",
          "old_text": null,
          "new_text": "php_escape_shell_cmd(force_extra_parameters)",
          "old_line_content": "",
          "new_line_content": "\t\textra_cmd = php_escape_shell_cmd(force_extra_parameters);",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": null,
          "new_api": "php_mb_stripos",
          "old_text": null,
          "new_text": "php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding)",
          "old_line_content": "\t} else {",
          "new_line_content": "\tn = php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding);",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(extra_cmd)",
          "old_line_content": "\t\tRETVAL_TRUE;",
          "new_line_content": "\t\textra_cmd = php_escape_shell_cmd(ZSTR_VAL(extra_cmd));",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(extra_cmd)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!err && php_mail(to_r, subject, message, ZSTR_VAL(str_headers), extra_cmd ? ZSTR_VAL(extra_cmd) : NULL)) {",
          "content_same": false
        },
        {
          "line": 4596,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(to_r)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tefree(to_r);",
          "content_same": false
        },
        {
          "line": 2550,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tconst char *from_encoding = MBSTRG(current_internal_encoding)->mime_name;",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree((void *)subject_buf)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tefree((void *)subject_buf);",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree((void *)message_buf)",
          "old_line_content": "\tif (str_headers) {",
          "new_line_content": "\t\tefree((void *)message_buf);",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": null,
          "new_api": "mbfl_memory_device_clear",
          "old_text": null,
          "new_text": "mbfl_memory_device_clear(&device)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_memory_device_clear(&device);",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "php_mb_stripos",
          "old_text": null,
          "new_text": "php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding)",
          "old_line_content": "\t} else {",
          "new_line_content": "\tn = php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, offset, from_encoding);",
          "content_same": false
        },
        {
          "line": 4605,
          "old_api": null,
          "new_api": "zend_hash_destroy",
          "old_text": null,
          "new_text": "zend_hash_destroy(&ht_headers)",
          "old_line_content": "}",
          "new_line_content": "\tzend_hash_destroy(&ht_headers);",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(str_headers)",
          "old_line_content": "#undef SKIP_LONG_HEADER_SEP_MBSTRING",
          "new_line_content": "\t\tzend_string_release(str_headers);",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 4629,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tconst mbfl_language *lang = mbfl_no2language(MBSTRG(language));",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 4636,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(\"all\", typ)",
          "old_line_content": "\t\t}",
          "new_line_content": "\tif (!typ || !strcasecmp(\"all\", typ)) {",
          "content_same": false
        },
        {
          "line": 4639,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"internal_encoding\", (char *)MBSTRG(current_internal_encoding)->name);",
          "content_same": false
        },
        {
          "line": 4642,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(http_input_identify)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"http_input\", (char *)MBSTRG(http_input_identify)->name);",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t\t\tif (ret != NULL) {",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": "\t\t\t\t// TODO: avoid reallocation ???",
          "new_line_content": "\t\tsize_t mblen = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 4645,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_http_output_encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"http_output\", (char *)MBSTRG(current_http_output_encoding)->name);",
          "content_same": false
        },
        {
          "line": 4648,
          "old_api": null,
          "new_api": "add_assoc_string",
          "old_text": null,
          "new_text": "add_assoc_string(return_value, \"http_output_conv_mimetypes\", name)",
          "old_line_content": "\t\t\tover_func = &(mb_ovld[0]);",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"http_output_conv_mimetypes\", name);",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4650,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(func_overload)",
          "old_line_content": "\t\t\twhile (over_func->type > 0) {",
          "new_line_content": "\t\tadd_assoc_long(return_value, \"func_overload\", MBSTRG(func_overload));",
          "content_same": false
        },
        {
          "line": 4653,
          "old_api": null,
          "new_api": "array_init",
          "old_text": null,
          "new_text": "array_init(&row1)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\tarray_init(&row1);",
          "content_same": false
        },
        {
          "line": 4655,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(func_overload)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tif ((MBSTRG(func_overload) & over_func->type) == over_func->type ) {",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4660,
          "old_api": null,
          "new_api": "add_assoc_zval",
          "old_text": null,
          "new_text": "add_assoc_zval(return_value, \"func_overload_list\", &row1)",
          "old_line_content": "\t\tif (lang != NULL) {",
          "new_line_content": "\t\t\tadd_assoc_zval(return_value, \"func_overload_list\", &row1);",
          "content_same": false
        },
        {
          "line": 4666,
          "old_api": null,
          "new_api": "add_assoc_string",
          "old_text": null,
          "new_text": "add_assoc_string(return_value, \"mail_charset\", name)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tadd_assoc_string(return_value, \"mail_charset\", name);",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": null,
          "new_api": "add_assoc_string",
          "old_text": null,
          "new_text": "add_assoc_string(return_value, \"mail_header_encoding\", name)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tadd_assoc_string(return_value, \"mail_header_encoding\", name);",
          "content_same": false
        },
        {
          "line": 4676,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(encoding_translation)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (MBSTRG(encoding_translation)) {",
          "content_same": false
        },
        {
          "line": 4679,
          "old_api": null,
          "new_api": "add_assoc_string",
          "old_text": null,
          "new_text": "add_assoc_string(return_value, \"encoding_translation\", \"Off\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"encoding_translation\", \"Off\");",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 4682,
          "old_api": null,
          "new_api": "add_assoc_string",
          "old_text": null,
          "new_text": "add_assoc_string(return_value, \"language\", name)",
          "old_line_content": "\t\tif (n > 0) {",
          "new_line_content": "\t\t\tadd_assoc_string(return_value, \"language\", name);",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_detect_order_list)",
          "old_line_content": "\t\t\tfor (i = 0; i < n; i++) {",
          "new_line_content": "\t\tentry = MBSTRG(current_detect_order_list);",
          "content_same": false
        },
        {
          "line": 4688,
          "old_api": null,
          "new_api": "array_init",
          "old_text": null,
          "new_text": "array_init(&row2)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tarray_init(&row2);",
          "content_same": false
        },
        {
          "line": 2641,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 4690,
          "old_api": null,
          "new_api": "add_next_index_string",
          "old_text": null,
          "new_text": "add_next_index_string(&row2, (*entry)->name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tadd_next_index_string(&row2, (*entry)->name);",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_mode)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t} else if (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_LONG) {",
          "content_same": false
        },
        {
          "line": 4699,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_mode)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t} else if (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_ENTITY) {",
          "content_same": false
        },
        {
          "line": 4702,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tadd_assoc_long(return_value, \"substitute_character\", MBSTRG(current_filter_illegal_substchar));",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t\t\tif (ret != NULL) {",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": "\t\t\t\t// TODO: avoid reallocation ???",
          "new_line_content": "\t\tsize_t mblen = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 4704,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (MBSTRG(strict_detection)) {",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 2671,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4725,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(\"func_overload\", typ)",
          "old_line_content": "\t\t\t\tover_func = &(mb_ovld[0]);",
          "new_line_content": "\t} else if (!strcasecmp(\"func_overload\", typ)) {",
          "content_same": false
        },
        {
          "line": 4727,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(\"func_overload_list\", typ)",
          "old_line_content": "\t\t\t\twhile (over_func->type > 0) {",
          "new_line_content": "\t} else if (!strcasecmp(\"func_overload_list\", typ)) {",
          "content_same": false
        },
        {
          "line": 4730,
          "old_api": null,
          "new_api": "array_init",
          "old_text": null,
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 4732,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(func_overload)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tif ((MBSTRG(func_overload) & over_func->type) == over_func->type ) {",
          "content_same": false
        },
        {
          "line": 4733,
          "old_api": null,
          "new_api": "add_assoc_string",
          "old_text": null,
          "new_text": "add_assoc_string(return_value, over_func->orig_func, over_func->ovld_func)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\t\t\tadd_assoc_string(return_value, over_func->orig_func, over_func->ovld_func);",
          "content_same": false
        },
        {
          "line": 2691,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2699,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(from_encoding)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(from_encoding);",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(illegalchars)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\tRETVAL_LONG(MBSTRG(illegalchars));",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(encoding_translation)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (MBSTRG(encoding_translation)) {",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": null,
          "new_api": "php_mb_stripos",
          "old_text": null,
          "new_text": "php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding)",
          "old_line_content": "",
          "new_line_content": "\tn = php_mb_stripos(0, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding);",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": "\t\tif (ret != NULL) {",
          "new_line_content": "\tmblen = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 4764,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(\"detect_order\", typ)",
          "old_line_content": "\t\t\tsize_t i;",
          "new_line_content": "\t} else if (!strcasecmp(\"detect_order\", typ)) {",
          "content_same": false
        },
        {
          "line": 4766,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_detect_order_list)",
          "old_line_content": "\t\t\tfor (i = 0; i < n; i++) {",
          "new_line_content": "\t\tentry = MBSTRG(current_detect_order_list);",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": null,
          "new_api": "array_init",
          "old_text": null,
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 2730,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4778,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_mode)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t} else if (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_LONG) {",
          "content_same": false
        },
        {
          "line": 4780,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_mode)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t} else if (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_ENTITY) {",
          "content_same": false
        },
        {
          "line": 4786,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (MBSTRG(strict_detection)) {",
          "content_same": false
        },
        {
          "line": 4787,
          "old_api": null,
          "new_api": "RETVAL_STRING",
          "old_text": null,
          "new_text": "RETVAL_STRING(\"On\")",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\tRETVAL_STRING(\"On\");",
          "content_same": false
        },
        {
          "line": 4789,
          "old_api": null,
          "new_api": "RETVAL_STRING",
          "old_text": null,
          "new_text": "RETVAL_STRING(\"Off\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tRETVAL_STRING(\"Off\");",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2749,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(from_encoding)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(from_encoding);",
          "content_same": false
        },
        {
          "line": 4806,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_illegal_mode",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_illegal_mode(convd, MBFL_OUTPUTFILTER_ILLEGAL_MODE_NONE)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_buffer_converter_illegal_mode(convd, MBFL_OUTPUTFILTER_ILLEGAL_MODE_NONE);",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_illegal_substchar",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_illegal_substchar(convd, 0)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_buffer_converter_illegal_substchar(convd, 0);",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": null,
          "new_api": "php_mb_stripos",
          "old_text": null,
          "new_text": "php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding)",
          "old_line_content": "",
          "new_line_content": "\tn = php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding);",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": "\t\tif (ret != NULL) {",
          "new_line_content": "\tmblen = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 4817,
          "old_api": null,
          "new_api": "mbfl_string_init_set",
          "old_text": null,
          "new_text": "mbfl_string_init_set(&string, mbfl_no_language_neutral, encoding)",
          "old_line_content": "\tstring.len = length;",
          "new_line_content": "\tmbfl_string_init_set(&string, mbfl_no_language_neutral, encoding);",
          "content_same": false
        },
        {
          "line": 4818,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&result)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_string_init(&result);",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4828,
          "old_api": null,
          "new_api": "mbfl_string_clear",
          "old_text": null,
          "new_text": "mbfl_string_clear(&result)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tmbfl_string_clear(&result);",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4831,
          "old_api": null,
          "new_api": "mbfl_string_clear",
          "old_text": null,
          "new_text": "mbfl_string_clear(&result)",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_string_clear(&result);",
          "content_same": false
        },
        {
          "line": 4847,
          "old_api": null,
          "new_api": "mbfl_name2encoding",
          "old_text": null,
          "new_text": "mbfl_name2encoding(enc)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tencoding = mbfl_name2encoding(enc);",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&haystack)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tmbfl_string_init(&haystack);",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 4849,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Invalid encoding \\\"%s\\\"\", enc)",
          "old_line_content": "",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Invalid encoding \\\"%s\\\"\", enc);",
          "content_same": false
        },
        {
          "line": 4854,
          "old_api": null,
          "new_api": "php_mb_init_convd",
          "old_text": null,
          "new_text": "php_mb_init_convd(encoding)",
          "old_line_content": "\t}",
          "new_line_content": "\tconvd = php_mb_init_convd(encoding);",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\thaystack.no_language = needle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2808,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 4861,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_delete",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_delete(convd)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tmbfl_buffer_converter_delete(convd);",
          "content_same": false
        },
        {
          "line": 4864,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_delete",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_delete(convd)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_buffer_converter_delete(convd);",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": null,
          "new_api": "mbfl_substr_count",
          "old_text": null,
          "new_text": "mbfl_substr_count(&haystack, &needle)",
          "old_line_content": "\t\tRETVAL_FALSE;",
          "new_line_content": "\tn = mbfl_substr_count(&haystack, &needle);",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 4871,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\tzval *entry;",
          "new_line_content": "\tconst mbfl_encoding *encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 4881,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(enc)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tencoding = mbfl_name2encoding(ZSTR_VAL(enc));",
          "content_same": false
        },
        {
          "line": 4883,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(enc)",
          "old_line_content": "",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Invalid encoding \\\"%s\\\"\", ZSTR_VAL(enc));",
          "content_same": false
        },
        {
          "line": 4888,
          "old_api": null,
          "new_api": "php_mb_init_convd",
          "old_text": null,
          "new_text": "php_mb_init_convd(encoding)",
          "old_line_content": "\t}",
          "new_line_content": "\tconvd = php_mb_init_convd(encoding);",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(encoding)",
          "old_line_content": "",
          "new_line_content": "\tstring.encoding = php_mb_get_encoding(encoding);",
          "content_same": false
        },
        {
          "line": 4890,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to create converter\")",
          "old_line_content": "\tif (vars->u.v.nApplyCount++ > 1) {",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create converter\");",
          "content_same": false
        },
        {
          "line": 4896,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_delete",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_delete(convd)",
          "old_line_content": "\tZEND_HASH_FOREACH_KEY_VAL(vars, idx, key, entry) {",
          "new_line_content": "\t\tmbfl_buffer_converter_delete(convd);",
          "content_same": false
        },
        {
          "line": 4901,
          "old_api": null,
          "new_api": "ZVAL_DEREF",
          "old_text": null,
          "new_text": "ZVAL_DEREF(entry)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\tZVAL_DEREF(entry);",
          "content_same": false
        },
        {
          "line": 4903,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(key)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (!php_mb_check_encoding_impl(convd, ZSTR_VAL(key), ZSTR_LEN(key), encoding)) {",
          "content_same": false
        },
        {
          "line": 2859,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&string)",
          "old_line_content": "\t * of the string",
          "new_line_content": "\t\tmblen = mbfl_strlen(&string);",
          "content_same": false
        },
        {
          "line": 4908,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(entry)",
          "old_line_content": "\t\t\t\t\tbreak;",
          "new_line_content": "\t\tswitch (Z_TYPE_P(entry)) {",
          "content_same": false
        },
        {
          "line": 4910,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(entry)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tif (!php_mb_check_encoding_impl(convd, Z_STRVAL_P(entry), Z_STRLEN_P(entry), encoding)) {",
          "content_same": false
        },
        {
          "line": 4916,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(entry)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tif (!php_mb_check_encoding_recursive(HASH_OF(entry), enc)) {",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(func_overload)",
          "old_line_content": "",
          "new_line_content": "\tif (((MBSTRG(func_overload) & MB_OVERLOAD_STRING) == MB_OVERLOAD_STRING)",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&string)",
          "old_line_content": "\tif (from > INT_MAX) {",
          "new_line_content": "\t\t&& (from >= mbfl_strlen(&string))) {",
          "content_same": false
        },
        {
          "line": 4932,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "}",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4934,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_delete",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_delete(convd)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_buffer_converter_delete(convd);",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": null,
          "new_api": "mbfl_substr",
          "old_text": null,
          "new_text": "mbfl_substr(&string, &result, from, len)",
          "old_line_content": "",
          "new_line_content": "\tret = mbfl_substr(&string, &result, from, len);",
          "content_same": false
        },
        {
          "line": 4946,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t/* FIXME: Actually check all inputs, except $_FILES file content. */",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"|zS\", &input, &enc) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_STRINGL((char *)ret->val, ret->len); /* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 2901,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "/* {{{ proto string mb_strcut(string str, int start [, int length [, string encoding]])",
          "new_line_content": "\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4952,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(illegalchars)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (MBSTRG(illegalchars) == 0) {",
          "content_same": false
        },
        {
          "line": 4958,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(input)",
          "old_line_content": "\t\tcase IS_TRUE:",
          "new_line_content": "\tswitch(Z_TYPE_P(input)) {",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 4967,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(enc)",
          "old_line_content": "\t\tcase IS_ARRAY:",
          "new_line_content": "\t\t\tif (!php_mb_check_encoding(Z_STRVAL_P(input), Z_STRLEN_P(input), enc ? ZSTR_VAL(enc): NULL)) {",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(encoding)",
          "old_line_content": "",
          "new_line_content": "\tstring.encoding = php_mb_get_encoding(encoding);",
          "content_same": false
        },
        {
          "line": 4972,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(input)",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\t\t\tif (!php_mb_check_encoding_recursive(HASH_OF(input), enc)) {",
          "content_same": false
        },
        {
          "line": 4977,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Input is something other than scalar or array\")",
          "old_line_content": "}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Input is something other than scalar or array\");",
          "content_same": false
        },
        {
          "line": 4994,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 5000,
          "old_api": null,
          "new_api": "php_mb_is_no_encoding_unicode",
          "old_text": null,
          "new_text": "php_mb_is_no_encoding_unicode(no_enc)",
          "old_line_content": "\t\t\treturn -1;",
          "new_line_content": "\tif (php_mb_is_no_encoding_unicode(no_enc)) {",
          "content_same": false
        },
        {
          "line": 5001,
          "old_api": null,
          "new_api": "php_mb_convert_encoding_ex",
          "old_text": null,
          "new_text": "php_mb_convert_encoding_ex(str, str_len, &mbfl_encoding_ucs4be, enc, &ret_len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tret = php_mb_convert_encoding_ex(str, str_len, &mbfl_encoding_ucs4be, enc, &ret_len);",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": null,
          "new_api": "mbfl_strcut",
          "old_text": null,
          "new_text": "mbfl_strcut(&string, &result, from, len)",
          "old_line_content": "",
          "new_line_content": "\tret = mbfl_strcut(&string, &result, from, len);",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_STRINGL((char *)ret->val, ret->len); /* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "/* {{{ proto int mb_strwidth(string str [, string encoding])",
          "new_line_content": "\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 5016,
          "old_api": null,
          "new_api": "php_mb_is_unsupported_no_encoding",
          "old_text": null,
          "new_text": "php_mb_is_unsupported_no_encoding(no_enc)",
          "old_line_content": "",
          "new_line_content": "\t} else if (php_mb_is_unsupported_no_encoding(no_enc)) {",
          "content_same": false
        },
        {
          "line": 5021,
          "old_api": null,
          "new_api": "php_mb_convert_encoding_ex",
          "old_text": null,
          "new_text": "php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len)",
          "old_line_content": "\t}",
          "new_line_content": "\tret = php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len);",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 5027,
          "old_api": null,
          "new_api": "php_mb_mbchar_bytes_ex",
          "old_text": null,
          "new_text": "php_mb_mbchar_bytes_ex(ret, enc)",
          "old_line_content": "\t} else if (char_len == 2) {",
          "new_line_content": "\tchar_len = php_mb_mbchar_bytes_ex(ret, enc);",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\tstring.encoding = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": null,
          "new_api": "mbfl_strwidth",
          "old_text": null,
          "new_text": "mbfl_strwidth(&string)",
          "old_line_content": "\t\tRETVAL_FALSE;",
          "new_line_content": "\tn = mbfl_strwidth(&string);",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": null,
          "new_api": "mbfl_is_error",
          "old_text": null,
          "new_text": "mbfl_is_error(n)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!mbfl_is_error(n)) {",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": null,
          "new_api": "RETVAL_LONG",
          "old_text": null,
          "new_text": "RETVAL_LONG(n)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_LONG(n);",
          "content_same": false
        },
        {
          "line": 5045,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret)",
          "old_line_content": "",
          "new_line_content": "\tefree(ret);",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&marker)",
          "old_line_content": "\tif (!string.encoding) {",
          "new_line_content": "\tmbfl_string_init(&marker);",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.no_language = marker.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3013,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(encoding)",
          "old_line_content": "",
          "new_line_content": "\tstring.encoding = marker.encoding = php_mb_get_encoding(encoding);",
          "content_same": false
        },
        {
          "line": 5061,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(str, str_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_STRING(str, str_len)",
          "content_same": false
        },
        {
          "line": 5064,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tif (0 > cp) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 5066,
          "old_api": null,
          "new_api": "php_mb_ord",
          "old_text": null,
          "new_text": "php_mb_ord(str, str_len, enc)",
          "old_line_content": "\t}",
          "new_line_content": "\tcp = php_mb_ord(str, str_len, enc);",
          "content_same": false
        },
        {
          "line": 3024,
          "old_api": null,
          "new_api": "mbfl_strwidth",
          "old_text": null,
          "new_text": "mbfl_strwidth(&string)",
          "old_line_content": "\t\tfrom += swidth;",
          "new_line_content": "\t\tswidth = mbfl_strwidth(&string);",
          "content_same": false
        },
        {
          "line": 5072,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(cp)",
          "old_line_content": "",
          "new_line_content": "\tRETURN_LONG(cp);",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Start position is out of range\")",
          "old_line_content": "\tif (width < 0) {",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Start position is out of range\");",
          "content_same": false
        },
        {
          "line": 5086,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Width is out of range\")",
          "old_line_content": "\tif (trimmarker) {",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Width is out of range\");",
          "content_same": false
        },
        {
          "line": 5097,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "mbfl_strimwidth",
          "old_text": null,
          "new_text": "mbfl_strimwidth(&string, &marker, &result, from, width)",
          "old_line_content": "\t}",
          "new_line_content": "\tret = mbfl_strimwidth(&string, &marker, &result, from, width);",
          "content_same": false
        },
        {
          "line": 5098,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\t\t\t\tcp = 0x3f;",
          "new_line_content": "\t\t\t} else if (php_mb_is_no_encoding_unicode(MBSTRG(current_internal_encoding)->no_encoding)) {",
          "content_same": false
        },
        {
          "line": 5099,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (0xd800 > MBSTRG(current_filter_illegal_substchar) || MBSTRG(current_filter_illegal_substchar) > 0xdfff) {",
          "content_same": false
        },
        {
          "line": 5100,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "content_same": false
        },
        {
          "line": 3056,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_STRINGL((char *)ret->val, ret->len); /* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "",
          "new_line_content": "\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 5111,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(ret_len, 1, 1)",
          "old_line_content": "\t\t\tret_len = 2;",
          "new_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 5116,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(ret_len, 1, 1)",
          "old_line_content": "\t\t} else if (cp < 0x10000) {",
          "new_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 5122,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(ret_len, 1, 1)",
          "old_line_content": "\t\t\tret[3] = 0;",
          "new_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 5129,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(ret_len, 1, 1)",
          "old_line_content": "\t\t\tret[3] = 0x80 | (cp & 0x3f);",
          "new_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tstring.val = (unsigned char *)input;",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3097,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&result)",
          "old_line_content": "\tstring.len = length;",
          "new_line_content": "\tmbfl_string_init(&result);",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t/* initialize converter */",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 5147,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (php_mb_is_no_encoding_unicode(MBSTRG(current_internal_encoding)->no_encoding)) {",
          "content_same": false
        },
        {
          "line": 5148,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "content_same": false
        },
        {
          "line": 3104,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_new",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_new(from_encoding, to_encoding, string.len)",
          "old_line_content": "\t}",
          "new_line_content": "\tconvd = mbfl_buffer_converter_new(from_encoding, to_encoding, string.len);",
          "content_same": false
        },
        {
          "line": 5156,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(buf_len, 1, 1)",
          "old_line_content": "\t\tbuf[3] = cp & 0xff;",
          "new_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "",
          "new_line_content": "\tif (string.encoding == MBSTRG(current_internal_encoding)) {",
          "content_same": false
        },
        {
          "line": 5163,
          "old_api": null,
          "new_api": "php_mb_convert_encoding_ex",
          "old_text": null,
          "new_text": "php_mb_convert_encoding_ex(buf, buf_len, enc, &mbfl_encoding_ucs4be, &ret_len)",
          "old_line_content": "\t\t\t*output_len = ret_len;",
          "new_line_content": "\t\tret = php_mb_convert_encoding_ex(buf, buf_len, enc, &mbfl_encoding_ucs4be, &ret_len);",
          "content_same": false
        },
        {
          "line": 5164,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tefree(buf);",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\tif (MBSTRG(current_filter_illegal_substchar) > 0xd7ff &&",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_illegal_substchar",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_illegal_substchar(convd, 0x3f)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_buffer_converter_illegal_substchar(convd, 0x3f);",
          "content_same": false
        },
        {
          "line": 5172,
          "old_api": null,
          "new_api": "php_mb_is_unsupported_no_encoding",
          "old_text": null,
          "new_text": "php_mb_is_unsupported_no_encoding(no_enc)",
          "old_line_content": "",
          "new_line_content": "\t} else if (php_mb_is_unsupported_no_encoding(no_enc)) {",
          "content_same": false
        },
        {
          "line": 5173,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name)",
          "old_line_content": "\tif (0 > cp || cp > 0x100000000) {",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name);",
          "content_same": false
        },
        {
          "line": 3127,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tMBSTRG(current_filter_illegal_substchar));",
          "content_same": false
        },
        {
          "line": 5178,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (no_enc == MBSTRG(current_internal_encoding)->no_encoding) {",
          "content_same": false
        },
        {
          "line": 5179,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "content_same": false
        },
        {
          "line": 3134,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_feed_result",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "old_line_content": "\t\t}",
          "new_line_content": "\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "content_same": false
        },
        {
          "line": 5187,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(buf_len, 1, 1)",
          "old_line_content": "\t\tbuf_len = 2;",
          "new_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": null,
          "new_api": "mbfl_buffer_illegalchars",
          "old_text": null,
          "new_text": "mbfl_buffer_illegalchars(convd)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tMBSTRG(illegalchars) += mbfl_buffer_illegalchars(convd);",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_delete",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_delete(convd)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_buffer_converter_delete(convd);",
          "content_same": false
        },
        {
          "line": 5192,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(buf_len, 1, 1)",
          "old_line_content": "\t} else if (cp < 0x1000000) {",
          "new_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 5198,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(buf_len, 1, 1)",
          "old_line_content": "\t\tbuf[3] = 0;",
          "new_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 5205,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(buf_len, 1, 1)",
          "old_line_content": "\t\tbuf[3] = cp & 0xff;",
          "new_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "content_same": false
        },
        {
          "line": 3160,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(_to_encoding)",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\tif (_to_encoding && strlen(_to_encoding)) {",
          "content_same": false
        },
        {
          "line": 3161,
          "old_api": null,
          "new_api": "mbfl_name2encoding",
          "old_text": null,
          "new_text": "mbfl_name2encoding(_to_encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tto_encoding = mbfl_name2encoding(_to_encoding);",
          "content_same": false
        },
        {
          "line": 5213,
          "old_api": null,
          "new_api": "php_mb_convert_encoding_ex",
          "old_text": null,
          "new_text": "php_mb_convert_encoding_ex(buf, buf_len, enc, enc, &ret_len)",
          "old_line_content": "\t\t*output_len = ret_len;",
          "new_line_content": "\tret = php_mb_convert_encoding_ex(buf, buf_len, enc, enc, &ret_len);",
          "content_same": false
        },
        {
          "line": 5214,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "\t}",
          "new_line_content": "\tefree(buf);",
          "content_same": false
        },
        {
          "line": 3175,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(_from_encodings)",
          "old_line_content": "\t\t\t/* auto detect */",
          "new_line_content": "\t\tphp_mb_parse_encoding_list(_from_encodings, strlen(_from_encodings), &list, &size, 0);",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\t\t\tif (!from_encoding) {",
          "new_line_content": "\t\t\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tfrom_encoding = mbfl_identify_encoding(&string, list, size, MBSTRG(strict_detection));",
          "content_same": false
        },
        {
          "line": 5234,
          "old_api": null,
          "new_api": "Z_PARAM_LONG",
          "old_text": null,
          "new_text": "Z_PARAM_LONG(cp)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_LONG(cp)",
          "content_same": false
        },
        {
          "line": 5237,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tif (ret == NULL) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Illegal character encoding specified\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Illegal character encoding specified\");",
          "content_same": false
        },
        {
          "line": 5239,
          "old_api": null,
          "new_api": "php_mb_chr",
          "old_text": null,
          "new_text": "php_mb_chr(cp, enc, &ret_len)",
          "old_line_content": "\t}",
          "new_line_content": "\tret = php_mb_chr(cp, enc, &ret_len);",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": null,
          "new_api": "php_mb_convert_encoding_ex",
          "old_text": null,
          "new_text": "php_mb_convert_encoding_ex(input, length, to_encoding, from_encoding, output_len)",
          "old_line_content": "MBSTRING_API HashTable *php_mb_convert_encoding_recursive(HashTable *input, const char *_to_encoding, const char *_from_encodings)",
          "new_line_content": "\treturn php_mb_convert_encoding_ex(input, length, to_encoding, from_encoding, output_len);",
          "content_same": false
        },
        {
          "line": 5245,
          "old_api": null,
          "new_api": "RETVAL_STRING",
          "old_text": null,
          "new_text": "RETVAL_STRING(ret)",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_STRING(ret);",
          "content_same": false
        },
        {
          "line": 5246,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret)",
          "old_line_content": "",
          "new_line_content": "\tefree(ret);",
          "content_same": false
        },
        {
          "line": 5255,
          "old_api": null,
          "new_api": "php_mb_convert_encoding_ex",
          "old_text": null,
          "new_text": "php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len)",
          "old_line_content": "/* {{{ proto bool mb_scrub([string str[, string encoding]]) */",
          "new_line_content": "\treturn php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len);",
          "content_same": false
        },
        {
          "line": 3219,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(sizeof(HashTable))",
          "old_line_content": "\t\tif (key) {",
          "new_line_content": "\toutput = (HashTable *)emalloc(sizeof(HashTable));",
          "content_same": false
        },
        {
          "line": 5270,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(str, str_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_STRING(str, str_len)",
          "content_same": false
        },
        {
          "line": 5273,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 5275,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(enc_name)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(enc_name);",
          "content_same": false
        },
        {
          "line": 3231,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(entry)",
          "old_line_content": "\t\t\tcase IS_NULL:",
          "new_line_content": "\t\t\t\tcval = php_mb_convert_encoding(Z_STRVAL_P(entry), Z_STRLEN_P(entry), _to_encoding, _from_encodings, &cval_len);",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": null,
          "new_api": "ZVAL_STRINGL",
          "old_text": null,
          "new_text": "ZVAL_STRINGL(&entry_tmp, cval, cval_len)",
          "old_line_content": "\t\t\tcase IS_TRUE:",
          "new_line_content": "\t\t\t\tZVAL_STRINGL(&entry_tmp, cval, cval_len);",
          "content_same": false
        },
        {
          "line": 3233,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(cval)",
          "old_line_content": "\t\t\tcase IS_FALSE:",
          "new_line_content": "\t\t\t\tefree(cval);",
          "content_same": false
        },
        {
          "line": 5280,
          "old_api": null,
          "new_api": "php_mb_scrub",
          "old_text": null,
          "new_text": "php_mb_scrub(str, str_len, enc)",
          "old_line_content": "\t}",
          "new_line_content": "\tret = php_mb_scrub(str, str_len, enc);",
          "content_same": false
        },
        {
          "line": 5286,
          "old_api": null,
          "new_api": "RETVAL_STRING",
          "old_text": null,
          "new_text": "RETVAL_STRING(ret)",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_STRING(ret);",
          "content_same": false
        },
        {
          "line": 5287,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret)",
          "old_line_content": "",
          "new_line_content": "\tefree(ret);",
          "content_same": false
        },
        {
          "line": 3240,
          "old_api": null,
          "new_api": "ZVAL_COPY",
          "old_text": null,
          "new_text": "ZVAL_COPY(&entry_tmp, entry)",
          "old_line_content": "\t\t\t\tif (!chash) {",
          "new_line_content": "\t\t\t\tZVAL_COPY(&entry_tmp, entry);",
          "content_same": false
        },
        {
          "line": 3243,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(entry)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tchash = php_mb_convert_encoding_recursive(HASH_OF(entry), _to_encoding, _from_encodings);",
          "content_same": false
        },
        {
          "line": 3245,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(sizeof(HashTable))",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tchash = (HashTable *)emalloc(sizeof(HashTable));",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": null,
          "new_api": "zend_hash_init",
          "old_text": null,
          "new_text": "zend_hash_init(chash, 0, NULL, ZVAL_PTR_DTOR, 0)",
          "old_line_content": "\t\t\tcase IS_OBJECT:",
          "new_line_content": "\t\t\t\t\tzend_hash_init(chash, 0, NULL, ZVAL_PTR_DTOR, 0);",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": null,
          "new_api": "ZVAL_ARR",
          "old_text": null,
          "new_text": "ZVAL_ARR(&entry_tmp, chash)",
          "old_line_content": "\t\t\t\tif (key) {",
          "new_line_content": "\t\t\t\tZVAL_ARR(&entry_tmp, chash);",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(key_tmp)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tefree(key_tmp);",
          "content_same": false
        },
        {
          "line": 5302,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(detect_order_list_size)",
          "old_line_content": "\t} else {",
          "new_line_content": "\tif (MBSTRG(detect_order_list) && MBSTRG(detect_order_list_size)) {",
          "content_same": false
        },
        {
          "line": 5304,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(nentries, sizeof(mbfl_encoding*), 0)",
          "old_line_content": "\t\tsize_t i;",
          "new_line_content": "\t\tentry = (const mbfl_encoding **)safe_emalloc(nentries, sizeof(mbfl_encoding*), 0);",
          "content_same": false
        },
        {
          "line": 5307,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(default_detect_order_list)",
          "old_line_content": "\t\tfor (i = 0; i < nentries; i++) {",
          "new_line_content": "\t\tconst enum mbfl_no_encoding *src = MBSTRG(default_detect_order_list);",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": null,
          "new_api": "zend_hash_index_add",
          "old_text": null,
          "new_text": "zend_hash_index_add(output, idx, &entry_tmp)",
          "old_line_content": "",
          "new_line_content": "\t\t\tzend_hash_index_add(output, idx, &entry_tmp);",
          "content_same": false
        },
        {
          "line": 5309,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(default_detect_order_list_size)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tnentries = MBSTRG(default_detect_order_list_size);",
          "content_same": false
        },
        {
          "line": 3263,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "}",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 5310,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(nentries, sizeof(mbfl_encoding*), 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tentry = (const mbfl_encoding **)safe_emalloc(nentries, sizeof(mbfl_encoding*), 0);",
          "content_same": false
        },
        {
          "line": 5315,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_detect_order_list)",
          "old_line_content": "",
          "new_line_content": "\tMBSTRG(current_detect_order_list) = entry;",
          "content_same": false
        },
        {
          "line": 5316,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_detect_order_list_size)",
          "old_line_content": "/* {{{ static int php_mb_encoding_translation() */",
          "new_line_content": "\tMBSTRG(current_detect_order_list_size) = nentries;",
          "content_same": false
        },
        {
          "line": 5323,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(encoding_translation)",
          "old_line_content": "/* {{{ MBSTRING_API size_t php_mb_mbchar_bytes_ex() */",
          "new_line_content": "\treturn MBSTRG(encoding_translation);",
          "content_same": false
        },
        {
          "line": 3289,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(input)",
          "old_line_content": "\tif (arg_old) {",
          "new_line_content": "\tif (Z_TYPE_P(input) != IS_STRING && Z_TYPE_P(input) != IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 3294,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(arg_old)",
          "old_line_content": "",
          "new_line_content": "\t\tswitch (Z_TYPE_P(arg_old)) {",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(arg_old)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\ttarget_hash = Z_ARRVAL_P(arg_old);",
          "content_same": false
        },
        {
          "line": 3299,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_VAL",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_VAL(target_hash, hash_entry)",
          "old_line_content": "\t\t\t\t\tif ( _from_encodings) {",
          "new_line_content": "\t\t\t\tZEND_HASH_FOREACH_VAL(target_hash, hash_entry) {",
          "content_same": false
        },
        {
          "line": 5348,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(internal_encoding)",
          "old_line_content": "/* {{{ MBSTRING_API char *php_mb_safe_strrchr_ex() */",
          "new_line_content": "\treturn php_mb_mbchar_bytes_ex(s, MBSTRG(internal_encoding));",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\t\tn = strlen(Z_STRVAL_P(hash_entry));",
          "content_same": false
        },
        {
          "line": 3307,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(_from_encodings + l, \",\", 1)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tmemcpy(_from_encodings + l, \",\", 1);",
          "content_same": false
        },
        {
          "line": 5355,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "\t\tsize_t nb = 0;",
          "new_line_content": "\tregister const char *p = s;",
          "content_same": false
        },
        {
          "line": 3312,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\t\t\t_from_encodings = NULL;",
          "new_line_content": "\t\t\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(_from_encodings)",
          "old_line_content": "\t\t\t\ts_free = _from_encodings;",
          "new_line_content": "\t\t\t\tif (_from_encodings != NULL && !strlen(_from_encodings)) {",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(_from_encodings)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tefree(_from_encodings);",
          "content_same": false
        },
        {
          "line": 5366,
          "old_api": null,
          "new_api": "php_mb_mbchar_bytes_ex",
          "old_text": null,
          "new_text": "php_mb_mbchar_bytes_ex(p, enc)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tnb = php_mb_mbchar_bytes_ex(p, enc);",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": null,
          "new_api": "convert_to_string",
          "old_text": null,
          "new_text": "convert_to_string(arg_old)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tconvert_to_string(arg_old);",
          "content_same": false
        },
        {
          "line": 3322,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(arg_old)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t_from_encodings = Z_STRVAL_P(arg_old);",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(input)",
          "old_line_content": "\t\t\t// TODO: avoid reallocation ???",
          "new_line_content": "\tif (Z_TYPE_P(input) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 5375,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "\t\t\t\tlast = (char *)p;",
          "new_line_content": "\t\tregister size_t bcnt = nbytes;",
          "content_same": false
        },
        {
          "line": 5376,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\tregister size_t nbytes_char;",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL(ret, size)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETVAL_STRINGL(ret, size);\t\t/* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret)",
          "old_line_content": "\t\tif (s_free) {",
          "new_line_content": "\t\t\tefree(ret);",
          "content_same": false
        },
        {
          "line": 5381,
          "old_api": null,
          "new_api": "php_mb_mbchar_bytes_ex",
          "old_text": null,
          "new_text": "php_mb_mbchar_bytes_ex(p, enc)",
          "old_line_content": "\t\t\tp += nbytes_char;",
          "new_line_content": "\t\t\tnbytes_char = php_mb_mbchar_bytes_ex(p, enc);",
          "content_same": false
        },
        {
          "line": 3342,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(input)",
          "old_line_content": "\treturn;",
          "new_line_content": "\t\ttmp = php_mb_convert_encoding_recursive(HASH_OF(input), arg_new, _from_encodings);",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": null,
          "new_api": "RETURN_ARR",
          "old_text": null,
          "new_text": "RETURN_ARR(tmp)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETURN_ARR(tmp);",
          "content_same": false
        },
        {
          "line": 5396,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(internal_encoding)",
          "old_line_content": "/* {{{ MBSTRING_API int php_mb_stripos()",
          "new_line_content": "\treturn php_mb_safe_strrchr_ex(s, c, nbytes, MBSTRG(internal_encoding));",
          "content_same": false
        },
        {
          "line": 5408,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(from_encoding)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sl|s!\", &str, &str_len,",
          "content_same": false
        },
        {
          "line": 5414,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&needle)",
          "old_line_content": "\tneedle.encoding = enc;",
          "new_line_content": "\tmbfl_string_init(&needle);",
          "content_same": false
        },
        {
          "line": 5415,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "",
          "new_line_content": "\thaystack.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(from_encoding)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "content_same": false
        },
        {
          "line": 5417,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\tsize_t len = 0;",
          "new_line_content": "\tneedle.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 5422,
          "old_api": null,
          "new_api": "php_unicode_convert_case",
          "old_text": null,
          "new_text": "php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_haystack, old_haystack_len, &len, enc)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\thaystack.val = (unsigned char *)php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_haystack, old_haystack_len, &len, enc);",
          "content_same": false
        },
        {
          "line": 3377,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL(newstr, ret_len)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t\tRETVAL_STRINGL(newstr, ret_len);",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(newstr)",
          "old_line_content": "",
          "new_line_content": "\t\tefree(newstr);",
          "content_same": false
        },
        {
          "line": 5433,
          "old_api": null,
          "new_api": "php_unicode_convert_case",
          "old_text": null,
          "new_text": "php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_needle, old_needle_len, &len, enc)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tneedle.val = (unsigned char *)php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_needle, old_needle_len, &len, enc);",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s!\", &str, &str_len,",
          "content_same": false
        },
        {
          "line": 5445,
          "old_api": null,
          "new_api": "mbfl_strlen",
          "old_text": null,
          "new_text": "mbfl_strlen(&haystack)",
          "old_line_content": " \t\t\t\t\t(offset < 0 && -offset > haystack_char_len)) {",
          "new_line_content": " \t\t\tsize_t haystack_char_len = mbfl_strlen(&haystack);",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(from_encoding)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "content_same": false
        },
        {
          "line": 5450,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\")",
          "old_line_content": "\t\t\t\tif (offset < 0) {",
          "new_line_content": " \t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\");",
          "content_same": false
        },
        {
          "line": 3409,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL(newstr, ret_len)",
          "old_line_content": "\tRETURN_FALSE;",
          "new_line_content": "\t\tRETVAL_STRINGL(newstr, ret_len);",
          "content_same": false
        },
        {
          "line": 3410,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(newstr)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(newstr);",
          "content_same": false
        },
        {
          "line": 5458,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Offset not contained in string\")",
          "old_line_content": "\t\t}",
          "new_line_content": " \t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Offset not contained in string\");",
          "content_same": false
        },
        {
          "line": 5472,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(needle.val)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(needle.val);",
          "content_same": false
        },
        {
          "line": 3429,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s!\", &str, &str_len,",
          "content_same": false
        },
        {
          "line": 5481,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(http_input_list)",
          "old_line_content": "",
          "new_line_content": "\t*list = (const zend_encoding **)MBSTRG(http_input_list);",
          "content_same": false
        },
        {
          "line": 3434,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(from_encoding)",
          "old_line_content": "",
          "new_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "content_same": false
        },
        {
          "line": 5482,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(http_input_list_size)",
          "old_line_content": "static void php_mb_gpc_set_input_encoding(const zend_encoding *encoding) /* {{{ */",
          "new_line_content": "\t*list_size = MBSTRG(http_input_list_size);",
          "content_same": false
        },
        {
          "line": 5488,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(http_input_identify)",
          "old_line_content": "#endif\t/* HAVE_MBSTRING */",
          "new_line_content": "\tMBSTRG(http_input_identify) = (const mbfl_encoding*)encoding;",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL(newstr, ret_len)",
          "old_line_content": "\tRETURN_FALSE;",
          "new_line_content": "\t\tRETVAL_STRINGL(newstr, ret_len);",
          "content_same": false
        },
        {
          "line": 3444,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(newstr)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(newstr);",
          "content_same": false
        },
        {
          "line": 3465,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t/* make encoding list */",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|z!b\", &str, &str_len, &encoding_list, &strict) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": null,
          "new_api": "php_mb_parse_encoding_array",
          "old_text": null,
          "new_text": "php_mb_parse_encoding_array(encoding_list, &list, &size, 0)",
          "old_line_content": "\t\t\t\t\tsize = 0;",
          "new_line_content": "\t\t\tif (FAILURE == php_mb_parse_encoding_array(encoding_list, &list, &size, 0)) {",
          "content_same": false
        },
        {
          "line": 3477,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(list)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tefree(list);",
          "content_same": false
        },
        {
          "line": 3484,
          "old_api": null,
          "new_api": "convert_to_string",
          "old_text": null,
          "new_text": "convert_to_string(encoding_list)",
          "old_line_content": "\t\t\t\t\tlist = NULL;",
          "new_line_content": "\t\t\tconvert_to_string(encoding_list);",
          "content_same": false
        },
        {
          "line": 3485,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(encoding_list)",
          "old_line_content": "\t\t\t\t\tsize = 0;",
          "new_line_content": "\t\t\tif (FAILURE == php_mb_parse_encoding_list(Z_STRVAL_P(encoding_list), Z_STRLEN_P(encoding_list), &list, &size, 0)) {",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(list)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tefree(list);",
          "content_same": false
        },
        {
          "line": 3499,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tif (size > 0 && list != NULL) {",
          "new_line_content": "\tif (ZEND_NUM_ARGS() < 3) {",
          "content_same": false
        },
        {
          "line": 3500,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\telist = list;",
          "new_line_content": "\t\tstrict = (zend_bool)MBSTRG(strict_detection);",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": null,
          "new_api": "mbfl_identify_encoding",
          "old_text": null,
          "new_text": "mbfl_identify_encoding(&string, elist, size, strict)",
          "old_line_content": "\t}",
          "new_line_content": "\tret = mbfl_identify_encoding(&string, elist, size, strict);",
          "content_same": false
        },
        {
          "line": 3517,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree((void *)list)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tefree((void *)list);",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": null,
          "new_api": "RETVAL_STRING",
          "old_text": null,
          "new_text": "RETVAL_STRING((char *)ret->name)",
          "old_line_content": "/* {{{ proto mixed mb_list_encodings()",
          "new_line_content": "\tRETVAL_STRING((char *)ret->name);",
          "content_same": false
        },
        {
          "line": 3542,
          "old_api": null,
          "new_api": "mbfl_get_supported_encodings",
          "old_text": null,
          "new_text": "mbfl_get_supported_encodings()",
          "old_line_content": "}",
          "new_line_content": "\tencodings = mbfl_get_supported_encodings();",
          "content_same": false
        },
        {
          "line": 3544,
          "old_api": null,
          "new_api": "add_next_index_string",
          "old_text": null,
          "new_text": "add_next_index_string(return_value, (char *) encoding->name)",
          "old_line_content": "",
          "new_line_content": "\t\tadd_next_index_string(return_value, (char *) encoding->name);",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": null,
          "new_api": "mbfl_name2encoding",
          "old_text": null,
          "new_text": "mbfl_name2encoding(name)",
          "old_line_content": "\t}",
          "new_line_content": "\tencoding = mbfl_name2encoding(name);",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": null,
          "new_api": "add_next_index_string",
          "old_text": null,
          "new_text": "add_next_index_string(return_value, (char *)*alias)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t\t\tadd_next_index_string(return_value, (char *)*alias);",
          "content_same": false
        },
        {
          "line": 3592,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 3595,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tcharset = &mbfl_encoding_pass;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|sssl\", (char **)&string.val, &string.len, &charset_name, &charset_name_len, &trans_enc_name, &trans_enc_name_len, &linefeed, &linefeed_len, &indent) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3603,
          "old_api": null,
          "new_api": "mbfl_name2encoding",
          "old_text": null,
          "new_text": "mbfl_name2encoding(charset_name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tcharset = mbfl_name2encoding(charset_name);",
          "content_same": false
        },
        {
          "line": 3609,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tconst mbfl_language *lang = mbfl_no2language(MBSTRG(language));",
          "content_same": false
        },
        {
          "line": 3611,
          "old_api": null,
          "new_api": "mbfl_no2encoding",
          "old_text": null,
          "new_text": "mbfl_no2encoding(lang->mail_charset)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcharset = mbfl_no2encoding(lang->mail_charset);",
          "content_same": false
        },
        {
          "line": 3612,
          "old_api": null,
          "new_api": "mbfl_no2encoding",
          "old_text": null,
          "new_text": "mbfl_no2encoding(lang->mail_header_encoding)",
          "old_line_content": "\tif (trans_enc_name != NULL) {",
          "new_line_content": "\t\t\ttransenc = mbfl_no2encoding(lang->mail_header_encoding);",
          "content_same": false
        },
        {
          "line": 3628,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);\t/* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 3629,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 3644,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3645,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 3651,
          "old_api": null,
          "new_api": "ZEND_SIZE_T_UINT_OVFL",
          "old_text": null,
          "new_text": "ZEND_SIZE_T_UINT_OVFL(string_len)",
          "old_line_content": "",
          "new_line_content": "\tif (ZEND_SIZE_T_UINT_OVFL(string_len)) {",
          "content_same": false
        },
        {
          "line": 3652,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"String length overflows the max allowed length of %u\", UINT_MAX)",
          "old_line_content": "\tstring.len = (uint32_t)string_len;",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"String length overflows the max allowed length of %u\", UINT_MAX);",
          "content_same": false
        },
        {
          "line": 3662,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);\t/* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 3663,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 3681,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\t}",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 3683,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t/* option */",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|ss\", (char **)&string.val, &string.len, &optstr, &optstr_len, &encname, &encname_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\t}",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": null,
          "new_api": "php_mb_get_encoding",
          "old_text": null,
          "new_text": "php_mb_get_encoding(encname)",
          "old_line_content": "",
          "new_line_content": "\tstring.encoding = php_mb_get_encoding(encname);",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);\t\t/* the string is already strdup()'ed */",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t/* new encoding */",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sz+\", &to_enc, &to_enc_len, &zfrom_enc, &args, &argc) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3795,
          "old_api": null,
          "new_api": "mbfl_name2encoding",
          "old_text": null,
          "new_text": "mbfl_name2encoding(to_enc)",
          "old_line_content": "\t}",
          "new_line_content": "\tto_encoding = mbfl_name2encoding(to_enc);",
          "content_same": false
        },
        {
          "line": 3797,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", to_enc)",
          "old_line_content": "\t/* initialize string */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", to_enc);",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&result)",
          "old_line_content": "",
          "new_line_content": "\tmbfl_string_init(&result);",
          "content_same": false
        },
        {
          "line": 3804,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t/* pre-conversion encoding */",
          "new_line_content": "\tfrom_encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 3806,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "\telistsz = 0;",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(zfrom_enc)",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\tswitch (Z_TYPE_P(zfrom_enc)) {",
          "content_same": false
        },
        {
          "line": 3816,
          "old_api": null,
          "new_api": "convert_to_string_ex",
          "old_text": null,
          "new_text": "convert_to_string_ex(zfrom_enc)",
          "old_line_content": "",
          "new_line_content": "\t\t\tconvert_to_string_ex(zfrom_enc);",
          "content_same": false
        },
        {
          "line": 3817,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(zfrom_enc)",
          "old_line_content": "\tif (elistsz <= 0) {",
          "new_line_content": "\t\t\tphp_mb_parse_encoding_list(Z_STRVAL_P(zfrom_enc), Z_STRLEN_P(zfrom_enc), &elist, &elistsz, 0);",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(stack_max, sizeof(zval), 0)",
          "old_line_content": "\t\t\tn = 0;",
          "new_line_content": "\t\tstack = (zval *)safe_emalloc(stack_max, sizeof(zval), 0);",
          "content_same": false
        },
        {
          "line": 3831,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(strict_detection)",
          "old_line_content": "\t\t\t\tif (stack_level <= 0) {",
          "new_line_content": "\t\tidentd = mbfl_encoding_detector_new(elist, elistsz, MBSTRG(strict_detection));",
          "content_same": false
        },
        {
          "line": 3837,
          "old_api": null,
          "new_api": "ZVAL_DEREF",
          "old_text": null,
          "new_text": "ZVAL_DEREF(var)",
          "old_line_content": "\t\t\t\t\t\tif (target_hash != NULL) {",
          "new_line_content": "\t\t\t\t\tZVAL_DEREF(var);",
          "content_same": false
        },
        {
          "line": 3839,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(var)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 3840,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": null,
          "new_api": "zend_hash_internal_pointer_reset",
          "old_text": null,
          "new_text": "zend_hash_internal_pointer_reset(target_hash)",
          "old_line_content": "\t\t\t\t\tstack_level--;",
          "new_line_content": "\t\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t\t\t\t\t\tif (++target_hash->u.v.nApplyCount > 1) {",
          "new_line_content": "\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": null,
          "new_api": "zend_hash_get_current_data",
          "old_text": null,
          "new_text": "zend_hash_get_current_data(target_hash)",
          "old_line_content": "\t\t\t\t\t\t\t\t\trecursion_error = 1;",
          "new_line_content": "\t\t\t\t\t\twhile ((hash_entry = zend_hash_get_current_data(target_hash)) != NULL) {",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": null,
          "new_api": "Z_REFCOUNTED_P",
          "old_text": null,
          "new_text": "Z_REFCOUNTED_P(var)",
          "old_line_content": "\t\t\t\t\t\t\t\t\tgoto detect_end;",
          "new_line_content": "\t\t\t\t\t\t\tif (Z_REFCOUNTED_P(var)) {",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": null,
          "new_api": "Z_INDIRECT_P",
          "old_text": null,
          "new_text": "Z_INDIRECT_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\tif (stack_level >= stack_max) {",
          "new_line_content": "\t\t\t\t\t\t\t\thash_entry = Z_INDIRECT_P(hash_entry);",
          "content_same": false
        },
        {
          "line": 3865,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t\tstack = (zval *)ptmp;",
          "new_line_content": "\t\t\t\t\t\t\tif (Z_TYPE_P(hash_entry) == IS_ARRAY || Z_TYPE_P(hash_entry) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 3868,
          "old_api": null,
          "new_api": "erealloc",
          "old_text": null,
          "new_text": "erealloc(stack, sizeof(zval) * stack_max)",
          "old_line_content": "\t\t\t\t\t\t\t\tstack_level++;",
          "new_line_content": "\t\t\t\t\t\t\t\t\tptmp = erealloc(stack, sizeof(zval) * stack_max);",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&stack[stack_level], var)",
          "old_line_content": "\t\t\t\t\t\t\t\tif (target_hash != NULL) {",
          "new_line_content": "\t\t\t\t\t\t\t\tZVAL_COPY_VALUE(&stack[stack_level], var);",
          "content_same": false
        },
        {
          "line": 3874,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "content_same": false
        },
        {
          "line": 3879,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t\tgoto detect_end;\t\t/* complete detecting */",
          "new_line_content": "\t\t\t\t\t\t\t} else if (Z_TYPE_P(hash_entry) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(hash_entry);",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tstring.len = Z_STRLEN_P(hash_entry);",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": null,
          "new_api": "mbfl_encoding_detector_feed",
          "old_text": null,
          "new_text": "mbfl_encoding_detector_feed(identd, &string)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tif (mbfl_encoding_detector_feed(identd, &string)) {",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(var)",
          "old_line_content": "\t\t\t\t\t\tgoto detect_end;\t\t/* complete detecting */",
          "new_line_content": "\t\t\t\t} else if (Z_TYPE_P(var) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(var)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(var);",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(var)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tstring.len = Z_STRLEN_P(var);",
          "content_same": false
        },
        {
          "line": 3891,
          "old_api": null,
          "new_api": "mbfl_encoding_detector_feed",
          "old_text": null,
          "new_text": "mbfl_encoding_detector_feed(identd, &string)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (mbfl_encoding_detector_feed(identd, &string)) {",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": null,
          "new_api": "mbfl_encoding_detector_judge",
          "old_text": null,
          "new_text": "mbfl_encoding_detector_judge(identd)",
          "old_line_content": "\t\t\twhile(stack_level-- && (var = &stack[stack_level])) {",
          "new_line_content": "\t\t\tfrom_encoding = mbfl_encoding_detector_judge(identd);",
          "content_same": false
        },
        {
          "line": 3902,
          "old_api": null,
          "new_api": "Z_REFCOUNTED_P",
          "old_text": null,
          "new_text": "Z_REFCOUNTED_P(var)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (Z_REFCOUNTED_P(var)) {",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (HASH_OF(var)->u.v.nApplyCount > 1) {",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree((void *)elist)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tefree((void *)elist);",
          "content_same": false
        },
        {
          "line": 3912,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\");",
          "content_same": false
        },
        {
          "line": 3915,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(stack)",
          "old_line_content": "\t\t\tfrom_encoding = &mbfl_encoding_pass;",
          "new_line_content": "\t\tefree(stack);",
          "content_same": false
        },
        {
          "line": 3918,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to detect encoding\")",
          "old_line_content": "\tif (elist != NULL) {",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unable to detect encoding\");",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree((void *)elist)",
          "old_line_content": "\tif (from_encoding != &mbfl_encoding_pass) {",
          "new_line_content": "\t\tefree((void *)elist);",
          "content_same": false
        },
        {
          "line": 3928,
          "old_api": null,
          "new_api": "mbfl_buffer_converter_new",
          "old_text": null,
          "new_text": "mbfl_buffer_converter_new(from_encoding, to_encoding, 0)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tconvd = mbfl_buffer_converter_new(from_encoding, to_encoding, 0);",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_mode)",
          "old_line_content": "\t/* convert */",
          "new_line_content": "\t\tmbfl_buffer_converter_illegal_mode(convd, MBSTRG(current_filter_illegal_mode));",
          "content_same": false
        },
        {
          "line": 3934,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_filter_illegal_substchar)",
          "old_line_content": "\tif (convd != NULL) {",
          "new_line_content": "\t\tmbfl_buffer_converter_illegal_substchar(convd, MBSTRG(current_filter_illegal_substchar));",
          "content_same": false
        },
        {
          "line": 3940,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(stack_max, sizeof(zval), 0)",
          "old_line_content": "\t\t\tif (stack_level <= 0) {",
          "new_line_content": "\t\tstack = (zval*)safe_emalloc(stack_max, sizeof(zval), 0);",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": null,
          "new_api": "ZVAL_DEREF",
          "old_text": null,
          "new_text": "ZVAL_DEREF(var)",
          "old_line_content": "\t\t\t\t\tif (target_hash != NULL) {",
          "new_line_content": "\t\t\t\tZVAL_DEREF(var);",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(var)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 3949,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "zend_hash_internal_pointer_reset",
          "old_text": null,
          "new_text": "zend_hash_internal_pointer_reset(target_hash)",
          "old_line_content": "\t\t\t\tstack_level--;",
          "new_line_content": "\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "content_same": false
        },
        {
          "line": 3961,
          "old_api": null,
          "new_api": "zend_hash_get_current_data",
          "old_text": null,
          "new_text": "zend_hash_get_current_data(target_hash)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\twhile ((hash_entry_ptr = zend_hash_get_current_data(target_hash)) != NULL) {",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": null,
          "new_api": "zend_hash_move_forward",
          "old_text": null,
          "new_text": "zend_hash_move_forward(target_hash)",
          "old_line_content": "\t\t\t\t\t\thash_entry = hash_entry_ptr;",
          "new_line_content": "\t\t\t\t\t\tzend_hash_move_forward(target_hash);",
          "content_same": false
        },
        {
          "line": 3968,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t\trecursion_error = 1;",
          "new_line_content": "\t\t\t\t\t\tif (Z_TYPE_P(hash_entry) == IS_ARRAY || Z_TYPE_P(hash_entry) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": null,
          "new_api": "Z_REFCOUNTED_P",
          "old_text": null,
          "new_text": "Z_REFCOUNTED_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t\tgoto conv_end;",
          "new_line_content": "\t\t\t\t\t\t\tif (Z_REFCOUNTED_P(hash_entry)) {",
          "content_same": false
        },
        {
          "line": 3970,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tif (++(HASH_OF(hash_entry)->u.v.nApplyCount) > 1) {",
          "content_same": false
        },
        {
          "line": 3971,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\t\t--(HASH_OF(hash_entry)->u.v.nApplyCount);",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": null,
          "new_api": "erealloc",
          "old_text": null,
          "new_text": "erealloc(stack, sizeof(zval) * stack_max)",
          "old_line_content": "\t\t\t\t\t\t\tstack_level++;",
          "new_line_content": "\t\t\t\t\t\t\t\tptmp = erealloc(stack, sizeof(zval) * stack_max);",
          "content_same": false
        },
        {
          "line": 3984,
          "old_api": null,
          "new_api": "SEPARATE_ZVAL",
          "old_text": null,
          "new_text": "SEPARATE_ZVAL(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\t\t\tSEPARATE_ZVAL(hash_entry);",
          "content_same": false
        },
        {
          "line": 3985,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "content_same": false
        },
        {
          "line": 3990,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\tif (ret != NULL) {",
          "new_line_content": "\t\t\t\t\t\t} else if (Z_TYPE_P(hash_entry) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(hash_entry)",
          "old_line_content": "\t\t\t\t\t\t\t\t// TODO: avoid reallocation ???",
          "new_line_content": "\t\t\t\t\t\t\tstring.len = Z_STRLEN_P(hash_entry);",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(hash_entry_ptr)",
          "old_line_content": "\t\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tzval_ptr_dtor(hash_entry_ptr);",
          "content_same": false
        },
        {
          "line": 3997,
          "old_api": null,
          "new_api": "ZVAL_STRINGL",
          "old_text": null,
          "new_text": "ZVAL_STRINGL(hash_entry_ptr, (char *)ret->val, ret->len)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tZVAL_STRINGL(hash_entry_ptr, (char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4003,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(var)",
          "old_line_content": "\t\t\t\tif (ret != NULL) {",
          "new_line_content": "\t\t\t} else if (Z_TYPE_P(var) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 4005,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(var)",
          "old_line_content": "\t\t\t\t\t// TODO: avoid reallocation ???",
          "new_line_content": "\t\t\t\tstring.len = Z_STRLEN_P(var);",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(var)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tzval_ptr_dtor(var);",
          "content_same": false
        },
        {
          "line": 4010,
          "old_api": null,
          "new_api": "ZVAL_STRINGL",
          "old_text": null,
          "new_text": "ZVAL_STRINGL(var, (char *)ret->val, ret->len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tZVAL_STRINGL(var, (char *)ret->val, ret->len);",
          "content_same": false
        },
        {
          "line": 4011,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(ret->val)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tefree(ret->val);",
          "content_same": false
        },
        {
          "line": 4017,
          "old_api": null,
          "new_api": "mbfl_buffer_illegalchars",
          "old_text": null,
          "new_text": "mbfl_buffer_illegalchars(convd)",
          "old_line_content": "\t\t\twhile(stack_level-- && (var = &stack[stack_level])) {",
          "new_line_content": "\t\tMBSTRG(illegalchars) += mbfl_buffer_illegalchars(convd);",
          "content_same": false
        },
        {
          "line": 4022,
          "old_api": null,
          "new_api": "Z_REFCOUNTED_P",
          "old_text": null,
          "new_text": "Z_REFCOUNTED_P(var)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (Z_REFCOUNTED_P(var)) {",
          "content_same": false
        },
        {
          "line": 4023,
          "old_api": null,
          "new_api": "HASH_OF",
          "old_text": null,
          "new_text": "HASH_OF(var)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (HASH_OF(var)->u.v.nApplyCount > 1) {",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\");",
          "content_same": false
        },
        {
          "line": 4036,
          "old_api": null,
          "new_api": "RETURN_STRING",
          "old_text": null,
          "new_text": "RETURN_STRING(from_encoding->name)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETURN_STRING(from_encoding->name);",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": null,
          "new_api": "mbfl_string_init",
          "old_text": null,
          "new_text": "mbfl_string_init(&string)",
          "old_line_content": "\tstring.len = str_len;",
          "new_line_content": "\tmbfl_string_init(&string);",
          "content_same": false
        },
        {
          "line": 4061,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(language)",
          "old_line_content": "",
          "new_line_content": "\tstring.no_language = MBSTRG(language);",
          "content_same": false
        },
        {
          "line": 4062,
          "old_api": null,
          "new_api": "MBSTRG",
          "old_text": null,
          "new_text": "MBSTRG(current_internal_encoding)",
          "old_line_content": "\t/* encoding */",
          "new_line_content": "\tstring.encoding = MBSTRG(current_internal_encoding);",
          "content_same": false
        },
        {
          "line": 4068,
          "old_api": null,
          "new_api": "mbfl_name2encoding",
          "old_text": null,
          "new_text": "mbfl_name2encoding(encoding)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tstring.encoding = mbfl_name2encoding(encoding);",
          "content_same": false
        },
        {
          "line": 4070,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", encoding)",
          "old_line_content": "",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", encoding);",
          "content_same": false
        },
        {
          "line": 4082,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(zconvmap)",
          "old_line_content": "\t\t\tmapelm = convmap;",
          "new_line_content": "\t\ttarget_hash = Z_ARRVAL_P(zconvmap);",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": null,
          "new_api": "zend_hash_num_elements",
          "old_text": null,
          "new_text": "zend_hash_num_elements(target_hash)",
          "old_line_content": "\t\t\tmapsize = 0;",
          "new_line_content": "\t\ti = zend_hash_num_elements(target_hash);",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": null,
          "new_api": "convert_to_long_ex",
          "old_text": null,
          "new_text": "convert_to_long_ex(hash_entry)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tconvert_to_long_ex(hash_entry);",
          "content_same": false
        },
        {
          "line": 4090,
          "old_api": null,
          "new_api": "Z_LVAL_P",
          "old_text": null,
          "new_text": "Z_LVAL_P(hash_entry)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\t*mapelm++ = Z_LVAL_P(hash_entry);",
          "content_same": false
        },
        {
          "line": 4092,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4096,
          "old_api": "mbfl_html_numeric_entity",
          "new_api": null,
          "old_text": "mbfl_html_numeric_entity(&string, &result, convmap, mapsize, type)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_html_numeric_entity(&string, &result, convmap, mapsize, type);",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4099,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4112,
          "old_api": "php_mb_numericentity_exec",
          "new_api": null,
          "old_text": "php_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0)",
          "new_text": null,
          "old_line_content": "\tphp_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "new_line_content": "/* {{{ proto string mb_encode_numericentity(string string, array convmap [, string encoding [, bool is_hex]])",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": "php_mb_numericentity_exec",
          "new_api": null,
          "old_text": "php_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1)",
          "new_text": null,
          "old_line_content": "\tphp_mb_numericentity_exec(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "new_line_content": "/* {{{ proto string mb_decode_numericentity(string string, array convmap [, string encoding])",
          "content_same": false
        },
        {
          "line": 4179,
          "old_api": "zend_string_init",
          "new_api": null,
          "old_text": "zend_string_init(token, token_pos, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tfld_name = zend_string_init(token, token_pos, 0);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4245,
          "old_api": "zend_string_init",
          "new_api": null,
          "old_text": "zend_string_init(token, token_pos, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tfld_val = zend_string_init(token, token_pos, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4252,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(fld_name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tphp_strtoupper(ZSTR_VAL(fld_name), ZSTR_LEN(fld_name));",
          "new_line_content": "\t\t\t\t\t\t\tif (fld_name != NULL && fld_val != NULL) {",
          "content_same": false
        },
        {
          "line": 4253,
          "old_api": "ZVAL_STR",
          "new_api": null,
          "old_text": "ZVAL_STR(&val, fld_val)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tZVAL_STR(&val, fld_val);",
          "new_line_content": "\t\t\t\t\t\t\t\tzval val;",
          "content_same": false
        },
        {
          "line": 4255,
          "old_api": "zend_hash_update",
          "new_api": null,
          "old_text": "zend_hash_update(ht, fld_name, &val)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tzend_hash_update(ht, fld_name, &val);",
          "new_line_content": "\t\t\t\t\t\t\t\t * really required here,,, */",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": "zend_string_init",
          "new_api": null,
          "old_text": "zend_string_init(token, token_pos, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tfld_val = zend_string_init(token, token_pos, 0);",
          "new_line_content": "\t\tstate = 3;",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(fld_name)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_strtoupper(ZSTR_VAL(fld_name), ZSTR_LEN(fld_name));",
          "new_line_content": "\t\tif (fld_name != NULL && fld_val != NULL) {",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": "ZVAL_STR",
          "new_api": null,
          "old_text": "ZVAL_STR(&val, fld_val)",
          "new_text": null,
          "old_line_content": "\t\t\tZVAL_STR(&val, fld_val);",
          "new_line_content": "\t\t\tzval val;",
          "content_same": false
        },
        {
          "line": 4303,
          "old_api": "zend_hash_update",
          "new_api": null,
          "old_text": "zend_hash_update(ht, fld_name, &val)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_update(ht, fld_name, &val);",
          "new_line_content": "\t\t\t * really required here,,, */",
          "content_same": false
        },
        {
          "line": 4325,
          "old_api": "INI_STR",
          "new_api": null,
          "old_text": "INI_STR(\"mail.force_extra_parameters\")",
          "new_text": null,
          "old_line_content": "\tchar *force_extra_parameters = INI_STR(\"mail.force_extra_parameters\");",
          "new_line_content": "\tzend_string *extra_cmd = NULL;",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": "mbfl_memory_device_init",
          "new_api": null,
          "old_text": "mbfl_memory_device_init(&device, 0, 0)",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&device, 0, 0);",
          "new_line_content": "\textern void mbfl_memory_device_unput(mbfl_memory_device *device);",
          "content_same": false
        },
        {
          "line": 4348,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&orig_str)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&orig_str);",
          "new_line_content": "\tchar *pp, *ee;",
          "content_same": false
        },
        {
          "line": 4349,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&conv_str)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&conv_str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4355,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tlang = mbfl_no2language(MBSTRG(language));",
          "new_line_content": "\t/* character-set, transfer-encoding */",
          "content_same": false
        },
        {
          "line": 4357,
          "old_api": "mbfl_no2encoding",
          "new_api": null,
          "old_text": "mbfl_no2encoding(lang->mail_charset)",
          "new_text": null,
          "old_line_content": "\t\ttran_cs = mbfl_no2encoding(lang->mail_charset);",
          "new_line_content": "\thead_enc = &mbfl_encoding_base64;",
          "content_same": false
        },
        {
          "line": 4358,
          "old_api": "mbfl_no2encoding",
          "new_api": null,
          "old_text": "mbfl_no2encoding(lang->mail_header_encoding)",
          "new_text": null,
          "old_line_content": "\t\thead_enc = mbfl_no2encoding(lang->mail_header_encoding);",
          "new_line_content": "\tbody_enc = &mbfl_encoding_base64;",
          "content_same": false
        },
        {
          "line": 4367,
          "old_api": "MAIL_ASCIIZ_CHECK_MBSTRING",
          "new_api": null,
          "old_text": "MAIL_ASCIIZ_CHECK_MBSTRING(to, to_len)",
          "new_text": null,
          "old_line_content": "\tMAIL_ASCIIZ_CHECK_MBSTRING(to, to_len);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4368,
          "old_api": "MAIL_ASCIIZ_CHECK_MBSTRING",
          "new_api": null,
          "old_text": "MAIL_ASCIIZ_CHECK_MBSTRING(subject, subject_len)",
          "new_text": null,
          "old_line_content": "\tMAIL_ASCIIZ_CHECK_MBSTRING(subject, subject_len);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4369,
          "old_api": "MAIL_ASCIIZ_CHECK_MBSTRING",
          "new_api": null,
          "old_text": "MAIL_ASCIIZ_CHECK_MBSTRING(message, message_len)",
          "new_text": null,
          "old_line_content": "\tMAIL_ASCIIZ_CHECK_MBSTRING(message, message_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(tmp_headers)",
          "new_text": null,
          "old_line_content": "\t\t\t\tMAIL_ASCIIZ_CHECK_MBSTRING(ZSTR_VAL(tmp_headers), ZSTR_LEN(tmp_headers));",
          "new_line_content": "\tif (headers) {",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": "zend_string_release",
          "new_api": null,
          "old_text": "zend_string_release(tmp_headers)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_string_release(tmp_headers);",
          "new_line_content": "\t\t\tcase IS_STRING:",
          "content_same": false
        },
        {
          "line": 4382,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"headers parameter must be string or array\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"headers parameter must be string or array\");",
          "new_line_content": "\t\t\tcase IS_ARRAY:",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(extra_cmd)",
          "new_text": null,
          "old_line_content": "\t\tMAIL_ASCIIZ_CHECK_MBSTRING(ZSTR_VAL(extra_cmd), ZSTR_LEN(extra_cmd));",
          "new_line_content": "\t\t\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4390,
          "old_api": "zend_hash_init",
          "new_api": null,
          "old_text": "zend_hash_init(&ht_headers, 0, NULL, ZVAL_PTR_DTOR, 0)",
          "new_text": null,
          "old_line_content": "\tzend_hash_init(&ht_headers, 0, NULL, ZVAL_PTR_DTOR, 0);",
          "new_line_content": "\tif (extra_cmd) {",
          "content_same": false
        },
        {
          "line": 4393,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str_headers)",
          "new_text": null,
          "old_line_content": "\t\t_php_mbstr_parse_mail_headers(&ht_headers, ZSTR_VAL(str_headers), ZSTR_LEN(str_headers));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4396,
          "old_api": "zend_hash_str_find",
          "new_api": null,
          "old_text": "zend_hash_str_find(&ht_headers, \"CONTENT-TYPE\", sizeof(\"CONTENT-TYPE\") - 1)",
          "new_text": null,
          "old_line_content": "\tif ((s = zend_hash_str_find(&ht_headers, \"CONTENT-TYPE\", sizeof(\"CONTENT-TYPE\") - 1))) {",
          "new_line_content": "\tif (str_headers != NULL) {",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4401,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(s)",
          "new_text": null,
          "old_line_content": "\t\tZEND_ASSERT(Z_TYPE_P(s) == IS_STRING);",
          "new_line_content": "\t\tchar *tmp;",
          "content_same": false
        },
        {
          "line": 4402,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(s)",
          "new_text": null,
          "old_line_content": "\t\tp = strchr(Z_STRVAL_P(s), ';');",
          "new_line_content": "\t\tchar *param_name;",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&string)",
          "new_text": null,
          "old_line_content": "\tn = mbfl_strlen(&string);",
          "new_line_content": "\tif (!string.encoding) {",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": "php_strtok_r",
          "new_api": null,
          "old_text": "php_strtok_r(p, \"= \", &tmp)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif ((param_name = php_strtok_r(p, \"= \", &tmp)) != NULL) {",
          "new_line_content": "\t\t\t\t++p;",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(param_name, \"charset\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (strcasecmp(param_name, \"charset\") == 0) {",
          "new_line_content": "\t\t\t} while (*p == ' ' || *p == '\\t');",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": "mbfl_name2encoding",
          "new_api": null,
          "old_text": "mbfl_name2encoding(charset)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t_tran_cs = mbfl_name2encoding(charset);",
          "new_line_content": "\t\t\t\t\t\tconst mbfl_encoding *_tran_cs = tran_cs;",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tmbfl_string haystack, needle;",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tchar *enc_name = NULL;",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|ls\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &offset, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": "zend_hash_str_find",
          "new_api": null,
          "old_text": "zend_hash_str_find(&ht_headers, \"CONTENT-TRANSFER-ENCODING\", sizeof(\"CONTENT-TRANSFER-ENCODING\") - 1)",
          "new_text": null,
          "old_line_content": "\tif ((s = zend_hash_str_find(&ht_headers, \"CONTENT-TRANSFER-ENCODING\", sizeof(\"CONTENT-TRANSFER-ENCODING\") - 1))) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4435,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(s)",
          "new_text": null,
          "old_line_content": "\t\tZEND_ASSERT(Z_TYPE_P(s) == IS_STRING);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": null,
          "old_line_content": "\tslen = mbfl_strlen(&haystack);",
          "new_line_content": "\tif (!haystack.encoding) {",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Offset not contained in string\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Offset not contained in string\");",
          "new_line_content": "\tif (offset < 0) {",
          "content_same": false
        },
        {
          "line": 4445,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(s)",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported transfer encoding \\\"%s\\\" - will be regarded as 8bit\", Z_STRVAL_P(s));",
          "new_line_content": "\t\t\t\tbody_enc = _body_enc;",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4455,
          "old_api": "estrndup",
          "new_api": null,
          "old_text": "estrndup(to, to_len)",
          "new_text": null,
          "old_line_content": "\t\t\tto_r = estrndup(to, to_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Needle has not positive length\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Needle has not positive length\");",
          "new_line_content": "\t\tswitch (-n) {",
          "content_same": false
        },
        {
          "line": 4457,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace((unsigned char) to_r[to_len - 1])",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (!isspace((unsigned char) to_r[to_len - 1])) {",
          "new_line_content": "\tif (to != NULL) {",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding or conversion error\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding or conversion error\");",
          "new_line_content": "\t\tcase 2:",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_NOTICE, \"Argument is empty\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_NOTICE, \"Argument is empty\");",
          "new_line_content": "\t\tcase 4:",
          "content_same": false
        },
        {
          "line": 4463,
          "old_api": "iscntrl",
          "new_api": null,
          "old_text": "iscntrl((unsigned char) to_r[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (iscntrl((unsigned char) to_r[i])) {",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown error in mb_strpos\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown error in mb_strpos\");",
          "new_line_content": "\t\tcase 8:",
          "content_same": false
        },
        {
          "line": 4469,
          "old_api": "SKIP_LONG_HEADER_SEP_MBSTRING",
          "new_api": null,
          "old_text": "SKIP_LONG_HEADER_SEP_MBSTRING(to_r, i)",
          "new_text": null,
          "old_line_content": "\t\t\t\tSKIP_LONG_HEADER_SEP_MBSTRING(to_r, i);",
          "new_line_content": "\t\t\t\t * parts using CRLF followed at least one linear-white-space character ('\\t' or ' ').",
          "content_same": false
        },
        {
          "line": 4477,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Missing To: field\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Missing To: field\");",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\t\torig_str.no_language = MBSTRG(language);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tlong offset = 0, str_flg, n;",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tchar *enc_name2 = NULL;",
          "content_same": false
        },
        {
          "line": 4486,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\torig_str.encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "\tif (subject != NULL) {",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|zs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &zoffset, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4489,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(strict_detection)",
          "new_text": null,
          "old_line_content": "\t\t\torig_str.encoding = mbfl_identify_encoding(&orig_str, MBSTRG(current_detect_order_list), MBSTRG(current_detect_order_list_size), MBSTRG(strict_detection));",
          "new_line_content": "\t\torig_str.len = subject_len;",
          "content_same": false
        },
        {
          "line": 4491,
          "old_api": "mbfl_mime_header_encode",
          "new_api": null,
          "old_text": "mbfl_mime_header_encode(&orig_str, &conv_str, tran_cs, head_enc, \"\\n\", sizeof(\"Subject: [PHP-jp nnnnnnnn]\"))",
          "new_text": null,
          "old_line_content": "\t\tpstr = mbfl_mime_header_encode(&orig_str, &conv_str, tran_cs, head_enc, \"\\n\", sizeof(\"Subject: [PHP-jp nnnnnnnn]\"));",
          "new_line_content": "\t\tif (orig_str.encoding->no_encoding == mbfl_no_encoding_invalid",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4496,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Missing Subject: field\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Missing Subject: field\");",
          "new_line_content": "\t\tif (pstr != NULL) {",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(zoffset)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(zoffset) == IS_STRING) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(zoffset)",
          "new_text": null,
          "old_line_content": "\t\t\tenc_name2     = Z_STRVAL_P(zoffset);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(zoffset)",
          "new_text": null,
          "old_line_content": "\t\t\tenc_name_len2 = Z_STRLEN_P(zoffset);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\t\torig_str.no_language = MBSTRG(language);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4505,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\torig_str.encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "\tif (message != NULL) {",
          "content_same": false
        },
        {
          "line": 4516,
          "old_api": "mbfl_convert_encoding",
          "new_api": null,
          "old_text": "mbfl_convert_encoding(&orig_str, &tmpstr, tran_cs)",
          "new_text": null,
          "old_line_content": "\t\t\tif (mbfl_convert_encoding(&orig_str, &tmpstr, tran_cs) != NULL) {",
          "new_line_content": "\t\tpstr = NULL;",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": "mbfl_convert_encoding",
          "new_api": null,
          "old_text": "mbfl_convert_encoding(&tmpstr, &conv_str, body_enc)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpstr = mbfl_convert_encoding(&tmpstr, &conv_str, body_enc);",
          "new_line_content": "\t\t\tmbfl_string tmpstr;",
          "content_same": false
        },
        {
          "line": 4519,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(tmpstr.val)",
          "new_text": null,
          "old_line_content": "\t\t\t\tefree(tmpstr.val);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Empty message body\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty message body\");",
          "new_line_content": "\t\t\tmessage_buf = message = (char *)pstr->val;",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": "convert_to_long_ex",
          "new_api": null,
          "old_text": "convert_to_long_ex(zoffset)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconvert_to_long_ex(zoffset);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "Z_LVAL_P",
          "new_api": null,
          "old_text": "Z_LVAL_P(zoffset)",
          "new_text": null,
          "old_line_content": "\t\t\t\toffset   = Z_LVAL_P(zoffset);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": "convert_to_long_ex",
          "new_api": null,
          "old_text": "convert_to_long_ex(zoffset)",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_long_ex(zoffset);",
          "new_line_content": "\t\t\t\tenc_name     = enc_name2;",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "Z_LVAL_P",
          "new_api": null,
          "old_text": "Z_LVAL_P(zoffset)",
          "new_text": null,
          "old_line_content": "\t\t\toffset = Z_LVAL_P(zoffset);",
          "new_line_content": "\t\t\t\tenc_name_len = enc_name_len2;",
          "content_same": false
        },
        {
          "line": 4537,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(str_headers)",
          "new_text": null,
          "old_line_content": "\t\tp = ZSTR_VAL(str_headers);",
          "new_line_content": "#define PHP_MBSTR_MAIL_MIME_HEADER2 \"Content-Type: text/plain\"",
          "content_same": false
        },
        {
          "line": 4538,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str_headers)",
          "new_text": null,
          "old_line_content": "\t\tn = ZSTR_LEN(str_headers);",
          "new_line_content": "#define PHP_MBSTR_MAIL_MIME_HEADER3 \"; charset=\"",
          "content_same": false
        },
        {
          "line": 4539,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strncat(&device, p, n)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&device, p, n);",
          "new_line_content": "#define PHP_MBSTR_MAIL_MIME_HEADER4 \"Content-Transfer-Encoding: \"",
          "content_same": false
        },
        {
          "line": 4540,
          "old_api": "zend_string_release",
          "new_api": null,
          "old_text": "zend_string_release(str_headers)",
          "new_text": null,
          "old_line_content": "\t\tzend_string_release(str_headers);",
          "new_line_content": "\tif (str_headers != NULL) {",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": null,
          "old_line_content": "\t\tsize_t haystack_char_len = mbfl_strlen(&haystack);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4547,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER1, sizeof(PHP_MBSTR_MAIL_MIME_HEADER1) - 1)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER1, sizeof(PHP_MBSTR_MAIL_MIME_HEADER1) - 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4548,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "mbfl_strpos",
          "new_api": null,
          "old_text": "mbfl_strpos(&haystack, &needle, offset, 1)",
          "new_text": null,
          "old_line_content": "\tn = mbfl_strpos(&haystack, &needle, offset, 1);",
          "new_line_content": "\t\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4554,
          "old_api": "mbfl_no2preferred_mime_name",
          "new_api": null,
          "old_text": "mbfl_no2preferred_mime_name(tran_cs->no_encoding)",
          "new_text": null,
          "old_line_content": "\t\tp = (char *)mbfl_no2preferred_mime_name(tran_cs->no_encoding);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": "mbfl_memory_device_strcat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strcat(&device, p)",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_strcat(&device, p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4559,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "new_line_content": "\t\tif (p != NULL) {",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER4, sizeof(PHP_MBSTR_MAIL_MIME_HEADER4) - 1)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&device, PHP_MBSTR_MAIL_MIME_HEADER4, sizeof(PHP_MBSTR_MAIL_MIME_HEADER4) - 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tconst char *from_encoding = MBSTRG(current_internal_encoding)->mime_name;",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|ls\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &offset, &from_encoding, &from_encoding_len) == FAILURE) {",
          "new_line_content": "\tmbfl_string haystack, needle;",
          "content_same": false
        },
        {
          "line": 4568,
          "old_api": "mbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "mbfl_memory_device_strncat(&device, \"\\n\", 1)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&device, \"\\n\", 1);",
          "new_line_content": "\t\tif (p == NULL) {",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen((char *)device.buffer)",
          "new_text": null,
          "old_line_content": "\tstr_headers = zend_string_init((char *)device.buffer, strlen((char *)device.buffer), 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(extra_cmd)",
          "new_text": null,
          "old_line_content": "\t\textra_cmd = php_escape_shell_cmd(ZSTR_VAL(extra_cmd));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(extra_cmd)",
          "new_text": null,
          "old_line_content": "\tif (!err && php_mail(to_r, subject, message, ZSTR_VAL(str_headers), extra_cmd ? ZSTR_VAL(extra_cmd) : NULL)) {",
          "new_line_content": "\t} else if (extra_cmd) {",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": "zend_string_release",
          "new_api": null,
          "old_text": "zend_string_release(extra_cmd)",
          "new_text": null,
          "old_line_content": "\t\tzend_string_release(extra_cmd);",
          "new_line_content": "\t\tRETVAL_FALSE;",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tconst char *from_encoding = MBSTRG(current_internal_encoding)->mime_name;",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4595,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree((void *)subject_buf)",
          "new_text": null,
          "old_line_content": "\t\tefree((void *)subject_buf);",
          "new_line_content": "\tif (to_r != to) {",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|ls\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &offset, &from_encoding, &from_encoding_len) == FAILURE) {",
          "new_line_content": "\tmbfl_string haystack, needle;",
          "content_same": false
        },
        {
          "line": 4598,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree((void *)message_buf)",
          "new_text": null,
          "old_line_content": "\t\tefree((void *)message_buf);",
          "new_line_content": "\tif (subject_buf) {",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": "mbfl_memory_device_clear",
          "new_api": null,
          "old_text": "mbfl_memory_device_clear(&device)",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_clear(&device);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4601,
          "old_api": "zend_hash_destroy",
          "new_api": null,
          "old_text": "zend_hash_destroy(&ht_headers)",
          "new_text": null,
          "old_line_content": "\tzend_hash_destroy(&ht_headers);",
          "new_line_content": "\tif (message_buf) {",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": "zend_string_release",
          "new_api": null,
          "old_text": "zend_string_release(str_headers)",
          "new_text": null,
          "old_line_content": "\t\tzend_string_release(str_headers);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tchar *enc_name = NULL;",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tsize_t enc_name_len;",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tconst mbfl_language *lang = mbfl_no2language(MBSTRG(language));",
          "new_line_content": "\tsize_t n;",
          "content_same": false
        },
        {
          "line": 4628,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"|s\", &typ, &typ_len) == FAILURE) {",
          "new_line_content": "\tzval row1, row2;",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4633,
          "old_api": "array_init",
          "new_api": null,
          "old_text": "array_init(return_value)",
          "new_text": null,
          "old_line_content": "\t\tarray_init(return_value);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4634,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(current_internal_encoding)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4635,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"internal_encoding\", (char *)MBSTRG(current_internal_encoding)->name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": null,
          "old_line_content": "\t\tsize_t mblen = mbfl_strlen(&haystack);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4640,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_http_output_encoding)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(current_http_output_encoding)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4643,
          "old_api": "zend_ini_string",
          "new_api": null,
          "old_text": "zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)",
          "new_text": null,
          "old_line_content": "\t\tif ((name = (char *)zend_ini_string(\"mbstring.http_output_conv_mimetypes\", sizeof(\"mbstring.http_output_conv_mimetypes\") - 1, 0)) != NULL) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\t\tif (part) {",
          "content_same": false
        },
        {
          "line": 4646,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(func_overload)",
          "new_text": null,
          "old_line_content": "\t\tadd_assoc_long(return_value, \"func_overload\", MBSTRG(func_overload));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4649,
          "old_api": "array_init",
          "new_api": null,
          "old_text": "array_init(&row1)",
          "new_text": null,
          "old_line_content": "\t\t\tarray_init(&row1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4652,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(&row1, over_func->orig_func, over_func->ovld_func)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tadd_assoc_string(&row1, over_func->orig_func, over_func->ovld_func);",
          "new_line_content": "\t\t\tover_func = &(mb_ovld[0]);",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&haystack, &result, n, len)",
          "new_text": null,
          "old_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "new_line_content": "\t\t\t\tRETVAL_FALSE;",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\t\t\tsize_t len = (mblen - n);",
          "content_same": false
        },
        {
          "line": 4658,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"func_overload_list\", \"no overload\")",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"func_overload_list\", \"no overload\");",
          "new_line_content": "\t\t\t\tover_func++;",
          "content_same": false
        },
        {
          "line": 4661,
          "old_api": "mbfl_no_encoding2name",
          "new_api": null,
          "old_text": "mbfl_no_encoding2name(lang->mail_charset)",
          "new_text": null,
          "old_line_content": "\t\t\tif ((name = (char *)mbfl_no_encoding2name(lang->mail_charset)) != NULL) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 4664,
          "old_api": "mbfl_no_encoding2name",
          "new_api": null,
          "old_text": "mbfl_no_encoding2name(lang->mail_header_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\tif ((name = (char *)mbfl_no_encoding2name(lang->mail_header_encoding)) != NULL) {",
          "new_line_content": "\t\tif (lang != NULL) {",
          "content_same": false
        },
        {
          "line": 4667,
          "old_api": "mbfl_no_encoding2name",
          "new_api": null,
          "old_text": "mbfl_no_encoding2name(lang->mail_body_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\tif ((name = (char *)mbfl_no_encoding2name(lang->mail_body_encoding)) != NULL) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4673,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"encoding_translation\", \"On\")",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"encoding_translation\", \"On\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tchar *enc_name = NULL;",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tsize_t enc_name_len;",
          "content_same": false
        },
        {
          "line": 4678,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"language\", name)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"language\", name);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2633,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4680,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_detect_order_list_size)",
          "new_text": null,
          "old_line_content": "\t\tn = MBSTRG(current_detect_order_list_size);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2638,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": "add_next_index_string",
          "new_api": null,
          "old_text": "add_next_index_string(&row2, (*entry)->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tadd_next_index_string(&row2, (*entry)->name);",
          "new_line_content": "\t\tif (n > 0) {",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": "add_assoc_zval",
          "new_api": null,
          "old_text": "add_assoc_zval(return_value, \"detect_order\", &row2)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_zval(return_value, \"detect_order\", &row2);",
          "new_line_content": "\t\t\tfor (i = 0; i < n; i++) {",
          "content_same": false
        },
        {
          "line": 4691,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_NONE) {",
          "new_line_content": "\t\t\t\tentry++;",
          "content_same": false
        },
        {
          "line": 4692,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"substitute_character\", \"none\")",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"substitute_character\", \"none\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4694,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"substitute_character\", \"long\")",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"substitute_character\", \"long\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2650,
          "old_api": "mbfl_strpos",
          "new_api": null,
          "old_text": "mbfl_strpos(&haystack, &needle, 0, 1)",
          "new_text": null,
          "old_line_content": "\tn = mbfl_strpos(&haystack, &needle, 0, 1);",
          "new_line_content": "\tif (needle.len == 0) {",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": null,
          "old_line_content": "\t\tsize_t mblen = mbfl_strlen(&haystack);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4701,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"strict_detection\", \"On\")",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"strict_detection\", \"On\");",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 4703,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, \"strict_detection\", \"Off\")",
          "new_text": null,
          "old_line_content": "\t\t\tadd_assoc_string(return_value, \"strict_detection\", \"Off\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\t\tif (part) {",
          "content_same": false
        },
        {
          "line": 4706,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(current_internal_encoding)) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&haystack, &result, n, len)",
          "new_text": null,
          "old_line_content": "\t\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "new_line_content": "\t\t\t\tRETVAL_FALSE;",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\t\t\tsize_t len = (mblen - n);",
          "content_same": false
        },
        {
          "line": 4724,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(func_overload)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(func_overload)){",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4729,
          "old_api": "add_assoc_string",
          "new_api": null,
          "old_text": "add_assoc_string(return_value, over_func->orig_func, over_func->ovld_func)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tadd_assoc_string(return_value, over_func->orig_func, over_func->ovld_func);",
          "new_line_content": "\t\t\t\tover_func = &(mb_ovld[0]);",
          "content_same": false
        },
        {
          "line": 4734,
          "old_api": "RETVAL_STRING",
          "new_api": null,
          "old_text": "RETVAL_STRING(\"no overload\")",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRING(\"no overload\");",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tzend_bool part = 0;",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tsize_t from_encoding_len, n, len, mblen;",
          "content_same": false
        },
        {
          "line": 4736,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(\"mail_charset\", typ)",
          "new_text": null,
          "old_line_content": "\t} else if (!strcasecmp(\"mail_charset\", typ)) {",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2690,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &from_encoding, &from_encoding_len) == FAILURE) {",
          "new_line_content": "\tconst char *from_encoding = NULL;",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": "mbfl_no_encoding2name",
          "new_api": null,
          "old_text": "mbfl_no_encoding2name(lang->mail_charset)",
          "new_text": null,
          "old_line_content": "\t\tif (lang != NULL && (name = (char *)mbfl_no_encoding2name(lang->mail_charset)) != NULL) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(from_encoding)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(from_encoding);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Empty delimiter\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty delimiter\");",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4751,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(encoding_translation)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(encoding_translation)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4757,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\t\tif ((name = (char *)mbfl_no_language2name(MBSTRG(language))) != NULL) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&haystack, &result, 0, n)",
          "new_text": null,
          "old_line_content": "\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\tif (part) {",
          "content_same": false
        },
        {
          "line": 4767,
          "old_api": "add_next_index_string",
          "new_api": null,
          "old_text": "add_next_index_string(return_value, (*entry)->name)",
          "new_text": null,
          "old_line_content": "\t\t\t\tadd_next_index_string(return_value, (*entry)->name);",
          "new_line_content": "\t\tif (n > 0) {",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&haystack, &result, n, len)",
          "new_text": null,
          "old_line_content": "\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "new_line_content": "\t\t\tRETVAL_FALSE;",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_mode)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_NONE) {",
          "new_line_content": "\t\t\t\tentry++;",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": "RETVAL_STRING",
          "new_api": null,
          "old_text": "RETVAL_STRING(\"none\")",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRING(\"none\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\t\tlen = (mblen - n);",
          "content_same": false
        },
        {
          "line": 4774,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_mode)",
          "new_text": null,
          "old_line_content": "\t\t} else if (MBSTRG(current_filter_illegal_mode) == MBFL_OUTPUTFILTER_ILLEGAL_MODE_LONG) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4782,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(strict_detection)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(strict_detection)) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tsize_t n, len, mblen;",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tsize_t from_encoding_len;",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|bs\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &part, &from_encoding, &from_encoding_len) == FAILURE) {",
          "new_line_content": "\tconst char *from_encoding = NULL;",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": "mbfl_buffer_converter_new",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_new(encoding, encoding, 0)",
          "new_text": null,
          "old_line_content": "\tconvd = mbfl_buffer_converter_new(encoding, encoding, 0);",
          "new_line_content": "static inline mbfl_buffer_converter *php_mb_init_convd(const mbfl_encoding *encoding)",
          "content_same": false
        },
        {
          "line": 2752,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(from_encoding)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(from_encoding);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4803,
          "old_api": "mbfl_buffer_converter_illegal_substchar",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_illegal_substchar(convd, 0)",
          "new_text": null,
          "old_line_content": "\tmbfl_buffer_converter_illegal_substchar(convd, 0);",
          "new_line_content": "\tif (convd == NULL) {",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": "php_mb_stripos",
          "new_api": null,
          "old_text": "php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding)",
          "new_text": null,
          "old_line_content": "\tn = php_mb_stripos(1, (char *)haystack.val, haystack.len, (char *)needle.val, needle.len, 0, from_encoding);",
          "new_line_content": "\tif (!haystack.encoding) {",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&haystack, &result, 0, n)",
          "new_text": null,
          "old_line_content": "\t\tret = mbfl_substr(&haystack, &result, 0, n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4813,
          "old_api": "mbfl_string_init_set",
          "new_api": null,
          "old_text": "mbfl_string_init_set(&string, mbfl_no_language_neutral, encoding)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init_set(&string, mbfl_no_language_neutral, encoding);",
          "new_line_content": "\tmbfl_string string, result, *ret = NULL;",
          "content_same": false
        },
        {
          "line": 4814,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&result)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&result);",
          "new_line_content": "\tlong illegalchars = 0;",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\tif (part) {",
          "content_same": false
        },
        {
          "line": 4819,
          "old_api": "mbfl_buffer_converter_feed_result",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4820,
          "old_api": "mbfl_buffer_illegalchars",
          "new_api": null,
          "old_text": "mbfl_buffer_illegalchars(convd)",
          "new_text": null,
          "old_line_content": "\tillegalchars = mbfl_buffer_illegalchars(convd);",
          "new_line_content": "\tstring.val = (unsigned char *) input;",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&haystack, &result, n, len)",
          "new_text": null,
          "old_line_content": "\t\tret = mbfl_substr(&haystack, &result, n, len);",
          "new_line_content": "\t\t\tRETVAL_FALSE;",
          "content_same": false
        },
        {
          "line": 2778,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRINGL((char *)ret->val, ret->len);",
          "new_line_content": "\t\tlen = (mblen - n);",
          "content_same": false
        },
        {
          "line": 4835,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tconst mbfl_encoding *encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tmbfl_string haystack, needle;",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\tchar *enc_name = NULL;",
          "content_same": false
        },
        {
          "line": 4845,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Invalid encoding \\\"%s\\\"\", enc)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Invalid encoding \\\"%s\\\"\", enc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"ss|s\", (char **)&haystack.val, &haystack.len, (char **)&needle.val, &needle.len, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4850,
          "old_api": "php_mb_init_convd",
          "new_api": null,
          "old_text": "php_mb_init_convd(encoding)",
          "new_text": null,
          "old_line_content": "\tconvd = php_mb_init_convd(encoding);",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\thaystack.encoding = needle.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4852,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to create converter\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create converter\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4857,
          "old_api": "mbfl_buffer_converter_delete",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_delete(convd)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_buffer_converter_delete(convd);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 2810,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Empty substring\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Empty substring\");",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4867,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tconst mbfl_encoding *encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4877,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(enc)",
          "new_text": null,
          "old_line_content": "\t\tencoding = mbfl_name2encoding(ZSTR_VAL(enc));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4879,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(enc)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Invalid encoding \\\"%s\\\"\", ZSTR_VAL(enc));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sl|l!s\", &str, &str_len, &from, &len, &len_is_null, &encoding, &encoding_len) == FAILURE) {",
          "new_line_content": "\tsize_t str_len, encoding_len;",
          "content_same": false
        },
        {
          "line": 4884,
          "old_api": "php_mb_init_convd",
          "new_api": null,
          "old_text": "php_mb_init_convd(encoding)",
          "new_text": null,
          "old_line_content": "\tconvd = php_mb_init_convd(encoding);",
          "new_line_content": "\t\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 4886,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to create converter\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create converter\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2839,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(encoding)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = php_mb_get_encoding(encoding);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4892,
          "old_api": "mbfl_buffer_converter_delete",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_delete(convd)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_buffer_converter_delete(convd);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4893,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Cannot not handle circular references\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Cannot not handle circular references\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4899,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(key)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!php_mb_check_encoding_impl(convd, ZSTR_VAL(key), ZSTR_LEN(key), encoding)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&string)",
          "new_text": null,
          "old_line_content": "\t\tmblen = mbfl_strlen(&string);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4904,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(entry)",
          "new_text": null,
          "old_line_content": "\t\tswitch (Z_TYPE_P(entry)) {",
          "new_line_content": "\t\t\t\tvalid = 0;",
          "content_same": false
        },
        {
          "line": 4906,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (!php_mb_check_encoding_impl(convd, Z_STRVAL_P(entry), Z_STRLEN_P(entry), encoding)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4912,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (!php_mb_check_encoding_recursive(HASH_OF(entry), enc)) {",
          "new_line_content": "\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(func_overload)",
          "new_text": null,
          "old_line_content": "\tif (((MBSTRG(func_overload) & MB_OVERLOAD_STRING) == MB_OVERLOAD_STRING)",
          "new_line_content": "\t\t\tlen = 0;",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&string)",
          "new_text": null,
          "old_line_content": "\t\t&& (from >= mbfl_strlen(&string))) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4928,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\t\t/* Other types are error. */",
          "content_same": false
        },
        {
          "line": 4930,
          "old_api": "mbfl_buffer_converter_delete",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_delete(convd)",
          "new_text": null,
          "old_line_content": "\tmbfl_buffer_converter_delete(convd);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": "mbfl_substr",
          "new_api": null,
          "old_text": "mbfl_substr(&string, &result, from, len)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_substr(&string, &result, from, len);",
          "new_line_content": "\tif (len > INT_MAX) {",
          "content_same": false
        },
        {
          "line": 4942,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"|zS\", &input, &enc) == FAILURE) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\tRETVAL_STRINGL((char *)ret->val, ret->len); /* the string is already strdup()'ed */",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2897,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret->val)",
          "new_text": null,
          "old_line_content": "\tefree(ret->val);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4948,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(illegalchars)",
          "new_text": null,
          "old_line_content": "\t\tif (MBSTRG(illegalchars) == 0) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4954,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(input)",
          "new_text": null,
          "old_line_content": "\tswitch(Z_TYPE_P(input)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tsize_t encoding_len;",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sl|l!s\", (char **)&string.val, &string.len, &from, &len, &len_is_null, &encoding, &encoding_len) == FAILURE) {",
          "new_line_content": "\tmbfl_string string, result, *ret;",
          "content_same": false
        },
        {
          "line": 4963,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(enc)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!php_mb_check_encoding(Z_STRVAL_P(input), Z_STRLEN_P(input), enc ? ZSTR_VAL(enc): NULL)) {",
          "new_line_content": "\t\tcase IS_FALSE:",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(encoding)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = php_mb_get_encoding(encoding);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4968,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(input)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!php_mb_check_encoding_recursive(HASH_OF(input), enc)) {",
          "new_line_content": "\t\t\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4973,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Input is something other than scalar or array\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Input is something other than scalar or array\");",
          "new_line_content": "\t\t\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4990,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(enc_name);",
          "new_line_content": "\tsize_t ret_len;",
          "content_same": false
        },
        {
          "line": 4996,
          "old_api": "php_mb_is_no_encoding_unicode",
          "new_api": null,
          "old_text": "php_mb_is_no_encoding_unicode(no_enc)",
          "new_text": null,
          "old_line_content": "\tif (php_mb_is_no_encoding_unicode(no_enc)) {",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 4997,
          "old_api": "php_mb_convert_encoding_ex",
          "new_api": null,
          "old_text": "php_mb_convert_encoding_ex(str, str_len, &mbfl_encoding_ucs4be, enc, &ret_len)",
          "new_text": null,
          "old_line_content": "\t\tret = php_mb_convert_encoding_ex(str, str_len, &mbfl_encoding_ucs4be, enc, &ret_len);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": "mbfl_strcut",
          "new_api": null,
          "old_text": "mbfl_strcut(&string, &result, from, len)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_strcut(&string, &result, from, len);",
          "new_line_content": "\tif ((unsigned int)from > string.len) {",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\tRETVAL_STRINGL((char *)ret->val, ret->len); /* the string is already strdup()'ed */",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret->val)",
          "new_text": null,
          "old_line_content": "\tefree(ret->val);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5008,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret)",
          "new_text": null,
          "old_line_content": "\t\tefree(ret);",
          "new_line_content": "\t\t\t (unsigned char) ret[1] << 16 | \\",
          "content_same": false
        },
        {
          "line": 5013,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tmbfl_string string;",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s\", (char **)&string.val, &string.len, &enc_name, &enc_name_len) == FAILURE) {",
          "new_line_content": "\tsize_t enc_name_len;",
          "content_same": false
        },
        {
          "line": 5023,
          "old_api": "php_mb_mbchar_bytes_ex",
          "new_api": null,
          "old_text": "php_mb_mbchar_bytes_ex(ret, enc)",
          "new_text": null,
          "old_line_content": "\tchar_len = php_mb_mbchar_bytes_ex(ret, enc);",
          "new_line_content": "\tif (ret == NULL) {",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": "mbfl_strwidth",
          "new_api": null,
          "old_text": "mbfl_strwidth(&string)",
          "new_text": null,
          "old_line_content": "\tn = mbfl_strwidth(&string);",
          "new_line_content": "\tif (!string.encoding) {",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": "mbfl_is_error",
          "new_api": null,
          "old_text": "mbfl_is_error(n)",
          "new_text": null,
          "old_line_content": "\tif (!mbfl_is_error(n)) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": "RETVAL_LONG",
          "new_api": null,
          "old_text": "RETVAL_LONG(n)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_LONG(n);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5041,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret)",
          "new_text": null,
          "old_line_content": "\tefree(ret);",
          "new_line_content": "\t\t\t ((unsigned char) ret[2] <<  8) | \\",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sll|ss\", &str, &str_len, &from, &width, &trimmarker, &trimmarker_len, &encoding, &encoding_len) == FAILURE) {",
          "new_line_content": "\tzend_long from, width, swidth;",
          "content_same": false
        },
        {
          "line": 3006,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&marker)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&marker);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = marker.no_language = MBSTRG(language);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5056,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_line_content": "\tchar* enc = NULL;",
          "content_same": false
        },
        {
          "line": 5057,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(str, str_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(str, str_len)",
          "new_line_content": "\tsize_t enc_len;",
          "content_same": false
        },
        {
          "line": 5062,
          "old_api": "php_mb_ord",
          "new_api": null,
          "old_text": "php_mb_ord(str, str_len, enc)",
          "new_text": null,
          "old_line_content": "\tcp = php_mb_ord(str, str_len, enc);",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": "mbfl_strwidth",
          "new_api": null,
          "old_text": "mbfl_strwidth(&string)",
          "new_text": null,
          "old_line_content": "\t\tswidth = mbfl_strwidth(&string);",
          "new_line_content": "\tmarker.val = NULL;",
          "content_same": false
        },
        {
          "line": 5068,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(cp)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(cp);",
          "new_line_content": "\tif (0 > cp) {",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Start position is out of range\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Start position is out of range\");",
          "new_line_content": "\t\tfrom += swidth;",
          "content_same": false
        },
        {
          "line": 5082,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(enc_name);",
          "new_line_content": "\tsize_t buf_len;",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Width is out of range\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Width is out of range\");",
          "new_line_content": "\t\twidth = swidth + width - from;",
          "content_same": false
        },
        {
          "line": 5089,
          "old_api": "php_mb_is_no_encoding_utf8",
          "new_api": null,
          "old_text": "php_mb_is_no_encoding_utf8(no_enc)",
          "new_text": null,
          "old_line_content": "\tif (php_mb_is_no_encoding_utf8(no_enc)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5092,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\tif (php_mb_is_no_encoding_utf8(MBSTRG(current_internal_encoding)->no_encoding)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": "mbfl_strimwidth",
          "new_api": null,
          "old_text": "mbfl_strimwidth(&string, &marker, &result, from, width)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_strimwidth(&string, &marker, &result, from, width);",
          "new_line_content": "\t\tmarker.val = (unsigned char *)trimmarker;",
          "content_same": false
        },
        {
          "line": 5094,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\t} else if (php_mb_is_no_encoding_unicode(MBSTRG(current_internal_encoding)->no_encoding)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5095,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (0xd800 > MBSTRG(current_filter_illegal_substchar) || MBSTRG(current_filter_illegal_substchar) > 0xdfff) {",
          "new_line_content": "\t\tif (0 > cp || cp > 0x10ffff || (cp > 0xd7ff && 0xe000 > cp)) {",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\tRETVAL_STRINGL((char *)ret->val, ret->len); /* the string is already strdup()'ed */",
          "new_line_content": "\tif (ret == NULL) {",
          "content_same": false
        },
        {
          "line": 3053,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret->val)",
          "new_text": null,
          "old_line_content": "\tefree(ret->val);",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 5107,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(ret_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5112,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(ret_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "new_line_content": "\t\t\tret[0] = cp;",
          "content_same": false
        },
        {
          "line": 5118,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(ret_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "new_line_content": "\t\t\tret[1] = 0x80 | (cp & 0x3f);",
          "content_same": false
        },
        {
          "line": 5125,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(ret_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tret = (char *) safe_emalloc(ret_len, 1, 1);",
          "new_line_content": "\t\t\tret[2] = 0x80 | (cp & 0x3f);",
          "content_same": false
        },
        {
          "line": 5139,
          "old_api": "php_mb_is_no_encoding_unicode",
          "new_api": null,
          "old_text": "php_mb_is_no_encoding_unicode(no_enc)",
          "new_text": null,
          "old_line_content": "\t} else if (php_mb_is_no_encoding_unicode(no_enc)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\t\t*output_len = 0;",
          "content_same": false
        },
        {
          "line": 3093,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&result)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\t/* initialize string */",
          "content_same": false
        },
        {
          "line": 5144,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": "mbfl_buffer_converter_new",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_new(from_encoding, to_encoding, string.len)",
          "new_text": null,
          "old_line_content": "\tconvd = mbfl_buffer_converter_new(from_encoding, to_encoding, string.len);",
          "new_line_content": "\tstring.val = (unsigned char *)input;",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to create character encoding converter\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create character encoding converter\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5152,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(buf_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tif (string.encoding == MBSTRG(current_internal_encoding)) {",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_buffer_converter_illegal_substchar(convd, MBSTRG(current_filter_illegal_substchar));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": "php_mb_is_no_encoding_unicode",
          "new_api": null,
          "old_text": "php_mb_is_no_encoding_unicode(string.encoding->no_encoding)",
          "new_text": null,
          "old_line_content": "\t} else if (php_mb_is_no_encoding_unicode(string.encoding->no_encoding)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5159,
          "old_api": "php_mb_convert_encoding_ex",
          "new_api": null,
          "old_text": "php_mb_convert_encoding_ex(buf, buf_len, enc, &mbfl_encoding_ucs4be, &ret_len)",
          "new_text": null,
          "old_line_content": "\t\tret = php_mb_convert_encoding_ex(buf, buf_len, enc, &mbfl_encoding_ucs4be, &ret_len);",
          "new_line_content": "\t\tbuf[2] = (cp >>  8) & 0xff;",
          "content_same": false
        },
        {
          "line": 5160,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(buf)",
          "new_text": null,
          "old_line_content": "\t\tefree(buf);",
          "new_line_content": "\t\tbuf[3] = cp & 0xff;",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tMBSTRG(current_filter_illegal_substchar));",
          "new_line_content": "\t\t\t) {",
          "content_same": false
        },
        {
          "line": 5168,
          "old_api": "php_mb_is_unsupported_no_encoding",
          "new_api": null,
          "old_text": "php_mb_is_unsupported_no_encoding(no_enc)",
          "new_text": null,
          "old_line_content": "\t} else if (php_mb_is_unsupported_no_encoding(no_enc)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5169,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unsupported encoding \\\"%s\\\"\", enc_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5174,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\t\tif (no_enc == MBSTRG(current_internal_encoding)->no_encoding) {",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 5175,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_substchar)",
          "new_text": null,
          "old_line_content": "\t\t\tcp = MBSTRG(current_filter_illegal_substchar);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5183,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(buf_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3138,
          "old_api": "mbfl_buffer_illegalchars",
          "new_api": null,
          "old_text": "mbfl_buffer_illegalchars(convd)",
          "new_text": null,
          "old_line_content": "\tMBSTRG(illegalchars) += mbfl_buffer_illegalchars(convd);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "mbfl_buffer_converter_delete",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_delete(convd)",
          "new_text": null,
          "old_line_content": "\tmbfl_buffer_converter_delete(convd);",
          "new_line_content": "\t\toutput = (char *)ret->val;",
          "content_same": false
        },
        {
          "line": 5188,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(buf_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "new_line_content": "\t\tbuf[0] = cp;",
          "content_same": false
        },
        {
          "line": 5194,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(buf_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "new_line_content": "\t\tbuf[1] = cp & 0xff;",
          "content_same": false
        },
        {
          "line": 5201,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(buf_len, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = (char *) safe_emalloc(buf_len, 1, 1);",
          "new_line_content": "\t\tbuf[2] = cp & 0xff;",
          "content_same": false
        },
        {
          "line": 3156,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(_to_encoding)",
          "new_text": null,
          "old_line_content": "\tif (_to_encoding && strlen(_to_encoding)) {",
          "new_line_content": "\tif (!input) {",
          "content_same": false
        },
        {
          "line": 3157,
          "old_api": "mbfl_name2encoding",
          "new_api": null,
          "old_text": "mbfl_name2encoding(_to_encoding)",
          "new_text": null,
          "old_line_content": "\t\tto_encoding = mbfl_name2encoding(_to_encoding);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", _to_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", _to_encoding);",
          "new_line_content": "\t/* new encoding */",
          "content_same": false
        },
        {
          "line": 5209,
          "old_api": "php_mb_convert_encoding_ex",
          "new_api": null,
          "old_text": "php_mb_convert_encoding_ex(buf, buf_len, enc, enc, &ret_len)",
          "new_text": null,
          "old_line_content": "\tret = php_mb_convert_encoding_ex(buf, buf_len, enc, enc, &ret_len);",
          "new_line_content": "\t\tbuf[3] = cp & 0xff;",
          "content_same": false
        },
        {
          "line": 5210,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(buf)",
          "new_text": null,
          "old_line_content": "\tefree(buf);",
          "new_line_content": "\t\tbuf[4] = 0;",
          "content_same": false
        },
        {
          "line": 3177,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_string_init(&string);",
          "new_line_content": "\t\t\tfrom_encoding = *list;",
          "content_same": false
        },
        {
          "line": 3180,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(strict_detection)",
          "new_text": null,
          "old_line_content": "\t\t\tfrom_encoding = mbfl_identify_encoding(&string, list, size, MBSTRG(strict_detection));",
          "new_line_content": "\t\t\tmbfl_string string;",
          "content_same": false
        },
        {
          "line": 5229,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_line_content": "\tsize_t enc_len;",
          "content_same": false
        },
        {
          "line": 3182,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to detect character encoding\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Unable to detect character encoding\");",
          "new_line_content": "\t\t\tstring.val = (unsigned char *)input;",
          "content_same": false
        },
        {
          "line": 5230,
          "old_api": "Z_PARAM_LONG",
          "new_api": null,
          "old_text": "Z_PARAM_LONG(cp)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_LONG(cp)",
          "new_line_content": "\tchar* ret;",
          "content_same": false
        },
        {
          "line": 5235,
          "old_api": "php_mb_chr",
          "new_api": null,
          "old_text": "php_mb_chr(cp, enc, &ret_len)",
          "new_text": null,
          "old_line_content": "\tret = php_mb_chr(cp, enc, &ret_len);",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 3189,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree((void *)list)",
          "new_text": null,
          "old_line_content": "\t\t\tefree((void *)list);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 5241,
          "old_api": "RETVAL_STRING",
          "new_api": null,
          "old_text": "RETVAL_STRING(ret)",
          "new_text": null,
          "old_line_content": "\tRETVAL_STRING(ret);",
          "new_line_content": "\tif (ret == NULL) {",
          "content_same": false
        },
        {
          "line": 5242,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret)",
          "new_text": null,
          "old_line_content": "\tefree(ret);",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 5251,
          "old_api": "php_mb_convert_encoding_ex",
          "new_api": null,
          "old_text": "php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len)",
          "new_text": null,
          "old_line_content": "\treturn php_mb_convert_encoding_ex(str, str_len, enc, enc, &ret_len);",
          "new_line_content": "static inline char* php_mb_scrub(const char* str, size_t str_len, const mbfl_encoding *enc)",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Cannot convert recursively referenced values\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Cannot convert recursively referenced values\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3215,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(sizeof(HashTable))",
          "new_text": null,
          "old_line_content": "\toutput = (HashTable *)emalloc(sizeof(HashTable));",
          "new_line_content": "\t\tinput->u.v.nApplyCount--;",
          "content_same": false
        },
        {
          "line": 5265,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_line_content": "\tchar *enc_name = NULL;",
          "content_same": false
        },
        {
          "line": 5266,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(str, str_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(str, str_len)",
          "new_line_content": "\tsize_t enc_name_len;",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": "zend_string_init",
          "new_api": null,
          "old_text": "zend_string_init(ckey, ckey_len, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tkey_tmp = zend_string_init(ckey, ckey_len, 0);",
          "new_line_content": "\tZEND_HASH_FOREACH_KEY_VAL(input, idx, key, entry) {",
          "content_same": false
        },
        {
          "line": 5271,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(enc_name)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(enc_name);",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcval = php_mb_convert_encoding(Z_STRVAL_P(entry), Z_STRLEN_P(entry), _to_encoding, _from_encodings, &cval_len);",
          "new_line_content": "\t\t/* convert value */",
          "content_same": false
        },
        {
          "line": 5276,
          "old_api": "php_mb_scrub",
          "new_api": null,
          "old_text": "php_mb_scrub(str, str_len, enc)",
          "new_text": null,
          "old_line_content": "\tret = php_mb_scrub(str, str_len, enc);",
          "new_line_content": "\tif (!enc) {",
          "content_same": false
        },
        {
          "line": 5282,
          "old_api": "RETVAL_STRING",
          "new_api": null,
          "old_text": "RETVAL_STRING(ret)",
          "new_text": null,
          "old_line_content": "\tRETVAL_STRING(ret);",
          "new_line_content": "\tif (ret == NULL) {",
          "content_same": false
        },
        {
          "line": 5283,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret)",
          "new_text": null,
          "old_line_content": "\tefree(ret);",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": "ZVAL_COPY",
          "new_api": null,
          "old_text": "ZVAL_COPY(&entry_tmp, entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZVAL_COPY(&entry_tmp, entry);",
          "new_line_content": "\t\t\tcase IS_TRUE:",
          "content_same": false
        },
        {
          "line": 3239,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\tchash = php_mb_convert_encoding_recursive(HASH_OF(entry), _to_encoding, _from_encodings);",
          "new_line_content": "\t\t\tcase IS_DOUBLE:",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(sizeof(HashTable))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tchash = (HashTable *)emalloc(sizeof(HashTable));",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3242,
          "old_api": "zend_hash_init",
          "new_api": null,
          "old_text": "zend_hash_init(chash, 0, NULL, ZVAL_PTR_DTOR, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzend_hash_init(chash, 0, NULL, ZVAL_PTR_DTOR, 0);",
          "new_line_content": "\t\t\tcase IS_ARRAY:",
          "content_same": false
        },
        {
          "line": 3244,
          "old_api": "ZVAL_ARR",
          "new_api": null,
          "old_text": "ZVAL_ARR(&entry_tmp, chash)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZVAL_ARR(&entry_tmp, chash);",
          "new_line_content": "\t\t\t\tif (!chash) {",
          "content_same": false
        },
        {
          "line": 5294,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_detect_order_list)",
          "new_text": null,
          "old_line_content": "\tif (MBSTRG(current_detect_order_list)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3249,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(key_tmp)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tefree(key_tmp);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3251,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Object is not supported\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Object is not supported\");",
          "new_line_content": "\t\t\tdefault:",
          "content_same": false
        },
        {
          "line": 5299,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(detect_order_list_size)",
          "new_text": null,
          "old_line_content": "\t\tnentries = MBSTRG(detect_order_list_size);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 5300,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(nentries, sizeof(mbfl_encoding*), 0)",
          "new_text": null,
          "old_line_content": "\t\tentry = (const mbfl_encoding **)safe_emalloc(nentries, sizeof(mbfl_encoding*), 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5301,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(detect_order_list)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(entry, MBSTRG(detect_order_list), sizeof(mbfl_encoding*) * nentries);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3257,
          "old_api": "zend_hash_index_add",
          "new_api": null,
          "old_text": "zend_hash_index_add(output, idx, &entry_tmp)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_index_add(output, idx, &entry_tmp);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5306,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(nentries, sizeof(mbfl_encoding*), 0)",
          "new_text": null,
          "old_line_content": "\t\tentry = (const mbfl_encoding **)safe_emalloc(nentries, sizeof(mbfl_encoding*), 0);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 5308,
          "old_api": "mbfl_no2encoding",
          "new_api": null,
          "old_text": "mbfl_no2encoding(src[i])",
          "new_text": null,
          "old_line_content": "\t\t\tentry[i] = mbfl_no2encoding(src[i]);",
          "new_line_content": "\t\tsize_t i;",
          "content_same": false
        },
        {
          "line": 5311,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_detect_order_list)",
          "new_text": null,
          "old_line_content": "\tMBSTRG(current_detect_order_list) = entry;",
          "new_line_content": "\t\tfor (i = 0; i < nentries; i++) {",
          "content_same": false
        },
        {
          "line": 5319,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(encoding_translation)",
          "new_text": null,
          "old_line_content": "\treturn MBSTRG(encoding_translation);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3281,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"zs|z\", &input, &arg_new, &new_len, &arg_old) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3286,
          "old_api": "convert_to_string",
          "new_api": null,
          "old_text": "convert_to_string(input)",
          "new_text": null,
          "old_line_content": "\t\tconvert_to_string(input);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3292,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(arg_old)",
          "new_text": null,
          "old_line_content": "\t\t\t\ttarget_hash = Z_ARRVAL_P(arg_old);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3295,
          "old_api": "ZEND_HASH_FOREACH_VAL",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_VAL(target_hash, hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZEND_HASH_FOREACH_VAL(target_hash, hash_entry) {",
          "new_line_content": "\t\t\tcase IS_ARRAY:",
          "content_same": false
        },
        {
          "line": 5344,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(internal_encoding)",
          "new_text": null,
          "old_line_content": "\treturn php_mb_mbchar_bytes_ex(s, MBSTRG(internal_encoding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3297,
          "old_api": "convert_to_string_ex",
          "new_api": null,
          "old_text": "convert_to_string_ex(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tconvert_to_string_ex(hash_entry);",
          "new_line_content": "\t\t\t\t_from_encodings = NULL;",
          "content_same": false
        },
        {
          "line": 3300,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(_from_encodings)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tl = strlen(_from_encodings);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3302,
          "old_api": "erealloc",
          "new_api": null,
          "old_text": "erealloc(_from_encodings, l+n+2)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t_from_encodings = erealloc(_from_encodings, l+n+2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3303,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(_from_encodings + l, \",\", 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tmemcpy(_from_encodings + l, \",\", 1);",
          "new_line_content": "\t\t\t\t\tif ( _from_encodings) {",
          "content_same": false
        },
        {
          "line": 5351,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister const char *p = s;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(_from_encodings)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tefree(_from_encodings);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 5362,
          "old_api": "php_mb_mbchar_bytes_ex",
          "new_api": null,
          "old_text": "php_mb_mbchar_bytes_ex(p, enc)",
          "new_text": null,
          "old_line_content": "\t\t\t\tnb = php_mb_mbchar_bytes_ex(p, enc);",
          "new_line_content": "\t\t\tif (nb == 0) {",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": "convert_to_string",
          "new_api": null,
          "old_text": "convert_to_string(arg_old)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconvert_to_string(arg_old);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(arg_old)",
          "new_text": null,
          "old_line_content": "\t\t\t\t_from_encodings = Z_STRVAL_P(arg_old);",
          "new_line_content": "\t\t\t\ts_free = _from_encodings;",
          "content_same": false
        },
        {
          "line": 3323,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(input)",
          "new_text": null,
          "old_line_content": "\tif (Z_TYPE_P(input) == IS_STRING) {",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 5371,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\t\tregister size_t bcnt = nbytes;",
          "new_line_content": "\t\t\t--nb;",
          "content_same": false
        },
        {
          "line": 3325,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(input)",
          "new_text": null,
          "old_line_content": "\t\tret = php_mb_convert_encoding(Z_STRVAL_P(input), Z_STRLEN_P(input), arg_new, _from_encodings, &size);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5372,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\t\tregister size_t nbytes_char;",
          "new_line_content": "\t\t\t++p;",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL(ret, size)",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_STRINGL(ret, size);\t\t/* the string is already strdup()'ed */",
          "new_line_content": "\t\t/* new encoding */",
          "content_same": false
        },
        {
          "line": 5377,
          "old_api": "php_mb_mbchar_bytes_ex",
          "new_api": null,
          "old_text": "php_mb_mbchar_bytes_ex(p, enc)",
          "new_text": null,
          "old_line_content": "\t\t\tnbytes_char = php_mb_mbchar_bytes_ex(p, enc);",
          "new_line_content": "\t\twhile (bcnt > 0) {",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(s_free)",
          "new_text": null,
          "old_line_content": "\t\t\tefree(s_free);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": "RETURN_ARR",
          "new_api": null,
          "old_text": "RETURN_ARR(tmp)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_ARR(tmp);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5392,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(internal_encoding)",
          "new_text": null,
          "old_line_content": "\treturn php_mb_safe_strrchr_ex(s, c, nbytes, MBSTRG(internal_encoding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5404,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(from_encoding)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "new_line_content": "\tsize_t n = (size_t) -1;",
          "content_same": false
        },
        {
          "line": 3359,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sl|s!\", &str, &str_len,",
          "new_line_content": "\tsize_t ret_len;",
          "content_same": false
        },
        {
          "line": 5409,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&haystack)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&haystack);",
          "new_line_content": "\tif (!enc) {",
          "content_same": false
        },
        {
          "line": 5410,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&needle)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&needle);",
          "new_line_content": "\t\treturn (size_t) -1;",
          "content_same": false
        },
        {
          "line": 5411,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\thaystack.no_language = MBSTRG(language);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3364,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(from_encoding)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "new_line_content": "\t\t\t\t&case_mode, &from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": "php_unicode_convert_case",
          "new_api": null,
          "old_text": "php_unicode_convert_case(case_mode, str, str_len, &ret_len, enc)",
          "new_text": null,
          "old_line_content": "\tnewstr = php_unicode_convert_case(case_mode, str, str_len, &ret_len, enc);",
          "new_line_content": "\tif (!enc) {",
          "content_same": false
        },
        {
          "line": 5418,
          "old_api": "php_unicode_convert_case",
          "new_api": null,
          "old_text": "php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_haystack, old_haystack_len, &len, enc)",
          "new_text": null,
          "old_line_content": "\t\thaystack.val = (unsigned char *)php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_haystack, old_haystack_len, &len, enc);",
          "new_line_content": "\tneedle.encoding = enc;",
          "content_same": false
        },
        {
          "line": 3374,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(newstr)",
          "new_text": null,
          "old_line_content": "\t\tefree(newstr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5429,
          "old_api": "php_unicode_convert_case",
          "new_api": null,
          "old_text": "php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_needle, old_needle_len, &len, enc)",
          "new_text": null,
          "old_line_content": "\t\tneedle.val = (unsigned char *)php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, (char *)old_needle, old_needle_len, &len, enc);",
          "new_line_content": "\t\tif (haystack.len == 0) {",
          "content_same": false
        },
        {
          "line": 3391,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s!\", &str, &str_len,",
          "new_line_content": "\tchar *newstr;",
          "content_same": false
        },
        {
          "line": 5441,
          "old_api": "mbfl_strlen",
          "new_api": null,
          "old_text": "mbfl_strlen(&haystack)",
          "new_text": null,
          "old_line_content": " \t\t\tsize_t haystack_char_len = mbfl_strlen(&haystack);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 3396,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(from_encoding)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "new_line_content": "\t\t\t\t&from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 5446,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\")",
          "new_text": null,
          "old_line_content": " \t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Offset is greater than the length of haystack string\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": "php_unicode_convert_case",
          "new_api": null,
          "old_text": "php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, str, str_len, &ret_len, enc)",
          "new_text": null,
          "old_line_content": "\tnewstr = php_unicode_convert_case(PHP_UNICODE_CASE_UPPER, str, str_len, &ret_len, enc);",
          "new_line_content": "\tif (!enc) {",
          "content_same": false
        },
        {
          "line": 3406,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(newstr)",
          "new_text": null,
          "old_line_content": "\t\tefree(newstr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5454,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Offset not contained in string\")",
          "new_text": null,
          "old_line_content": " \t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Offset not contained in string\");",
          "new_line_content": "\t\t\t\tif (offset < 0) {",
          "content_same": false
        },
        {
          "line": 5460,
          "old_api": "mbfl_strpos",
          "new_api": null,
          "old_text": "mbfl_strpos(&haystack, &needle, offset, mode)",
          "new_text": null,
          "old_line_content": "\t\tn = mbfl_strpos(&haystack, &needle, offset, mode);",
          "new_line_content": " \t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|s!\", &str, &str_len,",
          "new_line_content": "\tchar *newstr;",
          "content_same": false
        },
        {
          "line": 5477,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(http_input_list)",
          "new_text": null,
          "old_line_content": "\t*list = (const zend_encoding **)MBSTRG(http_input_list);",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 3430,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(from_encoding)",
          "new_text": null,
          "old_line_content": "\tenc = php_mb_get_encoding(from_encoding);",
          "new_line_content": "\t\t\t\t&from_encoding, &from_encoding_len) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 5478,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(http_input_list_size)",
          "new_text": null,
          "old_line_content": "\t*list_size = MBSTRG(http_input_list_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3435,
          "old_api": "php_unicode_convert_case",
          "new_api": null,
          "old_text": "php_unicode_convert_case(PHP_UNICODE_CASE_LOWER, str, str_len, &ret_len, enc)",
          "new_text": null,
          "old_line_content": "\tnewstr = php_unicode_convert_case(PHP_UNICODE_CASE_LOWER, str, str_len, &ret_len, enc);",
          "new_line_content": "\tif (!enc) {",
          "content_same": false
        },
        {
          "line": 5484,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(http_input_identify)",
          "new_text": null,
          "old_line_content": "\tMBSTRG(http_input_identify) = (const mbfl_encoding*)encoding;",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(newstr)",
          "new_text": null,
          "old_line_content": "\t\tefree(newstr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3461,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|z!b\", &str, &str_len, &encoding_list, &strict) == FAILURE) {",
          "new_line_content": "\tconst mbfl_encoding *ret;",
          "content_same": false
        },
        {
          "line": 3469,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(encoding_list)",
          "new_text": null,
          "old_line_content": "\t\tswitch (Z_TYPE_P(encoding_list)) {",
          "new_line_content": "\t/* make encoding list */",
          "content_same": false
        },
        {
          "line": 3471,
          "old_api": "php_mb_parse_encoding_array",
          "new_api": null,
          "old_text": "php_mb_parse_encoding_array(encoding_list, &list, &size, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tif (FAILURE == php_mb_parse_encoding_array(encoding_list, &list, &size, 0)) {",
          "new_line_content": "\tsize = 0;",
          "content_same": false
        },
        {
          "line": 3480,
          "old_api": "convert_to_string",
          "new_api": null,
          "old_text": "convert_to_string(encoding_list)",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_string(encoding_list);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3481,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(encoding_list)",
          "new_text": null,
          "old_line_content": "\t\t\tif (FAILURE == php_mb_parse_encoding_list(Z_STRVAL_P(encoding_list), Z_STRLEN_P(encoding_list), &list, &size, 0)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3483,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(list)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tefree(list);",
          "new_line_content": "\t\tdefault:",
          "content_same": false
        },
        {
          "line": 3491,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Illegal argument\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Illegal argument\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3496,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(strict_detection)",
          "new_text": null,
          "old_line_content": "\t\tstrict = (zend_bool)MBSTRG(strict_detection);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3502,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_detect_order_list)",
          "new_text": null,
          "old_line_content": "\t\telist = MBSTRG(current_detect_order_list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3503,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_detect_order_list_size)",
          "new_text": null,
          "old_line_content": "\t\tsize = MBSTRG(current_detect_order_list_size);",
          "new_line_content": "\tif (size > 0 && list != NULL) {",
          "content_same": false
        },
        {
          "line": 3513,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree((void *)list)",
          "new_text": null,
          "old_line_content": "\t\tefree((void *)list);",
          "new_line_content": "\tstring.len = str_len;",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": "RETVAL_STRING",
          "new_api": null,
          "old_text": "RETVAL_STRING((char *)ret->name)",
          "new_text": null,
          "old_line_content": "\tRETVAL_STRING((char *)ret->name);",
          "new_line_content": "\tif (ret == NULL) {",
          "content_same": false
        },
        {
          "line": 3532,
          "old_api": "zend_parse_parameters_none",
          "new_api": null,
          "old_text": "zend_parse_parameters_none()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters_none() == FAILURE) {",
          "new_line_content": "\tconst mbfl_encoding **encodings;",
          "content_same": false
        },
        {
          "line": 3538,
          "old_api": "mbfl_get_supported_encodings",
          "new_api": null,
          "old_text": "mbfl_get_supported_encodings()",
          "new_text": null,
          "old_line_content": "\tencodings = mbfl_get_supported_encodings();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s\", &name, &name_len) == FAILURE) {",
          "new_line_content": "\tconst mbfl_encoding *encoding;",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", name)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tchar *linefeed = \"\\r\\n\";",
          "content_same": false
        },
        {
          "line": 3588,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\tsize_t linefeed_len;",
          "content_same": false
        },
        {
          "line": 3589,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "\tzend_long indent = 0;",
          "content_same": false
        },
        {
          "line": 3599,
          "old_api": "mbfl_name2encoding",
          "new_api": null,
          "old_text": "mbfl_name2encoding(charset_name)",
          "new_text": null,
          "old_line_content": "\t\tcharset = mbfl_name2encoding(charset_name);",
          "new_line_content": "\tcharset = &mbfl_encoding_pass;",
          "content_same": false
        },
        {
          "line": 3601,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", charset_name)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", charset_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3607,
          "old_api": "mbfl_no2encoding",
          "new_api": null,
          "old_text": "mbfl_no2encoding(lang->mail_charset)",
          "new_text": null,
          "old_line_content": "\t\t\tcharset = mbfl_no2encoding(lang->mail_charset);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3608,
          "old_api": "mbfl_no2encoding",
          "new_api": null,
          "old_text": "mbfl_no2encoding(lang->mail_header_encoding)",
          "new_text": null,
          "old_line_content": "\t\t\ttransenc = mbfl_no2encoding(lang->mail_header_encoding);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&result)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&result);",
          "new_line_content": "\t\t\ttransenc = &mbfl_encoding_qprint;",
          "content_same": false
        },
        {
          "line": 3621,
          "old_api": "mbfl_mime_header_encode",
          "new_api": null,
          "old_text": "mbfl_mime_header_encode(&string, &result, charset, transenc, linefeed, indent)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_mime_header_encode(&string, &result, charset, transenc, linefeed, indent);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3639,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3640,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\tmbfl_string string, result, *ret;",
          "content_same": false
        },
        {
          "line": 3641,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "\tsize_t string_len;",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"String length overflows the max allowed length of %u\", UINT_MAX)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"String length overflows the max allowed length of %u\", UINT_MAX);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3654,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&result)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3655,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_mime_header_decode(&string, &result, MBSTRG(current_internal_encoding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\tsize_t optstr_len;",
          "content_same": false
        },
        {
          "line": 3679,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"s|ss\", (char **)&string.val, &string.len, &optstr, &optstr_len, &encname, &encname_len) == FAILURE) {",
          "new_line_content": "\tsize_t encname_len;",
          "content_same": false
        },
        {
          "line": 3749,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\t\topt = 0x900;",
          "content_same": false
        },
        {
          "line": 3750,
          "old_api": "php_mb_get_encoding",
          "new_api": null,
          "old_text": "php_mb_get_encoding(encname)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = php_mb_get_encoding(encname);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": "mbfl_ja_jp_hantozen",
          "new_api": null,
          "old_text": "mbfl_ja_jp_hantozen(&string, &result, opt)",
          "new_text": null,
          "old_line_content": "\tret = mbfl_ja_jp_hantozen(&string, &result, opt);",
          "new_line_content": "\tif (!string.encoding) {",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL((char *)ret->val, ret->len)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STRINGL((char *)ret->val, ret->len);\t\t/* the string is already strdup()'ed */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sz+\", &to_enc, &to_enc_len, &zfrom_enc, &args, &argc) == FAILURE) {",
          "new_line_content": "\tchar *to_enc;",
          "content_same": false
        },
        {
          "line": 3791,
          "old_api": "mbfl_name2encoding",
          "new_api": null,
          "old_text": "mbfl_name2encoding(to_enc)",
          "new_text": null,
          "old_line_content": "\tto_encoding = mbfl_name2encoding(to_enc);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3793,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", to_enc)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", to_enc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&string)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&string);",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 3799,
          "old_api": "mbfl_string_init",
          "new_api": null,
          "old_text": "mbfl_string_init(&result)",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(&result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3800,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tfrom_encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3807,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(zfrom_enc)",
          "new_text": null,
          "old_line_content": "\tswitch (Z_TYPE_P(zfrom_enc)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": "php_mb_parse_encoding_array",
          "new_api": null,
          "old_text": "php_mb_parse_encoding_array(zfrom_enc, &elist, &elistsz, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_mb_parse_encoding_array(zfrom_enc, &elist, &elistsz, 0);",
          "new_line_content": "\telist = NULL;",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "convert_to_string_ex",
          "new_api": null,
          "old_text": "convert_to_string_ex(zfrom_enc)",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_string_ex(zfrom_enc);",
          "new_line_content": "\t\tcase IS_ARRAY:",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(stack_max, sizeof(zval), 0)",
          "new_text": null,
          "old_line_content": "\t\tstack = (zval *)safe_emalloc(stack_max, sizeof(zval), 0);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 3827,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(strict_detection)",
          "new_text": null,
          "old_line_content": "\t\tidentd = mbfl_encoding_detector_new(elist, elistsz, MBSTRG(strict_detection));",
          "new_line_content": "\t\tfrom_encoding = NULL;",
          "content_same": false
        },
        {
          "line": 3833,
          "old_api": "ZVAL_DEREF",
          "new_api": null,
          "old_text": "ZVAL_DEREF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tZVAL_DEREF(var);",
          "new_line_content": "\t\t\tn = 0;",
          "content_same": false
        },
        {
          "line": 3834,
          "old_api": "SEPARATE_ZVAL_NOREF",
          "new_api": null,
          "old_text": "SEPARATE_ZVAL_NOREF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tSEPARATE_ZVAL_NOREF(var);",
          "new_line_content": "\t\t\twhile (n < argc || stack_level > 0) {",
          "content_same": false
        },
        {
          "line": 3835,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "new_line_content": "\t\t\t\tif (stack_level <= 0) {",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "new_line_content": "\t\t\t\t\tvar = &args[n++];",
          "content_same": false
        },
        {
          "line": 3845,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "new_line_content": "\t\t\t\t\tstack_level--;",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": "zend_hash_get_current_data",
          "new_api": null,
          "old_text": "zend_hash_get_current_data(target_hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\twhile ((hash_entry = zend_hash_get_current_data(target_hash)) != NULL) {",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": "zend_hash_move_forward",
          "new_api": null,
          "old_text": "zend_hash_move_forward(target_hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tzend_hash_move_forward(target_hash);",
          "new_line_content": "\t\t\t\t\t\t\t\t\trecursion_error = 1;",
          "content_same": false
        },
        {
          "line": 3857,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tif (Z_TYPE_P(hash_entry) == IS_INDIRECT) {",
          "new_line_content": "\t\t\t\t\t\t\t\t\tgoto detect_end;",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": "Z_INDIRECT_P",
          "new_api": null,
          "old_text": "Z_INDIRECT_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\thash_entry = Z_INDIRECT_P(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&stack[stack_level], var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tZVAL_COPY_VALUE(&stack[stack_level], var);",
          "new_line_content": "\t\t\t\t\t\t\t\t\tstack_max += PHP_MBSTR_STACK_BLOCK_SIZE;",
          "content_same": false
        },
        {
          "line": 3870,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "new_line_content": "\t\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3872,
          "old_api": "zend_hash_internal_pointer_reset",
          "new_api": null,
          "old_text": "zend_hash_internal_pointer_reset(target_hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "new_line_content": "\t\t\t\t\t\t\t\tstack_level++;",
          "content_same": false
        },
        {
          "line": 3875,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t} else if (Z_TYPE_P(hash_entry) == IS_STRING) {",
          "new_line_content": "\t\t\t\t\t\t\t\tif (target_hash != NULL) {",
          "content_same": false
        },
        {
          "line": 3877,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tstring.len = Z_STRLEN_P(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3878,
          "old_api": "mbfl_encoding_detector_feed",
          "new_api": null,
          "old_text": "mbfl_encoding_detector_feed(identd, &string)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tif (mbfl_encoding_detector_feed(identd, &string)) {",
          "new_line_content": "\t\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3884,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t} else if (Z_TYPE_P(var) == IS_STRING) {",
          "new_line_content": "\t\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(var);",
          "new_line_content": "\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tstring.len = Z_STRLEN_P(var);",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": "mbfl_encoding_detector_feed",
          "new_api": null,
          "old_text": "mbfl_encoding_detector_feed(identd, &string)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (mbfl_encoding_detector_feed(identd, &string)) {",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": "mbfl_encoding_detector_judge",
          "new_api": null,
          "old_text": "mbfl_encoding_detector_judge(identd)",
          "new_text": null,
          "old_line_content": "\t\t\tfrom_encoding = mbfl_encoding_detector_judge(identd);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": "mbfl_encoding_detector_delete",
          "new_api": null,
          "old_text": "mbfl_encoding_detector_delete(identd)",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_encoding_detector_delete(identd);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3899,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (HASH_OF(var)->u.v.nApplyCount > 1) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tHASH_OF(var)->u.v.nApplyCount--;",
          "new_line_content": "\t\tif (recursion_error) {",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree((void *)elist)",
          "new_text": null,
          "old_line_content": "\t\t\t\tefree((void *)elist);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(stack)",
          "new_text": null,
          "old_line_content": "\t\tefree(stack);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to detect encoding\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unable to detect encoding\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3919,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree((void *)elist)",
          "new_text": null,
          "old_line_content": "\t\tefree((void *)elist);",
          "new_line_content": "\t\t\tfrom_encoding = &mbfl_encoding_pass;",
          "content_same": false
        },
        {
          "line": 3924,
          "old_api": "mbfl_buffer_converter_new",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_new(from_encoding, to_encoding, 0)",
          "new_text": null,
          "old_line_content": "\t\tconvd = mbfl_buffer_converter_new(from_encoding, to_encoding, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to create converter\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unable to create converter\");",
          "new_line_content": "\tconvd = NULL;",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_filter_illegal_mode)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_buffer_converter_illegal_mode(convd, MBSTRG(current_filter_illegal_mode));",
          "new_line_content": "\t\tif (convd == NULL) {",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(stack_max, sizeof(zval), 0)",
          "new_text": null,
          "old_line_content": "\t\tstack = (zval*)safe_emalloc(stack_max, sizeof(zval), 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3942,
          "old_api": "ZVAL_DEREF",
          "new_api": null,
          "old_text": "ZVAL_DEREF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZVAL_DEREF(var);",
          "new_line_content": "\t\tn = 0;",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": "SEPARATE_ZVAL_NOREF",
          "new_api": null,
          "old_text": "SEPARATE_ZVAL_NOREF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\tSEPARATE_ZVAL_NOREF(var);",
          "new_line_content": "\t\twhile (n < argc || stack_level > 0) {",
          "content_same": false
        },
        {
          "line": 3944,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "new_line_content": "\t\t\tif (stack_level <= 0) {",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ttarget_hash = HASH_OF(var);",
          "new_line_content": "\t\t\t\tvar = &args[n++];",
          "content_same": false
        },
        {
          "line": 3954,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE_P(var) == IS_ARRAY || Z_TYPE_P(var) == IS_OBJECT) {",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\ttarget_hash = HASH_OF(var);",
          "new_line_content": "\t\t\t\tstack_level--;",
          "content_same": false
        },
        {
          "line": 3957,
          "old_api": "zend_hash_get_current_data",
          "new_api": null,
          "old_text": "zend_hash_get_current_data(target_hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\twhile ((hash_entry_ptr = zend_hash_get_current_data(target_hash)) != NULL) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3960,
          "old_api": "Z_INDIRECT_P",
          "new_api": null,
          "old_text": "Z_INDIRECT_P(hash_entry_ptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\thash_entry_ptr = Z_INDIRECT_P(hash_entry_ptr);",
          "new_line_content": "\t\t\t\tif (target_hash != NULL) {",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": "Z_REFCOUNTED_P",
          "new_api": null,
          "old_text": "Z_REFCOUNTED_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tif (Z_REFCOUNTED_P(hash_entry)) {",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3966,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tif (++(HASH_OF(hash_entry)->u.v.nApplyCount) > 1) {",
          "new_line_content": "\t\t\t\t\t\thash_entry = hash_entry_ptr;",
          "content_same": false
        },
        {
          "line": 3974,
          "old_api": "erealloc",
          "new_api": null,
          "old_text": "erealloc(stack, sizeof(zval) * stack_max)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tptmp = erealloc(stack, sizeof(zval) * stack_max);",
          "new_line_content": "\t\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3977,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&stack[stack_level], var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tZVAL_COPY_VALUE(&stack[stack_level], var);",
          "new_line_content": "\t\t\t\t\t\t\t\tstack_max += PHP_MBSTR_STACK_BLOCK_SIZE;",
          "content_same": false
        },
        {
          "line": 3980,
          "old_api": "SEPARATE_ZVAL",
          "new_api": null,
          "old_text": "SEPARATE_ZVAL(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tSEPARATE_ZVAL(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": "zend_hash_internal_pointer_reset",
          "new_api": null,
          "old_text": "zend_hash_internal_pointer_reset(target_hash)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tzend_hash_internal_pointer_reset(target_hash);",
          "new_line_content": "\t\t\t\t\t\t\tvar = hash_entry;",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t} else if (Z_TYPE_P(hash_entry) == IS_STRING) {",
          "new_line_content": "\t\t\t\t\t\t\tif (target_hash != NULL) {",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tstring.len = Z_STRLEN_P(hash_entry);",
          "new_line_content": "\t\t\t\t\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3989,
          "old_api": "mbfl_buffer_converter_feed_result",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "new_line_content": "\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret->val)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tefree(ret->val);",
          "new_line_content": "\t\t\t\t\t\t\tif (ret != NULL) {",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t} else if (Z_TYPE_P(var) == IS_STRING) {",
          "new_line_content": "\t\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4000,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstring.val = (unsigned char *)Z_STRVAL_P(var);",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstring.len = Z_STRLEN_P(var);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4002,
          "old_api": "mbfl_buffer_converter_feed_result",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_feed_result(convd, &string, &result)",
          "new_text": null,
          "old_line_content": "\t\t\t\tret = mbfl_buffer_converter_feed_result(convd, &string, &result);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4007,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(ret->val)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tefree(ret->val);",
          "new_line_content": "\t\t\t\tif (ret != NULL) {",
          "content_same": false
        },
        {
          "line": 4013,
          "old_api": "mbfl_buffer_illegalchars",
          "new_api": null,
          "old_text": "mbfl_buffer_illegalchars(convd)",
          "new_text": null,
          "old_line_content": "\t\tMBSTRG(illegalchars) += mbfl_buffer_illegalchars(convd);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4014,
          "old_api": "mbfl_buffer_converter_delete",
          "new_api": null,
          "old_text": "mbfl_buffer_converter_delete(convd)",
          "new_text": null,
          "old_line_content": "\t\tmbfl_buffer_converter_delete(convd);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4019,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (HASH_OF(var)->u.v.nApplyCount > 1) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4020,
          "old_api": "HASH_OF",
          "new_api": null,
          "old_text": "HASH_OF(var)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tHASH_OF(var)->u.v.nApplyCount--;",
          "new_line_content": "\t\tif (recursion_error) {",
          "content_same": false
        },
        {
          "line": 4025,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Cannot handle recursive references\");",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"sz|sb\", &str, &str_len, &zconvmap, &encoding, &encoding_len, &is_hex) == FAILURE) {",
          "new_line_content": "\tint i, *convmap, *mapelm, mapsize=0;",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(language)",
          "new_text": null,
          "old_line_content": "\tstring.no_language = MBSTRG(language);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 4058,
          "old_api": "MBSTRG",
          "new_api": null,
          "old_text": "MBSTRG(current_internal_encoding)",
          "new_text": null,
          "old_line_content": "\tstring.encoding = MBSTRG(current_internal_encoding);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": "mbfl_name2encoding",
          "new_api": null,
          "old_text": "mbfl_name2encoding(encoding)",
          "new_text": null,
          "old_line_content": "\t\tstring.encoding = mbfl_name2encoding(encoding);",
          "new_line_content": "\tstring.len = str_len;",
          "content_same": false
        },
        {
          "line": 4066,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", encoding)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Unknown encoding \\\"%s\\\"\", encoding);",
          "new_line_content": "\t/* encoding */",
          "content_same": false
        },
        {
          "line": 4077,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(zconvmap)",
          "new_text": null,
          "old_line_content": "\tif (Z_TYPE_P(zconvmap) == IS_ARRAY) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4078,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(zconvmap)",
          "new_text": null,
          "old_line_content": "\t\ttarget_hash = Z_ARRVAL_P(zconvmap);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": "zend_hash_num_elements",
          "new_api": null,
          "old_text": "zend_hash_num_elements(target_hash)",
          "new_text": null,
          "old_line_content": "\t\ti = zend_hash_num_elements(target_hash);",
          "new_line_content": "\t/* conversion map */",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": "Z_LVAL_P",
          "new_api": null,
          "old_text": "Z_LVAL_P(hash_entry)",
          "new_text": null,
          "old_line_content": "\t\t\t\t*mapelm++ = Z_LVAL_P(hash_entry);",
          "new_line_content": "\t\t\tmapelm = convmap;",
          "content_same": false
        },
        {
          "line": 4088,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\tZEND_HASH_FOREACH_VAL(target_hash, hash_entry) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 180,
      "total_additions": 512,
      "total_deletions": 510,
      "total_api_changes": 1202
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 1202,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          2341,
          2342,
          2348,
          2349,
          2352,
          2353
        ]
      }
    },
    "api_calls_before": 1688,
    "api_calls_after": 1689,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 5,
      "total_diff_lines": 30
    }
  }
}