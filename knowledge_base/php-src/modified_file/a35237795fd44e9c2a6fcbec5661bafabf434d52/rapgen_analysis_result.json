{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/a35237795fd44e9c2a6fcbec5661bafabf434d52",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/a35237795fd44e9c2a6fcbec5661bafabf434d52/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/a35237795fd44e9c2a6fcbec5661bafabf434d52/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/a35237795fd44e9c2a6fcbec5661bafabf434d52/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1158,
          "old_api": "salpha",
          "new_api": "oupper",
          "old_text": "salpha(*r))",
          "new_text": "oupper((unsigned char)*r);",
          "old_line_content": "\t\tif (new_word && isalpha(*r)) {",
          "new_line_content": "\t\t\t*++r=toupper((unsigned char)*r);",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "end_hash_internal_pointer_reset",
          "new_api": "free",
          "old_text": "end_hash_internal_pointer_reset(hash);",
          "new_text": "free(string_key);",
          "old_line_content": "\tzend_hash_internal_pointer_reset(hash);",
          "new_line_content": "\t\t\tefree(string_key);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "free",
          "new_api": "onvert_to_string",
          "old_text": "free(string_key);",
          "new_text": "onvert_to_string(&ctmp);",
          "old_line_content": "\t\t\tefree(string_key);",
          "new_line_content": "\t\t\tconvert_to_string(&ctmp);",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "end_hash_find",
          "new_api": "val_copy_ctor",
          "old_text": "end_hash_find(hash,key,len+1,(void**)&trans) ",
          "new_text": "val_copy_ctor(&tmp);",
          "old_line_content": "\t\t\tif (zend_hash_find(hash,key,len+1,(void**)&trans) == SUCCESS) {",
          "new_line_content": "\t\t\t\t\tzval_copy_ctor(&tmp);",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "realloc",
          "new_api": "free",
          "old_text": "realloc(newstr,newlen);",
          "new_text": "free(key);",
          "old_line_content": "\t\t\t\tnewstr = erealloc(newstr,newlen);",
          "new_line_content": "\tefree(key);",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "RG_COUNT",
          "new_api": "hp_error",
          "old_text": "RG_COUNT(ht);",
          "new_text": "hp_error(E_WARNING,\"arg2 must be passed an array\");",
          "old_line_content": "\tint ac = ARG_COUNT(ht);",
          "new_line_content": "\t\tphp_error(E_WARNING,\"arg2 must be passed an array\");",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "hp_error",
          "new_api": "ASH_OF",
          "old_text": "hp_error(E_WARNING,\"arg2 must be passed an array\");",
          "new_text": "ASH_OF(*from))",
          "old_line_content": "\t\tphp_error(E_WARNING,\"arg2 must be passed an array\");",
          "new_line_content": "\t\tphp_strtr_array(return_value,(*str)->value.str.val,(*str)->value.str.len,HASH_OF(*from));",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "end_get_parameters_ex",
          "new_api": "val_copy_ctor",
          "old_text": "end_get_parameters_ex(1, &str)=",
          "new_text": "val_copy_ctor(return_value);",
          "old_line_content": "\tif (ARG_COUNT(ht)!=1 || zend_get_parameters_ex(1, &str)==FAILURE) {",
          "new_line_content": "\tzval_copy_ctor(return_value);",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "end_get_parameters_ex",
          "new_api": "onvert_to_double_ex",
          "old_text": "end_get_parameters_ex(ac, &t1, &t2, &percent) ",
          "new_text": "onvert_to_double_ex(percent);",
          "old_line_content": "\t\tzend_get_parameters_ex(ac, &t1, &t2, &percent) == FAILURE) {",
          "new_line_content": "\t\tconvert_to_double_ex(percent);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "onvert_to_double_ex",
          "new_api": "ETURN_LONG",
          "old_text": "onvert_to_double_ex(percent);",
          "new_text": "ETURN_LONG(0);",
          "old_line_content": "\t\tconvert_to_double_ex(percent);",
          "new_line_content": "\t\tRETURN_LONG(0);",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "hp_similar_char",
          "new_api": "ETURN_LONG",
          "old_text": "hp_similar_char((*t1)->value.str.val, (*t1)->value.str.len, \n\t\t\t\t\t\t\t (*t2)->value.str.val, (*t2)->value.str.len);",
          "new_text": "ETURN_LONG(sim);",
          "old_line_content": "\tsim = php_similar_char((*t1)->value.str.val, (*t1)->value.str.len, ",
          "new_line_content": "\tRETURN_LONG(sim);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "G",
          "new_api": "trlen",
          "old_text": "G(magic_quotes_sybase))",
          "new_text": "trlen(str);",
          "old_line_content": "\tif (PG(magic_quotes_sybase)) {",
          "new_line_content": "\t\tl = strlen(str);",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "end_get_parameters_ex",
          "new_api": "hp_stripcslashes",
          "old_text": "end_get_parameters_ex(1, &str) ",
          "new_text": "hp_stripcslashes(return_value->value.str.val,&return_value->value.str.len);",
          "old_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "new_line_content": "\tphp_stripcslashes(return_value->value.str.val,&return_value->value.str.len);",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": "end_get_parameters_ex",
          "new_api": "hp_stripslashes",
          "old_text": "end_get_parameters_ex(1, &str) ",
          "new_text": "hp_stripslashes(return_value->value.str.val,&return_value->value.str.len);",
          "old_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "new_line_content": "\tphp_stripslashes(return_value->value.str.val,&return_value->value.str.len);",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "trlen",
          "new_api": "emset",
          "old_text": "trlen(what);",
          "new_text": "emset(flags, '\\0', sizeof(flags));",
          "old_line_content": "\t\twlength = strlen(what);",
          "new_line_content": "\tmemset(flags, '\\0', sizeof(flags));",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "RG_COUNT",
          "new_api": "onvert_to_string_ex",
          "old_text": "RG_COUNT(ht) ",
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "\tif(ARG_COUNT(ht) != 3 ||",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "onvert_to_string_ex",
          "new_api": "hp_char_to_str",
          "old_text": "onvert_to_string_ex(str);",
          "new_text": "hp_char_to_str((*haystack)->value.str.val,\n\t\t\t\t\t\t(*haystack)->value.str.len,\n\t\t\t\t\t\t(*needle)->value.str.val[0],\n\t\t\t\t\t\t(*str)->value.str.val,\n\t\t\t\t\t\t(*str)->value.str.len,\n\t\t\t\t\t\treturn_value);",
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "\t\tphp_char_to_str((*haystack)->value.str.val,",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "hp_error",
          "new_api": "ETURN_STRINGL",
          "old_text": "hp_error(E_WARNING, \"The length of the needle must not be 0\");",
          "new_text": "ETURN_STRINGL(result, len, 0);",
          "old_line_content": "\t\tphp_error(E_WARNING, \"The length of the needle must not be 0\");",
          "new_line_content": "\tRETURN_STRINGL(result, len, 0);",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "RG_COUNT",
          "new_api": "end_get_parameters_ex",
          "old_text": "RG_COUNT(ht))",
          "new_text": "end_get_parameters_ex(2, &str, &max_chars_per_line)=",
          "old_line_content": "\tswitch(ARG_COUNT(ht)) {",
          "new_line_content": "\t\t\tif (zend_get_parameters_ex(2, &str, &max_chars_per_line)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "RG_COUNT",
          "new_api": "end_get_parameters_ex",
          "old_text": "RG_COUNT(ht))",
          "new_text": "end_get_parameters_ex(2, &str, &allow)=",
          "old_line_content": "\tswitch(ARG_COUNT(ht)) {",
          "new_line_content": "\t\t\tif(zend_get_parameters_ex(2, &str, &allow)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "end_get_parameters_ex",
          "new_api": "trcasecmp (\"LC_ALL\", category->value.str.val))",
          "old_text": "end_get_parameters_ex(2, &pcategory, &plocale)=",
          "new_text": "trcasecmp (\"LC_ALL\", category->value.str.val))",
          "old_line_content": "\tif (ARG_COUNT(ht)!=2 || zend_get_parameters_ex(2, &pcategory, &plocale)==FAILURE)",
          "new_line_content": "\tif (!strcasecmp (\"LC_ALL\", category->value.str.val))",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "onvert_to_string_ex",
          "new_api": "trcasecmp (\"LC_CTYPE\", category->value.str.val))",
          "old_text": "onvert_to_string_ex(plocale);",
          "new_text": "trcasecmp (\"LC_CTYPE\", category->value.str.val))",
          "old_line_content": "\tconvert_to_string_ex(plocale);",
          "new_line_content": "\telse if (!strcasecmp (\"LC_CTYPE\", category->value.str.val))",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "trcasecmp (\"LC_MONETARY\", category->value.str.val))",
          "new_api": "hp_error",
          "old_text": "trcasecmp (\"LC_MONETARY\", category->value.str.val))",
          "new_text": "hp_error(E_WARNING,\"Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC or LC_TIME\", category->value.str.val);",
          "old_line_content": "\telse if (!strcasecmp (\"LC_MONETARY\", category->value.str.val))",
          "new_line_content": "\t\tphp_error(E_WARNING,\"Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC or LC_TIME\", category->value.str.val);",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "hp_error",
          "new_api": "etlocale (cat, loc);",
          "old_text": "hp_error(E_WARNING,\"Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC or LC_TIME\", category->value.str.val);",
          "new_text": "etlocale (cat, loc);",
          "old_line_content": "\t\tphp_error(E_WARNING,\"Invalid locale category name %s, must be one of LC_ALL, LC_COLLATE, LC_CTYPE, LC_MONETARY, LC_NUMERIC or LC_TIME\", category->value.str.val);",
          "new_line_content": "\tretval = setlocale (cat, loc);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "LS_FETCH",
          "new_api": "strndup",
          "old_text": "LS_FETCH();",
          "new_text": "strndup((*arg)->value.str.val,(*arg)->value.str.len);",
          "old_line_content": "\tSLS_FETCH();",
          "new_line_content": "\t\tres = estrndup((*arg)->value.str.val,(*arg)->value.str.len);",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": "strndup",
          "new_api": "hp_strtolower",
          "old_text": "strndup(rbuf,len);",
          "new_text": "hp_strtolower(allow, allow_len);",
          "old_line_content": "\tbuf = estrndup(rbuf,len);",
          "new_line_content": "\t\tphp_strtolower(allow, allow_len);",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "hp_error",
          "new_api": "ETURN_STRINGL",
          "old_text": "hp_error(E_WARNING, \"Second argument to %s() has to be greater than 0\",\n\t\t\t\t  get_active_function_name());",
          "new_text": "ETURN_STRINGL(empty_string, 0, 1);",
          "old_line_content": "\t\tphp_error(E_WARNING, \"Second argument to %s() has to be greater than 0\",",
          "new_line_content": "\t\tRETURN_STRINGL(empty_string, 0, 1);",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": "RG_COUNT",
          "new_api": "end_get_parameters_ex",
          "old_text": "RG_COUNT(ht);",
          "new_text": "end_get_parameters_ex(ac, &input, &mode) ",
          "old_line_content": "\tint ac=ARG_COUNT(ht);",
          "new_line_content": "\tif (ac < 1 || ac > 2 || zend_get_parameters_ex(ac, &input, &mode) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": "end_get_parameters_ex",
          "new_api": "onvert_to_long_ex",
          "old_text": "end_get_parameters_ex(ac, &input, &mode) ",
          "new_text": "onvert_to_long_ex(mode);",
          "old_line_content": "\tif (ac < 1 || ac > 2 || zend_get_parameters_ex(ac, &input, &mode) == FAILURE) {",
          "new_line_content": "\t\tconvert_to_long_ex(mode);",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "onvert_to_string_ex",
          "new_api": "hp_error",
          "old_text": "onvert_to_string_ex(input);",
          "new_text": "hp_error(E_WARNING, \"unknown mode\");",
          "old_line_content": "\tconvert_to_string_ex(input);",
          "new_line_content": "\t\t\tphp_error(E_WARNING, \"unknown mode\");",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "hp_error",
          "new_api": "emset",
          "old_text": "hp_error(E_WARNING, \"unknown mode\");",
          "new_text": "emset((void*) chars,0,sizeof(chars));",
          "old_line_content": "\t\t\tphp_error(E_WARNING, \"unknown mode\");",
          "new_line_content": "\tmemset((void*) chars,0,sizeof(chars));",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": "end_get_parameters_ex",
          "new_api": "trnatcmp_ex",
          "old_text": "end_get_parameters_ex(2, &s1, &s2) ",
          "new_text": "trnatcmp_ex((*s1)->value.str.val, (*s1)->value.str.len,\n\t\t\t\t\t\t\t (*s2)->value.str.val, (*s2)->value.str.len,\n\t\t\t\t\t\t\t fold_case))",
          "old_line_content": "\tif (ARG_COUNT(ht)!=2 || zend_get_parameters_ex(2, &s1, &s2) == FAILURE) {",
          "new_line_content": "\tRETURN_LONG(strnatcmp_ex((*s1)->value.str.val, (*s1)->value.str.len,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2561,
          "old_api": null,
          "new_api": "ETURN_LONG",
          "old_text": null,
          "new_text": "ETURN_LONG(count);",
          "old_line_content": "\t\t\t\tcount++;",
          "new_line_content": "\tRETURN_LONG(count);",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": null,
          "new_api": "hp_hebrev",
          "old_text": null,
          "new_text": "hp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,1);",
          "old_line_content": "}",
          "new_line_content": "\tphp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,1);",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": null,
          "new_api": "val_copy_ctor",
          "old_text": null,
          "new_text": "val_copy_ctor(return_value);",
          "old_line_content": "\t",
          "new_line_content": "\tzval_copy_ctor(return_value);",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "LS_FETCH",
          "old_text": null,
          "new_text": "LS_FETCH();",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tBLS_FETCH();",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str)=",
          "old_line_content": "",
          "new_line_content": "\tif (ARG_COUNT(ht)!=1 || zend_get_parameters_ex(1, &str)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "G",
          "old_text": null,
          "new_text": "G(str_ebuf),",
          "old_line_content": "char *php_strerror(int errnum) ",
          "new_line_content": "\t(void)sprintf(BG(str_ebuf), \"Unknown error: %d\", errnum);",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "G",
          "old_text": null,
          "new_text": "G(str_ebuf))",
          "old_line_content": "{",
          "new_line_content": "\treturn(BG(str_ebuf));",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "{",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": null,
          "new_api": "hp_char_to_str",
          "old_text": null,
          "new_text": "hp_char_to_str((*str)->value.str.val,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "old_line_content": "\t",
          "new_line_content": "\tphp_char_to_str((*str)->value.str.val,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "RG_COUNT",
          "old_text": null,
          "new_text": "RG_COUNT(ht))",
          "old_line_content": "PHP_FUNCTION(strip_tags)",
          "new_line_content": "\tswitch(ARG_COUNT(ht)) {",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str)=",
          "old_line_content": "\tchar *buf;",
          "new_line_content": "\t\t\tif(zend_get_parameters_ex(1, &str)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "sxdigit",
          "old_text": null,
          "new_text": "sxdigit((int)(*(source+1))))",
          "old_line_content": "\t\t\t\tcase 'r': *target++='\\r'; nlen--; break;",
          "new_line_content": "\t\t\t\tcase 'x': if (source+1<end && isxdigit((int)(*(source+1)))) {",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "sxdigit",
          "old_text": null,
          "new_text": "sxdigit((int)(*(source+1))))",
          "old_line_content": "\t\t\t\tcase 't': *target++='\\t'; nlen--; break;",
          "new_line_content": "\t\t\t\t\t\tif (source+1<end && isxdigit((int)(*(source+1)))) {",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(allow);",
          "old_line_content": "\t\t\t\tRETURN_FALSE;",
          "new_line_content": "\t\t\tconvert_to_string_ex(allow);",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "trtol",
          "old_text": null,
          "new_text": "trtol(numtmp, NULL, 16);",
          "old_line_content": "\t\t\t\t\t\t\tnumtmp[1] = *++source;",
          "new_line_content": "\t\t\t\t\t\t*target++=(char)strtol(numtmp, NULL, 16);",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "\t\t\tallowed_tags = (*allow)->value.str.val;",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "strndup",
          "old_text": null,
          "new_text": "strndup((*str)->value.str.val,(*str)->value.str.len);",
          "old_line_content": "\t\t\tallowed_tags_len = (*allow)->value.str.len;",
          "new_line_content": "\tbuf = estrndup((*str)->value.str.val,(*str)->value.str.len);",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": null,
          "new_api": "hp_strip_tags",
          "old_text": null,
          "new_text": "hp_strip_tags(buf, (*str)->value.str.len, 0, allowed_tags, allowed_tags_len);",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\tphp_strip_tags(buf, (*str)->value.str.len, 0, allowed_tags, allowed_tags_len);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "ETURN_STRING",
          "old_text": null,
          "new_text": "ETURN_STRING(buf, 0);",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\tRETURN_STRING(buf, 0);",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": null,
          "new_api": "trtol",
          "old_text": null,
          "new_text": "trtol(numtmp, NULL, 8);",
          "old_line_content": "\t\t\t\t\t/* break is left intentionally */",
          "new_line_content": "\t\t\t\t\t\t*target++=(char)strtol(numtmp, NULL, 8);",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": null,
          "new_api": "LS_FETCH",
          "old_text": null,
          "new_text": "LS_FETCH();",
          "old_line_content": "   Set locale information */",
          "new_line_content": "\tBLS_FETCH();",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(2, &pcategory, &plocale)=",
          "old_line_content": "{",
          "new_line_content": "\tif (ARG_COUNT(ht)!=2 || zend_get_parameters_ex(2, &pcategory, &plocale)==FAILURE)",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(pcategory);",
          "old_line_content": "\tint cat;",
          "new_line_content": "\tconvert_to_string_ex(pcategory);",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(plocale);",
          "old_line_content": "\tchar *loc, *retval;",
          "new_line_content": "\tconvert_to_string_ex(plocale);",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": null,
          "new_api": "trcasecmp (\"LC_COLLATE\", category->value.str.val))",
          "old_text": null,
          "new_text": "trcasecmp (\"LC_COLLATE\", category->value.str.val))",
          "old_line_content": "#ifdef HAVE_SETLOCALE",
          "new_line_content": "\telse if (!strcasecmp (\"LC_COLLATE\", category->value.str.val))",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "trlen",
          "old_text": null,
          "new_text": "trlen(str))",
          "old_line_content": "\t*len = nlen;",
          "new_line_content": "\tchar *new_str = emalloc((length?length:(length=strlen(str)))*4+1); ",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": null,
          "new_api": "trcasecmp (\"LC_MONETARY\", category->value.str.val))",
          "old_text": null,
          "new_text": "trcasecmp (\"LC_MONETARY\", category->value.str.val))",
          "old_line_content": "\tlocale = *plocale;",
          "new_line_content": "\telse if (!strcasecmp (\"LC_MONETARY\", category->value.str.val))",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": null,
          "new_api": "trcasecmp (\"LC_NUMERIC\", category->value.str.val))",
          "old_text": null,
          "new_text": "trcasecmp (\"LC_NUMERIC\", category->value.str.val))",
          "old_line_content": "\t\tcat = LC_ALL;",
          "new_line_content": "\telse if (!strcasecmp (\"LC_NUMERIC\", category->value.str.val))",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": null,
          "new_api": "trcasecmp (\"LC_TIME\", category->value.str.val))",
          "old_text": null,
          "new_text": "trcasecmp (\"LC_TIME\", category->value.str.val))",
          "old_line_content": "\t\tcat = LC_COLLATE;",
          "new_line_content": "\telse if (!strcasecmp (\"LC_TIME\", category->value.str.val))",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": null,
          "new_api": "trcmp (\"0\", locale->value.str.val))",
          "old_text": null,
          "new_text": "trcmp (\"0\", locale->value.str.val))",
          "old_line_content": "\t\tcat = LC_NUMERIC;",
          "new_line_content": "\tif (!strcmp (\"0\", locale->value.str.val))",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "trlen",
          "old_text": null,
          "new_text": "trlen(str);",
          "old_line_content": "\tint  newlen;",
          "new_line_content": "\t\tlength = strlen(str);",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": null,
          "new_api": "emset",
          "old_text": null,
          "new_text": "emset(flags+c, 1, (unsigned char)*(source+3)-(unsigned char)c+1);",
          "old_line_content": "\tif (!length) {",
          "new_line_content": "\t\t\tmemset(flags+c, 1, (unsigned char)*(source+3)-(unsigned char)c+1);",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": null,
          "new_api": "G",
          "old_text": null,
          "new_text": "G(locale_string))",
          "old_line_content": "\t\tloc = NULL;",
          "new_line_content": "\t\t\tSTR_FREE(BG(locale_string));",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(retval);",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\tBG(locale_string) = estrdup(retval);",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "ETVAL_STRING",
          "old_text": null,
          "new_text": "ETVAL_STRING(retval,1);",
          "old_line_content": "\tif (retval) {",
          "new_line_content": "\t\tRETVAL_STRING(retval,1);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(target, \"%03o\", (unsigned char)c);",
          "old_line_content": "\t\t\t\t\tcase '\\n': *target++ = 'n'; break;",
          "new_line_content": "\t\t\t\t\tdefault: target += sprintf(target, \"%03o\", (unsigned char)c);",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": null,
          "new_api": "LS_FETCH",
          "old_text": null,
          "new_text": "LS_FETCH();",
          "old_line_content": "",
          "new_line_content": "\tPLS_FETCH();",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": null,
          "new_api": "LS_FETCH",
          "old_text": null,
          "new_text": "LS_FETCH();",
          "old_line_content": "/* {{{ proto void parse_str(string encoded_string)",
          "new_line_content": "\tSLS_FETCH();",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "egister",
          "old_text": null,
          "new_text": "egister ",
          "old_line_content": "\tchar *r;",
          "new_line_content": "\tregister char *r,*r_end;",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &arg) ",
          "old_line_content": "PHP_FUNCTION(parse_str)",
          "new_line_content": "\tif (zend_get_parameters_ex(1, &arg) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str) ",
          "old_line_content": "\t",
          "new_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(arg);",
          "old_line_content": "\tchar *res = NULL;",
          "new_line_content": "\tconvert_to_string_ex(arg);",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "\t}",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "realloc",
          "old_text": null,
          "new_text": "realloc(new_str, newlen+1);",
          "old_line_content": "\t\t\t*target++ = '\\\\';",
          "new_line_content": "\t\tnew_str = erealloc(new_str, newlen+1);",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "val_copy_ctor",
          "old_text": null,
          "new_text": "val_copy_ctor(return_value);",
          "old_line_content": "\t*return_value=**str;",
          "new_line_content": "\tzval_copy_ctor(return_value);",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": null,
          "new_api": "TR_FREE",
          "old_text": null,
          "new_text": "TR_FREE(str);",
          "old_line_content": "\tif (target-new_str<length*4) {",
          "new_line_content": "\t\tSTR_FREE(str);",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": null,
          "new_api": "oupper",
          "old_text": null,
          "new_text": "oupper((unsigned char)*r);",
          "old_line_content": "",
          "new_line_content": "\t*r=toupper((unsigned char)*r);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "sspace",
          "old_text": null,
          "new_text": "sspace(*r))",
          "old_line_content": "\t\t/* Alpha char preceeded by white space? Uppercase it. */",
          "new_line_content": "\t\tif(isspace(*r)) {",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(len+1);",
          "old_line_content": " * ",
          "new_line_content": "\tchar *norm = emalloc(len+1);",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": null,
          "new_api": "LS_FETCH",
          "old_text": null,
          "new_text": "LS_FETCH();",
          "old_line_content": "PHPAPI char *php_addslashes(char *str, int length, int *new_length, int should_free)",
          "new_line_content": "\tPLS_FETCH();",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": null,
          "new_api": "olower",
          "old_text": null,
          "new_text": "olower(*t);",
          "old_line_content": "int php_tag_find(char *tag, int len, char *set) {",
          "new_line_content": "\tc = tolower(*t);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "trlen",
          "old_text": null,
          "new_text": "trlen(str))",
          "old_line_content": "\tchar c;",
          "new_line_content": "\tnew_str = (char *) emalloc((length?length:(length=strlen(str)))*2+1);",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": null,
          "new_api": "G",
          "old_text": null,
          "new_text": "G(magic_quotes_sybase))",
          "old_line_content": "\tfor (source=str,end=source+length,target=new_str; (c = *source) || source<end; source++) {",
          "new_line_content": "\t\t\t\tif (PG(magic_quotes_sybase)) {",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": null,
          "new_api": "sspace",
          "old_text": null,
          "new_text": "sspace((int)c))",
          "old_line_content": "\t\tcase '<':",
          "new_line_content": "\t\t\tif(!isspace((int)c)) {",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "G",
          "old_text": null,
          "new_text": "G(magic_quotes_sybase))",
          "old_line_content": "\t\t\t\t\t*target++ = '\\'';",
          "new_line_content": "\t\t\t\tif (!PG(magic_quotes_sybase)) {",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "end_hash_internal_pointer_reset",
          "old_text": null,
          "new_text": "end_hash_internal_pointer_reset(hash);",
          "old_line_content": "\tzval **trans;",
          "new_line_content": "\tzend_hash_internal_pointer_reset(hash);",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": null,
          "new_api": "olower",
          "old_text": null,
          "new_text": "olower(*(++t));",
          "old_line_content": "\t\t\t\t\t*(n++) = c;",
          "new_line_content": "\t\tc = tolower(*(++t));",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "end_hash_get_current_data",
          "old_text": null,
          "new_text": "end_hash_get_current_data(hash, (void **)&entry) ",
          "old_line_content": "\tzval ctmp;",
          "new_line_content": "\twhile (zend_hash_get_current_data(hash, (void **)&entry) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "end_hash_get_current_key",
          "old_text": null,
          "new_text": "end_hash_get_current_key(hash, &string_key, &num_key))",
          "old_line_content": "\tulong num_key;",
          "new_line_content": "\t\tswitch (zend_hash_get_current_key(hash, &string_key, &num_key)) {",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": "trlen",
          "old_text": null,
          "new_text": "trlen(string_key);",
          "old_line_content": "\tint maxlen = 0, pos, len, newpos, newlen, found;",
          "new_line_content": "\t\t\tlen = strlen(string_key);",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": null,
          "new_api": "trstr",
          "old_text": null,
          "new_text": "trstr(set,norm))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\tif(strstr(set,norm)) {",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": null,
          "new_api": "TR_FREE",
          "old_text": null,
          "new_text": "TR_FREE(str);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tSTR_FREE(str);",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(norm);",
          "old_line_content": "\t*(n++) = '>';",
          "new_line_content": "\tefree(norm);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "val_dtor",
          "old_text": null,
          "new_text": "val_dtor(&ctmp);",
          "old_line_content": "\t\t\t",
          "new_line_content": "\t\t\tzval_dtor(&ctmp);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "end_hash_move_forward",
          "old_text": null,
          "new_text": "end_hash_move_forward(hash);",
          "old_line_content": "\t\t\tlen = ctmp.value.str.len;",
          "new_line_content": "\t\tzend_hash_move_forward(hash);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(maxlen+1);",
          "old_line_content": "\t\t\tif (len > maxlen) maxlen = len;",
          "new_line_content": "\tkey = emalloc(maxlen+1);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(8192);",
          "old_line_content": "\t\t\tif (len < minlen) minlen = len;",
          "new_line_content": "\tnewstr = emalloc(8192);",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": null,
          "new_api": "strndup",
          "old_text": null,
          "new_text": "strndup(str,len);",
          "old_line_content": "\t\t\tchar_count++;",
          "new_line_content": "\t\tresult->value.str.val = estrndup(str,len);",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": null,
          "new_api": "strndup",
          "old_text": null,
          "new_text": "strndup(rbuf,len);",
          "old_line_content": "\tallow string to see if we should allow it.",
          "new_line_content": "\tbuf = estrndup(rbuf,len);",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(key,str+pos,maxlen);",
          "old_line_content": "",
          "new_line_content": "\t\tmemcpy(key,str+pos,maxlen);",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(result->value.str.len+1);",
          "old_line_content": "\tif (char_count==0) {",
          "new_line_content": "\tresult->value.str.val = target = (char *) emalloc(result->value.str.len+1);",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": null,
          "new_api": "end_hash_find",
          "old_text": null,
          "new_text": "end_hash_find(hash,key,len+1,(void**)&trans) ",
          "old_line_content": "\t\t\t",
          "new_line_content": "\t\t\tif (zend_hash_find(hash,key,len+1,(void**)&trans) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(PHP_TAG_BUF_SIZE+1);",
          "old_line_content": "\tc = *buf;",
          "new_line_content": "\t\ttbuf = emalloc(PHP_TAG_BUF_SIZE+1);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "onvert_to_string",
          "old_text": null,
          "new_text": "onvert_to_string(&tmp);",
          "old_line_content": "\t\t\t\tchar *tval;",
          "new_line_content": "\t\t\t\t\tconvert_to_string(&tmp);",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "realloc",
          "old_text": null,
          "new_text": "realloc(newstr,newlen);",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tnewstr = erealloc(newstr,newlen);",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": null,
          "new_api": "emchr",
          "old_text": null,
          "new_text": "emchr(p, *needle, end - p - needle_len + 1))",
          "old_line_content": "PHPAPI inline char *",
          "new_line_content": "\t\t\t(s = memchr(p, *needle, end - p - needle_len + 1)); p = s + 1) {",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": null,
          "new_api": "emcmp",
          "old_text": null,
          "new_text": "emcmp(s, needle, needle_len) ",
          "old_line_content": "php_memnstr(char *haystack, char *needle, int needle_len, char *end)",
          "new_line_content": "\t\tif(memcmp(s, needle, needle_len) == 0)",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(newstr+newpos,tval,tlen);",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tmemcpy(newstr+newpos,tval,tlen);",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "val_dtor",
          "old_text": null,
          "new_text": "val_dtor(&tmp);",
          "old_line_content": "\t\t\t\t",
          "new_line_content": "\t\t\t\t\tzval_dtor(&tmp);",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(length);",
          "old_line_content": "{",
          "new_line_content": "\tresult = emalloc(length);",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "realloc",
          "old_text": null,
          "new_text": "realloc(newstr,newlen);",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tnewstr = erealloc(newstr,newlen);",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": null,
          "new_api": "hp_memnstr",
          "old_text": null,
          "new_text": "hp_memnstr(p, needle, needle_len, end))",
          "old_line_content": "\tchar *end = haystack + length;",
          "new_line_content": "\t\t\t(r = php_memnstr(p, needle, needle_len, end));) {",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "realloc",
          "old_text": null,
          "new_text": "realloc(result, (q - result) + (r - p) + (str_len) + 1);",
          "old_line_content": "\tchar *off;",
          "new_line_content": "\t\toff = erealloc(result, (q - result) + (r - p) + (str_len) + 1);",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "ETURN_STRINGL",
          "old_text": null,
          "new_text": "ETURN_STRINGL(newstr,newpos,0);",
          "old_line_content": "\t\t\t",
          "new_line_content": "\tRETURN_STRINGL(newstr,newpos,0);",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": null,
          "new_api": "hp_tag_find",
          "old_text": null,
          "new_text": "hp_tag_find(tbuf, tp-tbuf, allow))",
          "old_line_content": "\t\t\tcase '>':",
          "new_line_content": "\t\t\t\t\t\tif(php_tag_find(tbuf, tp-tbuf, allow)) {",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(rp,tbuf,tp-tbuf);",
          "old_line_content": "\t\t\t\tif (state == 1) {",
          "new_line_content": "\t\t\t\t\t\t\tmemcpy(rp,tbuf,tp-tbuf);",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(q, p, r - p);",
          "old_line_content": "\t\tif(off != result) {",
          "new_line_content": "\t\tmemcpy(q, p, r - p);",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(q, str, str_len);",
          "old_line_content": "\t\t\t\tgoto finish;",
          "new_line_content": "\t\tmemcpy(q, str, str_len);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "RG_COUNT",
          "old_text": null,
          "new_text": "RG_COUNT(ht);",
          "old_line_content": "}",
          "new_line_content": "\tint ac = ARG_COUNT(ht);",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(ac, &str, &from, &to) ",
          "old_line_content": "/* {{{ proto string strtr(string str, string from, string to)",
          "new_line_content": "\tif (ac < 2 || ac > 3 || zend_get_parameters_ex(ac, &str, &from, &to) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "realloc",
          "old_text": null,
          "new_text": "realloc(result, s - result + 1);",
          "old_line_content": "\t\tq += str_len;",
          "new_line_content": "\t\toff = erealloc(result, s - result + 1);",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "\t}",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(q, p, end - p);",
          "old_line_content": "\t\t\tif(!off) {",
          "new_line_content": "\t\tmemcpy(q, p, end - p);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(from);",
          "old_line_content": "\t}",
          "new_line_content": "\t\tconvert_to_string_ex(from);",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(to);",
          "old_line_content": "",
          "new_line_content": "\t\tconvert_to_string_ex(to);",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "val_copy_ctor",
          "old_text": null,
          "new_text": "val_copy_ctor(return_value);",
          "old_line_content": "\tif (ac == 2) {",
          "new_line_content": "\t\tzval_copy_ctor(return_value);",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "hp_strtr",
          "old_text": null,
          "new_text": "hp_strtr(return_value->value.str.val,\n\t\t\t\t  return_value->value.str.len,\n\t\t\t\t  (*from)->value.str.val,\n\t\t\t\t  (*to)->value.str.val,\n\t\t\t\t  MIN((*from)->value.str.len,(*to)->value.str.len));",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tphp_strtr(return_value->value.str.val,",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "IN",
          "old_text": null,
          "new_text": "IN((*from)->value.str.len,(*to)->value.str.len))",
          "old_line_content": "\t\t*return_value=**str;",
          "new_line_content": "\t\t\t\t  MIN((*from)->value.str.len,(*to)->value.str.len));",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "RG_COUNT",
          "old_text": null,
          "new_text": "RG_COUNT(ht) ",
          "old_line_content": "   Replace all occurrences of needle in haystack with str */",
          "new_line_content": "\tif(ARG_COUNT(ht) != 3 ||",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(3, &needle, &str, &haystack) ",
          "old_line_content": "PHP_FUNCTION(str_replace)",
          "new_line_content": "\t\t\tzend_get_parameters_ex(3, &needle, &str, &haystack) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(haystack);",
          "old_line_content": "\tint len = 0;",
          "new_line_content": "\tconvert_to_string_ex(haystack);",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(needle);",
          "old_line_content": "",
          "new_line_content": "\tconvert_to_string_ex(needle);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str)=",
          "old_line_content": "   Reverse a string */",
          "new_line_content": "\tif (ARG_COUNT(ht)!=1 || zend_get_parameters_ex(1, &str)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": null,
          "new_api": "ETURN_STRING",
          "old_text": null,
          "new_text": "ETURN_STRING(empty_string,1);",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_STRING(empty_string,1);",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "\tint i,len;",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf);",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\tefree(buf);",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(tbuf);",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\tif(allow) efree(tbuf);",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": null,
          "new_api": "hp_error",
          "old_text": null,
          "new_text": "hp_error(E_WARNING, \"The length of the needle must not be 0\");",
          "old_line_content": "\t\t\t\t\t\t(*str)->value.str.val,",
          "new_line_content": "\t\tphp_error(E_WARNING, \"The length of the needle must not be 0\");",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(2, &input_str, &mult) ",
          "old_line_content": "{",
          "new_line_content": "\tif (ARG_COUNT(ht) != 2 || zend_get_parameters_ex(2, &input_str, &mult) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": null,
          "new_api": "hp_str_to_str",
          "old_text": null,
          "new_text": "hp_str_to_str((*haystack)->value.str.val, (*haystack)->value.str.len,\n\t\t\t\t\t\t (*needle)->value.str.val, (*needle)->value.str.len,\n\t\t\t\t\t\t (*str)->value.str.val, (*str)->value.str.len, &len);",
          "old_line_content": "\t}",
          "new_line_content": "\tresult = php_str_to_str((*haystack)->value.str.val, (*haystack)->value.str.len,",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(input_str);",
          "old_line_content": "\tint\t\t\t  i;",
          "new_line_content": "\tconvert_to_string_ex(input_str);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "onvert_to_long_ex",
          "old_text": null,
          "new_text": "onvert_to_long_ex(mult);",
          "old_line_content": "\t",
          "new_line_content": "\tconvert_to_long_ex(mult);",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": null,
          "new_api": "hp_error",
          "old_text": null,
          "new_text": "hp_error(E_WARNING, \"Second argument to %s() has to be greater than 0\",\n\t\t\t\t  get_active_function_name());",
          "old_line_content": "\t}",
          "new_line_content": "\t\tphp_error(E_WARNING, \"Second argument to %s() has to be greater than 0\",",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": null,
          "new_api": "et_active_function_name",
          "old_text": null,
          "new_text": "et_active_function_name())",
          "old_line_content": "\t",
          "new_line_content": "\t\t\t\t  get_active_function_name());",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(result_len + 1);",
          "old_line_content": "",
          "new_line_content": "\tresult = (char *)emalloc(result_len + 1);",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": null,
          "new_api": "RG_COUNT",
          "old_text": null,
          "new_text": "RG_COUNT(ht))",
          "old_line_content": "\tchar *heb_str,*tmp,*target,*opposite_target,*broken_str;",
          "new_line_content": "\tswitch(ARG_COUNT(ht)) {",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str)=",
          "old_line_content": "\tint block_ended;",
          "new_line_content": "\t\t\tif (zend_get_parameters_ex(1, &str)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(result + (*input_str)->value.str.len * i,\n\t\t\t   (*input_str)->value.str.val,\n\t\t\t   (*input_str)->value.str.len);",
          "old_line_content": "\t",
          "new_line_content": "\t\tmemcpy(result + (*input_str)->value.str.len * i,",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "hp_similar_str",
          "old_text": null,
          "new_text": "hp_similar_str(txt1, len1, txt2, len2, &pos1, &pos2, &max);",
          "old_line_content": "",
          "new_line_content": "\tphp_similar_str(txt1, len1, txt2, len2, &pos1, &pos2, &max);",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": null,
          "new_api": "ETURN_STRINGL",
          "old_text": null,
          "new_text": "ETURN_STRINGL(result, result_len, 0);",
          "old_line_content": "\tfor (i=0; i<(*mult)->value.lval; i++) {",
          "new_line_content": "\tRETURN_STRINGL(result, result_len, 0);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "hp_similar_char",
          "old_text": null,
          "new_text": "hp_similar_char(txt1, pos1, txt2, pos2);",
          "old_line_content": "{",
          "new_line_content": "\t\t\tsum += php_similar_char(txt1, pos1, txt2, pos2);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "onvert_to_long_ex",
          "old_text": null,
          "new_text": "onvert_to_long_ex(max_chars_per_line);",
          "old_line_content": "\t\t\t\tRETURN_FALSE;",
          "new_line_content": "\t\t\tconvert_to_long_ex(max_chars_per_line);",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": null,
          "new_api": "hp_similar_char",
          "old_text": null,
          "new_text": "hp_similar_char(txt1 + pos1 + max, len1 - pos1 - max, \n\t\t\t\t\t\t\t\t\ttxt2 + pos2 + max, len2 - pos2 - max);",
          "old_line_content": "\tint pos1, pos2, max;",
          "new_line_content": "\t\t\tsum += php_similar_char(txt1 + pos1 + max, len1 - pos1 - max, ",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "\t\t\tmax_chars = (*max_chars_per_line)->value.lval;",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": null,
          "new_api": "RG_COUNT",
          "old_text": null,
          "new_text": "RG_COUNT(ht);",
          "old_line_content": "",
          "new_line_content": "\tint ac=ARG_COUNT(ht);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "RG_COUNT",
          "old_text": null,
          "new_text": "RG_COUNT(ht);",
          "old_line_content": "}",
          "new_line_content": "\tint ac = ARG_COUNT(ht);",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(ac, &t1, &t2, &percent) ",
          "old_line_content": "PHP_FUNCTION(similar_text)",
          "new_line_content": "\t\tzend_get_parameters_ex(ac, &t1, &t2, &percent) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc((*str)->value.str.len+1);",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\theb_str = (char *) emalloc((*str)->value.str.len+1);",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(input);",
          "old_line_content": "\tchar retstr[256];",
          "new_line_content": "\tconvert_to_string_ex(input);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(t1);",
          "old_line_content": "\tint sim;",
          "new_line_content": "\tconvert_to_string_ex(t1);",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(t2);",
          "old_line_content": "\t",
          "new_line_content": "\tconvert_to_string_ex(t2);",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": null,
          "new_api": "sheb",
          "old_text": null,
          "new_text": "sheb(*tmp))",
          "old_line_content": "\ttarget = heb_str+(*str)->value.str.len;",
          "new_line_content": "\tif (isheb(*tmp)) {",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "hp_similar_char",
          "old_text": null,
          "new_text": "hp_similar_char((*t1)->value.str.val, (*t1)->value.str.len, \n\t\t\t\t\t\t\t (*t2)->value.str.val, (*t2)->value.str.len);",
          "old_line_content": "\tif (((*t1)->value.str.len + (*t2)->value.str.len) == 0) {",
          "new_line_content": "\tsim = php_similar_char((*t1)->value.str.val, (*t1)->value.str.len, ",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "spunct",
          "old_text": null,
          "new_text": "spunct((int)*(tmp+1)) ",
          "old_line_content": "\t\tblock_type = _HEB_BLOCK_TYPE_HEB;",
          "new_line_content": "\t\t\twhile((isheb((int)*(tmp+1)) || _isblank((int)*(tmp+1)) || ispunct((int)*(tmp+1)) || (int)*(tmp+1)=='\\n' ) && block_end<(*str)->value.str.len-1) {",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": null,
          "new_api": "rray_init",
          "old_text": null,
          "new_text": "rray_init(return_value);",
          "old_line_content": "\twhile (len > 0) {",
          "new_line_content": "\t\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "dd_index_long",
          "old_text": null,
          "new_text": "dd_index_long(return_value,inx,chars[inx]);",
          "old_line_content": "\tif (mymode < 3) {",
          "new_line_content": "\t\t\tadd_index_long(return_value,inx,chars[inx]);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "LS_FETCH",
          "old_text": null,
          "new_text": "LS_FETCH();",
          "old_line_content": "",
          "new_line_content": "\tPLS_FETCH();",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "dd_index_long",
          "old_text": null,
          "new_text": "dd_index_long(return_value,inx,chars[inx]);",
          "old_line_content": "\tfor (inx=0; inx < 255; inx++) {",
          "new_line_content": "\t\t\t\tadd_index_long(return_value,inx,chars[inx]);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "G",
          "old_text": null,
          "new_text": "G(magic_quotes_sybase))",
          "old_line_content": "PHPAPI void php_stripslashes(char *str, int *len)",
          "new_line_content": "\tif (PG(magic_quotes_sybase)) {",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "sheb",
          "old_text": null,
          "new_text": "sheb(*(tmp+1)) ",
          "old_line_content": "\t\t\t\t\tdefault:",
          "new_line_content": "\t\t\twhile(!isheb(*(tmp+1)) && (int)*(tmp+1)!='\\n' && block_end<(*str)->value.str.len-1) {",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": null,
          "new_api": "dd_index_long",
          "old_text": null,
          "new_text": "dd_index_long(return_value,inx,chars[inx]);",
          "old_line_content": " \t\tcase 1:",
          "new_line_content": "\t\t\t\tadd_index_long(return_value,inx,chars[inx]);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "spunct",
          "old_text": null,
          "new_text": "spunct((int)*tmp))",
          "old_line_content": "\t\t\tblock_type = _HEB_BLOCK_TYPE_ENG;",
          "new_line_content": "\t\t\twhile ((_isblank((int)*tmp) || ispunct((int)*tmp)) && *tmp!='/' && *tmp!='-' && block_end>block_start) {",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc((*str)->value.str.len+1);",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\tbroken_str = (char *) emalloc((*str)->value.str.len+1);",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": null,
          "new_api": "ETURN_STRINGL",
          "old_text": null,
          "new_text": "ETURN_STRINGL(retstr,retlen,1);",
          "old_line_content": "\t\t\t\tretstr[retlen++] = inx;",
          "new_line_content": "\t\tRETURN_STRINGL(retstr,retlen,1);",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "isnewline",
          "old_text": null,
          "new_text": "isnewline(heb_str[begin]))",
          "old_line_content": "\ttarget = broken_str;",
          "new_line_content": "\t\t\tif (begin<=0 || _isnewline(heb_str[begin])) {",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(2, &s1, &s2) ",
          "old_line_content": "}",
          "new_line_content": "\tif (ARG_COUNT(ht)!=2 || zend_get_parameters_ex(2, &s1, &s2) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": null,
          "new_api": "isnewline",
          "old_text": null,
          "new_text": "isnewline(heb_str[begin-1]))",
          "old_line_content": "\t\t",
          "new_line_content": "\t\t\t\twhile(begin>0 && _isnewline(heb_str[begin-1])) {",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(s1);",
          "old_line_content": "{",
          "new_line_content": "\tconvert_to_string_ex(s1);",
          "content_same": false
        },
        {
          "line": 2495,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(s2);",
          "old_line_content": "\tzval **s1, **s2;",
          "new_line_content": "\tconvert_to_string_ex(s2);",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": null,
          "new_api": "isnewline",
          "old_text": null,
          "new_text": "isnewline(heb_str[new_begin]))",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tif (_isblank(heb_str[new_begin]) || _isnewline(heb_str[new_begin])) {",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": null,
          "new_api": "hp_strnatcmp",
          "old_text": null,
          "new_text": "hp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "old_line_content": "}",
          "new_line_content": "\tphp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(2, &str, &what) ",
          "old_line_content": "",
          "new_line_content": "\tif (ARG_COUNT(ht) != 2 || zend_get_parameters_ex(2, &str, &what) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "PHP_FUNCTION(addcslashes)",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(what);",
          "old_line_content": "{",
          "new_line_content": "\tconvert_to_string_ex(what);",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "hp_addcslashes",
          "old_text": null,
          "new_text": "hp_addcslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0,(*what)->value.str.val,(*what)->value.str.len);",
          "old_line_content": "\tzval **str, **what;",
          "new_line_content": "\treturn_value->value.str.val = php_addcslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0,(*what)->value.str.val,(*what)->value.str.len);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "isblank",
          "old_text": null,
          "new_text": "isblank(heb_str[begin]))",
          "old_line_content": "\t\t\tif (new_char_count>0) {",
          "new_line_content": "\t\tif (_isblank(heb_str[begin])) {",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": null,
          "new_api": "hp_strnatcmp",
          "old_text": null,
          "new_text": "hp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": null,
          "new_api": "isnewline",
          "old_text": null,
          "new_text": "isnewline(heb_str[begin]))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\twhile (begin<=end && _isnewline(heb_str[begin])) { /* skip leading newlines */",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str) ",
          "old_line_content": "",
          "new_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "PHP_FUNCTION(addslashes)",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "hp_addslashes",
          "old_text": null,
          "new_text": "hp_addslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0);",
          "old_line_content": "{",
          "new_line_content": "\treturn_value->value.str.val = php_addslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0);",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(2, &haystack, &needle) ",
          "old_line_content": "   Returns the number of times a substring occurs in the string. */",
          "new_line_content": "\tif (ARG_COUNT(ht) != 2 || zend_get_parameters_ex(2, &haystack, &needle) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(haystack);",
          "old_line_content": "\tint i, length, count = 0;",
          "new_line_content": "\tconvert_to_string_ex(haystack);",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(needle);",
          "old_line_content": "\tchar *p, *endp, cmp;",
          "new_line_content": "\tconvert_to_string_ex(needle);",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": null,
          "new_api": "hp_error",
          "old_text": null,
          "new_text": "hp_error(E_WARNING, \"Empty substring\");",
          "old_line_content": "\t\tWRONG_PARAM_COUNT;",
          "new_line_content": "\t\tphp_error(E_WARNING, \"Empty substring\");",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str) ",
          "old_line_content": "",
          "new_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(heb_str);",
          "old_line_content": "\t\tif (begin<=0) {",
          "new_line_content": "\tefree(heb_str);",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "hp_char_to_str",
          "old_text": null,
          "new_text": "hp_char_to_str(broken_str,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tphp_char_to_str(broken_str,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "PHP_FUNCTION(stripcslashes)",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(broken_str);",
          "old_line_content": "\t\tbegin--;",
          "new_line_content": "\t\tefree(broken_str);",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "val_copy_ctor",
          "old_text": null,
          "new_text": "val_copy_ctor(return_value);",
          "old_line_content": "\t",
          "new_line_content": "\tzval_copy_ctor(return_value);",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": null,
          "new_api": "hp_memnstr",
          "old_text": null,
          "new_text": "hp_memnstr(p, (*needle)->value.str.val, (*needle)->value.str.len, endp))",
          "old_line_content": "\t\t\t\tcount++;",
          "new_line_content": "\t\t\tif( (p = php_memnstr(p, (*needle)->value.str.val, (*needle)->value.str.len, endp)) != NULL ) {",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": null,
          "new_api": "hp_hebrev",
          "old_text": null,
          "new_text": "hp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,0);",
          "old_line_content": "}",
          "new_line_content": "\tphp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,0);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "end_get_parameters_ex",
          "old_text": null,
          "new_text": "end_get_parameters_ex(1, &str) ",
          "old_line_content": "",
          "new_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": null,
          "new_api": "onvert_to_string_ex",
          "old_text": null,
          "new_text": "onvert_to_string_ex(str);",
          "old_line_content": "PHP_FUNCTION(stripslashes)",
          "new_line_content": "\tconvert_to_string_ex(str);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2049,
          "old_api": "hp_hebrev",
          "new_api": null,
          "old_text": "hp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,0);",
          "new_text": null,
          "old_line_content": "\tphp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2568,
          "old_api": "ETURN_LONG",
          "new_api": null,
          "old_text": "ETURN_LONG(count);",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(count);",
          "new_line_content": " * c-basic-offset: 4",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": "hp_hebrev",
          "new_api": null,
          "old_text": "hp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,1);",
          "new_text": null,
          "old_line_content": "\tphp_hebrev(INTERNAL_FUNCTION_PARAM_PASSTHRU,1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "val_copy_ctor",
          "new_api": null,
          "old_text": "val_copy_ctor(return_value);",
          "new_text": null,
          "old_line_content": "\tzval_copy_ctor(return_value);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "hp_stripslashes",
          "new_api": null,
          "old_text": "hp_stripslashes(return_value->value.str.val,&return_value->value.str.len);",
          "new_text": null,
          "old_line_content": "\tphp_stripslashes(return_value->value.str.val,&return_value->value.str.len);",
          "new_line_content": "\textern int sys_nerr;",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "LS_FETCH",
          "new_api": null,
          "old_text": "LS_FETCH();",
          "new_text": null,
          "old_line_content": "\tBLS_FETCH();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(1, &str)=",
          "new_text": null,
          "old_line_content": "\tif (ARG_COUNT(ht)!=1 || zend_get_parameters_ex(1, &str)==FAILURE) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "G",
          "new_api": null,
          "old_text": "G(str_ebuf),",
          "new_text": null,
          "old_line_content": "\t(void)sprintf(BG(str_ebuf), \"Unknown error: %d\", errnum);",
          "new_line_content": "\tchar *source,*target,*end;",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "G",
          "new_api": null,
          "old_text": "G(str_ebuf))",
          "new_text": null,
          "old_line_content": "\treturn(BG(str_ebuf));",
          "new_line_content": "\tint  nlen = *len, i;",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "   Strips HTML and PHP tags from a string */",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "hp_char_to_str",
          "new_api": null,
          "old_text": "hp_char_to_str((*str)->value.str.val,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "new_text": null,
          "old_line_content": "\tphp_char_to_str((*str)->value.str.val,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(1, &str)=",
          "new_text": null,
          "old_line_content": "\t\t\tif(zend_get_parameters_ex(1, &str)==FAILURE) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "sxdigit",
          "new_api": null,
          "old_text": "sxdigit((int)(*(source+1))))",
          "new_text": null,
          "old_line_content": "\t\t\t\tcase 'x': if (source+1<end && isxdigit((int)(*(source+1)))) {",
          "new_line_content": "\t\t\t\t\t\t\tnumtmp[1] = '\\0';",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(2, &str, &allow)=",
          "new_text": null,
          "old_line_content": "\t\t\tif(zend_get_parameters_ex(2, &str, &allow)==FAILURE) {",
          "new_line_content": "\t\tdefault:",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "sxdigit",
          "new_api": null,
          "old_text": "sxdigit((int)(*(source+1))))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif (source+1<end && isxdigit((int)(*(source+1)))) {",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(allow);",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_string_ex(allow);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "trtol",
          "new_api": null,
          "old_text": "trtol(numtmp, NULL, 16);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t*target++=(char)strtol(numtmp, NULL, 16);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "/* {{{ proto string setlocale(string category, string locale)",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "strndup",
          "new_api": null,
          "old_text": "strndup((*str)->value.str.val,(*str)->value.str.len);",
          "new_text": null,
          "old_line_content": "\tbuf = estrndup((*str)->value.str.val,(*str)->value.str.len);",
          "new_line_content": "   Set locale information */",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "hp_strip_tags",
          "new_api": null,
          "old_text": "hp_strip_tags(buf, (*str)->value.str.len, 0, allowed_tags, allowed_tags_len);",
          "new_text": null,
          "old_line_content": "\tphp_strip_tags(buf, (*str)->value.str.len, 0, allowed_tags, allowed_tags_len);",
          "new_line_content": "PHP_FUNCTION(setlocale)",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "ETURN_STRING",
          "new_api": null,
          "old_text": "ETURN_STRING(buf, 0);",
          "new_text": null,
          "old_line_content": "\tRETURN_STRING(buf, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "trtol",
          "new_api": null,
          "old_text": "trtol(numtmp, NULL, 8);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t*target++=(char)strtol(numtmp, NULL, 8);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "LS_FETCH",
          "new_api": null,
          "old_text": "LS_FETCH();",
          "new_text": null,
          "old_line_content": "\tBLS_FETCH();",
          "new_line_content": "\tcategory = *pcategory;",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(pcategory);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(pcategory);",
          "new_line_content": "\t\tcat = LC_COLLATE;",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "trcasecmp (\"LC_ALL\", category->value.str.val))",
          "new_api": null,
          "old_text": "trcasecmp (\"LC_ALL\", category->value.str.val))",
          "new_text": null,
          "old_line_content": "\tif (!strcasecmp (\"LC_ALL\", category->value.str.val))",
          "new_line_content": "\t\tcat = LC_MONETARY;",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "trcasecmp (\"LC_COLLATE\", category->value.str.val))",
          "new_api": null,
          "old_text": "trcasecmp (\"LC_COLLATE\", category->value.str.val))",
          "new_text": null,
          "old_line_content": "\telse if (!strcasecmp (\"LC_COLLATE\", category->value.str.val))",
          "new_line_content": "\t\tcat = LC_NUMERIC;",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": "trcasecmp (\"LC_CTYPE\", category->value.str.val))",
          "new_api": null,
          "old_text": "trcasecmp (\"LC_CTYPE\", category->value.str.val))",
          "new_text": null,
          "old_line_content": "\telse if (!strcasecmp (\"LC_CTYPE\", category->value.str.val))",
          "new_line_content": "\t\tcat = LC_TIME;",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "trcasecmp (\"LC_NUMERIC\", category->value.str.val))",
          "new_api": null,
          "old_text": "trcasecmp (\"LC_NUMERIC\", category->value.str.val))",
          "new_text": null,
          "old_line_content": "\telse if (!strcasecmp (\"LC_NUMERIC\", category->value.str.val))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": "trcasecmp (\"LC_TIME\", category->value.str.val))",
          "new_api": null,
          "old_text": "trcasecmp (\"LC_TIME\", category->value.str.val))",
          "new_text": null,
          "old_line_content": "\telse if (!strcasecmp (\"LC_TIME\", category->value.str.val))",
          "new_line_content": "\t\tloc = NULL;",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": "trcmp (\"0\", locale->value.str.val))",
          "new_api": null,
          "old_text": "trcmp (\"0\", locale->value.str.val))",
          "new_text": null,
          "old_line_content": "\tif (!strcmp (\"0\", locale->value.str.val))",
          "new_line_content": "\t\tif (loc) {",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "trlen",
          "new_api": null,
          "old_text": "trlen(str);",
          "new_text": null,
          "old_line_content": "\t\tlength = strlen(str);",
          "new_line_content": "\t\t\tsource+=3;",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "emset",
          "new_api": null,
          "old_text": "emset(flags, '\\0', sizeof(flags));",
          "new_text": null,
          "old_line_content": "\tmemset(flags, '\\0', sizeof(flags));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "etlocale (cat, loc);",
          "new_api": null,
          "old_text": "etlocale (cat, loc);",
          "new_text": null,
          "old_line_content": "\tretval = setlocale (cat, loc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "emset",
          "new_api": null,
          "old_text": "emset(flags+c, 1, (unsigned char)*(source+3)-(unsigned char)c+1);",
          "new_text": null,
          "old_line_content": "\t\t\tmemset(flags+c, 1, (unsigned char)*(source+3)-(unsigned char)c+1);",
          "new_line_content": "\t\tif (flags[(unsigned char)c]) {",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "G",
          "new_api": null,
          "old_text": "G(locale_string))",
          "new_text": null,
          "old_line_content": "\t\t\tSTR_FREE(BG(locale_string));",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(retval);",
          "new_text": null,
          "old_line_content": "\t\t\tBG(locale_string) = estrdup(retval);",
          "new_line_content": "\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "ETVAL_STRING",
          "new_api": null,
          "old_text": "ETVAL_STRING(retval,1);",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STRING(retval,1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(1, &str) ",
          "new_text": null,
          "old_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "new_line_content": "\t\tWRONG_PARAM_COUNT;",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(target, \"%03o\", (unsigned char)c);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdefault: target += sprintf(target, \"%03o\", (unsigned char)c);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "LS_FETCH",
          "new_api": null,
          "old_text": "LS_FETCH();",
          "new_text": null,
          "old_line_content": "\tPLS_FETCH();",
          "new_line_content": "\tif ((*arg)->value.str.val && *(*arg)->value.str.val) {",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(1, &arg) ",
          "new_text": null,
          "old_line_content": "\tif (zend_get_parameters_ex(1, &arg) == FAILURE) {",
          "new_line_content": "\tphp_treat_data(PARSE_STRING, res ELS_CC PLS_CC SLS_CC);",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(arg);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "val_copy_ctor",
          "new_api": null,
          "old_text": "val_copy_ctor(return_value);",
          "new_text": null,
          "old_line_content": "\tzval_copy_ctor(return_value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "strndup",
          "new_api": null,
          "old_text": "strndup((*arg)->value.str.val,(*arg)->value.str.len);",
          "new_text": null,
          "old_line_content": "\t\tres = estrndup((*arg)->value.str.val,(*arg)->value.str.len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "realloc",
          "new_api": null,
          "old_text": "realloc(new_str, newlen+1);",
          "new_text": null,
          "old_line_content": "\t\tnew_str = erealloc(new_str, newlen+1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "oupper",
          "new_api": null,
          "old_text": "oupper((unsigned char)*r);",
          "new_text": null,
          "old_line_content": "\t\t\t*r = toupper((unsigned char)*r);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "TR_FREE",
          "new_api": null,
          "old_text": "TR_FREE(str);",
          "new_text": null,
          "old_line_content": "\t\tSTR_FREE(str);",
          "new_line_content": "\t/* maximum string length, worst case situation */",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "sspace",
          "new_api": null,
          "old_text": "sspace(*r))",
          "new_text": null,
          "old_line_content": "\t\tif (isspace(*r)) {",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(len+1);",
          "new_text": null,
          "old_line_content": "\tchar *norm = emalloc(len+1);",
          "new_line_content": "\t   and turn any <a whatever...> into just <a> and any </tag>",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "LS_FETCH",
          "new_api": null,
          "old_text": "LS_FETCH();",
          "new_text": null,
          "old_line_content": "\tPLS_FETCH();",
          "new_line_content": "\tfor (source=str,end=source+length,target=new_str; (c = *source) || source<end; source++) {",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "olower",
          "new_api": null,
          "old_text": "olower(*t);",
          "new_text": null,
          "old_line_content": "\tc = tolower(*t);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "trlen",
          "new_api": null,
          "old_text": "trlen(str))",
          "new_text": null,
          "old_line_content": "\tnew_str = (char *) emalloc((length?length:(length=strlen(str)))*2+1);",
          "new_line_content": "\t\t\tcase '\\'':",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "G",
          "new_api": null,
          "old_text": "G(magic_quotes_sybase))",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (PG(magic_quotes_sybase)) {",
          "new_line_content": "\t\t\tcase '\\\\':",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": "sspace",
          "new_api": null,
          "old_text": "sspace((int)c))",
          "new_text": null,
          "old_line_content": "\t\t\tif(!isspace((int)c)) {",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "G",
          "new_api": null,
          "old_text": "G(magic_quotes_sybase))",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (!PG(magic_quotes_sybase)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": "olower",
          "new_api": null,
          "old_text": "olower(*(++t));",
          "new_text": null,
          "old_line_content": "\t\tc = tolower(*(++t));",
          "new_line_content": "\t\tdone=0;",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "end_hash_get_current_data",
          "new_api": null,
          "old_text": "end_hash_get_current_data(hash, (void **)&entry) ",
          "new_text": null,
          "old_line_content": "\twhile (zend_hash_get_current_data(hash, (void **)&entry) == SUCCESS) {",
          "new_line_content": "\t\t\tbreak; ",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "end_hash_get_current_key",
          "new_api": null,
          "old_text": "end_hash_get_current_key(hash, &string_key, &num_key))",
          "new_text": null,
          "old_line_content": "\t\tswitch (zend_hash_get_current_key(hash, &string_key, &num_key)) {",
          "new_line_content": "\t\t\t",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "trlen",
          "new_api": null,
          "old_text": "trlen(string_key);",
          "new_text": null,
          "old_line_content": "\t\t\tlen = strlen(string_key);",
          "new_line_content": "\t\t\tctmp.type = IS_LONG;",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "trstr",
          "new_api": null,
          "old_text": "trstr(set,norm))",
          "new_text": null,
          "old_line_content": "\tif(strstr(set,norm)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "TR_FREE",
          "new_api": null,
          "old_text": "TR_FREE(str);",
          "new_text": null,
          "old_line_content": "\t\tSTR_FREE(str);",
          "new_line_content": "#define _HEB_BLOCK_TYPE_HEB 2",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(norm);",
          "new_text": null,
          "old_line_content": "\tefree(norm);",
          "new_line_content": "\tnormal html tag and state 2 means we are inside a php tag.",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "onvert_to_string",
          "new_api": null,
          "old_text": "onvert_to_string(&ctmp);",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_string(&ctmp);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "val_dtor",
          "new_api": null,
          "old_text": "val_dtor(&ctmp);",
          "new_text": null,
          "old_line_content": "\t\t\tzval_dtor(&ctmp);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "end_hash_move_forward",
          "new_api": null,
          "old_text": "end_hash_move_forward(hash);",
          "new_text": null,
          "old_line_content": "\t\tzend_hash_move_forward(hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(maxlen+1);",
          "new_text": null,
          "old_line_content": "\tkey = emalloc(maxlen+1);",
          "new_line_content": "\t\t\tmaxlen = slen - pos;",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(8192);",
          "new_text": null,
          "old_line_content": "\tnewstr = emalloc(8192);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "strndup",
          "new_api": null,
          "old_text": "strndup(str,len);",
          "new_text": null,
          "old_line_content": "\t\tresult->value.str.val = estrndup(str,len);",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(key,str+pos,maxlen);",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(key,str+pos,maxlen);",
          "new_line_content": "\t\t\t\tint tlen;",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(result->value.str.len+1);",
          "new_text": null,
          "old_line_content": "\tresult->value.str.val = target = (char *) emalloc(result->value.str.len+1);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": "hp_strtolower",
          "new_api": null,
          "old_text": "hp_strtolower(allow, allow_len);",
          "new_text": null,
          "old_line_content": "\t\tphp_strtolower(allow, allow_len);",
          "new_line_content": "\twhile(i<len) {",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(PHP_TAG_BUF_SIZE+1);",
          "new_text": null,
          "old_line_content": "\t\ttbuf = emalloc(PHP_TAG_BUF_SIZE+1);",
          "new_line_content": "\t\tswitch (c) {",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "val_copy_ctor",
          "new_api": null,
          "old_text": "val_copy_ctor(&tmp);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzval_copy_ctor(&tmp);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "onvert_to_string",
          "new_api": null,
          "old_text": "onvert_to_string(&tmp);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tconvert_to_string(&tmp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "realloc",
          "new_api": null,
          "old_text": "realloc(newstr,newlen);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tnewstr = erealloc(newstr,newlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "emchr",
          "new_api": null,
          "old_text": "emchr(p, *needle, end - p - needle_len + 1))",
          "new_text": null,
          "old_line_content": "\t\t\t(s = memchr(p, *needle, end - p - needle_len + 1)); p = s + 1) {",
          "new_line_content": "PHPAPI char *php_str_to_str(char *haystack, int length, ",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "emcmp",
          "new_api": null,
          "old_text": "emcmp(s, needle, needle_len) ",
          "new_text": null,
          "old_line_content": "\t\tif(memcmp(s, needle, needle_len) == 0)",
          "new_line_content": "\tchar *needle, int needle_len, char *str, int str_len, int *_new_length)",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(newstr+newpos,tval,tlen);",
          "new_text": null,
          "old_line_content": "\t\t\t\tmemcpy(newstr+newpos,tval,tlen);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "val_dtor",
          "new_api": null,
          "old_text": "val_dtor(&tmp);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzval_dtor(&tmp);",
          "new_line_content": "\t\t\tif ((newpos + 1) > newlen) {",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(length);",
          "new_text": null,
          "old_line_content": "\tresult = emalloc(length);",
          "new_line_content": "\t\t\tif(!off) {",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": "hp_memnstr",
          "new_api": null,
          "old_text": "hp_memnstr(p, needle, needle_len, end))",
          "new_text": null,
          "old_line_content": "\t\t\t(r = php_memnstr(p, needle, needle_len, end));) {",
          "new_line_content": "\t\t\tq += off - result;",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "realloc",
          "new_api": null,
          "old_text": "realloc(result, (q - result) + (r - p) + (str_len) + 1);",
          "new_text": null,
          "old_line_content": "\t\toff = erealloc(result, (q - result) + (r - p) + (str_len) + 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(key);",
          "new_text": null,
          "old_line_content": "\tefree(key);",
          "new_line_content": "PHP_FUNCTION(strtr)",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "ETURN_STRINGL",
          "new_api": null,
          "old_text": "ETURN_STRINGL(newstr,newpos,0);",
          "new_text": null,
          "old_line_content": "\tRETURN_STRINGL(newstr,newpos,0);",
          "new_line_content": "\tzval **str, **from, **to;",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": "hp_tag_find",
          "new_api": null,
          "old_text": "hp_tag_find(tbuf, tp-tbuf, allow))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif(php_tag_find(tbuf, tp-tbuf, allow)) {",
          "new_line_content": "\t\t\t\t\tif (!br && lc != '\\\"' && *(p-1)=='?') {",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(rp,tbuf,tp-tbuf);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tmemcpy(rp,tbuf,tp-tbuf);",
          "new_line_content": "\t\t\t\t\t\tstate = 0;",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(q, p, r - p);",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(q, p, r - p);",
          "new_line_content": "\t/* if there is a rest, copy it */",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(q, str, str_len);",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(q, str, str_len);",
          "new_line_content": "\t\ts = (q) + (end - p);",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(ac, &str, &from, &to) ",
          "new_text": null,
          "old_line_content": "\tif (ac < 2 || ac > 3 || zend_get_parameters_ex(ac, &str, &from, &to) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "realloc",
          "new_api": null,
          "old_text": "realloc(result, s - result + 1);",
          "new_text": null,
          "old_line_content": "\t\toff = erealloc(result, s - result + 1);",
          "new_line_content": "\t\t\ts = q + (end - p);",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "ASH_OF",
          "new_api": null,
          "old_text": "ASH_OF(*from))",
          "new_text": null,
          "old_line_content": "\t\tphp_strtr_array(return_value,(*str)->value.str.val,(*str)->value.str.len,HASH_OF(*from));",
          "new_line_content": "\t\t",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(q, p, end - p);",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(q, p, end - p);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(from);",
          "new_text": null,
          "old_line_content": "\t\tconvert_to_string_ex(from);",
          "new_line_content": "\t\t\t\t  return_value->value.str.len,",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(to);",
          "new_text": null,
          "old_line_content": "\t\tconvert_to_string_ex(to);",
          "new_line_content": "\t\t\t\t  (*from)->value.str.val,",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "val_copy_ctor",
          "new_api": null,
          "old_text": "val_copy_ctor(return_value);",
          "new_text": null,
          "old_line_content": "\t\tzval_copy_ctor(return_value);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "hp_strtr",
          "new_api": null,
          "old_text": "hp_strtr(return_value->value.str.val,\n\t\t\t\t  return_value->value.str.len,\n\t\t\t\t  (*from)->value.str.val,\n\t\t\t\t  (*to)->value.str.val,\n\t\t\t\t  MIN((*from)->value.str.len,(*to)->value.str.len));",
          "new_text": null,
          "old_line_content": "\t\tphp_strtr(return_value->value.str.val,",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "IN",
          "new_api": null,
          "old_text": "IN((*from)->value.str.len,(*to)->value.str.len))",
          "new_text": null,
          "old_line_content": "\t\t\t\t  MIN((*from)->value.str.len,(*to)->value.str.len));",
          "new_line_content": "   Reverse a string */",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(3, &needle, &str, &haystack) ",
          "new_text": null,
          "old_line_content": "\t\t\tzend_get_parameters_ex(3, &needle, &str, &haystack) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(haystack);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(haystack);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(needle);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(needle);",
          "new_line_content": "\tif((*needle)->value.str.len == 1) {",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "ETURN_STRING",
          "new_api": null,
          "old_text": "ETURN_STRING(empty_string,1);",
          "new_text": null,
          "old_line_content": "\t\tRETURN_STRING(empty_string,1);",
          "new_line_content": "\t\t\t\t\t\t(*str)->value.str.val,",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "\tfor (i=0; i<len-1-i; i++) {",
          "content_same": false
        },
        {
          "line": 2368,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf);",
          "new_text": null,
          "old_line_content": "\tefree(buf);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(tbuf);",
          "new_text": null,
          "old_line_content": "\tif(allow) efree(tbuf);",
          "new_line_content": "\tzval\t\t**input_str;\t\t/* Input string */",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "val_copy_ctor",
          "new_api": null,
          "old_text": "val_copy_ctor(return_value);",
          "new_text": null,
          "old_line_content": "\tzval_copy_ctor(return_value);",
          "new_line_content": "\t\treturn_value->value.str.val[len-1-i]=c;",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "hp_char_to_str",
          "new_api": null,
          "old_text": "hp_char_to_str((*haystack)->value.str.val,\n\t\t\t\t\t\t(*haystack)->value.str.len,\n\t\t\t\t\t\t(*needle)->value.str.val[0],\n\t\t\t\t\t\t(*str)->value.str.val,\n\t\t\t\t\t\t(*str)->value.str.len,\n\t\t\t\t\t\treturn_value);",
          "new_text": null,
          "old_line_content": "\t\tphp_char_to_str((*haystack)->value.str.val,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(2, &input_str, &mult) ",
          "new_text": null,
          "old_line_content": "\tif (ARG_COUNT(ht) != 2 || zend_get_parameters_ex(2, &input_str, &mult) == FAILURE) {",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "hp_str_to_str",
          "new_api": null,
          "old_text": "hp_str_to_str((*haystack)->value.str.val, (*haystack)->value.str.len,\n\t\t\t\t\t\t (*needle)->value.str.val, (*needle)->value.str.len,\n\t\t\t\t\t\t (*str)->value.str.val, (*str)->value.str.len, &len);",
          "new_text": null,
          "old_line_content": "\tresult = php_str_to_str((*haystack)->value.str.val, (*haystack)->value.str.len,",
          "new_line_content": "/* Converts Logical Hebrew text (Hebrew Windows style) to Visual text",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "ETURN_STRINGL",
          "new_api": null,
          "old_text": "ETURN_STRINGL(result, len, 0);",
          "new_text": null,
          "old_line_content": "\tRETURN_STRINGL(result, len, 0);",
          "new_line_content": "static void php_hebrev(INTERNAL_FUNCTION_PARAMETERS,int convert_newlines)",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(input_str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(input_str);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "onvert_to_long_ex",
          "new_api": null,
          "old_text": "onvert_to_long_ex(mult);",
          "new_text": null,
          "old_line_content": "\tconvert_to_long_ex(mult);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "et_active_function_name",
          "new_api": null,
          "old_text": "et_active_function_name())",
          "new_text": null,
          "old_line_content": "\t\t\t\t  get_active_function_name());",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": "ETURN_STRINGL",
          "new_api": null,
          "old_text": "ETURN_STRINGL(empty_string, 0, 1);",
          "new_text": null,
          "old_line_content": "\t\tRETURN_STRINGL(empty_string, 0, 1);",
          "new_line_content": "\tfor (i=0; i<(*mult)->value.lval; i++) {",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(result_len + 1);",
          "new_text": null,
          "old_line_content": "\tresult = (char *)emalloc(result_len + 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(1, &str)=",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_get_parameters_ex(1, &str)==FAILURE) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": "emcpy",
          "new_api": null,
          "old_text": "emcpy(result + (*input_str)->value.str.len * i,\n\t\t\t   (*input_str)->value.str.val,\n\t\t\t   (*input_str)->value.str.len);",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(result + (*input_str)->value.str.len * i,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "hp_similar_str",
          "new_api": null,
          "old_text": "hp_similar_str(txt1, len1, txt2, len2, &pos1, &pos2, &max);",
          "new_text": null,
          "old_line_content": "\tphp_similar_str(txt1, len1, txt2, len2, &pos1, &pos2, &max);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(2, &str, &max_chars_per_line)=",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_get_parameters_ex(2, &str, &max_chars_per_line)==FAILURE) {",
          "new_line_content": "\t\t\tWRONG_PARAM_COUNT;",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "ETURN_STRINGL",
          "new_api": null,
          "old_text": "ETURN_STRINGL(result, result_len, 0);",
          "new_text": null,
          "old_line_content": "\tRETURN_STRINGL(result, result_len, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "hp_similar_char",
          "new_api": null,
          "old_text": "hp_similar_char(txt1, pos1, txt2, pos2);",
          "new_text": null,
          "old_line_content": "\t\t\tsum += php_similar_char(txt1, pos1, txt2, pos2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": "onvert_to_long_ex",
          "new_api": null,
          "old_text": "onvert_to_long_ex(max_chars_per_line);",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_long_ex(max_chars_per_line);",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "hp_similar_char",
          "new_api": null,
          "old_text": "hp_similar_char(txt1 + pos1 + max, len1 - pos1 - max, \n\t\t\t\t\t\t\t\t\ttxt2 + pos2 + max, len2 - pos2 - max);",
          "new_text": null,
          "old_line_content": "\t\t\tsum += php_similar_char(txt1 + pos1 + max, len1 - pos1 - max, ",
          "new_line_content": "   Calculates the similarity between two strings */",
          "content_same": false
        },
        {
          "line": 1909,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "\tblock_start=block_end=0;",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "RG_COUNT",
          "new_api": null,
          "old_text": "RG_COUNT(ht);",
          "new_text": null,
          "old_line_content": "\tint ac = ARG_COUNT(ht);",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc((*str)->value.str.len+1);",
          "new_text": null,
          "old_line_content": "\theb_str = (char *) emalloc((*str)->value.str.len+1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(t1);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(t1);",
          "new_line_content": "\t\tif(ac > 2) {",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(t2);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(t2);",
          "new_line_content": "\t\t\t(*percent)->value.dval = 0;",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "onvert_to_long_ex",
          "new_api": null,
          "old_text": "onvert_to_long_ex(mode);",
          "new_text": null,
          "old_line_content": "\t\tconvert_to_long_ex(mode);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "sheb",
          "new_api": null,
          "old_text": "sheb(*tmp))",
          "new_text": null,
          "old_line_content": "\tif (isheb(*tmp)) {",
          "new_line_content": "\t\tif (block_type==_HEB_BLOCK_TYPE_HEB) {",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "ETURN_LONG",
          "new_api": null,
          "old_text": "ETURN_LONG(0);",
          "new_text": null,
          "old_line_content": "\t\tRETURN_LONG(0);",
          "new_line_content": "\t\t(*percent)->value.dval = sim * 200.0 / ((*t1)->value.str.len + (*t2)->value.str.len);",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": "emset",
          "new_api": null,
          "old_text": "emset((void*) chars,0,sizeof(chars));",
          "new_text": null,
          "old_line_content": "\tmemset((void*) chars,0,sizeof(chars));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "spunct",
          "new_api": null,
          "old_text": "spunct((int)*(tmp+1)) ",
          "new_text": null,
          "old_line_content": "\t\t\twhile((isheb((int)*(tmp+1)) || _isblank((int)*(tmp+1)) || ispunct((int)*(tmp+1)) || (int)*(tmp+1)=='\\n' ) && block_end<(*str)->value.str.len-1) {",
          "new_line_content": "\t\t\t\tswitch (*target) {",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "ETURN_LONG",
          "new_api": null,
          "old_text": "ETURN_LONG(sim);",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(sim);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "rray_init",
          "new_api": null,
          "old_text": "rray_init(return_value);",
          "new_text": null,
          "old_line_content": "\t\tarray_init(return_value);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "dd_index_long",
          "new_api": null,
          "old_text": "dd_index_long(return_value,inx,chars[inx]);",
          "new_text": null,
          "old_line_content": "\t\t\tadd_index_long(return_value,inx,chars[inx]);",
          "new_line_content": "  \t\tcase 2:",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "LS_FETCH",
          "new_api": null,
          "old_text": "LS_FETCH();",
          "new_text": null,
          "old_line_content": "\tPLS_FETCH();",
          "new_line_content": "\t\tl = *len;",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "dd_index_long",
          "new_api": null,
          "old_text": "dd_index_long(return_value,inx,chars[inx]);",
          "new_text": null,
          "old_line_content": "\t\t\t\tadd_index_long(return_value,inx,chars[inx]);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "sheb",
          "new_api": null,
          "old_text": "sheb(*(tmp+1)) ",
          "new_text": null,
          "old_line_content": "\t\t\twhile(!isheb(*(tmp+1)) && (int)*(tmp+1)!='\\n' && block_end<(*str)->value.str.len-1) {",
          "new_line_content": "\t\t\t\tblock_end--;",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": "dd_index_long",
          "new_api": null,
          "old_text": "dd_index_long(return_value,inx,chars[inx]);",
          "new_text": null,
          "old_line_content": "\t\t\t\tadd_index_long(return_value,inx,chars[inx]);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "spunct",
          "new_api": null,
          "old_text": "spunct((int)*tmp))",
          "new_text": null,
          "old_line_content": "\t\t\twhile ((_isblank((int)*tmp) || ispunct((int)*tmp)) && *tmp!='/' && *tmp!='-' && block_end>block_start) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "trlen",
          "new_api": null,
          "old_text": "trlen(str);",
          "new_text": null,
          "old_line_content": "\t\tl = strlen(str);",
          "new_line_content": "\t\t\tif (len != NULL)",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc((*str)->value.str.len+1);",
          "new_text": null,
          "old_line_content": "\tbroken_str = (char *) emalloc((*str)->value.str.len+1);",
          "new_line_content": "\t\t\tchar_count++;",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "ETURN_STRINGL",
          "new_api": null,
          "old_text": "ETURN_STRINGL(retstr,retlen,1);",
          "new_text": null,
          "old_line_content": "\t\tRETURN_STRINGL(retstr,retlen,1);",
          "new_line_content": "\tzval **s1, **s2;",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "isnewline",
          "new_api": null,
          "old_text": "isnewline(heb_str[begin]))",
          "new_text": null,
          "old_line_content": "\t\t\tif (begin<=0 || _isnewline(heb_str[begin])) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": "isnewline",
          "new_api": null,
          "old_text": "isnewline(heb_str[begin-1]))",
          "new_text": null,
          "old_line_content": "\t\t\t\twhile(begin>0 && _isnewline(heb_str[begin-1])) {",
          "new_line_content": "\t\tif (char_count==max_chars) { /* try to avoid breaking words */",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(s1);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(s1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(s2);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(s2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": "trnatcmp_ex",
          "new_api": null,
          "old_text": "trnatcmp_ex((*s1)->value.str.val, (*s1)->value.str.len,\n\t\t\t\t\t\t\t (*s2)->value.str.val, (*s2)->value.str.len,\n\t\t\t\t\t\t\t fold_case))",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(strnatcmp_ex((*s1)->value.str.val, (*s1)->value.str.len,",
          "new_line_content": "   Returns the result of string comparison using 'natural' algorithm */",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "isnewline",
          "new_api": null,
          "old_text": "isnewline(heb_str[new_begin]))",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (_isblank(heb_str[new_begin]) || _isnewline(heb_str[new_begin])) {",
          "new_line_content": "\t\t\t\tchar_count=new_char_count;",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": "hp_strnatcmp",
          "new_api": null,
          "old_text": "hp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "new_text": null,
          "old_line_content": "\tphp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "new_line_content": "PHP_FUNCTION(strnatcasecmp)",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(2, &str, &what) ",
          "new_text": null,
          "old_line_content": "\tif (ARG_COUNT(ht) != 2 || zend_get_parameters_ex(2, &str, &what) == FAILURE) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "/* {{{ proto string addslashes(string str)",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(what);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(what);",
          "new_line_content": "   Escape single quote, double quotes and backslash characters in a string with backslashes */",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "hp_addcslashes",
          "new_api": null,
          "old_text": "hp_addcslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0,(*what)->value.str.val,(*what)->value.str.len);",
          "new_text": null,
          "old_line_content": "\treturn_value->value.str.val = php_addcslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0,(*what)->value.str.val,(*what)->value.str.len);",
          "new_line_content": "PHP_FUNCTION(addslashes)",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "isblank",
          "new_api": null,
          "old_text": "isblank(heb_str[begin]))",
          "new_text": null,
          "old_line_content": "\t\tif (_isblank(heb_str[begin])) {",
          "new_line_content": "\t\t\t*target = heb_str[i];",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "hp_strnatcmp",
          "new_api": null,
          "old_text": "hp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "new_text": null,
          "old_line_content": "\tphp_strnatcmp(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "new_line_content": "PHP_FUNCTION(substr_count)",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(1, &str) ",
          "new_text": null,
          "old_line_content": "\tif (ARG_COUNT(ht) != 1 || zend_get_parameters_ex(1, &str) == FAILURE) {",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "isnewline",
          "new_api": null,
          "old_text": "isnewline(heb_str[i]);",
          "new_text": null,
          "old_line_content": "\t\tfor (i=orig_begin; i<=end && _isnewline(heb_str[i]); i++) {",
          "new_line_content": "\t\t\t*target = 0;",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "   Strip backslashes from a string. Uses C-style conventions */",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "hp_addslashes",
          "new_api": null,
          "old_text": "hp_addslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0);",
          "new_text": null,
          "old_line_content": "\treturn_value->value.str.val = php_addslashes((*str)->value.str.val,(*str)->value.str.len,&return_value->value.str.len,0);",
          "new_line_content": "PHP_FUNCTION(stripcslashes)",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": "end_get_parameters_ex",
          "new_api": null,
          "old_text": "end_get_parameters_ex(2, &haystack, &needle) ",
          "new_text": null,
          "old_line_content": "\tif (ARG_COUNT(ht) != 2 || zend_get_parameters_ex(2, &haystack, &needle) == FAILURE) {",
          "new_line_content": "\tif ((*needle)->value.str.len == 0) {",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(haystack);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(haystack);",
          "new_line_content": "\t\t/* Special optimized case to avoid calls to php_memnstr(). */",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(needle);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(needle);",
          "new_line_content": "\t\tfor (i = 0, p = (*haystack)->value.str.val, ",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "hp_error",
          "new_api": null,
          "old_text": "hp_error(E_WARNING, \"Empty substring\");",
          "new_text": null,
          "old_line_content": "\t\tphp_error(E_WARNING, \"Empty substring\");",
          "new_line_content": "\t\t\tif (p[i] == cmp) {",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(heb_str);",
          "new_text": null,
          "old_line_content": "\tefree(heb_str);",
          "new_line_content": "\t\treturn_value->value.str.len = (*str)->value.str.len;",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": "hp_char_to_str",
          "new_api": null,
          "old_text": "hp_char_to_str(broken_str,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "new_text": null,
          "old_line_content": "\t\tphp_char_to_str(broken_str,(*str)->value.str.len,'\\n',\"<br>\\n\",5,return_value);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "onvert_to_string_ex",
          "new_api": null,
          "old_text": "onvert_to_string_ex(str);",
          "new_text": null,
          "old_line_content": "\tconvert_to_string_ex(str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(broken_str);",
          "new_text": null,
          "old_line_content": "\t\tefree(broken_str);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "val_copy_ctor",
          "new_api": null,
          "old_text": "val_copy_ctor(return_value);",
          "new_text": null,
          "old_line_content": "\tzval_copy_ctor(return_value);",
          "new_line_content": "PHP_FUNCTION(stripslashes)",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "hp_stripcslashes",
          "new_api": null,
          "old_text": "hp_stripcslashes(return_value->value.str.val,&return_value->value.str.len);",
          "new_text": null,
          "old_line_content": "\tphp_stripcslashes(return_value->value.str.val,&return_value->value.str.len);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": "hp_memnstr",
          "new_api": null,
          "old_text": "hp_memnstr(p, (*needle)->value.str.val, (*needle)->value.str.len, endp))",
          "new_text": null,
          "old_line_content": "\t\t\tif( (p = php_memnstr(p, (*needle)->value.str.val, (*needle)->value.str.len, endp)) != NULL ) {",
          "new_line_content": "\t}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 32,
      "total_additions": 175,
      "total_deletions": 174,
      "total_api_changes": 381
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 381,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          1154,
          1156,
          1160,
          1161,
          1163,
          1164,
          1165,
          1142
        ]
      }
    },
    "api_calls_before": 470,
    "api_calls_after": 471,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 13,
      "total_diff_lines": 39
    }
  }
}