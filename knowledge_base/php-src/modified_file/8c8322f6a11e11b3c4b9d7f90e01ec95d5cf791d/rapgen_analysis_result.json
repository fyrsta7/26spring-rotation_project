{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/8c8322f6a11e11b3c4b9d7f90e01ec95d5cf791d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/8c8322f6a11e11b3c4b9d7f90e01ec95d5cf791d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/8c8322f6a11e11b3c4b9d7f90e01ec95d5cf791d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/8c8322f6a11e11b3c4b9d7f90e01ec95d5cf791d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 1093,
          "old_api": "end_string_tolower",
          "new_api": "end_hash_find_ptr_lc",
          "old_text": "end_string_tolower(method_name);",
          "new_text": "end_hash_find_ptr_lc(&ce->function_table, method_name);",
          "old_line_content": "\tzend_string *lc_name = zend_string_tolower(method_name);",
          "new_line_content": "\tzend_function *method_ptr = zend_hash_find_ptr_lc(&ce->function_table, method_name);",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "HP_XML_CHECK_NEW_THIS_METHODS",
          "new_api": "BJ_RELEASE",
          "old_text": "HP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, endNamespaceDeclHandler, \"xml_set_end_namespace_decl_handler()\");",
          "new_text": "BJ_RELEASE(parser->object);",
          "old_line_content": "\t\tPHP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, endNamespaceDeclHandler, \"xml_set_end_namespace_decl_handler()\");",
          "new_line_content": "\t\tOBJ_RELEASE(parser->object);",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "end_release_fcall_info_cache",
          "new_api": "END_NUM_ARGS",
          "old_text": "end_release_fcall_info_cache(&end_fcc);",
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzend_release_fcall_info_cache(&end_fcc);",
          "new_line_content": "\tif (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OF!S\", &pind, xml_parser_ce, &start_fci, &start_fcc, &end_method_name) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "_XMLPARSER_P",
          "new_api": "hp_xml_check_string_method_arg",
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": "hp_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "old_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tbool status = php_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "hp_xml_check_string_method_arg",
          "new_api": "end_release_fcall_info_cache",
          "old_text": "hp_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "new_text": "end_release_fcall_info_cache(&start_fcc);",
          "old_line_content": "\t\tbool status = php_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "new_line_content": "\t\t\tzend_release_fcall_info_cache(&start_fcc);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "end_release_fcall_info_cache",
          "new_api": "ETURN_THROWS",
          "old_text": "end_release_fcall_info_cache(&start_fcc);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\tzend_release_fcall_info_cache(&start_fcc);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "ETURN_THROWS",
          "new_api": "END_NUM_ARGS",
          "old_text": "ETURN_THROWS();",
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t} else if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OSF!\", &pind, xml_parser_ce, &start_method_name, &end_fci, &end_fcc) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "_XMLPARSER_P",
          "new_api": "hp_xml_check_string_method_arg",
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": "hp_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "old_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tbool status = php_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "hp_xml_check_string_method_arg",
          "new_api": "end_release_fcall_info_cache",
          "old_text": "hp_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "new_text": "end_release_fcall_info_cache(&start_fcc);",
          "old_line_content": "\t\tbool status = php_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "new_line_content": "\t\t\tzend_release_fcall_info_cache(&start_fcc);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "end_release_fcall_info_cache",
          "new_api": "ETURN_THROWS",
          "old_text": "end_release_fcall_info_cache(&start_fcc);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\tzend_release_fcall_info_cache(&start_fcc);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "ETURN_THROWS",
          "new_api": "END_NUM_ARGS",
          "old_text": "ETURN_THROWS();",
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t} else if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OSS\", &pind, xml_parser_ce, &start_method_name, &end_method_name) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "END_NUM_ARGS",
          "new_api": "end_release_fcall_info_cache",
          "old_text": "END_NUM_ARGS(),",
          "new_text": "end_release_fcall_info_cache(&end_fcc);",
          "old_line_content": "\t} else if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OSS\", &pind, xml_parser_ce, &start_method_name, &end_method_name) == SUCCESS) {",
          "new_line_content": "\t\tzend_release_fcall_info_cache(&end_fcc);",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "end_release_fcall_info_cache",
          "new_api": "_XMLPARSER_P",
          "old_text": "end_release_fcall_info_cache(&end_fcc);",
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t\tzend_release_fcall_info_cache(&end_fcc);",
          "new_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "_XMLPARSER_P",
          "new_api": "hp_xml_check_string_method_arg",
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": "hp_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "old_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tbool status = php_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "hp_xml_check_string_method_arg",
          "new_api": "ETURN_THROWS",
          "old_text": "hp_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tbool status = php_xml_check_string_method_arg(2, parser->object, start_method_name, &start_fcc);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "ETURN_THROWS",
          "new_api": "hp_xml_check_string_method_arg",
          "old_text": "ETURN_THROWS();",
          "new_text": "hp_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\tstatus = php_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "hp_xml_check_string_method_arg",
          "new_api": "ETURN_THROWS",
          "old_text": "hp_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tstatus = php_xml_check_string_method_arg(3, parser->object, end_method_name, &end_fcc);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "end_release_fcall_info_cache",
          "new_api": "END_NUM_ARGS",
          "old_text": "end_release_fcall_info_cache(&start_fcc);",
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\t\tzend_release_fcall_info_cache(&start_fcc);",
          "new_line_content": "\t\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Ozz\", &pind, xml_parser_ce, &dummy_start, &dummy_end) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "end_release_fcall_info_cache",
          "new_api": "ETURN_THROWS",
          "old_text": "end_release_fcall_info_cache(&end_fcc);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tzend_release_fcall_info_cache(&end_fcc);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "ETURN_THROWS",
          "new_api": "_TYPE_P",
          "old_text": "ETURN_THROWS();",
          "new_text": "_TYPE_P(dummy_start))",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tswitch (Z_TYPE_P(dummy_start)) {",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "ETURN_THROWS",
          "new_api": "end_argument_type_error",
          "old_text": "ETURN_THROWS();",
          "new_text": "end_argument_type_error(3, \"must be of type callable|string|null\");",
          "old_line_content": "\t\t\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tzend_argument_type_error(3, \"must be of type callable|string|null\");",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "ml_set_handler",
          "new_api": "ML_SetElementHandler",
          "old_text": "ml_set_handler(&parser->startElementHandler, &start_fcc);",
          "new_text": "ML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "old_line_content": "\txml_set_handler(&parser->startElementHandler, &start_fcc);",
          "new_line_content": "\tXML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "END_NUM_ARGS",
          "new_api": "END_FCI_INITIALIZED",
          "old_text": "END_NUM_ARGS(),",
          "new_text": "END_FCI_INITIALIZED(handler_fci))",
          "old_line_content": "\tif (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OF!\", &pind, xml_parser_ce, &handler_fci, &handler_fcc) == SUCCESS) {",
          "new_line_content": "\t\tif (!ZEND_FCI_INITIALIZED(handler_fci)) {",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "emcpy",
          "new_api": "_XMLPARSER_P",
          "old_text": "emcpy(parser_handler_fcc, &handler_fcc, sizeof(zend_fcall_info_cache));",
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t\tmemcpy(parser_handler_fcc, &handler_fcc, sizeof(zend_fcall_info_cache));",
          "new_line_content": "\t\t*parser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "_XMLPARSER_P",
          "new_api": "hp_xml_check_string_method_arg",
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": "hp_xml_check_string_method_arg(2, (*parser)->object, method_name, parser_handler_fcc);",
          "old_line_content": "\t\t*parser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tbool status = php_xml_check_string_method_arg(2, (*parser)->object, method_name, parser_handler_fcc);",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "hp_xml_check_string_method_arg",
          "new_api": "ETURN_THROWS",
          "old_text": "hp_xml_check_string_method_arg(2, (*parser)->object, method_name, parser_handler_fcc);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tbool status = php_xml_check_string_method_arg(2, (*parser)->object, method_name, parser_handler_fcc);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": "ETURN_THROWS",
          "new_api": "end_argument_type_error",
          "old_text": "ETURN_THROWS();",
          "new_text": "end_argument_type_error(2, \"must be of type callable|string|null\");",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\tzend_argument_type_error(2, \"must be of type callable|string|null\");",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "_XMLPARSER_P",
          "new_api": "end_throw_error",
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": "end_throw_error(NULL, \"Parser must not be called recursively\");",
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tzend_throw_error(NULL, \"Parser must not be called recursively\");",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": "ETURN_THROWS",
          "new_api": "ml_parse_helper",
          "old_text": "ETURN_THROWS();",
          "new_text": "ml_parse_helper(parser, data, data_len, isFinal))",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tRETURN_LONG(xml_parse_helper(parser, data, data_len, isFinal));",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "end_try_array_init",
          "new_api": "ETURN_THROWS",
          "old_text": "end_try_array_init(info);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tinfo = zend_try_array_init(info);",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "end_try_array_init",
          "new_api": "ETURN_THROWS",
          "old_text": "end_try_array_init(xdata);",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\txdata = zend_try_array_init(xdata);",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "ml_parser_free_ltags",
          "new_api": "emset",
          "old_text": "ml_parser_free_ltags(parser);",
          "new_text": "emset(parser->ltags, 0, XML_MAXLEVEL * sizeof(char *));",
          "old_line_content": "\txml_parser_free_ltags(parser);",
          "new_line_content": "\tmemset(parser->ltags, 0, XML_MAXLEVEL * sizeof(char *));",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "emset",
          "new_api": "ML_SetElementHandler",
          "old_text": "emset(parser->ltags, 0, XML_MAXLEVEL * sizeof(char *));",
          "new_text": "ML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "old_line_content": "\tmemset(parser->ltags, 0, XML_MAXLEVEL * sizeof(char *));",
          "new_line_content": "\tXML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "ML_SetCharacterDataHandler",
          "new_api": "ml_parse_helper",
          "old_text": "ML_SetCharacterDataHandler(parser->parser, _xml_characterDataHandler);",
          "new_text": "ml_parse_helper(parser, data, data_len, true))",
          "old_line_content": "\tXML_SetCharacterDataHandler(parser->parser, _xml_characterDataHandler);",
          "new_line_content": "\tRETURN_LONG(xml_parse_helper(parser, data, data_len, true));",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "ML_ErrorString",
          "new_api": "ETVAL_STRING",
          "old_text": "ML_ErrorString((int)code);",
          "new_text": "ETVAL_STRING(str);",
          "old_line_content": "\tstr = (char *)XML_ErrorString((int)code);",
          "new_line_content": "\t\tRETVAL_STRING(str);",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "_XMLPARSER_P",
          "new_api": "hp_error_docref",
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": "hp_error_docref(NULL, E_WARNING, \"Parser cannot be freed while it is parsing\");",
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Parser cannot be freed while it is parsing\");",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "_TYPE_P",
          "new_api": "hp_error_docref",
          "old_text": "_TYPE_P(value) ",
          "new_text": "hp_error_docref(NULL, E_WARNING,\n\t\t\t\"Argument #3 ($value) must be of type string|int|bool, %s given\", zend_zval_type_name(value));",
          "old_line_content": "\tif (Z_TYPE_P(value) != IS_FALSE && Z_TYPE_P(value) != IS_TRUE &&",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING,",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "_TYPE_P",
          "new_api": "end_zval_type_name",
          "old_text": "_TYPE_P(value) ",
          "new_text": "end_zval_type_name(value))",
          "old_line_content": "\t\tZ_TYPE_P(value) != IS_LONG && Z_TYPE_P(value) != IS_STRING) {",
          "new_line_content": "\t\t\t\"Argument #3 ($value) must be of type string|int|bool, %s given\", zend_zval_type_name(value));",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "NEXPECTED",
          "new_api": "ETURN_THROWS",
          "old_text": "NEXPECTED(parser->isparsing))",
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\tif (UNEXPECTED(parser->isparsing)) {",
          "new_line_content": "\t\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": "ETURN_THROWS",
          "new_api": "end_is_true",
          "old_text": "ETURN_THROWS();",
          "new_text": "end_is_true(value);",
          "old_line_content": "\t\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tparser->parsehuge = zend_is_true(value);",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "_STRVAL_P",
          "new_api": "end_argument_value_error",
          "old_text": "_STRVAL_P(value))",
          "new_text": "end_argument_value_error(3, \"is not a supported target encoding\");",
          "old_line_content": "\t\t\tenc = xml_get_encoding((XML_Char*)Z_STRVAL_P(value));",
          "new_line_content": "\t\t\t\tzend_argument_value_error(3, \"is not a supported target encoding\");",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1540,
          "old_api": null,
          "new_api": "end_argument_value_error",
          "old_text": null,
          "new_text": "end_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tzend_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzend_long opt;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Ol\", &pind, xml_parser_ce, &opt) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "ETURN_BOOL",
          "old_text": null,
          "new_text": "ETURN_BOOL(parser->case_folding);",
          "old_line_content": "\tswitch (opt) {",
          "new_line_content": "\t\t\tRETURN_BOOL(parser->case_folding);",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": null,
          "new_api": "ETURN_LONG",
          "old_text": null,
          "new_text": "ETURN_LONG(parser->toffset);",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tRETURN_LONG(parser->toffset);",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "ETURN_BOOL",
          "old_text": null,
          "new_text": "ETURN_BOOL(parser->skipwhite);",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tRETURN_BOOL(parser->skipwhite);",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": null,
          "new_api": "ETURN_BOOL",
          "old_text": null,
          "new_text": "ETURN_BOOL(parser->parsehuge);",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tRETURN_BOOL(parser->parsehuge);",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "ETURN_STRING",
          "old_text": null,
          "new_text": "ETURN_STRING((char *)parser->target_encoding);",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tRETURN_STRING((char *)parser->target_encoding);",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "end_argument_value_error",
          "old_text": null,
          "new_text": "end_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tzend_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "STR_VAL",
          "old_text": null,
          "new_text": "STR_VAL(method_name))",
          "old_line_content": "\tif (!method_ptr) {",
          "new_line_content": "\t\t\tzend_argument_value_error(arg_num, \"method %s::%s() does not exist\", ZSTR_VAL(ce->name), ZSTR_VAL(method_name));",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzend_object *new_this;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Oo\", &pind, xml_parser_ce, &mythis) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "_OBJ_P",
          "old_text": null,
          "new_text": "_OBJ_P(mythis);",
          "old_line_content": "",
          "new_line_content": "\tnew_this = Z_OBJ_P(mythis);",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "HP_XML_CHECK_NEW_THIS_METHODS",
          "old_text": null,
          "new_text": "HP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, startElementHandler, \"xml_set_element_handler()\");",
          "old_line_content": "",
          "new_line_content": "\t\tPHP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, startElementHandler, \"xml_set_element_handler()\");",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "HP_XML_CHECK_NEW_THIS_METHODS",
          "old_text": null,
          "new_text": "HP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, endElementHandler, \"xml_set_element_handler()\");",
          "old_line_content": "\tif (parser->object) {",
          "new_line_content": "\t\tPHP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, endElementHandler, \"xml_set_element_handler()\");",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "C_ADDREF",
          "old_text": null,
          "new_text": "C_ADDREF(parser->object);",
          "old_line_content": "",
          "new_line_content": "\tGC_ADDREF(parser->object);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzend_string *end_method_name = NULL;",
          "new_line_content": "\tif (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OF!F!\", &pind, xml_parser_ce, &start_fci, &start_fcc, &end_fci, &end_fcc) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "",
          "new_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&start_fcc);",
          "old_line_content": "\t\tgoto set_handlers;",
          "new_line_content": "\tzend_release_fcall_info_cache(&start_fcc);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&end_fcc);",
          "old_line_content": "\t}",
          "new_line_content": "\tzend_release_fcall_info_cache(&end_fcc);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "",
          "new_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&end_fcc);",
          "old_line_content": "\t\tif (status == false) {",
          "new_line_content": "\t\t\tzend_release_fcall_info_cache(&end_fcc);",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&end_fcc);",
          "old_line_content": "\t\tif (status == false) {",
          "new_line_content": "\t\t\tzend_release_fcall_info_cache(&end_fcc);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&start_fcc);",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tzend_release_fcall_info_cache(&start_fcc);",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&start_fcc);",
          "old_line_content": "\t\tzval *dummy_end;",
          "new_line_content": "\t\tzend_release_fcall_info_cache(&start_fcc);",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "end_release_fcall_info_cache",
          "old_text": null,
          "new_text": "end_release_fcall_info_cache(&end_fcc);",
          "old_line_content": "",
          "new_line_content": "\t\tzend_release_fcall_info_cache(&end_fcc);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "end_argument_type_error",
          "old_text": null,
          "new_text": "end_argument_type_error(2, \"must be of type callable|string|null\");",
          "old_line_content": "\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tzend_argument_type_error(2, \"must be of type callable|string|null\");",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\t\tdefault:",
          "new_line_content": "\t\t\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": null,
          "new_api": "ml_set_handler",
          "old_text": null,
          "new_text": "ml_set_handler(&parser->startElementHandler, &start_fcc);",
          "old_line_content": "",
          "new_line_content": "\txml_set_handler(&parser->startElementHandler, &start_fcc);",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "ml_set_handler",
          "old_text": null,
          "new_text": "ml_set_handler(&parser->endElementHandler, &end_fcc);",
          "old_line_content": "\tset_handlers:",
          "new_line_content": "\txml_set_handler(&parser->endElementHandler, &end_fcc);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzend_string *method_name = NULL;",
          "new_line_content": "\tif (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OF!\", &pind, xml_parser_ce, &handler_fci, &handler_fcc) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "",
          "new_line_content": "\t\t*parser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "emcpy",
          "old_text": null,
          "new_text": "emcpy(parser_handler_fcc, &handler_fcc, sizeof(zend_fcall_info_cache));",
          "old_line_content": "\t\t\treturn;",
          "new_line_content": "\t\tmemcpy(parser_handler_fcc, &handler_fcc, sizeof(zend_fcall_info_cache));",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\t\t}",
          "new_line_content": "\t} else if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OS\", &pind, xml_parser_ce, &method_name) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Oz\", &pind, xml_parser_ce, &dummy) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\tzval *dummy;",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "ML_SET_HANDLER_PHP_FUNCTION",
          "old_text": null,
          "new_text": "ML_SET_HANDLER_PHP_FUNCTION(xml_set_character_data_handler, characterDataHandler, XML_SetCharacterDataHandler, _xml_characterDataHandler);",
          "old_line_content": "\t}",
          "new_line_content": "XML_SET_HANDLER_PHP_FUNCTION(xml_set_character_data_handler, characterDataHandler, XML_SetCharacterDataHandler, _xml_characterDataHandler);",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "ML_SET_HANDLER_PHP_FUNCTION",
          "old_text": null,
          "new_text": "ML_SET_HANDLER_PHP_FUNCTION(xml_set_processing_instruction_handler, processingInstructionHandler, XML_SetProcessingInstructionHandler, _xml_processingInstructionHandler);",
          "old_line_content": "",
          "new_line_content": "XML_SET_HANDLER_PHP_FUNCTION(xml_set_processing_instruction_handler, processingInstructionHandler, XML_SetProcessingInstructionHandler, _xml_processingInstructionHandler);",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tbool isFinal = 0;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Os|b\", &pind, xml_parser_ce, &data, &data_len, &isFinal) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\tif (parser->isparsing) {",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tsize_t data_len;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Osz|z\", &pind, xml_parser_ce, &data, &data_len, &xdata, &info) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "hp_error_docref",
          "old_text": null,
          "new_text": "hp_error_docref(NULL, E_WARNING, \"Parser must not be called recursively\");",
          "old_line_content": "",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Parser must not be called recursively\");",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": null,
          "new_api": "end_try_array_init",
          "old_text": null,
          "new_text": "end_try_array_init(info);",
          "old_line_content": "",
          "new_line_content": "\t\tinfo = zend_try_array_init(info);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "end_try_array_init",
          "old_text": null,
          "new_text": "end_try_array_init(xdata);",
          "old_line_content": "\t}",
          "new_line_content": "\txdata = zend_try_array_init(xdata);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "VAL_COPY_VALUE",
          "old_text": null,
          "new_text": "VAL_COPY_VALUE(&parser->data, xdata);",
          "old_line_content": "\t}",
          "new_line_content": "\tZVAL_COPY_VALUE(&parser->data, xdata);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "VAL_COPY_VALUE",
          "old_text": null,
          "new_text": "VAL_COPY_VALUE(&parser->info, info);",
          "old_line_content": "",
          "new_line_content": "\t\tZVAL_COPY_VALUE(&parser->info, info);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "ml_parser_free_ltags",
          "old_text": null,
          "new_text": "ml_parser_free_ltags(parser);",
          "old_line_content": "",
          "new_line_content": "\txml_parser_free_ltags(parser);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "afe_emalloc",
          "old_text": null,
          "new_text": "afe_emalloc(XML_MAXLEVEL, sizeof(char *), 0);",
          "old_line_content": "\tparser->level = 0;",
          "new_line_content": "\tparser->ltags = safe_emalloc(XML_MAXLEVEL, sizeof(char *), 0);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "ML_SetCharacterDataHandler",
          "old_text": null,
          "new_text": "ML_SetCharacterDataHandler(parser->parser, _xml_characterDataHandler);",
          "old_line_content": "",
          "new_line_content": "\tXML_SetCharacterDataHandler(parser->parser, _xml_characterDataHandler);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzval *pind;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "ML_GetErrorCode",
          "old_text": null,
          "new_text": "ML_GetErrorCode(parser->parser))",
          "old_line_content": "",
          "new_line_content": "\tRETURN_LONG((zend_long)XML_GetErrorCode(parser->parser));",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tchar *str;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"l\", &code) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "ML_ErrorString",
          "old_text": null,
          "new_text": "ML_ErrorString((int)code);",
          "old_line_content": "\t}",
          "new_line_content": "\tstr = (char *)XML_ErrorString((int)code);",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzval *pind;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "ML_GetCurrentLineNumber",
          "old_text": null,
          "new_text": "ML_GetCurrentLineNumber(parser->parser))",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_LONG(XML_GetCurrentLineNumber(parser->parser));",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzval *pind;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "ML_GetCurrentColumnNumber",
          "old_text": null,
          "new_text": "ML_GetCurrentColumnNumber(parser->parser))",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_LONG(XML_GetCurrentColumnNumber(parser->parser));",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzval *pind;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "ML_GetCurrentByteIndex",
          "old_text": null,
          "new_text": "ML_GetCurrentByteIndex(parser->parser))",
          "old_line_content": "",
          "new_line_content": "\tRETVAL_LONG(XML_GetCurrentByteIndex(parser->parser));",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\txml_parser *parser;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": null,
          "new_api": "END_NUM_ARGS",
          "old_text": null,
          "new_text": "END_NUM_ARGS(),",
          "old_line_content": "\tzval *value;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Olz\", &pind, xml_parser_ce, &opt, &value) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "_TYPE_P",
          "old_text": null,
          "new_text": "_TYPE_P(value) ",
          "old_line_content": "\t}",
          "new_line_content": "\tif (Z_TYPE_P(value) != IS_FALSE && Z_TYPE_P(value) != IS_TRUE &&",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "_TYPE_P",
          "old_text": null,
          "new_text": "_TYPE_P(value) ",
          "old_line_content": "",
          "new_line_content": "\t\tZ_TYPE_P(value) != IS_LONG && Z_TYPE_P(value) != IS_STRING) {",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": null,
          "new_api": "_XMLPARSER_P",
          "old_text": null,
          "new_text": "_XMLPARSER_P(pind);",
          "old_line_content": "\t}",
          "new_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "end_is_true",
          "old_text": null,
          "new_text": "end_is_true(value);",
          "old_line_content": "\t\t/* Boolean option */",
          "new_line_content": "\t\t\tparser->case_folding = zend_is_true(value);",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "end_is_true",
          "old_text": null,
          "new_text": "end_is_true(value);",
          "old_line_content": "\t\t/* Boolean option */",
          "new_line_content": "\t\t\tparser->skipwhite = zend_is_true(value);",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": null,
          "new_api": "NEXPECTED",
          "old_text": null,
          "new_text": "NEXPECTED(parser->isparsing))",
          "old_line_content": "\t\tcase PHP_XML_OPTION_PARSE_HUGE:",
          "new_line_content": "\t\t\tif (UNEXPECTED(parser->isparsing)) {",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "end_throw_error",
          "old_text": null,
          "new_text": "end_throw_error(NULL, \"Cannot change option XML_OPTION_PARSE_HUGE while parsing\");",
          "old_line_content": "\t\t\t/* Prevent wreaking havock to the parser internals during parsing */",
          "new_line_content": "\t\t\t\tzend_throw_error(NULL, \"Cannot change option XML_OPTION_PARSE_HUGE while parsing\");",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "val_get_long",
          "old_text": null,
          "new_text": "val_get_long(value);",
          "old_line_content": "\t\t\t/* The tag start offset is stored in an int */",
          "new_line_content": "\t\t\tparser->toffset = zval_get_long(value);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "hp_error_docref",
          "old_text": null,
          "new_text": "hp_error_docref(NULL, E_WARNING, \"Argument #3 ($value) must be between 0 and %d\"\n\t\t\t\t\t\" for option XML_OPTION_SKIP_TAGSTART\", INT_MAX);",
          "old_line_content": "\t\t\tif (parser->toffset < 0) {",
          "new_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #3 ($value) must be between 0 and %d\"",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "ry_convert_to_string",
          "old_text": null,
          "new_text": "ry_convert_to_string(value))",
          "old_line_content": "\t\tcase PHP_XML_OPTION_TARGET_ENCODING: {",
          "new_line_content": "\t\t\tif (!try_convert_to_string(value)) {",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\tconst xml_encoding *enc;",
          "new_line_content": "\t\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": null,
          "new_api": "_STRVAL_P",
          "old_text": null,
          "new_text": "_STRVAL_P(value))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tenc = xml_get_encoding((XML_Char*)Z_STRVAL_P(value));",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "ETURN_THROWS",
          "old_text": null,
          "new_text": "ETURN_THROWS();",
          "old_line_content": "\t\t\tif (enc == NULL) {",
          "new_line_content": "\t\t\t\tRETURN_THROWS();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1542,
          "old_api": "end_argument_value_error",
          "new_api": null,
          "old_text": "end_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Ol\", &pind, xml_parser_ce, &opt) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\tcase PHP_XML_OPTION_CASE_FOLDING:",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "ETURN_BOOL",
          "new_api": null,
          "old_text": "ETURN_BOOL(parser->case_folding);",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_BOOL(parser->case_folding);",
          "new_line_content": "\t\tcase PHP_XML_OPTION_SKIP_TAGSTART:",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "ETURN_LONG",
          "new_api": null,
          "old_text": "ETURN_LONG(parser->toffset);",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_LONG(parser->toffset);",
          "new_line_content": "\t\tcase PHP_XML_OPTION_SKIP_WHITE:",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "ETURN_BOOL",
          "new_api": null,
          "old_text": "ETURN_BOOL(parser->skipwhite);",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_BOOL(parser->skipwhite);",
          "new_line_content": "\t\tcase PHP_XML_OPTION_PARSE_HUGE:",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "ETURN_BOOL",
          "new_api": null,
          "old_text": "ETURN_BOOL(parser->parsehuge);",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_BOOL(parser->parsehuge);",
          "new_line_content": "\t\tcase PHP_XML_OPTION_TARGET_ENCODING:",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "ETURN_STRING",
          "new_api": null,
          "old_text": "ETURN_STRING((char *)parser->target_encoding);",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_STRING((char *)parser->target_encoding);",
          "new_line_content": "\t\tdefault:",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "end_argument_value_error",
          "new_api": null,
          "old_text": "end_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(2, \"must be a XML_OPTION_* constant\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "end_hash_find_ptr",
          "new_api": null,
          "old_text": "end_hash_find_ptr(&ce->function_table, lc_name);",
          "new_text": null,
          "old_line_content": "\tzend_function *method_ptr = zend_hash_find_ptr(&ce->function_table, lc_name);",
          "new_line_content": "\tif (!method_ptr) {",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "end_string_release_ex",
          "new_api": null,
          "old_text": "end_string_release_ex(lc_name, 0);",
          "new_text": null,
          "old_line_content": "\tzend_string_release_ex(lc_name, 0);",
          "new_line_content": "\t\tif (arg_num) {",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "STR_VAL",
          "new_api": null,
          "old_text": "STR_VAL(method_name))",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(arg_num, \"method %s::%s() does not exist\", ZSTR_VAL(ce->name), ZSTR_VAL(method_name));",
          "new_line_content": "\t\treturn false;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Oo\", &pind, xml_parser_ce, &mythis) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "_OBJ_P",
          "new_api": null,
          "old_text": "_OBJ_P(mythis);",
          "new_text": null,
          "old_line_content": "\tnew_this = Z_OBJ_P(mythis);",
          "new_line_content": "\tif (parser->object) {",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "HP_XML_CHECK_NEW_THIS_METHODS",
          "new_api": null,
          "old_text": "HP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, startNamespaceDeclHandler, \"xml_set_start_namespace_decl_handler()\");",
          "new_text": null,
          "old_line_content": "\t\tPHP_XML_CHECK_NEW_THIS_METHODS(parser, new_this, startNamespaceDeclHandler, \"xml_set_start_namespace_decl_handler()\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "BJ_RELEASE",
          "new_api": null,
          "old_text": "BJ_RELEASE(parser->object);",
          "new_text": null,
          "old_line_content": "\t\tOBJ_RELEASE(parser->object);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "C_ADDREF",
          "new_api": null,
          "old_text": "C_ADDREF(parser->object);",
          "new_text": null,
          "old_line_content": "\tGC_ADDREF(parser->object);",
          "new_line_content": "\tRETURN_TRUE;",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OF!F!\", &pind, xml_parser_ce, &start_fci, &start_fcc, &end_fci, &end_fcc) == SUCCESS) {",
          "new_line_content": "\t\tgoto set_handlers;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\t\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "end_release_fcall_info_cache",
          "new_api": null,
          "old_text": "end_release_fcall_info_cache(&start_fcc);",
          "new_text": null,
          "old_line_content": "\tzend_release_fcall_info_cache(&start_fcc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OF!S\", &pind, xml_parser_ce, &start_fci, &start_fcc, &end_method_name) == SUCCESS) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "end_release_fcall_info_cache",
          "new_api": null,
          "old_text": "end_release_fcall_info_cache(&end_fcc);",
          "new_text": null,
          "old_line_content": "\t\t\tzend_release_fcall_info_cache(&end_fcc);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\t} else if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OSF!\", &pind, xml_parser_ce, &start_method_name, &end_fci, &end_fcc) == SUCCESS) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "end_release_fcall_info_cache",
          "new_api": null,
          "old_text": "end_release_fcall_info_cache(&end_fcc);",
          "new_text": null,
          "old_line_content": "\t\t\tzend_release_fcall_info_cache(&end_fcc);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "end_release_fcall_info_cache",
          "new_api": null,
          "old_text": "end_release_fcall_info_cache(&start_fcc);",
          "new_text": null,
          "old_line_content": "\t\tzend_release_fcall_info_cache(&start_fcc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\t\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Ozz\", &pind, xml_parser_ce, &dummy_start, &dummy_end) == FAILURE) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "_TYPE_P",
          "new_api": null,
          "old_text": "_TYPE_P(dummy_start))",
          "new_text": null,
          "old_line_content": "\t\t\tswitch (Z_TYPE_P(dummy_start)) {",
          "new_line_content": "\t\t\t\tcase IS_STRING:",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "end_argument_type_error",
          "new_api": null,
          "old_text": "end_argument_type_error(2, \"must be of type callable|string|null\");",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzend_argument_type_error(2, \"must be of type callable|string|null\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "end_argument_type_error",
          "new_api": null,
          "old_text": "end_argument_type_error(3, \"must be of type callable|string|null\");",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_type_error(3, \"must be of type callable|string|null\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "ml_set_handler",
          "new_api": null,
          "old_text": "ml_set_handler(&parser->endElementHandler, &end_fcc);",
          "new_text": null,
          "old_line_content": "\txml_set_handler(&parser->endElementHandler, &end_fcc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "ML_SetElementHandler",
          "new_api": null,
          "old_text": "ML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "new_text": null,
          "old_line_content": "\tXML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "new_line_content": "\tRETURN_TRUE;",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\t\t*parser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\t\t/* Free handler, so just return and a uninitialized FCC communicates this */",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "END_FCI_INITIALIZED",
          "new_api": null,
          "old_text": "END_FCI_INITIALIZED(handler_fci))",
          "new_text": null,
          "old_line_content": "\t\tif (!ZEND_FCI_INITIALIZED(handler_fci)) {",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\t} else if (zend_parse_parameters_ex(ZEND_PARSE_PARAMS_QUIET, ZEND_NUM_ARGS(), \"OS\", &pind, xml_parser_ce, &method_name) == SUCCESS) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\t\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Oz\", &pind, xml_parser_ce, &dummy) == FAILURE) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "end_argument_type_error",
          "new_api": null,
          "old_text": "end_argument_type_error(2, \"must be of type callable|string|null\");",
          "new_text": null,
          "old_line_content": "\t\tzend_argument_type_error(2, \"must be of type callable|string|null\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "ML_SET_HANDLER_PHP_FUNCTION",
          "new_api": null,
          "old_text": "ML_SET_HANDLER_PHP_FUNCTION(xml_set_start_namespace_decl_handler, startNamespaceDeclHandler, XML_SetStartNamespaceDeclHandler, _xml_startNamespaceDeclHandler);",
          "new_text": null,
          "old_line_content": "XML_SET_HANDLER_PHP_FUNCTION(xml_set_start_namespace_decl_handler, startNamespaceDeclHandler, XML_SetStartNamespaceDeclHandler, _xml_startNamespaceDeclHandler);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "ML_SET_HANDLER_PHP_FUNCTION",
          "new_api": null,
          "old_text": "ML_SET_HANDLER_PHP_FUNCTION(xml_set_end_namespace_decl_handler, endNamespaceDeclHandler, XML_SetEndNamespaceDeclHandler, _xml_endNamespaceDeclHandler);",
          "new_text": null,
          "old_line_content": "XML_SET_HANDLER_PHP_FUNCTION(xml_set_end_namespace_decl_handler, endNamespaceDeclHandler, XML_SetEndNamespaceDeclHandler, _xml_endNamespaceDeclHandler);",
          "new_line_content": "/* {{{ Start parsing an XML document */",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Os|b\", &pind, xml_parser_ce, &data, &data_len, &isFinal) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "end_throw_error",
          "new_api": null,
          "old_text": "end_throw_error(NULL, \"Parser must not be called recursively\");",
          "new_text": null,
          "old_line_content": "\t\tzend_throw_error(NULL, \"Parser must not be called recursively\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "ml_parse_helper",
          "new_api": null,
          "old_text": "ml_parse_helper(parser, data, data_len, isFinal))",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(xml_parse_helper(parser, data, data_len, isFinal));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Osz|z\", &pind, xml_parser_ce, &data, &data_len, &xdata, &info) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\tif (parser->isparsing) {",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "hp_error_docref",
          "new_api": null,
          "old_text": "hp_error_docref(NULL, E_WARNING, \"Parser must not be called recursively\");",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Parser must not be called recursively\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "VAL_COPY_VALUE",
          "new_api": null,
          "old_text": "VAL_COPY_VALUE(&parser->data, xdata);",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&parser->data, xdata);",
          "new_line_content": "\tif (info) {",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "VAL_COPY_VALUE",
          "new_api": null,
          "old_text": "VAL_COPY_VALUE(&parser->info, info);",
          "new_text": null,
          "old_line_content": "\t\tZVAL_COPY_VALUE(&parser->info, info);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "afe_emalloc",
          "new_api": null,
          "old_text": "afe_emalloc(XML_MAXLEVEL, sizeof(char *), 0);",
          "new_text": null,
          "old_line_content": "\tparser->ltags = safe_emalloc(XML_MAXLEVEL, sizeof(char *), 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "ML_SetElementHandler",
          "new_api": null,
          "old_text": "ML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "new_text": null,
          "old_line_content": "\tXML_SetElementHandler(parser->parser, _xml_startElementHandler, _xml_endElementHandler);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "ml_parse_helper",
          "new_api": null,
          "old_text": "ml_parse_helper(parser, data, data_len, true))",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(xml_parse_helper(parser, data, data_len, true));",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "ML_GetErrorCode",
          "new_api": null,
          "old_text": "ML_GetErrorCode(parser->parser))",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG((zend_long)XML_GetErrorCode(parser->parser));",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"l\", &code) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "ETVAL_STRING",
          "new_api": null,
          "old_text": "ETVAL_STRING(str);",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STRING(str);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "ML_GetCurrentLineNumber",
          "new_api": null,
          "old_text": "ML_GetCurrentLineNumber(parser->parser))",
          "new_text": null,
          "old_line_content": "\tRETVAL_LONG(XML_GetCurrentLineNumber(parser->parser));",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "ML_GetCurrentColumnNumber",
          "new_api": null,
          "old_text": "ML_GetCurrentColumnNumber(parser->parser))",
          "new_text": null,
          "old_line_content": "\tRETVAL_LONG(XML_GetCurrentColumnNumber(parser->parser));",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "ML_GetCurrentByteIndex",
          "new_api": null,
          "old_text": "ML_GetCurrentByteIndex(parser->parser))",
          "new_text": null,
          "old_line_content": "\tRETVAL_LONG(XML_GetCurrentByteIndex(parser->parser));",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &pind, xml_parser_ce) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "hp_error_docref",
          "new_api": null,
          "old_text": "hp_error_docref(NULL, E_WARNING, \"Parser cannot be freed while it is parsing\");",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Parser cannot be freed while it is parsing\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "END_NUM_ARGS",
          "new_api": null,
          "old_text": "END_NUM_ARGS(),",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"Olz\", &pind, xml_parser_ce, &opt, &value) == FAILURE) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "hp_error_docref",
          "new_api": null,
          "old_text": "hp_error_docref(NULL, E_WARNING,\n\t\t\t\"Argument #3 ($value) must be of type string|int|bool, %s given\", zend_zval_type_name(value));",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "end_zval_type_name",
          "new_api": null,
          "old_text": "end_zval_type_name(value))",
          "new_text": null,
          "old_line_content": "\t\t\t\"Argument #3 ($value) must be of type string|int|bool, %s given\", zend_zval_type_name(value));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "_XMLPARSER_P",
          "new_api": null,
          "old_text": "_XMLPARSER_P(pind);",
          "new_text": null,
          "old_line_content": "\tparser = Z_XMLPARSER_P(pind);",
          "new_line_content": "\t\t/* Boolean option */",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "end_is_true",
          "new_api": null,
          "old_text": "end_is_true(value);",
          "new_text": null,
          "old_line_content": "\t\t\tparser->case_folding = zend_is_true(value);",
          "new_line_content": "\t\t/* Boolean option */",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "end_is_true",
          "new_api": null,
          "old_text": "end_is_true(value);",
          "new_text": null,
          "old_line_content": "\t\t\tparser->skipwhite = zend_is_true(value);",
          "new_line_content": "\t\t/* Boolean option */",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "end_throw_error",
          "new_api": null,
          "old_text": "end_throw_error(NULL, \"Cannot change option XML_OPTION_PARSE_HUGE while parsing\");",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_throw_error(NULL, \"Cannot change option XML_OPTION_PARSE_HUGE while parsing\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "end_is_true",
          "new_api": null,
          "old_text": "end_is_true(value);",
          "new_text": null,
          "old_line_content": "\t\t\tparser->parsehuge = zend_is_true(value);",
          "new_line_content": "\t\t/* Integer option */",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "val_get_long",
          "new_api": null,
          "old_text": "val_get_long(value);",
          "new_text": null,
          "old_line_content": "\t\t\tparser->toffset = zval_get_long(value);",
          "new_line_content": "\t\t\t\t/* TODO Promote to ValueError in PHP 9.0 */",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "hp_error_docref",
          "new_api": null,
          "old_text": "hp_error_docref(NULL, E_WARNING, \"Argument #3 ($value) must be between 0 and %d\"\n\t\t\t\t\t\" for option XML_OPTION_SKIP_TAGSTART\", INT_MAX);",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #3 ($value) must be between 0 and %d\"",
          "new_line_content": "\t\t\t\tparser->toffset = 0;",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "ry_convert_to_string",
          "new_api": null,
          "old_text": "ry_convert_to_string(value))",
          "new_text": null,
          "old_line_content": "\t\t\tif (!try_convert_to_string(value)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "end_argument_value_error",
          "new_api": null,
          "old_text": "end_argument_value_error(3, \"is not a supported target encoding\");",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_argument_value_error(3, \"is not a supported target encoding\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "ETURN_THROWS",
          "new_api": null,
          "old_text": "ETURN_THROWS();",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETURN_THROWS();",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 41,
      "total_additions": 97,
      "total_deletions": 99,
      "total_api_changes": 237
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 237,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 530,
    "api_calls_after": 528,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 3,
      "total_diff_lines": 16
    }
  }
}