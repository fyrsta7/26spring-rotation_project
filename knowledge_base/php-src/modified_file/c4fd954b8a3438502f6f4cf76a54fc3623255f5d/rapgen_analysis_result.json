{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/c4fd954b8a3438502f6f4cf76a54fc3623255f5d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/c4fd954b8a3438502f6f4cf76a54fc3623255f5d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/c4fd954b8a3438502f6f4cf76a54fc3623255f5d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/c4fd954b8a3438502f6f4cf76a54fc3623255f5d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 787,
          "old_api": "zend_hash_add_or_update",
          "new_api": "pCopyConstructor",
          "old_text": "zend_hash_add_or_update(target, p->arKey, p->nKeyLength, tmp, size, &t, mode)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\tif (zend_hash_add_or_update(target, p->arKey, p->nKeyLength, tmp, size, &t, mode)==SUCCESS && pCopyConstructor) {",
          "new_line_content": "\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "zend_hash_index_update",
          "new_api": "pCopyConstructor",
          "old_text": "zend_hash_index_update(target, p->h, tmp, size, &t)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\tif ((mode==HASH_UPDATE || !zend_hash_index_exists(target, p->h)) && zend_hash_index_update(target, p->h, tmp, size, &t)==SUCCESS && pCopyConstructor) {",
          "new_line_content": "\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "pemalloc",
          "new_api": "memcpy",
          "old_text": "pemalloc(p->nKeyLength, ht->persistent)",
          "new_text": "memcpy(*str_index, p->arKey, p->nKeyLength)",
          "old_line_content": "\t\t\t*str_index = (char *) pemalloc(p->nKeyLength, ht->persistent);",
          "new_line_content": "\t\t\tmemcpy(*str_index, p->arKey, p->nKeyLength);",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "pefree",
          "new_api": "HANDLE_UNBLOCK_INTERRUPTIONS",
          "old_text": "pefree(arTmp, ht->persistent)",
          "new_text": "HANDLE_UNBLOCK_INTERRUPTIONS()",
          "old_line_content": "\tpefree(arTmp, ht->persistent);",
          "new_line_content": "\tHANDLE_UNBLOCK_INTERRUPTIONS();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1154,
          "old_api": null,
          "new_api": "zend_hash_find",
          "old_text": null,
          "new_text": "zend_hash_find(ht2, p1->arKey, p1->nKeyLength, &pData2)",
          "old_line_content": "\t\t\t} else { /* string index */",
          "new_line_content": "\t\t\t\tif (zend_hash_find(ht2, p1->arKey, p1->nKeyLength, &pData2)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "compar",
          "old_text": null,
          "new_text": "compar(p1->pData, pData2)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tresult = compar(p1->pData, pData2);",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "zend_hash_add_or_update",
          "old_text": null,
          "new_text": "zend_hash_add_or_update(target, p->arKey, p->nKeyLength, p->pData, size, &t, mode)",
          "old_line_content": "\t\tif (p->nKeyLength>0) {",
          "new_line_content": "\t\t\tif (zend_hash_add_or_update(target, p->arKey, p->nKeyLength, p->pData, size, &t, mode)==SUCCESS && pCopyConstructor) {",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "zend_hash_index_update",
          "old_text": null,
          "new_text": "zend_hash_index_update(target, p->h, p->pData, size, &t)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tif ((mode==HASH_UPDATE || !zend_hash_index_exists(target, p->h)) && zend_hash_index_update(target, p->h, p->pData, size, &t)==SUCCESS && pCopyConstructor) {",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "compar",
          "old_text": null,
          "new_text": "compar(&res,&p)",
          "old_line_content": "\t\tif (flag) {",
          "new_line_content": "\t\t\tif (compar(&res,&p) < 0) { /* max */",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "{",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "pHashFunction",
          "old_text": null,
          "new_text": "ht->pHashFunction(arKey, nKeyLength)",
          "old_line_content": "",
          "new_line_content": "\treturn ht->pHashFunction(arKey, nKeyLength);",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "{",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "pemalloc",
          "old_text": null,
          "new_text": "pemalloc(ht->nNumOfElements * sizeof(Bucket *), ht->persistent)",
          "old_line_content": "\t}",
          "new_line_content": "\tarTmp = (Bucket **) pemalloc(ht->nNumOfElements * sizeof(Bucket *), ht->persistent);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "compar",
          "old_text": null,
          "new_text": "compar(&res,&p)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tif (compar(&res,&p) > 0) { /* min */",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "{",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "{",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "*sort_func)((void *) arTmp, i, sizeof(Bucket *), compar)",
          "old_text": null,
          "new_text": "*sort_func)((void *) arTmp, i, sizeof(Bucket *), compar)",
          "old_line_content": "",
          "new_line_content": "\t(*sort_func)((void *) arTmp, i, sizeof(Bucket *), compar);",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "HANDLE_BLOCK_INTERRUPTIONS",
          "old_text": null,
          "new_text": "HANDLE_BLOCK_INTERRUPTIONS()",
          "old_line_content": "",
          "new_line_content": "\tHANDLE_BLOCK_INTERRUPTIONS();",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "zend_hash_index_find",
          "old_text": null,
          "new_text": "zend_hash_index_find(ht, idx, pData)",
          "old_line_content": "",
          "new_line_content": "\tHANDLE_NUMERIC(arKey, nKeyLength, zend_hash_index_find(ht, idx, pData));",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "pHashFunction",
          "old_text": null,
          "new_text": "ht->pHashFunction(arKey, nKeyLength)",
          "old_line_content": "",
          "new_line_content": "\th = ht->pHashFunction(arKey, nKeyLength);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "{",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(p->arKey, arKey, nKeyLength)",
          "old_line_content": "\t\tif ((p->h == h) && (p->nKeyLength == nKeyLength)) {",
          "new_line_content": "\t\t\tif (!memcmp(p->arKey, arKey, nKeyLength)) {",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "zend_output_debug_string",
          "old_text": null,
          "new_text": "zend_output_debug_string(0, \"pListTail has key %s\\n\", p->arKey)",
          "old_line_content": "\twhile (p != NULL) {",
          "new_line_content": "\t\tzend_output_debug_string(0, \"pListTail has key %s\\n\", p->arKey);",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "pefree",
          "old_text": null,
          "new_text": "pefree(arTmp, ht->persistent)",
          "old_line_content": "\t}",
          "new_line_content": "\tpefree(arTmp, ht->persistent);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "zend_output_debug_string",
          "old_text": null,
          "new_text": "zend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h)",
          "old_line_content": "\t\twhile (p != NULL) {",
          "new_line_content": "\t\t\tzend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "zend_hash_rehash",
          "old_text": null,
          "new_text": "zend_hash_rehash(ht)",
          "old_line_content": "\t\tht->nNextFreeElement = i;",
          "new_line_content": "\t\tzend_hash_rehash(ht);",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "zend_output_debug_string",
          "old_text": null,
          "new_text": "zend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h)",
          "old_line_content": "\twhile (p != NULL) {",
          "new_line_content": "\t\tzend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(p->arKey, arKey, nKeyLength)",
          "old_line_content": "\t\tif ((p->h == h) && (p->nKeyLength == nKeyLength)) {",
          "new_line_content": "\t\t\tif (!memcmp(p->arKey, arKey, nKeyLength)) {",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht1)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht1);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "zend_hash_index_exists",
          "old_text": null,
          "new_text": "zend_hash_index_exists(ht, idx)",
          "old_line_content": "",
          "new_line_content": "\tHANDLE_NUMERIC(arKey, nKeyLength, zend_hash_index_exists(ht, idx));",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "pHashFunction",
          "old_text": null,
          "new_text": "ht->pHashFunction(arKey, nKeyLength)",
          "old_line_content": "",
          "new_line_content": "\th = ht->pHashFunction(arKey, nKeyLength);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "pemalloc",
          "old_text": null,
          "new_text": "pemalloc(p->nKeyLength, ht->persistent)",
          "old_line_content": "\t\tif (p->nKeyLength) {",
          "new_line_content": "\t\t\t*str_index = (char *) pemalloc(p->nKeyLength, ht->persistent);",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(p->arKey, arKey, nKeyLength)",
          "old_line_content": "\t\tif ((p->h == h) && (p->nKeyLength == nKeyLength)) {",
          "new_line_content": "\t\t\tif (!memcmp(p->arKey, arKey, nKeyLength)) {",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(p1->arKey, p2->arKey, p1->nKeyLength)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tresult = memcmp(p1->arKey, p2->arKey, p1->nKeyLength);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "zend_hash_index_find",
          "old_text": null,
          "new_text": "zend_hash_index_find(ht2, p1->h, &pData2)",
          "old_line_content": "\t\t\tif (p1->nKeyLength==0) { /* numeric index */",
          "new_line_content": "\t\t\t\tif (zend_hash_index_find(ht2, p1->h, &pData2)==FAILURE) {",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1155,
          "old_api": "zend_hash_find",
          "new_api": null,
          "old_text": "zend_hash_find(ht2, p1->arKey, p1->nKeyLength, &pData2)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (zend_hash_find(ht2, p1->arKey, p1->nKeyLength, &pData2)==FAILURE) {",
          "new_line_content": "\t\t\t\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "compar",
          "new_api": null,
          "old_text": "compar(p1->pData, pData2)",
          "new_text": null,
          "old_line_content": "\t\tresult = compar(p1->pData, pData2);",
          "new_line_content": "\t\tif (result!=0) {",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tmp, p->pData, size)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(tmp, p->pData, size);",
          "new_line_content": "\t\tif (p->nKeyLength>0) {",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "compar",
          "new_api": null,
          "old_text": "compar(&res,&p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (compar(&res,&p) < 0) { /* max */",
          "new_line_content": "\t\t\t\tres = p;",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "pHashFunction",
          "new_api": null,
          "old_text": "ht->pHashFunction(arKey, nKeyLength)",
          "new_text": null,
          "old_line_content": "\treturn ht->pHashFunction(arKey, nKeyLength);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "pemalloc",
          "new_api": null,
          "old_text": "pemalloc(ht->nNumOfElements * sizeof(Bucket *), ht->persistent)",
          "new_text": null,
          "old_line_content": "\tarTmp = (Bucket **) pemalloc(ht->nNumOfElements * sizeof(Bucket *), ht->persistent);",
          "new_line_content": "\tif (!arTmp) {",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "compar",
          "new_api": null,
          "old_text": "compar(&res,&p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (compar(&res,&p) > 0) { /* min */",
          "new_line_content": "\t\t\t\tres = p;",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "*sort_func)((void *) arTmp, i, sizeof(Bucket *), compar)",
          "new_api": null,
          "old_text": "*sort_func)((void *) arTmp, i, sizeof(Bucket *), compar)",
          "new_text": null,
          "old_line_content": "\t(*sort_func)((void *) arTmp, i, sizeof(Bucket *), compar);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "HANDLE_BLOCK_INTERRUPTIONS",
          "new_api": null,
          "old_text": "HANDLE_BLOCK_INTERRUPTIONS()",
          "new_text": null,
          "old_line_content": "\tHANDLE_BLOCK_INTERRUPTIONS();",
          "new_line_content": "\tht->pListHead = arTmp[0];",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "zend_hash_index_find",
          "new_api": null,
          "old_text": "zend_hash_index_find(ht, idx, pData)",
          "new_text": null,
          "old_line_content": "\tHANDLE_NUMERIC(arKey, nKeyLength, zend_hash_index_find(ht, idx, pData));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "pHashFunction",
          "new_api": null,
          "old_text": "ht->pHashFunction(arKey, nKeyLength)",
          "new_text": null,
          "old_line_content": "\th = ht->pHashFunction(arKey, nKeyLength);",
          "new_line_content": "\tnIndex = h % ht->nTableSize;",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(p->arKey, arKey, nKeyLength)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!memcmp(p->arKey, arKey, nKeyLength)) {",
          "new_line_content": "\t\t\t\t*pData = p->pData;",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "zend_output_debug_string",
          "new_api": null,
          "old_text": "zend_output_debug_string(0, \"pListTail has key %s\\n\", p->arKey)",
          "new_text": null,
          "old_line_content": "\t\tzend_output_debug_string(0, \"pListTail has key %s\\n\", p->arKey);",
          "new_line_content": "\t\tp = p->pListLast;",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "HANDLE_UNBLOCK_INTERRUPTIONS",
          "new_api": null,
          "old_text": "HANDLE_UNBLOCK_INTERRUPTIONS()",
          "new_text": null,
          "old_line_content": "\tHANDLE_UNBLOCK_INTERRUPTIONS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "zend_output_debug_string",
          "new_api": null,
          "old_text": "zend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h);",
          "new_line_content": "\t\t\tp = p->pNext;",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "zend_hash_rehash",
          "new_api": null,
          "old_text": "zend_hash_rehash(ht)",
          "new_text": null,
          "old_line_content": "\t\tzend_hash_rehash(ht);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "zend_output_debug_string",
          "new_api": null,
          "old_text": "zend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h)",
          "new_text": null,
          "old_line_content": "\t\tzend_output_debug_string(0, \"%s <==> 0x%X\\n\", p->arKey, p->h);",
          "new_line_content": "\t\tp = p->pListLast;",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(p->arKey, arKey, nKeyLength)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!memcmp(p->arKey, arKey, nKeyLength)) {",
          "new_line_content": "\t\t\t\t*pData = p->pData;",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht2)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "zend_hash_index_exists",
          "new_api": null,
          "old_text": "zend_hash_index_exists(ht, idx)",
          "new_text": null,
          "old_line_content": "\tHANDLE_NUMERIC(arKey, nKeyLength, zend_hash_index_exists(ht, idx));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": "pHashFunction",
          "new_api": null,
          "old_text": "ht->pHashFunction(arKey, nKeyLength)",
          "new_text": null,
          "old_line_content": "\th = ht->pHashFunction(arKey, nKeyLength);",
          "new_line_content": "\tnIndex = h % ht->nTableSize;",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(*str_index, p->arKey, p->nKeyLength)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(*str_index, p->arKey, p->nKeyLength);",
          "new_line_content": "\t\t\tif (str_length) {",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(p->arKey, arKey, nKeyLength)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!memcmp(p->arKey, arKey, nKeyLength)) {",
          "new_line_content": "\t\t\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(p1->arKey, p2->arKey, p1->nKeyLength)",
          "new_text": null,
          "old_line_content": "\t\t\t\tresult = memcmp(p1->arKey, p2->arKey, p1->nKeyLength);",
          "new_line_content": "\t\t\t\tif (result!=0) {",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "zend_hash_index_find",
          "new_api": null,
          "old_text": "zend_hash_index_find(ht2, p1->h, &pData2)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (zend_hash_index_find(ht2, p1->h, &pData2)==FAILURE) {",
          "new_line_content": "\t\t\t\t\treturn 1;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 4,
      "total_additions": 43,
      "total_deletions": 44,
      "total_api_changes": 91
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 91,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 176,
    "api_calls_after": 175,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 3,
      "total_diff_lines": 21
    }
  }
}