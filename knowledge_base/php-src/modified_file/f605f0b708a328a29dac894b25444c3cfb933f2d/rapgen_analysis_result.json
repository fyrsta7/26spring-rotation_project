{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/f605f0b708a328a29dac894b25444c3cfb933f2d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/f605f0b708a328a29dac894b25444c3cfb933f2d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/f605f0b708a328a29dac894b25444c3cfb933f2d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/f605f0b708a328a29dac894b25444c3cfb933f2d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1216,
          "old_api": "zendi_convert_scalar_to_number",
          "new_api": "ZEND_NORMALIZE_BOOL",
          "old_text": "zendi_convert_scalar_to_number(op1, op1_copy, result)",
          "new_text": "ZEND_NORMALIZE_BOOL(op1->value.lval-op2->value.lval)",
          "old_line_content": "\tzendi_convert_scalar_to_number(op1, op1_copy, result);",
          "new_line_content": "\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(op1->value.lval-op2->value.lval);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": "tolower",
          "new_api": "register",
          "old_text": "tolower((int)*str++)",
          "new_text": "register",
          "old_line_content": "\t\t*result++ = tolower((int)*str++);",
          "new_line_content": "\tregister unsigned char *result = dest;",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "tolower",
          "new_api": "register",
          "old_text": "tolower((int)*p)",
          "new_text": "register",
          "old_line_content": "\t\t*p = tolower((int)*p);",
          "new_line_content": "\tregister unsigned char *p = (unsigned char*)str;",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "tolower",
          "new_api": "MIN",
          "old_text": "tolower(*s2++)",
          "new_text": "MIN(len1, len2)",
          "old_line_content": "\t\tc2 = tolower(*s2++);",
          "new_line_content": "\tlen = MIN(len1, len2);",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": "tolower",
          "new_api": "MIN",
          "old_text": "tolower(*s2++)",
          "new_text": "MIN(len1, len2)",
          "old_line_content": "\t\tc2 = tolower(*s2++);",
          "new_line_content": "\tlen = MIN(length, MIN(len1, len2));",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "bc_compare",
          "new_api": "init_num",
          "old_text": "bc_compare(first, second)",
          "new_text": "init_num(&first)",
          "old_line_content": "\t\t\tresult->value.lval = bc_compare(first, second);",
          "new_line_content": "\t\t\tinit_num(&first);",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "ZEND_NORMALIZE_BOOL",
          "new_api": "init_num",
          "old_text": "ZEND_NORMALIZE_BOOL(result->value.lval)",
          "new_text": "init_num(&second)",
          "old_line_content": "\t\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.lval);",
          "new_line_content": "\t\t\tinit_num(&second);",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "free_num",
          "new_api": "str2num",
          "old_text": "free_num(&first)",
          "new_text": "str2num(&second, s2->value.str.val, 100)",
          "old_line_content": "\t\t\tfree_num(&first);",
          "new_line_content": "\t\t\tstr2num(&second, s2->value.str.val, 100); /* ditto */",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "free_num",
          "new_api": "bc_compare",
          "old_text": "free_num(&second)",
          "new_text": "bc_compare(first, second)",
          "old_line_content": "\t\t\tfree_num(&second);",
          "new_line_content": "\t\t\tresult->value.lval = bc_compare(first, second);",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": "zend_binary_zval_strcmp",
          "new_api": "ZEND_NORMALIZE_BOOL",
          "old_text": "zend_binary_zval_strcmp(s1, s2)",
          "new_text": "ZEND_NORMALIZE_BOOL(result->value.lval)",
          "old_line_content": "\t\tresult->value.lval = zend_binary_zval_strcmp(s1, s2);",
          "new_line_content": "\t\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.lval);",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "strlen",
          "new_api": "TSRMLS_FETCH",
          "old_text": "strlen(op->value.str.val)",
          "new_text": "TSRMLS_FETCH()",
          "old_line_content": "\top->value.str.len = strlen(op->value.str.val);",
          "new_line_content": "\tTSRMLS_FETCH();",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "strchr",
          "new_api": "strlen",
          "old_text": "strchr(p, '.')",
          "new_text": "strlen(op->value.str.val)",
          "old_line_content": "\t\tif ((p = strchr(p, '.'))) {",
          "new_line_content": "\top->value.str.len = strlen(op->value.str.val);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1542,
          "old_api": null,
          "new_api": "ZVAL_DOUBLE",
          "old_text": null,
          "new_text": "ZVAL_DOUBLE(op1, d+1)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tZVAL_DOUBLE(op1, d+1);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "is_numeric_string",
          "old_text": null,
          "new_text": "is_numeric_string(strval, op1->value.str.len, &lval, &dval, 0)",
          "old_line_content": "\t\t\t\t\t\t\tdouble d = (double)lval;",
          "new_line_content": "\t\t\t\tswitch (is_numeric_string(strval, op1->value.str.len, &lval, &dval, 0)) {",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": null,
          "new_api": "ZVAL_DOUBLE",
          "old_text": null,
          "new_text": "ZVAL_DOUBLE(op1, d+1)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_DOUBLE(op1, d+1);",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(strval)",
          "old_line_content": "\t\t\t\t\t\top1->type = IS_DOUBLE;",
          "new_line_content": "\t\t\t\t\t\tefree(strval); /* should never be empty_string */",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(strval)",
          "old_line_content": "\t\t\t\t\t\t/* Not implemented */",
          "new_line_content": "\t\t\t\t\t\tefree(strval); /* should never be empty_string */",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "increment_string",
          "old_text": null,
          "new_text": "increment_string(op1)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\tincrement_string(op1);",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": null,
          "new_api": "ZVAL_DOUBLE",
          "old_text": null,
          "new_text": "ZVAL_DOUBLE(op1, d-1)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tZVAL_DOUBLE(op1, d-1);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "STR_FREE",
          "old_text": null,
          "new_text": "STR_FREE(op1->value.str.val)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tSTR_FREE(op1->value.str.val);",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": null,
          "new_api": "is_numeric_string",
          "old_text": null,
          "new_text": "is_numeric_string(op1->value.str.val, op1->value.str.len, &lval, &dval, 0)",
          "old_line_content": "\t\t\t\t\t\tdouble d = (double)lval;",
          "new_line_content": "\t\t\tswitch (is_numeric_string(op1->value.str.val, op1->value.str.len, &lval, &dval, 0)) {",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "STR_FREE",
          "old_text": null,
          "new_text": "STR_FREE(op1->value.str.val)",
          "old_line_content": "\t\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tSTR_FREE(op1->value.str.val);",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "ZVAL_DOUBLE",
          "old_text": null,
          "new_text": "ZVAL_DOUBLE(op1, d-1)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tZVAL_DOUBLE(op1, d-1);",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": null,
          "new_api": "STR_FREE",
          "old_text": null,
          "new_text": "STR_FREE(op1->value.str.val)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tSTR_FREE(op1->value.str.val);",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": null,
          "new_api": "convert_to_boolean",
          "old_text": null,
          "new_text": "convert_to_boolean(op)",
          "old_line_content": "ZEND_API char *zend_str_tolower_copy(char *dest, const char *source, unsigned int length)",
          "new_line_content": "\tconvert_to_boolean(op);",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "\twhile (str < end) {",
          "new_line_content": "\tregister unsigned char *str = (unsigned char*)source;",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "\t}",
          "new_line_content": "\tregister unsigned char *end = str + length;",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower((int)*str++)",
          "old_line_content": "\treturn dest;",
          "new_line_content": "\t\t*result++ = tolower((int)*str++);",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "\t\tp++;",
          "new_line_content": "\tregister unsigned char *end = p + length;",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower((int)*p)",
          "old_line_content": "",
          "new_line_content": "\t\t*p = tolower((int)*p);",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(len1, len2)",
          "old_line_content": "\t\treturn retval;",
          "new_line_content": "\tretval = memcmp(s1, s2, MIN(len1, len2));",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(len1, len2)",
          "old_line_content": "\t\treturn retval;",
          "new_line_content": "\tretval = memcmp(s1, s2, MIN(length, MIN(len1, len2)));",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(length, len2)",
          "old_line_content": "}",
          "new_line_content": "\t\treturn (MIN(length, len1) - MIN(length, len2));",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(*s1++)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tc1 = tolower(*s1++);",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(*s2++)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tc2 = tolower(*s2++);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "zendi_smart_strcmp",
          "old_text": null,
          "new_text": "zendi_smart_strcmp(result, op1, op2)",
          "old_line_content": "\t\treturn SUCCESS;",
          "new_line_content": "\t\t\tzendi_smart_strcmp(result, op1, op2);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(result, 1)",
          "old_line_content": "\t",
          "new_line_content": "\t\t\tZVAL_LONG(result, 1);",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": null,
          "new_api": "zendi_convert_to_boolean",
          "old_text": null,
          "new_text": "zendi_convert_to_boolean(op1, op1_copy, result)",
          "old_line_content": "\t\treturn SUCCESS;",
          "new_line_content": "\t\tzendi_convert_to_boolean(op1, op1_copy, result);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "zendi_convert_to_boolean",
          "old_text": null,
          "new_text": "zendi_convert_to_boolean(op2, op2_copy, result)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tzendi_convert_to_boolean(op2, op2_copy, result);",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(*s1++)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tc1 = tolower(*s1++);",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(*s2++)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tc2 = tolower(*s2++);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "zendi_convert_scalar_to_number",
          "old_text": null,
          "new_text": "zendi_convert_scalar_to_number(op1, op1_copy, result)",
          "old_line_content": "\t\tresult->type = IS_LONG;",
          "new_line_content": "\tzendi_convert_scalar_to_number(op1, op1_copy, result);",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "zendi_convert_scalar_to_number",
          "old_text": null,
          "new_text": "zendi_convert_scalar_to_number(op2, op2_copy, result)",
          "old_line_content": "\t\tresult->value.lval = op1->value.lval>op2->value.lval?1:(op1->value.lval<op2->value.lval?-1:0);",
          "new_line_content": "\tzendi_convert_scalar_to_number(op2, op2_copy, result);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN(length, len2)",
          "old_line_content": "ZEND_API int zend_binary_zval_strcmp(zval *s1, zval *s2)",
          "new_line_content": "\treturn MIN(length, len1) - MIN(length, len2);",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": null,
          "new_api": "zend_binary_strcmp",
          "old_text": null,
          "new_text": "zend_binary_strcmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len)",
          "old_line_content": "{",
          "new_line_content": "\treturn zend_binary_strcmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "ZEND_NORMALIZE_BOOL",
          "old_text": null,
          "new_text": "ZEND_NORMALIZE_BOOL(result->value.dval)",
          "old_line_content": "\tif (op1->type==IS_ARRAY && op2->type==IS_ARRAY) {",
          "new_line_content": "\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.dval);",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": null,
          "new_api": "zend_binary_strncmp",
          "old_text": null,
          "new_text": "zend_binary_strncmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval)",
          "old_line_content": "ZEND_API int zend_binary_zval_strcasecmp(zval *s1, zval *s2)",
          "new_line_content": "\treturn zend_binary_strncmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval);",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": null,
          "new_api": "zend_binary_strcasecmp",
          "old_text": null,
          "new_text": "zend_binary_strcasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len)",
          "old_line_content": "ZEND_API int zend_binary_zval_strncasecmp(zval *s1, zval *s2, zval *s3)",
          "new_line_content": "\treturn zend_binary_strcasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len);",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": null,
          "new_api": "zend_binary_strncasecmp",
          "old_text": null,
          "new_text": "zend_binary_strncasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval)",
          "old_line_content": "ZEND_API void zendi_smart_strcmp(zval *result, zval *s1, zval *s2)",
          "new_line_content": "\treturn zend_binary_strncasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval);",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "is_numeric_string",
          "old_text": null,
          "new_text": "is_numeric_string(s1->value.str.val, s1->value.str.len, &lval1, &dval1, 0)",
          "old_line_content": "\t\t\tbc_num first, second;",
          "new_line_content": "\tif ((ret1=is_numeric_string(s1->value.str.val, s1->value.str.len, &lval1, &dval1, 0)) &&",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "is_numeric_string",
          "old_text": null,
          "new_text": "is_numeric_string(s2->value.str.val, s2->value.str.len, &lval2, &dval2, 0)",
          "old_line_content": "\t\t\t",
          "new_line_content": "\t\t(ret2=is_numeric_string(s2->value.str.val, s2->value.str.len, &lval2, &dval2, 0))) {",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": null,
          "new_api": "str2num",
          "old_text": null,
          "new_text": "str2num(&first, s1->value.str.val, 100)",
          "old_line_content": "\t\t\tresult->type = IS_LONG;",
          "new_line_content": "\t\t\tstr2num(&first, s1->value.str.val, 100); /* this scale should do */",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "ZVAL_BOOL",
          "old_text": null,
          "new_text": "ZVAL_BOOL(result, 0)",
          "old_line_content": "",
          "new_line_content": "\tZVAL_BOOL(result, 0);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "ZEND_NORMALIZE_BOOL",
          "old_text": null,
          "new_text": "ZEND_NORMALIZE_BOOL(result->value.lval)",
          "old_line_content": "\t\t} else",
          "new_line_content": "\t\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.lval);",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": null,
          "new_api": "free_num",
          "old_text": null,
          "new_text": "free_num(&first)",
          "old_line_content": "\t\tif ((ret1==IS_DOUBLE) || (ret2==IS_DOUBLE)) {",
          "new_line_content": "\t\t\tfree_num(&first);",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "free_num",
          "old_text": null,
          "new_text": "free_num(&second)",
          "old_line_content": "\t\t\tif (ret1!=IS_DOUBLE) {",
          "new_line_content": "\t\t\tfree_num(&second);",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "TSRMLS_FETCH",
          "old_text": null,
          "new_text": "TSRMLS_FETCH()",
          "old_line_content": "\t * whereas this comparison function is expected to return 0 on identity,",
          "new_line_content": "\tTSRMLS_FETCH();",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "strtod",
          "old_text": null,
          "new_text": "strtod(s1->value.str.val, NULL)",
          "old_line_content": "\t\t\tresult->value.dval = dval1 - dval2;",
          "new_line_content": "\t\t\t\tdval1 = strtod(s1->value.str.val, NULL);",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": null,
          "new_api": "strtod",
          "old_text": null,
          "new_text": "strtod(s2->value.str.val, NULL)",
          "old_line_content": "\t\t\tresult->type = IS_LONG;",
          "new_line_content": "\t\t\t\tdval2 = strtod(s2->value.str.val, NULL);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "is_identical_function",
          "old_text": null,
          "new_text": "is_identical_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)",
          "old_line_content": "}",
          "new_line_content": "\tif (is_identical_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": null,
          "new_api": "zend_binary_zval_strcmp",
          "old_text": null,
          "new_text": "zend_binary_zval_strcmp(s1, s2)",
          "old_line_content": "\treturn;\t",
          "new_line_content": "\t\tresult->value.lval = zend_binary_zval_strcmp(s1, s2);",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": null,
          "new_api": "ZEND_NORMALIZE_BOOL",
          "old_text": null,
          "new_text": "ZEND_NORMALIZE_BOOL(result->value.lval)",
          "old_line_content": "}",
          "new_line_content": "\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.lval);",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "compare_function",
          "old_text": null,
          "new_text": "compare_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)",
          "old_line_content": "}",
          "new_line_content": "\tif (compare_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "zend_hash_compare",
          "old_text": null,
          "new_text": "zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC)",
          "old_line_content": "",
          "new_line_content": "\treturn zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC);",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(op1->value.str.val, op2->value.str.val, op1->value.str.len)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t&& (!memcmp(op1->value.str.val, op2->value.str.val, op1->value.str.len))) {",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": null,
          "new_api": "zend_hash_compare",
          "old_text": null,
          "new_text": "zend_hash_compare(op1->value.ht, op2->value.ht, (compare_func_t) hash_zval_identical_function, 1 TSRMLS_CC)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (zend_hash_compare(op1->value.ht, op2->value.ht, (compare_func_t) hash_zval_identical_function, 1 TSRMLS_CC)==0) {",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": null,
          "new_api": "zend_hash_compare",
          "old_text": null,
          "new_text": "zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC)",
          "old_line_content": "ZEND_API void zend_compare_arrays(zval *result, zval *a1, zval *a2 TSRMLS_DC)",
          "new_line_content": "\tresult->value.lval = zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC);",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "zend_compare_symbol_tables",
          "old_text": null,
          "new_text": "zend_compare_symbol_tables(result, a1->value.ht, a2->value.ht TSRMLS_CC)",
          "old_line_content": "ZEND_API void zend_compare_objects(zval *result, zval *o1, zval *o2 TSRMLS_DC)",
          "new_line_content": "\tzend_compare_symbol_tables(result, a1->value.ht, a2->value.ht TSRMLS_CC);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "Z_OBJ_HANDLE_P",
          "old_text": null,
          "new_text": "Z_OBJ_HANDLE_P(op2)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (Z_OBJ_HT_P(op1) == Z_OBJ_HT_P(op2) && Z_OBJ_HANDLE_P(op1) == Z_OBJ_HANDLE_P(op2)) {",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "Z_OBJ_HT_P",
          "old_text": null,
          "new_text": "Z_OBJ_HT_P(o2)",
          "old_line_content": "",
          "new_line_content": "\tif (Z_OBJ_HT_P(o1) != Z_OBJ_HT_P(o2)) {",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": null,
          "new_api": "ZVAL_BOOL",
          "old_text": null,
          "new_text": "ZVAL_BOOL(result, 0)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tZVAL_BOOL(result, 0);",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": null,
          "new_api": "Z_OBJ_HT_P",
          "old_text": null,
          "new_text": "Z_OBJ_HT_P(o1)",
          "old_line_content": "\t\t\tresult->value.lval = 1;",
          "new_line_content": "\tif (Z_OBJ_HT_P(o1)->compare_objects == NULL) {",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": null,
          "new_api": "Z_OBJ_HANDLE_P",
          "old_text": null,
          "new_text": "Z_OBJ_HANDLE_P(o2)",
          "old_line_content": "\t\t}\t\t\t",
          "new_line_content": "\t\tif (Z_OBJ_HANDLE_P(o1) == Z_OBJ_HANDLE_P(o2)) {",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "is_identical_function",
          "old_text": null,
          "new_text": "is_identical_function(result, op1, op2 TSRMLS_CC)",
          "old_line_content": "   return SUCCESS;",
          "new_line_content": "   if (is_identical_function(result, op1, op2 TSRMLS_CC) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": null,
          "new_api": "compare_objects",
          "old_text": null,
          "new_text": "Z_OBJ_HT_P(o1)->compare_objects(o1, o2 TSRMLS_CC)",
          "old_line_content": "ZEND_API void zend_locale_sprintf_double(zval *op ZEND_FILE_LINE_DC)",
          "new_line_content": "\t\tresult->value.lval = Z_OBJ_HT_P(o1)->compare_objects(o1, o2 TSRMLS_CC);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "convert_to_boolean",
          "old_text": null,
          "new_text": "convert_to_boolean(result)",
          "old_line_content": "\t\tresult->value.lval = 0;",
          "new_line_content": "\tconvert_to_boolean(result);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "EG",
          "old_text": null,
          "new_text": "EG(precision)",
          "old_line_content": "\t\tchar *p = op->value.str.val;",
          "new_line_content": "\tsprintf(op->value.str.val, \"%.*G\", (int) EG(precision), dval);",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "EG",
          "old_text": null,
          "new_text": "EG(float_separator)",
          "old_line_content": "\t\t}\t",
          "new_line_content": "\tif (EG(float_separator)[0] != '.') { ",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '.')",
          "old_line_content": "}",
          "new_line_content": "\t\tif ((p = strchr(p, '.'))) {",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": null,
          "new_api": "EG",
          "old_text": null,
          "new_text": "EG(float_separator)",
          "old_line_content": "",
          "new_line_content": "\t\t\t*p = EG(float_separator)[0];",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "convert_to_boolean",
          "old_text": null,
          "new_text": "convert_to_boolean(result)",
          "old_line_content": "\t\tresult->value.lval = 0;",
          "new_line_content": "\tconvert_to_boolean(result);",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "zend_error",
          "old_text": null,
          "new_text": "zend_error(E_ERROR, \"Unsupported operand types\")",
          "old_line_content": "",
          "new_line_content": "\tzend_error(E_ERROR, \"Unsupported operand types\");",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "zend_error",
          "old_text": null,
          "new_text": "zend_error(E_ERROR, \"Unsupported operand types\")",
          "old_line_content": "",
          "new_line_content": "\tzend_error(E_ERROR, \"Unsupported operand types\");",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "instanceof_function",
          "old_text": null,
          "new_text": "instanceof_function(instance_ce->interfaces[i], ce TSRMLS_CC)",
          "old_line_content": "\twhile (instance_ce) {",
          "new_line_content": "\t\tif (instanceof_function(instance_ce->interfaces[i], ce TSRMLS_CC)) {",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "STR_FREE",
          "old_text": null,
          "new_text": "STR_FREE(str->value.str.val)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tSTR_FREE(str->value.str.val);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "estrndup",
          "old_text": null,
          "new_text": "estrndup(\"1\", sizeof(\"1\")-1)",
          "old_line_content": "",
          "new_line_content": "\t\tstr->value.str.val = estrndup(\"1\", sizeof(\"1\")-1);",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(str->value.str.len+1+1)",
          "old_line_content": "        switch (last) {",
          "new_line_content": "        t = (char *) emalloc(str->value.str.len+1+1);",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(t+1, str->value.str.val, str->value.str.len)",
          "old_line_content": "            case NUMERIC:",
          "new_line_content": "        memcpy(t+1, str->value.str.val, str->value.str.len);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "STR_FREE",
          "old_text": null,
          "new_text": "STR_FREE(str->value.str.val)",
          "old_line_content": "",
          "new_line_content": "        STR_FREE(str->value.str.val);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1538,
          "old_api": "ZVAL_DOUBLE",
          "new_api": null,
          "old_text": "ZVAL_DOUBLE(op1, d+1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZVAL_DOUBLE(op1, d+1);",
          "new_line_content": "\t\tcase IS_LONG:",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "ZEND_NORMALIZE_BOOL",
          "new_api": null,
          "old_text": "ZEND_NORMALIZE_BOOL(result->value.lval)",
          "new_text": null,
          "old_line_content": "\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.lval);",
          "new_line_content": "\t\t\tresult->type = IS_LONG;",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(len1, len2)",
          "new_text": null,
          "old_line_content": "\tretval = memcmp(s1, s2, MIN(len1, len2));",
          "new_line_content": "ZEND_API int zend_binary_strcmp(char *s1, uint len1, char *s2, uint len2)",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": "compare_function",
          "new_api": null,
          "old_text": "compare_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\tif (compare_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)==FAILURE) {",
          "new_line_content": "static int hash_zval_compare_function(const zval **z1, const zval **z2 TSRMLS_DC)",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "zend_error",
          "new_api": null,
          "old_text": "zend_error(E_ERROR, \"Unsupported operand types\")",
          "new_text": null,
          "old_line_content": "\tzend_error(E_ERROR, \"Unsupported operand types\");",
          "new_line_content": "\t\t\tresult->value.lval = 0;",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "is_numeric_string",
          "new_api": null,
          "old_text": "is_numeric_string(strval, op1->value.str.len, &lval, &dval, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tswitch (is_numeric_string(strval, op1->value.str.len, &lval, &dval, 0)) {",
          "new_line_content": "\t\t\t\tlong lval;",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(len1, len2)",
          "new_text": null,
          "old_line_content": "\tretval = memcmp(s1, s2, MIN(length, MIN(len1, len2)));",
          "new_line_content": "ZEND_API int zend_binary_strncmp(char *s1, uint len1, char *s2, uint len2, uint length)",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "ZVAL_DOUBLE",
          "new_api": null,
          "old_text": "ZVAL_DOUBLE(op1, d+1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tZVAL_DOUBLE(op1, d+1);",
          "new_line_content": "\t\t\t\t\tcase IS_LONG:",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(length, len2)",
          "new_text": null,
          "old_line_content": "\t\treturn (MIN(length, len1) - MIN(length, len2));",
          "new_line_content": "\tint retval;",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "zend_hash_compare",
          "new_api": null,
          "old_text": "zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\treturn zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(op1->value.str.val, op2->value.str.val, op1->value.str.len)",
          "new_text": null,
          "old_line_content": "\t\t\t\t&& (!memcmp(op1->value.str.val, op2->value.str.val, op1->value.str.len))) {",
          "new_line_content": "\t\t\tresult->value.lval = (op1->value.dval == op2->value.dval);",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "instanceof_function",
          "new_api": null,
          "old_text": "instanceof_function(instance_ce->interfaces[i], ce TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\t\tif (instanceof_function(instance_ce->interfaces[i], ce TSRMLS_CC)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(strval)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tefree(strval); /* should never be empty_string */",
          "new_line_content": "\t\t\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "zend_hash_compare",
          "new_api": null,
          "old_text": "zend_hash_compare(op1->value.ht, op2->value.ht, (compare_func_t) hash_zval_identical_function, 1 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_hash_compare(op1->value.ht, op2->value.ht, (compare_func_t) hash_zval_identical_function, 1 TSRMLS_CC)==0) {",
          "new_line_content": "\t\t\t\tresult->value.lval = 0;",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "zend_hash_compare",
          "new_api": null,
          "old_text": "zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\tresult->value.lval = zend_hash_compare(ht1, ht2, (compare_func_t) hash_zval_compare_function, 0 TSRMLS_CC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(strval)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tefree(strval); /* should never be empty_string */",
          "new_line_content": "\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(len1, len2)",
          "new_text": null,
          "old_line_content": "\tlen = MIN(len1, len2);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "zend_compare_symbol_tables",
          "new_api": null,
          "old_text": "zend_compare_symbol_tables(result, a1->value.ht, a2->value.ht TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\tzend_compare_symbol_tables(result, a1->value.ht, a2->value.ht TSRMLS_CC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "Z_OBJ_HANDLE_P",
          "new_api": null,
          "old_text": "Z_OBJ_HANDLE_P(op2)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_OBJ_HT_P(op1) == Z_OBJ_HT_P(op2) && Z_OBJ_HANDLE_P(op1) == Z_OBJ_HANDLE_P(op2)) {",
          "new_line_content": "\t\t\t\tresult->value.lval = 0;",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(*s1++)",
          "new_text": null,
          "old_line_content": "\t\tc1 = tolower(*s1++);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "increment_string",
          "new_api": null,
          "old_text": "increment_string(op1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tincrement_string(op1);",
          "new_line_content": "\t\t\t\t\t\t/* Not implemented */",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "Z_OBJ_HT_P",
          "new_api": null,
          "old_text": "Z_OBJ_HT_P(o2)",
          "new_text": null,
          "old_line_content": "\tif (Z_OBJ_HT_P(o1) != Z_OBJ_HT_P(o2)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "ZVAL_BOOL",
          "new_api": null,
          "old_text": "ZVAL_BOOL(result, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tZVAL_BOOL(result, 0);",
          "new_line_content": "\t\t\t\tresult->value.lval = 0;",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": "Z_OBJ_HT_P",
          "new_api": null,
          "old_text": "Z_OBJ_HT_P(o1)",
          "new_text": null,
          "old_line_content": "\tif (Z_OBJ_HT_P(o1)->compare_objects == NULL) {",
          "new_line_content": "\t\tresult->value.lval = 1;\t/* Comparing objects of different types is pretty much meaningless */",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "zendi_smart_strcmp",
          "new_api": null,
          "old_text": "zendi_smart_strcmp(result, op1, op2)",
          "new_text": null,
          "old_line_content": "\t\tzendi_smart_strcmp(result, op1, op2);",
          "new_line_content": "\t\tif (op1->value.str.len == op2->value.str.len) {",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "Z_OBJ_HANDLE_P",
          "new_api": null,
          "old_text": "Z_OBJ_HANDLE_P(o2)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_OBJ_HANDLE_P(o1) == Z_OBJ_HANDLE_P(o2)) {",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(len1, len2)",
          "new_text": null,
          "old_line_content": "\tlen = MIN(length, MIN(len1, len2));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "zendi_convert_to_boolean",
          "new_api": null,
          "old_text": "zendi_convert_to_boolean(op1, op1_copy, result)",
          "new_text": null,
          "old_line_content": "\t\tzendi_convert_to_boolean(op1, op1_copy, result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "zendi_convert_to_boolean",
          "new_api": null,
          "old_text": "zendi_convert_to_boolean(op2, op2_copy, result)",
          "new_text": null,
          "old_line_content": "\t\tzendi_convert_to_boolean(op2, op2_copy, result);",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(*s1++)",
          "new_text": null,
          "old_line_content": "\t\tc1 = tolower(*s1++);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "ZEND_NORMALIZE_BOOL",
          "new_api": null,
          "old_text": "ZEND_NORMALIZE_BOOL(op1->value.lval-op2->value.lval)",
          "new_text": null,
          "old_line_content": "\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(op1->value.lval-op2->value.lval);",
          "new_line_content": "\t\t|| op1->type == IS_NULL || op2->type == IS_NULL) {",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "is_identical_function",
          "new_api": null,
          "old_text": "is_identical_function(result, op1, op2 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "   if (is_identical_function(result, op1, op2 TSRMLS_CC) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "compare_objects",
          "new_api": null,
          "old_text": "Z_OBJ_HT_P(o1)->compare_objects(o1, o2 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\t\tresult->value.lval = Z_OBJ_HT_P(o1)->compare_objects(o1, o2 TSRMLS_CC);",
          "new_line_content": "\t\t\tresult->value.lval = 1;",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "ZVAL_DOUBLE",
          "new_api": null,
          "old_text": "ZVAL_DOUBLE(op1, d-1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZVAL_DOUBLE(op1, d-1);",
          "new_line_content": "\tswitch (op1->type) {",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": "STR_FREE",
          "new_api": null,
          "old_text": "STR_FREE(str->value.str.val)",
          "new_text": null,
          "old_line_content": "\t\tSTR_FREE(str->value.str.val);",
          "new_line_content": "    int last=0; /* Shut up the compiler warning */",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "zendi_convert_scalar_to_number",
          "new_api": null,
          "old_text": "zendi_convert_scalar_to_number(op2, op2_copy, result)",
          "new_text": null,
          "old_line_content": "\tzendi_convert_scalar_to_number(op2, op2_copy, result);",
          "new_line_content": "\t\treturn SUCCESS;",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN(length, len2)",
          "new_text": null,
          "old_line_content": "\treturn MIN(length, len1) - MIN(length, len2);",
          "new_line_content": "\t\t\treturn c1 - c2;",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "TSRMLS_FETCH",
          "new_api": null,
          "old_text": "TSRMLS_FETCH()",
          "new_text": null,
          "old_line_content": "\tTSRMLS_FETCH();",
          "new_line_content": "ZEND_API void zend_locale_sprintf_double(zval *op ZEND_FILE_LINE_DC)",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "EG",
          "new_api": null,
          "old_text": "EG(precision)",
          "new_text": null,
          "old_line_content": "\top->value.str.val = (char *) emalloc_rel(MAX_LENGTH_OF_DOUBLE + EG(precision) + 1);",
          "new_line_content": "\tdouble dval = op->value.dval;",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "convert_to_boolean",
          "new_api": null,
          "old_text": "convert_to_boolean(result)",
          "new_text": null,
          "old_line_content": "\tconvert_to_boolean(result);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "EG",
          "new_api": null,
          "old_text": "EG(precision)",
          "new_text": null,
          "old_line_content": "\tsprintf(op->value.str.val, \"%.*G\", (int) EG(precision), dval);",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "zend_binary_strcmp",
          "new_api": null,
          "old_text": "zend_binary_strcmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len)",
          "new_text": null,
          "old_line_content": "\treturn zend_binary_strcmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "STR_FREE",
          "new_api": null,
          "old_text": "STR_FREE(op1->value.str.val)",
          "new_text": null,
          "old_line_content": "\t\t\t\tSTR_FREE(op1->value.str.val);",
          "new_line_content": "\t\t\top1->value.dval = op1->value.dval - 1;",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "ZEND_NORMALIZE_BOOL",
          "new_api": null,
          "old_text": "ZEND_NORMALIZE_BOOL(result->value.dval)",
          "new_text": null,
          "old_line_content": "\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.dval);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "EG",
          "new_api": null,
          "old_text": "EG(float_separator)",
          "new_text": null,
          "old_line_content": "\t\t\t*p = EG(float_separator)[0];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": "zend_binary_strncmp",
          "new_api": null,
          "old_text": "zend_binary_strncmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval)",
          "new_text": null,
          "old_line_content": "\treturn zend_binary_strncmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "is_numeric_string",
          "new_api": null,
          "old_text": "is_numeric_string(op1->value.str.val, op1->value.str.len, &lval, &dval, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tswitch (is_numeric_string(op1->value.str.val, op1->value.str.len, &lval, &dval, 0)) {",
          "new_line_content": "\t\t\t\top1->value.lval = -1;",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "estrndup",
          "new_api": null,
          "old_text": "estrndup(\"1\", sizeof(\"1\")-1)",
          "new_text": null,
          "old_line_content": "\t\tstr->value.str.val = estrndup(\"1\", sizeof(\"1\")-1);",
          "new_line_content": "    int ch;",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": "STR_FREE",
          "new_api": null,
          "old_text": "STR_FREE(op1->value.str.val)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tSTR_FREE(op1->value.str.val);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "ZVAL_DOUBLE",
          "new_api": null,
          "old_text": "ZVAL_DOUBLE(op1, d-1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tZVAL_DOUBLE(op1, d-1);",
          "new_line_content": "\t\t\t\tcase IS_LONG:",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "zend_binary_strcasecmp",
          "new_api": null,
          "old_text": "zend_binary_strcasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len)",
          "new_text": null,
          "old_line_content": "\treturn zend_binary_strcasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "convert_to_boolean",
          "new_api": null,
          "old_text": "convert_to_boolean(result)",
          "new_text": null,
          "old_line_content": "\tconvert_to_boolean(result);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "zend_binary_strncasecmp",
          "new_api": null,
          "old_text": "zend_binary_strncasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval)",
          "new_text": null,
          "old_line_content": "\treturn zend_binary_strncasecmp(s1->value.str.val, s1->value.str.len, s2->value.str.val, s2->value.str.len, s3->value.lval);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "STR_FREE",
          "new_api": null,
          "old_text": "STR_FREE(op1->value.str.val)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tSTR_FREE(op1->value.str.val);",
          "new_line_content": "\t\t\t\t\t\top1->type = IS_LONG;",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "is_numeric_string",
          "new_api": null,
          "old_text": "is_numeric_string(s1->value.str.val, s1->value.str.len, &lval1, &dval1, 0)",
          "new_text": null,
          "old_line_content": "\tif ((ret1=is_numeric_string(s1->value.str.val, s1->value.str.len, &lval1, &dval1, 0)) &&",
          "new_line_content": "\tint ret1, ret2;",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "is_numeric_string",
          "new_api": null,
          "old_text": "is_numeric_string(s2->value.str.val, s2->value.str.len, &lval2, &dval2, 0)",
          "new_text": null,
          "old_line_content": "\t\t(ret2=is_numeric_string(s2->value.str.val, s2->value.str.len, &lval2, &dval2, 0))) {",
          "new_line_content": "\tlong lval1, lval2;",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(str->value.str.len+1+1)",
          "new_text": null,
          "old_line_content": "        t = (char *) emalloc(str->value.str.len+1+1);",
          "new_line_content": "        pos--;",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(t+1, str->value.str.val, str->value.str.len)",
          "new_text": null,
          "old_line_content": "        memcpy(t+1, str->value.str.val, str->value.str.len);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "convert_to_boolean",
          "new_api": null,
          "old_text": "convert_to_boolean(op)",
          "new_text": null,
          "old_line_content": "\tconvert_to_boolean(op);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "init_num",
          "new_api": null,
          "old_text": "init_num(&first)",
          "new_text": null,
          "old_line_content": "\t\t\tinit_num(&first);",
          "new_line_content": "\t\tif ((ret1==FLAG_IS_BC) || (ret2==FLAG_IS_BC)) {",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "init_num",
          "new_api": null,
          "old_text": "init_num(&second)",
          "new_text": null,
          "old_line_content": "\t\t\tinit_num(&second);",
          "new_line_content": "\t\t\tbc_num first, second;",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "str2num",
          "new_api": null,
          "old_text": "str2num(&first, s1->value.str.val, 100)",
          "new_text": null,
          "old_line_content": "\t\t\tstr2num(&first, s1->value.str.val, 100); /* this scale should do */",
          "new_line_content": "\t\t\t",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "str2num",
          "new_api": null,
          "old_text": "str2num(&second, s2->value.str.val, 100)",
          "new_text": null,
          "old_line_content": "\t\t\tstr2num(&second, s2->value.str.val, 100); /* ditto */",
          "new_line_content": "\t\t\t/* use the BC math library to compare the numbers */",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "ZVAL_BOOL",
          "new_api": null,
          "old_text": "ZVAL_BOOL(result, 0)",
          "new_text": null,
          "old_line_content": "\tZVAL_BOOL(result, 0);",
          "new_line_content": "\t\tresult->type = IS_LONG;",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister unsigned char *str = (unsigned char*)source;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister unsigned char *result = dest;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister unsigned char *end = str + length;",
          "new_line_content": "ZEND_API char *zend_str_tolower_copy(char *dest, const char *source, unsigned int length)",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "zend_error",
          "new_api": null,
          "old_text": "zend_error(E_ERROR, \"Unsupported operand types\")",
          "new_text": null,
          "old_line_content": "\tzend_error(E_ERROR, \"Unsupported operand types\");",
          "new_line_content": "\t\t\tresult->value.lval = 0;",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "TSRMLS_FETCH",
          "new_api": null,
          "old_text": "TSRMLS_FETCH()",
          "new_text": null,
          "old_line_content": "\tTSRMLS_FETCH();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "strtod",
          "new_api": null,
          "old_text": "strtod(s1->value.str.val, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdval1 = strtod(s1->value.str.val, NULL);",
          "new_line_content": "\t\t} else",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "STR_FREE",
          "new_api": null,
          "old_text": "STR_FREE(str->value.str.val)",
          "new_text": null,
          "old_line_content": "        STR_FREE(str->value.str.val);",
          "new_line_content": "            case LOWER_CASE:",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": "strtod",
          "new_api": null,
          "old_text": "strtod(s2->value.str.val, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdval2 = strtod(s2->value.str.val, NULL);",
          "new_line_content": "\t\tif ((ret1==IS_DOUBLE) || (ret2==IS_DOUBLE)) {",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": "ZEND_NORMALIZE_BOOL",
          "new_api": null,
          "old_text": "ZEND_NORMALIZE_BOOL(result->value.dval)",
          "new_text": null,
          "old_line_content": "\t\t\tresult->value.lval = ZEND_NORMALIZE_BOOL(result->value.dval);",
          "new_line_content": "\t\t\t} else if (ret2!=IS_DOUBLE) {",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": "is_identical_function",
          "new_api": null,
          "old_text": "is_identical_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)",
          "new_text": null,
          "old_line_content": "\tif (is_identical_function(&result, (zval *) *z1, (zval *) *z2 TSRMLS_CC)==FAILURE) {",
          "new_line_content": "\t * of a difference;",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister unsigned char *p = (unsigned char*)str;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister unsigned char *end = p + length;",
          "new_line_content": "\t",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 12,
      "total_additions": 77,
      "total_deletions": 76,
      "total_api_changes": 165
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 165,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          1205,
          1207
        ]
      }
    },
    "api_calls_before": 272,
    "api_calls_after": 273,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 1,
      "total_diff_lines": 18
    }
  }
}