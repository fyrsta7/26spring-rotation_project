{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/ac0e07ecdaa1ecda91de17784d0e0348c105c435",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/ac0e07ecdaa1ecda91de17784d0e0348c105c435/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/ac0e07ecdaa1ecda91de17784d0e0348c105c435/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/ac0e07ecdaa1ecda91de17784d0e0348c105c435/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 422,
          "old_api": "AG",
          "new_api": "zend_get_ini_entry",
          "old_text": "AG(fast_cache_stats)",
          "new_text": "zend_get_ini_entry(\"display_memory_cache_stats\", sizeof(\"display_memory_cache_stats\"), &display_memory_cache_stats)",
          "old_line_content": "\t\t\t\t\t\t((double) AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1] / (AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][0]+AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1]))*100);",
          "new_line_content": "\t\tif (zend_get_ini_entry(\"display_memory_cache_stats\", sizeof(\"display_memory_cache_stats\"), &display_memory_cache_stats)==FAILURE) {",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "vsprintf",
          "new_api": "fprintf",
          "old_text": "vsprintf(output_buf, format, args)",
          "new_text": "fprintf(stderr, \"\\n\")",
          "old_line_content": "\tvsprintf(output_buf, format, args);",
          "new_line_content": "\t\t\tfprintf(stderr, \"\\n\");",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "zend_debug_alloc_output",
          "new_api": "ALS_FETCH",
          "old_text": "zend_debug_alloc_output(\"------------------------------------------------\\n\")",
          "new_text": "ALS_FETCH()",
          "old_line_content": "\tzend_debug_alloc_output(\"------------------------------------------------\\n\");",
          "new_line_content": "\tALS_FETCH();",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "HANDLE_BLOCK_INTERRUPTIONS",
          "new_api": "zend_debug_alloc_output",
          "old_text": "HANDLE_BLOCK_INTERRUPTIONS()",
          "new_text": "zend_debug_alloc_output(\"End of full memory check %s:%d (%d errors)\\n\" ZEND_FILE_LINE_RELAY_CC, errors)",
          "old_line_content": "\tHANDLE_BLOCK_INTERRUPTIONS();",
          "new_line_content": "\tzend_debug_alloc_output(\"End of full memory check %s:%d (%d errors)\\n\" ZEND_FILE_LINE_RELAY_CC, errors);",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "HANDLE_UNBLOCK_INTERRUPTIONS",
          "new_api": "ALS_FETCH",
          "old_text": "HANDLE_UNBLOCK_INTERRUPTIONS()",
          "new_text": "ALS_FETCH()",
          "old_line_content": "\tHANDLE_UNBLOCK_INTERRUPTIONS();",
          "new_line_content": "\tALS_FETCH();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 515,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"Cached (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size)",
          "old_line_content": "\t\t\thad_problems=1;",
          "new_line_content": "\t\t\t\t\tzend_debug_alloc_output(\"Cached (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size);",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "zend_message_dispatcher",
          "old_text": null,
          "new_text": "zend_message_dispatcher(ZMSG_MEMORY_LEAK_DETECTED, t)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tzend_message_dispatcher(ZMSG_MEMORY_LEAK_DETECTED, t);",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "_mem_block_check",
          "old_text": null,
          "new_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"Overrun (magic=0x%0.8lX, expected=0x%0.8lX)\\n\", p->magic, MEM_BLOCK_START_MAGIC)",
          "old_line_content": "\t\tint i;",
          "new_line_content": "\t\t\t\tzend_debug_alloc_output(\"Overrun (magic=0x%0.8lX, expected=0x%0.8lX)\\n\", p->magic, MEM_BLOCK_START_MAGIC);",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "_mem_block_check",
          "old_text": null,
          "new_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "\t\tif (silent) {",
          "new_line_content": "\t\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "zend_message_dispatcher",
          "old_text": null,
          "new_text": "zend_message_dispatcher(ZMSG_MEMORY_LEAK_REPEATED, (void *) (long) (total_leak_count))",
          "old_line_content": "\t\tzval display_memory_cache_stats;",
          "new_line_content": "\t\t\t\t\tzend_message_dispatcher(ZMSG_MEMORY_LEAK_REPEATED, (void *) (long) (total_leak_count));",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "REMOVE_POINTER_FROM_LIST",
          "old_text": null,
          "new_text": "REMOVE_POINTER_FROM_LIST(t)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tREMOVE_POINTER_FROM_LIST(t);",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(t)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tfree(t);",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": null,
          "new_api": "END_ALIGNMENT",
          "old_text": null,
          "new_text": "END_ALIGNMENT(p->size)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t&& *((long *)(((char *) p)+sizeof(zend_mem_header)+p->size+PLATFORM_PADDING+END_ALIGNMENT(p->size))) != MEM_BLOCK_END_MAGIC) {",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "_mem_block_check",
          "old_text": null,
          "new_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "\t\tif (overflows>=sizeof(long)) {",
          "new_line_content": "\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(display_memory_cache_stats.value.str.val)",
          "old_line_content": "\t\tfor (i=0; i<MAX_CACHED_MEMORY; i+=2) {",
          "new_line_content": "\t\tif (!atoi(display_memory_cache_stats.value.str.val)) {",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"%10s\\t\", \"End:\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\", \"End:\");",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"Overflown (magic=0x%0.8lX instead of 0x%0.8lX)\\n\", \n\t\t\t\t*((long *)(((char *) p) + sizeof(zend_mem_header)+p->size+PLATFORM_PADDING+END_ALIGNMENT(p->size))), MEM_BLOCK_END_MAGIC)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tzend_debug_alloc_output(\"Overflown (magic=0x%0.8lX instead of 0x%0.8lX)\\n\", ",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "END_ALIGNMENT",
          "old_text": null,
          "new_text": "END_ALIGNMENT(p->size)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t*((long *)(((char *) p) + sizeof(zend_mem_header)+p->size+PLATFORM_PADDING+END_ALIGNMENT(p->size))), MEM_BLOCK_END_MAGIC);",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"%10s\\t\",\"\")",
          "old_line_content": "\tif (had_problems) {",
          "new_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\",\"\");",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"At least %d bytes overflown\\n\", sizeof(long))",
          "old_line_content": "",
          "new_line_content": "\t\t\tzend_debug_alloc_output(\"At least %d bytes overflown\\n\", sizeof(long));",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_stats)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\t\tAG(fast_cache_stats)[ZVAL_CACHE_LIST][1], AG(fast_cache_stats)[ZVAL_CACHE_LIST][0]+AG(fast_cache_stats)[ZVAL_CACHE_LIST][1],",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"%d byte(s) overflown\\n\", overflows)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tzend_debug_alloc_output(\"%d byte(s) overflown\\n\", overflows);",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_stats)",
          "old_line_content": "\t\t\t\t\t",
          "new_line_content": "\t\t\t\t\t\t((double) AG(fast_cache_stats)[ZVAL_CACHE_LIST][1] / (AG(fast_cache_stats)[ZVAL_CACHE_LIST][0]+AG(fast_cache_stats)[ZVAL_CACHE_LIST][1]))*100,",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_stats)",
          "old_line_content": "#endif",
          "new_line_content": "\t\t\t\t\t\tAG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1], AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][0]+AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1],",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_stats)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\t\t\t((double) AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1] / (AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][0]+AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1]))*100);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"OK\\n\")",
          "old_line_content": "\treturn ((!had_problems) ? 1 : 0);",
          "new_line_content": "\t\t\tzend_debug_alloc_output(\"OK\\n\");",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"Unknown\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tzend_debug_alloc_output(\"Unknown\\n\");",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"[%2d, %2d]\\t\\t\", i, i+1)",
          "old_line_content": "void zend_debug_alloc_output(char *format, ...)",
          "new_line_content": "\t\t\tfprintf(stderr, \"[%2d, %2d]\\t\\t\", i, i+1);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%d / %d (%.2f%%)\\t\\t\",\n\t\t\t\t\t\tAG(cache_stats)[i+j][1], AG(cache_stats)[i+j][0]+AG(cache_stats)[i+j][1],\n\t\t\t\t\t\t((double) AG(cache_stats)[i+j][1] / (AG(cache_stats)[i+j][0]+AG(cache_stats)[i+j][1]))*100)",
          "old_line_content": "\tchar output_buf[256];",
          "new_line_content": "\t\t\t\tfprintf(stderr, \"%d / %d (%.2f%%)\\t\\t\",",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(cache_stats)",
          "old_line_content": "\tva_list args;",
          "new_line_content": "\t\t\t\t\t\tAG(cache_stats)[i+j][1], AG(cache_stats)[i+j][0]+AG(cache_stats)[i+j][1],",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(cache_stats)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t((double) AG(cache_stats)[i+j][1] / (AG(cache_stats)[i+j][0]+AG(cache_stats)[i+j][1]))*100);",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(memory_limit)",
          "old_line_content": "#endif",
          "new_line_content": "\tAG(memory_limit)=1<<30;\t\t/* rediculous limit, effectively no limit */",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(allocated_memory)",
          "old_line_content": "",
          "new_line_content": "\tAG(allocated_memory)=0;",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(memory_exhausted)",
          "old_line_content": "#if ZEND_DEBUG",
          "new_line_content": "\tAG(memory_exhausted)=0;",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(args, format)",
          "old_line_content": "\tint no_cache_notice=0;",
          "new_line_content": "\tva_start(args, format);",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(cache_stats)",
          "old_line_content": "",
          "new_line_content": "\tmemset(AG(cache_stats), 0, sizeof(AG(cache_stats)));",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "vsprintf",
          "old_text": null,
          "new_text": "vsprintf(output_buf, format, args)",
          "old_line_content": "\tint valid_beginning=1;",
          "new_line_content": "\tvsprintf(output_buf, format, args);",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(head)",
          "old_line_content": "#endif",
          "new_line_content": "\tp = AG(head);",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(args)",
          "old_line_content": "\tint had_problems=0;",
          "new_line_content": "\tva_end(args);",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_list_head)",
          "old_line_content": "",
          "new_line_content": "\tmemset(AG(fast_cache_list_head), 0, sizeof(AG(fast_cache_list_head)));",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"------------------------------------------------\\n\")",
          "old_line_content": "ZEND_API int _persist_alloc(void *ptr ZEND_FILE_LINE_DC ZEND_FILE_LINE_ORIG_DC)",
          "new_line_content": "\tzend_debug_alloc_output(\"------------------------------------------------\\n\");",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"Full Memory Check at %s:%d\\n\" ZEND_FILE_LINE_RELAY_CC)",
          "old_line_content": "{",
          "new_line_content": "\tzend_debug_alloc_output(\"Full Memory Check at %s:%d\\n\" ZEND_FILE_LINE_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(cache_count)",
          "old_line_content": "",
          "new_line_content": "\tmemset(AG(cache_count),0,MAX_CACHED_MEMORY*sizeof(unsigned char));",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "OutputDebugString",
          "old_text": null,
          "new_text": "OutputDebugString(output_buf)",
          "old_line_content": "\t\tsilent=1;",
          "new_line_content": "\tOutputDebugString(output_buf);",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": null,
          "new_api": "_mem_block_check",
          "old_text": null,
          "new_text": "_mem_block_check((void *)((char *)p + sizeof(zend_mem_header) + PLATFORM_PADDING), (silent?2:3) ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!_mem_block_check((void *)((char *)p + sizeof(zend_mem_header) + PLATFORM_PADDING), (silent?2:3) ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)) {",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(i)",
          "old_line_content": "#if ZEND_DEBUG",
          "new_line_content": "\t\t\tcached_entries[i][j] = emalloc(i);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, output_buf)",
          "old_line_content": "\t}",
          "new_line_content": "\tfprintf(stderr, output_buf);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"------------------------------------------------\\n\")",
          "old_line_content": "",
          "new_line_content": "\tzend_debug_alloc_output(\"------------------------------------------------\\n\");",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(cached_entries[i][j])",
          "old_line_content": "",
          "new_line_content": "\t\t\tefree(cached_entries[i][j]);",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "_mem_block_check",
          "old_text": null,
          "new_text": "_mem_block_check(ptr, 1 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "",
          "new_line_content": "\t_mem_block_check(ptr, 1 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "zend_message_dispatcher",
          "old_text": null,
          "new_text": "zend_message_dispatcher(ZMSG_LOG_SCRIPT_NAME, NULL)",
          "old_line_content": "\t\tcase MEM_BLOCK_FREED_MAGIC:",
          "new_line_content": "\t\tzend_message_dispatcher(ZMSG_LOG_SCRIPT_NAME, NULL);",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"---------------------------------------\\n\")",
          "old_line_content": "\t\t\tif (!silent) {",
          "new_line_content": "\t\tzend_debug_alloc_output(\"---------------------------------------\\n\");",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "HANDLE_BLOCK_INTERRUPTIONS",
          "old_text": null,
          "new_text": "HANDLE_BLOCK_INTERRUPTIONS()",
          "old_line_content": " * Local variables:",
          "new_line_content": "\tHANDLE_BLOCK_INTERRUPTIONS();",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": null,
          "new_api": "ALS_FETCH",
          "old_text": null,
          "new_text": "ALS_FETCH()",
          "old_line_content": "\twhile (t) {",
          "new_line_content": "\tALS_FETCH();",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"%s(%d) : Actual location (location was relayed)\\n\" ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\tzend_debug_alloc_output(\"%s(%d) : Actual location (location was relayed)\\n\" ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "REMOVE_POINTER_FROM_LIST",
          "old_text": null,
          "new_text": "REMOVE_POINTER_FROM_LIST(p)",
          "old_line_content": " * End:",
          "new_line_content": "\tREMOVE_POINTER_FROM_LIST(p);",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_list_head)",
          "old_line_content": "\t\t\t\tzend_mem_header *iterator;",
          "new_line_content": "\t\tfast_cache_list_entry = AG(fast_cache_list_head)[fci];",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"%10s\\t\",\"Beginning:  \")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\",\"Beginning:  \");",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(fast_cache_list_entry)",
          "old_line_content": "\t\t\t\thad_leaks=1;",
          "new_line_content": "\t\t\tefree(fast_cache_list_entry);",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "ADD_POINTER_TO_LIST",
          "old_text": null,
          "new_text": "ADD_POINTER_TO_LIST(p)",
          "old_line_content": "",
          "new_line_content": "\tADD_POINTER_TO_LIST(p);",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "HANDLE_UNBLOCK_INTERRUPTIONS",
          "old_text": null,
          "new_text": "HANDLE_UNBLOCK_INTERRUPTIONS()",
          "old_line_content": "",
          "new_line_content": "\tHANDLE_UNBLOCK_INTERRUPTIONS();",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(fast_cache_list_head)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\tAG(fast_cache_list_head)[fci] = NULL;",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"OK (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size)",
          "old_line_content": "\t\t\t\t\thad_problems=1;",
          "new_line_content": "\t\t\t\tzend_debug_alloc_output(\"OK (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(head)",
          "old_line_content": "\t\t\t\t\tif (!iterator->cached",
          "new_line_content": "\tp=AG(head);",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "AG",
          "old_text": null,
          "new_text": "AG(head)",
          "old_line_content": "\t\t\t\t\t\t&& iterator->filename==t->filename",
          "new_line_content": "\tt=AG(head);",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "zend_debug_alloc_output",
          "old_text": null,
          "new_text": "zend_debug_alloc_output(\"Freed\\n\")",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tzend_debug_alloc_output(\"Freed\\n\");",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "_mem_block_check",
          "old_text": null,
          "new_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\t\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 513,
          "old_api": "_mem_block_check",
          "new_api": null,
          "old_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "new_line_content": "\t\t\tif (!silent) {",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "zend_message_dispatcher",
          "new_api": null,
          "old_text": "zend_message_dispatcher(ZMSG_MEMORY_LEAK_REPEATED, (void *) (long) (total_leak_count))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzend_message_dispatcher(ZMSG_MEMORY_LEAK_REPEATED, (void *) (long) (total_leak_count));",
          "new_line_content": "\t\t\t\thad_leaks=1;",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "REMOVE_POINTER_FROM_LIST",
          "new_api": null,
          "old_text": "REMOVE_POINTER_FROM_LIST(t)",
          "new_text": null,
          "old_line_content": "\t\t\tREMOVE_POINTER_FROM_LIST(t);",
          "new_line_content": "\t\t\t\tfor (iterator=t->pNext; iterator; iterator=iterator->pNext) {",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(t)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(t);",
          "new_line_content": "\t\t\t\t\tif (!iterator->cached",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "END_ALIGNMENT",
          "new_api": null,
          "old_text": "END_ALIGNMENT(p->size)",
          "new_text": null,
          "old_line_content": "\t\t&& *((long *)(((char *) p)+sizeof(zend_mem_header)+p->size+PLATFORM_PADDING+END_ALIGNMENT(p->size))) != MEM_BLOCK_END_MAGIC) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "_mem_block_check",
          "new_api": null,
          "old_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "zend_get_ini_entry",
          "new_api": null,
          "old_text": "zend_get_ini_entry(\"display_memory_cache_stats\", sizeof(\"display_memory_cache_stats\"), &display_memory_cache_stats)",
          "new_text": null,
          "old_line_content": "\t\tif (zend_get_ini_entry(\"display_memory_cache_stats\", sizeof(\"display_memory_cache_stats\"), &display_memory_cache_stats)==FAILURE) {",
          "new_line_content": "\t\t\tt = p;",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(display_memory_cache_stats.value.str.val)",
          "new_text": null,
          "old_line_content": "\t\tif (!atoi(display_memory_cache_stats.value.str.val)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%10s\\t\", \"End:\")",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\", \"End:\");",
          "new_line_content": "\t\tint overflows=0;",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"Overflown (magic=0x%0.8lX instead of 0x%0.8lX)\\n\", \n\t\t\t\t*((long *)(((char *) p) + sizeof(zend_mem_header)+p->size+PLATFORM_PADDING+END_ALIGNMENT(p->size))), MEM_BLOCK_END_MAGIC)",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"Overflown (magic=0x%0.8lX instead of 0x%0.8lX)\\n\", ",
          "new_line_content": "\t\tint i;",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "END_ALIGNMENT",
          "new_api": null,
          "old_text": "END_ALIGNMENT(p->size)",
          "new_text": null,
          "old_line_content": "\t\t\t\t*((long *)(((char *) p) + sizeof(zend_mem_header)+p->size+PLATFORM_PADDING+END_ALIGNMENT(p->size))), MEM_BLOCK_END_MAGIC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%10s\\t\",\"\")",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\",\"\");",
          "new_line_content": "\t\tif (silent) {",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Memory cache statistics\\n\"\n\t\t\t\t\t\t\"-----------------------\\n\\n\"\n\t\t\t\t\t\t\"[zval, %2ld]\\t\\t%d / %d (%.2f%%)\\n\"\n\t\t\t\t\t\t\"[hash, %2ld]\\t\\t%d / %d (%.2f%%)\\n\",\n\t\t\t\t\t\t(long) sizeof(zval),\n\t\t\t\t\t\tAG(fast_cache_stats)[ZVAL_CACHE_LIST][1], AG(fast_cache_stats)[ZVAL_CACHE_LIST][0]+AG(fast_cache_stats)[ZVAL_CACHE_LIST][1],\n\t\t\t\t\t\t((double) AG(fast_cache_stats)[ZVAL_CACHE_LIST][1] / (AG(fast_cache_stats)[ZVAL_CACHE_LIST][0]+AG(fast_cache_stats)[ZVAL_CACHE_LIST][1]))*100,\n\t\t\t\t\t\t(long) sizeof(HashTable),\n\t\t\t\t\t\tAG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1], AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][0]+AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1],\n\t\t\t\t\t\t((double) AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1] / (AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][0]+AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1]))*100)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, \"Memory cache statistics\\n\"",
          "new_line_content": "#if (ZEND_DEBUG)",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"At least %d bytes overflown\\n\", sizeof(long))",
          "new_text": null,
          "old_line_content": "\t\t\tzend_debug_alloc_output(\"At least %d bytes overflown\\n\", sizeof(long));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(fast_cache_stats)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tAG(fast_cache_stats)[ZVAL_CACHE_LIST][1], AG(fast_cache_stats)[ZVAL_CACHE_LIST][0]+AG(fast_cache_stats)[ZVAL_CACHE_LIST][1],",
          "new_line_content": "\t\tif (clean_cache) {",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%d byte(s) overflown\\n\", overflows)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_debug_alloc_output(\"%d byte(s) overflown\\n\", overflows);",
          "new_line_content": "\t\toverflow_ptr = ((char *) p)+sizeof(zend_mem_header)+p->size+PLATFORM_PADDING;",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(fast_cache_stats)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t((double) AG(fast_cache_stats)[ZVAL_CACHE_LIST][1] / (AG(fast_cache_stats)[ZVAL_CACHE_LIST][0]+AG(fast_cache_stats)[ZVAL_CACHE_LIST][1]))*100,",
          "new_line_content": "\t\t\t/* we're shutting down completely, don't even touch the INI subsystem */",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(fast_cache_stats)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tAG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1], AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][0]+AG(fast_cache_stats)[HASHTABLE_CACHE_LIST][1],",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%10s\\t\", \"End:\")",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\", \"End:\");",
          "new_line_content": "\t\t\tif (overflow_ptr[i]!=magic_ptr[i]) {",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"OK\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_debug_alloc_output(\"OK\\n\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"Unknown\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_debug_alloc_output(\"Unknown\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"[%2d, %2d]\\t\\t\", i, i+1)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"[%2d, %2d]\\t\\t\", i, i+1);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(cache_stats)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tAG(cache_stats)[i+j][1], AG(cache_stats)[i+j][0]+AG(cache_stats)[i+j][1],",
          "new_line_content": "\t\t\t\t\t\t\"-----------------------\\n\\n\"",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(cache_stats)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t((double) AG(cache_stats)[i+j][1] / (AG(cache_stats)[i+j][0]+AG(cache_stats)[i+j][1]))*100);",
          "new_line_content": "\t\t\t\t\t\t\"[zval, %2ld]\\t\\t%d / %d (%.2f%%)\\n\"",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"\\n\");",
          "new_line_content": "\t\t\t\t\t\t(long) sizeof(zval),",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(args, format)",
          "new_text": null,
          "old_line_content": "\tva_start(args, format);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "ALS_FETCH",
          "new_api": null,
          "old_text": "ALS_FETCH()",
          "new_text": null,
          "old_line_content": "\tALS_FETCH();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(args)",
          "new_text": null,
          "old_line_content": "\tva_end(args);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(head)",
          "new_text": null,
          "old_line_content": "\tp = AG(head);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(head)",
          "new_text": null,
          "old_line_content": "\tAG(phead) = AG(head) = NULL;",
          "new_line_content": "\tint i, j;",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "OutputDebugString",
          "new_api": null,
          "old_text": "OutputDebugString(output_buf)",
          "new_text": null,
          "old_line_content": "\tOutputDebugString(output_buf);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"Full Memory Check at %s:%d\\n\" ZEND_FILE_LINE_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\tzend_debug_alloc_output(\"Full Memory Check at %s:%d\\n\" ZEND_FILE_LINE_RELAY_CC);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(allocated_memory)",
          "new_text": null,
          "old_line_content": "\tAG(allocated_memory)=0;",
          "new_line_content": "\t",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(memory_exhausted)",
          "new_text": null,
          "old_line_content": "\tAG(memory_exhausted)=0;",
          "new_line_content": "#if MEMORY_LIMIT",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "_mem_block_check",
          "new_api": null,
          "old_text": "_mem_block_check((void *)((char *)p + sizeof(zend_mem_header) + PLATFORM_PADDING), (silent?2:3) ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t\tif (!_mem_block_check((void *)((char *)p + sizeof(zend_mem_header) + PLATFORM_PADDING), (silent?2:3) ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, output_buf)",
          "new_text": null,
          "old_line_content": "\tfprintf(stderr, output_buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(cache_stats)",
          "new_text": null,
          "old_line_content": "\tmemset(AG(cache_stats), 0, sizeof(AG(cache_stats)));",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(fast_cache_stats)",
          "new_text": null,
          "old_line_content": "\tmemset(AG(fast_cache_stats), 0, sizeof(AG(fast_cache_stats)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"End of full memory check %s:%d (%d errors)\\n\" ZEND_FILE_LINE_RELAY_CC, errors)",
          "new_text": null,
          "old_line_content": "\tzend_debug_alloc_output(\"End of full memory check %s:%d (%d errors)\\n\" ZEND_FILE_LINE_RELAY_CC, errors);",
          "new_line_content": "\tint errors=0;",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(cache_count)",
          "new_text": null,
          "old_line_content": "\tmemset(AG(cache_count),0,MAX_CACHED_MEMORY*sizeof(unsigned char));",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "ALS_FETCH",
          "new_api": null,
          "old_text": "ALS_FETCH()",
          "new_text": null,
          "old_line_content": "\tALS_FETCH();",
          "new_line_content": "\twhile (p) {",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "_mem_block_check",
          "new_api": null,
          "old_text": "_mem_block_check(ptr, 1 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t_mem_block_check(ptr, 1 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "zend_message_dispatcher",
          "new_api": null,
          "old_text": "zend_message_dispatcher(ZMSG_LOG_SCRIPT_NAME, NULL)",
          "new_text": null,
          "old_line_content": "\t\tzend_message_dispatcher(ZMSG_LOG_SCRIPT_NAME, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"---------------------------------------\\n\")",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"---------------------------------------\\n\");",
          "new_line_content": "\tzend_mem_header *p = (zend_mem_header *) ((char *)ptr - sizeof(zend_mem_header) - PLATFORM_PADDING);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "ALS_FETCH",
          "new_api": null,
          "old_text": "ALS_FETCH()",
          "new_text": null,
          "old_line_content": "\tALS_FETCH();",
          "new_line_content": "\t\tfor (j=0; j<MAX_CACHED_ENTRIES; j++) {",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%s(%d) : Block 0x%0.8lX status:\\n\" ZEND_FILE_LINE_RELAY_CC, (long) p)",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"%s(%d) : Block 0x%0.8lX status:\\n\" ZEND_FILE_LINE_RELAY_CC, (long) p);",
          "new_line_content": "\tint no_cache_notice=0;",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%s(%d) : Actual location (location was relayed)\\n\" ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_debug_alloc_output(\"%s(%d) : Actual location (location was relayed)\\n\" ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "new_line_content": "\tint had_problems=0;",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "REMOVE_POINTER_FROM_LIST",
          "new_api": null,
          "old_text": "REMOVE_POINTER_FROM_LIST(p)",
          "new_text": null,
          "old_line_content": "\tREMOVE_POINTER_FROM_LIST(p);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(fast_cache_list_head)",
          "new_text": null,
          "old_line_content": "\t\tfast_cache_list_entry = AG(fast_cache_list_head)[fci];",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"%10s\\t\",\"Beginning:  \")",
          "new_text": null,
          "old_line_content": "\t\tzend_debug_alloc_output(\"%10s\\t\",\"Beginning:  \");",
          "new_line_content": "\tif (silent==2) {",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(fast_cache_list_entry)",
          "new_text": null,
          "old_line_content": "\t\t\tefree(fast_cache_list_entry);",
          "new_line_content": "ZEND_API void shutdown_memory_manager(int silent, int clean_cache)",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "ADD_POINTER_TO_LIST",
          "new_api": null,
          "old_text": "ADD_POINTER_TO_LIST(p)",
          "new_text": null,
          "old_line_content": "\tADD_POINTER_TO_LIST(p);",
          "new_line_content": "\tzend_mem_header *p = (zend_mem_header *) ((char *)ptr-sizeof(zend_mem_header)-PLATFORM_PADDING);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(fast_cache_list_head)",
          "new_text": null,
          "old_line_content": "\t\tAG(fast_cache_list_head)[fci] = NULL;",
          "new_line_content": "\tint fci;",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"OK (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_debug_alloc_output(\"OK (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size);",
          "new_line_content": "\t\tno_cache_notice=1;",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(head)",
          "new_text": null,
          "old_line_content": "\tp=AG(head);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "AG",
          "new_api": null,
          "old_text": "AG(head)",
          "new_text": null,
          "old_line_content": "\tt=AG(head);",
          "new_line_content": "\tzend_fast_cache_list_entry *fast_cache_list_entry, *next_fast_cache_list_entry;",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "_mem_block_check",
          "new_api": null,
          "old_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "zend_message_dispatcher",
          "new_api": null,
          "old_text": "zend_message_dispatcher(ZMSG_MEMORY_LEAK_DETECTED, t)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzend_message_dispatcher(ZMSG_MEMORY_LEAK_DETECTED, t);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"Cached (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzend_debug_alloc_output(\"Cached (allocated on %s:%d, %d bytes)\\n\", p->filename, p->lineno, p->size);",
          "new_line_content": "\t\t\tif (!silent) {",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "_mem_block_check",
          "new_api": null,
          "old_text": "_mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\treturn _mem_block_check(ptr, 0 ZEND_FILE_LINE_RELAY_CC ZEND_FILE_LINE_ORIG_RELAY_CC);",
          "new_line_content": "\t\t\tif (!silent) {",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": "zend_debug_alloc_output",
          "new_api": null,
          "old_text": "zend_debug_alloc_output(\"Overrun (magic=0x%0.8lX, expected=0x%0.8lX)\\n\", p->magic, MEM_BLOCK_START_MAGIC)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_debug_alloc_output(\"Overrun (magic=0x%0.8lX, expected=0x%0.8lX)\\n\", p->magic, MEM_BLOCK_START_MAGIC);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 5,
      "total_additions": 63,
      "total_deletions": 61,
      "total_api_changes": 129
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 15,
        "api_related_lines": 129,
        "non_api_lines": 11,
        "non_api_line_numbers": [
          323,
          324,
          340,
          341,
          342,
          343,
          345,
          346,
          347,
          350,
          351
        ]
      }
    },
    "api_calls_before": 157,
    "api_calls_after": 159,
    "diff_info": {
      "added_lines": 15,
      "removed_lines": 0,
      "total_diff_lines": 34
    }
  }
}