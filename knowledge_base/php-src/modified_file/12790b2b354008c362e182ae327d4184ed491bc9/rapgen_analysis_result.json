{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/12790b2b354008c362e182ae327d4184ed491bc9",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/12790b2b354008c362e182ae327d4184ed491bc9/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/12790b2b354008c362e182ae327d4184ed491bc9/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/12790b2b354008c362e182ae327d4184ed491bc9/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1815,
          "old_api": "RETURN_THROWS",
          "new_api": "zend_argument_value_error",
          "old_text": "RETURN_THROWS()",
          "new_text": "zend_argument_value_error(3 + mode, \"must have a \\\"query\\\" key\")",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tzend_argument_value_error(3 + mode, \"must have a \\\"query\\\" key\");",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "RETURN_THROWS",
          "new_api": "zend_zval_value_name",
          "old_text": "RETURN_THROWS()",
          "new_text": "zend_zval_value_name(tmp)",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tzend_argument_type_error(3 + mode, \"\\\"query\\\" option must be a string, %s given\", zend_zval_value_name(tmp));",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "Z_ARRVAL_P",
          "new_api": "zend_hash_str_find",
          "old_text": "Z_ARRVAL_P(tmp)",
          "new_text": "zend_hash_str_find(ht, \"namespaces\", sizeof(\"namespaces\")-1)",
          "old_line_content": "\t\tif (tmp && Z_TYPE_P(tmp) == IS_ARRAY && !HT_IS_PACKED(Z_ARRVAL_P(tmp))) {",
          "new_line_content": "\t\ttmp = zend_hash_str_find(ht, \"namespaces\", sizeof(\"namespaces\")-1);",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "zend_throw_error",
          "new_api": "xmlXPathFreeContext",
          "old_text": "zend_throw_error(NULL, \"XPath query did not return a nodeset\")",
          "new_text": "xmlXPathFreeContext(ctxp)",
          "old_line_content": "\t\t\tzend_throw_error(NULL, \"XPath query did not return a nodeset\");",
          "new_line_content": "\t\t\txmlXPathFreeContext(ctxp);",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "RETURN_THROWS",
          "new_api": "zend_throw_error",
          "old_text": "RETURN_THROWS()",
          "new_text": "zend_throw_error(NULL, \"XPath query did not return a nodeset\")",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tzend_throw_error(NULL, \"XPath query did not return a nodeset\");",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "Z_STRVAL_P",
          "new_api": "Z_TYPE_P",
          "old_text": "Z_STRVAL_P(tmpns)",
          "new_text": "Z_TYPE_P(tmpns)",
          "old_line_content": "\t\t\t\t\tinclusive_ns_prefixes[nscount++] = (xmlChar *) Z_STRVAL_P(tmpns);",
          "new_line_content": "\t\t\t\tif (Z_TYPE_P(tmpns) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "RETURN_THROWS",
          "new_api": "zend_parse_parameters_none",
          "old_text": "RETURN_THROWS()",
          "new_text": "zend_parse_parameters_none()",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tif (zend_parse_parameters_none() == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "xmlFree",
          "new_api": "RETVAL_STRING",
          "old_text": "xmlFree(value)",
          "new_text": "RETVAL_STRING(value)",
          "old_line_content": "\t\txmlFree(value);",
          "new_line_content": "\t\tRETVAL_STRING(value);",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "RETURN_THROWS",
          "new_api": "zend_parse_parameters_none",
          "old_text": "RETURN_THROWS()",
          "new_text": "zend_parse_parameters_none()",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tif (zend_parse_parameters_none() == FAILURE) {",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": "Z_PARAM_OBJECT_OR_NULL",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "Z_PARAM_OBJECT_OR_NULL(other)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\t\tZ_PARAM_OBJECT_OR_NULL(other)",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "Z_PARAM_OBJECT_OR_NULL",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "Z_PARAM_OBJECT_OR_NULL(other)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\t\tZ_PARAM_OBJECT_OR_NULL(other)",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "zend_zval_value_name",
          "new_api": "Z_OBJCE_P",
          "old_text": "zend_zval_value_name(other)",
          "new_text": "Z_OBJCE_P(other)",
          "old_line_content": "\t\tzend_argument_type_error(1, \"must be of type DOMNode|DOMNameSpaceNode|null, %s given\", zend_zval_value_name(other));",
          "new_line_content": "\tif (UNEXPECTED(!instanceof_function(Z_OBJCE_P(other), dom_node_class_entry) && !instanceof_function(Z_OBJCE_P(other), dom_namespace_node_class_entry))) {",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "RETURN_THROWS",
          "new_api": "zend_zval_value_name",
          "old_text": "RETURN_THROWS()",
          "new_text": "zend_zval_value_name(other)",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\t\tzend_argument_type_error(1, \"must be of type DOMNode|DOMNameSpaceNode|null, %s given\", zend_zval_value_name(other));",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "DOM_GET_THIS_OBJ",
          "new_api": "DOM_GET_OBJ",
          "old_text": "DOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, unused_intern)",
          "new_text": "DOM_GET_OBJ(otherp, other, xmlNodePtr, unused_intern)",
          "old_line_content": "\tDOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, unused_intern);",
          "new_line_content": "\tDOM_GET_OBJ(otherp, other, xmlNodePtr, unused_intern);",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "RETURN_THROWS",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "RETURN_THROWS()",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"|a!\", &options) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": "RETURN_THROWS",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "RETURN_THROWS()",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &node_zval, dom_node_class_entry) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "DOM_GET_OBJ",
          "new_api": "DOM_GET_THIS_OBJ",
          "old_text": "DOM_GET_OBJ(other, node_zval, xmlNodePtr, other_intern)",
          "new_text": "DOM_GET_THIS_OBJ(this, id, xmlNodePtr, this_intern)",
          "old_line_content": "\tDOM_GET_OBJ(other, node_zval, xmlNodePtr, other_intern);",
          "new_line_content": "\tDOM_GET_THIS_OBJ(this, id, xmlNodePtr, this_intern);",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "RETURN_LONG",
          "new_api": "php_dom_is_equal_attr",
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_PRECEDING)",
          "new_text": "php_dom_is_equal_attr(attr, (const xmlAttr *) attr1)",
          "old_line_content": "\t\t\t\t\tRETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_PRECEDING);",
          "new_line_content": "\t\t\t\tif (php_dom_is_equal_attr(attr, (const xmlAttr *) attr1)) {",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": "php_dom_is_equal_attr",
          "new_api": "RETURN_LONG",
          "old_text": "php_dom_is_equal_attr(attr, (const xmlAttr *) attr2)",
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_PRECEDING)",
          "old_line_content": "\t\t\t\t} else if (php_dom_is_equal_attr(attr, (const xmlAttr *) attr2)) {",
          "new_line_content": "\t\t\t\t\tRETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_PRECEDING);",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "RETURN_LONG",
          "new_api": "php_dom_is_equal_attr",
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_FOLLOWING)",
          "new_text": "php_dom_is_equal_attr(attr, (const xmlAttr *) attr2)",
          "old_line_content": "\t\t\t\t\tRETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_FOLLOWING);",
          "new_line_content": "\t\t\t\t} else if (php_dom_is_equal_attr(attr, (const xmlAttr *) attr2)) {",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "RETURN_LONG",
          "new_api": "ZEND_ASSERT",
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_PRECEDING)",
          "new_text": "ZEND_ASSERT(attr1 != NULL)",
          "old_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_PRECEDING);",
          "new_line_content": "\t\tZEND_ASSERT(attr1 != NULL); /* Would've been handled in step 7 otherwise */",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "RETURN_LONG",
          "new_api": "ZEND_ASSERT",
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_FOLLOWING)",
          "new_text": "ZEND_ASSERT(attr2 != NULL)",
          "old_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_FOLLOWING);",
          "new_line_content": "\t\tZEND_ASSERT(attr2 != NULL); /* Would've been handled in step 8 otherwise */",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1926,
          "old_api": null,
          "new_api": "dom_canonicalization",
          "old_text": null,
          "new_text": "dom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0)",
          "old_line_content": "}",
          "new_line_content": "\tdom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": null,
          "new_api": "ZEND_ASSERT",
          "old_text": null,
          "new_text": "ZEND_ASSERT(node2 != NULL)",
          "old_line_content": "\tdo {",
          "new_line_content": "\tZEND_ASSERT(node2 != NULL);",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_PRECEDING)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETURN_LONG(DOCUMENT_POSITION_PRECEDING);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "dom_canonicalization",
          "old_text": null,
          "new_text": "dom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1)",
          "old_line_content": "}",
          "new_line_content": "\tdom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "DOM_GET_OBJ",
          "old_text": null,
          "new_text": "DOM_GET_OBJ(other, node_zval, xmlNodePtr, other_intern)",
          "old_line_content": "",
          "new_line_content": "\tDOM_GET_OBJ(other, node_zval, xmlNodePtr, other_intern);",
          "content_same": false
        },
        {
          "line": 2192,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_FOLLOWING)",
          "old_line_content": "",
          "new_line_content": "\tRETURN_LONG(DOCUMENT_POSITION_FOLLOWING);",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(xpath_array)",
          "old_line_content": "\t\tzval *tmp;",
          "new_line_content": "\t\tHashTable *ht = Z_ARRVAL_P(xpath_array);",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_LONG(0);",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": null,
          "new_api": "UNEXPECTED",
          "old_text": null,
          "new_text": "UNEXPECTED(node1 == node2)",
          "old_line_content": "\t\t/* Degenerate case, they're both NULL, but the ordering must be consistent... */",
          "new_line_content": "\tif (UNEXPECTED(node1 == node2)) {",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "ZSTR_KNOWN",
          "old_text": null,
          "new_text": "ZSTR_KNOWN(ZEND_STR_QUERY)",
          "old_line_content": "\t\tif (!tmp) {",
          "new_line_content": "\t\ttmp = zend_hash_find(ht, ZSTR_KNOWN(ZEND_STR_QUERY));",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "ZEND_ASSERT",
          "old_text": null,
          "new_text": "ZEND_ASSERT(node1 == NULL)",
          "old_line_content": "\t\tordering = other_intern < this_intern ? DOCUMENT_POSITION_PRECEDING : DOCUMENT_POSITION_FOLLOWING;",
          "new_line_content": "\t\tZEND_ASSERT(node1 == NULL);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(tmp)",
          "old_line_content": "\t\t\t/* if mode == 0 then $xpath arg is 3, if mode == 1 then $xpath is 4 */",
          "new_line_content": "\t\tif (Z_TYPE_P(tmp) != IS_STRING) {",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_DISCONNECTED | DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | ordering)",
          "old_line_content": "}",
          "new_line_content": "\tRETURN_LONG(DOCUMENT_POSITION_DISCONNECTED | DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | ordering);",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "DOM_GET_THIS_OBJ",
          "old_text": null,
          "new_text": "DOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern)",
          "old_line_content": "",
          "new_line_content": "\tDOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(tmp)",
          "old_line_content": "",
          "new_line_content": "\t\txquery = Z_STRVAL_P(tmp);",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": null,
          "new_api": "xmlGetNodePath",
          "old_text": null,
          "new_text": "xmlGetNodePath(nodep)",
          "old_line_content": "\tif (value == NULL) {",
          "new_line_content": "\tvalue = (char *) xmlGetNodePath(nodep);",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": null,
          "new_api": "xmlXPathNewContext",
          "old_text": null,
          "new_text": "xmlXPathNewContext(docp)",
          "old_line_content": "\t\tctxp->node = nodep;",
          "new_line_content": "\t\tctxp = xmlXPathNewContext(docp);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "RETURN_NULL",
          "old_text": null,
          "new_text": "RETURN_NULL()",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tRETURN_NULL();",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(tmp)",
          "old_line_content": "\t\t\tzval *tmpns;",
          "new_line_content": "\t\tif (tmp && Z_TYPE_P(tmp) == IS_ARRAY && !HT_IS_PACKED(Z_ARRVAL_P(tmp))) {",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": null,
          "new_api": "xmlFree",
          "old_text": null,
          "new_text": "xmlFree(value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\txmlFree(value);",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(tmpns)",
          "old_line_content": "\t\t\t\t\tif (prefix) {",
          "new_line_content": "\t\t\t\tif (Z_TYPE_P(tmpns) == IS_STRING) {",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(tmpns)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\txmlXPathRegisterNs(ctxp, (xmlChar *) ZSTR_VAL(prefix), (xmlChar *) Z_STRVAL_P(tmpns));",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_FOLLOWING)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tRETURN_LONG(DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | DOCUMENT_POSITION_FOLLOWING);",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": null,
          "new_api": "xmlXPathEvalExpression",
          "old_text": null,
          "new_text": "xmlXPathEvalExpression((xmlChar *) xquery, ctxp)",
          "old_line_content": "\t\tctxp->node = NULL;",
          "new_line_content": "\t\txpathobjp = xmlXPathEvalExpression((xmlChar *) xquery, ctxp);",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": null,
          "new_api": "DOM_GET_THIS_OBJ",
          "old_text": null,
          "new_text": "DOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern)",
          "old_line_content": "",
          "new_line_content": "\tDOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern);",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": null,
          "new_api": "xmlGetLineNo",
          "old_text": null,
          "new_text": "xmlGetLineNo(nodep)",
          "old_line_content": "}",
          "new_line_content": "\tRETURN_LONG(xmlGetLineNo(nodep));",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": null,
          "new_api": "xmlXPathFreeObject",
          "old_text": null,
          "new_text": "xmlXPathFreeObject(xpathobjp)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\txmlXPathFreeObject(xpathobjp);",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(ns_prefixes)",
          "old_line_content": "\t\t\t\tsizeof(xmlChar *), 0);",
          "new_line_content": "\t\t\tinclusive_ns_prefixes = safe_emalloc(zend_hash_num_elements(Z_ARRVAL_P(ns_prefixes)) + 1,",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "Z_STRVAL_P",
          "old_text": null,
          "new_text": "Z_STRVAL_P(tmpns)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tinclusive_ns_prefixes[nscount++] = (xmlChar *) Z_STRVAL_P(tmpns);",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\tinclusive_ns_prefixes[nscount] = NULL;",
          "new_line_content": "\t\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_NOTICE,\n\t\t\t\t\"Inclusive namespace prefixes only allowed in exclusive mode.\")",
          "old_line_content": "\t\t\t\t\"Inclusive namespace prefixes only allowed in exclusive mode.\");",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_NOTICE,",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "DOM_GET_THIS_OBJ",
          "old_text": null,
          "new_text": "DOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, unused_intern)",
          "old_line_content": "",
          "new_line_content": "\tDOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, unused_intern);",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": null,
          "new_api": "xmlOutputBufferCreateFilename",
          "old_text": null,
          "new_text": "xmlOutputBufferCreateFilename(file, NULL, 0)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tbuf = xmlOutputBufferCreateFilename(file, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": null,
          "new_api": "xmlAllocOutputBuffer",
          "old_text": null,
          "new_text": "xmlAllocOutputBuffer(NULL)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tbuf = xmlAllocOutputBuffer(NULL);",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_CONTAINS | DOCUMENT_POSITION_PRECEDING)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_CONTAINS | DOCUMENT_POSITION_PRECEDING);",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "xmlC14NExecute",
          "old_text": null,
          "new_text": "xmlC14NExecute(docp, dom_canonicalize_node_parent_lookup_cb, nodep, exclusive, inclusive_ns_prefixes, with_comments, buf)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tret = xmlC14NExecute(docp, dom_canonicalize_node_parent_lookup_cb, nodep, exclusive, inclusive_ns_prefixes, with_comments, buf);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_CONTAINED_BY | DOCUMENT_POSITION_FOLLOWING)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_CONTAINED_BY | DOCUMENT_POSITION_FOLLOWING);",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": null,
          "new_api": "xmlC14NDocSaveTo",
          "old_text": null,
          "new_text": "xmlC14NDocSaveTo(docp, nodeset, exclusive, inclusive_ns_prefixes, with_comments, buf)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tret = xmlC14NDocSaveTo(docp, nodeset, exclusive, inclusive_ns_prefixes, with_comments, buf);",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(inclusive_ns_prefixes)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tefree(inclusive_ns_prefixes);",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "xmlXPathFreeObject",
          "old_text": null,
          "new_text": "xmlXPathFreeObject(xpathobjp)",
          "old_line_content": "\t}",
          "new_line_content": "\t\txmlXPathFreeObject(xpathobjp);",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_PRECEDING)",
          "old_line_content": "\t} else if (node2_is_ancestor_of_node1) {",
          "new_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_PRECEDING);",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": null,
          "new_api": "xmlXPathFreeContext",
          "old_text": null,
          "new_text": "xmlXPathFreeContext(ctxp)",
          "old_line_content": "\t}",
          "new_line_content": "\t\txmlXPathFreeContext(ctxp);",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(DOCUMENT_POSITION_FOLLOWING)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_FOLLOWING);",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": null,
          "new_api": "DOM_GET_THIS_OBJ",
          "old_text": null,
          "new_text": "DOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, intern)",
          "old_line_content": "",
          "new_line_content": "\tDOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, intern);",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "xmlOutputBufferGetSize",
          "old_text": null,
          "new_text": "xmlOutputBufferGetSize(buf)",
          "old_line_content": "\t\t\tif (ret > 0) {",
          "new_line_content": "\t\t\tret = xmlOutputBufferGetSize(buf);",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": null,
          "new_api": "xmlOutputBufferGetContent",
          "old_text": null,
          "new_text": "xmlOutputBufferGetContent(buf)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tRETVAL_STRINGL((char *) xmlOutputBufferGetContent(buf), ret);",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "RETVAL_EMPTY_STRING",
          "old_text": null,
          "new_text": "RETVAL_EMPTY_STRING()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tRETVAL_EMPTY_STRING();",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": null,
          "new_api": "DOM_RET_OBJ",
          "old_text": null,
          "new_text": "DOM_RET_OBJ(thisp, &ret, intern)",
          "old_line_content": "}",
          "new_line_content": "\tDOM_RET_OBJ(thisp, &ret, intern);",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": null,
          "new_api": "xmlOutputBufferClose",
          "old_text": null,
          "new_text": "xmlOutputBufferClose(buf)",
          "old_line_content": "\t\tif (mode == 1 && (ret >= 0)) {",
          "new_line_content": "\t\tbytes = xmlOutputBufferClose(buf);",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(bytes)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETURN_LONG(bytes);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2180,
          "old_api": "ZEND_ASSERT",
          "new_api": null,
          "old_text": "ZEND_ASSERT(node1 != node2)",
          "new_text": null,
          "old_line_content": "\tZEND_ASSERT(node1 != node2);",
          "new_line_content": "\t/* 3. */",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": "dom_canonicalization",
          "new_api": null,
          "old_text": "dom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0)",
          "new_text": null,
          "old_line_content": "\tdom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"O\", &node_zval, dom_node_class_entry) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_PRECEDING)",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_LONG(DOCUMENT_POSITION_PRECEDING);",
          "new_line_content": "\t\tif (node1 == node2) {",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": "dom_canonicalization",
          "new_api": null,
          "old_text": "dom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1)",
          "new_text": null,
          "old_line_content": "\tdom_canonicalization(INTERNAL_FUNCTION_PARAM_PASSTHRU, 1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "DOM_GET_THIS_OBJ",
          "new_api": null,
          "old_text": "DOM_GET_THIS_OBJ(this, id, xmlNodePtr, this_intern)",
          "new_text": null,
          "old_line_content": "\tDOM_GET_THIS_OBJ(this, id, xmlNodePtr, this_intern);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(xpath_array)",
          "new_text": null,
          "old_line_content": "\t\tHashTable *ht = Z_ARRVAL_P(xpath_array);",
          "new_line_content": "\t\t/*xpath query from xpath_array */",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_FOLLOWING)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(DOCUMENT_POSITION_FOLLOWING);",
          "new_line_content": "\t/* Step 10 */",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(0)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_LONG(0);",
          "new_line_content": "\tif (this == other) {",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "UNEXPECTED",
          "new_api": null,
          "old_text": "UNEXPECTED(node1 == node2)",
          "new_text": null,
          "old_line_content": "\tif (UNEXPECTED(node1 == node2)) {",
          "new_line_content": "\tzend_long ordering;",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": "ZSTR_KNOWN",
          "new_api": null,
          "old_text": "ZSTR_KNOWN(ZEND_STR_QUERY)",
          "new_text": null,
          "old_line_content": "\t\ttmp = zend_hash_find(ht, ZSTR_KNOWN(ZEND_STR_QUERY));",
          "new_line_content": "\t\t/* Find \"query\" key */",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": "ZEND_ASSERT",
          "new_api": null,
          "old_text": "ZEND_ASSERT(node1 == NULL)",
          "new_text": null,
          "old_line_content": "\t\tZEND_ASSERT(node1 == NULL);",
          "new_line_content": "\t\t/* Degenerate case, they're both NULL, but the ordering must be consistent... */",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(3 + mode, \"must have a \\\"query\\\" key\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(3 + mode, \"must have a \\\"query\\\" key\");",
          "new_line_content": "\t\t\t/* if mode == 0 then $xpath arg is 3, if mode == 1 then $xpath is 4 */",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "zend_parse_parameters_none",
          "new_api": null,
          "old_text": "zend_parse_parameters_none()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters_none() == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(tmp)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(tmp) != IS_STRING) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_DISCONNECTED | DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | ordering)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(DOCUMENT_POSITION_DISCONNECTED | DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | ordering);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": "zend_zval_value_name",
          "new_api": null,
          "old_text": "zend_zval_value_name(tmp)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_type_error(3 + mode, \"\\\"query\\\" option must be a string, %s given\", zend_zval_value_name(tmp));",
          "new_line_content": "\t\t\t/* if mode == 0 then $xpath arg is 3, if mode == 1 then $xpath is 4 */",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "DOM_GET_THIS_OBJ",
          "new_api": null,
          "old_text": "DOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern)",
          "new_text": null,
          "old_line_content": "\tDOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(tmp)",
          "new_text": null,
          "old_line_content": "\t\txquery = Z_STRVAL_P(tmp);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "xmlGetNodePath",
          "new_api": null,
          "old_text": "xmlGetNodePath(nodep)",
          "new_text": null,
          "old_line_content": "\tvalue = (char *) xmlGetNodePath(nodep);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "xmlXPathNewContext",
          "new_api": null,
          "old_text": "xmlXPathNewContext(docp)",
          "new_text": null,
          "old_line_content": "\t\tctxp = xmlXPathNewContext(docp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "RETURN_NULL",
          "new_api": null,
          "old_text": "RETURN_NULL()",
          "new_text": null,
          "old_line_content": "\t\tRETURN_NULL();",
          "new_line_content": "\t\t/* TODO Research if can return empty string */",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "zend_hash_str_find",
          "new_api": null,
          "old_text": "zend_hash_str_find(ht, \"namespaces\", sizeof(\"namespaces\")-1)",
          "new_text": null,
          "old_line_content": "\t\ttmp = zend_hash_str_find(ht, \"namespaces\", sizeof(\"namespaces\")-1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": "RETVAL_STRING",
          "new_api": null,
          "old_text": "RETVAL_STRING(value)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STRING(value);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(tmpns)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (Z_TYPE_P(tmpns) == IS_STRING) {",
          "new_line_content": "\t\t\tZEND_HASH_MAP_FOREACH_STR_KEY_VAL(Z_ARRVAL_P(tmp), prefix, tmpns) {",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "Z_STRVAL_P",
          "new_api": null,
          "old_text": "Z_STRVAL_P(tmpns)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\txmlXPathRegisterNs(ctxp, (xmlChar *) ZSTR_VAL(prefix), (xmlChar *) Z_STRVAL_P(tmpns));",
          "new_line_content": "\t\t\t\t\tif (prefix) {",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "php_dom_is_equal_attr",
          "new_api": null,
          "old_text": "php_dom_is_equal_attr(attr, (const xmlAttr *) attr1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (php_dom_is_equal_attr(attr, (const xmlAttr *) attr1)) {",
          "new_line_content": "\t\t\tfor (const xmlAttr *attr = node2->properties; attr != NULL; attr = attr->next) {",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": "zend_parse_parameters_none",
          "new_api": null,
          "old_text": "zend_parse_parameters_none()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters_none() == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "xmlXPathEvalExpression",
          "new_api": null,
          "old_text": "xmlXPathEvalExpression((xmlChar *) xquery, ctxp)",
          "new_text": null,
          "old_line_content": "\t\txpathobjp = xmlXPathEvalExpression((xmlChar *) xquery, ctxp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "DOM_GET_THIS_OBJ",
          "new_api": null,
          "old_text": "DOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern)",
          "new_text": null,
          "old_line_content": "\tDOM_GET_THIS_OBJ(nodep, id, xmlNodePtr, intern);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": "xmlGetLineNo",
          "new_api": null,
          "old_text": "xmlGetLineNo(nodep)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(xmlGetLineNo(nodep));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "xmlXPathFreeObject",
          "new_api": null,
          "old_text": "xmlXPathFreeObject(xpathobjp)",
          "new_text": null,
          "old_line_content": "\t\t\t\txmlXPathFreeObject(xpathobjp);",
          "new_line_content": "\t\t\tif (xpathobjp) {",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": "xmlXPathFreeContext",
          "new_api": null,
          "old_text": "xmlXPathFreeContext(ctxp)",
          "new_text": null,
          "old_line_content": "\t\t\txmlXPathFreeContext(ctxp);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(ns_prefixes)",
          "new_text": null,
          "old_line_content": "\t\t\tinclusive_ns_prefixes = safe_emalloc(zend_hash_num_elements(Z_ARRVAL_P(ns_prefixes)) + 1,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(tmpns)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (Z_TYPE_P(tmpns) == IS_STRING) {",
          "new_line_content": "\t\t\tZEND_HASH_FOREACH_VAL(Z_ARRVAL_P(ns_prefixes), tmpns) {",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": "Z_OBJCE_P",
          "new_api": null,
          "old_text": "Z_OBJCE_P(other)",
          "new_text": null,
          "old_line_content": "\tif (UNEXPECTED(!instanceof_function(Z_OBJCE_P(other), dom_node_class_entry) && !instanceof_function(Z_OBJCE_P(other), dom_namespace_node_class_entry))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_NOTICE,\n\t\t\t\t\"Inclusive namespace prefixes only allowed in exclusive mode.\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_NOTICE,",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "DOM_GET_OBJ",
          "new_api": null,
          "old_text": "DOM_GET_OBJ(otherp, other, xmlNodePtr, unused_intern)",
          "new_text": null,
          "old_line_content": "\tDOM_GET_OBJ(otherp, other, xmlNodePtr, unused_intern);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "xmlOutputBufferCreateFilename",
          "new_api": null,
          "old_text": "xmlOutputBufferCreateFilename(file, NULL, 0)",
          "new_text": null,
          "old_line_content": "\t\tbuf = xmlOutputBufferCreateFilename(file, NULL, 0);",
          "new_line_content": "\tif (mode == 1) {",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": "xmlAllocOutputBuffer",
          "new_api": null,
          "old_text": "xmlAllocOutputBuffer(NULL)",
          "new_text": null,
          "old_line_content": "\t\tbuf = xmlAllocOutputBuffer(NULL);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_CONTAINS | DOCUMENT_POSITION_PRECEDING)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_CONTAINS | DOCUMENT_POSITION_PRECEDING);",
          "new_line_content": "\tif ((node1_is_ancestor_of_node2 && attr1 == NULL) || (node1 == node2 && attr2 != NULL)) {",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "xmlC14NExecute",
          "new_api": null,
          "old_text": "xmlC14NExecute(docp, dom_canonicalize_node_parent_lookup_cb, nodep, exclusive, inclusive_ns_prefixes, with_comments, buf)",
          "new_text": null,
          "old_line_content": "\t\t\tret = xmlC14NExecute(docp, dom_canonicalize_node_parent_lookup_cb, nodep, exclusive, inclusive_ns_prefixes, with_comments, buf);",
          "new_line_content": "\t\tif (simple_node_parent_lookup_callback) {",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(DOCUMENT_POSITION_CONTAINED_BY | DOCUMENT_POSITION_FOLLOWING)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_LONG(DOCUMENT_POSITION_CONTAINED_BY | DOCUMENT_POSITION_FOLLOWING);",
          "new_line_content": "\tif ((node2_is_ancestor_of_node1 && attr2 == NULL) || (node1 == node2 && attr1 != NULL)) {",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "xmlC14NDocSaveTo",
          "new_api": null,
          "old_text": "xmlC14NDocSaveTo(docp, nodeset, exclusive, inclusive_ns_prefixes, with_comments, buf)",
          "new_text": null,
          "old_line_content": "\t\t\tret = xmlC14NDocSaveTo(docp, nodeset, exclusive, inclusive_ns_prefixes, with_comments, buf);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(inclusive_ns_prefixes)",
          "new_text": null,
          "old_line_content": "\t\tefree(inclusive_ns_prefixes);",
          "new_line_content": "\tif (inclusive_ns_prefixes != NULL) {",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "ZEND_ASSERT",
          "new_api": null,
          "old_text": "ZEND_ASSERT(attr1 != NULL)",
          "new_text": null,
          "old_line_content": "\t\tZEND_ASSERT(attr1 != NULL); /* Would've been handled in step 7 otherwise */",
          "new_line_content": "\tif (node1_is_ancestor_of_node2) {",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "xmlXPathFreeObject",
          "new_api": null,
          "old_text": "xmlXPathFreeObject(xpathobjp)",
          "new_text": null,
          "old_line_content": "\t\txmlXPathFreeObject(xpathobjp);",
          "new_line_content": "\tif (xpathobjp != NULL) {",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "ZEND_ASSERT",
          "new_api": null,
          "old_text": "ZEND_ASSERT(attr2 != NULL)",
          "new_text": null,
          "old_line_content": "\t\tZEND_ASSERT(attr2 != NULL); /* Would've been handled in step 8 otherwise */",
          "new_line_content": "\t} else if (node2_is_ancestor_of_node1) {",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "xmlXPathFreeContext",
          "new_api": null,
          "old_text": "xmlXPathFreeContext(ctxp)",
          "new_text": null,
          "old_line_content": "\t\txmlXPathFreeContext(ctxp);",
          "new_line_content": "\tif (ctxp != NULL) {",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"|a!\", &options) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "DOM_GET_THIS_OBJ",
          "new_api": null,
          "old_text": "DOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, intern)",
          "new_text": null,
          "old_line_content": "\tDOM_GET_THIS_OBJ(thisp, id, xmlNodePtr, intern);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "xmlOutputBufferGetSize",
          "new_api": null,
          "old_text": "xmlOutputBufferGetSize(buf)",
          "new_text": null,
          "old_line_content": "\t\t\tret = xmlOutputBufferGetSize(buf);",
          "new_line_content": "\t\tif (mode == 0) {",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "xmlOutputBufferGetContent",
          "new_api": null,
          "old_text": "xmlOutputBufferGetContent(buf)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETVAL_STRINGL((char *) xmlOutputBufferGetContent(buf), ret);",
          "new_line_content": "\t\t\tif (ret > 0) {",
          "content_same": false
        },
        {
          "line": 1906,
          "old_api": "RETVAL_EMPTY_STRING",
          "new_api": null,
          "old_text": "RETVAL_EMPTY_STRING()",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETVAL_EMPTY_STRING();",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "DOM_RET_OBJ",
          "new_api": null,
          "old_text": "DOM_RET_OBJ(thisp, &ret, intern)",
          "new_text": null,
          "old_line_content": "\tDOM_RET_OBJ(thisp, &ret, intern);",
          "new_line_content": "\tint ret;",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "xmlOutputBufferClose",
          "new_api": null,
          "old_text": "xmlOutputBufferClose(buf)",
          "new_text": null,
          "old_line_content": "\t\tbytes = xmlOutputBufferClose(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(bytes)",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_LONG(bytes);",
          "new_line_content": "\t\tif (mode == 1 && (ret >= 0)) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 22,
      "total_additions": 60,
      "total_deletions": 60,
      "total_api_changes": 142
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 142,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          1801,
          1802
        ]
      }
    },
    "api_calls_before": 487,
    "api_calls_after": 487,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}