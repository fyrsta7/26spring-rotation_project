{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6beee1a5bb04d399518e4e4d94a4b82d367161fd",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6beee1a5bb04d399518e4e4d94a4b82d367161fd/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6beee1a5bb04d399518e4e4d94a4b82d367161fd/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6beee1a5bb04d399518e4e4d94a4b82d367161fd/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 571,
          "old_api": "php_stream_close",
          "new_api": "php_stream_is",
          "old_text": "php_stream_close(stream)",
          "new_text": "php_stream_is(stream, PHP_STREAM_IS_STDIO)",
          "old_line_content": "\t\tphp_stream_close(stream);",
          "new_line_content": "\tif (php_stream_is(stream, PHP_STREAM_IS_STDIO)) {",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "php_stream_copy_to_mem",
          "new_api": "php_stream_seek",
          "old_text": "php_stream_copy_to_mem(stream, maxlen, 0)",
          "new_text": "php_stream_seek(stream, offset, ((offset > 0) ? SEEK_SET : SEEK_END))",
          "old_line_content": "\tif ((contents = php_stream_copy_to_mem(stream, maxlen, 0)) != NULL) {",
          "new_line_content": "\tif (offset != 0 && php_stream_seek(stream, offset, ((offset > 0) ? SEEK_SET : SEEK_END)) < 0) {",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "RETVAL_STR",
          "new_api": "php_error_docref",
          "old_text": "RETVAL_STR(contents)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Failed to seek to position \" ZEND_LONG_FMT \" in the stream\", offset)",
          "old_line_content": "\t\tRETVAL_STR(contents);",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Failed to seek to position \" ZEND_LONG_FMT \" in the stream\", offset);",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "php_stream_close",
          "new_api": "php_stream_copy_to_mem",
          "old_text": "php_stream_close(stream)",
          "new_text": "php_stream_copy_to_mem(stream, maxlen, 0)",
          "old_line_content": "\tphp_stream_close(stream);",
          "new_line_content": "\tif ((contents = php_stream_copy_to_mem(stream, maxlen, 0)) != NULL) {",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 4)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 4)",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "Z_TYPE_P",
          "new_api": "Z_PARAM_ZVAL",
          "old_text": "Z_TYPE_P(data)",
          "new_text": "Z_PARAM_ZVAL(data)",
          "old_line_content": "\tif (Z_TYPE_P(data) == IS_RESOURCE) {",
          "new_line_content": "\t\tZ_PARAM_ZVAL(data)",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "php_stream_context_from_zval",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT)",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "php_memnstr",
          "new_api": "php_stream_context_from_zval",
          "old_text": "php_memnstr(filename, \"://\", sizeof(\"://\") - 1, filename + filename_len)",
          "new_text": "php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT)",
          "old_line_content": "\t\tif (php_memnstr(filename, \"://\", sizeof(\"://\") - 1, filename + filename_len)) {",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT);",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "php_stream_close",
          "new_api": "php_stream_open_wrapper_ex",
          "old_text": "php_stream_close(stream)",
          "new_text": "php_stream_open_wrapper_ex(filename, mode, ((flags & PHP_FILE_USE_INCLUDE_PATH) ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "old_line_content": "\t\tphp_stream_close(stream);",
          "new_line_content": "\tstream = php_stream_open_wrapper_ex(filename, mode, ((flags & PHP_FILE_USE_INCLUDE_PATH) ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "php_stream_truncate_set_size",
          "new_api": "php_stream_close",
          "old_text": "php_stream_truncate_set_size(stream, 0)",
          "new_text": "php_stream_close(stream)",
          "old_line_content": "\t\tphp_stream_truncate_set_size(stream, 0);",
          "new_line_content": "\t\tphp_stream_close(stream);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "php_stream_copy_to_stream_ex",
          "new_api": "php_stream_truncate_set_size",
          "old_text": "php_stream_copy_to_stream_ex(srcstream, stream, PHP_STREAM_COPY_ALL, &len)",
          "new_text": "php_stream_truncate_set_size(stream, 0)",
          "old_line_content": "\t\t\tif (php_stream_copy_to_stream_ex(srcstream, stream, PHP_STREAM_COPY_ALL, &len) != SUCCESS) {",
          "new_line_content": "\t\tphp_stream_truncate_set_size(stream, 0);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "Z_STRLEN_P",
          "new_api": "convert_to_string",
          "old_text": "Z_STRLEN_P(data)",
          "new_text": "convert_to_string(data)",
          "old_line_content": "\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Only %zd of %zd bytes written, possibly out of free disk space\", numbytes, Z_STRLEN_P(data));",
          "new_line_content": "\t\t\tconvert_to_string(data);",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "zval_get_tmp_string",
          "new_api": "Z_ARRVAL_P",
          "old_text": "zval_get_tmp_string(tmp, &t)",
          "new_text": "Z_ARRVAL_P(data)",
          "old_line_content": "\t\t\t\t\tzend_string *str = zval_get_tmp_string(tmp, &t);",
          "new_line_content": "\t\t\tif (zend_hash_num_elements(Z_ARRVAL_P(data))) {",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": "zend_tmp_string_release",
          "new_api": "zval_get_tmp_string",
          "old_text": "zend_tmp_string_release(t)",
          "new_text": "zval_get_tmp_string(tmp, &t)",
          "old_line_content": "\t\t\t\t\t\t\tzend_tmp_string_release(t);",
          "new_line_content": "\t\t\t\t\tzend_string *str = zval_get_tmp_string(tmp, &t);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "zend_tmp_string_release",
          "new_api": "ZSTR_LEN",
          "old_text": "zend_tmp_string_release(t)",
          "new_text": "ZSTR_LEN(str)",
          "old_line_content": "\t\t\t\t\tzend_tmp_string_release(t);",
          "new_line_content": "\t\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Failed to write %zd bytes to %s\", ZSTR_LEN(str), filename);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "zend_tmp_string_release",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "zend_tmp_string_release(t)",
          "old_line_content": "\t\t\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\t\t\t\t\tzend_tmp_string_release(t);",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "Z_OBJ_HT_P",
          "new_api": "zend_tmp_string_release",
          "old_text": "Z_OBJ_HT_P(data)",
          "new_text": "zend_tmp_string_release(t)",
          "old_line_content": "\t\t\tif (Z_OBJ_HT_P(data) != NULL) {",
          "new_line_content": "\t\t\t\t\tzend_tmp_string_release(t);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "Z_STRLEN",
          "new_api": "Z_OBJ_HT_P",
          "old_text": "Z_STRLEN(out)",
          "new_text": "Z_OBJ_HT_P(data)",
          "old_line_content": "\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Only %zd of %zd bytes written, possibly out of free disk space\", numbytes, Z_STRLEN(out));",
          "new_line_content": "\t\t\tif (Z_OBJ_HT_P(data) != NULL) {",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "zval_ptr_dtor_str",
          "new_api": "Z_OBJ_P",
          "old_text": "zval_ptr_dtor_str(&out)",
          "new_text": "Z_OBJ_P(data)",
          "old_line_content": "\t\t\t\t\tzval_ptr_dtor_str(&out);",
          "new_line_content": "\t\t\t\tif (zend_std_cast_object_tostring(Z_OBJ_P(data), &out, IS_STRING) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "RETURN_LONG",
          "new_api": "php_stream_close",
          "old_text": "RETURN_LONG(numbytes)",
          "new_text": "php_stream_close(stream)",
          "old_line_content": "\tRETURN_LONG(numbytes);",
          "new_line_content": "\tphp_stream_close(stream);",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "flags < 0 || flags > (PHP_FILE_USE_INCLUDE_PATH | PHP_FILE_IGNORE_NEW_LINES | PHP_FILE_SKIP_EMPTY_LINES | PHP_FILE_NO_DEFAULT_CONTEXT)",
          "new_api": "Z_PARAM_PATH",
          "old_text": "flags < 0 || flags > (PHP_FILE_USE_INCLUDE_PATH | PHP_FILE_IGNORE_NEW_LINES | PHP_FILE_SKIP_EMPTY_LINES | PHP_FILE_NO_DEFAULT_CONTEXT)",
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "\tif (flags < 0 || flags > (PHP_FILE_USE_INCLUDE_PATH | PHP_FILE_IGNORE_NEW_LINES | PHP_FILE_SKIP_EMPTY_LINES | PHP_FILE_NO_DEFAULT_CONTEXT)) {",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "array_init",
          "new_api": "php_stream_open_wrapper_ex",
          "old_text": "array_init(return_value)",
          "new_text": "php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "old_line_content": "\tarray_init(return_value);",
          "new_line_content": "\tstream = php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "php_stream_locate_eol",
          "new_api": "array_init",
          "old_text": "php_stream_locate_eol(stream, target_buf)",
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\tif (!(p = (char*)php_stream_locate_eol(stream, target_buf))) {",
          "new_line_content": "\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "ZSTR_VAL",
          "new_api": "add_index_stringl",
          "old_text": "ZSTR_VAL(target_buf)",
          "new_text": "add_index_stringl(return_value, i++, s, p-s)",
          "old_line_content": "\t\t\t\tif (p != ZSTR_VAL(target_buf) && eol_marker == '\\n' && *(p - 1) == '\\r') {",
          "new_line_content": "\t\t\t\tadd_index_stringl(return_value, i++, s, p-s);",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "ZSTR_LEN",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZSTR_LEN(p)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "old_line_content": "\tif (ZSTR_LEN(p) > 64) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "ZSTR_VAL",
          "new_api": "Z_PARAM_PATH",
          "old_text": "ZSTR_VAL(p)",
          "new_text": "Z_PARAM_PATH(dir, dir_len)",
          "old_line_content": "\t\tZSTR_VAL(p)[63] = '\\0';",
          "new_line_content": "\t\tZ_PARAM_PATH(dir, dir_len)",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "ZSTR_VAL",
          "new_api": "ZSTR_LEN",
          "old_text": "ZSTR_VAL(p)",
          "new_text": "ZSTR_LEN(p)",
          "old_line_content": "\tif ((fd = php_open_temporary_fd_ex(dir, ZSTR_VAL(p), &opened_path, PHP_TMP_FILE_OPEN_BASEDIR_CHECK_ALWAYS)) >= 0) {",
          "new_line_content": "\tif (ZSTR_LEN(p) > 64) {",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "close",
          "new_api": "ZSTR_VAL",
          "old_text": "close(fd)",
          "new_text": "ZSTR_VAL(p)",
          "old_line_content": "\t\tclose(fd);",
          "new_line_content": "\t\tZSTR_VAL(p)[63] = '\\0';",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 4)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 4)",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "php_stream_context_from_zval",
          "new_api": "Z_PARAM_STRING",
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": "Z_PARAM_STRING(mode, mode_len)",
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "\t\tZ_PARAM_STRING(mode, mode_len)",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "php_stream_to_zval",
          "new_api": "php_stream_open_wrapper_ex",
          "old_text": "php_stream_to_zval(stream, return_value)",
          "new_text": "php_stream_open_wrapper_ex(filename, mode, (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "old_line_content": "\tphp_stream_to_zval(stream, return_value);",
          "new_line_content": "\tstream = php_stream_open_wrapper_ex(filename, mode, (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "php_error_docref",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "php_error_docref(NULL, E_WARNING, ZEND_LONG_FMT \" is not a valid stream resource\", stream->res->handle)",
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, ZEND_LONG_FMT \" is not a valid stream resource\", stream->res->handle);",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "memchr",
          "new_api": "Z_PARAM_STRING",
          "old_text": "memchr(posix_mode, 'b', mode_len)",
          "new_text": "Z_PARAM_STRING(mode, mode_len)",
          "old_line_content": "\t\tchar *z = memchr(posix_mode, 'b', mode_len);",
          "new_line_content": "\t\tZ_PARAM_STRING(mode, mode_len)",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "strerror",
          "new_api": "efree",
          "old_text": "strerror(errno)",
          "new_text": "efree(posix_mode)",
          "old_line_content": "\t\tphp_error_docref2(NULL, command, posix_mode, E_WARNING, \"%s\", strerror(errno));",
          "new_line_content": "\t\tefree(posix_mode);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "efree",
          "new_api": "RETURN_THROWS",
          "old_text": "efree(posix_mode)",
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\tefree(posix_mode);",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "php_stream_to_zval",
          "new_api": "php_stream_fopen_from_pipe",
          "old_text": "php_stream_to_zval(stream, return_value)",
          "new_text": "php_stream_fopen_from_pipe(fp, mode)",
          "old_line_content": "\t\tphp_stream_to_zval(stream, return_value);",
          "new_line_content": "\tstream = php_stream_fopen_from_pipe(fp, mode);",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "efree",
          "new_api": "strerror",
          "old_text": "efree(posix_mode)",
          "new_text": "strerror(errno)",
          "old_line_content": "\tefree(posix_mode);",
          "new_line_content": "\t\tphp_error_docref2(NULL, command, mode, E_WARNING, \"%s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "FG",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "FG(pclose_wait)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tFG(pclose_wait) = 1;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "zend_list_close",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "zend_list_close(stream->res)",
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tzend_list_close(stream->res);",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "FG",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "FG(pclose_wait)",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tFG(pclose_wait) = 0;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "php_stream_eof",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_eof(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tif (php_stream_eof(stream)) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": "php_stream_get_line",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "php_stream_get_line(stream, NULL, 0, &line_len)",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tbuf = php_stream_get_line(stream, NULL, 0, &line_len);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "efree",
          "new_api": "php_stream_get_line",
          "old_text": "efree(buf)",
          "new_text": "php_stream_get_line(stream, NULL, 0, &line_len)",
          "old_line_content": "\t\tefree(buf);",
          "new_line_content": "\t\tbuf = php_stream_get_line(stream, NULL, 0, &line_len);",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "zend_string_efree",
          "new_api": "zend_argument_value_error",
          "old_text": "zend_string_efree(str)",
          "new_text": "zend_argument_value_error(2, \"must be greater than 0\")",
          "old_line_content": "\t\t\tzend_string_efree(str);",
          "new_line_content": "\t\t\tzend_argument_value_error(2, \"must be greater than 0\");",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "zend_string_truncate",
          "new_api": "zend_string_efree",
          "old_text": "zend_string_truncate(str, line_len, 0)",
          "new_text": "zend_string_efree(str)",
          "old_line_content": "\t\t\tstr = zend_string_truncate(str, line_len, 0);",
          "new_line_content": "\t\t\tzend_string_efree(str);",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "php_stream_getc",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_getc(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tint result = php_stream_getc(stream);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "php_file_le_pstream",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_file_le_pstream()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, -1)",
          "old_line_content": "\twhat = zend_fetch_resource2(Z_RES_P(file_handle), \"File-Handle\", php_file_le_stream(), php_file_le_pstream());",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, -1)",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "RETURN_THROWS",
          "new_api": "php_file_le_pstream",
          "old_text": "RETURN_THROWS()",
          "new_text": "php_file_le_pstream()",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\twhat = zend_fetch_resource2(Z_RES_P(file_handle), \"File-Handle\", php_file_le_stream(), php_file_le_pstream());",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "php_stream_flush",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_flush(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tret = php_stream_flush(stream);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "php_stream_rewind",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_rewind(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tif (-1 == php_stream_rewind(stream)) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "php_stream_tell",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_tell(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tret = php_stream_tell(stream);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "RETURN_LONG",
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": "RETURN_LONG(ret)",
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "\tRETURN_LONG(ret);",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 4)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 4)",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "php_stream_mkdir",
          "new_api": "Z_PARAM_BOOL",
          "old_text": "php_stream_mkdir(dir, (int)mode, (recursive ? PHP_STREAM_MKDIR_RECURSIVE : 0) | REPORT_ERRORS, context)",
          "new_text": "Z_PARAM_BOOL(recursive)",
          "old_line_content": "\tRETURN_BOOL(php_stream_mkdir(dir, (int)mode, (recursive ? PHP_STREAM_MKDIR_RECURSIVE : 0) | REPORT_ERRORS, context));",
          "new_line_content": "\t\tZ_PARAM_BOOL(recursive)",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "php_stream_context_from_zval",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "php_stream_context_from_zval",
          "new_api": "Z_PARAM_PATH",
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "php_stream_passthru",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "php_stream_passthru(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tsize = php_stream_passthru(stream);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "RETURN_LONG",
          "new_api": "php_stream_context_from_zval",
          "old_text": "RETURN_LONG(size)",
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "\t\tRETURN_LONG(size);",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "umask",
          "new_api": "BG",
          "old_text": "umask((int) mask)",
          "new_text": "BG(umask)",
          "old_line_content": "\t\tumask((int) mask);",
          "new_line_content": "\t\tBG(umask) = oldumask;",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "php_stream_passthru",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_passthru(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tsize = php_stream_passthru(stream);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "RETURN_LONG",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "RETURN_LONG(size)",
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tRETURN_LONG(size);",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "php_stream_locate_url_wrapper",
          "new_api": "Z_PARAM_PATH",
          "old_text": "php_stream_locate_url_wrapper(old_name, NULL, 0)",
          "new_text": "Z_PARAM_PATH(old_name, old_name_len)",
          "old_line_content": "\twrapper = php_stream_locate_url_wrapper(old_name, NULL, 0);",
          "new_line_content": "\t\tZ_PARAM_PATH(old_name, old_name_len)",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "rename",
          "new_api": "php_error_docref",
          "old_text": "wrapper->wops->rename(wrapper, old_name, new_name, 0, context)",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Cannot rename a file across wrapper types\")",
          "old_line_content": "\tRETURN_BOOL(wrapper->wops->rename(wrapper, old_name, new_name, 0, context));",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Cannot rename a file across wrapper types\");",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "php_stream_context_from_zval",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "php_stream_sync_supported",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_sync_supported(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tif (!php_stream_sync_supported(stream)) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": "php_error_docref",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\")",
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\");",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "php_stream_sync_supported",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_stream_sync_supported(stream)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tif (!php_stream_sync_supported(stream)) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "php_error_docref",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\")",
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\");",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "zend_argument_value_error",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "zend_argument_value_error(2, \"must be greater than or equal to 0\")",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "old_line_content": "\t\tzend_argument_value_error(2, \"must be greater than or equal to 0\");",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "RETURN_THROWS",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "RETURN_THROWS()",
          "new_text": "Z_PARAM_RESOURCE(fp)",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(fp)",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "php_stream_truncate_supported",
          "new_api": "zend_argument_value_error",
          "old_text": "php_stream_truncate_supported(stream)",
          "new_text": "zend_argument_value_error(2, \"must be greater than or equal to 0\")",
          "old_line_content": "\tif (!php_stream_truncate_supported(stream)) {",
          "new_line_content": "\t\tzend_argument_value_error(2, \"must be greater than or equal to 0\");",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "php_error_docref",
          "new_api": "RETURN_THROWS",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Can't truncate this stream!\")",
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Can't truncate this stream!\");",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "ZVAL_LONG",
          "new_api": "php_stream_stat",
          "old_text": "ZVAL_LONG(&stat_dev, stat_ssb.sb.st_dev)",
          "new_text": "php_stream_stat(stream, &stat_ssb)",
          "old_line_content": "\tZVAL_LONG(&stat_dev, stat_ssb.sb.st_dev);",
          "new_line_content": "\tif (php_stream_stat(stream, &stat_ssb)) {",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "ZVAL_LONG",
          "new_api": "array_init",
          "old_text": "ZVAL_LONG(&stat_uid, stat_ssb.sb.st_uid)",
          "new_text": "array_init(return_value)",
          "old_line_content": "\tZVAL_LONG(&stat_uid, stat_ssb.sb.st_uid);",
          "new_line_content": "\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "Z_ARRVAL_P",
          "new_api": "ZVAL_LONG",
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": "ZVAL_LONG(&stat_blocks, stat_ssb.sb.st_blocks)",
          "old_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_ino);",
          "new_line_content": "\tZVAL_LONG(&stat_blocks, stat_ssb.sb.st_blocks);",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "Z_ARRVAL_P",
          "new_api": "ZVAL_LONG",
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": "ZVAL_LONG(&stat_blocks,-1)",
          "old_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_nlink);",
          "new_line_content": "\tZVAL_LONG(&stat_blocks,-1);",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "strlen",
          "new_api": "Z_ARRVAL_P",
          "old_text": "strlen(stat_sb_names[0])",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[0], strlen(stat_sb_names[0]), &stat_dev);",
          "new_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_mtime);",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "strlen",
          "new_api": "Z_ARRVAL_P",
          "old_text": "strlen(stat_sb_names[1])",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[1], strlen(stat_sb_names[1]), &stat_ino);",
          "new_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_ctime);",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "strlen",
          "new_api": "Z_ARRVAL_P",
          "old_text": "strlen(stat_sb_names[2])",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[2], strlen(stat_sb_names[2]), &stat_mode);",
          "new_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_blksize);",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "strlen",
          "new_api": "Z_ARRVAL_P",
          "old_text": "strlen(stat_sb_names[3])",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[3], strlen(stat_sb_names[3]), &stat_nlink);",
          "new_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_blocks);",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "php_fstat",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "php_fstat(stream, return_value)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tphp_fstat(stream, return_value);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "php_check_open_basedir",
          "new_api": "Z_PARAM_PATH",
          "old_text": "php_check_open_basedir(source)",
          "new_text": "Z_PARAM_PATH(source, source_len)",
          "old_line_content": "\tif (php_stream_locate_url_wrapper(source, NULL, 0) == &php_plain_files_wrapper && php_check_open_basedir(source)) {",
          "new_line_content": "\t\tZ_PARAM_PATH(source, source_len)",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "php_stream_context_from_zval",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "php_copy_file_ctx",
          "new_api": "php_check_open_basedir",
          "old_text": "php_copy_file_ctx(source, target, 0, context)",
          "new_text": "php_check_open_basedir(source)",
          "old_line_content": "\tif (php_copy_file_ctx(source, target, 0, context) == SUCCESS) {",
          "new_line_content": "\tif (php_stream_locate_url_wrapper(source, NULL, 0) == &php_plain_files_wrapper && php_check_open_basedir(source)) {",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "strcmp",
          "new_api": "efree",
          "old_text": "strcmp(sp, dp)",
          "new_text": "efree(sp)",
          "old_line_content": "\t\t\t!strcmp(sp, dp);",
          "new_line_content": "\t\t\tefree(sp);",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "efree",
          "new_api": "strcmp",
          "old_text": "efree(dp)",
          "new_text": "strcmp(sp, dp)",
          "old_line_content": "\t\tefree(dp);",
          "new_line_content": "\t\t\t!strcmp(sp, dp);",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "php_stream_close",
          "new_api": "php_stream_open_wrapper_ex",
          "old_text": "php_stream_close(srcstream)",
          "new_text": "php_stream_open_wrapper_ex(dest, \"wb\", REPORT_ERRORS, NULL, ctx)",
          "old_line_content": "\t\tphp_stream_close(srcstream);",
          "new_line_content": "\tdeststream = php_stream_open_wrapper_ex(dest, \"wb\", REPORT_ERRORS, NULL, ctx);",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": "php_stream_close",
          "new_api": "php_stream_copy_to_stream_ex",
          "old_text": "php_stream_close(deststream)",
          "new_text": "php_stream_copy_to_stream_ex(srcstream, deststream, PHP_STREAM_COPY_ALL, NULL)",
          "old_line_content": "\t\tphp_stream_close(deststream);",
          "new_line_content": "\t\tret = php_stream_copy_to_stream_ex(srcstream, deststream, PHP_STREAM_COPY_ALL, NULL);",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "zend_argument_value_error",
          "new_api": "Z_PARAM_LONG",
          "old_text": "zend_argument_value_error(2, \"must be greater than 0\")",
          "new_text": "Z_PARAM_LONG(len)",
          "old_line_content": "\t\tzend_argument_value_error(2, \"must be greater than 0\");",
          "new_line_content": "\t\tZ_PARAM_LONG(len)",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "RETURN_THROWS",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "RETURN_THROWS()",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": "zval_ptr_dtor_str",
          "new_api": "zend_argument_value_error",
          "old_text": "zval_ptr_dtor_str(return_value)",
          "new_text": "zend_argument_value_error(2, \"must be greater than 0\")",
          "old_line_content": "\t\tzval_ptr_dtor_str(return_value);",
          "new_line_content": "\t\tzend_argument_value_error(2, \"must be greater than 0\");",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": "RETURN_STR",
          "new_api": "php_stream_read_to_str",
          "old_text": "RETURN_STR(str)",
          "new_text": "php_stream_read_to_str(stream, len)",
          "old_line_content": "\tRETURN_STR(str);",
          "new_line_content": "\tstr = php_stream_read_to_str(stream, len);",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "Z_PARAM_STRING",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "Z_PARAM_STRING(escape_str, escape_str_len)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 6)",
          "old_line_content": "\t\tZ_PARAM_STRING(escape_str, escape_str_len)",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 6)",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": "Z_PARAM_STR_OR_NULL",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "Z_PARAM_STR_OR_NULL(eol_str)",
          "new_text": "Z_PARAM_RESOURCE(fp)",
          "old_line_content": "\t\tZ_PARAM_STR_OR_NULL(eol_str)",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(fp)",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "Z_PARAM_ARRAY",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "Z_PARAM_ARRAY(fields)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\t\tZ_PARAM_ARRAY(fields)",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": "zend_argument_value_error",
          "new_api": "Z_PARAM_STR_OR_NULL",
          "old_text": "zend_argument_value_error(3, \"must be a single character\")",
          "new_text": "Z_PARAM_STR_OR_NULL(eol_str)",
          "old_line_content": "\t\t\tzend_argument_value_error(3, \"must be a single character\");",
          "new_line_content": "\t\tZ_PARAM_STR_OR_NULL(eol_str)",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "RETURN_THROWS",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "RETURN_THROWS()",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "RETURN_LONG",
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": "RETURN_LONG(ret)",
          "new_text": "PHP_STREAM_TO_ZVAL(stream, fp)",
          "old_line_content": "\tRETURN_LONG(ret);",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, fp);",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": "FPUTCSV_FLD_CHK",
          "new_api": "Z_ARRVAL_P",
          "old_text": "FPUTCSV_FLD_CHK(delimiter)",
          "new_text": "Z_ARRVAL_P(fields)",
          "old_line_content": "\t\tif (FPUTCSV_FLD_CHK(delimiter) ||",
          "new_line_content": "\tcount = zend_hash_num_elements(Z_ARRVAL_P(fields));",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "FPUTCSV_FLD_CHK",
          "new_api": "zval_get_tmp_string",
          "old_text": "FPUTCSV_FLD_CHK('\\n')",
          "new_text": "zval_get_tmp_string(field_tmp, &tmp_field_str)",
          "old_line_content": "\t\t\tFPUTCSV_FLD_CHK('\\n') ||",
          "new_line_content": "\t\tzend_string *field_str = zval_get_tmp_string(field_tmp, &tmp_field_str);",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "ZSTR_VAL",
          "new_api": "FPUTCSV_FLD_CHK",
          "old_text": "ZSTR_VAL(field_str)",
          "new_text": "FPUTCSV_FLD_CHK(escape_char)",
          "old_line_content": "\t\t\tchar *ch = ZSTR_VAL(field_str);",
          "new_line_content": "\t\t\t(escape_char != PHP_CSV_NO_ESCAPE && FPUTCSV_FLD_CHK(escape_char)) ||",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "ZSTR_LEN",
          "new_api": "FPUTCSV_FLD_CHK",
          "old_text": "ZSTR_LEN(field_str)",
          "new_text": "FPUTCSV_FLD_CHK('\\n')",
          "old_line_content": "\t\t\tchar *end = ch + ZSTR_LEN(field_str);",
          "new_line_content": "\t\t\tFPUTCSV_FLD_CHK('\\n') ||",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "smart_str_appendc",
          "new_api": "FPUTCSV_FLD_CHK",
          "old_text": "smart_str_appendc(&csvline, enclosure)",
          "new_text": "FPUTCSV_FLD_CHK(' ')",
          "old_line_content": "\t\t\tsmart_str_appendc(&csvline, enclosure);",
          "new_line_content": "\t\t\tFPUTCSV_FLD_CHK(' ')",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "smart_str_appendl",
          "new_api": "smart_str_appendc",
          "old_text": "smart_str_appendl(&csvline, &delimiter, 1)",
          "new_text": "smart_str_appendc(&csvline, enclosure)",
          "old_line_content": "\t\t\tsmart_str_appendl(&csvline, &delimiter, 1);",
          "new_line_content": "\t\t\tsmart_str_appendc(&csvline, enclosure);",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "zend_tmp_string_release",
          "new_api": "smart_str_append",
          "old_text": "zend_tmp_string_release(tmp_field_str)",
          "new_text": "smart_str_append(&csvline, field_str)",
          "old_line_content": "\t\tzend_tmp_string_release(tmp_field_str);",
          "new_line_content": "\t\t\tsmart_str_append(&csvline, field_str);",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "smart_str_append",
          "new_api": "smart_str_appendl",
          "old_text": "smart_str_append(&csvline, eol_str)",
          "new_text": "smart_str_appendl(&csvline, &delimiter, 1)",
          "old_line_content": "\t\tsmart_str_append(&csvline, eol_str);",
          "new_line_content": "\t\t\tsmart_str_appendl(&csvline, &delimiter, 1);",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "smart_str_appendc",
          "new_api": "zend_tmp_string_release",
          "old_text": "smart_str_appendc(&csvline, '\\n')",
          "new_text": "zend_tmp_string_release(tmp_field_str)",
          "old_line_content": "\t\tsmart_str_appendc(&csvline, '\\n');",
          "new_line_content": "\t\tzend_tmp_string_release(tmp_field_str);",
          "content_same": false
        },
        {
          "line": 1952,
          "old_api": "ZSTR_LEN",
          "new_api": "smart_str_append",
          "old_text": "ZSTR_LEN(csvline.s)",
          "new_text": "smart_str_append(&csvline, eol_str)",
          "old_line_content": "\tret = php_stream_write(stream, ZSTR_VAL(csvline.s), ZSTR_LEN(csvline.s));",
          "new_line_content": "\t\tsmart_str_append(&csvline, eol_str);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "smart_str_free",
          "new_api": "smart_str_appendc",
          "old_text": "smart_str_free(&csvline)",
          "new_text": "smart_str_appendc(&csvline, '\\n')",
          "old_line_content": "\tsmart_str_free(&csvline);",
          "new_line_content": "\t\tsmart_str_appendc(&csvline, '\\n');",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": "Z_PARAM_STRING",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "Z_PARAM_STRING(escape_str, escape_str_len)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 5)",
          "old_line_content": "\t\t\tZ_PARAM_STRING(escape_str, escape_str_len)",
          "new_line_content": "\t\tZEND_PARSE_PARAMETERS_START(1, 5)",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "Z_PARAM_RESOURCE(fd)",
          "old_line_content": "\t\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\t\t\tZ_PARAM_RESOURCE(fd)",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "zend_argument_value_error",
          "new_api": "Z_PARAM_STRING",
          "old_text": "zend_argument_value_error(3, \"must be a single character\")",
          "new_text": "Z_PARAM_STRING(escape_str, escape_str_len)",
          "old_line_content": "\t\t\t\tzend_argument_value_error(3, \"must be a single character\");",
          "new_line_content": "\t\t\tZ_PARAM_STRING(escape_str, escape_str_len)",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": "RETURN_THROWS",
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": "RETURN_THROWS()",
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "efree",
          "new_api": "php_stream_get_line",
          "old_text": "efree(buf)",
          "new_text": "php_stream_get_line(stream, NULL, 0, &buf_len)",
          "old_line_content": "\t\t\tefree(buf);",
          "new_line_content": "\t\tif ((buf = php_stream_get_line(stream, NULL, 0, &buf_len)) == NULL) {",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "php_fgetcsv",
          "new_api": "php_stream_get_line",
          "old_text": "php_fgetcsv(stream, delimiter, enclosure, escape, buf_len, buf, return_value)",
          "new_text": "php_stream_get_line(stream, buf, len + 1, &buf_len)",
          "old_line_content": "\tphp_fgetcsv(stream, delimiter, enclosure, escape, buf_len, buf, return_value);",
          "new_line_content": "\t\tif (php_stream_get_line(stream, buf, len + 1, &buf_len) == NULL) {",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "php_fgetcsv_lookup_trailing_spaces",
          "new_api": "php_mblen",
          "old_text": "php_fgetcsv_lookup_trailing_spaces(temp, tptr - temp)",
          "new_text": "php_mblen(bptr, limit - bptr)",
          "old_line_content": "\t\t\tcomp_end = (char *)php_fgetcsv_lookup_trailing_spaces(temp, tptr - temp);",
          "new_line_content": "\t\t\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "VCWD_ACCESS",
          "new_api": "VCWD_REALPATH",
          "old_text": "VCWD_ACCESS(resolved_path_buff, F_OK)",
          "new_text": "VCWD_REALPATH(filename, resolved_path_buff)",
          "old_line_content": "\t\tif (VCWD_ACCESS(resolved_path_buff, F_OK)) {",
          "new_line_content": "\tif (VCWD_REALPATH(filename, resolved_path_buff)) {",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "memcpy",
          "new_api": "isalpha",
          "old_text": "memcpy(md->token_data, buff, md->token_len+1)",
          "new_text": "isalpha(ch)",
          "old_line_content": "\t\t\t\t\tmemcpy(md->token_data, buff, md->token_len+1);",
          "new_line_content": "\t\t\t\t\tif (!isalpha(ch) && ch != '-') {",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "php_error_docref",
          "new_api": "Z_PARAM_PATH",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Filename exceeds the maximum allowed length of %d characters\", MAXPATHLEN)",
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Filename exceeds the maximum allowed length of %d characters\", MAXPATHLEN);",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2048,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tefree(buf);",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": null,
          "new_api": "php_fgetcsv",
          "old_text": null,
          "new_text": "php_fgetcsv(stream, delimiter, enclosure, escape, buf_len, buf, return_value)",
          "old_line_content": "\tchar *temp, *bptr, *line_end, *limit;",
          "new_line_content": "\tphp_fgetcsv(stream, delimiter, enclosure, escape, buf_len, buf, return_value);",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "ZEND_ASSERT",
          "old_text": null,
          "new_text": "ZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE)",
          "old_line_content": "",
          "new_line_content": "\tZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE);",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": null,
          "new_api": "php_mb_reset",
          "old_text": null,
          "new_text": "php_mb_reset()",
          "old_line_content": "\tbptr = buf;",
          "new_line_content": "\tphp_mb_reset();",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": null,
          "new_api": "php_fgetcsv_lookup_trailing_spaces",
          "old_text": null,
          "new_text": "php_fgetcsv_lookup_trailing_spaces(buf, buf_len)",
          "old_line_content": "",
          "new_line_content": "\tline_end = limit = (char *)php_fgetcsv_lookup_trailing_spaces(buf, buf_len);",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(temp_len + line_end_len + 1)",
          "old_line_content": "\t/* NB this routine will return a single null entry for a blank line */",
          "new_line_content": "\ttemp = emalloc(temp_len + line_end_len + 1);",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": null,
          "new_api": "array_init",
          "old_text": null,
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\tchar *comp_end, *hunk_begin;",
          "new_line_content": "\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "php_mblen",
          "old_text": null,
          "new_text": "php_mblen(bptr, limit - bptr)",
          "old_line_content": "\t\t\tif (*tmp == enclosure) {",
          "new_line_content": "\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace((int)*(unsigned char *)tmp)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\twhile ((*tmp != delimiter) && isspace((int)*(unsigned char *)tmp)) {",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": null,
          "new_api": "add_next_index_null",
          "old_text": null,
          "new_text": "add_next_index_null(return_value)",
          "old_line_content": "\t\t\tint state = 0;",
          "new_line_content": "\t\t\tadd_next_index_null(return_value);",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "old_line_content": "\t\t\t\t\t\t\t\tif (hunk_begin != line_end) {",
          "new_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, line_end, line_end_len)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, line_end, line_end_len);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "php_stream_get_line",
          "old_text": null,
          "new_text": "php_stream_get_line(stream, NULL, 0, &new_len)",
          "old_line_content": "\t\t\t\t\t\t\t\t\tgoto quit_loop_2;",
          "new_line_content": "\t\t\t\t\t\t\t\tchar *new_buf = php_stream_get_line(stream, NULL, 0, &new_len);",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "erealloc",
          "old_text": null,
          "new_text": "erealloc(temp, temp_len)",
          "old_line_content": "\t\t\t\t\t\t\t\tbptr = buf = new_buf;",
          "new_line_content": "\t\t\t\t\t\t\t\tchar *new_temp = erealloc(temp, temp_len);",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "\t\t\t\t\t\t\t\tline_end_len = buf_len - (size_t)(limit - buf);",
          "new_line_content": "\t\t\t\t\t\t\t\tefree(buf);",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "php_fgetcsv_lookup_trailing_spaces",
          "old_text": null,
          "new_text": "php_fgetcsv_lookup_trailing_spaces(buf, buf_len)",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\t\tline_end = limit = (char *)php_fgetcsv_lookup_trailing_spaces(buf, buf_len);",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "php_mb_reset",
          "old_text": null,
          "new_text": "php_mb_reset()",
          "old_line_content": "\t\t\t\t\t\t\tcase 1: /* escaped */",
          "new_line_content": "\t\t\t\t\t\tphp_mb_reset();",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin - 1)",
          "old_line_content": "\t\t\t\t\t\t\t\ttptr += (bptr - hunk_begin);",
          "new_line_content": "\t\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin - 1);",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "old_line_content": "\t\t\t\t\t\t\tdefault:",
          "new_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "old_line_content": "\t\t\t\t\t\t\t\tbptr += inc_len;",
          "new_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": null,
          "new_api": "php_mblen",
          "old_text": null,
          "new_text": "php_mblen(bptr, limit - bptr)",
          "old_line_content": "\t\t\t\tswitch (inc_len) {",
          "new_line_content": "\t\t\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": null,
          "new_api": "php_mb_reset",
          "old_text": null,
          "new_text": "php_mb_reset()",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\tphp_mb_reset();",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": null,
          "new_api": "php_mblen",
          "old_text": null,
          "new_text": "php_mblen(bptr, limit - bptr)",
          "old_line_content": "\t\t\tbptr += inc_len;",
          "new_line_content": "\t\t\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "old_line_content": "",
          "new_line_content": "\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": null,
          "new_api": "php_mb_reset",
          "old_text": null,
          "new_text": "php_mb_reset()",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\tphp_mb_reset();",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": null,
          "new_api": "php_fgetcsv_lookup_trailing_spaces",
          "old_text": null,
          "new_text": "php_fgetcsv_lookup_trailing_spaces(temp, tptr - temp)",
          "old_line_content": "\t\t/* 3. Now pass our field back to php */",
          "new_line_content": "\t\t\tcomp_end = (char *)php_fgetcsv_lookup_trailing_spaces(temp, tptr - temp);",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": null,
          "new_api": "add_next_index_stringl",
          "old_text": null,
          "new_text": "add_next_index_stringl(return_value, temp, comp_end - temp)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tadd_next_index_stringl(return_value, temp, comp_end - temp);",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(temp)",
          "old_line_content": "",
          "new_line_content": "\tefree(temp);",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "PHP_FUNCTION(realpath)",
          "new_line_content": "\t\tefree(buf);",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\t\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": null,
          "new_api": "php_check_open_basedir",
          "old_text": null,
          "new_text": "php_check_open_basedir(resolved_path_buff)",
          "old_line_content": "\t\t\tRETURN_FALSE;",
          "new_line_content": "\t\tif (php_check_open_basedir(resolved_path_buff)) {",
          "content_same": false
        },
        {
          "line": 2328,
          "old_api": null,
          "new_api": "VCWD_ACCESS",
          "old_text": null,
          "new_text": "VCWD_ACCESS(resolved_path_buff, F_OK)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tif (VCWD_ACCESS(resolved_path_buff, F_OK)) {",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": null,
          "new_api": "RETURN_STRING",
          "old_text": null,
          "new_text": "RETURN_STRING(resolved_path_buff)",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_STRING(resolved_path_buff);",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset((void *)buff, 0, META_DEF_BUFSIZE + 1)",
          "old_line_content": "",
          "new_line_content": "\tmemset((void *)buff, 0, META_DEF_BUFSIZE + 1);",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": null,
          "new_api": "php_stream_getc",
          "old_text": null,
          "new_text": "php_stream_getc(md->stream)",
          "old_line_content": "\t\t\tch = md->lc;",
          "new_line_content": "\twhile (md->ulc || (!php_stream_eof(md->stream) && (ch = php_stream_getc(md->stream)))) {",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": null,
          "new_api": "php_stream_eof",
          "old_text": null,
          "new_text": "php_stream_eof(md->stream)",
          "old_line_content": "\t\t\tmd->ulc = 0;",
          "new_line_content": "\t\tif (php_stream_eof(md->stream)) {",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "php_stream_getc",
          "old_text": null,
          "new_text": "php_stream_getc(md->stream)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\twhile (!php_stream_eof(md->stream) && (ch = php_stream_getc(md->stream)) && ch != compliment && ch != '<' && ch != '>') {",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(md->token_len + 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tmd->token_data = (char *) emalloc(md->token_len + 1);",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(md->token_data, buff, md->token_len+1)",
          "old_line_content": "\t\t\tcase '\\n':",
          "new_line_content": "\t\t\t\t\tmemcpy(md->token_data, buff, md->token_len+1);",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": null,
          "new_api": "isalnum",
          "old_text": null,
          "new_text": "isalnum(ch)",
          "old_line_content": "\t\t\t\t\t\tif (md->token_len == META_DEF_BUFSIZE) {",
          "new_line_content": "\t\t\t\tif (isalnum(ch)) {",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(PHP_META_HTML401_CHARS, ch)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\twhile (!php_stream_eof(md->stream) && (ch = php_stream_getc(md->stream)) && (isalnum(ch) || strchr(PHP_META_HTML401_CHARS, ch))) {",
          "content_same": false
        },
        {
          "line": 2431,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(md->token_len + 1)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tmd->token_data = (char *) emalloc(md->token_len + 1);",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(md->token_data, buff, md->token_len+1)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tmemcpy(md->token_data, buff, md->token_len+1);",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(pattern, pattern_len)",
          "old_line_content": "\tif (filename_len >= MAXPATHLEN) {",
          "new_line_content": "\t\tZ_PARAM_PATH(pattern, pattern_len)",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tif (pattern_len >= MAXPATHLEN) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Filename exceeds the maximum allowed length of %d characters\", MAXPATHLEN)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Filename exceeds the maximum allowed length of %d characters\", MAXPATHLEN);",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Pattern exceeds the maximum allowed length of %d characters\", MAXPATHLEN)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Pattern exceeds the maximum allowed length of %d characters\", MAXPATHLEN);",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": null,
          "new_api": "fnmatch",
          "old_text": null,
          "new_text": "fnmatch( pattern, filename, (int)flags )",
          "old_line_content": "PHP_FUNCTION(sys_get_temp_dir)",
          "new_line_content": "\tRETURN_BOOL( ! fnmatch( pattern, filename, (int)flags ));",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_NONE",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_NONE()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_NONE();",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": null,
          "new_api": "php_get_temporary_directory",
          "old_text": null,
          "new_text": "php_get_temporary_directory()",
          "old_line_content": "",
          "new_line_content": "\tRETURN_STRING((char *)php_get_temporary_directory());",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": null,
          "new_api": "php_stream_set_option",
          "old_text": null,
          "new_text": "php_stream_set_option(stream, PHP_STREAM_OPTION_READ_BUFFER, PHP_STREAM_BUFFER_NONE, NULL)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tphp_stream_set_option(stream, PHP_STREAM_OPTION_READ_BUFFER, PHP_STREAM_BUFFER_NONE, NULL);",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "php_stream_close",
          "old_text": null,
          "new_text": "php_stream_close(stream)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tphp_stream_close(stream);",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "RETVAL_STR",
          "old_text": null,
          "new_text": "RETVAL_STR(contents)",
          "old_line_content": "}",
          "new_line_content": "\t\tRETVAL_STR(contents);",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "RETVAL_EMPTY_STRING",
          "old_text": null,
          "new_text": "RETVAL_EMPTY_STRING()",
          "old_line_content": "",
          "new_line_content": "\t\tRETVAL_EMPTY_STRING();",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "php_stream_close",
          "old_text": null,
          "new_text": "php_stream_close(stream)",
          "old_line_content": "{",
          "new_line_content": "\tphp_stream_close(stream);",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE_OR_NULL",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(data)",
          "old_line_content": "\tif (flags & PHP_FILE_APPEND) {",
          "new_line_content": "\tif (Z_TYPE_P(data) == IS_RESOURCE) {",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "php_stream_from_zval",
          "old_text": null,
          "new_text": "php_stream_from_zval(srcstream, data)",
          "old_line_content": "\t\tmode[0] = 'a';",
          "new_line_content": "\t\tphp_stream_from_zval(srcstream, data);",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "php_memnstr",
          "old_text": null,
          "new_text": "php_memnstr(filename, \"://\", sizeof(\"://\") - 1, filename + filename_len)",
          "old_line_content": "\t\tmode[0] = 'c';",
          "new_line_content": "\t\tif (php_memnstr(filename, \"://\", sizeof(\"://\") - 1, filename + filename_len)) {",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "strncasecmp",
          "old_text": null,
          "new_text": "strncasecmp(filename, \"file://\", sizeof(\"file://\") - 1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tif (strncasecmp(filename, \"file://\", sizeof(\"file://\") - 1)) {",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Exclusive locks may only be set for regular files\")",
          "old_line_content": "\tmode[2] = '\\0';",
          "new_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Exclusive locks may only be set for regular files\");",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "php_stream_lock",
          "old_text": null,
          "new_text": "php_stream_lock(stream, LOCK_EX)",
          "old_line_content": "\tif (mode[0] == 'c') {",
          "new_line_content": "\tif ((flags & LOCK_EX) && (!php_stream_supports_lock(stream) || php_stream_lock(stream, LOCK_EX))) {",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Exclusive locks are not supported for this stream\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Exclusive locks are not supported for this stream\");",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(data)",
          "old_line_content": "\t\t\t\tif (len > ZEND_LONG_MAX) {",
          "new_line_content": "\tswitch (Z_TYPE_P(data)) {",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "php_stream_copy_to_stream_ex",
          "old_text": null,
          "new_text": "php_stream_copy_to_stream_ex(srcstream, stream, PHP_STREAM_COPY_ALL, &len)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\tif (php_stream_copy_to_stream_ex(srcstream, stream, PHP_STREAM_COPY_ALL, &len) != SUCCESS) {",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"content truncated from %zu to \" ZEND_LONG_FMT \" bytes\", len, ZEND_LONG_MAX)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"content truncated from %zu to \" ZEND_LONG_FMT \" bytes\", len, ZEND_LONG_MAX);",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(data)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (Z_STRLEN_P(data)) {",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(data)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tnumbytes = php_stream_write(stream, Z_STRVAL_P(data), Z_STRLEN_P(data));",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(data)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tif (numbytes != -1 && numbytes != Z_STRLEN_P(data)) {",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "Z_STRLEN_P",
          "old_text": null,
          "new_text": "Z_STRLEN_P(data)",
          "old_line_content": "\t\tcase IS_ARRAY:",
          "new_line_content": "\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Only %zd of %zd bytes written, possibly out of free disk space\", numbytes, Z_STRLEN_P(data));",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(str)",
          "old_line_content": "\t\t\t\t\t\t\tnumbytes = -1;",
          "new_line_content": "\t\t\t\t\tif (ZSTR_LEN(str)) {",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(str)",
          "old_line_content": "\t\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\tnumbytes += ZSTR_LEN(str);",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(str)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tbytes_written = php_stream_write(stream, ZSTR_VAL(str), ZSTR_LEN(str));",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(str)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tif (bytes_written != ZSTR_LEN(str)) {",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\t\tzval out;",
          "new_line_content": "\t\t\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "Z_STRLEN",
          "old_text": null,
          "new_text": "Z_STRLEN(out)",
          "old_line_content": "\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tnumbytes = php_stream_write(stream, Z_STRVAL(out), Z_STRLEN(out));",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": null,
          "new_api": "Z_STRLEN",
          "old_text": null,
          "new_text": "Z_STRLEN(out)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (numbytes != -1 && numbytes != Z_STRLEN(out)) {",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "Z_STRLEN",
          "old_text": null,
          "new_text": "Z_STRLEN(out)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Only %zd of %zd bytes written, possibly out of free disk space\", numbytes, Z_STRLEN(out));",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": null,
          "new_api": "zval_ptr_dtor_str",
          "old_text": null,
          "new_text": "zval_ptr_dtor_str(&out)",
          "old_line_content": "\t\t\tnumbytes = -1;",
          "new_line_content": "\t\t\t\t\tzval_ptr_dtor_str(&out);",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(numbytes)",
          "old_line_content": "/* {{{ Read entire file into an array */",
          "new_line_content": "\tRETURN_LONG(numbytes);",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 3)",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE_OR_NULL",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "flags < 0 || flags > (PHP_FILE_USE_INCLUDE_PATH | PHP_FILE_IGNORE_NEW_LINES | PHP_FILE_SKIP_EMPTY_LINES | PHP_FILE_NO_DEFAULT_CONTEXT)",
          "old_text": null,
          "new_text": "flags < 0 || flags > (PHP_FILE_USE_INCLUDE_PATH | PHP_FILE_IGNORE_NEW_LINES | PHP_FILE_SKIP_EMPTY_LINES | PHP_FILE_NO_DEFAULT_CONTEXT)",
          "old_line_content": "\tinclude_new_line = !(flags & PHP_FILE_IGNORE_NEW_LINES);",
          "new_line_content": "\tif (flags < 0 || flags > (PHP_FILE_USE_INCLUDE_PATH | PHP_FILE_IGNORE_NEW_LINES | PHP_FILE_SKIP_EMPTY_LINES | PHP_FILE_NO_DEFAULT_CONTEXT)) {",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(2, \"must be a valid flag value\")",
          "old_line_content": "\tskip_blank_lines = flags & PHP_FILE_SKIP_EMPTY_LINES;",
          "new_line_content": "\t\tzend_argument_value_error(2, \"must be a valid flag value\");",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT)",
          "old_line_content": "",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "php_stream_copy_to_mem",
          "old_text": null,
          "new_text": "php_stream_copy_to_mem(stream, PHP_STREAM_COPY_ALL, 0)",
          "old_line_content": "\t\t\tgoto parse_eol;",
          "new_line_content": "\tif ((target_buf = php_stream_copy_to_mem(stream, PHP_STREAM_COPY_ALL, 0)) != NULL) {",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(target_buf)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\ts = ZSTR_VAL(target_buf);",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(target_buf)",
          "old_line_content": "",
          "new_line_content": "\t\te = ZSTR_VAL(target_buf) + ZSTR_LEN(target_buf);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "php_stream_locate_eol",
          "old_text": null,
          "new_text": "php_stream_locate_eol(stream, target_buf)",
          "old_line_content": "\t\t\teol_marker = '\\r';",
          "new_line_content": "\t\tif (!(p = (char*)php_stream_locate_eol(stream, target_buf))) {",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(p, eol_marker, (e-p))",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t} while ((p = memchr(p, eol_marker, (e-p))));",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(target_buf)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (p != ZSTR_VAL(target_buf) && eol_marker == '\\n' && *(p - 1) == '\\r') {",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "add_index_stringl",
          "old_text": null,
          "new_text": "add_index_stringl(return_value, i++, s, p-s-windows_eol)",
          "old_line_content": "\t\tif (s != e) {",
          "new_line_content": "\t\t\t\tadd_index_stringl(return_value, i++, s, p-s-windows_eol);",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(p, eol_marker, (e-p))",
          "old_line_content": "\t\t\tgoto parse_eol;",
          "new_line_content": "\t\t\t} while ((p = memchr(p, eol_marker, (e-p))));",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "zend_string_free",
          "old_text": null,
          "new_text": "zend_string_free(target_buf)",
          "old_line_content": "/* {{{ Create a unique filename in a directory */",
          "new_line_content": "\t\tzend_string_free(target_buf);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "php_stream_close",
          "old_text": null,
          "new_text": "php_stream_close(stream)",
          "old_line_content": "{",
          "new_line_content": "\tphp_stream_close(stream);",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(prefix, prefix_len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tZ_PARAM_PATH(prefix, prefix_len)",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "php_basename",
          "old_text": null,
          "new_text": "php_basename(prefix, prefix_len, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "\tp = php_basename(prefix, prefix_len, NULL, 0);",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(p)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tif ((fd = php_open_temporary_fd_ex(dir, ZSTR_VAL(p), &opened_path, PHP_TMP_FILE_OPEN_BASEDIR_CHECK_ALWAYS)) >= 0) {",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "",
          "new_line_content": "\t\tclose(fd);",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "RETVAL_STR",
          "old_text": null,
          "new_text": "RETVAL_STR(opened_path)",
          "old_line_content": "/* {{{ Create a temporary file that will be deleted automatically after use */",
          "new_line_content": "\t\tRETVAL_STR(opened_path);",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "zend_string_release_ex",
          "old_text": null,
          "new_text": "zend_string_release_ex(p, 0)",
          "old_line_content": "{",
          "new_line_content": "\tzend_string_release_ex(p, 0);",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_NONE",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_NONE()",
          "old_line_content": "\t} else {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_NONE();",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "php_stream_fopen_tmpfile",
          "old_text": null,
          "new_text": "php_stream_fopen_tmpfile()",
          "old_line_content": "\t}",
          "new_line_content": "\tstream = php_stream_fopen_tmpfile();",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": null,
          "new_api": "php_stream_to_zval",
          "old_text": null,
          "new_text": "php_stream_to_zval(stream, return_value)",
          "old_line_content": "",
          "new_line_content": "\t\tphp_stream_to_zval(stream, return_value);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE_OR_NULL",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tif (stream == NULL) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "php_stream_to_zval",
          "old_text": null,
          "new_text": "php_stream_to_zval(stream, return_value)",
          "old_line_content": "{",
          "new_line_content": "\tphp_stream_to_zval(stream, return_value);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "old_line_content": "\tif ((stream->flags & PHP_STREAM_FLAG_NO_FCLOSE) != 0) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, ZEND_LONG_FMT \" is not a valid stream resource\", stream->res->handle)",
          "old_line_content": "\t\t(stream->is_persistent ? PHP_STREAM_FREE_CLOSE_PERSISTENT : PHP_STREAM_FREE_CLOSE));",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, ZEND_LONG_FMT \" is not a valid stream resource\", stream->res->handle);",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "php_stream_free",
          "old_text": null,
          "new_text": "php_stream_free(stream,\n\t\tPHP_STREAM_FREE_KEEP_RSRC |\n\t\t(stream->is_persistent ? PHP_STREAM_FREE_CLOSE_PERSISTENT : PHP_STREAM_FREE_CLOSE))",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_stream_free(stream,",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "old_line_content": "#ifndef PHP_WIN32",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(command, command_len)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tZ_PARAM_PATH(command, command_len)",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tif (z) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "estrndup",
          "old_text": null,
          "new_text": "estrndup(mode, mode_len)",
          "old_line_content": "\t\t\tmode_len--;",
          "new_line_content": "\tposix_mode = estrndup(mode, mode_len);",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(posix_mode, 'b', mode_len)",
          "old_line_content": "#endif",
          "new_line_content": "\t\tchar *z = memchr(posix_mode, 'b', mode_len);",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(z, z + 1, mode_len - (z - posix_mode))",
          "old_line_content": "\t/* Musl only partially validates the mode. Manually check it to ensure consistent behavior. */",
          "new_line_content": "\t\t\tmemmove(z, z + 1, mode_len - (z - posix_mode));",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(posix_mode, \"wb\", 2)",
          "old_line_content": "",
          "new_line_content": "\t\t(mode_len == 2 && (memcmp(posix_mode, \"rb\", 2) && memcmp(posix_mode, \"wb\", 2)))",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(2, \"must be one of \\\"r\\\", \\\"rb\\\", \\\"w\\\", or \\\"wb\\\"\")",
          "old_line_content": "\tif (!fp) {",
          "new_line_content": "\t\tzend_argument_value_error(2, \"must be one of \\\"r\\\", \\\"rb\\\", \\\"w\\\", or \\\"wb\\\"\");",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": null,
          "new_api": "VCWD_POPEN",
          "old_text": null,
          "new_text": "VCWD_POPEN(command, posix_mode)",
          "old_line_content": "",
          "new_line_content": "\tfp = VCWD_POPEN(command, posix_mode);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "",
          "new_line_content": "\t\tphp_error_docref2(NULL, command, posix_mode, E_WARNING, \"%s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(posix_mode)",
          "old_line_content": "\tif (stream == NULL)\t{",
          "new_line_content": "\t\tefree(posix_mode);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "php_stream_to_zval",
          "old_text": null,
          "new_text": "php_stream_to_zval(stream, return_value)",
          "old_line_content": "",
          "new_line_content": "\t\tphp_stream_to_zval(stream, return_value);",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(posix_mode)",
          "old_line_content": "{",
          "new_line_content": "\tefree(posix_mode);",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "}",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": null,
          "new_api": "FG",
          "old_text": null,
          "new_text": "FG(pclose_wait)",
          "old_line_content": "",
          "new_line_content": "\tFG(pclose_wait) = 1;",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "zend_list_close",
          "old_text": null,
          "new_text": "zend_list_close(stream->res)",
          "old_line_content": "/* {{{ Test for end-of-file on a file pointer */",
          "new_line_content": "\tzend_list_close(stream->res);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "FG",
          "old_text": null,
          "new_text": "FG(pclose_wait)",
          "old_line_content": "PHPAPI PHP_FUNCTION(feof)",
          "new_line_content": "\tFG(pclose_wait) = 0;",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": null,
          "new_api": "FG",
          "old_text": null,
          "new_text": "FG(pclose_ret)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_LONG(FG(pclose_ret));",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\t\tRETURN_TRUE;",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t} else {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "\t}",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "php_stream_eof",
          "old_text": null,
          "new_text": "php_stream_eof(stream)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tif (php_stream_eof(stream)) {",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "\t\t\tRETURN_FALSE;",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "RETVAL_STRINGL",
          "old_text": null,
          "new_text": "RETVAL_STRINGL(buf, line_len)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tRETVAL_STRINGL(buf, line_len);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "",
          "new_line_content": "\t\tefree(buf);",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\t\tRETURN_FALSE;",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": null,
          "new_api": "zend_string_alloc",
          "old_text": null,
          "new_text": "zend_string_alloc(len, 0)",
          "old_line_content": "\t\t * Only needed if the user requested a buffer size. */",
          "new_line_content": "\t\tstr = zend_string_alloc(len, 0);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(str)",
          "old_line_content": "\t\tif (line_len < (size_t)len / 2) {",
          "new_line_content": "\t\tif (php_stream_get_line(stream, ZSTR_VAL(str), len, &line_len) == NULL) {",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "zend_string_truncate",
          "old_text": null,
          "new_text": "zend_string_truncate(str, line_len, 0)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tstr = zend_string_truncate(str, line_len, 0);",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(str)",
          "old_line_content": "",
          "new_line_content": "\t\t\tZSTR_LEN(str) = line_len;",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "RETURN_NEW_STR",
          "old_text": null,
          "new_text": "RETURN_NEW_STR(str)",
          "old_line_content": "PHPAPI PHP_FUNCTION(fgetc)",
          "new_line_content": "\t\tRETURN_NEW_STR(str);",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tif (result == EOF) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "\t} else {",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "php_stream_getc",
          "old_text": null,
          "new_text": "php_stream_getc(stream)",
          "old_line_content": "\t}",
          "new_line_content": "\tint result = php_stream_getc(stream);",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "RETURN_CHAR",
          "old_text": null,
          "new_text": "RETURN_CHAR(result)",
          "old_line_content": "PHP_FUNCTION(fscanf)",
          "new_line_content": "\t\tRETURN_CHAR(result);",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(file_handle)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(file_handle)",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(format, format_len)",
          "old_line_content": "\t/* we can't do a ZEND_VERIFY_RESOURCE(what), otherwise we end up",
          "new_line_content": "\t\tZ_PARAM_STRING(format, format_len)",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "Z_PARAM_VARIADIC",
          "old_text": null,
          "new_text": "Z_PARAM_VARIADIC('*', args, argc)",
          "old_line_content": "\t * with a leak if we have an invalid filehandle. This needs changing",
          "new_line_content": "\t\tZ_PARAM_VARIADIC('*', args, argc)",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t * if the code behind ZEND_VERIFY_RESOURCE changed. - cc */",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": null,
          "new_api": "php_stream_get_line",
          "old_text": null,
          "new_text": "php_stream_get_line((php_stream *) what, NULL, 0, &len)",
          "old_line_content": "",
          "new_line_content": "\tbuf = php_stream_get_line((php_stream *) what, NULL, 0, &len);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "php_sscanf_internal",
          "old_text": null,
          "new_text": "php_sscanf_internal(buf, format, argc, args, 0, return_value)",
          "old_line_content": "\t}",
          "new_line_content": "\tresult = php_sscanf_internal(buf, format, argc, args, 0, return_value);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(buf)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tefree(buf);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tif (maxlen_is_null) {",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(input, inputlen)",
          "old_line_content": "\t\tnum_bytes = inputlen;",
          "new_line_content": "\t\tZ_PARAM_STRING(input, inputlen)",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t} else {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "MIN",
          "old_text": null,
          "new_text": "MIN((size_t) maxlen, inputlen)",
          "old_line_content": "",
          "new_line_content": "\t\tnum_bytes = MIN((size_t) maxlen, inputlen);",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(0)",
          "old_line_content": "\tif (ret < 0) {",
          "new_line_content": "\t\tRETURN_LONG(0);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "php_stream_write",
          "old_text": null,
          "new_text": "php_stream_write(stream, input, num_bytes)",
          "old_line_content": "}",
          "new_line_content": "\tret = php_stream_write(stream, input, num_bytes);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(ret)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_LONG(ret);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tif (ret) {",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "\tRETURN_TRUE;",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "php_stream_flush",
          "old_text": null,
          "new_text": "php_stream_flush(stream)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tret = php_stream_flush(stream);",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t}",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "}",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "php_stream_rewind",
          "old_text": null,
          "new_text": "php_stream_rewind(stream)",
          "old_line_content": "",
          "new_line_content": "\tif (-1 == php_stream_rewind(stream)) {",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tif (ret == -1)\t{",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "php_stream_tell",
          "old_text": null,
          "new_text": "php_stream_tell(stream)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tret = php_stream_tell(stream);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(ret)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_LONG(ret);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": null,
          "new_api": "Z_PARAM_LONG",
          "old_text": null,
          "new_text": "Z_PARAM_LONG(offset)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_LONG(offset)",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "/* {{{ php_mkdir */",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "php_stream_seek",
          "old_text": null,
          "new_text": "php_stream_seek(stream, offset, (int) whence)",
          "old_line_content": "/* DEPRECATED APIs: Use php_stream_mkdir() instead */",
          "new_line_content": "\tRETURN_LONG(php_stream_seek(stream, offset, (int) whence));",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "php_check_open_basedir",
          "old_text": null,
          "new_text": "php_check_open_basedir(dir)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (php_check_open_basedir(dir)) {",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "VCWD_MKDIR",
          "old_text": null,
          "new_text": "VCWD_MKDIR(dir, (mode_t)mode)",
          "old_line_content": "",
          "new_line_content": "\tif ((ret = VCWD_MKDIR(dir, (mode_t)mode)) < 0 && (options & REPORT_ERRORS)) {",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(errno)",
          "old_line_content": "PHPAPI int php_mkdir(const char *dir, zend_long mode)",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"%s\", strerror(errno));",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "php_mkdir_ex",
          "old_text": null,
          "new_text": "php_mkdir_ex(dir, mode, REPORT_ERRORS)",
          "old_line_content": "{",
          "new_line_content": "\treturn php_mkdir_ex(dir, mode, REPORT_ERRORS);",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(dir, dir_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_PATH(dir, dir_len)",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE_OR_NULL",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "old_line_content": "}",
          "new_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "/* {{{ Remove a directory */",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "php_stream_mkdir",
          "old_text": null,
          "new_text": "php_stream_mkdir(dir, (int)mode, (recursive ? PHP_STREAM_MKDIR_RECURSIVE : 0) | REPORT_ERRORS, context)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_BOOL(php_stream_mkdir(dir, (int)mode, (recursive ? PHP_STREAM_MKDIR_RECURSIVE : 0) | REPORT_ERRORS, context));",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(dir, dir_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_PATH(dir, dir_len)",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "/* {{{ Output a file or a URL */",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": null,
          "new_api": "php_stream_rmdir",
          "old_text": null,
          "new_text": "php_stream_rmdir(dir, REPORT_ERRORS, context)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_BOOL(php_stream_rmdir(dir, REPORT_ERRORS, context));",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(1, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 3)",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE_OR_NULL",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "old_line_content": "\tif (stream) {",
          "new_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "php_stream_open_wrapper_ex",
          "old_text": null,
          "new_text": "php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "old_line_content": "",
          "new_line_content": "\tstream = php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "php_stream_passthru",
          "old_text": null,
          "new_text": "php_stream_passthru(stream)",
          "old_line_content": "}",
          "new_line_content": "\t\tsize = php_stream_passthru(stream);",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "php_stream_close",
          "old_text": null,
          "new_text": "php_stream_close(stream)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t\tphp_stream_close(stream);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(size)",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_LONG(size);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(0, 1)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(0, 1)",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t}",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "umask",
          "old_text": null,
          "new_text": "umask(077)",
          "old_line_content": "\tif (mask_is_null) {",
          "new_line_content": "\toldumask = umask(077);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "BG",
          "old_text": null,
          "new_text": "BG(umask)",
          "old_line_content": "\t} else {",
          "new_line_content": "\tif (BG(umask) == -1) {",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "umask",
          "old_text": null,
          "new_text": "umask(oldumask)",
          "old_line_content": "}",
          "new_line_content": "\t\tumask(oldumask);",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": null,
          "new_api": "umask",
          "old_text": null,
          "new_text": "umask((int) mask)",
          "old_line_content": "",
          "new_line_content": "\t\tumask((int) mask);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(oldumask)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_LONG(oldumask);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "}",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "php_stream_passthru",
          "old_text": null,
          "new_text": "php_stream_passthru(stream)",
          "old_line_content": "PHP_FUNCTION(rename)",
          "new_line_content": "\tsize = php_stream_passthru(stream);",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(size)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_LONG(size);",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(new_name, new_name_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_PATH(new_name, new_name_len)",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "php_stream_locate_url_wrapper",
          "old_text": null,
          "new_text": "php_stream_locate_url_wrapper(old_name, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "\twrapper = php_stream_locate_url_wrapper(old_name, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\")",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\");",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"%s wrapper does not support renaming\", wrapper->wops->label ? wrapper->wops->label : \"Source\")",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"%s wrapper does not support renaming\", wrapper->wops->label ? wrapper->wops->label : \"Source\");",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "php_stream_locate_url_wrapper",
          "old_text": null,
          "new_text": "php_stream_locate_url_wrapper(new_name, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "\tif (wrapper != php_stream_locate_url_wrapper(new_name, NULL, 0)) {",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "/* {{{ Delete a file */",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": null,
          "new_api": "rename",
          "old_text": null,
          "new_text": "wrapper->wops->rename(wrapper, old_name, new_name, 0, context)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_BOOL(wrapper->wops->rename(wrapper, old_name, new_name, 0, context));",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(filename, filename_len)",
          "old_line_content": "",
          "new_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\tif (!wrapper || !wrapper->wops) {",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "php_stream_locate_url_wrapper",
          "old_text": null,
          "new_text": "php_stream_locate_url_wrapper(filename, NULL, 0)",
          "old_line_content": "",
          "new_line_content": "\twrapper = php_stream_locate_url_wrapper(filename, NULL, 0);",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\")",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\");",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"%s does not allow unlinking\", wrapper->wops->label ? wrapper->wops->label : \"Wrapper\")",
          "old_line_content": "",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"%s does not allow unlinking\", wrapper->wops->label ? wrapper->wops->label : \"Wrapper\");",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "unlink",
          "old_text": null,
          "new_text": "wrapper->wops->unlink(wrapper, filename, REPORT_ERRORS, context)",
          "old_line_content": "\tzval *res;",
          "new_line_content": "\tRETURN_BOOL(wrapper->wops->unlink(wrapper, filename, REPORT_ERRORS, context));",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "php_stream_sync_supported",
          "old_text": null,
          "new_text": "php_stream_sync_supported(stream)",
          "old_line_content": "}",
          "new_line_content": "\tif (!php_stream_sync_supported(stream)) {",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\")",
          "old_line_content": "",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\");",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": null,
          "new_api": "php_stream_sync",
          "old_text": null,
          "new_text": "php_stream_sync(stream, /* data_only */ 0)",
          "old_line_content": "\tphp_stream *stream;",
          "new_line_content": "\tRETURN_BOOL(php_stream_sync(stream, /* data_only */ 0) == 0);",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": null,
          "new_api": "php_stream_sync_supported",
          "old_text": null,
          "new_text": "php_stream_sync_supported(stream)",
          "old_line_content": "}",
          "new_line_content": "\tif (!php_stream_sync_supported(stream)) {",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\")",
          "old_line_content": "",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Can't fsync this stream!\");",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": null,
          "new_api": "php_stream_sync",
          "old_text": null,
          "new_text": "php_stream_sync(stream, /* data_only */ 1)",
          "old_line_content": "\tzval *fp;",
          "new_line_content": "\tRETURN_BOOL(php_stream_sync(stream, /* data_only */ 1) == 0);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": null,
          "new_api": "Z_PARAM_LONG",
          "old_text": null,
          "new_text": "Z_PARAM_LONG(size)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tZ_PARAM_LONG(size)",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, fp)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, fp);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "php_stream_truncate_supported",
          "old_text": null,
          "new_text": "php_stream_truncate_supported(stream)",
          "old_line_content": "}",
          "new_line_content": "\tif (!php_stream_truncate_supported(stream)) {",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Can't truncate this stream!\")",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Can't truncate this stream!\");",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "php_stream_truncate_set_size",
          "old_text": null,
          "new_text": "php_stream_truncate_set_size(stream, size)",
          "old_line_content": "\tzval stat_dev, stat_ino, stat_mode, stat_nlink, stat_uid, stat_gid, stat_rdev,",
          "new_line_content": "\tRETURN_BOOL(0 == php_stream_truncate_set_size(stream, size));",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_dev, stat_ssb.sb.st_dev)",
          "old_line_content": "#ifdef HAVE_STRUCT_STAT_ST_RDEV",
          "new_line_content": "\tZVAL_LONG(&stat_dev, stat_ssb.sb.st_dev);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_mode, stat_ssb.sb.st_mode)",
          "old_line_content": "#else",
          "new_line_content": "\tZVAL_LONG(&stat_mode, stat_ssb.sb.st_mode);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_uid, stat_ssb.sb.st_uid)",
          "old_line_content": "#endif",
          "new_line_content": "\tZVAL_LONG(&stat_uid, stat_ssb.sb.st_uid);",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_rdev, -1)",
          "old_line_content": "#ifdef HAVE_STRUCT_STAT_ST_BLKSIZE",
          "new_line_content": "\tZVAL_LONG(&stat_rdev, -1);",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_size, stat_ssb.sb.st_size)",
          "old_line_content": "#else",
          "new_line_content": "\tZVAL_LONG(&stat_size, stat_ssb.sb.st_size);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_mtime, stat_ssb.sb.st_mtime)",
          "old_line_content": "#endif",
          "new_line_content": "\tZVAL_LONG(&stat_mtime, stat_ssb.sb.st_mtime);",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_ctime, stat_ssb.sb.st_ctime)",
          "old_line_content": "#ifdef HAVE_STRUCT_STAT_ST_BLOCKS",
          "new_line_content": "\tZVAL_LONG(&stat_ctime, stat_ssb.sb.st_ctime);",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_blksize, stat_ssb.sb.st_blksize)",
          "old_line_content": "#else",
          "new_line_content": "\tZVAL_LONG(&stat_blksize, stat_ssb.sb.st_blksize);",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&stat_blksize,-1)",
          "old_line_content": "#endif",
          "new_line_content": "\tZVAL_LONG(&stat_blksize,-1);",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "",
          "new_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_size);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t/* Store string indexes referencing the same zval*/",
          "new_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_atime);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(stat_sb_names[7])",
          "old_line_content": "}",
          "new_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[7], strlen(stat_sb_names[7]), &stat_size);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(stat_sb_names[8])",
          "old_line_content": "",
          "new_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[8], strlen(stat_sb_names[8]), &stat_atime);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(stat_sb_names[9])",
          "old_line_content": "/* {{{ Stat() on a filehandle */",
          "new_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[9], strlen(stat_sb_names[9]), &stat_mtime);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(stat_sb_names[10])",
          "old_line_content": "PHP_FUNCTION(fstat)",
          "new_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[10], strlen(stat_sb_names[10]), &stat_ctime);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(stat_sb_names[11])",
          "old_line_content": "{",
          "new_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[11], strlen(stat_sb_names[11]), &stat_blksize);",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(stat_sb_names[12])",
          "old_line_content": "\tzval *fp;",
          "new_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[12], strlen(stat_sb_names[12]), &stat_blocks);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(fp)",
          "old_line_content": "}",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(fp)",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, fp)",
          "old_line_content": "/* {{{ Copy a file */",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, fp);",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "php_fstat",
          "old_text": null,
          "new_text": "php_fstat(stream, return_value)",
          "old_line_content": "{",
          "new_line_content": "\tphp_fstat(stream, return_value);",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "Z_PARAM_PATH",
          "old_text": null,
          "new_text": "Z_PARAM_PATH(target, target_len)",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tZ_PARAM_PATH(target, target_len)",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "php_stream_context_from_zval",
          "old_text": null,
          "new_text": "php_stream_context_from_zval(zcontext, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": null,
          "new_api": "php_copy_file_ctx",
          "old_text": null,
          "new_text": "php_copy_file_ctx(source, target, 0, context)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tif (php_copy_file_ctx(source, target, 0, context) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "php_copy_file_ctx",
          "old_text": null,
          "new_text": "php_copy_file_ctx(src, dest, 0, NULL)",
          "old_line_content": "{",
          "new_line_content": "\treturn php_copy_file_ctx(src, dest, 0, NULL);",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": null,
          "new_api": "php_copy_file_ctx",
          "old_text": null,
          "new_text": "php_copy_file_ctx(src, dest, src_flg, NULL)",
          "old_line_content": "{",
          "new_line_content": "\treturn php_copy_file_ctx(src, dest, src_flg, NULL);",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "php_stream_stat_path_ex",
          "old_text": null,
          "new_text": "php_stream_stat_path_ex(src, 0, &src_s, ctx)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\tswitch (php_stream_stat_path_ex(src, 0, &src_s, ctx)) {",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(src_s.sb.st_mode)",
          "old_line_content": "\t\tcase -1:",
          "new_line_content": "\tif (S_ISDIR(src_s.sb.st_mode)) {",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"The first argument to copy() function cannot be a directory\")",
          "old_line_content": "\t\t\t/* non-statable stream */",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"The first argument to copy() function cannot be a directory\");",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "php_stream_stat_path_ex",
          "old_text": null,
          "new_text": "php_stream_stat_path_ex(dest, PHP_STREAM_URL_STAT_QUIET, &dest_s, ctx)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\tswitch (php_stream_stat_path_ex(dest, PHP_STREAM_URL_STAT_QUIET, &dest_s, ctx)) {",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "S_ISDIR",
          "old_text": null,
          "new_text": "S_ISDIR(dest_s.sb.st_mode)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (S_ISDIR(dest_s.sb.st_mode)) {",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"The second argument to copy() function cannot be a directory\")",
          "old_line_content": "\tif (src_s.sb.st_ino == dest_s.sb.st_ino && src_s.sb.st_dev == dest_s.sb.st_dev) {",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"The second argument to copy() function cannot be a directory\");",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "expand_filepath",
          "old_text": null,
          "new_text": "expand_filepath(src, NULL)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif ((sp = expand_filepath(src, NULL)) == NULL) {",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "expand_filepath",
          "old_text": null,
          "new_text": "expand_filepath(dest, NULL)",
          "old_line_content": "#ifndef PHP_WIN32",
          "new_line_content": "\t\tif ((dp = expand_filepath(dest, NULL)) == NULL) {",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": null,
          "new_api": "strcasecmp",
          "old_text": null,
          "new_text": "strcasecmp(sp, dp)",
          "old_line_content": "\t\t\treturn ret;",
          "new_line_content": "\t\t\t!strcasecmp(sp, dp);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(sp)",
          "old_line_content": "safe_to_copy:",
          "new_line_content": "\t\tefree(sp);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(dp)",
          "old_line_content": "",
          "new_line_content": "\t\tefree(dp);",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": null,
          "new_api": "php_stream_close",
          "old_text": null,
          "new_text": "php_stream_close(srcstream)",
          "old_line_content": "}",
          "new_line_content": "\t\tphp_stream_close(srcstream);",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": null,
          "new_api": "php_stream_close",
          "old_text": null,
          "new_text": "php_stream_close(deststream)",
          "old_line_content": "/* {{{ Binary-safe file read */",
          "new_line_content": "\t\tphp_stream_close(deststream);",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "Z_PARAM_RESOURCE",
          "old_text": null,
          "new_text": "Z_PARAM_RESOURCE(res)",
          "old_line_content": "\tif (len <= 0) {",
          "new_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "old_line_content": "",
          "new_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\tRETURN_FALSE;",
          "new_line_content": "\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "zval_ptr_dtor_str",
          "old_text": null,
          "new_text": "zval_ptr_dtor_str(return_value)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t\tzval_ptr_dtor_str(return_value);",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "RETURN_STR",
          "old_text": null,
          "new_text": "RETURN_STR(str)",
          "old_line_content": "\tint inc_len;",
          "new_line_content": "\tRETURN_STR(str);",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": null,
          "new_api": "php_mblen",
          "old_text": null,
          "new_text": "php_mblen(ptr, len)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\tinc_len = (*ptr == '\\0' ? 1 : php_mblen(ptr, len));",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "php_mb_reset",
          "old_text": null,
          "new_text": "php_mb_reset()",
          "old_line_content": "\t\t\t\tlast_chars[0] = last_chars[1];",
          "new_line_content": "\t\t\t\tphp_mb_reset();",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "old_line_content": "\t\t/* Make sure that there is at least one character in string */",
          "new_line_content": "\t\tZ_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(escape_str, escape_str_len)",
          "old_line_content": "\t\tif (delimiter_str_len != 1) {",
          "new_line_content": "\t\tZ_PARAM_STRING(escape_str, escape_str_len)",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(3, \"must be a single character\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tzend_argument_value_error(3, \"must be a single character\");",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(4, \"must be a single character\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tzend_argument_value_error(4, \"must be a single character\");",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\tif (escape_str != NULL) {",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(5, \"must be empty or a single character\")",
          "old_line_content": "\t\t\t/* use first character from string */",
          "new_line_content": "\t\t\tzend_argument_value_error(5, \"must be empty or a single character\");",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\t\tescape_char = (unsigned char) *escape_str;",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "php_fputcsv",
          "old_text": null,
          "new_text": "php_fputcsv(stream, fields, delimiter, enclosure, escape_char, eol_str)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tret = php_fputcsv(stream, fields, delimiter, enclosure, escape_char, eol_str);",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(ret)",
          "old_line_content": "{",
          "new_line_content": "\tRETURN_LONG(ret);",
          "content_same": false
        },
        {
          "line": 1909,
          "old_api": null,
          "new_api": "ZEND_ASSERT",
          "old_text": null,
          "new_text": "ZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE)",
          "old_line_content": "\t\t/* enclose a field that contains a delimiter, an enclosure character, or a newline */",
          "new_line_content": "\tZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE);",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "FPUTCSV_FLD_CHK",
          "old_text": null,
          "new_text": "FPUTCSV_FLD_CHK(enclosure)",
          "old_line_content": "\t\t) {",
          "new_line_content": "\t\t\tFPUTCSV_FLD_CHK(enclosure) ||",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": null,
          "new_api": "FPUTCSV_FLD_CHK",
          "old_text": null,
          "new_text": "FPUTCSV_FLD_CHK('\\r')",
          "old_line_content": "\t\t\tint escaped = 0;",
          "new_line_content": "\t\t\tFPUTCSV_FLD_CHK('\\r') ||",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": null,
          "new_api": "FPUTCSV_FLD_CHK",
          "old_text": null,
          "new_text": "FPUTCSV_FLD_CHK('\\t')",
          "old_line_content": "",
          "new_line_content": "\t\t\tFPUTCSV_FLD_CHK('\\t') ||",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "ZSTR_VAL",
          "old_text": null,
          "new_text": "ZSTR_VAL(field_str)",
          "old_line_content": "\t\t\t\tif (escape_char != PHP_CSV_NO_ESCAPE && *ch == escape_char) {",
          "new_line_content": "\t\t\tchar *ch = ZSTR_VAL(field_str);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(field_str)",
          "old_line_content": "\t\t\t\t\tescaped = 1;",
          "new_line_content": "\t\t\tchar *end = ch + ZSTR_LEN(field_str);",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "smart_str_appendc",
          "old_text": null,
          "new_text": "smart_str_appendc(&csvline, enclosure)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\tsmart_str_appendc(&csvline, enclosure);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "smart_str_appendc",
          "old_text": null,
          "new_text": "smart_str_appendc(&csvline, enclosure)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tsmart_str_appendc(&csvline, enclosure);",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "smart_str_appendc",
          "old_text": null,
          "new_text": "smart_str_appendc(&csvline, *ch)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tsmart_str_appendc(&csvline, *ch);",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t}",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": null,
          "new_api": "smart_str_0",
          "old_text": null,
          "new_text": "smart_str_0(&csvline)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tsmart_str_0(&csvline);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(csvline.s)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tret = php_stream_write(stream, ZSTR_VAL(csvline.s), ZSTR_LEN(csvline.s));",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": null,
          "new_api": "smart_str_free",
          "old_text": null,
          "new_text": "smart_str_free(&csvline)",
          "old_line_content": "/* {{{ Get line from file pointer and parse for CSV fields */",
          "new_line_content": "\tsmart_str_free(&csvline);",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(delimiter_str, delimiter_str_len)",
          "old_line_content": "\t\t\t/* Make sure that there is at least one character in string */",
          "new_line_content": "\t\t\tZ_PARAM_STRING(delimiter_str, delimiter_str_len)",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "Z_PARAM_STRING",
          "old_text": null,
          "new_text": "Z_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "old_line_content": "\t\t\tif (delimiter_str_len != 1) {",
          "new_line_content": "\t\t\tZ_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(3, \"must be a single character\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tzend_argument_value_error(3, \"must be a single character\");",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(4, \"must be a single character\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tzend_argument_value_error(4, \"must be a single character\");",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(5, \"must be empty or a single character\")",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tzend_argument_value_error(5, \"must be empty or a single character\");",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\t\t\t\tescape = (unsigned char) escape_str[0];",
          "new_line_content": "\t\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": null,
          "new_api": "zend_argument_value_error",
          "old_text": null,
          "new_text": "zend_argument_value_error(2, \"must be a greater than or equal to 0\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tzend_argument_value_error(2, \"must be a greater than or equal to 0\");",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "RETURN_THROWS",
          "old_text": null,
          "new_text": "RETURN_THROWS()",
          "old_line_content": "\tif (len < 0) {",
          "new_line_content": "\t\t\tRETURN_THROWS();",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": null,
          "new_api": "PHP_STREAM_TO_ZVAL",
          "old_text": null,
          "new_text": "PHP_STREAM_TO_ZVAL(stream, fd)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tPHP_STREAM_TO_ZVAL(stream, fd);",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": null,
          "new_api": "emalloc",
          "old_text": null,
          "new_text": "emalloc(len + 1)",
          "old_line_content": "",
          "new_line_content": "\t\tbuf = emalloc(len + 1);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2058,
          "old_api": "ZEND_ASSERT",
          "new_api": null,
          "old_text": "ZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE)",
          "new_text": null,
          "old_line_content": "\tZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "php_mb_reset",
          "new_api": null,
          "old_text": "php_mb_reset()",
          "new_text": null,
          "old_line_content": "\tphp_mb_reset();",
          "new_line_content": "\tint inc_len;",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": "php_fgetcsv_lookup_trailing_spaces",
          "new_api": null,
          "old_text": "php_fgetcsv_lookup_trailing_spaces(buf, buf_len)",
          "new_text": null,
          "old_line_content": "\tline_end = limit = (char *)php_fgetcsv_lookup_trailing_spaces(buf, buf_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(temp_len + line_end_len + 1)",
          "new_text": null,
          "old_line_content": "\ttemp = emalloc(temp_len + line_end_len + 1);",
          "new_line_content": "\tbptr = buf;",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "array_init",
          "new_api": null,
          "old_text": "array_init(return_value)",
          "new_text": null,
          "old_line_content": "\tarray_init(return_value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": "php_mblen",
          "new_api": null,
          "old_text": "php_mblen(bptr, limit - bptr)",
          "new_text": null,
          "old_line_content": "\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "new_line_content": "\t/* NB this routine will return a single null entry for a blank line */",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace((int)*(unsigned char *)tmp)",
          "new_text": null,
          "old_line_content": "\t\t\twhile ((*tmp != delimiter) && isspace((int)*(unsigned char *)tmp)) {",
          "new_line_content": "\t\tchar *comp_end, *hunk_begin;",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "add_next_index_null",
          "new_api": null,
          "old_text": "add_next_index_null(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_next_index_null(return_value);",
          "new_line_content": "\t\t\tif (*tmp == enclosure) {",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin - 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin - 1);",
          "new_line_content": "\t\t\t/* 2A. handle enclosure delimited field */",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "new_line_content": "\t\t\t\t\t\t\t\ttptr += (bptr - hunk_begin);",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "php_stream_get_line",
          "new_api": null,
          "old_text": "php_stream_get_line(stream, NULL, 0, &new_len)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tchar *new_buf = php_stream_get_line(stream, NULL, 0, &new_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "erealloc",
          "new_api": null,
          "old_text": "erealloc(temp, temp_len)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tchar *new_temp = erealloc(temp, temp_len);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t * the enclosure to end of data to the",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(buf)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tefree(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": "php_fgetcsv_lookup_trailing_spaces",
          "new_api": null,
          "old_text": "php_fgetcsv_lookup_trailing_spaces(buf, buf_len)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tline_end = limit = (char *)php_fgetcsv_lookup_trailing_spaces(buf, buf_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "php_mb_reset",
          "new_api": null,
          "old_text": "php_mb_reset()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tphp_mb_reset();",
          "new_line_content": "\t\t\t\t\t\t\t} break;",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin - 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin - 1);",
          "new_line_content": "\t\t\t\t\t\t\t\tbptr++;",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t/* real enclosure */",
          "content_same": false
        },
        {
          "line": 2209,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin - 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin - 1);",
          "new_line_content": "\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "php_mblen",
          "new_api": null,
          "old_text": "php_mblen(bptr, limit - bptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "new_line_content": "\t\t\t\t\t\t\tdefault:",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "php_mb_reset",
          "new_api": null,
          "old_text": "php_mb_reset()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tphp_mb_reset();",
          "new_line_content": "\t\t\t\t\tcase 0:",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "php_mblen",
          "new_api": null,
          "old_text": "php_mblen(bptr, limit - bptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": "php_mb_reset",
          "new_api": null,
          "old_text": "php_mb_reset()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tphp_mb_reset();",
          "new_line_content": "\t\t\t\tswitch (inc_len) {",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": "php_mblen",
          "new_api": null,
          "old_text": "php_mblen(bptr, limit - bptr)",
          "new_text": null,
          "old_line_content": "\t\t\t\tinc_len = (bptr < limit ? (*bptr == '\\0' ? 1 : php_mblen(bptr, limit - bptr)): 0);",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(tptr, hunk_begin, bptr - hunk_begin)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(tptr, hunk_begin, bptr - hunk_begin);",
          "new_line_content": "\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": "add_next_index_stringl",
          "new_api": null,
          "old_text": "add_next_index_stringl(return_value, temp, comp_end - temp)",
          "new_text": null,
          "old_line_content": "\t\tadd_next_index_stringl(return_value, temp, comp_end - temp);",
          "new_line_content": "\t\t\t\tbptr++;",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(temp)",
          "new_text": null,
          "old_line_content": "\tefree(temp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(buf)",
          "new_text": null,
          "old_line_content": "\t\tefree(buf);",
          "new_line_content": "\t\t*comp_end = '\\0';",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "PHP_FUNCTION(realpath)",
          "content_same": false
        },
        {
          "line": 2313,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tchar *filename;",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "VCWD_REALPATH",
          "new_api": null,
          "old_text": "VCWD_REALPATH(filename, resolved_path_buff)",
          "new_text": null,
          "old_line_content": "\tif (VCWD_REALPATH(filename, resolved_path_buff)) {",
          "new_line_content": "\tchar resolved_path_buff[MAXPATHLEN];",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": "php_check_open_basedir",
          "new_api": null,
          "old_text": "php_check_open_basedir(resolved_path_buff)",
          "new_text": null,
          "old_line_content": "\t\tif (php_check_open_basedir(resolved_path_buff)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "RETURN_STRING",
          "new_api": null,
          "old_text": "RETURN_STRING(resolved_path_buff)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_STRING(resolved_path_buff);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset((void *)buff, 0, META_DEF_BUFSIZE + 1)",
          "new_text": null,
          "old_line_content": "\tmemset((void *)buff, 0, META_DEF_BUFSIZE + 1);",
          "new_line_content": "   Tokenizes an HTML file for get_meta_tags */",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "php_stream_getc",
          "new_api": null,
          "old_text": "php_stream_getc(md->stream)",
          "new_text": null,
          "old_line_content": "\twhile (md->ulc || (!php_stream_eof(md->stream) && (ch = php_stream_getc(md->stream)))) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "php_stream_eof",
          "new_api": null,
          "old_text": "php_stream_eof(md->stream)",
          "new_text": null,
          "old_line_content": "\t\tif (php_stream_eof(md->stream)) {",
          "new_line_content": "\tint ch = 0, compliment;",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "php_stream_getc",
          "new_api": null,
          "old_text": "php_stream_getc(md->stream)",
          "new_text": null,
          "old_line_content": "\t\t\t\twhile (!php_stream_eof(md->stream) && (ch = php_stream_getc(md->stream)) && ch != compliment && ch != '<' && ch != '>') {",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(md->token_len + 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmd->token_data = (char *) emalloc(md->token_len + 1);",
          "new_line_content": "\t\t\t\t\tmd->ulc = 1;",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(md->token_data, buff, md->token_len+1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmemcpy(md->token_data, buff, md->token_len+1);",
          "new_line_content": "\t\t\t\t\tmd->lc = ch;",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": "isalnum",
          "new_api": null,
          "old_text": "isalnum(ch)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (isalnum(ch)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(PHP_META_HTML401_CHARS, ch)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\twhile (!php_stream_eof(md->stream) && (ch = php_stream_getc(md->stream)) && (isalnum(ch) || strchr(PHP_META_HTML401_CHARS, ch))) {",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2420,
          "old_api": "isalpha",
          "new_api": null,
          "old_text": "isalpha(ch)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (!isalpha(ch) && ch != '-') {",
          "new_line_content": "\t\t\t\t\t\tif (md->token_len == META_DEF_BUFSIZE) {",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(md->token_len + 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmd->token_data = (char *) emalloc(md->token_len + 1);",
          "new_line_content": "\t\t\t\t\t/* This is ugly, but we have to replace ungetc */",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_line_content": "PHP_FUNCTION(fnmatch)",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(pattern, pattern_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(pattern, pattern_len)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "\tchar *pattern, *filename;",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Pattern exceeds the maximum allowed length of %d characters\", MAXPATHLEN)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Pattern exceeds the maximum allowed length of %d characters\", MAXPATHLEN);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "fnmatch",
          "new_api": null,
          "old_text": "fnmatch( pattern, filename, (int)flags )",
          "new_text": null,
          "old_line_content": "\tRETURN_BOOL( ! fnmatch( pattern, filename, (int)flags ));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": "ZEND_PARSE_PARAMETERS_NONE",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_NONE()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_NONE();",
          "new_line_content": "/* }}} */",
          "content_same": false
        },
        {
          "line": 2474,
          "old_api": "php_get_temporary_directory",
          "new_api": null,
          "old_text": "php_get_temporary_directory()",
          "new_text": null,
          "old_line_content": "\tRETURN_STRING((char *)php_get_temporary_directory());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "php_stream_seek",
          "new_api": null,
          "old_text": "php_stream_seek(stream, offset, ((offset > 0) ? SEEK_SET : SEEK_END))",
          "new_text": null,
          "old_line_content": "\tif (offset != 0 && php_stream_seek(stream, offset, ((offset > 0) ? SEEK_SET : SEEK_END)) < 0) {",
          "new_line_content": "\t/* disabling the read buffer allows doing the whole transfer",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Failed to seek to position \" ZEND_LONG_FMT \" in the stream\", offset)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Failed to seek to position \" ZEND_LONG_FMT \" in the stream\", offset);",
          "new_line_content": "\t   in just one read() system call */",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "RETVAL_EMPTY_STRING",
          "new_api": null,
          "old_text": "RETVAL_EMPTY_STRING()",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_EMPTY_STRING();",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 4)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 4)",
          "new_line_content": "\tzend_long flags = 0;",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "\tzval *zcontext = NULL;",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "Z_PARAM_ZVAL",
          "new_api": null,
          "old_text": "Z_PARAM_ZVAL(data)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_ZVAL(data)",
          "new_line_content": "\tphp_stream_context *context = NULL;",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "Z_PARAM_RESOURCE_OR_NULL",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "php_stream_from_zval",
          "new_api": null,
          "old_text": "php_stream_from_zval(srcstream, data)",
          "new_text": null,
          "old_line_content": "\t\tphp_stream_from_zval(srcstream, data);",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "strncasecmp",
          "new_api": null,
          "old_text": "strncasecmp(filename, \"file://\", sizeof(\"file://\") - 1)",
          "new_text": null,
          "old_line_content": "\t\t\tif (strncasecmp(filename, \"file://\", sizeof(\"file://\") - 1)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Exclusive locks may only be set for regular files\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Exclusive locks may only be set for regular files\");",
          "new_line_content": "\tif (flags & PHP_FILE_APPEND) {",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": "php_stream_open_wrapper_ex",
          "new_api": null,
          "old_text": "php_stream_open_wrapper_ex(filename, mode, ((flags & PHP_FILE_USE_INCLUDE_PATH) ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "new_text": null,
          "old_line_content": "\tstream = php_stream_open_wrapper_ex(filename, mode, ((flags & PHP_FILE_USE_INCLUDE_PATH) ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "php_stream_lock",
          "new_api": null,
          "old_text": "php_stream_lock(stream, LOCK_EX)",
          "new_text": null,
          "old_line_content": "\tif ((flags & LOCK_EX) && (!php_stream_supports_lock(stream) || php_stream_lock(stream, LOCK_EX))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Exclusive locks are not supported for this stream\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Exclusive locks are not supported for this stream\");",
          "new_line_content": "\tif (stream == NULL) {",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(data)",
          "new_text": null,
          "old_line_content": "\tswitch (Z_TYPE_P(data)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"content truncated from %zu to \" ZEND_LONG_FMT \" bytes\", len, ZEND_LONG_MAX)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"content truncated from %zu to \" ZEND_LONG_FMT \" bytes\", len, ZEND_LONG_MAX);",
          "new_line_content": "\t\tcase IS_RESOURCE: {",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "convert_to_string",
          "new_api": null,
          "old_text": "convert_to_string(data)",
          "new_text": null,
          "old_line_content": "\t\t\tconvert_to_string(data);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(data)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_STRLEN_P(data)) {",
          "new_line_content": "\t\tcase IS_DOUBLE:",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(data)",
          "new_text": null,
          "old_line_content": "\t\t\t\tnumbytes = php_stream_write(stream, Z_STRVAL_P(data), Z_STRLEN_P(data));",
          "new_line_content": "\t\tcase IS_FALSE:",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "Z_STRLEN_P",
          "new_api": null,
          "old_text": "Z_STRLEN_P(data)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (numbytes != -1 && numbytes != Z_STRLEN_P(data)) {",
          "new_line_content": "\t\tcase IS_TRUE:",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(data)",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_hash_num_elements(Z_ARRVAL_P(data))) {",
          "new_line_content": "\t\t\t\t\tnumbytes = -1;",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (ZSTR_LEN(str)) {",
          "new_line_content": "\t\t\t\tssize_t bytes_written;",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tnumbytes += ZSTR_LEN(str);",
          "new_line_content": "\t\t\t\tzval *tmp;",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tbytes_written = php_stream_write(stream, ZSTR_VAL(str), ZSTR_LEN(str));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif (bytes_written != ZSTR_LEN(str)) {",
          "new_line_content": "\t\t\t\tZEND_HASH_FOREACH_VAL(Z_ARRVAL_P(data), tmp) {",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Failed to write %zd bytes to %s\", ZSTR_LEN(str), filename);",
          "new_line_content": "\t\t\t\t\tzend_string *t;",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "Z_OBJ_P",
          "new_api": null,
          "old_text": "Z_OBJ_P(data)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (zend_std_cast_object_tostring(Z_OBJ_P(data), &out, IS_STRING) == SUCCESS) {",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "Z_STRLEN",
          "new_api": null,
          "old_text": "Z_STRLEN(out)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tnumbytes = php_stream_write(stream, Z_STRVAL(out), Z_STRLEN(out));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "Z_STRLEN",
          "new_api": null,
          "old_text": "Z_STRLEN(out)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (numbytes != -1 && numbytes != Z_STRLEN(out)) {",
          "new_line_content": "\t\tcase IS_OBJECT:",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "php_stream_close",
          "new_api": null,
          "old_text": "php_stream_close(stream)",
          "new_text": null,
          "old_line_content": "\tphp_stream_close(stream);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 3)",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "\tzval *zcontext = NULL;",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "Z_PARAM_RESOURCE_OR_NULL",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\t/* Parse arguments */",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(2, \"must be a valid flag value\")",
          "new_text": null,
          "old_line_content": "\t\tzend_argument_value_error(2, \"must be a valid flag value\");",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\t\tZ_PARAM_LONG(flags)",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": "php_stream_context_from_zval",
          "new_api": null,
          "old_text": "php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT)",
          "new_text": null,
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, flags & PHP_FILE_NO_DEFAULT_CONTEXT);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "php_stream_open_wrapper_ex",
          "new_api": null,
          "old_text": "php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "new_text": null,
          "old_line_content": "\tstream = php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "new_line_content": "\tuse_include_path = flags & PHP_FILE_USE_INCLUDE_PATH;",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "php_stream_copy_to_mem",
          "new_api": null,
          "old_text": "php_stream_copy_to_mem(stream, PHP_STREAM_COPY_ALL, 0)",
          "new_text": null,
          "old_line_content": "\tif ((target_buf = php_stream_copy_to_mem(stream, PHP_STREAM_COPY_ALL, 0)) != NULL) {",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(target_buf)",
          "new_text": null,
          "old_line_content": "\t\ts = ZSTR_VAL(target_buf);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(target_buf)",
          "new_text": null,
          "old_line_content": "\t\te = ZSTR_VAL(target_buf) + ZSTR_LEN(target_buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "add_index_stringl",
          "new_api": null,
          "old_text": "add_index_stringl(return_value, i++, s, p-s)",
          "new_text": null,
          "old_line_content": "\t\t\t\tadd_index_stringl(return_value, i++, s, p-s);",
          "new_line_content": "\t\t/* for performance reasons the code is duplicated, so that the if (include_new_line)",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(p, eol_marker, (e-p))",
          "new_text": null,
          "old_line_content": "\t\t\t} while ((p = memchr(p, eol_marker, (e-p))));",
          "new_line_content": "\t\tif (include_new_line) {",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": "add_index_stringl",
          "new_api": null,
          "old_text": "add_index_stringl(return_value, i++, s, p-s-windows_eol)",
          "new_text": null,
          "old_line_content": "\t\t\t\tadd_index_stringl(return_value, i++, s, p-s-windows_eol);",
          "new_line_content": "\t\t\t\t\twindows_eol++;",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(p, eol_marker, (e-p))",
          "new_text": null,
          "old_line_content": "\t\t\t} while ((p = memchr(p, eol_marker, (e-p))));",
          "new_line_content": "\t\t\t\tif (skip_blank_lines && !(p-s-windows_eol)) {",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "zend_string_free",
          "new_api": null,
          "old_text": "zend_string_free(target_buf)",
          "new_text": null,
          "old_line_content": "\t\tzend_string_free(target_buf);",
          "new_line_content": "\t\t\tp = e;",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "php_stream_close",
          "new_api": null,
          "old_text": "php_stream_close(stream)",
          "new_text": null,
          "old_line_content": "\tphp_stream_close(stream);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_line_content": "\tchar *dir, *prefix;",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(dir, dir_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(dir, dir_len)",
          "new_line_content": "\tsize_t dir_len, prefix_len;",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(prefix, prefix_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(prefix, prefix_len)",
          "new_line_content": "\tzend_string *opened_path;",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tint fd;",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "php_basename",
          "new_api": null,
          "old_text": "php_basename(prefix, prefix_len, NULL, 0)",
          "new_text": null,
          "old_line_content": "\tp = php_basename(prefix, prefix_len, NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "RETVAL_STR",
          "new_api": null,
          "old_text": "RETVAL_STR(opened_path)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STR(opened_path);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "zend_string_release_ex",
          "new_api": null,
          "old_text": "zend_string_release_ex(p, 0)",
          "new_text": null,
          "old_line_content": "\tzend_string_release_ex(p, 0);",
          "new_line_content": "\tRETVAL_FALSE;",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "ZEND_PARSE_PARAMETERS_NONE",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_NONE()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_NONE();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "php_stream_fopen_tmpfile",
          "new_api": null,
          "old_text": "php_stream_fopen_tmpfile()",
          "new_text": null,
          "old_line_content": "\tstream = php_stream_fopen_tmpfile();",
          "new_line_content": "PHP_FUNCTION(tmpfile)",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "php_stream_to_zval",
          "new_api": null,
          "old_text": "php_stream_to_zval(stream, return_value)",
          "new_text": null,
          "old_line_content": "\t\tphp_stream_to_zval(stream, return_value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 4)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 4)",
          "new_line_content": "\tsize_t filename_len, mode_len;",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "\tbool use_include_path = 0;",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(mode, mode_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(mode, mode_len)",
          "new_line_content": "\tzval *zcontext = NULL;",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "Z_PARAM_RESOURCE_OR_NULL",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "php_stream_open_wrapper_ex",
          "new_api": null,
          "old_text": "php_stream_open_wrapper_ex(filename, mode, (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "new_text": null,
          "old_line_content": "\tstream = php_stream_open_wrapper_ex(filename, mode, (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "new_line_content": "\t\tZ_PARAM_BOOL(use_include_path)",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "/* {{{ Close an open file pointer */",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHPAPI PHP_FUNCTION(fclose)",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "php_stream_free",
          "new_api": null,
          "old_text": "php_stream_free(stream,\n\t\tPHP_STREAM_FREE_KEEP_RSRC |\n\t\t(stream->is_persistent ? PHP_STREAM_FREE_CLOSE_PERSISTENT : PHP_STREAM_FREE_CLOSE))",
          "new_text": null,
          "old_line_content": "\tphp_stream_free(stream,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_line_content": "\tchar *command, *mode;",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(command, command_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(command, command_len)",
          "new_line_content": "\tsize_t command_len, mode_len;",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(mode, mode_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(mode, mode_len)",
          "new_line_content": "\tFILE *fp;",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "estrndup",
          "new_api": null,
          "old_text": "estrndup(mode, mode_len)",
          "new_text": null,
          "old_line_content": "\tposix_mode = estrndup(mode, mode_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(z, z + 1, mode_len - (z - posix_mode))",
          "new_text": null,
          "old_line_content": "\t\t\tmemmove(z, z + 1, mode_len - (z - posix_mode));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(posix_mode, \"wb\", 2)",
          "new_text": null,
          "old_line_content": "\t\t(mode_len == 2 && (memcmp(posix_mode, \"rb\", 2) && memcmp(posix_mode, \"wb\", 2)))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(2, \"must be one of \\\"r\\\", \\\"rb\\\", \\\"w\\\", or \\\"wb\\\"\")",
          "new_text": null,
          "old_line_content": "\t\tzend_argument_value_error(2, \"must be one of \\\"r\\\", \\\"rb\\\", \\\"w\\\", or \\\"wb\\\"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(posix_mode)",
          "new_text": null,
          "old_line_content": "\t\tefree(posix_mode);",
          "new_line_content": "\t/* Musl only partially validates the mode. Manually check it to ensure consistent behavior. */",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\tRETURN_THROWS();",
          "new_line_content": "\tif (mode_len > 2 ||",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "VCWD_POPEN",
          "new_api": null,
          "old_text": "VCWD_POPEN(command, posix_mode)",
          "new_text": null,
          "old_line_content": "\tfp = VCWD_POPEN(command, posix_mode);",
          "new_line_content": "\t) {",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "php_stream_fopen_from_pipe",
          "new_api": null,
          "old_text": "php_stream_fopen_from_pipe(fp, mode)",
          "new_text": null,
          "old_line_content": "\tstream = php_stream_fopen_from_pipe(fp, mode);",
          "new_line_content": "\tif (!fp) {",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref2(NULL, command, mode, E_WARNING, \"%s\", strerror(errno));",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "/* {{{ Close a file pointer opened by popen() */",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHP_FUNCTION(pclose)",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "FG",
          "new_api": null,
          "old_text": "FG(pclose_ret)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(FG(pclose_ret));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "/* {{{ Test for end-of-file on a file pointer */",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHPAPI PHP_FUNCTION(feof)",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_line_content": "\tbool len_is_null = 1;",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "\tchar *buf = NULL;",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "RETVAL_STRINGL",
          "new_api": null,
          "old_text": "RETVAL_STRINGL(buf, line_len)",
          "new_text": null,
          "old_line_content": "\t\tRETVAL_STRINGL(buf, line_len);",
          "new_line_content": "\t\t/* ask streams to give us a buffer of an appropriate size */",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(2, \"must be greater than 0\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(2, \"must be greater than 0\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t// TODO: avoid reallocation ???",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "zend_string_alloc",
          "new_api": null,
          "old_text": "zend_string_alloc(len, 0)",
          "new_text": null,
          "old_line_content": "\t\tstr = zend_string_alloc(len, 0);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "ZSTR_VAL",
          "new_api": null,
          "old_text": "ZSTR_VAL(str)",
          "new_text": null,
          "old_line_content": "\t\tif (php_stream_get_line(stream, ZSTR_VAL(str), len, &line_len) == NULL) {",
          "new_line_content": "\t\tif (len <= 0) {",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(str)",
          "new_text": null,
          "old_line_content": "\t\t\tZSTR_LEN(str) = line_len;",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "RETURN_NEW_STR",
          "new_api": null,
          "old_text": "RETURN_NEW_STR(str)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_NEW_STR(str);",
          "new_line_content": "\t\t * Only needed if the user requested a buffer size. */",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "/* {{{ Get a character from file pointer */",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHPAPI PHP_FUNCTION(fgetc)",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "RETURN_CHAR",
          "new_api": null,
          "old_text": "RETURN_CHAR(result)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_CHAR(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, -1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, -1)",
          "new_line_content": "\tzval *args = NULL;",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(file_handle)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(file_handle)",
          "new_line_content": "\tzval *file_handle;",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(format, format_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(format, format_len)",
          "new_line_content": "\tchar *buf, *format;",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "Z_PARAM_VARIADIC",
          "new_api": null,
          "old_text": "Z_PARAM_VARIADIC('*', args, argc)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_VARIADIC('*', args, argc)",
          "new_line_content": "\tsize_t len;",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tvoid *what;",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "php_stream_get_line",
          "new_api": null,
          "old_text": "php_stream_get_line((php_stream *) what, NULL, 0, &len)",
          "new_text": null,
          "old_line_content": "\tbuf = php_stream_get_line((php_stream *) what, NULL, 0, &len);",
          "new_line_content": "\t * with a leak if we have an invalid filehandle. This needs changing",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "php_sscanf_internal",
          "new_api": null,
          "old_text": "php_sscanf_internal(buf, format, argc, args, 0, return_value)",
          "new_text": null,
          "old_line_content": "\tresult = php_sscanf_internal(buf, format, argc, args, 0, return_value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(buf)",
          "new_text": null,
          "old_line_content": "\tefree(buf);",
          "new_line_content": "\tif (buf == NULL) {",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_line_content": "\tssize_t ret;",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "\tsize_t num_bytes;",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(input, inputlen)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(input, inputlen)",
          "new_line_content": "\tzend_long maxlen = 0;",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "MIN",
          "new_api": null,
          "old_text": "MIN((size_t) maxlen, inputlen)",
          "new_text": null,
          "old_line_content": "\t\tnum_bytes = MIN((size_t) maxlen, inputlen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(0)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_LONG(0);",
          "new_line_content": "\t\tnum_bytes = 0;",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "php_stream_write",
          "new_api": null,
          "old_text": "php_stream_write(stream, input, num_bytes)",
          "new_text": null,
          "old_line_content": "\tret = php_stream_write(stream, input, num_bytes);",
          "new_line_content": "\tif (!num_bytes) {",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(ret)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(ret);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "PHPAPI PHP_FUNCTION(fflush)",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tzval *res;",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "/* {{{ Rewind the position of a file pointer */",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHPAPI PHP_FUNCTION(rewind)",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "PHPAPI PHP_FUNCTION(ftell)",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tzval *res;",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_line_content": "PHPAPI PHP_FUNCTION(fseek)",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "Z_PARAM_LONG",
          "new_api": null,
          "old_text": "Z_PARAM_LONG(offset)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_LONG(offset)",
          "new_line_content": "\tzval *res;",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "php_stream_seek",
          "new_api": null,
          "old_text": "php_stream_seek(stream, offset, (int) whence)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(php_stream_seek(stream, offset, (int) whence));",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "php_check_open_basedir",
          "new_api": null,
          "old_text": "php_check_open_basedir(dir)",
          "new_text": null,
          "old_line_content": "\tif (php_check_open_basedir(dir)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "VCWD_MKDIR",
          "new_api": null,
          "old_text": "VCWD_MKDIR(dir, (mode_t)mode)",
          "new_text": null,
          "old_line_content": "\tif ((ret = VCWD_MKDIR(dir, (mode_t)mode)) < 0 && (options & REPORT_ERRORS)) {",
          "new_line_content": "\tint ret;",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "strerror",
          "new_api": null,
          "old_text": "strerror(errno)",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"%s\", strerror(errno));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "php_mkdir_ex",
          "new_api": null,
          "old_text": "php_mkdir_ex(dir, mode, REPORT_ERRORS)",
          "new_text": null,
          "old_line_content": "\treturn php_mkdir_ex(dir, mode, REPORT_ERRORS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 4)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 4)",
          "new_line_content": "\tsize_t dir_len;",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(dir, dir_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(dir, dir_len)",
          "new_line_content": "\tzval *zcontext = NULL;",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "Z_PARAM_BOOL",
          "new_api": null,
          "old_text": "Z_PARAM_BOOL(recursive)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_BOOL(recursive)",
          "new_line_content": "\tphp_stream_context *context;",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "Z_PARAM_RESOURCE_OR_NULL",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "php_stream_context_from_zval",
          "new_api": null,
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": null,
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(dir, dir_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(dir, dir_len)",
          "new_line_content": "\tchar *dir;",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tphp_stream_context *context;",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "php_stream_rmdir",
          "new_api": null,
          "old_text": "php_stream_rmdir(dir, REPORT_ERRORS, context)",
          "new_text": null,
          "old_line_content": "\tRETURN_BOOL(php_stream_rmdir(dir, REPORT_ERRORS, context));",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 3)",
          "new_line_content": "\tsize_t size = 0;",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "\tbool use_include_path = 0;",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "Z_PARAM_RESOURCE_OR_NULL",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "new_line_content": "\tphp_stream_context *context = NULL;",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "php_stream_open_wrapper_ex",
          "new_api": null,
          "old_text": "php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context)",
          "new_text": null,
          "old_line_content": "\tstream = php_stream_open_wrapper_ex(filename, \"rb\", (use_include_path ? USE_PATH : 0) | REPORT_ERRORS, NULL, context);",
          "new_line_content": "\t\tZ_PARAM_BOOL(use_include_path)",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "php_stream_close",
          "new_api": null,
          "old_text": "php_stream_close(stream)",
          "new_text": null,
          "old_line_content": "\t\tphp_stream_close(stream);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(0, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(0, 1)",
          "new_line_content": "PHP_FUNCTION(umask)",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tbool mask_is_null = 1;",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "umask",
          "new_api": null,
          "old_text": "umask(077)",
          "new_text": null,
          "old_line_content": "\toldumask = umask(077);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "BG",
          "new_api": null,
          "old_text": "BG(umask)",
          "new_text": null,
          "old_line_content": "\tif (BG(umask) == -1) {",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "BG",
          "new_api": null,
          "old_text": "BG(umask)",
          "new_text": null,
          "old_line_content": "\t\tBG(umask) = oldumask;",
          "new_line_content": "\t\tZ_PARAM_LONG_OR_NULL(mask, mask_is_null)",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "umask",
          "new_api": null,
          "old_text": "umask(oldumask)",
          "new_text": null,
          "old_line_content": "\t\tumask(oldumask);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "RETURN_LONG",
          "new_api": null,
          "old_text": "RETURN_LONG(oldumask)",
          "new_text": null,
          "old_line_content": "\tRETURN_LONG(oldumask);",
          "new_line_content": "\tif (mask_is_null) {",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "PHPAPI PHP_FUNCTION(fpassthru)",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tzval *res;",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_line_content": "\tchar *old_name, *new_name;",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(old_name, old_name_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(old_name, old_name_len)",
          "new_line_content": "\tsize_t old_name_len, new_name_len;",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(new_name, new_name_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(new_name, new_name_len)",
          "new_line_content": "\tzval *zcontext = NULL;",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\");",
          "new_line_content": "\t\tZ_PARAM_RESOURCE_OR_NULL(zcontext)",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"%s wrapper does not support renaming\", wrapper->wops->label ? wrapper->wops->label : \"Source\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"%s wrapper does not support renaming\", wrapper->wops->label ? wrapper->wops->label : \"Source\");",
          "new_line_content": "\tif (!wrapper || !wrapper->wops) {",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "php_stream_locate_url_wrapper",
          "new_api": null,
          "old_text": "php_stream_locate_url_wrapper(new_name, NULL, 0)",
          "new_text": null,
          "old_line_content": "\tif (wrapper != php_stream_locate_url_wrapper(new_name, NULL, 0)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Cannot rename a file across wrapper types\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Cannot rename a file across wrapper types\");",
          "new_line_content": "\tif (!wrapper->wops->rename) {",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "php_stream_context_from_zval",
          "new_api": null,
          "old_text": "php_stream_context_from_zval(zcontext, 0)",
          "new_text": null,
          "old_line_content": "\tcontext = php_stream_context_from_zval(zcontext, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 2)",
          "new_line_content": "\tchar *filename;",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(filename, filename_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(filename, filename_len)",
          "new_line_content": "\tsize_t filename_len;",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tphp_stream_context *context = NULL;",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "php_stream_locate_url_wrapper",
          "new_api": null,
          "old_text": "php_stream_locate_url_wrapper(filename, NULL, 0)",
          "new_text": null,
          "old_line_content": "\twrapper = php_stream_locate_url_wrapper(filename, NULL, 0);",
          "new_line_content": "\t\tZ_PARAM_OPTIONAL",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Unable to locate stream wrapper\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"%s does not allow unlinking\", wrapper->wops->label ? wrapper->wops->label : \"Wrapper\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"%s does not allow unlinking\", wrapper->wops->label ? wrapper->wops->label : \"Wrapper\");",
          "new_line_content": "\tif (!wrapper || !wrapper->wops) {",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "unlink",
          "new_api": null,
          "old_text": "wrapper->wops->unlink(wrapper, filename, REPORT_ERRORS, context)",
          "new_text": null,
          "old_line_content": "\tRETURN_BOOL(wrapper->wops->unlink(wrapper, filename, REPORT_ERRORS, context));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHP_FUNCTION(fsync)",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "php_stream_sync",
          "new_api": null,
          "old_text": "php_stream_sync(stream, /* data_only */ 0)",
          "new_text": null,
          "old_line_content": "\tRETURN_BOOL(php_stream_sync(stream, /* data_only */ 0) == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "PHP_FUNCTION(fdatasync)",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "php_stream_sync",
          "new_api": null,
          "old_text": "php_stream_sync(stream, /* data_only */ 1)",
          "new_text": null,
          "old_line_content": "\tRETURN_BOOL(php_stream_sync(stream, /* data_only */ 1) == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_line_content": "PHP_FUNCTION(ftruncate)",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(fp)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(fp)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "Z_PARAM_LONG",
          "new_api": null,
          "old_text": "Z_PARAM_LONG(size)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_LONG(size)",
          "new_line_content": "\tzval *fp;",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tzend_long size;",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, fp)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, fp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "php_stream_truncate_set_size",
          "new_api": null,
          "old_text": "php_stream_truncate_set_size(stream, size)",
          "new_text": null,
          "old_line_content": "\tRETURN_BOOL(0 == php_stream_truncate_set_size(stream, size));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "php_stream_stat",
          "new_api": null,
          "old_text": "php_stream_stat(stream, &stat_ssb)",
          "new_text": null,
          "old_line_content": "\tif (php_stream_stat(stream, &stat_ssb)) {",
          "new_line_content": "\t\t stat_size, stat_atime, stat_mtime, stat_ctime, stat_blksize, stat_blocks;",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "array_init",
          "new_api": null,
          "old_text": "array_init(return_value)",
          "new_text": null,
          "old_line_content": "\tarray_init(return_value);",
          "new_line_content": "\t};",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_ino, stat_ssb.sb.st_ino)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_ino, stat_ssb.sb.st_ino);",
          "new_line_content": "\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_mode, stat_ssb.sb.st_mode)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_mode, stat_ssb.sb.st_mode);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_nlink, stat_ssb.sb.st_nlink)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_nlink, stat_ssb.sb.st_nlink);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_gid, stat_ssb.sb.st_gid)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_gid, stat_ssb.sb.st_gid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_atime, stat_ssb.sb.st_atime)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_atime, stat_ssb.sb.st_atime);",
          "new_line_content": "#ifdef HAVE_STRUCT_STAT_ST_RDEV",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_ctime, stat_ssb.sb.st_ctime)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_ctime, stat_ssb.sb.st_ctime);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_blksize, stat_ssb.sb.st_blksize)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_blksize, stat_ssb.sb.st_blksize);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_blocks, stat_ssb.sb.st_blocks)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_blocks, stat_ssb.sb.st_blocks);",
          "new_line_content": "#ifdef HAVE_STRUCT_STAT_ST_BLKSIZE",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&stat_blocks,-1)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(&stat_blocks,-1);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_dev);",
          "new_line_content": "#ifdef HAVE_STRUCT_STAT_ST_BLOCKS",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_mode);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_uid);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\tzend_hash_next_index_insert(Z_ARRVAL_P(return_value), &stat_gid);",
          "new_line_content": "\t/* Store numeric indexes in proper order */",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(stat_sb_names[4])",
          "new_text": null,
          "old_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[4], strlen(stat_sb_names[4]), &stat_uid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(stat_sb_names[5])",
          "new_text": null,
          "old_line_content": "\tzend_hash_str_add_new(Z_ARRVAL_P(return_value), stat_sb_names[5], strlen(stat_sb_names[5]), &stat_gid);",
          "new_line_content": "\t/* Store string indexes referencing the same zval*/",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(1, 1)",
          "new_line_content": "/* {{{ Stat() on a filehandle */",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(fp)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(fp)",
          "new_line_content": "PHP_FUNCTION(fstat)",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, fp)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, fp);",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 3)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(source, source_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(source, source_len)",
          "new_line_content": "\tchar *source, *target;",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "Z_PARAM_PATH",
          "new_api": null,
          "old_text": "Z_PARAM_PATH(target, target_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_PATH(target, target_len)",
          "new_line_content": "\tsize_t source_len, target_len;",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "php_copy_file_ctx",
          "new_api": null,
          "old_text": "php_copy_file_ctx(src, dest, 0, NULL)",
          "new_text": null,
          "old_line_content": "\treturn php_copy_file_ctx(src, dest, 0, NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "php_copy_file_ctx",
          "new_api": null,
          "old_text": "php_copy_file_ctx(src, dest, src_flg, NULL)",
          "new_text": null,
          "old_line_content": "\treturn php_copy_file_ctx(src, dest, src_flg, NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "php_stream_stat_path_ex",
          "new_api": null,
          "old_text": "php_stream_stat_path_ex(src, 0, &src_s, ctx)",
          "new_text": null,
          "old_line_content": "\tswitch (php_stream_stat_path_ex(src, 0, &src_s, ctx)) {",
          "new_line_content": "PHPAPI int php_copy_file_ctx(const char *src, const char *dest, int src_flg, php_stream_context *ctx)",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(src_s.sb.st_mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISDIR(src_s.sb.st_mode)) {",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"The first argument to copy() function cannot be a directory\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"The first argument to copy() function cannot be a directory\");",
          "new_line_content": "\t\tcase 0:",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "php_stream_stat_path_ex",
          "new_api": null,
          "old_text": "php_stream_stat_path_ex(dest, PHP_STREAM_URL_STAT_QUIET, &dest_s, ctx)",
          "new_text": null,
          "old_line_content": "\tswitch (php_stream_stat_path_ex(dest, PHP_STREAM_URL_STAT_QUIET, &dest_s, ctx)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "S_ISDIR",
          "new_api": null,
          "old_text": "S_ISDIR(dest_s.sb.st_mode)",
          "new_text": null,
          "old_line_content": "\tif (S_ISDIR(dest_s.sb.st_mode)) {",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"The second argument to copy() function cannot be a directory\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"The second argument to copy() function cannot be a directory\");",
          "new_line_content": "\t\tcase 0:",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "expand_filepath",
          "new_api": null,
          "old_text": "expand_filepath(src, NULL)",
          "new_text": null,
          "old_line_content": "\t\tif ((sp = expand_filepath(src, NULL)) == NULL) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "expand_filepath",
          "new_api": null,
          "old_text": "expand_filepath(dest, NULL)",
          "new_text": null,
          "old_line_content": "\t\tif ((dp = expand_filepath(dest, NULL)) == NULL) {",
          "new_line_content": "\t\tchar *sp, *dp;",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(sp)",
          "new_text": null,
          "old_line_content": "\t\t\tefree(sp);",
          "new_line_content": "\t\tint res;",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "strcasecmp",
          "new_api": null,
          "old_text": "strcasecmp(sp, dp)",
          "new_text": null,
          "old_line_content": "\t\t\t!strcasecmp(sp, dp);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(sp)",
          "new_text": null,
          "old_line_content": "\t\tefree(sp);",
          "new_line_content": "#ifndef PHP_WIN32",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "php_stream_open_wrapper_ex",
          "new_api": null,
          "old_text": "php_stream_open_wrapper_ex(src, \"rb\", src_flg | REPORT_ERRORS, NULL, ctx)",
          "new_text": null,
          "old_line_content": "\tsrcstream = php_stream_open_wrapper_ex(src, \"rb\", src_flg | REPORT_ERRORS, NULL, ctx);",
          "new_line_content": "\t\tif (res) {",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "php_stream_copy_to_stream_ex",
          "new_api": null,
          "old_text": "php_stream_copy_to_stream_ex(srcstream, deststream, PHP_STREAM_COPY_ALL, NULL)",
          "new_text": null,
          "old_line_content": "\t\tret = php_stream_copy_to_stream_ex(srcstream, deststream, PHP_STREAM_COPY_ALL, NULL);",
          "new_line_content": "\t\treturn ret;",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(res)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(res)",
          "new_line_content": "\tzval *res;",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": "Z_PARAM_LONG",
          "new_api": null,
          "old_text": "Z_PARAM_LONG(len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_LONG(len)",
          "new_line_content": "\tzend_long len;",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\tphp_stream *stream;",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, res)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "php_stream_read_to_str",
          "new_api": null,
          "old_text": "php_stream_read_to_str(stream, len)",
          "new_text": null,
          "old_line_content": "\tstr = php_stream_read_to_str(stream, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": "php_mblen",
          "new_api": null,
          "old_text": "php_mblen(ptr, len)",
          "new_text": null,
          "old_line_content": "\t\tinc_len = (*ptr == '\\0' ? 1 : php_mblen(ptr, len));",
          "new_line_content": "static const char *php_fgetcsv_lookup_trailing_spaces(const char *ptr, size_t len) /* {{{ */",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": "php_mb_reset",
          "new_api": null,
          "old_text": "php_mb_reset()",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_mb_reset();",
          "new_line_content": "\twhile (len > 0) {",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 6)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 6)",
          "new_line_content": "\tzval *fp = NULL, *fields = NULL;",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(fp)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_RESOURCE(fp)",
          "new_line_content": "\tssize_t ret;",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": "Z_PARAM_ARRAY",
          "new_api": null,
          "old_text": "Z_PARAM_ARRAY(fields)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_ARRAY(fields)",
          "new_line_content": "\tchar *delimiter_str = NULL, *enclosure_str = NULL, *escape_str = NULL;",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(4, \"must be a single character\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(4, \"must be a single character\");",
          "new_line_content": "\t\t/* use first character from string */",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\tdelimiter = *delimiter_str;",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(5, \"must be empty or a single character\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(5, \"must be empty or a single character\");",
          "new_line_content": "\t\t/* use first character from string */",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\tenclosure = *enclosure_str;",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, fp)",
          "new_text": null,
          "old_line_content": "\tPHP_STREAM_TO_ZVAL(stream, fp);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": "php_fputcsv",
          "new_api": null,
          "old_text": "php_fputcsv(stream, fields, delimiter, enclosure, escape_char, eol_str)",
          "new_text": null,
          "old_line_content": "\tret = php_fputcsv(stream, fields, delimiter, enclosure, escape_char, eol_str);",
          "new_line_content": "\t\t\tescape_char = (unsigned char) *escape_str;",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": "ZEND_ASSERT",
          "new_api": null,
          "old_text": "ZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE)",
          "new_text": null,
          "old_line_content": "\tZEND_ASSERT((escape_char >= 0 && escape_char <= UCHAR_MAX) || escape_char == PHP_CSV_NO_ESCAPE);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(fields)",
          "new_text": null,
          "old_line_content": "\tcount = zend_hash_num_elements(Z_ARRVAL_P(fields));",
          "new_line_content": "\tuint32_t count, i = 0;",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": "zval_get_tmp_string",
          "new_api": null,
          "old_text": "zval_get_tmp_string(field_tmp, &tmp_field_str)",
          "new_text": null,
          "old_line_content": "\t\tzend_string *field_str = zval_get_tmp_string(field_tmp, &tmp_field_str);",
          "new_line_content": "\tsmart_str csvline = {0};",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": "FPUTCSV_FLD_CHK",
          "new_api": null,
          "old_text": "FPUTCSV_FLD_CHK(enclosure)",
          "new_text": null,
          "old_line_content": "\t\t\tFPUTCSV_FLD_CHK(enclosure) ||",
          "new_line_content": "\tZEND_HASH_FOREACH_VAL(Z_ARRVAL_P(fields), field_tmp) {",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "FPUTCSV_FLD_CHK",
          "new_api": null,
          "old_text": "FPUTCSV_FLD_CHK(escape_char)",
          "new_text": null,
          "old_line_content": "\t\t\t(escape_char != PHP_CSV_NO_ESCAPE && FPUTCSV_FLD_CHK(escape_char)) ||",
          "new_line_content": "\t\tzend_string *tmp_field_str;",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "FPUTCSV_FLD_CHK",
          "new_api": null,
          "old_text": "FPUTCSV_FLD_CHK('\\r')",
          "new_text": null,
          "old_line_content": "\t\t\tFPUTCSV_FLD_CHK('\\r') ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "FPUTCSV_FLD_CHK",
          "new_api": null,
          "old_text": "FPUTCSV_FLD_CHK('\\t')",
          "new_text": null,
          "old_line_content": "\t\t\tFPUTCSV_FLD_CHK('\\t') ||",
          "new_line_content": "\t\t/* enclose a field that contains a delimiter, an enclosure character, or a newline */",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "smart_str_appendc",
          "new_api": null,
          "old_text": "smart_str_appendc(&csvline, enclosure)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tsmart_str_appendc(&csvline, enclosure);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "smart_str_appendc",
          "new_api": null,
          "old_text": "smart_str_appendc(&csvline, *ch)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsmart_str_appendc(&csvline, *ch);",
          "new_line_content": "\t\t\t\t\tescaped = 1;",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "smart_str_appendc",
          "new_api": null,
          "old_text": "smart_str_appendc(&csvline, enclosure)",
          "new_text": null,
          "old_line_content": "\t\t\tsmart_str_appendc(&csvline, enclosure);",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "smart_str_append",
          "new_api": null,
          "old_text": "smart_str_append(&csvline, field_str)",
          "new_text": null,
          "old_line_content": "\t\t\tsmart_str_append(&csvline, field_str);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "smart_str_0",
          "new_api": null,
          "old_text": "smart_str_0(&csvline)",
          "new_text": null,
          "old_line_content": "\tsmart_str_0(&csvline);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(1, 5)",
          "new_text": null,
          "old_line_content": "\t\tZEND_PARSE_PARAMETERS_START(1, 5)",
          "new_line_content": "\t\tsize_t delimiter_str_len = 0;",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "Z_PARAM_RESOURCE",
          "new_api": null,
          "old_text": "Z_PARAM_RESOURCE(fd)",
          "new_text": null,
          "old_line_content": "\t\t\tZ_PARAM_RESOURCE(fd)",
          "new_line_content": "\t\tchar *enclosure_str = NULL;",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(delimiter_str, delimiter_str_len)",
          "new_text": null,
          "old_line_content": "\t\t\tZ_PARAM_STRING(delimiter_str, delimiter_str_len)",
          "new_line_content": "\t\tsize_t escape_str_len = 0;",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": "Z_PARAM_STRING",
          "new_api": null,
          "old_text": "Z_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "new_text": null,
          "old_line_content": "\t\t\tZ_PARAM_STRING(enclosure_str, enclosure_str_len)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(4, \"must be a single character\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_argument_value_error(4, \"must be a single character\");",
          "new_line_content": "\t\t\t/* use first character from string */",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tdelimiter = delimiter_str[0];",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(5, \"must be empty or a single character\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_argument_value_error(5, \"must be empty or a single character\");",
          "new_line_content": "\t\t\t/* use first character from string */",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t\tenclosure = enclosure_str[0];",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "zend_argument_value_error",
          "new_api": null,
          "old_text": "zend_argument_value_error(2, \"must be a greater than or equal to 0\")",
          "new_text": null,
          "old_line_content": "\t\t\tzend_argument_value_error(2, \"must be a greater than or equal to 0\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": "RETURN_THROWS",
          "new_api": null,
          "old_text": "RETURN_THROWS()",
          "new_text": null,
          "old_line_content": "\t\t\tRETURN_THROWS();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "PHP_STREAM_TO_ZVAL",
          "new_api": null,
          "old_text": "PHP_STREAM_TO_ZVAL(stream, fd)",
          "new_text": null,
          "old_line_content": "\t\tPHP_STREAM_TO_ZVAL(stream, fd);",
          "new_line_content": "\t\t\tlen = -1;",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "php_stream_get_line",
          "new_api": null,
          "old_text": "php_stream_get_line(stream, NULL, 0, &buf_len)",
          "new_text": null,
          "old_line_content": "\t\tif ((buf = php_stream_get_line(stream, NULL, 0, &buf_len)) == NULL) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "emalloc",
          "new_api": null,
          "old_text": "emalloc(len + 1)",
          "new_text": null,
          "old_line_content": "\t\tbuf = emalloc(len + 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": "php_stream_get_line",
          "new_api": null,
          "old_text": "php_stream_get_line(stream, buf, len + 1, &buf_len)",
          "new_text": null,
          "old_line_content": "\t\tif (php_stream_get_line(stream, buf, len + 1, &buf_len) == NULL) {",
          "new_line_content": "\tif (len < 0) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 121,
      "total_additions": 338,
      "total_deletions": 336,
      "total_api_changes": 795
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 795,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          573,
          574
        ]
      }
    },
    "api_calls_before": 718,
    "api_calls_after": 720,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 0,
      "total_diff_lines": 18
    }
  }
}