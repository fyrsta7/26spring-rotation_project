{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6acd4f7f3a24fca79e2062ba9e88b1e72635530f",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6acd4f7f3a24fca79e2062ba9e88b1e72635530f/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6acd4f7f3a24fca79e2062ba9e88b1e72635530f/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/6acd4f7f3a24fca79e2062ba9e88b1e72635530f/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 217,
          "old_api": "s and 'private use'\n\t\t * codepoints we",
          "new_api": "unt how many control characters and 'pr",
          "old_text": "s and 'private use'\n\t\t * codepoints we ",
          "new_text": "unt how many control characters and 'pr",
          "old_line_content": null,
          "new_line_content": "\t\t\tif ((*filter->filter_function)(*p++, filter) < 0) {",
          "content_same": true
        },
        {
          "line": 235,
          "old_api": "data->score++;\n\t}\n\treturn 0;\n}\n\nmbfl_e",
          "new_api": "(c >= 0x5B && c <= 0x60)) {\n\t\t/* Punctuat",
          "old_text": "\n\t\tdata->score++;\n\t}\n\treturn 0;\n}\n\nmbfl_e",
          "new_text": "(c >= 0x5B && c <= 0x60)) {\n\t\t/* Punctuat",
          "old_line_content": null,
          "new_line_content": "\t\tmbfl_convert_filter_flush(convd->filter1);",
          "content_same": true
        },
        {
          "line": 248,
          "old_api": "identd->filter_list = ecalloc(elistsz, sizeof(mbf",
          "new_api": "gh density of ASCII punctuation characters. */",
          "old_text": "identd->filter_list = ecalloc(elistsz, sizeof(mbf",
          "new_text": "gh density of ASCII punctuation characters. */\n\t\t",
          "old_line_content": null,
          "new_line_content": "\treturn mbfl_memory_device_result(&convd->device, result);",
          "content_same": true
        },
        {
          "line": 258,
          "old_api": "ilter_new",
          "new_api": "malloc",
          "old_text": "ilter_new(elist[i], &mbfl_encoding_wchar,",
          "new_text": "malloc(sizeof(mbfl_encoding_detector));\n\t",
          "old_line_content": null,
          "new_line_content": "\tmbfl_buffer_converter_feed(convd, string);",
          "content_same": true
        },
        {
          "line": 260,
          "old_api": "od, NULL, &identd->filter_data[filter_lis",
          "new_api": "sz, sizeof(mbfl_convert_filter*));\n\tident",
          "old_text": "od, NULL, &identd->filter_data[filter_lis",
          "new_text": "sz, sizeof(mbfl_convert_filter*));\n\tident",
          "old_line_content": null,
          "new_line_content": "\t\tmbfl_convert_filter_flush(convd->filter1);",
          "content_same": true
        },
        {
          "line": 263,
          "old_api": "list[filter_list_size++] = filter;\n\t\t}\n\t}\n\tidentd",
          "new_api": "l_encoding_detector_data));\n\n\tint filter_list_siz",
          "old_text": "list[filter_list_size++] = filter;\n\t\t}\n\t}\n\tidentd",
          "new_text": "l_encoding_detector_data));\n\n\tint filter_list_siz",
          "old_line_content": null,
          "new_line_content": "\treturn mbfl_memory_device_result(&convd->device, result);",
          "content_same": true
        },
        {
          "line": 338,
          "old_api": "ter_new",
          "new_api": "toenc, mbfl_memory_device_output, 0, &device);\n\t}",
          "old_text": "ter_new(&mbfl_encoding_wch",
          "new_text": "toenc, mbfl_memory_device_output, 0, &device);\n\t} ",
          "old_line_content": "\tefree(identd->filter_data);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(identd->filter_list[i]);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "string->len/2;\n\t} else if (encoding->flag & MBFL_ENCTYPE_WCS4) {\n\t\tlen = string->len/4;\n\t}",
          "new_api": "*p;\n\tconst mbfl_encoding *encoding = string->encodin",
          "old_text": " string->len/2;\n\t} else if (encoding->flag & MBFL_ENCTYPE_WCS4) {\n\t\tlen = string->len/4;\n\t}",
          "new_text": " *p;\n\tconst mbfl_encoding *encoding = string->encodin",
          "old_line_content": "\t\tfilter2 = mbfl_convert_filter_new(&mbfl_encoding_wchar, toenc, mbfl_memory_device_output, 0, &device);",
          "new_line_content": "\tif (mbfl_convert_filter_get_vtbl(string->encoding, toenc) != NULL) {",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "ilter;\n\tmbfl_wchar_device needle;",
          "new_api": ";\n\t}\n\n\treturn len;\n}\n\n\n/*\n *  strp",
          "old_text": "ilter;\n\tmbfl_wchar_device needle;\n",
          "new_text": ";\n\t}\n\n\treturn len;\n}\n\n\n/*\n *  strp",
          "old_line_content": "\t\tmbfl_convert_filter_flush(filter2);",
          "new_line_content": "\tmbfl_convert_filter_flush(filter1);",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "e_t needle_len;\n\tsize_t start;\n\tsiz",
          "new_api": "*/\nstruct collector_strpos_data {",
          "old_text": "e_t needle_len;\n\tsize_t start;\n\tsiz",
          "new_text": " */\nstruct collector_strpos_data {\n",
          "old_line_content": "\t\tmbfl_convert_filter_delete(filter2);",
          "new_line_content": "\tmbfl_convert_filter_delete(filter1);",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "ize_t found_pos;\n\tsize_t needle_pos;\n\tsize",
          "new_api": "e_t needle_len;\n\tsize_t start;\n\tsiz",
          "old_text": "ize_t found_pos;\n\tsize_t needle_pos;\n\tsize",
          "new_text": "e_t needle_len;\n\tsize_t start;\n\tsiz",
          "old_line_content": "\treturn mbfl_memory_device_result(&device, result);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(filter2);",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "er */\n\t\t\tif (pc->needle_pos >= pc->ne",
          "new_api": ">needle.buffer[pc->needle_pos]) {\n\t\t\tif (pc->needl",
          "old_text": "er */\n\t\t\tif (pc->needle_pos >= pc->ne",
          "new_text": ">needle.buffer[pc->needle_pos]) {\n\t\t\tif (pc->needl",
          "old_line_content": "\tmbfl_encoding_detector_delete(identd);",
          "new_line_content": "\tmbfl_encoding_detector *identd = mbfl_encoding_detector_new(elist, elistsz, strict);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "stop;\n\tsize_t output;\n};\n\nstat",
          "new_api": "substr_data {\n\tmbfl_convert_filt",
          "old_text": "stop;\n\tsize_t output;\n};\n\nstat",
          "new_text": "substr_data {\n\tmbfl_convert_filt",
          "old_line_content": "\t\tmbfl_string_clear(&_needle_u8);",
          "new_line_content": "\t\tmbfl_string_clear(&_haystack_u8);",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "tart + (length & -2);\n\t\t} else if (encoding->fl",
          "new_api": "= string->val + fr",
          "old_text": "tart + (length & -2);\n\t\t} else if (encoding->fl",
          "new_text": " = string->val + fr",
          "old_line_content": "\t\tmbfl_memory_device_init(&device, length + 1, 0);",
          "new_line_content": "\t\t\tlength = mbfl_strlen(string) - from;",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend   = start + (length & -4);\n\t\t} else if ((encoding->flag & MBFL_ENCTYPE_",
          "new_api": "MBFL_ENCTYPE_WCS4) {",
          "old_text": "from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend   = start + (length & -4);\n\t\t} else if ((encoding->flag & MBFL_ENCTYPE_",
          "new_text": " MBFL_ENCTYPE_WCS4) {\n\t\t",
          "old_line_content": "\t\tdecoder = mbfl_convert_filter_new(",
          "new_line_content": "\t\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "/* never reached */\n\t\t\treturn NU",
          "new_api": "} else {\n\t\t\t\tfor (q = p + length;",
          "old_text": "\t\t\t/* never reached */\n\t\t\treturn NU",
          "new_text": "\t} else {\n\t\t\t\tfor (q = p + length;",
          "old_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "\t\tmbfl_convert_filter_flush(encoder);",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "}\n\n\t\t/* allocate memory and copy",
          "new_api": "q; p += (m = mbtab[*p]));\n\n\t\t\t\tif",
          "old_text": "\t\t}\n\n\t\t/* allocate memory and copy ",
          "new_text": " q; p += (m = mbtab[*p]));\n\n\t\t\t\tif",
          "old_line_content": "\t\tmbfl_convert_filter_delete(decoder);",
          "new_line_content": "\t\tmbfl_convert_filter_flush(decoder);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "copy",
          "new_api": "(decoder);\n\t\t\t\tif (encoder->f",
          "old_text": "copy(&bk.decoder, decoder);\n\t\t\t\tmbfl_convert_fi",
          "new_text": "(decoder);\n\t\t\t\tif (encoder->f",
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(&_bk.decoder, decoder);",
          "new_line_content": "\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "filter_dtor",
          "new_api": "l_convert_filter_copy",
          "old_text": "der.filter_dtor(&bk.decoder);\n\t\t\tif (bk.encoder",
          "new_text": "l_convert_filter_copy(&bk.enc",
          "old_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&_bk.decoder, decoder);",
          "new_line_content": "\t\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "filter_dtor",
          "new_api": "der);\n\n\t\t\tbk = _bk;\n\t\t}\n\n\t\t(*",
          "old_text": "er.filter_dtor(&bk.decoder);\n\t\tif (bk.encoder.",
          "new_text": "der);\n\n\t\t\tbk = _bk;\n\t\t}\n\n\t\t(*",
          "old_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&bk.decoder, decoder);",
          "new_line_content": "\t\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "aw_table[i].begin <= c && c <= mbfl_eaw_table[",
          "new_api": "eturn 0;\n\t}\n\n\tfor (i = 0; i <",
          "old_text": "aw_table[i].begin <= c && c <= mbfl_eaw_table[",
          "new_text": "eturn 0;\n\t}\n\n\tfor (i = 0; i <",
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.decoder, decoder);",
          "new_line_content": "\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "}\n\n\t\tmbfl_convert_filter_flush(filter);\n\t\tm",
          "new_api": "tring->val;\n\t\tn = string->len",
          "old_text": "\n\t\t}\n\n\t\tmbfl_convert_filter_flush(filter);\n\t\tm",
          "new_text": "tring->val;\n\t\tn = string->len",
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.decoder, decoder);",
          "new_line_content": "\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "th_data *pc = (struct collector_strimwidth_data",
          "new_api": ";\n\tint status;\n};\n\nstatic int",
          "old_text": "th_data *pc = (struct collector_strimwidth_data",
          "new_text": ";\n\tint status;\n};\n\nstatic int",
          "old_line_content": "\t\t\tmbfl_convert_filter_copy(&_bk.decoder, decoder);",
          "new_line_content": "\t\t\t\tdecoder->filter_dtor(decoder);",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "pc->outwidth += (is_fullwidth(c",
          "new_api": "c, pc->decoder);\n\t\tbreak;\n\tdefau",
          "old_text": "\n\t\t\tpc->outwidth += (is_fullwidth(c",
          "new_text": "c, pc->decoder);\n\t\tbreak;\n\tdefau",
          "old_line_content": "\t\t\tbk.decoder.filter_dtor(&bk.decoder);",
          "new_line_content": "\t\t(*encoder->filter_flush)(encoder);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": ";\n\t\t\t\t}\n\t\t\t\tpc->status++;\n\t\t\t\t(*pc-",
          "new_api": "ndpos = pc->device.pos;\n\t\t\t\t\tmbfl_convert_",
          "old_text": ";\n\t\t\t\t}\n\t\t\t\tpc->status++;\n\t\t\t\t(*pc-",
          "new_text": "ndpos = pc->device.pos;\n\t\t\t\t\tmbfl_convert_",
          "old_line_content": "\t\tmbfl_convert_filter_delete(decoder);",
          "new_line_content": "\t\tresult = mbfl_memory_device_result(&device, result);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "encoder->filter_function)(*p++, encoder) < 0)",
          "new_api": "& mkwidth > 0) {\n\t\t\tpc.width += mkwidth;\n\t\t\tif (n > 0) {",
          "old_text": "encoder->filter_function)(*p++, encoder) < 0) ",
          "new_text": "& mkwidth > 0) {\n\t\t\tpc.width += mkwidth;\n\t\t\tif (n > 0) {\n",
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(pc->decoder, pc->decoder_backup);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "ilter_copy",
          "new_api": "if (pc.status != 0) {",
          "old_text": "ilter_copy(pc.decoder_backup, pc.decoder);\n\t\t}\n\t\tmbfl_convert_filter_flush(pc.decoder);\n\t}\n\tresult = mbfl_memory_device_r",
          "new_text": " if (pc.status != 0) {\n",
          "old_line_content": "\tpc.decoder = mbfl_convert_filter_new(",
          "new_line_content": "\tmbfl_memory_device_init(&pc.device, MIN(string->len, width), 0);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "r encode\n */\nstruct mime_header_enc",
          "new_api": "(encoder != NULL) {\n\t\tmbfl_convert_fi",
          "old_text": "r encode\n */\nstruct mime_header_enc",
          "new_text": "(encoder != NULL) {\n\t\tmbfl_convert_fi",
          "old_line_content": "\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "\t\tmbfl_convert_filter_flush(pc.decoder);",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "er;\n\tmbfl_convert_filter *block_filter;\n\tmbfl",
          "new_api": "oder);\n\t}\n\n\treturn result;\n}\n\n\n/*\n *  MIME he",
          "old_text": "er;\n\tmbfl_convert_filter *block_filter;\n\tmbfl",
          "new_text": "oder);\n\t}\n\n\treturn result;\n}\n\n\n/*\n *  MIME he",
          "old_line_content": "\tmbfl_convert_filter_delete(pc.decoder_backup);",
          "new_line_content": "\tresult = mbfl_memory_device_result(&pc.device, result);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "memory_device_strncat",
          "new_api": ">lwsplen);\n\t\t\tpe->linehead = pe->outdev.po",
          "old_text": "memory_device_strncat(&pe->outdev, pe",
          "new_text": ">lwsplen);\n\t\t\tpe->linehead = pe->outdev.po",
          "old_line_content": "\t\tmbfl_convert_filter_delete(tl_filter);",
          "new_line_content": "\tresult = mbfl_memory_device_result(&device, result);",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "1, 1, 1, 1, 1, /* 0xA0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1",
          "new_api": "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, /* 0x70 */\n\t\t1, 1, 1, 1, 1, 1,",
          "old_text": "1, 1, 1, 1, 1, /* 0xA0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1",
          "new_text": "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, /* 0x70 */\n\t\t1, 1, 1, 1, 1, 1, ",
          "old_line_content": "\t\t(*pe->conv2_filter->filter_flush)(pe->conv2_filter);",
          "new_line_content": "\t\tmbfl_convert_filter_copy(pe->conv2_filter, pe->conv2_filter_backup);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "1, 1, 1, 1, 1, 1, 1, /* 0xB0 */\n\t\t1, 1, 1, 1, 1, 1",
          "new_api": ", 1, 1, 1, 1, 1, 1, 1, 1, /* 0x80 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "old_text": "1, 1, 1, 1, 1, 1, 1, /* 0xB0 */\n\t\t1, 1, 1, 1, 1, 1",
          "new_text": ", 1, 1, 1, 1, 1, 1, 1, 1, /* 0x80 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "old_line_content": "\t\t(*pe->encod_filter->filter_flush)(pe->encod_filter);",
          "new_line_content": "\t\tmbfl_convert_filter_copy(pe->encod_filter, pe->encod_filter_backup);",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": ", /* 0xD0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, /* 0",
          "new_api": "1, 1, 1, 1, 1, 1, 1, /* 0xB0 */\n\t\t1, 1, 1, 1, 1, 1",
          "old_text": ", /* 0xD0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, /* 0",
          "new_text": "1, 1, 1, 1, 1, 1, 1, /* 0xB0 */\n\t\t1, 1, 1, 1, 1, 1",
          "old_line_content": "\t\tmbfl_convert_filter_copy(pe->conv2_filter_backup, pe->conv2_filter);",
          "new_line_content": "\t\t(*pe->encod_filter->filter_flush)(pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "me_header_encoder_data *pe = (struct mime_header_e",
          "new_api": ", /* 0xD0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, /* 0",
          "old_text": "me_header_encoder_data *pe = (struct mime_header_e",
          "new_text": ", /* 0xD0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, /* 0",
          "old_line_content": "\t\t\t(*pe->conv2_filter->filter_flush)(pe->conv2_filter);",
          "new_line_content": "\t\tmbfl_convert_filter_copy(pe->conv2_filter_backup, pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "_data *)data;\n\n\tswitch (pe->status1) {\n\tcase 11:\t/",
          "new_api": "*/\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1  /* 0xF0 */\n\t};",
          "old_text": "_data *)data;\n\n\tswitch (pe->status1) {\n\tcase 11:\t/",
          "new_text": "*/\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1  /* 0xF0 */\n\t};",
          "old_line_content": "\t\t\t(*pe->encod_filter->filter_flush)(pe->encod_filter);",
          "new_line_content": "\t\tmbfl_convert_filter_copy(pe->encod_filter_backup, pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "ter);\n\t\tbreak;\n\n\tdefault:\t/* ASCII */\n\t\tif (c <= 0x00ff && !qp",
          "new_api": "me_header_encoder_data *pe = (struct mime_header_e",
          "old_text": "ter);\n\t\tbreak;\n\n\tdefault:\t/* ASCII */\n\t\tif (c <= 0x00ff && !qp",
          "new_text": "me_header_encoder_data *pe = (struct mime_header_e",
          "old_line_content": "\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);",
          "new_line_content": "\t\t\t(*pe->conv2_filter->filter_flush)(pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "device_output",
          "new_api": "ter);\n\t\tbreak;\n\n\tdefault:\t/* ASCII */\n\t\tif (c <= 0x00ff && !qp",
          "old_text": "device_output(c, &pe->tmpdev);\n\t\t\tpe->status1 = 1;\n\t\t} else if (pe->",
          "new_text": "ter);\n\t\tbreak;\n\n\tdefault:\t/* ASCII */\n\t\tif (c <= 0x00ff && !qp",
          "old_line_content": "\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->encname, pe->encnamelen);",
          "new_line_content": "\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "pdev);\n\t\t} else {\n\t\t\tif (pe->tmpdev.pos < 74 && c == 0x2",
          "new_api": "device_output",
          "old_text": "pdev);\n\t\t} else {\n\t\t\tif (pe->tmpdev.pos < 74 && c == 0x2",
          "new_text": "device_output(c, &pe->tmpdev);\n\t\t\tpe->status1 = 1;\n\t\t} else if (pe->",
          "old_line_content": "\t\t\tc = (*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "new_line_content": "\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->encname, pe->encnamelen);",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": "0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;",
          "new_api": "mbfl_memory_device_devcat(&pe->outdev,",
          "old_text": " 0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;\n\n",
          "new_text": "\t\tmbfl_memory_device_devcat(&pe->outdev, ",
          "old_line_content": null,
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pe->tmpdev);",
          "content_same": true
        },
        {
          "line": 1672,
          "old_api": "eof",
          "new_api": "name */\n\tif (outcode->mime_name == NULL ||",
          "old_text": "eof(struct mime_header_encoder_data))",
          "new_text": " name */\n\tif (outcode->mime_name == NULL || ",
          "old_line_content": "\t\t\t\tmbfl_memory_device_reset(&pe->tmpdev);",
          "new_line_content": "\t\t\t\t\tmbfl_memory_device_output(0x20, &pe->outdev);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "oding == mbfl_no_encoding_qprint) {",
          "new_api": "f;\n\ts = outcode->mime_name;\n\twhile (*s) {",
          "old_text": "oding == mbfl_no_encoding_qprint) {\n\t",
          "new_text": "f;\n\ts = outcode->mime_name;\n\twhile (*s) {\n\t\t",
          "old_line_content": "\t\t\t\tmbfl_memory_device_reset(&pe->tmpdev);",
          "new_line_content": "\t\t\t\t\tmbfl_memory_device_output(0x20, &pe->outdev);",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "pe->conv2_filter_backup = mbfl_convert_filter_new(",
          "new_api": "outcode, mbfl_filter_output_pipe, 0, pe->en",
          "old_text": "\tpe->conv2_filter_backup = mbfl_convert_filter_new(",
          "new_text": " outcode, mbfl_filter_output_pipe, 0, pe->en",
          "old_line_content": "\t\tmbfl_memory_device_devcat(&pe->outdev, &pe->tmpdev);",
          "new_line_content": "\t\t\t\tmbfl_memory_device_output(0x20, &pe->outdev);",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "ar *p;\n\tstruct mime_header_encoder_data *pe;\n\n\tmbfl_string_init(result);\n\tresult->encoding = &mbfl_e",
          "new_api": "const mbfl_encoding *outcode,\n    const mbfl_encoding *encoding,\n    const char *li",
          "old_text": "ar *p;\n\tstruct mime_header_encoder_data *pe;\n\n\tmbfl_string_init(result);\n\tresult->encoding = &mbfl_e",
          "new_text": "    const mbfl_encoding *outcode,\n    const mbfl_encoding *encoding,\n    const char *li",
          "old_line_content": "\tpe->conv2_filter = mbfl_convert_filter_new(&mbfl_encoding_wchar, outcode, mbfl_filter_output_pipe, 0, pe->encod_filter);",
          "new_line_content": "\tpe->encod_filter_backup = mbfl_convert_filter_new(outcode, transenc, mbfl_memory_device_output, 0, &(pe->outdev));",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "< 8) {\n\t\t\tpe->lwsp[n++] = *linefeed++;\n\t\t}\n\t\tpe->lwsp[n++] = 0x20;\n\t\tpe->lwsp[n] = '\\0';\n\t\tpe->lwsplen = n;\n\t}",
          "new_api": "ader_encoder_new",
          "old_text": "< 8) {\n\t\t\tpe->lwsp[n++] = *linefeed++;\n\t\t}\n\t\tpe->lwsp[n++] = 0x20;\n\t\tpe->lwsp[n] = '\\0';\n\t\tpe->lwsplen = n;\n\t}\n",
          "new_text": "ader_encoder_new(string->encoding, outcode, encoding);\n\tif (pe == NULL) {\n\t\treturn NULL;\n\t}\n\n\tif (li",
          "old_line_content": "\tpe->block_filter = mbfl_convert_filter_new(&mbfl_encoding_wchar, &mbfl_encoding_wchar, mime_header_encoder_block_collector, 0, pe);",
          "new_line_content": "\tpe->conv2_filter_backup = mbfl_convert_filter_new(&mbfl_encoding_wchar, outcode, mbfl_filter_output_pipe, 0, pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "ent = indent;\n\t}\n\n\tn = string->len;\n\tp = string->val;\n\twhile (n > 0) {\n\t\t(*pe->conv1_filter",
          "new_api": "< 8) {\n\t\t\tpe->lwsp[n++] = *linefeed++;\n\t\t}\n\t\tpe->lwsp[n++] = 0x20;\n\t\tpe->lwsp[n] = '\\0';\n\t\tpe->lwsplen = n;\n\t}",
          "old_text": "ent = indent;\n\t}\n\n\tn = string->len;\n\tp = string->val;\n\twhile (n > 0) {\n\t\t(*pe->conv1_filter",
          "new_text": "< 8) {\n\t\t\tpe->lwsp[n++] = *linefeed++;\n\t\t}\n\t\tpe->lwsp[n++] = 0x20;\n\t\tpe->lwsp[n] = '\\0';\n\t\tpe->lwsplen = n;\n\t}\n",
          "old_line_content": "\tpe->conv1_filter = mbfl_convert_filter_new(incode, &mbfl_encoding_wchar, mime_header_encoder_collector, 0, pe);",
          "new_line_content": "\tpe->block_filter = mbfl_convert_filter_new(&mbfl_encoding_wchar, &mbfl_encoding_wchar, mime_header_encoder_block_collector, 0, pe);",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": "spos = pd->tmpdev.pos;\n\t\t\tpd->status = 2;\n\t\t} else",
          "new_api": "e_header_decoder_data*)data;\n\n\tswitch (pd->s",
          "old_text": "spos = pd->tmpdev.pos;\n\t\t\tpd->status = 2;\n\t\t} else ",
          "new_text": "e_header_decoder_data*)data;\n\n\tswitch (pd->s",
          "old_line_content": "\t\tmbfl_convert_filter_delete(pe->conv2_filter_backup);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pe->conv1_filter);",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": "mbfl_convert_filter_devcat(pd->conv1_filter",
          "new_api": "s) {\n\tcase 1:\n\t\tif (c == 0x3f) {\t\t/* ? */",
          "old_text": "\tmbfl_convert_filter_devcat(pd->conv1_filter",
          "new_text": "s) {\n\tcase 1:\n\t\tif (c == 0x3f) {\t\t/* ? */\n\t\t",
          "old_line_content": "\t\tmbfl_convert_filter_delete(pe->encod_filter);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pe->block_filter);",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "d->tmpdev);\n\t\t\tmbfl_memory_device_reset(&pd->tmpdev",
          "new_api": "l_memory_device_output",
          "old_text": "d->tmpdev);\n\t\t\tmbfl_memory_device_reset(&pd->tmpdev",
          "new_text": "l_memory_device_output(c, &pd->tmpdev);\n\t\t\tp",
          "old_line_content": "\t\tmbfl_convert_filter_delete(pe->encod_filter_backup);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "if (c == 0x3d) {\t\t/* = */\n\t\t\t\tmbfl_",
          "new_api": "spos = pd->tmpdev.pos;\n\t\t\tpd->status = 2;\n\t\t} else",
          "old_text": "\t\tif (c == 0x3d) {\t\t/* = */\n\t\t\t\tmbfl_",
          "new_text": "spos = pd->tmpdev.pos;\n\t\t\tpd->status = 2;\n\t\t} else ",
          "old_line_content": "\t\tmbfl_memory_device_clear(&pe->outdev);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pe->conv2_filter_backup);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "ry_device_output",
          "new_api": "mbfl_convert_filter_devcat(pd->conv1_filter",
          "old_text": "ry_device_output(c, &pd->tmpdev);\n\t\t\t",
          "new_text": "\tmbfl_convert_filter_devcat(pd->conv1_filter",
          "old_line_content": "\t\tmbfl_memory_device_clear(&pe->tmpdev);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "se if (c == 0x0d",
          "new_api": "d->tmpdev);\n\t\t\tmbfl_memory_device_reset(&pd->tmpdev",
          "old_text": "se if (c == 0x0d",
          "new_text": "d->tmpdev);\n\t\t\tmbfl_memory_device_reset(&pd->tmpdev",
          "old_line_content": "\t\tefree((void*)pe);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pe->encod_filter_backup);",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "->tmpdev.buffer[pd->cspos]);\n\t\t\tif (encoding != NULL) {",
          "new_api": "tput",
          "old_text": "->tmpdev.buffer[pd->cspos]);\n\t\t\tif (encoding != NULL) {\n\t\t\t\t",
          "new_text": "tput('\\0', &pd->tmpdev);",
          "old_line_content": "\tpe = mime_header_encoder_new(string->encoding, outcode, encoding);",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": "wchar);\n\t\t\t/* decode filter */\n\t\t\tmbfl_co",
          "new_api": "if (c == 0x3f) {\t\t/* ? */\n\t\t\t/* charset convert filter",
          "old_text": "wchar);\n\t\t\t/* decode filter */\n\t\t\tmbfl_co",
          "new_text": "\t\tif (c == 0x3f) {\t\t/* ? */\n\t\t\t/* charset convert filter ",
          "old_line_content": "\t\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "/* flush and reset filter */\n\t\t\t(*pd->",
          "new_api": ")(c, pd->deco_filter);\n\t\t}\n\t\tbreak;",
          "old_text": "\t\t\t/* flush and reset filter */\n\t\t\t(*pd->",
          "new_text": ")(c, pd->deco_filter);\n\t\t}\n\t\tbreak;\n\t",
          "old_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "filter->filter_function)(0x20, pd->conv1_filter);\n\t\t\t\t}\n\t\t\t\tmbfl_memory_devic",
          "new_api": "atus == 8) {\n\t\t\t\t\tmbfl_memory_device_outp",
          "old_text": "filter->filter_function)(0x20, pd->conv1_filter);\n\t\t\t\t}\n\t\t\t\tmbfl_memory_devic",
          "new_text": "atus == 8) {\n\t\t\t\t\tmbfl_memory_device_outp",
          "old_line_content": "\t\t\tmbfl_convert_filter_reset(pd->conv1_filter, pd->incode, &mbfl_encoding_wchar);",
          "new_line_content": "\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": "er->filter_flush)(pd->deco_filter);\n\t\t(*pd->conv1_filter-",
          "new_api": "case 8:\n\tcase 9:\n\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);\n\t\tbreak;",
          "old_text": "er->filter_flush)(pd->deco_filter);\n\t\t(*pd->conv1_filter-",
          "new_text": "\tcase 8:\n\tcase 9:\n\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);\n\t\tbreak;",
          "old_line_content": "\t\t\t(*pd->deco_filter->filter_function)(0x3f, pd->deco_filter);",
          "new_line_content": "\t\t\tmbfl_convert_filter_reset(pd->conv1_filter, &mbfl_encoding_ascii, &mbfl_encoding_wchar);",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "r = mbfl_convert_filter_new(pd->encoding, &m",
          "new_api": "_filter_output_pipe, 0, pd->conv2_filter)",
          "old_text": "r = mbfl_convert_filter_new(pd->encoding, &m",
          "new_text": "_filter_output_pipe, 0, pd->conv2_filter)",
          "old_line_content": "\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev);",
          "new_line_content": "\t\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "== NULL || pd->deco_filter == NULL)",
          "new_api": "r = mbfl_convert_filter_new(pd->encoding, &m",
          "old_text": " == NULL || pd->deco_filter == NULL) ",
          "new_text": "r = mbfl_convert_filter_new(pd->encoding, &m",
          "old_line_content": "\t\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "l_convert_filter_delete",
          "new_api": "lete",
          "old_text": "l_convert_filter_delete(pd->deco_filter);\n\t\tmbfl_memory_",
          "new_text": "lete(pd->conv2_filter);\n\t\tmbfl_convert_fi",
          "old_line_content": "\t\t\t(*pd->conv1_filter->filter_function)(c, pd->conv1_filter);",
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "d data */\n\tn = string->len;\n\tp = string->val;\n\twhi",
          "new_api": "ecoder_new",
          "old_text": "d data */\n\tn = string->len;\n\tp = string->val;\n\twhi",
          "new_text": "ecoder_new(outcode);\n\tif (pd == NULL) {\n\t\treturn N",
          "old_line_content": "\t(*pd->conv2_filter->filter_flush)(pd->conv2_filter);",
          "new_line_content": "\t\t(*pd->conv1_filter->filter_flush)(pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "result = mime_header_decoder_result(pd, result",
          "new_api": "(n > 0) {\n\t\tmime_header_decoder_colle",
          "old_text": "result = mime_header_decoder_result(pd, result",
          "new_text": "(n > 0) {\n\t\tmime_header_decoder_colle",
          "old_line_content": "\treturn mbfl_memory_device_result(&pd->outdev, result);",
          "new_line_content": "\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "size;\n};\n\nstatic int\ncollector_encode_html",
          "new_api": "ata {\n\tmbfl_convert_filter *decoder;\n\tint status",
          "old_text": "size;\n};\n\nstatic int\ncollector_encode_html",
          "new_text": "ata {\n\tmbfl_convert_filter *decoder;\n\tint status",
          "old_line_content": "\tmbfl_memory_device_init(&pd->tmpdev, 0, 0);",
          "new_line_content": "\tstruct mime_header_decoder_data *pd = emalloc(sizeof(struct mime_header_decoder_data));",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "n)(0x23, pc->decoder);\t/* '#' */\n\t\t\t\tr = 100000000;\n\t\t\t\ts %= r;\n\t\t\t\twhile (r > 0) {\n\t\t\t\t\td = s/r;\n\t\t\t\t\ti",
          "new_api": "size;\n\tf = 0;\n\tn = 0;\n\twhile (n < size) {\n\t\tmapelm = &(pc->convmap[n*4]);\n\t\tif (c >= mapelm[0] && c <",
          "old_text": "n)(0x23, pc->decoder);\t/* '#' */\n\t\t\t\tr = 100000000;\n\t\t\t\ts %= r;\n\t\t\t\twhile (r > 0) {\n\t\t\t\t\td = s/r;\n\t\t\t\t\ti",
          "new_text": "size;\n\tf = 0;\n\tn = 0;\n\twhile (n < size) {\n\t\tmapelm = &(pc->convmap[n*4]);\n\t\tif (c >= mapelm[0] && c <",
          "old_line_content": "\tpd->deco_filter = mbfl_convert_filter_new(pd->encoding, &mbfl_encoding_8bit, mbfl_filter_output_pipe, 0, pd->conv1_filter);",
          "new_line_content": "\tpd->conv2_filter = mbfl_convert_filter_new(&mbfl_encoding_wchar, pd->outcode, mbfl_memory_device_output, 0, &pd->outdev);",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": "ble[d], pc->decoder);\n\t\t\t\t\t}",
          "new_api": "n)(0x23, pc->decoder);\t/* '#' */\n\t\t\t\tr = 100000000;\n\t\t\t\ts %= r;\n\t\t\t\twhile (r > 0) {\n\t\t\t\t\td = s/r;\n\t\t\t\t\ti",
          "old_text": "ble[d], pc->decoder);\n\t\t\t\t\t}\n\t",
          "new_text": "n)(0x23, pc->decoder);\t/* '#' */\n\t\t\t\tr = 100000000;\n\t\t\t\ts %= r;\n\t\t\t\twhile (r > 0) {\n\t\t\t\t\td = s/r;\n\t\t\t\t\ti",
          "old_line_content": "\t\tmime_header_decoder_delete(pd);",
          "new_line_content": "\tpd->deco_filter = mbfl_convert_filter_new(pd->encoding, &mbfl_encoding_8bit, mbfl_filter_output_pipe, 0, pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": ">filter_function)(c, pc->decoder);\n\t}",
          "new_api": "}\n\t\t\t\t(*pc->decoder->filter_function)(0x3",
          "old_text": ">filter_function)(c, pc->decoder);\n\t}",
          "new_text": "\t\t\t}\n\t\t\t\t(*pc->decoder->filter_function)(0x3",
          "old_line_content": "\t\tmbfl_memory_device_clear(&pd->outdev);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pd->conv2_filter);",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "eturn 0;\n}\n\nstatic int\ncollector_deco",
          "new_api": "c->decoder);\t\t/* ';' */\n\t\t\t}\n\t\t}\n\t\tif (f) {",
          "old_text": "eturn 0;\n}\n\nstatic int\ncollector_deco",
          "new_text": "c->decoder);\t\t/* ';' */\n\t\t\t}\n\t\t}\n\t\tif (f) {\n",
          "old_line_content": "\t\tmbfl_memory_device_clear(&pd->tmpdev);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "tmlnumericentity",
          "new_api": "reak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {\n\t\t(*pc->deco",
          "old_text": "tmlnumericentity",
          "new_text": "reak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {\n\t\t(*pc->deco",
          "old_line_content": "\t\tefree((void*)pd);",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pd->deco_filter);",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": "(*pc->decoder->filter_function",
          "new_api": "{\t/* '#' */\n\t\t\tpc->statu",
          "old_text": "\t\t(*pc->decoder->filter_function",
          "new_text": "{\t/* '#' */\n\t\t\tpc->statu",
          "old_line_content": "\tpd = mime_header_decoder_new(outcode);",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "pelm;\n\n\tsize = pc->mapsize;\n\tf = 0;\n\tn = 0;\n\tw",
          "new_api": "static int\ncollector_encode_hex_htmlnumericenti",
          "old_text": "pelm;\n\n\tsize = pc->mapsize;\n\tf = 0;\n\tn = 0;\n\tw",
          "new_text": "\n\nstatic int\ncollector_encode_hex_htmlnumericenti",
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": "er */\n\tpc.decoder = mbfl_convert_filter_new(",
          "new_api": "ing = string->encoding;\n\tmbfl_memory_device_init(",
          "old_text": "er */\n\tpc.decoder = mbfl_convert_filter_new(\n\t   ",
          "new_text": "ing = string->encoding;\n\tmbfl_memory_device_init(",
          "old_line_content": null,
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": true
        },
        {
          "line": 2439,
          "old_api": "ype == 0) { /* decimal output */\n\t\tencoder = mbfl",
          "new_api": "char,\n\t    string->encoding,\n\t    mbfl_memory_dev",
          "old_text": "ype == 0) { /* decimal output */\n\t\tencoder = mbfl",
          "new_text": "char,\n\t    string->encoding,\n\t    mbfl_memory_dev",
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "LL || encoder == NULL) {\n\t\tmbfl_convert_filter_de",
          "new_api": "ericentity,\n\t\t    (flush_function_t)mbfl_filt_dec",
          "old_text": "LL || encoder == NULL) {\n\t\tmbfl_convert_filter_de",
          "new_text": "ericentity,\n\t\t    (flush_function_t)mbfl_filt_dec",
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1537,
          "old_api": null,
          "new_api": "r);\n\t\t\tmbfl_memory_device_strncat(&pe->ou",
          "old_text": null,
          "new_text": "r);\n\t\t\tmbfl_memory_device_strncat(&pe->ou",
          "old_line_content": "\t\t\tn--;",
          "new_line_content": "\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": null,
          "new_api": "*(--pos);\n\t\t\tif (c < 0x80) {\n\t\t\t\t++offset;\n\t\t\t} else if ((c & 0xc0) != 0x80) {\n\t\t\t\t++offset;\n\t\t\t}\n\t\t}\n\t\tr",
          "old_text": null,
          "new_text": " *(--pos);\n\t\t\tif (c < 0x80) {\n\t\t\t\t++offset;\n\t\t\t} else if ((c & 0xc0) != 0x80) {\n\t\t\t\t++offset;\n\t\t\t}\n\t\t}\n\t\tr",
          "old_line_content": "\t\t  filter_count_output, 0, &len);",
          "new_line_content": "\t\tmbfl_convert_filter *filter = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "",
          "new_line_content": "\tresult = mbfl_memory_device_result(&device, result);",
          "content_same": false
        },
        {
          "line": 2568,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "}",
          "new_line_content": "\tmbfl_convert_filter_delete(pc.decoder);",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "ze_t n;\n\tunsigned char *p;\n\tstruct mime_header_decoder_da",
          "old_text": null,
          "new_text": "ze_t n;\n\tunsigned char *p;\n\tstruct mime_header_decoder_da",
          "old_line_content": "\tcase 6:",
          "new_line_content": "\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "mory_device_strncat",
          "old_text": null,
          "new_text": "mory_device_strncat(&pe->outdev, p",
          "old_line_content": "\tif (tl_filter != NULL) {",
          "new_line_content": "\tmbfl_convert_filter_flush(encoder);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "memory_device_strncat",
          "old_text": null,
          "new_text": "memory_device_strncat(&pe->outdev, pe",
          "old_line_content": "\tif (decoder != NULL) {",
          "new_line_content": "\t\tmbfl_convert_filter_delete(tl_filter);",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": null,
          "new_api": "t);\n\tresult->encoding = outcode;\n\n\tpd = mime_hea",
          "old_text": null,
          "new_text": "t);\n\tresult->encoding = outcode;\n\n\tpd = mime_hea",
          "old_line_content": "\t}",
          "new_line_content": "\t\t(*pd->deco_filter->filter_flush)(pd->deco_filter);",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": null,
          "new_api": "f (pos >= end) {\n\t\t\t\treturn NULL;\n\t\t\t}",
          "old_text": null,
          "new_text": "f (pos >= end) {\n\t\t\t\treturn NULL;\n\t\t\t}\n",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t(*filter->filter_function)(*p++, filter);",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "= (*pe->conv2_filter->filter_funct",
          "old_text": null,
          "new_text": " = (*pe->conv2_filter->filter_funct",
          "old_line_content": "\tif (encoder != NULL) {",
          "new_line_content": "\t\tmbfl_convert_filter_delete(decoder);",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": null,
          "new_api": "d data */\n\tn = string->len;\n\tp = string->val;\n\twhi",
          "old_text": null,
          "new_text": "d data */\n\tn = string->len;\n\tp = string->val;\n\twhi",
          "old_line_content": "",
          "new_line_content": "\t(*pd->conv2_filter->filter_flush)(pd->conv2_filter);",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": null,
          "new_api": ";\n\t\t}\n\t\treturn pos;\n\t}\n}\n\nstatic s",
          "old_text": null,
          "new_text": ";\n\t\t}\n\t\treturn pos;\n\t}\n}\n\nstatic s",
          "old_line_content": "\treturn len;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(filter);",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": null,
          "new_api": "lse {\n\t\t\tc = (*pe->conv2_filter->fi",
          "old_text": null,
          "new_text": "lse {\n\t\t\tc = (*pe->conv2_filter->fi",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "result = mime_header_decoder_result(pd, result",
          "old_text": null,
          "new_text": "result = mime_header_decoder_result(pd, result",
          "old_line_content": "struct mime_header_decoder_data*",
          "new_line_content": "\treturn mbfl_memory_device_result(&pd->outdev, result);",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": null,
          "new_api": "nt cache;\n\tint digit;\n\tint *convmap;\n\tint",
          "old_text": null,
          "new_text": "nt cache;\n\tint digit;\n\tint *convmap;\n\tint ",
          "old_line_content": "\tpd->status = 0;",
          "new_line_content": "\tmbfl_memory_device_init(&pd->outdev, 0, 0);",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "size;\n};\n\nstatic int\ncollector_encode_html",
          "old_text": null,
          "new_text": "size;\n};\n\nstatic int\ncollector_encode_html",
          "old_line_content": "\tpd->encoding = &mbfl_encoding_8bit;",
          "new_line_content": "\tmbfl_memory_device_init(&pd->tmpdev, 0, 0);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "s the length,\n\t\t\t * then restore the s",
          "old_text": null,
          "new_text": "s the length,\n\t\t\t * then restore the s",
          "old_line_content": "\t\tw[sz] = '\\0';",
          "new_line_content": "\t\tw = ecalloc(sz + 8, sizeof(unsigned char));",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "*/\n\t\t\tif (device.pos",
          "old_text": null,
          "new_text": "*/\n\t\t\tif (device.pos",
          "old_line_content": "\t\tw[sz + 2] = '\\0';",
          "new_line_content": "\t\tmemcpy(w, start, sz);",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": null,
          "new_api": "(c + mapelm[2]) & mapelm[3];\n\t\t\tif (s >= 0) {\n\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/",
          "old_text": null,
          "new_text": "(c + mapelm[2]) & mapelm[3];\n\t\t\tif (s >= 0) {\n\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/",
          "old_line_content": "",
          "new_line_content": "\tpd->conv1_filter = mbfl_convert_filter_new(pd->incode, &mbfl_encoding_wchar, mbfl_filter_output_pipe, 0, pd->conv2_filter);",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "ble[d], pc->decoder);\n\t\t\t\t\t}",
          "old_text": null,
          "new_text": "ble[d], pc->decoder);\n\t\t\t\t\t}\n\t",
          "old_line_content": "",
          "new_line_content": "\t\tmime_header_decoder_delete(pd);",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "r);\n\t\t\t\tmbfl_convert_filter_copy(encoder, &bk.encoder);\n\t\t\t\tbk.p = p;\n\t\t\t\tbk.pos = device.pos;\n\n\t\t\t\t/* flush the st",
          "old_text": null,
          "new_text": "r);\n\t\t\t\tmbfl_convert_filter_copy(encoder, &bk.encoder);\n\t\t\t\tbk.p = p;\n\t\t\t\tbk.pos = device.pos;\n\n\t\t\t\t/* flush the st",
          "old_line_content": "\t\t\t\tmbfl_memory_device_output, 0, &device))) {",
          "new_line_content": "\t\tif (!(decoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": null,
          "new_api": ">filter_function)(c, pc->decoder);\n\t}",
          "old_text": null,
          "new_text": ">filter_function)(c, pc->decoder);\n\t}",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmbfl_memory_device_clear(&pd->outdev);",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": null,
          "new_api": "eturn 0;\n}\n\nstatic int\ncollector_deco",
          "old_text": null,
          "new_text": "eturn 0;\n}\n\nstatic int\ncollector_deco",
          "old_line_content": "}",
          "new_line_content": "\t\tmbfl_memory_device_clear(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": null,
          "new_api": "tmlnumericentity",
          "old_text": null,
          "new_text": "tmlnumericentity",
          "old_line_content": "",
          "new_line_content": "\t\tefree((void*)pd);",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "1, 1, 1, 1, 1, /* 0x90 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "old_text": null,
          "new_text": "1, 1, 1, 1, 1, /* 0x90 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "old_line_content": "\t\tn = pe->outdev.pos - pe->linehead + pe->firstindent;",
          "new_line_content": "\t\t(*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": null,
          "new_api": "1, 1, 1, 1, 1, /* 0xA0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1",
          "old_text": null,
          "new_text": "1, 1, 1, 1, 1, /* 0xA0 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1",
          "old_line_content": "\t\tpe->outdev.pos = pe->prevpos;",
          "new_line_content": "\t\t(*pe->conv2_filter->filter_flush)(pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "set of the resulting string exceeds the length,\n\t\t\t\t * then restore the state */\n\t\t\t\tif (device.pos > length) {",
          "old_text": null,
          "new_text": "set of the resulting string exceeds the length,\n\t\t\t\t * then restore the state */\n\t\t\t\tif (device.pos > length) {\n\t\t\t\t\t",
          "old_line_content": "\t\t\t\tmbfl_filter_output_null,",
          "new_line_content": "\t\tif (!(encoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "ecoder.filter_dtor)\n\t\t\t\t\t\tbk.decode",
          "old_text": null,
          "new_text": "ecoder.filter_dtor)\n\t\t\t\t\t\tbk.decode",
          "old_line_content": "",
          "new_line_content": "\t\t\tmbfl_convert_filter_delete(decoder);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "_data *)data;\n\n\tswitch (pe->status1) {\n\tcase 11:\t/",
          "old_text": null,
          "new_text": "_data *)data;\n\n\tswitch (pe->status1) {\n\tcase 11:\t/",
          "old_line_content": "\t\t\tpe->linehead = pe->outdev.pos;",
          "new_line_content": "\t\t\t(*pe->encod_filter->filter_flush)(pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": null,
          "new_api": "oded word */\n\t\t(*pe->block_filter->filter_function)(c,",
          "old_text": null,
          "new_text": "oded word */\n\t\t(*pe->block_filter->filter_function)(c,",
          "old_line_content": "\t\t\tpe->firstindent = 0;",
          "new_line_content": "\t\t\tmbfl_memory_device_strncat(&pe->outdev, \"\\x3f\\x3d\", 2);\t/* ?= */",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": ");\n\t\t\t\t\tif (bk.encoder.filter_dtor)\n\t\t\t\t\t\tbk.en",
          "old_text": null,
          "new_text": ");\n\t\t\t\t\tif (bk.encoder.filter_dtor)\n\t\t\t\t\t\tbk.en",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_memory_device_init(&device, length + 8, 0);",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "0 && c == 0x20) {\t/* repeat SPACE */\n\t\t\tmbfl_memory_dev",
          "old_text": null,
          "new_text": " 0 && c == 0x20) {\t/* repeat SPACE */\n\t\t\tmbfl_memory_dev",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tc = (*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": null,
          "new_api": "(*pc->decoder->filter_function",
          "old_text": null,
          "new_text": "\t\t(*pc->decoder->filter_function",
          "old_line_content": "\t}",
          "new_line_content": "\tpd = mime_header_decoder_new(outcode);",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "pdev);\n\t\t} else {\n\t\t\tif (pe->tmpdev.pos < 74 && c == 0x2",
          "old_text": null,
          "new_text": "pdev);\n\t\t} else {\n\t\t\tif (pe->tmpdev.pos < 74 && c == 0x2",
          "old_line_content": "",
          "new_line_content": "\t\t\tc = (*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "tor)\n\t\t\t\t\t\tdecoder->filter_dtor(decoder",
          "old_line_content": "\t\t/* switch the drain direction */",
          "new_line_content": "\t\t\t(*encoder->filter_function)(*p, encoder);",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": null,
          "new_api": "- pe->linehead + pe->tmpdev.pos + pe->firstindent;\n\t\t\t\tif (n > 74) {",
          "old_text": null,
          "new_text": "- pe->linehead + pe->tmpdev.pos + pe->firstindent;\n\t\t\t\tif (n > 74) {",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&pe->outdev, pe->encname, pe->encnamelen);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "l_memory_device_strncat",
          "old_text": null,
          "new_text": "l_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwspl",
          "old_line_content": "\t}",
          "new_line_content": "\t\tc = (*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": null,
          "new_api": "(c == 0x78) {\t/* 'x' */\n\t\t\tpc->status =",
          "old_text": null,
          "new_text": "(c == 0x78) {\t/* 'x' */\n\t\t\tpc->status =",
          "old_line_content": "",
          "new_line_content": "\t\tmime_header_decoder_collector(*p++, pd);",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": null,
          "new_api": "x30 && c <= 0x39) { /* '0' - '9' */",
          "old_text": null,
          "new_text": "x30 && c <= 0x39) { /* '0' - '9' */\n\t\t",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tresult = mime_header_decoder_result(pd, result);",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": null,
          "new_api": "->cache = c - 0x30;\n\t\t\tpc->sta",
          "old_text": null,
          "new_text": "->cache = c - 0x30;\n\t\t\tpc->sta",
          "old_line_content": "}",
          "new_line_content": "\tmime_header_decoder_delete(pd);",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "r.filter_dtor)\n\t\t\t\t\t\t_bk.encoder.filter_dtor(&_",
          "old_line_content": "\t\t_bk.pos = device.pos;",
          "new_line_content": "\t\tmbfl_convert_filter_copy(decoder, &_bk.decoder);",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": null,
          "new_api": "ncoder);\n\n\t\t\t\t\tp = bk.p;\n\t\t\t\t\tdevice.pos = bk.p",
          "old_text": null,
          "new_text": "ncoder);\n\n\t\t\t\t\tp = bk.p;\n\t\t\t\t\tdevice.pos = bk.p",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_convert_filter_copy(encoder, &_bk.encoder);",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": null,
          "new_api": "e 8:\t\t/* folding */\n\tcase 9:\t\t/* folding */\n\t\tif (c != 0x",
          "old_text": null,
          "new_text": "e 8:\t\t/* folding */\n\tcase 9:\t\t/* folding */\n\t\tif (c != 0x",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "k;\n\t\t}\n\n\t\t/* detect end position */\n\t\tw",
          "old_text": null,
          "new_text": "k;\n\t\t}\n\n\t\t/* detect end position */\n\t\tw",
          "old_line_content": "\t\t\t/* if the offset of the resulting string exceeds the length,",
          "new_line_content": "\t\t\t\t(*encoder->filter_function)(*p, encoder);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "c != 0x0a && c != 0x20 && c != 0x09)",
          "old_text": null,
          "new_text": " c != 0x0a && c != 0x20 && c != 0x09)",
          "old_line_content": "\tcase 4:\t\t/* reset filter */",
          "new_line_content": "\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "(encoder);\n\t\t\t\tmbfl_convert_f",
          "old_text": null,
          "new_text": "(encoder);\n\t\t\t\tmbfl_convert_f",
          "old_line_content": "\t\t\t\tbk = _bk;",
          "new_line_content": "\t\t\t\t\tencoder->filter_dtor(encoder);",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "copy",
          "old_text": null,
          "new_text": "copy(&bk.decoder, decoder);\n\t\t\t\tmbfl_convert_fi",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(&_bk.decoder, decoder);",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "opy",
          "old_text": null,
          "new_text": "opy(&bk.encoder, encoder);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t",
          "old_line_content": "\t\t\t\t/* save the encoder, decoder state and the pointer */",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(&_bk.encoder, encoder);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "+ pe->tmpdev.pos) > 74) {\n\t\t\t\tmbfl_memory_device_strncat",
          "old_text": null,
          "new_text": "+ pe->tmpdev.pos) > 74) {\n\t\t\t\tmbfl_memory_device_strncat",
          "old_line_content": "\tdefault:\t/* ASCII */",
          "new_line_content": "\t\t(*pe->block_filter->filter_function)(c, pe->block_filter);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": null,
          "new_api": "mbfl_convert_filter_copy(encoder, &_bk.encode",
          "old_text": null,
          "new_text": "\tmbfl_convert_filter_copy(encoder, &_bk.encode",
          "old_line_content": "\t\t\t\tbk.pos = device.pos;",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(decoder, &bk.decoder);",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "_bk.pos = device.pos;\n\t\t\t_bk.p = p;\n\n\t\t\t(*enc",
          "old_text": null,
          "new_text": "\t_bk.pos = device.pos;\n\t\t\t_bk.p = p;\n\n\t\t\t(*enc",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(encoder, &bk.encoder);",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": null,
          "new_api": "while (n < size) {\n\t\t\t\tmapelm = &(pc->convmap[n*4",
          "old_text": null,
          "new_text": "while (n < size) {\n\t\t\t\tmapelm = &(pc->convmap[n*4",
          "old_line_content": "\t\t\t\ts %= r;",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": null,
          "new_api": "apelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mapelm[1",
          "old_text": null,
          "new_text": "apelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mapelm[1",
          "old_line_content": "\t\t\t\twhile (r > 0) {",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t/* '#' */",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "ecoder.filter_dtor)\n\t\t\t\t\t_bk.dec",
          "old_text": null,
          "new_text": "ecoder.filter_dtor)\n\t\t\t\t\t_bk.dec",
          "old_line_content": "\t\t\t\t * then restore the state */",
          "new_line_content": "\t\t\t\t(*encoder->filter_flush)(encoder);",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": null,
          "new_api": "0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;",
          "old_text": null,
          "new_text": " 0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;\n\n",
          "old_line_content": "\t\t\t\tn = pe->outdev.pos - pe->linehead + pe->tmpdev.pos + pe->firstindent;",
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "s;\n\t\t\t\tif (decoder->filter_dtor)",
          "old_text": null,
          "new_text": "s;\n\t\t\t\tif (decoder->filter_dtor)\n\t\t",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\tbk.decoder.filter_dtor(&bk.decoder);",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": null,
          "new_api": "_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tn++;\n\t\t\t}",
          "old_text": null,
          "new_text": "_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tn++;\n\t\t\t}",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "(encoder->filter_dtor)\n\t\t\t\t\tencoder",
          "old_text": null,
          "new_text": "(encoder->filter_dtor)\n\t\t\t\t\tencoder",
          "old_line_content": "\t\t\t\t\tdevice.pos = _bk.pos;",
          "new_line_content": "\t\t\t\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": null,
          "new_api": "const mbfl_encoding *outcode,\n    const mbfl_encoding *transe",
          "old_text": null,
          "new_text": " const mbfl_encoding *outcode,\n    const mbfl_encoding *transe",
          "old_line_content": "\t\t\t\t} else if (pe->outdev.pos > 0) {",
          "new_line_content": "\t\t\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);\t\t/* LWSP */",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": null,
          "new_api": "e_name[0] == '\\0') {\n\t\treturn NULL;\n\t}\n\n\tpe = emall",
          "old_text": null,
          "new_text": "e_name[0] == '\\0') {\n\t\treturn NULL;\n\t}\n\n\tpe = emall",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tmbfl_memory_device_devcat(&pe->outdev, &pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder->filter_function)(0x23, pc->",
          "old_text": null,
          "new_text": "decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder->filter_function)(0x23, pc->",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[0], pc->decoder);",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": null,
          "new_api": "eof",
          "old_text": null,
          "new_text": "eof(struct mime_header_encoder_data))",
          "old_line_content": "\t\t\t\tn = pe->outdev.pos - pe->linehead + pe->encnamelen + pe->firstindent;",
          "new_line_content": "\t\t\t\tmbfl_memory_device_reset(&pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "'#' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twhile (n >",
          "old_text": null,
          "new_text": " '#' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twhile (n >",
          "old_line_content": "\t\tif (f) {",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x3b, pc->decoder);\t\t/* ';' */",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "(bk.decoder.filter_dtor)",
          "old_text": null,
          "new_text": "(bk.decoder.filter_dtor)\n\t\t\t\t",
          "old_line_content": "\t\t\t\t\tbk = _bk;",
          "new_line_content": "\t\t\t\t\t\tencoder->filter_dtor(encoder);",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "der.filter_dtor(&bk.decoder);\n\t\t\tif (bk.encoder",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&_bk.decoder, decoder);",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": ");\n\t}\n\tif (needle_u8 == &_needl",
          "old_text": null,
          "new_text": ");\n\t}\n\tif (needle_u8 == &_needl",
          "old_line_content": "\t\t\tresult = MBFL_ERROR_ENCODING;",
          "new_line_content": "\t\tmbfl_string_init(&_haystack_u8);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "ing_clear",
          "old_text": null,
          "new_text": "ing_clear(&_needle_u8);\n\t}\n\treturn result;\n}\n\n/*\n *  substr_count\n ",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\thaystack_u8 = mbfl_convert_encoding(haystack, &_haystack_u8, &mbfl_encoding_utf8);",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "_dtor)\n\t\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "old_line_content": "\t\t\t\t\tif (_bk.decoder.filter_dtor)",
          "new_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&_bk.encoder, encoder);",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "\t\t\t\tdecoder->filter_dtor(decoder);\n\t\t",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t_bk.decoder.filter_dtor(&_bk.decoder);",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": null,
          "new_api": ">firstindent = 0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;\n\n\t/* mak",
          "old_text": null,
          "new_text": ">firstindent = 0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;\n\n\t/* mak",
          "old_line_content": "\t\t\t\t} else if (pe->outdev.pos > 0)  {",
          "new_line_content": "\t\t\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);\t\t/* LWSP */",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "lter_dtor",
          "old_text": null,
          "new_text": "lter_dtor(encoder);\n\t\t\tmbfl_convert_f",
          "old_line_content": "\t\t\t\t\tdevice.pos = bk.pos;",
          "new_line_content": "\t\t\t\t\t\t_bk.encoder.filter_dtor(&_bk.encoder);",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "%= r;\n\t\t\t\tr /= 10;\n\t\t\t\t(*pc->decoder->filter_f",
          "old_text": null,
          "new_text": "%= r;\n\t\t\t\tr /= 10;\n\t\t\t\t(*pc->decoder->filter_f",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": null,
          "new_api": "n++] = *s++;\n\t}\n\tpe->encname[n++] = 0x3f;\n\tif (transenc->",
          "old_text": null,
          "new_text": "n++] = *s++;\n\t}\n\tpe->encname[n++] = 0x3f;\n\tif (transenc->",
          "old_line_content": "\t\t\t\tpe->status1 = 11;",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pe->block_filter, &pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": null,
          "new_api": "oding == mbfl_no_encoding_qprint) {",
          "old_text": null,
          "new_text": "oding == mbfl_no_encoding_qprint) {\n\t",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_memory_device_reset(&pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": null,
          "new_api": "cname[n++] = 0x51;\n\t} else {\n\t\tpe->encname[n++] = 0x42;",
          "old_text": null,
          "new_text": "cname[n++] = 0x51;\n\t} else {\n\t\tpe->encname[n++] = 0x42;\n",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t(*pe->block_filter->filter_function)(c, pe->block_filter);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "ata pc;\n\n\t/* needle is conver",
          "old_text": null,
          "new_text": "ata pc;\n\n\t/* needle is conver",
          "old_line_content": "\t\t\tresult = MBFL_ERROR_ENCODING;",
          "new_line_content": "\t\tmbfl_string_init(&_needle_u8);",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": null,
          "new_api": "/\n\tmbfl_wchar_device_init(&pc.needle);\n\tfilter = mbfl_convert_f",
          "old_text": null,
          "new_text": "/\n\tmbfl_wchar_device_init(&pc.needle);\n\tfilter = mbfl_convert_f",
          "old_line_content": "\t\t\tgoto out;",
          "new_line_content": "\t\tneedle_u8 = mbfl_convert_encoding(needle, &_needle_u8, &mbfl_encoding_utf8);",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "(bk.decoder.filter_dtor)\n\t\t\tb",
          "old_text": null,
          "new_text": "(bk.decoder.filter_dtor)\n\t\t\tb",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tencoder->filter_dtor(encoder);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "er.filter_dtor(&bk.decoder);\n\t\tif (bk.encoder.",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&bk.decoder, decoder);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "filter_dtor",
          "old_text": null,
          "new_text": "dtor)\n\t\t\tbk.encoder.filter_dtor(&bk.encoder);\n",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&bk.encoder, encoder);",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "MBFL_ERROR_ENCODING;\n\t}\n\tmbfl_convert_filter_feed_string(filter, needle->val, needle->",
          "old_text": null,
          "new_text": " MBFL_ERROR_ENCODING;\n\t}\n\tmbfl_convert_filter_feed_string(filter, needle->val, needle->",
          "old_line_content": "\t\tresult = MBFL_ERROR_OFFSET;",
          "new_line_content": "\toffset_pointer = mbfl_find_offset_utf8(",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": null,
          "new_api": "e->lwsp[n] = '\\0';\n\tpe->lwsplen = n;\n\n\t/* transfer",
          "old_text": null,
          "new_text": "e->lwsp[n] = '\\0';\n\tpe->lwsplen = n;\n\n\t/* transfer",
          "old_line_content": "\t} else if (pe->tmpdev.pos > 0) {",
          "new_line_content": "\t\t(*pe->conv2_filter->filter_flush)(pe->conv2_filter);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "r);\n\t\tmbfl_convert_filter_delete(decode",
          "old_text": null,
          "new_text": "r);\n\t\tmbfl_convert_filter_delete(decode",
          "old_line_content": "\t\t\t\t/* restore filter */",
          "new_line_content": "\t\t\t(*encoder->filter_function)(*p, encoder);",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": null,
          "new_api": "s = 5;\n\t\t\tpc->digit = 1;\n\t\t} else if (c >= 0x61 &",
          "old_text": null,
          "new_text": "s = 5;\n\t\t\tpc->digit = 1;\n\t\t} else if (c >= 0x61 &",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "'a' - 'f'  */\n\t\t\tpc->cache = c - 0x61 + 10;",
          "old_text": null,
          "new_text": " 'a' - 'f'  */\n\t\t\tpc->cache = c - 0x61 + 10;\n\t",
          "old_line_content": "\tcase 2:",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "de filter */\n\tpe->encod_filter = mbfl_convert_filt",
          "old_text": null,
          "new_text": "de filter */\n\tpe->encod_filter = mbfl_convert_filt",
          "old_line_content": "\t\tif (pe->outdev.pos > 0) {",
          "new_line_content": "\t\t(*pe->encod_filter->filter_flush)(pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "ew",
          "old_text": null,
          "new_text": "ew(outcode, transenc, mbfl_memory_device_output, 0, &(",
          "old_line_content": "\t\t\tif ((pe->outdev.pos - pe->linehead + pe->tmpdev.pos) > 74) {",
          "new_line_content": "\t\tmbfl_memory_device_strncat(&pe->outdev, \"\\x3f\\x3d\", 2);\t\t/* ?= */",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": null,
          "new_api": "code filter */\n\tpe->conv2_filter = mbfl_convert_filter_new(&mb",
          "old_text": null,
          "new_text": "code filter */\n\tpe->conv2_filter = mbfl_convert_filter_new(&mb",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "_eaw_table[0]); i++) {\n\t\tif (",
          "old_text": null,
          "new_text": "_eaw_table[0]); i++) {\n\t\tif (",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tencoder->filter_dtor(encoder);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "aw_table[i].begin <= c && c <= mbfl_eaw_table[",
          "old_text": null,
          "new_text": "aw_table[i].begin <= c && c <= mbfl_eaw_table[",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.decoder, decoder);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": ") {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic",
          "old_text": null,
          "new_text": ") {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic ",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.encoder, encoder);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "device_clear",
          "old_text": null,
          "new_text": "device_clear(&pc.needle);\n\t\treturn MBFL_ERROR_EMPTY;\n\t}\n\t/* initialize filter and collector data */\n\tfilter = mbfl_convert_filter_new(\n\t  haystack->enco",
          "old_line_content": "\t\t\t(const char *) haystack_u8->val + haystack_u8->len);",
          "new_line_content": "\t\tfound_pos = zend_memnstr(",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": null,
          "new_api": "pe->conv2_filter_backup = mbfl_convert_filter_new(",
          "old_text": null,
          "new_text": "\tpe->conv2_filter_backup = mbfl_convert_filter_new(",
          "old_line_content": "\tpe->prevpos = 0;",
          "new_line_content": "\t\tmbfl_memory_device_devcat(&pe->outdev, &pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": null,
          "new_api": "function)(0x78, pc->decoder);\t\t/* 'x' */\n\t\t\t(*pc-",
          "old_text": null,
          "new_text": "function)(0x78, pc->decoder);\t\t/* 'x' */\n\t\t\t(*pc-",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "function)(c, pc->decoder);\n\t\t}\n\t\tbreak;\n\tcase 5:",
          "old_text": null,
          "new_text": "function)(c, pc->decoder);\n\t\t}\n\t\tbreak;\n\tcase 5:\n",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "if ((c >= 0x30 && c <= 0x39) ||\n\t\t\t(c >= 0x",
          "old_text": null,
          "new_text": "\n\t\tif ((c >= 0x30 && c <= 0x39) ||\n\t\t\t(c >= 0x",
          "old_line_content": "\tcase 3:",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "encoding_wchar, outcode, mbfl_filter_",
          "old_text": null,
          "new_text": "encoding_wchar, outcode, mbfl_filter_",
          "old_line_content": "\tpe->status1 = 0;",
          "new_line_content": "\tmbfl_memory_device_reset(&pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "os, 0, &pc);\n\tif (filter == NULL) {\n\t\tmbfl_wchar_device_clear(&pc.needle);\n\t\treturn MBFL_ERROR_ENCODING;\n\t}\n\tpc.start = 0;\n\tpc.output = 0;\n\tpc.needle_pos =",
          "old_text": null,
          "new_text": "os, 0, &pc);\n\tif (filter == NULL) {\n\t\tmbfl_wchar_device_clear(&pc.needle);\n\t\treturn MBFL_ERROR_ENCODING;\n\t}\n\tpc.start = 0;\n\tpc.output = 0;\n\tpc.needle_pos = ",
          "old_line_content": "\t\t\t\t(const char *) haystack_u8->val + haystack_u8->len);",
          "new_line_content": "\t\t\tfound_pos = zend_memnrstr(",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": null,
          "new_api": ") += (is_fullwidth(c) ? 2: 1);\n\treturn 0;\n}\n\nsi",
          "old_text": null,
          "new_text": ") += (is_fullwidth(c) ? 2: 1);\n\treturn 0;\n}\n\nsi",
          "old_line_content": "\t\t\t_bk.p = p;",
          "new_line_content": "\t\t\tmbfl_convert_filter_copy(decoder, &_bk.decoder);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "mbfl_strwidth",
          "old_text": null,
          "new_text": "mbfl_strwidth(mbfl_string *string)\n{\n\tsize_t le",
          "old_line_content": "",
          "new_line_content": "\t\t\tmbfl_convert_filter_copy(encoder, &_bk.encoder);",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "mbfl_convert_filter_new",
          "old_text": null,
          "new_text": "mbfl_convert_filter_new(&mbfl_encoding_wchar, ",
          "old_line_content": "struct mime_header_encoder_data*",
          "new_line_content": "\treturn mbfl_memory_device_result(&pe->outdev, result);",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "s = MBFL_ERROR_NOT_FOU",
          "old_text": null,
          "new_text": "s = MBFL_ERROR_NOT_FOU",
          "old_line_content": "\t\t\tif (!offset_pointer) {",
          "new_line_content": "\t\t\tsize_t needle_len = mbfl_strlen(needle_u8);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "p = haystack->val;\n\tn = haystack->len;\n\tif (p != NULL) {\n\t\twhile (n > 0) {\n\t\t\tif ((*filter",
          "old_text": null,
          "new_text": "\tp = haystack->val;\n\tn = haystack->len;\n\tif (p != NULL) {\n\t\twhile (n > 0) {\n\t\t\tif ((*filter",
          "old_line_content": "\t\t\t\toffset_pointer = haystack_u8->val + haystack_u8->len;",
          "new_line_content": "\t\t\toffset_pointer = mbfl_find_offset_utf8(",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "*filter;\n\n\tlen = 0;\n\tif (string-",
          "old_text": null,
          "new_text": "*filter;\n\n\tlen = 0;\n\tif (string-",
          "old_line_content": "\t\t\t\tif (_bk.decoder.filter_dtor)",
          "new_line_content": "\t\t\t(*encoder->filter_flush)(encoder);",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": null,
          "new_api": "_convert_filter_new",
          "old_text": null,
          "new_text": "_convert_filter_new(\n\t\t    string->en",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t_bk.decoder.filter_dtor(&_bk.decoder);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "filter_count_width, 0, &len);\n\t\tif",
          "old_text": null,
          "new_text": "  filter_count_width, 0, &len);\n\t\tif ",
          "old_line_content": "\t\t\t\tp = bk.p;",
          "new_line_content": "\t\t\t\t\t_bk.encoder.filter_dtor(&_bk.encoder);",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": ".matched_pos != MBFL_ERROR_NOT_FOUND) {\n\t\t\t\t++result;\n\t\t\t\tpc.matched_pos = MBFL_ERROR_NOT_FOUND;\n\t\t\t\tpc.needle_pos = 0;\n\t\t\t}\n\t\t\tn--;\n\t\t}",
          "old_text": null,
          "new_text": ".matched_pos != MBFL_ERROR_NOT_FOUND) {\n\t\t\t\t++result;\n\t\t\t\tpc.matched_pos = MBFL_ERROR_NOT_FOUND;\n\t\t\t\tpc.needle_pos = 0;\n\t\t\t}\n\t\t\tn--;\n\t\t}\n",
          "old_line_content": "\t\t\t\t(const char *) offset_pointer);",
          "new_line_content": "\t\t\tfound_pos = zend_memnrstr(",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "L) {\n\t\tmime_header_encoder_delete(pe);\n\t\treturn",
          "old_text": null,
          "new_text": "L) {\n\t\tmime_header_encoder_delete(pe);\n\t\treturn ",
          "old_line_content": "\tpe->prevpos = 0;",
          "new_line_content": "\tpe = emalloc(sizeof(struct mime_header_encoder_data));",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "er_function)(*p++, filter);",
          "old_text": null,
          "new_text": "er_function)(*p++, filter);\n\t",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tencoder->filter_dtor(encoder);",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "mbfl_convert_filter_delete(filter);\n\tmbfl_wchar_device_clear(&pc.needle);\n\n\tret",
          "old_text": null,
          "new_text": "\tmbfl_convert_filter_delete(filter);\n\tmbfl_wchar_device_clear(&pc.needle);\n\n\tret",
          "old_line_content": "out:",
          "new_line_content": "\t\tresult = mbfl_pointer_to_offset_utf8(haystack_u8->val, (const unsigned char *) found_pos);",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": null,
          "new_api": "}\n\n\t\tmbfl_convert_filter_flush(filter);\n\t\tm",
          "old_text": null,
          "new_text": "\n\t\t}\n\n\t\tmbfl_convert_filter_flush(filter);\n\t\tm",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.decoder, decoder);",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "nvert_filter_delete",
          "old_text": null,
          "new_text": "nvert_filter_delete(filter);\n\t}\n\n\treturn len;\n",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.encoder, encoder);",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": null,
          "new_api": "L;\n\t}\n\n\tif (transenc->no_encoding == mbfl_",
          "old_text": null,
          "new_text": "L;\n\t}\n\n\tif (transenc->no_encoding == mbfl_",
          "old_line_content": "\tpe->linehead = 0;",
          "new_line_content": "\tmbfl_memory_device_init(&pe->outdev, 0, 0);",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": null,
          "new_api": "encoding_qprint) {\n\t\tpe->encod_filter->sta",
          "old_text": null,
          "new_text": "encoding_qprint) {\n\t\tpe->encod_filter->sta",
          "old_line_content": "\tpe->firstindent = 0;",
          "new_line_content": "\tmbfl_memory_device_init(&pe->tmpdev, 0, 0);",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": null,
          "new_api": "ize = pc->mapsize;\n\t\t\twhile (n < size) {\n\t\t\t\tm",
          "old_text": null,
          "new_text": "ize = pc->mapsize;\n\t\t\twhile (n < size) {\n\t\t\t\tm",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(d, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "data {\n\tmbfl_convert_filter *decode",
          "old_text": null,
          "new_text": "data {\n\tmbfl_convert_filter *decode",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tbk.decoder.filter_dtor(&bk.decoder);",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "mapelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mape",
          "old_text": null,
          "new_text": "mapelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mape",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "stop;\n\tsize_t output;\n};\n\nstat",
          "old_text": null,
          "new_text": "stop;\n\tsize_t output;\n};\n\nstat",
          "old_line_content": "}",
          "new_line_content": "\t\tmbfl_string_clear(&_needle_u8);",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "up;\n\tmbfl_memory_device device;\n\tsi",
          "old_text": null,
          "new_text": "up;\n\tmbfl_memory_device device;\n\tsi",
          "old_line_content": "\t\t\tdevice.pos = _bk.pos;",
          "new_line_content": "\t\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "pc->decoder);\n\t\t\t\t\tif (c != 0x3b) {\t/* ';' */",
          "old_text": null,
          "new_text": " pc->decoder);\n\t\t\t\t\tif (c != 0x3b) {\t/* ';' */\n\t\t",
          "old_line_content": "\t\t\tn = pc->digit;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": null,
          "new_api": "->filter_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tb",
          "old_text": null,
          "new_text": "->filter_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tb",
          "old_line_content": "\t\t\twhile (n > 1) {",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "data)\n{\n\tstruct collector_str",
          "old_text": null,
          "new_text": "data)\n{\n\tstruct collector_str",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tencoder->filter_dtor(encoder);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "th_data *pc = (struct collector_strimwidth_data",
          "old_text": null,
          "new_text": "th_data *pc = (struct collector_strimwidth_data",
          "old_line_content": "\t\t\tbk = _bk;",
          "new_line_content": "\t\t\tmbfl_convert_filter_copy(&_bk.decoder, decoder);",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": null,
          "new_api": "a;\n\n\tswitch (pc->status) {\n\tcase 10:\n\t\t(*pc->de",
          "old_text": null,
          "new_text": "a;\n\n\tswitch (pc->status) {\n\tcase 10:\n\t\t(*pc->de",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tmbfl_convert_filter_copy(&_bk.encoder, encoder);",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": null,
          "new_api": "pc->outwidth += (is_fullwidth(c",
          "old_text": null,
          "new_text": "\n\t\t\tpc->outwidth += (is_fullwidth(c",
          "old_line_content": "",
          "new_line_content": "\t\t\tbk.decoder.filter_dtor(&bk.decoder);",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": null,
          "new_api": "c->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder->filter_function)(0x78, p",
          "old_text": null,
          "new_text": "c->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder->filter_function)(0x78, p",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "c->width) {\n\t\t\t\tif (pc->status == 0",
          "old_text": null,
          "new_text": "c->width) {\n\t\t\t\tif (pc->status == 0",
          "old_line_content": "",
          "new_line_content": "\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": null,
          "new_api": ";\t\t/* 'x' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twh",
          "old_text": null,
          "new_text": ";\t\t/* 'x' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twh",
          "old_line_content": "\tcase 4:",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "return 0;\n}\n\nmbfl_string *\nmbfl_su",
          "old_text": null,
          "new_text": "return 0;\n}\n\nmbfl_string *\nmbfl_su",
          "old_line_content": "\t  &mbfl_encoding_wchar,",
          "new_line_content": "\tmbfl_wchar_device_init(&pc.needle);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "fl_string *string,\n    mbfl_string *result,\n    size_t from,\n    size_t length)\n{\n\tconst mbfl_encoding *encoding =",
          "old_text": null,
          "new_text": "fl_string *string,\n    mbfl_string *result,\n    size_t from,\n    size_t length)\n{\n\tconst mbfl_encoding *encoding =",
          "old_line_content": "\t  mbfl_wchar_device_output, 0, &pc.needle);",
          "new_line_content": "\tfilter = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "r_copy",
          "old_text": null,
          "new_text": "r_copy(pc->decoder, pc->decoder_bac",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": ";\n\t\t\t\t}\n\t\t\t\tpc->status++;\n\t\t\t\t(*pc-",
          "old_text": null,
          "new_text": ";\n\t\t\t\t}\n\t\t\t\tpc->status++;\n\t\t\t\t(*pc-",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(decoder);",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "efree((void*)pe);\n\t}\n}\n\nmbfl_string *\nmbfl_mime_header_encode(\n    mbfl_string *stri",
          "old_text": null,
          "new_text": "\n\t\tefree((void*)pe);\n\t}\n}\n\nmbfl_string *\nmbfl_mime_header_encode(\n    mbfl_string *stri",
          "old_line_content": "\t/* Output code filter */",
          "new_line_content": "\tpe->encod_filter = mbfl_convert_filter_new(outcode, transenc, mbfl_memory_device_output, 0, &(pe->outdev));",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": null,
          "new_api": "m;\n\tunsigned char *p, *w;\n\n\tmbfl_string_init(result);\n\tresult->e",
          "old_text": null,
          "new_text": " m;\n\tunsigned char *p, *w;\n\n\tmbfl_string_init(result);\n\tresult->e",
          "old_line_content": "\tpc.needle_len = pc.needle.pos;",
          "new_line_content": "\tmbfl_convert_filter_feed_string(filter, needle->val, needle->len);",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "ding = string->encoding;\n\n\tif ((e",
          "old_text": null,
          "new_text": "ding = string->encoding;\n\n\tif ((e",
          "old_line_content": "\tif (pc.needle.buffer == NULL) {",
          "new_line_content": "\tmbfl_convert_filter_flush(filter);",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "ding->flag & (MBFL_ENCTYPE_SBCS |",
          "old_text": null,
          "new_text": "ding->flag & (MBFL_ENCTYPE_SBCS | ",
          "old_line_content": "\t\treturn MBFL_ERROR_ENCODING;",
          "new_line_content": "\tmbfl_convert_filter_delete(filter);",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "ar *p;\n\tstruct mime_header_encoder_data *pe;\n\n\tmbfl_string_init(result);\n\tresult->encoding = &mbfl_e",
          "old_text": null,
          "new_text": "ar *p;\n\tstruct mime_header_encoder_data *pe;\n\n\tmbfl_string_init(result);\n\tresult->encoding = &mbfl_e",
          "old_line_content": "\t/* encoded block filter */",
          "new_line_content": "\tpe->conv2_filter = mbfl_convert_filter_new(&mbfl_encoding_wchar, outcode, mbfl_filter_output_pipe, 0, pe->encod_filter);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "ENCTYPE_SBCS) {\n\t\t\tstart = from;",
          "old_text": null,
          "new_text": "ENCTYPE_SBCS) {\n\t\t\tstart = from;\n\t\t",
          "old_line_content": "\t/* initialize filter and collector data */",
          "new_line_content": "\t\tmbfl_wchar_device_clear(&pc.needle);",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "ent = indent;\n\t}\n\n\tn = string->len;\n\tp = string->val;\n\twhile (n > 0) {\n\t\t(*pe->conv1_filter",
          "old_text": null,
          "new_text": "ent = indent;\n\t}\n\n\tn = string->len;\n\tp = string->val;\n\twhile (n > 0) {\n\t\t(*pe->conv1_filter",
          "old_line_content": "\t    pe->encod_filter_backup == NULL ||",
          "new_line_content": "\tpe->conv1_filter = mbfl_convert_filter_new(incode, &mbfl_encoding_wchar, mime_header_encoder_collector, 0, pe);",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": null,
          "new_api": "ata)\n{\n\tstruct collector_htmlnumericentity_data *",
          "old_text": null,
          "new_text": "ata)\n{\n\tstruct collector_htmlnumericentity_data *",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": null,
          "new_api": "ector_htmlnumericentity_data *)data;\n\tint f, n, s",
          "old_text": null,
          "new_text": "ector_htmlnumericentity_data *)data;\n\tint f, n, s",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": null,
          "new_api": "pelm;\n\n\tsize = pc->mapsize;\n\tf = 0;\n\tn = 0;\n\tw",
          "old_text": null,
          "new_text": "pelm;\n\n\tsize = pc->mapsize;\n\tf = 0;\n\tn = 0;\n\tw",
          "old_line_content": "\tcase 5:",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": null,
          "new_api": "ing->flag & MBFL_ENCTYPE_WCS4) {\n\t\t\tstart = from*4;\n\t\t} else {\n\t\t\tconst unsigned char *mbtab = encodi",
          "old_text": null,
          "new_text": "ing->flag & MBFL_ENCTYPE_WCS4) {\n\t\t\tstart = from*4;\n\t\t} else {\n\t\t\tconst unsigned char *mbtab = encodi",
          "old_line_content": "\t  collector_strpos, 0, &pc);",
          "new_line_content": "\tfilter = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": null,
          "new_api": "*/\nstruct mime_header_decode",
          "old_text": null,
          "new_text": "\n */\nstruct mime_header_decode",
          "old_line_content": "",
          "new_line_content": "\t\tmime_header_encoder_delete(pe);",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "0;\n\t\t\tn = 0;\n\t\t\tk = 0;\n\t\t\tp = stri",
          "old_text": null,
          "new_text": " 0;\n\t\t\tn = 0;\n\t\t\tk = 0;\n\t\t\tp = stri",
          "old_line_content": "\tpc.start = 0;",
          "new_line_content": "\t\tmbfl_wchar_device_clear(&pc.needle);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "r *encoder;\n\tsi",
          "old_text": null,
          "new_text": "r *encoder;\n\tsi",
          "old_line_content": "",
          "new_line_content": "\t(*(size_t *)data) += (is_fullwidth(c) ? 2: 1);",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "ncoding->flag & MBFL_ENCTYPE_SBCS) {",
          "old_text": null,
          "new_text": "ncoding->flag & MBFL_ENCTYPE_SBCS) {\n\t\t",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif ((*filter->filter_function)(*p++, filter) < 0) {",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "0);\n\n\t/* output code filter */\n\tpc.decoder = mbfl_convert_filter_new(\n\t    &mbfl_encoding_wchar,\n\t    string->e",
          "old_text": null,
          "new_text": "0);\n\n\t/* output code filter */\n\tpc.decoder = mbfl_convert_filter_new(\n\t    &mbfl_encoding_wchar,\n\t    string->e",
          "old_line_content": "\t\t    filter_count_width, 0, &len);",
          "new_line_content": "\t\tfilter = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": null,
          "new_api": "if (c == 0x3d) {\t\t/* = */\n\t\t\t\tmbfl_",
          "old_text": null,
          "new_text": "\t\tif (c == 0x3d) {\t\t/* = */\n\t\t\t\tmbfl_",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmbfl_memory_device_clear(&pe->outdev);",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": null,
          "new_api": "ry_device_output",
          "old_text": null,
          "new_text": "ry_device_output(c, &pd->tmpdev);\n\t\t\t",
          "old_line_content": "}",
          "new_line_content": "\t\tmbfl_memory_device_clear(&pe->tmpdev);",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "se if (c == 0x0d",
          "old_text": null,
          "new_text": "se if (c == 0x0d",
          "old_line_content": "",
          "new_line_content": "\t\tefree((void*)pe);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "tab = encoding->mblen_table;\n\t\t\te",
          "old_text": null,
          "new_text": "tab = encoding->mblen_table;\n\t\t\te",
          "old_line_content": "",
          "new_line_content": "\tmbfl_convert_filter_flush(filter);",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": null,
          "new_api": "= start;\n\t\t\tn = start;\n\t\t\tk = 0;",
          "old_text": null,
          "new_text": "= start;\n\t\t\tn = start;\n\t\t\tk = 0;\n\t",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tmbfl_convert_filter_delete(filter);",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "= string->val + start;\n\t\t\t/* detec",
          "old_text": null,
          "new_text": " = string->val + start;\n\t\t\t/* detec",
          "old_line_content": "}",
          "new_line_content": "\tmbfl_wchar_device_clear(&pc.needle);",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "ice_output, 0, &pc.device);\n\tpc.de",
          "old_text": null,
          "new_text": "ice_output, 0, &pc.device);\n\tpc.de",
          "old_line_content": "",
          "new_line_content": "\t\t\tmbfl_convert_filter_delete(filter);",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": null,
          "new_api": "if (f) {\n\t\t\tbreak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {",
          "old_text": null,
          "new_text": "if (f) {\n\t\t\tbreak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {\n\t\t",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(d, pc->decoder);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "coder);\n\t}\n\n\treturn 0;\n}\n\nint mbfl_filt_decode",
          "old_text": null,
          "new_text": "coder);\n\t}\n\n\treturn 0;\n}\n\nint mbfl_filt_decode",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "_memory_device_output, 0, &pc.device);",
          "old_text": null,
          "new_text": "_memory_device_output, 0, &pc.device);\n",
          "old_line_content": "",
          "new_line_content": "\t\t\t(*filter->filter_function)(*p++, filter);",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "*/\n\tencoder = mbfl_convert_filter",
          "old_text": null,
          "new_text": "*/\n\tencoder = mbfl_convert_filter",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_convert_filter_flush(filter);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "(\n\t    string->encoding,\n\t    &mbf",
          "old_text": null,
          "new_text": "(\n\t    string->encoding,\n\t    &mbf",
          "old_line_content": "\treturn len;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(filter);",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": null,
          "new_api": "uct collector_htmlnumericentity_data *pc = (struc",
          "old_text": null,
          "new_text": "uct collector_htmlnumericentity_data *pc = (struc",
          "old_line_content": "\t\t\tr = 1;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": null,
          "new_api": "umericentity_data *)filter;\n\tint n, s, r, d;\n\n\tif",
          "old_text": null,
          "new_text": "umericentity_data *)filter;\n\tint n, s, r, d;\n\n\tif",
          "old_line_content": "\t\t\tn = pc->digit;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": null,
          "new_api": "switch (pc->status) {\n\t\tcase 1: /* '&' */\n\t\t\t(*p",
          "old_text": null,
          "new_text": "\tswitch (pc->status) {\n\t\tcase 1: /* '&' */\n\t\t\t(*p",
          "old_line_content": "\t\t\twhile (n > 0) {",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "->tmpdev.buffer[pd->cspos]);\n\t\t\tif (encoding != NULL) {",
          "old_text": null,
          "new_text": "->tmpdev.buffer[pd->cspos]);\n\t\t\tif (encoding != NULL) {\n\t\t\t\t",
          "old_line_content": "\t}",
          "new_line_content": "\tpe = mime_header_encoder_new(string->encoding, outcode, encoding);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "= w = (unsigned char*)emalloc(n + 1);\n\t\tresult->len =",
          "old_text": null,
          "new_text": "= w = (unsigned char*)emalloc(n + 1);\n\t\tresult->len = ",
          "old_line_content": "\tpc->output++;",
          "new_line_content": "\t\t(*pc->next_filter->filter_function)(c, pc->next_filter);",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": null,
          "new_api": "->filter_function)(0x23, pc->decoder);\t\t/* '#' */\n\t\t\tbreak;\n\t\tcase",
          "old_text": null,
          "new_text": "->filter_function)(0x23, pc->decoder);\t\t/* '#' */\n\t\t\tbreak;\n\t\tcase",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": null,
          "new_api": "'9' */\n\t\t\t(*pc->decoder->filter_function)(0x26",
          "old_text": null,
          "new_text": "'9' */\n\t\t\t(*pc->decoder->filter_function)(0x26",
          "old_line_content": "\tdefault:",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "fl_encoding_detector_data *data = &iden",
          "old_text": null,
          "new_text": "fl_encoding_detector_data *data = &iden",
          "old_line_content": "",
          "new_line_content": "\tmbfl_encoding_detector *identd = emalloc(sizeof(mbfl_encoding_detector));",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "(!data->num_illegalchars && data->score < best",
          "old_text": null,
          "new_text": "(!data->num_illegalchars && data->score < best",
          "old_line_content": "\tint filter_list_size = 0;",
          "new_line_content": "\tidentd->filter_list = ecalloc(elistsz, sizeof(mbfl_convert_filter*));",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": null,
          "new_api": "->from;\n\t\t\tbest_score = data->score;\n\t\t}\n\t}\n\n\treturn",
          "old_text": null,
          "new_text": "->from;\n\t\t\tbest_score = data->score;\n\t\t}\n\t}\n\n\treturn ",
          "old_line_content": "\tfor (int i = 0; i < elistsz; i++) {",
          "new_line_content": "\tidentd->filter_data = ecalloc(elistsz, sizeof(mbfl_encoding_detector_data));",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": null,
          "new_api": "mbfl_string *result,\n    const mbfl_encoding *toenc)\n{\n\tsize_t n;\n\tunsigned char *p;\n\tmbfl_memory_device device;\n\tmbfl_convert_filter *",
          "old_text": null,
          "new_text": "    mbfl_string *result,\n    const mbfl_encoding *toenc)\n{\n\tsize_t n;\n\tunsigned char *p;\n\tmbfl_memory_device device;\n\tmbfl_convert_filter *",
          "old_line_content": "\t\t\tidentd->filter_list[filter_list_size++] = filter;",
          "new_line_content": "\t\tmbfl_convert_filter *filter = mbfl_convert_filter_new(elist[i], &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": null,
          "new_api": "' */\n\n\t\t\ts = pc->cache;\n\t\t\tr = 1;\n\t\t\tn = pc->d",
          "old_text": null,
          "new_text": "' */\n\n\t\t\ts = pc->cache;\n\t\t\tr = 1;\n\t\t\tn = pc->d",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "mbfl_memory_device_unput(&pd->tmpdev);\n\t\t\t\tpd->status =",
          "old_text": null,
          "new_text": "\t\t\tmbfl_memory_device_unput(&pd->tmpdev);\n\t\t\t\tpd->status = ",
          "old_line_content": "",
          "new_line_content": "\t\t(*pe->conv1_filter->filter_function)(*p++, pe->conv1_filter);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "endpos = 0;\n\n\t/* feed data */\n\tp = string->val",
          "old_text": null,
          "new_text": "endpos = 0;\n\n\t/* feed data */\n\tp = string->val",
          "old_line_content": "\t\tif (pc->outchar >= pc->from) {",
          "new_line_content": "\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": null,
          "new_api": "us != 2) {\n\t\t\t\tmbfl_convert_filter_dev",
          "old_text": null,
          "new_text": "us != 2) {\n\t\t\t\tmbfl_convert_filter_dev",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tresult = mime_header_encoder_result(pe, result);",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "(pd->conv1_filter, &pd->tmpdev",
          "old_text": null,
          "new_text": "(pd->conv1_filter, &pd->tmpdev",
          "old_line_content": "}",
          "new_line_content": "\tmime_header_encoder_delete(pe);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "om;\n\t\t}\n\n\t\tmbfl_memory_d",
          "old_text": null,
          "new_text": "om;\n\t\t}\n\n\t\tmbfl_memory_d",
          "old_line_content": "\tif ((encoding->flag & (MBFL_ENCTYPE_SBCS | MBFL_ENCTYPE_WCS2 | MBFL_ENCTYPE_WCS4)) ||",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "ncoder->filter_",
          "old_text": null,
          "new_text": "ncoder->filter_",
          "old_line_content": "\t\t\t\tif (pc->status == 0) {",
          "new_line_content": "\t\t\tpc->outwidth += (is_fullwidth(c) ? 2: 1);",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "filter2 = mbfl_convert_",
          "old_text": null,
          "new_text": "\n\t\tfilter2 = mbfl_convert_",
          "old_line_content": "}",
          "new_line_content": "\tefree(identd->filter_list);",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "ter_new",
          "old_text": null,
          "new_text": "ter_new(&mbfl_encoding_wch",
          "old_line_content": "",
          "new_line_content": "\tefree(identd->filter_data);",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "toenc, mbfl_",
          "old_text": null,
          "new_text": " toenc, mbfl_",
          "old_line_content": "int mbfl_encoding_detector_feed(mbfl_encoding_detector *identd, mbfl_string *string)",
          "new_line_content": "\tefree(identd);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "encoder->filter_function)(*p++, encoder) < 0)",
          "old_text": null,
          "new_text": "encoder->filter_function)(*p++, encoder) < 0) ",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "t_filter_flush",
          "old_text": null,
          "new_text": "t_filter_flush(encoder);\n\t\t\t} else if (pc.outw",
          "old_line_content": "\t\tpc->outchar++;",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": null,
          "new_api": "case 5: /* '0'-'9','a'-'f' */\n\t\t\t(*pc->decoder",
          "old_text": null,
          "new_text": "\n\t\tcase 5: /* '0'-'9','a'-'f' */\n\t\t\t(*pc->decoder",
          "old_line_content": "\t\t\t\tr = 0x1000000;",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": ")(0x26, pc->decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder",
          "old_text": null,
          "new_text": ")(0x26, pc->decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder",
          "old_line_content": "\t\t\t\ts %= r;",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t/* '#' */",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": null,
          "new_api": ")(0x23, pc->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder",
          "old_text": null,
          "new_text": ")(0x23, pc->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder",
          "old_line_content": "\t\t\t\twhile (r > 0) {",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t/* 'x' */",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": null,
          "new_api": "filter2->illegal_mode = MBFL_OUTPUTFI",
          "old_text": null,
          "new_text": "filter2->illegal_mode = MBFL_OUTPUTFI",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t(*filter->filter_function)(*p, filter);",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": null,
          "new_api": "n--;\n\t\t\t}\n\t\t\ts %= r;\n\t\t\tr /= 16;\n\t\t\twhile (r > 0) {\n\t\t\t\td = s/r",
          "old_text": null,
          "new_text": "\t\t\tn--;\n\t\t\t}\n\t\t\ts %= r;\n\t\t\tr /= 16;\n\t\t\twhile (r > 0) {\n\t\t\t\td = s/r",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "reset",
          "old_text": null,
          "new_text": "reset(&pd->tmpdev);\n\t\t}\n\t\tbreak;\n\tcase 4:",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": null,
          "new_api": ")(mbfl_hexchar_table[d], pc->decoder);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:",
          "old_text": null,
          "new_text": ")(mbfl_hexchar_table[d], pc->decoder);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[0], pc->decoder);",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": null,
          "new_api": "}\n\n\tpc->status = 0;\n\tpc->cache = 0;\n\tpc->digit =",
          "old_text": null,
          "new_text": "\t}\n\n\tpc->status = 0;\n\tpc->cache = 0;\n\tpc->digit =",
          "old_line_content": "\t\tif (f) {",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x3b, pc->decoder);\t\t/* ';' */",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": null,
          "new_api": "mbfl_convert_filter_reset(pd->conv1_",
          "old_text": null,
          "new_text": "\tmbfl_convert_filter_reset(pd->conv1_",
          "old_line_content": "\t\t\t} else if (c == 0x0d || c == 0x0a) {\t/* CR or LF */",
          "new_line_content": "\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": null,
          "new_api": "wchar);\n\t\t\t/* decode filter */\n\t\t\tmbfl_co",
          "old_text": null,
          "new_text": "wchar);\n\t\t\t/* decode filter */\n\t\t\tmbfl_co",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "(*filter1->filter_function)(*",
          "old_text": null,
          "new_text": "(*filter1->filter_function)(*",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\t(filter->filter_flush)(filter);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "der) < 0) {\n\t\t\t\t\t\tbreak;",
          "old_text": null,
          "new_text": "der) < 0) {\n\t\t\t\t\t\tbreak;",
          "old_line_content": "",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": null,
          "new_api": "else {\n\t\t\tif (c == 0x0d || c == 0x0a) {\t/* CR or LF */",
          "old_text": null,
          "new_text": " else {\n\t\t\tif (c == 0x0d || c == 0x0a) {\t/* CR or LF */\n",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t(*pd->conv1_filter->filter_function)(c, pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": null,
          "new_api": "ring *string,\n    mbfl_string *result,\n    int",
          "old_text": null,
          "new_text": "ring *string,\n    mbfl_string *result,\n    int",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "ilter_copy",
          "old_text": null,
          "new_text": "ilter_copy(pc.decoder_backup, pc.decoder);\n\t\t}\n\t\tmbfl_convert_filter_flush(pc.decoder);\n\t}\n\tresult = mbfl_memory_device_r",
          "old_line_content": "\t    mbfl_memory_device_output, 0, &pc.device);",
          "new_line_content": "\tpc.decoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "t);\n\tmbfl_convert_filter_delete(encoder);\n\tmbfl_convert_filter_delete(pc.decoder);\n\tmbfl_convert_filter_delete(pc.decoder",
          "old_text": null,
          "new_text": "t);\n\tmbfl_convert_filter_delete(encoder);\n\tmbfl_convert_filter_delete(pc.decoder);\n\tmbfl_convert_filter_delete(pc.decoder",
          "old_line_content": "\t    mbfl_memory_device_output, 0, &pc.device);",
          "new_line_content": "\tpc.decoder_backup = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": null,
          "new_api": "conv1_filter, &pd->tmpdev);\n\t\t}\n\t\tmbfl_memor",
          "old_text": null,
          "new_text": "conv1_filter, &pd->tmpdev);\n\t\t}\n\t\tmbfl_memor",
          "old_line_content": "\t\t\t\tpd->incode = encoding;",
          "new_line_content": "\t\t\tmbfl_memory_device_output('\\0', &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "pd->tmpdev);\n\t\tbreak;\n\tcase 5:\t\t/* encoded block */\n\t\tif (c ==",
          "old_text": null,
          "new_text": "pd->tmpdev);\n\t\tbreak;\n\tcase 5:\t\t/* encoded block */\n\t\tif (c == ",
          "old_line_content": "\t\t\t\tpd->status = 3;",
          "new_line_content": "\t\t\tencoding = mbfl_name2encoding((const char *)&pd->tmpdev.buffer[pd->cspos]);",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "l_string *\nmbfl_ja_jp_hantozen(\n    mbfl_string *string,\n    mbfl_string *result,\n    int mode)\n{\n\tsize_t n;",
          "old_text": null,
          "new_text": "l_string *\nmbfl_ja_jp_hantozen(\n    mbfl_string *string,\n    mbfl_string *result,\n    int mode)\n{\n\tsize_t n;\n",
          "old_line_content": "\t    collector_strimwidth, 0, &pc);",
          "new_line_content": "\tencoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "6:\t\t/* check end position */\n\t\tif (c == 0",
          "old_text": null,
          "new_text": "6:\t\t/* check end position */\n\t\tif (c == 0",
          "old_line_content": "\t\t\tif (pd->tmpdev.pos > 100) {\t\t/* too long charset string */",
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "NULL;\n\tmbfl_convert_filter *encoder",
          "old_text": null,
          "new_text": "NULL;\n\tmbfl_convert_filter *encoder",
          "old_line_content": "\t\treturn NULL;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": null,
          "new_api": "er */\n\tpc.decoder = mbfl_convert_filter_new(",
          "old_text": null,
          "new_text": "er */\n\tpc.decoder = mbfl_convert_filter_new(\n\t   ",
          "old_line_content": "\t\tcase 3: /* '0'-'9' */",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "ULL;\n\tmbfl_convert_filter *tl_filter =",
          "old_text": null,
          "new_text": "ULL;\n\tmbfl_convert_filter *tl_filter =",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pc.decoder);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "L;\n\tmbfl_convert_filter *next_filter = NULL;",
          "old_text": null,
          "new_text": "L;\n\tmbfl_convert_filter *next_filter = NULL;\n",
          "old_line_content": "\tmkwidth = 0;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pc.decoder_backup);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "/* flush and reset filter */\n\t\t\t(*pd->",
          "old_text": null,
          "new_text": "\t\t\t/* flush and reset filter */\n\t\t\t(*pd->",
          "old_line_content": "\t\t\t} else if (c == 0x0d || c == 0x0a) {\t/* CR or LF */",
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": null,
          "new_api": "ype == 0) { /* decimal output */\n\t\tencoder = mbfl",
          "old_text": null,
          "new_text": "ype == 0) { /* decimal output */\n\t\tencoder = mbfl",
          "old_line_content": "\t\t\ts = pc->cache;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": null,
          "new_api": "ew",
          "old_text": null,
          "new_text": "ew(\n\t\t    string->encoding,\n\t\t    &mbfl_encoding_",
          "old_line_content": "\t\t\tr = 1;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": null,
          "new_api": "ing_init",
          "old_text": null,
          "new_text": "ing_init(result);\n\n\tr",
          "old_line_content": "\tpc.width = width - mkwidth;",
          "new_line_content": "\t\tmkwidth = mbfl_strwidth(marker);",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "ter, &mbfl_encoding_ascii, &mbfl_enco",
          "old_text": null,
          "new_text": "ter, &mbfl_encoding_ascii, &mbfl_enco",
          "old_line_content": "\t\t\tif (pd->status != 2) {",
          "new_line_content": "\t\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "filter->filter_function)(0x3f, pd->deco_filter);\n\t\t\tif (c",
          "old_text": null,
          "new_text": "filter->filter_function)(0x3f, pd->deco_filter);\n\t\t\tif (c",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": null,
          "new_api": "3f) {\t\t/* ? */\n\t\t\t\t(*pd->deco_filter-",
          "old_text": null,
          "new_text": "3f) {\t\t/* ? */\n\t\t\t\t(*pd->deco_filter-",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "ng->mblen_tabl",
          "old_text": null,
          "new_text": "ng->mblen_tabl",
          "old_line_content": "\t\tw[n] = '\\0';",
          "new_line_content": "\t\tresult->val = w = (unsigned char*)emalloc(n + 1);",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": null,
          "new_api": "5;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 7:\t\t/* after e",
          "old_text": null,
          "new_text": "5;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 7:\t\t/* after e",
          "old_line_content": "\t\t\tpd->status = 4;",
          "new_line_content": "\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "signed char *start = NULL;\n\t\tcons",
          "old_text": null,
          "new_text": "signed char *start = NULL;\n\t\tcons",
          "old_line_content": "\t\tmbfl_memory_device device;",
          "new_line_content": "\t\tmemcpy(w, string->val + start, n);",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": null,
          "new_api": "mbfl_encoding_wchar,\n\t\t    collector_encode_hex_htmlnumericentity,",
          "old_text": null,
          "new_text": "mbfl_encoding_wchar,\n\t\t    collector_encode_hex_htmlnumericentity,",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "tl_filter = mbfl_convert_filter_new2(\n\t\t&",
          "old_text": null,
          "new_text": "tl_filter = mbfl_convert_filter_new2(\n\t\t&",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": null,
          "new_api": "&pd->tmpdev);\n\t\t\t\tmbfl_memory_device_",
          "old_text": null,
          "new_text": "&pd->tmpdev);\n\t\t\t\tmbfl_memory_device_",
          "old_line_content": "\t\t\t\tpd->status = 0;",
          "new_line_content": "\t\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "hex input */\n\t\tencoder = mbfl_convert_filter_new(",
          "old_text": null,
          "new_text": "hex input */\n\t\tencoder = mbfl_convert_filter_new(",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "coding,\n\t\t    &mbfl_encoding_wchar,\n\t\t    collect",
          "old_text": null,
          "new_text": "coding,\n\t\t    &mbfl_encoding_wchar,\n\t\t    collect",
          "old_line_content": "\t\tcase 5: /* '0'-'9','a'-'f' */",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "int",
          "old_text": null,
          "new_text": "int(*)(int, void*))next_filter->fi",
          "old_line_content": "\t\t\tif (n > 0) {",
          "new_line_content": "\t\tmbfl_convert_filter_flush(encoder);",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "ing->flag & MBFL_ENCTYPE_SBCS) {\n\t\tlen = string->len;\n\t} else if (encoding->flag & MBFL",
          "old_text": null,
          "new_text": "ing->flag & MBFL_ENCTYPE_SBCS) {\n\t\tlen = string->len;\n\t} else if (encoding->flag & MBFL",
          "old_line_content": "\t\tif (filter2 != NULL) {",
          "new_line_content": "\t\tfilter1 = mbfl_convert_filter_new(string->encoding, toenc, mbfl_memory_device_output, 0, &device);",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": null,
          "new_api": "tart + (length & -2);\n\t\t} else if (encoding->fl",
          "old_text": null,
          "new_text": "tart + (length & -2);\n\t\t} else if (encoding->fl",
          "old_line_content": "\t\t/* output code filter */",
          "new_line_content": "\t\tmbfl_memory_device_init(&device, length + 1, 0);",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "string->len/2;\n\t} else if (encoding->flag & MBFL_ENCTYPE_WCS4) {\n\t\tlen = string->len/4;\n\t}",
          "old_text": null,
          "new_text": " string->len/2;\n\t} else if (encoding->flag & MBFL_ENCTYPE_WCS4) {\n\t\tlen = string->len/4;\n\t}",
          "old_line_content": "\t\t\tif (filter1 == NULL) {",
          "new_line_content": "\t\tfilter2 = mbfl_convert_filter_new(&mbfl_encoding_wchar, toenc, mbfl_memory_device_output, 0, &device);",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": null,
          "new_api": "LL || encoder == NULL) {\n\t\tmbfl_convert_filter_de",
          "old_text": null,
          "new_text": "LL || encoder == NULL) {\n\t\tmbfl_convert_filter_de",
          "old_line_content": "",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": null,
          "new_api": "us = 0;\n\tpc.cache = 0;\n\tpc.digit = 0;\n\tpc.convmap",
          "old_text": null,
          "new_text": "us = 0;\n\tpc.cache = 0;\n\tpc.digit = 0;\n\tpc.convmap",
          "old_line_content": "\t\t\tr = 1;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "{\n\t\tconst unsigned char *mbtab = encoding->mblen_table;\n\t\tn = 0;\n\t\tp = string->val;\n\t\tk = string->len;\n\t\t/* count */\n\t\tif (p",
          "old_text": null,
          "new_text": " {\n\t\tconst unsigned char *mbtab = encoding->mblen_table;\n\t\tn = 0;\n\t\tp = string->val;\n\t\tk = string->len;\n\t\t/* count */\n\t\tif (p",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tfilter1 = mbfl_convert_filter_new(string->encoding, &mbfl_encoding_wchar, (int (*)(int, void*))filter2->filter_function, NULL, filter2);",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": null,
          "new_api": "mbfl_convert_filter_delete",
          "old_text": null,
          "new_text": "mbfl_convert_filter_delete(pc.decoder);\n\t\treturn ",
          "old_line_content": "\t\t\ts = pc->cache;",
          "new_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "unsigned m = mbtab[*p];\n\t\t\t\tn +=",
          "old_text": null,
          "new_text": "\t\t\tunsigned m = mbtab[*p];\n\t\t\t\tn +=",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_delete(filter2);",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend   = start + (length & -4);\n\t\t} else if ((encoding->flag & MBFL_ENCTYPE_",
          "old_text": null,
          "new_text": "from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend   = start + (length & -4);\n\t\t} else if ((encoding->flag & MBFL_ENCTYPE_",
          "old_line_content": "\t\t    mbfl_memory_device_output, 0, &device);",
          "new_line_content": "\t\tdecoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "out;\n\t}\n\n\ttl_filter->opaque = (void*)((in",
          "old_text": null,
          "new_text": "out;\n\t}\n\n\ttl_filter->opaque = (void*)((in",
          "old_line_content": "\t\t\t\t\tn--;",
          "new_line_content": "\t\t\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": null,
          "new_api": "en - from) {\n\t\t\t\tlength = string->len - from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend = start + length;",
          "old_text": null,
          "new_text": "en - from) {\n\t\t\t\tlength = string->len - from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend = start + length;\n",
          "old_line_content": "\t\t    collector_substr, 0, &pc);",
          "new_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "r = mbfl_convert_filter_new(\n\t\tstr",
          "old_text": null,
          "new_text": "r = mbfl_convert_filter_new(\n\t\tstr",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_flush(encoder);",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "filter->filter_function)(0x20, pd->conv1_filter);\n\t\t\t\t}\n\t\t\t\tmbfl_memory_devic",
          "old_text": null,
          "new_text": "filter->filter_function)(0x20, pd->conv1_filter);\n\t\t\t\t}\n\t\t\t\tmbfl_memory_devic",
          "old_line_content": "\t\t\tpd->status = 5;",
          "new_line_content": "\t\t\tmbfl_convert_filter_reset(pd->conv1_filter, pd->incode, &mbfl_encoding_wchar);",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "pd->status = 1;\n\t\t\t} else {\n\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev",
          "old_text": null,
          "new_text": "\t\tpd->status = 1;\n\t\t\t} else {\n\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev",
          "old_line_content": "\t\t\tif (c == 0x0d || c == 0x0a) {\t/* CR or LF */",
          "new_line_content": "\t\t\tmbfl_convert_filter_reset(pd->deco_filter, pd->encoding, &mbfl_encoding_8bit);",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": null,
          "new_api": "const unsigned char *mbtab = encodi",
          "old_text": null,
          "new_text": "const unsigned char *mbtab = encodi",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "blen_table;\n\t\t\tconst unsigned char",
          "old_text": null,
          "new_text": "blen_table;\n\t\t\tconst unsigned char ",
          "old_line_content": "\t\tpc.next_filter = decoder;",
          "new_line_content": "\t\t\tmbfl_convert_filter_delete(decoder);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "_filter);\n\tif (encoder == NULL) {\n\t\tgoto out;\n\t}\n\n\t/* f",
          "old_text": null,
          "new_text": "_filter);\n\tif (encoder == NULL) {\n\t\tgoto out;\n\t}\n\n\t/* f",
          "old_line_content": "\t\t\t\tn = marker->len;",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_copy(pc.decoder_backup, pc.decoder);",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "ta */\n\tp = string->val;\n\tn = string->len;\n\tif (p != NULL) {\n\t\twhile (n > 0",
          "old_text": null,
          "new_text": "ta */\n\tp = string->val;\n\tn = string->len;\n\tif (p != NULL) {\n\t\twhile (n > 0",
          "old_line_content": "\t\t\t\twhile (n > 0) {",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_reset(encoder, marker->encoding, &mbfl_encoding_wchar);",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": null,
          "new_api": "0, &len);\n\t\tif (filter == NULL) {\n\t\t\treturn (size_t) -1;\n\t\t}\n\t\t/* cou",
          "old_text": null,
          "new_text": "0, &len);\n\t\tif (filter == NULL) {\n\t\t\treturn (size_t) -1;\n\t\t}\n\t\t/* cou",
          "old_line_content": "\tn = string->len;",
          "new_line_content": "\tmbfl_memory_device_init(&device, string->len, (string->len >> 2) + 8);",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": null,
          "new_api": ";\n\t\t\t}\n\t\t\tn--;\n\t\t}\n\t}\n\tmbfl_convert_filter_flush(encoder);\n\tmbfl_c",
          "old_text": null,
          "new_text": ";\n\t\t\t}\n\t\t\tn--;\n\t\t}\n\t}\n\tmbfl_convert_filter_flush(encoder);\n\tmbfl_c",
          "old_line_content": "\t\tdefault:",
          "new_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "}\n\t\t\tn--;\n\t\t}\n\t}\n\n\tmbfl_convert_filter_f",
          "old_text": null,
          "new_text": "\t}\n\t\t\tn--;\n\t\t}\n\t}\n\n\tmbfl_convert_filter_f",
          "old_line_content": "\t\t\t\t\tn--;",
          "new_line_content": "\t\t\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": null,
          "new_api": ">conv1_filter, &pd->tmpdev);\n\t\t\t\tmbfl",
          "old_text": null,
          "new_text": ">conv1_filter, &pd->tmpdev);\n\t\t\t\tmbfl",
          "old_line_content": "\t\t\t\tpd->status = 0;",
          "new_line_content": "\t\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": null,
          "new_api": "}\n\t\tbreak;\n\tdefault:\t\t/* non encoded block */\n\t\tif (c ==",
          "old_text": null,
          "new_text": "}\n\t\tbreak;\n\tdefault:\t\t/* non encoded block */\n\t\tif (c == ",
          "old_line_content": "\t\tbreak;",
          "new_line_content": "\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "c == 0x0a) {\t/* CR LF */\n\t\t\tpd->statu",
          "old_text": null,
          "new_text": "c == 0x0a) {\t/* CR LF */\n\t\t\tpd->statu",
          "old_line_content": "\t\tif (c == 0x3f) {\t\t/* ? */",
          "new_line_content": "\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "er_function)(*p++, filter);\n\t\t\t\tn--;\n\t\t\t}",
          "old_text": null,
          "new_text": "er_function)(*p++, filter);\n\t\t\t\tn--;\n\t\t\t}",
          "old_line_content": "\t\t\tn--;",
          "new_line_content": "\t\t\tif ((*filter1->filter_function)(*p++, filter1) < 0) {",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "lt",
          "old_text": null,
          "new_text": "lt(&device, result);\nout:\n\tif (tl_",
          "old_line_content": "\t\t\tpc.device.pos = pc.endpos;",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_flush(encoder);",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": null,
          "new_api": "1;\n\t\t} else {\n\t\t\t(*pd->conv1_filter->filter_function)",
          "old_text": null,
          "new_text": " 1;\n\t\t} else {\n\t\t\t(*pd->conv1_filter->filter_function)",
          "old_line_content": "\tcase 6:\t\t/* check end position */",
          "new_line_content": "\t\t\t(*pd->deco_filter->filter_function)(c, pd->deco_filter);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "length >= string->len - (start - string->",
          "old_text": null,
          "new_text": "length >= string->len - (start - string->",
          "old_line_content": "\t\t\t\tn--;",
          "new_line_content": "\t\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "oder != NULL) {\n\t\tmbfl_convert_filter_delete(decoder);",
          "old_text": null,
          "new_text": "oder != NULL) {\n\t\tmbfl_convert_filter_delete(decoder);\n",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tmbfl_convert_filter_copy(pc.decoder_backup, pc.decoder);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "decoder_data *pd, mbfl_string *result)\n{\n\tswitch",
          "old_text": null,
          "new_text": "decoder_data *pd, mbfl_string *result)\n{\n\tswitch",
          "old_line_content": "\t\t\tpd->status = 7;",
          "new_line_content": "\t\t\t(*pd->deco_filter->filter_flush)(pd->deco_filter);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "r encode\n */\nstruct mime_header_enc",
          "old_text": null,
          "new_text": "r encode\n */\nstruct mime_header_enc",
          "old_line_content": "",
          "new_line_content": "\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "ilter;\n\tmbfl_wchar_device needle;",
          "old_text": null,
          "new_text": "ilter;\n\tmbfl_wchar_device needle;\n",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_convert_filter_flush(filter2);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "r_data {\n\tmbfl_convert_filter *conv1_f",
          "old_text": null,
          "new_text": "r_data {\n\tmbfl_convert_filter *conv1_f",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tmbfl_convert_filter_delete(pc.decoder);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "p -= m;\n\t\t\t\t}\n\t\t\t\tend = p;\n\t\t\t}\n\t\t} els",
          "old_text": null,
          "new_text": "\t\t\tp -= m;\n\t\t\t\t}\n\t\t\t\tend = p;\n\t\t\t}\n\t\t} els",
          "old_line_content": "\t}",
          "new_line_content": "\t\tresult = mbfl_memory_device_result(&device, result);",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "/* never reached */\n\t\t\treturn NU",
          "old_text": null,
          "new_text": "\t\t\t/* never reached */\n\t\t\treturn NU",
          "old_line_content": "",
          "new_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "ize_t found_pos;\n\tsize_t needle_pos;\n\tsize",
          "old_text": null,
          "new_text": "ize_t found_pos;\n\tsize_t needle_pos;\n\tsize",
          "old_line_content": "/*",
          "new_line_content": "\treturn mbfl_memory_device_result(&device, result);",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "}\n\n\t\t/* allocate memory and copy",
          "old_text": null,
          "new_text": "\t\t}\n\n\t\t/* allocate memory and copy ",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(decoder);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "er;\n\tmbfl_convert_filter *block_filter;\n\tmbfl",
          "old_text": null,
          "new_text": "er;\n\tmbfl_convert_filter *block_filter;\n\tmbfl",
          "old_line_content": "}",
          "new_line_content": "\tmbfl_convert_filter_delete(pc.decoder_backup);",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "status) {\n\tcase 1:\n\tcase 2:\n\tcase 3:\n\tcase 4:\n\tcas",
          "old_text": null,
          "new_text": "status) {\n\tcase 1:\n\tcase 2:\n\tcase 3:\n\tcase 4:\n\tcas",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t(*pd->conv1_filter->filter_flush)(pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "er->filter_flush)(pd->deco_filter);\n\t\t(*pd->conv1_filter-",
          "old_text": null,
          "new_text": "er->filter_flush)(pd->deco_filter);\n\t\t(*pd->conv1_filter-",
          "old_line_content": "\t\t\t\tpd->status = 5;",
          "new_line_content": "\t\t\t(*pd->deco_filter->filter_function)(0x3f, pd->deco_filter);",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "break;\n\t}\n\t(*pd->conv2_filter->filter_flush)(pd->conv2",
          "old_text": null,
          "new_text": "break;\n\t}\n\t(*pd->conv2_filter->filter_flush)(pd->conv2",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t(*pd->deco_filter->filter_function)(c, pd->deco_filter);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "_data*\nmime_header_decoder_new(const mbfl",
          "old_text": null,
          "new_text": "_data*\nmime_header_decoder_new(const mbfl",
          "old_line_content": "\t\t\t} else if (c != 0x20 && c != 0x09) {\t\t/* not space */",
          "new_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "os == 0) {\n\t\t\t\tpc->found_pos = pc->output;",
          "old_text": null,
          "new_text": "os == 0) {\n\t\t\t\tpc->found_pos = pc->output;\t",
          "old_line_content": "\treturn enc;",
          "new_line_content": "\tmbfl_encoding_detector_feed(identd, string);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "pc->needle_pos++;\t\t\t\t\t\t/* needle po",
          "old_text": null,
          "new_text": "\tpc->needle_pos++;\t\t\t\t\t\t/* needle po",
          "old_line_content": "}",
          "new_line_content": "\tconst mbfl_encoding *enc = mbfl_encoding_detector_judge(identd);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "er */\n\t\t\tif (pc->needle_pos >= pc->ne",
          "old_text": null,
          "new_text": "er */\n\t\t\tif (pc->needle_pos >= pc->ne",
          "old_line_content": "",
          "new_line_content": "\tmbfl_encoding_detector_delete(identd);",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": null,
          "new_api": "];\n\tchar lwsp[16];\n};\n\nstatic int\nmime_header_en",
          "old_text": null,
          "new_text": "];\n\tchar lwsp[16];\n};\n\nstatic int\nmime_header_en",
          "old_line_content": "\tresult->encoding = string->encoding;",
          "new_line_content": "\tmbfl_memory_device_init(&device, string->len, 0);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\t    mbfl_memory_device_output, 0, &device);",
          "new_line_content": "\tpc.decoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "er_block_collector",
          "old_text": null,
          "new_text": "er_block_collector(int c",
          "old_line_content": "",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": null,
          "new_api": "mbfl_memory_device_init(&pd->outdev, 0, 0);\n\tmbfl_memory",
          "old_text": null,
          "new_text": "\tmbfl_memory_device_init(&pd->outdev, 0, 0);\n\tmbfl_memory",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": null,
          "new_api": "e_init",
          "old_text": null,
          "new_text": "e_init(&pd->tmpdev, 0, 0);\n\tpd->cspos",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "r_data *pe = (struct mime_header_encoder_data *)data;\n\n\tswitch (pe->status2) {\n\tcase 1:\t/* encoded word */",
          "old_text": null,
          "new_text": "r_data *pe = (struct mime_header_encoder_data *)data;\n\n\tswitch (pe->status2) {\n\tcase 1:\t/* encoded word */\n\t\t",
          "old_line_content": "\t\tmbfl_memory_device_output, 0, &device);",
          "new_line_content": "\tdecoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 2527,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\t\t    collector_encode_htmlnumericentity, 0, &pc);",
          "new_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "decoder     = NULL;\n\t\tco",
          "old_text": null,
          "new_text": "decoder     = NULL;\n\t\tco",
          "old_line_content": "\tif ((encoding->flag & (MBFL_ENCTYPE_SBCS | MBFL_ENCTYPE_WCS2 | MBFL_ENCTYPE_WCS4)) || encoding->mblen_table != NULL) {",
          "new_line_content": "\tmbfl_string_init(result);",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": null,
          "new_api": "g_wchar, pd->outcode, mbfl_memory_device_out",
          "old_text": null,
          "new_text": "g_wchar, pd->outcode, mbfl_memory_device_out",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev);\t/* SPACE */",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "filter = mbfl_convert_filter_new(pd->incode, &mbfl_encoding",
          "old_text": null,
          "new_text": "filter = mbfl_convert_filter_new(pd->incode, &mbfl_encoding",
          "old_line_content": "\t\t\t\tpd->status = 1;",
          "new_line_content": "\t\t\t\t\t(*pd->conv1_filter->filter_function)(0x20, pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\t\t    collector_encode_hex_htmlnumericentity, 0, &pc);",
          "new_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": null,
          "new_api": "conv2_filter_backup);\n\t\tmbfl_convert_filter_copy(pe->encod_filter, pe->encod_filter_backup);\n\t\t(*pe->conv2_filter->filter_function)(c, pe->conv2_filter);\n\t\t(*pe->conv2_f",
          "old_text": null,
          "new_text": "conv2_filter_backup);\n\t\tmbfl_convert_filter_copy(pe->encod_filter, pe->encod_filter_backup);\n\t\t(*pe->conv2_filter->filter_function)(c, pe->conv2_filter);\n\t\t(*pe->conv2_f",
          "old_line_content": "\t\t(flush_function_t)next_filter->filter_flush,",
          "new_line_content": "\ttl_filter = mbfl_convert_filter_new2(",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\t\t    collector_decode_htmlnumericentity,",
          "new_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": null,
          "new_api": "coding_8bit, mbfl_filter_output_pipe, 0,",
          "old_text": null,
          "new_text": "coding_8bit, mbfl_filter_output_pipe, 0, ",
          "old_line_content": "\t\t\t\tpd->status = 0;",
          "new_line_content": "\t\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": null,
          "new_api": "nv1_filter);\n\n\tif (pd->conv1_filter == NULL || pd->conv2_",
          "old_text": null,
          "new_text": "nv1_filter);\n\n\tif (pd->conv1_filter == NULL || pd->conv2_",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "== NULL || pd->deco_filter == NULL)",
          "old_text": null,
          "new_text": " == NULL || pd->deco_filter == NULL) ",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\tpc.status = 0;",
          "new_line_content": "\t\tmbfl_convert_filter_delete(pc.decoder);",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": null,
          "new_api": "ad + pe->firstindent;\n\t\tpe->outdev.pos = pe->prevpos;\n\t\tmbfl_convert_filter_copy(pe->conv2_filter_backup, pe->conv2_filter);\n\t\tmbfl_convert_filter_copy(pe->encod_filter_backup, pe->e",
          "old_text": null,
          "new_text": "ad + pe->firstindent;\n\t\tpe->outdev.pos = pe->prevpos;\n\t\tmbfl_convert_filter_copy(pe->conv2_filter_backup, pe->conv2_filter);\n\t\tmbfl_convert_filter_copy(pe->encod_filter_backup, pe->e",
          "old_line_content": "\t\t(int(*)(int, void*))next_filter->filter_function,",
          "new_line_content": "\tencoder = mbfl_convert_filter_new(",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": null,
          "new_api": "l_convert_filter_delete",
          "old_text": null,
          "new_text": "l_convert_filter_delete(pd->deco_filter);\n\t\tmbfl_memory_",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t(*pd->conv1_filter->filter_function)(c, pd->conv1_filter);",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "",
          "old_line_content": "\t\t\tn--;",
          "new_line_content": "\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2562,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_flush(encoder);",
          "new_line_content": "\t\t\tn--;",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_flush(pc.decoder);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\tresult = mbfl_memory_device_result(&device, result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": "mory_device_strncat",
          "new_api": null,
          "old_text": "mory_device_strncat(&pe->outdev, p",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_flush(encoder);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": ">lwsplen);\n\t\t\tpe->linehead = pe->outdev.po",
          "new_api": null,
          "old_text": ">lwsplen);\n\t\t\tpe->linehead = pe->outdev.po",
          "new_text": null,
          "old_line_content": "\tresult = mbfl_memory_device_result(&device, result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "ze_t n;\n\tunsigned char *p;\n\tstruct mime_header_decoder_da",
          "new_api": null,
          "old_text": "ze_t n;\n\tunsigned char *p;\n\tstruct mime_header_decoder_da",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\tcase 7:",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": "t);\n\tresult->encoding = outcode;\n\n\tpd = mime_hea",
          "new_api": null,
          "old_text": "t);\n\tresult->encoding = outcode;\n\n\tpd = mime_hea",
          "new_text": null,
          "old_line_content": "\t\t(*pd->deco_filter->filter_flush)(pd->deco_filter);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": "ecoder_new",
          "new_api": null,
          "old_text": "ecoder_new(outcode);\n\tif (pd == NULL) {\n\t\treturn N",
          "new_text": null,
          "old_line_content": "\t\t(*pd->conv1_filter->filter_flush)(pd->conv1_filter);",
          "new_line_content": "\tcase 5:",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "f (pos >= end) {\n\t\t\t\treturn NULL;\n\t\t\t}",
          "new_api": null,
          "old_text": "f (pos >= end) {\n\t\t\t\treturn NULL;\n\t\t\t}\n",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*filter->filter_function)(*p++, filter);",
          "new_line_content": "\t\tp = string->val;",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "= (*pe->conv2_filter->filter_funct",
          "new_api": null,
          "old_text": " = (*pe->conv2_filter->filter_funct",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(decoder);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": ";\n\t\t}\n\t\treturn pos;\n\t}\n}\n\nstatic s",
          "new_api": null,
          "old_text": ";\n\t\t}\n\t\treturn pos;\n\t}\n}\n\nstatic s",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(filter);",
          "new_line_content": "\t\t\t\tn--;",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "(n > 0) {\n\t\tmime_header_decoder_colle",
          "new_api": null,
          "old_text": "(n > 0) {\n\t\tmime_header_decoder_colle",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "lse {\n\t\t\tc = (*pe->conv2_filter->fi",
          "new_api": null,
          "old_text": "lse {\n\t\t\tc = (*pe->conv2_filter->fi",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "ata {\n\tmbfl_convert_filter *decoder;\n\tint status",
          "new_api": null,
          "old_text": "ata {\n\tmbfl_convert_filter *decoder;\n\tint status",
          "new_text": null,
          "old_line_content": "\tstruct mime_header_decoder_data *pd = emalloc(sizeof(struct mime_header_decoder_data));",
          "new_line_content": "struct mime_header_decoder_data*",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": "nt cache;\n\tint digit;\n\tint *convmap;\n\tint",
          "new_api": null,
          "old_text": "nt cache;\n\tint digit;\n\tint *convmap;\n\tint ",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&pd->outdev, 0, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "s the length,\n\t\t\t * then restore the s",
          "new_api": null,
          "old_text": "s the length,\n\t\t\t * then restore the s",
          "new_text": null,
          "old_line_content": "\t\tw = ecalloc(sz + 8, sizeof(unsigned char));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "*/\n\t\t\tif (device.pos",
          "new_api": null,
          "old_text": "*/\n\t\t\tif (device.pos",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(w, start, sz);",
          "new_line_content": "\t\tsz = end - start;",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "size;\n\tf = 0;\n\tn = 0;\n\twhile (n < size) {\n\t\tmapelm = &(pc->convmap[n*4]);\n\t\tif (c >= mapelm[0] && c <",
          "new_api": null,
          "old_text": "size;\n\tf = 0;\n\tn = 0;\n\twhile (n < size) {\n\t\tmapelm = &(pc->convmap[n*4]);\n\t\tif (c >= mapelm[0] && c <",
          "new_text": null,
          "old_line_content": "\tpd->conv2_filter = mbfl_convert_filter_new(&mbfl_encoding_wchar, pd->outcode, mbfl_memory_device_output, 0, &pd->outdev);",
          "new_line_content": "\tpd->incode = &mbfl_encoding_ascii;",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "(c + mapelm[2]) & mapelm[3];\n\t\t\tif (s >= 0) {\n\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/",
          "new_api": null,
          "old_text": "(c + mapelm[2]) & mapelm[3];\n\t\t\tif (s >= 0) {\n\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/",
          "new_text": null,
          "old_line_content": "\tpd->conv1_filter = mbfl_convert_filter_new(pd->incode, &mbfl_encoding_wchar, mbfl_filter_output_pipe, 0, pd->conv2_filter);",
          "new_line_content": "\tpd->outcode = outcode;",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": "}\n\t\t\t\t(*pc->decoder->filter_function)(0x3",
          "new_api": null,
          "old_text": "\t\t\t}\n\t\t\t\t(*pc->decoder->filter_function)(0x3",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pd->conv2_filter);",
          "new_line_content": "mime_header_decoder_delete(struct mime_header_decoder_data *pd)",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "c->decoder);\t\t/* ';' */\n\t\t\t}\n\t\t}\n\t\tif (f) {",
          "new_api": null,
          "old_text": "c->decoder);\t\t/* ';' */\n\t\t\t}\n\t\t}\n\t\tif (f) {\n",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pd->conv1_filter);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "reak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {\n\t\t(*pc->deco",
          "new_api": null,
          "old_text": "reak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {\n\t\t(*pc->deco",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pd->deco_filter);",
          "new_line_content": "\tif (pd) {",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "r);\n\t\t\t\tmbfl_convert_filter_copy(encoder, &bk.encoder);\n\t\t\t\tbk.p = p;\n\t\t\t\tbk.pos = device.pos;\n\n\t\t\t\t/* flush the st",
          "new_api": null,
          "old_text": "r);\n\t\t\t\tmbfl_convert_filter_copy(encoder, &bk.encoder);\n\t\t\t\tbk.p = p;\n\t\t\t\tbk.pos = device.pos;\n\n\t\t\t\t/* flush the st",
          "new_text": null,
          "old_line_content": "\t\tif (!(decoder = mbfl_convert_filter_new(",
          "new_line_content": "\t\t} bk, _bk;",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, /* 0x70 */\n\t\t1, 1, 1, 1, 1, 1,",
          "new_api": null,
          "old_text": "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, /* 0x70 */\n\t\t1, 1, 1, 1, 1, 1, ",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_copy(pe->conv2_filter, pe->conv2_filter_backup);",
          "new_line_content": "\tswitch (pe->status2) {",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": ", 1, 1, 1, 1, 1, 1, 1, 1, /* 0x80 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "new_api": null,
          "old_text": ", 1, 1, 1, 1, 1, 1, 1, 1, /* 0x80 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_copy(pe->encod_filter, pe->encod_filter_backup);",
          "new_line_content": "\tcase 1:\t/* encoded word */",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "1, 1, 1, 1, 1, /* 0x90 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "new_api": null,
          "old_text": "1, 1, 1, 1, 1, /* 0x90 */\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1",
          "new_text": null,
          "old_line_content": "\t\t(*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "new_line_content": "\t\tpe->prevpos = pe->outdev.pos;",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "set of the resulting string exceeds the length,\n\t\t\t\t * then restore the state */\n\t\t\t\tif (device.pos > length) {",
          "new_api": null,
          "old_text": "set of the resulting string exceeds the length,\n\t\t\t\t * then restore the state */\n\t\t\t\tif (device.pos > length) {\n\t\t\t\t\t",
          "new_text": null,
          "old_line_content": "\t\tif (!(encoder = mbfl_convert_filter_new(",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "*/\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1  /* 0xF0 */\n\t};",
          "new_api": null,
          "old_text": "*/\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1  /* 0xF0 */\n\t};",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_copy(pe->encod_filter_backup, pe->encod_filter);",
          "new_line_content": "\t\tn = pe->outdev.pos - pe->linehead + pe->firstindent;",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "ecoder.filter_dtor)\n\t\t\t\t\t\tbk.decode",
          "new_api": null,
          "old_text": "ecoder.filter_dtor)\n\t\t\t\t\t\tbk.decode",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_delete(decoder);",
          "new_line_content": "\t\t\t\t&mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "oded word */\n\t\t(*pe->block_filter->filter_function)(c,",
          "new_api": null,
          "old_text": "oded word */\n\t\t(*pe->block_filter->filter_function)(c,",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_strncat(&pe->outdev, \"\\x3f\\x3d\", 2);\t/* ?= */",
          "new_line_content": "\t\tif (n >= 74) {",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": ");\n\t\t\t\t\tif (bk.encoder.filter_dtor)\n\t\t\t\t\t\tbk.en",
          "new_api": null,
          "old_text": ");\n\t\t\t\t\tif (bk.encoder.filter_dtor)\n\t\t\t\t\t\tbk.en",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_init(&device, length + 8, 0);",
          "new_line_content": "\t\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "{\t/* '#' */\n\t\t\tpc->statu",
          "new_api": null,
          "old_text": "{\t/* '#' */\n\t\t\tpc->statu",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\tunsigned char *p;",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "0 && c == 0x20) {\t/* repeat SPACE */\n\t\t\tmbfl_memory_dev",
          "new_api": null,
          "old_text": " 0 && c == 0x20) {\t/* repeat SPACE */\n\t\t\tmbfl_memory_dev",
          "new_text": null,
          "old_line_content": "\t\t\tc = (*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "new_line_content": "\t\t\tpe->linehead = pe->outdev.pos;",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "filter_dtor",
          "new_api": null,
          "old_text": "tor)\n\t\t\t\t\t\tdecoder->filter_dtor(decoder",
          "new_text": null,
          "old_line_content": "\t\t\t(*encoder->filter_function)(*p, encoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": "- pe->linehead + pe->tmpdev.pos + pe->firstindent;\n\t\t\t\tif (n > 74) {",
          "new_api": null,
          "old_text": "- pe->linehead + pe->tmpdev.pos + pe->firstindent;\n\t\t\t\tif (n > 74) {",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&pe->outdev, pe->encname, pe->encnamelen);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "l_memory_device_strncat",
          "new_api": null,
          "old_text": "l_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwspl",
          "new_text": null,
          "old_line_content": "\t\tc = (*pe->conv2_filter->filter_function)(c, pe->conv2_filter);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "(c == 0x78) {\t/* 'x' */\n\t\t\tpc->status =",
          "new_api": null,
          "old_text": "(c == 0x78) {\t/* 'x' */\n\t\t\tpc->status =",
          "new_text": null,
          "old_line_content": "\t\tmime_header_decoder_collector(*p++, pd);",
          "new_line_content": "\tn = string->len;",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "e 8:\t\t/* folding */\n\tcase 9:\t\t/* folding */\n\t\tif (c != 0x",
          "new_api": null,
          "old_text": "e 8:\t\t/* folding */\n\tcase 9:\t\t/* folding */\n\t\tif (c != 0x",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": "x30 && c <= 0x39) { /* '0' - '9' */",
          "new_api": null,
          "old_text": "x30 && c <= 0x39) { /* '0' - '9' */\n\t\t",
          "new_text": null,
          "old_line_content": "\tresult = mime_header_decoder_result(pd, result);",
          "new_line_content": "\t\tn--;",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "->cache = c - 0x30;\n\t\t\tpc->sta",
          "new_api": null,
          "old_text": "->cache = c - 0x30;\n\t\t\tpc->sta",
          "new_text": null,
          "old_line_content": "\tmime_header_decoder_delete(pd);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "filter_dtor",
          "new_api": null,
          "old_text": "r.filter_dtor)\n\t\t\t\t\t\t_bk.encoder.filter_dtor(&_",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_copy(decoder, &_bk.decoder);",
          "new_line_content": "\t\tq = string->val + string->len;",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "ncoder);\n\n\t\t\t\t\tp = bk.p;\n\t\t\t\t\tdevice.pos = bk.p",
          "new_api": null,
          "old_text": "ncoder);\n\n\t\t\t\t\tp = bk.p;\n\t\t\t\t\tdevice.pos = bk.p",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_copy(encoder, &_bk.encoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": "c != 0x0a && c != 0x20 && c != 0x09)",
          "new_api": null,
          "old_text": " c != 0x0a && c != 0x20 && c != 0x09)",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\t\t\tpd->status = 0;",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "k;\n\t\t}\n\n\t\t/* detect end position */\n\t\tw",
          "new_api": null,
          "old_text": "k;\n\t\t}\n\n\t\t/* detect end position */\n\t\tw",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*encoder->filter_function)(*p, encoder);",
          "new_line_content": "\t\t\t/* output a little shorter than \"length\" */",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "(decoder);\n\t\t\t\tif (encoder->f",
          "new_api": null,
          "old_text": "(decoder);\n\t\t\t\tif (encoder->f",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "new_line_content": "\t\t\t\tp = _bk.p;",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "(encoder);\n\t\t\t\tmbfl_convert_f",
          "new_api": null,
          "old_text": "(encoder);\n\t\t\t\tmbfl_convert_f",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tencoder->filter_dtor(encoder);",
          "new_line_content": "\t\t\t\tif (decoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "opy",
          "new_api": null,
          "old_text": "opy(&bk.encoder, encoder);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(&_bk.encoder, encoder);",
          "new_line_content": "\t\t\t\tif (encoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "+ pe->tmpdev.pos) > 74) {\n\t\t\t\tmbfl_memory_device_strncat",
          "new_api": null,
          "old_text": "+ pe->tmpdev.pos) > 74) {\n\t\t\t\tmbfl_memory_device_strncat",
          "new_text": null,
          "old_line_content": "\t\t(*pe->block_filter->filter_function)(c, pe->block_filter);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "mbfl_convert_filter_copy(encoder, &_bk.encode",
          "new_api": null,
          "old_text": "\tmbfl_convert_filter_copy(encoder, &_bk.encode",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(decoder, &bk.decoder);",
          "new_line_content": "\t\t\t\tbk = _bk;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "_bk.pos = device.pos;\n\t\t\t_bk.p = p;\n\n\t\t\t(*enc",
          "new_api": null,
          "old_text": "\t_bk.pos = device.pos;\n\t\t\t_bk.p = p;\n\n\t\t\t(*enc",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(encoder, &bk.encoder);",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": "while (n < size) {\n\t\t\t\tmapelm = &(pc->convmap[n*4",
          "new_api": null,
          "old_text": "while (n < size) {\n\t\t\t\tmapelm = &(pc->convmap[n*4",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/* '&' */",
          "new_line_content": "\t\tif (c >= mapelm[0] && c <= mapelm[1]) {",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "apelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mapelm[1",
          "new_api": null,
          "old_text": "apelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mapelm[1",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t/* '#' */",
          "new_line_content": "\t\t\ts = (c + mapelm[2]) & mapelm[3];",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "ecoder.filter_dtor)\n\t\t\t\t\t_bk.dec",
          "new_api": null,
          "old_text": "ecoder.filter_dtor)\n\t\t\t\t\t_bk.dec",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*encoder->filter_flush)(encoder);",
          "new_line_content": "\t\t\t\tbk.pos = device.pos;",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "mbfl_memory_device_devcat(&pe->outdev,",
          "new_api": null,
          "old_text": "\t\tmbfl_memory_device_devcat(&pe->outdev, ",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_output(c, &pe->tmpdev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "s;\n\t\t\t\tif (decoder->filter_dtor)",
          "new_api": null,
          "old_text": "s;\n\t\t\t\tif (decoder->filter_dtor)\n\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tbk.decoder.filter_dtor(&bk.decoder);",
          "new_line_content": "\t\t\t\t * then restore the state */",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tn++;\n\t\t\t}",
          "new_api": null,
          "old_text": "_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tn++;\n\t\t\t}",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "new_line_content": "\t\t\t\t\tif (d || f) {",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "(encoder->filter_dtor)\n\t\t\t\t\tencoder",
          "new_api": null,
          "old_text": "(encoder->filter_dtor)\n\t\t\t\t\tencoder",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "new_line_content": "\t\t\t\t\tif (bk.decoder.filter_dtor)",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": "const mbfl_encoding *outcode,\n    const mbfl_encoding *transe",
          "new_api": null,
          "old_text": " const mbfl_encoding *outcode,\n    const mbfl_encoding *transe",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);\t\t/* LWSP */",
          "new_line_content": "\t\t\tif (pe->tmpdev.pos < 74 && c == 0x20) {",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "name */\n\tif (outcode->mime_name == NULL ||",
          "new_api": null,
          "old_text": " name */\n\tif (outcode->mime_name == NULL || ",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_memory_device_output(0x20, &pe->outdev);",
          "new_line_content": "\t\t\t\t\tpe->linehead = pe->outdev.pos;",
          "content_same": false
        },
        {
          "line": 1671,
          "old_api": "e_name[0] == '\\0') {\n\t\treturn NULL;\n\t}\n\n\tpe = emall",
          "new_api": null,
          "old_text": "e_name[0] == '\\0') {\n\t\treturn NULL;\n\t}\n\n\tpe = emall",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_devcat(&pe->outdev, &pe->tmpdev);",
          "new_line_content": "\t\t\t\t} else if (pe->outdev.pos > 0) {",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": "decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder->filter_function)(0x23, pc->",
          "new_api": null,
          "old_text": "decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder->filter_function)(0x23, pc->",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[0], pc->decoder);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "l_convert_filter_copy",
          "new_api": null,
          "old_text": "l_convert_filter_copy(&bk.enc",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "new_line_content": "\t\t\t\t\tp = _bk.p;",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "'#' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twhile (n >",
          "new_api": null,
          "old_text": " '#' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twhile (n >",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x3b, pc->decoder);\t\t/* ';' */",
          "new_line_content": "\t\t\t\t\tf = 1;",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "(bk.decoder.filter_dtor)",
          "new_api": null,
          "old_text": "(bk.decoder.filter_dtor)\n\t\t\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tencoder->filter_dtor(encoder);",
          "new_line_content": "\t\t\t\t\tif (decoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "filter_dtor",
          "new_api": null,
          "old_text": "_dtor)\n\t\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&_bk.encoder, encoder);",
          "new_line_content": "\t\t\t\t\tif (encoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": ");\n\t}\n\tif (needle_u8 == &_needl",
          "new_api": null,
          "old_text": ");\n\t}\n\tif (needle_u8 == &_needl",
          "new_text": null,
          "old_line_content": "\t\tmbfl_string_init(&_haystack_u8);",
          "new_line_content": "\tconst unsigned char *offset_pointer;",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "ing_clear",
          "new_api": null,
          "old_text": "ing_clear(&_needle_u8);\n\t}\n\treturn result;\n}\n\n/*\n *  substr_count\n ",
          "new_text": null,
          "old_line_content": "\t\thaystack_u8 = mbfl_convert_encoding(haystack, &_haystack_u8, &mbfl_encoding_utf8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": ">firstindent = 0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;\n\n\t/* mak",
          "new_api": null,
          "old_text": ">firstindent = 0;\n\tpe->status1 = 0;\n\tpe->status2 = 0;\n\n\t/* mak",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);\t\t/* LWSP */",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "filter_dtor",
          "new_api": null,
          "old_text": "\t\t\t\tdecoder->filter_dtor(decoder);\n\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t_bk.decoder.filter_dtor(&_bk.decoder);",
          "new_line_content": "\t\t\t\t\tbk = _bk;",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "f;\n\ts = outcode->mime_name;\n\twhile (*s) {",
          "new_api": null,
          "old_text": "f;\n\ts = outcode->mime_name;\n\twhile (*s) {\n\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_memory_device_output(0x20, &pe->outdev);",
          "new_line_content": "\t\t\t\t\tpe->linehead = pe->outdev.pos;",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "lter_dtor",
          "new_api": null,
          "old_text": "lter_dtor(encoder);\n\t\t\tmbfl_convert_f",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t_bk.encoder.filter_dtor(&_bk.encoder);",
          "new_line_content": "\t\t\t\t\tif (_bk.decoder.filter_dtor)",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "%= r;\n\t\t\t\tr /= 10;\n\t\t\t\t(*pc->decoder->filter_f",
          "new_api": null,
          "old_text": "%= r;\n\t\t\t\tr /= 10;\n\t\t\t\t(*pc->decoder->filter_f",
          "new_text": null,
          "old_line_content": "\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\tn++;",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "n++] = *s++;\n\t}\n\tpe->encname[n++] = 0x3f;\n\tif (transenc->",
          "new_api": null,
          "old_text": "n++] = *s++;\n\t}\n\tpe->encname[n++] = 0x3f;\n\tif (transenc->",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pe->block_filter, &pe->tmpdev);",
          "new_line_content": "\t\t\t\t} else if (pe->outdev.pos > 0)  {",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "cname[n++] = 0x51;\n\t} else {\n\t\tpe->encname[n++] = 0x42;",
          "new_api": null,
          "old_text": "cname[n++] = 0x51;\n\t} else {\n\t\tpe->encname[n++] = 0x42;\n",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pe->block_filter->filter_function)(c, pe->block_filter);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "der);\n\n\t\t\tbk = _bk;\n\t\t}\n\n\t\t(*",
          "new_api": null,
          "old_text": "der);\n\n\t\t\tbk = _bk;\n\t\t}\n\n\t\t(*",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "new_line_content": "\t\t\t\t\tp = bk.p;",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "ata pc;\n\n\t/* needle is conver",
          "new_api": null,
          "old_text": "ata pc;\n\n\t/* needle is conver",
          "new_text": null,
          "old_line_content": "\t\tmbfl_string_init(&_needle_u8);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "/\n\tmbfl_wchar_device_init(&pc.needle);\n\tfilter = mbfl_convert_f",
          "new_api": null,
          "old_text": "/\n\tmbfl_wchar_device_init(&pc.needle);\n\tfilter = mbfl_convert_f",
          "new_text": null,
          "old_line_content": "\t\tneedle_u8 = mbfl_convert_encoding(needle, &_needle_u8, &mbfl_encoding_utf8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "(bk.decoder.filter_dtor)\n\t\t\tb",
          "new_api": null,
          "old_text": "(bk.decoder.filter_dtor)\n\t\t\tb",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tencoder->filter_dtor(encoder);",
          "new_line_content": "\t\t\t\t\tif (decoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "filter_dtor",
          "new_api": null,
          "old_text": "dtor)\n\t\t\tbk.encoder.filter_dtor(&bk.encoder);\n",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(&bk.encoder, encoder);",
          "new_line_content": "\t\t\t\t\tif (encoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "MBFL_ERROR_ENCODING;\n\t}\n\tmbfl_convert_filter_feed_string(filter, needle->val, needle->",
          "new_api": null,
          "old_text": " MBFL_ERROR_ENCODING;\n\t}\n\tmbfl_convert_filter_feed_string(filter, needle->val, needle->",
          "new_text": null,
          "old_line_content": "\toffset_pointer = mbfl_find_offset_utf8(",
          "new_line_content": "\t\tneedle_u8 = needle;",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "e->lwsp[n] = '\\0';\n\tpe->lwsplen = n;\n\n\t/* transfer",
          "new_api": null,
          "old_text": "e->lwsp[n] = '\\0';\n\tpe->lwsplen = n;\n\n\t/* transfer",
          "new_text": null,
          "old_line_content": "\t\t(*pe->conv2_filter->filter_flush)(pe->conv2_filter);",
          "new_line_content": "mime_header_encoder_result(struct mime_header_encoder_data *pe, mbfl_string *result)",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "r);\n\t\tmbfl_convert_filter_delete(decode",
          "new_api": null,
          "old_text": "r);\n\t\tmbfl_convert_filter_delete(decode",
          "new_text": null,
          "old_line_content": "\t\t\t(*encoder->filter_function)(*p, encoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "s = 5;\n\t\t\tpc->digit = 1;\n\t\t} else if (c >= 0x61 &",
          "new_api": null,
          "old_text": "s = 5;\n\t\t\tpc->digit = 1;\n\t\t} else if (c >= 0x61 &",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\tpc->status = 2;",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": "'a' - 'f'  */\n\t\t\tpc->cache = c - 0x61 + 10;",
          "new_api": null,
          "old_text": " 'a' - 'f'  */\n\t\t\tpc->cache = c - 0x61 + 10;\n\t",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "de filter */\n\tpe->encod_filter = mbfl_convert_filt",
          "new_api": null,
          "old_text": "de filter */\n\tpe->encod_filter = mbfl_convert_filt",
          "new_text": null,
          "old_line_content": "\t\t(*pe->encod_filter->filter_flush)(pe->encod_filter);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "ew",
          "new_api": null,
          "old_text": "ew(outcode, transenc, mbfl_memory_device_output, 0, &(",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_strncat(&pe->outdev, \"\\x3f\\x3d\", 2);\t\t/* ?= */",
          "new_line_content": "\tif (pe->status1 >= 10) {",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "code filter */\n\tpe->conv2_filter = mbfl_convert_filter_new(&mb",
          "new_api": null,
          "old_text": "code filter */\n\tpe->conv2_filter = mbfl_convert_filter_new(&mb",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_strncat(&pe->outdev, pe->lwsp, pe->lwsplen);",
          "new_line_content": "\t} else if (pe->tmpdev.pos > 0) {",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "eturn 0;\n\t}\n\n\tfor (i = 0; i <",
          "new_api": null,
          "old_text": "eturn 0;\n\t}\n\n\tfor (i = 0; i <",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "new_line_content": "\t\t\t\tp = bk.p;",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "outcode, mbfl_filter_output_pipe, 0, pe->en",
          "new_api": null,
          "old_text": " outcode, mbfl_filter_output_pipe, 0, pe->en",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_output(0x20, &pe->outdev);",
          "new_line_content": "\t\t\tif ((pe->outdev.pos - pe->linehead + pe->tmpdev.pos) > 74) {",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "_eaw_table[0]); i++) {\n\t\tif (",
          "new_api": null,
          "old_text": "_eaw_table[0]); i++) {\n\t\tif (",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tencoder->filter_dtor(encoder);",
          "new_line_content": "\t\t\t\tif (decoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": ") {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic",
          "new_api": null,
          "old_text": ") {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic ",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.encoder, encoder);",
          "new_line_content": "\t\t\t\tif (encoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "device_clear",
          "new_api": null,
          "old_text": "device_clear(&pc.needle);\n\t\treturn MBFL_ERROR_EMPTY;\n\t}\n\t/* initialize filter and collector data */\n\tfilter = mbfl_convert_filter_new(\n\t  haystack->enco",
          "new_text": null,
          "old_line_content": "\t\tfound_pos = zend_memnstr(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "encoding_wchar, outcode, mbfl_filter_",
          "new_api": null,
          "old_text": "encoding_wchar, outcode, mbfl_filter_",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_reset(&pe->tmpdev);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "function)(0x78, pc->decoder);\t\t/* 'x' */\n\t\t\t(*pc-",
          "new_api": null,
          "old_text": "function)(0x78, pc->decoder);\t\t/* 'x' */\n\t\t\t(*pc-",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\tpc->digit = 1;",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": "function)(c, pc->decoder);\n\t\t}\n\t\tbreak;\n\tcase 5:",
          "new_api": null,
          "old_text": "function)(c, pc->decoder);\n\t\t}\n\t\tbreak;\n\tcase 5:\n",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": "if ((c >= 0x30 && c <= 0x39) ||\n\t\t\t(c >= 0x",
          "new_api": null,
          "old_text": "\n\t\tif ((c >= 0x30 && c <= 0x39) ||\n\t\t\t(c >= 0x",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\tpc->status = 0;",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "os, 0, &pc);\n\tif (filter == NULL) {\n\t\tmbfl_wchar_device_clear(&pc.needle);\n\t\treturn MBFL_ERROR_ENCODING;\n\t}\n\tpc.start = 0;\n\tpc.output = 0;\n\tpc.needle_pos =",
          "new_api": null,
          "old_text": "os, 0, &pc);\n\tif (filter == NULL) {\n\t\tmbfl_wchar_device_clear(&pc.needle);\n\t\treturn MBFL_ERROR_ENCODING;\n\t}\n\tpc.start = 0;\n\tpc.output = 0;\n\tpc.needle_pos = ",
          "new_text": null,
          "old_line_content": "\t\t\tfound_pos = zend_memnrstr(",
          "new_line_content": "\t\t\t(const char *) haystack_u8->val + haystack_u8->len);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": ") += (is_fullwidth(c) ? 2: 1);\n\treturn 0;\n}\n\nsi",
          "new_api": null,
          "old_text": ") += (is_fullwidth(c) ? 2: 1);\n\treturn 0;\n}\n\nsi",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_copy(decoder, &_bk.decoder);",
          "new_line_content": "\t\t\tp++;",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": "mbfl_strwidth",
          "new_api": null,
          "old_text": "mbfl_strwidth(mbfl_string *string)\n{\n\tsize_t le",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_copy(encoder, &_bk.encoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "mbfl_convert_filter_new",
          "new_api": null,
          "old_text": "mbfl_convert_filter_new(&mbfl_encoding_wchar, ",
          "new_text": null,
          "old_line_content": "\treturn mbfl_memory_device_result(&pe->outdev, result);",
          "new_line_content": "\tpe->status1 = 0;",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "s = MBFL_ERROR_NOT_FOU",
          "new_api": null,
          "old_text": "s = MBFL_ERROR_NOT_FOU",
          "new_text": null,
          "old_line_content": "\t\t\tsize_t needle_len = mbfl_strlen(needle_u8);",
          "new_line_content": "\t\t\t\t(const char *) needle_u8->val, needle_u8->len,",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "p = haystack->val;\n\tn = haystack->len;\n\tif (p != NULL) {\n\t\twhile (n > 0) {\n\t\t\tif ((*filter",
          "new_api": null,
          "old_text": "\tp = haystack->val;\n\tn = haystack->len;\n\tif (p != NULL) {\n\t\twhile (n > 0) {\n\t\t\tif ((*filter",
          "new_text": null,
          "old_line_content": "\t\t\toffset_pointer = mbfl_find_offset_utf8(",
          "new_line_content": "\t\t\t\t(const char *) haystack_u8->val + haystack_u8->len);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "*filter;\n\n\tlen = 0;\n\tif (string-",
          "new_api": null,
          "old_text": "*filter;\n\n\tlen = 0;\n\tif (string-",
          "new_text": null,
          "old_line_content": "\t\t\t(*encoder->filter_flush)(encoder);",
          "new_line_content": "\t\t\t_bk.pos = device.pos;",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "_convert_filter_new",
          "new_api": null,
          "old_text": "_convert_filter_new(\n\t\t    string->en",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t_bk.decoder.filter_dtor(&_bk.decoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "filter_count_width, 0, &len);\n\t\tif",
          "new_api": null,
          "old_text": "  filter_count_width, 0, &len);\n\t\tif ",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t_bk.encoder.filter_dtor(&_bk.encoder);",
          "new_line_content": "\t\t\t\tif (_bk.decoder.filter_dtor)",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": ".matched_pos != MBFL_ERROR_NOT_FOUND) {\n\t\t\t\t++result;\n\t\t\t\tpc.matched_pos = MBFL_ERROR_NOT_FOUND;\n\t\t\t\tpc.needle_pos = 0;\n\t\t\t}\n\t\t\tn--;\n\t\t}",
          "new_api": null,
          "old_text": ".matched_pos != MBFL_ERROR_NOT_FOUND) {\n\t\t\t\t++result;\n\t\t\t\tpc.matched_pos = MBFL_ERROR_NOT_FOUND;\n\t\t\t\tpc.needle_pos = 0;\n\t\t\t}\n\t\t\tn--;\n\t\t}\n",
          "new_text": null,
          "old_line_content": "\t\t\tfound_pos = zend_memnrstr(",
          "new_line_content": "\t\t\t\toffset_pointer = haystack_u8->val + haystack_u8->len;",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "tring->val;\n\t\tn = string->len",
          "new_api": null,
          "old_text": "tring->val;\n\t\tn = string->len",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdecoder->filter_dtor(decoder);",
          "new_line_content": "\t\t\t\tp = bk.p;",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "L) {\n\t\tmime_header_encoder_delete(pe);\n\t\treturn",
          "new_api": null,
          "old_text": "L) {\n\t\tmime_header_encoder_delete(pe);\n\t\treturn ",
          "new_text": null,
          "old_line_content": "\tpe = emalloc(sizeof(struct mime_header_encoder_data));",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "er_function)(*p++, filter);",
          "new_api": null,
          "old_text": "er_function)(*p++, filter);\n\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tencoder->filter_dtor(encoder);",
          "new_line_content": "\t\t\t\tif (decoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "mbfl_convert_filter_delete(filter);\n\tmbfl_wchar_device_clear(&pc.needle);\n\n\tret",
          "new_api": null,
          "old_text": "\tmbfl_convert_filter_delete(filter);\n\tmbfl_wchar_device_clear(&pc.needle);\n\n\tret",
          "new_text": null,
          "old_line_content": "\t\tresult = mbfl_pointer_to_offset_utf8(haystack_u8->val, (const unsigned char *) found_pos);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "nvert_filter_delete",
          "new_api": null,
          "old_text": "nvert_filter_delete(filter);\n\t}\n\n\treturn len;\n",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(&bk.encoder, encoder);",
          "new_line_content": "\t\t\t\tif (encoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "L;\n\t}\n\n\tif (transenc->no_encoding == mbfl_",
          "new_api": null,
          "old_text": "L;\n\t}\n\n\tif (transenc->no_encoding == mbfl_",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&pe->outdev, 0, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "encoding_qprint) {\n\t\tpe->encod_filter->sta",
          "new_api": null,
          "old_text": "encoding_qprint) {\n\t\tpe->encod_filter->sta",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&pe->tmpdev, 0, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2255,
          "old_api": "ize = pc->mapsize;\n\t\t\twhile (n < size) {\n\t\t\t\tm",
          "new_api": null,
          "old_text": "ize = pc->mapsize;\n\t\t\twhile (n < size) {\n\t\t\t\tm",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(d, pc->decoder);",
          "new_line_content": "\t\t\t\td = s - mapelm[2];",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "substr_data {\n\tmbfl_convert_filt",
          "new_api": null,
          "old_text": "substr_data {\n\tmbfl_convert_filt",
          "new_text": null,
          "old_line_content": "\t\tmbfl_string_clear(&_haystack_u8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "mapelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mape",
          "new_api": null,
          "old_text": "mapelm[2];\n\t\t\t\tif (d >= mapelm[0] && d <= mape",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t\t\tf = 0;",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "data {\n\tmbfl_convert_filter *decode",
          "new_api": null,
          "old_text": "data {\n\tmbfl_convert_filter *decode",
          "new_text": null,
          "old_line_content": "\t\t\t\tbk.decoder.filter_dtor(&bk.decoder);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "up;\n\tmbfl_memory_device device;\n\tsi",
          "new_api": null,
          "old_text": "up;\n\tmbfl_memory_device device;\n\tsi",
          "new_text": null,
          "old_line_content": "\t\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "new_line_content": "\t\t\tif (bk.decoder.filter_dtor)",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": ";\n\tint status;\n};\n\nstatic int",
          "new_api": null,
          "old_text": ";\n\tint status;\n};\n\nstatic int",
          "new_text": null,
          "old_line_content": "\t\t\t\tdecoder->filter_dtor(decoder);",
          "new_line_content": "\t\t\tp = _bk.p;",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": "pc->decoder);\n\t\t\t\t\tif (c != 0x3b) {\t/* ';' */",
          "new_api": null,
          "old_text": " pc->decoder);\n\t\t\t\t\tif (c != 0x3b) {\t/* ';' */\n\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": "->filter_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tb",
          "new_api": null,
          "old_text": "->filter_function)(c, pc->decoder);\n\t\t\t\t\t}\n\t\t\t\t\tb",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "data)\n{\n\tstruct collector_str",
          "new_api": null,
          "old_text": "data)\n{\n\tstruct collector_str",
          "new_text": null,
          "old_line_content": "\t\t\t\tencoder->filter_dtor(encoder);",
          "new_line_content": "\t\t\tif (decoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "a;\n\n\tswitch (pc->status) {\n\tcase 10:\n\t\t(*pc->de",
          "new_api": null,
          "old_text": "a;\n\n\tswitch (pc->status) {\n\tcase 10:\n\t\t(*pc->de",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_copy(&_bk.encoder, encoder);",
          "new_line_content": "\t\t\tif (encoder->filter_dtor)",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "c, pc->decoder);\n\t\tbreak;\n\tdefau",
          "new_api": null,
          "old_text": "c, pc->decoder);\n\t\tbreak;\n\tdefau",
          "new_text": null,
          "old_line_content": "\t\t(*encoder->filter_flush)(encoder);",
          "new_line_content": "\t\t\tbk = _bk;",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": "c->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder->filter_function)(0x78, p",
          "new_api": null,
          "old_text": "c->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder->filter_function)(0x78, p",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "new_line_content": "\t\t\t\td = s/r;",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "c->width) {\n\t\t\t\tif (pc->status == 0",
          "new_api": null,
          "old_text": "c->width) {\n\t\t\t\tif (pc->status == 0",
          "new_text": null,
          "old_line_content": "\t\t\tbk.encoder.filter_dtor(&bk.encoder);",
          "new_line_content": "\t\tif (bk.decoder.filter_dtor)",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": ";\t\t/* 'x' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twh",
          "new_api": null,
          "old_text": ";\t\t/* 'x' */\n\t\t\tr = 1;\n\t\t\tn = pc->digit;\n\t\t\twh",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t\tr /= 10;",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "return 0;\n}\n\nmbfl_string *\nmbfl_su",
          "new_api": null,
          "old_text": "return 0;\n}\n\nmbfl_string *\nmbfl_su",
          "new_text": null,
          "old_line_content": "\tmbfl_wchar_device_init(&pc.needle);",
          "new_line_content": "\tstruct collector_strpos_data pc;",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "fl_string *string,\n    mbfl_string *result,\n    size_t from,\n    size_t length)\n{\n\tconst mbfl_encoding *encoding =",
          "new_api": null,
          "old_text": "fl_string *string,\n    mbfl_string *result,\n    size_t from,\n    size_t length)\n{\n\tconst mbfl_encoding *encoding =",
          "new_text": null,
          "old_line_content": "\tfilter = mbfl_convert_filter_new(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "ndpos = pc->device.pos;\n\t\t\t\t\tmbfl_convert_",
          "new_api": null,
          "old_text": "ndpos = pc->device.pos;\n\t\t\t\t\tmbfl_convert_",
          "new_text": null,
          "old_line_content": "\t\tresult = mbfl_memory_device_result(&device, result);",
          "new_line_content": "\t\tif (bk.encoder.filter_dtor)",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "r_copy",
          "new_api": null,
          "old_text": "r_copy(pc->decoder, pc->decoder_bac",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "efree((void*)pe);\n\t}\n}\n\nmbfl_string *\nmbfl_mime_header_encode(\n    mbfl_string *stri",
          "new_api": null,
          "old_text": "\n\t\tefree((void*)pe);\n\t}\n}\n\nmbfl_string *\nmbfl_mime_header_encode(\n    mbfl_string *stri",
          "new_text": null,
          "old_line_content": "\tpe->encod_filter = mbfl_convert_filter_new(outcode, transenc, mbfl_memory_device_output, 0, &(pe->outdev));",
          "new_line_content": "\tpe->lwsplen = n;",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "const mbfl_encoding *outcode,\n    const mbfl_encoding *encoding,\n    const char *li",
          "new_api": null,
          "old_text": "    const mbfl_encoding *outcode,\n    const mbfl_encoding *encoding,\n    const char *li",
          "new_text": null,
          "old_line_content": "\tpe->encod_filter_backup = mbfl_convert_filter_new(outcode, transenc, mbfl_memory_device_output, 0, &(pe->outdev));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "m;\n\tunsigned char *p, *w;\n\n\tmbfl_string_init(result);\n\tresult->e",
          "new_api": null,
          "old_text": " m;\n\tunsigned char *p, *w;\n\n\tmbfl_string_init(result);\n\tresult->e",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_feed_string(filter, needle->val, needle->len);",
          "new_line_content": "\tif (filter == NULL) {",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "ding = string->encoding;\n\n\tif ((e",
          "new_api": null,
          "old_text": "ding = string->encoding;\n\n\tif ((e",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_flush(filter);",
          "new_line_content": "\t\treturn MBFL_ERROR_ENCODING;",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "ding->flag & (MBFL_ENCTYPE_SBCS |",
          "new_api": null,
          "old_text": "ding->flag & (MBFL_ENCTYPE_SBCS | ",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_delete(filter);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "ader_encoder_new",
          "new_api": null,
          "old_text": "ader_encoder_new(string->encoding, outcode, encoding);\n\tif (pe == NULL) {\n\t\treturn NULL;\n\t}\n\n\tif (li",
          "new_text": null,
          "old_line_content": "\tpe->conv2_filter_backup = mbfl_convert_filter_new(&mbfl_encoding_wchar, outcode, mbfl_filter_output_pipe, 0, pe->encod_filter);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "ENCTYPE_SBCS) {\n\t\t\tstart = from;",
          "new_api": null,
          "old_text": "ENCTYPE_SBCS) {\n\t\t\tstart = from;\n\t\t",
          "new_text": null,
          "old_line_content": "\t\tmbfl_wchar_device_clear(&pc.needle);",
          "new_line_content": "\t\treturn MBFL_ERROR_ENCODING;",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": "static int\ncollector_encode_hex_htmlnumericenti",
          "new_api": null,
          "old_text": "\n\nstatic int\ncollector_encode_hex_htmlnumericenti",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\tpc->digit = 1;",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "ata)\n{\n\tstruct collector_htmlnumericentity_data *",
          "new_api": null,
          "old_text": "ata)\n{\n\tstruct collector_htmlnumericentity_data *",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": "ector_htmlnumericentity_data *)data;\n\tint f, n, s",
          "new_api": null,
          "old_text": "ector_htmlnumericentity_data *)data;\n\tint f, n, s",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "new_line_content": "\t\t\tpc->status = 0;",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "ing->flag & MBFL_ENCTYPE_WCS4) {\n\t\t\tstart = from*4;\n\t\t} else {\n\t\t\tconst unsigned char *mbtab = encodi",
          "new_api": null,
          "old_text": "ing->flag & MBFL_ENCTYPE_WCS4) {\n\t\t\tstart = from*4;\n\t\t} else {\n\t\t\tconst unsigned char *mbtab = encodi",
          "new_text": null,
          "old_line_content": "\tfilter = mbfl_convert_filter_new(",
          "new_line_content": "\t\treturn MBFL_ERROR_EMPTY;",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "*/\nstruct mime_header_decode",
          "new_api": null,
          "old_text": "\n */\nstruct mime_header_decode",
          "new_text": null,
          "old_line_content": "\t\tmime_header_encoder_delete(pe);",
          "new_line_content": "\t    pe->conv2_filter == NULL ||",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "0;\n\t\t\tn = 0;\n\t\t\tk = 0;\n\t\t\tp = stri",
          "new_api": null,
          "old_text": " 0;\n\t\t\tn = 0;\n\t\t\tk = 0;\n\t\t\tp = stri",
          "new_text": null,
          "old_line_content": "\t\tmbfl_wchar_device_clear(&pc.needle);",
          "new_line_content": "\t  &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "r *encoder;\n\tsi",
          "new_api": null,
          "old_text": "r *encoder;\n\tsi",
          "new_text": null,
          "old_line_content": "\t(*(size_t *)data) += (is_fullwidth(c) ? 2: 1);",
          "new_line_content": "static int",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "ncoding->flag & MBFL_ENCTYPE_SBCS) {",
          "new_api": null,
          "old_text": "ncoding->flag & MBFL_ENCTYPE_SBCS) {\n\t\t",
          "new_text": null,
          "old_line_content": "\t\t\tif ((*filter->filter_function)(*p++, filter) < 0) {",
          "new_line_content": "\tn = haystack->len;",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": "e_header_decoder_data*)data;\n\n\tswitch (pd->s",
          "new_api": null,
          "old_text": "e_header_decoder_data*)data;\n\n\tswitch (pd->s",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pe->conv1_filter);",
          "new_line_content": "mime_header_encoder_delete(struct mime_header_encoder_data *pe)",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "s) {\n\tcase 1:\n\t\tif (c == 0x3f) {\t\t/* ? */",
          "new_api": null,
          "old_text": "s) {\n\tcase 1:\n\t\tif (c == 0x3f) {\t\t/* ? */\n\t\t",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pe->block_filter);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": "l_memory_device_output",
          "new_api": null,
          "old_text": "l_memory_device_output(c, &pd->tmpdev);\n\t\t\tp",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pe->conv2_filter);",
          "new_line_content": "\tif (pe) {",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "0);\n\n\t/* output code filter */\n\tpc.decoder = mbfl_convert_filter_new(\n\t    &mbfl_encoding_wchar,\n\t    string->e",
          "new_api": null,
          "old_text": "0);\n\n\t/* output code filter */\n\tpc.decoder = mbfl_convert_filter_new(\n\t    &mbfl_encoding_wchar,\n\t    string->e",
          "new_text": null,
          "old_line_content": "\t\tfilter = mbfl_convert_filter_new(",
          "new_line_content": "\tlen = 0;",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "tab = encoding->mblen_table;\n\t\t\te",
          "new_api": null,
          "old_text": "tab = encoding->mblen_table;\n\t\t\te",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_flush(filter);",
          "new_line_content": "\t\t\tn--;",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "= start;\n\t\t\tn = start;\n\t\t\tk = 0;",
          "new_api": null,
          "old_text": "= start;\n\t\t\tn = start;\n\t\t\tk = 0;\n\t",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_delete(filter);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "= string->val + start;\n\t\t\t/* detec",
          "new_api": null,
          "old_text": " = string->val + start;\n\t\t\t/* detec",
          "new_text": null,
          "old_line_content": "\tmbfl_wchar_device_clear(&pc.needle);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "ice_output, 0, &pc.device);\n\tpc.de",
          "new_api": null,
          "old_text": "ice_output, 0, &pc.device);\n\tpc.de",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_delete(filter);",
          "new_line_content": "\t\t    &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 2335,
          "old_api": "if (f) {\n\t\t\tbreak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {",
          "new_api": null,
          "old_text": "if (f) {\n\t\t\tbreak;\n\t\t}\n\t\tn++;\n\t}\n\tif (!f) {\n\t\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(d, pc->decoder);",
          "new_line_content": "\t\t\t\td = s - mapelm[2];",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": "coder);\n\t}\n\n\treturn 0;\n}\n\nint mbfl_filt_decode",
          "new_api": null,
          "old_text": "coder);\n\t}\n\n\treturn 0;\n}\n\nint mbfl_filt_decode",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t\t\tf = 0;",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "_memory_device_output, 0, &pc.device);",
          "new_api": null,
          "old_text": "_memory_device_output, 0, &pc.device);\n",
          "new_text": null,
          "old_line_content": "\t\t\t(*filter->filter_function)(*p++, filter);",
          "new_line_content": "\t\tp = string->val;",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "*/\n\tencoder = mbfl_convert_filter",
          "new_api": null,
          "old_text": "*/\n\tencoder = mbfl_convert_filter",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_flush(filter);",
          "new_line_content": "\t\t\tn--;",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "(\n\t    string->encoding,\n\t    &mbf",
          "new_api": null,
          "old_text": "(\n\t    string->encoding,\n\t    &mbf",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(filter);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": "illegalchars) {\n\t\t\t\t\tbad+",
          "new_api": null,
          "old_text": "illegalchars) {\n\t\t\t\t\tbad+",
          "new_text": null,
          "old_line_content": "\t} else if (php_unicode_is_cntrl(c) || php_unicode_is_private(c)) {",
          "new_line_content": "\t} else if (c < 0x9 || (c >= 0xE && c <= 0x1F) || (c >= 0xE000 && c <= 0xF8FF) || c >= 0xF0000) {",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "uct collector_htmlnumericentity_data *pc = (struc",
          "new_api": null,
          "old_text": "uct collector_htmlnumericentity_data *pc = (struc",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "umericentity_data *)filter;\n\tint n, s, r, d;\n\n\tif",
          "new_api": null,
          "old_text": "umericentity_data *)filter;\n\tint n, s, r, d;\n\n\tif",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "switch (pc->status) {\n\t\tcase 1: /* '&' */\n\t\t\t(*p",
          "new_api": null,
          "old_text": "\tswitch (pc->status) {\n\t\tcase 1: /* '&' */\n\t\t\t(*p",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "new_line_content": "\t\tif (f) {",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "tput",
          "new_api": null,
          "old_text": "tput('\\0', &pd->tmpdev);",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\tunsigned char *p;",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "0;\n}\n\nconst mbfl_encodi",
          "new_api": null,
          "old_text": "0;\n}\n\nconst mbfl_encodi",
          "new_text": null,
          "old_line_content": "\t} else if (php_unicode_is_punct(c)) {",
          "new_line_content": "\t} else if ((c >= 0x21 && c <= 0x2F) || (c >= 0x3A && c <= 0x40) || (c >= 0x5B && c <= 0x60)) {",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "= w = (unsigned char*)emalloc(n + 1);\n\t\tresult->len =",
          "new_api": null,
          "old_text": "= w = (unsigned char*)emalloc(n + 1);\n\t\tresult->len = ",
          "new_text": null,
          "old_line_content": "\t\t(*pc->next_filter->filter_function)(c, pc->next_filter);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2360,
          "old_api": "->filter_function)(0x23, pc->decoder);\t\t/* '#' */\n\t\t\tbreak;\n\t\tcase",
          "new_api": null,
          "old_text": "->filter_function)(0x23, pc->decoder);\t\t/* '#' */\n\t\t\tbreak;\n\t\tcase",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "new_line_content": "\t\t\t\td = s/r;",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": "'9' */\n\t\t\t(*pc->decoder->filter_function)(0x26",
          "new_api": null,
          "old_text": "'9' */\n\t\t\t(*pc->decoder->filter_function)(0x26",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t\tr /= 16;",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "fl_encoding_detector_data *data = &iden",
          "new_api": null,
          "old_text": "fl_encoding_detector_data *data = &iden",
          "new_text": null,
          "old_line_content": "\tmbfl_encoding_detector *identd = emalloc(sizeof(mbfl_encoding_detector));",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "(!data->num_illegalchars && data->score < best",
          "new_api": null,
          "old_text": "(!data->num_illegalchars && data->score < best",
          "new_text": null,
          "old_line_content": "\tidentd->filter_list = ecalloc(elistsz, sizeof(mbfl_convert_filter*));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": "->from;\n\t\t\tbest_score = data->score;\n\t\t}\n\t}\n\n\treturn",
          "new_api": null,
          "old_text": "->from;\n\t\t\tbest_score = data->score;\n\t\t}\n\t}\n\n\treturn ",
          "new_text": null,
          "old_line_content": "\tidentd->filter_data = ecalloc(elistsz, sizeof(mbfl_encoding_detector_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "mbfl_string *result,\n    const mbfl_encoding *toenc)\n{\n\tsize_t n;\n\tunsigned char *p;\n\tmbfl_memory_device device;\n\tmbfl_convert_filter *",
          "new_api": null,
          "old_text": "    mbfl_string *result,\n    const mbfl_encoding *toenc)\n{\n\tsize_t n;\n\tunsigned char *p;\n\tmbfl_memory_device device;\n\tmbfl_convert_filter *",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter *filter = mbfl_convert_filter_new(elist[i], &mbfl_encoding_wchar,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "' */\n\n\t\t\ts = pc->cache;\n\t\t\tr = 1;\n\t\t\tn = pc->d",
          "new_api": null,
          "old_text": "' */\n\n\t\t\ts = pc->cache;\n\t\t\tr = 1;\n\t\t\tn = pc->d",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\tif (c == 0x26) {\t/* '&' */",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "mbfl_memory_device_unput(&pd->tmpdev);\n\t\t\t\tpd->status =",
          "new_api": null,
          "old_text": "\t\t\tmbfl_memory_device_unput(&pd->tmpdev);\n\t\t\t\tpd->status = ",
          "new_text": null,
          "old_line_content": "\t\t(*pe->conv1_filter->filter_function)(*p++, pe->conv1_filter);",
          "new_line_content": "\tn = string->len;",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "endpos = 0;\n\n\t/* feed data */\n\tp = string->val",
          "new_api": null,
          "old_text": "endpos = 0;\n\n\t/* feed data */\n\tp = string->val",
          "new_text": null,
          "old_line_content": "\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "us != 2) {\n\t\t\t\tmbfl_convert_filter_dev",
          "new_api": null,
          "old_text": "us != 2) {\n\t\t\t\tmbfl_convert_filter_dev",
          "new_text": null,
          "old_line_content": "\tresult = mime_header_encoder_result(pe, result);",
          "new_line_content": "\t\tn--;",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "(pd->conv1_filter, &pd->tmpdev",
          "new_api": null,
          "old_text": "(pd->conv1_filter, &pd->tmpdev",
          "new_text": null,
          "old_line_content": "\tmime_header_encoder_delete(pe);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "om;\n\t\t}\n\n\t\tmbfl_memory_d",
          "new_api": null,
          "old_text": "om;\n\t\t}\n\n\t\tmbfl_memory_d",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\tunsigned m;",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "ncoder->filter_",
          "new_api": null,
          "old_text": "ncoder->filter_",
          "new_text": null,
          "old_line_content": "\t\t\tpc->outwidth += (is_fullwidth(c) ? 2: 1);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "& mkwidth > 0) {\n\t\t\tpc.width += mkwidth;\n\t\t\tif (n > 0) {",
          "new_api": null,
          "old_text": "& mkwidth > 0) {\n\t\t\tpc.width += mkwidth;\n\t\t\tif (n > 0) {\n",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_convert_filter_copy(pc->decoder, pc->decoder_backup);",
          "new_line_content": "\t\t\tif (pc->outwidth > pc->width) {",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": "toenc, mbfl_memory_device_output, 0, &device);\n\t}",
          "new_api": null,
          "old_text": "toenc, mbfl_memory_device_output, 0, &device);\n\t} ",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(identd->filter_list[i]);",
          "new_line_content": "void mbfl_encoding_detector_delete(mbfl_encoding_detector *identd)",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "filter2 = mbfl_convert_",
          "new_api": null,
          "old_text": "\n\t\tfilter2 = mbfl_convert_",
          "new_text": null,
          "old_line_content": "\tefree(identd->filter_list);",
          "new_line_content": "\tfor (int i = 0; i < identd->filter_list_size; i++) {",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "toenc, mbfl_",
          "new_api": null,
          "old_text": " toenc, mbfl_",
          "new_text": null,
          "old_line_content": "\tefree(identd);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "t_filter_flush",
          "new_api": null,
          "old_text": "t_filter_flush(encoder);\n\t\t\t} else if (pc.outw",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\t\t\tpc->outchar++;",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "case 5: /* '0'-'9','a'-'f' */\n\t\t\t(*pc->decoder",
          "new_api": null,
          "old_text": "\n\t\tcase 5: /* '0'-'9','a'-'f' */\n\t\t\t(*pc->decoder",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t/* '&' */",
          "new_line_content": "\t\tif (c >= mapelm[0] && c <= mapelm[1]) {",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": ")(0x26, pc->decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder",
          "new_api": null,
          "old_text": ")(0x26, pc->decoder);\t\t/* '&' */\n\t\t\t(*pc->decoder",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t/* '#' */",
          "new_line_content": "\t\t\ts = (c + mapelm[2]) & mapelm[3];",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": ")(0x23, pc->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder",
          "new_api": null,
          "old_text": ")(0x23, pc->decoder);\t\t/* '#' */\n\t\t\t(*pc->decoder",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t/* 'x' */",
          "new_line_content": "\t\t\tif (s >= 0) {",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "filter2->illegal_mode = MBFL_OUTPUTFI",
          "new_api": null,
          "old_text": "filter2->illegal_mode = MBFL_OUTPUTFI",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*filter->filter_function)(*p, filter);",
          "new_line_content": "\t\tfor (int i = 0; i < num; i++) {",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": "n--;\n\t\t\t}\n\t\t\ts %= r;\n\t\t\tr /= 16;\n\t\t\twhile (r > 0) {\n\t\t\t\td = s/r",
          "new_api": null,
          "old_text": "\t\t\tn--;\n\t\t\t}\n\t\t\ts %= r;\n\t\t\tr /= 16;\n\t\t\twhile (r > 0) {\n\t\t\t\td = s/r",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "new_line_content": "\t\t\t\t\tif (d || f) {",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "reset",
          "new_api": null,
          "old_text": "reset(&pd->tmpdev);\n\t\t}\n\t\tbreak;\n\tcase 4:",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\tswitch (pd->status) {",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": ")(mbfl_hexchar_table[d], pc->decoder);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:",
          "new_api": null,
          "old_text": ")(mbfl_hexchar_table[d], pc->decoder);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[0], pc->decoder);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": "}\n\n\tpc->status = 0;\n\tpc->cache = 0;\n\tpc->digit =",
          "new_api": null,
          "old_text": "\t}\n\n\tpc->status = 0;\n\tpc->cache = 0;\n\tpc->digit =",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(0x3b, pc->decoder);\t\t/* ';' */",
          "new_line_content": "\t\t\t\t\tf = 1;",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": "if (c == 0x3f) {\t\t/* ? */\n\t\t\t/* charset convert filter",
          "new_api": null,
          "old_text": "\t\tif (c == 0x3f) {\t\t/* ? */\n\t\t\t/* charset convert filter ",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\t\t\tpd->cspos = pd->tmpdev.pos;",
          "content_same": false
        },
        {
          "line": 1899,
          "old_api": "mbfl_convert_filter_reset(pd->conv1_",
          "new_api": null,
          "old_text": "\tmbfl_convert_filter_reset(pd->conv1_",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\t\tpd->status = 2;",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": "(*filter1->filter_function)(*",
          "new_api": null,
          "old_text": "(*filter1->filter_function)(*",
          "new_text": null,
          "old_line_content": "\t\t(filter->filter_flush)(filter);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "der) < 0) {\n\t\t\t\t\t\tbreak;",
          "new_api": null,
          "old_text": "der) < 0) {\n\t\t\t\t\t\tbreak;",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\tif (string == NULL || result == NULL) {",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "if (pc.status != 0) {",
          "new_api": null,
          "old_text": " if (pc.status != 0) {\n",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&pc.device, MIN(string->len, width), 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "ring *string,\n    mbfl_string *result,\n    int",
          "new_api": null,
          "old_text": "ring *string,\n    mbfl_string *result,\n    int",
          "new_text": null,
          "old_line_content": "\t\t(*pc->decoder->filter_function)(c, pc->decoder);",
          "new_line_content": "\t\tn++;",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "else {\n\t\t\tif (c == 0x0d || c == 0x0a) {\t/* CR or LF */",
          "new_api": null,
          "old_text": " else {\n\t\t\tif (c == 0x0d || c == 0x0a) {\t/* CR or LF */\n",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pd->conv1_filter->filter_function)(c, pd->conv1_filter);",
          "new_line_content": "\t\t\t} else if (c == 0x0d || c == 0x0a) {\t/* CR or LF */",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "t);\n\tmbfl_convert_filter_delete(encoder);\n\tmbfl_convert_filter_delete(pc.decoder);\n\tmbfl_convert_filter_delete(pc.decoder",
          "new_api": null,
          "old_text": "t);\n\tmbfl_convert_filter_delete(encoder);\n\tmbfl_convert_filter_delete(pc.decoder);\n\tmbfl_convert_filter_delete(pc.decoder",
          "new_text": null,
          "old_line_content": "\tpc.decoder_backup = mbfl_convert_filter_new(",
          "new_line_content": "\t    &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "conv1_filter, &pd->tmpdev);\n\t\t}\n\t\tmbfl_memor",
          "new_api": null,
          "old_text": "conv1_filter, &pd->tmpdev);\n\t\t}\n\t\tmbfl_memor",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_output('\\0', &pd->tmpdev);",
          "new_line_content": "\tcase 2:\t\t/* store charset string */",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "pd->tmpdev);\n\t\tbreak;\n\tcase 5:\t\t/* encoded block */\n\t\tif (c ==",
          "new_api": null,
          "old_text": "pd->tmpdev);\n\t\tbreak;\n\tcase 5:\t\t/* encoded block */\n\t\tif (c == ",
          "new_text": null,
          "old_line_content": "\t\t\tencoding = mbfl_name2encoding((const char *)&pd->tmpdev.buffer[pd->cspos]);",
          "new_line_content": "\t\tif (c == 0x3f) {\t\t/* ? */",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "l_string *\nmbfl_ja_jp_hantozen(\n    mbfl_string *string,\n    mbfl_string *result,\n    int mode)\n{\n\tsize_t n;",
          "new_api": null,
          "old_text": "l_string *\nmbfl_ja_jp_hantozen(\n    mbfl_string *string,\n    mbfl_string *result,\n    int mode)\n{\n\tsize_t n;\n",
          "new_text": null,
          "old_line_content": "\tencoder = mbfl_convert_filter_new(",
          "new_line_content": "\t    string->encoding,",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": ")(c, pd->deco_filter);\n\t\t}\n\t\tbreak;",
          "new_api": null,
          "old_text": ")(c, pd->deco_filter);\n\t\t}\n\t\tbreak;\n\t",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "new_line_content": "\t\t\t\tpd->incode = encoding;",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "ing = string->encoding;\n\tmbfl_memory_device_init(",
          "new_api": null,
          "old_text": "ing = string->encoding;\n\tmbfl_memory_device_init(",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "\tif (pc->status) {",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "6:\t\t/* check end position */\n\t\tif (c == 0",
          "new_api": null,
          "old_text": "6:\t\t/* check end position */\n\t\tif (c == 0",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t\t\tpd->status = 3;",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "NULL;\n\tmbfl_convert_filter *encoder",
          "new_api": null,
          "old_text": "NULL;\n\tmbfl_convert_filter *encoder",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "\t    &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "ULL;\n\tmbfl_convert_filter *tl_filter =",
          "new_api": null,
          "old_text": "ULL;\n\tmbfl_convert_filter *tl_filter =",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pc.decoder);",
          "new_line_content": "\t    collector_strimwidth, 0, &pc);",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "char,\n\t    string->encoding,\n\t    mbfl_memory_dev",
          "new_api": null,
          "old_text": "char,\n\t    string->encoding,\n\t    mbfl_memory_dev",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "L;\n\tmbfl_convert_filter *next_filter = NULL;",
          "new_api": null,
          "old_text": "L;\n\tmbfl_convert_filter *next_filter = NULL;\n",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pc.decoder_backup);",
          "new_line_content": "\tif (pc.decoder == NULL || pc.decoder_backup == NULL || encoder == NULL) {",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "ter, &mbfl_encoding_ascii, &mbfl_enco",
          "new_api": null,
          "old_text": "ter, &mbfl_encoding_ascii, &mbfl_enco",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "new_line_content": "\t\t\tif (pd->tmpdev.pos > 100) {\t\t/* too long charset string */",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "ew",
          "new_api": null,
          "old_text": "ew(\n\t\t    string->encoding,\n\t\t    &mbfl_encoding_",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "ing_init",
          "new_api": null,
          "old_text": "ing_init(result);\n\n\tr",
          "new_text": null,
          "old_line_content": "\t\tmkwidth = mbfl_strwidth(marker);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "filter->filter_function)(0x3f, pd->deco_filter);\n\t\t\tif (c",
          "new_api": null,
          "old_text": "filter->filter_function)(0x3f, pd->deco_filter);\n\t\t\tif (c",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\t\t\t\tpd->status = 9;",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "3f) {\t\t/* ? */\n\t\t\t\t(*pd->deco_filter-",
          "new_api": null,
          "old_text": "3f) {\t\t/* ? */\n\t\t\t\t(*pd->deco_filter-",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": "ng->mblen_tabl",
          "new_api": null,
          "old_text": "ng->mblen_tabl",
          "new_text": null,
          "old_line_content": "\t\tresult->val = w = (unsigned char*)emalloc(n + 1);",
          "new_line_content": "\t\t/* allocate memory and copy */",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "5;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 7:\t\t/* after e",
          "new_api": null,
          "old_text": "5;\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tcase 7:\t\t/* after e",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": "signed char *start = NULL;\n\t\tcons",
          "new_api": null,
          "old_text": "signed char *start = NULL;\n\t\tcons",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(w, string->val + start, n);",
          "new_line_content": "\t\tresult->len = 0;",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "mbfl_encoding_wchar,\n\t\t    collector_encode_hex_htmlnumericentity,",
          "new_api": null,
          "old_text": "mbfl_encoding_wchar,\n\t\t    collector_encode_hex_htmlnumericentity,",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "new_line_content": "\t\t\t\td = s/r;",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "tl_filter = mbfl_convert_filter_new2(\n\t\t&",
          "new_api": null,
          "old_text": "tl_filter = mbfl_convert_filter_new2(\n\t\t&",
          "new_text": null,
          "old_line_content": "\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "new_line_content": "\tif (p != NULL) {",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "&pd->tmpdev);\n\t\t\t\tmbfl_memory_device_",
          "new_api": null,
          "old_text": "&pd->tmpdev);\n\t\t\t\tmbfl_memory_device_",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "new_line_content": "\t\t\tpd->status = 4;",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": "hex input */\n\t\tencoder = mbfl_convert_filter_new(",
          "new_api": null,
          "old_text": "hex input */\n\t\tencoder = mbfl_convert_filter_new(",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x26, pc->decoder);\t\t/* '&' */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "coding,\n\t\t    &mbfl_encoding_wchar,\n\t\t    collect",
          "new_api": null,
          "old_text": "coding,\n\t\t    &mbfl_encoding_wchar,\n\t\t    collect",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "*p;\n\tconst mbfl_encoding *encoding = string->encodin",
          "new_api": null,
          "old_text": " *p;\n\tconst mbfl_encoding *encoding = string->encodin",
          "new_text": null,
          "old_line_content": "\tif (mbfl_convert_filter_get_vtbl(string->encoding, toenc) != NULL) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "ing->flag & MBFL_ENCTYPE_SBCS) {\n\t\tlen = string->len;\n\t} else if (encoding->flag & MBFL",
          "new_api": null,
          "old_text": "ing->flag & MBFL_ENCTYPE_SBCS) {\n\t\tlen = string->len;\n\t} else if (encoding->flag & MBFL",
          "new_text": null,
          "old_line_content": "\t\tfilter1 = mbfl_convert_filter_new(string->encoding, toenc, mbfl_memory_device_output, 0, &device);",
          "new_line_content": "\tfilter1 = NULL;",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": "ericentity,\n\t\t    (flush_function_t)mbfl_filt_dec",
          "new_api": null,
          "old_text": "ericentity,\n\t\t    (flush_function_t)mbfl_filt_dec",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "new_line_content": "\t\tcase 4: /* 'x' */",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "= string->val + fr",
          "new_api": null,
          "old_text": " = string->val + fr",
          "new_text": null,
          "old_line_content": "\t\t\tlength = mbfl_strlen(string) - from;",
          "new_line_content": "\t\tmbfl_convert_filter *encoder;",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "mbfl_convert_filter_delete",
          "new_api": null,
          "old_text": "mbfl_convert_filter_delete(pc.decoder);\n\t\treturn ",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x23, pc->decoder);\t\t/* '#' */",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "{\n\t\tconst unsigned char *mbtab = encoding->mblen_table;\n\t\tn = 0;\n\t\tp = string->val;\n\t\tk = string->len;\n\t\t/* count */\n\t\tif (p",
          "new_api": null,
          "old_text": " {\n\t\tconst unsigned char *mbtab = encoding->mblen_table;\n\t\tn = 0;\n\t\tp = string->val;\n\t\tk = string->len;\n\t\t/* count */\n\t\tif (p",
          "new_text": null,
          "old_line_content": "\t\t\tfilter1 = mbfl_convert_filter_new(string->encoding, &mbfl_encoding_wchar, (int (*)(int, void*))filter2->filter_function, NULL, filter2);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": "us = 0;\n\tpc.cache = 0;\n\tpc.digit = 0;\n\tpc.convmap",
          "new_api": null,
          "old_text": "us = 0;\n\tpc.cache = 0;\n\tpc.digit = 0;\n\tpc.convmap",
          "new_text": null,
          "old_line_content": "\t\t\t(*pc->decoder->filter_function)(0x78, pc->decoder);\t\t/* 'x' */",
          "new_line_content": "\t\tcase 5: /* '0'-'9','a'-'f' */",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "unsigned m = mbtab[*p];\n\t\t\t\tn +=",
          "new_api": null,
          "old_text": "\t\t\tunsigned m = mbtab[*p];\n\t\t\t\tn +=",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_delete(filter2);",
          "new_line_content": "\t\tif (filter2 != NULL) {",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "MBFL_ENCTYPE_WCS4) {",
          "new_api": null,
          "old_text": " MBFL_ENCTYPE_WCS4) {\n\t\t",
          "new_text": null,
          "old_line_content": "\t\tmbfl_string_init(result);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "int",
          "new_api": null,
          "old_text": "int(*)(int, void*))next_filter->fi",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_flush(encoder);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "out;\n\t}\n\n\ttl_filter->opaque = (void*)((in",
          "new_api": null,
          "old_text": "out;\n\t}\n\n\ttl_filter->opaque = (void*)((in",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "new_line_content": "\t\t\tpc.width += mkwidth;",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "en - from) {\n\t\t\t\tlength = string->len - from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend = start + length;",
          "new_api": null,
          "old_text": "en - from) {\n\t\t\t\tlength = string->len - from;\n\t\t\t}\n\n\t\t\tstart = string->val + from;\n\t\t\tend = start + length;\n",
          "new_text": null,
          "old_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "new_line_content": "\t\t    string->encoding,",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "r = mbfl_convert_filter_new(\n\t\tstr",
          "new_api": null,
          "old_text": "r = mbfl_convert_filter_new(\n\t\tstr",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_flush(encoder);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": "atus == 8) {\n\t\t\t\t\tmbfl_memory_device_outp",
          "new_api": null,
          "old_text": "atus == 8) {\n\t\t\t\t\tmbfl_memory_device_outp",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "pd->status = 1;\n\t\t\t} else {\n\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev",
          "new_api": null,
          "old_text": "\t\tpd->status = 1;\n\t\t\t} else {\n\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_reset(pd->deco_filter, pd->encoding, &mbfl_encoding_8bit);",
          "new_line_content": "\t\t\t/* charset convert filter */",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "const unsigned char *mbtab = encodi",
          "new_api": null,
          "old_text": "const unsigned char *mbtab = encodi",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "\t\t    &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "blen_table;\n\t\t\tconst unsigned char",
          "new_api": null,
          "old_text": "blen_table;\n\t\t\tconst unsigned char ",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_delete(decoder);",
          "new_line_content": "\t\t    collector_substr, 0, &pc);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "_filter);\n\tif (encoder == NULL) {\n\t\tgoto out;\n\t}\n\n\t/* f",
          "new_api": null,
          "old_text": "_filter);\n\tif (encoder == NULL) {\n\t\tgoto out;\n\t}\n\n\t/* f",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_copy(pc.decoder_backup, pc.decoder);",
          "new_line_content": "\t\t\tif (pc.status != 1) {",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "ta */\n\tp = string->val;\n\tn = string->len;\n\tif (p != NULL) {\n\t\twhile (n > 0",
          "new_api": null,
          "old_text": "ta */\n\tp = string->val;\n\tn = string->len;\n\tif (p != NULL) {\n\t\twhile (n > 0",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_reset(encoder, marker->encoding, &mbfl_encoding_wchar);",
          "new_line_content": "\t\t\t\tpc.status = 10;",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "0, &len);\n\t\tif (filter == NULL) {\n\t\t\treturn (size_t) -1;\n\t\t}\n\t\t/* cou",
          "new_api": null,
          "old_text": "0, &len);\n\t\tif (filter == NULL) {\n\t\t\treturn (size_t) -1;\n\t\t}\n\t\t/* cou",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&device, string->len, (string->len >> 2) + 8);",
          "new_line_content": "\t\tfilter2->illegal_substchar = 0x3f;\t\t/* '?' */",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": ";\n\t\t\t}\n\t\t\tn--;\n\t\t}\n\t}\n\tmbfl_convert_filter_flush(encoder);\n\tmbfl_c",
          "new_api": null,
          "old_text": ";\n\t\t\t}\n\t\t\tn--;\n\t\t}\n\t}\n\tmbfl_convert_filter_flush(encoder);\n\tmbfl_c",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pc->decoder->filter_function)(mbfl_hexchar_table[d], pc->decoder);",
          "new_line_content": "\t\t\t\td = s/r;",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "}\n\t\t\tn--;\n\t\t}\n\t}\n\n\tmbfl_convert_filter_f",
          "new_api": null,
          "old_text": "\t}\n\t\t\tn--;\n\t\t}\n\t}\n\n\tmbfl_convert_filter_f",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "new_line_content": "\t\t\t\tp = marker->val;",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": ">conv1_filter, &pd->tmpdev);\n\t\t\t\tmbfl",
          "new_api": null,
          "old_text": ">conv1_filter, &pd->tmpdev);\n\t\t\t\tmbfl",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_unput(&pd->tmpdev);",
          "new_line_content": "\t\t\tpd->status = 5;",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "}\n\t\tbreak;\n\tdefault:\t\t/* non encoded block */\n\t\tif (c ==",
          "new_api": null,
          "old_text": "}\n\t\tbreak;\n\tdefault:\t\t/* non encoded block */\n\t\tif (c == ",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "c == 0x0a) {\t/* CR LF */\n\t\t\tpd->statu",
          "new_api": null,
          "old_text": "c == 0x0a) {\t/* CR LF */\n\t\t\tpd->statu",
          "new_text": null,
          "old_line_content": "\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "er_function)(*p++, filter);\n\t\t\t\tn--;\n\t\t\t}",
          "new_api": null,
          "old_text": "er_function)(*p++, filter);\n\t\t\t\tn--;\n\t\t\t}",
          "new_text": null,
          "old_line_content": "\t\t\tif ((*filter1->filter_function)(*p++, filter1) < 0) {",
          "new_line_content": "\tp = string->val;",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "lt",
          "new_api": null,
          "old_text": "lt(&device, result);\nout:\n\tif (tl_",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_flush(encoder);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": "1;\n\t\t} else {\n\t\t\t(*pd->conv1_filter->filter_function)",
          "new_api": null,
          "old_text": " 1;\n\t\t} else {\n\t\t\t(*pd->conv1_filter->filter_function)",
          "new_text": null,
          "old_line_content": "\t\t\t(*pd->deco_filter->filter_function)(c, pd->deco_filter);",
          "new_line_content": "\t\tif (c == 0x3f) {\t\t/* ? */",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "length >= string->len - (start - string->",
          "new_api": null,
          "old_text": "length >= string->len - (start - string->",
          "new_text": null,
          "old_line_content": "\t\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "new_line_content": "\t\tn = string->len;",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "oder != NULL) {\n\t\tmbfl_convert_filter_delete(decoder);",
          "new_api": null,
          "old_text": "oder != NULL) {\n\t\tmbfl_convert_filter_delete(decoder);\n",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_copy(pc.decoder_backup, pc.decoder);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "(encoder != NULL) {\n\t\tmbfl_convert_fi",
          "new_api": null,
          "old_text": "(encoder != NULL) {\n\t\tmbfl_convert_fi",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_flush(pc.decoder);",
          "new_line_content": "\t\t\tpc.device.pos = pc.endpos;",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": ";\n\t}\n\n\treturn len;\n}\n\n\n/*\n *  strp",
          "new_api": null,
          "old_text": ";\n\t}\n\n\treturn len;\n}\n\n\n/*\n *  strp",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_flush(filter1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "*/\nstruct collector_strpos_data {",
          "new_api": null,
          "old_text": " */\nstruct collector_strpos_data {\n",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_delete(filter1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "oder);\n\t}\n\n\treturn result;\n}\n\n\n/*\n *  MIME he",
          "new_api": null,
          "old_text": "oder);\n\t}\n\n\treturn result;\n}\n\n\n/*\n *  MIME he",
          "new_text": null,
          "old_line_content": "\tresult = mbfl_memory_device_result(&pc.device, result);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "} else {\n\t\t\t\tfor (q = p + length;",
          "new_api": null,
          "old_text": "\t} else {\n\t\t\t\tfor (q = p + length;",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_flush(encoder);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": "q; p += (m = mbtab[*p]));\n\n\t\t\t\tif",
          "new_api": null,
          "old_text": " q; p += (m = mbtab[*p]));\n\n\t\t\t\tif",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_flush(decoder);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "p -= m;\n\t\t\t\t}\n\t\t\t\tend = p;\n\t\t\t}\n\t\t} els",
          "new_api": null,
          "old_text": "\t\t\tp -= m;\n\t\t\t\t}\n\t\t\t\tend = p;\n\t\t\t}\n\t\t} els",
          "new_text": null,
          "old_line_content": "\t\tresult = mbfl_memory_device_result(&device, result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "r_data {\n\tmbfl_convert_filter *conv1_f",
          "new_api": null,
          "old_text": "r_data {\n\tmbfl_convert_filter *conv1_f",
          "new_text": null,
          "old_line_content": "\tmbfl_convert_filter_delete(pc.decoder);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "decoder_data *pd, mbfl_string *result)\n{\n\tswitch",
          "new_api": null,
          "old_text": "decoder_data *pd, mbfl_string *result)\n{\n\tswitch",
          "new_text": null,
          "old_line_content": "\t\t\t(*pd->deco_filter->filter_flush)(pd->deco_filter);",
          "new_line_content": "\tcase 6:\t\t/* check end position */",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "status) {\n\tcase 1:\n\tcase 2:\n\tcase 3:\n\tcase 4:\n\tcas",
          "new_api": null,
          "old_text": "status) {\n\tcase 1:\n\tcase 2:\n\tcase 3:\n\tcase 4:\n\tcas",
          "new_text": null,
          "old_line_content": "\t\t\t(*pd->conv1_filter->filter_flush)(pd->conv1_filter);",
          "new_line_content": "\t\tif (c == 0x3d) {\t\t/* = */",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": "case 8:\n\tcase 9:\n\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);\n\t\tbreak;",
          "new_api": null,
          "old_text": "\tcase 8:\n\tcase 9:\n\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);\n\t\tbreak;",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_convert_filter_reset(pd->conv1_filter, &mbfl_encoding_ascii, &mbfl_encoding_wchar);",
          "new_line_content": "\t\t\t/* flush and reset filter */",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "break;\n\t}\n\t(*pd->conv2_filter->filter_flush)(pd->conv2",
          "new_api": null,
          "old_text": "break;\n\t}\n\t(*pd->conv2_filter->filter_flush)(pd->conv2",
          "new_text": null,
          "old_line_content": "\t\t\t\t(*pd->deco_filter->filter_function)(c, pd->deco_filter);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "_data*\nmime_header_decoder_new(const mbfl",
          "new_api": null,
          "old_text": "_data*\nmime_header_decoder_new(const mbfl",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\tif (c == 0x0d || c == 0x0a) {\t/* CR LF */",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": ">needle.buffer[pc->needle_pos]) {\n\t\t\tif (pc->needl",
          "new_api": null,
          "old_text": ">needle.buffer[pc->needle_pos]) {\n\t\t\tif (pc->needl",
          "new_text": null,
          "old_line_content": "\tmbfl_encoding_detector *identd = mbfl_encoding_detector_new(elist, elistsz, strict);",
          "new_line_content": "\tif (!elistsz) {",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "os == 0) {\n\t\t\t\tpc->found_pos = pc->output;",
          "new_api": null,
          "old_text": "os == 0) {\n\t\t\t\tpc->found_pos = pc->output;\t",
          "new_text": null,
          "old_line_content": "\tmbfl_encoding_detector_feed(identd, string);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "pc->needle_pos++;\t\t\t\t\t\t/* needle po",
          "new_api": null,
          "old_text": "\tpc->needle_pos++;\t\t\t\t\t\t/* needle po",
          "new_text": null,
          "old_line_content": "\tconst mbfl_encoding *enc = mbfl_encoding_detector_judge(identd);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\tif (string == NULL || result == NULL) {",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&device, string->len, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "];\n\tchar lwsp[16];\n};\n\nstatic int\nmime_header_en",
          "new_api": null,
          "old_text": "];\n\tchar lwsp[16];\n};\n\nstatic int\nmime_header_en",
          "new_text": null,
          "old_line_content": "\tmbfl_memory_device_init(&device, string->len, 0);",
          "new_line_content": "\tmbfl_convert_filter *tl_filter = NULL;",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": "er_block_collector",
          "new_api": null,
          "old_text": "er_block_collector(int c",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\tmbfl_convert_filter *next_filter = NULL;",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": "mbfl_memory_device_init(&pd->outdev, 0, 0);\n\tmbfl_memory",
          "new_api": null,
          "old_text": "\tmbfl_memory_device_init(&pd->outdev, 0, 0);\n\tmbfl_memory",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\t\t\tif (c == 0x3d) {\t\t/* = */",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "e_init",
          "new_api": null,
          "old_text": "e_init(&pd->tmpdev, 0, 0);\n\tpd->cspos",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_reset(&pd->tmpdev);",
          "new_line_content": "\t\t\t\tpd->status = 1;",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": "r_data *pe = (struct mime_header_encoder_data *)data;\n\n\tswitch (pe->status2) {\n\tcase 1:\t/* encoded word */",
          "new_api": null,
          "old_text": "r_data *pe = (struct mime_header_encoder_data *)data;\n\n\tswitch (pe->status2) {\n\tcase 1:\t/* encoded word */\n\t\t",
          "new_text": null,
          "old_line_content": "\tdecoder = mbfl_convert_filter_new(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "new_line_content": "\t    mbfl_memory_device_output, 0, &device);",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "decoder     = NULL;\n\t\tco",
          "new_api": null,
          "old_text": "decoder     = NULL;\n\t\tco",
          "new_text": null,
          "old_line_content": "\tmbfl_string_init(result);",
          "new_line_content": "\t\tfrom = string->len;",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "g_wchar, pd->outcode, mbfl_memory_device_out",
          "new_api": null,
          "old_text": "g_wchar, pd->outcode, mbfl_memory_device_out",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmbfl_memory_device_output(0x20, &pd->tmpdev);\t/* SPACE */",
          "new_line_content": "\t\tif (c != 0x0d && c != 0x0a && c != 0x20 && c != 0x09) {",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "filter = mbfl_convert_filter_new(pd->incode, &mbfl_encoding",
          "new_api": null,
          "old_text": "filter = mbfl_convert_filter_new(pd->incode, &mbfl_encoding",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(*pd->conv1_filter->filter_function)(0x20, pd->conv1_filter);",
          "new_line_content": "\t\t\t\tif (pd->status == 8) {",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "new_line_content": "\t\t    &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": "_filter_output_pipe, 0, pd->conv2_filter)",
          "new_api": null,
          "old_text": "_filter_output_pipe, 0, pd->conv2_filter)",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "conv2_filter_backup);\n\t\tmbfl_convert_filter_copy(pe->encod_filter, pe->encod_filter_backup);\n\t\t(*pe->conv2_filter->filter_function)(c, pe->conv2_filter);\n\t\t(*pe->conv2_f",
          "new_api": null,
          "old_text": "conv2_filter_backup);\n\t\tmbfl_convert_filter_copy(pe->encod_filter, pe->encod_filter_backup);\n\t\t(*pe->conv2_filter->filter_function)(c, pe->conv2_filter);\n\t\t(*pe->conv2_f",
          "new_text": null,
          "old_line_content": "\ttl_filter = mbfl_convert_filter_new2(",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\t\tencoder = mbfl_convert_filter_new(",
          "new_line_content": "\t\t    &mbfl_encoding_wchar,",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": "coding_8bit, mbfl_filter_output_pipe, 0,",
          "new_api": null,
          "old_text": "coding_8bit, mbfl_filter_output_pipe, 0, ",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\t\t\tpd->status = 1;",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": "nv1_filter);\n\n\tif (pd->conv1_filter == NULL || pd->conv2_",
          "new_api": null,
          "old_text": "nv1_filter);\n\n\tif (pd->conv1_filter == NULL || pd->conv2_",
          "new_text": null,
          "old_line_content": "\t\t\t\tmbfl_convert_filter_devcat(pd->conv1_filter, &pd->tmpdev);",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(encoder);",
          "new_line_content": "\t\t    (flush_function_t)mbfl_filt_decode_htmlnumericentity_flush, &pc);",
          "content_same": false
        },
        {
          "line": 2542,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter_delete(pc.decoder);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "ad + pe->firstindent;\n\t\tpe->outdev.pos = pe->prevpos;\n\t\tmbfl_convert_filter_copy(pe->conv2_filter_backup, pe->conv2_filter);\n\t\tmbfl_convert_filter_copy(pe->encod_filter_backup, pe->e",
          "new_api": null,
          "old_text": "ad + pe->firstindent;\n\t\tpe->outdev.pos = pe->prevpos;\n\t\tmbfl_convert_filter_copy(pe->conv2_filter_backup, pe->conv2_filter);\n\t\tmbfl_convert_filter_copy(pe->encod_filter_backup, pe->e",
          "new_text": null,
          "old_line_content": "\tencoder = mbfl_convert_filter_new(",
          "new_line_content": "\ttl_filter->opaque = (void*)((intptr_t)mode);",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "lete",
          "new_api": null,
          "old_text": "lete(pd->conv2_filter);\n\t\tmbfl_convert_fi",
          "new_text": null,
          "old_line_content": "\t\t\tmbfl_memory_device_output(c, &pd->tmpdev);",
          "new_line_content": "\t\tif (c == 0x0d || c == 0x0a) {\t/* CR LF */",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "new_line_content": "\tn = string->len;",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "r);\n\t\t\tmbfl_memory_device_strncat(&pe->ou",
          "new_api": null,
          "old_text": "r);\n\t\t\tmbfl_memory_device_strncat(&pe->ou",
          "new_text": null,
          "old_line_content": "\t\t\tif ((*encoder->filter_function)(*p++, encoder) < 0) {",
          "new_line_content": "\tn = string->len;",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": "*(--pos);\n\t\t\tif (c < 0x80) {\n\t\t\t\t++offset;\n\t\t\t} else if ((c & 0xc0) != 0x80) {\n\t\t\t\t++offset;\n\t\t\t}\n\t\t}\n\t\tr",
          "new_api": null,
          "old_text": " *(--pos);\n\t\t\tif (c < 0x80) {\n\t\t\t\t++offset;\n\t\t\t} else if ((c & 0xc0) != 0x80) {\n\t\t\t\t++offset;\n\t\t\t}\n\t\t}\n\t\tr",
          "new_text": null,
          "old_line_content": "\t\tmbfl_convert_filter *filter = mbfl_convert_filter_new(",
          "new_line_content": "\t\t}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 72,
      "total_additions": 291,
      "total_deletions": 293,
      "total_api_changes": 656
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 656,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          304,
          305,
          306,
          303
        ]
      }
    },
    "api_calls_before": 385,
    "api_calls_after": 382,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 3,
      "total_diff_lines": 25
    }
  }
}