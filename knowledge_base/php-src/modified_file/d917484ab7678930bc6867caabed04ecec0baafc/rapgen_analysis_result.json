{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/d917484ab7678930bc6867caabed04ecec0baafc",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/d917484ab7678930bc6867caabed04ecec0baafc/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/d917484ab7678930bc6867caabed04ecec0baafc/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/d917484ab7678930bc6867caabed04ecec0baafc/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 4104,
          "old_api": "php_error_docref",
          "new_api": "Z_TYPE",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #1 is not an array\")",
          "new_text": "Z_TYPE(args[0])",
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Argument #1 is not an array\");",
          "new_line_content": "\tif (Z_TYPE(args[0]) != IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4105,
          "old_api": "RETURN_NULL",
          "new_api": "php_error_docref",
          "old_text": "RETURN_NULL()",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #1 is not an array\")",
          "old_line_content": "\t\tRETURN_NULL();",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Argument #1 is not an array\");",
          "content_same": false
        },
        {
          "line": 4112,
          "old_api": "php_error_docref",
          "new_api": "Z_TYPE",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is not an array\", i + 1)",
          "new_text": "Z_TYPE(args[i])",
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is not an array\", i + 1);",
          "new_line_content": "\t\tif (Z_TYPE(args[i]) != IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4113,
          "old_api": "RETURN_NULL",
          "new_api": "php_error_docref",
          "old_text": "RETURN_NULL()",
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is not an array\", i + 1)",
          "old_line_content": "\t\t\tRETURN_NULL();",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is not an array\", i + 1);",
          "content_same": false
        },
        {
          "line": 4124,
          "old_api": "zend_hash_init",
          "new_api": "ZVAL_NULL",
          "old_text": "zend_hash_init(&exclude, num, NULL, NULL, 0)",
          "new_text": "ZVAL_NULL(&dummy)",
          "old_line_content": "\tzend_hash_init(&exclude, num, NULL, NULL, 0);",
          "new_line_content": "\tZVAL_NULL(&dummy);",
          "content_same": false
        },
        {
          "line": 4129,
          "old_api": "zend_string_release",
          "new_api": "zval_get_string",
          "old_text": "zend_string_release(str)",
          "new_text": "zval_get_string(value)",
          "old_line_content": "\t\t\tzend_string_release(str);",
          "new_line_content": "\t\t\tstr = zval_get_string(value);",
          "content_same": false
        },
        {
          "line": 4130,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "zend_hash_add",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "zend_hash_add(&exclude, str, &dummy)",
          "old_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\tzend_hash_add(&exclude, str, &dummy);",
          "content_same": false
        },
        {
          "line": 4136,
          "old_api": "zval_get_string",
          "new_api": "Z_ARRVAL",
          "old_text": "zval_get_string(value)",
          "new_text": "Z_ARRVAL(args[0])",
          "old_line_content": "\t\tstr = zval_get_string(value);",
          "new_line_content": "\tarray_init_size(return_value, zend_hash_num_elements(Z_ARRVAL(args[0])));",
          "content_same": false
        },
        {
          "line": 4139,
          "old_api": "Z_ARRVAL_P",
          "new_api": "zend_hash_exists",
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": "zend_hash_exists(&exclude, str)",
          "old_line_content": "\t\t\t\tvalue = zend_hash_add_new(Z_ARRVAL_P(return_value), key, value);",
          "new_line_content": "\t\tif (!zend_hash_exists(&exclude, str)) {",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": "zval_add_ref",
          "new_api": "Z_ARRVAL_P",
          "old_text": "zval_add_ref(value)",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t\t\tzval_add_ref(value);",
          "new_line_content": "\t\t\t\tvalue = zend_hash_index_add_new(Z_ARRVAL_P(return_value), idx, value);",
          "content_same": false
        },
        {
          "line": 4145,
          "old_api": "zend_string_release",
          "new_api": "zval_add_ref",
          "old_text": "zend_string_release(str)",
          "new_text": "zval_add_ref(value)",
          "old_line_content": "\t\tzend_string_release(str);",
          "new_line_content": "\t\t\tzval_add_ref(value);",
          "content_same": false
        },
        {
          "line": 4148,
          "old_api": "zend_hash_destroy",
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": "zend_hash_destroy(&exclude)",
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\tzend_hash_destroy(&exclude);",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4277,
          "old_api": "Z_IMMUTABLE_P",
          "new_api": "ZVAL_DEREF",
          "old_text": "Z_IMMUTABLE_P(arg)",
          "new_text": "ZVAL_DEREF(arg)",
          "old_line_content": "\t\t\tif (Z_IMMUTABLE_P(arg)) {",
          "new_line_content": "\t\tZVAL_DEREF(arg);",
          "content_same": false
        },
        {
          "line": 4278,
          "old_api": "zval_copy_ctor",
          "new_api": "Z_TYPE_P",
          "old_text": "zval_copy_ctor(arg)",
          "new_text": "Z_TYPE_P(arg)",
          "old_line_content": "\t\t\t\tzval_copy_ctor(arg);",
          "new_line_content": "\t\tif (Z_TYPE_P(arg) == IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4356,
          "old_api": "efree",
          "new_api": "ARRAYG",
          "old_text": "efree(arrays)",
          "new_text": "ARRAYG(multisort_flags)",
          "old_line_content": "\t\tefree(arrays);",
          "new_line_content": "\t\t\tefree(ARRAYG(multisort_flags)[k]);",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": "Z_TYPE",
          "new_api": "Z_ARRVAL_P",
          "old_text": "Z_TYPE(p->val)",
          "new_text": "Z_ARRVAL_P(arrays[i])",
          "old_line_content": "\t\t\tif (Z_TYPE(p->val) == IS_UNDEF) continue;",
          "new_line_content": "\t\tfor (idx = 0; idx < Z_ARRVAL_P(arrays[i])->nNumUsed; idx++) {",
          "content_same": false
        },
        {
          "line": 4415,
          "old_api": "ARRAYG",
          "new_api": "efree",
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": "efree(indirect)",
          "old_line_content": "\t\tefree(ARRAYG(multisort_flags)[k]);",
          "new_line_content": "\tefree(indirect);",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": "efree",
          "new_api": "ARRAYG",
          "old_text": "efree(arrays)",
          "new_text": "ARRAYG(multisort_flags)",
          "old_line_content": "\tefree(arrays);",
          "new_line_content": "\t\tefree(ARRAYG(multisort_flags)[k]);",
          "content_same": false
        },
        {
          "line": 4438,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": "Z_ARRVAL_P",
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": "Z_ARRVAL_P(input)",
          "old_line_content": "\tif (ZEND_NUM_ARGS() > 1) {",
          "new_line_content": "\tnum_avail = zend_hash_num_elements(Z_ARRVAL_P(input));",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": "php_error_docref",
          "new_api": "ZEND_NUM_ARGS",
          "old_text": "php_error_docref(NULL, E_WARNING, \"Second argument has to be between 1 and the number of elements in the array\")",
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Second argument has to be between 1 and the number of elements in the array\");",
          "new_line_content": "\tif (ZEND_NUM_ARGS() > 1) {",
          "content_same": false
        },
        {
          "line": 4462,
          "old_api": "zend_string_copy",
          "new_api": "Z_TYPE_P",
          "old_text": "zend_string_copy(string_key)",
          "new_text": "Z_TYPE_P(return_value)",
          "old_line_content": "\t\t\t\t\tRETURN_STR(zend_string_copy(string_key));",
          "new_line_content": "\t\t\tif (Z_TYPE_P(return_value) != IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4464,
          "old_api": "RETURN_LONG",
          "new_api": "zend_string_copy",
          "old_text": "RETURN_LONG(num_key)",
          "new_text": "zend_string_copy(string_key)",
          "old_line_content": "\t\t\t\t\tRETURN_LONG(num_key);",
          "new_line_content": "\t\t\t\t\tRETURN_STR(zend_string_copy(string_key));",
          "content_same": false
        },
        {
          "line": 4471,
          "old_api": "add_next_index_long",
          "new_api": "zend_string_copy",
          "old_text": "add_next_index_long(return_value, num_key)",
          "new_text": "zend_string_copy(string_key)",
          "old_line_content": "\t\t\t\t\tadd_next_index_long(return_value, num_key);",
          "new_line_content": "\t\t\t\t\tadd_next_index_str(return_value, zend_string_copy(string_key));",
          "content_same": false
        },
        {
          "line": 4501,
          "old_api": "fast_add_function",
          "new_api": "ZVAL_DUP",
          "old_text": "fast_add_function(return_value, return_value, &entry_n)",
          "new_text": "ZVAL_DUP(&entry_n, entry)",
          "old_line_content": "\t\tfast_add_function(return_value, return_value, &entry_n);",
          "new_line_content": "\t\tZVAL_DUP(&entry_n, entry);",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "convert_scalar_to_number",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "convert_scalar_to_number(&entry_n)",
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\tconvert_scalar_to_number(&entry_n);",
          "content_same": false
        },
        {
          "line": 4531,
          "old_api": "Z_TYPE_P",
          "new_api": "convert_scalar_to_number",
          "old_text": "Z_TYPE_P(return_value)",
          "new_text": "convert_scalar_to_number(&entry_n)",
          "old_line_content": "\t\tif (Z_TYPE(entry_n) == IS_LONG && Z_TYPE_P(return_value) == IS_LONG) {",
          "new_line_content": "\t\tconvert_scalar_to_number(&entry_n);",
          "content_same": false
        },
        {
          "line": 4540,
          "old_api": "Z_DVAL",
          "new_api": "convert_to_double",
          "old_text": "Z_DVAL(entry_n)",
          "new_text": "convert_to_double(return_value)",
          "old_line_content": "\t\tZ_DVAL_P(return_value) *= Z_DVAL(entry_n);",
          "new_line_content": "\t\tconvert_to_double(return_value);",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "convert_to_double",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "convert_to_double(&entry_n)",
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\tconvert_to_double(&entry_n);",
          "content_same": false
        },
        {
          "line": 4567,
          "old_api": "ZVAL_NULL",
          "new_api": "ZVAL_DUP",
          "old_text": "ZVAL_NULL(&result)",
          "new_text": "ZVAL_DUP(&result, initial)",
          "old_line_content": "\t\tZVAL_NULL(&result);",
          "new_line_content": "\t\tZVAL_DUP(&result, initial);",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": "zend_hash_num_elements",
          "new_api": "Z_ARRVAL_P",
          "old_text": "zend_hash_num_elements(htbl)",
          "new_text": "Z_ARRVAL_P(input)",
          "old_line_content": "\tif (zend_hash_num_elements(htbl) == 0) {",
          "new_line_content": "\thtbl = Z_ARRVAL_P(input);",
          "content_same": false
        },
        {
          "line": 4590,
          "old_api": "zval_ptr_dtor",
          "new_api": "Z_TYPE",
          "old_text": "zval_ptr_dtor(&args[0])",
          "new_text": "Z_TYPE(retval)",
          "old_line_content": "\t\t\tzval_ptr_dtor(&args[0]);",
          "new_line_content": "\t\tif (zend_call_function(&fci, &fci_cache) == SUCCESS && Z_TYPE(retval) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4592,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": "zval_ptr_dtor",
          "old_text": "ZVAL_COPY_VALUE(&result, &retval)",
          "new_text": "zval_ptr_dtor(&args[0])",
          "old_line_content": "\t\t\tZVAL_COPY_VALUE(&result, &retval);",
          "new_line_content": "\t\t\tzval_ptr_dtor(&args[0]);",
          "content_same": false
        },
        {
          "line": 4594,
          "old_api": "zval_ptr_dtor",
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": "zval_ptr_dtor(&args[1])",
          "new_text": "ZVAL_COPY_VALUE(&result, &retval)",
          "old_line_content": "\t\t\tzval_ptr_dtor(&args[1]);",
          "new_line_content": "\t\t\tZVAL_COPY_VALUE(&result, &retval);",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": "RETVAL_ZVAL",
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": "RETVAL_ZVAL(&result, 1, 1)",
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\tRETVAL_ZVAL(&result, 1, 1);",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4664,
          "old_api": "Z_ISUNDEF",
          "new_api": "zval_ptr_dtor",
          "old_text": "Z_ISUNDEF(retval)",
          "new_text": "zval_ptr_dtor(&args[1])",
          "old_line_content": "\t\t\t\tif (!Z_ISUNDEF(retval)) {",
          "new_line_content": "\t\t\t\t\tzval_ptr_dtor(&args[1]);",
          "content_same": false
        },
        {
          "line": 4667,
          "old_api": "zval_ptr_dtor",
          "new_api": "zend_is_true",
          "old_text": "zval_ptr_dtor(&retval)",
          "new_text": "zend_is_true(&retval)",
          "old_line_content": "\t\t\t\t\tzval_ptr_dtor(&retval);",
          "new_line_content": "\t\t\t\t\tint retval_true = zend_is_true(&retval);",
          "content_same": false
        },
        {
          "line": 4690,
          "old_api": "zval_add_ref",
          "new_api": "Z_ARRVAL_P",
          "old_text": "zval_add_ref(operand)",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t\tzval_add_ref(operand);",
          "new_line_content": "\t\t\toperand = zend_hash_index_update(Z_ARRVAL_P(return_value), num_key, operand);",
          "content_same": false
        },
        {
          "line": 4714,
          "old_api": "Z_PARAM_VARIADIC",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "Z_PARAM_VARIADIC('+', arrays, n_arrays)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, -1)",
          "old_line_content": "\t\tZ_PARAM_VARIADIC('+', arrays, n_arrays)",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, -1)",
          "content_same": false
        },
        {
          "line": 4715,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "Z_PARAM_FUNC_EX",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "Z_PARAM_FUNC_EX(fci, fci_cache, 1, 0)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\t\tZ_PARAM_FUNC_EX(fci, fci_cache, 1, 0)",
          "content_same": false
        },
        {
          "line": 4747,
          "old_api": "Z_TYPE",
          "new_api": "ZVAL_COPY",
          "old_text": "Z_TYPE(result)",
          "new_text": "ZVAL_COPY(&arg, zv)",
          "old_line_content": "\t\t\tif (zend_call_function(&fci, &fci_cache) != SUCCESS || Z_TYPE(result) == IS_UNDEF) {",
          "new_line_content": "\t\t\tZVAL_COPY(&arg, zv);",
          "content_same": false
        },
        {
          "line": 4749,
          "old_api": "zval_ptr_dtor",
          "new_api": "Z_TYPE",
          "old_text": "zval_ptr_dtor(&arg)",
          "new_text": "Z_TYPE(result)",
          "old_line_content": "\t\t\t\tzval_ptr_dtor(&arg);",
          "new_line_content": "\t\t\tif (zend_call_function(&fci, &fci_cache) != SUCCESS || Z_TYPE(result) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4750,
          "old_api": "RETURN_NULL",
          "new_api": "zval_dtor",
          "old_text": "RETURN_NULL()",
          "new_text": "zval_dtor(return_value)",
          "old_line_content": "\t\t\t\tRETURN_NULL();",
          "new_line_content": "\t\t\t\tzval_dtor(return_value);",
          "content_same": false
        },
        {
          "line": 4752,
          "old_api": "zval_ptr_dtor",
          "new_api": "RETURN_NULL",
          "old_text": "zval_ptr_dtor(&arg)",
          "new_text": "RETURN_NULL()",
          "old_line_content": "\t\t\t\tzval_ptr_dtor(&arg);",
          "new_line_content": "\t\t\t\tRETURN_NULL();",
          "content_same": false
        },
        {
          "line": 4759,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "Z_ARRVAL_P",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\t\tzend_hash_index_add_new(Z_ARRVAL_P(return_value), num_key, &result);",
          "content_same": false
        },
        {
          "line": 4761,
          "old_api": "ecalloc",
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": "ecalloc(n_arrays, sizeof(HashPosition))",
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\tuint32_t *array_pos = (HashPosition *)ecalloc(n_arrays, sizeof(HashPosition));",
          "new_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4766,
          "old_api": "efree",
          "new_api": "Z_TYPE",
          "old_text": "efree(array_pos)",
          "new_text": "Z_TYPE(arrays[i])",
          "old_line_content": "\t\t\t\tefree(array_pos);",
          "new_line_content": "\t\t\tif (Z_TYPE(arrays[i]) != IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": "ZEND_FCI_INITIALIZED",
          "new_api": "array_init_size",
          "old_text": "ZEND_FCI_INITIALIZED(fci)",
          "new_text": "array_init_size(return_value, maxlen)",
          "old_line_content": "\t\tif (!ZEND_FCI_INITIALIZED(fci)) {",
          "new_line_content": "\t\tarray_init_size(return_value, maxlen);",
          "content_same": false
        },
        {
          "line": 4794,
          "old_api": "Z_ARRVAL",
          "new_api": "ZVAL_NULL",
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": "ZVAL_NULL(&zv)",
          "old_line_content": "\t\t\t\t\t\t} else if (Z_TYPE(Z_ARRVAL(arrays[i])->arData[pos].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_NULL(&zv);",
          "content_same": false
        },
        {
          "line": 4820,
          "old_api": "Z_ARRVAL",
          "new_api": "ZVAL_NULL",
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": "ZVAL_NULL(&params[i])",
          "old_line_content": "\t\t\t\t\t\t} else if (Z_TYPE(Z_ARRVAL(arrays[i])->arData[pos].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_NULL(&params[i]);",
          "content_same": false
        },
        {
          "line": 4836,
          "old_api": "zval_dtor",
          "new_api": "Z_TYPE",
          "old_text": "zval_dtor(return_value)",
          "new_text": "Z_TYPE(result)",
          "old_line_content": "\t\t\t\t\tzval_dtor(return_value);",
          "new_line_content": "\t\t\t\tif (zend_call_function(&fci, &fci_cache) != SUCCESS || Z_TYPE(result) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4838,
          "old_api": "zval_ptr_dtor",
          "new_api": "zval_dtor",
          "old_text": "zval_ptr_dtor(&params[i])",
          "new_text": "zval_dtor(return_value)",
          "old_line_content": "\t\t\t\t\t\tzval_ptr_dtor(&params[i]);",
          "new_line_content": "\t\t\t\t\tzval_dtor(return_value);",
          "content_same": false
        },
        {
          "line": 4840,
          "old_api": "efree",
          "new_api": "zval_ptr_dtor",
          "old_text": "efree(params)",
          "new_text": "zval_ptr_dtor(&params[i])",
          "old_line_content": "\t\t\t\t\tefree(params);",
          "new_line_content": "\t\t\t\t\t\tzval_ptr_dtor(&params[i]);",
          "content_same": false
        },
        {
          "line": 4872,
          "old_api": "Z_PARAM_ARRAY_OR_OBJECT_HT",
          "new_api": "ZEND_PARSE_PARAMETERS_START",
          "old_text": "Z_PARAM_ARRAY_OR_OBJECT_HT(array)",
          "new_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "old_line_content": "\t\tZ_PARAM_ARRAY_OR_OBJECT_HT(array)",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": "ZEND_PARSE_PARAMETERS_END",
          "new_api": "Z_PARAM_ZVAL",
          "old_text": "ZEND_PARSE_PARAMETERS_END()",
          "new_text": "Z_PARAM_ZVAL(key)",
          "old_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "new_line_content": "\t\tZ_PARAM_ZVAL(key)",
          "content_same": false
        },
        {
          "line": 4878,
          "old_api": "Z_STR_P",
          "new_api": "Z_TYPE_P",
          "old_text": "Z_STR_P(key)",
          "new_text": "Z_TYPE_P(key)",
          "old_line_content": "\t\t\tif (zend_symtable_exists(array, Z_STR_P(key))) {",
          "new_line_content": "\tswitch (Z_TYPE_P(key)) {",
          "content_same": false
        },
        {
          "line": 4930,
          "old_api": "ZVAL_UNDEF",
          "new_api": "array_init_size",
          "old_text": "ZVAL_UNDEF(&chunk)",
          "new_text": "array_init_size(return_value, (uint32_t)(((num_in - 1) / size) + 1))",
          "old_line_content": "\tZVAL_UNDEF(&chunk);",
          "new_line_content": "\tarray_init_size(return_value, (uint32_t)(((num_in - 1) / size) + 1));",
          "content_same": false
        },
        {
          "line": 4948,
          "old_api": "zval_add_ref",
          "new_api": "Z_ARRVAL",
          "old_text": "zval_add_ref(entry)",
          "new_text": "Z_ARRVAL(chunk)",
          "old_line_content": "\t\tzval_add_ref(entry);",
          "new_line_content": "\t\t\tentry = zend_hash_next_index_insert(Z_ARRVAL(chunk), entry);",
          "content_same": false
        },
        {
          "line": 4956,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "ZVAL_UNDEF",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "ZVAL_UNDEF(&chunk)",
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\tZVAL_UNDEF(&chunk);",
          "content_same": false
        },
        {
          "line": 4998,
          "old_api": "Z_TYPE_P",
          "new_api": "Z_ARRVAL_P",
          "old_text": "Z_TYPE_P(entry_keys)",
          "new_text": "Z_ARRVAL_P(values)",
          "old_line_content": "\t\t\t\tif (Z_TYPE_P(entry_keys) == IS_LONG) {",
          "new_line_content": "\t\t\t} else if (Z_TYPE(Z_ARRVAL_P(values)->arData[pos_values].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 5000,
          "old_api": "Z_LVAL_P",
          "new_api": "Z_TYPE_P",
          "old_text": "Z_LVAL_P(entry_keys)",
          "new_text": "Z_TYPE_P(entry_keys)",
          "old_line_content": "\t\t\t\t\t\tZ_LVAL_P(entry_keys), entry_values);",
          "new_line_content": "\t\t\t\tif (Z_TYPE_P(entry_keys) == IS_LONG) {",
          "content_same": false
        },
        {
          "line": 5002,
          "old_api": "zval_get_string",
          "new_api": "Z_LVAL_P",
          "old_text": "zval_get_string(entry_keys)",
          "new_text": "Z_LVAL_P(entry_keys)",
          "old_line_content": "\t\t\t\t\tzend_string *key = zval_get_string(entry_keys);",
          "new_line_content": "\t\t\t\t\t\tZ_LVAL_P(entry_keys), entry_values);",
          "content_same": false
        },
        {
          "line": 5005,
          "old_api": "zend_string_release",
          "new_api": "Z_ARRVAL_P",
          "old_text": "zend_string_release(key)",
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t\t\t\t\tzend_string_release(key);",
          "new_line_content": "\t\t\t\t\tentry_values = zend_symtable_update(Z_ARRVAL_P(return_value),",
          "content_same": false
        },
        {
          "line": 5007,
          "old_api": "zval_add_ref",
          "new_api": "zend_string_release",
          "old_text": "zval_add_ref(entry_values)",
          "new_text": "zend_string_release(key)",
          "old_line_content": "\t\t\t\tzval_add_ref(entry_values);",
          "new_line_content": "\t\t\t\t\tzend_string_release(key);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4096,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"at least 2 parameters are required, %d given\", ZEND_NUM_ARGS());",
          "content_same": false
        },
        {
          "line": 4100,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"+\", &args, &argc) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": null,
          "new_api": "RETURN_NULL",
          "old_text": null,
          "new_text": "RETURN_NULL()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tRETURN_NULL();",
          "content_same": false
        },
        {
          "line": 4621,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a|fl\", &array, &fci, &fci_cache, &use_type) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": null,
          "new_api": "array_init",
          "old_text": null,
          "new_text": "array_init(return_value)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tarray_init(return_value);",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": null,
          "new_api": "RETURN_NULL",
          "old_text": null,
          "new_text": "RETURN_NULL()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETURN_NULL();",
          "content_same": false
        },
        {
          "line": 4626,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(array)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_hash_num_elements(Z_ARRVAL_P(array)) == 0) {",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(args[i])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tnum += zend_hash_num_elements(Z_ARRVAL(args[i]));",
          "content_same": false
        },
        {
          "line": 4630,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t\tfci.no_separation = 0;",
          "new_line_content": "\tif (ZEND_NUM_ARGS() > 1) {",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": null,
          "new_api": "ZVAL_COPY",
          "old_text": null,
          "new_text": "ZVAL_COPY(return_value, &args[0])",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\t\tZVAL_COPY(return_value, &args[0]);",
          "content_same": false
        },
        {
          "line": 4126,
          "old_api": null,
          "new_api": "zend_hash_init",
          "old_text": null,
          "new_text": "zend_hash_init(&exclude, num, NULL, NULL, 0)",
          "old_line_content": "\t\tZEND_HASH_FOREACH_VAL_IND(Z_ARRVAL(args[i]), value) {",
          "new_line_content": "\tzend_hash_init(&exclude, num, NULL, NULL, 0);",
          "content_same": false
        },
        {
          "line": 4131,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(str)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tzend_string_release(str);",
          "content_same": false
        },
        {
          "line": 4132,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "",
          "new_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4646,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(&args[0], num_key)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\t\tZVAL_LONG(&args[0], num_key);",
          "content_same": false
        },
        {
          "line": 4138,
          "old_api": null,
          "new_api": "zval_get_string",
          "old_text": null,
          "new_text": "zval_get_string(value)",
          "old_line_content": "\t\t\tif (key) {",
          "new_line_content": "\t\tstr = zval_get_string(value);",
          "content_same": false
        },
        {
          "line": 4652,
          "old_api": null,
          "new_api": "ZVAL_STR_COPY",
          "old_text": null,
          "new_text": "ZVAL_STR_COPY(&args[0], string_key)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tZVAL_STR_COPY(&args[0], string_key);",
          "content_same": false
        },
        {
          "line": 4657,
          "old_api": null,
          "new_api": "ZVAL_COPY",
          "old_text": null,
          "new_text": "ZVAL_COPY(&args[0], operand)",
          "old_line_content": "\t\t\tfci.params = args;",
          "new_line_content": "\t\t\t\tZVAL_COPY(&args[0], operand);",
          "content_same": false
        },
        {
          "line": 4147,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(str)",
          "old_line_content": "",
          "new_line_content": "\t\tzend_string_release(str);",
          "content_same": false
        },
        {
          "line": 4661,
          "old_api": null,
          "new_api": "zend_call_function",
          "old_text": null,
          "new_text": "zend_call_function(&fci, &fci_cache)",
          "old_line_content": "\t\t\t\tif (use_type == ARRAY_FILTER_USE_BOTH) {",
          "new_line_content": "\t\t\tif (zend_call_function(&fci, &fci_cache) == SUCCESS) {",
          "content_same": false
        },
        {
          "line": 4150,
          "old_api": null,
          "new_api": "zend_hash_destroy",
          "old_text": null,
          "new_text": "zend_hash_destroy(&exclude)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tzend_hash_destroy(&exclude);",
          "content_same": false
        },
        {
          "line": 4666,
          "old_api": null,
          "new_api": "Z_ISUNDEF",
          "old_text": null,
          "new_text": "Z_ISUNDEF(retval)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tif (!Z_ISUNDEF(retval)) {",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&retval)",
          "old_line_content": "\t\t\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\t\tzval_ptr_dtor(&retval);",
          "content_same": false
        },
        {
          "line": 4158,
          "old_api": null,
          "new_api": "php_array_diff",
          "old_text": null,
          "new_text": "php_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_NORMAL, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_INTERNAL)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_NORMAL, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_INTERNAL);",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": null,
          "new_api": "php_array_diff_key",
          "old_text": null,
          "new_text": "php_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_INTERNAL)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_INTERNAL);",
          "content_same": false
        },
        {
          "line": 4679,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&args[1])",
          "old_line_content": "\t\t\t\treturn;",
          "new_line_content": "\t\t\t\t\tzval_ptr_dtor(&args[1]);",
          "content_same": false
        },
        {
          "line": 4683,
          "old_api": null,
          "new_api": "zend_is_true",
          "old_text": null,
          "new_text": "zend_is_true(operand)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t} else if (!zend_is_true(operand)) {",
          "content_same": false
        },
        {
          "line": 4174,
          "old_api": null,
          "new_api": "php_array_diff",
          "old_text": null,
          "new_text": "php_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_INTERNAL, DIFF_COMP_KEY_USER)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_INTERNAL, DIFF_COMP_KEY_USER);",
          "content_same": false
        },
        {
          "line": 4692,
          "old_api": null,
          "new_api": "zval_add_ref",
          "old_text": null,
          "new_text": "zval_add_ref(operand)",
          "old_line_content": "}",
          "new_line_content": "\t\tzval_add_ref(operand);",
          "content_same": false
        },
        {
          "line": 4693,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4182,
          "old_api": null,
          "new_api": "php_array_diff_key",
          "old_text": null,
          "new_text": "php_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_USER)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_USER);",
          "content_same": false
        },
        {
          "line": 4190,
          "old_api": null,
          "new_api": "php_array_diff",
          "old_text": null,
          "new_text": "php_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_USER)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tphp_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_USER);",
          "content_same": false
        },
        {
          "line": 4710,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"f!+\", &fci, &fci_cache, &arrays, &n_arrays) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4716,
          "old_api": null,
          "new_api": "Z_PARAM_VARIADIC",
          "old_text": null,
          "new_text": "Z_PARAM_VARIADIC('+', arrays, n_arrays)",
          "old_line_content": "#endif",
          "new_line_content": "\t\tZ_PARAM_VARIADIC('+', arrays, n_arrays)",
          "content_same": false
        },
        {
          "line": 4717,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 4720,
          "old_api": null,
          "new_api": "RETVAL_NULL",
          "old_text": null,
          "new_text": "RETVAL_NULL()",
          "old_line_content": "\tif (n_arrays == 1) {",
          "new_line_content": "\tRETVAL_NULL();",
          "content_same": false
        },
        {
          "line": 4211,
          "old_api": null,
          "new_api": "ARRAYG",
          "old_text": null,
          "new_text": "ARRAYG(compare_func)(&temp, &ab[r].val, &bb[r].val)",
          "old_line_content": "\t\tif (result != 0) {",
          "new_line_content": "\t\tARRAYG(compare_func)(&temp, &ab[r].val, &bb[r].val);",
          "content_same": false
        },
        {
          "line": 4212,
          "old_api": null,
          "new_api": "Z_LVAL",
          "old_text": null,
          "new_text": "Z_LVAL(temp)",
          "old_line_content": "\t\t\treturn result > 0 ? 1 : -1;",
          "new_line_content": "\t\tresult = ARRAYG(multisort_flags)[MULTISORT_ORDER][r] * Z_LVAL(temp);",
          "content_same": false
        },
        {
          "line": 4727,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(arrays[0])",
          "old_line_content": "\t\t\treturn;",
          "new_line_content": "\t\tif (Z_TYPE(arrays[0]) != IS_ARRAY) {",
          "content_same": false
        },
        {
          "line": 4728,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", 2)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", 2);",
          "content_same": false
        },
        {
          "line": 4217,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(ab[r].val)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t} while (Z_TYPE(ab[r].val) != IS_UNDEF);",
          "content_same": false
        },
        {
          "line": 4731,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[0])",
          "old_line_content": "\t\t/* Short-circuit: if no callback and only one array, just return it. */",
          "new_line_content": "\t\tmaxlen = zend_hash_num_elements(Z_ARRVAL(arrays[0]));",
          "content_same": false
        },
        {
          "line": 4734,
          "old_api": null,
          "new_api": "ZEND_FCI_INITIALIZED",
          "old_text": null,
          "new_text": "ZEND_FCI_INITIALIZED(fci)",
          "old_line_content": "\t\t\treturn;",
          "new_line_content": "\t\tif (!ZEND_FCI_INITIALIZED(fci)) {",
          "content_same": false
        },
        {
          "line": 4735,
          "old_api": null,
          "new_api": "RETVAL_ZVAL",
          "old_text": null,
          "new_text": "RETVAL_ZVAL(&arrays[0], 1, 0)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tRETVAL_ZVAL(&arrays[0], 1, 0);",
          "content_same": false
        },
        {
          "line": 4739,
          "old_api": null,
          "new_api": "array_init_size",
          "old_text": null,
          "new_text": "array_init_size(return_value, maxlen)",
          "old_line_content": "\t\tZEND_HASH_FOREACH_KEY_VAL(Z_ARRVAL(arrays[0]), num_key, str_key, zv) {",
          "new_line_content": "\t\tarray_init_size(return_value, maxlen);",
          "content_same": false
        },
        {
          "line": 4751,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&arg)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\tzval_ptr_dtor(&arg);",
          "content_same": false
        },
        {
          "line": 4754,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&arg)",
          "old_line_content": "\t\t\tif (str_key) {",
          "new_line_content": "\t\t\t\tzval_ptr_dtor(&arg);",
          "content_same": false
        },
        {
          "line": 4763,
          "old_api": null,
          "new_api": "ecalloc",
          "old_text": null,
          "new_text": "ecalloc(n_arrays, sizeof(HashPosition))",
          "old_line_content": "\t\tfor (i = 0; i < n_arrays; i++) {",
          "new_line_content": "\t\tuint32_t *array_pos = (HashPosition *)ecalloc(n_arrays, sizeof(HashPosition));",
          "content_same": false
        },
        {
          "line": 4767,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", i + 2)",
          "old_line_content": "\t\t\t\treturn;",
          "new_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", i + 2);",
          "content_same": false
        },
        {
          "line": 4768,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(array_pos)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tefree(array_pos);",
          "content_same": false
        },
        {
          "line": 4258,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"+\", &args, &argc) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4771,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (zend_hash_num_elements(Z_ARRVAL(arrays[i])) > maxlen) {",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tmaxlen = zend_hash_num_elements(Z_ARRVAL(arrays[i]));",
          "content_same": false
        },
        {
          "line": 4263,
          "old_api": null,
          "new_api": "ecalloc",
          "old_text": null,
          "new_text": "ecalloc(argc, sizeof(zval *))",
          "old_line_content": "\t\tparse_state[i] = 0;",
          "new_line_content": "\tarrays = (zval **)ecalloc(argc, sizeof(zval *));",
          "content_same": false
        },
        {
          "line": 4266,
          "old_api": null,
          "new_api": "ecalloc",
          "old_text": null,
          "new_text": "ecalloc(argc, sizeof(int))",
          "old_line_content": "",
          "new_line_content": "\t\tARRAYG(multisort_flags)[i] = (int *)ecalloc(argc, sizeof(int));",
          "content_same": false
        },
        {
          "line": 4778,
          "old_api": null,
          "new_api": "ZEND_FCI_INITIALIZED",
          "old_text": null,
          "new_text": "ZEND_FCI_INITIALIZED(fci)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!ZEND_FCI_INITIALIZED(fci)) {",
          "content_same": false
        },
        {
          "line": 4786,
          "old_api": null,
          "new_api": "array_init_size",
          "old_text": null,
          "new_text": "array_init_size(&result, n_arrays)",
          "old_line_content": "\t\t\t\tfor (i = 0; i < n_arrays; i++) {",
          "new_line_content": "\t\t\t\tarray_init_size(&result, n_arrays);",
          "content_same": false
        },
        {
          "line": 4279,
          "old_api": null,
          "new_api": "Z_IMMUTABLE_P",
          "old_text": null,
          "new_text": "Z_IMMUTABLE_P(arg)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (Z_IMMUTABLE_P(arg)) {",
          "content_same": false
        },
        {
          "line": 4280,
          "old_api": null,
          "new_api": "zval_copy_ctor",
          "old_text": null,
          "new_text": "zval_copy_ctor(arg)",
          "old_line_content": "\t\t\t/* We see the next array, so we update the sort flags of",
          "new_line_content": "\t\t\t\tzval_copy_ctor(arg);",
          "content_same": false
        },
        {
          "line": 4793,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\tif (pos >= Z_ARRVAL(arrays[i])->nNumUsed) {",
          "content_same": false
        },
        {
          "line": 4796,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t\t\t\t\tarray_pos[i] = pos + 1;",
          "new_line_content": "\t\t\t\t\t\t} else if (Z_TYPE(Z_ARRVAL(arrays[i])->arData[pos].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4285,
          "old_api": null,
          "new_api": "ARRAYG",
          "old_text": null,
          "new_text": "ARRAYG(multisort_flags)",
          "old_line_content": "\t\t\t\tsort_order = PHP_SORT_ASC;",
          "new_line_content": "\t\t\t\tARRAYG(multisort_flags)[MULTISORT_ORDER][num_arrays - 1] = sort_order;",
          "content_same": false
        },
        {
          "line": 4286,
          "old_api": null,
          "new_api": "ARRAYG",
          "old_text": null,
          "new_text": "ARRAYG(multisort_flags)",
          "old_line_content": "\t\t\t\tsort_type = PHP_SORT_REGULAR;",
          "new_line_content": "\t\t\t\tARRAYG(multisort_flags)[MULTISORT_TYPE][num_arrays - 1] = sort_type;",
          "content_same": false
        },
        {
          "line": 4797,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_COPY(&zv, &Z_ARRVAL(arrays[i])->arData[pos].val);",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(result)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tzend_hash_next_index_insert_new(Z_ARRVAL(result), &zv);",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tzend_hash_next_index_insert_new(Z_ARRVAL_P(return_value), &result);",
          "content_same": false
        },
        {
          "line": 4296,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(arg)",
          "old_line_content": "\t\t\t\tcase PHP_SORT_ASC:",
          "new_line_content": "\t\t} else if (Z_TYPE_P(arg) == IS_LONG) {",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "Z_LVAL_P",
          "old_text": null,
          "new_text": "Z_LVAL_P(arg)",
          "old_line_content": "\t\t\t\tcase PHP_SORT_DESC:",
          "new_line_content": "\t\t\tswitch (Z_LVAL_P(arg) & ~PHP_SORT_FLAG_CASE) {",
          "content_same": false
        },
        {
          "line": 4810,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc(n_arrays, sizeof(zval), 0)",
          "old_line_content": "\t\t\t/* We iterate through all the arrays at once. */",
          "new_line_content": "\t\t\tzval *params = (zval *)safe_emalloc(n_arrays, sizeof(zval), 0);",
          "content_same": false
        },
        {
          "line": 4303,
          "old_api": null,
          "new_api": "Z_LVAL",
          "old_text": null,
          "new_text": "Z_LVAL(args[i])",
          "old_line_content": "\t\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\t\tsort_order = Z_LVAL(args[i]) == PHP_SORT_DESC ? -1 : 1;",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1);",
          "content_same": false
        },
        {
          "line": 4819,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\tif (pos >= Z_ARRVAL(arrays[i])->nNumUsed) {",
          "content_same": false
        },
        {
          "line": 4822,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t\t\t\t\tarray_pos[i] = pos + 1;",
          "new_line_content": "\t\t\t\t\t\t} else if (Z_TYPE(Z_ARRVAL(arrays[i])->arData[pos].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4823,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(arrays[i])",
          "old_line_content": "\t\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\tZVAL_COPY(&params[i], &Z_ARRVAL(arrays[i])->arData[pos].val);",
          "content_same": false
        },
        {
          "line": 4321,
          "old_api": null,
          "new_api": "Z_LVAL",
          "old_text": null,
          "new_text": "Z_LVAL(args[i])",
          "old_line_content": "\t\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\t\tsort_type = (int)Z_LVAL(args[i]);",
          "content_same": false
        },
        {
          "line": 4324,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1);",
          "content_same": false
        },
        {
          "line": 4837,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(array_pos)",
          "old_line_content": "\t\t\t\t\tfor (i = 0; i < n_arrays; i++) {",
          "new_line_content": "\t\t\t\t\tefree(array_pos);",
          "content_same": false
        },
        {
          "line": 4330,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is an unknown sort flag\", i + 1)",
          "old_line_content": "\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is an unknown sort flag\", i + 1);",
          "content_same": false
        },
        {
          "line": 4842,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(params)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tefree(params);",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": null,
          "new_api": "RETURN_NULL",
          "old_text": null,
          "new_text": "RETURN_NULL()",
          "old_line_content": "\t\t\t\t\tfor (i = 0; i < n_arrays; i++) {",
          "new_line_content": "\t\t\t\t\tRETURN_NULL();",
          "content_same": false
        },
        {
          "line": 4846,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&params[i])",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\tzval_ptr_dtor(&params[i]);",
          "content_same": false
        },
        {
          "line": 4336,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or a sort flag\", i + 1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or a sort flag\", i + 1);",
          "content_same": false
        },
        {
          "line": 4850,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tzend_hash_next_index_insert_new(Z_ARRVAL_P(return_value), &result);",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": null,
          "new_api": "ARRAYG",
          "old_text": null,
          "new_text": "ARRAYG(multisort_flags)",
          "old_line_content": "",
          "new_line_content": "\tARRAYG(multisort_flags)[MULTISORT_ORDER][num_arrays - 1] = sort_order;",
          "content_same": false
        },
        {
          "line": 4342,
          "old_api": null,
          "new_api": "ARRAYG",
          "old_text": null,
          "new_text": "ARRAYG(multisort_flags)",
          "old_line_content": "\t/* Make sure the arrays are of the same size. */",
          "new_line_content": "\tARRAYG(multisort_flags)[MULTISORT_TYPE][num_arrays - 1] = sort_type;",
          "content_same": false
        },
        {
          "line": 4855,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(array_pos)",
          "old_line_content": "}",
          "new_line_content": "\t\tefree(array_pos);",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(arrays[i])",
          "old_line_content": "\t\t\tMULTISORT_ABORT;",
          "new_line_content": "\t\tif (zend_hash_num_elements(Z_ARRVAL_P(arrays[i])) != array_size) {",
          "content_same": false
        },
        {
          "line": 4348,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Array sizes are inconsistent\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Array sizes are inconsistent\");",
          "content_same": false
        },
        {
          "line": 4868,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"zH\", &key, &array) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4358,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(arrays)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tefree(arrays);",
          "content_same": false
        },
        {
          "line": 4874,
          "old_api": null,
          "new_api": "Z_PARAM_ARRAY_OR_OBJECT_HT",
          "old_text": null,
          "new_text": "Z_PARAM_ARRAY_OR_OBJECT_HT(array)",
          "old_line_content": "#endif",
          "new_line_content": "\t\tZ_PARAM_ARRAY_OR_OBJECT_HT(array)",
          "content_same": false
        },
        {
          "line": 4875,
          "old_api": null,
          "new_api": "ZEND_PARSE_PARAMETERS_END",
          "old_text": null,
          "new_text": "ZEND_PARSE_PARAMETERS_END()",
          "old_line_content": "",
          "new_line_content": "\tZEND_PARSE_PARAMETERS_END();",
          "content_same": false
        },
        {
          "line": 4368,
          "old_api": null,
          "new_api": "safe_emalloc",
          "old_text": null,
          "new_text": "safe_emalloc((num_arrays + 1), sizeof(Bucket), 0)",
          "old_line_content": "\tfor (i = 0; i < num_arrays; i++) {",
          "new_line_content": "\t\tindirect[i] = (Bucket *)safe_emalloc((num_arrays + 1), sizeof(Bucket), 0);",
          "content_same": false
        },
        {
          "line": 4880,
          "old_api": null,
          "new_api": "Z_STR_P",
          "old_text": null,
          "new_text": "Z_STR_P(key)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (zend_symtable_exists(array, Z_STR_P(key))) {",
          "content_same": false
        },
        {
          "line": 4373,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(arrays[i])",
          "old_line_content": "\t\t\tindirect[k][i] = *p;",
          "new_line_content": "\t\t\tp = Z_ARRVAL_P(arrays[i])->arData + idx;",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\t\tk++;",
          "new_line_content": "\t\t\tif (Z_TYPE(p->val) == IS_UNDEF) continue;",
          "content_same": false
        },
        {
          "line": 4885,
          "old_api": null,
          "new_api": "Z_LVAL_P",
          "old_text": null,
          "new_text": "Z_LVAL_P(key)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (zend_hash_index_exists(array, Z_LVAL_P(key))) {",
          "content_same": false
        },
        {
          "line": 4890,
          "old_api": null,
          "new_api": "STR_EMPTY_ALLOC",
          "old_text": null,
          "new_text": "STR_EMPTY_ALLOC()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (zend_hash_exists(array, STR_EMPTY_ALLOC())) {",
          "content_same": false
        },
        {
          "line": 4380,
          "old_api": null,
          "new_api": "ZVAL_UNDEF",
          "old_text": null,
          "new_text": "ZVAL_UNDEF(&indirect[k][num_arrays].val)",
          "old_line_content": "",
          "new_line_content": "\t\tZVAL_UNDEF(&indirect[k][num_arrays].val);",
          "content_same": false
        },
        {
          "line": 4384,
          "old_api": null,
          "new_api": "zend_qsort",
          "old_text": null,
          "new_text": "zend_qsort(indirect, array_size, sizeof(Bucket *), php_multisort_compare, (swap_func_t)array_bucket_p_sawp)",
          "old_line_content": "\t/* Restructure the arrays based on sorted indirect - this is mostly taken from zend_hash_sort() function. */",
          "new_line_content": "\tzend_qsort(indirect, array_size, sizeof(Bucket *), php_multisort_compare, (swap_func_t)array_bucket_p_sawp);",
          "content_same": false
        },
        {
          "line": 4896,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"The first argument should be either a string or an integer\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"The first argument should be either a string or an integer\");",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": null,
          "new_api": "HANDLE_BLOCK_INTERRUPTIONS",
          "old_text": null,
          "new_text": "HANDLE_BLOCK_INTERRUPTIONS()",
          "old_line_content": "\t\tint repack;",
          "new_line_content": "\tHANDLE_BLOCK_INTERRUPTIONS();",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(arrays[i])",
          "old_line_content": "\t\thash->nInternalPointer = 0;",
          "new_line_content": "\t\thash = Z_ARRVAL_P(arrays[i]);",
          "content_same": false
        },
        {
          "line": 4906,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\tzend_string *str_key;",
          "new_line_content": "\tint argc = ZEND_NUM_ARGS(), num_in;",
          "content_same": false
        },
        {
          "line": 4915,
          "old_api": null,
          "new_api": "zend_parse_parameters",
          "old_text": null,
          "new_text": "zend_parse_parameters(argc, \"al|b\", &input, &size, &preserve_keys)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(argc, \"al|b\", &input, &size, &preserve_keys) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4406,
          "old_api": null,
          "new_api": "zend_hash_to_packed",
          "old_text": null,
          "new_text": "zend_hash_to_packed(hash)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tzend_hash_to_packed(hash);",
          "content_same": false
        },
        {
          "line": 4920,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Size parameter expected to be greater than 0\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Size parameter expected to be greater than 0\");",
          "content_same": false
        },
        {
          "line": 4409,
          "old_api": null,
          "new_api": "HANDLE_UNBLOCK_INTERRUPTIONS",
          "old_text": null,
          "new_text": "HANDLE_UNBLOCK_INTERRUPTIONS()",
          "old_line_content": "\t/* Clean up. */",
          "new_line_content": "\tHANDLE_UNBLOCK_INTERRUPTIONS();",
          "content_same": false
        },
        {
          "line": 4924,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(input)",
          "old_line_content": "\tif (size > num_in) {",
          "new_line_content": "\tnum_in = zend_hash_num_elements(Z_ARRVAL_P(input));",
          "content_same": false
        },
        {
          "line": 4419,
          "old_api": null,
          "new_api": "efree",
          "old_text": null,
          "new_text": "efree(arrays)",
          "old_line_content": "}",
          "new_line_content": "\tefree(arrays);",
          "content_same": false
        },
        {
          "line": 4932,
          "old_api": null,
          "new_api": "ZVAL_UNDEF",
          "old_text": null,
          "new_text": "ZVAL_UNDEF(&chunk)",
          "old_line_content": "\tZEND_HASH_FOREACH_KEY_VAL(Z_ARRVAL_P(input), num_key, str_key, entry) {",
          "new_line_content": "\tZVAL_UNDEF(&chunk);",
          "content_same": false
        },
        {
          "line": 4936,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(chunk)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (Z_TYPE(chunk) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4937,
          "old_api": null,
          "new_api": "array_init_size",
          "old_text": null,
          "new_text": "array_init_size(&chunk, (uint32_t)size)",
          "old_line_content": "",
          "new_line_content": "\t\t\tarray_init_size(&chunk, (uint32_t)size);",
          "content_same": false
        },
        {
          "line": 4945,
          "old_api": null,
          "new_api": "Z_ARRVAL",
          "old_text": null,
          "new_text": "Z_ARRVAL(chunk)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tentry = zend_hash_index_update(Z_ARRVAL(chunk), num_key, entry);",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a|l\", &input, &num_req) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4950,
          "old_api": null,
          "new_api": "zval_add_ref",
          "old_text": null,
          "new_text": "zval_add_ref(entry)",
          "old_line_content": "\t\t/* If reached the chunk size, add it to the result array, and reset the",
          "new_line_content": "\t\tzval_add_ref(entry);",
          "content_same": false
        },
        {
          "line": 4442,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Second argument has to be between 1 and the number of elements in the array\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Second argument has to be between 1 and the number of elements in the array\");",
          "content_same": false
        },
        {
          "line": 4955,
          "old_api": null,
          "new_api": "add_next_index_zval",
          "old_text": null,
          "new_text": "add_next_index_zval(return_value, &chunk)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tadd_next_index_zval(return_value, &chunk);",
          "content_same": false
        },
        {
          "line": 4958,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t/* Add the final chunk if there is one. */",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4449,
          "old_api": null,
          "new_api": "array_init_size",
          "old_text": null,
          "new_text": "array_init_size(return_value, (uint32_t)num_req)",
          "old_line_content": "",
          "new_line_content": "\t\tarray_init_size(return_value, (uint32_t)num_req);",
          "content_same": false
        },
        {
          "line": 4961,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(chunk)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (Z_TYPE(chunk) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 4962,
          "old_api": null,
          "new_api": "add_next_index_zval",
          "old_text": null,
          "new_text": "add_next_index_zval(return_value, &chunk)",
          "old_line_content": "}",
          "new_line_content": "\t\tadd_next_index_zval(return_value, &chunk);",
          "content_same": false
        },
        {
          "line": 4458,
          "old_api": null,
          "new_api": "php_rand",
          "old_text": null,
          "new_text": "php_rand()",
          "old_line_content": "\t\tif ((double) (randval / (PHP_RAND_MAX + 1.0)) < (double) num_req / (double) num_avail) {",
          "new_line_content": "\t\trandval = php_rand();",
          "content_same": false
        },
        {
          "line": 4976,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"aa\", &keys, &values) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4466,
          "old_api": null,
          "new_api": "RETURN_LONG",
          "old_text": null,
          "new_text": "RETURN_LONG(num_key)",
          "old_line_content": "\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tRETURN_LONG(num_key);",
          "content_same": false
        },
        {
          "line": 4980,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(keys)",
          "old_line_content": "",
          "new_line_content": "\tnum_keys = zend_hash_num_elements(Z_ARRVAL_P(keys));",
          "content_same": false
        },
        {
          "line": 4981,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(values)",
          "old_line_content": "\tif (num_keys != num_values) {",
          "new_line_content": "\tnum_values = zend_hash_num_elements(Z_ARRVAL_P(values));",
          "content_same": false
        },
        {
          "line": 4984,
          "old_api": null,
          "new_api": "php_error_docref",
          "old_text": null,
          "new_text": "php_error_docref(NULL, E_WARNING, \"Both parameters should have an equal number of elements\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Both parameters should have an equal number of elements\");",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": null,
          "new_api": "add_next_index_long",
          "old_text": null,
          "new_text": "add_next_index_long(return_value, num_key)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tadd_next_index_long(return_value, num_key);",
          "content_same": false
        },
        {
          "line": 4988,
          "old_api": null,
          "new_api": "array_init_size",
          "old_text": null,
          "new_text": "array_init_size(return_value, num_keys)",
          "old_line_content": "\tif (!num_keys) {",
          "new_line_content": "\tarray_init_size(return_value, num_keys);",
          "content_same": false
        },
        {
          "line": 4479,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 5001,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(return_value)",
          "old_line_content": "\t\t\t\t} else {",
          "new_line_content": "\t\t\t\t\tentry_values = zend_hash_index_update(Z_ARRVAL_P(return_value),",
          "content_same": false
        },
        {
          "line": 4491,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a\", &input) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 5004,
          "old_api": null,
          "new_api": "zval_get_string",
          "old_text": null,
          "new_text": "zval_get_string(entry_keys)",
          "old_line_content": "\t\t\t\t\t\tkey, entry_values);",
          "new_line_content": "\t\t\t\t\tzend_string *key = zval_get_string(entry_keys);",
          "content_same": false
        },
        {
          "line": 4495,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(return_value, 0)",
          "old_line_content": "\tZEND_HASH_FOREACH_VAL(Z_ARRVAL_P(input), entry) {",
          "new_line_content": "\tZVAL_LONG(return_value, 0);",
          "content_same": false
        },
        {
          "line": 5009,
          "old_api": null,
          "new_api": "zval_add_ref",
          "old_text": null,
          "new_text": "zval_add_ref(entry_values)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tzval_add_ref(entry_values);",
          "content_same": false
        },
        {
          "line": 4498,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(entry)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (Z_TYPE_P(entry) == IS_ARRAY || Z_TYPE_P(entry) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 4503,
          "old_api": null,
          "new_api": "fast_add_function",
          "old_text": null,
          "new_text": "fast_add_function(return_value, return_value, &entry_n)",
          "old_line_content": "}",
          "new_line_content": "\t\tfast_add_function(return_value, return_value, &entry_n);",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 5015,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4517,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a\", &input) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4521,
          "old_api": null,
          "new_api": "ZVAL_LONG",
          "old_text": null,
          "new_text": "ZVAL_LONG(return_value, 1)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\tZVAL_LONG(return_value, 1);",
          "content_same": false
        },
        {
          "line": 4522,
          "old_api": null,
          "new_api": "Z_ARRVAL_P",
          "old_text": null,
          "new_text": "Z_ARRVAL_P(input)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!zend_hash_num_elements(Z_ARRVAL_P(input))) {",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(entry)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (Z_TYPE_P(entry) == IS_ARRAY || Z_TYPE_P(entry) == IS_OBJECT) {",
          "content_same": false
        },
        {
          "line": 4530,
          "old_api": null,
          "new_api": "ZVAL_DUP",
          "old_text": null,
          "new_text": "ZVAL_DUP(&entry_n, entry)",
          "old_line_content": "",
          "new_line_content": "\t\tZVAL_DUP(&entry_n, entry);",
          "content_same": false
        },
        {
          "line": 4533,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(return_value)",
          "old_line_content": "\t\t\tif ( (double)ZEND_LONG_MIN <= dval && dval <= (double)ZEND_LONG_MAX ) {",
          "new_line_content": "\t\tif (Z_TYPE(entry_n) == IS_LONG && Z_TYPE_P(return_value) == IS_LONG) {",
          "content_same": false
        },
        {
          "line": 4536,
          "old_api": null,
          "new_api": "Z_LVAL",
          "old_text": null,
          "new_text": "Z_LVAL(entry_n)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tZ_LVAL_P(return_value) *= Z_LVAL(entry_n);",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": null,
          "new_api": "Z_DVAL",
          "old_text": null,
          "new_text": "Z_DVAL(entry_n)",
          "old_line_content": "}",
          "new_line_content": "\t\tZ_DVAL_P(return_value) *= Z_DVAL(entry_n);",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "/* }}} */",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"af|z\", &input, &fci, &fci_cache, &initial) == FAILURE) {",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": null,
          "new_api": "ZEND_NUM_ARGS",
          "old_text": null,
          "new_text": "ZEND_NUM_ARGS()",
          "old_line_content": "\t} else {",
          "new_line_content": "\tif (ZEND_NUM_ARGS() > 2) {",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": null,
          "new_api": "ZVAL_NULL",
          "old_text": null,
          "new_text": "ZVAL_NULL(&result)",
          "old_line_content": "",
          "new_line_content": "\t\tZVAL_NULL(&result);",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "zend_hash_num_elements",
          "old_text": null,
          "new_text": "zend_hash_num_elements(htbl)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (zend_hash_num_elements(htbl) == 0) {",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": null,
          "new_api": "RETURN_ZVAL",
          "old_text": null,
          "new_text": "RETURN_ZVAL(&result, 1, 1)",
          "old_line_content": "",
          "new_line_content": "\t\tRETURN_ZVAL(&result, 1, 1);",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": null,
          "new_api": "ZVAL_COPY",
          "old_text": null,
          "new_text": "ZVAL_COPY(&args[0], &result)",
          "old_line_content": "\t\tfci.params = args;",
          "new_line_content": "\t\tZVAL_COPY(&args[0], &result);",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": null,
          "new_api": "ZVAL_COPY",
          "old_text": null,
          "new_text": "ZVAL_COPY(&args[1], operand)",
          "old_line_content": "",
          "new_line_content": "\t\tZVAL_COPY(&args[1], operand);",
          "content_same": false
        },
        {
          "line": 4593,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&result)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tzval_ptr_dtor(&result);",
          "content_same": false
        },
        {
          "line": 4596,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&args[1])",
          "old_line_content": "\t\t\treturn;",
          "new_line_content": "\t\t\tzval_ptr_dtor(&args[1]);",
          "content_same": false
        },
        {
          "line": 4597,
          "old_api": null,
          "new_api": "zval_ptr_dtor",
          "old_text": null,
          "new_text": "zval_ptr_dtor(&args[0])",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tzval_ptr_dtor(&args[0]);",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": null,
          "new_api": "RETVAL_ZVAL",
          "old_text": null,
          "new_text": "RETVAL_ZVAL(&result, 1, 1)",
          "old_line_content": "/* }}} */",
          "new_line_content": "\tRETVAL_ZVAL(&result, 1, 1);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4099,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"+\", &args, &argc) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4103,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(args[0])",
          "new_text": null,
          "old_line_content": "\tif (Z_TYPE(args[0]) != IS_ARRAY) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a|fl\", &array, &fci, &fci_cache, &use_type) == FAILURE) {",
          "new_line_content": "\tzend_ulong num_key;",
          "content_same": false
        },
        {
          "line": 4111,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(args[i])",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(args[i]) != IS_ARRAY) {",
          "new_line_content": "\tfor (i = 1; i < argc; i++) {",
          "content_same": false
        },
        {
          "line": 4623,
          "old_api": "array_init",
          "new_api": null,
          "old_text": "array_init(return_value)",
          "new_text": null,
          "old_line_content": "\tarray_init(return_value);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(array)",
          "new_text": null,
          "old_line_content": "\tif (zend_hash_num_elements(Z_ARRVAL_P(array)) == 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4115,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(args[i])",
          "new_text": null,
          "old_line_content": "\t\tnum += zend_hash_num_elements(Z_ARRVAL(args[i]));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4628,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (ZEND_NUM_ARGS() > 1) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4119,
          "old_api": "ZVAL_COPY",
          "new_api": null,
          "old_text": "ZVAL_COPY(return_value, &args[0])",
          "new_text": null,
          "old_line_content": "\t\tZVAL_COPY(return_value, &args[0]);",
          "new_line_content": "\tif (num == 0) {",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": "zval_get_string",
          "new_api": null,
          "old_text": "zval_get_string(value)",
          "new_text": null,
          "old_line_content": "\t\t\tstr = zval_get_string(value);",
          "new_line_content": "\tfor (i = 1; i < argc; i++) {",
          "content_same": false
        },
        {
          "line": 4128,
          "old_api": "zend_hash_add_empty_element",
          "new_api": null,
          "old_text": "zend_hash_add_empty_element(&exclude, str)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_add_empty_element(&exclude, str);",
          "new_line_content": "\t\tZEND_HASH_FOREACH_VAL_IND(Z_ARRVAL(args[i]), value) {",
          "content_same": false
        },
        {
          "line": 4642,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(&args[1], num_key)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tZVAL_LONG(&args[1], num_key);",
          "new_line_content": "\t\t\t\t\tif (use_type == ARRAY_FILTER_USE_BOTH) {",
          "content_same": false
        },
        {
          "line": 4134,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(args[0])",
          "new_text": null,
          "old_line_content": "\tarray_init_size(return_value, zend_hash_num_elements(Z_ARRVAL(args[0])));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4648,
          "old_api": "ZVAL_STR_COPY",
          "new_api": null,
          "old_text": "ZVAL_STR_COPY(&args[1], string_key)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tZVAL_STR_COPY(&args[1], string_key);",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 4137,
          "old_api": "zend_hash_exists",
          "new_api": null,
          "old_text": "zend_hash_exists(&exclude, str)",
          "new_text": null,
          "old_line_content": "\t\tif (!zend_hash_exists(&exclude, str)) {",
          "new_line_content": "\tZEND_HASH_FOREACH_KEY_VAL_IND(Z_ARRVAL(args[0]), idx, key, value) {",
          "content_same": false
        },
        {
          "line": 4655,
          "old_api": "ZVAL_COPY",
          "new_api": null,
          "old_text": "ZVAL_COPY(&args[0], operand)",
          "new_text": null,
          "old_line_content": "\t\t\t\tZVAL_COPY(&args[0], operand);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4659,
          "old_api": "zend_call_function",
          "new_api": null,
          "old_text": "zend_call_function(&fci, &fci_cache)",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_call_function(&fci, &fci_cache) == SUCCESS) {",
          "new_line_content": "\t\t\tfci.params = args;",
          "content_same": false
        },
        {
          "line": 4660,
          "old_api": "zval_ptr_dtor",
          "new_api": null,
          "old_text": "zval_ptr_dtor(&args[0])",
          "new_text": null,
          "old_line_content": "\t\t\t\tzval_ptr_dtor(&args[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4665,
          "old_api": "zend_is_true",
          "new_api": null,
          "old_text": "zend_is_true(&retval)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tint retval_true = zend_is_true(&retval);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4156,
          "old_api": "php_array_diff",
          "new_api": null,
          "old_text": "php_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_NORMAL, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_INTERNAL)",
          "new_text": null,
          "old_line_content": "\tphp_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_NORMAL, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_INTERNAL);",
          "new_line_content": "PHP_FUNCTION(array_udiff)",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": "zval_ptr_dtor",
          "new_api": null,
          "old_text": "zval_ptr_dtor(&args[0])",
          "new_text": null,
          "old_line_content": "\t\t\t\tzval_ptr_dtor(&args[0]);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4164,
          "old_api": "php_array_diff_key",
          "new_api": null,
          "old_text": "php_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_INTERNAL)",
          "new_text": null,
          "old_line_content": "\tphp_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_INTERNAL);",
          "new_line_content": "PHP_FUNCTION(array_diff_assoc)",
          "content_same": false
        },
        {
          "line": 4681,
          "old_api": "zend_is_true",
          "new_api": null,
          "old_text": "zend_is_true(operand)",
          "new_text": null,
          "old_line_content": "\t\t} else if (!zend_is_true(operand)) {",
          "new_line_content": "\t\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 4172,
          "old_api": "php_array_diff",
          "new_api": null,
          "old_text": "php_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_INTERNAL, DIFF_COMP_KEY_USER)",
          "new_text": null,
          "old_line_content": "\tphp_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_INTERNAL, DIFF_COMP_KEY_USER);",
          "new_line_content": "PHP_FUNCTION(array_diff_uassoc)",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\toperand = zend_hash_update(Z_ARRVAL_P(return_value), string_key, operand);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4691,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4180,
          "old_api": "php_array_diff_key",
          "new_api": null,
          "old_text": "php_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_USER)",
          "new_text": null,
          "old_line_content": "\tphp_array_diff_key(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_COMP_DATA_USER);",
          "new_line_content": "PHP_FUNCTION(array_udiff_assoc)",
          "content_same": false
        },
        {
          "line": 4188,
          "old_api": "php_array_diff",
          "new_api": null,
          "old_text": "php_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_USER)",
          "new_text": null,
          "old_line_content": "\tphp_array_diff(INTERNAL_FUNCTION_PARAM_PASSTHRU, DIFF_ASSOC, DIFF_COMP_DATA_USER, DIFF_COMP_KEY_USER);",
          "new_line_content": "PHP_FUNCTION(array_udiff_uassoc)",
          "content_same": false
        },
        {
          "line": 4708,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"f!+\", &fci, &fci_cache, &arrays, &n_arrays) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4712,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, -1)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, -1)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4713,
          "old_api": "Z_PARAM_FUNC_EX",
          "new_api": null,
          "old_text": "Z_PARAM_FUNC_EX(fci, fci_cache, 1, 0)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_FUNC_EX(fci, fci_cache, 1, 0)",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 4718,
          "old_api": "RETVAL_NULL",
          "new_api": null,
          "old_text": "RETVAL_NULL()",
          "new_text": null,
          "old_line_content": "\tRETVAL_NULL();",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4207,
          "old_api": "ARRAYG",
          "new_api": null,
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": null,
          "old_line_content": "\t\tphp_set_compare_func(ARRAYG(multisort_flags)[MULTISORT_TYPE][r]);",
          "new_line_content": "\tdo {",
          "content_same": false
        },
        {
          "line": 4210,
          "old_api": "Z_LVAL",
          "new_api": null,
          "old_text": "Z_LVAL(temp)",
          "new_text": null,
          "old_line_content": "\t\tresult = ARRAYG(multisort_flags)[MULTISORT_ORDER][r] * Z_LVAL(temp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4725,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(arrays[0])",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(arrays[0]) != IS_ARRAY) {",
          "new_line_content": "\t\tzval *zv, arg;",
          "content_same": false
        },
        {
          "line": 4726,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", 2)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ab[r].val)",
          "new_text": null,
          "old_line_content": "\t} while (Z_TYPE(ab[r].val) != IS_UNDEF);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4729,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[0])",
          "new_text": null,
          "old_line_content": "\t\tmaxlen = zend_hash_num_elements(Z_ARRVAL(arrays[0]));",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 4732,
          "old_api": "ZEND_FCI_INITIALIZED",
          "new_api": null,
          "old_text": "ZEND_FCI_INITIALIZED(fci)",
          "new_text": null,
          "old_line_content": "\t\tif (!ZEND_FCI_INITIALIZED(fci)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4733,
          "old_api": "RETVAL_ZVAL",
          "new_api": null,
          "old_text": "RETVAL_ZVAL(&arrays[0], 1, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tRETVAL_ZVAL(&arrays[0], 1, 0);",
          "new_line_content": "\t\t/* Short-circuit: if no callback and only one array, just return it. */",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(return_value, maxlen)",
          "new_text": null,
          "old_line_content": "\t\tarray_init_size(return_value, maxlen);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4745,
          "old_api": "ZVAL_COPY",
          "new_api": null,
          "old_text": "ZVAL_COPY(&arg, zv)",
          "new_text": null,
          "old_line_content": "\t\t\tZVAL_COPY(&arg, zv);",
          "new_line_content": "\t\t\tfci.no_separation = 0;",
          "content_same": false
        },
        {
          "line": 4748,
          "old_api": "zval_dtor",
          "new_api": null,
          "old_text": "zval_dtor(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzval_dtor(return_value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_hash_add_new(Z_ARRVAL_P(return_value), str_key, &result);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4764,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE(arrays[i]) != IS_ARRAY) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4765,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", i + 2)",
          "new_text": null,
          "old_line_content": "\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d should be an array\", i + 2);",
          "new_line_content": "\t\tfor (i = 0; i < n_arrays; i++) {",
          "content_same": false
        },
        {
          "line": 4256,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"+\", &args, &argc) == FAILURE) {",
          "new_line_content": "\tint\t\t\t\ti, k, n;",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_hash_num_elements(Z_ARRVAL(arrays[i])) > maxlen) {",
          "new_line_content": "\t\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\tmaxlen = zend_hash_num_elements(Z_ARRVAL(arrays[i]));",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": "ecalloc",
          "new_api": null,
          "old_text": "ecalloc(argc, sizeof(zval *))",
          "new_text": null,
          "old_line_content": "\tarrays = (zval **)ecalloc(argc, sizeof(zval *));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4774,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(return_value, maxlen)",
          "new_text": null,
          "old_line_content": "\t\tarray_init_size(return_value, maxlen);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4264,
          "old_api": "ecalloc",
          "new_api": null,
          "old_text": "ecalloc(argc, sizeof(int))",
          "new_text": null,
          "old_line_content": "\t\tARRAYG(multisort_flags)[i] = (int *)ecalloc(argc, sizeof(int));",
          "new_line_content": "\tfor (i = 0; i < MULTISORT_LAST; i++) {",
          "content_same": false
        },
        {
          "line": 4784,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(&result, n_arrays)",
          "new_text": null,
          "old_line_content": "\t\t\t\tarray_init_size(&result, n_arrays);",
          "new_line_content": "\t\t\t\t/* If no callback, the result will be an array, consisting of current",
          "content_same": false
        },
        {
          "line": 4275,
          "old_api": "ZVAL_DEREF",
          "new_api": null,
          "old_text": "ZVAL_DEREF(arg)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_DEREF(arg);",
          "new_line_content": "\t\tzval *arg = &args[i];",
          "content_same": false
        },
        {
          "line": 4276,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(arg)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(arg) == IS_ARRAY) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4791,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif (pos >= Z_ARRVAL(arrays[i])->nNumUsed) {",
          "new_line_content": "\t\t\t\t\tuint32_t pos = array_pos[i];",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": "ZVAL_NULL",
          "new_api": null,
          "old_text": "ZVAL_NULL(&zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tZVAL_NULL(&zv);",
          "new_line_content": "\t\t\t\t\twhile (1) {",
          "content_same": false
        },
        {
          "line": 4283,
          "old_api": "ARRAYG",
          "new_api": null,
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": null,
          "old_line_content": "\t\t\t\tARRAYG(multisort_flags)[MULTISORT_ORDER][num_arrays - 1] = sort_order;",
          "new_line_content": "\t\t\t * the previous array and reset the sort flags. */",
          "content_same": false
        },
        {
          "line": 4284,
          "old_api": "ARRAYG",
          "new_api": null,
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": null,
          "old_line_content": "\t\t\t\tARRAYG(multisort_flags)[MULTISORT_TYPE][num_arrays - 1] = sort_type;",
          "new_line_content": "\t\t\tif (i > 0) {",
          "content_same": false
        },
        {
          "line": 4795,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tZVAL_COPY(&zv, &Z_ARRVAL(arrays[i])->arData[pos].val);",
          "new_line_content": "\t\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(result)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tzend_hash_next_index_insert_new(Z_ARRVAL(result), &zv);",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4805,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_hash_next_index_insert_new(Z_ARRVAL_P(return_value), &result);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(arg)",
          "new_text": null,
          "old_line_content": "\t\t} else if (Z_TYPE_P(arg) == IS_LONG) {",
          "new_line_content": "\t\t\t\tparse_state[k] = 1;",
          "content_same": false
        },
        {
          "line": 4295,
          "old_api": "Z_LVAL_P",
          "new_api": null,
          "old_text": "Z_LVAL_P(arg)",
          "new_text": null,
          "old_line_content": "\t\t\tswitch (Z_LVAL_P(arg) & ~PHP_SORT_FLAG_CASE) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4808,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(n_arrays, sizeof(zval), 0)",
          "new_text": null,
          "old_line_content": "\t\t\tzval *params = (zval *)safe_emalloc(n_arrays, sizeof(zval), 0);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": "Z_LVAL",
          "new_api": null,
          "old_text": "Z_LVAL(args[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tsort_order = Z_LVAL(args[i]) == PHP_SORT_DESC ? -1 : 1;",
          "new_line_content": "\t\t\t\t\tif (parse_state[MULTISORT_ORDER] == 1) {",
          "content_same": false
        },
        {
          "line": 4304,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1);",
          "new_line_content": "\t\t\t\t\t\tparse_state[MULTISORT_ORDER] = 0;",
          "content_same": false
        },
        {
          "line": 4817,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif (pos >= Z_ARRVAL(arrays[i])->nNumUsed) {",
          "new_line_content": "\t\t\t\t\tuint32_t pos = array_pos[i];",
          "content_same": false
        },
        {
          "line": 4818,
          "old_api": "ZVAL_NULL",
          "new_api": null,
          "old_text": "ZVAL_NULL(&params[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tZVAL_NULL(&params[i]);",
          "new_line_content": "\t\t\t\t\twhile (1) {",
          "content_same": false
        },
        {
          "line": 4821,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tZVAL_COPY(&params[i], &Z_ARRVAL(arrays[i])->arData[pos].val);",
          "new_line_content": "\t\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4319,
          "old_api": "Z_LVAL",
          "new_api": null,
          "old_text": "Z_LVAL(args[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tsort_type = (int)Z_LVAL(args[i]);",
          "new_line_content": "\t\t\t\t\tif (parse_state[MULTISORT_TYPE] == 1) {",
          "content_same": false
        },
        {
          "line": 4322,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or sorting flag that has not already been specified\", i + 1);",
          "new_line_content": "\t\t\t\t\t\tparse_state[MULTISORT_TYPE] = 0;",
          "content_same": false
        },
        {
          "line": 4834,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(result)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (zend_call_function(&fci, &fci_cache) != SUCCESS || Z_TYPE(result) == IS_UNDEF) {",
          "new_line_content": "\t\t\t\tfci.no_separation = 0;",
          "content_same": false
        },
        {
          "line": 4835,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(array_pos)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tefree(array_pos);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is an unknown sort flag\", i + 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is an unknown sort flag\", i + 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4841,
          "old_api": "RETURN_NULL",
          "new_api": null,
          "old_text": "RETURN_NULL()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tRETURN_NULL();",
          "new_line_content": "\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4844,
          "old_api": "zval_ptr_dtor",
          "new_api": null,
          "old_text": "zval_ptr_dtor(&params[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tzval_ptr_dtor(&params[i]);",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or a sort flag\", i + 1)",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Argument #%d is expected to be an array or a sort flag\", i + 1);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4848,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_hash_next_index_insert_new(Z_ARRVAL_P(return_value), &result);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": "ARRAYG",
          "new_api": null,
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": null,
          "old_line_content": "\tARRAYG(multisort_flags)[MULTISORT_ORDER][num_arrays - 1] = sort_order;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4340,
          "old_api": "ARRAYG",
          "new_api": null,
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": null,
          "old_line_content": "\tARRAYG(multisort_flags)[MULTISORT_TYPE][num_arrays - 1] = sort_type;",
          "new_line_content": "\t/* Take care of the last array sort flags. */",
          "content_same": false
        },
        {
          "line": 4851,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(params)",
          "new_text": null,
          "old_line_content": "\t\t\tefree(params);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(arrays[0])",
          "new_text": null,
          "old_line_content": "\tarray_size = zend_hash_num_elements(Z_ARRVAL_P(arrays[0]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4346,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Array sizes are inconsistent\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"Array sizes are inconsistent\");",
          "new_line_content": "\tfor (i = 0; i < num_arrays; i++) {",
          "content_same": false
        },
        {
          "line": 4354,
          "old_api": "ARRAYG",
          "new_api": null,
          "old_text": "ARRAYG(multisort_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tefree(ARRAYG(multisort_flags)[k]);",
          "new_line_content": "\tif (array_size < 1) {",
          "content_same": false
        },
        {
          "line": 4866,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"zH\", &key, &array) == FAILURE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4870,
          "old_api": "ZEND_PARSE_PARAMETERS_START",
          "new_api": null,
          "old_text": "ZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_text": null,
          "old_line_content": "\tZEND_PARSE_PARAMETERS_START(2, 2)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4871,
          "old_api": "Z_PARAM_ZVAL",
          "new_api": null,
          "old_text": "Z_PARAM_ZVAL(key)",
          "new_text": null,
          "old_line_content": "\t\tZ_PARAM_ZVAL(key)",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 4364,
          "old_api": "safe_emalloc",
          "new_api": null,
          "old_text": "safe_emalloc(array_size, sizeof(Bucket *), 0)",
          "new_text": null,
          "old_line_content": "\tindirect = (Bucket **)safe_emalloc(array_size, sizeof(Bucket *), 0);",
          "new_line_content": "\t * of the input arrays + 1. The last column is NULL to indicate the end",
          "content_same": false
        },
        {
          "line": 4876,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(key)",
          "new_text": null,
          "old_line_content": "\tswitch (Z_TYPE_P(key)) {",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4370,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\tfor (idx = 0; idx < Z_ARRVAL_P(arrays[i])->nNumUsed; idx++) {",
          "new_line_content": "\tfor (i = 0; i < num_arrays; i++) {",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\t\tp = Z_ARRVAL_P(arrays[i])->arData + idx;",
          "new_line_content": "\t\tk = 0;",
          "content_same": false
        },
        {
          "line": 4883,
          "old_api": "Z_LVAL_P",
          "new_api": null,
          "old_text": "Z_LVAL_P(key)",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_hash_index_exists(array, Z_LVAL_P(key))) {",
          "new_line_content": "\t\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4888,
          "old_api": "STR_EMPTY_ALLOC",
          "new_api": null,
          "old_text": "STR_EMPTY_ALLOC()",
          "new_text": null,
          "old_line_content": "\t\t\tif (zend_hash_exists(array, STR_EMPTY_ALLOC())) {",
          "new_line_content": "\t\t\tRETURN_FALSE;",
          "content_same": false
        },
        {
          "line": 4378,
          "old_api": "ZVAL_UNDEF",
          "new_api": null,
          "old_text": "ZVAL_UNDEF(&indirect[k][num_arrays].val)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_UNDEF(&indirect[k][num_arrays].val);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4382,
          "old_api": "zend_qsort",
          "new_api": null,
          "old_text": "zend_qsort(indirect, array_size, sizeof(Bucket *), php_multisort_compare, (swap_func_t)array_bucket_p_sawp)",
          "new_text": null,
          "old_line_content": "\tzend_qsort(indirect, array_size, sizeof(Bucket *), php_multisort_compare, (swap_func_t)array_bucket_p_sawp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4894,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"The first argument should be either a string or an integer\")",
          "new_text": null,
          "old_line_content": "\t\t\tphp_error_docref(NULL, E_WARNING, \"The first argument should be either a string or an integer\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": "HANDLE_BLOCK_INTERRUPTIONS",
          "new_api": null,
          "old_text": "HANDLE_BLOCK_INTERRUPTIONS()",
          "new_text": null,
          "old_line_content": "\tHANDLE_BLOCK_INTERRUPTIONS();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4389,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(arrays[i])",
          "new_text": null,
          "old_line_content": "\t\thash = Z_ARRVAL_P(arrays[i]);",
          "new_line_content": "\t\tint repack;",
          "content_same": false
        },
        {
          "line": 4904,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tint argc = ZEND_NUM_ARGS(), num_in;",
          "new_line_content": "PHP_FUNCTION(array_chunk)",
          "content_same": false
        },
        {
          "line": 4913,
          "old_api": "zend_parse_parameters",
          "new_api": null,
          "old_text": "zend_parse_parameters(argc, \"al|b\", &input, &size, &preserve_keys)",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(argc, \"al|b\", &input, &size, &preserve_keys) == FAILURE) {",
          "new_line_content": "\tzval *entry;",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": "zend_hash_to_packed",
          "new_api": null,
          "old_text": "zend_hash_to_packed(hash)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_to_packed(hash);",
          "new_line_content": "\t\thash->nNextFreeElement = array_size;",
          "content_same": false
        },
        {
          "line": 4918,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Size parameter expected to be greater than 0\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Size parameter expected to be greater than 0\");",
          "new_line_content": "\t/* Do bounds checking for size parameter. */",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": "HANDLE_UNBLOCK_INTERRUPTIONS",
          "new_api": null,
          "old_text": "HANDLE_UNBLOCK_INTERRUPTIONS()",
          "new_text": null,
          "old_line_content": "\tHANDLE_UNBLOCK_INTERRUPTIONS();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4922,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(input)",
          "new_text": null,
          "old_line_content": "\tnum_in = zend_hash_num_elements(Z_ARRVAL_P(input));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": "efree",
          "new_api": null,
          "old_text": "efree(indirect[i])",
          "new_text": null,
          "old_line_content": "\t\tefree(indirect[i]);",
          "new_line_content": "\t/* Clean up. */",
          "content_same": false
        },
        {
          "line": 4928,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(return_value, (uint32_t)(((num_in - 1) / size) + 1))",
          "new_text": null,
          "old_line_content": "\tarray_init_size(return_value, (uint32_t)(((num_in - 1) / size) + 1));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4934,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(chunk)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(chunk) == IS_UNDEF) {",
          "new_line_content": "\tZEND_HASH_FOREACH_KEY_VAL(Z_ARRVAL_P(input), num_key, str_key, entry) {",
          "content_same": false
        },
        {
          "line": 4935,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(&chunk, (uint32_t)size)",
          "new_text": null,
          "old_line_content": "\t\t\tarray_init_size(&chunk, (uint32_t)size);",
          "new_line_content": "\t\t/* If new chunk, create and initialize it. */",
          "content_same": false
        },
        {
          "line": 4941,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(chunk)",
          "new_text": null,
          "old_line_content": "\t\t\t\tentry = zend_hash_update(Z_ARRVAL(chunk), str_key, entry);",
          "new_line_content": "\t\tif (preserve_keys) {",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a|l\", &input, &num_req) == FAILURE) {",
          "new_line_content": "\tzend_ulong num_key;",
          "content_same": false
        },
        {
          "line": 4946,
          "old_api": "Z_ARRVAL",
          "new_api": null,
          "old_text": "Z_ARRVAL(chunk)",
          "new_text": null,
          "old_line_content": "\t\t\tentry = zend_hash_next_index_insert(Z_ARRVAL(chunk), entry);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4436,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(input)",
          "new_text": null,
          "old_line_content": "\tnum_avail = zend_hash_num_elements(Z_ARRVAL_P(input));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4953,
          "old_api": "add_next_index_zval",
          "new_api": null,
          "old_text": "add_next_index_zval(return_value, &chunk)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_next_index_zval(return_value, &chunk);",
          "new_line_content": "\t\t * pointer. */",
          "content_same": false
        },
        {
          "line": 4954,
          "old_api": "ZVAL_UNDEF",
          "new_api": null,
          "old_text": "ZVAL_UNDEF(&chunk)",
          "new_text": null,
          "old_line_content": "\t\t\tZVAL_UNDEF(&chunk);",
          "new_line_content": "\t\tif (!(++current % size)) {",
          "content_same": false
        },
        {
          "line": 4447,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(return_value, (uint32_t)num_req)",
          "new_text": null,
          "old_line_content": "\t\tarray_init_size(return_value, (uint32_t)num_req);",
          "new_line_content": "\t/* Make the return value an array only if we need to pass back more than one result. */",
          "content_same": false
        },
        {
          "line": 4959,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(chunk)",
          "new_text": null,
          "old_line_content": "\tif (Z_TYPE(chunk) != IS_UNDEF) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4960,
          "old_api": "add_next_index_zval",
          "new_api": null,
          "old_text": "add_next_index_zval(return_value, &chunk)",
          "new_text": null,
          "old_line_content": "\t\tadd_next_index_zval(return_value, &chunk);",
          "new_line_content": "\t/* Add the final chunk if there is one. */",
          "content_same": false
        },
        {
          "line": 4456,
          "old_api": "php_rand",
          "new_api": null,
          "old_text": "php_rand()",
          "new_text": null,
          "old_line_content": "\t\trandval = php_rand();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4460,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE_P(return_value) != IS_ARRAY) {",
          "new_line_content": "\t\tif ((double) (randval / (PHP_RAND_MAX + 1.0)) < (double) num_req / (double) num_avail) {",
          "content_same": false
        },
        {
          "line": 4974,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"aa\", &keys, &values) == FAILURE) {",
          "new_line_content": "\tint num_keys, num_values;",
          "content_same": false
        },
        {
          "line": 4978,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(keys)",
          "new_text": null,
          "old_line_content": "\tnum_keys = zend_hash_num_elements(Z_ARRVAL_P(keys));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4979,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(values)",
          "new_text": null,
          "old_line_content": "\tnum_values = zend_hash_num_elements(Z_ARRVAL_P(values));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4469,
          "old_api": "zend_string_copy",
          "new_api": null,
          "old_text": "zend_string_copy(string_key)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tadd_next_index_str(return_value, zend_string_copy(string_key));",
          "new_line_content": "\t\t\t\t/* Append the result to the return value. */",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": "php_error_docref",
          "new_api": null,
          "old_text": "php_error_docref(NULL, E_WARNING, \"Both parameters should have an equal number of elements\")",
          "new_text": null,
          "old_line_content": "\t\tphp_error_docref(NULL, E_WARNING, \"Both parameters should have an equal number of elements\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4986,
          "old_api": "array_init_size",
          "new_api": null,
          "old_text": "array_init_size(return_value, num_keys)",
          "new_text": null,
          "old_line_content": "\tarray_init_size(return_value, num_keys);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4477,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4994,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(values)",
          "new_text": null,
          "old_line_content": "\t\t\tif (pos_values >= Z_ARRVAL_P(values)->nNumUsed) {",
          "new_line_content": "\tZEND_HASH_FOREACH_VAL(Z_ARRVAL_P(keys), entry_keys) {",
          "content_same": false
        },
        {
          "line": 4997,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(values)",
          "new_text": null,
          "old_line_content": "\t\t\t\tentry_values = &Z_ARRVAL_P(values)->arData[pos_values].val;",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4489,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a\", &input) == FAILURE) {",
          "new_line_content": "\t\t entry_n;",
          "content_same": false
        },
        {
          "line": 5003,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(return_value)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tentry_values = zend_symtable_update(Z_ARRVAL_P(return_value),",
          "new_line_content": "\t\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 4493,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(return_value, 0)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(return_value, 0);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4496,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(entry)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(entry) == IS_ARRAY || Z_TYPE_P(entry) == IS_OBJECT) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4499,
          "old_api": "ZVAL_DUP",
          "new_api": null,
          "old_text": "ZVAL_DUP(&entry_n, entry)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_DUP(&entry_n, entry);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 4500,
          "old_api": "convert_scalar_to_number",
          "new_api": null,
          "old_text": "convert_scalar_to_number(&entry_n)",
          "new_text": null,
          "old_line_content": "\t\tconvert_scalar_to_number(&entry_n);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5013,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\tpos_values++;",
          "content_same": false
        },
        {
          "line": 4515,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"a\", &input) == FAILURE) {",
          "new_line_content": "\tdouble dval;",
          "content_same": false
        },
        {
          "line": 4519,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(return_value, 1)",
          "new_text": null,
          "old_line_content": "\tZVAL_LONG(return_value, 1);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4520,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(input)",
          "new_text": null,
          "old_line_content": "\tif (!zend_hash_num_elements(Z_ARRVAL_P(input))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4525,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(entry)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(entry) == IS_ARRAY || Z_TYPE_P(entry) == IS_OBJECT) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4528,
          "old_api": "ZVAL_DUP",
          "new_api": null,
          "old_text": "ZVAL_DUP(&entry_n, entry)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_DUP(&entry_n, entry);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 4529,
          "old_api": "convert_scalar_to_number",
          "new_api": null,
          "old_text": "convert_scalar_to_number(&entry_n)",
          "new_text": null,
          "old_line_content": "\t\tconvert_scalar_to_number(&entry_n);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4532,
          "old_api": "Z_LVAL",
          "new_api": null,
          "old_text": "Z_LVAL(entry_n)",
          "new_text": null,
          "old_line_content": "\t\t\tdval = (double)Z_LVAL_P(return_value) * (double)Z_LVAL(entry_n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4538,
          "old_api": "convert_to_double",
          "new_api": null,
          "old_text": "convert_to_double(return_value)",
          "new_text": null,
          "old_line_content": "\t\tconvert_to_double(return_value);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4539,
          "old_api": "convert_to_double",
          "new_api": null,
          "old_text": "convert_to_double(&entry_n)",
          "new_text": null,
          "old_line_content": "\t\tconvert_to_double(&entry_n);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4559,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (zend_parse_parameters(ZEND_NUM_ARGS(), \"af|z\", &input, &fci, &fci_cache, &initial) == FAILURE) {",
          "new_line_content": "\tHashTable *htbl;",
          "content_same": false
        },
        {
          "line": 4564,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (ZEND_NUM_ARGS() > 2) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4565,
          "old_api": "ZVAL_DUP",
          "new_api": null,
          "old_text": "ZVAL_DUP(&result, initial)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_DUP(&result, initial);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": "Z_ARRVAL_P",
          "new_api": null,
          "old_text": "Z_ARRVAL_P(input)",
          "new_text": null,
          "old_line_content": "\thtbl = Z_ARRVAL_P(input);",
          "new_line_content": "\t * the base pointer of which is subject to change.",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": "RETURN_ZVAL",
          "new_api": null,
          "old_text": "RETURN_ZVAL(&result, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\tRETURN_ZVAL(&result, 1, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4584,
          "old_api": "ZVAL_COPY",
          "new_api": null,
          "old_text": "ZVAL_COPY(&args[0], &result)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_COPY(&args[0], &result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": "ZVAL_COPY",
          "new_api": null,
          "old_text": "ZVAL_COPY(&args[1], operand)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_COPY(&args[1], operand);",
          "new_line_content": "\tZEND_HASH_FOREACH_VAL(htbl, operand) {",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(retval)",
          "new_text": null,
          "old_line_content": "\t\tif (zend_call_function(&fci, &fci_cache) == SUCCESS && Z_TYPE(retval) != IS_UNDEF) {",
          "new_line_content": "\t\tfci.params = args;",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": "zval_ptr_dtor",
          "new_api": null,
          "old_text": "zval_ptr_dtor(&args[1])",
          "new_text": null,
          "old_line_content": "\t\t\tzval_ptr_dtor(&args[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4595,
          "old_api": "zval_ptr_dtor",
          "new_api": null,
          "old_text": "zval_ptr_dtor(&args[0])",
          "new_text": null,
          "old_line_content": "\t\t\tzval_ptr_dtor(&args[0]);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 4598,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": "ZEND_NUM_ARGS",
          "new_api": null,
          "old_text": "ZEND_NUM_ARGS()",
          "new_text": null,
          "old_line_content": "\tif (ZEND_NUM_ARGS() < 2) {",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 63,
      "total_additions": 159,
      "total_deletions": 158,
      "total_api_changes": 380
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 380,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          4093
        ]
      }
    },
    "api_calls_before": 1704,
    "api_calls_after": 1705,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 28
    }
  }
}