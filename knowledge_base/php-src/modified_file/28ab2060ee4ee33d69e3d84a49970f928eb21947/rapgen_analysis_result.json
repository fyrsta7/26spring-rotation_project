{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/28ab2060ee4ee33d69e3d84a49970f928eb21947",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/28ab2060ee4ee33d69e3d84a49970f928eb21947/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/28ab2060ee4ee33d69e3d84a49970f928eb21947/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/php-src/modified_file/28ab2060ee4ee33d69e3d84a49970f928eb21947/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1871,
          "old_api": "HT_IS_WITHOUT_HOLES",
          "new_api": "zend_array_dup_packed_elements",
          "old_text": "HT_IS_WITHOUT_HOLES(target)",
          "new_text": "zend_array_dup_packed_elements(source, target, 0)",
          "old_line_content": "\t\tif (HT_IS_WITHOUT_HOLES(target)) {",
          "new_line_content": "\t\t\tzend_array_dup_packed_elements(source, target, 0);",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "HT_HASH_RESET",
          "new_api": "HT_HAS_STATIC_KEYS_ONLY",
          "old_text": "HT_HASH_RESET(target)",
          "new_text": "HT_HAS_STATIC_KEYS_ONLY(target)",
          "old_line_content": "\t\tHT_HASH_RESET(target);",
          "new_line_content": "\t\tif (HT_HAS_STATIC_KEYS_ONLY(target)) {",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": "HT_HAS_STATIC_KEYS_ONLY",
          "new_api": "zend_array_dup_elements",
          "old_text": "HT_HAS_STATIC_KEYS_ONLY(target)",
          "new_text": "zend_array_dup_elements(source, target, 1, 0)",
          "old_line_content": "\t\tif (HT_HAS_STATIC_KEYS_ONLY(target)) {",
          "new_line_content": "\t\t\t\tidx = zend_array_dup_elements(source, target, 1, 0);",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "IS_CONSISTENT",
          "new_api": "HT_ASSERT_RC1",
          "old_text": "IS_CONSISTENT(source)",
          "new_text": "HT_ASSERT_RC1(target)",
          "old_line_content": "\tIS_CONSISTENT(source);",
          "new_line_content": "\tHT_ASSERT_RC1(target);",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "Z_TYPE",
          "new_api": "Z_INDIRECT",
          "old_text": "Z_TYPE(p->val)",
          "new_text": "Z_INDIRECT(p->val)",
          "old_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "new_line_content": "\t\t\t    UNEXPECTED(Z_TYPE_P(Z_INDIRECT(p->val)) == IS_UNDEF)) {",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "_zend_hash_add_or_update_i",
          "new_api": "pCopyConstructor",
          "old_text": "_zend_hash_add_or_update_i(target, p->key, &p->val, HASH_UPDATE | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\t\tt = _zend_hash_add_or_update_i(target, p->key, &p->val, HASH_UPDATE | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC);",
          "new_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "zend_hash_index_update",
          "new_api": "pCopyConstructor",
          "old_text": "zend_hash_index_update(target, p->h, &p->val)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\t\tt = zend_hash_index_update(target, p->h, &p->val);",
          "new_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": "Z_TYPE",
          "new_api": "Z_INDIRECT",
          "old_text": "Z_TYPE(p->val)",
          "new_text": "Z_INDIRECT(p->val)",
          "old_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "new_line_content": "\t\t\t    UNEXPECTED(Z_TYPE_P(Z_INDIRECT(p->val)) == IS_UNDEF)) {",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": "_zend_hash_add_or_update_i",
          "new_api": "pCopyConstructor",
          "old_text": "_zend_hash_add_or_update_i(target, p->key, &p->val, HASH_ADD | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\t\tt = _zend_hash_add_or_update_i(target, p->key, &p->val, HASH_ADD | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC);",
          "new_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "zend_hash_index_add",
          "new_api": "pCopyConstructor",
          "old_text": "zend_hash_index_add(target, p->h, &p->val)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\t\tt = zend_hash_index_add(target, p->h, &p->val);",
          "new_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "IS_CONSISTENT",
          "new_api": "HT_ASSERT_RC1",
          "old_text": "IS_CONSISTENT(source)",
          "new_text": "HT_ASSERT_RC1(target)",
          "old_line_content": "\tIS_CONSISTENT(source);",
          "new_line_content": "\tHT_ASSERT_RC1(target);",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "Z_TYPE",
          "new_api": "zend_hash_update",
          "old_text": "Z_TYPE(p->val)",
          "new_text": "zend_hash_update(target, p->key, &p->val)",
          "old_line_content": "\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "new_line_content": "\t\t\tt = zend_hash_update(target, p->key, &p->val);",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "zend_hash_update",
          "new_api": "pCopyConstructor",
          "old_text": "zend_hash_update(target, p->key, &p->val)",
          "new_text": "pCopyConstructor(t)",
          "old_line_content": "\t\t\tt = zend_hash_update(target, p->key, &p->val);",
          "new_line_content": "\t\t\t\tpCopyConstructor(t);",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": "IS_CONSISTENT",
          "new_api": "zend_hash_find_bucket",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "zend_hash_find_bucket(ht, key, 0)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tp = zend_hash_find_bucket(ht, key, 0);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "IS_CONSISTENT",
          "new_api": "zend_hash_find_bucket",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "zend_hash_find_bucket(ht, key, 1)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tp = zend_hash_find_bucket(ht, key, 1);",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": "IS_CONSISTENT",
          "new_api": "zend_inline_hash_func",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "zend_inline_hash_func(str, len)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\th = zend_inline_hash_func(str, len);",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": "IS_CONSISTENT",
          "new_api": "zend_hash_find_bucket",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "zend_hash_find_bucket(ht, key, 0)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tp = zend_hash_find_bucket(ht, key, 0);",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "IS_CONSISTENT",
          "new_api": "zend_inline_hash_func",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "zend_inline_hash_func(str, len)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\th = zend_inline_hash_func(str, len);",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "IS_CONSISTENT",
          "new_api": "HT_FLAGS",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "HT_FLAGS(ht)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tif (HT_FLAGS(ht) & HASH_FLAG_PACKED) {",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "IS_CONSISTENT",
          "new_api": "zend_hash_index_find_bucket",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "zend_hash_index_find_bucket(ht, h)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tp = zend_hash_index_find_bucket(ht, h);",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": "IS_CONSISTENT",
          "new_api": "HT_FLAGS",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "HT_FLAGS(ht)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tif (HT_FLAGS(ht) & HASH_FLAG_PACKED) {",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": "HT_FLAGS",
          "new_api": "Z_TYPE",
          "old_text": "HT_FLAGS(ht)",
          "new_text": "Z_TYPE(ht->arData[h].val)",
          "old_line_content": "\tif (HT_FLAGS(ht) & HASH_FLAG_PACKED) {",
          "new_line_content": "\t\t\tif (Z_TYPE(ht->arData[h].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "IS_CONSISTENT",
          "new_api": "ZVAL_NULL",
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": "ZVAL_NULL(key)",
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\t\tZVAL_NULL(key);",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "ZVAL_STR_COPY",
          "new_api": "ZVAL_LONG",
          "old_text": "ZVAL_STR_COPY(key, p->key)",
          "new_text": "ZVAL_LONG(key, p->h)",
          "old_line_content": "\t\t\tZVAL_STR_COPY(key, p->key);",
          "new_line_content": "\t\t\tZVAL_LONG(key, p->h);",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "sort",
          "new_api": "HT_FLAGS",
          "old_text": "sort((void *)ht->arData, i, sizeof(Bucket), compar,\n\t\t\t(swap_func_t)(renumber? zend_hash_bucket_renum_swap :\n\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap)))",
          "new_text": "HT_FLAGS(ht)",
          "old_line_content": "\tsort((void *)ht->arData, i, sizeof(Bucket), compar,",
          "new_line_content": "\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap)));",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": "HT_FLAGS",
          "new_api": "zend_hash_packed_to_hash",
          "old_text": "HT_FLAGS(ht)",
          "new_text": "zend_hash_packed_to_hash(ht)",
          "old_line_content": "\tif (HT_FLAGS(ht) & HASH_FLAG_PACKED) {",
          "new_line_content": "\t\t\tzend_hash_packed_to_hash(ht);",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "HT_FLAGS",
          "new_api": "HT_SET_DATA_ADDR",
          "old_text": "HT_FLAGS(ht)",
          "new_text": "HT_SET_DATA_ADDR(ht, new_data)",
          "old_line_content": "\t\t\tHT_FLAGS(ht) |= HASH_FLAG_PACKED | HASH_FLAG_STATIC_KEYS;",
          "new_line_content": "\t\t\tHT_SET_DATA_ADDR(ht, new_data);",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "HT_SET_DATA_ADDR",
          "new_api": "GC_FLAGS",
          "old_text": "HT_SET_DATA_ADDR(ht, new_data)",
          "new_text": "GC_FLAGS(ht)",
          "old_line_content": "\t\t\tHT_SET_DATA_ADDR(ht, new_data);",
          "new_line_content": "\t\t\tpefree(old_data, GC_FLAGS(ht) & IS_ARRAY_PERSISTENT);",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": "memcpy",
          "new_api": "HT_HASH_RESET_PACKED",
          "old_text": "memcpy(ht->arData, old_buckets, sizeof(Bucket) * ht->nNumUsed)",
          "new_text": "HT_HASH_RESET_PACKED(ht)",
          "old_line_content": "\t\t\tmemcpy(ht->arData, old_buckets, sizeof(Bucket) * ht->nNumUsed);",
          "new_line_content": "\t\t\tHT_HASH_RESET_PACKED(ht);",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": "HT_HASH_RESET_PACKED",
          "new_api": "zend_hash_rehash",
          "old_text": "HT_HASH_RESET_PACKED(ht)",
          "new_text": "zend_hash_rehash(ht)",
          "old_line_content": "\t\t\tHT_HASH_RESET_PACKED(ht);",
          "new_line_content": "\t\t\tzend_hash_rehash(ht);",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": "ZEND_ASSERT",
          "new_api": "Z_TYPE",
          "old_text": "ZEND_ASSERT(idx2 != ht2->nNumUsed)",
          "new_text": "Z_TYPE(p2->val)",
          "old_line_content": "\t\t\t\tZEND_ASSERT(idx2 != ht2->nNumUsed);",
          "new_line_content": "\t\t\t\tif (Z_TYPE(p2->val) != IS_UNDEF) break;",
          "content_same": false
        },
        {
          "line": 2444,
          "old_api": "Z_INDIRECT_P",
          "new_api": "Z_TYPE_P",
          "old_text": "Z_INDIRECT_P(pData1)",
          "new_text": "Z_TYPE_P(pData2)",
          "old_line_content": "\t\t\tpData1 = Z_INDIRECT_P(pData1);",
          "new_line_content": "\t\tif (Z_TYPE_P(pData2) == IS_INDIRECT) {",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": "GC_PROTECT_RECURSION",
          "new_api": "zend_hash_compare_impl",
          "old_text": "GC_PROTECT_RECURSION(ht1)",
          "new_text": "zend_hash_compare_impl(ht1, ht2, compar, ordered)",
          "old_line_content": "\t\tGC_PROTECT_RECURSION(ht1);",
          "new_line_content": "\tresult = zend_hash_compare_impl(ht1, ht2, compar, ordered);",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "zend_hash_compare_impl",
          "new_api": "GC_UNPROTECT_RECURSION",
          "old_text": "zend_hash_compare_impl(ht1, ht2, compar, ordered)",
          "new_text": "GC_UNPROTECT_RECURSION(ht1)",
          "old_line_content": "\tresult = zend_hash_compare_impl(ht1, ht2, compar, ordered);",
          "new_line_content": "\t\tGC_UNPROTECT_RECURSION(ht1);",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": "GC_FLAGS",
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": "GC_FLAGS(ht)",
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\tif (!(GC_FLAGS(ht) & IS_ARRAY_IMMUTABLE)) {",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": "Z_OPT_REFCOUNTED_P",
          "new_api": "Z_REFVAL_P",
          "old_text": "Z_OPT_REFCOUNTED_P(zv)",
          "new_text": "Z_REFVAL_P(zv)",
          "old_line_content": "\t\t\t\tif (Z_OPT_REFCOUNTED_P(zv)) {",
          "new_line_content": "\t\t\t\t\t\tzv = Z_REFVAL_P(zv);",
          "content_same": false
        },
        {
          "line": 2610,
          "old_api": "Z_REFCOUNT_P",
          "new_api": "Z_OPT_REFCOUNTED_P",
          "old_text": "Z_REFCOUNT_P(zv)",
          "new_text": "Z_OPT_REFCOUNTED_P(zv)",
          "old_line_content": "\t\t\t\t\tif (Z_ISREF_P(zv) && Z_REFCOUNT_P(zv) == 1) {",
          "new_line_content": "\t\t\t\t\t\tif (!Z_OPT_REFCOUNTED_P(zv)) {",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "Z_OPT_REFCOUNTED_P",
          "new_api": "Z_REFVAL_P",
          "old_text": "Z_OPT_REFCOUNTED_P(zv)",
          "new_text": "Z_REFVAL_P(zv)",
          "old_line_content": "\t\t\t\tif (Z_OPT_REFCOUNTED_P(zv)) {",
          "new_line_content": "\t\t\t\t\t\tzv = Z_REFVAL_P(zv);",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": "Z_REFCOUNT_P",
          "new_api": "Z_OPT_REFCOUNTED_P",
          "old_text": "Z_REFCOUNT_P(zv)",
          "new_text": "Z_OPT_REFCOUNTED_P(zv)",
          "old_line_content": "\t\t\t\t\tif (Z_ISREF_P(zv) && Z_REFCOUNT_P(zv) == 1) {",
          "new_line_content": "\t\t\t\t\t\tif (!Z_OPT_REFCOUNTED_P(zv)) {",
          "content_same": false
        },
        {
          "line": 2675,
          "old_api": "zend_hash_index_update",
          "new_api": "zend_hash_update",
          "old_text": "zend_hash_index_update(new_ht, num_key, zv)",
          "new_text": "zend_hash_update(new_ht, str_key, zv)",
          "old_line_content": "\t\t\t\tzend_hash_index_update(new_ht, num_key, zv);",
          "new_line_content": "\t\t\t\tzend_hash_update(new_ht, str_key, zv);",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": "zend_hash_update",
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": "zend_hash_update(new_ht, str_key, zv)",
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\t\tzend_hash_update(new_ht, str_key, zv);",
          "new_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2052,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": null,
          "new_api": "zend_hash_str_find_bucket",
          "old_text": null,
          "new_text": "zend_hash_str_find_bucket(ht, str, len, h)",
          "old_line_content": "",
          "new_line_content": "\tp = zend_hash_str_find_bucket(ht, str, len, h);",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": null,
          "new_api": "HT_IS_PACKED",
          "old_text": null,
          "new_text": "HT_IS_PACKED(ht)",
          "old_line_content": "\tzval *zv;",
          "new_line_content": "\tif (UNEXPECTED(HT_IS_PACKED(ht))) {",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\tgoto convert;",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\tif (h < ht->nNumUsed) {",
          "new_line_content": "\t\t\tif (Z_TYPE(p->val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": null,
          "new_api": "GC_ADDREF",
          "old_text": null,
          "new_text": "GC_ADDREF(ht)",
          "old_line_content": "",
          "new_line_content": "\t\tGC_ADDREF(ht);",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "zend_hash_index_find_bucket",
          "old_text": null,
          "new_text": "zend_hash_index_find_bucket(ht, h)",
          "old_line_content": "\t}",
          "new_line_content": "\tp = zend_hash_index_find_bucket(ht, h);",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": null,
          "new_api": "zend_hash_num_elements",
          "old_text": null,
          "new_text": "zend_hash_num_elements(ht)",
          "old_line_content": "convert:",
          "new_line_content": "\t\tHashTable *new_ht = zend_new_array(zend_hash_num_elements(ht));",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": null,
          "new_api": "zend_long_to_str",
          "old_text": null,
          "new_text": "zend_long_to_str(num_key)",
          "old_line_content": "\t\tZEND_HASH_FOREACH_KEY_VAL(ht, num_key, str_key, zv) {",
          "new_line_content": "\t\t\t\tstr_key = zend_long_to_str(num_key);",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": null,
          "new_api": "zend_string_delref",
          "old_text": null,
          "new_text": "zend_string_delref(str_key)",
          "old_line_content": "\t\t\tif (!str_key) {",
          "new_line_content": "\t\t\t\tzend_string_delref(str_key);",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2607,
          "old_api": null,
          "new_api": "Z_OPT_REFCOUNTED_P",
          "old_text": null,
          "new_text": "Z_OPT_REFCOUNTED_P(zv)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tif (Z_OPT_REFCOUNTED_P(zv)) {",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": null,
          "new_api": "Z_REFCOUNT_P",
          "old_text": null,
          "new_text": "Z_REFCOUNT_P(zv)",
          "old_line_content": "\t\t\tdo {",
          "new_line_content": "\t\t\t\t\tif (Z_ISREF_P(zv) && Z_REFCOUNT_P(zv) == 1) {",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": null,
          "new_api": "Z_ADDREF_P",
          "old_text": null,
          "new_text": "Z_ADDREF_P(zv)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tZ_ADDREF_P(zv);",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": null,
          "new_api": "zend_hash_update",
          "old_text": null,
          "new_text": "zend_hash_update(new_ht, str_key, zv)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\tzend_hash_update(new_ht, str_key, zv);",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\t} while (0);",
          "new_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": null,
          "new_api": "zend_hash_index_find_bucket",
          "old_text": null,
          "new_text": "zend_hash_index_find_bucket(ht, h)",
          "old_line_content": "\t}",
          "new_line_content": "\tp = zend_hash_index_find_bucket(ht, h);",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "    uint32_t idx;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": null,
          "new_api": "GC_REFCOUNT",
          "old_text": null,
          "new_text": "GC_REFCOUNT(ht)",
          "old_line_content": "",
          "new_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(ht->arData[idx].val)",
          "old_line_content": "",
          "new_line_content": "\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2640,
          "old_api": null,
          "new_api": "ZEND_HANDLE_NUMERIC",
          "old_text": null,
          "new_text": "ZEND_HANDLE_NUMERIC(str_key, num_key)",
          "old_line_content": "\t\t * property table should be.",
          "new_line_content": "\t\tif (str_key && ZEND_HANDLE_NUMERIC(str_key, num_key)) {",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": null,
          "new_api": "ZEND_HASH_FOREACH_END",
          "old_text": null,
          "new_text": "ZEND_HASH_FOREACH_END()",
          "old_line_content": "\t\t\tgoto convert;",
          "new_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": null,
          "new_api": "zend_array_dup",
          "old_text": null,
          "new_text": "zend_array_dup(ht)",
          "old_line_content": "",
          "new_line_content": "\t\treturn zend_array_dup(ht);",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": null,
          "new_api": "GC_FLAGS",
          "old_text": null,
          "new_text": "GC_FLAGS(ht)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (EXPECTED(!(GC_FLAGS(ht) & IS_ARRAY_IMMUTABLE))) {",
          "content_same": false
        },
        {
          "line": 2650,
          "old_api": null,
          "new_api": "GC_ADDREF",
          "old_text": null,
          "new_text": "GC_ADDREF(ht)",
          "old_line_content": "",
          "new_line_content": "\t\tGC_ADDREF(ht);",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tuint32_t idx;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": null,
          "new_api": "GC_REFCOUNT",
          "old_text": null,
          "new_text": "GC_REFCOUNT(ht)",
          "old_line_content": "",
          "new_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": null,
          "new_api": "zend_hash_num_elements",
          "old_text": null,
          "new_text": "zend_hash_num_elements(ht)",
          "old_line_content": "convert:",
          "new_line_content": "\t\tHashTable *new_ht = zend_new_array(zend_hash_num_elements(ht));",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": null,
          "new_api": "Z_OPT_REFCOUNTED_P",
          "old_text": null,
          "new_text": "Z_OPT_REFCOUNTED_P(zv)",
          "old_line_content": "\t\tZEND_HASH_FOREACH_KEY_VAL(ht, num_key, str_key, zv) {",
          "new_line_content": "\t\t\t\tif (Z_OPT_REFCOUNTED_P(zv)) {",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(ht->arData[idx].val)",
          "old_line_content": "\twhile (idx > 0) {",
          "new_line_content": "\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": null,
          "new_api": "Z_REFCOUNT_P",
          "old_text": null,
          "new_text": "Z_REFCOUNT_P(zv)",
          "old_line_content": "\t\t\tdo {",
          "new_line_content": "\t\t\t\t\tif (Z_ISREF_P(zv) && Z_REFCOUNT_P(zv) == 1) {",
          "content_same": false
        },
        {
          "line": 2668,
          "old_api": null,
          "new_api": "Z_ADDREF_P",
          "old_text": null,
          "new_text": "Z_ADDREF_P(zv)",
          "old_line_content": "\t\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tZ_ADDREF_P(zv);",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": null,
          "new_api": "ZEND_HANDLE_NUMERIC",
          "old_text": null,
          "new_text": "ZEND_HANDLE_NUMERIC(str_key, num_key)",
          "old_line_content": "\t\t\t} while (0);",
          "new_line_content": "\t\t\tif (!str_key || ZEND_HANDLE_NUMERIC(str_key, num_key)) {",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": null,
          "new_api": "zend_hash_index_update",
          "old_text": null,
          "new_text": "zend_hash_index_update(new_ht, num_key, zv)",
          "old_line_content": "\t\t\t/* Again, thank ArrayObject for `!str_key ||`. */",
          "new_line_content": "\t\t\t\tzend_hash_index_update(new_ht, num_key, zv);",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tuint32_t idx = *pos;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": null,
          "new_api": "GC_REFCOUNT",
          "old_text": null,
          "new_text": "GC_REFCOUNT(ht)",
          "old_line_content": "",
          "new_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(ht->arData[idx].val)",
          "old_line_content": "\t\t\t\treturn SUCCESS;",
          "new_line_content": "\t\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tuint32_t idx = *pos;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": null,
          "new_api": "GC_REFCOUNT",
          "old_text": null,
          "new_text": "GC_REFCOUNT(ht)",
          "old_line_content": "",
          "new_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(ht->arData[idx].val)",
          "old_line_content": "\t\twhile (idx > 0) {",
          "new_line_content": "\t\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": null,
          "new_api": "ZVAL_STR_COPY",
          "old_text": null,
          "new_text": "ZVAL_STR_COPY(key, p->key)",
          "old_line_content": "\t\tp = ht->arData + idx;",
          "new_line_content": "\t\t\tZVAL_STR_COPY(key, p->key);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&val, &p->val)",
          "old_line_content": "\tzend_string *key;",
          "new_line_content": "\tZVAL_COPY_VALUE(&val, &p->val);",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&p->val, &q->val)",
          "old_line_content": "\tkey = p->key;",
          "new_line_content": "\tZVAL_COPY_VALUE(&p->val, &q->val);",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&q->val, &val)",
          "old_line_content": "\tp->key = q->key;",
          "new_line_content": "\tZVAL_COPY_VALUE(&q->val, &val);",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&val, &p->val)",
          "old_line_content": "\tzval val;",
          "new_line_content": "\tZVAL_COPY_VALUE(&val, &p->val);",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&p->val, &q->val)",
          "old_line_content": "",
          "new_line_content": "\tZVAL_COPY_VALUE(&p->val, &q->val);",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&val, &p->val)",
          "old_line_content": "\tzend_ulong h;",
          "new_line_content": "\tZVAL_COPY_VALUE(&val, &p->val);",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&p->val, &q->val)",
          "old_line_content": "\th = p->h;",
          "new_line_content": "\tZVAL_COPY_VALUE(&p->val, &q->val);",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": null,
          "new_api": "ZVAL_COPY_VALUE",
          "old_text": null,
          "new_text": "ZVAL_COPY_VALUE(&q->val, &val)",
          "old_line_content": "\tp->h = q->h;",
          "new_line_content": "\tZVAL_COPY_VALUE(&q->val, &val);",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tuint32_t i, j;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": null,
          "new_api": "HT_ASSERT_RC1",
          "old_text": null,
          "new_text": "HT_ASSERT_RC1(ht)",
          "old_line_content": "",
          "new_line_content": "\tHT_ASSERT_RC1(ht);",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": null,
          "new_api": "HT_IS_WITHOUT_HOLES",
          "old_text": null,
          "new_text": "HT_IS_WITHOUT_HOLES(ht)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (HT_IS_WITHOUT_HOLES(ht)) {",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\tfor (j = 0, i = 0; j < ht->nNumUsed; j++) {",
          "new_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": null,
          "new_api": "sort",
          "old_text": null,
          "new_text": "sort((void *)ht->arData, i, sizeof(Bucket), compar,\n\t\t\t(swap_func_t)(renumber? zend_hash_bucket_renum_swap :\n\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap)))",
          "old_line_content": "\t}",
          "new_line_content": "\tsort((void *)ht->arData, i, sizeof(Bucket), compar,",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": null,
          "new_api": "swap_func_t)(renumber? zend_hash_bucket_renum_swap :\n\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap))",
          "old_text": null,
          "new_text": "swap_func_t)(renumber? zend_hash_bucket_renum_swap :\n\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap))",
          "old_line_content": "",
          "new_line_content": "\t\t\t(swap_func_t)(renumber? zend_hash_bucket_renum_swap :",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": null,
          "new_api": "zend_string_release",
          "old_text": null,
          "new_text": "zend_string_release(p->key)",
          "old_line_content": "\t\t\tp->h = j;",
          "new_line_content": "\t\t\t\tzend_string_release(p->key);",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": null,
          "new_api": "HT_FLAGS",
          "old_text": null,
          "new_text": "HT_FLAGS(ht)",
          "old_line_content": "\t\tht->nNextFreeElement = i;",
          "new_line_content": "\tif (HT_FLAGS(ht) & HASH_FLAG_PACKED) {",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(target->arData[idx].val)",
          "old_line_content": "\t\t\tidx = 0;",
          "new_line_content": "\t\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": null,
          "new_api": "HT_GET_DATA_ADDR",
          "old_text": null,
          "new_text": "HT_GET_DATA_ADDR(ht)",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\t\tvoid *new_data, *old_data = HT_GET_DATA_ADDR(ht);",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": null,
          "new_api": "GC_FLAGS",
          "old_text": null,
          "new_text": "GC_FLAGS(ht)",
          "old_line_content": "\t\t\tBucket *old_buckets = ht->arData;",
          "new_line_content": "\t\t\tnew_data = pemalloc(HT_SIZE_EX(ht->nTableSize, HT_MIN_MASK), (GC_FLAGS(ht) & IS_ARRAY_PERSISTENT));",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": null,
          "new_api": "HT_FLAGS",
          "old_text": null,
          "new_text": "HT_FLAGS(ht)",
          "old_line_content": "",
          "new_line_content": "\t\t\tHT_FLAGS(ht) |= HASH_FLAG_PACKED | HASH_FLAG_STATIC_KEYS;",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": null,
          "new_api": "HT_FLAGS",
          "old_text": null,
          "new_text": "HT_FLAGS(source)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t} else if (HT_FLAGS(source) & HASH_FLAG_PACKED) {",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ht->arData, old_buckets, sizeof(Bucket) * ht->nNumUsed)",
          "old_line_content": "\t\t\tht->nTableMask = HT_MIN_MASK;",
          "new_line_content": "\t\t\tmemcpy(ht->arData, old_buckets, sizeof(Bucket) * ht->nNumUsed);",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "HT_SIZE",
          "old_text": null,
          "new_text": "HT_SIZE(target)",
          "old_line_content": "\t\ttarget->nNextFreeElement = source->nNextFreeElement;",
          "new_line_content": "\t\tHT_SET_DATA_ADDR(target, emalloc(HT_SIZE(target)));",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "HT_HASH_RESET_PACKED",
          "old_text": null,
          "new_text": "HT_HASH_RESET_PACKED(target)",
          "old_line_content": "\t\ttarget->nInternalPointer = source->nInternalPointer;",
          "new_line_content": "\t\tHT_HASH_RESET_PACKED(target);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "HT_IS_WITHOUT_HOLES",
          "old_text": null,
          "new_text": "HT_IS_WITHOUT_HOLES(target)",
          "old_line_content": "",
          "new_line_content": "\t\tif (HT_IS_WITHOUT_HOLES(target)) {",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": null,
          "new_api": "zend_array_dup_packed_elements",
          "old_text": null,
          "new_text": "zend_array_dup_packed_elements(source, target, 1)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tzend_array_dup_packed_elements(source, target, 1);",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(target->arData[idx].val)",
          "old_line_content": "\t\t    target->nInternalPointer == HT_INVALID_IDX) {",
          "new_line_content": "\t\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "HT_FLAGS",
          "old_text": null,
          "new_text": "HT_FLAGS(source)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tHT_FLAGS(target) = HT_FLAGS(source);",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p1->val)",
          "old_line_content": "\t\tint result;",
          "new_line_content": "\t\tif (Z_TYPE(p1->val) == IS_UNDEF) continue;",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": null,
          "new_api": "HT_SIZE",
          "old_text": null,
          "new_text": "HT_SIZE(target)",
          "old_line_content": "\t\ttarget->nInternalPointer = source->nInternalPointer;",
          "new_line_content": "\t\tHT_SET_DATA_ADDR(target, emalloc(HT_SIZE(target)));",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": null,
          "new_api": "HT_HASH_RESET",
          "old_text": null,
          "new_text": "HT_HASH_RESET(target)",
          "old_line_content": "",
          "new_line_content": "\t\tHT_HASH_RESET(target);",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": null,
          "new_api": "ZEND_ASSERT",
          "old_text": null,
          "new_text": "ZEND_ASSERT(idx2 != ht2->nNumUsed)",
          "old_line_content": "\t\tif (ordered) {",
          "new_line_content": "\t\t\t\tZEND_ASSERT(idx2 != ht2->nNumUsed);",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": null,
          "new_api": "HT_IS_WITHOUT_HOLES",
          "old_text": null,
          "new_text": "HT_IS_WITHOUT_HOLES(source)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (HT_IS_WITHOUT_HOLES(source)) {",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": null,
          "new_api": "HT_IS_WITHOUT_HOLES",
          "old_text": null,
          "new_text": "HT_IS_WITHOUT_HOLES(source)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (HT_IS_WITHOUT_HOLES(source)) {",
          "content_same": false
        },
        {
          "line": 1899,
          "old_api": null,
          "new_api": "zend_array_dup_elements",
          "old_text": null,
          "new_text": "zend_array_dup_elements(source, target, 0, 0)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tidx = zend_array_dup_elements(source, target, 0, 0);",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(p2->key)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (ZSTR_LEN(p1->key) != ZSTR_LEN(p2->key)) {",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(p2->key)",
          "old_line_content": "\t\t\t} else if (p1->key != NULL && p2->key != NULL) { /* string indices */",
          "new_line_content": "\t\t\t\t\treturn ZSTR_LEN(p1->key) > ZSTR_LEN(p2->key) ? 1 : -1;",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": null,
          "new_api": "ZSTR_LEN",
          "old_text": null,
          "new_text": "ZSTR_LEN(p1->key)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tresult = memcmp(ZSTR_VAL(p1->key), ZSTR_VAL(p2->key), ZSTR_LEN(p1->key));",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": null,
          "new_api": "zend_hash_index_find",
          "old_text": null,
          "new_text": "zend_hash_index_find(ht2, p1->h)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\t\tpData2 = zend_hash_index_find(ht2, p1->h);",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(source)",
          "old_line_content": "\tzval *t;",
          "new_line_content": "\tIS_CONSISTENT(source);",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": null,
          "new_api": "zend_hash_find",
          "old_text": null,
          "new_text": "zend_hash_find(ht2, p1->key)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tpData2 = zend_hash_find(ht2, p1->key);",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(target)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(target);",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\tfor (idx = 0; idx < source->nNumUsed; idx++) {",
          "new_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\t\tp = source->arData + idx;",
          "new_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_INDIRECT) &&",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(pData1)",
          "old_line_content": "",
          "new_line_content": "\t\tif (Z_TYPE_P(pData1) == IS_INDIRECT) {",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": null,
          "new_api": "Z_INDIRECT_P",
          "old_text": null,
          "new_text": "Z_INDIRECT_P(pData1)",
          "old_line_content": "\t\tpData1 = &p1->val;",
          "new_line_content": "\t\t\tpData1 = Z_INDIRECT_P(pData1);",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": null,
          "new_api": "Z_INDIRECT_P",
          "old_text": null,
          "new_text": "Z_INDIRECT_P(pData2)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tpData2 = Z_INDIRECT_P(pData2);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": null,
          "new_api": "_zend_hash_add_or_update_i",
          "old_text": null,
          "new_text": "_zend_hash_add_or_update_i(target, p->key, &p->val, HASH_UPDATE | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tt = _zend_hash_add_or_update_i(target, p->key, &p->val, HASH_UPDATE | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(pData1)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tif (Z_TYPE_P(pData1) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(pData2)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (Z_TYPE_P(pData2) != IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "zend_hash_index_update",
          "old_text": null,
          "new_text": "zend_hash_index_update(target, p->h, &p->val)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tt = zend_hash_index_update(target, p->h, &p->val);",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": null,
          "new_api": "Z_TYPE_P",
          "old_text": null,
          "new_text": "Z_TYPE_P(pData2)",
          "old_line_content": "\t\t\t\treturn -1;",
          "new_line_content": "\t\t} else if (Z_TYPE_P(pData2) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "compar",
          "old_text": null,
          "new_text": "compar(pData1, pData2)",
          "old_line_content": "\t\t\treturn 1;",
          "new_line_content": "\t\t\tresult = compar(pData1, pData2);",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\tfor (idx = 0; idx < source->nNumUsed; idx++) {",
          "new_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\t\t\tp = source->arData + idx;",
          "new_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_INDIRECT) &&",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": null,
          "new_api": "_zend_hash_add_or_update_i",
          "old_text": null,
          "new_text": "_zend_hash_add_or_update_i(target, p->key, &p->val, HASH_ADD | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tt = _zend_hash_add_or_update_i(target, p->key, &p->val, HASH_ADD | HASH_UPDATE_INDIRECT ZEND_FILE_LINE_RELAY_CC);",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht1)",
          "old_line_content": "{",
          "new_line_content": "\tIS_CONSISTENT(ht1);",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht2)",
          "old_line_content": "\tint result;",
          "new_line_content": "\tIS_CONSISTENT(ht2);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": null,
          "new_api": "zend_hash_index_add",
          "old_text": null,
          "new_text": "zend_hash_index_add(target, p->h, &p->val)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tt = zend_hash_index_add(target, p->h, &p->val);",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": null,
          "new_api": "GC_IS_RECURSIVE",
          "old_text": null,
          "new_text": "GC_IS_RECURSIVE(ht1)",
          "old_line_content": "\t * false recursion detection.",
          "new_line_content": "\tif (UNEXPECTED(GC_IS_RECURSIVE(ht1))) {",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": null,
          "new_api": "zend_error_noreturn",
          "old_text": null,
          "new_text": "zend_error_noreturn(E_ERROR, \"Nesting level too deep - recursive dependency?\")",
          "old_line_content": "\t */",
          "new_line_content": "\t\tzend_error_noreturn(E_ERROR, \"Nesting level too deep - recursive dependency?\");",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(target->arData[idx].val)",
          "old_line_content": "\tif (target->nNumOfElements > 0) {",
          "new_line_content": "\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": null,
          "new_api": "GC_FLAGS",
          "old_text": null,
          "new_text": "GC_FLAGS(ht1)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!(GC_FLAGS(ht1) & GC_IMMUTABLE)) {",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": null,
          "new_api": "GC_PROTECT_RECURSION",
          "old_text": null,
          "new_text": "GC_PROTECT_RECURSION(ht1)",
          "old_line_content": "",
          "new_line_content": "\t\tGC_PROTECT_RECURSION(ht1);",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": null,
          "new_api": "GC_FLAGS",
          "old_text": null,
          "new_text": "GC_FLAGS(ht1)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!(GC_FLAGS(ht1) & GC_IMMUTABLE)) {",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": null,
          "new_api": "merge_checker_func",
          "old_text": null,
          "new_text": "merge_checker_func(target, source_data, &hash_key, pParam)",
          "old_line_content": "\thash_key.h = p->h;",
          "new_line_content": "\treturn merge_checker_func(target, source_data, &hash_key, pParam);",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p, *res;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(source)",
          "old_line_content": "\tzval *t;",
          "new_line_content": "\tIS_CONSISTENT(source);",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(target)",
          "old_line_content": "",
          "new_line_content": "\tIS_CONSISTENT(target);",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\tfor (idx = 0; idx < source->nNumUsed; idx++) {",
          "new_line_content": "\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": null,
          "new_api": "zend_hash_replace_checker_wrapper",
          "old_text": null,
          "new_text": "zend_hash_replace_checker_wrapper(target, &p->val, p, pParam, pMergeSource)",
          "old_line_content": "\t\tp = source->arData + idx;",
          "new_line_content": "\t\tif (zend_hash_replace_checker_wrapper(target, &p->val, p, pParam, pMergeSource)) {",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(ht->arData[idx].val)",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) break;",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(p->val)",
          "old_line_content": "\tfor (; idx < ht->nNumUsed; idx++) {",
          "new_line_content": "\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": null,
          "new_api": "Z_TYPE",
          "old_text": null,
          "new_text": "Z_TYPE(target->arData[idx].val)",
          "old_line_content": "\tif (target->nNumOfElements > 0) {",
          "new_line_content": "\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": null,
          "new_api": "compar",
          "old_text": null,
          "new_text": "compar(res, p)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (compar(res, p) < 0) { /* max */",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": null,
          "new_api": "compar",
          "old_text": null,
          "new_text": "compar(res, p)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\tif (compar(res, p) > 0) { /* min */",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "register",
          "old_text": null,
          "new_text": "register",
          "old_line_content": "ZEND_API int ZEND_FASTCALL _zend_handle_numeric_str_ex(const char *key, size_t length, zend_ulong *idx)",
          "new_line_content": "\tregister const char *tmp = key;",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": null,
          "new_api": "IS_CONSISTENT",
          "old_text": null,
          "new_text": "IS_CONSISTENT(ht)",
          "old_line_content": "\tBucket *p;",
          "new_line_content": "\tIS_CONSISTENT(ht);",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": null,
          "new_api": "zend_hash_str_find_bucket",
          "old_text": null,
          "new_text": "zend_hash_str_find_bucket(ht, str, len, h)",
          "old_line_content": "",
          "new_line_content": "\tp = zend_hash_str_find_bucket(ht, str, len, h);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2056,
          "old_api": "zend_hash_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_find_bucket(ht, key, 0)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_find_bucket(ht, key, 0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "zend_inline_hash_func",
          "new_api": null,
          "old_text": "zend_inline_hash_func(str, len)",
          "new_text": null,
          "old_line_content": "\th = zend_inline_hash_func(str, len);",
          "new_line_content": "\treturn p ? 1 : 0;",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": "zend_hash_str_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_str_find_bucket(ht, str, len, h)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_str_find_bucket(ht, str, len, h);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "HT_IS_PACKED",
          "new_api": null,
          "old_text": "HT_IS_PACKED(ht)",
          "new_text": null,
          "old_line_content": "\tif (UNEXPECTED(HT_IS_PACKED(ht))) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": "HT_FLAGS",
          "new_api": null,
          "old_text": "HT_FLAGS(ht)",
          "new_text": null,
          "old_line_content": "\tif (HT_FLAGS(ht) & HASH_FLAG_PACKED) {",
          "new_line_content": "\t\t\tp = ht->arData + h;",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p->val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE(p->val) != IS_UNDEF) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "GC_FLAGS",
          "new_api": null,
          "old_text": "GC_FLAGS(ht)",
          "new_text": null,
          "old_line_content": "\tif (!(GC_FLAGS(ht) & IS_ARRAY_IMMUTABLE)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": "GC_ADDREF",
          "new_api": null,
          "old_text": "GC_ADDREF(ht)",
          "new_text": null,
          "old_line_content": "\t\tGC_ADDREF(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "zend_hash_index_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_index_find_bucket(ht, h)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_index_find_bucket(ht, h);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2601,
          "old_api": "zend_hash_num_elements",
          "new_api": null,
          "old_text": "zend_hash_num_elements(ht)",
          "new_text": null,
          "old_line_content": "\t\tHashTable *new_ht = zend_new_array(zend_hash_num_elements(ht));",
          "new_line_content": "\t\tZEND_HASH_FOREACH_KEY_VAL(ht, num_key, str_key, zv) {",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "zend_long_to_str",
          "new_api": null,
          "old_text": "zend_long_to_str(num_key)",
          "new_text": null,
          "old_line_content": "\t\t\t\tstr_key = zend_long_to_str(num_key);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "zend_string_delref",
          "new_api": null,
          "old_text": "zend_string_delref(str_key)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_string_delref(str_key);",
          "new_line_content": "\t\t\tdo {",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "zend_hash_index_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_index_find_bucket(ht, h)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_index_find_bucket(ht, h);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": "Z_REFVAL_P",
          "new_api": null,
          "old_text": "Z_REFVAL_P(zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tzv = Z_REFVAL_P(zv);",
          "new_line_content": "\t\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "Z_OPT_REFCOUNTED_P",
          "new_api": null,
          "old_text": "Z_OPT_REFCOUNTED_P(zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif (!Z_OPT_REFCOUNTED_P(zv)) {",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": "Z_ADDREF_P",
          "new_api": null,
          "old_text": "Z_ADDREF_P(zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tZ_ADDREF_P(zv);",
          "new_line_content": "\t\t\t} while (0);",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": "zend_hash_update",
          "new_api": null,
          "old_text": "zend_hash_update(new_ht, str_key, zv)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_update(new_ht, str_key, zv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\treturn new_ht;",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ht->arData[h].val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE(ht->arData[h].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": "zend_hash_index_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_index_find_bucket(ht, h)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_index_find_bucket(ht, h);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "GC_REFCOUNT",
          "new_api": null,
          "old_text": "GC_REFCOUNT(ht)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "new_line_content": "\tfor (idx = 0; idx < ht->nNumUsed; idx++) {",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ht->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": "ZEND_HANDLE_NUMERIC",
          "new_api": null,
          "old_text": "ZEND_HANDLE_NUMERIC(str_key, num_key)",
          "new_text": null,
          "old_line_content": "\t\tif (str_key && ZEND_HANDLE_NUMERIC(str_key, num_key)) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2645,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\tif (always_duplicate) {",
          "content_same": false
        },
        {
          "line": 2648,
          "old_api": "zend_array_dup",
          "new_api": null,
          "old_text": "zend_array_dup(ht)",
          "new_text": null,
          "old_line_content": "\t\treturn zend_array_dup(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "GC_FLAGS",
          "new_api": null,
          "old_text": "GC_FLAGS(ht)",
          "new_text": null,
          "old_line_content": "\tif (EXPECTED(!(GC_FLAGS(ht) & IS_ARRAY_IMMUTABLE))) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "GC_ADDREF",
          "new_api": null,
          "old_text": "GC_ADDREF(ht)",
          "new_text": null,
          "old_line_content": "\t\tGC_ADDREF(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "GC_REFCOUNT",
          "new_api": null,
          "old_text": "GC_REFCOUNT(ht)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "new_line_content": "\tidx = ht->nNumUsed;",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "zend_hash_num_elements",
          "new_api": null,
          "old_text": "zend_hash_num_elements(ht)",
          "new_text": null,
          "old_line_content": "\t\tHashTable *new_ht = zend_new_array(zend_hash_num_elements(ht));",
          "new_line_content": "\t\tZEND_HASH_FOREACH_KEY_VAL(ht, num_key, str_key, zv) {",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ht->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\treturn;",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": "Z_REFVAL_P",
          "new_api": null,
          "old_text": "Z_REFVAL_P(zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tzv = Z_REFVAL_P(zv);",
          "new_line_content": "\t\t\t\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2666,
          "old_api": "Z_OPT_REFCOUNTED_P",
          "new_api": null,
          "old_text": "Z_OPT_REFCOUNTED_P(zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tif (!Z_OPT_REFCOUNTED_P(zv)) {",
          "new_line_content": "\t\t\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": "Z_ADDREF_P",
          "new_api": null,
          "old_text": "Z_ADDREF_P(zv)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tZ_ADDREF_P(zv);",
          "new_line_content": "\t\t\t} while (0);",
          "content_same": false
        },
        {
          "line": 2674,
          "old_api": "ZEND_HANDLE_NUMERIC",
          "new_api": null,
          "old_text": "ZEND_HANDLE_NUMERIC(str_key, num_key)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!str_key || ZEND_HANDLE_NUMERIC(str_key, num_key)) {",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "GC_REFCOUNT",
          "new_api": null,
          "old_text": "GC_REFCOUNT(ht)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "new_line_content": "\tif (idx != HT_INVALID_IDX) {",
          "content_same": false
        },
        {
          "line": 2679,
          "old_api": "ZEND_HASH_FOREACH_END",
          "new_api": null,
          "old_text": "ZEND_HASH_FOREACH_END()",
          "new_text": null,
          "old_line_content": "\t\t} ZEND_HASH_FOREACH_END();",
          "new_line_content": "\t\treturn new_ht;",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ht->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\t\treturn SUCCESS;",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": "GC_REFCOUNT",
          "new_api": null,
          "old_text": "GC_REFCOUNT(ht)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT(ht, &ht->nInternalPointer != pos || GC_REFCOUNT(ht) == 1);",
          "new_line_content": "\tif (idx != HT_INVALID_IDX) {",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ht->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) {",
          "new_line_content": "\t\t\t\treturn SUCCESS;",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\t\tp = ht->arData + idx;",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "ZVAL_NULL",
          "new_api": null,
          "old_text": "ZVAL_NULL(key)",
          "new_text": null,
          "old_line_content": "\t\tZVAL_NULL(key);",
          "new_line_content": "\t\tp = ht->arData + idx;",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": "ZVAL_LONG",
          "new_api": null,
          "old_text": "ZVAL_LONG(key, p->h)",
          "new_text": null,
          "old_line_content": "\t\t\tZVAL_LONG(key, p->h);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\t\tp = ht->arData + idx;",
          "content_same": false
        },
        {
          "line": 2269,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\t\tp = ht->arData + idx;",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&val, &p->val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&val, &p->val);",
          "new_line_content": "\tkey = p->key;",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&p->val, &q->val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&p->val, &q->val);",
          "new_line_content": "\tp->key = q->key;",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&q->val, &val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&q->val, &val);",
          "new_line_content": "\tq->key = key;",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&p->val, &q->val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&p->val, &q->val);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&q->val, &val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&q->val, &val);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&val, &p->val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&val, &p->val);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&p->val, &q->val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&p->val, &q->val);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": "ZVAL_COPY_VALUE",
          "new_api": null,
          "old_text": "ZVAL_COPY_VALUE(&q->val, &val)",
          "new_text": null,
          "old_line_content": "\tZVAL_COPY_VALUE(&q->val, &val);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": "HT_ASSERT_RC1",
          "new_api": null,
          "old_text": "HT_ASSERT_RC1(ht)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT_RC1(ht);",
          "new_line_content": "\tif (!(ht->nNumOfElements>1) && !(renumber && ht->nNumOfElements>0)) { /* Doesn't require sorting */",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "HT_IS_WITHOUT_HOLES",
          "new_api": null,
          "old_text": "HT_IS_WITHOUT_HOLES(ht)",
          "new_text": null,
          "old_line_content": "\tif (HT_IS_WITHOUT_HOLES(ht)) {",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 2338,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p->val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "new_line_content": "\t\t\t\tht->arData[i] = *p;",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "swap_func_t)(renumber? zend_hash_bucket_renum_swap :\n\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap))",
          "new_api": null,
          "old_text": "swap_func_t)(renumber? zend_hash_bucket_renum_swap :\n\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap))",
          "new_text": null,
          "old_line_content": "\t\t\t(swap_func_t)(renumber? zend_hash_bucket_renum_swap :",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": "HT_FLAGS",
          "new_api": null,
          "old_text": "HT_FLAGS(ht)",
          "new_text": null,
          "old_line_content": "\t\t\t\t((HT_FLAGS(ht) & HASH_FLAG_PACKED) ? zend_hash_bucket_packed_swap : zend_hash_bucket_swap)));",
          "new_line_content": "\tht->nNumUsed = i;",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "zend_string_release",
          "new_api": null,
          "old_text": "zend_string_release(p->key)",
          "new_text": null,
          "old_line_content": "\t\t\t\tzend_string_release(p->key);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "zend_hash_packed_to_hash",
          "new_api": null,
          "old_text": "zend_hash_packed_to_hash(ht)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_packed_to_hash(ht);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(target->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "new_line_content": "\t\t\t\tidx++;",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": "HT_GET_DATA_ADDR",
          "new_api": null,
          "old_text": "HT_GET_DATA_ADDR(ht)",
          "new_text": null,
          "old_line_content": "\t\t\tvoid *new_data, *old_data = HT_GET_DATA_ADDR(ht);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": "GC_FLAGS",
          "new_api": null,
          "old_text": "GC_FLAGS(ht)",
          "new_text": null,
          "old_line_content": "\t\t\tnew_data = pemalloc(HT_SIZE_EX(ht->nTableSize, HT_MIN_MASK), (GC_FLAGS(ht) & IS_ARRAY_PERSISTENT));",
          "new_line_content": "\t\t\tht->nTableMask = HT_MIN_MASK;",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "HT_FLAGS",
          "new_api": null,
          "old_text": "HT_FLAGS(source)",
          "new_text": null,
          "old_line_content": "\t\tHT_FLAGS(target) = HT_FLAGS(source);",
          "new_line_content": "\t\ttarget->nTableMask = HT_MIN_MASK;",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": "GC_FLAGS",
          "new_api": null,
          "old_text": "GC_FLAGS(ht)",
          "new_text": null,
          "old_line_content": "\t\t\tpefree(old_data, GC_FLAGS(ht) & IS_ARRAY_PERSISTENT);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "HT_SIZE",
          "new_api": null,
          "old_text": "HT_SIZE(target)",
          "new_text": null,
          "old_line_content": "\t\tHT_SET_DATA_ADDR(target, emalloc(HT_SIZE(target)));",
          "new_line_content": "\t\ttarget->nInternalPointer = source->nInternalPointer;",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "HT_HASH_RESET_PACKED",
          "new_api": null,
          "old_text": "HT_HASH_RESET_PACKED(target)",
          "new_text": null,
          "old_line_content": "\t\tHT_HASH_RESET_PACKED(target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": "zend_hash_rehash",
          "new_api": null,
          "old_text": "zend_hash_rehash(ht)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_hash_rehash(ht);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "zend_array_dup_packed_elements",
          "new_api": null,
          "old_text": "zend_array_dup_packed_elements(source, target, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_array_dup_packed_elements(source, target, 0);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "zend_array_dup_packed_elements",
          "new_api": null,
          "old_text": "zend_array_dup_packed_elements(source, target, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tzend_array_dup_packed_elements(source, target, 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(target->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": "HT_FLAGS",
          "new_api": null,
          "old_text": "HT_FLAGS(source)",
          "new_text": null,
          "old_line_content": "\t\tHT_FLAGS(target) = HT_FLAGS(source);",
          "new_line_content": "\t\ttarget->nNextFreeElement = source->nNextFreeElement;",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p1->val)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(p1->val) == IS_UNDEF) continue;",
          "new_line_content": "\t\t\twhile (1) {",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": "HT_SIZE",
          "new_api": null,
          "old_text": "HT_SIZE(target)",
          "new_text": null,
          "old_line_content": "\t\tHT_SET_DATA_ADDR(target, emalloc(HT_SIZE(target)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p2->val)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (Z_TYPE(p2->val) != IS_UNDEF) break;",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "HT_IS_WITHOUT_HOLES",
          "new_api": null,
          "old_text": "HT_IS_WITHOUT_HOLES(source)",
          "new_text": null,
          "old_line_content": "\t\t\tif (HT_IS_WITHOUT_HOLES(source)) {",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": "zend_array_dup_elements",
          "new_api": null,
          "old_text": "zend_array_dup_elements(source, target, 1, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tidx = zend_array_dup_elements(source, target, 1, 1);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": "HT_IS_WITHOUT_HOLES",
          "new_api": null,
          "old_text": "HT_IS_WITHOUT_HOLES(source)",
          "new_text": null,
          "old_line_content": "\t\t\tif (HT_IS_WITHOUT_HOLES(source)) {",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(p2->key)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (ZSTR_LEN(p1->key) != ZSTR_LEN(p2->key)) {",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(p2->key)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\treturn ZSTR_LEN(p1->key) > ZSTR_LEN(p2->key) ? 1 : -1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": "zend_array_dup_elements",
          "new_api": null,
          "old_text": "zend_array_dup_elements(source, target, 0, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tidx = zend_array_dup_elements(source, target, 0, 1);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": "ZSTR_LEN",
          "new_api": null,
          "old_text": "ZSTR_LEN(p1->key)",
          "new_text": null,
          "old_line_content": "\t\t\t\tresult = memcmp(ZSTR_VAL(p1->key), ZSTR_VAL(p2->key), ZSTR_LEN(p1->key));",
          "new_line_content": "\t\t\t\t\treturn result;",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": "zend_hash_index_find",
          "new_api": null,
          "old_text": "zend_hash_index_find(ht2, p1->h)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpData2 = zend_hash_index_find(ht2, p1->h);",
          "new_line_content": "\t\t\t\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": "zend_hash_find",
          "new_api": null,
          "old_text": "zend_hash_find(ht2, p1->key)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpData2 = zend_hash_find(ht2, p1->key);",
          "new_line_content": "\t\t\t\t\treturn 1;",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(target)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "HT_ASSERT_RC1",
          "new_api": null,
          "old_text": "HT_ASSERT_RC1(target)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT_RC1(target);",
          "new_line_content": "\tif (overwrite) {",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p->val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_INDIRECT) &&",
          "new_line_content": "\t\t\t    continue;",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(pData1)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(pData1) == IS_INDIRECT) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "Z_INDIRECT",
          "new_api": null,
          "old_text": "Z_INDIRECT(p->val)",
          "new_text": null,
          "old_line_content": "\t\t\t    UNEXPECTED(Z_TYPE_P(Z_INDIRECT(p->val)) == IS_UNDEF)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(pData2)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(pData2) == IS_INDIRECT) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": "Z_INDIRECT_P",
          "new_api": null,
          "old_text": "Z_INDIRECT_P(pData2)",
          "new_text": null,
          "old_line_content": "\t\t\tpData2 = Z_INDIRECT_P(pData2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(pData1)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE_P(pData1) == IS_UNDEF) {",
          "new_line_content": "\t\t\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(pData2)",
          "new_text": null,
          "old_line_content": "\t\t\tif (Z_TYPE_P(pData2) != IS_UNDEF) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "Z_TYPE_P",
          "new_api": null,
          "old_text": "Z_TYPE_P(pData2)",
          "new_text": null,
          "old_line_content": "\t\t} else if (Z_TYPE_P(pData2) == IS_UNDEF) {",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": "compar",
          "new_api": null,
          "old_text": "compar(pData1, pData2)",
          "new_text": null,
          "old_line_content": "\t\t\tresult = compar(pData1, pData2);",
          "new_line_content": "\t\t\t\treturn result;",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p->val)",
          "new_text": null,
          "old_line_content": "\t\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_INDIRECT) &&",
          "new_line_content": "\t\t\t    continue;",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": "Z_INDIRECT",
          "new_api": null,
          "old_text": "Z_INDIRECT(p->val)",
          "new_text": null,
          "old_line_content": "\t\t\t    UNEXPECTED(Z_TYPE_P(Z_INDIRECT(p->val)) == IS_UNDEF)) {",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t\t} else {",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht1)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht2)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht2);",
          "new_line_content": "\tif (ht1 == ht2) {",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "GC_IS_RECURSIVE",
          "new_api": null,
          "old_text": "GC_IS_RECURSIVE(ht1)",
          "new_text": null,
          "old_line_content": "\tif (UNEXPECTED(GC_IS_RECURSIVE(ht1))) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": "zend_error_noreturn",
          "new_api": null,
          "old_text": "zend_error_noreturn(E_ERROR, \"Nesting level too deep - recursive dependency?\")",
          "new_text": null,
          "old_line_content": "\t\tzend_error_noreturn(E_ERROR, \"Nesting level too deep - recursive dependency?\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(target->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": "GC_FLAGS",
          "new_api": null,
          "old_text": "GC_FLAGS(ht1)",
          "new_text": null,
          "old_line_content": "\tif (!(GC_FLAGS(ht1) & GC_IMMUTABLE)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": "GC_FLAGS",
          "new_api": null,
          "old_text": "GC_FLAGS(ht1)",
          "new_text": null,
          "old_line_content": "\tif (!(GC_FLAGS(ht1) & GC_IMMUTABLE)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": "GC_UNPROTECT_RECURSION",
          "new_api": null,
          "old_text": "GC_UNPROTECT_RECURSION(ht1)",
          "new_text": null,
          "old_line_content": "\t\tGC_UNPROTECT_RECURSION(ht1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "merge_checker_func",
          "new_api": null,
          "old_text": "merge_checker_func(target, source_data, &hash_key, pParam)",
          "new_text": null,
          "old_line_content": "\treturn merge_checker_func(target, source_data, &hash_key, pParam);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(ht)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(ht);",
          "new_line_content": "\tif (ht->nNumOfElements == 0 ) {",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "IS_CONSISTENT",
          "new_api": null,
          "old_text": "IS_CONSISTENT(target)",
          "new_text": null,
          "old_line_content": "\tIS_CONSISTENT(target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": "HT_ASSERT_RC1",
          "new_api": null,
          "old_text": "HT_ASSERT_RC1(target)",
          "new_text": null,
          "old_line_content": "\tHT_ASSERT_RC1(target);",
          "new_line_content": "\tfor (idx = 0; idx < source->nNumUsed; idx++) {",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "zend_hash_replace_checker_wrapper",
          "new_api": null,
          "old_text": "zend_hash_replace_checker_wrapper(target, &p->val, p, pParam, pMergeSource)",
          "new_text": null,
          "old_line_content": "\t\tif (zend_hash_replace_checker_wrapper(target, &p->val, p, pParam, pMergeSource)) {",
          "new_line_content": "\t\t\tif (t && pCopyConstructor) {",
          "content_same": false
        },
        {
          "line": 2513,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(ht->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\tif (Z_TYPE(ht->arData[idx].val) != IS_UNDEF) break;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": "pCopyConstructor",
          "new_api": null,
          "old_text": "pCopyConstructor(t)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpCopyConstructor(t);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(p->val)",
          "new_text": null,
          "old_line_content": "\t\tif (UNEXPECTED(Z_TYPE(p->val) == IS_UNDEF)) continue;",
          "new_line_content": "\t\tif (flag) {",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "Z_TYPE",
          "new_api": null,
          "old_text": "Z_TYPE(target->arData[idx].val)",
          "new_text": null,
          "old_line_content": "\t\twhile (Z_TYPE(target->arData[idx].val) == IS_UNDEF) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "compar",
          "new_api": null,
          "old_text": "compar(res, p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (compar(res, p) < 0) { /* max */",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2526,
          "old_api": "compar",
          "new_api": null,
          "old_text": "compar(res, p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (compar(res, p) > 0) { /* min */",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": "register",
          "new_api": null,
          "old_text": "register",
          "new_text": null,
          "old_line_content": "\tregister const char *tmp = key;",
          "new_line_content": "\tconst char *end = key + length;",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "zend_hash_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_find_bucket(ht, key, 0)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_find_bucket(ht, key, 0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "zend_hash_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_find_bucket(ht, key, 1)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_find_bucket(ht, key, 1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "zend_inline_hash_func",
          "new_api": null,
          "old_text": "zend_inline_hash_func(str, len)",
          "new_text": null,
          "old_line_content": "\th = zend_inline_hash_func(str, len);",
          "new_line_content": "\treturn p ? &p->val : NULL;",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "zend_hash_str_find_bucket",
          "new_api": null,
          "old_text": "zend_hash_str_find_bucket(ht, str, len, h)",
          "new_text": null,
          "old_line_content": "\tp = zend_hash_str_find_bucket(ht, str, len, h);",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 41,
      "total_additions": 129,
      "total_deletions": 129,
      "total_api_changes": 299
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 299,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          1863,
          1836,
          1906,
          1875,
          1876,
          1908,
          1853,
          1854
        ]
      }
    },
    "api_calls_before": 898,
    "api_calls_after": 898,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 7,
      "total_diff_lines": 52
    }
  }
}