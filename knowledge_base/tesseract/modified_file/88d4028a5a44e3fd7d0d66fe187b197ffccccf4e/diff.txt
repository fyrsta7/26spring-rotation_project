diff --git a/src/arch/dotproduct.cpp b/src/arch/dotproduct.cpp
index 07bf10d6..ee159b3e 100644
--- a/src/arch/dotproduct.cpp
+++ b/src/arch/dotproduct.cpp
@@ -21,7 +21,7 @@ namespace tesseract {
 // Computes and returns the dot product of the two n-vectors u and v.
 double DotProductNative(const double *u, const double *v, int n) {
   double total = 0.0;
-#if defined(OPENMP_SIMD)
+#if defined(OPENMP_SIMD) || defined(_OPENMP)
 #pragma omp simd reduction(+:total)
 #endif
   for (int k = 0; k < n; ++k) {
