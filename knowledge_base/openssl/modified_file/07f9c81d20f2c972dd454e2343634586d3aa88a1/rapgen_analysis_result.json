{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openssl/modified_file/07f9c81d20f2c972dd454e2343634586d3aa88a1",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openssl/modified_file/07f9c81d20f2c972dd454e2343634586d3aa88a1/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openssl/modified_file/07f9c81d20f2c972dd454e2343634586d3aa88a1/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/openssl/modified_file/07f9c81d20f2c972dd454e2343634586d3aa88a1/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 424,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "new_text": "sk_OSSL_PROVIDER_value(store->providers, i)",
          "old_line_content": "        if (!CRYPTO_THREAD_write_lock(store->lock))",
          "new_line_content": "            prov = sk_OSSL_PROVIDER_value(store->providers, i);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "sk_OSSL_PROVIDER_find",
          "new_api": "ossl_provider_up_ref",
          "old_text": "sk_OSSL_PROVIDER_find(store->providers, &tmpl)",
          "new_text": "ossl_provider_up_ref(prov)",
          "old_line_content": "        if ((i = sk_OSSL_PROVIDER_find(store->providers, &tmpl)) != -1)",
          "new_line_content": "        if (prov != NULL && !ossl_provider_up_ref(prov))",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "OPENSSL_zalloc",
          "new_api": "CRYPTO_THREAD_lock_new",
          "old_text": "OPENSSL_zalloc(sizeof(*prov))",
          "new_text": "CRYPTO_THREAD_lock_new()",
          "old_line_content": "    if ((prov = OPENSSL_zalloc(sizeof(*prov))) == NULL)",
          "new_line_content": "    if ((prov->refcnt_lock = CRYPTO_THREAD_lock_new()) == NULL) {",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "sk_INFOPAIR_deep_copy",
          "new_api": "ossl_provider_free",
          "old_text": "sk_INFOPAIR_deep_copy(parameters,\n                                                     infopair_copy,\n                                                     infopair_free)",
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "        || (prov->parameters = sk_INFOPAIR_deep_copy(parameters,",
          "new_line_content": "        ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "ERR_raise",
          "new_api": "OPENSSL_strdup",
          "old_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "new_text": "OPENSSL_strdup(name)",
          "old_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "new_line_content": "    if ((prov->name = OPENSSL_strdup(name)) == NULL) {",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "get_provider_store",
          "new_api": "memset",
          "old_text": "get_provider_store(libctx)",
          "new_text": "memset(&template, 0, sizeof(template))",
          "old_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "new_line_content": "    memset(&template, 0, sizeof(template));",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "strcmp",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "strcmp(p->name, name)",
          "old_line_content": "            if (!CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "                if (strcmp(p->name, name) == 0) {",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "get_provider_store",
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": "get_provider_store(prov->libctx)",
          "new_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "old_line_content": "    if ((store = get_provider_store(prov->libctx)) == NULL)",
          "new_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": "sk_OSSL_PROVIDER_push",
          "old_text": "sk_OSSL_PROVIDER_value(store->providers, idx)",
          "new_text": "sk_OSSL_PROVIDER_push(store->providers, prov)",
          "old_line_content": "        actualtmp = sk_OSSL_PROVIDER_value(store->providers, idx);",
          "new_line_content": "        if (sk_OSSL_PROVIDER_push(store->providers, prov) == 0)",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "sk_OSSL_PROVIDER_push",
          "new_api": "create_provider_children",
          "old_text": "sk_OSSL_PROVIDER_push(store->providers, prov)",
          "new_text": "create_provider_children(prov)",
          "old_line_content": "        if (sk_OSSL_PROVIDER_push(store->providers, prov) == 0)",
          "new_line_content": "        if (!create_provider_children(prov)) {",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": "ossl_provider_up_ref",
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": "ossl_provider_up_ref(actualtmp)",
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "        if (!ossl_provider_up_ref(actualtmp)) {",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "ossl_init_thread_deregister",
          "new_api": "OPENSSL_free",
          "old_text": "ossl_init_thread_deregister(prov)",
          "new_text": "OPENSSL_free(prov->name)",
          "old_line_content": "            ossl_init_thread_deregister(prov);",
          "new_line_content": "            OPENSSL_free(prov->name);",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "DSO_free",
          "new_api": "OPENSSL_free",
          "old_text": "DSO_free(prov->module)",
          "new_text": "OPENSSL_free(prov->path)",
          "old_line_content": "            DSO_free(prov->module);",
          "new_line_content": "            OPENSSL_free(prov->path);",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "OPENSSL_free",
          "new_api": "CRYPTO_THREAD_lock_free",
          "old_text": "OPENSSL_free(prov->name)",
          "new_text": "CRYPTO_THREAD_lock_free(prov->opbits_lock)",
          "old_line_content": "            OPENSSL_free(prov->name);",
          "new_line_content": "            CRYPTO_THREAD_lock_free(prov->opbits_lock);",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": "OPENSSL_free",
          "new_api": "CRYPTO_THREAD_lock_free",
          "old_text": "OPENSSL_free(prov->path)",
          "new_text": "CRYPTO_THREAD_lock_free(prov->flag_lock)",
          "old_line_content": "            OPENSSL_free(prov->path);",
          "new_line_content": "            CRYPTO_THREAD_lock_free(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_write_lock(store->default_path_lock)",
          "new_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "old_line_content": "            && CRYPTO_THREAD_write_lock(store->default_path_lock)) {",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->default_path_lock);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": "OPENSSL_free",
          "old_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "new_text": "OPENSSL_free(p)",
          "old_line_content": "        CRYPTO_THREAD_unlock(store->default_path_lock);",
          "new_line_content": "    OPENSSL_free(p);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "get_provider_store",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "get_provider_store(libctx)",
          "new_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "old_line_content": "    if ((store = get_provider_store(libctx)) != NULL",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->default_path_lock);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "DSO_merge",
          "new_api": "DSO_load",
          "old_text": "DSO_merge(prov->module, module_path, load_dir)",
          "new_text": "DSO_load(prov->module, merged_path, NULL, 0)",
          "old_line_content": "                merged_path = DSO_merge(prov->module, module_path, load_dir);",
          "new_line_content": "                || (DSO_load(prov->module, merged_path, NULL, 0)) == NULL) {",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    if (lock && !CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "ossl_provider_free_parent",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "ossl_provider_free_parent(prov, 1)",
          "old_line_content": "    if (lock && !CRYPTO_THREAD_read_lock(store->lock)) {",
          "new_line_content": "            ossl_provider_free_parent(prov, 1);",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": "ossl_provider_free_parent",
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": "ossl_provider_free_parent(prov, 1)",
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "            ossl_provider_free_parent(prov, 1);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "create_provider_children",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "create_provider_children(prov)",
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "        ret = create_provider_children(prov);",
          "new_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "get_provider_store",
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": "get_provider_store(prov->libctx)",
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "    if ((store = get_provider_store(prov->libctx)) == NULL)",
          "new_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "evp_method_store_cache_flush",
          "new_api": "ossl_decoder_store_cache_flush",
          "old_text": "evp_method_store_cache_flush(prov->libctx)",
          "new_text": "ossl_decoder_store_cache_flush(prov->libctx)",
          "old_line_content": "            = evp_method_store_cache_flush(prov->libctx)",
          "new_line_content": "            + ossl_decoder_store_cache_flush(prov->libctx)",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "get_provider_store",
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": "get_provider_store(prov->libctx)",
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "    if ((store = get_provider_store(prov->libctx)) == NULL)",
          "new_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": "OPENSSL_free",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "OPENSSL_free(prov->operation_bits)",
          "new_text": "CRYPTO_THREAD_unlock(prov->opbits_lock)",
          "old_line_content": "        OPENSSL_free(prov->operation_bits);",
          "new_line_content": "        CRYPTO_THREAD_unlock(prov->opbits_lock);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "evp_method_store_remove_all_provided",
          "new_api": "ossl_decoder_store_remove_all_provided",
          "old_text": "evp_method_store_remove_all_provided(prov)",
          "new_text": "ossl_decoder_store_remove_all_provided(prov)",
          "old_line_content": "        acc = evp_method_store_remove_all_provided(prov)",
          "new_line_content": "            + ossl_decoder_store_remove_all_provided(prov)",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": "sk_OSSL_PROVIDER_num",
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": "sk_OSSL_PROVIDER_num(provs)",
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "    max = sk_OSSL_PROVIDER_num(provs);",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "sk_OSSL_PROVIDER_delete",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "sk_OSSL_PROVIDER_delete(provs, curr)",
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "            sk_OSSL_PROVIDER_delete(provs, curr);",
          "new_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "provider_activate_fallbacks",
          "new_api": "ossl_provider_find",
          "old_text": "provider_activate_fallbacks(store)",
          "new_text": "ossl_provider_find(libctx, name, 0)",
          "old_line_content": "    if (store == NULL || !provider_activate_fallbacks(store))",
          "new_line_content": "    prov = ossl_provider_find(libctx, name, 0);",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_read_lock(prov->flag_lock)",
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "        if (!CRYPTO_THREAD_read_lock(prov->flag_lock))",
          "new_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": "OPENSSL_realloc",
          "old_text": "CRYPTO_THREAD_write_lock(provider->opbits_lock)",
          "new_text": "OPENSSL_realloc(provider->operation_bits,\n                                             byte + 1)",
          "old_line_content": "    if (!CRYPTO_THREAD_write_lock(provider->opbits_lock))",
          "new_line_content": "        unsigned char *tmp = OPENSSL_realloc(provider->operation_bits,",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "get_provider_store",
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": "get_provider_store(libctx)",
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "new_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "old_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "    max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "new_api": "global_props_cb",
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "new_text": "child_cb->global_props_cb(props, child_cb->cbdata)",
          "old_line_content": "    max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "new_line_content": "        child_cb->global_props_cb(props, child_cb->cbdata);",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "global_props_cb",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "child_cb->global_props_cb(props, child_cb->cbdata)",
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "        child_cb->global_props_cb(props, child_cb->cbdata);",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": "get_provider_store",
          "new_api": "OPENSSL_malloc",
          "old_text": "get_provider_store(libctx)",
          "new_text": "OPENSSL_malloc(sizeof(*child_cb))",
          "old_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "new_line_content": "    child_cb = OPENSSL_malloc(sizeof(*child_cb));",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "OPENSSL_free",
          "new_api": "evp_get_global_properties_str",
          "old_text": "OPENSSL_free(child_cb)",
          "new_text": "evp_get_global_properties_str(libctx, 0)",
          "old_line_content": "        OPENSSL_free(child_cb);",
          "new_line_content": "    propsstr = evp_get_global_properties_str(libctx, 0);",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": "evp_get_global_properties_str",
          "new_api": "global_props_cb",
          "old_text": "evp_get_global_properties_str(libctx, 0)",
          "new_text": "global_props_cb(propsstr, cbdata)",
          "old_line_content": "    propsstr = evp_get_global_properties_str(libctx, 0);",
          "new_line_content": "        global_props_cb(propsstr, cbdata);",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "global_props_cb",
          "new_api": "sk_OSSL_PROVIDER_num",
          "old_text": "global_props_cb(propsstr, cbdata)",
          "new_text": "sk_OSSL_PROVIDER_num(store->providers)",
          "old_line_content": "        global_props_cb(propsstr, cbdata);",
          "new_line_content": "    max = sk_OSSL_PROVIDER_num(store->providers);",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "CRYPTO_THREAD_read_lock(prov->flag_lock)",
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "        if (!CRYPTO_THREAD_read_lock(prov->flag_lock))",
          "new_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": "OPENSSL_free",
          "old_text": "sk_OSSL_PROVIDER_value(store->providers, i)",
          "new_text": "OPENSSL_free(child_cb)",
          "old_line_content": "            prov = sk_OSSL_PROVIDER_value(store->providers, i);",
          "new_line_content": "        OPENSSL_free(child_cb);",
          "content_same": false
        },
        {
          "line": 1780,
          "old_api": "OPENSSL_free",
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": "OPENSSL_free(child_cb)",
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "        OPENSSL_free(child_cb);",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": "get_provider_store",
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": "get_provider_store(libctx)",
          "new_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "old_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "new_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_delete",
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_delete(store->child_cbs, i)",
          "old_line_content": "        child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "new_line_content": "            sk_OSSL_PROVIDER_CHILD_CB_delete(store->child_cbs, i);",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "OSSL_PARAM_locate",
          "new_api": "OSSL_PARAM_set_utf8_ptr",
          "old_text": "OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_VERSION)",
          "new_text": "OSSL_PARAM_set_utf8_ptr(p, prov->name)",
          "old_line_content": "    if ((p = OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_VERSION)) != NULL)",
          "new_line_content": "        OSSL_PARAM_set_utf8_ptr(p, prov->name);",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "OSSL_PARAM_set_utf8_ptr",
          "new_api": "OSSL_PARAM_locate",
          "old_text": "OSSL_PARAM_set_utf8_ptr(p, prov->name)",
          "new_text": "OSSL_PARAM_locate(params,\n                               OSSL_PROV_PARAM_CORE_MODULE_FILENAME)",
          "old_line_content": "        OSSL_PARAM_set_utf8_ptr(p, prov->name);",
          "new_line_content": "    if ((p = OSSL_PARAM_locate(params,",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "sk_INFOPAIR_num",
          "new_api": "OSSL_PARAM_locate",
          "old_text": "sk_INFOPAIR_num(prov->parameters)",
          "new_text": "OSSL_PARAM_locate(params, pair->name)",
          "old_line_content": "    for (i = 0; i < sk_INFOPAIR_num(prov->parameters); i++) {",
          "new_line_content": "        if ((p = OSSL_PARAM_locate(params, pair->name)) != NULL)",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": "sk_INFOPAIR_value",
          "new_api": "OSSL_PARAM_set_utf8_ptr",
          "old_text": "sk_INFOPAIR_value(prov->parameters, i)",
          "new_text": "OSSL_PARAM_set_utf8_ptr(p, pair->value)",
          "old_line_content": "        INFOPAIR *pair = sk_INFOPAIR_value(prov->parameters, i);",
          "new_line_content": "            OSSL_PARAM_set_utf8_ptr(p, pair->value);",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": "ERR_GET_LIB",
          "new_api": "ERR_vset_error",
          "old_text": "ERR_GET_LIB(reason)",
          "new_text": "ERR_vset_error(prov->error_lib, (int)reason, fmt, args)",
          "old_line_content": "    if (ERR_GET_LIB(reason) != 0) {",
          "new_line_content": "        ERR_vset_error(prov->error_lib, (int)reason, fmt, args);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2049,
          "old_api": null,
          "new_api": "provider_up_ref_intern",
          "old_text": null,
          "new_text": "provider_up_ref_intern((OSSL_PROVIDER *)prov, activate)",
          "old_line_content": "static int core_provider_up_ref_intern(const OSSL_CORE_HANDLE *prov,",
          "new_line_content": "    return provider_up_ref_intern((OSSL_PROVIDER *)prov, activate);",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": null,
          "new_api": "provider_free_intern",
          "old_text": null,
          "new_text": "provider_free_intern((OSSL_PROVIDER *)prov, deactivate)",
          "old_line_content": "static int core_provider_free_intern(const OSSL_CORE_HANDLE *prov,",
          "new_line_content": "    return provider_free_intern((OSSL_PROVIDER *)prov, deactivate);",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": null,
          "new_api": "OBJ_txt2nid",
          "old_text": null,
          "new_text": "OBJ_txt2nid(sign_name)",
          "old_line_content": "                              const char *sign_name, const char *digest_name,",
          "new_line_content": "    int sign_nid = OBJ_txt2nid(sign_name);",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "    OSSL_PROVIDER_INFO template;",
          "new_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "OBJ_txt2nid",
          "old_text": null,
          "new_text": "OBJ_txt2nid(pkey_name)",
          "old_line_content": "{",
          "new_line_content": "    int pkey_nid = OBJ_txt2nid(pkey_name);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "teardown",
          "old_text": null,
          "new_text": "prov->teardown(prov->provctx)",
          "old_line_content": "            && !prov->ischild",
          "new_line_content": "        prov->teardown(prov->provctx);",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": null,
          "new_api": "gettable_params",
          "old_text": null,
          "new_text": "prov->gettable_params(prov->provctx)",
          "old_line_content": "const OSSL_PARAM *ossl_provider_gettable_params(const OSSL_PROVIDER *prov)",
          "new_line_content": "        ? NULL : prov->gettable_params(prov->provctx);",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(p->name, name)",
          "old_line_content": "",
          "new_line_content": "            if (strcmp(p->name, name) == 0) {",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "get_params",
          "old_text": null,
          "new_text": "prov->get_params(prov->provctx, params)",
          "old_line_content": "int ossl_provider_get_params(const OSSL_PROVIDER *prov, OSSL_PARAM params[])",
          "new_line_content": "        ? 0 : prov->get_params(prov->provctx, params);",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "ossl_assert",
          "old_text": null,
          "new_text": "ossl_assert(prov != NULL)",
          "old_line_content": "#endif",
          "new_line_content": "    if (!ossl_assert(prov != NULL))",
          "content_same": false
        },
        {
          "line": 2077,
          "old_api": null,
          "new_api": "OBJ_find_sigid_algs",
          "old_text": null,
          "new_text": "OBJ_find_sigid_algs(sign_nid, NULL, NULL)",
          "old_line_content": "     * Check if it already exists. This is a success if so (even if we don't",
          "new_line_content": "    if (OBJ_find_sigid_algs(sign_nid, NULL, NULL))",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "        }",
          "new_line_content": "            if (!CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": null,
          "new_api": "OBJ_add_sigid",
          "old_text": null,
          "new_text": "OBJ_add_sigid(sign_nid, digest_nid, pkey_nid)",
          "old_line_content": "    if (pkey_nid == NID_undef)",
          "new_line_content": "    return OBJ_add_sigid(sign_nid, digest_nid, pkey_nid);",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(prov->libctx)",
          "old_line_content": "     * No need to lock if we've got no store because we've not been shared with",
          "new_line_content": "    store = get_provider_store(prov->libctx);",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": null,
          "new_api": "self_test",
          "old_text": null,
          "new_text": "prov->self_test(prov->provctx)",
          "old_line_content": "",
          "new_line_content": "    ret = prov->self_test(prov->provctx);",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "provider_remove_store_methods",
          "old_text": null,
          "new_text": "provider_remove_store_methods((OSSL_PROVIDER *)prov)",
          "old_line_content": "        return 1;",
          "new_line_content": "        (void)provider_remove_store_methods((OSSL_PROVIDER *)prov);",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "                    break;",
          "new_line_content": "            CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "    if (store == NULL)",
          "new_line_content": "    if (lock && !CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(prov->flag_lock)",
          "old_line_content": "",
          "new_line_content": "    if (lock && !CRYPTO_THREAD_write_lock(prov->flag_lock)) {",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "OBJ_txt2nid",
          "old_text": null,
          "new_text": "OBJ_txt2nid(oid)",
          "old_line_content": "                           const char *sn, const char *ln)",
          "new_line_content": "    return OBJ_txt2nid(oid) != NID_undef",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "OBJ_create",
          "old_text": null,
          "new_text": "OBJ_create(oid, sn, ln)",
          "old_line_content": "{",
          "new_line_content": "           || OBJ_create(oid, sn, ln) != NID_undef;",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "provider_new",
          "old_text": null,
          "new_text": "provider_new(name, template.init, template.parameters)",
          "old_line_content": "    }",
          "new_line_content": "    if ((prov = provider_new(name, template.init, template.parameters)) == NULL)",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "get_capabilities",
          "old_text": null,
          "new_text": "prov->get_capabilities(prov->provctx, capability, cb, arg)",
          "old_line_content": "                                   void *arg)",
          "new_line_content": "        ? 1 : prov->get_capabilities(prov->provctx, capability, cb, arg);",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "ERR_get_next_error_library",
          "old_text": null,
          "new_text": "ERR_get_next_error_library()",
          "old_line_content": "",
          "new_line_content": "    prov->error_lib = ERR_get_next_error_library();",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": null,
          "new_api": "query_operation",
          "old_text": null,
          "new_text": "prov->query_operation(prov->provctx, operation_id, no_cache)",
          "old_line_content": "",
          "new_line_content": "    res = prov->query_operation(prov->provctx, operation_id, no_cache);",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "old_line_content": "",
          "new_line_content": "        int i, max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "old_line_content": "        OSSL_PROVIDER_CHILD_CB *child_cb;",
          "new_line_content": "            child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "old_line_content": "    OSSL_PROVIDER_CHILD_CB *child_cb;",
          "new_line_content": "    max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "remove_cb",
          "old_text": null,
          "new_text": "child_cb->remove_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata)",
          "old_line_content": "",
          "new_line_content": "            child_cb->remove_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "unquery_operation",
          "old_text": null,
          "new_text": "prov->unquery_operation(prov->provctx, operation_id, algs)",
          "old_line_content": "                                     const OSSL_ALGORITHM *algs)",
          "new_line_content": "        prov->unquery_operation(prov->provctx, operation_id, algs);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "    }",
          "new_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "old_line_content": "         * This is newly activated (activatecnt == 1), so we need to",
          "new_line_content": "        child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "create_cb",
          "old_text": null,
          "new_text": "child_cb->create_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata)",
          "old_line_content": "         * create child providers as necessary.",
          "new_line_content": "        ret &= child_cb->create_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata);",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "#endif",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(provider->opbits_lock)",
          "old_line_content": "    size_t byte = bitnum / 8;",
          "new_line_content": "    if (!CRYPTO_THREAD_write_lock(provider->opbits_lock))",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "ossl_provider_free_parent",
          "old_text": null,
          "new_text": "ossl_provider_free_parent(prov, 1)",
          "old_line_content": "    }",
          "new_line_content": "        ossl_provider_free_parent(prov, 1);",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(provider->opbits_lock)",
          "old_line_content": "                                             byte + 1);",
          "new_line_content": "            CRYPTO_THREAD_unlock(provider->opbits_lock);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(provider->operation_bits + provider->operation_bits_sz,\n               '\\0', byte + 1 - provider->operation_bits_sz)",
          "old_line_content": "            return 0;",
          "new_line_content": "        memset(provider->operation_bits + provider->operation_bits_sz,",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(provider->opbits_lock)",
          "old_line_content": "        provider->operation_bits_sz = byte + 1;",
          "new_line_content": "    CRYPTO_THREAD_unlock(provider->opbits_lock);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(prov->libctx)",
          "old_line_content": "    if (actualprov != NULL)",
          "new_line_content": "    if ((store = get_provider_store(prov->libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_find",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_find(store->providers, &tmpl)",
          "old_line_content": "        return 0;",
          "new_line_content": "    idx = sk_OSSL_PROVIDER_find(store->providers, &tmpl);",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": null,
          "new_api": "provider_init",
          "old_text": null,
          "new_text": "provider_init(prov)",
          "old_line_content": "    */",
          "new_line_content": "        if (!provider_init(prov))",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": null,
          "new_api": "ossl_assert",
          "old_text": null,
          "new_text": "ossl_assert(result != NULL)",
          "old_line_content": "    size_t byte = bitnum / 8;",
          "new_line_content": "    if (!ossl_assert(result != NULL)) {",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_value(store->providers, idx)",
          "old_line_content": "    if (idx == -1)",
          "new_line_content": "        actualtmp = sk_OSSL_PROVIDER_value(store->providers, idx);",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": null,
          "new_api": "ERR_raise",
          "old_text": null,
          "new_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_PASSED_NULL_PARAMETER)",
          "old_line_content": "    unsigned char bit = (1 << (bitnum % 8)) & 0xFF;",
          "new_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_PASSED_NULL_PARAMETER);",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "ossl_provider_up_ref_parent",
          "old_text": null,
          "new_text": "ossl_provider_up_ref_parent(prov, 1)",
          "old_line_content": "    }",
          "new_line_content": "    if (prov->ischild && upcalls && !ossl_provider_up_ref_parent(prov, 1))",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(provider->opbits_lock)",
          "old_line_content": "    }",
          "new_line_content": "    if (!CRYPTO_THREAD_read_lock(provider->opbits_lock))",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_delete_ptr",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_delete_ptr(store->providers, prov)",
          "old_line_content": "            goto err;",
          "new_line_content": "            sk_OSSL_PROVIDER_delete_ptr(store->providers, prov);",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "        return -1;",
          "new_line_content": "    if (lock && !CRYPTO_THREAD_read_lock(store->lock)) {",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(provider->opbits_lock)",
          "old_line_content": "        return 0;",
          "new_line_content": "    CRYPTO_THREAD_unlock(provider->opbits_lock);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "            store->use_fallbacks = 0;",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(prov->flag_lock)",
          "old_line_content": "        return -1;",
          "new_line_content": "    if (lock && !CRYPTO_THREAD_write_lock(prov->flag_lock)) {",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    }",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "ERR_raise",
          "old_text": null,
          "new_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "old_line_content": "",
          "new_line_content": "            ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "create_provider_children",
          "old_text": null,
          "new_text": "create_provider_children(prov)",
          "old_line_content": "    prov->flag_activated = 1;",
          "new_line_content": "        ret = create_provider_children(prov);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    }",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "ossl_provider_deactivate",
          "old_text": null,
          "new_text": "ossl_provider_deactivate(prov, 0)",
          "old_line_content": "         * above, so we inform ossl_provider_deactivate not to attempt to remove",
          "new_line_content": "        ossl_provider_deactivate(prov, 0);",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "         * any.",
          "new_line_content": "        ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "    int i, max;",
          "new_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    return 1;",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(prov->libctx)",
          "old_line_content": "    struct provider_store_st *store;",
          "new_line_content": "    if ((store = get_provider_store(prov->libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "old_line_content": "",
          "new_line_content": "        child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "CRYPTO_DOWN_REF",
          "old_text": null,
          "new_text": "CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "old_line_content": "    if (prov != NULL) {",
          "new_line_content": "        CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "evp_method_store_cache_flush",
          "old_text": null,
          "new_text": "evp_method_store_cache_flush(prov->libctx)",
          "old_line_content": "",
          "new_line_content": "            = evp_method_store_cache_flush(prov->libctx)",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "ossl_encoder_store_cache_flush",
          "old_text": null,
          "new_text": "ossl_encoder_store_cache_flush(prov->libctx)",
          "old_line_content": "        int acc",
          "new_line_content": "            + ossl_encoder_store_cache_flush(prov->libctx)",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "ossl_store_loader_store_cache_flush",
          "old_text": null,
          "new_text": "ossl_store_loader_store_cache_flush(prov->libctx)",
          "old_line_content": "#ifndef FIPS_MODULE",
          "new_line_content": "            + ossl_store_loader_store_cache_flush(prov->libctx)",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": null,
          "new_api": "ossl_provider_teardown",
          "old_text": null,
          "new_text": "ossl_provider_teardown(prov)",
          "old_line_content": "         */",
          "new_line_content": "                ossl_provider_teardown(prov);",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "ERR_unload_strings",
          "old_text": null,
          "new_text": "ERR_unload_strings(prov->error_lib, prov->error_strings)",
          "old_line_content": "#ifndef OPENSSL_NO_ERR",
          "new_line_content": "                    ERR_unload_strings(prov->error_lib, prov->error_strings);",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(prov->error_strings)",
          "old_line_content": "# ifndef FIPS_MODULE",
          "new_line_content": "                    OPENSSL_free(prov->error_strings);",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(prov->operation_bits)",
          "old_line_content": "                }",
          "new_line_content": "                OPENSSL_free(prov->operation_bits);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(prov->libctx)",
          "old_line_content": "    struct provider_store_st *store;",
          "new_line_content": "    if ((store = get_provider_store(prov->libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "    OSSL_PROVIDER_CHILD_CB *child_cb;",
          "new_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "ossl_init_thread_deregister",
          "old_text": null,
          "new_text": "ossl_init_thread_deregister(prov)",
          "old_line_content": "             * initialized. If init was attempted but was not successful then",
          "new_line_content": "            ossl_init_thread_deregister(prov);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "DSO_free",
          "old_text": null,
          "new_text": "DSO_free(prov->module)",
          "old_line_content": "             * the provider may still have registered a thread handler.",
          "new_line_content": "            DSO_free(prov->module);",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(prov->opbits_lock)",
          "old_line_content": "    if (!freeing) {",
          "new_line_content": "        if (!CRYPTO_THREAD_write_lock(prov->opbits_lock))",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "sk_INFOPAIR_pop_free",
          "old_text": null,
          "new_text": "sk_INFOPAIR_pop_free(prov->parameters, infopair_free)",
          "old_line_content": "#endif",
          "new_line_content": "            sk_INFOPAIR_pop_free(prov->parameters, infopair_free);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(prov->operation_bits)",
          "old_line_content": "",
          "new_line_content": "        OPENSSL_free(prov->operation_bits);",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "old_line_content": "    child_cb->global_props_cb = global_props_cb;",
          "new_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock)) {",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(child_cb)",
          "old_line_content": "    child_cb->cbdata = cbdata;",
          "new_line_content": "        OPENSSL_free(child_cb);",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "evp_method_store_remove_all_provided",
          "old_text": null,
          "new_text": "evp_method_store_remove_all_provided(prov)",
          "old_line_content": "        prov->operation_bits_sz = 0;",
          "new_line_content": "        acc = evp_method_store_remove_all_provided(prov)",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(prov)",
          "old_line_content": "#ifndef HAVE_ATOMICS",
          "new_line_content": "            OPENSSL_free(prov);",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "ossl_encoder_store_remove_all_provided",
          "old_text": null,
          "new_text": "ossl_encoder_store_remove_all_provided(prov)",
          "old_line_content": "",
          "new_line_content": "            + ossl_encoder_store_remove_all_provided(prov)",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(propsstr)",
          "old_line_content": "",
          "new_line_content": "        OPENSSL_free(propsstr);",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "ossl_store_loader_store_remove_all_provided",
          "old_text": null,
          "new_text": "ossl_store_loader_store_remove_all_provided(prov)",
          "old_line_content": "#ifndef FIPS_MODULE",
          "new_line_content": "            + ossl_store_loader_store_remove_all_provided(prov)",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "ossl_provider_free_parent",
          "old_text": null,
          "new_text": "ossl_provider_free_parent(prov, 0)",
          "old_line_content": "        }",
          "new_line_content": "            ossl_provider_free_parent(prov, 0);",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_value(store->providers, i)",
          "old_line_content": "    for (i = 0; i < max; i++) {",
          "new_line_content": "        prov = sk_OSSL_PROVIDER_value(store->providers, i);",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(prov->flag_lock)",
          "old_line_content": "",
          "new_line_content": "        if (!CRYPTO_THREAD_read_lock(prov->flag_lock))",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(prov->path)",
          "old_line_content": "/* Setters */",
          "new_line_content": "    OPENSSL_free(prov->path);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "OPENSSL_strdup",
          "old_text": null,
          "new_text": "OPENSSL_strdup(module_path)",
          "old_line_content": "    prov->path = NULL;",
          "new_line_content": "    if ((prov->path = OPENSSL_strdup(module_path)) != NULL)",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "STACK_OF",
          "old_text": null,
          "new_text": "STACK_OF(INFOPAIR)",
          "old_line_content": "    return 0;",
          "new_line_content": "static int infopair_add(STACK_OF(INFOPAIR) **infopairsk, const char *name,",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "create_cb",
          "old_text": null,
          "new_text": "create_cb((OSSL_CORE_HANDLE *)prov, cbdata)",
          "old_line_content": "         * will also call remove_cb, but won't be able to do so until we release",
          "new_line_content": "        if (activated && !create_cb((OSSL_CORE_HANDLE *)prov, cbdata))",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "OPENSSL_zalloc",
          "old_text": null,
          "new_text": "OPENSSL_zalloc(sizeof(*pair))",
          "old_line_content": "{",
          "new_line_content": "    if ((pair = OPENSSL_zalloc(sizeof(*pair))) == NULL",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "OPENSSL_strdup",
          "old_text": null,
          "new_text": "OPENSSL_strdup(name)",
          "old_line_content": "    INFOPAIR *pair = NULL;",
          "new_line_content": "        || (pair->name = OPENSSL_strdup(name)) == NULL",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "OPENSSL_strdup",
          "old_text": null,
          "new_text": "OPENSSL_strdup(value)",
          "old_line_content": "",
          "new_line_content": "        || (pair->value = OPENSSL_strdup(value)) == NULL)",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "provider_activate",
          "old_text": null,
          "new_text": "provider_activate(prov, 1, upcalls)",
          "old_line_content": "    if (aschild && !prov->ischild)",
          "new_line_content": "    if ((count = provider_activate(prov, 1, upcalls)) > 0)",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "provider_flush_store_cache",
          "old_text": null,
          "new_text": "provider_flush_store_cache(prov)",
          "old_line_content": "        return 1;",
          "new_line_content": "        return count == 1 ? provider_flush_store_cache(prov) : 1;",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_push",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_push(store->child_cbs, child_cb)",
          "old_line_content": "    }",
          "new_line_content": "        ret = sk_OSSL_PROVIDER_CHILD_CB_push(store->child_cbs, child_cb);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "sk_INFOPAIR_new_null",
          "old_text": null,
          "new_text": "sk_INFOPAIR_new_null()",
          "old_line_content": "        goto err;",
          "new_line_content": "         && (*infopairsk = sk_INFOPAIR_new_null()) == NULL)",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "sk_INFOPAIR_push",
          "old_text": null,
          "new_text": "sk_INFOPAIR_push(*infopairsk, pair)",
          "old_line_content": "",
          "new_line_content": "        || sk_INFOPAIR_push(*infopairsk, pair) <= 0) {",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "ERR_raise",
          "old_text": null,
          "new_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "old_line_content": "    if ((*infopairsk == NULL",
          "new_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_value(store->providers, i)",
          "old_line_content": "    if (i != max || ret <= 0) {",
          "new_line_content": "            prov = sk_OSSL_PROVIDER_value(store->providers, i);",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "remove_cb",
          "old_text": null,
          "new_text": "remove_cb((OSSL_CORE_HANDLE *)prov, cbdata)",
          "old_line_content": "        /* Failed during creation. Remove everything we just added */",
          "new_line_content": "            remove_cb((OSSL_CORE_HANDLE *)prov, cbdata);",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "provider_deactivate",
          "old_text": null,
          "new_text": "provider_deactivate(prov, 1, removechildren)",
          "old_line_content": "    int count;",
          "new_line_content": "            || (count = provider_deactivate(prov, 1, removechildren)) < 0)",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(pair->name)",
          "old_line_content": "",
          "new_line_content": "        OPENSSL_free(pair->name);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(pair->value)",
          "old_line_content": " err:",
          "new_line_content": "        OPENSSL_free(pair->value);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(pair)",
          "old_line_content": "    if (pair != NULL) {",
          "new_line_content": "        OPENSSL_free(pair);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "provider_remove_store_methods",
          "old_text": null,
          "new_text": "provider_remove_store_methods(prov)",
          "old_line_content": "    if (prov == NULL",
          "new_line_content": "    return count == 0 ? provider_remove_store_methods(prov) : 1;",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "infopair_add",
          "old_text": null,
          "new_text": "infopair_add(&prov->parameters, name, value)",
          "old_line_content": "int ossl_provider_add_parameter(OSSL_PROVIDER *prov,",
          "new_line_content": "    return infopair_add(&prov->parameters, name, value);",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "    int i, max;",
          "new_line_content": "    if ((store = get_provider_store(libctx)) == NULL)",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "infopair_add",
          "old_text": null,
          "new_text": "infopair_add(&provinfo->parameters, name, value)",
          "old_line_content": "                                     const char *name,",
          "new_line_content": "    return infopair_add(&provinfo->parameters, name, value);",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "old_line_content": "",
          "new_line_content": "    max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "    int ret = 0;",
          "new_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "old_line_content": "        return;",
          "new_line_content": "        child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(child_cb)",
          "old_line_content": "        if (child_cb->prov == thisprov) {",
          "new_line_content": "            OPENSSL_free(child_cb);",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "old_line_content": "    if (!use_fallbacks)",
          "new_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "            break;",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    /* Check again, just in case another thread changed it */",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "OPENSSL_strdup",
          "old_text": null,
          "new_text": "OPENSSL_strdup(path)",
          "old_line_content": "    char *p = NULL;",
          "new_line_content": "        p = OPENSSL_strdup(path);",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "        if (p == NULL)",
          "new_line_content": "    if ((store = get_provider_store(libctx)) != NULL",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(store->default_path_lock)",
          "old_line_content": "            return 0;",
          "new_line_content": "            && CRYPTO_THREAD_write_lock(store->default_path_lock)) {",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(store->default_path)",
          "old_line_content": "    }",
          "new_line_content": "        OPENSSL_free(store->default_path);",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "provider_new",
          "old_text": null,
          "new_text": "provider_new(p->name, p->init, NULL)",
          "old_line_content": "         * We use the internal constructor directly here,",
          "new_line_content": "        prov = provider_new(p->name, p->init, NULL);",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "OSSL_PARAM_DEFN",
          "old_text": null,
          "new_text": "OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_VERSION, OSSL_PARAM_UTF8_PTR, NULL, 0)",
          "old_line_content": " * never knows.",
          "new_line_content": "    OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_VERSION, OSSL_PARAM_UTF8_PTR, NULL, 0),",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "ERR_get_next_error_library",
          "old_text": null,
          "new_text": "ERR_get_next_error_library()",
          "old_line_content": "            goto err;",
          "new_line_content": "        prov->error_lib = ERR_get_next_error_library();",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "OSSL_PARAM_DEFN",
          "old_text": null,
          "new_text": "OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_PROV_NAME, OSSL_PARAM_UTF8_PTR,\n                    NULL, 0)",
          "old_line_content": " */",
          "new_line_content": "    OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_PROV_NAME, OSSL_PARAM_UTF8_PTR,",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "provider_activate",
          "old_text": null,
          "new_text": "provider_activate(prov, 0, 0)",
          "old_line_content": "         * we try to avoid calling a user callback while holding a lock.",
          "new_line_content": "        if (provider_activate(prov, 0, 0) < 0) {",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "         * However, fallbacks are never third party providers so we accept this.",
          "new_line_content": "            ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "    struct provider_store_st *store;",
          "new_line_content": "    if ((store = get_provider_store(libctx)) != NULL",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->default_path_lock)",
          "old_line_content": "    char *path = NULL;",
          "new_line_content": "            && CRYPTO_THREAD_read_lock(store->default_path_lock)) {",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_push",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_push(store->providers, prov)",
          "old_line_content": "            goto err;",
          "new_line_content": "        if (sk_OSSL_PROVIDER_push(store->providers, prov) == 0) {",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "        }",
          "new_line_content": "            ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "        ret = 1;",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "ossl_assert",
          "old_text": null,
          "new_text": "ossl_assert(!prov->flag_initialized)",
          "old_line_content": "#endif",
          "new_line_content": "    if (!ossl_assert(!prov->flag_initialized)) {",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "ERR_raise",
          "old_text": null,
          "new_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_INTERNAL_ERROR)",
          "old_line_content": "    int ok = 0;",
          "new_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_INTERNAL_ERROR);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(ctx)",
          "old_line_content": "                                  void *cbdata)",
          "new_line_content": "    struct provider_store_st *store = get_provider_store(ctx);",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": null,
          "new_api": "STACK_OF",
          "old_text": null,
          "new_text": "STACK_OF(OSSL_PROVIDER)",
          "old_line_content": "{",
          "new_line_content": "    STACK_OF(OSSL_PROVIDER) *provs = NULL;",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "ossl_lib_ctx_is_default",
          "old_text": null,
          "new_text": "ossl_lib_ctx_is_default(ctx)",
          "old_line_content": "     * Make sure any providers are loaded from config before we try to use",
          "new_line_content": "    if (ossl_lib_ctx_is_default(ctx))",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": null,
          "new_api": "OPENSSL_init_crypto",
          "old_text": null,
          "new_text": "OPENSSL_init_crypto(OPENSSL_INIT_LOAD_CONFIG, NULL)",
          "old_line_content": "     * them.",
          "new_line_content": "        OPENSSL_init_crypto(OPENSSL_INIT_LOAD_CONFIG, NULL);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "provider_activate_fallbacks",
          "old_text": null,
          "new_text": "provider_activate_fallbacks(store)",
          "old_line_content": "",
          "new_line_content": "    if (!provider_activate_fallbacks(store))",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "DSO_new",
          "old_text": null,
          "new_text": "DSO_new()",
          "old_line_content": "            char *allocated_load_dir = NULL;",
          "new_line_content": "            if ((prov->module = DSO_new()) == NULL) {",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "old_line_content": "     * Under lock, grab a copy of the provider list and up_ref each",
          "new_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_dup",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_dup(store->providers)",
          "old_line_content": "     */",
          "new_line_content": "    provs = sk_OSSL_PROVIDER_dup(store->providers);",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(prov->libctx)",
          "old_line_content": "                goto end;",
          "new_line_content": "            if ((store = get_provider_store(prov->libctx)) == NULL",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(store->default_path_lock)",
          "old_line_content": "            }",
          "new_line_content": "                    || !CRYPTO_THREAD_read_lock(store->default_path_lock))",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "        return 0;",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": null,
          "new_api": "OPENSSL_strdup",
          "old_text": null,
          "new_text": "OPENSSL_strdup(store->default_path)",
          "old_line_content": "                goto end;",
          "new_line_content": "                allocated_load_dir = OPENSSL_strdup(store->default_path);",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "old_line_content": "",
          "new_line_content": "                CRYPTO_THREAD_unlock(store->default_path_lock);",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_value(provs, curr)",
          "old_line_content": "     * as we go.",
          "new_line_content": "        OSSL_PROVIDER *prov = sk_OSSL_PROVIDER_value(provs, curr);",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "old_line_content": "                    goto end;",
          "new_line_content": "                CRYPTO_THREAD_unlock(store->default_path_lock);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(prov->flag_lock)",
          "old_line_content": "    for (curr = max - 1; curr >= 0; curr--) {",
          "new_line_content": "        if (!CRYPTO_THREAD_write_lock(prov->flag_lock))",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "ossl_safe_getenv",
          "old_text": null,
          "new_text": "ossl_safe_getenv(\"OPENSSL_MODULES\")",
          "old_line_content": "            }",
          "new_line_content": "                load_dir = ossl_safe_getenv(\"OPENSSL_MODULES\");",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": null,
          "new_api": "OSSL_PARAM_locate",
          "old_text": null,
          "new_text": "OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_VERSION)",
          "old_line_content": "     */",
          "new_line_content": "    if ((p = OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_VERSION)) != NULL)",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": null,
          "new_api": "OSSL_PARAM_set_utf8_ptr",
          "old_text": null,
          "new_text": "OSSL_PARAM_set_utf8_ptr(p, OPENSSL_VERSION_STR)",
          "old_line_content": "    OSSL_PROVIDER *prov = (OSSL_PROVIDER *)handle;",
          "new_line_content": "        OSSL_PARAM_set_utf8_ptr(p, OPENSSL_VERSION_STR);",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": null,
          "new_api": "OSSL_PARAM_locate",
          "old_text": null,
          "new_text": "OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_PROV_NAME)",
          "old_line_content": "",
          "new_line_content": "    if ((p = OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_PROV_NAME)) != NULL)",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "CRYPTO_UP_REF",
          "old_text": null,
          "new_text": "CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "old_line_content": "             * to avoid upping the ref count on the parent provider, which we",
          "new_line_content": "            if (CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock) <= 0) {",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "DSO_ctrl",
          "old_text": null,
          "new_text": "DSO_ctrl(prov->module, DSO_CTRL_SET_FLAGS,\n                     DSO_FLAG_NAME_TRANSLATION_EXT_ONLY, NULL)",
          "old_line_content": "                    load_dir = MODULESDIR;",
          "new_line_content": "            DSO_ctrl(prov->module, DSO_CTRL_SET_FLAGS,",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "             * must not do while holding locks.",
          "new_line_content": "                CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": null,
          "new_api": "ossl_provider_module_path",
          "old_text": null,
          "new_text": "ossl_provider_module_path(prov)",
          "old_line_content": "#ifndef FIPS_MODULE",
          "new_line_content": "        OSSL_PARAM_set_utf8_ptr(p, ossl_provider_module_path(prov));",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "DSO_convert_filename",
          "old_text": null,
          "new_text": "DSO_convert_filename(prov->module, prov->name)",
          "old_line_content": "            module_path = prov->path;",
          "new_line_content": "                    DSO_convert_filename(prov->module, prov->name);",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "DSO_merge",
          "old_text": null,
          "new_text": "DSO_merge(prov->module, module_path, load_dir)",
          "old_line_content": "                module_path = allocated_path =",
          "new_line_content": "                merged_path = DSO_merge(prov->module, module_path, load_dir);",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "sk_INFOPAIR_num",
          "old_text": null,
          "new_text": "sk_INFOPAIR_num(prov->parameters)",
          "old_line_content": "    if (prov->parameters == NULL)",
          "new_line_content": "    for (i = 0; i < sk_INFOPAIR_num(prov->parameters); i++) {",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "sk_INFOPAIR_value",
          "old_text": null,
          "new_text": "sk_INFOPAIR_value(prov->parameters, i)",
          "old_line_content": "        return 1;",
          "new_line_content": "        INFOPAIR *pair = sk_INFOPAIR_value(prov->parameters, i);",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "provider_activate",
          "old_text": null,
          "new_text": "provider_activate(prov, 0, 0)",
          "old_line_content": "             * theory this could mean the parent provider goes inactive, whilst",
          "new_line_content": "            if (provider_activate(prov, 0, 0) < 0) {",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "DSO_free",
          "old_text": null,
          "new_text": "DSO_free(prov->module)",
          "old_line_content": "",
          "new_line_content": "                DSO_free(prov->module);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "CRYPTO_DOWN_REF",
          "old_text": null,
          "new_text": "CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "old_line_content": "             * still activated in the child for a short period. That's ok.",
          "new_line_content": "                CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "old_line_content": "             */",
          "new_line_content": "                CRYPTO_THREAD_unlock(prov->flag_lock);",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(merged_path)",
          "old_line_content": "                prov->module = NULL;",
          "new_line_content": "            OPENSSL_free(merged_path);",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(allocated_path)",
          "old_line_content": "            }",
          "new_line_content": "            OPENSSL_free(allocated_path);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(allocated_load_dir)",
          "old_line_content": "",
          "new_line_content": "            OPENSSL_free(allocated_load_dir);",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_delete",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_delete(provs, curr)",
          "old_line_content": "                goto err_unlock;",
          "new_line_content": "            sk_OSSL_PROVIDER_delete(provs, curr);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "        }",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "ERR_raise_data",
          "old_text": null,
          "new_text": "ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_DSO_LIB,\n                           \"name=%s\", prov->name)",
          "old_line_content": "",
          "new_line_content": "            ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_DSO_LIB,",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_value(provs, curr)",
          "old_line_content": "     * Now, we sweep through all providers not under lock",
          "new_line_content": "        OSSL_PROVIDER *prov = sk_OSSL_PROVIDER_value(provs, curr);",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "DSO_bind_func",
          "old_text": null,
          "new_text": "DSO_bind_func(prov->module, \"OSSL_provider_init\")",
          "old_line_content": "        }",
          "new_line_content": "            DSO_bind_func(prov->module, \"OSSL_provider_init\");",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "cb",
          "old_text": null,
          "new_text": "cb(prov, cbdata)",
          "old_line_content": "    for (curr = 0; curr < max; curr++) {",
          "new_line_content": "        if (!cb(prov, cbdata)) {",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(prov != NULL)",
          "old_line_content": "     * that does not apply here. Here |prov| == NULL can happen only in",
          "new_line_content": "    assert(prov != NULL);",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "ERR_raise_data",
          "old_text": null,
          "new_text": "ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_UNSUPPORTED,\n                       \"name=%s, provider has no provider init function\",\n                       prov->name)",
          "old_line_content": "",
          "new_line_content": "        ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_UNSUPPORTED,",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_write_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "old_line_content": "        /*",
          "new_line_content": "        if (!CRYPTO_THREAD_write_lock(store->lock))",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "init_function",
          "old_text": null,
          "new_text": "prov->init_function((OSSL_CORE_HANDLE *)prov, core_dispatch,\n                             &provider_dispatch, &tmp_provctx)",
          "old_line_content": "        goto end;",
          "new_line_content": "    if (!prov->init_function((OSSL_CORE_HANDLE *)prov, core_dispatch,",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_sort",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_sort(store->providers)",
          "old_line_content": "         * required.",
          "new_line_content": "        sk_OSSL_PROVIDER_sort(store->providers);",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_find",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_find(store->providers, &tmpl)",
          "old_line_content": "         */",
          "new_line_content": "        if ((i = sk_OSSL_PROVIDER_find(store->providers, &tmpl)) != -1)",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "ERR_raise_data",
          "old_text": null,
          "new_text": "ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_INIT_FAIL,\n                       \"name=%s\", prov->name)",
          "old_line_content": "",
          "new_line_content": "        ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_INIT_FAIL,",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "            return NULL;",
          "new_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_unlock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_unlock(store->lock)",
          "old_line_content": "    goto finish;",
          "new_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "ossl_init_thread_start",
          "old_text": null,
          "new_text": "ossl_init_thread_start(prov, arg, handfn)",
          "old_line_content": "     */",
          "new_line_content": "    return ossl_init_thread_start(prov, arg, handfn);",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_value",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_value(provs, curr)",
          "old_line_content": "     * we only processed some of the items.",
          "new_line_content": "        OSSL_PROVIDER *prov = sk_OSSL_PROVIDER_value(provs, curr);",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "provider_deactivate",
          "old_text": null,
          "new_text": "provider_deactivate(prov, 0, 1)",
          "old_line_content": "    for (curr++; curr < max; curr++) {",
          "new_line_content": "        provider_deactivate(prov, 0, 1);",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_teardown",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_teardown(provider_dispatch)",
          "old_line_content": "        switch (provider_dispatch->function_id) {",
          "new_line_content": "                OSSL_FUNC_provider_teardown(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "CRYPTO_DOWN_REF",
          "old_text": null,
          "new_text": "CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "old_line_content": "         * to avoid making upcalls. There should always be at least one ref",
          "new_line_content": "        CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_gettable_params",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_gettable_params(provider_dispatch)",
          "old_line_content": "            break;",
          "new_line_content": "                OSSL_FUNC_provider_gettable_params(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_get_params",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_get_params(provider_dispatch)",
          "old_line_content": "            break;",
          "new_line_content": "                OSSL_FUNC_provider_get_params(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(ref > 0)",
          "old_line_content": "         * Not much we can do if this assert ever fails. So we don't use",
          "new_line_content": "        assert(ref > 0);",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": null,
          "new_api": "sk_OSSL_PROVIDER_free",
          "old_text": null,
          "new_text": "sk_OSSL_PROVIDER_free(provs)",
          "old_line_content": "         */",
          "new_line_content": "    sk_OSSL_PROVIDER_free(provs);",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "OPENSSL_zalloc",
          "old_text": null,
          "new_text": "OPENSSL_zalloc(sizeof(*prov))",
          "old_line_content": "{",
          "new_line_content": "    if ((prov = OPENSSL_zalloc(sizeof(*prov))) == NULL)",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_self_test",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_self_test(provider_dispatch)",
          "old_line_content": "            break;",
          "new_line_content": "                OSSL_FUNC_provider_self_test(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": null,
          "new_api": "ERR_new",
          "old_text": null,
          "new_text": "ERR_new()",
          "old_line_content": " */",
          "new_line_content": "    ERR_new();",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": null,
          "new_api": "OPENSSL_free",
          "old_text": null,
          "new_text": "OPENSSL_free(prov)",
          "old_line_content": "        return NULL;",
          "new_line_content": "        OPENSSL_free(prov);",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "ERR_raise",
          "old_text": null,
          "new_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "old_line_content": "#ifndef HAVE_ATOMICS",
          "new_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_get_capabilities",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_get_capabilities(provider_dispatch)",
          "old_line_content": "            break;",
          "new_line_content": "                OSSL_FUNC_provider_get_capabilities(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "get_provider_store",
          "old_text": null,
          "new_text": "get_provider_store(libctx)",
          "old_line_content": "{",
          "new_line_content": "    struct provider_store_st *store = get_provider_store(libctx);",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "ERR_set_debug",
          "old_text": null,
          "new_text": "ERR_set_debug(file, line, func)",
          "old_line_content": "static void core_set_error_debug(const OSSL_CORE_HANDLE *handle,",
          "new_line_content": "    ERR_set_debug(file, line, func);",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_query_operation",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_query_operation(provider_dispatch)",
          "old_line_content": "            break;",
          "new_line_content": "                OSSL_FUNC_provider_query_operation(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "provider_activate_fallbacks",
          "old_text": null,
          "new_text": "provider_activate_fallbacks(store)",
          "old_line_content": "    int available = 0;",
          "new_line_content": "    if (store == NULL || !provider_activate_fallbacks(store))",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_lock_new",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_lock_new()",
          "old_line_content": "",
          "new_line_content": "    if ((prov->opbits_lock = CRYPTO_THREAD_lock_new()) == NULL",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_lock_new",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_lock_new()",
          "old_line_content": "    prov->refcnt = 1; /* 1 One reference to be returned */",
          "new_line_content": "        || (prov->flag_lock = CRYPTO_THREAD_lock_new()) == NULL",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "sk_INFOPAIR_deep_copy",
          "old_text": null,
          "new_text": "sk_INFOPAIR_deep_copy(parameters,\n                                                     infopair_copy,\n                                                     infopair_free)",
          "old_line_content": "",
          "new_line_content": "        || (prov->parameters = sk_INFOPAIR_deep_copy(parameters,",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_unquery_operation",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_unquery_operation(provider_dispatch)",
          "old_line_content": "            break;",
          "new_line_content": "                OSSL_FUNC_provider_unquery_operation(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "CRYPTO_THREAD_read_lock",
          "old_text": null,
          "new_text": "CRYPTO_THREAD_read_lock(prov->flag_lock)",
          "old_line_content": "",
          "new_line_content": "        if (!CRYPTO_THREAD_read_lock(prov->flag_lock))",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "ERR_raise",
          "old_text": null,
          "new_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "old_line_content": "                                                     infopair_copy,",
          "new_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "OSSL_FUNC_provider_get_reason_strings",
          "old_text": null,
          "new_text": "OSSL_FUNC_provider_get_reason_strings(provider_dispatch)",
          "old_line_content": "# ifndef FIPS_MODULE",
          "new_line_content": "                OSSL_FUNC_provider_get_reason_strings(provider_dispatch);",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "            return 0;",
          "new_line_content": "        ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "        return NULL;",
          "new_line_content": "        ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "ERR_GET_LIB",
          "old_text": null,
          "new_text": "ERR_GET_LIB(reason)",
          "old_line_content": "     * error and will be treated as such.  Otherwise, it's a new style",
          "new_line_content": "    if (ERR_GET_LIB(reason) != 0) {",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "ERR_GET_REASON",
          "old_text": null,
          "new_text": "ERR_GET_REASON(reason)",
          "old_line_content": "     * provider error and will be treated as such.",
          "new_line_content": "        ERR_vset_error(ERR_GET_LIB(reason), ERR_GET_REASON(reason), fmt, args);",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "p_get_reason_strings",
          "old_text": null,
          "new_text": "p_get_reason_strings(prov->provctx)",
          "old_line_content": "#ifndef OPENSSL_NO_ERR",
          "new_line_content": "        const OSSL_ITEM *reasonstrings = p_get_reason_strings(prov->provctx);",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "ERR_set_mark",
          "old_text": null,
          "new_text": "ERR_set_mark()",
          "old_line_content": "",
          "new_line_content": "    return ERR_set_mark();",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": null,
          "new_api": "CRYPTO_UP_REF",
          "old_text": null,
          "new_text": "CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "old_line_content": "{",
          "new_line_content": "    if (CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock) <= 0)",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": null,
          "new_api": "ERR_clear_last_mark",
          "old_text": null,
          "new_text": "ERR_clear_last_mark()",
          "old_line_content": "",
          "new_line_content": "    return ERR_clear_last_mark();",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "DSO_get_filename",
          "old_text": null,
          "new_text": "DSO_get_filename(prov->module)",
          "old_line_content": "#ifdef FIPS_MODULE",
          "new_line_content": "    return DSO_get_filename(prov->module);",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "ossl_provider_up_ref_parent",
          "old_text": null,
          "new_text": "ossl_provider_up_ref_parent(prov, 0)",
          "old_line_content": "",
          "new_line_content": "        if (!ossl_provider_up_ref_parent(prov, 0)) {",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "#ifndef FIPS_MODULE",
          "new_line_content": "            ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "ERR_GET_LIB",
          "old_text": null,
          "new_text": "ERR_GET_LIB(reasonstrings[cnt].id)",
          "old_line_content": "         */",
          "new_line_content": "            if (ERR_GET_LIB(reasonstrings[cnt].id) != 0)",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "ERR_pop_to_mark",
          "old_text": null,
          "new_text": "ERR_pop_to_mark()",
          "old_line_content": "",
          "new_line_content": "    return ERR_pop_to_mark();",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "OSSL_SELF_TEST_get_callback",
          "old_text": null,
          "new_text": "OSSL_SELF_TEST_get_callback((OSSL_LIB_CTX *)libctx, cb, cbarg)",
          "old_line_content": "static void core_self_test_get_callback(OPENSSL_CORE_CTX *libctx,",
          "new_line_content": "    OSSL_SELF_TEST_get_callback((OSSL_LIB_CTX *)libctx, cb, cbarg);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "OPENSSL_zalloc",
          "old_text": null,
          "new_text": "OPENSSL_zalloc(sizeof(ERR_STRING_DATA) * (cnt + 1))",
          "old_line_content": "",
          "new_line_content": "            OPENSSL_zalloc(sizeof(ERR_STRING_DATA) * (cnt + 1));",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "DSO_get_filename",
          "old_text": null,
          "new_text": "DSO_get_filename(prov->module)",
          "old_line_content": "    return NULL;",
          "new_line_content": "    return DSO_get_filename(prov->module);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": null,
          "new_api": "OSSL_PROVIDER_get0_name",
          "old_text": null,
          "new_text": "OSSL_PROVIDER_get0_name((const OSSL_PROVIDER *)prov)",
          "old_line_content": "",
          "new_line_content": "    return OSSL_PROVIDER_get0_name((const OSSL_PROVIDER *)prov);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "ossl_provider_activate",
          "old_text": null,
          "new_text": "ossl_provider_activate(prov, 1, 0)",
          "old_line_content": "static int provider_up_ref_intern(OSSL_PROVIDER *prov, int activate)",
          "new_line_content": "        return ossl_provider_activate(prov, 1, 0);",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "ossl_provider_up_ref",
          "old_text": null,
          "new_text": "ossl_provider_up_ref(prov)",
          "old_line_content": "    if (activate)",
          "new_line_content": "    return ossl_provider_up_ref(prov);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "ERR_PACK",
          "old_text": null,
          "new_text": "ERR_PACK(prov->error_lib, 0, 0)",
          "old_line_content": "        /*",
          "new_line_content": "        prov->error_strings[0].error = ERR_PACK(prov->error_lib, 0, 0);",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": null,
          "new_api": "OSSL_PROVIDER_get0_provider_ctx",
          "old_text": null,
          "new_text": "OSSL_PROVIDER_get0_provider_ctx((const OSSL_PROVIDER *)prov)",
          "old_line_content": "",
          "new_line_content": "    return OSSL_PROVIDER_get0_provider_ctx((const OSSL_PROVIDER *)prov);",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "ossl_provider_deactivate",
          "old_text": null,
          "new_text": "ossl_provider_deactivate(prov, 1)",
          "old_line_content": "static int provider_free_intern(OSSL_PROVIDER *prov, int deactivate)",
          "new_line_content": "        return ossl_provider_deactivate(prov, 1);",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": null,
          "new_api": "OSSL_PROVIDER_get0_dispatch",
          "old_text": null,
          "new_text": "OSSL_PROVIDER_get0_dispatch((const OSSL_PROVIDER *)prov)",
          "old_line_content": "static const OSSL_DISPATCH *",
          "new_line_content": "    return OSSL_PROVIDER_get0_dispatch((const OSSL_PROVIDER *)prov);",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "ossl_provider_free",
          "old_text": null,
          "new_text": "ossl_provider_free(prov)",
          "old_line_content": "    if (deactivate)",
          "new_line_content": "    ossl_provider_free(prov);",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": null,
          "new_api": "ERR_load_strings",
          "old_text": null,
          "new_text": "ERR_load_strings(prov->error_lib, prov->error_strings)",
          "old_line_content": "            prov->error_strings[cnt2].string = reasonstrings[cnt2-1].ptr;",
          "new_line_content": "        ERR_load_strings(prov->error_lib, prov->error_strings);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1026,
          "old_api": "ERR_load_strings",
          "new_api": null,
          "old_text": "ERR_load_strings(prov->error_lib, prov->error_strings)",
          "new_text": null,
          "old_line_content": "        ERR_load_strings(prov->error_lib, prov->error_strings);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2052,
          "old_api": "provider_up_ref_intern",
          "new_api": null,
          "old_text": "provider_up_ref_intern((OSSL_PROVIDER *)prov, activate)",
          "new_text": null,
          "old_line_content": "    return provider_up_ref_intern((OSSL_PROVIDER *)prov, activate);",
          "new_line_content": "static int core_provider_free_intern(const OSSL_CORE_HANDLE *prov,",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": "provider_free_intern",
          "new_api": null,
          "old_text": "provider_free_intern((OSSL_PROVIDER *)prov, deactivate)",
          "new_text": null,
          "old_line_content": "    return provider_free_intern((OSSL_PROVIDER *)prov, deactivate);",
          "new_line_content": "static int core_obj_add_sigid(const OSSL_CORE_HANDLE *prov,",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "OBJ_txt2nid",
          "new_api": null,
          "old_text": "OBJ_txt2nid(sign_name)",
          "new_text": null,
          "old_line_content": "    int sign_nid = OBJ_txt2nid(sign_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "teardown",
          "new_api": null,
          "old_text": "prov->teardown(prov->provctx)",
          "new_text": null,
          "old_line_content": "        prov->teardown(prov->provctx);",
          "new_line_content": "const OSSL_PARAM *ossl_provider_gettable_params(const OSSL_PROVIDER *prov)",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&template, 0, sizeof(template))",
          "new_text": null,
          "old_line_content": "    memset(&template, 0, sizeof(template));",
          "new_line_content": "        size_t i;",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": "OBJ_txt2nid",
          "new_api": null,
          "old_text": "OBJ_txt2nid(digest_name)",
          "new_text": null,
          "old_line_content": "        && (digest_nid = OBJ_txt2nid(digest_name)) == NID_undef)",
          "new_line_content": "    if (sign_nid == NID_undef)",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "gettable_params",
          "new_api": null,
          "old_text": "prov->gettable_params(prov->provctx)",
          "new_text": null,
          "old_line_content": "        ? NULL : prov->gettable_params(prov->provctx);",
          "new_line_content": "int ossl_provider_get_params(const OSSL_PROVIDER *prov, OSSL_PARAM params[])",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(p->name, name)",
          "new_text": null,
          "old_line_content": "            if (strcmp(p->name, name) == 0) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "get_params",
          "new_api": null,
          "old_text": "prov->get_params(prov->provctx, params)",
          "new_text": null,
          "old_line_content": "        ? 0 : prov->get_params(prov->provctx, params);",
          "new_line_content": "int ossl_provider_self_test(const OSSL_PROVIDER *prov)",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "ossl_assert",
          "new_api": null,
          "old_text": "ossl_assert(prov != NULL)",
          "new_text": null,
          "old_line_content": "    if (!ossl_assert(prov != NULL))",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "OBJ_find_sigid_algs",
          "new_api": null,
          "old_text": "OBJ_find_sigid_algs(sign_nid, NULL, NULL)",
          "new_text": null,
          "old_line_content": "    if (OBJ_find_sigid_algs(sign_nid, NULL, NULL))",
          "new_line_content": "    if (pkey_nid == NID_undef)",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(p->name, name)",
          "new_text": null,
          "old_line_content": "                if (strcmp(p->name, name) == 0) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "OBJ_add_sigid",
          "new_api": null,
          "old_text": "OBJ_add_sigid(sign_nid, digest_nid, pkey_nid)",
          "new_text": null,
          "old_line_content": "    return OBJ_add_sigid(sign_nid, digest_nid, pkey_nid);",
          "new_line_content": "static int core_obj_create(const OSSL_CORE_HANDLE *prov, const char *oid,",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "get_provider_store",
          "new_api": null,
          "old_text": "get_provider_store(prov->libctx)",
          "new_text": null,
          "old_line_content": "    store = get_provider_store(prov->libctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "self_test",
          "new_api": null,
          "old_text": "prov->self_test(prov->provctx)",
          "new_text": null,
          "old_line_content": "    ret = prov->self_test(prov->provctx);",
          "new_line_content": "    return ret;",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "provider_remove_store_methods",
          "new_api": null,
          "old_text": "provider_remove_store_methods((OSSL_PROVIDER *)prov)",
          "new_text": null,
          "old_line_content": "        (void)provider_remove_store_methods((OSSL_PROVIDER *)prov);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "            CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "        template.init = init_function;",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "    if (lock && !CRYPTO_THREAD_write_lock(prov->flag_lock)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "OBJ_txt2nid",
          "new_api": null,
          "old_text": "OBJ_txt2nid(oid)",
          "new_text": null,
          "old_line_content": "    return OBJ_txt2nid(oid) != NID_undef",
          "new_line_content": "#endif /* FIPS_MODULE */",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": "OBJ_create",
          "new_api": null,
          "old_text": "OBJ_create(oid, sn, ln)",
          "new_text": null,
          "old_line_content": "           || OBJ_create(oid, sn, ln) != NID_undef;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "provider_new",
          "new_api": null,
          "old_text": "provider_new(name, template.init, template.parameters)",
          "new_text": null,
          "old_line_content": "    if ((prov = provider_new(name, template.init, template.parameters)) == NULL)",
          "new_line_content": "    prov->libctx = libctx;",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "get_capabilities",
          "new_api": null,
          "old_text": "prov->get_capabilities(prov->provctx, capability, cb, arg)",
          "new_text": null,
          "old_line_content": "        ? 1 : prov->get_capabilities(prov->provctx, capability, cb, arg);",
          "new_line_content": "const OSSL_ALGORITHM *ossl_provider_query_operation(const OSSL_PROVIDER *prov,",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "ERR_get_next_error_library",
          "new_api": null,
          "old_text": "ERR_get_next_error_library()",
          "new_text": null,
          "old_line_content": "    prov->error_lib = ERR_get_next_error_library();",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "query_operation",
          "new_api": null,
          "old_text": "prov->query_operation(prov->provctx, operation_id, no_cache)",
          "new_text": null,
          "old_line_content": "    res = prov->query_operation(prov->provctx, operation_id, no_cache);",
          "new_line_content": "    if (no_cache != NULL)",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "new_text": null,
          "old_line_content": "        int i, max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "new_line_content": "        for (i = 0; i < max; i++) {",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "new_text": null,
          "old_line_content": "            child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "new_text": null,
          "old_line_content": "    max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "new_line_content": "         * This is newly activated (activatecnt == 1), so we need to",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "remove_cb",
          "new_api": null,
          "old_text": "child_cb->remove_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata)",
          "new_text": null,
          "old_line_content": "            child_cb->remove_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "unquery_operation",
          "new_api": null,
          "old_text": "prov->unquery_operation(prov->provctx, operation_id, algs)",
          "new_text": null,
          "old_line_content": "        prov->unquery_operation(prov->provctx, operation_id, algs);",
          "new_line_content": "int ossl_provider_set_operation_bit(OSSL_PROVIDER *provider, size_t bitnum)",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "#ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "new_text": null,
          "old_line_content": "        child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": "create_cb",
          "new_api": null,
          "old_text": "child_cb->create_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata)",
          "new_text": null,
          "old_line_content": "        ret &= child_cb->create_cb((OSSL_CORE_HANDLE *)prov, child_cb->cbdata);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "    if (freeparent)",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "ossl_provider_free_parent",
          "new_api": null,
          "old_text": "ossl_provider_free_parent(prov, 1)",
          "new_text": null,
          "old_line_content": "        ossl_provider_free_parent(prov, 1);",
          "new_line_content": "    /* We don't deinit here, that's done in ossl_provider_free() */",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "OPENSSL_realloc",
          "new_api": null,
          "old_text": "OPENSSL_realloc(provider->operation_bits,\n                                             byte + 1)",
          "new_text": null,
          "old_line_content": "        unsigned char *tmp = OPENSSL_realloc(provider->operation_bits,",
          "new_line_content": "        if (tmp == NULL) {",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(provider->opbits_lock)",
          "new_text": null,
          "old_line_content": "            CRYPTO_THREAD_unlock(provider->opbits_lock);",
          "new_line_content": "        provider->operation_bits = tmp;",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(provider->operation_bits + provider->operation_bits_sz,\n               '\\0', byte + 1 - provider->operation_bits_sz)",
          "new_text": null,
          "old_line_content": "        memset(provider->operation_bits + provider->operation_bits_sz,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(provider->opbits_lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(provider->opbits_lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "new_text": null,
          "old_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock))",
          "new_line_content": "    tmpl.name = (char *)prov->name;",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "sk_OSSL_PROVIDER_find",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_find(store->providers, &tmpl)",
          "new_text": null,
          "old_line_content": "    idx = sk_OSSL_PROVIDER_find(store->providers, &tmpl);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "provider_init",
          "new_api": null,
          "old_text": "provider_init(prov)",
          "new_text": null,
          "old_line_content": "        if (!provider_init(prov))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "ossl_assert",
          "new_api": null,
          "old_text": "ossl_assert(result != NULL)",
          "new_text": null,
          "old_line_content": "    if (!ossl_assert(result != NULL)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "ERR_raise",
          "new_api": null,
          "old_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_PASSED_NULL_PARAMETER)",
          "new_text": null,
          "old_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_PASSED_NULL_PARAMETER);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "ossl_provider_up_ref_parent",
          "new_api": null,
          "old_text": "ossl_provider_up_ref_parent(prov, 1)",
          "new_text": null,
          "old_line_content": "    if (prov->ischild && upcalls && !ossl_provider_up_ref_parent(prov, 1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_read_lock(provider->opbits_lock)",
          "new_text": null,
          "old_line_content": "    if (!CRYPTO_THREAD_read_lock(provider->opbits_lock))",
          "new_line_content": "        *result = ((provider->operation_bits[byte] & bit) != 0);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "create_provider_children",
          "new_api": null,
          "old_text": "create_provider_children(prov)",
          "new_text": null,
          "old_line_content": "        if (!create_provider_children(prov)) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "sk_OSSL_PROVIDER_delete_ptr",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_delete_ptr(store->providers, prov)",
          "new_text": null,
          "old_line_content": "            sk_OSSL_PROVIDER_delete_ptr(store->providers, prov);",
          "new_line_content": "        if (!retain_fallbacks)",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(provider->opbits_lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(provider->opbits_lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "ossl_provider_free_parent",
          "new_api": null,
          "old_text": "ossl_provider_free_parent(prov, 1)",
          "new_text": null,
          "old_line_content": "            ossl_provider_free_parent(prov, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "    if (lock && !CRYPTO_THREAD_write_lock(prov->flag_lock)) {",
          "new_line_content": "        if (prov->ischild && upcalls)",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "ossl_provider_up_ref",
          "new_api": null,
          "old_text": "ossl_provider_up_ref(actualtmp)",
          "new_text": null,
          "old_line_content": "        if (!ossl_provider_up_ref(actualtmp)) {",
          "new_line_content": "            return 0;",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "ERR_raise",
          "new_api": null,
          "old_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "new_text": null,
          "old_line_content": "            ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "ossl_provider_free_parent",
          "new_api": null,
          "old_text": "ossl_provider_free_parent(prov, 1)",
          "new_text": null,
          "old_line_content": "            ossl_provider_free_parent(prov, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "    if (!ret)",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "ossl_provider_deactivate",
          "new_api": null,
          "old_text": "ossl_provider_deactivate(prov, 0)",
          "new_text": null,
          "old_line_content": "        ossl_provider_deactivate(prov, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "        ossl_provider_free(prov);",
          "new_line_content": "    return 1;",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i)",
          "new_text": null,
          "old_line_content": "        child_cb = sk_OSSL_PROVIDER_CHILD_CB_value(store->child_cbs, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "CRYPTO_DOWN_REF",
          "new_api": null,
          "old_text": "CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock);",
          "new_line_content": "         * When the refcount drops to zero, we clean up the provider.",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "        int acc",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "ossl_encoder_store_cache_flush",
          "new_api": null,
          "old_text": "ossl_encoder_store_cache_flush(prov->libctx)",
          "new_text": null,
          "old_line_content": "            + ossl_encoder_store_cache_flush(prov->libctx)",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "ossl_decoder_store_cache_flush",
          "new_api": null,
          "old_text": "ossl_decoder_store_cache_flush(prov->libctx)",
          "new_text": null,
          "old_line_content": "            + ossl_decoder_store_cache_flush(prov->libctx)",
          "new_line_content": "            ;",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "ossl_store_loader_store_cache_flush",
          "new_api": null,
          "old_text": "ossl_store_loader_store_cache_flush(prov->libctx)",
          "new_text": null,
          "old_line_content": "            + ossl_store_loader_store_cache_flush(prov->libctx)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": "ossl_provider_teardown",
          "new_api": null,
          "old_text": "ossl_provider_teardown(prov)",
          "new_text": null,
          "old_line_content": "                ossl_provider_teardown(prov);",
          "new_line_content": "                if (prov->error_strings != NULL) {",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "ERR_unload_strings",
          "new_api": null,
          "old_text": "ERR_unload_strings(prov->error_lib, prov->error_strings)",
          "new_text": null,
          "old_line_content": "                    ERR_unload_strings(prov->error_lib, prov->error_strings);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(prov->error_strings)",
          "new_text": null,
          "old_line_content": "                    OPENSSL_free(prov->error_strings);",
          "new_line_content": "# endif",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(prov->operation_bits)",
          "new_text": null,
          "old_line_content": "                OPENSSL_free(prov->operation_bits);",
          "new_line_content": "                prov->flag_initialized = 0;",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "OPENSSL_malloc",
          "new_api": null,
          "old_text": "OPENSSL_malloc(sizeof(*child_cb))",
          "new_text": null,
          "old_line_content": "    child_cb = OPENSSL_malloc(sizeof(*child_cb));",
          "new_line_content": "    child_cb->prov = thisprov;",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "        int acc;",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(prov->opbits_lock)",
          "new_text": null,
          "old_line_content": "        if (!CRYPTO_THREAD_write_lock(prov->opbits_lock))",
          "new_line_content": "        prov->operation_bits = NULL;",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "sk_INFOPAIR_pop_free",
          "new_api": null,
          "old_text": "sk_INFOPAIR_pop_free(prov->parameters, infopair_free)",
          "new_text": null,
          "old_line_content": "            sk_INFOPAIR_pop_free(prov->parameters, infopair_free);",
          "new_line_content": "#ifndef HAVE_ATOMICS",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "new_text": null,
          "old_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "CRYPTO_THREAD_lock_free",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_lock_free(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "            CRYPTO_THREAD_lock_free(prov->flag_lock);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->opbits_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(prov->opbits_lock);",
          "new_line_content": "#ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "CRYPTO_THREAD_lock_free",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_lock_free(prov->refcnt_lock)",
          "new_text": null,
          "old_line_content": "            CRYPTO_THREAD_lock_free(prov->refcnt_lock);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(prov)",
          "new_text": null,
          "old_line_content": "            OPENSSL_free(prov);",
          "new_line_content": "        else if (prov->ischild) {",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "ossl_encoder_store_remove_all_provided",
          "new_api": null,
          "old_text": "ossl_encoder_store_remove_all_provided(prov)",
          "new_text": null,
          "old_line_content": "            + ossl_encoder_store_remove_all_provided(prov)",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "ossl_decoder_store_remove_all_provided",
          "new_api": null,
          "old_text": "ossl_decoder_store_remove_all_provided(prov)",
          "new_text": null,
          "old_line_content": "            + ossl_decoder_store_remove_all_provided(prov)",
          "new_line_content": "            ;",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "ossl_store_loader_store_remove_all_provided",
          "new_api": null,
          "old_text": "ossl_store_loader_store_remove_all_provided(prov)",
          "new_text": null,
          "old_line_content": "            + ossl_store_loader_store_remove_all_provided(prov)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "ossl_provider_free_parent",
          "new_api": null,
          "old_text": "ossl_provider_free_parent(prov, 0)",
          "new_text": null,
          "old_line_content": "            ossl_provider_free_parent(prov, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(propsstr)",
          "new_text": null,
          "old_line_content": "        OPENSSL_free(propsstr);",
          "new_line_content": "    for (i = 0; i < max; i++) {",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": "sk_OSSL_PROVIDER_num",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_num(store->providers)",
          "new_text": null,
          "old_line_content": "    max = sk_OSSL_PROVIDER_num(store->providers);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_value(store->providers, i)",
          "new_text": null,
          "old_line_content": "        prov = sk_OSSL_PROVIDER_value(store->providers, i);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(prov->path)",
          "new_text": null,
          "old_line_content": "    OPENSSL_free(prov->path);",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "         * that the user callback must be short and simple and not do anything",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "OPENSSL_strdup",
          "new_api": null,
          "old_text": "OPENSSL_strdup(module_path)",
          "new_text": null,
          "old_line_content": "    if ((prov->path = OPENSSL_strdup(module_path)) != NULL)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "STACK_OF",
          "new_api": null,
          "old_text": "STACK_OF(INFOPAIR)",
          "new_text": null,
          "old_line_content": "static int infopair_add(STACK_OF(INFOPAIR) **infopairsk, const char *name,",
          "new_line_content": "    INFOPAIR *pair = NULL;",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": "create_cb",
          "new_api": null,
          "old_text": "create_cb((OSSL_CORE_HANDLE *)prov, cbdata)",
          "new_text": null,
          "old_line_content": "        if (activated && !create_cb((OSSL_CORE_HANDLE *)prov, cbdata))",
          "new_line_content": "    if (i == max) {",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "OPENSSL_zalloc",
          "new_api": null,
          "old_text": "OPENSSL_zalloc(sizeof(*pair))",
          "new_text": null,
          "old_line_content": "    if ((pair = OPENSSL_zalloc(sizeof(*pair))) == NULL",
          "new_line_content": "        goto err;",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "OPENSSL_strdup",
          "new_api": null,
          "old_text": "OPENSSL_strdup(name)",
          "new_text": null,
          "old_line_content": "        || (pair->name = OPENSSL_strdup(name)) == NULL",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "OPENSSL_strdup",
          "new_api": null,
          "old_text": "OPENSSL_strdup(value)",
          "new_text": null,
          "old_line_content": "        || (pair->value = OPENSSL_strdup(value)) == NULL)",
          "new_line_content": "    if ((*infopairsk == NULL",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "provider_activate",
          "new_api": null,
          "old_text": "provider_activate(prov, 1, upcalls)",
          "new_text": null,
          "old_line_content": "    if ((count = provider_activate(prov, 1, upcalls)) > 0)",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "provider_flush_store_cache",
          "new_api": null,
          "old_text": "provider_flush_store_cache(prov)",
          "new_text": null,
          "old_line_content": "        return count == 1 ? provider_flush_store_cache(prov) : 1;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_push",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_push(store->child_cbs, child_cb)",
          "new_text": null,
          "old_line_content": "        ret = sk_OSSL_PROVIDER_CHILD_CB_push(store->child_cbs, child_cb);",
          "new_line_content": "        /* Failed during creation. Remove everything we just added */",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "sk_INFOPAIR_new_null",
          "new_api": null,
          "old_text": "sk_INFOPAIR_new_null()",
          "new_text": null,
          "old_line_content": "         && (*infopairsk = sk_INFOPAIR_new_null()) == NULL)",
          "new_line_content": "        goto err;",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "sk_INFOPAIR_push",
          "new_api": null,
          "old_text": "sk_INFOPAIR_push(*infopairsk, pair)",
          "new_text": null,
          "old_line_content": "        || sk_INFOPAIR_push(*infopairsk, pair) <= 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": "ERR_raise",
          "new_api": null,
          "old_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "new_text": null,
          "old_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "remove_cb",
          "new_api": null,
          "old_text": "remove_cb((OSSL_CORE_HANDLE *)prov, cbdata)",
          "new_text": null,
          "old_line_content": "            remove_cb((OSSL_CORE_HANDLE *)prov, cbdata);",
          "new_line_content": "        ret = 0;",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "provider_deactivate",
          "new_api": null,
          "old_text": "provider_deactivate(prov, 1, removechildren)",
          "new_text": null,
          "old_line_content": "            || (count = provider_deactivate(prov, 1, removechildren)) < 0)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(pair->name)",
          "new_text": null,
          "old_line_content": "        OPENSSL_free(pair->name);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(pair->value)",
          "new_text": null,
          "old_line_content": "        OPENSSL_free(pair->value);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(pair)",
          "new_text": null,
          "old_line_content": "        OPENSSL_free(pair);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": "provider_remove_store_methods",
          "new_api": null,
          "old_text": "provider_remove_store_methods(prov)",
          "new_text": null,
          "old_line_content": "    return count == 0 ? provider_remove_store_methods(prov) : 1;",
          "new_line_content": "void *ossl_provider_ctx(const OSSL_PROVIDER *prov)",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "infopair_add",
          "new_api": null,
          "old_text": "infopair_add(&prov->parameters, name, value)",
          "new_text": null,
          "old_line_content": "    return infopair_add(&prov->parameters, name, value);",
          "new_line_content": "int ossl_provider_info_add_parameter(OSSL_PROVIDER_INFO *provinfo,",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "new_text": null,
          "old_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock))",
          "new_line_content": "    for (i = 0; i < max; i++) {",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "infopair_add",
          "new_api": null,
          "old_text": "infopair_add(&provinfo->parameters, name, value)",
          "new_text": null,
          "old_line_content": "    return infopair_add(&provinfo->parameters, name, value);",
          "new_line_content": "/*",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_num",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs)",
          "new_text": null,
          "old_line_content": "    max = sk_OSSL_PROVIDER_CHILD_CB_num(store->child_cbs);",
          "new_line_content": "        if (child_cb->prov == thisprov) {",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "sk_OSSL_PROVIDER_CHILD_CB_delete",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_CHILD_CB_delete(store->child_cbs, i)",
          "new_text": null,
          "old_line_content": "            sk_OSSL_PROVIDER_CHILD_CB_delete(store->child_cbs, i);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(child_cb)",
          "new_text": null,
          "old_line_content": "            OPENSSL_free(child_cb);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(store->lock)",
          "new_text": null,
          "old_line_content": "    if (!CRYPTO_THREAD_write_lock(store->lock))",
          "new_line_content": "    use_fallbacks = store->use_fallbacks;",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "OPENSSL_strdup",
          "new_api": null,
          "old_text": "OPENSSL_strdup(path)",
          "new_text": null,
          "old_line_content": "        p = OPENSSL_strdup(path);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "get_provider_store",
          "new_api": null,
          "old_text": "get_provider_store(libctx)",
          "new_text": null,
          "old_line_content": "    if ((store = get_provider_store(libctx)) != NULL",
          "new_line_content": "        store->default_path = p;",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "provider_new",
          "new_api": null,
          "old_text": "provider_new(p->name, p->init, NULL)",
          "new_text": null,
          "old_line_content": "        prov = provider_new(p->name, p->init, NULL);",
          "new_line_content": "        prov->libctx = store->libctx;",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(store->default_path)",
          "new_text": null,
          "old_line_content": "        OPENSSL_free(store->default_path);",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "OSSL_PARAM_DEFN",
          "new_api": null,
          "old_text": "OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_VERSION, OSSL_PARAM_UTF8_PTR, NULL, 0)",
          "new_text": null,
          "old_line_content": "    OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_VERSION, OSSL_PARAM_UTF8_PTR, NULL, 0),",
          "new_line_content": "#ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "OSSL_PARAM_DEFN",
          "new_api": null,
          "old_text": "OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_MODULE_FILENAME, OSSL_PARAM_UTF8_PTR,\n                    NULL, 0)",
          "new_text": null,
          "old_line_content": "    OSSL_PARAM_DEFN(OSSL_PROV_PARAM_CORE_MODULE_FILENAME, OSSL_PARAM_UTF8_PTR,",
          "new_line_content": "    OSSL_PARAM_END",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "ERR_get_next_error_library",
          "new_api": null,
          "old_text": "ERR_get_next_error_library()",
          "new_text": null,
          "old_line_content": "        prov->error_lib = ERR_get_next_error_library();",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(p)",
          "new_text": null,
          "old_line_content": "    OPENSSL_free(p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "provider_activate",
          "new_api": null,
          "old_text": "provider_activate(prov, 0, 0)",
          "new_text": null,
          "old_line_content": "        if (provider_activate(prov, 0, 0) < 0) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "            ossl_provider_free(prov);",
          "new_line_content": "        prov->store = store;",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_read_lock(store->default_path_lock)",
          "new_text": null,
          "old_line_content": "            && CRYPTO_THREAD_read_lock(store->default_path_lock)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(store->default_path_lock);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "sk_OSSL_PROVIDER_push",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_push(store->providers, prov)",
          "new_text": null,
          "old_line_content": "        if (sk_OSSL_PROVIDER_push(store->providers, prov) == 0) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "            ossl_provider_free(prov);",
          "new_line_content": "        activated_fallback_count++;",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "ossl_assert",
          "new_api": null,
          "old_text": "ossl_assert(!prov->flag_initialized)",
          "new_text": null,
          "old_line_content": "    if (!ossl_assert(!prov->flag_initialized)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "ERR_raise",
          "new_api": null,
          "old_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_INTERNAL_ERROR)",
          "new_text": null,
          "old_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_INTERNAL_ERROR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "get_provider_store",
          "new_api": null,
          "old_text": "get_provider_store(ctx)",
          "new_text": null,
          "old_line_content": "    struct provider_store_st *store = get_provider_store(ctx);",
          "new_line_content": "#ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "STACK_OF",
          "new_api": null,
          "old_text": "STACK_OF(OSSL_PROVIDER)",
          "new_text": null,
          "old_line_content": "    STACK_OF(OSSL_PROVIDER) *provs = NULL;",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "ossl_lib_ctx_is_default",
          "new_api": null,
          "old_text": "ossl_lib_ctx_is_default(ctx)",
          "new_text": null,
          "old_line_content": "    if (ossl_lib_ctx_is_default(ctx))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "OPENSSL_init_crypto",
          "new_api": null,
          "old_text": "OPENSSL_init_crypto(OPENSSL_INIT_LOAD_CONFIG, NULL)",
          "new_text": null,
          "old_line_content": "        OPENSSL_init_crypto(OPENSSL_INIT_LOAD_CONFIG, NULL);",
          "new_line_content": "    if (store == NULL)",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "provider_activate_fallbacks",
          "new_api": null,
          "old_text": "provider_activate_fallbacks(store)",
          "new_text": null,
          "old_line_content": "    if (!provider_activate_fallbacks(store))",
          "new_line_content": "    /*",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "DSO_new",
          "new_api": null,
          "old_text": "DSO_new()",
          "new_text": null,
          "old_line_content": "            if ((prov->module = DSO_new()) == NULL) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_read_lock(store->lock)",
          "new_text": null,
          "old_line_content": "    if (!CRYPTO_THREAD_read_lock(store->lock))",
          "new_line_content": "    if (provs == NULL) {",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "sk_OSSL_PROVIDER_dup",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_dup(store->providers)",
          "new_text": null,
          "old_line_content": "    provs = sk_OSSL_PROVIDER_dup(store->providers);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "get_provider_store",
          "new_api": null,
          "old_text": "get_provider_store(prov->libctx)",
          "new_text": null,
          "old_line_content": "            if ((store = get_provider_store(prov->libctx)) == NULL",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "CRYPTO_THREAD_read_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_read_lock(store->default_path_lock)",
          "new_text": null,
          "old_line_content": "                    || !CRYPTO_THREAD_read_lock(store->default_path_lock))",
          "new_line_content": "            if (store->default_path != NULL) {",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "sk_OSSL_PROVIDER_num",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_num(provs)",
          "new_text": null,
          "old_line_content": "    max = sk_OSSL_PROVIDER_num(provs);",
          "new_line_content": "     * as we go.",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "OPENSSL_strdup",
          "new_api": null,
          "old_text": "OPENSSL_strdup(store->default_path)",
          "new_text": null,
          "old_line_content": "                allocated_load_dir = OPENSSL_strdup(store->default_path);",
          "new_line_content": "                    goto end;",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "new_text": null,
          "old_line_content": "                CRYPTO_THREAD_unlock(store->default_path_lock);",
          "new_line_content": "                load_dir = allocated_load_dir;",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_value(provs, curr)",
          "new_text": null,
          "old_line_content": "        OSSL_PROVIDER *prov = sk_OSSL_PROVIDER_value(provs, curr);",
          "new_line_content": "            goto err_unlock;",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->default_path_lock)",
          "new_text": null,
          "old_line_content": "                CRYPTO_THREAD_unlock(store->default_path_lock);",
          "new_line_content": "            if (load_dir == NULL) {",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": "CRYPTO_THREAD_write_lock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_write_lock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "        if (!CRYPTO_THREAD_write_lock(prov->flag_lock))",
          "new_line_content": "            /*",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "ossl_safe_getenv",
          "new_api": null,
          "old_text": "ossl_safe_getenv(\"OPENSSL_MODULES\")",
          "new_text": null,
          "old_line_content": "                load_dir = ossl_safe_getenv(\"OPENSSL_MODULES\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "OSSL_PARAM_set_utf8_ptr",
          "new_api": null,
          "old_text": "OSSL_PARAM_set_utf8_ptr(p, OPENSSL_VERSION_STR)",
          "new_text": null,
          "old_line_content": "        OSSL_PARAM_set_utf8_ptr(p, OPENSSL_VERSION_STR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "OSSL_PARAM_locate",
          "new_api": null,
          "old_text": "OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_PROV_NAME)",
          "new_text": null,
          "old_line_content": "    if ((p = OSSL_PARAM_locate(params, OSSL_PROV_PARAM_CORE_PROV_NAME)) != NULL)",
          "new_line_content": "#ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "CRYPTO_UP_REF",
          "new_api": null,
          "old_text": "CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "new_text": null,
          "old_line_content": "            if (CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock) <= 0) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "DSO_ctrl",
          "new_api": null,
          "old_text": "DSO_ctrl(prov->module, DSO_CTRL_SET_FLAGS,\n                     DSO_FLAG_NAME_TRANSLATION_EXT_ONLY, NULL)",
          "new_text": null,
          "old_line_content": "            DSO_ctrl(prov->module, DSO_CTRL_SET_FLAGS,",
          "new_line_content": "            module_path = prov->path;",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "                CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "            /*",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "OSSL_PARAM_locate",
          "new_api": null,
          "old_text": "OSSL_PARAM_locate(params,\n                               OSSL_PROV_PARAM_CORE_MODULE_FILENAME)",
          "new_text": null,
          "old_line_content": "    if ((p = OSSL_PARAM_locate(params,",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": "ossl_provider_module_path",
          "new_api": null,
          "old_text": "ossl_provider_module_path(prov)",
          "new_text": null,
          "old_line_content": "        OSSL_PARAM_set_utf8_ptr(p, ossl_provider_module_path(prov));",
          "new_line_content": "    if (prov->parameters == NULL)",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "DSO_convert_filename",
          "new_api": null,
          "old_text": "DSO_convert_filename(prov->module, prov->name)",
          "new_text": null,
          "old_line_content": "                    DSO_convert_filename(prov->module, prov->name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "DSO_load",
          "new_api": null,
          "old_text": "DSO_load(prov->module, merged_path, NULL, 0)",
          "new_text": null,
          "old_line_content": "                || (DSO_load(prov->module, merged_path, NULL, 0)) == NULL) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "DSO_free",
          "new_api": null,
          "old_text": "DSO_free(prov->module)",
          "new_text": null,
          "old_line_content": "                DSO_free(prov->module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "provider_activate",
          "new_api": null,
          "old_text": "provider_activate(prov, 0, 0)",
          "new_text": null,
          "old_line_content": "            if (provider_activate(prov, 0, 0) < 0) {",
          "new_line_content": "                goto err_unlock;",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "CRYPTO_DOWN_REF",
          "new_api": null,
          "old_text": "CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "new_text": null,
          "old_line_content": "                CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "                CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(merged_path)",
          "new_text": null,
          "old_line_content": "            OPENSSL_free(merged_path);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(allocated_path)",
          "new_text": null,
          "old_line_content": "            OPENSSL_free(allocated_path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(allocated_load_dir)",
          "new_text": null,
          "old_line_content": "            OPENSSL_free(allocated_load_dir);",
          "new_line_content": "        if (prov->module == NULL) {",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "OSSL_PARAM_locate",
          "new_api": null,
          "old_text": "OSSL_PARAM_locate(params, pair->name)",
          "new_text": null,
          "old_line_content": "        if ((p = OSSL_PARAM_locate(params, pair->name)) != NULL)",
          "new_line_content": "    return 1;",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "OSSL_PARAM_set_utf8_ptr",
          "new_api": null,
          "old_text": "OSSL_PARAM_set_utf8_ptr(p, pair->value)",
          "new_text": null,
          "old_line_content": "            OSSL_PARAM_set_utf8_ptr(p, pair->value);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "     * Now, we sweep through all providers not under lock",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "ERR_raise_data",
          "new_api": null,
          "old_text": "ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_DSO_LIB,\n                           \"name=%s\", prov->name)",
          "new_text": null,
          "old_line_content": "            ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_DSO_LIB,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_value(provs, curr)",
          "new_text": null,
          "old_line_content": "        OSSL_PROVIDER *prov = sk_OSSL_PROVIDER_value(provs, curr);",
          "new_line_content": "            curr = -1;",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "DSO_bind_func",
          "new_api": null,
          "old_text": "DSO_bind_func(prov->module, \"OSSL_provider_init\")",
          "new_text": null,
          "old_line_content": "            DSO_bind_func(prov->module, \"OSSL_provider_init\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "cb",
          "new_api": null,
          "old_text": "cb(prov, cbdata)",
          "new_text": null,
          "old_line_content": "        if (!cb(prov, cbdata)) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(prov != NULL)",
          "new_text": null,
          "old_line_content": "    assert(prov != NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "ERR_raise_data",
          "new_api": null,
          "old_text": "ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_UNSUPPORTED,\n                       \"name=%s, provider has no provider init function\",\n                       prov->name)",
          "new_text": null,
          "old_line_content": "        ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_UNSUPPORTED,",
          "new_line_content": "        goto end;",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "init_function",
          "new_api": null,
          "old_text": "prov->init_function((OSSL_CORE_HANDLE *)prov, core_dispatch,\n                             &provider_dispatch, &tmp_provctx)",
          "new_text": null,
          "old_line_content": "    if (!prov->init_function((OSSL_CORE_HANDLE *)prov, core_dispatch,",
          "new_line_content": "                       \"name=%s\", prov->name);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "    CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "     * The pop_free call doesn't do what we want on an error condition. We",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "ERR_raise_data",
          "new_api": null,
          "old_text": "ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_INIT_FAIL,\n                       \"name=%s\", prov->name)",
          "new_text": null,
          "old_line_content": "        ERR_raise_data(ERR_LIB_CRYPTO, ERR_R_INIT_FAIL,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_value(store->providers, i)",
          "new_text": null,
          "old_line_content": "            prov = sk_OSSL_PROVIDER_value(store->providers, i);",
          "new_line_content": "            prov = NULL;",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(store->lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(store->lock);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "ossl_provider_up_ref",
          "new_api": null,
          "old_text": "ossl_provider_up_ref(prov)",
          "new_text": null,
          "old_line_content": "        if (prov != NULL && !ossl_provider_up_ref(prov))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "ossl_init_thread_start",
          "new_api": null,
          "old_text": "ossl_init_thread_start(prov, arg, handfn)",
          "new_text": null,
          "old_line_content": "    return ossl_init_thread_start(prov, arg, handfn);",
          "new_line_content": "/*",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "sk_OSSL_PROVIDER_value",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_value(provs, curr)",
          "new_text": null,
          "old_line_content": "        OSSL_PROVIDER *prov = sk_OSSL_PROVIDER_value(provs, curr);",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "provider_deactivate",
          "new_api": null,
          "old_text": "provider_deactivate(prov, 0, 1)",
          "new_text": null,
          "old_line_content": "        provider_deactivate(prov, 0, 1);",
          "new_line_content": "         * to avoid making upcalls. There should always be at least one ref",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "OSSL_FUNC_provider_teardown",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_teardown(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_teardown(provider_dispatch);",
          "new_line_content": "            prov->gettable_params =",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "CRYPTO_DOWN_REF",
          "new_api": null,
          "old_text": "CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_DOWN_REF(&prov->refcnt, &ref, prov->refcnt_lock);",
          "new_line_content": "         * ossl_assert here.",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "OSSL_FUNC_provider_gettable_params",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_gettable_params(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_gettable_params(provider_dispatch);",
          "new_line_content": "            prov->get_params =",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "OSSL_FUNC_provider_get_params",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_get_params(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_get_params(provider_dispatch);",
          "new_line_content": "            prov->self_test =",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(ref > 0)",
          "new_text": null,
          "old_line_content": "        assert(ref > 0);",
          "new_line_content": "    return ret;",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "sk_OSSL_PROVIDER_free",
          "new_api": null,
          "old_text": "sk_OSSL_PROVIDER_free(provs)",
          "new_text": null,
          "old_line_content": "    sk_OSSL_PROVIDER_free(provs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "ERR_new",
          "new_api": null,
          "old_text": "ERR_new()",
          "new_text": null,
          "old_line_content": "    ERR_new();",
          "new_line_content": "static void core_set_error_debug(const OSSL_CORE_HANDLE *handle,",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "OSSL_FUNC_provider_self_test",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_self_test(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_self_test(provider_dispatch);",
          "new_line_content": "            prov->get_capabilities =",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "CRYPTO_THREAD_lock_new",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_lock_new()",
          "new_text": null,
          "old_line_content": "    if ((prov->refcnt_lock = CRYPTO_THREAD_lock_new()) == NULL) {",
          "new_line_content": "        return NULL;",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "OPENSSL_free",
          "new_api": null,
          "old_text": "OPENSSL_free(prov)",
          "new_text": null,
          "old_line_content": "        OPENSSL_free(prov);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "ERR_raise",
          "new_api": null,
          "old_text": "ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB)",
          "new_text": null,
          "old_line_content": "        ERR_raise(ERR_LIB_CRYPTO, ERR_R_CRYPTO_LIB);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "OSSL_FUNC_provider_get_capabilities",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_get_capabilities(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_get_capabilities(provider_dispatch);",
          "new_line_content": "            prov->query_operation =",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "get_provider_store",
          "new_api": null,
          "old_text": "get_provider_store(libctx)",
          "new_text": null,
          "old_line_content": "    struct provider_store_st *store = get_provider_store(libctx);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": "ERR_set_debug",
          "new_api": null,
          "old_text": "ERR_set_debug(file, line, func)",
          "new_text": null,
          "old_line_content": "    ERR_set_debug(file, line, func);",
          "new_line_content": "static void core_vset_error(const OSSL_CORE_HANDLE *handle,",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "OSSL_FUNC_provider_query_operation",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_query_operation(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_query_operation(provider_dispatch);",
          "new_line_content": "            prov->unquery_operation =",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "CRYPTO_THREAD_lock_new",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_lock_new()",
          "new_text": null,
          "old_line_content": "    if ((prov->opbits_lock = CRYPTO_THREAD_lock_new()) == NULL",
          "new_line_content": "                                                     infopair_copy,",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "CRYPTO_THREAD_lock_new",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_lock_new()",
          "new_text": null,
          "old_line_content": "        || (prov->flag_lock = CRYPTO_THREAD_lock_new()) == NULL",
          "new_line_content": "                                                     infopair_free)) == NULL) {",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "OSSL_FUNC_provider_unquery_operation",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_unquery_operation(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_unquery_operation(provider_dispatch);",
          "new_line_content": "# ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "ossl_provider_find",
          "new_api": null,
          "old_text": "ossl_provider_find(libctx, name, 0)",
          "new_text": null,
          "old_line_content": "    prov = ossl_provider_find(libctx, name, 0);",
          "new_line_content": "            return 0;",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "        ossl_provider_free(prov);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "CRYPTO_THREAD_unlock",
          "new_api": null,
          "old_text": "CRYPTO_THREAD_unlock(prov->flag_lock)",
          "new_text": null,
          "old_line_content": "        CRYPTO_THREAD_unlock(prov->flag_lock);",
          "new_line_content": "    return available;",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "OSSL_FUNC_provider_get_reason_strings",
          "new_api": null,
          "old_text": "OSSL_FUNC_provider_get_reason_strings(provider_dispatch)",
          "new_text": null,
          "old_line_content": "                OSSL_FUNC_provider_get_reason_strings(provider_dispatch);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "        ossl_provider_free(prov);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "OPENSSL_strdup",
          "new_api": null,
          "old_text": "OPENSSL_strdup(name)",
          "new_text": null,
          "old_line_content": "    if ((prov->name = OPENSSL_strdup(name)) == NULL) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "        ossl_provider_free(prov);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "ERR_GET_REASON",
          "new_api": null,
          "old_text": "ERR_GET_REASON(reason)",
          "new_text": null,
          "old_line_content": "        ERR_vset_error(ERR_GET_LIB(reason), ERR_GET_REASON(reason), fmt, args);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "ERR_vset_error",
          "new_api": null,
          "old_text": "ERR_vset_error(prov->error_lib, (int)reason, fmt, args)",
          "new_text": null,
          "old_line_content": "        ERR_vset_error(prov->error_lib, (int)reason, fmt, args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "p_get_reason_strings",
          "new_api": null,
          "old_text": "p_get_reason_strings(prov->provctx)",
          "new_text": null,
          "old_line_content": "        const OSSL_ITEM *reasonstrings = p_get_reason_strings(prov->provctx);",
          "new_line_content": "        /*",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "ERR_set_mark",
          "new_api": null,
          "old_text": "ERR_set_mark()",
          "new_text": null,
          "old_line_content": "    return ERR_set_mark();",
          "new_line_content": "static int core_clear_last_error_mark(const OSSL_CORE_HANDLE *handle)",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": "CRYPTO_UP_REF",
          "new_api": null,
          "old_text": "CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock)",
          "new_text": null,
          "old_line_content": "    if (CRYPTO_UP_REF(&prov->refcnt, &ref, prov->refcnt_lock) <= 0)",
          "new_line_content": "#ifndef FIPS_MODULE",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "ERR_clear_last_mark",
          "new_api": null,
          "old_text": "ERR_clear_last_mark()",
          "new_text": null,
          "old_line_content": "    return ERR_clear_last_mark();",
          "new_line_content": "static int core_pop_error_to_mark(const OSSL_CORE_HANDLE *handle)",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "DSO_get_filename",
          "new_api": null,
          "old_text": "DSO_get_filename(prov->module)",
          "new_text": null,
          "old_line_content": "    return DSO_get_filename(prov->module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "ossl_provider_up_ref_parent",
          "new_api": null,
          "old_text": "ossl_provider_up_ref_parent(prov, 0)",
          "new_text": null,
          "old_line_content": "        if (!ossl_provider_up_ref_parent(prov, 0)) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "            ossl_provider_free(prov);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "ERR_GET_LIB",
          "new_api": null,
          "old_text": "ERR_GET_LIB(reasonstrings[cnt].id)",
          "new_text": null,
          "old_line_content": "            if (ERR_GET_LIB(reasonstrings[cnt].id) != 0)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "ERR_pop_to_mark",
          "new_api": null,
          "old_text": "ERR_pop_to_mark()",
          "new_text": null,
          "old_line_content": "    return ERR_pop_to_mark();",
          "new_line_content": "static void core_self_test_get_callback(OPENSSL_CORE_CTX *libctx,",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": "OSSL_SELF_TEST_get_callback",
          "new_api": null,
          "old_text": "OSSL_SELF_TEST_get_callback((OSSL_LIB_CTX *)libctx, cb, cbarg)",
          "new_text": null,
          "old_line_content": "    OSSL_SELF_TEST_get_callback((OSSL_LIB_CTX *)libctx, cb, cbarg);",
          "new_line_content": "static const char *core_provider_get0_name(const OSSL_CORE_HANDLE *prov)",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "OPENSSL_zalloc",
          "new_api": null,
          "old_text": "OPENSSL_zalloc(sizeof(ERR_STRING_DATA) * (cnt + 1))",
          "new_text": null,
          "old_line_content": "            OPENSSL_zalloc(sizeof(ERR_STRING_DATA) * (cnt + 1));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "DSO_get_filename",
          "new_api": null,
          "old_text": "DSO_get_filename(prov->module)",
          "new_text": null,
          "old_line_content": "    return DSO_get_filename(prov->module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "ERR_PACK",
          "new_api": null,
          "old_text": "ERR_PACK(prov->error_lib, 0, 0)",
          "new_text": null,
          "old_line_content": "        prov->error_strings[0].error = ERR_PACK(prov->error_lib, 0, 0);",
          "new_line_content": "         * Copy reasonstrings item 0..cnt-1 to prov->error_trings positions",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": "OSSL_PROVIDER_get0_name",
          "new_api": null,
          "old_text": "OSSL_PROVIDER_get0_name((const OSSL_PROVIDER *)prov)",
          "new_text": null,
          "old_line_content": "    return OSSL_PROVIDER_get0_name((const OSSL_PROVIDER *)prov);",
          "new_line_content": "static void *core_provider_get0_provider_ctx(const OSSL_CORE_HANDLE *prov)",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "ossl_provider_activate",
          "new_api": null,
          "old_text": "ossl_provider_activate(prov, 1, 0)",
          "new_text": null,
          "old_line_content": "        return ossl_provider_activate(prov, 1, 0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": "ossl_provider_up_ref",
          "new_api": null,
          "old_text": "ossl_provider_up_ref(prov)",
          "new_text": null,
          "old_line_content": "    return ossl_provider_up_ref(prov);",
          "new_line_content": "static int provider_free_intern(OSSL_PROVIDER *prov, int deactivate)",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "OSSL_PROVIDER_get0_provider_ctx",
          "new_api": null,
          "old_text": "OSSL_PROVIDER_get0_provider_ctx((const OSSL_PROVIDER *)prov)",
          "new_text": null,
          "old_line_content": "    return OSSL_PROVIDER_get0_provider_ctx((const OSSL_PROVIDER *)prov);",
          "new_line_content": "static const OSSL_DISPATCH *",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "ossl_provider_deactivate",
          "new_api": null,
          "old_text": "ossl_provider_deactivate(prov, 1)",
          "new_text": null,
          "old_line_content": "        return ossl_provider_deactivate(prov, 1);",
          "new_line_content": "    return 1;",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "OSSL_PROVIDER_get0_dispatch",
          "new_api": null,
          "old_text": "OSSL_PROVIDER_get0_dispatch((const OSSL_PROVIDER *)prov)",
          "new_text": null,
          "old_line_content": "    return OSSL_PROVIDER_get0_dispatch((const OSSL_PROVIDER *)prov);",
          "new_line_content": "static int core_provider_up_ref_intern(const OSSL_CORE_HANDLE *prov,",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": "ossl_provider_free",
          "new_api": null,
          "old_text": "ossl_provider_free(prov)",
          "new_text": null,
          "old_line_content": "    ossl_provider_free(prov);",
          "new_line_content": "#endif",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 54,
      "total_additions": 235,
      "total_deletions": 234,
      "total_api_changes": 523
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 523,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          421
        ]
      }
    },
    "api_calls_before": 340,
    "api_calls_after": 341,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 4,
      "total_diff_lines": 19
    }
  }
}