{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/spdlog/modified_file/70d03fd9c3b88c052a2fef6b84b3381180ba75c3",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/spdlog/modified_file/70d03fd9c3b88c052a2fef6b84b3381180ba75c3/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/spdlog/modified_file/70d03fd9c3b88c052a2fef6b84b3381180ba75c3/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/spdlog/modified_file/70d03fd9c3b88c052a2fef6b84b3381180ba75c3/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 793,
          "old_api": "explicit",
          "new_api": "size",
          "old_text": "explicit",
          "new_text": "dest.size()",
          "old_line_content": "    explicit color_stop_formatter(padding_info padinfo)",
          "new_line_content": "        msg.color_range_start = dest.size();",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "push_back",
          "new_api": "time_since_epoch",
          "old_text": "cached_datetime_.push_back('[')",
          "new_text": "msg.time.time_since_epoch()",
          "old_line_content": "            cached_datetime_.push_back('[');",
          "new_line_content": "        auto duration = msg.time.time_since_epoch();",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": "fmt_helper::append_int(tm_time.tm_year + 1900, cached_datetime_)",
          "new_api": "duration_cast<seconds>(duration)",
          "old_text": "fmt_helper::append_int(tm_time.tm_year + 1900, cached_datetime_)",
          "new_text": "duration_cast<seconds>(duration)",
          "old_line_content": "            fmt_helper::append_int(tm_time.tm_year + 1900, cached_datetime_);",
          "new_line_content": "        auto secs = duration_cast<seconds>(duration);",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "push_back",
          "new_api": "clear",
          "old_text": "cached_datetime_.push_back('-')",
          "new_text": "cached_datetime_.clear()",
          "old_line_content": "            cached_datetime_.push_back('-');",
          "new_line_content": "            cached_datetime_.clear();",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "fmt_helper::pad2(tm_time.tm_mday, cached_datetime_)",
          "new_api": "fmt_helper::append_int(tm_time.tm_year + 1900, cached_datetime_)",
          "old_text": "fmt_helper::pad2(tm_time.tm_mday, cached_datetime_)",
          "new_text": "fmt_helper::append_int(tm_time.tm_year + 1900, cached_datetime_)",
          "old_line_content": "            fmt_helper::pad2(tm_time.tm_mday, cached_datetime_);",
          "new_line_content": "            fmt_helper::append_int(tm_time.tm_year + 1900, cached_datetime_);",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "fmt_helper::pad2(tm_time.tm_hour, cached_datetime_)",
          "new_api": "fmt_helper::pad2(tm_time.tm_mon + 1, cached_datetime_)",
          "old_text": "fmt_helper::pad2(tm_time.tm_hour, cached_datetime_)",
          "new_text": "fmt_helper::pad2(tm_time.tm_mon + 1, cached_datetime_)",
          "old_line_content": "            fmt_helper::pad2(tm_time.tm_hour, cached_datetime_);",
          "new_line_content": "            fmt_helper::pad2(tm_time.tm_mon + 1, cached_datetime_);",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "fmt_helper::pad2(tm_time.tm_min, cached_datetime_)",
          "new_api": "fmt_helper::pad2(tm_time.tm_mday, cached_datetime_)",
          "old_text": "fmt_helper::pad2(tm_time.tm_min, cached_datetime_)",
          "new_text": "fmt_helper::pad2(tm_time.tm_mday, cached_datetime_)",
          "old_line_content": "            fmt_helper::pad2(tm_time.tm_min, cached_datetime_);",
          "new_line_content": "            fmt_helper::pad2(tm_time.tm_mday, cached_datetime_);",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "fmt_helper::pad2(tm_time.tm_sec, cached_datetime_)",
          "new_api": "fmt_helper::pad2(tm_time.tm_hour, cached_datetime_)",
          "old_text": "fmt_helper::pad2(tm_time.tm_sec, cached_datetime_)",
          "new_text": "fmt_helper::pad2(tm_time.tm_hour, cached_datetime_)",
          "old_line_content": "            fmt_helper::pad2(tm_time.tm_sec, cached_datetime_);",
          "new_line_content": "            fmt_helper::pad2(tm_time.tm_hour, cached_datetime_);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "fmt_helper::time_fraction<milliseconds>(msg.time)",
          "new_api": "push_back",
          "old_text": "fmt_helper::time_fraction<milliseconds>(msg.time)",
          "new_text": "cached_datetime_.push_back('.')",
          "old_line_content": "        auto millis = fmt_helper::time_fraction<milliseconds>(msg.time);",
          "new_line_content": "            cached_datetime_.push_back('.');",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "push_back",
          "new_api": "empty",
          "old_text": "dest.push_back(' ')",
          "new_text": "msg.logger_name->empty()",
          "old_line_content": "            dest.push_back(' ');",
          "new_line_content": "        if (!msg.logger_name->empty())",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "push_back",
          "new_api": "fmt_helper::append_string_view(*msg.logger_name, dest)",
          "old_text": "dest.push_back('[')",
          "new_text": "fmt_helper::append_string_view(*msg.logger_name, dest)",
          "old_line_content": "        dest.push_back('[');",
          "new_line_content": "            fmt_helper::append_string_view(*msg.logger_name, dest);",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "size",
          "new_api": "push_back",
          "old_text": "dest.size()",
          "new_text": "dest.push_back(' ')",
          "old_line_content": "        msg.color_range_start = dest.size();",
          "new_line_content": "            dest.push_back(' ');",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "compile_pattern_",
          "new_api": "std::move(pattern)",
          "old_text": "compile_pattern_(pattern_)",
          "new_text": "std::move(pattern)",
          "old_line_content": "        compile_pattern_(pattern_);",
          "new_line_content": "        : pattern_(std::move(pattern))",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "std::move(eol)",
          "new_api": "compile_pattern_",
          "old_text": "std::move(eol)",
          "new_text": "compile_pattern_(pattern_)",
          "old_line_content": "        , eol_(std::move(eol))",
          "new_line_content": "        compile_pattern_(pattern_);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "new_api": "explicit",
          "old_text": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "new_text": "explicit",
          "old_line_content": "        std::memset(&cached_tm_, 0, sizeof(cached_tm_));",
          "new_line_content": "    explicit pattern_formatter(pattern_time_type time_type = pattern_time_type::local, std::string eol = spdlog::details::os::default_eol)",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "time_since_epoch",
          "new_api": "details::make_unique<pattern_formatter>(pattern_, pattern_time_type_, eol_)",
          "old_text": "msg.time.time_since_epoch()",
          "new_text": "details::make_unique<pattern_formatter>(pattern_, pattern_time_type_, eol_)",
          "old_line_content": "        auto secs = std::chrono::duration_cast<std::chrono::seconds>(msg.time.time_since_epoch());",
          "new_line_content": "        return details::make_unique<pattern_formatter>(pattern_, pattern_time_type_, eol_);",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "format",
          "new_api": "get_time_",
          "old_text": "f->format(msg, cached_tm_, dest)",
          "new_text": "get_time_(msg)",
          "old_line_content": "            f->format(msg, cached_tm_, dest);",
          "new_line_content": "            cached_tm_ = get_time_(msg);",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "add_ch",
          "new_api": "details::make_unique<details::ch_formatter>('%')",
          "old_text": "unknown_flag->add_ch(flag)",
          "new_text": "details::make_unique<details::ch_formatter>('%')",
          "old_line_content": "            unknown_flag->add_ch(flag);",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::ch_formatter>('%'));",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "std::min<size_t>(width, max_width)",
          "new_api": "static_cast<size_t>(*it - '0')",
          "old_text": "std::min<size_t>(width, max_width)",
          "new_text": "static_cast<size_t>(*it - '0')",
          "old_line_content": "        return details::padding_info{std::min<size_t>(width, max_width), side};",
          "new_line_content": "        auto width = static_cast<size_t>(*it - '0');",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "std::move(user_chars)",
          "new_api": "begin",
          "old_text": "std::move(user_chars)",
          "new_text": "pattern.begin()",
          "old_line_content": "                    formatters_.push_back(std::move(user_chars));",
          "new_line_content": "        for (auto it = pattern.begin(); it != end; ++it)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1025,
          "old_api": null,
          "new_api": "details::make_unique<details::m_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::m_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::m_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": null,
          "new_api": "details::make_unique<details::d_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::d_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::d_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "details::make_unique<details::H_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::H_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::H_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": null,
          "new_api": "details::make_unique<details::I_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::I_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::I_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "details::make_unique<details::M_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::M_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::M_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": null,
          "new_api": "details::make_unique<details::S_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::S_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::S_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "details::make_unique<details::e_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::e_formatter>(padding)",
          "old_line_content": "        case ('F'):",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::e_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "details::make_unique<details::f_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::f_formatter>(padding)",
          "old_line_content": "        case ('E'):",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::f_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "details::make_unique<details::F_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::F_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::F_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "details::make_unique<details::E_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::E_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::E_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "details::make_unique<details::p_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::p_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::p_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "details::make_unique<details::r_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::r_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::r_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1072,
          "old_api": null,
          "new_api": "details::make_unique<details::R_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::R_formatter>(padding)",
          "old_line_content": "            break;",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::R_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "details::make_unique<details::T_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::T_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::T_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "details::make_unique<details::z_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::z_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::z_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "details::make_unique<details::full_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::full_formatter>(padding)",
          "old_line_content": "#ifdef SPDLOG_ENABLE_MESSAGE_COUNTER",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::full_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": null,
          "new_api": "details::make_unique<details::pid_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::pid_formatter>(padding)",
          "old_line_content": "#endif",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::pid_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "details::make_unique<details::i_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::i_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::i_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "details::make_unique<details::color_start_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::color_start_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::color_start_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "details::make_unique<details::color_stop_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::color_stop_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::color_stop_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "details::make_unique<details::aggregate_formatter>()",
          "old_text": null,
          "new_text": "details::make_unique<details::aggregate_formatter>()",
          "old_line_content": "    }",
          "new_line_content": "            auto unknown_flag = details::make_unique<details::aggregate_formatter>();",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "add_ch",
          "old_text": null,
          "new_text": "unknown_flag->add_ch('%')",
          "old_line_content": "",
          "new_line_content": "            unknown_flag->add_ch('%');",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "add_ch",
          "old_text": null,
          "new_text": "unknown_flag->add_ch(flag)",
          "old_line_content": "    // Extract given pad spec (e.g. %8X)",
          "new_line_content": "            unknown_flag->add_ch(flag);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "std::move(unknown_flag)",
          "old_text": null,
          "new_text": "std::move(unknown_flag)",
          "old_line_content": "    // Advance the given it pass the end of the padding spec found (if any)",
          "new_line_content": "            formatters_.push_back((std::move(unknown_flag)));",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "static_cast<unsigned char>(*it)",
          "old_text": null,
          "new_text": "static_cast<unsigned char>(*it)",
          "old_line_content": "    }",
          "new_line_content": "        for (++it; it != end && std::isdigit(static_cast<unsigned char>(*it)); ++it)",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "static_cast<size_t>(*it - '0')",
          "old_text": null,
          "new_text": "static_cast<size_t>(*it - '0')",
          "old_line_content": "    void compile_pattern_(const std::string &pattern)",
          "new_line_content": "            auto digit = static_cast<size_t>(*it - '0');",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "std::min<size_t>(width, max_width)",
          "old_text": null,
          "new_text": "std::min<size_t>(width, max_width)",
          "old_line_content": "        std::unique_ptr<details::aggregate_formatter> user_chars;",
          "new_line_content": "        return details::padding_info{std::min<size_t>(width, max_width), side};",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "pattern.end()",
          "old_line_content": "            {",
          "new_line_content": "        auto end = pattern.end();",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "formatters_.clear()",
          "old_line_content": "                {",
          "new_line_content": "        formatters_.clear();",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "std::move(user_chars)",
          "old_text": null,
          "new_text": "std::move(user_chars)",
          "old_line_content": "                {",
          "new_line_content": "                    formatters_.push_back(std::move(user_chars));",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "handle_padspec_",
          "old_text": null,
          "new_text": "handle_padspec_(++it, end)",
          "old_line_content": "                else",
          "new_line_content": "                auto padding = handle_padspec_(++it, end);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": null,
          "new_api": "handle_flag_",
          "old_text": null,
          "new_text": "handle_flag_(*it, padding)",
          "old_line_content": "            }",
          "new_line_content": "                    handle_flag_(*it, padding);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "details::make_unique<details::aggregate_formatter>()",
          "old_text": null,
          "new_text": "details::make_unique<details::aggregate_formatter>()",
          "old_line_content": "        {",
          "new_line_content": "                    user_chars = details::make_unique<details::aggregate_formatter>();",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": null,
          "new_api": "add_ch",
          "old_text": null,
          "new_text": "user_chars->add_ch(*it)",
          "old_line_content": "        }",
          "new_line_content": "                user_chars->add_ch(*it);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "std::move(user_chars)",
          "old_text": null,
          "new_text": "std::move(user_chars)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(std::move(user_chars));",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "fmt_helper::append_string_view(msg.payload, dest)",
          "old_text": null,
          "new_text": "fmt_helper::append_string_view(msg.payload, dest)",
          "old_line_content": "    }",
          "new_line_content": "            fmt_helper::append_string_view(msg.payload, dest);",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "fmt_helper::append_string_view(msg.payload, dest)",
          "old_text": null,
          "new_text": "fmt_helper::append_string_view(msg.payload, dest)",
          "old_line_content": "{",
          "new_line_content": "            fmt_helper::append_string_view(msg.payload, dest);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    {",
          "new_line_content": "    explicit ch_formatter(char ch)",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back(ch_)",
          "old_line_content": "",
          "new_line_content": "        dest.push_back(ch_);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "fmt_helper::append_string_view(str_, dest)",
          "old_text": null,
          "new_text": "fmt_helper::append_string_view(str_, dest)",
          "old_line_content": "",
          "new_line_content": "        fmt_helper::append_string_view(str_, dest);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    {",
          "new_line_content": "    explicit color_start_formatter(padding_info padinfo)",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    {",
          "new_line_content": "    explicit color_stop_formatter(padding_info padinfo)",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "dest.size()",
          "old_line_content": "class full_formatter final : public flag_formatter",
          "new_line_content": "        msg.color_range_end = dest.size();",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    {",
          "new_line_content": "    explicit full_formatter(padding_info padinfo)",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "cached_datetime_.size()",
          "old_line_content": "",
          "new_line_content": "        if (cache_timestamp_ != secs || cached_datetime_.size() == 0)",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "cached_datetime_.push_back('[')",
          "old_line_content": "",
          "new_line_content": "            cached_datetime_.push_back('[');",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "fmt_helper::pad2(tm_time.tm_min, cached_datetime_)",
          "old_text": null,
          "new_text": "fmt_helper::pad2(tm_time.tm_min, cached_datetime_)",
          "old_line_content": "            cache_timestamp_ = secs;",
          "new_line_content": "            fmt_helper::pad2(tm_time.tm_min, cached_datetime_);",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "cached_datetime_.push_back(':')",
          "old_line_content": "        }",
          "new_line_content": "            cached_datetime_.push_back(':');",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "fmt_helper::pad2(tm_time.tm_sec, cached_datetime_)",
          "old_text": null,
          "new_text": "fmt_helper::pad2(tm_time.tm_sec, cached_datetime_)",
          "old_line_content": "",
          "new_line_content": "            fmt_helper::pad2(tm_time.tm_sec, cached_datetime_);",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "fmt_helper::append_buf(cached_datetime_, dest)",
          "old_text": null,
          "new_text": "fmt_helper::append_buf(cached_datetime_, dest)",
          "old_line_content": "",
          "new_line_content": "        fmt_helper::append_buf(cached_datetime_, dest);",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": "fmt_helper::time_fraction<milliseconds>(msg.time)",
          "old_text": null,
          "new_text": "fmt_helper::time_fraction<milliseconds>(msg.time)",
          "old_line_content": "        (void)tm_time;",
          "new_line_content": "        auto millis = fmt_helper::time_fraction<milliseconds>(msg.time);",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "millis.count()",
          "old_line_content": "#endif",
          "new_line_content": "        fmt_helper::pad3(static_cast<uint32_t>(millis.count()), dest);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back(']')",
          "old_line_content": "",
          "new_line_content": "        dest.push_back(']');",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back(' ')",
          "old_line_content": "#ifndef SPDLOG_NO_NAME",
          "new_line_content": "        dest.push_back(' ');",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back('[')",
          "old_line_content": "#endif",
          "new_line_content": "            dest.push_back('[');",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back(']')",
          "old_line_content": "        // wrap the level name with color",
          "new_line_content": "            dest.push_back(']');",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "dest.size()",
          "old_line_content": "        // fmt_helper::append_string_view(msg.msg(), dest);",
          "new_line_content": "        msg.color_range_start = dest.size();",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "level::to_c_str(msg.level)",
          "old_text": null,
          "new_text": "level::to_c_str(msg.level)",
          "old_line_content": "    }",
          "new_line_content": "        fmt_helper::append_string_view(level::to_c_str(msg.level), dest);",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "dest.size()",
          "old_line_content": "",
          "new_line_content": "        msg.color_range_end = dest.size();",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back(']')",
          "old_line_content": "private:",
          "new_line_content": "        dest.push_back(']');",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "dest.push_back(' ')",
          "old_line_content": "    std::chrono::seconds cache_timestamp_{0};",
          "new_line_content": "        dest.push_back(' ');",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": null,
          "new_api": "fmt_helper::append_string_view(msg.payload, dest)",
          "old_text": null,
          "new_text": "fmt_helper::append_string_view(msg.payload, dest)",
          "old_line_content": "};",
          "new_line_content": "        fmt_helper::append_string_view(msg.payload, dest);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "    {",
          "new_line_content": "    explicit pattern_formatter(",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "std::move(eol)",
          "old_text": null,
          "new_text": "std::move(eol)",
          "old_line_content": "    }",
          "new_line_content": "        , eol_(std::move(eol))",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "old_text": null,
          "new_text": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "old_line_content": "        : pattern_(\"%+\")",
          "new_line_content": "        std::memset(&cached_tm_, 0, sizeof(cached_tm_));",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "std::move(eol)",
          "old_text": null,
          "new_text": "std::move(eol)",
          "old_line_content": "    }",
          "new_line_content": "        , eol_(std::move(eol))",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": null,
          "new_api": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "old_text": null,
          "new_text": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "old_line_content": "",
          "new_line_content": "        std::memset(&cached_tm_, 0, sizeof(cached_tm_));",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": null,
          "new_api": "details::make_unique<details::full_formatter>(details::padding_info{})",
          "old_text": null,
          "new_text": "details::make_unique<details::full_formatter>(details::padding_info{})",
          "old_line_content": "    std::unique_ptr<formatter> clone() const override",
          "new_line_content": "        formatters_.push_back(details::make_unique<details::full_formatter>(details::padding_info{}));",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "time_since_epoch",
          "old_text": null,
          "new_text": "msg.time.time_since_epoch()",
          "old_line_content": "#endif",
          "new_line_content": "        auto secs = std::chrono::duration_cast<std::chrono::seconds>(msg.time.time_since_epoch());",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": null,
          "new_api": "format",
          "old_text": null,
          "new_text": "f->format(msg, cached_tm_, dest)",
          "old_line_content": "private:",
          "new_line_content": "            f->format(msg, cached_tm_, dest);",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "details::fmt_helper::append_string_view(eol_, dest)",
          "old_text": null,
          "new_text": "details::fmt_helper::append_string_view(eol_, dest)",
          "old_line_content": "    pattern_time_type pattern_time_type_;",
          "new_line_content": "        details::fmt_helper::append_string_view(eol_, dest);",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": null,
          "new_api": "log_clock::to_time_t(msg.time)",
          "old_text": null,
          "new_text": "log_clock::to_time_t(msg.time)",
          "old_line_content": "    {",
          "new_line_content": "            return details::os::localtime(log_clock::to_time_t(msg.time));",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "log_clock::to_time_t(msg.time)",
          "old_text": null,
          "new_text": "log_clock::to_time_t(msg.time)",
          "old_line_content": "        {",
          "new_line_content": "        return details::os::gmtime(log_clock::to_time_t(msg.time));",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "details::make_unique<details::name_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::name_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::name_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "details::make_unique<details::level_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::level_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::level_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "details::make_unique<details::short_level_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::short_level_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::short_level_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "details::make_unique<details::t_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::t_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::t_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "details::make_unique<details::v_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::v_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::v_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": null,
          "new_api": "details::make_unique<details::a_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::a_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::a_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": null,
          "new_api": "details::make_unique<details::A_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::A_formatter>(padding)",
          "old_line_content": "            break;",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::A_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "details::make_unique<details::b_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::b_formatter>(padding)",
          "old_line_content": "        case ('c'):",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::b_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "details::make_unique<details::B_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::B_formatter>(padding)",
          "old_line_content": "        case ('C'):",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::B_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "details::make_unique<details::c_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::c_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::c_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "details::make_unique<details::C_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::C_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::C_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "details::make_unique<details::Y_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::Y_formatter>(padding)",
          "old_line_content": "            break;",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::Y_formatter>(padding));",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "details::make_unique<details::D_formatter>(padding)",
          "old_text": null,
          "new_text": "details::make_unique<details::D_formatter>(padding)",
          "old_line_content": "",
          "new_line_content": "            formatters_.push_back(details::make_unique<details::D_formatter>(padding));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1027,
          "old_api": "details::make_unique<details::H_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::H_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::H_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "details::make_unique<details::I_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::I_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::I_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "details::make_unique<details::M_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::M_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::M_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "details::make_unique<details::S_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::S_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::S_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "details::make_unique<details::e_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::e_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::e_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "details::make_unique<details::f_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::f_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::f_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "details::make_unique<details::F_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::F_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::F_formatter>(padding));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "details::make_unique<details::E_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::E_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::E_formatter>(padding));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "details::make_unique<details::p_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::p_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::p_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "details::make_unique<details::r_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::r_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::r_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "details::make_unique<details::R_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::R_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::R_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "details::make_unique<details::T_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::T_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::T_formatter>(padding));",
          "new_line_content": "        case ('R'):",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "details::make_unique<details::z_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::z_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::z_formatter>(padding));",
          "new_line_content": "        case ('T'):",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "details::make_unique<details::full_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::full_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::full_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": "details::make_unique<details::pid_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::pid_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::pid_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "details::make_unique<details::i_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::i_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::i_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "details::make_unique<details::color_start_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::color_start_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::color_start_formatter>(padding));",
          "new_line_content": "#ifdef SPDLOG_ENABLE_MESSAGE_COUNTER",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "details::make_unique<details::color_stop_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::color_stop_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::color_stop_formatter>(padding));",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "details::make_unique<details::ch_formatter>('%')",
          "new_api": null,
          "old_text": "details::make_unique<details::ch_formatter>('%')",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::ch_formatter>('%'));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "details::make_unique<details::aggregate_formatter>()",
          "new_api": null,
          "old_text": "details::make_unique<details::aggregate_formatter>()",
          "new_text": null,
          "old_line_content": "            auto unknown_flag = details::make_unique<details::aggregate_formatter>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "add_ch",
          "new_api": null,
          "old_text": "unknown_flag->add_ch('%')",
          "new_text": null,
          "old_line_content": "            unknown_flag->add_ch('%');",
          "new_line_content": "        case ('%'):",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "std::move(unknown_flag)",
          "new_api": null,
          "old_text": "std::move(unknown_flag)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back((std::move(unknown_flag)));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "static_cast<unsigned char>(*it)",
          "new_api": null,
          "old_text": "static_cast<unsigned char>(*it)",
          "new_text": null,
          "old_line_content": "        if (it == end || !std::isdigit(static_cast<unsigned char>(*it)))",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "static_cast<size_t>(*it - '0')",
          "new_api": null,
          "old_text": "static_cast<size_t>(*it - '0')",
          "new_text": null,
          "old_line_content": "        auto width = static_cast<size_t>(*it - '0');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "static_cast<size_t>(*it - '0')",
          "new_api": null,
          "old_text": "static_cast<size_t>(*it - '0')",
          "new_text": null,
          "old_line_content": "            auto digit = static_cast<size_t>(*it - '0');",
          "new_line_content": "            return padding_info{0, side};",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "end",
          "new_api": null,
          "old_text": "pattern.end()",
          "new_text": null,
          "old_line_content": "        auto end = pattern.end();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "clear",
          "new_api": null,
          "old_text": "formatters_.clear()",
          "new_text": null,
          "old_line_content": "        formatters_.clear();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "begin",
          "new_api": null,
          "old_text": "pattern.begin()",
          "new_text": null,
          "old_line_content": "        for (auto it = pattern.begin(); it != end; ++it)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "handle_padspec_",
          "new_api": null,
          "old_text": "handle_padspec_(++it, end)",
          "new_text": null,
          "old_line_content": "                auto padding = handle_padspec_(++it, end);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "handle_flag_",
          "new_api": null,
          "old_text": "handle_flag_(*it, padding)",
          "new_text": null,
          "old_line_content": "                    handle_flag_(*it, padding);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "details::make_unique<details::aggregate_formatter>()",
          "new_api": null,
          "old_text": "details::make_unique<details::aggregate_formatter>()",
          "new_text": null,
          "old_line_content": "                    user_chars = details::make_unique<details::aggregate_formatter>();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "add_ch",
          "new_api": null,
          "old_text": "user_chars->add_ch(*it)",
          "new_text": null,
          "old_line_content": "                user_chars->add_ch(*it);",
          "new_line_content": "            else // chars not following the % sign should be displayed as is",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "std::move(user_chars)",
          "new_api": null,
          "old_text": "std::move(user_chars)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(std::move(user_chars));",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "fmt_helper::append_string_view(msg.payload, dest)",
          "new_api": null,
          "old_text": "fmt_helper::append_string_view(msg.payload, dest)",
          "new_text": null,
          "old_line_content": "        fmt_helper::append_string_view(msg.payload, dest);",
          "new_line_content": "            scoped_pad p(msg.payload, padinfo_, dest);",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "    explicit ch_formatter(char ch)",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dest.push_back(ch_)",
          "new_text": null,
          "old_line_content": "        dest.push_back(ch_);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "fmt_helper::append_string_view(str_, dest)",
          "new_api": null,
          "old_text": "fmt_helper::append_string_view(str_, dest)",
          "new_text": null,
          "old_line_content": "        fmt_helper::append_string_view(str_, dest);",
          "new_line_content": "    void add_ch(char ch)",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "    explicit color_start_formatter(padding_info padinfo)",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "size",
          "new_api": null,
          "old_text": "dest.size()",
          "new_text": null,
          "old_line_content": "        msg.color_range_start = dest.size();",
          "new_line_content": "        : flag_formatter(padinfo)",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "size",
          "new_api": null,
          "old_text": "dest.size()",
          "new_text": null,
          "old_line_content": "        msg.color_range_end = dest.size();",
          "new_line_content": "        : flag_formatter(padinfo)",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "    explicit full_formatter(padding_info padinfo)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "time_since_epoch",
          "new_api": null,
          "old_text": "msg.time.time_since_epoch()",
          "new_text": null,
          "old_line_content": "        auto duration = msg.time.time_since_epoch();",
          "new_line_content": "        using std::chrono::milliseconds;",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "duration_cast<seconds>(duration)",
          "new_api": null,
          "old_text": "duration_cast<seconds>(duration)",
          "new_text": null,
          "old_line_content": "        auto secs = duration_cast<seconds>(duration);",
          "new_line_content": "        using std::chrono::seconds;",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "size",
          "new_api": null,
          "old_text": "cached_datetime_.size()",
          "new_text": null,
          "old_line_content": "        if (cache_timestamp_ != secs || cached_datetime_.size() == 0)",
          "new_line_content": "#ifndef SPDLOG_NO_DATETIME",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "clear",
          "new_api": null,
          "old_text": "cached_datetime_.clear()",
          "new_text": null,
          "old_line_content": "            cached_datetime_.clear();",
          "new_line_content": "        // cache the date/time part for the next second.",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "cached_datetime_.push_back('-')",
          "new_text": null,
          "old_line_content": "            cached_datetime_.push_back('-');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "fmt_helper::pad2(tm_time.tm_mon + 1, cached_datetime_)",
          "new_api": null,
          "old_text": "fmt_helper::pad2(tm_time.tm_mon + 1, cached_datetime_)",
          "new_text": null,
          "old_line_content": "            fmt_helper::pad2(tm_time.tm_mon + 1, cached_datetime_);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "fmt_helper::append_buf(cached_datetime_, dest)",
          "new_api": null,
          "old_text": "fmt_helper::append_buf(cached_datetime_, dest)",
          "new_text": null,
          "old_line_content": "        fmt_helper::append_buf(cached_datetime_, dest);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "count",
          "new_api": null,
          "old_text": "millis.count()",
          "new_text": null,
          "old_line_content": "        fmt_helper::pad3(static_cast<uint32_t>(millis.count()), dest);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dest.push_back(']')",
          "new_text": null,
          "old_line_content": "        dest.push_back(']');",
          "new_line_content": "            cache_timestamp_ = secs;",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dest.push_back(' ')",
          "new_text": null,
          "old_line_content": "        dest.push_back(' ');",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "empty",
          "new_api": null,
          "old_text": "msg.logger_name->empty()",
          "new_text": null,
          "old_line_content": "        if (!msg.logger_name->empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dest.push_back('[')",
          "new_text": null,
          "old_line_content": "            dest.push_back('[');",
          "new_line_content": "        (void)tm_time;",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "fmt_helper::append_string_view(*msg.logger_name, dest)",
          "new_api": null,
          "old_text": "fmt_helper::append_string_view(*msg.logger_name, dest)",
          "new_text": null,
          "old_line_content": "            fmt_helper::append_string_view(*msg.logger_name, dest);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dest.push_back(']')",
          "new_text": null,
          "old_line_content": "            dest.push_back(']');",
          "new_line_content": "#ifndef SPDLOG_NO_NAME",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "level::to_c_str(msg.level)",
          "new_api": null,
          "old_text": "level::to_c_str(msg.level)",
          "new_text": null,
          "old_line_content": "        fmt_helper::append_string_view(level::to_c_str(msg.level), dest);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "size",
          "new_api": null,
          "old_text": "dest.size()",
          "new_text": null,
          "old_line_content": "        msg.color_range_end = dest.size();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "dest.push_back(' ')",
          "new_text": null,
          "old_line_content": "        dest.push_back(' ');",
          "new_line_content": "        // wrap the level name with color",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "fmt_helper::append_string_view(msg.payload, dest)",
          "new_api": null,
          "old_text": "fmt_helper::append_string_view(msg.payload, dest)",
          "new_text": null,
          "old_line_content": "        fmt_helper::append_string_view(msg.payload, dest);",
          "new_line_content": "        // fmt_helper::append_string_view(level::to_c_str(msg.level), dest);",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "    explicit pattern_formatter(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "std::move(pattern)",
          "new_api": null,
          "old_text": "std::move(pattern)",
          "new_text": null,
          "old_line_content": "        : pattern_(std::move(pattern))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "std::move(eol)",
          "new_api": null,
          "old_text": "std::move(eol)",
          "new_text": null,
          "old_line_content": "        , eol_(std::move(eol))",
          "new_line_content": "class pattern_formatter final : public formatter",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "new_api": null,
          "old_text": "std::memset(&cached_tm_, 0, sizeof(cached_tm_))",
          "new_text": null,
          "old_line_content": "        std::memset(&cached_tm_, 0, sizeof(cached_tm_));",
          "new_line_content": "        std::string pattern, pattern_time_type time_type = pattern_time_type::local, std::string eol = spdlog::details::os::default_eol)",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "    explicit pattern_formatter(pattern_time_type time_type = pattern_time_type::local, std::string eol = spdlog::details::os::default_eol)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "details::make_unique<details::full_formatter>(details::padding_info{})",
          "new_api": null,
          "old_text": "details::make_unique<details::full_formatter>(details::padding_info{})",
          "new_text": null,
          "old_line_content": "        formatters_.push_back(details::make_unique<details::full_formatter>(details::padding_info{}));",
          "new_line_content": "        : pattern_(\"%+\")",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "details::make_unique<pattern_formatter>(pattern_, pattern_time_type_, eol_)",
          "new_api": null,
          "old_text": "details::make_unique<pattern_formatter>(pattern_, pattern_time_type_, eol_)",
          "new_text": null,
          "old_line_content": "        return details::make_unique<pattern_formatter>(pattern_, pattern_time_type_, eol_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "get_time_",
          "new_api": null,
          "old_text": "get_time_(msg)",
          "new_text": null,
          "old_line_content": "            cached_tm_ = get_time_(msg);",
          "new_line_content": "    void format(const details::log_msg &msg, fmt::memory_buffer &dest) override",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": "details::fmt_helper::append_string_view(eol_, dest)",
          "new_api": null,
          "old_text": "details::fmt_helper::append_string_view(eol_, dest)",
          "new_text": null,
          "old_line_content": "        details::fmt_helper::append_string_view(eol_, dest);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "log_clock::to_time_t(msg.time)",
          "new_api": null,
          "old_text": "log_clock::to_time_t(msg.time)",
          "new_text": null,
          "old_line_content": "            return details::os::localtime(log_clock::to_time_t(msg.time));",
          "new_line_content": "    std::vector<std::unique_ptr<details::flag_formatter>> formatters_;",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "log_clock::to_time_t(msg.time)",
          "new_api": null,
          "old_text": "log_clock::to_time_t(msg.time)",
          "new_text": null,
          "old_line_content": "        return details::os::gmtime(log_clock::to_time_t(msg.time));",
          "new_line_content": "    std::tm get_time_(const details::log_msg &msg)",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "details::make_unique<details::name_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::name_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::name_formatter>(padding));",
          "new_line_content": "    void handle_flag_(char flag, details::padding_info padding)",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "details::make_unique<details::level_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::level_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::level_formatter>(padding));",
          "new_line_content": "        // logger name",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "details::make_unique<details::short_level_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::short_level_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::short_level_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "details::make_unique<details::t_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::t_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::t_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "details::make_unique<details::v_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::v_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::v_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "details::make_unique<details::a_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::a_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::a_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "details::make_unique<details::A_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::A_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::A_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "details::make_unique<details::b_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::b_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::b_formatter>(padding));",
          "new_line_content": "        case ('A'):",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "details::make_unique<details::B_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::B_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::B_formatter>(padding));",
          "new_line_content": "        case ('b'):",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "details::make_unique<details::c_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::c_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::c_formatter>(padding));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "details::make_unique<details::C_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::C_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::C_formatter>(padding));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "details::make_unique<details::Y_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::Y_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::Y_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "details::make_unique<details::D_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::D_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::D_formatter>(padding));",
          "new_line_content": "        case ('Y'):",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "details::make_unique<details::m_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::m_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::m_formatter>(padding));",
          "new_line_content": "        case ('D'):",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "details::make_unique<details::d_formatter>(padding)",
          "new_api": null,
          "old_text": "details::make_unique<details::d_formatter>(padding)",
          "new_text": null,
          "old_line_content": "            formatters_.push_back(details::make_unique<details::d_formatter>(padding));",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 20,
      "total_additions": 86,
      "total_deletions": 85,
      "total_api_changes": 191
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 191,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          736,
          737,
          739,
          732,
          735
        ]
      }
    },
    "api_calls_before": 296,
    "api_calls_after": 297,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 2,
      "total_diff_lines": 22
    }
  }
}