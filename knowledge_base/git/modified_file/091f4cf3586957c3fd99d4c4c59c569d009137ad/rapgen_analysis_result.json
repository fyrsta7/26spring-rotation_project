{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/091f4cf3586957c3fd99d4c4c59c569d009137ad",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/091f4cf3586957c3fd99d4c4c59c569d009137ad/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/091f4cf3586957c3fd99d4c4c59c569d009137ad/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/git/modified_file/091f4cf3586957c3fd99d4c4c59c569d009137ad/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 825,
          "old_api": "prio_queue_put",
          "new_api": "commit_list_append",
          "old_text": "prio_queue_put(&queue, one)",
          "new_text": "commit_list_append(one, &result)",
          "old_line_content": "\tprio_queue_put(&queue, one);",
          "new_line_content": "\t\tcommit_list_append(one, &result);",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "queue_has_nonstale",
          "new_api": "prio_queue_put",
          "old_text": "queue_has_nonstale(&queue)",
          "new_text": "prio_queue_put(&queue, twos[i])",
          "old_line_content": "\twhile (queue_has_nonstale(&queue)) {",
          "new_line_content": "\t\tprio_queue_put(&queue, twos[i]);",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "prio_queue_put",
          "new_api": "parse_commit",
          "old_text": "prio_queue_put(&queue, p)",
          "new_text": "parse_commit(p)",
          "old_line_content": "\t\t\tprio_queue_put(&queue, p);",
          "new_line_content": "\t\t\tif (parse_commit(p))",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "parse_commit",
          "new_api": "commit_list_insert",
          "old_text": "parse_commit(one)",
          "new_text": "commit_list_insert(one, &result)",
          "old_line_content": "\tif (parse_commit(one))",
          "new_line_content": "\t\t\treturn commit_list_insert(one, &result);",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "pop_commit",
          "new_api": "paint_down_to_common",
          "old_text": "pop_commit(&list)",
          "new_text": "paint_down_to_common(one, n, twos, 0)",
          "old_line_content": "\t\tstruct commit *commit = pop_commit(&list);",
          "new_line_content": "\tlist = paint_down_to_common(one, n, twos, 0);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "parse_commit",
          "new_api": "ALLOC_ARRAY",
          "old_text": "parse_commit(array[i])",
          "new_text": "ALLOC_ARRAY(filled_index, cnt - 1)",
          "old_line_content": "\t\tparse_commit(array[i]);",
          "new_line_content": "\tALLOC_ARRAY(filled_index, cnt - 1);",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "free_commit_list",
          "new_api": "xcalloc",
          "old_text": "free_commit_list(result)",
          "new_text": "xcalloc(cnt, sizeof(*rslt))",
          "old_line_content": "\tfree_commit_list(result);",
          "new_line_content": "\trslt = xcalloc(cnt, sizeof(*rslt));",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "clear_commit_marks_many",
          "new_api": "free_commit_list",
          "old_text": "clear_commit_marks_many(n, twos, all_flags)",
          "new_text": "free_commit_list(result)",
          "old_line_content": "\tclear_commit_marks_many(n, twos, all_flags);",
          "new_line_content": "\tfree_commit_list(result);",
          "content_same": false
        },
        {
          "line": 1024,
          "old_api": "remove_redundant",
          "new_api": "clear_commit_marks",
          "old_text": "remove_redundant(rslt, cnt)",
          "new_text": "clear_commit_marks(one, all_flags)",
          "old_line_content": "\tcnt = remove_redundant(rslt, cnt);",
          "new_line_content": "\tclear_commit_marks(one, all_flags);",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "commit_list_insert_by_date",
          "new_api": "remove_redundant",
          "old_text": "commit_list_insert_by_date(rslt[i], &result)",
          "new_text": "remove_redundant(rslt, cnt)",
          "old_line_content": "\t\tcommit_list_insert_by_date(rslt[i], &result);",
          "new_line_content": "\tcnt = remove_redundant(rslt, cnt);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "clear_commit_marks",
          "new_api": "paint_down_to_common",
          "old_text": "clear_commit_marks(commit, all_flags)",
          "new_text": "paint_down_to_common(commit, nr_reference, reference, commit->generation)",
          "old_line_content": "\tclear_commit_marks(commit, all_flags);",
          "new_line_content": "\tbases = paint_down_to_common(commit, nr_reference, reference, commit->generation);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "free",
          "new_api": "remove_redundant",
          "old_text": "free(array)",
          "new_text": "remove_redundant(array, num_head)",
          "old_line_content": "\tfree(array);",
          "new_line_content": "\tnum_head = remove_redundant(array, num_head);",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "read_sha1_file",
          "new_api": "merge_remote_util",
          "old_text": "read_sha1_file(desc->obj->oid.hash, &type, &size)",
          "new_text": "merge_remote_util(parent)",
          "old_line_content": "\tbuf = read_sha1_file(desc->obj->oid.hash, &type, &size);",
          "new_line_content": "\tdesc = merge_remote_util(parent);",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": "parse_signature",
          "new_api": "read_sha1_file",
          "old_text": "parse_signature(buf, size)",
          "new_text": "read_sha1_file(desc->obj->oid.hash, &type, &size)",
          "old_line_content": "\tlen = parse_signature(buf, size);",
          "new_line_content": "\tbuf = read_sha1_file(desc->obj->oid.hash, &type, &size);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "memchr",
          "new_api": "strbuf_reset",
          "old_text": "memchr(line, ' ', next - line)",
          "new_text": "strbuf_reset(&buf)",
          "old_line_content": "\t\teof = memchr(line, ' ', next - line);",
          "new_line_content": "\t\tstrbuf_reset(&buf);",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "standard_header_field",
          "new_api": "memchr",
          "old_text": "standard_header_field(line, eof - line)",
          "new_text": "memchr(line, ' ', next - line)",
          "old_line_content": "\t\telse if (standard_header_field(line, eof - line) ||",
          "new_line_content": "\t\teof = memchr(line, ' ', next - line);",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "xcalloc",
          "new_api": "excluded_header_field",
          "old_text": "xcalloc(1, sizeof(*it))",
          "new_text": "excluded_header_field(line, eof - line, exclude)",
          "old_line_content": "\t\tit = xcalloc(1, sizeof(*it));",
          "new_line_content": "\t\t\t excluded_header_field(line, eof - line, exclude))",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "strbuf_detach",
          "new_api": "strbuf_add",
          "old_text": "strbuf_detach(&buf, &it->len)",
          "new_text": "strbuf_add(&buf, eof + 1, next - (eof + 1))",
          "old_line_content": "\t\tit->value = strbuf_detach(&buf, &it->len);",
          "new_line_content": "\t\t\tstrbuf_add(&buf, eof + 1, next - (eof + 1));",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": "free_commit_extra_headers",
          "new_api": "append_merge_tag_headers",
          "old_text": "free_commit_extra_headers(extra)",
          "new_text": "append_merge_tag_headers(parents, &tail)",
          "old_line_content": "\tfree_commit_extra_headers(extra);",
          "new_line_content": "\tappend_merge_tag_headers(parents, &tail);",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "error",
          "new_api": "assert_sha1_type",
          "old_text": "error(\"a NUL byte in commit log message not allowed.\")",
          "new_text": "assert_sha1_type(tree->hash, OBJ_TREE)",
          "old_line_content": "\t\treturn error(\"a NUL byte in commit log message not allowed.\");",
          "new_line_content": "\tassert_sha1_type(tree->hash, OBJ_TREE);",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "is_encoding_utf8",
          "new_api": "error",
          "old_text": "is_encoding_utf8(git_commit_encoding)",
          "new_text": "error(\"a NUL byte in commit log message not allowed.\")",
          "old_line_content": "\tencoding_is_utf8 = is_encoding_utf8(git_commit_encoding);",
          "new_line_content": "\t\treturn error(\"a NUL byte in commit log message not allowed.\");",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "oid_to_hex",
          "new_api": "is_encoding_utf8",
          "old_text": "oid_to_hex(tree)",
          "new_text": "is_encoding_utf8(git_commit_encoding)",
          "old_line_content": "\tstrbuf_addf(&buffer, \"tree %s\\n\", oid_to_hex(tree));",
          "new_line_content": "\tencoding_is_utf8 = is_encoding_utf8(git_commit_encoding);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "add_extra_header",
          "new_api": "strbuf_addf",
          "old_text": "add_extra_header(&buffer, extra)",
          "new_text": "strbuf_addf(&buffer, \"encoding %s\\n\", git_commit_encoding)",
          "old_line_content": "\t\tadd_extra_header(&buffer, extra);",
          "new_line_content": "\t\tstrbuf_addf(&buffer, \"encoding %s\\n\", git_commit_encoding);",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "strbuf_addch",
          "new_api": "add_extra_header",
          "old_text": "strbuf_addch(&buffer, '\\n')",
          "new_text": "add_extra_header(&buffer, extra)",
          "old_line_content": "\tstrbuf_addch(&buffer, '\\n');",
          "new_line_content": "\t\tadd_extra_header(&buffer, extra);",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "strbuf_add",
          "new_api": "strbuf_addch",
          "old_text": "strbuf_add(&buffer, msg, msg_len)",
          "new_text": "strbuf_addch(&buffer, '\\n')",
          "old_line_content": "\tstrbuf_add(&buffer, msg, msg_len);",
          "new_line_content": "\tstrbuf_addch(&buffer, '\\n');",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "verify_utf8",
          "new_api": "strbuf_add",
          "old_text": "verify_utf8(&buffer)",
          "new_text": "strbuf_add(&buffer, msg, msg_len)",
          "old_line_content": "\tif (encoding_is_utf8 && !verify_utf8(&buffer))",
          "new_line_content": "\tstrbuf_add(&buffer, msg, msg_len);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "do_sign_commit",
          "new_api": "verify_utf8",
          "old_text": "do_sign_commit(&buffer, sign_commit)",
          "new_text": "verify_utf8(&buffer)",
          "old_line_content": "\tif (sign_commit && do_sign_commit(&buffer, sign_commit)) {",
          "new_line_content": "\tif (encoding_is_utf8 && !verify_utf8(&buffer))",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "peel_to_type",
          "new_api": "get_oid",
          "old_text": "peel_to_type(name, 0, obj, OBJ_COMMIT)",
          "new_text": "get_oid(name, &oid)",
          "old_line_content": "\tcommit = (struct commit *)peel_to_type(name, 0, obj, OBJ_COMMIT);",
          "new_line_content": "\tif (get_oid(name, &oid))",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "set_merge_remote_desc",
          "new_api": "parse_object",
          "old_text": "set_merge_remote_desc(commit, name, obj)",
          "new_text": "parse_object(&oid)",
          "old_line_content": "\t\tset_merge_remote_desc(commit, name, obj);",
          "new_line_content": "\tobj = parse_object(&oid);",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "memchr",
          "new_api": "wt_status_locate_end",
          "old_text": "memchr(buf + bol, '\\n', len - bol)",
          "new_text": "wt_status_locate_end(buf, len)",
          "old_line_content": "\t\tconst char *next_line = memchr(buf + bol, '\\n', len - bol);",
          "new_line_content": "\tsize_t cutoff = wt_status_locate_end(buf, len);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1025,
          "old_api": null,
          "new_api": "clear_commit_marks_many",
          "old_text": null,
          "new_text": "clear_commit_marks_many(n, twos, all_flags)",
          "old_line_content": "\tresult = NULL;",
          "new_line_content": "\tclear_commit_marks_many(n, twos, all_flags);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "commit_list_insert_by_date",
          "old_text": null,
          "new_text": "commit_list_insert_by_date(rslt[i], &result)",
          "old_line_content": "}",
          "new_line_content": "\t\tcommit_list_insert_by_date(rslt[i], &result);",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(rslt)",
          "old_line_content": "",
          "new_line_content": "\tfree(rslt);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "get_merge_bases_many_0",
          "old_text": null,
          "new_text": "get_merge_bases_many_0(one, n, twos, 1)",
          "old_line_content": "struct commit_list *get_merge_bases_many_dirty(struct commit *one,",
          "new_line_content": "\treturn get_merge_bases_many_0(one, n, twos, 1);",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": null,
          "new_api": "find_invalid_utf8",
          "old_text": null,
          "new_text": "find_invalid_utf8(buf->buf + pos, buf->len - pos)",
          "old_line_content": "\t\tpos += bad;",
          "new_line_content": "\t\tbad = find_invalid_utf8(buf->buf + pos, buf->len - pos);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "get_merge_bases_many_0",
          "old_text": null,
          "new_text": "get_merge_bases_many_0(one, n, twos, 0)",
          "old_line_content": "struct commit_list *get_merge_bases(struct commit *one, struct commit *two)",
          "new_line_content": "\treturn get_merge_bases_many_0(one, n, twos, 0);",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "strbuf_remove",
          "old_text": null,
          "new_text": "strbuf_remove(buf, pos, 1)",
          "old_line_content": "\t\treplace[0] = 0xc0 + (c >> 6);",
          "new_line_content": "\t\tstrbuf_remove(buf, pos, 1);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "get_merge_bases_many_0",
          "old_text": null,
          "new_text": "get_merge_bases_many_0(one, 1, &two, 1)",
          "old_line_content": "/*",
          "new_line_content": "\treturn get_merge_bases_many_0(one, 1, &two, 1);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "strbuf_insert",
          "old_text": null,
          "new_text": "strbuf_insert(buf, pos, replace, 2)",
          "old_line_content": "}",
          "new_line_content": "\t\tstrbuf_insert(buf, pos, replace, 2);",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "N_",
          "old_text": null,
          "new_text": "N_(\"Warning: commit message did not conform to UTF-8.\\n\"\n   \"You may want to amend it after fixing the message, or set the config\\n\"\n   \"variable i18n.commitencoding to the encoding your project uses.\\n\")",
          "old_line_content": "",
          "new_line_content": "N_(\"Warning: commit message did not conform to UTF-8.\\n\"",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "in_merge_bases",
          "old_text": null,
          "new_text": "in_merge_bases(other, commit)",
          "old_line_content": "\treturn 0;",
          "new_line_content": "\t\tif (in_merge_bases(other, commit))",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(msg, '\\0', msg_len)",
          "old_line_content": "\t/* Not having i18n.commitencoding is the same as having utf-8 */",
          "new_line_content": "\tif (memchr(msg, '\\0', msg_len))",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "strbuf_init",
          "old_text": null,
          "new_text": "strbuf_init(&buffer, 8192)",
          "old_line_content": "\t/*",
          "new_line_content": "\tstrbuf_init(&buffer, 8192); /* should avoid reallocs for the headers */",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(reference[i])",
          "old_line_content": "\t\t\tmin_generation = reference[i]->generation;",
          "new_line_content": "\t\tif (parse_commit(reference[i]))",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(tree)",
          "old_line_content": "\t * NOTE! This ordering means that the same exact tree merged with a",
          "new_line_content": "\tstrbuf_addf(&buffer, \"tree %s\\n\", oid_to_hex(tree));",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&parents)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstruct commit *parent = pop_commit(&parents);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "strbuf_addf",
          "old_text": null,
          "new_text": "strbuf_addf(&buffer, \"parent %s\\n\",\n\t\t\t    oid_to_hex(&parent->object.oid))",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_addf(&buffer, \"parent %s\\n\",",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&parent->object.oid)",
          "old_line_content": "\t/* Person/date information */",
          "new_line_content": "\t\t\t    oid_to_hex(&parent->object.oid));",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(commit, all_flags)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tclear_commit_marks(commit, all_flags);",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "clear_commit_marks_many",
          "old_text": null,
          "new_text": "clear_commit_marks_many(nr_reference, reference, all_flags)",
          "old_line_content": "}",
          "new_line_content": "\tclear_commit_marks_many(nr_reference, reference, all_flags);",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(bases)",
          "old_line_content": "",
          "new_line_content": "\tfree_commit_list(bases);",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": null,
          "new_api": "git_author_info",
          "old_text": null,
          "new_text": "git_author_info(IDENT_STRICT)",
          "old_line_content": "\tif (!encoding_is_utf8)",
          "new_line_content": "\t\tauthor = git_author_info(IDENT_STRICT);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "git_committer_info",
          "old_text": null,
          "new_text": "git_committer_info(IDENT_STRICT)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_addf(&buffer, \"committer %s\\n\", git_committer_info(IDENT_STRICT));",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "in_merge_bases_many",
          "old_text": null,
          "new_text": "in_merge_bases_many(commit, 1, &reference)",
          "old_line_content": "struct commit_list *reduce_heads(struct commit_list *heads)",
          "new_line_content": "\treturn in_merge_bases_many(commit, 1, &reference);",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(commit_utf8_warn)",
          "old_line_content": "\t\tresult = -1;",
          "new_line_content": "\t\tfprintf(stderr, _(commit_utf8_warn));",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": null,
          "new_api": "do_sign_commit",
          "old_text": null,
          "new_text": "do_sign_commit(&buffer, sign_commit)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (sign_commit && do_sign_commit(&buffer, sign_commit)) {",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": null,
          "new_api": "write_object_file",
          "old_text": null,
          "new_text": "write_object_file(buffer.buf, buffer.len, commit_type, ret)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tresult = write_object_file(buffer.buf, buffer.len, commit_type, ret);",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&buffer)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&buffer);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(num_head, sizeof(*array))",
          "old_line_content": "\t\t\tarray[i++] = p->item;",
          "new_line_content": "\tarray = xcalloc(num_head, sizeof(*array));",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "FLEX_ALLOC_STR",
          "old_text": null,
          "new_text": "FLEX_ALLOC_STR(desc, name, name)",
          "old_line_content": "}",
          "new_line_content": "\tFLEX_ALLOC_STR(desc, name, name);",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(array[i], tail)",
          "old_line_content": "}",
          "new_line_content": "\t\ttail = &commit_list_insert(array[i], tail)->next;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(array)",
          "old_line_content": "",
          "new_line_content": "\tfree(array);",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "reduce_heads",
          "old_text": null,
          "new_text": "reduce_heads(*heads)",
          "old_line_content": "}",
          "new_line_content": "\tstruct commit_list *result = reduce_heads(*heads);",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "peel_to_type",
          "old_text": null,
          "new_text": "peel_to_type(name, 0, obj, OBJ_COMMIT)",
          "old_line_content": "\treturn commit;",
          "new_line_content": "\tcommit = (struct commit *)peel_to_type(name, 0, obj, OBJ_COMMIT);",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(*heads)",
          "old_line_content": "",
          "new_line_content": "\tfree_commit_list(*heads);",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "set_merge_remote_desc",
          "old_text": null,
          "new_text": "set_merge_remote_desc(commit, name, obj)",
          "old_line_content": "",
          "new_line_content": "\t\tset_merge_remote_desc(commit, name, obj);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(buf->buf, \"\\n\\n\")",
          "old_line_content": "\telse",
          "new_line_content": "\teoh = strstr(buf->buf, \"\\n\\n\");",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "get_signing_key",
          "old_text": null,
          "new_text": "get_signing_key()",
          "old_line_content": "\t\treturn -1;",
          "new_line_content": "\t\tkeyid = get_signing_key();",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "sign_buffer",
          "old_text": null,
          "new_text": "sign_buffer(buf, &sig, keyid)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (sign_buffer(buf, &sig, keyid)) {",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sig)",
          "old_line_content": "",
          "new_line_content": "\t\tstrbuf_release(&sig);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "xmalloc",
          "old_text": null,
          "new_text": "xmalloc(sizeof(struct commit_list))",
          "old_line_content": "\tnew_commit->next = NULL;",
          "new_line_content": "\tstruct commit_list *new_commit = xmalloc(sizeof(struct commit_list));",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "strchrnul",
          "old_text": null,
          "new_text": "strchrnul(bol, '\\n')",
          "old_line_content": "\t\tif (!copypos) {",
          "new_line_content": "\t\tconst char *eol = strchrnul(bol, '\\n');",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(key)",
          "old_line_content": "\twhile (line) {",
          "new_line_content": "\tint key_len = strlen(key);",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": null,
          "new_api": "strbuf_insert",
          "old_text": null,
          "new_text": "strbuf_insert(buf, inspos++, \" \", 1)",
          "old_line_content": "\t\tcopypos += len;",
          "new_line_content": "\t\tstrbuf_insert(buf, inspos++, \" \", 1);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "strbuf_insert",
          "old_text": null,
          "new_text": "strbuf_insert(buf, inspos, bol, len)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstrbuf_insert(buf, inspos, bol, len);",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "strchrnul",
          "old_text": null,
          "new_text": "strchrnul(line, '\\n')",
          "old_line_content": "\t\t\treturn NULL;",
          "new_line_content": "\t\tconst char *eol = strchrnul(line, '\\n');",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&sig)",
          "old_line_content": "",
          "new_line_content": "\tstrbuf_release(&sig);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(line, key, key_len)",
          "old_line_content": "\t\t\treturn line + key_len + 1;",
          "new_line_content": "\t\t    !strncmp(line, key, key_len) &&",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "get_commit_buffer",
          "old_text": null,
          "new_text": "get_commit_buffer(commit, &size)",
          "old_line_content": "",
          "new_line_content": "\tconst char *buffer = get_commit_buffer(commit, &size);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(line, '\\n', tail - line)",
          "old_line_content": "\t\tif (in_signature && line[0] == ' ')",
          "new_line_content": "\t\tconst char *next = memchr(line, '\\n', tail - line);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(line, gpg_sig_header)",
          "old_line_content": "\t\tif (sig) {",
          "new_line_content": "\t\telse if (starts_with(line, gpg_sig_header) &&",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(signature, sig, next - sig)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tstrbuf_add(signature, sig, next - sig);",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(buf + bol, '\\n', len - bol)",
          "old_line_content": "\t\t\tnext_line = buf + len;",
          "new_line_content": "\t\tconst char *next_line = memchr(buf + bol, '\\n', len - bol);",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(payload, line, next - line)",
          "old_line_content": "\t\tline = next;",
          "new_line_content": "\t\t\tstrbuf_add(payload, line, next - line);",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "unuse_commit_buffer",
          "old_text": null,
          "new_text": "unuse_commit_buffer(commit, buffer)",
          "old_line_content": "",
          "new_line_content": "\tunuse_commit_buffer(commit, buffer);",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(buf + bol, \"Conflicts:\\n\")",
          "old_line_content": "\t\t\t\tboc = bol;",
          "new_line_content": "\t\t} else if (starts_with(buf + bol, \"Conflicts:\\n\")) {",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(line, '\\n', tail - line)",
          "old_line_content": "\t\tif (in_signature && line[0] == ' ')",
          "new_line_content": "\t\tconst char *next = memchr(line, '\\n', tail - line);",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": null,
          "new_api": "starts_with",
          "old_text": null,
          "new_text": "starts_with(line, gpg_sig_header)",
          "old_line_content": "\t\t\tsig_end = next;",
          "new_line_content": "\t\telse if (starts_with(line, gpg_sig_header) &&",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "strbuf_remove",
          "old_text": null,
          "new_text": "strbuf_remove(buf, sig_start - buf->buf, sig_end - sig_start)",
          "old_line_content": "}",
          "new_line_content": "\t\tstrbuf_remove(buf, sig_start - buf->buf, sig_end - sig_start);",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": null,
          "new_api": "parse_signature",
          "old_text": null,
          "new_text": "parse_signature(buf, size)",
          "old_line_content": "\t/*",
          "new_line_content": "\tlen = parse_signature(buf, size);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, sizeof(*mergetag))",
          "old_line_content": "\tmergetag->len = size;",
          "new_line_content": "\tmergetag = xcalloc(1, sizeof(*mergetag));",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "xstrdup",
          "old_text": null,
          "new_text": "xstrdup(\"mergetag\")",
          "old_line_content": "",
          "new_line_content": "\tmergetag->key = xstrdup(\"mergetag\");",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(buf)",
          "old_line_content": "int check_commit_signature(const struct commit *commit, struct signature_check *sigc)",
          "new_line_content": "\tfree(buf);",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "parse_signed_commit",
          "old_text": null,
          "new_text": "parse_signed_commit(commit, &payload, &signature)",
          "old_line_content": "\t\tsignature.len, sigc);",
          "new_line_content": "\tif (parse_signed_commit(commit, &payload, &signature) <= 0)",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "check_signature",
          "old_text": null,
          "new_text": "check_signature(payload.buf, payload.len, signature.buf,\n\t\tsignature.len, sigc)",
          "old_line_content": " out:",
          "new_line_content": "\tret = check_signature(payload.buf, payload.len, signature.buf,",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&payload)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tstrbuf_release(&payload);",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "strbuf_release",
          "old_text": null,
          "new_text": "strbuf_release(&signature)",
          "old_line_content": "}",
          "new_line_content": "\tstrbuf_release(&signature);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "handle_signed_tag",
          "old_text": null,
          "new_text": "handle_signed_tag(parent, tail)",
          "old_line_content": "}",
          "new_line_content": "\t\thandle_signed_tag(parent, tail);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "prio_queue_put",
          "old_text": null,
          "new_text": "prio_queue_put(&queue, one)",
          "old_line_content": "\t\ttwos[i]->object.flags |= PARENT2;",
          "new_line_content": "\tprio_queue_put(&queue, one);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "strbuf_addstr",
          "old_text": null,
          "new_text": "strbuf_addstr(buffer, extra->key)",
          "old_line_content": "\telse",
          "new_line_content": "\tstrbuf_addstr(buffer, extra->key);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "strbuf_add_lines",
          "old_text": null,
          "new_text": "strbuf_add_lines(buffer, \" \", extra->value, extra->len)",
          "old_line_content": "}",
          "new_line_content": "\t\tstrbuf_add_lines(buffer, \" \", extra->value, extra->len);",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": null,
          "new_api": "strbuf_addch",
          "old_text": null,
          "new_text": "strbuf_addch(buffer, '\\n')",
          "old_line_content": "struct commit_extra_header *read_commit_extra_headers(struct commit *commit,",
          "new_line_content": "\t\tstrbuf_addch(buffer, '\\n');",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "queue_has_nonstale",
          "old_text": null,
          "new_text": "queue_has_nonstale(&queue)",
          "old_line_content": "\t\tint flags;",
          "new_line_content": "\twhile (queue_has_nonstale(&queue)) {",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "prio_queue_get",
          "old_text": null,
          "new_text": "prio_queue_get(&queue)",
          "old_line_content": "",
          "new_line_content": "\t\tstruct commit *commit = prio_queue_get(&queue);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "get_commit_buffer",
          "old_text": null,
          "new_text": "get_commit_buffer(commit, &size)",
          "old_line_content": "\treturn extra;",
          "new_line_content": "\tconst char *buffer = get_commit_buffer(commit, &size);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "BUG",
          "old_text": null,
          "new_text": "BUG(\"bad generation skip %8x > %8x at %s\",\n\t\t\t    commit->generation, last_gen,\n\t\t\t    oid_to_hex(&commit->object.oid))",
          "old_line_content": "\t\tlast_gen = commit->generation;",
          "new_line_content": "\t\t\tBUG(\"bad generation skip %8x > %8x at %s\",",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "read_commit_extra_header_lines",
          "old_text": null,
          "new_text": "read_commit_extra_header_lines(buffer, size, exclude)",
          "old_line_content": "}",
          "new_line_content": "\textra = read_commit_extra_header_lines(buffer, size, exclude);",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "oid_to_hex",
          "old_text": null,
          "new_text": "oid_to_hex(&commit->object.oid)",
          "old_line_content": "\t\tif (commit->generation < min_generation)",
          "new_line_content": "\t\t\t    oid_to_hex(&commit->object.oid));",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "unuse_commit_buffer",
          "old_text": null,
          "new_text": "unuse_commit_buffer(commit, buffer)",
          "old_line_content": "",
          "new_line_content": "\tunuse_commit_buffer(commit, buffer);",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "read_commit_extra_headers",
          "old_text": null,
          "new_text": "read_commit_extra_headers(commit, NULL)",
          "old_line_content": "\t\t\tcontinue; /* not a merge tag */",
          "new_line_content": "\tto_free = read_commit_extra_headers(commit, NULL);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(extra->key, \"mergetag\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (strcmp(extra->key, \"mergetag\"))",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "commit_list_insert_by_date",
          "old_text": null,
          "new_text": "commit_list_insert_by_date(commit, &result)",
          "old_line_content": "\t\t\tflags |= STALE;",
          "new_line_content": "\t\t\t\tcommit_list_insert_by_date(commit, &result);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "fn(commit, extra, data)",
          "old_line_content": "}",
          "new_line_content": "\t\tfn(commit, extra, data);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "free_commit_extra_headers",
          "old_text": null,
          "new_text": "free_commit_extra_headers(to_free)",
          "old_line_content": "static inline int standard_header_field(const char *field, size_t len)",
          "new_line_content": "\tfree_commit_extra_headers(to_free);",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(field, \"author\", 6)",
          "old_line_content": "}",
          "new_line_content": "\t\t(len == 6 && !memcmp(field, \"author\", 6)) ||",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(field, \"committer\", 9)",
          "old_line_content": "",
          "new_line_content": "\t\t(len == 9 && !memcmp(field, \"committer\", 9)) ||",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(field, \"encoding\", 8)",
          "old_line_content": "static int excluded_header_field(const char *field, size_t len, const char **exclude)",
          "new_line_content": "\t\t(len == 8 && !memcmp(field, \"encoding\", 8)));",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": null,
          "new_api": "prio_queue_put",
          "old_text": null,
          "new_text": "prio_queue_put(&queue, p)",
          "old_line_content": "",
          "new_line_content": "\t\t\tprio_queue_put(&queue, p);",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "clear_prio_queue",
          "old_text": null,
          "new_text": "clear_prio_queue(&queue)",
          "old_line_content": "",
          "new_line_content": "\tclear_prio_queue(&queue);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(*exclude)",
          "old_line_content": "\t\texclude++;",
          "new_line_content": "\t\tsize_t xlen = strlen(*exclude);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(field, *exclude, xlen)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (len == xlen && !memcmp(field, *exclude, xlen))",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(twos[i])",
          "old_line_content": "",
          "new_line_content": "\t\tif (parse_commit(twos[i]))",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "memchr",
          "old_text": null,
          "new_text": "memchr(line, '\\n', eob - line)",
          "old_line_content": "\t\t\t/* continuation */",
          "new_line_content": "\t\tnext = memchr(line, '\\n', eob - line);",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "strbuf_add",
          "old_text": null,
          "new_text": "strbuf_add(&buf, line + 1, next - (line + 1))",
          "old_line_content": "\t\tif (it)",
          "new_line_content": "\t\t\t\tstrbuf_add(&buf, line + 1, next - (line + 1));",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "pop_commit",
          "old_text": null,
          "new_text": "pop_commit(&list)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tstruct commit *commit = pop_commit(&list);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "commit_list_insert_by_date",
          "old_text": null,
          "new_text": "commit_list_insert_by_date(commit, &result)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tcommit_list_insert_by_date(commit, &result);",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&buf, &it->len)",
          "old_line_content": "",
          "new_line_content": "\t\t\tit->value = strbuf_detach(&buf, &it->len);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "standard_header_field",
          "old_text": null,
          "new_text": "standard_header_field(line, eof - line)",
          "old_line_content": "",
          "new_line_content": "\t\telse if (standard_header_field(line, eof - line) ||",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(1, sizeof(*it))",
          "old_line_content": "\t\ttail = &it->next;",
          "new_line_content": "\t\tit = xcalloc(1, sizeof(*it));",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "commit_list_insert",
          "old_text": null,
          "new_text": "commit_list_insert(in->item, &ret)",
          "old_line_content": "\t\tstruct commit_list *new_commits = NULL, *end = NULL;",
          "new_line_content": "\tcommit_list_insert(in->item, &ret);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": null,
          "new_api": "xmemdupz",
          "old_text": null,
          "new_text": "xmemdupz(line, eof-line)",
          "old_line_content": "\t\tif (eof + 1 < next)",
          "new_line_content": "\t\tit->key = xmemdupz(line, eof-line);",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "get_merge_bases",
          "old_text": null,
          "new_text": "get_merge_bases(i->item, j->item)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\tbases = get_merge_bases(i->item, j->item);",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "strbuf_detach",
          "old_text": null,
          "new_text": "strbuf_detach(&buf, &it->len)",
          "old_line_content": "",
          "new_line_content": "\t\tit->value = strbuf_detach(&buf, &it->len);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(extra->key)",
          "old_line_content": "\t\textra = next;",
          "new_line_content": "\t\tfree(extra->key);",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(extra->value)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfree(extra->value);",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(extra)",
          "old_line_content": "}",
          "new_line_content": "\t\tfree(extra);",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "commit_tree_extended",
          "old_text": null,
          "new_text": "commit_tree_extended(msg, msg_len, tree, parents, ret,\n\t\t\t\t      author, sign_commit, extra)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\tresult = commit_tree_extended(msg, msg_len, tree, parents, ret,",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": null,
          "new_api": "free_commit_extra_headers",
          "old_text": null,
          "new_text": "free_commit_extra_headers(extra)",
          "old_line_content": "",
          "new_line_content": "\tfree_commit_extra_headers(extra);",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(cnt, sizeof(*work))",
          "old_line_content": "",
          "new_line_content": "\twork = xcalloc(cnt, sizeof(*work));",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "xcalloc",
          "old_text": null,
          "new_text": "xcalloc(cnt, 1)",
          "old_line_content": "\tfor (i = 0; i < cnt; i++)",
          "new_line_content": "\tredundant = xcalloc(cnt, 1);",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "parse_commit",
          "old_text": null,
          "new_text": "parse_commit(array[i])",
          "old_line_content": "\t\tuint32_t min_generation = array[i]->generation;",
          "new_line_content": "\t\tparse_commit(array[i]);",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "paint_down_to_common",
          "old_text": null,
          "new_text": "paint_down_to_common(array[i], filled, work,\n\t\t\t\t\t      min_generation)",
          "old_line_content": "\t\t\tredundant[i] = 1;",
          "new_line_content": "\t\tcommon = paint_down_to_common(array[i], filled, work,",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(array[i], all_flags)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tclear_commit_marks(array[i], all_flags);",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "clear_commit_marks_many",
          "old_text": null,
          "new_text": "clear_commit_marks_many(filled, work, all_flags)",
          "old_line_content": "",
          "new_line_content": "\t\tclear_commit_marks_many(filled, work, all_flags);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "free_commit_list",
          "old_text": null,
          "new_text": "free_commit_list(common)",
          "old_line_content": "\t/* Now collect the result */",
          "new_line_content": "\t\tfree_commit_list(common);",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "COPY_ARRAY",
          "old_text": null,
          "new_text": "COPY_ARRAY(work, array, cnt)",
          "old_line_content": "\t\t\tarray[filled++] = work[i];",
          "new_line_content": "\tCOPY_ARRAY(work, array, cnt);",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(work)",
          "old_line_content": "\treturn filled;",
          "new_line_content": "\tfree(work);",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(redundant)",
          "old_line_content": "}",
          "new_line_content": "\tfree(redundant);",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(filled_index)",
          "old_line_content": "",
          "new_line_content": "\tfree(filled_index);",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "merge_bases_many",
          "old_text": null,
          "new_text": "merge_bases_many(one, n, twos)",
          "old_line_content": "\t\t\treturn result;",
          "new_line_content": "\tresult = merge_bases_many(one, n, twos);",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "clear_commit_marks",
          "old_text": null,
          "new_text": "clear_commit_marks(one, all_flags)",
          "old_line_content": "\t\treturn result;",
          "new_line_content": "\t\t\tclear_commit_marks(one, all_flags);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": null,
          "new_api": "clear_commit_marks_many",
          "old_text": null,
          "new_text": "clear_commit_marks_many(n, twos, all_flags)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tclear_commit_marks_many(n, twos, all_flags);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "commit_list_count",
          "old_text": null,
          "new_text": "commit_list_count(result)",
          "old_line_content": "\t\trslt[i++] = list->item;",
          "new_line_content": "\tcnt = commit_list_count(result);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1028,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(rslt)",
          "new_text": null,
          "old_line_content": "\tfree(rslt);",
          "new_line_content": "\tresult = NULL;",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "get_merge_bases_many_0",
          "new_api": null,
          "old_text": "get_merge_bases_many_0(one, n, twos, 1)",
          "new_text": null,
          "old_line_content": "\treturn get_merge_bases_many_0(one, n, twos, 1);",
          "new_line_content": "\t\t\t\t\t int n,",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "find_invalid_utf8",
          "new_api": null,
          "old_text": "find_invalid_utf8(buf->buf + pos, buf->len - pos)",
          "new_text": null,
          "old_line_content": "\t\tbad = find_invalid_utf8(buf->buf + pos, buf->len - pos);",
          "new_line_content": "\t\tunsigned char c;",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "get_merge_bases_many_0",
          "new_api": null,
          "old_text": "get_merge_bases_many_0(one, n, twos, 0)",
          "new_text": null,
          "old_line_content": "\treturn get_merge_bases_many_0(one, n, twos, 0);",
          "new_line_content": "\t\t\t\t\t       int n,",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "strbuf_remove",
          "new_api": null,
          "old_text": "strbuf_remove(buf, pos, 1)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_remove(buf, pos, 1);",
          "new_line_content": "\t\tpos += bad;",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "get_merge_bases_many_0",
          "new_api": null,
          "old_text": "get_merge_bases_many_0(one, 1, &two, 1)",
          "new_text": null,
          "old_line_content": "\treturn get_merge_bases_many_0(one, 1, &two, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "strbuf_insert",
          "new_api": null,
          "old_text": "strbuf_insert(buf, pos, replace, 2)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_insert(buf, pos, replace, 2);",
          "new_line_content": "\t\t/* We know 'c' must be in the range 128-255 */",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": "N_",
          "new_api": null,
          "old_text": "N_(\"Warning: commit message did not conform to UTF-8.\\n\"\n   \"You may want to amend it after fixing the message, or set the config\\n\"\n   \"variable i18n.commitencoding to the encoding your project uses.\\n\")",
          "new_text": null,
          "old_line_content": "N_(\"Warning: commit message did not conform to UTF-8.\\n\"",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "in_merge_bases",
          "new_api": null,
          "old_text": "in_merge_bases(other, commit)",
          "new_text": null,
          "old_line_content": "\t\tif (in_merge_bases(other, commit))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "assert_sha1_type",
          "new_api": null,
          "old_text": "assert_sha1_type(tree->hash, OBJ_TREE)",
          "new_text": null,
          "old_line_content": "\tassert_sha1_type(tree->hash, OBJ_TREE);",
          "new_line_content": "\tint encoding_is_utf8;",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(msg, '\\0', msg_len)",
          "new_text": null,
          "old_line_content": "\tif (memchr(msg, '\\0', msg_len))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(commit)",
          "new_text": null,
          "old_line_content": "\tif (parse_commit(commit))",
          "new_line_content": "\tint ret = 0, i;",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "strbuf_init",
          "new_api": null,
          "old_text": "strbuf_init(&buffer, 8192)",
          "new_text": null,
          "old_line_content": "\tstrbuf_init(&buffer, 8192); /* should avoid reallocs for the headers */",
          "new_line_content": "\t/* Not having i18n.commitencoding is the same as having utf-8 */",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "pop_commit",
          "new_api": null,
          "old_text": "pop_commit(&parents)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *parent = pop_commit(&parents);",
          "new_line_content": "\t * if everything else stays the same.",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "paint_down_to_common",
          "new_api": null,
          "old_text": "paint_down_to_common(commit, nr_reference, reference, commit->generation)",
          "new_text": null,
          "old_line_content": "\tbases = paint_down_to_common(commit, nr_reference, reference, commit->generation);",
          "new_line_content": "\tif (commit->generation > min_generation)",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&buffer, \"parent %s\\n\",\n\t\t\t    oid_to_hex(&parent->object.oid))",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addf(&buffer, \"parent %s\\n\",",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&parent->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t    oid_to_hex(&parent->object.oid));",
          "new_line_content": "\twhile (parents) {",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "clear_commit_marks_many",
          "new_api": null,
          "old_text": "clear_commit_marks_many(nr_reference, reference, all_flags)",
          "new_text": null,
          "old_line_content": "\tclear_commit_marks_many(nr_reference, reference, all_flags);",
          "new_line_content": "\tif (commit->object.flags & PARENT2)",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(bases)",
          "new_text": null,
          "old_line_content": "\tfree_commit_list(bases);",
          "new_line_content": "\t\tret = 1;",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "git_author_info",
          "new_api": null,
          "old_text": "git_author_info(IDENT_STRICT)",
          "new_text": null,
          "old_line_content": "\t\tauthor = git_author_info(IDENT_STRICT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "strbuf_addf",
          "new_api": null,
          "old_text": "strbuf_addf(&buffer, \"author %s\\n\", author)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&buffer, \"author %s\\n\", author);",
          "new_line_content": "\t/* Person/date information */",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": "git_committer_info",
          "new_api": null,
          "old_text": "git_committer_info(IDENT_STRICT)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addf(&buffer, \"committer %s\\n\", git_committer_info(IDENT_STRICT));",
          "new_line_content": "\tif (!author)",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "in_merge_bases_many",
          "new_api": null,
          "old_text": "in_merge_bases_many(commit, 1, &reference)",
          "new_text": null,
          "old_line_content": "\treturn in_merge_bases_many(commit, 1, &reference);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(commit_utf8_warn)",
          "new_text": null,
          "old_line_content": "\t\tfprintf(stderr, _(commit_utf8_warn));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "write_object_file",
          "new_api": null,
          "old_text": "write_object_file(buffer.buf, buffer.len, commit_type, ret)",
          "new_text": null,
          "old_line_content": "\tresult = write_object_file(buffer.buf, buffer.len, commit_type, ret);",
          "new_line_content": "\t\tgoto out;",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&buffer)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(num_head, sizeof(*array))",
          "new_text": null,
          "old_line_content": "\tarray = xcalloc(num_head, sizeof(*array));",
          "new_line_content": "\t\tp->item->object.flags |= STALE;",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "FLEX_ALLOC_STR",
          "new_api": null,
          "old_text": "FLEX_ALLOC_STR(desc, name, name)",
          "new_text": null,
          "old_line_content": "\tFLEX_ALLOC_STR(desc, name, name);",
          "new_line_content": "\t\t\t   const char *name, struct object *obj)",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "remove_redundant",
          "new_api": null,
          "old_text": "remove_redundant(array, num_head)",
          "new_text": null,
          "old_line_content": "\tnum_head = remove_redundant(array, num_head);",
          "new_line_content": "\t\t\tp->item->object.flags &= ~STALE;",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(array[i], tail)",
          "new_text": null,
          "old_line_content": "\t\ttail = &commit_list_insert(array[i], tail)->next;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "get_oid",
          "new_api": null,
          "old_text": "get_oid(name, &oid)",
          "new_text": null,
          "old_line_content": "\tif (get_oid(name, &oid))",
          "new_line_content": "\tstruct object *obj;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "reduce_heads",
          "new_api": null,
          "old_text": "reduce_heads(*heads)",
          "new_text": null,
          "old_line_content": "\tstruct commit_list *result = reduce_heads(*heads);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(*heads)",
          "new_text": null,
          "old_line_content": "\tfree_commit_list(*heads);",
          "new_line_content": "void reduce_heads_replace(struct commit_list **heads)",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": "parse_object",
          "new_api": null,
          "old_text": "parse_object(&oid)",
          "new_text": null,
          "old_line_content": "\tobj = parse_object(&oid);",
          "new_line_content": "\tstruct object_id oid;",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr(buf->buf, \"\\n\\n\")",
          "new_text": null,
          "old_line_content": "\teoh = strstr(buf->buf, \"\\n\\n\");",
          "new_line_content": "\tconst char *eoh;",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "get_signing_key",
          "new_api": null,
          "old_text": "get_signing_key()",
          "new_text": null,
          "old_line_content": "\t\tkeyid = get_signing_key();",
          "new_line_content": "\t\tinspos = eoh - buf->buf + 1;",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "sign_buffer",
          "new_api": null,
          "old_text": "sign_buffer(buf, &sig, keyid)",
          "new_text": null,
          "old_line_content": "\tif (sign_buffer(buf, &sig, keyid)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sig)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_release(&sig);",
          "new_line_content": "\tif (!keyid || !*keyid)",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "xmalloc",
          "new_api": null,
          "old_text": "xmalloc(sizeof(struct commit_list))",
          "new_text": null,
          "old_line_content": "\tstruct commit_list *new_commit = xmalloc(sizeof(struct commit_list));",
          "new_line_content": "struct commit_list **commit_list_append(struct commit *commit,",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "strchrnul",
          "new_api": null,
          "old_text": "strchrnul(bol, '\\n')",
          "new_text": null,
          "old_line_content": "\t\tconst char *eol = strchrnul(bol, '\\n');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "strbuf_insert",
          "new_api": null,
          "old_text": "strbuf_insert(buf, inspos, gpg_sig_header, gpg_sig_header_len)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_insert(buf, inspos, gpg_sig_header, gpg_sig_header_len);",
          "new_line_content": "\t\tint len = (eol - bol) + !!*eol;",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(key)",
          "new_text": null,
          "old_line_content": "\tint key_len = strlen(key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "strbuf_insert",
          "new_api": null,
          "old_text": "strbuf_insert(buf, inspos, bol, len)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_insert(buf, inspos, bol, len);",
          "new_line_content": "\t\t\tinspos += gpg_sig_header_len;",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "strchrnul",
          "new_api": null,
          "old_text": "strchrnul(line, '\\n')",
          "new_text": null,
          "old_line_content": "\t\tconst char *eol = strchrnul(line, '\\n');",
          "new_line_content": "\tconst char *line = msg;",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&sig)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&sig);",
          "new_line_content": "\t\tinspos += len;",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(line, key, key_len)",
          "new_text": null,
          "old_line_content": "\t\t    !strncmp(line, key, key_len) &&",
          "new_line_content": "\t\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "get_commit_buffer",
          "new_api": null,
          "old_text": "get_commit_buffer(commit, &size)",
          "new_text": null,
          "old_line_content": "\tconst char *buffer = get_commit_buffer(commit, &size);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(line, '\\n', tail - line)",
          "new_text": null,
          "old_line_content": "\t\tconst char *next = memchr(line, '\\n', tail - line);",
          "new_line_content": "\tsaw_signature = 0;",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(line, gpg_sig_header)",
          "new_text": null,
          "old_line_content": "\t\telse if (starts_with(line, gpg_sig_header) &&",
          "new_line_content": "\t\tnext = next ? next + 1 : tail;",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(signature, sig, next - sig)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_add(signature, sig, next - sig);",
          "new_line_content": "\t\t\t line[gpg_sig_header_len] == ' ')",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "wt_status_locate_end",
          "new_api": null,
          "old_text": "wt_status_locate_end(buf, len)",
          "new_text": null,
          "old_line_content": "\tsize_t cutoff = wt_status_locate_end(buf, len);",
          "new_line_content": "\tint boc = 0;",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(payload, line, next - line)",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_add(payload, line, next - line);",
          "new_line_content": "\t\t\tif (*line == '\\n')",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "unuse_commit_buffer",
          "new_api": null,
          "old_text": "unuse_commit_buffer(commit, buffer)",
          "new_text": null,
          "old_line_content": "\tunuse_commit_buffer(commit, buffer);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(buf + bol, \"Conflicts:\\n\")",
          "new_text": null,
          "old_line_content": "\t\t} else if (starts_with(buf + bol, \"Conflicts:\\n\")) {",
          "new_line_content": "\t\t\tif (!boc)",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(line, '\\n', tail - line)",
          "new_text": null,
          "old_line_content": "\t\tconst char *next = memchr(line, '\\n', tail - line);",
          "new_line_content": "\tconst char *sig_end = NULL;",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "starts_with",
          "new_api": null,
          "old_text": "starts_with(line, gpg_sig_header)",
          "new_text": null,
          "old_line_content": "\t\telse if (starts_with(line, gpg_sig_header) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "strbuf_remove",
          "new_api": null,
          "old_text": "strbuf_remove(buf, sig_start - buf->buf, sig_end - sig_start)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_remove(buf, sig_start - buf->buf, sig_end - sig_start);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "merge_remote_util",
          "new_api": null,
          "old_text": "merge_remote_util(parent)",
          "new_text": null,
          "old_line_content": "\tdesc = merge_remote_util(parent);",
          "new_line_content": "\tunsigned long size, len;",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(1, sizeof(*mergetag))",
          "new_text": null,
          "old_line_content": "\tmergetag = xcalloc(1, sizeof(*mergetag));",
          "new_line_content": "\t * if (verify_signed_buffer(buf, len, buf + len, size - len, ...))",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "xstrdup",
          "new_api": null,
          "old_text": "xstrdup(\"mergetag\")",
          "new_text": null,
          "old_line_content": "\tmergetag->key = xstrdup(\"mergetag\");",
          "new_line_content": "\t *\twarn(\"warning: signed tag unverified.\");",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(buf)",
          "new_text": null,
          "old_line_content": "\tfree(buf);",
          "new_line_content": "\treturn;",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "parse_signed_commit",
          "new_api": null,
          "old_text": "parse_signed_commit(commit, &payload, &signature)",
          "new_text": null,
          "old_line_content": "\tif (parse_signed_commit(commit, &payload, &signature) <= 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "check_signature",
          "new_api": null,
          "old_text": "check_signature(payload.buf, payload.len, signature.buf,\n\t\tsignature.len, sigc)",
          "new_text": null,
          "old_line_content": "\tret = check_signature(payload.buf, payload.len, signature.buf,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&payload)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&payload);",
          "new_line_content": "\t\tsignature.len, sigc);",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "strbuf_release",
          "new_api": null,
          "old_text": "strbuf_release(&signature)",
          "new_text": null,
          "old_line_content": "\tstrbuf_release(&signature);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "handle_signed_tag",
          "new_api": null,
          "old_text": "handle_signed_tag(parent, tail)",
          "new_text": null,
          "old_line_content": "\t\thandle_signed_tag(parent, tail);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "commit_list_append",
          "new_api": null,
          "old_text": "commit_list_append(one, &result)",
          "new_text": null,
          "old_line_content": "\t\tcommit_list_append(one, &result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "strbuf_addstr",
          "new_api": null,
          "old_text": "strbuf_addstr(buffer, extra->key)",
          "new_text": null,
          "old_line_content": "\tstrbuf_addstr(buffer, extra->key);",
          "new_line_content": "static void add_extra_header(struct strbuf *buffer,",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "strbuf_add_lines",
          "new_api": null,
          "old_text": "strbuf_add_lines(buffer, \" \", extra->value, extra->len)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_add_lines(buffer, \" \", extra->value, extra->len);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "prio_queue_put",
          "new_api": null,
          "old_text": "prio_queue_put(&queue, twos[i])",
          "new_text": null,
          "old_line_content": "\t\tprio_queue_put(&queue, twos[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "strbuf_addch",
          "new_api": null,
          "old_text": "strbuf_addch(buffer, '\\n')",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_addch(buffer, '\\n');",
          "new_line_content": "\tif (extra->len)",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "prio_queue_get",
          "new_api": null,
          "old_text": "prio_queue_get(&queue)",
          "new_text": null,
          "old_line_content": "\t\tstruct commit *commit = prio_queue_get(&queue);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "get_commit_buffer",
          "new_api": null,
          "old_text": "get_commit_buffer(commit, &size)",
          "new_text": null,
          "old_line_content": "\tconst char *buffer = get_commit_buffer(commit, &size);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "BUG",
          "new_api": null,
          "old_text": "BUG(\"bad generation skip %8x > %8x at %s\",\n\t\t\t    commit->generation, last_gen,\n\t\t\t    oid_to_hex(&commit->object.oid))",
          "new_text": null,
          "old_line_content": "\t\t\tBUG(\"bad generation skip %8x > %8x at %s\",",
          "new_line_content": "\t\tint flags;",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "unuse_commit_buffer",
          "new_api": null,
          "old_text": "unuse_commit_buffer(commit, buffer)",
          "new_text": null,
          "old_line_content": "\tunuse_commit_buffer(commit, buffer);",
          "new_line_content": "\tunsigned long size;",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "read_commit_extra_header_lines",
          "new_api": null,
          "old_text": "read_commit_extra_header_lines(buffer, size, exclude)",
          "new_text": null,
          "old_line_content": "\textra = read_commit_extra_header_lines(buffer, size, exclude);",
          "new_line_content": "\tstruct commit_extra_header *extra = NULL;",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "oid_to_hex",
          "new_api": null,
          "old_text": "oid_to_hex(&commit->object.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t    oid_to_hex(&commit->object.oid));",
          "new_line_content": "\t\tif (min_generation && commit->generation > last_gen)",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "read_commit_extra_headers",
          "new_api": null,
          "old_text": "read_commit_extra_headers(commit, NULL)",
          "new_text": null,
          "old_line_content": "\tto_free = read_commit_extra_headers(commit, NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(extra->key, \"mergetag\")",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(extra->key, \"mergetag\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "commit_list_insert_by_date",
          "new_api": null,
          "old_text": "commit_list_insert_by_date(commit, &result)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcommit_list_insert_by_date(commit, &result);",
          "new_line_content": "\t\tif (flags == (PARENT1 | PARENT2)) {",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "fn",
          "new_api": null,
          "old_text": "fn(commit, extra, data)",
          "new_text": null,
          "old_line_content": "\t\tfn(commit, extra, data);",
          "new_line_content": "\tfor (extra = to_free; extra; extra = extra->next) {",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "free_commit_extra_headers",
          "new_api": null,
          "old_text": "free_commit_extra_headers(to_free)",
          "new_text": null,
          "old_line_content": "\tfree_commit_extra_headers(to_free);",
          "new_line_content": "\t\t\tcontinue; /* not a merge tag */",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(field, \"tree\", 4)",
          "new_text": null,
          "old_line_content": "\treturn ((len == 4 && !memcmp(field, \"tree\", 4)) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(field, \"parent\", 6)",
          "new_text": null,
          "old_line_content": "\t\t(len == 6 && !memcmp(field, \"parent\", 6)) ||",
          "new_line_content": "static inline int standard_header_field(const char *field, size_t len)",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(field, \"author\", 6)",
          "new_text": null,
          "old_line_content": "\t\t(len == 6 && !memcmp(field, \"author\", 6)) ||",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "parse_commit",
          "new_api": null,
          "old_text": "parse_commit(p)",
          "new_text": null,
          "old_line_content": "\t\t\tif (parse_commit(p))",
          "new_line_content": "\t\t\tparents = parents->next;",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "clear_prio_queue",
          "new_api": null,
          "old_text": "clear_prio_queue(&queue)",
          "new_text": null,
          "old_line_content": "\tclear_prio_queue(&queue);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(*exclude)",
          "new_text": null,
          "old_line_content": "\t\tsize_t xlen = strlen(*exclude);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(field, *exclude, xlen)",
          "new_text": null,
          "old_line_content": "\t\tif (len == xlen && !memcmp(field, *exclude, xlen))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(one, &result)",
          "new_text": null,
          "old_line_content": "\t\t\treturn commit_list_insert(one, &result);",
          "new_line_content": "\t\t\t * We do not mark this even with RESULT so we do not",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "memchr",
          "new_api": null,
          "old_text": "memchr(line, '\\n', eob - line)",
          "new_text": null,
          "old_line_content": "\t\tnext = memchr(line, '\\n', eob - line);",
          "new_line_content": "\tfor (line = buffer, eob = line + size;",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "paint_down_to_common",
          "new_api": null,
          "old_text": "paint_down_to_common(one, n, twos, 0)",
          "new_text": null,
          "old_line_content": "\tlist = paint_down_to_common(one, n, twos, 0);",
          "new_line_content": "\t\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(&buf, line + 1, next - (line + 1))",
          "new_text": null,
          "old_line_content": "\t\t\t\tstrbuf_add(&buf, line + 1, next - (line + 1));",
          "new_line_content": "\t\tif (*line == ' ') {",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "commit_list_insert_by_date",
          "new_api": null,
          "old_text": "commit_list_insert_by_date(commit, &result)",
          "new_text": null,
          "old_line_content": "\t\t\tcommit_list_insert_by_date(commit, &result);",
          "new_line_content": "\twhile (list) {",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "strbuf_detach",
          "new_api": null,
          "old_text": "strbuf_detach(&buf, &it->len)",
          "new_text": null,
          "old_line_content": "\t\t\tit->value = strbuf_detach(&buf, &it->len);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "strbuf_reset",
          "new_api": null,
          "old_text": "strbuf_reset(&buf)",
          "new_text": null,
          "old_line_content": "\t\tstrbuf_reset(&buf);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "excluded_header_field",
          "new_api": null,
          "old_text": "excluded_header_field(line, eof - line, exclude)",
          "new_text": null,
          "old_line_content": "\t\t\t excluded_header_field(line, eof - line, exclude))",
          "new_line_content": "\t\tif (!eof)",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "commit_list_insert",
          "new_api": null,
          "old_text": "commit_list_insert(in->item, &ret)",
          "new_text": null,
          "old_line_content": "\tcommit_list_insert(in->item, &ret);",
          "new_line_content": "\tif (!in)",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "xmemdupz",
          "new_api": null,
          "old_text": "xmemdupz(line, eof-line)",
          "new_text": null,
          "old_line_content": "\t\tit->key = xmemdupz(line, eof-line);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "strbuf_add",
          "new_api": null,
          "old_text": "strbuf_add(&buf, eof + 1, next - (eof + 1))",
          "new_text": null,
          "old_line_content": "\t\t\tstrbuf_add(&buf, eof + 1, next - (eof + 1));",
          "new_line_content": "\t\t*tail = it;",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "get_merge_bases",
          "new_api": null,
          "old_text": "get_merge_bases(i->item, j->item)",
          "new_text": null,
          "old_line_content": "\t\t\tbases = get_merge_bases(i->item, j->item);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(extra->key)",
          "new_text": null,
          "old_line_content": "\t\tfree(extra->key);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(extra->value)",
          "new_text": null,
          "old_line_content": "\t\tfree(extra->value);",
          "new_line_content": "\twhile (extra) {",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(extra)",
          "new_text": null,
          "old_line_content": "\t\tfree(extra);",
          "new_line_content": "\t\tstruct commit_extra_header *next = extra->next;",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "append_merge_tag_headers",
          "new_api": null,
          "old_text": "append_merge_tag_headers(parents, &tail)",
          "new_text": null,
          "old_line_content": "\tappend_merge_tag_headers(parents, &tail);",
          "new_line_content": "\tstruct commit_extra_header *extra = NULL, **tail = &extra;",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "commit_tree_extended",
          "new_api": null,
          "old_text": "commit_tree_extended(msg, msg_len, tree, parents, ret,\n\t\t\t\t      author, sign_commit, extra)",
          "new_text": null,
          "old_line_content": "\tresult = commit_tree_extended(msg, msg_len, tree, parents, ret,",
          "new_line_content": "\tint result;",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(cnt, sizeof(*work))",
          "new_text": null,
          "old_line_content": "\twork = xcalloc(cnt, sizeof(*work));",
          "new_line_content": "\tint *filled_index;",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(cnt, 1)",
          "new_text": null,
          "old_line_content": "\tredundant = xcalloc(cnt, 1);",
          "new_line_content": "\tint i, j, filled;",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "ALLOC_ARRAY",
          "new_api": null,
          "old_text": "ALLOC_ARRAY(filled_index, cnt - 1)",
          "new_text": null,
          "old_line_content": "\tALLOC_ARRAY(filled_index, cnt - 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "paint_down_to_common",
          "new_api": null,
          "old_text": "paint_down_to_common(array[i], filled, work,\n\t\t\t\t\t      min_generation)",
          "new_text": null,
          "old_line_content": "\t\tcommon = paint_down_to_common(array[i], filled, work,",
          "new_line_content": "\t\t\tif (array[j]->generation < min_generation)",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(array[i], all_flags)",
          "new_text": null,
          "old_line_content": "\t\tclear_commit_marks(array[i], all_flags);",
          "new_line_content": "\t\tfor (j = 0; j < filled; j++)",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "clear_commit_marks_many",
          "new_api": null,
          "old_text": "clear_commit_marks_many(filled, work, all_flags)",
          "new_text": null,
          "old_line_content": "\t\tclear_commit_marks_many(filled, work, all_flags);",
          "new_line_content": "\t\t\tif (work[j]->object.flags & PARENT1)",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "free_commit_list",
          "new_api": null,
          "old_text": "free_commit_list(common)",
          "new_text": null,
          "old_line_content": "\t\tfree_commit_list(common);",
          "new_line_content": "\t\t\t\tredundant[filled_index[j]] = 1;",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "COPY_ARRAY",
          "new_api": null,
          "old_text": "COPY_ARRAY(work, array, cnt)",
          "new_text": null,
          "old_line_content": "\tCOPY_ARRAY(work, array, cnt);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(work)",
          "new_text": null,
          "old_line_content": "\tfree(work);",
          "new_line_content": "\tfor (j = filled, i = 0; i < cnt; i++)",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(redundant)",
          "new_text": null,
          "old_line_content": "\tfree(redundant);",
          "new_line_content": "\t\tif (redundant[i])",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(filled_index)",
          "new_text": null,
          "old_line_content": "\tfree(filled_index);",
          "new_line_content": "\t\t\tarray[j++] = work[i];",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "merge_bases_many",
          "new_api": null,
          "old_text": "merge_bases_many(one, n, twos)",
          "new_text": null,
          "old_line_content": "\tresult = merge_bases_many(one, n, twos);",
          "new_line_content": "\tstruct commit_list *result;",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(one, all_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_commit_marks(one, all_flags);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "clear_commit_marks_many",
          "new_api": null,
          "old_text": "clear_commit_marks_many(n, twos, all_flags)",
          "new_text": null,
          "old_line_content": "\t\t\tclear_commit_marks_many(n, twos, all_flags);",
          "new_line_content": "\tif (!result || !result->next) {",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "commit_list_count",
          "new_api": null,
          "old_text": "commit_list_count(result)",
          "new_text": null,
          "old_line_content": "\tcnt = commit_list_count(result);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "xcalloc",
          "new_api": null,
          "old_text": "xcalloc(cnt, sizeof(*rslt))",
          "new_text": null,
          "old_line_content": "\trslt = xcalloc(cnt, sizeof(*rslt));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "clear_commit_marks",
          "new_api": null,
          "old_text": "clear_commit_marks(one, all_flags)",
          "new_text": null,
          "old_line_content": "\tclear_commit_marks(one, all_flags);",
          "new_line_content": "\t\trslt[i++] = list->item;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 30,
      "total_additions": 123,
      "total_deletions": 123,
      "total_api_changes": 276
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 276,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          821,
          820,
          837
        ]
      }
    },
    "api_calls_before": 304,
    "api_calls_after": 304,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 1,
      "total_diff_lines": 24
    }
  }
}